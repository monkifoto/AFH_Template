"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(rn,Xe,k)=>{k.d(Xe,{$:()=>Ws,A:()=>re,G:()=>Fe,K:()=>di,L:()=>Hi,N:()=>Ee,P:()=>uo,R:()=>cu,U:()=>nn,V:()=>Mi,W:()=>Cr,X:()=>Gs,Y:()=>xi,Z:()=>Hr,_:()=>ds,a:()=>Nt,a0:()=>go,a1:()=>eo,a2:()=>vs,a3:()=>_c,a4:()=>nu,a5:()=>Uo,a6:()=>Go,a7:()=>Vs,a8:()=>ua,a9:()=>ca,aA:()=>Gn,aB:()=>Qe,aC:()=>pe,aD:()=>Oc,aE:()=>gt,aF:()=>Zt,aG:()=>_d,aH:()=>wh,aI:()=>Ia,aJ:()=>lr,aN:()=>ha,aQ:()=>Zi,aa:()=>la,ab:()=>yc,ac:()=>Bo,ad:()=>Uu,ae:()=>jo,af:()=>D,ag:()=>x,ah:()=>ge,ak:()=>gr,al:()=>Sr,am:()=>sr,ap:()=>U,aq:()=>Us,as:()=>Ic,at:()=>Dc,au:()=>tn,av:()=>kr,aw:()=>ii,ax:()=>Le,ay:()=>Ca,az:()=>vd,b:()=>ro,c:()=>Ac,d:()=>rp,e:()=>Ua,f:()=>wa,g:()=>Ch,h:()=>Rc,i:()=>S,j:()=>ip,k:()=>Td,l:()=>ht,m:()=>El,p:()=>$e,r:()=>on,s:()=>te,u:()=>ao});var d=k(5861),y=k(534),z=k(9058),Ce=k(7879),_e=k(7582),Se=k(4537);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function Ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ct=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new Ce.Yd("@firebase/auth");function qe(v,...h){Dt.logLevel<=Ce.in.ERROR&&Dt.error(`Auth (${y.SDK_VERSION}): ${v}`,...h)}function Le(v,...h){throw At(v,...h)}function Qe(v,...h){return At(v,...h)}function Ze(v,h,p){const C=Object.assign(Object.assign({},Ct()),{[h]:p});return new z.LL("auth","Firebase",C).create(h,{appName:v.name})}function Ye(v){return Ze(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _t(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Le(v,"argument-error"),Ze(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(v,...h){if("string"!=typeof v){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(p,...C)}return pt.create(v,...h)}function pe(v,h,...p){if(!v)throw At(h,...p)}function Ht(v){const h="INTERNAL ASSERTION FAILED: "+v;throw qe(h),new Error(h)}function tn(v,h){v||Ht(h)}function kn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function wt(){return"http:"===kt()||"https:"===kt()}function kt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class we{constructor(h,p){this.shortDelay=h,this.longDelay=p,tn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(v,h){tn(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class be{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new we(3e4,6e4);function ve(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function Ne(v,h,p,C){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(v,h,p,C,H={}){return vt(v,H,(0,d.Z)(function*(){let ne={},Oe={};C&&("GET"===h?Oe=C:ne={body:JSON.stringify(C)});const at=(0,z.xO)(Object.assign({key:v.config.apiKey},Oe)).slice(1),Ft=yield v._getAdditionalHeaders();return Ft["Content-Type"]="application/json",v.languageCode&&(Ft["X-Firebase-Locale"]=v.languageCode),be.fetch()(_n(v,v.config.apiHost,p,at),Object.assign({method:h,headers:Ft,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function vt(v,h,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(v,h,p){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},He),h);try{const H=new Rt(v),ne=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const Oe=yield ne.json();if("needConfirmation"in Oe)throw En(v,"account-exists-with-different-credential",Oe);if(ne.ok&&!("errorMessage"in Oe))return Oe;{const at=ne.ok?Oe.errorMessage:Oe.error.message,[Ft,In]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw En(v,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Ft)throw En(v,"email-already-in-use",Oe);if("USER_DISABLED"===Ft)throw En(v,"user-disabled",Oe);const Un=C[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw Ze(v,Un,In);Le(v,Un)}}catch(H){if(H instanceof z.ZR)throw H;Le(v,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function qt(v,h,p,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(v,h,p,C,H={}){const ne=yield Ne(v,h,p,C,H);return"mfaPendingCredential"in ne&&Le(v,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function _n(v,h,p,C){const H=`${h}${p}?${C}`;return v.config.emulator?oe(v.config,H):`${v.config.apiScheme}://${H}`}function er(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Qe(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(v,h,p){const C={appName:v.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const H=Qe(v,h,C);return H.customData._tokenResponse=p,H}function On(v){return void 0!==v&&void 0!==v.getResponse}function Lt(v){return void 0!==v&&void 0!==v.enterprise}class Ot{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return er(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function en(){return(en=(0,d.Z)(function*(v){return(yield Ne(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ar(v,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(v,h){return Ne(v,"GET","/v2/recaptchaConfig",ve(v,h))})).apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rr(v,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Mr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Di(){return(Di=(0,d.Z)(function*(v,h=!1){const p=(0,z.m9)(v),C=yield p.getIdToken(h),H=Or(C);pe(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const ne="object"==typeof H.firebase?H.firebase:void 0,Oe=ne?.sign_in_provider;return{claims:H,token:C,authTime:Mr(Jt(H.auth_time)),issuedAtTime:Mr(Jt(H.iat)),expirationTime:Mr(Jt(H.exp)),signInProvider:Oe||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Jt(v){return 1e3*Number(v)}function Or(v){const[h,p,C]=v.split(".");if(void 0===h||void 0===p||void 0===C)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,z.tV)(p);return H?JSON.parse(H):(qe("Failed to decode base64 JWT payload"),null)}catch(H){return qe("Caught error parsing JWT payload as JSON",H?.toString()),null}}function $n(v){const h=Or(v);return pe(h,"internal-error"),pe(typeof h.exp<"u","internal-error"),pe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function tr(v,h){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof z.ZR&&function li({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}class Ue{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ft{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Q(v){return me.apply(this,arguments)}function me(){return(me=(0,d.Z)(function*(v){var h;const p=v.auth,C=yield v.getIdToken(),H=yield tr(v,rr(p,{idToken:C}));pe(H?.users.length,p,"internal-error");const ne=H.users[0];v._notifyReloadListener(ne);const Oe=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?mr(ne.providerUserInfo):[],at=function Tn(v,h){return[...v.filter(C=>!h.some(H=>H.providerId===C.providerId)),...h]}(v.providerData,Oe),Un=!!v.isAnonymous&&!(v.email&&ne.passwordHash||at?.length),Pr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:at,metadata:new ft(ne.createdAt,ne.lastLoginAt),isAnonymous:Un};Object.assign(v,Pr)})).apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(v){const h=(0,z.m9)(v);yield Q(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function mr(v){return v.map(h=>{var{providerId:p}=h,C=(0,_e._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Te(){return(Te=(0,d.Z)(function*(v,h){const p=yield vt(v,{},(0,d.Z)(function*(){const C=(0,z.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ne}=v.config,Oe=_n(v,H,"/v1/token",`key=${ne}`),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",be.fetch()(Oe,{method:"POST",headers:at,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v2/accounts:revokeToken",ve(v,h))})).apply(this,arguments)}class N{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){pe(h.idToken,"internal-error"),pe(typeof h.idToken<"u","internal-error"),pe(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$n(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){pe(0!==h.length,"internal-error");const p=$n(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var C=this;return(0,d.Z)(function*(){return p||!C.accessToken||C.isExpired?(pe(C.refreshToken,h,"user-token-expired"),C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,d.Z)(function*(){const{accessToken:H,refreshToken:ne,expiresIn:Oe}=yield function Yn(v,h){return Te.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(H,ne,Number(Oe))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:H,expirationTime:ne}=p,Oe=new N;return C&&(pe("string"==typeof C,"internal-error",{appName:h}),Oe.refreshToken=C),H&&(pe("string"==typeof H,"internal-error",{appName:h}),Oe.accessToken=H),ne&&(pe("number"==typeof ne,"internal-error",{appName:h}),Oe.expirationTime=ne),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new N,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function O(v,h){pe("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ue{constructor(h){var{uid:p,auth:C,stsTokenManager:H}=h,ne=(0,_e._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new ft(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const C=yield tr(p,p.stsTokenManager.getToken(p.auth,h));return pe(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function xr(v){return Di.apply(this,arguments)}(this,h)}reload(){return function dt(v){return Bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(pe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ue(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,d.Z)(function*(){let H=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),H=!0),p&&(yield Q(C)),yield C.auth._persistUserIfCurrent(C),H&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,d.Z)(function*(){if((0,y._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const p=yield h.getIdToken();return yield tr(h,function Mt(v,h){return cn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,H,ne,Oe,at,Ft,In,Un;const Pr=null!==(C=p.displayName)&&void 0!==C?C:void 0,Eo=null!==(H=p.email)&&void 0!==H?H:void 0,Ga=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,Wa=null!==(Oe=p.photoURL)&&void 0!==Oe?Oe:void 0,tc=null!==(at=p.tenantId)&&void 0!==at?at:void 0,vu=null!==(Ft=p._redirectEventId)&&void 0!==Ft?Ft:void 0,Sd=null!==(In=p.createdAt)&&void 0!==In?In:void 0,Eu=null!==(Un=p.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Iu,emailVerified:Pd,isAnonymous:Nh,providerData:wl,stsTokenManager:Rd}=p;pe(Iu&&Rd,h,"internal-error");const qa=N.fromJSON(this.name,Rd);pe("string"==typeof Iu,h,"internal-error"),O(Pr,h.name),O(Eo,h.name),pe("boolean"==typeof Pd,h,"internal-error"),pe("boolean"==typeof Nh,h,"internal-error"),O(Ga,h.name),O(Wa,h.name),O(tc,h.name),O(vu,h.name),O(Sd,h.name),O(Eu,h.name);const wu=new ue({uid:Iu,auth:h,email:Eo,emailVerified:Pd,displayName:Pr,isAnonymous:Nh,photoURL:Wa,phoneNumber:Ga,tenantId:tc,stsTokenManager:qa,createdAt:Sd,lastLoginAt:Eu});return wl&&Array.isArray(wl)&&(wu.providerData=wl.map(Cl=>Object.assign({},Cl))),vu&&(wu._redirectEventId=vu),wu}static _fromIdTokenResponse(h,p,C=!1){return(0,d.Z)(function*(){const H=new N;H.updateFromServerResponse(p);const ne=new ue({uid:p.localId,auth:h,stsTokenManager:H,isAnonymous:C});return yield Q(ne),ne})()}static _fromGetAccountInfoResponse(h,p,C){return(0,d.Z)(function*(){const H=p.users[0];pe(void 0!==H.localId,"internal-error");const ne=void 0!==H.providerUserInfo?mr(H.providerUserInfo):[],Oe=!(H.email&&H.passwordHash||ne?.length),at=new N;at.updateFromIdToken(C);const Ft=new ue({uid:H.localId,auth:h,stsTokenManager:at,isAnonymous:Oe}),In={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ne,metadata:new ft(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||ne?.length)};return Object.assign(Ft,In),Ft})()}}const Me=new Map;function gt(v){tn(v instanceof Function,"Expected a class definition");let h=Me.get(v);return h?(tn(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,Me.set(v,h),h)}const nn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,C){var H=this;return(0,d.Z)(function*(){H.storage[p]=C})()}_get(p){var C=this;return(0,d.Z)(function*(){const H=C.storage[p];return void 0===H?null:H})()}_remove(p){var C=this;return(0,d.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return v.type="NONE",v})();function Zt(v,h,p){return`firebase:${v}:${h}:${p}`}class Qt{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:H,name:ne}=this.auth;this.fullUserKey=Zt(this.userKey,H.apiKey,ne),this.fullPersistenceKey=Zt("persistence",H.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ue._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,d.Z)(function*(){if(!p.length)return new Qt(gt(nn),h,C);const H=(yield Promise.all(p.map(function(){var In=(0,d.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return In.apply(this,arguments)}}()))).filter(In=>In);let ne=H[0]||gt(nn);const Oe=Zt(C,h.config.apiKey,h.name);let at=null;for(const In of p)try{const Un=yield In._get(Oe);if(Un){const Pr=ue._fromJSON(h,Un);In!==ne&&(at=Pr),ne=In;break}}catch{}const Ft=H.filter(In=>In._shouldAllowMigration);return ne._shouldAllowMigration&&Ft.length?(ne=Ft[0],at&&(yield ne._set(Oe,at.toJSON())),yield Promise.all(p.map(function(){var In=(0,d.Z)(function*(Un){if(Un!==ne)try{yield Un._remove(Oe)}catch{}});return function(Un){return In.apply(this,arguments)}}())),new Qt(ne,h,C)):new Qt(ne,h,C)})()}}function zn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Si(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(vn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xi(h))return"Blackberry";if($i(h))return"Webos";if(ir(h))return"Safari";if((h.includes("chrome/")||Fi(h))&&!h.includes("edge/"))return"Chrome";if(ii(h))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function vn(v=(0,z.z$)()){return/firefox\//i.test(v)}function ir(v=(0,z.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Fi(v=(0,z.z$)()){return/crios\//i.test(v)}function Si(v=(0,z.z$)()){return/iemobile/i.test(v)}function ii(v=(0,z.z$)()){return/android/i.test(v)}function Xi(v=(0,z.z$)()){return/blackberry/i.test(v)}function $i(v=(0,z.z$)()){return/webos/i.test(v)}function kr(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Gn(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Et(v=(0,z.z$)()){return kr(v)||ii(v)||$i(v)||Xi(v)||/windows phone/i.test(v)||Si(v)}function Dn(v,h=[]){let p;switch(v){case"Browser":p=zn((0,z.z$)());break;case"Worker":p=`${zn((0,z.z$)())}-${v}`;break;default:p=v}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${y.SDK_VERSION}/${C}`}class pn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=ne=>new Promise((Oe,at)=>{try{Oe(h(ne))}catch(Ft){at(Ft)}});C.onAbort=p,this.queue.push(C);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,d.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const H of p.queue)yield H(h),H.onAbort&&C.push(H.onAbort)}catch(H){C.reverse();for(const ne of C)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function Ir(){return(Ir=(0,d.Z)(function*(v,h={}){return Ne(v,"GET","/v2/passwordPolicy",ve(v,h))})).apply(this,arguments)}class ui{constructor(h){var p,C,H,ne;const Oe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Oe.minPasswordLength)&&void 0!==p?p:6,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),void 0!==Oe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),void 0!==Oe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),void 0!==Oe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),void 0!==Oe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,C,H,ne,Oe,at;const Ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Ft),this.validatePasswordCharacterOptions(h,Ft),Ft.isValid&&(Ft.isValid=null===(p=Ft.meetsMinPasswordLength)||void 0===p||p),Ft.isValid&&(Ft.isValid=null===(C=Ft.meetsMaxPasswordLength)||void 0===C||C),Ft.isValid&&(Ft.isValid=null===(H=Ft.containsLowercaseLetter)||void 0===H||H),Ft.isValid&&(Ft.isValid=null===(ne=Ft.containsUppercaseLetter)||void 0===ne||ne),Ft.isValid&&(Ft.isValid=null===(Oe=Ft.containsNumericCharacter)||void 0===Oe||Oe),Ft.isValid&&(Ft.isValid=null===(at=Ft.containsNonAlphanumericCharacter)||void 0===at||at),Ft}validatePasswordLengthOptions(h,p){const C=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;C&&(p.meetsMinPasswordLength=h.length>=C),H&&(p.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,p){let C;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let H=0;H<h.length;H++)C=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(p,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,p,C,H,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class us{constructor(h,p,C,H){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ks(this),this.idTokenSubscription=new ks(this),this.beforeStateQueue=new pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=gt(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var H,ne;if(!C._deleted&&(C.persistenceManager=yield Qt.create(C,h),!C._deleted)){if(null!==(H=C._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(ne=C.currentUser)||void 0===ne?void 0:ne.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,d.Z)(function*(){try{const C=yield rr(p,{idToken:h}),H=yield ue._fromGetAccountInfoResponse(p,C,h);yield p.directlySetCurrentUser(H)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var C;if((0,y._isFirebaseServerApp)(p.app)){const at=p.app.settings.authIdToken;return at?new Promise(Ft=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(at).then(Ft,Ft))}):p.directlySetCurrentUser(null)}const H=yield p.assertedPersistence.getCurrentUser();let ne=H,Oe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const at=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Ft=ne?._redirectEventId,In=yield p.tryRedirectSignIn(h);(!at||at===Ft)&&In?.user&&(ne=In.user,Oe=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Oe)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(at){ne=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(at))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return pe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield Q(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){if((0,y._isFirebaseServerApp)(p.app))return Promise.reject(Ye(p));const C=h?(0,z.m9)(h):null;return C&&pe(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,d.Z)(function*(){if(!C._deleted)return h&&pe(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,d.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(0,y._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,y._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(gt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,d.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const C=p._getPasswordPolicyInternal();return C.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.Z)(function*(){const p=yield function bn(v){return Ir.apply(this,arguments)}(h),C=new ui(p);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new z.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,d.Z)(function*(){if(p.currentUser){const C=yield p.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=p.tenantId&&(H.tenantId=p.tenantId),yield function J(v,h){return V.apply(this,arguments)}(p,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,d.Z)(function*(){const H=yield C.getOrInitRedirectPersistenceManager(p);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&gt(h)||p._popupRedirectResolver;pe(C,p,"argument-error"),p.redirectPersistenceManager=yield Qt.create(p,[gt(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var C,H;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,H){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let Oe=!1;const at=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(at,this,"internal-error"),at.then(()=>{Oe||ne(this.currentUser)}),"function"==typeof p){const Ft=h.addObserver(p,C,H);return()=>{Oe=!0,Ft()}}{const Ft=h.addObserver(p);return()=>{Oe=!0,Ft()}}}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(C["X-Firebase-Client"]=H);const ne=yield h._getAppCheckToken();return ne&&(C["X-Firebase-AppCheck"]=ne),C})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function an(v,...h){Dt.logLevel<=Ce.in.WARN&&Dt.warn(`Auth (${y.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function lr(v){return(0,z.m9)(v)}class ks{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,z.ne)(p=>this.observer=p)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let si={loadJS:()=>(0,d.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zr(v){return si.loadJS(v)}function mi(v){return`__${v}${Math.floor(1e6*Math.random())}`}class _r{constructor(h){this.type="recaptcha-enterprise",this.auth=lr(h)}verify(h="verify",p=!1){var C=this;return(0,d.Z)(function*(){function ne(){return ne=(0,d.Z)(function*(at){if(!p){if(null==at.tenantId&&null!=at._agentRecaptchaConfig)return at._agentRecaptchaConfig.siteKey;if(null!=at.tenantId&&void 0!==at._tenantRecaptchaConfigs[at.tenantId])return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(function(){var Ft=(0,d.Z)(function*(In,Un){ar(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const Eo=new Ot(Pr);return null==at.tenantId?at._agentRecaptchaConfig=Eo:at._tenantRecaptchaConfigs[at.tenantId]=Eo,In(Eo.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{Un(Pr)})});return function(In,Un){return Ft.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Oe(at,Ft,In){const Un=window.grecaptcha;Lt(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(at,{action:h}).then(Pr=>{Ft(Pr)}).catch(()=>{Ft("NO_RECAPTCHA")})}):In(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,Ft)=>{(function H(at){return ne.apply(this,arguments)})(C.auth).then(In=>{if(!p&&Lt(window.grecaptcha))Oe(In,at,Ft);else{if(typeof window>"u")return void Ft(new Error("RecaptchaVerifier is only supported in browser"));let Un=function es(){return si.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=In),zr(Un).then(()=>{Oe(In,at,Ft)}).catch(Pr=>{Ft(Pr)})}}).catch(In=>{Ft(In)})})})()}}function yr(v,h,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(v,h,p,C=!1){const H=new _r(v);let ne;try{ne=yield H.verify(p)}catch{ne=yield H.verify(p,!0)}const Oe=Object.assign({},h);return Object.assign(Oe,C?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}function Pi(v,h,p,C){return _i.apply(this,arguments)}function _i(){return _i=(0,d.Z)(function*(v,h,p,C){var H;if(null!==(H=v._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield yr(v,h,p,"getOobCode"===p);return C(v,ne)}return C(v,h).catch(function(){var ne=(0,d.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const at=yield yr(v,h,p,"getOobCode"===p);return C(v,at)}return Promise.reject(Oe)});return function(Oe){return ne.apply(this,arguments)}}())}),_i.apply(this,arguments)}function di(v,h,p){const C=lr(v);pe(C._canInitEmulator,C,"emulator-config-failed"),pe(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const H=!!p?.disableWarnings,ne=Zn(h),{host:Oe,port:at}=function hi(v){const h=Zn(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(C);if(H){const ne=H[1];return{host:ne,port:cs(C.substr(ne.length+1))}}{const[ne,Oe]=C.split(":");return{host:ne,port:cs(Oe)}}}(h);C.config.emulator={url:`${ne}//${Oe}${null===at?"":`:${at}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Oe,port:at,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function zs(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Zn(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function cs(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Hi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ht("not implemented")}_getIdTokenResponse(h){return Ht("not implemented")}_linkToIdToken(h,p){return Ht("not implemented")}_getReauthenticationResolver(h){return Ht("not implemented")}}function Ss(v,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:resetPassword",ve(v,h))})).apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ri(v,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:update",ve(v,h))})).apply(this,arguments)}function Rs(v,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPassword",ve(v,h))})).apply(this,arguments)}function Gi(v,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:sendOobCode",ve(v,h))})).apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function Qn(v,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function Ms(v,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(v,h){return Gi(v,h)})).apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",ve(v,h))})).apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithEmailLink",ve(v,h))})).apply(this,arguments)}class Kr extends Hi{constructor(h,p,C,H=null){super("password",C),this._email=h,this._password=p,this._tenantId=H}static _fromEmailAndPassword(h,p){return new Kr(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new Kr(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return Pi(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rs);case"emailLink":return function qi(v,h){return ls.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Le(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Pi(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ri);case"emailLink":return function xn(v,h){return ts.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:Le(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function q(v,h){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithIdp",ve(v,h))})).apply(this,arguments)}class Ee extends Hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ee(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Le("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H}=p,ne=(0,_e._T)(p,["providerId","signInMethod"]);if(!C||!H)return null;const Oe=new Ee(C,H);return Oe.idToken=ne.idToken||void 0,Oe.accessToken=ne.accessToken||void 0,Oe.secret=ne.secret,Oe.nonce=ne.nonce,Oe.pendingToken=ne.pendingToken||null,Oe}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const C=this.buildRequest();return C.idToken=p,q(h,C)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,z.xO)(p)}return h}}function mt(){return(mt=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:sendVerificationCode",ve(v,h))})).apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,h))})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(v,h){const p=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,h));if(p.temporaryProof)throw En(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function Yr(){return(Yr=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",ve(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class $r extends Hi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new $r({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new $r({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Gt(v,h){return dn.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function St(v,h){return un.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Cn(v,h){return Yr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:C,verificationCode:H}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:C,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:C,phoneNumber:H,temporaryProof:ne}=h;return C||p||H||ne?new $r({verificationId:p,verificationCode:C,phoneNumber:H,temporaryProof:ne}):null}}class Fr{constructor(h){var p,C,H,ne,Oe,at;const Ft=(0,z.zd)((0,z.pd)(h)),In=null!==(p=Ft.apiKey)&&void 0!==p?p:null,Un=null!==(C=Ft.oobCode)&&void 0!==C?C:null,Pr=function Qr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Ft.mode)&&void 0!==H?H:null);pe(In&&Un&&Pr,"argument-error"),this.apiKey=In,this.operation=Pr,this.code=Un,this.continueUrl=null!==(ne=Ft.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Oe=Ft.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(at=Ft.tenantId)&&void 0!==at?at:null}static parseLink(h){const p=function Wr(v){const h=(0,z.zd)((0,z.pd)(v)).link,p=h?(0,z.zd)((0,z.pd)(h)).deep_link_id:null,C=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(C?(0,z.zd)((0,z.pd)(C)).link:null)||C||p||h||v}(h);try{return new Fr(p)}catch{return null}}}let Mi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,C){return Kr._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const H=Fr.parseLink(C);return pe(H,"argument-error"),Kr._fromEmailAndCode(p,H.code,H.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Jn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class oi extends Jn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Hr extends oi{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return pe("providerId"in p&&"signInMethod"in p,"argument-error"),Ee._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return pe(h.idToken||h.accessToken,"argument-error"),Ee._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Hr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Hr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:H,pendingToken:ne,nonce:Oe,providerId:at}=h;if(!C&&!H&&!p&&!ne||!at)return null;try{return new Hr(at)._credential({idToken:p,accessToken:C,nonce:Oe,pendingToken:ne})}catch{return null}}}let Cr=(()=>{class v extends oi{constructor(){super("facebook.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Gs=(()=>{class v extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:H}=p;if(!C&&!H)return null;try{return v.credential(C,H)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),xi=(()=>{class v extends oi{constructor(){super("github.com")}static credential(p){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zi extends Hi{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return q(h,this.buildRequest())}_linkToIdToken(h,p){const C=this.buildRequest();return C.idToken=p,q(h,C)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,q(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H,pendingToken:ne}=p;return C&&H&&ne&&C===H?new Zi(C,ne):null}static _create(h,p){return new Zi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends Jn{constructor(h){pe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ds.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ds.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Zi.fromJSON(h);return pe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:C}=h;if(!p||!C)return null;try{return Zi._create(C,p)}catch{return null}}}let Ws=(()=>{class v extends oi{constructor(){super("twitter.com")}static credential(p,C){return Ee._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:H}=p;if(!C||!H)return null;try{return v.credential(C,H)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function sa(v,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signUp",ve(v,h))})).apply(this,arguments)}class Ei{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,H=!1){return(0,d.Z)(function*(){const ne=yield ue._fromIdTokenResponse(h,C,H),Oe=po(C);return new Ei({user:ne,providerId:Oe,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const H=po(C);return new Ei({user:h,providerId:H,_tokenResponse:C,operationType:p})})()}}function po(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function go(v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(v){var h;if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Ei({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield sa(p,{returnSecureToken:!0}),H=yield Ei._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class Dr extends z.ZR{constructor(h,p,C,H){var ne;super(p.code,p.message),this.operationType=C,this.user=H,Object.setPrototypeOf(this,Dr.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,H){return new Dr(h,p,C,H)}}function bo(v,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Dr._fromErrorAndOperation(v,ne,h,C):ne})}function oa(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function U(v,h){return G.apply(this,arguments)}function G(){return G=(0,d.Z)(function*(v,h){const p=(0,z.m9)(v);yield Pe(!0,p,h);const{providerUserInfo:C}=yield function wn(v,h){return gn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),H=oa(C||[]);return p.providerData=p.providerData.filter(ne=>H.has(ne.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),G.apply(this,arguments)}function P(v,h){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(v,h,p=!1){const C=yield tr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return Ei._forOperation(v,"link",C)})).apply(this,arguments)}function Pe(v,h,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(v,h,p){yield Q(h);const H=!1===v?"provider-already-linked":"no-such-provider";pe(oa(h.providerData).has(p)===v,h.auth,H)})).apply(this,arguments)}function Nn(v,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(v,h,p=!1){const{auth:C}=v;if((0,y._isFirebaseServerApp)(C.app))return Promise.reject(Ye(C));const H="reauthenticate";try{const ne=yield tr(v,bo(C,H,h,v),p);pe(ne.idToken,C,"internal-error");const Oe=Or(ne.idToken);pe(Oe,C,"internal-error");const{sub:at}=Oe;return pe(v.uid===at,C,"user-mismatch"),Ei._forOperation(v,H,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Le(C,"user-mismatch"),ne}})).apply(this,arguments)}function ns(v,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C="signIn",H=yield bo(v,C,h),ne=yield Ei._fromIdTokenResponse(v,C,H);return p||(yield v._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function eo(v,h){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(v,h){return ns(lr(v),h)})).apply(this,arguments)}function vs(v,h){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(v,h){const p=(0,z.m9)(v);return yield Pe(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function _c(v,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(v,h){return Nn((0,z.m9)(v),h)})).apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(v,h){return qt(v,"POST","/v1/accounts:signInWithCustomToken",ve(v,h))})).apply(this,arguments)}function nu(v,h){return Es.apply(this,arguments)}function Es(){return Es=(0,d.Z)(function*(v,h){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const p=lr(v),C=yield function Vo(v,h){return ki.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),H=yield Ei._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(H.user),H}),Es.apply(this,arguments)}class Ao{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Is._fromServerResponse(h,p):"totpInfo"in p?mo._fromServerResponse(h,p):Le(h,"internal-error")}}class Is extends Ao{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Is(p)}}class mo extends Ao{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new mo(p)}}function Ls(v,h,p){var C;pe((null===(C=p.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),pe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(pe(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(pe(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Wn(v){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(v){const h=lr(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Uo(v,h,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(v,h,p){const C=lr(v),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&Ls(C,H,p),yield Pi(C,H,"getOobCode",Qn)})).apply(this,arguments)}function Go(v,h,p){return So.apply(this,arguments)}function So(){return So=(0,d.Z)(function*(v,h,p){yield Ss((0,z.m9)(v),{oobCode:h,newPassword:p}).catch(function(){var C=(0,d.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Wn(v),H});return function(H){return C.apply(this,arguments)}}())}),So.apply(this,arguments)}function Vs(v,h){return to.apply(this,arguments)}function to(){return to=(0,d.Z)(function*(v,h){yield function Ps(v,h){return zi.apply(this,arguments)}((0,z.m9)(v),{oobCode:h})}),to.apply(this,arguments)}function ua(v,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(v,h){const p=(0,z.m9)(v),C=yield Ss(p,{oobCode:h}),H=C.requestType;switch(pe(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(C.mfaInfo,p,"internal-error");default:pe(C.email,p,"internal-error")}let ne=null;return C.mfaInfo&&(ne=Ao._fromServerResponse(lr(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ne},operation:H}})).apply(this,arguments)}function ca(v,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(v,h){const{data:p}=yield ua((0,z.m9)(v),h);return p.email})).apply(this,arguments)}function la(v,h,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C=lr(v),Oe=yield Pi(C,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sa).catch(Ft=>{throw"auth/password-does-not-meet-requirements"===Ft.code&&Wn(v),Ft}),at=yield Ei._fromIdTokenResponse(C,"signIn",Oe);return yield C._updateCurrentUser(at.user),at})).apply(this,arguments)}function yc(v,h,p){return(0,y._isFirebaseServerApp)(v.app)?Promise.reject(Ye(v)):eo((0,z.m9)(v),Mi.credential(h,p)).catch(function(){var C=(0,d.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Wn(v),H});return function(H){return C.apply(this,arguments)}}())}function Bo(v,h,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(v,h,p){const C=lr(v),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(Oe,at){pe(at.handleCodeInApp,C,"argument-error"),at&&Ls(C,Oe,at)})(H,p),yield Pi(C,H,"getOobCode",Ms)})).apply(this,arguments)}function Uu(v,h){const p=Fr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function jo(v,h,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C=(0,z.m9)(v),H=Mi.credentialWithLink(h,p||kn());return pe(H._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),eo(C,H)})).apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:createAuthUri",ve(v,h))})).apply(this,arguments)}function D(v,h){return Z.apply(this,arguments)}function Z(){return Z=(0,d.Z)(function*(v,h){const C={identifier:h,continueUri:wt()?kn():"http://localhost"},{signinMethods:H}=yield function iu(v,h){return Xr.apply(this,arguments)}((0,z.m9)(v),C);return H||[]}),Z.apply(this,arguments)}function x(v,h){return W.apply(this,arguments)}function W(){return W=(0,d.Z)(function*(v,h){const p=(0,z.m9)(v),H={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&Ls(p.auth,H,h);const{email:ne}=yield function Yt(v,h){return Vn.apply(this,arguments)}(p.auth,H);ne!==v.email&&(yield v.reload())}),W.apply(this,arguments)}function ge(v,h,p){return ct.apply(this,arguments)}function ct(){return ct=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&Ls(C.auth,ne,p);const{email:Oe}=yield function Wi(v,h){return vr.apply(this,arguments)}(C.auth,ne);Oe!==v.email&&(yield v.reload())}),ct.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(v,h){return Ne(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(v,h){return br.apply(this,arguments)}function br(){return br=(0,d.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const C=(0,z.m9)(v),ne={idToken:yield C.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Oe=yield tr(C,function bt(v,h){return mn.apply(this,arguments)}(C.auth,ne));C.displayName=Oe.displayName||null,C.photoURL=Oe.photoUrl||null;const at=C.providerData.find(({providerId:Ft})=>"password"===Ft);at&&(at.displayName=C.displayName,at.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Oe)}),br.apply(this,arguments)}function Sr(v,h){const p=(0,z.m9)(v);return(0,y._isFirebaseServerApp)(p.auth.app)?Promise.reject(Ye(p.auth)):qr(p,h,null)}function sr(v,h){return qr((0,z.m9)(v),null,h)}function qr(v,h,p){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,d.Z)(function*(v,h,p){const{auth:C}=v,ne={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const Oe=yield tr(v,function jr(v,h){return Zr.apply(this,arguments)}(C,ne));yield v._updateTokensIfNecessary(Oe,!0)}),Vr.apply(this,arguments)}class Ki{constructor(h,p,C={}){this.isNewUser=h,this.providerId=p,this.profile=C}}class ps extends Ki{constructor(h,p,C,H){super(h,p,C),this.username=H}}class Ro extends Ki{constructor(h,p){super(h,"facebook.com",p)}}class ws extends ps{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ei extends Ki{constructor(h,p){super(h,"google.com",p)}}class Hn extends ps{constructor(h,p,C){super(h,"twitter.com",p,C)}}function Us(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function fi(v){var h,p;if(!v)return null;const{providerId:C}=v,H=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ne=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const Oe=null===(p=null===(h=Or(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Oe)return new Ki(ne,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!C)return null;switch(C){case"facebook.com":return new Ro(ne,H);case"github.com":return new ws(ne,H);case"google.com":return new ei(ne,H);case"twitter.com":return new Hn(ne,H,v.screenName||null);case"custom":case"anonymous":return new Ki(ne,null);default:return new Ki(ne,C,H)}}(p)}class xo{constructor(h,p,C){this.type=h,this.credential=p,this.user=C}static _fromIdtoken(h,p){return new xo("enroll",h,p)}static _fromMfaPendingCredential(h){return new xo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,C;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return xo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return xo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class au{constructor(h,p,C){this.session=h,this.hints=p,this.signInResolver=C}static _fromError(h,p){const C=lr(h),H=p.customData._serverResponse,ne=(H.mfaInfo||[]).map(at=>Ao._fromServerResponse(C,at));pe(H.mfaPendingCredential,C,"internal-error");const Oe=xo._fromMfaPendingCredential(H.mfaPendingCredential);return new au(Oe,ne,function(){var at=(0,d.Z)(function*(Ft){const In=yield Ft._process(C,Oe);delete H.mfaInfo,delete H.mfaPendingCredential;const Un=Object.assign(Object.assign({},H),{idToken:In.idToken,refreshToken:In.refreshToken});switch(p.operationType){case"signIn":const Pr=yield Ei._fromIdTokenResponse(C,p.operationType,Un);return yield C._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return pe(p.user,C,"internal-error"),Ei._forOperation(p.user,p.operationType,Un);default:Le(C,"internal-error")}});return function(Ft){return at.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,d.Z)(function*(){return p.signInResolver(h)})()}}function Ic(v,h){var p;const C=(0,z.m9)(v),H=h;return pe(h.customData.operationType,C,"argument-error"),pe(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),au._fromError(C,H)}class xa{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>Ao._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new xa(h)}getSession(){var h=this;return(0,d.Z)(function*(){return xo._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var C=this;return(0,d.Z)(function*(){const H=h,ne=yield C.getSession(),Oe=yield tr(C.user,H._process(C.user.auth,ne,p));return yield C.user._updateTokensIfNecessary(Oe),C.user.reload()})()}unenroll(h){var p=this;return(0,d.Z)(function*(){const C="string"==typeof h?h:h.uid,H=yield p.user.getIdToken();try{const ne=yield tr(p.user,function dl(v,h){return Ne(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(v,h))}(p.user.auth,{idToken:H,mfaEnrollmentId:C}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Oe})=>Oe!==C),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const gs=new WeakMap;function Dc(v){const h=(0,z.m9)(v);return gs.has(h)||gs.set(h,xa._fromUser(h)),gs.get(h)}const ju="__sak";class bi{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ro=(()=>{class v extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ko(){const v=(0,z.z$)();return ir(v)||kr(v)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Et(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const H=this.storage.getItem(C),ne=this.localCache[C];H!==ne&&p(C,ne,H)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((at,Ft,In)=>{this.notifyListeners(at,In)});const H=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(H);if(p.newValue!==at)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!C)return}const ne=()=>{const at=this.storage.getItem(H);!C&&this.localCache[H]===at||this.notifyListeners(H,at)},Oe=this.storage.getItem(H);!function Ge(){return(0,z.w1)()&&10===document.documentMode}()||Oe===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,C){this.localCache[p]=C;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var H=()=>super._set,ne=this;return(0,d.Z)(function*(){yield H().call(ne,p,C),ne.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,H=this;return(0,d.Z)(function*(){const ne=yield C().call(H,p);return H.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var C=()=>super._remove,H=this;return(0,d.Z)(function*(){yield C().call(H,p),delete H.localCache[p]})()}}return v.type="LOCAL",v})(),Nt=(()=>{class v extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return v.type="SESSION",v})();let Hu=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(ne=>ne.isListeningto(p));if(C)return C;const H=new v(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,d.Z)(function*(){const H=p,{eventId:ne,eventType:Oe,data:at}=H.data,Ft=C.handlersMap[Oe];if(!Ft?.size)return;H.ports[0].postMessage({status:"ack",eventId:ne,eventType:Oe});const In=Array.from(Ft).map(function(){var Pr=(0,d.Z)(function*(Eo){return Eo(H.origin,at)});return function(Eo){return Pr.apply(this,arguments)}}()),Un=yield function Tr(v){return Promise.all(v.map(function(){var h=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(In);H.ports[0].postMessage({status:"done",eventId:ne,eventType:Oe,response:Un})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ha(v="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return v+p}class ss{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var H=this;return(0,d.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Oe,at;return new Promise((Ft,In)=>{const Un=ha("",20);ne.port1.start();const Pr=setTimeout(()=>{In(new Error("unsupported_event"))},C);at={messageChannel:ne,onMessage(Eo){const Ga=Eo;if(Ga.data.eventId===Un)switch(Ga.data.status){case"ack":clearTimeout(Pr),Oe=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Ft(Ga.data.response);break;default:clearTimeout(Pr),clearTimeout(Oe),In(new Error("invalid_response"))}}},H.handlers.add(at),ne.port1.addEventListener("message",at.onMessage),H.target.postMessage({eventType:h,eventId:Un,data:p},[ne.port2])}).finally(()=>{at&&H.removeMessageHandler(at)})})()}}function Ui(){return window}function Ts(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Na(){return(Na=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ka="firebaseLocalStorageDb",Bs="firebaseLocalStorage",Fa="fbase_key";class io{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ms(v,h){return v.transaction([Bs],h?"readwrite":"readonly").objectStore(Bs)}function so(){const v=indexedDB.open(ka,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Bs,{keyPath:Fa})}catch(H){p(H)}}),v.addEventListener("success",(0,d.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Bs)?h(C):(C.close(),yield function Gu(){const v=indexedDB.deleteDatabase(ka);return new io(v).toPromise()}(),h(yield so()))}))})}function pa(v,h,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(v,h,p){const C=ms(v,!0).put({[Fa]:h,value:p});return new io(C).toPromise()})).apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(v,h){const p=ms(v,!1).get(h),C=yield new io(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oo(v,h){const p=ms(v,!0).delete(h);return new io(p).toPromise()}const S=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield so()),p.db})()}_withRetries(p){var C=this;return(0,d.Z)(function*(){let H=0;for(;;)try{const ne=yield C._openDb();return yield p(ne)}catch(ne){if(H++>3)throw ne;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return Ts()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=Hu._getInstance(function zu(){return Ts()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(H,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(H,ne){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(H,ne){return["keyChanged"]});return function(H,ne){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var C,H;if(p.activeServiceWorker=yield function fa(){return Na.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ss(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(C=ne[0])&&void 0!==C&&C.fulfilled&&null!==(H=ne[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function bc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield so();return yield pa(p,ju,"1"),yield oo(p,ju),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var H=this;return(0,d.Z)(function*(){return H._withPendingWrite((0,d.Z)(function*(){return yield H._withRetries(ne=>pa(ne,p,C)),H.localCache[p]=C,H.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,d.Z)(function*(){const H=yield C._withRetries(ne=>function Wu(v,h){return ma.apply(this,arguments)}(ne,p));return C.localCache[p]=H,H})()}_remove(p){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(H=>oo(H,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const C=yield p._withRetries(Oe=>{const at=ms(Oe,!1).getAll();return new io(at).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const H=[],ne=new Set;if(0!==C.length)for(const{fbase_key:Oe,value:at}of C)ne.add(Oe),JSON.stringify(p.localCache[Oe])!==JSON.stringify(at)&&(p.notifyListeners(Oe,at),H.push(Oe));for(const Oe of Object.keys(p.localCache))p.localCache[Oe]&&!ne.has(Oe)&&(p.notifyListeners(Oe,null),H.push(Oe));return H})()}notifyListeners(p,C){this.localCache[p]=C;const H=this.listeners[p];if(H)for(const ne of Array.from(H))ne(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ln=1e12;class Xn{constructor(h){this.auth=h,this.counter=ln,this._widgets=new Map}render(h,p){const C=this.counter;return this._widgets.set(C,new ur(h,this.auth.name,p||{})),this.counter++,C}reset(h){var p;const C=h||ln;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ln))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,d.Z)(function*(){var C;return null===(C=p._widgets.get(h||ln))||void 0===C||C.execute(),""})()}}class ur{constructor(h,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;pe(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ur=mi("rcb"),_a=new we(3e4,6e4);class ya{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ui().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return pe(function va(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&On(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((C,H)=>{const ne=Ui().setTimeout(()=>{H(Qe(h,"network-request-failed"))},_a.get());Ui()[Ur]=()=>{Ui().clearTimeout(ne),delete Ui()[Ur];const at=Ui().grecaptcha;if(!at||!On(at))return void H(Qe(h,"internal-error"));const Ft=at.render;at.render=(In,Un)=>{const Pr=Ft(In,Un);return this.counter++,Pr},this.hostLanguage=p,C(at)},zr(`${function wo(){return si.recaptchaV2Script}()}?${(0,z.xO)({onload:Ur,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),H(Qe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Ui().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yo{load(h){return(0,d.Z)(function*(){return new Xn(h)})()}clearedOneInstance(){}}const Oo="recaptcha",pd={theme:"light",type:"image"};class cu{constructor(h,p,C=Object.assign({},pd)){this.parameters=C,this.type=Oo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(h),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof p?document.getElementById(p):p;pe(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yo:new ya,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(p)||new Promise(ne=>{const Oe=at=>{at&&(h.tokenChangeListeners.delete(Oe),ne(at))};h.tokenChangeListeners.add(Oe),h.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof h)h(p);else if("string"==typeof h){const C=Ui()[h];"function"==typeof C&&C(p)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){pe(wt()&&!Ts(),h.auth,"internal-error"),yield function ie(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Ar(v){return en.apply(this,arguments)}(h.auth);pe(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class de{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=$r._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function te(v,h,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C=lr(v),H=yield or(C,h,(0,z.m9)(p));return new de(H,ne=>eo(C,ne))})).apply(this,arguments)}function ht(v,h,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);yield Pe(!1,C,"phone");const H=yield or(C.auth,h,(0,z.m9)(p));return new de(H,ne=>vs(C,ne))})).apply(this,arguments)}function on(v,h,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(C.auth.app))return Promise.reject(Ye(C.auth));const H=yield or(C.auth,h,(0,z.m9)(p));return new de(H,ne=>_c(C,ne))})).apply(this,arguments)}function or(v,h,p){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,d.Z)(function*(v,h,p){var C;const H=yield p.verify();try{let ne;if(pe("string"==typeof H,v,"argument-error"),pe(p.type===Oo,v,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Oe=ne.session;if("phoneNumber"in ne)return pe("enroll"===Oe.type,v,"internal-error"),(yield function wc(v,h){return Ne(v,"POST","/v2/accounts/mfaEnrollment:start",ve(v,h))}(v,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{pe("signin"===Oe.type,v,"internal-error");const at=(null===(C=ne.multiFactorHint)||void 0===C?void 0:C.uid)||ne.multiFactorUid;return pe(at,v,"missing-multi-factor-info"),(yield function F(v,h){return Ne(v,"POST","/v2/accounts/mfaSignIn:start",ve(v,h))}(v,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield function je(v,h){return mt.apply(this,arguments)}(v,{phoneNumber:ne.phoneNumber,recaptchaToken:H});return Oe}}finally{p._reset()}}),Yi.apply(this,arguments)}function ao(v,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(v,h){const p=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));yield P(p,h)})).apply(this,arguments)}let uo=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=lr(p)}verifyPhoneNumber(p,C){return or(this.auth,p,(0,z.m9)(C))}static credential(p,C){return $r._fromVerification(p,C)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:H}=p;return C&&H?$r._fromTokenResponse(C,H):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function qs(v,h){return h?gt(h):(pe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Yo extends Hi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return q(h,this._buildIdpRequest())}_linkToIdToken(h,p){return q(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return q(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Ii(v){return ns(v.auth,new Yo(v),v.bypassAuthState)}function wi(v){const{auth:h,user:p}=v;return pe(p,h,"internal-error"),Nn(p,new Yo(v),v.bypassAuthState)}function La(v){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(v){const{auth:h,user:p}=v;return pe(p,h,"internal-error"),P(p,new Yo(v),v.bypassAuthState)})).apply(this,arguments)}class Bi{constructor(h,p,C,H,ne=!1){this.auth=h,this.resolver=C,this.user=H,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,d.Z)(function*(C,H){h.pendingPromise={resolve:C,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(C,H){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:H,postBody:ne,tenantId:Oe,error:at,type:Ft}=h;if(at)return void p.reject(at);const In={auth:p.auth,requestUri:C,sessionId:H,tenantId:Oe||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ft)(In))}catch(Un){p.reject(Un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return wi;default:Le(this.auth,"internal-error")}}resolve(h){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qo=new we(2e3,1e4);function Ac(v,h,p){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Qe(v,"operation-not-supported-in-this-environment"));const C=lr(v);_t(v,h,Jn);const H=qs(C,p);return new _s(C,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Ua(v,h,p){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);if((0,y._isFirebaseServerApp)(C.auth.app))return Promise.reject(Qe(C.auth,"operation-not-supported-in-this-environment"));_t(C.auth,h,Jn);const H=qs(C.auth,p);return new _s(C.auth,"reauthViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}function rp(v,h,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);_t(C.auth,h,Jn);const H=qs(C.auth,p);return new _s(C.auth,"linkViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}let _s=(()=>{class v extends Bi{constructor(p,C,H,ne,Oe){super(p,C,ne,Oe),this.provider=H,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const C=yield p.execute();return pe(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,d.Z)(function*(){tn(1===p.filter.length,"Popup operations only handle one event");const C=ha();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(Qe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,H;this.pollId=null!==(H=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Qo.get())};p()}}return v.currentPopupAction=null,v})();const Ih="pendingRedirect",xs=new Map;class fl extends Bi{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let C=xs.get(p.auth._key());if(!C){try{const ne=(yield function Pc(v,h){return ko.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(ne)}catch(H){C=()=>Promise.reject(H)}xs.set(p.auth._key(),C)}return p.bypassAuthState||xs.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const H=yield C.auth._redirectUserForId(h.eventId);if(H)return C.user=H,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,d.Z)(function*(v,h){const p=pl(h),C=Ba(v);if(!(yield C._isAvailable()))return!1;const H="true"===(yield C._get(p));return yield C._remove(p),H})).apply(this,arguments)}function Ea(v,h){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(v,h){return Ba(v)._set(pl(h),"true")})).apply(this,arguments)}function Ia(){xs.clear()}function wh(v,h){xs.set(v._key(),h)}function Ba(v){return gt(v._redirectPersistence)}function pl(v){return Zt(Ih,v.config.apiKey,v.name)}function wa(v,h,p){return function gd(v,h,p){return md.apply(this,arguments)}(v,h,p)}function md(){return(md=(0,d.Z)(function*(v,h,p){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C=lr(v);_t(v,h,Jn),yield C._initializationPromise;const H=qs(C,p);return yield Ea(H,C),H._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Rc(v,h,p){return function du(v,h,p){return gl.apply(this,arguments)}(v,h,p)}function gl(){return(gl=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);if(_t(C.auth,h,Jn),(0,y._isFirebaseServerApp)(C.auth.app))return Promise.reject(Ye(C.auth));yield C.auth._initializationPromise;const H=qs(C.auth,p);yield Ea(H,C.auth);const ne=yield Jo(C);return H._openRedirect(C.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function Ch(v,h,p){return function Mc(v,h,p){return ja.apply(this,arguments)}(v,h,p)}function ja(){return(ja=(0,d.Z)(function*(v,h,p){const C=(0,z.m9)(v);_t(C.auth,h,Jn),yield C.auth._initializationPromise;const H=qs(C.auth,p);yield Pe(!1,C,h.providerId),yield Ea(H,C.auth);const ne=yield Jo(C);return H._openRedirect(C.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function ip(v,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(v,h){return yield lr(v)._initializationPromise,_d(v,h,!1)})).apply(this,arguments)}function _d(v,h){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(v,h,p=!1){if((0,y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const C=lr(v),H=qs(C,h),Oe=yield new fl(C,H,p).execute();return Oe&&!p&&(delete Oe.user._redirectEventId,yield C._persistUserIfCurrent(Oe.user),yield C._setRedirectUser(null,h)),Oe})).apply(this,arguments)}function Jo(v){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.Z)(function*(v){const h=ha(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function qu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $a(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!$a(h)){const H=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Qe(this.auth,H))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fu(h))}saveEventToCache(h){this.cachedEventUids.add(fu(h)),this.lastProcessedEventTime=Date.now()}}function fu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function $a({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function vd(v){return pu.apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(v,h={}){return Ne(v,"GET","/v1/projects",h)})).apply(this,arguments)}const ji=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qg=/^https?/;function Th(){return(Th=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield vd(v);for(const p of h)try{if(Zg(p))return}catch{}Le(v,"unauthorized-domain")})).apply(this,arguments)}function Zg(v){const h=kn(),{protocol:p,hostname:C}=new URL(h);if(v.startsWith("chrome-extension://")){const Oe=new URL(v);return""===Oe.hostname&&""===C?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Oe.hostname===C}if(!qg.test(p))return!1;if(ji.test(v))return C===v;const H=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(C)}const Dh=new we(3e4,6e4);function op(){const v=Ui().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Zu=null;const bh=new we(5e3,15e3),Id="__/auth/iframe",rs="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wd(v){const h=v.config;pe(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?oe(h,rs):`https://${v.config.authDomain}/${Id}`,C={apiKey:h.apiKey,appName:v.name,v:y.SDK_VERSION},H=Ha.get(v.config.apiHost);H&&(C.eid=H);const ne=v._getFrameworks();return ne.length&&(C.fw=ne.join(",")),`${p}?${(0,z.xO)(C).slice(1)}`}function za(){return za=(0,d.Z)(function*(v){const h=yield function Ku(v){return Zu=Zu||function Ed(v){return new Promise((h,p)=>{var C,H,ne;function Oe(){op(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{op(),p(Qe(v,"network-request-failed"))},timeout:Dh.get()})}if(null!==(H=null===(C=Ui().gapi)||void 0===C?void 0:C.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Ui().gapi)||void 0===ne||!ne.load){const at=mi("iframefcb");return Ui()[at]=()=>{gapi.load?Oe():p(Qe(v,"network-request-failed"))},zr(`${function Jr(){return si.gapiScript}()}?onload=${at}`).catch(Ft=>p(Ft))}Oe()}}).catch(h=>{throw Zu=null,h})}(v),Zu}(v),p=Ui().gapi;return pe(p,v,"internal-error"),h.open({where:document.body,url:wd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},C=>new Promise(function(){var H=(0,d.Z)(function*(ne,Oe){yield C.restyle({setHideOnLeave:!1});const at=Qe(v,"network-request-failed"),Ft=Ui().setTimeout(()=>{Oe(at)},bh.get());function In(){Ui().clearTimeout(Ft),ne(C)}C.ping(In).then(In,()=>{Oe(at)})});return function(ne,Oe){return H.apply(this,arguments)}}()))}),za.apply(this,arguments)}const Cd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ph{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _l="__/auth/handler",Qu="emulator/auth/handler",kc=encodeURIComponent("fac");function Ca(v,h,p,C,H,ne){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(v,h,p,C,H,ne){pe(v.config.authDomain,v,"auth-domain-config-required"),pe(v.config.apiKey,v,"invalid-api-key");const Oe={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:C,v:y.SDK_VERSION,eventId:H};if(h instanceof Jn){h.setDefaultLanguage(v.languageCode),Oe.providerId=h.providerId||"",(0,z.xb)(h.getCustomParameters())||(Oe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Un,Pr]of Object.entries(ne||{}))Oe[Un]=Pr}if(h instanceof oi){const Un=h.getScopes().filter(Pr=>""!==Pr);Un.length>0&&(Oe.scopes=Un.join(","))}v.tenantId&&(Oe.tid=v.tenantId);const at=Oe;for(const Un of Object.keys(at))void 0===at[Un]&&delete at[Un];const Ft=yield v._getAppCheckToken(),In=Ft?`#${kc}=${encodeURIComponent(Ft)}`:"";return`${function yl({config:v}){return v.emulator?oe(v,Qu):`https://${v.authDomain}/${_l}`}(v)}?${(0,z.xO)(at).slice(1)}${In}`})).apply(this,arguments)}const vl="webStorageSupport",Td=class Rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=_d,this._overrideRedirectResult=wh}_openPopup(h,p,C,H){var ne=this;return(0,d.Z)(function*(){var Oe;tn(null===(Oe=ne.eventManagers[h._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const at=yield Ca(h,p,C,kn(),H);return function ap(v,h,p,C=500,H=600){const ne=Math.max((window.screen.availHeight-H)/2,0).toString(),Oe=Math.max((window.screen.availWidth-C)/2,0).toString();let at="";const Ft=Object.assign(Object.assign({},Cd),{width:C.toString(),height:H.toString(),top:ne,left:Oe}),In=(0,z.z$)().toLowerCase();p&&(at=Fi(In)?"_blank":p),vn(In)&&(h=h||"http://localhost",Ft.scrollbars="yes");const Un=Object.entries(Ft).reduce((Eo,[Ga,Wa])=>`${Eo}${Ga}=${Wa},`,"");if(function st(v=(0,z.z$)()){var h;return kr(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(In)&&"_self"!==at)return function vo(v,h){const p=document.createElement("a");p.href=v,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",at),new Ph(null);const Pr=window.open(h||"",at,Un);pe(Pr,v,"popup-blocked");try{Pr.focus()}catch{}return new Ph(Pr)}(h,at,ha())})()}_openRedirect(h,p,C,H){var ne=this;return(0,d.Z)(function*(){return yield ne._originValidation(h),function Oa(v){Ui().location.href=v}(yield Ca(h,p,C,kn(),H)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:H,promise:ne}=this.eventManagers[p];return H?Promise.resolve(H):(tn(ne,"If manager is not set, promise should be"),ne)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const C=yield function co(v){return za.apply(this,arguments)}(h),H=new Oc(h);return C.register("authEvent",ne=>(pe(ne?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:H},p.iframes[h._key()]=C,H})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(vl,{type:vl},H=>{var ne;const Oe=null===(ne=H?.[0])||void 0===ne?void 0:ne[vl];void 0!==Oe&&p(!!Oe),Le(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function sp(v){return Th.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Et()||ir()||kr()}};class up{constructor(h){this.factorId=h}_process(h,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,C);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class gu extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new gu(h)}_finalizeEnroll(h,p,C){return function Cc(v,h){return Ne(v,"POST","/v2/accounts/mfaEnrollment:finalize",ve(v,h))}(h,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Y(v,h){return Ne(v,"POST","/v2/accounts/mfaSignIn:finalize",ve(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class v{constructor(){}static assertion(p){return gu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Lc="@firebase/auth";class Ju{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function Fs(v){si=v}({loadJS:v=>new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=h,C.onerror=H=>{const ne=Qe("internal-error");ne.customData=H,p(ne)},C.type="text/javascript",C.charset="UTF-8",function Oh(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(v){(0,y._registerComponent)(new Se.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Oe,authDomain:at}=C.options;pe(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:C.name});const Ft={apiKey:Oe,authDomain:at,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(v)},In=new us(C,H,ne,Ft);return function Co(v,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(gt);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(C,h?.popupRedirectResolver)}(In,p),In},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new Se.wA("auth-internal",h=>{const p=lr(h.getProvider("auth").getImmediate());return new Ju(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(Lc,"1.7.4",function Xu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,y.registerVersion)(Lc,"1.7.4","esm2017")}("Browser")},5588:(rn,Xe,k)=>{k.d(Xe,{u7:()=>Lm,Jj:()=>ic,IX:()=>qc,my:()=>as,xU:()=>el,Lz:()=>bu,WA:()=>oe,F8:()=>Kp,$q:()=>Df,W:()=>oc,EK:()=>Lt,PU:()=>nl,l7:()=>Ln,Ky:()=>Mt,Xb:()=>Fn,Cf:()=>Er,K9:()=>Ut,Me:()=>fo,yq:()=>tn,Wi:()=>Tm,ET:()=>$m,Ab:()=>bf,vr:()=>Kd,Fc:()=>Zp,hJ:()=>Dm,B$:()=>ff,at:()=>hf,oe:()=>Qa,AK:()=>Zm,TF:()=>Sm,JU:()=>vy,ST:()=>_f,fH:()=>Ka,Ix:()=>Iy,Wu:()=>Ny,Lx:()=>Nm,qY:()=>Qi,GL:()=>is,QT:()=>jm,kl:()=>ig,Xk:()=>ac,PL:()=>sg,UQ:()=>Fy,zN:()=>cE,ad:()=>gf,nP:()=>Km,b9:()=>Oy,vh:()=>If,Pb:()=>wy,L$:()=>Cy,cf:()=>Vy,sc:()=>lE,Xo:()=>Om,IO:()=>My,iE:()=>Wp,Eo:()=>Gp,i3:()=>qm,Bt:()=>cg,pl:()=>Ly,Ub:()=>At,qK:()=>Aa,TQ:()=>qd,e0:()=>Zl,r7:()=>og,Mx:()=>Ey,ar:()=>Xp});var $e,ze,d=k(5861),y=k(534),z=k(4537),Ce=k(7879),_e=k(9058),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(We,De,ke){ke||(ke=0);var Ke=Array(16);if("string"==typeof De)for(var tt=0;16>tt;++tt)Ke[tt]=De.charCodeAt(ke++)|De.charCodeAt(ke++)<<8|De.charCodeAt(ke++)<<16|De.charCodeAt(ke++)<<24;else for(tt=0;16>tt;++tt)Ke[tt]=De[ke++]|De[ke++]<<8|De[ke++]<<16|De[ke++]<<24;var ut=We.g[3],xe=(De=We.g[0])+(ut^(ke=We.g[1])&((tt=We.g[2])^ut))+Ke[0]+3614090360&4294967295;xe=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=(ke=(tt=(ut=(De=ke+(xe<<7&4294967295|xe>>>25))+((xe=ut+(tt^De&(ke^tt))+Ke[1]+3905402710&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(ke^ut&(De^ke))+Ke[2]+606105819&4294967295)<<17&4294967295|xe>>>15))+((xe=ke+(De^tt&(ut^De))+Ke[3]+3250441966&4294967295)<<22&4294967295|xe>>>10))+((xe=De+(ut^ke&(tt^ut))+Ke[4]+4118548399&4294967295)<<7&4294967295|xe>>>25))+((xe=ut+(tt^De&(ke^tt))+Ke[5]+1200080426&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(ke^ut&(De^ke))+Ke[6]+2821735955&4294967295)<<17&4294967295|xe>>>15))+((xe=ke+(De^tt&(ut^De))+Ke[7]+4249261313&4294967295)<<22&4294967295|xe>>>10))+((xe=De+(ut^ke&(tt^ut))+Ke[8]+1770035416&4294967295)<<7&4294967295|xe>>>25))+((xe=ut+(tt^De&(ke^tt))+Ke[9]+2336552879&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(ke^ut&(De^ke))+Ke[10]+4294925233&4294967295)<<17&4294967295|xe>>>15))+((xe=ke+(De^tt&(ut^De))+Ke[11]+2304563134&4294967295)<<22&4294967295|xe>>>10))+((xe=De+(ut^ke&(tt^ut))+Ke[12]+1804603682&4294967295)<<7&4294967295|xe>>>25))+((xe=ut+(tt^De&(ke^tt))+Ke[13]+4254626195&4294967295)<<12&4294967295|xe>>>20))+((xe=tt+(ke^ut&(De^ke))+Ke[14]+2792965006&4294967295)<<17&4294967295|xe>>>15))+((xe=ke+(De^tt&(ut^De))+Ke[15]+1236535329&4294967295)<<22&4294967295|xe>>>10))+((xe=De+(tt^ut&(ke^tt))+Ke[1]+4129170786&4294967295)<<5&4294967295|xe>>>27))+((xe=ut+(ke^tt&(De^ke))+Ke[6]+3225465664&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(De^ke&(ut^De))+Ke[11]+643717713&4294967295)<<14&4294967295|xe>>>18))+((xe=ke+(ut^De&(tt^ut))+Ke[0]+3921069994&4294967295)<<20&4294967295|xe>>>12))+((xe=De+(tt^ut&(ke^tt))+Ke[5]+3593408605&4294967295)<<5&4294967295|xe>>>27))+((xe=ut+(ke^tt&(De^ke))+Ke[10]+38016083&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(De^ke&(ut^De))+Ke[15]+3634488961&4294967295)<<14&4294967295|xe>>>18))+((xe=ke+(ut^De&(tt^ut))+Ke[4]+3889429448&4294967295)<<20&4294967295|xe>>>12))+((xe=De+(tt^ut&(ke^tt))+Ke[9]+568446438&4294967295)<<5&4294967295|xe>>>27))+((xe=ut+(ke^tt&(De^ke))+Ke[14]+3275163606&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(De^ke&(ut^De))+Ke[3]+4107603335&4294967295)<<14&4294967295|xe>>>18))+((xe=ke+(ut^De&(tt^ut))+Ke[8]+1163531501&4294967295)<<20&4294967295|xe>>>12))+((xe=De+(tt^ut&(ke^tt))+Ke[13]+2850285829&4294967295)<<5&4294967295|xe>>>27))+((xe=ut+(ke^tt&(De^ke))+Ke[2]+4243563512&4294967295)<<9&4294967295|xe>>>23))+((xe=tt+(De^ke&(ut^De))+Ke[7]+1735328473&4294967295)<<14&4294967295|xe>>>18))+((xe=ke+(ut^De&(tt^ut))+Ke[12]+2368359562&4294967295)<<20&4294967295|xe>>>12))+((xe=De+(ke^tt^ut)+Ke[5]+4294588738&4294967295)<<4&4294967295|xe>>>28))+((xe=ut+(De^ke^tt)+Ke[8]+2272392833&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(ut^De^ke)+Ke[11]+1839030562&4294967295)<<16&4294967295|xe>>>16))+((xe=ke+(tt^ut^De)+Ke[14]+4259657740&4294967295)<<23&4294967295|xe>>>9))+((xe=De+(ke^tt^ut)+Ke[1]+2763975236&4294967295)<<4&4294967295|xe>>>28))+((xe=ut+(De^ke^tt)+Ke[4]+1272893353&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(ut^De^ke)+Ke[7]+4139469664&4294967295)<<16&4294967295|xe>>>16))+((xe=ke+(tt^ut^De)+Ke[10]+3200236656&4294967295)<<23&4294967295|xe>>>9))+((xe=De+(ke^tt^ut)+Ke[13]+681279174&4294967295)<<4&4294967295|xe>>>28))+((xe=ut+(De^ke^tt)+Ke[0]+3936430074&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(ut^De^ke)+Ke[3]+3572445317&4294967295)<<16&4294967295|xe>>>16))+((xe=ke+(tt^ut^De)+Ke[6]+76029189&4294967295)<<23&4294967295|xe>>>9))+((xe=De+(ke^tt^ut)+Ke[9]+3654602809&4294967295)<<4&4294967295|xe>>>28))+((xe=ut+(De^ke^tt)+Ke[12]+3873151461&4294967295)<<11&4294967295|xe>>>21))+((xe=tt+(ut^De^ke)+Ke[15]+530742520&4294967295)<<16&4294967295|xe>>>16))+((xe=ke+(tt^ut^De)+Ke[2]+3299628645&4294967295)<<23&4294967295|xe>>>9))+((xe=De+(tt^(ke|~ut))+Ke[0]+4096336452&4294967295)<<6&4294967295|xe>>>26))+((xe=ut+(ke^(De|~tt))+Ke[7]+1126891415&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(De^(ut|~ke))+Ke[14]+2878612391&4294967295)<<15&4294967295|xe>>>17))+((xe=ke+(ut^(tt|~De))+Ke[5]+4237533241&4294967295)<<21&4294967295|xe>>>11))+((xe=De+(tt^(ke|~ut))+Ke[12]+1700485571&4294967295)<<6&4294967295|xe>>>26))+((xe=ut+(ke^(De|~tt))+Ke[3]+2399980690&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(De^(ut|~ke))+Ke[10]+4293915773&4294967295)<<15&4294967295|xe>>>17))+((xe=ke+(ut^(tt|~De))+Ke[1]+2240044497&4294967295)<<21&4294967295|xe>>>11))+((xe=De+(tt^(ke|~ut))+Ke[8]+1873313359&4294967295)<<6&4294967295|xe>>>26))+((xe=ut+(ke^(De|~tt))+Ke[15]+4264355552&4294967295)<<10&4294967295|xe>>>22))+((xe=tt+(De^(ut|~ke))+Ke[6]+2734768916&4294967295)<<15&4294967295|xe>>>17))+((xe=ke+(ut^(tt|~De))+Ke[13]+1309151649&4294967295)<<21&4294967295|xe>>>11))+((ut=(De=ke+((xe=De+(tt^(ke|~ut))+Ke[4]+4149444226&4294967295)<<6&4294967295|xe>>>26))+((xe=ut+(ke^(De|~tt))+Ke[11]+3174756917&4294967295)<<10&4294967295|xe>>>22))^((tt=ut+((xe=tt+(De^(ut|~ke))+Ke[2]+718787259&4294967295)<<15&4294967295|xe>>>17))|~De))+Ke[9]+3951481745&4294967295,We.g[0]=We.g[0]+De&4294967295,We.g[1]=We.g[1]+(tt+(xe<<21&4294967295|xe>>>11))&4294967295,We.g[2]=We.g[2]+tt&4294967295,We.g[3]=We.g[3]+ut&4294967295}function m(We,De){this.h=De;for(var ke=[],Ke=!0,tt=We.length-1;0<=tt;tt--){var ut=0|We[tt];Ke&&ut==De||(ke[tt]=ut,Ke=!1)}this.g=ke}(function e(We,De){function ke(){}ke.prototype=De.prototype,We.D=De.prototype,We.prototype=new ke,We.prototype.constructor=We,We.C=function(Ke,tt,ut){for(var xe=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)xe[Ru-2]=arguments[Ru];return De.prototype[tt].apply(Ke,xe)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(We,De){void 0===De&&(De=We.length);for(var ke=De-this.blockSize,Ke=this.B,tt=this.h,ut=0;ut<De;){if(0==tt)for(;ut<=ke;)u(this,We,ut),ut+=this.blockSize;if("string"==typeof We){for(;ut<De;)if(Ke[tt++]=We.charCodeAt(ut++),tt==this.blockSize){u(this,Ke),tt=0;break}}else for(;ut<De;)if(Ke[tt++]=We[ut++],tt==this.blockSize){u(this,Ke),tt=0;break}}this.h=tt,this.o+=De},s.prototype.v=function(){var We=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);We[0]=128;for(var De=1;De<We.length-8;++De)We[De]=0;var ke=8*this.o;for(De=We.length-8;De<We.length;++De)We[De]=255&ke,ke/=256;for(this.u(We),We=Array(16),De=ke=0;4>De;++De)for(var Ke=0;32>Ke;Ke+=8)We[ke++]=this.g[De]>>>Ke&255;return We};var T={};function R(We){return-128<=We&&128>We?function f(We,De){var ke=T;return Object.prototype.hasOwnProperty.call(ke,We)?ke[We]:ke[We]=De(We)}(We,function(De){return new m([0|De],0>De?-1:0)}):new m([0|We],0>We?-1:0)}function B(We){if(isNaN(We)||!isFinite(We))return ce;if(0>We)return $t(B(-We));for(var De=[],ke=1,Ke=0;We>=ke;Ke++)De[Ke]=We/ke|0,ke*=4294967296;return new m(De,0)}var ce=R(0),Re=R(1),rt=R(16777216);function xt(We){if(0!=We.h)return!1;for(var De=0;De<We.g.length;De++)if(0!=We.g[De])return!1;return!0}function Kt(We){return-1==We.h}function $t(We){for(var De=We.g.length,ke=[],Ke=0;Ke<De;Ke++)ke[Ke]=~We.g[Ke];return new m(ke,~We.h).add(Re)}function Sn(We,De){return We.add($t(De))}function Bn(We,De){for(;(65535&We[De])!=We[De];)We[De+1]+=We[De]>>>16,We[De]&=65535,De++}function Rn(We,De){this.g=We,this.h=De}function hr(We,De){if(xt(De))throw Error("division by zero");if(xt(We))return new Rn(ce,ce);if(Kt(We))return De=hr($t(We),De),new Rn($t(De.g),$t(De.h));if(Kt(De))return De=hr(We,$t(De)),new Rn($t(De.g),De.h);if(30<We.g.length){if(Kt(We)||Kt(De))throw Error("slowDivide_ only works with positive integers.");for(var ke=Re,Ke=De;0>=Ke.l(We);)ke=ai(ke),Ke=ai(Ke);var tt=Rr(ke,1),ut=Rr(Ke,1);for(Ke=Rr(Ke,2),ke=Rr(ke,2);!xt(Ke);){var xe=ut.add(Ke);0>=xe.l(We)&&(tt=tt.add(ke),ut=xe),Ke=Rr(Ke,1),ke=Rr(ke,1)}return De=Sn(We,tt.j(De)),new Rn(tt,De)}for(tt=ce;0<=We.l(De);){for(ke=Math.max(1,Math.floor(We.m()/De.m())),Ke=48>=(Ke=Math.ceil(Math.log(ke)/Math.LN2))?1:Math.pow(2,Ke-48),xe=(ut=B(ke)).j(De);Kt(xe)||0<xe.l(We);)xe=(ut=B(ke-=Ke)).j(De);xt(ut)&&(ut=Re),tt=tt.add(ut),We=Sn(We,xe)}return new Rn(tt,We)}function ai(We){for(var De=We.g.length+1,ke=[],Ke=0;Ke<De;Ke++)ke[Ke]=We.i(Ke)<<1|We.i(Ke-1)>>>31;return new m(ke,We.h)}function Rr(We,De){var ke=De>>5;De%=32;for(var Ke=We.g.length-ke,tt=[],ut=0;ut<Ke;ut++)tt[ut]=0<De?We.i(ut+ke)>>>De|We.i(ut+ke+1)<<32-De:We.i(ut+ke);return new m(tt,We.h)}(a=m.prototype).m=function(){if(Kt(this))return-$t(this).m();for(var We=0,De=1,ke=0;ke<this.g.length;ke++){var Ke=this.i(ke);We+=(0<=Ke?Ke:4294967296+Ke)*De,De*=4294967296}return We},a.toString=function(We){if(2>(We=We||10)||36<We)throw Error("radix out of range: "+We);if(xt(this))return"0";if(Kt(this))return"-"+$t(this).toString(We);for(var De=B(Math.pow(We,6)),ke=this,Ke="";;){var tt=hr(ke,De).g,ut=((0<(ke=Sn(ke,tt.j(De))).g.length?ke.g[0]:ke.h)>>>0).toString(We);if(xt(ke=tt))return ut+Ke;for(;6>ut.length;)ut="0"+ut;Ke=ut+Ke}},a.i=function(We){return 0>We?0:We<this.g.length?this.g[We]:this.h},a.l=function(We){return Kt(We=Sn(this,We))?-1:xt(We)?0:1},a.abs=function(){return Kt(this)?$t(this):this},a.add=function(We){for(var De=Math.max(this.g.length,We.g.length),ke=[],Ke=0,tt=0;tt<=De;tt++){var ut=Ke+(65535&this.i(tt))+(65535&We.i(tt)),xe=(ut>>>16)+(this.i(tt)>>>16)+(We.i(tt)>>>16);Ke=xe>>>16,ke[tt]=(xe&=65535)<<16|(ut&=65535)}return new m(ke,-2147483648&ke[ke.length-1]?-1:0)},a.j=function(We){if(xt(this)||xt(We))return ce;if(Kt(this))return Kt(We)?$t(this).j($t(We)):$t($t(this).j(We));if(Kt(We))return $t(this.j($t(We)));if(0>this.l(rt)&&0>We.l(rt))return B(this.m()*We.m());for(var De=this.g.length+We.g.length,ke=[],Ke=0;Ke<2*De;Ke++)ke[Ke]=0;for(Ke=0;Ke<this.g.length;Ke++)for(var tt=0;tt<We.g.length;tt++){var ut=this.i(Ke)>>>16,xe=65535&this.i(Ke),Ru=We.i(tt)>>>16,Qd=65535&We.i(tt);ke[2*Ke+2*tt]+=xe*Qd,Bn(ke,2*Ke+2*tt),ke[2*Ke+2*tt+1]+=ut*Qd,Bn(ke,2*Ke+2*tt+1),ke[2*Ke+2*tt+1]+=xe*Ru,Bn(ke,2*Ke+2*tt+1),ke[2*Ke+2*tt+2]+=ut*Ru,Bn(ke,2*Ke+2*tt+2)}for(Ke=0;Ke<De;Ke++)ke[Ke]=ke[2*Ke+1]<<16|ke[2*Ke];for(Ke=De;Ke<2*De;Ke++)ke[Ke]=0;return new m(ke,0)},a.A=function(We){return hr(this,We).h},a.and=function(We){for(var De=Math.max(this.g.length,We.g.length),ke=[],Ke=0;Ke<De;Ke++)ke[Ke]=this.i(Ke)&We.i(Ke);return new m(ke,this.h&We.h)},a.or=function(We){for(var De=Math.max(this.g.length,We.g.length),ke=[],Ke=0;Ke<De;Ke++)ke[Ke]=this.i(Ke)|We.i(Ke);return new m(ke,this.h|We.h)},a.xor=function(We){for(var De=Math.max(this.g.length,We.g.length),ke=[],Ke=0;Ke<De;Ke++)ke[Ke]=this.i(Ke)^We.i(Ke);return new m(ke,this.h^We.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ze=Be.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=B,m.fromString=function X(We,De){if(0==We.length)throw Error("number format error: empty string");if(2>(De=De||10)||36<De)throw Error("radix out of range: "+De);if("-"==We.charAt(0))return $t(X(We.substring(1),De));if(0<=We.indexOf("-"))throw Error('number format error: interior "-" character');for(var ke=B(Math.pow(De,8)),Ke=ce,tt=0;tt<We.length;tt+=8){var ut=Math.min(8,We.length-tt),xe=parseInt(We.substring(tt,tt+ut),De);8>ut?(ut=B(Math.pow(De,ut)),Ke=Ke.j(ut).add(B(xe))):Ke=(Ke=Ke.j(ke)).add(B(xe))}return Ke},$e=Be.Integer=m}).apply(typeof Se<"u"?Se:typeof self<"u"?self:typeof window<"u"?window:{});var Ie,lt,Fe,Ct,pt,Vt,Dt,an,qe,se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,M,$){return g==Array.prototype||g==Object.prototype||(g[M]=$.value),g},s=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof se&&se];for(var M=0;M<g.length;++M){var $=g[M];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function u(g,M){if(M)e:{var $=s;g=g.split(".");for(var ae=0;ae<g.length-1;ae++){var nt=g[ae];if(!(nt in $))break e;$=$[nt]}(M=M(ae=$[g=g[g.length-1]]))!=ae&&null!=M&&e($,g,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(g){return g||function(){return function f(g,M){g instanceof String&&(g+="");var $=0,ae=!1,nt={next:function(){if(!ae&&$<g.length){var It=$++;return{value:M(It,g[It]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return nt[Symbol.iterator]=function(){return nt},nt}(this,function(M,$){return $})}});var m=m||{},T=this||self;function R(g){var M=typeof g;return"array"==(M="object"!=M?M:g?Array.isArray(g)?"array":M:"null")||"object"==M&&"number"==typeof g.length}function B(g){var M=typeof g;return"object"==M&&null!=g||"function"==M}function X(g,M,$){return g.call.apply(g.bind,arguments)}function ce(g,M,$){if(!g)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(nt,ae),g.apply(M,nt)}}return function(){return g.apply(M,arguments)}}function Re(g,M,$){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:ce).apply(null,arguments)}function rt(g,M){var $=Array.prototype.slice.call(arguments,1);return function(){var ae=$.slice();return ae.push.apply(ae,arguments),g.apply(this,ae)}}function xt(g,M){function $(){}$.prototype=M.prototype,g.aa=M.prototype,g.prototype=new $,g.prototype.constructor=g,g.Qb=function(ae,nt,It){for(var fn=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)fn[Ti-2]=arguments[Ti];return M.prototype[nt].apply(ae,fn)}}function Kt(g){const M=g.length;if(0<M){const $=Array(M);for(let ae=0;ae<M;ae++)$[ae]=g[ae];return $}return[]}function $t(g,M){for(let $=1;$<arguments.length;$++){const ae=arguments[$];if(R(ae)){const nt=g.length||0,It=ae.length||0;g.length=nt+It;for(let fn=0;fn<It;fn++)g[nt+fn]=ae[fn]}else g.push(ae)}}function Bn(g){return/^[\s\xa0]*$/.test(g)}function Rn(){var g=T.navigator;return g&&(g=g.userAgent)?g:""}function hr(g){return hr[" "](g),g}hr[" "]=function(){};var ai=!(-1==Rn().indexOf("Gecko")||-1!=Rn().toLowerCase().indexOf("webkit")&&-1==Rn().indexOf("Edge")||-1!=Rn().indexOf("Trident")||-1!=Rn().indexOf("MSIE")||-1!=Rn().indexOf("Edge"));function Rr(g,M,$){for(const ae in g)M.call($,g[ae],ae,g)}function De(g){const M={};for(const $ in g)M[$]=g[$];return M}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(g,M){let $,ae;for(let nt=1;nt<arguments.length;nt++){for($ in ae=arguments[nt],ae)g[$]=ae[$];for(let It=0;It<ke.length;It++)$=ke[It],Object.prototype.hasOwnProperty.call(ae,$)&&(g[$]=ae[$])}}function tt(g){var M=1;g=g.split(":");const $=[];for(;0<M&&g.length;)$.push(g.shift()),M--;return g.length&&$.push(g.join(":")),$}function ut(g){T.setTimeout(()=>{throw g},0)}function xe(){var g=Qm;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}var Qd=new class Sn{constructor(M,$){this.i=M,this.j=$,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new $o,g=>g.reset());class $o{constructor(){this.next=this.g=this.h=null}set(M,$){this.h=M,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let Jd,Xd=!1,Qm=new class Ru{constructor(){this.h=this.g=null}add(M,$){const ae=Qd.get();ae.set(M,$),this.h?this.h.next=ae:this.g=ae,this.h=ae}},Af=()=>{const g=T.Promise.resolve(void 0);Jd=()=>{g.then(Jm)}};var Jm=()=>{for(var g;g=xe();){try{g.h.call(g.g)}catch($){ut($)}var M=Qd;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}Xd=!1};function cc(){this.s=this.s,this.C=this.C}function lo(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}cc.prototype.s=!1,cc.prototype.ma=function(){this.s||(this.s=!0,this.N())},cc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},lo.prototype.h=function(){this.defaultPrevented=!0};var Xy=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const $=()=>{};T.addEventListener("test",$,M),T.removeEventListener("test",$,M)}catch{}return g}();function Ql(g,M){if(lo.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var $=this.type=g.type,ae=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if(ai){e:{try{hr(M.nodeName);var nt=!0;break e}catch{}nt=!1}nt||(M=null)}}else"mouseover"==$?M=g.fromElement:"mouseout"==$&&(M=g.toElement);this.relatedTarget=M,ae?(this.clientX=void 0!==ae.clientX?ae.clientX:ae.pageX,this.clientY=void 0!==ae.clientY?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:ev[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ql.aa.h.call(this)}}xt(Ql,lo);var ev={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),lg=0;function tv(g,M,$,ae,nt){this.listener=g,this.proxy=null,this.src=M,this.type=$,this.capture=!!ae,this.ha=nt,this.key=++lg,this.da=this.fa=!1}function Sf(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Pf(g){this.src=g,this.g={},this.h=0}function dg(g,M){var $=M.type;if($ in g.g){var It,ae=g.g[$],nt=Array.prototype.indexOf.call(ae,M,void 0);(It=0<=nt)&&Array.prototype.splice.call(ae,nt,1),It&&(Sf(M),0==g.g[$].length&&(delete g.g[$],g.h--))}}function hg(g,M,$,ae){for(var nt=0;nt<g.length;++nt){var It=g[nt];if(!It.da&&It.listener==M&&It.capture==!!$&&It.ha==ae)return nt}return-1}Pf.prototype.add=function(g,M,$,ae,nt){var It=g.toString();(g=this.g[It])||(g=this.g[It]=[],this.h++);var fn=hg(g,M,ae,nt);return-1<fn?(M=g[fn],$||(M.fa=!1)):((M=new tv(M,this.src,It,!!ae,nt)).fa=$,g.push(M)),M};var Xo="closure_lm_"+(1e6*Math.random()|0),th={};function Xm(g,M,$,ae,nt){if(ae&&ae.once)return pg(g,M,$,ae,nt);if(Array.isArray(M)){for(var It=0;It<M.length;It++)Xm(g,M[It],$,ae,nt);return null}return $=Of($),g&&g[eh]?g.K(M,$,B(ae)?!!ae.capture:!!ae,nt):fg(g,M,$,!1,ae,nt)}function fg(g,M,$,ae,nt,It){if(!M)throw Error("Invalid event type");var fn=B(nt)?!!nt.capture:!!nt,Ti=Mf(g);if(Ti||(g[Xo]=Ti=new Pf(g)),($=Ti.add(M,$,ae,fn,It)).proxy)return $;if(ae=function nv(){const M=mE;return function g($){return M.call(g.src,g.listener,$)}}(),$.proxy=ae,ae.src=g,ae.listener=$,g.addEventListener)Xy||(nt=fn),void 0===nt&&(nt=!1),g.addEventListener(M.toString(),ae,nt);else if(g.attachEvent)g.attachEvent(Rf(M.toString()),ae);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ae)}return $}function pg(g,M,$,ae,nt){if(Array.isArray(M)){for(var It=0;It<M.length;It++)pg(g,M[It],$,ae,nt);return null}return $=Of($),g&&g[eh]?g.L(M,$,B(ae)?!!ae.capture:!!ae,nt):fg(g,M,$,!0,ae,nt)}function gg(g,M,$,ae,nt){if(Array.isArray(M))for(var It=0;It<M.length;It++)gg(g,M[It],$,ae,nt);else ae=B(ae)?!!ae.capture:!!ae,$=Of($),g&&g[eh]?(g=g.i,(M=String(M).toString())in g.g&&-1<($=hg(It=g.g[M],$,ae,nt))&&(Sf(It[$]),Array.prototype.splice.call(It,$,1),0==It.length&&(delete g.g[M],g.h--))):g&&(g=Mf(g))&&(M=g.g[M.toString()],g=-1,M&&(g=hg(M,$,ae,nt)),($=-1<g?M[g]:null)&&Jl($))}function Jl(g){if("number"!=typeof g&&g&&!g.da){var M=g.src;if(M&&M[eh])dg(M.i,g);else{var $=g.type,ae=g.proxy;M.removeEventListener?M.removeEventListener($,ae,g.capture):M.detachEvent?M.detachEvent(Rf($),ae):M.addListener&&M.removeListener&&M.removeListener(ae),($=Mf(M))?(dg($,g),0==$.h&&($.src=null,M[Xo]=null)):Sf(g)}}}function Rf(g){return g in th?th[g]:th[g]="on"+g}function mE(g,M){if(g.da)g=!0;else{M=new Ql(M,this);var $=g.listener,ae=g.ha||g.src;g.fa&&Jl(g),g=$.call(ae,M)}return g}function Mf(g){return(g=g[Xo])instanceof Pf?g:null}var xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(g){return"function"==typeof g?g:(g[xf]||(g[xf]=function(M){return g.handleEvent(M)}),g[xf])}function Ks(){cc.call(this),this.i=new Pf(this),this.M=this,this.F=null}function Ys(g,M){var $,ae=g.F;if(ae)for($=[];ae;ae=ae.F)$.push(ae);if(g=g.M,ae=M.type||M,"string"==typeof M)M=new lo(M,g);else if(M instanceof lo)M.target=M.target||g;else{var nt=M;Ke(M=new lo(ae,g),nt)}if(nt=!0,$)for(var It=$.length-1;0<=It;It--){var fn=M.g=$[It];nt=ea(fn,ae,!0,M)&&nt}if(nt=ea(fn=M.g=g,ae,!0,M)&&nt,nt=ea(fn,ae,!1,M)&&nt,$)for(It=0;It<$.length;It++)nt=ea(fn=M.g=$[It],ae,!1,M)&&nt}function ea(g,M,$,ae){if(!(M=g.i.g[String(M)]))return!0;M=M.concat();for(var nt=!0,It=0;It<M.length;++It){var fn=M[It];if(fn&&!fn.da&&fn.capture==$){var Ti=fn.listener,Ns=fn.ha||fn.src;fn.fa&&dg(g.i,fn),nt=!1!==Ti.call(Ns,ae)&&nt}}return nt&&!ae.defaultPrevented}function e_(g,M,$){if("function"==typeof g)$&&(g=Re(g,$));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Re(g.handleEvent,g)}return 2147483647<Number(M)?-1:T.setTimeout(g,M||0)}function t_(g){g.g=e_(()=>{g.g=null,g.i&&(g.i=!1,t_(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}xt(Ks,cc),Ks.prototype[eh]=!0,Ks.prototype.removeEventListener=function(g,M,$,ae){gg(this,g,M,$,ae)},Ks.prototype.N=function(){if(Ks.aa.N.call(this),this.i){var M,g=this.i;for(M in g.g){for(var $=g.g[M],ae=0;ae<$.length;ae++)Sf($[ae]);delete g.g[M],g.h--}}this.F=null},Ks.prototype.K=function(g,M,$,ae){return this.i.add(String(g),M,!1,$,ae)},Ks.prototype.L=function(g,M,$,ae){return this.i.add(String(g),M,!0,$,ae)};class mg extends cc{constructor(M,$){super(),this.m=M,this.l=$,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:t_(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nh(g){cc.call(this),this.h=g,this.g={}}xt(nh,cc);var _g=[];function n_(g){Rr(g.g,function(M,$){this.g.hasOwnProperty($)&&Jl(M)},g),g.g={}}nh.prototype.N=function(){nh.aa.N.call(this),n_(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=T.JSON.stringify,rh=T.JSON.parse,r_=class{stringify(g){return T.JSON.stringify(g,void 0)}parse(g){return T.JSON.parse(g,void 0)}};function ed(){}function i_(){}ed.prototype.h=null;var td={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){lo.call(this,"d")}function yg(){lo.call(this,"c")}xt(Nf,lo),xt(yg,lo);var rl={},vg=null;function ih(){return vg=vg||new Ks}function nd(g){lo.call(this,rl.La,g)}function sh(g){const M=ih();Ys(M,new nd(M))}function Eg(g,M){lo.call(this,rl.STAT_EVENT,g),this.stat=M}function ho(g){const M=ih();Ys(M,new Eg(M,g))}function s_(g,M){lo.call(this,rl.Ma,g),this.size=M}function oh(g,M){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){g()},M)}function Mu(){this.g=!0}function rd(g,M,$,ae){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+function av(g,M){if(!g.g)return M;if(!M)return null;try{var $=JSON.parse(M);if($)for(g=0;g<$.length;g++)if(Array.isArray($[g])){var ae=$[g];if(!(2>ae.length)){var nt=ae[1];if(Array.isArray(nt)&&!(1>nt.length)){var It=nt[0];if("noop"!=It&&"stop"!=It&&"close"!=It)for(var fn=1;fn<nt.length;fn++)nt[fn]=""}}}return Xl($)}catch{return M}}(g,$)+(ae?" "+ae:"")})}rl.La="serverreachability",xt(nd,lo),rl.STAT_EVENT="statevent",xt(Eg,lo),rl.Ma="timingevent",xt(s_,lo),Mu.prototype.xa=function(){this.g=!1},Mu.prototype.info=function(){};var Ig,kf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},o_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ah(){}function Ja(g,M,$,ae){this.j=g,this.i=M,this.l=$,this.R=ae||1,this.U=new nh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}xt(ah,ed),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},Ig=new ah;var uh={},wg={};function Cg(g,M,$){g.L=1,g.v=Nu(Sa(M)),g.m=$,g.P=!0,u_(g,null)}function u_(g,M){g.F=Date.now(),Ff(g),g.A=Sa(g.v);var $=g.A,ae=g.R;Array.isArray(ae)||(ae=[String(ae)]),Pg($.i,"t",ae),g.C=0,$=g.j.J,g.h=new a_,g.g=P_(g.j,$?M:null,!g.m),0<g.O&&(g.M=new mg(Re(g.Y,g,g.g),g.O)),M=g.U,$=g.g,ae=g.ca;var nt="readystatechange";Array.isArray(nt)||(nt&&(_g[0]=nt.toString()),nt=_g);for(var It=0;It<nt.length;It++){var fn=Xm($,nt[It],ae||M.handleEvent,!1,M.h||M);if(!fn)break;M.g[fn.key]=fn}M=g.H?De(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),sh(),function iv(g,M,$,ae,nt,It){g.info(function(){if(g.g)if(It)for(var fn="",Ti=It.split("&"),Ns=0;Ns<Ti.length;Ns++){var ri=Ti[Ns].split("=");if(1<ri.length){var Hs=ri[0];ri=ri[1];var Js=Hs.split("_");fn=2<=Js.length&&"type"==Js[1]?fn+(Hs+"=")+ri+"&":fn+(Hs+"=redacted&")}}else fn=null;else fn=It;return"XMLHTTP REQ ("+ae+") [attempt "+nt+"]: "+M+"\n"+$+"\n"+fn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function c_(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function uv(g,M){var $=g.C,ae=M.indexOf("\n",$);return-1==ae?wg:($=Number(M.substring($,ae)),isNaN($)?uh:(ae+=1)+$>M.length?wg:(M=M.slice(ae,ae+$),g.C=ae+$,M))}function Ff(g){g.S=Date.now()+g.I,l_(g,g.I)}function l_(g,M){if(null!=g.B)throw Error("WatchDog timer not null");g.B=oh(Re(g.ba,g),M)}function Lf(g){g.B&&(T.clearTimeout(g.B),g.B=null)}function id(g){0==g.j.G||g.J||A_(g.j,g)}function il(g){Lf(g);var M=g.M;M&&"function"==typeof M.ma&&M.ma(),g.M=null,n_(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function d_(g,M){try{var $=g.j;if(0!=$.G&&($.g==g||Dg($.h,g)))if(!g.K&&Dg($.h,g)&&3==$.G){try{var ae=$.Da.g.parse(M)}catch{ae=null}if(Array.isArray(ae)&&3==ae.length){var nt=ae;if(0==nt[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<g.F))break e;Gf($),xg($)}Hf($),ho(18)}}else $.za=nt[1],0<$.za-$.T&&37500>nt[2]&&$.F&&0==$.v&&!$.C&&($.C=oh(Re($.Za,$),6e3));if(1>=ch($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else pc($,11)}else if((g.K||$.g==g)&&Gf($),!Bn(M))for(nt=$.Da.g.parse(M),M=0;M<nt.length;M++){let ri=nt[M];if($.T=ri[0],ri=ri[1],2==$.G)if("c"==ri[0]){$.K=ri[1],$.ia=ri[2];const Hs=ri[3];null!=Hs&&($.la=Hs,$.j.info("VER="+$.la));const Js=ri[4];null!=Js&&($.Aa=Js,$.j.info("SVER="+$.Aa));const dd=ri[5];null!=dd&&"number"==typeof dd&&0<dd&&($.L=ae=1.5*dd,$.j.info("backChannelRequestTimeoutMs_="+ae)),ae=$;const ta=g.g;if(ta){const mh=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var It=ae.h;It.g||-1==mh.indexOf("spdy")&&-1==mh.indexOf("quic")&&-1==mh.indexOf("h2")||(It.j=It.l,It.g=new Set,It.h&&(bg(It,It.h),It.h=null))}if(ae.D){const Zf=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;Zf&&(ae.ya=Zf,gi(ae.I,ae.D,Zf))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-g.F,$.j.info("Handshake RTT: "+$.R+"ms"));var fn=g;if((ae=$).qa=qf(ae,ae.J?ae.ia:null,ae.W),fn.K){Vf(ae.h,fn);var Ti=fn,Ns=ae.L;Ns&&(Ti.I=Ns),Ti.B&&(Lf(Ti),Ff(Ti)),ae.g=fn}else b_(ae);0<$.i.length&&$f($)}else"stop"!=ri[0]&&"close"!=ri[0]||pc($,7);else 3==$.G&&("stop"==ri[0]||"close"==ri[0]?"stop"==ri[0]?pc($,7):ud($):"noop"!=ri[0]&&$.l&&$.l.ta(ri),$.v=0)}sh()}catch{}}function Tg(g){this.l=g||10,g=T.PerformanceNavigationTiming?0<(g=T.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ch(g){return g.h?1:g.g?g.g.size:0}function Dg(g,M){return g.h?g.h==M:!!g.g&&g.g.has(M)}function bg(g,M){g.g?g.g.add(M):g.h=M}function Vf(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}function f_(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let M=g.i;for(const $ of g.g.values())M=M.concat($.D);return M}return Kt(g.i)}function Qs(g,M){if(g.forEach&&"function"==typeof g.forEach)g.forEach(M,void 0);else if(R(g)||"string"==typeof g)Array.prototype.forEach.call(g,M,void 0);else for(var $=function lh(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(R(g)||"string"==typeof g){var M=[];g=g.length;for(var $=0;$<g;$++)M.push($);return M}M=[],$=0;for(const ae in g)M[$++]=ae;return M}}}(g),ae=function Xa(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(R(g)){for(var M=[],$=g.length,ae=0;ae<$;ae++)M.push(g[ae]);return M}for(ae in M=[],$=0,g)M[$++]=g[ae];return M}(g),nt=ae.length,It=0;It<nt;It++)M.call(void 0,ae[It],$&&$[It],g)}Ja.prototype.ca=function(g){g=g.target;const M=this.M;M&&3==Fu(g)?M.j():this.Y(g)},Ja.prototype.Y=function(g){try{if(g==this.g)e:{const Js=Fu(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Js)&&(3!=Js||this.g&&(this.h.h||this.g.oa()||w_(this.g)))){this.J||4!=Js||7==M||sh(),Lf(this);var $=this.g.Z();this.X=$;t:if(c_(this)){var ae=w_(this.g);g="";var nt=ae.length,It=4==Fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){il(this),id(this);var fn="";break t}this.h.i=new T.TextDecoder}for(M=0;M<nt;M++)this.h.h=!0,g+=this.h.i.decode(ae[M],{stream:!(It&&M==nt-1)});ae.length=0,this.h.g+=g,this.C=0,fn=this.h.g}else fn=this.g.oa();if(this.o=200==$,function sv(g,M,$,ae,nt,It,fn){g.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+nt+"]: "+M+"\n"+$+"\n"+It+" "+fn})}(this.i,this.u,this.A,this.l,this.R,Js,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ti,Ns=this.g;if((Ti=Ns.g?Ns.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bn(Ti)){var ri=Ti;break t}}ri=null}if(!($=ri)){this.o=!1,this.s=3,ho(12),il(this),id(this);break e}rd(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d_(this,$)}if(this.P){let ta;for($=!0;!this.J&&this.C<fn.length;){if(ta=uv(this,fn),ta==wg){4==Js&&(this.s=4,ho(14),$=!1),rd(this.i,this.l,null,"[Incomplete Response]");break}if(ta==uh){this.s=4,ho(15),rd(this.i,this.l,fn,"[Invalid Chunk]"),$=!1;break}rd(this.i,this.l,ta,null),d_(this,ta)}if(c_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Js||0!=fn.length||this.h.h||(this.s=1,ho(16),$=!1),this.o=this.o&&$,$){if(0<fn.length&&!this.W){this.W=!0;var Hs=this.j;Hs.g==this&&Hs.ba&&!Hs.M&&(Hs.j.info("Great, no buffering proxy detected. Bytes received: "+fn.length),zf(Hs),Hs.M=!0,ho(11))}}else rd(this.i,this.l,fn,"[Invalid Chunked Response]"),il(this),id(this)}else rd(this.i,this.l,fn,null),d_(this,fn);4==Js&&il(this),this.o&&!this.J&&(4==Js?A_(this.j,this):(this.o=!1,Ff(this)))}else(function hv(g){const M={};g=(g.g&&2<=Fu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ae=0;ae<g.length;ae++){if(Bn(g[ae]))continue;var $=tt(g[ae]);const nt=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const It=M[nt]||[];M[nt]=It,It.push($)}!function We(g,M){for(const $ in g)M.call(void 0,g[$],$,g)}(M,function(ae){return ae.join(", ")})})(this.g),400==$&&0<fn.indexOf("Unknown SID")?(this.s=3,ho(12)):(this.s=0,ho(13)),il(this),id(this)}}}catch{}},Ja.prototype.cancel=function(){this.J=!0,il(this)},Ja.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function ov(g,M){g.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(sh(),ho(17)),il(this),this.s=2,id(this)):l_(this,this.S-g)},Tg.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof $s){this.h=g.h,xu(this,g.j),this.o=g.o,this.g=g.g,Ou(this,g.s),this.l=g.l;var M=g.i,$=new od;$.i=M.i,M.g&&($.g=new Map(M.g),$.h=M.h),sl(this,$),this.m=g.m}else g&&(M=String(g).match(lc))?(this.h=!1,xu(this,M[1]||"",!0),this.o=eu(M[2]||""),this.g=eu(M[3]||"",!0),Ou(this,M[4]),this.l=eu(M[5]||"",!0),sl(this,M[6]||"",!0),this.m=eu(M[7]||"")):(this.h=!1,this.i=new od(null,this.h))}function Sa(g){return new $s(g)}function xu(g,M,$){g.j=$?eu(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function Ou(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function sl(g,M,$){M instanceof od?(g.i=M,function lv(g,M){M&&!g.j&&(ku(g),g.i=null,g.g.forEach(function($,ae){var nt=ae.toLowerCase();ae!=nt&&(Ag(this,ae),Pg(this,nt,$))},g)),g.j=M}(g.i,g.h)):($||(M=tu(M,m_)),g.i=new od(M,g.h))}function gi(g,M,$){g.i.set(M,$)}function Nu(g){return gi(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function eu(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function tu(g,M,$){return"string"==typeof g?(g=encodeURI(g).replace(M,sd),$&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function sd(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}$s.prototype.toString=function(){var g=[],M=this.j;M&&g.push(tu(M,ol,!0),":");var $=this.g;return($||"file"==M)&&(g.push("//"),(M=this.o)&&g.push(tu(M,ol,!0),"@"),g.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&g.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&g.push("/"),g.push(tu($,"/"==$.charAt(0)?g_:p_,!0))),($=this.i.toString())&&g.push("?",$),($=this.m)&&g.push("#",tu($,__)),g.join("")};var g,ol=/[#\/\?@]/g,p_=/[#\?:]/g,g_=/[#\?]/g,m_=/[#\?@]/g,__=/#/g;function od(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function ku(g){g.g||(g.g=new Map,g.h=0,g.i&&function Uf(g,M){if(g){g=g.split("&");for(var $=0;$<g.length;$++){var ae=g[$].indexOf("="),nt=null;if(0<=ae){var It=g[$].substring(0,ae);nt=g[$].substring(ae+1)}else It=g[$];M(It,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}(g.i,function(M,$){g.add(decodeURIComponent(M.replace(/\+/g," ")),$)}))}function Ag(g,M){ku(g),M=dc(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function Sg(g,M){return ku(g),M=dc(g,M),g.g.has(M)}function Pg(g,M,$){Ag(g,M),0<$.length&&(g.i=null,g.g.set(dc(g,M),Kt($)),g.h+=$.length)}function dc(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function hc(g,M,$,ae,nt){try{nt&&(nt.onload=null,nt.onerror=null,nt.onabort=null,nt.ontimeout=null),ae($)}catch{}}function dv(){this.g=new r_}function vE(g,M,$){const ae=$||"";try{Qs(g,function(nt,It){let fn=nt;B(nt)&&(fn=Xl(nt)),M.push(ae+It+"="+encodeURIComponent(fn))})}catch(nt){throw M.push(ae+"type="+encodeURIComponent("_badmap")),nt}}function dh(g){this.l=g.Ub||null,this.j=g.eb||!1}function Rg(g,M){Ks.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y_(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function hh(g){g.readyState=4,g.l=null,g.j=null,g.v=null,fh(g)}function fh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Bf(g){let M="";return Rr(g,function($,ae){M+=ae,M+=":",M+=$,M+="\r\n"}),M}function al(g,M,$){e:{for(ae in $){var ae=!1;break e}ae=!0}ae||($=Bf($),"string"==typeof g?null!=$&&encodeURIComponent(String($)):gi(g,M,$))}function Ji(g){Ks.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=od.prototype).add=function(g,M){ku(this),this.i=null,g=dc(this,g);var $=this.g.get(g);return $||this.g.set(g,$=[]),$.push(M),this.h+=1,this},a.forEach=function(g,M){ku(this),this.g.forEach(function($,ae){$.forEach(function(nt){g.call(M,nt,ae,this)},this)},this)},a.na=function(){ku(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),$=[];for(let ae=0;ae<M.length;ae++){const nt=g[ae];for(let It=0;It<nt.length;It++)$.push(M[ae])}return $},a.V=function(g){ku(this);let M=[];if("string"==typeof g)Sg(this,g)&&(M=M.concat(this.g.get(dc(this,g))));else{g=Array.from(this.g.values());for(let $=0;$<g.length;$++)M=M.concat(g[$])}return M},a.set=function(g,M){return ku(this),this.i=null,Sg(this,g=dc(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},a.get=function(g,M){return g&&0<(g=this.V(g)).length?String(g[0]):M},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var $=0;$<M.length;$++){var ae=M[$];const It=encodeURIComponent(String(ae)),fn=this.V(ae);for(ae=0;ae<fn.length;ae++){var nt=It;""!==fn[ae]&&(nt+="="+encodeURIComponent(String(fn[ae]))),g.push(nt)}}return this.i=g.join("&")},xt(dh,ed),dh.prototype.g=function(){return new Rg(this.l,this.j)},dh.prototype.i=(g={},function(){return g}),xt(Rg,Ks),(a=Rg.prototype).open=function(g,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,fh(this)},a.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||T).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hh(this)),this.readyState=0},a.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y_(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?hh(this):fh(this),3==this.readyState&&y_(this)}},a.Ra=function(g){this.g&&(this.response=this.responseText=g,hh(this))},a.Qa=function(g){this.g&&(this.response=g,hh(this))},a.ga=function(){this.g&&hh(this)},a.setRequestHeader=function(g,M){this.u.append(g,M)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var $=M.next();!$.done;)g.push(($=$.value)[0]+": "+$[1]),$=M.next();return g.join("\r\n")},Object.defineProperty(Rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),xt(Ji,Ks);var jf=/^https?$/i,v_=["POST","PUT"];function ad(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,Mg(g),fc(g)}function Mg(g){g.A||(g.A=!0,Ys(g,"complete"),Ys(g,"error"))}function E_(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Fu(g)||2!=g.Z()))if(g.u&&4==Fu(g))e_(g.Ea,0,g);else if(Ys(g,"readystatechange"),4==Fu(g)){g.h=!1;try{const fn=g.Z();e:switch(fn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var $;if(!($=M)){var ae;if(ae=0===fn){var nt=String(g.D).match(lc)[1]||null;!nt&&T.self&&T.self.location&&(nt=T.self.location.protocol.slice(0,-1)),ae=!jf.test(nt?nt.toLowerCase():"")}$=ae}if($)Ys(g,"complete"),Ys(g,"success");else{g.m=6;try{var It=2<Fu(g)?g.g.statusText:""}catch{It=""}g.l=It+" ["+g.Z()+"]",Mg(g)}}finally{fc(g)}}}function fc(g,M){if(g.g){I_(g);const $=g.g,ae=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||Ys(g,"ready");try{$.onreadystatechange=ae}catch{}}}function I_(g){g.I&&(T.clearTimeout(g.I),g.I=null)}function Fu(g){return g.g?g.g.readyState:0}function w_(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(g,M,$){return $&&$.internalChannelParams&&$.internalChannelParams[g]||M}function ph(g){this.Aa=0,this.i=[],this.j=new Mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,g),this.cb=ul("retryDelaySeedMs",1e4,g),this.Wa=ul("forwardChannelMaxRetries",2,g),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tg(g&&g.concurrentRequestLimit),this.Da=new dv,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ud(g){if(C_(g),3==g.G){var M=g.U++,$=Sa(g.I);if(gi($,"SID",g.K),gi($,"RID",M),gi($,"TYPE","terminate"),cd(g,$),(M=new Ja(g,g.j,M)).L=2,M.v=Nu(Sa($)),$=!1,T.navigator&&T.navigator.sendBeacon)try{$=T.navigator.sendBeacon(M.v.toString(),"")}catch{}!$&&T.Image&&((new Image).src=M.v,$=!0),$||(M.g=P_(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Ff(M)}Wf(g)}function xg(g){g.g&&(zf(g),g.g.cancel(),g.g=null)}function C_(g){xg(g),g.u&&(T.clearTimeout(g.u),g.u=null),Gf(g),g.h.cancel(),g.s&&("number"==typeof g.s&&T.clearTimeout(g.s),g.s=null)}function $f(g){if(!cv(g.h)&&!g.s){g.s=!0;var M=g.Ga;Jd||Af(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.B=0}}function T_(g,M){var $;$=M?M.l:g.U++;const ae=Sa(g.I);gi(ae,"SID",g.K),gi(ae,"RID",$),gi(ae,"AID",g.T),cd(g,ae),g.m&&g.o&&al(ae,g.m,g.o),$=new Ja(g,g.j,$,g.B+1),null===g.m&&($.H=g.o),M&&(g.i=M.D.concat(g.i)),M=D_(g,$,1e3),$.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),bg(g.h,$),Cg($,ae,M)}function cd(g,M){g.H&&Rr(g.H,function($,ae){gi(M,ae,$)}),g.l&&Qs({},function($,ae){gi(M,ae,$)})}function D_(g,M,$){$=Math.min(g.i.length,$);var ae=g.l?Re(g.l.Na,g.l,g):null;e:{var nt=g.i;let It=-1;for(;;){const fn=["count="+$];-1==It?0<$?(It=nt[0].g,fn.push("ofs="+It)):It=0:fn.push("ofs="+It);let Ti=!0;for(let Ns=0;Ns<$;Ns++){let ri=nt[Ns].g;const Hs=nt[Ns].map;if(ri-=It,0>ri)It=Math.max(0,nt[Ns].g-100),Ti=!1;else try{vE(Hs,fn,"req"+ri+"_")}catch{ae&&ae(Hs)}}if(Ti){ae=fn.join("&");break e}}}return g=g.i.splice(0,$),M.D=g,ae}function b_(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;Jd||Af(),Xd||(Jd(),Xd=!0),Qm.add(M,g),g.v=0}}function Hf(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=oh(Re(g.Fa,g),S_(g,g.v)),g.v++,0))}function zf(g){null!=g.A&&(T.clearTimeout(g.A),g.A=null)}function Ng(g){g.g=new Ja(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var M=Sa(g.qa);gi(M,"RID","rpc"),gi(M,"SID",g.K),gi(M,"AID",g.T),gi(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&gi(M,"TO",g.ja),gi(M,"TYPE","xmlhttp"),cd(g,M),g.m&&g.o&&al(M,g.m,g.o),g.L&&(g.g.I=g.L);var $=g.g;g=g.ia,$.L=1,$.v=Nu(Sa(M)),$.m=null,$.P=!0,u_($,g)}function Gf(g){null!=g.C&&(T.clearTimeout(g.C),g.C=null)}function A_(g,M){var $=null;if(g.g==M){Gf(g),zf(g),g.g=null;var ae=2}else{if(!Dg(g.h,M))return;$=M.D,Vf(g.h,M),ae=1}if(0!=g.G)if(M.o)if(1==ae){$=M.m?M.m.length:0,M=Date.now()-M.F;var nt=g.B;Ys(ae=ih(),new s_(ae,$)),$f(g)}else b_(g);else if(3==(nt=M.s)||0==nt&&0<M.X||!(1==ae&&function Og(g,M){return!(ch(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=M.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=oh(Re(g.Ga,g,M),S_(g,g.B)),g.B++,0)))}(g,M)||2==ae&&Hf(g)))switch($&&0<$.length&&(M=g.h,M.i=M.i.concat($)),nt){case 1:pc(g,5);break;case 4:pc(g,10);break;case 3:pc(g,6);break;default:pc(g,2)}}function S_(g,M){let $=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||($*=2),$*M}function pc(g,M){if(g.j.info("Error code "+M),2==M){var $=Re(g.fb,g),ae=g.Xa;const nt=!ae;ae=new $s(ae||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||xu(ae,"https"),Nu(ae),nt?function _E(g,M){const $=new Mu;if(T.Image){const ae=new Image;ae.onload=rt(hc,$,"TestLoadImage: loaded",!0,M,ae),ae.onerror=rt(hc,$,"TestLoadImage: error",!1,M,ae),ae.onabort=rt(hc,$,"TestLoadImage: abort",!1,M,ae),ae.ontimeout=rt(hc,$,"TestLoadImage: timeout",!1,M,ae),T.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=g}else M(!1)}(ae.toString(),$):function yE(g,M){new Mu;const ae=new AbortController,nt=setTimeout(()=>{ae.abort(),hc(0,0,!1,M)},1e4);fetch(g,{signal:ae.signal}).then(It=>{clearTimeout(nt),hc(0,0,!!It.ok,M)}).catch(()=>{clearTimeout(nt),hc(0,0,!1,M)})}(ae.toString(),$)}else ho(2);g.G=0,g.l&&g.l.sa(M),Wf(g),C_(g)}function Wf(g){if(g.G=0,g.ka=[],g.l){const M=f_(g.h);(0!=M.length||0!=g.i.length)&&($t(g.ka,M),$t(g.ka,g.i),g.h.i.length=0,Kt(g.i),g.i.length=0),g.l.ra()}}function qf(g,M,$){var ae=$ instanceof $s?Sa($):new $s($);if(""!=ae.g)M&&(ae.g=M+"."+ae.g),Ou(ae,ae.s);else{var nt=T.location;ae=nt.protocol,M=M?M+"."+nt.hostname:nt.hostname,nt=+nt.port;var It=new $s(null);ae&&xu(It,ae),M&&(It.g=M),nt&&Ou(It,nt),$&&(It.l=$),ae=It}return M=g.ya,($=g.D)&&M&&gi(ae,$,M),gi(ae,"VER",g.la),cd(g,ae),ae}function P_(g,M,$){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Ji(g.Ca&&!g.pa?new dh({eb:$}):g.pa)).Ha(g.J),M}function gh(){}function cl(){}function Io(g,M){Ks.call(this),this.g=new ph(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!Bn(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!Bn(M)&&(this.g.D=M,null!==(g=this.h)&&M in g&&M in(g=this.h)&&delete g[M]),this.j=new ld(this)}function kg(g){Nf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const $ in M){g=$;break e}g=void 0}(this.i=g)&&(g=this.i,M=null!==M&&g in M?M[g]:void 0),this.data=M}else this.data=g}function R_(){yg.call(this),this.status=1}function ld(g){this.g=g}(a=Ji.prototype).Ha=function(g){this.J=g},a.ea=function(g,M,$,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ig.g(),this.v=function rv(g){return g.h||(g.h=g.i())}(this.o?this.o:Ig),this.g.onreadystatechange=Re(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(It){return void ad(this,It)}if(g=$||"",$=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var nt in ae)$.set(nt,ae[nt]);else{if("function"!=typeof ae.keys||"function"!=typeof ae.get)throw Error("Unknown input type for opt_headers: "+String(ae));for(const It of ae.keys())$.set(It,ae.get(It))}ae=Array.from($.keys()).find(It=>"content-type"==It.toLowerCase()),nt=T.FormData&&g instanceof T.FormData,!(0<=Array.prototype.indexOf.call(v_,M,void 0))||ae||nt||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[It,fn]of $)this.g.setRequestHeader(It,fn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I_(this),this.u=!0,this.g.send(g),this.u=!1}catch(It){ad(this,It)}},a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ys(this,"complete"),Ys(this,"abort"),fc(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),Ji.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?E_(this):this.bb())},a.bb=function(){E_(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Fu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&0==M.indexOf(g)&&(M=M.substring(g.length)),rh(M)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=ph.prototype).la=8,a.G=1,a.connect=function(g,M,$,ae){ho(0),this.W=g,this.H=M||{},$&&void 0!==ae&&(this.H.OSID=$,this.H.OAID=ae),this.F=this.X,this.I=qf(this,null,this.W),$f(this)},a.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const nt=new Ja(this,this.j,g);let It=this.o;if(this.S&&(It?(It=De(It),Ke(It,this.S)):It=this.S),null!==this.m||this.O||(nt.H=It,It=null),this.P)e:{for(var M=0,$=0;$<this.i.length;$++){var ae=this.i[$];if(void 0===(ae="__data__"in ae.map&&"string"==typeof(ae=ae.map.__data__)?ae.length:void 0))break;if(4096<(M+=ae)){M=$;break e}if(4096===M||$===this.i.length-1){M=$+1;break e}}M=1e3}else M=1e3;M=D_(this,nt,M),gi($=Sa(this.I),"RID",g),gi($,"CVER",22),this.D&&gi($,"X-HTTP-Session-Id",this.D),cd(this,$),It&&(this.O?M="headers="+encodeURIComponent(String(Bf(It)))+"&"+M:this.m&&al($,this.m,It)),bg(this.h,nt),this.Ua&&gi($,"TYPE","init"),this.P?(gi($,"$req",M),gi($,"SID","null"),nt.T=!0,Cg(nt,$,null)):Cg(nt,$,M),this.G=2}}else 3==this.G&&(g?T_(this,g):0==this.i.length||cv(this.h)||T_(this))},a.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=oh(Re(this.ab,this),g)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ho(10),xg(this),Ng(this))},a.Za=function(){null!=this.C&&(this.C=null,xg(this),Hf(this),ho(19))},a.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ho(2)):(this.j.info("Failed to ping google.com"),ho(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=gh.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},cl.prototype.g=function(g,M){return new Io(g,M)},xt(Io,Ks),Io.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Io.prototype.close=function(){ud(this.g)},Io.prototype.o=function(g){var M=this.g;if("string"==typeof g){var $={};$.__data__=g,g=$}else this.u&&(($={}).__data__=Xl(g),g=$);M.i.push(new class{constructor(g,M){this.g=g,this.map=M}}(M.Ya++,g)),3==M.G&&$f(M)},Io.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,Io.aa.N.call(this)},xt(kg,Nf),xt(R_,yg),xt(ld,gh),ld.prototype.ua=function(){Ys(this.g,"a")},ld.prototype.ta=function(g){Ys(this.g,new kg(g))},ld.prototype.sa=function(g){Ys(this.g,new R_)},ld.prototype.ra=function(){Ys(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Io.prototype.send=Io.prototype.o,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,qe=re.createWebChannelTransport=function(){return new cl},an=re.getStatEventTarget=function(){return ih()},Dt=re.Event=rl,Vt=re.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,pt=re.ErrorCode=kf,o_.COMPLETE="complete",Ct=re.EventType=o_,i_.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Ks.prototype.listen=Ks.prototype.K,Fe=re.WebChannel=i_,lt=re.FetchXmlHttpFactory=dh,Ji.prototype.listenOnce=Ji.prototype.L,Ji.prototype.getLastError=Ji.prototype.Ka,Ji.prototype.getLastErrorCode=Ji.prototype.Ba,Ji.prototype.getStatus=Ji.prototype.Z,Ji.prototype.getResponseJson=Ji.prototype.Oa,Ji.prototype.getResponseText=Ji.prototype.oa,Ji.prototype.send=Ji.prototype.ea,Ji.prototype.setWithCredentials=Ji.prototype.Ha,Ie=re.XhrIo=Ji}).apply(typeof se<"u"?se:typeof self<"u"?self:typeof window<"u"?window:{});const Le="@firebase/firestore";class Qe{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let Ze="10.12.1";const Ye=new Ce.Yd("@firebase/firestore");function _t(){return Ye.logLevel}function At(a){Ye.setLogLevel(a)}function pe(a,...e){if(Ye.logLevel<=Ce.in.DEBUG){const r=e.map(kn);Ye.debug(`Firestore (${Ze}): ${a}`,...r)}}function Ht(a,...e){if(Ye.logLevel<=Ce.in.ERROR){const r=e.map(kn);Ye.error(`Firestore (${Ze}): ${a}`,...r)}}function tn(a,...e){if(Ye.logLevel<=Ce.in.WARN){const r=e.map(kn);Ye.warn(`Firestore (${Ze}): ${a}`,...r)}}function kn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function wt(a="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+a;throw Ht(e),new Error(e)}function kt(a,e){a||wt()}function Ut(a,e){a||wt()}function et(a,e){return a}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class be{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class He{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qe.UNAUTHENTICATED))}shutdown(){}}class ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ne{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const f=B=>this.i!==u?(u=this.i,r(B)):Promise.resolve();let m=new be;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new be,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const B=m;e.enqueueRetryable((0,d.Z)(function*(){yield B.promise,yield f(s.currentUser)}))},R=B=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(B=>R(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?R(B):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new be)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt("string"==typeof s.accessToken),new He(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new Qe(e)}}class yt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new yt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=f=>{null!=f.error&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,pe("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(kt("string"==typeof r.token),this.R=r.token,new sn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _n(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class er{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=_n(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Rt(a,e){return a<e?-1:a>e?1:0}function En(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}function On(a){return a+"\0"}class Lt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Lt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Lt(0,0))}static max(){return new Ot(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ar{constructor(e,r,s){void 0===r?r=0:r>e.length&&wt(),void 0===s?s=e.length-r:s>e.length-r&&wt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Ar.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class en extends Ar{construct(e,r,s){return new en(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new en(r)}static emptyPath(){return new en([])}}const ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Ar{construct(e,r,s){return new Fn(e,r,s)}static isValidIdentifier(e){return ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const f=()=>{if(0===s.length)throw new oe(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new oe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new oe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(s+=T,u++):(f(),u++)}if(f(),m)throw new oe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(en.fromString(e))}static fromName(e){return new Mt(en.fromString(e).popFirst(5))}static empty(){return new Mt(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return en.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new en(e.slice()))}}class cn{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function wn(a){return a.fields.find(e=>2===e.kind)}function gn(a){return a.fields.filter(e=>2!==e.kind)}cn.UNKNOWN_ID=-1;class cr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Mn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Mn(0,Jt.min())}}function xr(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Ot.fromTimestamp(1e9===s?new Lt(r+1,0):new Lt(r,s));return new Jt(u,Mt.empty(),e)}function Di(a){return new Jt(a.readTime,a.key,-1)}class Jt{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Jt(Ot.min(),Mt.empty(),-1)}static max(){return new Jt(Ot.max(),Mt.empty(),-1)}}function Or(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Mt.comparator(a.documentKey,e.documentKey),0!==r?r:Rt(a.largestBatchId,e.largestBatchId))}const $n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function An(a){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(a){if(a.code!==we.FAILED_PRECONDITION||a.message!==$n)throw a;pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ue((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ue?r:Ue.resolve(r)}catch(r){return Ue.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ue.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ue.reject(r)}static resolve(e){return new Ue((r,s)=>{r(e)})}static reject(e){return new Ue((r,s)=>{s(e)})}static waitFor(e){return new Ue((r,s)=>{let u=0,f=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++f,m&&f===u&&r()},R=>s(R))}),m=!0,f===u&&r()})}static or(e){let r=Ue.resolve(!1);for(const s of e)r=r.next(u=>u?Ue.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,f)=>{s.push(r.call(this,u,f))}),this.waitFor(s)}static mapArray(e,r){return new Ue((s,u)=>{const f=e.length,m=new Array(f);let T=0;for(let R=0;R<f;R++){const B=R;r(e[B]).next(X=>{m[B]=X,++T,T===f&&s(m)},X=>u(X))}})}static doWhile(e,r){return new Ue((s,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):s()};f()})}}class ft{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new be,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Bt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=J(s.target.error);this.V.reject(new Bt(e,u))}}static open(e,r,s,u){try{return new ft(r,e.transaction(u,s))}catch(f){throw new Bt(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new mr(r)}}class Q{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===Q.S((0,_e.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pe("SimpleDb","Removing database:",e),Yn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(Q.C())return!0;const e=(0,_e.z$)(),r=Q.S(e),s=0<r&&r<10,u=me(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,d.Z)(function*(){return r.db||(pe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{s(m.target.result)},f.onblocked=()=>{u(new Bt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new oe(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new oe(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Bt(e,T))},f.onupgradeneeded=m=>{pe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{pe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var f=this;return(0,d.Z)(function*(){const m="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.M(e);const R=ft.open(f.db,e,m?"readonly":"readwrite",s),B=u(R).next(X=>(R.g(),X)).catch(X=>(R.abort(X),Ue.reject(X))).toPromise();return B.catch(()=>{}),yield R.m,B}catch(R){const B=R,X="FirebaseError"!==B.name&&T<3;if(pe("SimpleDb","Transaction failed with error:",B.message,"Retrying:",X),f.close(),!X)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function me(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class dt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yn(this.B.delete())}}class Bt extends oe{constructor(e,r){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class mr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(pe("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Yn(s)}add(e){return pe("SimpleDb","ADD",this.store.name,e,e),Yn(this.store.add(e))}get(e){return Yn(this.store.get(e)).next(r=>(void 0===r&&(r=null),pe("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return pe("SimpleDb","DELETE",this.store.name,e),Yn(this.store.delete(e))}count(){return pe("SimpleDb","COUNT",this.store.name),Yn(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new Ue((m,T)=>{f.onerror=R=>{T(R.target.error)},f.onsuccess=R=>{m(R.target.result)}})}{const f=this.cursor(s),m=[];return this.W(f,(T,R)=>{m.push(R)}).next(()=>m)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Ue((u,f)=>{s.onerror=m=>{f(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}j(e,r){pe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(f,m,T)=>T.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new Ue((s,u)=>{r.onerror=f=>{const m=J(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():s()}):s()}})}W(e,r){const s=[];return new Ue((u,f)=>{e.onerror=m=>{f(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const R=new dt(T),B=r(T.primaryKey,T.value,R);if(B instanceof Ue){const X=B.catch(ce=>(R.done(),Ue.reject(ce)));s.push(X)}R.isDone?u():null===R.K?T.continue():T.continue(R.K)}}).next(()=>Ue.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Yn(a){return new Ue((e,r)=>{a.onsuccess=s=>{e(s.target.result)},a.onerror=s=>{const u=J(s.target.error);r(u)}})}let Te=!1;function J(a){const e=Q.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Te||(Te=!0,setTimeout(()=>{throw s},0)),s}}return a}class V{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;pe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){r.task=null;try{pe("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Tn(s)?pe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield An(s)}yield r.X(6e4)}))}}class N{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,d.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,f=!0;return Ue.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return pe("IndexBackfiller",`Processing collection: ${m}`),this.ne(e,m,u).next(T=>{u-=T,s.add(m)});f=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.re(u,f)).next(T=>(pe("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>m.size)}))}re(e,r){let s=e;return r.changes.forEach((u,f)=>{const m=Di(f);Or(m,s)>0&&(s=m)}),new Jt(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let O=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function ue(a){return null==a}function Me(a){return 0===a&&1/a==-1/0}function gt(a){return"number"==typeof a&&Number.isInteger(a)&&!Me(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Pt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Zt(e)),e=nn(a.get(r),e);return Zt(e)}function nn(a,e){let r=e;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Zt(a){return a+"\x01\x01"}function Qt(a){const e=a.length;if(kt(e>=2),2===e)return kt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),en.emptyPath();const r=e-2,s=[];let u="";for(let f=0;f<e;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&wt(),a.charAt(m+1)){case"\x01":const T=a.substring(f,m);let R;0===u.length?R=T:(u+=T,R=u,u=""),s.push(R);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:wt()}f=m+2}return new en(s)}const zn=["userId","batchId"];function vn(a,e){return[a,Pt(e)]}function ir(a,e,r){return[a,Pt(e),r]}const Fi={},Si=["prefixPath","collectionGroup","readTime","documentId"],ii=["prefixPath","collectionGroup","documentId"],Xi=["collectionGroup","readTime","prefixPath","documentId"],$i=["canonicalId","targetId"],kr=["targetId","path"],Gn=["path","targetId"],st=["collectionId","parent"],Ge=["indexId","uid"],Et=["uid","sequenceNumber"],Xt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dn=["indexId","uid","orderedDocumentKey"],pn=["userId","collectionPath","documentId"],bn=["userId","collectionPath","largestBatchId"],Ir=["userId","collectionGroup","largestBatchId"],pr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ui=[...pr,"documentOverlays"],us=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=us,ks=[...lr,"indexConfiguration","indexState","indexEntries"],si=ks;class Fs extends tr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function zr(a,e){const r=et(a);return Q.F(r._e,e)}function wo(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function es(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function mi(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class nr{constructor(e,r){this.comparator=e,this.root=r||_r.EMPTY}insert(e,r){return new nr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new As(this.root,e,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new As(this.root,e,this.comparator,!0)}}class As{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?s(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,r,s,u,f){this.key=e,this.value=r,this.color=s??_r.RED,this.left=u??_r.EMPTY,this.right=f??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,f){return new _r(e??this.key,r??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return _r.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,r,s,u,f){return this}insert(e,r,s){return new _r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ys(this.data.getIterator())}getIteratorFrom(e){return new ys(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class ys{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pi(a){return a.hasNext()?a.getNext():void 0}class _i{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new _i([])}unionWith(e){let r=new yr(Fn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new _i(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return En(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Li extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function fo(){return typeof atob<"u"}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Li("Invalid base64 string: "+f):f}}(e);return new ci(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(a){if(kt(!!a),"string"==typeof a){let e=0;const r=Co.exec(a);if(kt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Zn(a.seconds),nanos:Zn(a.nanos)}}function Zn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function hi(a){return"string"==typeof a?ci.fromBase64String(a):ci.fromUint8Array(a)}function cs(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function zs(a){const e=a.mapValue.fields.__previous_value__;return cs(e)?zs(e):e}function Hi(a){const e=di(a.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}class Ss{constructor(e,r,s,u,f,m,T,R,B){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=R,this.useFetchStreams=B}}class Ln{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ln("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ln&&e.projectId===this.projectId&&e.database===this.database}}const jr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zr={nullValue:"NULL_VALUE"};function Ri(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?cs(a)?4:vr(a)?9007199254740991:10:wt()}function wr(a,e){if(a===e)return!0;const r=Ri(a);if(r!==Ri(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Hi(a).isEqual(Hi(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=di(u.timestampValue),T=di(f.timestampValue);return m.seconds===T.seconds&&m.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,hi(a.bytesValue).isEqual(hi(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Zn(u.geoPointValue.latitude)===Zn(f.geoPointValue.latitude)&&Zn(u.geoPointValue.longitude)===Zn(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Zn(u.integerValue)===Zn(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=Zn(u.doubleValue),T=Zn(f.doubleValue);return m===T?Me(m)===Me(T):isNaN(m)&&isNaN(T)}return!1}(a,e);case 9:return En(a.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:return function(u,f){const m=u.mapValue.fields||{},T=f.mapValue.fields||{};if(wo(m)!==wo(T))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===T[R]||!wr(m[R],T[R])))return!1;return!0}(a,e);default:return wt()}var f}function Ps(a,e){return void 0!==(a.values||[]).find(r=>wr(r,e))}function zi(a,e){if(a===e)return 0;const r=Ri(a),s=Ri(e);if(r!==s)return Rt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,e.booleanValue);case 2:return function(f,m){const T=Zn(f.integerValue||f.doubleValue),R=Zn(m.integerValue||m.doubleValue);return T<R?-1:T>R?1:T===R?0:isNaN(T)?isNaN(R)?0:-1:1}(a,e);case 3:return Rs(a.timestampValue,e.timestampValue);case 4:return Rs(Hi(a),Hi(e));case 5:return Rt(a.stringValue,e.stringValue);case 6:return function(f,m){const T=hi(f),R=hi(m);return T.compareTo(R)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const T=f.split("/"),R=m.split("/");for(let B=0;B<T.length&&B<R.length;B++){const X=Rt(T[B],R[B]);if(0!==X)return X}return Rt(T.length,R.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const T=Rt(Zn(f.latitude),Zn(m.latitude));return 0!==T?T:Rt(Zn(f.longitude),Zn(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,m){const T=f.values||[],R=m.values||[];for(let B=0;B<T.length&&B<R.length;++B){const X=zi(T[B],R[B]);if(X)return X}return Rt(T.length,R.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===jr.mapValue&&m===jr.mapValue)return 0;if(f===jr.mapValue)return 1;if(m===jr.mapValue)return-1;const T=f.fields||{},R=Object.keys(T),B=m.fields||{},X=Object.keys(B);R.sort(),X.sort();for(let ce=0;ce<R.length&&ce<X.length;++ce){const Re=Rt(R[ce],X[ce]);if(0!==Re)return Re;const rt=zi(T[R[ce]],B[X[ce]]);if(0!==rt)return rt}return Rt(R.length,X.length)}(a.mapValue,e.mapValue);default:throw wt()}}function Rs(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Rt(a,e);const r=di(a),s=di(e),u=Rt(r.seconds,s.seconds);return 0!==u?u:Rt(r.nanos,s.nanos)}function yi(a){return Gi(a)}function Gi(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=di(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?hi(a.bytesValue).toBase64():"referenceValue"in a?Mt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const f of r.values||[])u?u=!1:s+=",",s+=Gi(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of s)f?f=!1:u+=",",u+=`${m}:${Gi(r.fields[m])}`;return u+"}"}(a.mapValue):wt()}function Yt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Vn(a){return!!a&&"integerValue"in a}function Qn(a){return!!a&&"arrayValue"in a}function vi(a){return!!a&&"nullValue"in a}function Ms(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gr(a){return!!a&&"mapValue"in a}function Wi(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return es(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Wi(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wi(a.arrayValue.values[r]);return e}return Object.assign({},a)}function vr(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function qi(a){return"nullValue"in a?Zr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Yt(Ln.empty(),Mt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:wt()}function ls(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Yt(Ln.empty(),Mt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?jr:wt()}function xn(a,e){const r=zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function ts(a,e){const r=zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Gr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wi(r)}setAll(e){let r=Fn.emptyPath(),s={},u=[];e.forEach((m,T)=>{if(!r.isImmediateParentOf(T)){const R=this.getFieldsMap(r);this.applyChanges(R,s,u),s={},u=[],r=T.popLast()}m?s[T.lastSegment()]=Wi(m):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,u)}delete(e){const r=this.field(e.popLast());Gr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];Gr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){es(r,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new Kr(Wi(this.value))}}function q(a){const e=[];return es(a.fields,(r,s)=>{const u=new Fn([r]);if(Gr(s)){const f=q(s.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new _i(e)}class j{constructor(e,r,s,u,f,m,T){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=f,this.data=m,this.documentState=T}static newInvalidDocument(e){return new j(e,0,Ot.min(),Ot.min(),Ot.min(),Kr.empty(),0)}static newFoundDocument(e,r,s,u){return new j(e,1,r,Ot.min(),s,u,0)}static newNoDocument(e,r){return new j(e,2,r,Ot.min(),Ot.min(),Kr.empty(),0)}static newUnknownDocument(e,r){return new j(e,3,r,Ot.min(),Ot.min(),Kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof j&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new j(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class he{constructor(e,r){this.position=e,this.inclusive=r}}function Ee(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(s=f.field.isKeyField()?Mt.comparator(Mt.fromName(m.referenceValue),r.key):zi(m,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function je(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!wr(a.position[r],e.position[r]))return!1;return!0}class mt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class dn{}class St extends dn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Mi(e,r,s):"array-contains"===r?new Cr(e,s):"in"===r?new Gs(e,s):"not-in"===r?new xi(e,s):"array-contains-any"===r?new To(e,s):new St(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Jn(e,s):new oi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(zi(r,this.value)):null!==r&&Ri(this.value)===Ri(r)&&this.matchesComparison(zi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends dn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new un(e,r)}matches(e){return Kn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kn(a){return"and"===a.op}function Cn(a){return"or"===a.op}function Yr(a){return $r(a)&&Kn(a)}function $r(a){for(const e of a.filters)if(e instanceof un)return!1;return!0}function Qr(a){if(a instanceof St)return a.field.canonicalString()+a.op.toString()+yi(a.value);if(Yr(a))return a.filters.map(e=>Qr(e)).join(",");{const e=a.filters.map(r=>Qr(r)).join(",");return`${a.op}(${e})`}}function Wr(a,e){return a instanceof St?(s=a,(u=e)instanceof St&&s.op===u.op&&s.field.isEqual(u.field)&&wr(s.value,u.value)):a instanceof un?function(s,u){return u instanceof un&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,m,T)=>f&&Wr(m,u.filters[T]),!0)}(a,e):void wt();var s,u}function Fr(a,e){const r=a.filters.concat(e);return un.create(r,a.op)}function Vi(a){return a instanceof St?`${(r=a).field.canonicalString()} ${r.op} ${yi(r.value)}`:a instanceof un?function(r){return r.op.toString()+" {"+r.getFilters().map(Vi).join(" ,")+"}"}(a):"Filter";var r}class Mi extends St{constructor(e,r,s){super(e,r,s),this.key=Mt.fromName(s.referenceValue)}matches(e){const r=Mt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Jn extends St{constructor(e,r){super(e,"in",r),this.keys=Hr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class oi extends St{constructor(e,r){super(e,"not-in",r),this.keys=Hr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Mt.fromName(s.referenceValue))}class Cr extends St{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qn(r)&&Ps(r.arrayValue,this.value)}}class Gs extends St{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ps(this.value.arrayValue,r)}}class xi extends St{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ps(this.value.arrayValue,r)}}class To extends St{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ps(this.value.arrayValue,s))}}class Zi{constructor(e,r=null,s=[],u=[],f=null,m=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=m,this.endAt=T,this.ue=null}}function Lo(a,e=null,r=[],s=[],u=null,f=null,m=null){return new Zi(a,e,r,s,u,f,m)}function ds(a){const e=et(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Qr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),ue(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>yi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>yi(s)).join(",")),e.ue=r}return e.ue}function Ws(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Gt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Wr(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!je(a.startAt,e.startAt)&&je(a.endAt,e.endAt)}function sa(a){return Mt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Do(a,e){return a.filters.filter(r=>r instanceof St&&r.field.isEqual(e))}function Ei(a,e,r){let s=Zr,u=!0;for(const f of Do(a,e)){let m=Zr,T=!0;switch(f.op){case"<":case"<=":m=qi(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,T=!1;break;case"!=":case"not-in":m=Zr}xn({value:s,inclusive:u},{value:m,inclusive:T})<0&&(s=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];xn({value:s,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}function po(a,e,r){let s=jr,u=!0;for(const f of Do(a,e)){let m=jr,T=!0;switch(f.op){case">=":case">":m=ls(f.value),T=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,T=!1;break;case"!=":case"not-in":m=jr}ts({value:s,inclusive:u},{value:m,inclusive:T})>0&&(s=m,u=T)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const m=r.position[f];ts({value:s,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}class go{constructor(e,r=null,s=[],u=[],f=null,m="F",T=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=m,this.startAt=T,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function Pa(a,e,r,s,u,f,m,T){return new go(a,e,r,s,u,f,m,T)}function Dr(a){return new go(a)}function bo(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function oa(a){return null!==a.collectionGroup}function U(a){const e=et(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let T=new yr(Fn.comparator);return m.filters.forEach(R=>{R.getFlattenedFilters().forEach(B=>{B.isInequality()&&(T=T.add(B.field))})}),T})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new mt(f,s))}),r.has(Fn.keyField().canonicalString())||e.ce.push(new mt(Fn.keyField(),s))}return e.ce}function G(a){const e=et(a);return e.le||(e.le=function ee(a,e){if("F"===a.limitType)return Lo(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new mt(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new he(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new he(a.startAt.position,a.startAt.inclusive):null;return Lo(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,U(a))),e.le}function Pe(a,e){const r=a.filters.concat([e]);return new go(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function hn(a,e,r){return new go(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Nn(a,e){return Ws(G(a),G(e))&&a.limitType===e.limitType}function Oi(a){return`${ds(G(a))}|lt:${a.limitType}`}function ns(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Vi(u)).join(", ")}]`),ue(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>yi(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>yi(u)).join(",")),`Target(${s})`}(G(a))}; limitType=${a.limitType})`}function Ni(a,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Mt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,u){for(const f of U(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B<=0:B<0}(s.startAt,U(s),u)||s.endAt&&!function(m,T,R){const B=Ee(m,T,R);return m.inclusive?B>=0:B>0}(s.endAt,U(s),u)));var s,u}function eo(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function hs(a){return(e,r)=>{let s=!1;for(const u of U(a)){const f=vs(u,e,r);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function vs(a,e,r){const s=a.field.isKeyField()?Mt.comparator(e.key,r.key):function(f,m,T){const R=m.data.field(f),B=T.data.field(f);return null!==R&&null!==B?zi(R,B):wt()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}class fs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(r,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return mi(this.inner)}size(){return this.innerSize}}const _c=new nr(Mt.comparator);function Lr(){return _c}const Vo=new nr(Mt.comparator);function ki(...a){let e=Vo;for(const r of a)e=e.insert(r.key,r);return e}function nu(a){let e=Vo;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Es(){return Is()}function Ao(){return Is()}function Is(){return new fs(a=>a.toString(),(a,e)=>a.isEqual(e))}const mo=new nr(Mt.comparator),Ls=new yr(Mt.comparator);function Wn(...a){let e=Ls;for(const r of a)e=e.add(r);return e}const aa=new yr(Rt);function Uo(){return aa}function zo(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Me(e)?"-0":e}}function Go(a){return{integerValue:""+a}}function So(a,e){return gt(e)?Go(e):zo(a,e)}class Vs{constructor(){this._=void 0}}function to(a,e,r){return a instanceof ca?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&cs(f)&&(f=zs(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof Po?la(a,e):a instanceof _o?yc(a,e):function(u,f){const m=Ra(u,f),T=Wo(m)+Wo(u.Pe);return Vn(m)&&Vn(u.Pe)?Go(T):zo(u.serializer,T)}(a,e)}function ua(a,e,r){return a instanceof Po?la(a,e):a instanceof _o?yc(a,e):r}function Ra(a,e){return a instanceof Bo?Vn(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class ca extends Vs{}class Po extends Vs{constructor(e){super(),this.elements=e}}function la(a,e){const r=Uu(e);for(const s of a.elements)r.some(u=>wr(u,s))||r.push(s);return{arrayValue:{values:r}}}class _o extends Vs{constructor(e){super(),this.elements=e}}function yc(a,e){let r=Uu(e);for(const s of a.elements)r=r.filter(u=>!wr(u,s));return{arrayValue:{values:r}}}class Bo extends Vs{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Wo(a){return Zn(a.integerValue||a.doubleValue)}function Uu(a){return Qn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class jo{constructor(e,r){this.field=e,this.transform=r}}class iu{constructor(e,r){this.version=e,this.transformResults=r}}class Xr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Z{}function x(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new qr(a.key,Xr.none()):new mn(a.key,a.data,Xr.none());{const r=a.data,s=Kr.empty();let u=new yr(Fn.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?s.delete(f):s.set(f,m),u=u.add(f)}return new gr(a.key,s,new _i(u.toArray()),Xr.none())}}function W(a,e,r){a instanceof mn?function(u,f,m){const T=u.value.clone(),R=Sr(u.fieldTransforms,f,m.transformResults);T.setAll(R),f.convertToFoundDocument(m.version,T).setHasCommittedMutations()}(a,e,r):a instanceof gr?function(u,f,m){if(!D(u.precondition,f))return void f.convertToUnknownDocument(m.version);const T=Sr(u.fieldTransforms,f,m.transformResults),R=f.data;R.setAll(br(u)),R.setAll(T),f.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ge(a,e,r,s){return a instanceof mn?function(f,m,T,R){if(!D(f.precondition,m))return T;const B=f.value.clone(),X=sr(f.fieldTransforms,R,m);return B.setAll(X),m.convertToFoundDocument(m.version,B).setHasLocalMutations(),null}(a,e,r,s):a instanceof gr?function(f,m,T,R){if(!D(f.precondition,m))return T;const B=sr(f.fieldTransforms,R,m),X=m.data;return X.setAll(br(f)),X.setAll(B),m.convertToFoundDocument(m.version,X).setHasLocalMutations(),null===T?null:T.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ce=>ce.field))}(a,e,r,s):(T=r,D(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):T);var m,T}function ct(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),f=Ra(s.transform,u||null);null!=f&&(null===r&&(r=Kr.empty()),r.set(s.field,f))}return r||null}function bt(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&En(s,u,(f,m)=>function ru(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof Po&&u instanceof Po||s instanceof _o&&u instanceof _o?En(s.elements,u.elements,wr):s instanceof Bo&&u instanceof Bo?wr(s.Pe,u.Pe):s instanceof ca&&u instanceof ca);var s,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class mn extends Z{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gr extends Z{constructor(e,r,s,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function br(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function Sr(a,e,r){const s=new Map;kt(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,T=e.data.field(f.field);s.set(f.field,ua(m,T,r[u]))}return s}function sr(a,e,r){const s=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);s.set(u.field,to(f,m,e))}return s}class qr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fi{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&W(f,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=ge(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=ge(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Ao();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let T=this.applyToLocalView(m,f.mutatedFields);T=r.has(u.key)?null:T;const R=x(m,T);null!==R&&s.set(u.key,R),m.isValidDocument()||m.convertToNoDocument(Ot.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Wn())}isEqual(e){return this.batchId===e.batchId&&En(this.mutations,e.mutations,(r,s)=>bt(r,s))&&En(this.baseMutations,e.baseMutations,(r,s)=>bt(r,s))}}class Ki{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){kt(e.mutations.length===s.length);let u=mo;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,s[m].version);return new Ki(e,r,s,u)}}class ps{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ws{constructor(e,r){this.count=e,this.unchangedNames=r}}var ei,Hn;function Us(a){switch(a){default:return wt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function vc(a){if(void 0===a)return Ht("GRPC error has no .code"),we.UNKNOWN;switch(a){case ei.OK:return we.OK;case ei.CANCELLED:return we.CANCELLED;case ei.UNKNOWN:return we.UNKNOWN;case ei.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case ei.INTERNAL:return we.INTERNAL;case ei.UNAVAILABLE:return we.UNAVAILABLE;case ei.UNAUTHENTICATED:return we.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case ei.NOT_FOUND:return we.NOT_FOUND;case ei.ALREADY_EXISTS:return we.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return we.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case ei.ABORTED:return we.ABORTED;case ei.OUT_OF_RANGE:return we.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return we.UNIMPLEMENTED;case ei.DATA_LOSS:return we.DATA_LOSS;default:return wt()}}(Hn=ei||(ei={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";function qo(){return new TextEncoder}const Zo=new $e([4294967295,4294967295],0);function Cs(a){const e=qo().encode(a),r=new ze;return r.update(e),new Uint8Array(r.digest())}function Ec(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new $e([r,s],0),new $e([u,f],0)]}class Bu{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Mo(`Invalid padding: ${r}`);if(s<0)throw new Mo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Mo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Mo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=$e.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply($e.fromNumber(s)));return 1===u.compare(Zo)&&(u=new $e([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Cs(e),[s,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);if(!this.de(m))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new Bu(f,u,r);return s.forEach(T=>m.insert(T)),m}insert(e){if(0===this.Ie)return;const r=Cs(e),[s,u]=Ec(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ni{constructor(e,r,s,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new ni(Ot.min(),u,new nr(Rt),Lr(),Wn())}}class Ma{constructor(e,r,s,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ma(s,r,Wn(),Wn(),Wn())}}class su{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class ou{constructor(e,r){this.targetId=e,this.me=r}}class no{constructor(e,r,s=ci.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class xo{constructor(){this.fe=0,this.ge=wc(),this.pe=ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Wn(),r=Wn(),s=Wn();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:wt()}}),new Ma(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=wc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class au{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=Ic(),this.Qe=new nr(Rt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const f=u.target;if(sa(f))if(0===s){const m=new Mt(f.path);this.Ue(r,m,j.newNoDocument(m,Ot.min()))}else kt(1===s);else{const m=this.Ye(r);if(m!==s){const T=this.Ze(e),R=T?this.Xe(T,e,m):1;0!==R&&(this.je(r),this.Qe=this.Qe.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let m,T;try{m=hi(s).toUint8Array()}catch(R){if(R instanceof Li)return tn("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{T=new Bu(m,u,f)}catch(R){return tn(R instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===T.Ie?null:T}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(f=>{const m=this.Le.tt(),T=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const T=this.Je(m);if(T){if(f.current&&sa(T.target)){const R=new Mt(T.target.path);null!==this.ke.get(R)||this.it(m,R)||this.Ue(m,R,j.newNoDocument(R,e))}f.be&&(r.set(m,f.Ce()),f.ve())}});let s=Wn();this.qe.forEach((f,m)=>{let T=!0;m.forEachWhile(R=>{const B=this.Je(R);return!B||"TargetPurposeLimboResolution"===B.purpose||(T=!1,!1)}),T&&(s=s.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new ni(e,r,this.Qe,this.ke,s);return this.ke=Lr(),this.qe=Ic(),this.Qe=new nr(Rt),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new xo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new yr(Rt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||pe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ic(){return new nr(Mt.comparator)}function wc(){return new nr(Mt.comparator)}const Cc={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qn={and:"AND",or:"OR"};class dl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xa(a,e){return a.useProto3Json||ue(e)?e:{value:e}}function gs(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ju(a,e){return gs(a,e.toTimestamp())}function bi(a){return kt(!!a),Ot.fromTimestamp(function(r){const s=di(r);return new Lt(s.seconds,s.nanos)}(a))}function Ko(a,e){return uu(a,e).canonicalString()}function uu(a,e){const r=(u=a,new en(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function $u(a){const e=en.fromString(a);return kt(ma(e)),e}function da(a,e){return Ko(a.databaseId,e.path)}function ro(a,e){const r=$u(e);if(r.get(1)!==a.databaseId.projectId)throw new oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Mt(Hu(r))}function hl(a,e){return Ko(a.databaseId,e)}function Nt(a){const e=$u(a);return 4===e.length?en.emptyPath():Hu(e)}function Tr(a){return new en(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Hu(a){return kt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ha(a,e,r){return{name:da(a,e),fields:r.value.mapValue.fields}}function ss(a,e,r){const s=ro(a,e.name),u=bi(e.updateTime),f=e.createTime?bi(e.createTime):Ot.min(),m=new Kr({mapValue:{fields:e.fields}}),T=j.newFoundDocument(s,u,f,m);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function Ts(a,e){let r;if(e instanceof mn)r={update:ha(a,e.key,e.value)};else if(e instanceof qr)r={delete:da(a,e.key)};else if(e instanceof gr)r={update:ha(a,e.key,e.data),updateMask:Wu(e.fieldMask)};else{if(!(e instanceof Vr))return wt();r={verify:da(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,m){const T=m.transform;if(T instanceof ca)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Po)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof _o)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Bo)return{fieldPath:m.field.canonicalString(),increment:T.Pe};throw wt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:ju(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:wt()),r;var f}function fa(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Xr.updateTime(bi(f.updateTime)):void 0!==f.exists?Xr.exists(f.exists):Xr.none():Xr.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(m,T){let R=null;"setToServerValue"in T?(kt("REQUEST_TIME"===T.setToServerValue),R=new ca):"appendMissingElements"in T?R=new Po(T.appendMissingElements.values||[]):"removeAllFromArray"in T?R=new _o(T.removeAllFromArray.values||[]):"increment"in T?R=new Bo(m,T.increment):wt();const B=Fn.fromServerFormat(T.fieldPath);return new jo(B,R)}(a,u)):[];var f;if(e.update){const u=ro(a,e.update.name),f=new Kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new _i((e.updateMask.fieldPaths||[]).map(X=>Fn.fromServerFormat(X)));return new gr(u,f,m,r,s)}return new mn(u,f,r,s)}if(e.delete){const u=ro(a,e.delete);return new qr(u,r)}if(e.verify){const u=ro(a,e.verify);return new Vr(u,r)}return wt()}function bc(a,e){return{documents:[hl(a,e.path)]}}function zu(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=hl(a,u);const f=function(B){if(0!==B.length)return ga(un.create(B,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(B){if(0!==B.length)return B.map(X=>{return{field:so((Re=X).field),direction:io(Re.dir)};var Re})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const T=xa(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(r.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{_t:r,parent:u};var B}function os(a){let e=Nt(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){kt(1===s);const X=r.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let f=[];r.where&&(f=function(ce){const Re=Fa(ce);return Re instanceof un&&Yr(Re)?Re.getFilters():[Re]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Re=>{return new mt(pa((xt=Re).field),function($t){switch($t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let T=null;r.limit&&(T=function(ce){let Re;return Re="object"==typeof ce?ce.value:ce,ue(Re)?null:Re}(r.limit));let R=null;var ce;r.startAt&&(R=new he((ce=r.startAt).values||[],!!ce.before));let B=null;return r.endAt&&(B=function(ce){return new he(ce.values||[],!ce.before)}(r.endAt)),Pa(e,u,m,f,T,"F",R,B)}function Fa(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=pa(r.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=pa(r.unaryFilter.field);return St.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=pa(r.unaryFilter.field);return St.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=pa(r.unaryFilter.field);return St.create(m,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(a):void 0!==a.fieldFilter?St.create(pa((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return un.create(r.compositeFilter.filters.map(s=>Fa(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return wt()}}(r.compositeFilter.op))}(a):wt();var r}function io(a){return Cc[a]}function ms(a){return Tc[a]}function Gu(a){return qn[a]}function so(a){return{fieldPath:a.canonicalString()}}function pa(a){return Fn.fromServerFormat(a.fieldPath)}function ga(a){return a instanceof St?function(r){if("=="===r.op){if(Ms(r.value))return{unaryFilter:{field:so(r.field),op:"IS_NAN"}};if(vi(r.value))return{unaryFilter:{field:so(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ms(r.value))return{unaryFilter:{field:so(r.field),op:"IS_NOT_NAN"}};if(vi(r.value))return{unaryFilter:{field:so(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(r.field),op:ms(r.op),value:r.value}}}(a):a instanceof un?function(r){const s=r.getFilters().map(u=>ga(u));return 1===s.length?s[0]:{compositeFilter:{op:Gu(r.op),filters:s}}}(a):wt()}function Wu(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ma(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class oo{constructor(e,r,s,u,f=Ot.min(),m=Ot.min(),T=ci.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=R}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function E(a,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:S(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:da(f=a.ct,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:gs(f,m.version.toTimestamp()),createTime:gs(f,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:F(e.version)};else{if(!e.isUnknownDocument())return wt();s.unknownDocument={path:r.path.toArray(),version:F(e.version)}}var f,m;return s}function S(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function F(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Y(a){const e=new Lt(a.seconds,a.nanoseconds);return Ot.fromTimestamp(e)}function fe(a,e){const r=(e.baseMutations||[]).map(f=>fa(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>fa(a.ct,f)),u=Lt.fromMillis(e.localWriteTimeMs);return new fi(e.batchId,u,r,s)}function ot(a){const e=Y(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Y(a.lastLimboFreeSnapshotVersion):Ot.min();let s;return s=void 0!==a.query.documents?(kt(1===(f=a.query).documents.length),G(Dr(Nt(f.documents[0])))):function(f){return G(os(f))}(a.query),new oo(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,ci.fromBase64String(a.resumeToken));var f}function it(a,e){const r=F(e.snapshotVersion),s=F(e.lastLimboFreeSnapshotVersion);let u;u=sa(e.target)?bc(a.ct,e.target):zu(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ds(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function ln(a){const e=os({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?hn(e,e.limit,"L"):e}function Xn(a,e){return new ps(e.largestBatchId,fa(a.ct,e.overlayMutation))}function ur(a,e){const r=e.path.lastSegment();return[a,Pt(e.path.popLast()),r]}function dr(a,e,r,s){return{indexId:a,uid:e,sequenceNumber:r,readTime:F(s.readTime),documentKey:Pt(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ur{getBundleMetadata(e,r){return _a(e).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Y(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return _a(e).put({bundleId:(u=r).id,createTime:F(bi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ya(e).get(r).next(s=>{if(s)return{name:(f=s).name,query:ln(f.bundledQuery),readTime:Y(f.readTime)};var f})}saveNamedQuery(e,r){return ya(e).put({name:(u=r).name,readTime:F(bi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function _a(a){return zr(a,"bundles")}function ya(a){return zr(a,"namedQueries")}class va{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new va(e,r.uid||"")}getOverlay(e,r){return yo(e).get(ur(this.userId,r)).next(s=>s?Xn(this.serializer,s):null)}getOverlays(e,r){const s=Es();return Ue.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((f,m)=>{const T=new ps(r,m);u.push(this.ht(e,T))}),Ue.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(m=>u.add(Pt(m.getCollectionPath())));const f=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);f.push(yo(e).j("collectionPathOverlayIndex",T))}),Ue.waitFor(f)}getOverlaysForCollection(e,r,s){const u=Es(),f=Pt(r),m=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return yo(e).U("collectionPathOverlayIndex",m).next(T=>{for(const R of T){const B=Xn(this.serializer,R);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const f=Es();let m;const T=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return yo(e).J({index:"collectionGroupOverlayIndex",range:T},(R,B,X)=>{const ce=Xn(this.serializer,B);f.size()<u||ce.largestBatchId===m?(f.set(ce.getKey(),ce),m=ce.largestBatchId):X.done()}).next(()=>f)}ht(e,r){return yo(e).put(function(u,f,m){const[T,R,B]=ur(f,m.mutation.key);return{userId:f,collectionPath:R,documentId:B,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Ts(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function yo(a){return zr(a,"documentOverlays")}class Oo{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Zn(e.integerValue));else if("doubleValue"in e){const s=Zn(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Me(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=di(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(hi(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?vr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):wt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Mt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function pd(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function cu(a){const e=64-function(s){let u=0;for(let f=0;f<8;++f){const m=pd(255&s[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(e/8)}Oo.bt=new Oo;class ie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=cu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=cu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class de{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class te{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ae{constructor(){this.Gt=new ie,this.zt=new de(this.Gt),this.jt=new te(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ht{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ht(this.indexId,this.documentKey,this.arrayValue,s)}}function zt(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=on(a.arrayValue,e.arrayValue),0!==r?r:(r=on(a.directionalValue,e.directionalValue),0!==r?r:Mt.comparator(a.documentKey,e.documentKey)))}function on(a,e){for(let r=0;r<a.length&&r<e.length;++r){const s=a[r]-e[r];if(0!==s)return s}return a.length-e.length}class pi{constructor(e){this.Yt=new yr((r,s)=>Fn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(kt(e.collectionGroup===this.collectionId),this.en)return!1;const r=wn(e);if(void 0!==r&&!this.nn(r))return!1;const s=gn(e);let u=new Set,f=0,m=0;for(;f<s.length&&this.nn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Yt.size>0){const T=this.Yt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const R=s[f];if(!this.rn(T,R)||!this.sn(this.Zt[m++],R))return!1}++f}for(;f<s.length;++f)if(m>=this.Zt.length||!this.sn(this.Zt[m++],s[f]))return!1;return!0}on(){if(this.en)return null;let e=new yr(Fn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new cr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new cr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new cr(s.field,"asc"===s.dir?0:1)));return new cn(cn.UNKNOWN_ID,this.collectionId,r,Mn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function or(a){var e,r;if(kt(a instanceof St||a instanceof un),a instanceof St){if(a instanceof Gs){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>St.create(a.field,"==",f)))||[];return un.create(u,"or")}return a}const s=a.filters.map(u=>or(u));return un.create(s,a.op)}function Yi(a){if(0===a.getFilters().length)return[];const e=qs(or(a));return kt(uo(e)),ao(e)||Ds(e)?[e]:e.getFilters()}function ao(a){return a instanceof St}function Ds(a){return a instanceof un&&Yr(a)}function uo(a){return ao(a)||Ds(a)||function(r){if(r instanceof un&&Cn(r)){for(const s of r.getFilters())if(!ao(s)&&!Ds(s))return!1;return!0}return!1}(a)}function qs(a){if(kt(a instanceof St||a instanceof un),a instanceof St)return a;if(1===a.filters.length)return qs(a.filters[0]);const e=a.filters.map(s=>qs(s));let r=un.create(e,a.op);return r=wi(r),uo(r)?r:(kt(r instanceof un),kt(Kn(r)),kt(r.filters.length>1),r.filters.reduce((s,u)=>Yo(s,u)))}function Yo(a,e){let r;return kt(a instanceof St||a instanceof un),kt(e instanceof St||e instanceof un),r=a instanceof St?e instanceof St?un.create([a,e],"and"):Ii(a,e):e instanceof St?Ii(e,a):function(u,f){if(kt(u.filters.length>0&&f.filters.length>0),Kn(u)&&Kn(f))return Fr(u,f.getFilters());const m=Cn(u)?u:f,T=Cn(u)?f:u,R=m.filters.map(B=>Yo(B,T));return un.create(R,"or")}(a,e),wi(r)}function Ii(a,e){if(Kn(e))return Fr(e,a.getFilters());{const r=e.filters.map(s=>Yo(a,s));return un.create(r,"or")}}function wi(a){if(kt(a instanceof St||a instanceof un),a instanceof St)return a;const e=a.getFilters();if(1===e.length)return wi(e[0]);if($r(a))return a;const r=e.map(u=>wi(u)),s=[];return r.forEach(u=>{u instanceof St?s.push(u):u instanceof un&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:un.create(s,a.op)}class La{constructor(){this._n=new Va}addToCollectionParentIndex(e,r){return this._n.add(r),Ue.resolve()}getCollectionParents(e,r){return Ue.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ue.resolve()}deleteFieldIndex(e,r){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,r){return Ue.resolve()}getDocumentsMatchingTarget(e,r){return Ue.resolve(null)}getIndexType(e,r){return Ue.resolve(0)}getFieldIndexes(e,r){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,r){return Ue.resolve(Jt.min())}getMinOffsetFromCollectionGroup(e,r){return Ue.resolve(Jt.min())}updateCollectionGroup(e,r,s){return Ue.resolve()}updateIndexEntries(e,r){return Ue.resolve()}}class Va{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new yr(en.comparator),f=!u.has(s);return this.index[r]=u.add(s),f}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new yr(en.comparator)).toArray()}}const Bi=new Uint8Array(0);class Qo{constructor(e,r){this.databaseId=r,this.an=new Va,this.un=new fs(s=>ds(s),(s,u)=>Ws(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:s,parent:Pt(u)};return Ac(e).put(f)}return Ue.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return Ac(e).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;s.push(Qt(m.parent))}return s})}addFieldIndex(e,r){const s=Ua(e),u={indexId:(T=r).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var T;delete u.indexId;const f=s.add(u);if(r.indexState){const m=No(e);return f.next(T=>{m.put(dr(T,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const s=Ua(e),u=No(e),f=js(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ua(e),s=js(e),u=No(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return Ue.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const f=new pi(s).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const s=js(e);let u=!0;const f=new Map;return Ue.forEach(this.cn(r),m=>this.ln(e,m).next(T=>{u&&(u=!!T),f.set(m,T)})).next(()=>{if(u){let m=Wn();const T=[];return Ue.forEach(f,(R,B)=>{var Rn;pe("IndexedDbIndexManager",`Using index ${Rn=R,`id=${Rn.indexId}|cg=${Rn.collectionGroup}|f=${Rn.fields.map(hr=>`${hr.fieldPath}:${hr.kind}`).join(",")}`} to execute ${ds(r)}`);const X=function(Rn,hr){const ai=wn(hr);if(void 0===ai)return null;for(const Rr of Do(Rn,ai.fieldPath))switch(Rr.op){case"array-contains-any":return Rr.value.arrayValue.values||[];case"array-contains":return[Rr.value]}return null}(B,R),ce=function(Rn,hr){const ai=new Map;for(const Rr of gn(hr))for(const We of Do(Rn,Rr.fieldPath))switch(We.op){case"==":case"in":ai.set(Rr.fieldPath.canonicalString(),We.value);break;case"not-in":case"!=":return ai.set(Rr.fieldPath.canonicalString(),We.value),Array.from(ai.values())}return null}(B,R),Re=function(Rn,hr){const ai=[];let Rr=!0;for(const We of gn(hr)){const De=0===We.kind?Ei(Rn,We.fieldPath,Rn.startAt):po(Rn,We.fieldPath,Rn.startAt);ai.push(De.value),Rr&&(Rr=De.inclusive)}return new he(ai,Rr)}(B,R),rt=function(Rn,hr){const ai=[];let Rr=!0;for(const We of gn(hr)){const De=0===We.kind?po(Rn,We.fieldPath,Rn.endAt):Ei(Rn,We.fieldPath,Rn.endAt);ai.push(De.value),Rr&&(Rr=De.inclusive)}return new he(ai,Rr)}(B,R),xt=this.hn(R,B,Re),Kt=this.hn(R,B,rt),$t=this.Pn(R,B,ce),Sn=this.In(R.indexId,X,xt,Re.inclusive,Kt,rt.inclusive,$t);return Ue.forEach(Sn,Bn=>s.G(Bn,r.limit).next(Rn=>{Rn.forEach(hr=>{const ai=Mt.fromSegments(hr.documentKey);m.has(ai)||(m=m.add(ai),T.push(ai))})}))}).next(()=>T)}return Ue.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Yi(un.create(e.filters,"and")).map(s=>Lo(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,f,m,T){const R=(null!=r?r.length:1)*Math.max(s.length,f.length),B=R/(null!=r?r.length:1),X=[];for(let ce=0;ce<R;++ce){const Re=r?this.Tn(r[ce/B]):Bi,rt=this.En(e,Re,s[ce%B],u),xt=this.dn(e,Re,f[ce%B],m),Kt=T.map($t=>this.En(e,Re,$t,!0));X.push(...this.createRange(rt,xt,Kt))}return X}En(e,r,s,u){const f=new ht(e,Mt.empty(),r,s);return u?f:f.Jt()}dn(e,r,s,u){const f=new ht(e,Mt.empty(),r,s);return u?f.Jt():f}ln(e,r){const s=new pi(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let m=null;for(const T of f)s.tn(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,r){let s=2;const u=this.cn(r);return Ue.forEach(u,f=>this.ln(e,f).next(m=>{m?0!==s&&m.fields.length<function(R){let B=new yr(Fn.comparator),X=!1;for(const ce of R.filters)for(const Re of ce.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?X=!0:B=B.add(Re.field));for(const ce of R.orderBy)ce.field.isKeyField()||(B=B.add(ce.field));return B.size+(X?1:0)}(f)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new Ae;for(const u of gn(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=s.Ht(u.kind);Oo.bt.Pt(f,m)}return s.Wt()}Tn(e){const r=new Ae;return Oo.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Ae;return Oo.bt.Pt(Yt(this.databaseId,r),s.Ht(function(f){const m=gn(f);return 0===m.length?0:m[m.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new Ae);let f=0;for(const m of gn(e)){const T=s[f++];for(const R of u)if(this.Vn(r,m.fieldPath)&&Qn(T))u=this.mn(u,m,T);else{const B=R.Ht(m.kind);Oo.bt.Pt(T,B)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],f=[];for(const m of s.arrayValue.values||[])for(const T of u){const R=new Ae;R.seed(T.Wt()),Oo.bt.Pt(m,R.Ht(r.kind)),f.push(R)}return f}Vn(e,r){return!!e.filters.find(s=>s instanceof St&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Ua(e),u=No(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(f=>{const m=[];return Ue.forEach(f,T=>u.get([T.indexId,this.uid]).next(R=>{m.push(function(X,ce){const Re=ce?new Mn(ce.sequenceNumber,new Jt(Y(ce.readTime),new Mt(Qt(ce.documentKey)),ce.largestBatchId)):Mn.empty(),rt=X.fields.map(([xt,Kt])=>new cr(Fn.fromServerFormat(xt),Kt));return new cn(X.indexId,X.collectionGroup,rt,Re)}(T,R))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Rt(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=Ua(e),f=No(e);return this.gn(e).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>Ue.forEach(T,R=>f.put(dr(R.indexId,this.uid,m,s)))))}updateIndexEntries(e,r){const s=new Map;return Ue.forEach(r,(u,f)=>{const m=s.get(u.collectionGroup);return(m?Ue.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(s.set(u.collectionGroup,T),Ue.forEach(T,R=>this.pn(e,u,R).next(B=>{const X=this.yn(f,R);return B.isEqual(X)?Ue.resolve():this.wn(e,f,R,B,X)}))))})}Sn(e,r,s,u){return js(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return js(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=js(e);let f=new yr(zt);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(m,T)=>{f=f.add(new ht(s.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>f)}yn(e,r){let s=new yr(zt);const u=this.An(r,e);if(null==u)return s;const f=wn(r);if(null!=f){const m=e.data.field(f.fieldPath);if(Qn(m))for(const T of m.arrayValue.values||[])s=s.add(new ht(r.indexId,e.key,this.Tn(T),u))}else s=s.add(new ht(r.indexId,e.key,Bi,u));return s}wn(e,r,s,u,f){pe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(R,B,X,ce,Re){const rt=R.getIterator(),xt=B.getIterator();let Kt=Pi(rt),$t=Pi(xt);for(;Kt||$t;){let Sn=!1,Bn=!1;if(Kt&&$t){const Rn=X(Kt,$t);Rn<0?Bn=!0:Rn>0&&(Sn=!0)}else null!=Kt?Bn=!0:Sn=!0;Sn?(ce($t),$t=Pi(xt)):Bn?(Re(Kt),Kt=Pi(rt)):(Kt=Pi(rt),$t=Pi(xt))}}(u,f,zt,T=>{m.push(this.Sn(e,r,s,T))},T=>{m.push(this.bn(e,r,s,T))}),Ue.waitFor(m)}gn(e){let r=1;return No(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((m,T)=>zt(m,T)).filter((m,T,R)=>!T||0!==zt(m,R[T-1]));const u=[];u.push(e);for(const m of s){const T=zt(m,e),R=zt(m,r);if(0===T)u[0]=e.Jt();else if(T>0&&R<0)u.push(m),u.push(m.Jt());else if(R>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Dn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Bi,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Bi,[]]))}return f}Dn(e,r){return zt(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(rp)}getMinOffset(e,r){return Ue.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||wt())).next(rp)}}function Ac(a){return zr(a,"collectionParents")}function js(a){return zr(a,"indexEntries")}function Ua(a){return zr(a,"indexConfiguration")}function No(a){return zr(a,"indexState")}function rp(a){kt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;Or(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Jt(e.readTime,e.documentKey,r)}const Sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ih(a,e,r){const s=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let T=0;const R=s.J({range:m},(X,ce,Re)=>(T++,Re.delete()));f.push(R.next(()=>{kt(1===T)}));const B=[];for(const X of r.mutations){const ce=ir(e,X.key.path,r.batchId);f.push(u.delete(ce)),B.push(X.key)}return Ue.waitFor(f).next(()=>B)}function xs(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw wt();e=a.noDocument}return JSON.stringify(e).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class fl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){kt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new fl(f,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ko(e).J({index:"userMutationsIndex",range:s},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const f=Ea(e),m=ko(e);return m.add({}).next(T=>{kt("number"==typeof T);const R=new fi(T,r,s,u),B=function(rt,xt,Kt){const $t=Kt.baseMutations.map(Bn=>Ts(rt.ct,Bn)),Sn=Kt.mutations.map(Bn=>Ts(rt.ct,Bn));return{userId:xt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:$t,mutations:Sn}}(this.serializer,this.userId,R),X=[];let ce=new yr((Re,rt)=>Rt(Re.canonicalString(),rt.canonicalString()));for(const Re of u){const rt=ir(this.userId,Re.key.path,T);ce=ce.add(Re.key.path.popLast()),X.push(m.put(B)),X.push(f.put(rt,Fi))}return ce.forEach(Re=>{X.push(this.indexManager.addToCollectionParentIndex(e,Re))}),e.addOnCommittedListener(()=>{this.Cn[T]=R.keys()}),Ue.waitFor(X).next(()=>R)})}lookupMutationBatch(e,r){return ko(e).get(r).next(s=>s?(kt(s.userId===this.userId),fe(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?Ue.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return ko(e).J({index:"userMutationsIndex",range:u},(m,T,R)=>{T.userId===this.userId&&(kt(T.batchId>=s),f=fe(this.serializer,T)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ko(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{s=f.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ko(e).U("userMutationsIndex",r).next(s=>s.map(u=>fe(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=vn(this.userId,r.path),u=IDBKeyRange.lowerBound(s),f=[];return Ea(e).J({range:u},(m,T,R)=>{const[B,X,ce]=m,Re=Qt(X);if(B===this.userId&&r.path.isEqual(Re))return ko(e).get(ce).next(rt=>{if(!rt)throw wt();kt(rt.userId===this.userId),f.push(fe(this.serializer,rt))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new yr(Rt);const u=[];return r.forEach(f=>{const m=vn(this.userId,f.path),T=IDBKeyRange.lowerBound(m),R=Ea(e).J({range:T},(B,X,ce)=>{const[Re,rt,xt]=B,Kt=Qt(rt);Re===this.userId&&f.path.isEqual(Kt)?s=s.add(xt):ce.done()});u.push(R)}),Ue.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,f=vn(this.userId,s),m=IDBKeyRange.lowerBound(f);let T=new yr(Rt);return Ea(e).J({range:m},(R,B,X)=>{const[ce,Re,rt]=R,xt=Qt(Re);ce===this.userId&&s.isPrefixOf(xt)?xt.length===u&&(T=T.add(rt)):X.done()}).next(()=>this.Fn(e,T))}Fn(e,r){const s=[],u=[];return r.forEach(f=>{u.push(ko(e).get(f).next(m=>{if(null===m)throw wt();kt(m.userId===this.userId),s.push(fe(this.serializer,m))}))}),Ue.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Ih(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Ue.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ue.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Ea(e).J({range:s},(f,m,T)=>{if(f[0]===this.userId){const R=Qt(f[1]);u.push(R)}else T.done()}).next(()=>{kt(0===u.length)})})}containsKey(e,r){return Pc(e,this.userId,r)}xn(e){return lu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pc(a,e,r){const s=vn(e,r.path),u=s[1],f=IDBKeyRange.lowerBound(s);let m=!1;return Ea(a).J({range:f,H:!0},(T,R,B)=>{const[X,ce,Re]=T;X===e&&ce===u&&(m=!0),B.done()}).next(()=>m)}function ko(a){return zr(a,"mutations")}function Ea(a){return zr(a,"documentMutations")}function lu(a){return zr(a,"mutationQueues")}class Ia{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ia(0)}static Ln(){return new Ia(-1)}}class wh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Ia(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Ot.fromTimestamp(new Lt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ba(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(kt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const f=[];return Ba(e).J((m,T)=>{const R=ot(T);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(u++,f.push(this.removeTargetData(e,R)))}).next(()=>Ue.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Ba(e).J((s,u)=>{const f=ot(u);r(f)})}Bn(e){return pl(e).get("targetGlobalKey").next(r=>(kt(null!==r),r))}kn(e,r){return pl(e).put("targetGlobalKey",r)}qn(e,r){return Ba(e).put(it(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=ds(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Ba(e).J({range:u,index:"queryTargetsIndex"},(m,T,R)=>{const B=ot(T);Ws(r,B.target)&&(f=B,R.done())}).next(()=>f)}addMatchingKeys(e,r,s){const u=[],f=wa(e);return r.forEach(m=>{const T=Pt(m.path);u.push(f.put({targetId:s,path:T})),u.push(this.referenceDelegate.addReference(e,s,m))}),Ue.waitFor(u)}removeMatchingKeys(e,r,s){const u=wa(e);return Ue.forEach(r,f=>{const m=Pt(f.path);return Ue.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,r){const s=wa(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=wa(e);let f=Wn();return u.J({range:s,H:!0},(m,T,R)=>{const B=Qt(m[1]),X=new Mt(B);f=f.add(X)}).next(()=>f)}containsKey(e,r){const s=Pt(r.path),u=IDBKeyRange.bound([s],[On(s)],!1,!0);let f=0;return wa(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],R,B)=>{0!==m&&(f++,B.done())}).next(()=>f>0)}ot(e,r){return Ba(e).get(r).next(s=>s?ot(s):null)}}function Ba(a){return zr(a,"targets")}function pl(a){return zr(a,"targetGlobal")}function wa(a){return zr(a,"targetDocuments")}function gd([a,e],[r,s]){const u=Rt(a,r);return 0===u?Rt(e,s):u}class md{constructor(e){this.Kn=e,this.buffer=new yr(gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();gd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rc{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Tn(s)?pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield An(s)}yield r.zn(3e5)}))}}class du{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Ue.resolve(O.oe);const s=new md(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(Sc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,f,m,T,R,B;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),u=this.params.maximumSequenceNumbersToCollect):u=ce,m=Date.now(),this.nthSequenceNumber(e,u))).next(ce=>(s=ce,T=Date.now(),this.removeTargets(e,s,r))).next(ce=>(f=ce,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(ce=>(B=Date.now(),_t()<=Ce.in.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-X}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${f} targets in `+(R-T)+`ms\n\tRemoved ${ce} documents in `+(B-R)+`ms\nTotal Duration: ${B-X}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:ce})))}}class Ch{constructor(e,r){this.db=e,this.garbageCollector=function gl(a,e){return new du(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return Mc(e,s)}removeReference(e,r,s){return Mc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Mc(e,r)}er(e,r){return function(u,f){let m=!1;return lu(u).Y(T=>Pc(u,T,f).next(R=>(R&&(m=!0),Ue.resolve(!R)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(e,(m,T)=>{if(T<=r){const R=this.er(e,m).next(B=>{if(!B)return f++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Ot.min()),wa(e).delete([0,Pt(m.path)])))});u.push(R)}}).next(()=>Ue.waitFor(u)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Mc(e,r)}Xn(e,r){const s=wa(e);let u,f=O.oe;return s.J({index:"documentTargetsIndex"},([m,T],{path:R,sequenceNumber:B})=>{0===m?(f!==O.oe&&r(new Mt(Qt(u)),f),f=B,u=R):f=O.oe}).next(()=>{f!==O.oe&&r(new Mt(Qt(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mc(a,e){return wa(a).put((u=a.currentSequenceNumber,{targetId:0,path:Pt(e.path),sequenceNumber:u}));var u}class ja{constructor(){this.changes=new fs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,j.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Ue.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Jo(e).put(s)}removeEntry(e,r,s){return Jo(e).delete(function(f,m){const T=f.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],S(m),T[T.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=j.newInvalidDocument(r);return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(r))},(u,f)=>{s=this.nr(r,f)}).next(()=>s)}rr(e,r){let s={size:0,document:j.newInvalidDocument(r)};return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(r))},(u,f)=>{s={document:this.nr(r,f),size:xs(f)}}).next(()=>s)}getEntries(e,r){let s=Lr();return this.ir(e,r,(u,f)=>{const m=this.nr(u,f);s=s.insert(u,m)}).next(()=>s)}sr(e,r){let s=Lr(),u=new nr(Mt.comparator);return this.ir(e,r,(f,m)=>{const T=this.nr(f,m);s=s.insert(f,T),u=u.insert(f,xs(m))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return Ue.resolve();let u=new yr(Oc);r.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(hu(u.first()),hu(u.last())),m=u.getIterator();let T=m.getNext();return Jo(e).J({index:"documentKeyIndex",range:f},(R,B,X)=>{const ce=Mt.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;T&&Oc(T,ce)<0;)s(T,null),T=m.getNext();T&&T.isEqual(ce)&&(s(T,B),T=m.hasNext()?m.getNext():null),T?X.$(hu(T)):X.done()}).next(()=>{for(;T;)s(T,null),T=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,f){const m=r.path,T=[m.popLast().toArray(),m.lastSegment(),S(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).U(IDBKeyRange.bound(T,R,!0)).next(B=>{f?.incrementDocumentReadCount(B.length);let X=Lr();for(const ce of B){const Re=this.nr(Mt.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);Re.isFoundDocument()&&(Ni(r,Re)||u.has(Re.key))&&(X=X.insert(Re.key,Re))}return X})}getAllFromCollectionGroup(e,r,s,u){let f=Lr();const m=yd(r,s),T=yd(r,Jt.max());return Jo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(R,B,X)=>{const ce=this.nr(Mt.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);f=f.insert(ce.key,ce),f.size===u&&X.done()}).next(()=>f)}newChangeBuffer(e){return new _d(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xc(e).get("remoteDocumentGlobalKey").next(r=>(kt(!!r),r))}tr(e,r){return xc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function A(a,e){let r;if(e.document)r=ss(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Mt.fromSegments(e.noDocument.path),u=Y(e.noDocument.readTime);r=j.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt();{const s=Mt.fromSegments(e.unknownDocument.path),u=Y(e.unknownDocument.version);r=j.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const f=new Lt(u[0],u[1]);return Ot.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Ot.min()))return s}return j.newInvalidDocument(e)}}function bs(a){return new ip(a)}class _d extends ja{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new fs(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new yr((f,m)=>Rt(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const T=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,T.readTime)),m.isValidDocument()){const R=E(this.ar.serializer,m);u=u.add(f.path.popLast());const B=xs(R);s+=B-T.size,r.push(this.ar.addEntry(e,f,R))}else if(s-=T.size,this.trackRemovals){const R=E(this.ar.serializer,m.convertToNoDocument(Ot.min()));r.push(this.ar.addEntry(e,f,R))}}),u.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,s)),Ue.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((f,m)=>{this.ur.set(f,{size:m,readTime:s.get(f).readTime})}),s))}}function xc(a){return zr(a,"remoteDocumentGlobal")}function Jo(a){return zr(a,"remoteDocumentsV14")}function hu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yd(a,e){const r=e.documentKey.path.toArray();return[a,S(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Oc(a,e){const r=a.path.toArray(),s=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<s.length-2;++f)if(u=Rt(r[f],s[f]),u)return u;return u=Rt(r.length,s.length),u||(u=Rt(r[r.length-2],s[s.length-2]),u||Rt(r[r.length-1],s[s.length-1]))}class fu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class $a{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&ge(s.mutation,u,_i.empty(),Lt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Wn()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Wn()){const u=Es();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(f=>{let m=ki();return f.forEach((T,R)=>{m=m.insert(T,R.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const s=Es();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Wn()))}populateOverlays(e,r,s){const u=[];return s.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,T)=>{r.set(m,T)})})}computeViews(e,r,s,u){let f=Lr();const m=Is(),T=Is();return r.forEach((R,B)=>{const X=s.get(B.key);u.has(B.key)&&(void 0===X||X.mutation instanceof gr)?f=f.insert(B.key,B):void 0!==X?(m.set(B.key,X.mutation.getFieldMask()),ge(X.mutation,B,X.mutation.getFieldMask(),Lt.now())):m.set(B.key,_i.empty())}),this.recalculateAndSaveOverlays(e,f).next(R=>(R.forEach((B,X)=>m.set(B,X)),r.forEach((B,X)=>{var ce;return T.set(B,new fu(X,null!==(ce=m.get(B))&&void 0!==ce?ce:null))}),T))}recalculateAndSaveOverlays(e,r){const s=Is();let u=new nr((m,T)=>m-T),f=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const T of m)T.keys().forEach(R=>{const B=r.get(R);if(null===B)return;let X=s.get(R)||_i.empty();X=T.applyToLocalView(B,X),s.set(R,X);const ce=(u.get(T.batchId)||Wn()).add(R);u=u.insert(T.batchId,ce)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const R=T.getNext(),B=R.key,X=R.value,ce=Ao();X.forEach(Re=>{if(!f.has(Re)){const rt=x(r.get(Re),s.get(Re));null!==rt&&ce.set(Re,rt),f=f.add(Re)}}),m.push(this.documentOverlayCache.saveOverlays(e,B,ce))}return Ue.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Mt.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):oa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var m}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-f.size):Ue.resolve(Es());let T=-1,R=f;return m.next(B=>Ue.forEach(B,(X,ce)=>(T<ce.largestBatchId&&(T=ce.largestBatchId),f.get(X)?Ue.resolve():this.remoteDocumentCache.getEntry(e,X).next(Re=>{R=R.insert(X,Re)}))).next(()=>this.populateOverlays(e,B,f)).next(()=>this.computeViews(e,R,B,Wn())).next(X=>({batchId:T,changes:nu(X)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Mt(r)).next(s=>{let u=ki();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const f=r.collectionGroup;let m=ki();return this.indexManager.getCollectionParents(e,f).next(T=>Ue.forEach(T,R=>{const B=(ce=r,Re=R.child(f),new go(Re,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,Re;return this.getDocumentsMatchingCollectionQuery(e,B,s,u).next(X=>{X.forEach((ce,Re)=>{m=m.insert(ce,Re)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,f,u))).next(m=>{f.forEach((R,B)=>{const X=B.getKey();null===m.get(X)&&(m=m.insert(X,j.newInvalidDocument(X)))});let T=ki();return m.forEach((R,B)=>{const X=f.get(R);void 0!==X&&ge(X.mutation,B,_i.empty(),Lt.now()),Ni(r,B)&&(T=T.insert(R,B))}),T})}}class qu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ue.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:bi(u.createTime)}),Ue.resolve();var u}getNamedQuery(e,r){return Ue.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:ln(u.bundledQuery),readTime:bi(u.readTime)}),Ue.resolve();var u}}class vd{constructor(){this.overlays=new nr(Mt.comparator),this.hr=new Map}getOverlay(e,r){return Ue.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Es();return Ue.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,f)=>{this.ht(e,r,f)}),Ue.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(s)),Ue.resolve()}getOverlaysForCollection(e,r,s){const u=Es(),f=r.length+1,m=new Mt(r.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const R=T.getNext().value,B=R.getKey();if(!r.isPrefixOf(B.path))break;B.path.length===f&&R.largestBatchId>s&&u.set(R.getKey(),R)}return Ue.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let f=new nr((B,X)=>B-X);const m=this.overlays.getIterator();for(;m.hasNext();){const B=m.getNext().value;if(B.getKey().getCollectionGroup()===r&&B.largestBatchId>s){let X=f.get(B.largestBatchId);null===X&&(X=Es(),f=f.insert(B.largestBatchId,X)),X.set(B.getKey(),B)}}const T=Es(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((B,X)=>T.set(B,X)),!(T.size()>=u)););return Ue.resolve(T)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new ps(r,s));let f=this.hr.get(r);void 0===f&&(f=Wn(),this.hr.set(r,f)),this.hr.set(r,f.add(s.key))}}class pu{constructor(){this.Pr=new yr(ji.Ir),this.Tr=new yr(ji.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ji(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ji(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Mt(new en([])),s=new ji(r,e),u=new ji(r,e+1),f=[];return this.Tr.forEachInRange([s,u],m=>{this.Ar(m),f.push(m.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Mt(new en([])),s=new ji(r,e),u=new ji(r,e+1);let f=Wn();return this.Tr.forEachInRange([s,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new ji(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ji{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Mt.comparator(e.key,r.key)||Rt(e.pr,r.pr)}static Er(e,r){return Rt(e.pr,r.pr)||Mt.comparator(e.key,r.key)}}class qg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new yr(ji.Ir)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const f=this.yr;this.yr++;const m=new fi(f,r,s,u);this.mutationQueue.push(m);for(const T of u)this.wr=this.wr.add(new ji(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ue.resolve(m)}lookupMutationBatch(e,r){return Ue.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),f=u<0?0:u;return Ue.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ji(r,0),u=new ji(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([s,u],m=>{const T=this.Sr(m.pr);f.push(T)}),Ue.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new yr(Rt);return r.forEach(u=>{const f=new ji(u,0),m=new ji(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,m],T=>{s=s.add(T.pr)})}),Ue.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let f=s;Mt.isDocumentKey(f)||(f=f.child(""));const m=new ji(new Mt(f),0);let T=new yr(Rt);return this.wr.forEachWhile(R=>{const B=R.key.path;return!!s.isPrefixOf(B)&&(B.length===u&&(T=T.add(R.pr)),!0)},m),Ue.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){kt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Ue.forEach(r.mutations,u=>{const f=new ji(u.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ji(r,0),u=this.wr.firstAfterOrEqual(s);return Ue.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Ue.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class sp{constructor(e){this.vr=e,this.docs=new nr(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),f=u?u.size:0,m=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Ue.resolve(s?s.document.mutableCopy():j.newInvalidDocument(r))}getEntries(e,r){let s=Lr();return r.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():j.newInvalidDocument(u))}),Ue.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let f=Lr();const m=r.path,T=new Mt(m.child("")),R=this.docs.getIteratorFrom(T);for(;R.hasNext();){const{key:B,value:{document:X}}=R.getNext();if(!m.isPrefixOf(B.path))break;B.path.length>m.length+1||Or(Di(X),s)<=0||(u.has(X.key)||Ni(r,X))&&(f=f.insert(X.key,X.mutableCopy()))}return Ue.resolve(f)}getAllFromCollectionGroup(e,r,s,u){wt()}Fr(e,r){return Ue.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Th(this)}getSize(e){return Ue.resolve(this.size)}}class Th extends ja{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),Ue.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Zg{constructor(e){this.persistence=e,this.Mr=new fs(r=>ds(r),Ws),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pu,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Ue.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ia(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ue.resolve()}updateTargetData(e,r){return this.qn(r),Ue.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,r,s){let u=0;const f=[];return this.Mr.forEach((m,T)=>{T.sequenceNumber<=r&&null===s.get(T.targetId)&&(this.Mr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Ue.waitFor(f).next(()=>u)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Ue.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Ue.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),Ue.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ue.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Ue.resolve(s)}containsKey(e,r){return Ue.resolve(this.Nr.containsKey(r))}}class Dh{constructor(e,r){this.Br={},this.overlays={},this.kr=new O(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zg(this),this.indexManager=new La,this.remoteDocumentCache=new sp(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new qu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new vd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new qg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){pe("MemoryPersistence","Starting transaction:",e);const u=new op(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(e,r){return Ue.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class op extends tr{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.zr=new pu,this.jr=null}static Hr(e){return new Ed(e)}get Jr(){if(this.jr)return this.jr;throw wt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Ue.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Ue.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ue.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Jr,s=>{const u=Mt.fromPath(s);return this.Yr(e,u).next(f=>{f||r.removeEntry(u,Ot.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ue.or([()=>Ue.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Ku{constructor(e){this.serializer=e}O(e,r,s,u){const f=new ft("createOrUpgrade",r);var R;s<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0}),R.createObjectStore("documentMutations"),bh(e),function(R){R.createObjectStore("remoteDocuments")}(e));let m=Ue.resolve();return s<3&&u>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),bh(e)),m=m.next(()=>function(R){const B=R.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",X)}(f))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(R,B){return B.store("mutations").U().next(X=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zn,{unique:!0});const ce=B.store("mutations"),Re=X.map(rt=>ce.put(rt));return Ue.waitFor(Re)})}(e,f))),m=m.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(m=m.next(()=>this.Xr(f))),s<6&&u>=6&&(m=m.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),s<7&&u>=7&&(m=m.next(()=>this.ti(f))),s<8&&u>=8&&(m=m.next(()=>this.ni(e,f))),s<9&&u>=9&&(m=m.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(m=m.next(()=>this.ri(f))),s<11&&u>=11&&(m=m.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(m=m.next(()=>{!function(R){const B=R.createObjectStore("documentOverlays",{keyPath:pn});B.createIndex("collectionPathOverlayIndex",bn,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Ir,{unique:!1})}(e)})),s<13&&u>=13&&(m=m.next(()=>function(R){const B=R.createObjectStore("remoteDocumentsV14",{keyPath:Si});B.createIndex("documentKeyIndex",ii),B.createIndex("collectionGroupIndex",Xi)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.si(e,f))),s<15&&u>=15&&(m=m.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Ge}).createIndex("sequenceNumberIndex",Et,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Xt}).createIndex("documentKeyIndex",Dn,{unique:!1})}(e))),s<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),m}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=xs(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>Ue.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",m).next(T=>Ue.forEach(T,R=>{kt(R.userId===f.userId);const B=fe(this.serializer,R);return Ih(e,f.userId,B).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((m,T)=>{const R=new en(m),B=[0,Pt(R)];f.push(r.get(B).next(X=>X?Ue.resolve():r.put({targetId:0,path:Pt(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:st});const s=r.store("collectionParents"),u=new Va,f=m=>{if(u.add(m)){const T=m.lastSegment(),R=m.popLast();return s.put({collectionId:T,parent:Pt(R)})}};return r.store("remoteDocuments").J({H:!0},(m,T)=>{const R=new en(m);return f(R.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,T,R],B)=>{const X=Qt(T);return f(X.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const f=ot(u),m=it(this.serializer,f);return r.put(m)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((f,m)=>{const T=r.store("remoteDocumentsV14"),R=(ce=m,ce.document?new Mt(en.fromString(ce.document.name).popFirst(5)):ce.noDocument?Mt.fromSegments(ce.noDocument.path):ce.unknownDocument?Mt.fromSegments(ce.unknownDocument.path):wt()).path.toArray(),B={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var ce;u.push(T.put(B))}).next(()=>Ue.waitFor(u))}si(e,r){const s=r.store("mutations"),u=bs(this.serializer),f=new Dh(Ed.Hr,this.serializer.ct);return s.U().next(m=>{const T=new Map;return m.forEach(R=>{var B;let X=null!==(B=T.get(R.userId))&&void 0!==B?B:Wn();fe(this.serializer,R).keys().forEach(ce=>X=X.add(ce)),T.set(R.userId,X)}),Ue.forEach(T,(R,B)=>{const X=new Qe(B),ce=va.lt(this.serializer,X),Re=f.getIndexManager(X),rt=fl.lt(X,this.serializer,Re,f.referenceDelegate);return new $a(u,rt,ce,Re).recalculateAndSaveOverlaysForDocumentKeys(new Fs(r,O.oe),R).next()})})}}function bh(a){a.createObjectStore("targetDocuments",{keyPath:kr}).createIndex("documentTargetsIndex",Gn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$i,{unique:!0}),a.createObjectStore("targetGlobal")}const Id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rs{constructor(e,r,s,u,f,m,T,R,B,X,ce=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=f,this.window=m,this.document=T,this._i=B,this.ai=X,this.ui=ce,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Re=>Promise.resolve(),!rs.D())throw new oe(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ch(this,u),this.Ti=r+"main",this.serializer=new w(R),this.Ei=new Q(this.Ti,this.ui,new Ku(this.serializer)),this.Qr=new wh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bs(this.serializer),this.$r=new Ur,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===X&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(we.FAILED_PRECONDITION,Id);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new O(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,d.Z)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,d.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,d.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ha(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Nc(e).get("owner").next(r=>Ue.resolve(this.Si(r)))}bi(e){return Ha(e).delete(this.clientId)}Di(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=zr(s,"clientMetadata");return u.U().next(f=>{const m=e.vi(f,18e5),T=f.filter(R=>-1===m.indexOf(R));return Ue.forEach(T,R=>u.delete(R.clientId)).next(()=>T)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ue.resolve(!0):Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new oe(we.FAILED_PRECONDITION,Id);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ha(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&pe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,d.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Fs(r,O.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ha(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return fl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qo(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return va.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){pe("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=16===(R=this.ui)?si:15===R?ks:14===R?lr:13===R?us:12===R?ui:11===R?pr:void wt();var R;let m;return this.Ei.runTransaction(e,u,f,T=>(m=new Fs(T,this.kr?this.kr.next():O.oe),"readwrite-primary"===r?this.gi(m).next(R=>!!R||this.pi(m)).next(R=>{if(!R)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new oe(we.FAILED_PRECONDITION,$n);return s(m)}).next(R=>this.wi(m).next(()=>R)):this.ki(m).next(()=>s(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}ki(e){return Nc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new oe(we.FAILED_PRECONDITION,Id)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",r)}static D(){return Q.D()}yi(e){const r=Nc(e);return r.get("owner").next(s=>this.Si(s)?(pe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ue.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Ht(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return pe("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ht("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(a){return zr(a,"owner")}function Ha(a){return zr(a,"clientMetadata")}function wd(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class co{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=Wn(),u=Wn();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new co(e,r.fromCache,s,u)}}class za{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.G6)()?8:me((0,_e.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const f={result:null};return this.ji(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Hi(e,r,u,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new za;return this.Ji(e,r,m).next(T=>{if(f.result=T,this.Ui)return this.Yi(e,r,m,T.size)})}).next(()=>f.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(_t()<=Ce.in.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ns(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ue.resolve()):(_t()<=Ce.in.DEBUG&&pe("QueryEngine","Query:",ns(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(_t()<=Ce.in.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ns(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,G(r))):Ue.resolve())}ji(e,r){if(bo(r))return Ue.resolve(null);let s=G(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=hn(r,null,"F"),s=G(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const m=Wn(...f);return this.zi.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,s).next(R=>{const B=this.Zi(r,T);return this.Xi(r,B,m,R.readTime)?this.ji(e,hn(r,null,"F")):this.es(e,B,r,R)}))})))}Hi(e,r,s,u){return bo(r)||u.isEqual(Ot.min())?Ue.resolve(null):this.zi.getDocuments(e,s).next(f=>{const m=this.Zi(r,f);return this.Xi(r,m,s,u)?Ue.resolve(null):(_t()<=Ce.in.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ns(r)),this.es(e,m,r,xr(u,-1)).next(T=>T))})}Zi(e,r){let s=new yr(hs(e));return r.forEach((u,f)=>{Ni(e,f)&&(s=s.add(f))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(e,r,s){return _t()<=Ce.in.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ns(r)),this.zi.getDocumentsMatchingQuery(e,r,Jt.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class ml{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new nr(Rt),this.rs=new fs(f=>ds(f),Ws),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $a(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Yu(a,e,r,s){return new ml(a,e,r,s)}function Ah(a,e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,d.Z)(function*(a,e){const r=et(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],T=[];let R=Wn();for(const B of u){m.push(B.batchId);for(const X of B.mutations)R=R.add(X.key)}for(const B of f){T.push(B.batchId);for(const X of B.mutations)R=R.add(X.key)}return r.localDocuments.getDocuments(s,R).next(B=>({us:B,removedBatchIds:m,addedBatchIds:T}))})})})).apply(this,arguments)}function ap(a){const e=et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _l(a,e,r){let s=Wn(),u=Wn();return r.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let m=Lr();return r.forEach((T,R)=>{const B=f.get(T);R.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(T)),R.isNoDocument()&&R.version.isEqual(Ot.min())?(e.removeEntry(T,R.readTime),m=m.insert(T,R)):!B.isValidDocument()||R.version.compareTo(B.version)>0||0===R.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(R),m=m.insert(T,R)):pe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",B.version," Watch version:",R.version)}),{cs:m,ls:u}})}function Qu(a,e){const r=et(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kc(a,e){const r=et(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(f=>f?(u=f,Ue.resolve(u)):r.Qr.allocateTargetId(s).next(m=>(u=new oo(e,m,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ca(a,e,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(a,e,r){const s=et(a),u=s.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Tn(m))throw m;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function yl(a,e,r){const s=et(a);let u=Ot.min(),f=Wn();return s.persistence.runTransaction("Execute query","readwrite",m=>function(R,B,X){const ce=et(R),Re=ce.rs.get(X);return void 0!==Re?Ue.resolve(ce.ns.get(Re)):ce.Qr.getTargetData(B,X)}(s,m,G(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(m,T.targetId).next(R=>{f=R})}).next(()=>s.ts.getDocumentsMatchingQuery(m,e,r?u:Ot.min(),r?f:Wn())).next(T=>(Td(s,eo(e),T),{documents:T,hs:f})))}function vl(a,e){const r=et(a),s=et(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,e).next(m=>m?m.target:null))}function Rh(a,e){const r=et(a),s=r.ss.get(e)||Ot.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,xr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Td(r,e,u),u))}function Td(a,e,r){let s=a.ss.get(e)||Ot.min();r.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.ss.set(e,s)}function gu(){return(gu=(0,d.Z)(function*(a,e,r,s){const u=et(a);let f=Wn(),m=Lr();for(const B of r){const X=e.Ps(B.metadata.name);B.document&&(f=f.add(X));const ce=e.Is(B);ce.setReadTime(e.Ts(B.metadata.readTime)),m=m.insert(X,ce)}const T=u.os.newChangeBuffer({trackRemovals:!0}),R=yield kc(u,(X=s,G(Dr(en.fromString(`__bundle__/docs/${X}`)))));var X;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>_l(B,T,m).next(X=>(T.apply(B),X)).next(X=>u.Qr.removeMatchingKeysForTargetId(B,R.targetId).next(()=>u.Qr.addMatchingKeys(B,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,X.cs,X.ls)).next(()=>X.cs)))})).apply(this,arguments)}function El(a,e){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,d.Z)(function*(a,e,r=Wn()){const s=yield kc(a,G(ln(e.bundledQuery))),u=et(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=bi(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.$r.saveNamedQuery(f,e);const T=s.withResumeToken(ci.EMPTY_BYTE_STRING,m);return u.ns=u.ns.insert(T.targetId,T),u.Qr.updateTargetData(f,T).next(()=>u.Qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Qr.addMatchingKeys(f,r,s.targetId)).next(()=>u.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function mu(a,e){return`firestore_clients_${a}_${e}`}function Dd(a,e,r){let s=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ta(a,e){return`firestore_targets_${a}_${e}`}class Lc{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new oe(u.error.code,u.error.message))),m?new Lc(e,r,u.state,f):(Ht("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _u{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new oe(s.error.code,s.error.message))),f?new _u(e,s.state,u):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ju{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Uo();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=gt(s.activeTargetIds[m]),f=f.add(s.activeTargetIds[m]);return u?new Ju(e,f):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Xu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Xu(r.clientId,r.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Il{constructor(){this.activeTargetIds=Uo()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(e,r,s,u,f){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new nr(Rt),this.started=!1,this.ys=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=mu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Il),this.bs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const f=e.getItem(mu(e.persistenceKey,u));if(f){const m=Ju.Es(u,f);m&&(e.ps=e.ps.insert(m.clientId,m))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ta(this.persistenceKey,e));if(s){const u=_u.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ta(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return pe("SharedClientState","READ",e,r),r}setItem(e,r){pe("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(pe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,d.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(m){let T=O.oe;if(null!=m)try{const R=JSON.parse(m);kt("number"==typeof R),T=R}catch(R){Ht("SharedClientState","Failed to read sequence number from WebStorage",R)}return T}(s.newValue);u!==O.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new Lc(this.currentUser,e,r,s),f=Dd(this.persistenceKey,this.currentUser,e);this.setItem(f,u.ds())}Bs(e){const r=Dd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Ta(this.persistenceKey,e),f=new _u(e,r,s);this.setItem(u,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Ju.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return Lc.Es(new Qe(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return _u.Es(u,r)}xs(e){return Xu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,d.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),f=this.Ns(s),m=[],T=[];return f.forEach(R=>{u.has(R)||m.push(R)}),u.forEach(R=>{f.has(R)||T.push(R)}),this.syncEngine.eo(m,T).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Uo();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class xh{constructor(){this.no=new Il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Il,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yu{io(e){}shutdown(){}}class ec{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ad=null;function Oh(){return null===Ad?Ad=268435456+Math.round(2147483648*Math.random()):Ad++,"0x"+Ad.toString(16)}const v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const p="WebChannelConnection";class C extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(r,s,u,f,m){const T=Oh(),R=this.vo(r,s.toUriEncodedString());pe("RestConnection",`Sending RPC '${r}' ${T}:`,R,u);const B={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(B,f,m),this.Mo(r,R,B,u).then(X=>(pe("RestConnection",`Received RPC '${r}' ${T}: `,X),X),X=>{throw tn("RestConnection",`RPC '${r}' ${T} failed with error: `,X,"url: ",R,"request:",u),X})}xo(r,s,u,f,m,T){return this.Co(r,s,u,f,m)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}vo(r,s){return`${this.wo}/v1/${s}:${v[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const f=Oh();return new Promise((m,T)=>{const R=new Ie;R.setWithCredentials(!0),R.listenOnce(Ct.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case pt.NO_ERROR:const X=R.getResponseJson();pe(p,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(X)),m(X);break;case pt.TIMEOUT:pe(p,`RPC '${e}' ${f} timed out`),T(new oe(we.DEADLINE_EXCEEDED,"Request time out"));break;case pt.HTTP_ERROR:const ce=R.getStatus();if(pe(p,`RPC '${e}' ${f} failed with status:`,ce,"response text:",R.getResponseText()),ce>0){let Re=R.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const rt=Re?.error;if(rt&&rt.status&&rt.message){const xt=function($t){const Sn=$t.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(Sn)>=0?Sn:we.UNKNOWN}(rt.status);T(new oe(xt,rt.message))}else T(new oe(we.UNKNOWN,"Server responded with status "+R.getStatus()))}else T(new oe(we.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{pe(p,`RPC '${e}' ${f} completed.`)}});const B=JSON.stringify(u);pe(p,`RPC '${e}' ${f} sending request:`,u),R.send(r,"POST",B,s,15)})}Oo(e,r,s){const u=Oh(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=qe(),T=an(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(R.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(R.xmlHttpFactory=new lt({})),this.Fo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const X=f.join("");pe(p,`Creating RPC '${e}' stream ${u}: ${X}`,R);const ce=m.createWebChannel(X,R);let Re=!1,rt=!1;const xt=new h({lo:$t=>{rt?pe(p,`Not sending because RPC '${e}' stream ${u} is closed:`,$t):(Re||(pe(p,`Opening RPC '${e}' stream ${u} transport.`),ce.open(),Re=!0),pe(p,`RPC '${e}' stream ${u} sending:`,$t),ce.send($t))},ho:()=>ce.close()}),Kt=($t,Sn,Bn)=>{$t.listen(Sn,Rn=>{try{Bn(Rn)}catch(hr){setTimeout(()=>{throw hr},0)}})};return Kt(ce,Fe.EventType.OPEN,()=>{rt||(pe(p,`RPC '${e}' stream ${u} transport opened.`),xt.mo())}),Kt(ce,Fe.EventType.CLOSE,()=>{rt||(rt=!0,pe(p,`RPC '${e}' stream ${u} transport closed`),xt.po())}),Kt(ce,Fe.EventType.ERROR,$t=>{rt||(rt=!0,tn(p,`RPC '${e}' stream ${u} transport errored:`,$t),xt.po(new oe(we.UNAVAILABLE,"The operation could not be completed")))}),Kt(ce,Fe.EventType.MESSAGE,$t=>{var Sn;if(!rt){const Bn=$t.data[0];kt(!!Bn);const hr=Bn.error||(null===(Sn=Bn[0])||void 0===Sn?void 0:Sn.error);if(hr){pe(p,`RPC '${e}' stream ${u} received error:`,hr);const ai=hr.status;let Rr=function(ke){const Ke=ei[ke];if(void 0!==Ke)return vc(Ke)}(ai),We=hr.message;void 0===Rr&&(Rr=we.INTERNAL,We="Unknown error status: "+ai+" with message "+hr.message),rt=!0,xt.po(new oe(Rr,We)),ce.close()}else pe(p,`RPC '${e}' stream ${u} received:`,Bn),xt.yo(Bn)}}),Kt(T,Dt.STAT_EVENT,$t=>{$t.stat===Vt.PROXY?pe(p,`RPC '${e}' stream ${u} detected buffering proxy`):$t.stat===Vt.NOPROXY&&pe(p,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{xt.fo()},0),xt}}function H(){return typeof window<"u"?window:null}function ne(){return typeof document<"u"?document:null}function Oe(a){return new dl(a,!0)}class at{constructor(e,r,s=1e3,u=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&pe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Ft{constructor(e,r,s,u,f,m,T,R){this.oi=e,this.Go=s,this.zo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=R,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new at(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,d.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,d.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,d.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Ht(r.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===we.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new oe(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,d.Z)(function*(){e.state=0,e.start()}))}c_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class In extends Ft{constructor(e,r,s,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Oa(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:wt(),u=e.targetChange.targetIds||[],f=function(B,X){return B.useProto3Json?(kt(void 0===X||"string"==typeof X),ci.fromBase64String(X||"")):(kt(void 0===X||X instanceof Buffer||X instanceof Uint8Array),ci.fromUint8Array(X||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(B){const X=void 0===B.code?we.UNKNOWN:vc(B.code);return new oe(X,B.message||"")}(m);r=new no(s,u,f,T||null)}else if("documentChange"in e){const s=e.documentChange,u=ro(a,s.document.name),f=bi(s.document.updateTime),m=s.document.createTime?bi(s.document.createTime):Ot.min(),T=new Kr({mapValue:{fields:s.document.fields}}),R=j.newFoundDocument(u,f,m,T);r=new su(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,u=ro(a,s.document),f=s.readTime?bi(s.readTime):Ot.min(),m=j.newNoDocument(u,f);r=new su([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,u=ro(a,s.document);r=new su([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return wt();{const s=e.filter,{count:u=0,unchangedNames:f}=s,m=new ws(u,f);r=new ou(s.targetId,m)}}var B;return r}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Ot.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Ot.min():m.readTime?bi(m.readTime):Ot.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Tr(this.serializer),r.addTarget=function(f,m){let T;const R=m.target;if(T=sa(R)?{documents:bc(f,R)}:{query:zu(f,R)._t},T.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){T.resumeToken=Dc(f,m.resumeToken);const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}else if(m.snapshotVersion.compareTo(Ot.min())>0){T.readTime=gs(f,m.snapshotVersion.toTimestamp());const B=xa(f,m.expectedCount);null!==B&&(T.expectedCount=B)}return T}(this.serializer,e);const s=function Bs(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Tr(this.serializer),r.removeTarget=e,this.i_(r)}}class Un extends Ft{constructor(e,r,s,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Na(a,e){return a&&a.length>0?(kt(void 0!==e),a.map(r=>function(u,f){let m=bi(u.updateTime?u.updateTime:f);return m.isEqual(Ot.min())&&(m=bi(f)),new iu(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.A_(s,r)}return kt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Tr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Ts(this.serializer,s))};this.i_(r)}}class Pr extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new oe(we.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,uu(r,s),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(we.UNKNOWN,f.toString())})}xo(e,r,s,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,T])=>this.connection.xo(e,uu(r,s),u,m,T,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new oe(we.UNKNOWN,m.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Eo{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ht(r),this.y_=!1):pe("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ga{constructor(e,r,s,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(T=>{s.enqueueAndForget((0,d.Z)(function*(){var R;qa(m)&&(pe("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,d.Z)(function*(X){const ce=et(X);ce.M_.add(4),yield vu(ce),ce.N_.set("Unknown"),ce.M_.delete(4),yield Wa(ce)}),function B(X){return R.apply(this,arguments)})(m))}))}),this.N_=new Eo(s,u)}}function Wa(a){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(a){if(qa(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function vu(a){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,d.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Eu(a,e){const r=et(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Rd(r)?wl(r):Sl(r).Xo()&&Pd(r,e))}function Iu(a,e){const r=et(a),s=Sl(r);r.F_.delete(e),s.Xo()&&Nh(r,e),0===r.F_.size&&(s.Xo()?s.n_():qa(r)&&r.N_.set("Unknown"))}function Pd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Sl(a).P_(e)}function Nh(a,e){a.L_.xe(e),Sl(a).I_(e)}function wl(a){a.L_=new au({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Sl(a).start(),a.N_.w_()}function Rd(a){return qa(a)&&!Sl(a).Zo()&&a.F_.size>0}function qa(a){return 0===et(a).M_.size}function wu(a){a.L_=void 0}function Cl(a){return kh.apply(this,arguments)}function kh(){return(kh=(0,d.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Kg(a){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,d.Z)(function*(a){a.F_.forEach((e,r)=>{Pd(a,e)})})).apply(this,arguments)}function Tl(a,e){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,d.Z)(function*(a,e){wu(a),Rd(a)?(a.N_.D_(e),wl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Yg(a,e,r){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,d.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof no&&2===e.state&&e.cause)try{yield(s=(0,d.Z)(function*(f,m){const T=m.cause;for(const R of m.targetIds)f.F_.has(R)&&(yield f.remoteSyncer.rejectListen(R,T),f.F_.delete(R),f.L_.removeTarget(R))}),function u(f,m){return s.apply(this,arguments)})(a,e)}catch(s){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Vc(a,s)}else if(e instanceof su?a.L_.Ke(e):e instanceof ou?a.L_.He(e):a.L_.We(e),!r.isEqual(Ot.min()))try{const s=yield ap(a.localStore);r.compareTo(s)>=0&&(yield function(f,m){const T=f.L_.rt(m);return T.targetChanges.forEach((R,B)=>{if(R.resumeToken.approximateByteSize()>0){const X=f.F_.get(B);X&&f.F_.set(B,X.withResumeToken(R.resumeToken,m))}}),T.targetMismatches.forEach((R,B)=>{const X=f.F_.get(R);if(!X)return;f.F_.set(R,X.withResumeToken(ci.EMPTY_BYTE_STRING,X.snapshotVersion)),Nh(f,R);const ce=new oo(X.target,R,B,X.sequenceNumber);Pd(f,ce)}),f.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(s){pe("RemoteStore","Failed to raise snapshot:",s),yield Vc(a,s)}var s}),Dl.apply(this,arguments)}function Vc(a,e,r){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield vu(a),a.N_.set("Offline"),r||(r=()=>ap(a.localStore)),a.asyncQueue.enqueueRetryable((0,d.Z)(function*(){pe("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Wa(a)}))})).apply(this,arguments)}function Qg(a,e){return e().catch(r=>Vc(a,r,e))}function Al(a){return cp.apply(this,arguments)}function cp(){return(cp=(0,d.Z)(function*(a){const e=et(a),r=Cu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Jg(e);)try{const u=yield Qu(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,lp(e,u)}catch(u){yield Vc(e,u)}Xg(e)&&em(e)})).apply(this,arguments)}function Jg(a){return qa(a)&&a.v_.length<10}function lp(a,e){a.v_.push(e);const r=Cu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Xg(a){return qa(a)&&!Cu(a).Zo()&&a.v_.length>0}function em(a){Cu(a).start()}function K_(a){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,d.Z)(function*(a){Cu(a).V_()})).apply(this,arguments)}function Y_(a){return dp.apply(this,arguments)}function dp(){return(dp=(0,d.Z)(function*(a){const e=Cu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Fo(a,e,r){return Md.apply(this,arguments)}function Md(){return(Md=(0,d.Z)(function*(a,e,r){const s=a.v_.shift(),u=Ki.from(s,e,r);yield Qg(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Al(a)})).apply(this,arguments)}function tm(a,e){return xd.apply(this,arguments)}function xd(){return xd=(0,d.Z)(function*(a,e){var r;e&&Cu(a).E_&&(yield(r=(0,d.Z)(function*(u,f){if(Us(T=f.code)&&T!==we.ABORTED){const m=u.v_.shift();Cu(u).t_(),yield Qg(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Al(u)}var T}),function s(u,f){return r.apply(this,arguments)})(a,e)),Xg(a)&&em(a)}),xd.apply(this,arguments)}function Zs(a,e){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(a,e){const r=et(a);r.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const s=qa(r);r.M_.add(3),yield vu(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Wa(r)})).apply(this,arguments)}function Uh(a,e){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,d.Z)(function*(a,e){const r=et(a);e?(r.M_.delete(2),yield Wa(r)):e||(r.M_.add(2),yield vu(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Sl(a){return a.B_||(a.B_=function(r,s,u){const f=et(r);return f.f_(),new In(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:Cl.bind(null,a),To:Kg.bind(null,a),Ao:Tl.bind(null,a),h_:Yg.bind(null,a)}),a.x_.push(function(){var e=(0,d.Z)(function*(r){r?(a.B_.t_(),Rd(a)?wl(a):a.N_.set("Unknown")):(yield a.B_.stop(),wu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Cu(a){return a.k_||(a.k_=function(r,s,u){const f=et(r);return f.f_(),new Un(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:K_.bind(null,a),Ao:tm.bind(null,a),R_:Y_.bind(null,a),A_:Fo.bind(null,a)}),a.x_.push(function(){var e=(0,d.Z)(function*(r){r?(a.k_.t_(),yield Al(a)):(yield a.k_.stop(),a.v_.length>0&&(pe("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class hp{constructor(e,r,s,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new be,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,f){const m=Date.now()+s,T=new hp(e,r,m,u,f);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oe(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(a,e){if(Ht("AsyncQueue",`${e}: ${a}`),Tn(a))return new oe(we.UNAVAILABLE,`${e}: ${a}`);throw a}class Pl{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Mt.comparator(r.key,s.key):(r,s)=>Mt.comparator(r.key,s.key),this.keyedMap=ki(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class fp{constructor(){this.q_=new nr(Mt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):wt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Rl{constructor(e,r,s,u,f,m,T,R,B){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=R,this.hasCachedResults=B}static fromInitialDocuments(e,r,s,u,f){const m=[];return r.forEach(T=>{m.push({type:0,doc:T})}),new Rl(e,r,Pl.emptySet(r),m,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Q_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class pp{constructor(){this.queries=new fs(e=>Oi(e),Nn),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,d.Z)(function*(a,e){const r=et(a);let s=3;const u=e.query;let f=r.queries.get(u);f?!f.W_()&&e.G_()&&(s=2):(f=new Q_,s=e.G_()?0:1);try{switch(s){case 0:f.K_=yield r.onListen(u,!0);break;case 1:f.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const T=Bc(m,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(T)}r.queries.set(u,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&jh(r)})).apply(this,arguments)}function jc(a,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,d.Z)(function*(a,e){const r=et(a),s=e.query;let u=3;const f=r.queries.get(s);if(f){const m=f.U_.indexOf(e);m>=0&&(f.U_.splice(m,1),0===f.U_.length?u=e.G_()?0:1:!f.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function J_(a,e){const r=et(a);let s=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const T of m.U_)T.H_(u)&&(s=!0);m.K_=u}}s&&jh(r)}function nm(a,e,r){const s=et(a),u=s.queries.get(e);if(u)for(const f of u.U_)f.onError(r);s.queries.delete(e)}function jh(a){a.z_.forEach(e=>{e.next()})}var $h,$c;($c=$h||($h={})).J_="default",$c.Cache="cache";class Ml{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==$h.Cache}}class rm{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Hh{constructor(e){this.serializer=e}Ps(e){return ro(this.serializer,e)}Is(e){return e.metadata.exists?ss(this.serializer,e.document,!1):j.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return bi(e)}}class zh{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=en.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Hh(this.serializer);for(const u of e)if(u.metadata.queries){const f=s.Ps(u.metadata.name);for(const m of u.metadata.queries){const T=(r.get(m)||Wn()).add(f);r.set(m,T)}}return r}complete(){var e=this;return(0,d.Z)(function*(){const r=yield function up(a,e,r,s){return gu.apply(this,arguments)}(e.localStore,new Hh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield El(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function im(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class sm{constructor(e){this.key=e}}class om{constructor(e){this.key=e}}class am{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Wn(),this.mutatedKeys=Wn(),this.Ia=hs(e),this.Ta=new Pl(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new fp,u=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,T=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,ce)=>{const Re=u.get(X),rt=Ni(this.query,ce)?ce:null,xt=!!Re&&this.mutatedKeys.has(Re.key),Kt=!!rt&&(rt.hasLocalMutations||this.mutatedKeys.has(rt.key)&&rt.hasCommittedMutations);let $t=!1;Re&&rt?Re.data.isEqual(rt.data)?xt!==Kt&&(s.track({type:3,doc:rt}),$t=!0):this.Ra(Re,rt)||(s.track({type:2,doc:rt}),$t=!0,(R&&this.Ia(rt,R)>0||B&&this.Ia(rt,B)<0)&&(T=!0)):!Re&&rt?(s.track({type:0,doc:rt}),$t=!0):Re&&!rt&&(s.track({type:1,doc:Re}),$t=!0,(R||B)&&(T=!0)),$t&&(rt?(m=m.add(rt),f=Kt?f.add(X):f.delete(X)):(m=m.delete(X),f=f.delete(X)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const X="F"===this.query.limitType?m.last():m.first();m=m.delete(X.key),f=f.delete(X.key),s.track({type:1,doc:X})}return{Ta:m,Aa:s,Xi:T,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const m=e.Aa.Q_();m.sort((X,ce)=>function(rt,xt){const Kt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return Kt(rt)-Kt(xt)}(X.type,ce.type)||this.Ia(X.doc,ce.doc)),this.Va(s),u=null!=u&&u;const T=r&&!u?this.ma():[],R=0===this.Pa.size&&this.current&&!u?1:0,B=R!==this.ha;return this.ha=R,0!==m.length||B?{snapshot:new Rl(this.query,e.Ta,f,m,e.mutatedKeys,0===R,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Wn(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new om(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new sm(s))}),r}pa(e){this.la=e.hs,this.Pa=Wn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Rl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class X_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class ey{constructor(e){this.key=e,this.wa=!1}}class um{constructor(e,r,s,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Sa={},this.ba=new fs(T=>Oi(T),Nn),this.Da=new Map,this.Ca=new Set,this.va=new nr(Mt.comparator),this.Fa=new Map,this.Ma=new pu,this.xa={},this.Oa=new Map,this.Na=Ia.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Gh(a,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,d.Z)(function*(a,e,r=!0){const s=sf(a);let u;const f=s.ba.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield cm(s,e,r,!0),u})).apply(this,arguments)}function _p(a,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,d.Z)(function*(a,e){const r=sf(a);yield cm(r,e,!0,!1)})).apply(this,arguments)}function cm(a,e,r,s){return kd.apply(this,arguments)}function kd(){return(kd=(0,d.Z)(function*(a,e,r,s){const u=yield kc(a.localStore,G(e)),f=u.targetId,m=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let T;return s&&(T=yield Wh(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Eu(a.remoteStore,u),T})).apply(this,arguments)}function Wh(a,e,r,s,u){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,d.Z)(function*(a,e,r,s,u){a.Ba=(ce,Re,rt)=>{return(xt=(0,d.Z)(function*($t,Sn,Bn,Rn){let hr=Sn.view.da(Bn);hr.Xi&&(hr=yield yl($t.localStore,Sn.query,!1).then(({documents:De})=>Sn.view.da(De,hr)));const ai=Rn&&Rn.targetChanges.get(Sn.targetId),Rr=Rn&&null!=Rn.targetMismatches.get(Sn.targetId),We=Sn.view.applyChanges(hr,$t.isPrimaryClient,ai,Rr);return Tp($t,Sn.targetId,We.fa),We.snapshot}),function Kt($t,Sn,Bn,Rn){return xt.apply(this,arguments)})(a,ce,Re,rt);var xt};const f=yield yl(a.localStore,e,!0),m=new am(e,f.hs),T=m.da(f.documents),R=Ma.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),B=m.applyChanges(T,a.isPrimaryClient,R);Tp(a,r,B.fa);const X=new X_(e,r,m);return a.ba.set(e,X),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),B.snapshot}),Tu.apply(this,arguments)}function lm(a,e,r){return qh.apply(this,arguments)}function qh(){return(qh=(0,d.Z)(function*(a,e,r){const s=et(a),u=s.ba.get(e),f=s.Da.get(u.targetId);if(f.length>1)return s.Da.set(u.targetId,f.filter(m=>!Nn(m,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ca(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Iu(s.remoteStore,u.targetId),xl(s,u.targetId)}).catch(An))):(xl(s,u.targetId),yield Ca(s.localStore,u.targetId,!0))})).apply(this,arguments)}function ty(a,e){return dm.apply(this,arguments)}function dm(){return(dm=(0,d.Z)(function*(a,e){const r=et(a),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Iu(r.remoteStore,s.targetId))})).apply(this,arguments)}function vp(){return(vp=(0,d.Z)(function*(a,e,r){const s=Op(a);try{const u=yield function(m,T){const R=et(m),B=Lt.now(),X=T.reduce((rt,xt)=>rt.add(xt.key),Wn());let ce,Re;return R.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let xt=Lr(),Kt=Wn();return R.os.getEntries(rt,X).next($t=>{xt=$t,xt.forEach((Sn,Bn)=>{Bn.isValidDocument()||(Kt=Kt.add(Sn))})}).next(()=>R.localDocuments.getOverlayedDocuments(rt,xt)).next($t=>{ce=$t;const Sn=[];for(const Bn of T){const Rn=ct(Bn,ce.get(Bn.key).overlayedDocument);null!=Rn&&Sn.push(new gr(Bn.key,Rn,q(Rn.value.mapValue),Xr.exists(!0)))}return R.mutationQueue.addMutationBatch(rt,B,Sn,T)}).next($t=>{Re=$t;const Sn=$t.applyToLocalDocumentSet(ce,Kt);return R.documentOverlayCache.saveOverlays(rt,$t.batchId,Sn)})}).then(()=>({batchId:Re.batchId,changes:nu(ce)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(m,T,R){let B=m.xa[m.currentUser.toKey()];B||(B=new nr(Rt)),B=B.insert(T,R),m.xa[m.currentUser.toKey()]=B}(s,u.batchId,r),yield Za(s,u.changes),yield Al(s.remoteStore)}catch(u){const f=Bc(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ep(a,e){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,d.Z)(function*(a,e){const r=et(a);try{const s=yield function vo(a,e){const r=et(a),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const T=[];e.targetChanges.forEach((X,ce)=>{const Re=u.get(ce);if(!Re)return;T.push(r.Qr.removeMatchingKeys(f,X.removedDocuments,ce).next(()=>r.Qr.addMatchingKeys(f,X.addedDocuments,ce)));let rt=Re.withSequenceNumber(f.currentSequenceNumber);var Kt,$t,Sn;null!==e.targetMismatches.get(ce)?rt=rt.withResumeToken(ci.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):X.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken(X.resumeToken,s)),u=u.insert(ce,rt),$t=rt,Sn=X,(0===(Kt=Re).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Sn.addedDocuments.size+Sn.modifiedDocuments.size+Sn.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(f,rt))});let R=Lr(),B=Wn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,X))}),T.push(_l(f,m,e.documentUpdates).next(X=>{R=X.cs,B=X.ls})),!s.isEqual(Ot.min())){const X=r.Qr.getLastRemoteSnapshotVersion(f).next(ce=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,s));T.push(X)}return Ue.waitFor(T).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,R,B)).next(()=>R)}).then(f=>(r.ns=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Fa.get(f);m&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.wa=!0:u.modifiedDocuments.size>0?kt(m.wa):u.removedDocuments.size>0&&(kt(m.wa),m.wa=!1))}),yield Za(r,s,e)}catch(s){yield An(s)}})).apply(this,arguments)}function Ip(a,e,r){const s=et(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((f,m)=>{const T=m.view.j_(e);T.snapshot&&u.push(T.snapshot)}),function(m,T){const R=et(m);R.onlineState=T;let B=!1;R.queries.forEach((X,ce)=>{for(const Re of ce.U_)Re.j_(T)&&(B=!0)}),B&&jh(R)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function wp(a,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,d.Z)(function*(a,e,r){const s=et(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),f=u&&u.key;if(f){let m=new nr(Mt.comparator);m=m.insert(f,j.newNoDocument(f,Ot.min()));const T=Wn().add(f),R=new ni(Ot.min(),new Map,new nr(Rt),m,T);yield Ep(s,R),s.va=s.va.remove(f),s.Fa.delete(e),Dp(s)}else yield Ca(s.localStore,e,!1).then(()=>xl(s,e,r)).catch(An)})).apply(this,arguments)}function Qh(a,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,d.Z)(function*(a,e){const r=et(a),s=e.batch.batchId;try{const u=yield function Ph(a,e){const r=et(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(T,R,B,X){const ce=B.batch,Re=ce.keys();let rt=Ue.resolve();return Re.forEach(xt=>{rt=rt.next(()=>X.getEntry(R,xt)).next(Kt=>{const $t=B.docVersions.get(xt);kt(null!==$t),Kt.version.compareTo($t)<0&&(ce.applyToRemoteDocument(Kt,B),Kt.isValidDocument()&&(Kt.setReadTime(B.commitVersion),X.addEntry(Kt)))})}),rt.next(()=>T.mutationQueue.removeMutationBatch(R,ce))}(r,s,e,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let R=Wn();for(let B=0;B<T.mutationResults.length;++B)T.mutationResults[B].transformResults.length>0&&(R=R.add(T.batch.mutations[B].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);zc(r,s,null),Ld(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Za(r,u)}catch(u){yield An(u)}})).apply(this,arguments)}function hm(a,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(a,e,r){const s=et(a);try{const u=yield function(m,T){const R=et(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let X;return R.mutationQueue.lookupMutationBatch(B,T).next(ce=>(kt(null!==ce),X=ce.keys(),R.mutationQueue.removeMutationBatch(B,ce))).next(()=>R.mutationQueue.performConsistencyCheck(B)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(B,X,T)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,X)).next(()=>R.localDocuments.getDocuments(B,X))})}(s.localStore,e);zc(s,e,r),Ld(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Za(s,u)}catch(u){yield An(u)}})).apply(this,arguments)}function Xh(){return(Xh=(0,d.Z)(function*(a,e){const r=et(a);qa(r.remoteStore)||pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const T=et(m);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>T.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=Bc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Ld(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function zc(a,e,r){const s=et(a);let u=s.xa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function xl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||Cp(a,s)})}function Cp(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Iu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),Dp(a))}function Tp(a,e,r){for(const s of r)s instanceof sm?(a.Ma.addReference(s.key,e),ny(a,s)):s instanceof om?(pe("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||Cp(a,s.key)):wt()}function ny(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(pe("SyncEngine","New document in limbo: "+r),a.Ca.add(s),Dp(a))}function Dp(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Mt(en.fromString(e)),s=a.Na.next();a.Fa.set(s,new ey(r)),a.va=a.va.insert(r,s),Eu(a.remoteStore,new oo(G(Dr(r.path)),s,"TargetPurposeLimboResolution",O.oe))}}function Za(a,e,r){return ef.apply(this,arguments)}function ef(){return ef=(0,d.Z)(function*(a,e,r){const s=et(a),u=[],f=[],m=[];var T;s.ba.isEmpty()||(s.ba.forEach((T,R)=>{m.push(s.Ba(R,e,r).then(B=>{if((B||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,B&&!B.fromCache?"current":"not-current"),B){u.push(B);const X=co.Ki(R.targetId,B);f.push(X)}}))}),yield Promise.all(m),s.Sa.h_(u),yield(T=(0,d.Z)(function*(B,X){const ce=et(B);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>Ue.forEach(X,rt=>Ue.forEach(rt.qi,xt=>ce.persistence.referenceDelegate.addReference(Re,rt.targetId,xt)).next(()=>Ue.forEach(rt.Qi,xt=>ce.persistence.referenceDelegate.removeReference(Re,rt.targetId,xt)))))}catch(Re){if(!Tn(Re))throw Re;pe("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of X){const rt=Re.targetId;if(!Re.fromCache){const xt=ce.ns.get(rt),$t=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);ce.ns=ce.ns.insert(rt,$t)}}}),function R(B,X){return T.apply(this,arguments)})(s.localStore,f))}),ef.apply(this,arguments)}function tf(a,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,d.Z)(function*(a,e){const r=et(a);if(!r.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const s=yield Ah(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(T=>{T.forEach(R=>{R.reject(new oe(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Za(r,s.us)}var f})).apply(this,arguments)}function Ol(a,e){const r=et(a),s=r.Fa.get(e);if(s&&s.wa)return Wn().add(s.key);{let u=Wn();const f=r.Da.get(e);if(!f)return u;for(const m of f){const T=r.ba.get(m);u=u.unionWith(T.view.Ea)}return u}}function ry(a,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,d.Z)(function*(a,e){const r=et(a),s=yield yl(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&Tp(r,e.targetId,u.fa),u})).apply(this,arguments)}function iE(a,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,d.Z)(function*(a,e){const r=et(a);return Rh(r.localStore,e).then(s=>Za(r,s))})).apply(this,arguments)}function Sp(a,e,r,s){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,d.Z)(function*(a,e,r,s){const u=et(a),f=yield function(T,R){const B=et(T),X=et(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",ce=>X.vn(ce,R).next(Re=>Re?B.localDocuments.getDocuments(ce,Re):Ue.resolve(null)))}(u.localStore,e);var R;null!==f?("pending"===r?yield Al(u.remoteStore):"acknowledged"===r||"rejected"===r?(zc(u,e,s||null),Ld(u,e),R=e,et(et(u.localStore).mutationQueue).Mn(R)):wt(),yield Za(u,f)):pe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(a,e){const r=et(a);if(sf(r),Op(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield nf(r,s.toArray());r.La=!0,yield Uh(r.remoteStore,!0);for(const f of u)Eu(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(xl(r,m),Ca(r.localStore,m,!0))),Iu(r.remoteStore,m)}),yield u,yield nf(r,s),function(m){const T=et(m);T.Fa.forEach((R,B)=>{Iu(T.remoteStore,B)}),T.Ma.mr(),T.Fa=new Map,T.va=new nr(Mt.comparator)}(r),r.La=!1,yield Uh(r.remoteStore,!1)}})).apply(this,arguments)}function nf(a,e,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,d.Z)(function*(a,e,r){const s=et(a),u=[],f=[];for(const m of e){let T;const R=s.Da.get(m);if(R&&0!==R.length){T=yield kc(s.localStore,G(R[0]));for(const B of R){const X=s.ba.get(B),ce=yield ry(s,X);ce.snapshot&&f.push(ce.snapshot)}}else{const B=yield vl(s.localStore,m);T=yield kc(s.localStore,B),yield Wh(s,Rp(B),m,!1,T.resumeToken)}u.push(T)}return s.Sa.h_(f),u})).apply(this,arguments)}function Rp(a){return Pa(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function fm(a){return r=et(a).localStore,et(et(r).persistence).Bi();var r}function pm(a,e,r,s){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,d.Z)(function*(a,e,r,s){const u=et(a);if(u.La)return void pe("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield Rh(u.localStore,eo(f[0])),T=ni.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,ci.EMPTY_BYTE_STRING);yield Za(u,m,T);break}case"rejected":yield Ca(u.localStore,e,!0),xl(u,e,s);break;default:wt()}})).apply(this,arguments)}function iy(a,e,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,d.Z)(function*(a,e,r){const s=sf(a);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){pe("SyncEngine","Adding an already active target "+u);continue}const f=yield vl(s.localStore,u),m=yield kc(s.localStore,f);yield Wh(s,Rp(f),m.targetId,!1,m.resumeToken),Eu(s.remoteStore,m)}for(const u of r)s.Da.has(u)&&(yield Ca(s.localStore,u,!1).then(()=>{Iu(s.remoteStore,u),xl(s,u)}).catch(An))}})).apply(this,arguments)}function sf(a){const e=et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ol.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wp.bind(null,e),e.Sa.h_=J_.bind(null,e.eventManager),e.Sa.ka=nm.bind(null,e.eventManager),e}function Op(a){const e=et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hm.bind(null,e),e}class Du{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,d.Z)(function*(){r.serializer=Oe(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Yu(this.persistence,new Cd,e.initialUser,this.serializer)}createPersistence(e){return new Dh(Ed.Hr,this.serializer)}createSharedClientState(e){return new xh}terminate(){var e=this;return(0,d.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gm extends Du{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield Op(s.Qa.syncEngine),yield Al(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Yu(this.persistence,new Cd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new N(r,this.persistence);return new V(e.asyncQueue,s)}createPersistence(e){const r=wd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new rs(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,H(),ne(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xh}}class oy extends gm{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof bd&&(s.sharedClientState.syncEngine={Zs:Sp.bind(null,u),Xs:pm.bind(null,u),eo:iy.bind(null,u),Bi:fm.bind(null,u),Ys:iE.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var f=(0,d.Z)(function*(m){yield function Nl(a,e){return kl.apply(this,arguments)}(s.Qa.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=H();if(!bd.D(r))throw new oe(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=wd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bd(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ud{initialize(e,r){var s=this;return(0,d.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Ip(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=tf.bind(null,s.syncEngine),yield Uh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pp}createDatastore(e){const r=Oe(e.databaseInfo.databaseId),s=new C(e.databaseInfo);return new Pr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,f=e.asyncQueue,m=r=>Ip(this.syncEngine,r,0),T=ec.D()?new ec:new yu,new Ga(s,u,f,m,T);var s,u,f,m,T}createSyncEngine(e,r){return function(u,f,m,T,R,B,X){const ce=new um(u,f,m,T,R,B);return X&&(ce.La=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,d.Z)(function*(){var r,s;yield(s=(0,d.Z)(function*(f){const m=et(f);pe("RemoteStore","RemoteStore shutting down."),m.M_.add(5),yield vu(m),m.O_.shutdown(),m.N_.set("Unknown")}),function u(f){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function ay(a,e=10240){let r=0;return{read:()=>(0,d.Z)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mm{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new be,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,d.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const f=yield e.Ha(u);return new rm(JSON.parse(f),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,d.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,d.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,d.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,d.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new oe(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,d.Z)(function*(m,T){const R=et(m),B={documents:T.map(rt=>da(R.serializer,rt))},X=yield R.xo("BatchGetDocuments",R.serializer.databaseId,en.emptyPath(),B,T.length),ce=new Map;X.forEach(rt=>{const xt=function Ui(a,e){return"found"in e?function(s,u){kt(!!u.found);const f=ro(s,u.found.name),m=bi(u.found.updateTime),T=u.found.createTime?bi(u.found.createTime):Ot.min(),R=new Kr({mapValue:{fields:u.found.fields}});return j.newFoundDocument(f,m,T,R)}(a,e):"missing"in e?function(s,u){kt(!!u.missing),kt(!!u.readTime);const f=ro(s,u.missing),m=bi(u.readTime);return j.newNoDocument(f,m)}(a,e):wt()}(R.serializer,rt);ce.set(xt.key.toString(),xt)});const Re=[];return T.forEach(rt=>{const xt=ce.get(rt.toString());kt(!!xt),Re.push(xt)}),Re}),function f(m,T){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new qr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const f=Mt.fromPath(u);e.mutations.push(new Vr(f,e.precondition(f)))}),yield(s=(0,d.Z)(function*(f,m){const T=et(f),R={writes:m.map(B=>Ts(T.serializer,B))};yield T.Co("Commit",T.serializer.databaseId,en.emptyPath(),R)}),function u(f,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw wt();r=Ot.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new oe(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ot.min())?Xr.exists(!1):Xr.updateTime(r):Xr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ot.min()))throw new oe(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(r)}return Xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cy{constructor(e,r,s,u,f){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=f,this.Za=s.maxAttempts,this.Yo=new at(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,d.Z)(function*(){const r=new uy(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.nu(f)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!ue(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Us(r)}return!1}}class ly{constructor(e,r,s,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=er.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,d.Z)(function*(T){pe("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(pe("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new be;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=Bc(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function af(a,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,d.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,d.Z)(function*(f){s.isEqual(f)||(yield Ah(e.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Bd.apply(this,arguments)}function Da(a,e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,d.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield uf(a);pe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Zs(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>Zs(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function kp(a){return"FirebaseError"===a.name?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function uf(a){return cf.apply(this,arguments)}function cf(){return(cf=(0,d.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield af(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kp(r))throw r;tn("Error using user provided cache. Falling back to memory cache: "+r),yield af(a,new Du)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),yield af(a,new Du);return a._offlineComponents})).apply(this,arguments)}function Fp(a){return _m.apply(this,arguments)}function _m(){return(_m=(0,d.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Da(a,a._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),yield Da(a,new Ud))),a._onlineComponents})).apply(this,arguments)}function dy(a){return uf(a).then(e=>e.persistence)}function rc(a){return uf(a).then(e=>e.localStore)}function lf(a){return Fp(a).then(e=>e.remoteStore)}function ym(a){return Fp(a).then(e=>e.syncEngine)}function Wc(a){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,d.Z)(function*(a){const e=yield Fp(a),r=e.eventManager;return r.onListen=Gh.bind(null,e.syncEngine),r.onUnlisten=lm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_p.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ty.bind(null,e.syncEngine),r})).apply(this,arguments)}function Vp(a,e,r={}){const s=new be;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(f,m,T,R,B){const X=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,ce));const rt=Re.docs.has(T);!rt&&Re.fromCache?B.reject(new oe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Re.fromCache&&R&&"server"===R.source?B.reject(new oe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),ce=new Ml(Dr(T.path),X,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,s)})),s.promise}function vm(a,e,r={}){const s=new be;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(f,m,T,R,B){const X=new Np({next:Re=>{m.enqueueAndForget(()=>jc(f,ce)),Re.fromCache&&"server"===R.source?B.reject(new oe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Re)},error:Re=>B.reject(Re)}),ce=new Ml(T,X,{includeMetadataChanges:!0,ra:!0});return Od(f,ce)}(yield Wc(a),a.asyncQueue,e,r,s)})),s.promise}function wm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Cm=new Map;function jp(a,e,r){if(!r)throw new oe(we.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Tm(a,e,r,s){if(!0===e&&!0===s)throw new oe(we.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function $p(a){if(!Mt.isDocumentKey(a))throw new oe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function yy(a){if(Mt.isDocumentKey(a))throw new oe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":wt()}function Er(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new oe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hp(a);throw new oe(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function Ll(a,e){if(e<=0)throw new oe(we.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class zp{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new oe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new oe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zp(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new ye;switch(s.type){case"firstParty":return new vt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Cm.get(r);s&&(pe("ComponentProvider","Removing Datastore"),Cm.delete(r),s.terminate())}(this),Promise.resolve()}}function hf(a,e,r,s={}){var u;const f=(a=Er(a,Vl))._getSettings(),m=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&tn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),s.mockUserToken){let T,R;if("string"==typeof s.mockUserToken)T=s.mockUserToken,R=Qe.MOCK_USER;else{T=(0,_e.Sg)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new oe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Qe(B)}a._authCredentials=new ve(new He(T,R))}}class Os{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class as{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class ba extends Os{constructor(e,r,s){super(e,r,Dr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new Mt(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function Dm(a,e,...r){if(a=(0,_e.m9)(a),jp("collection","path",e),a instanceof Vl){const s=en.fromString(e,...r);return yy(s),new ba(a,null,s)}{if(!(a instanceof as||a instanceof ba))throw new oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(e,...r));return yy(s),new ba(a.firestore,null,s)}}function ff(a,e){if(a=Er(a,Vl),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Os(a,null,(s=e,new go(en.emptyPath(),s)));var s}function vy(a,e,...r){if(a=(0,_e.m9)(a),1===arguments.length&&(e=er.newId()),jp("doc","path",e),a instanceof Vl){const s=en.fromString(e,...r);return $p(s),new as(a,null,new Mt(s))}{if(!(a instanceof as||a instanceof ba))throw new oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(e,...r));return $p(s),new as(a.firestore,a instanceof ba?a.converter:null,new Mt(s))}}function Gp(a,e){return a=(0,_e.m9)(a),e=(0,_e.m9)(e),(a instanceof as||a instanceof ba)&&(e instanceof as||e instanceof ba)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Wp(a,e){return a=(0,_e.m9)(a),e=(0,_e.m9)(e),a instanceof Os&&e instanceof Os&&a.firestore===e.firestore&&Nn(a._query,e._query)&&a.converter===e.converter}class qp{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new at(this,"async_queue_retry"),this.hu=()=>{const r=ne();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ne();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ne();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new be;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,d.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;pe("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(m){let T=m.message||"";return m.stack&&(T=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),T}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=hp.createAndSchedule(this,e,r,s,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&wt()}verifyOperationInProgress(){}du(){var e=this;return(0,d.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function pf(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class bm{constructor(){this._progressObserver={},this._taskCompletionResolver=new be,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qc=-1;class Ci extends Vl{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new qp,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mf(this),this._firestoreClient.terminate()}}function gf(a,e){const r="object"==typeof a?a:(0,y.getApp)(),s="string"==typeof a?a:e||"(default)",u=(0,y._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,_e.P0)("firestore");f&&hf(u,...f)}return u}function Qi(a){return a._firestoreClient||mf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function mf(a){var e,r,s;const u=a._freezeSettings(),f=(R=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Ss(a._databaseId,R,a._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,wm(X.experimentalLongPollingOptions),X.useFetchStreams));var R,X;a._firestoreClient=new ly(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function _f(a,e){Pm(a=Er(a,Ci));const r=Qi(a);if(r._uninitializedComponentsProvider)throw new oe(we.FAILED_PRECONDITION,"SDK cache is already specified.");tn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),u=new Ud;return Zc(r,u,new gm(u,s.cacheSizeBytes,e?.forceOwnership))}function Ka(a){Pm(a=Er(a,Ci));const e=Qi(a);if(e._uninitializedComponentsProvider)throw new oe(we.FAILED_PRECONDITION,"SDK cache is already specified.");tn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new Ud;return Zc(e,s,new oy(s,r.cacheSizeBytes))}function Zc(a,e,r){const s=new be;return a.asyncQueue.enqueue((0,d.Z)(function*(){try{yield af(a,r),yield Da(a,e),s.resolve()}catch(u){const f=u;if(!kp(f))throw f;tn("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function Zp(a){if(a._initialized&&!a._terminated)throw new oe(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new be;return a._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(r=(0,d.Z)(function*(u){if(!Q.D())return Promise.resolve();const f=u+"main";yield Q.delete(f)}),function s(u){return r.apply(this,arguments)})(wd(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Ey(a){return function(r){const s=new be;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Jh(a,e){return Xh.apply(this,arguments)}(yield ym(r),s)})),s.promise}(Qi(a=Er(a,Ci)))}function Iy(a){return function fy(a){return a.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield dy(a),r=yield lf(a);return e.setNetworkEnabled(!0),function(u){const f=et(u);return f.M_.delete(0),Wa(f)}(r)}))}(Qi(a=Er(a,Ci)))}function Sm(a){return function py(a){return a.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield dy(a),r=yield lf(a);return e.setNetworkEnabled(!1),(s=(0,d.Z)(function*(f){const m=et(f);m.M_.add(0),yield vu(m),m.N_.set("Offline")}),function u(f){return s.apply(this,arguments)})(r);var s}))}(Qi(a=Er(a,Ci)))}function wy(a,e){const r=Qi(a=Er(a,Ci)),s=new bm;return function Fl(a,e,r,s){const u=function(m,T){let R;return R="string"==typeof m?qo().encode(m):m,X=function(X,ce){if(X instanceof Uint8Array)return ay(X,void 0);if(X instanceof ArrayBuffer)return ay(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new mm(X,T);var X}(r,Oe(e));a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function nc(a,e,r){const s=et(a);var u;(u=(0,d.Z)(function*(m,T,R){try{const B=yield T.getMetadata();if(yield function(xt,Kt){const $t=et(xt),Sn=bi(Kt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",Bn=>$t.$r.getBundleMetadata(Bn,Kt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(Sn)>=0)}(m.localStore,B))return yield T.close(),R._completeWith({taskState:"Success",documentsLoaded:(xt=B).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);R._updateProgress(im(B));const X=new zh(B,m.localStore,T.serializer);let ce=yield T.qa();for(;ce;){const rt=yield X._a(ce);rt&&R._updateProgress(rt),ce=yield T.qa()}const Re=yield X.complete();return yield Za(m,Re.ca,void 0),yield function(xt,Kt){const $t=et(xt);return $t.persistence.runTransaction("Save bundle","readwrite",Sn=>$t.$r.saveBundleMetadata(Sn,Kt))}(m.localStore,B),R._completeWith(Re.progress),Promise.resolve(Re.ua)}catch(B){return tn("SyncEngine",`Loading bundle failed with ${B}`),R._failWith(B),Promise.resolve(new Set)}var xt}),function f(m,T,R){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield ym(a),u,s)}))}(r,a._databaseId,e,s),s}function Cy(a,e){return function Em(a,e){return a.asyncQueue.enqueue((0,d.Z)(function*(){return function(s,u){const f=et(s);return f.persistence.runTransaction("Get named query","readonly",m=>f.$r.getNamedQuery(m,u))}(yield rc(a),e)}))}(Qi(a=Er(a,Ci)),e).then(r=>r?new Os(a,null,r.query):null)}function Pm(a){if(a._initialized||a._terminated)throw new oe(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(ci.fromBase64String(e))}catch(r){throw new oe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ic(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new oe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class Kp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new oe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new oe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const Ty=/^__.*__$/;class Dy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new gr(e,this.data,this.fieldMask,r,this.fieldTransforms):new mn(e,this.data,r,this.fieldTransforms)}}class by{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new gr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ay(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Yc{constructor(e,r,s,u,f,m){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Gl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Ay(this.fu)&&Ty.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Oe(e)}Fu(e,r,s,u=!1){return new Yc({fu:e,methodName:r,vu:s,path:Fn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(a){const e=a._freezeSettings(),r=Oe(a._databaseId);return new Sy(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Bl(a,e,r,s,u,f={}){const m=a.Fu(f.merge||f.mergeFields?2:0,e,r,u);Yp("Data must be an object, but it was:",m,s);const T=vf(s,m);let R,B;if(f.merge)R=new _i(m.fieldMask),B=m.fieldTransforms;else if(f.mergeFields){const X=[];for(const ce of f.mergeFields){const Re=zl(e,ce,r);if(!m.contains(Re))throw new oe(we.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);Qp(X,Re)||X.push(Re)}R=new _i(X),B=m.fieldTransforms.filter(ce=>R.covers(ce.field))}else R=null,B=m.fieldTransforms;return new Dy(new Kr(T),R,B)}class Ya extends Ul{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ya}}function yf(a,e,r){return new Yc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $d extends Ul{_toFieldTransform(e){return new jo(e.path,new ca)}isEqual(e){return e instanceof $d}}class Qc extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=yf(this,e,!0),s=this.Mu.map(f=>$l(f,r)),u=new Po(s);return new jo(e.path,u)}isEqual(e){return e instanceof Qc&&(0,_e.vZ)(this.Mu,e.Mu)}}class jl extends Ul{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=yf(this,e,!0),s=this.Mu.map(f=>$l(f,r)),u=new _o(s);return new jo(e.path,u)}isEqual(e){return e instanceof jl&&(0,_e.vZ)(this.Mu,e.Mu)}}class sc extends Ul{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Bo(e.serializer,So(e.serializer,this.xu));return new jo(e.path,r)}isEqual(e){return e instanceof sc&&this.xu===e.xu}}function Hd(a,e,r,s){const u=a.Fu(1,e,r);Yp("Data must be an object, but it was:",u,s);const f=[],m=Kr.empty();es(s,(R,B)=>{const X=Ef(e,R,r);B=(0,_e.m9)(B);const ce=u.Su(X);if(B instanceof Ya)f.push(X);else{const Re=$l(B,ce);null!=Re&&(f.push(X),m.set(X,Re))}});const T=new _i(f);return new by(m,T,u.fieldTransforms)}function zd(a,e,r,s,u,f){const m=a.Fu(1,e,r),T=[zl(e,s,r)],R=[u];if(f.length%2!=0)throw new oe(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<f.length;Re+=2)T.push(zl(e,f[Re])),R.push(f[Re+1]);const B=[],X=Kr.empty();for(let Re=T.length-1;Re>=0;--Re)if(!Qp(B,T[Re])){const rt=T[Re];let xt=R[Re];xt=(0,_e.m9)(xt);const Kt=m.Su(rt);if(xt instanceof Ya)B.push(rt);else{const $t=$l(xt,Kt);null!=$t&&(B.push(rt),X.set(rt,$t))}}const ce=new _i(B);return new by(X,ce,m.fieldTransforms)}function Gd(a,e,r,s=!1){return $l(r,a.Fu(s?4:3,e))}function $l(a,e){if(Hl(a=(0,_e.m9)(a)))return Yp("Unsupported field value:",e,a),vf(a,e);if(a instanceof Ul)return function(s,u){if(!Ay(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const f=[];let m=0;for(const T of s){let R=$l(T,u.bu(m));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),m++}return{arrayValue:{values:f}}}(a,e)}return function(s,u){if(null===(s=(0,_e.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return So(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Lt.fromDate(s);return{timestampValue:gs(u.serializer,f)}}if(s instanceof Lt){const f=new Lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gs(u.serializer,f)}}if(s instanceof Kp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ic)return{bytesValue:Dc(u.serializer,s._byteString)};if(s instanceof as){const f=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(f))throw u.Du(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ko(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${Hp(s)}`)}(a,e)}function vf(a,e){const r={};return mi(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(a,(s,u)=>{const f=$l(u,e.pu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function Hl(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Lt||a instanceof Kp||a instanceof ic||a instanceof as||a instanceof Ul)}function Yp(a,e,r){if(!Hl(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Hp(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var u}function zl(a,e,r){if((e=(0,_e.m9)(e))instanceof bu)return e._internalPath;if("string"==typeof e)return Ef(a,e);throw Gl("Field path arguments must be of type string or ",a,!1,void 0,r)}const Py=new RegExp("[~\\*/\\[\\]]");function Ef(a,e,r){if(e.search(Py)>=0)throw Gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new bu(...e.split("."))._internalPath}catch{throw Gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Gl(a,e,r,s,u){const f=s&&!s.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let R="";return(f||m)&&(R+=" (found",f&&(R+=` in field ${s}`),m&&(R+=` in document ${u}`),R+=")"),new oe(we.INVALID_ARGUMENT,T+a+R)}function Qp(a,e){return a.some(r=>r.isEqual(e))}class Wd{constructor(e,r,s,u,f){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Ry extends Wd{data(){return super.data()}}function Jp(a,e){return"string"==typeof e?Ef(a,e):e instanceof bu?e._internalPath:e._delegate._internalPath}function xm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new oe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wl{}class Jc extends Wl{}function My(a,e,...r){let s=[];e instanceof Wl&&s.push(e),s=s.concat(r),function(f){const m=f.filter(R=>R instanceof Su).length,T=f.filter(R=>R instanceof ql).length;if(m>1||m>0&&T>0)throw new oe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class ql extends Jc{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ql(e,r,s)}_apply(e){const r=this._parse(e);return rg(e._query,r),new Os(e.firestore,e.converter,Pe(e._query,r))}_parse(e){const r=Au(e.firestore);return function(f,m,T,R,B,X,ce){let Re;if(B.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new oe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){ng(ce,X);const rt=[];for(const xt of ce)rt.push(Fm(R,f,xt));Re={arrayValue:{values:rt}}}else Re=Fm(R,f,ce)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||ng(ce,X),Re=Gd(T,"where",ce,"in"===X||"not-in"===X);return St.create(B,X,Re)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Xp(a,e,r){const s=e,u=Jp("where",a);return ql._create(u,s,r)}class Su extends Wl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Su(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const T=f.getFlattenedFilters();for(const R of T)rg(m,R),m=Pe(m,R)}(e._query,r),new Os(e.firestore,e.converter,Pe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Jc{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eg(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new oe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new oe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mt(f,m)}(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new go(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Om(a,e="asc"){const r=e,s=Jp("orderBy",a);return eg._create(s,r)}class tg extends Jc{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new tg(e,r,s)}_apply(e){return new Os(e.firestore,e.converter,hn(e._query,this._limit,this._limitType))}}function Oy(a){return Ll("limit",a),tg._create("limit",a,"F")}function If(a){return Ll("limitToLast",a),tg._create("limitToLast",a,"L")}class wf extends Jc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new wf(e,r,s)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new Os(e.firestore,e.converter,(f=r,new go((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function Zl(...a){return wf._create("startAt",a,!0)}function qd(...a){return wf._create("startAfter",a,!1)}class Cf extends Jc{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Cf(e,r,s)}_apply(e){const r=km(e,this.type,this._docOrFields,this._inclusive);return new Os(e.firestore,e.converter,(f=r,new go((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Nm(...a){return Cf._create("endBefore",a,!1)}function Ny(...a){return Cf._create("endAt",a,!0)}function km(a,e,r,s){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof Wd)return function(f,m,T,R,B){if(!R)throw new oe(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const X=[];for(const ce of U(f))if(ce.field.isKeyField())X.push(Yt(m,R.key));else{const Re=R.data.field(ce.field);if(cs(Re))throw new oe(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const rt=ce.field.canonicalString();throw new oe(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}X.push(Re)}return new he(X,B)}(a._query,a.firestore._databaseId,e,r[0]._document,s);{const u=Au(a.firestore);return function(m,T,R,B,X,ce){const Re=m.explicitOrderBy;if(X.length>Re.length)throw new oe(we.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let xt=0;xt<X.length;xt++){const Kt=X[xt];if(Re[xt].field.isKeyField()){if("string"!=typeof Kt)throw new oe(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Kt}`);if(!oa(m)&&-1!==Kt.indexOf("/"))throw new oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Kt}' contains a slash.`);const $t=m.path.child(en.fromString(Kt));if(!Mt.isDocumentKey($t))throw new oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${$t}' is not because it contains an odd number of segments.`);const Sn=new Mt($t);rt.push(Yt(T,Sn))}else{const $t=Gd(R,B,Kt);rt.push($t)}}return new he(rt,ce)}(a._query,a.firestore._databaseId,u,e,r,s)}}function Fm(a,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new oe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oa(e)&&-1!==r.indexOf("/"))throw new oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(en.fromString(r));if(!Mt.isDocumentKey(s))throw new oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yt(a,new Mt(s))}if(r instanceof as)return Yt(a,r._key);throw new oe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(r)}.`)}function ng(a,e){if(!Array.isArray(a)||0===a.length)throw new oe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rg(a,e){const r=function(u,f){for(const m of u)for(const T of m.getFlattenedFilters())if(f.indexOf(T.op)>=0)return T.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new oe(we.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Lm{convertValue(e,r="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw wt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return es(e,(u,f)=>{s[u]=this.convertValue(f,r)}),s}convertGeoPoint(e){return new Kp(Zn(e.latitude),Zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=zs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Hi(e));default:return null}}convertTimestamp(e){const r=di(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=en.fromString(e);kt(ma(s));const u=new Ln(s.get(1),s.get(3)),f=new Mt(s.popFirst(5));return u.isEqual(r)||Ht(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Kl(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class Vm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}class Xc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends Wd{constructor(e,r,s,u,f,m){super(e,r,s,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Df extends el{data(e={}){return super.data(e)}}class oc{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Xc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Df(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new oe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>f||3!==T.type).map(T=>{const R=new Df(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Xc(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,X=-1;return 0!==T.type&&(B=m.indexOf(T.doc.key),m=m.delete(T.doc.key)),1!==T.type&&(m=m.add(T.doc),X=m.indexOf(T.doc.key)),{type:Bm(T.type),doc:R,oldIndex:B,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Bm(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function Aa(a,e){return a instanceof el&&e instanceof el?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof oc&&e instanceof oc&&a._firestore===e._firestore&&Wp(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function jm(a){a=Er(a,as);const e=Er(a.firestore,Ci);return Vp(Qi(e),a._key).then(r=>ag(e,a,r))}class tl extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}function ig(a){a=Er(a,as);const e=Er(a.firestore,Ci),r=Qi(e),s=new tl(e);return function gy(a,e){const r=new be;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(f,m,T){try{const R=yield function(X,ce){const Re=et(X);return Re.persistence.runTransaction("read document","readonly",rt=>Re.localDocuments.getDocument(rt,ce))}(f,m);R.isFoundDocument()?T.resolve(R):R.isNoDocument()?T.resolve(null):T.reject(new oe(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const B=Bc(R,`Failed to get document '${m} from cache`);T.reject(B)}}),function u(f,m,T){return s.apply(this,arguments)})(yield rc(a),e,r);var s})),r.promise}(r,a._key).then(u=>new el(e,s,a._key,u,new Xc(null!==u&&u.hasLocalMutations,!0),a.converter))}function ac(a){a=Er(a,as);const e=Er(a.firestore,Ci);return Vp(Qi(e),a._key,{source:"server"}).then(r=>ag(e,a,r))}function sg(a){a=Er(a,Os);const e=Er(a.firestore,Ci),r=Qi(e),s=new tl(e);return xm(a._query),vm(r,a._query).then(u=>new oc(e,s,a,u))}function Fy(a){a=Er(a,Os);const e=Er(a.firestore,Ci),r=Qi(e),s=new tl(e);return function df(a,e){const r=new be;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(s=(0,d.Z)(function*(f,m,T){try{const R=yield yl(f,m,!0),B=new am(m,R.hs),X=B.da(R.documents),ce=B.applyChanges(X,!1);T.resolve(ce.snapshot)}catch(R){const B=Bc(R,`Failed to execute query '${m} against cache`);T.reject(B)}}),function u(f,m,T){return s.apply(this,arguments)})(yield rc(a),e,r);var s})),r.promise}(r,a._query).then(u=>new oc(e,s,a,u))}function cE(a){a=Er(a,Os);const e=Er(a.firestore,Ci),r=Qi(e),s=new tl(e);return vm(r,a._query,{source:"server"}).then(u=>new oc(e,s,a,u))}function Ly(a,e,r){a=Er(a,as);const s=Er(a.firestore,Ci),u=Kl(a.converter,e,r);return is(s,[Bl(Au(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,Xr.none())])}function og(a,e,r,...s){a=Er(a,as);const u=Er(a.firestore,Ci),f=Au(u);let m;return m="string"==typeof(e=(0,_e.m9)(e))||e instanceof bu?zd(f,"updateDoc",a._key,e,r,s):Hd(f,"updateDoc",a._key,e),is(u,[m.toMutation(a._key,Xr.exists(!0))])}function Qa(a){return is(Er(a.firestore,Ci),[new qr(a._key,Xr.none())])}function $m(a,e){const r=Er(a.firestore,Ci),s=vy(a),u=Kl(a.converter,e);return is(r,[Bl(Au(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,Xr.exists(!1))]).then(()=>s)}function Vy(a,...e){var r,s,u;a=(0,_e.m9)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||pf(e[m])||(f=e[m],m++);const T={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(pf(e[m])){const ce=e[m];e[m]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),e[m+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),e[m+2]=null===(u=ce.complete)||void 0===u?void 0:u.bind(ce)}let R,B,X;if(a instanceof as)B=Er(a.firestore,Ci),X=Dr(a._key.path),R={next:ce=>{e[m]&&e[m](ag(B,a,ce))},error:e[m+1],complete:e[m+2]};else{const ce=Er(a,Os);B=Er(ce.firestore,Ci),X=ce._query;const Re=new tl(B);R={next:rt=>{e[m]&&e[m](new oc(B,Re,ce,rt))},error:e[m+1],complete:e[m+2]},xm(a._query)}return function(Re,rt,xt,Kt){const $t=new Np(Kt),Sn=new Ml(rt,$t,xt);return Re.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Od(yield Wc(Re),Sn)})),()=>{$t.$a(),Re.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return jc(yield Wc(Re),Sn)}))}}(Qi(B),X,T,R)}function lE(a,e){return function my(a,e){const r=new Np(e);return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return u=yield Wc(a),f=r,et(u).z_.add(f),void f.next();var u,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return u=yield Wc(a),f=r,void et(u).z_.delete(f);var u,f}))}}(Qi(a=Er(a,Ci)),pf(e)?e:{next:e})}function is(a,e){return function(s,u){const f=new be;return s.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Zh(a,e,r){return vp.apply(this,arguments)}(yield ym(s),u,f)})),f.promise}(Qi(a),e)}function ag(a,e,r){const s=r.docs.get(e._key),u=new tl(a);return new el(a,u,e._key,s,new Xc(r.hasPendingWrites,r.fromCache),e.converter)}const Pu={maxAttempts:5};class nl{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Au(e)}set(e,r,s){this._verifyNotCommitted();const u=uc(e,this._firestore),f=Kl(u.converter,r,s),m=Bl(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,Xr.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const f=uc(e,this._firestore);let m;return m="string"==typeof(r=(0,_e.m9)(r))||r instanceof bu?zd(this._dataReader,"WriteBatch.update",f._key,r,s,u):Hd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uc(e,this._firestore);return this._mutations=this._mutations.concat(new qr(r._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uc(a,e){if((a=(0,_e.m9)(a)).firestore!==e)throw new oe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Gy extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Au(r)}get(r){const s=uc(r,this._firestore),u=new Vm(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return wt();const m=f[0];if(m.isFoundDocument())return new Wd(this._firestore,u,m.key,m,s.converter);if(m.isNoDocument())return new Wd(this._firestore,u,s._key,null,s.converter);throw wt()})}set(r,s,u){const f=uc(r,this._firestore),m=Kl(f.converter,s,u),T=Bl(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,T),this}update(r,s,u,...f){const m=uc(r,this._firestore);let T;return T="string"==typeof(s=(0,_e.m9)(s))||s instanceof bu?zd(this._dataReader,"Transaction.update",m._key,s,u,f):Hd(this._dataReader,"Transaction.update",m._key,s),this._transaction.update(m._key,T),this}delete(r){const s=uc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uc(e,this._firestore),s=new tl(this._firestore);return super.get(e).then(u=>new el(this._firestore,s,r._key,u._document,new Xc(!1,!1),r.converter))}}function qm(a,e,r){a=Er(a,Ci);const s=Object.assign(Object.assign({},Pu),r);return function(f){if(f.maxAttempts<1)throw new oe(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,m,T){const R=new be;return f.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const B=yield function hy(a){return Fp(a).then(e=>e.datastore)}(f);new cy(f.asyncQueue,B,T,m,R).Xa()})),R.promise}(Qi(a),u=>e(new Gy(a,u)),s)}function Zm(){return new Ya("deleteField")}function cg(){return new $d("serverTimestamp")}function Kd(...a){return new Qc("arrayUnion",a)}function bf(...a){return new jl("arrayRemove",a)}function Km(a){return new sc("increment",a)}!function(e,r=!0){Ze=y.SDK_VERSION,(0,y._registerComponent)(new z.wA("firestore",(s,{instanceIdentifier:u,options:f})=>{const m=s.getProvider("app").getImmediate(),T=new Ci(new Ne(s.getProvider("auth-internal")),new qt(s.getProvider("app-check-internal")),function(B,X){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new oe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ln(B.options.projectId,X)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),T._setSettings(f),T},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Le,"4.6.3",e),(0,y.registerVersion)(Le,"4.6.3","esm2017")}()},8153:(rn,Xe,k)=>{k.d(Xe,{$Y:()=>bn,B0:()=>Gi,FN:()=>pn,IX:()=>Jr,Jt:()=>vi,UJ:()=>Or,Ym:()=>Yt,a1:()=>qi,aF:()=>Qn,bm:()=>cn,cF:()=>vr,g6:()=>Wi,gE:()=>Ut,gH:()=>Ht,iH:()=>Gr,oq:()=>Ms,pb:()=>Vn,qm:()=>gn,sd:()=>Nr,y4:()=>kn});var d=k(5861),y=k(534),z=k(9058),Ce=k(4537);const _e="firebasestorage.googleapis.com",Se="storageBucket";class se extends z.ZR{constructor(j,he,Ee=0){super(Ie(j),`Firebase Storage: ${he} (${Ie(j)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,se.prototype)}get status(){return this.status_}set status(j){this.status_=j}_codeEquals(j){return Ie(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var re=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(re||{});function Ie(q){return"storage/"+q}function lt(){return new se(re.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function an(){return new se(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qe(){return new se(re.CANCELED,"User canceled the upload/download.")}function Ye(){return new se(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ht(q){return new se(re.INVALID_ARGUMENT,q)}function tn(){return new se(re.APP_DELETED,"The Firebase app was deleted.")}function kn(q){return new se(re.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wt(q,j){return new se(re.INVALID_FORMAT,"String does not match format '"+q+"': "+j)}function kt(q){throw new se(re.INTERNAL_ERROR,"Internal error: "+q)}class Ut{constructor(j,he){this.bucket=j,this.path_=he}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,he){let Ee;try{Ee=Ut.makeFromUrl(j,he)}catch{return new Ut(j,"")}if(""===Ee.path)return Ee;throw function Qe(q){return new se(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(j)}static makeFromUrl(j,he){let Ee=null;const je="([A-Za-z0-9.\\-_]+)",dn=new RegExp("^gs://"+je+"(/(.*))?$","i");function un(oi){oi.path_=decodeURIComponent(oi.path)}const Cn=he.replace(/[.]/g,"\\."),Jn=[{regex:dn,indices:{bucket:1,path:3},postModify:function mt(oi){"/"===oi.path.charAt(oi.path.length-1)&&(oi.path_=oi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Cn}/v[A-Za-z0-9_]+/b/${je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:un},{regex:new RegExp(`^https?://${he===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":he}/${je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:un}];for(let oi=0;oi<Jn.length;oi++){const Hr=Jn[oi],Cr=Hr.regex.exec(j);if(Cr){let xi=Cr[Hr.indices.path];xi||(xi=""),Ee=new Ut(Cr[Hr.indices.bucket],xi),Hr.postModify(Ee);break}}if(null==Ee)throw function Le(q){return new se(re.INVALID_URL,"Invalid URL '"+q+"'.")}(j);return Ee}}class et{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function ve(q){return"string"==typeof q||q instanceof String}function Ne(q){return yt()&&q instanceof Blob}function yt(){return typeof Blob<"u"}function vt(q,j,he,Ee){if(Ee<j)throw Ht(`Invalid value for '${q}'. Expected ${j} or greater.`);if(Ee>he)throw Ht(`Invalid value for '${q}'. Expected ${he} or less.`)}function sn(q,j,he){let Ee=j;return null==he&&(Ee=`https://${j}`),`${he}://${Ee}/v0${q}`}function qt(q){const j=encodeURIComponent;let he="?";for(const Ee in q)q.hasOwnProperty(Ee)&&(he=he+(j(Ee)+"=")+j(q[Ee])+"&");return he=he.slice(0,-1),he}var Pn=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Pn||{});function _n(q,j){const he=q>=500&&q<600,je=-1!==[408,429].indexOf(q),mt=-1!==j.indexOf(q);return he||je||mt}class er{constructor(j,he,Ee,je,mt,Gt,dn,St,un,Kn,Cn,Yr=!0){this.url_=j,this.method_=he,this.headers_=Ee,this.body_=je,this.successCodes_=mt,this.additionalRetryCodes_=Gt,this.callback_=dn,this.errorCallback_=St,this.timeout_=un,this.progressCallback_=Kn,this.connectionFactory_=Cn,this.retry=Yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,Qr)=>{this.resolve_=$r,this.reject_=Qr,this.start_()})}start_(){const he=(Ee,je)=>{const mt=this.resolve_,Gt=this.reject_,dn=je.connection;if(je.wasSuccessCode)try{const St=this.callback_(dn,dn.getResponse());!function be(q){return void 0!==q}(St)?mt():mt(St)}catch(St){Gt(St)}else if(null!==dn){const St=lt();St.serverResponse=dn.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(dn,St):St)}else Gt(je.canceled?this.appDelete_?tn():qe():an())};this.canceled_?he(0,new Rt(!1,null,!0)):this.backoffId_=function we(q,j,he){let Ee=1,je=null,mt=null,Gt=!1,dn=0;function St(){return 2===dn}let un=!1;function Kn(...Fr){un||(un=!0,j.apply(null,Fr))}function Cn(Fr){je=setTimeout(()=>{je=null,q($r,St())},Fr)}function Yr(){mt&&clearTimeout(mt)}function $r(Fr,...Vi){if(un)return void Yr();if(Fr)return Yr(),void Kn.call(null,Fr,...Vi);if(St()||Gt)return Yr(),void Kn.call(null,Fr,...Vi);let Jn;Ee<64&&(Ee*=2),1===dn?(dn=2,Jn=0):Jn=1e3*(Ee+Math.random()),Cn(Jn)}let Qr=!1;function Wr(Fr){Qr||(Qr=!0,Yr(),!un&&(null!==je?(Fr||(dn=2),clearTimeout(je),Cn(0)):Fr||(dn=1)))}return Cn(0),mt=setTimeout(()=>{Gt=!0,Wr(!0)},he),Wr}((Ee,je)=>{if(je)return void Ee(!1,new Rt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const Gt=dn=>{null!==this.progressCallback_&&this.progressCallback_(dn.loaded,dn.lengthComputable?dn.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(Gt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(Gt),this.pendingConnection_=null;const dn=mt.getErrorCode()===Pn.NO_ERROR,St=mt.getStatus();if(!dn||_n(St,this.additionalRetryCodes_)&&this.retry){const Kn=mt.getErrorCode()===Pn.ABORT;return void Ee(!1,new Rt(!1,null,Kn))}const un=-1!==this.successCodes_.indexOf(St);Ee(!0,new Rt(un,mt))})},he,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&function oe(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Rt{constructor(j,he,Ee){this.wasSuccessCode=j,this.connection=he,this.canceled=!!Ee}}function ar(...q){const j=function en(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==j){const he=new j;for(let Ee=0;Ee<q.length;Ee++)he.append(q[Ee]);return he.getBlob()}if(yt())return new Blob(q);throw new se(re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wn{constructor(j,he){this.data=j,this.contentType=he||null}}function gn(q,j){switch(q){case cn.RAW:return new wn(rr(j));case cn.BASE64:case cn.BASE64URL:return new wn(Mr(q,j));case cn.DATA_URL:return new wn(function xr(q){const j=new Mn(q);return j.base64?Mr(cn.BASE64,j.rest):function cr(q){let j;try{j=decodeURIComponent(q)}catch{throw wt(cn.DATA_URL,"Malformed data URL.")}return rr(j)}(j.rest)}(j),function Di(q){return new Mn(q).contentType}(j))}throw lt()}function rr(q){const j=[];for(let he=0;he<q.length;he++){let Ee=q.charCodeAt(he);Ee<=127?j.push(Ee):Ee<=2047?j.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?he<q.length-1&&56320==(64512&q.charCodeAt(he+1))?(Ee=65536|(1023&Ee)<<10|1023&q.charCodeAt(++he),j.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):j.push(239,191,189):56320==(64512&Ee)?j.push(239,191,189):j.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(j)}function Mr(q,j){switch(q){case cn.BASE64:{const je=-1!==j.indexOf("-"),mt=-1!==j.indexOf("_");if(je||mt)throw wt(q,"Invalid character '"+(je?"-":"_")+"' found: is it base64url encoded?");break}case cn.BASE64URL:{const je=-1!==j.indexOf("+"),mt=-1!==j.indexOf("/");if(je||mt)throw wt(q,"Invalid character '"+(je?"+":"/")+"' found: is it base64 encoded?");j=j.replace(/-/g,"+").replace(/_/g,"/");break}}let he;try{he=function Mt(q){if(typeof atob>"u")throw function pe(q){return new se(re.UNSUPPORTED_ENVIRONMENT,`${q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(q)}(j)}catch(je){throw je.message.includes("polyfill")?je:wt(q,"Invalid character found")}const Ee=new Uint8Array(he.length);for(let je=0;je<he.length;je++)Ee[je]=he.charCodeAt(je);return Ee}class Mn{constructor(j){this.base64=!1,this.contentType=null;const he=j.match(/^data:([^,]+)?,/);if(null===he)throw wt(cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=he[1]||null;null!=Ee&&(this.base64=function Jt(q,j){return q.length>=j.length&&q.substring(q.length-j.length)===j}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=j.substring(j.indexOf(",")+1)}}class Or{constructor(j,he){let Ee=0,je="";Ne(j)?(this.data_=j,Ee=j.size,je=j.type):j instanceof ArrayBuffer?(he?this.data_=new Uint8Array(j):(this.data_=new Uint8Array(j.byteLength),this.data_.set(new Uint8Array(j))),Ee=this.data_.length):j instanceof Uint8Array&&(he?this.data_=j:(this.data_=new Uint8Array(j.length),this.data_.set(j)),Ee=j.length),this.size_=Ee,this.type_=je}size(){return this.size_}type(){return this.type_}slice(j,he){if(Ne(this.data_)){const je=function Fn(q,j,he){return q.webkitSlice?q.webkitSlice(j,he):q.mozSlice?q.mozSlice(j,he):q.slice?q.slice(j,he):null}(this.data_,j,he);return null===je?null:new Or(je)}{const Ee=new Uint8Array(this.data_.buffer,j,he-j);return new Or(Ee,!0)}}static getBlob(...j){if(yt()){const he=j.map(Ee=>Ee instanceof Or?Ee.data_:Ee);return new Or(ar.apply(null,he))}{const he=j.map(Gt=>ve(Gt)?gn(cn.RAW,Gt).data:Gt.data_);let Ee=0;he.forEach(Gt=>{Ee+=Gt.byteLength});const je=new Uint8Array(Ee);let mt=0;return he.forEach(Gt=>{for(let dn=0;dn<Gt.length;dn++)je[mt++]=Gt[dn]}),new Or(je,!0)}}uploadData(){return this.data_}}function $n(q){let j;try{j=JSON.parse(q)}catch{return null}return function ye(q){return"object"==typeof q&&!Array.isArray(q)}(j)?j:null}function li(q){const j=q.lastIndexOf("/",q.length-2);return-1===j?q:q.slice(j+1)}function Ue(q,j){return j}class ft{constructor(j,he,Ee,je){this.server=j,this.local=he||j,this.writable=!!Ee,this.xform=je||Ue}}let Q=null;function dt(){if(Q)return Q;const q=[];q.push(new ft("bucket")),q.push(new ft("generation")),q.push(new ft("metageneration")),q.push(new ft("name","fullPath",!0));const he=new ft("name");he.xform=function j(mt,Gt){return function me(q){return!ve(q)||q.length<2?q:li(q)}(Gt)},q.push(he);const je=new ft("size");return je.xform=function Ee(mt,Gt){return void 0!==Gt?Number(Gt):Gt},q.push(je),q.push(new ft("timeCreated")),q.push(new ft("updated")),q.push(new ft("md5Hash",null,!0)),q.push(new ft("cacheControl",null,!0)),q.push(new ft("contentDisposition",null,!0)),q.push(new ft("contentEncoding",null,!0)),q.push(new ft("contentLanguage",null,!0)),q.push(new ft("contentType",null,!0)),q.push(new ft("metadata","customMetadata",!0)),Q=q,Q}function mr(q,j,he){const Ee=$n(j);return null===Ee?null:function Tn(q,j,he){const Ee={type:"file"},je=he.length;for(let mt=0;mt<je;mt++){const Gt=he[mt];Ee[Gt.local]=Gt.xform(Ee,j[Gt.server])}return function Bt(q,j){Object.defineProperty(q,"ref",{get:function he(){const mt=new Ut(q.bucket,q.fullPath);return j._makeStorageReference(mt)}})}(Ee,q),Ee}(q,Ee,he)}function Te(q,j){const he={},Ee=j.length;for(let je=0;je<Ee;je++){const mt=j[je];mt.writable&&(he[mt.server]=q[mt.local])}return JSON.stringify(he)}const J="prefixes",V="items";class ue{constructor(j,he,Ee,je){this.url=j,this.method=he,this.handler=Ee,this.timeout=je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Me(q){if(!q)throw lt()}function gt(q,j){return function he(Ee,je){const mt=mr(q,je,j);return Me(null!==mt),mt}}function Zt(q){return function j(he,Ee){let je;return je=401===he.getStatus()?he.getErrorText().includes("Firebase App Check token is invalid")?function Vt(){return new se(re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new se(re.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===he.getStatus()?function Ct(q){return new se(re.QUOTA_EXCEEDED,"Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===he.getStatus()?function Dt(q){return new se(re.UNAUTHORIZED,"User does not have permission to access '"+q+"'.")}(q.path):Ee,je.status=he.getStatus(),je.serverResponse=Ee.serverResponse,je}}function Qt(q){const j=Zt(q);return function he(Ee,je){let mt=j(Ee,je);return 404===Ee.getStatus()&&(mt=function Fe(q){return new se(re.OBJECT_NOT_FOUND,"Object '"+q+"' does not exist.")}(q.path)),mt.serverResponse=je.serverResponse,mt}}function zn(q,j,he){const je=sn(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,dn=new ue(je,"GET",gt(q,he),Gt);return dn.errorHandler=Qt(j),dn}function vn(q,j,he,Ee,je){const mt={};mt.prefix=j.isRoot?"":j.path+"/",he&&he.length>0&&(mt.delimiter=he),Ee&&(mt.pageToken=Ee),je&&(mt.maxResults=je);const dn=sn(j.bucketOnlyServerUrl(),q.host,q._protocol),un=q.maxOperationRetryTime,Kn=new ue(dn,"GET",function Pt(q,j){return function he(Ee,je){const mt=function O(q,j,he){const Ee=$n(he);return null===Ee?null:function N(q,j,he){const Ee={prefixes:[],items:[],nextPageToken:he.nextPageToken};if(he[J])for(const je of he[J]){const mt=je.replace(/\/$/,""),Gt=q._makeStorageReference(new Ut(j,mt));Ee.prefixes.push(Gt)}if(he[V])for(const je of he[V]){const mt=q._makeStorageReference(new Ut(j,je.name));Ee.items.push(mt)}return Ee}(q,j,Ee)}(q,j,je);return Me(null!==mt),mt}}(q,j.bucket),un);return Kn.urlParams=mt,Kn.errorHandler=Zt(j),Kn}function $i(q,j,he){const Ee=Object.assign({},he);return Ee.fullPath=q.path,Ee.size=j.size(),Ee.contentType||(Ee.contentType=function Xi(q,j){return q&&q.contentType||j&&j.type()||"application/octet-stream"}(null,j)),Ee}class Gn{constructor(j,he,Ee,je){this.current=j,this.total=he,this.finalized=!!Ee,this.metadata=je||null}}function st(q,j){let he=null;try{he=q.getResponseHeader("X-Goog-Upload-Status")}catch{Me(!1)}return Me(!!he&&-1!==(j||["active"]).indexOf(he)),he}const pn={STATE_CHANGED:"state_changed"},bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ir(q){switch(q){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;default:return bn.ERROR}}class pr{constructor(j,he,Ee){if(function He(q){return"function"==typeof q}(j)||null!=he||null!=Ee)this.next=j,this.error=he??void 0,this.complete=Ee??void 0;else{const mt=j;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function ui(q){return(...j)=>{Promise.resolve().then(()=>q(...j))}}let us=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(j=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,j()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,j()}),this.xhr_.addEventListener("load",()=>{j()})})}send(j,he,Ee,je){if(this.sent_)throw kt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(he,j,!0),void 0!==je)for(const mt in je)je.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,je[mt].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(j){return this.xhr_.getResponseHeader(j)}addUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",j)}removeUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",j)}}class ks extends lr{initXhr(){this.xhr_.responseType="text"}}function si(){return us?us():new ks}class Jr{constructor(j,he,Ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=j,this._blob=he,this._metadata=Ee,this._mappings=dt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=je=>{if(this._request=void 0,this._chunkMultiplier=1,je._codeEquals(re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(_n(je.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();je=an()}this._error=je,this._transition("error")}},this._metadataErrorHandler=je=>{this._request=void 0,je._codeEquals(re.CANCELED)?this.completeTransitions_():(this._error=je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((je,mt)=>{this._resolve=je,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const j=this._transferred;return he=>this._updateProgress(j+he)}_shouldDoResumable(j){return j.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(j){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([he,Ee])=>{switch(this._state){case"running":j(he,Ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((j,he)=>{const Ee=function Ge(q,j,he,Ee,je){const mt=j.bucketOnlyServerUrl(),Gt=$i(j,Ee,je),dn={name:Gt.fullPath},St=sn(mt,q.host,q._protocol),Kn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.size()}`,"X-Goog-Upload-Header-Content-Type":Gt.contentType,"Content-Type":"application/json; charset=utf-8"},Cn=Te(Gt,he),Qr=new ue(St,"POST",function $r(Wr){let Fr;st(Wr);try{Fr=Wr.getResponseHeader("X-Goog-Upload-URL")}catch{Me(!1)}return Me(ve(Fr)),Fr},q.maxUploadRetryTime);return Qr.urlParams=dn,Qr.headers=Kn,Qr.body=Cn,Qr.errorHandler=Zt(j),Qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Ee,si,j,he);this._request=je,je.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const j=this._uploadUrl;this._resolveToken((he,Ee)=>{const je=function Et(q,j,he,Ee){const St=new ue(he,"POST",function mt(un){const Kn=st(un,["active","final"]);let Cn=null;try{Cn=un.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Me(!1)}Cn||Me(!1);const Yr=Number(Cn);return Me(!isNaN(Yr)),new Gn(Yr,Ee.size(),"final"===Kn)},q.maxUploadRetryTime);return St.headers={"X-Goog-Upload-Command":"query"},St.errorHandler=Zt(j),St}(this._ref.storage,this._ref._location,j,this._blob),mt=this._ref.storage._makeRequest(je,si,he,Ee);this._request=mt,mt.getPromise().then(Gt=>{this._request=void 0,this._updateProgress(Gt.current),this._needToFetchStatus=!1,Gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const j=262144*this._chunkMultiplier,he=new Gn(this._transferred,this._blob.size()),Ee=this._uploadUrl;this._resolveToken((je,mt)=>{let Gt;try{Gt=function Dn(q,j,he,Ee,je,mt,Gt,dn){const St=new Gn(0,0);if(Gt?(St.current=Gt.current,St.total=Gt.total):(St.current=0,St.total=Ee.size()),Ee.size()!==St.total)throw function _t(){return new se(re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const un=St.total-St.current;let Kn=un;je>0&&(Kn=Math.min(Kn,je));const Cn=St.current;let $r="";$r=0===Kn?"finalize":un===Kn?"upload, finalize":"upload";const Qr={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${St.current}`},Wr=Ee.slice(Cn,Cn+Kn);if(null===Wr)throw Ye();const Jn=new ue(he,"POST",function Fr(oi,Hr){const Cr=st(oi,["active","final"]),Gs=St.current+Kn,xi=Ee.size();let To;return To="final"===Cr?gt(j,mt)(oi,Hr):null,new Gn(Gs,xi,"final"===Cr,To)},j.maxUploadRetryTime);return Jn.headers=Qr,Jn.body=Wr.uploadData(),Jn.progressCallback=dn||null,Jn.errorHandler=Zt(q),Jn}(this._ref._location,this._ref.storage,Ee,this._blob,j,this._mappings,he,this._makeProgressCallback())}catch(St){return this._error=St,void this._transition("error")}const dn=this._ref.storage._makeRequest(Gt,si,je,mt,!1);this._request=dn,dn.getPromise().then(St=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(St.current),St.finalized?(this._metadata=St.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((j,he)=>{const Ee=zn(this._ref.storage,this._ref._location,this._mappings),je=this._ref.storage._makeRequest(Ee,si,j,he);this._request=je,je.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((j,he)=>{const Ee=function kr(q,j,he,Ee,je){const mt=j.bucketOnlyServerUrl(),Gt={"X-Goog-Upload-Protocol":"multipart"},St=function dn(){let Jn="";for(let oi=0;oi<2;oi++)Jn+=Math.random().toString().slice(2);return Jn}();Gt["Content-Type"]="multipart/related; boundary="+St;const un=$i(j,Ee,je),Kn=Te(un,he),$r=Or.getBlob("--"+St+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kn+"\r\n--"+St+"\r\nContent-Type: "+un.contentType+"\r\n\r\n",Ee,"\r\n--"+St+"--");if(null===$r)throw Ye();const Qr={name:un.fullPath},Wr=sn(mt,q.host,q._protocol),Vi=q.maxUploadRetryTime,Mi=new ue(Wr,"POST",gt(q,he),Vi);return Mi.urlParams=Qr,Mi.headers=Gt,Mi.body=$r.uploadData(),Mi.errorHandler=Zt(j),Mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(Ee,si,j,he);this._request=je,je.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(j){const he=this._transferred;this._transferred=j,this._transferred!==he&&this._notifyObservers()}_transition(j){if(this._state!==j)switch(j){case"canceling":case"pausing":this._state=j,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const he="paused"===this._state;this._state=j,he&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=j,this._notifyObservers();break;case"canceled":this._error=qe(),this._state=j,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const j=Ir(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:j,metadata:this._metadata,task:this,ref:this._ref}}on(j,he,Ee,je){const mt=new pr(he||void 0,Ee||void 0,je||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(j,he){return this._promise.then(j,he)}catch(j){return this.then(null,j)}_addObserver(j){this._observers.push(j),this._notifyObserver(j)}_removeObserver(j){const he=this._observers.indexOf(j);-1!==he&&this._observers.splice(he,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(he=>{this._notifyObserver(he)})}_finishPromise(){if(void 0!==this._resolve){let j=!0;switch(Ir(this._state)){case bn.SUCCESS:ui(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:ui(this._reject.bind(null,this._error))();break;default:j=!1}j&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(j){switch(Ir(this._state)){case bn.RUNNING:case bn.PAUSED:j.next&&ui(j.next.bind(j,this.snapshot))();break;case bn.SUCCESS:j.complete&&ui(j.complete.bind(j))();break;default:j.error&&ui(j.error.bind(j,this._error))()}}resume(){const j="paused"===this._state||"pausing"===this._state;return j&&this._transition("running"),j}pause(){const j="running"===this._state;return j&&this._transition("pausing"),j}cancel(){const j="running"===this._state||"pausing"===this._state;return j&&this._transition("canceling"),j}}class mi{constructor(j,he){this._service=j,this._location=he instanceof Ut?he:Ut.makeFromUrl(he,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,he){return new mi(j,he)}get root(){const j=new Ut(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return li(this._location.path)}get storage(){return this._service}get parent(){const j=function tr(q){if(0===q.length)return null;const j=q.lastIndexOf("/");return-1===j?"":q.slice(0,j)}(this._location.path);if(null===j)return null;const he=new Ut(this._location.bucket,j);return new mi(this._service,he)}_throwIfRoot(j){if(""===this._location.path)throw kn(j)}}function _i(q,j,he){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(q,j,he){const je=yield fo(q,{pageToken:he});j.prefixes.push(...je.prefixes),j.items.push(...je.items),null!=je.nextPageToken&&(yield _i(q,j,je.nextPageToken))})).apply(this,arguments)}function fo(q,j){null!=j&&"number"==typeof j.maxResults&&vt("options.maxResults",1,1e3,j.maxResults);const he=j||{},Ee=vn(q.storage,q._location,"/",he.pageToken,he.maxResults);return q.storage.makeRequestWithTokens(Ee,si)}function di(q){q._throwIfRoot("getDownloadURL");const j=function Fi(q,j,he){const je=sn(j.fullServerUrl(),q.host,q._protocol),Gt=q.maxOperationRetryTime,dn=new ue(je,"GET",function nn(q,j){return function he(Ee,je){const mt=mr(q,je,j);return Me(null!==mt),function Yn(q,j,he,Ee){const je=$n(j);if(null===je||!ve(je.downloadTokens))return null;const mt=je.downloadTokens;if(0===mt.length)return null;const Gt=encodeURIComponent;return mt.split(",").map(un=>{const Cn=q.fullPath;return sn("/b/"+Gt(q.bucket)+"/o/"+Gt(Cn),he,Ee)+qt({alt:"media",token:un})})[0]}(mt,je,q.host,q._protocol)}}(q,he),Gt);return dn.errorHandler=Qt(j),dn}(q.storage,q._location,dt());return q.storage.makeRequestWithTokens(j,si).then(he=>{if(null===he)throw function At(){return new se(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return he})}function hi(q,j){const he=function An(q,j){const he=j.split("/").filter(Ee=>Ee.length>0).join("/");return 0===q.length?he:q+"/"+he}(q._location.path,j),Ee=new Ut(q._location.bucket,he);return new mi(q.storage,Ee)}function Hi(q,j){if(q instanceof Zr){const he=q;if(null==he._bucket)throw function Ze(){return new se(re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Se+"' property when initializing the app?")}();const Ee=new mi(he,he._bucket);return null!=j?Hi(Ee,j):Ee}return void 0!==j?hi(q,j):q}function Ss(q,j){if(j&&function cs(q){return/^[A-Za-z]+:\/\//.test(q)}(j)){if(q instanceof Zr)return function zs(q,j){return new mi(q,j)}(q,j);throw Ht("To use ref(service, url), the first argument must be a Storage instance.")}return Hi(q,j)}function Ln(q,j){const he=j?.[Se];return null==he?null:Ut.makeFromBucketSpec(he,q)}class Zr{constructor(j,he,Ee,je,mt){this.app=j,this._authProvider=he,this._appCheckProvider=Ee,this._url=je,this._firebaseVersion=mt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=je?Ut.makeFromBucketSpec(je,this._host):Ln(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?Ut.makeFromBucketSpec(this._url,j):Ln(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){vt("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){vt("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,d.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const he=j._authProvider.getImmediate({optional:!0});if(he){const Ee=yield he.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,d.Z)(function*(){const he=j._appCheckProvider.getImmediate({optional:!0});return he?(yield he.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new mi(this,j)}_makeRequest(j,he,Ee,je,mt=!0){if(this._deleted)return new et(tn());{const Gt=function Ar(q,j,he,Ee,je,mt,Gt=!0){const dn=qt(q.urlParams),St=q.url+dn,un=Object.assign({},q.headers);return function Lt(q,j){j&&(q["X-Firebase-GMPID"]=j)}(un,j),function En(q,j){null!==j&&j.length>0&&(q.Authorization="Firebase "+j)}(un,he),function On(q,j){q["X-Firebase-Storage-Version"]="webjs/"+(j??"AppManager")}(un,mt),function Ot(q,j){null!==j&&(q["X-Firebase-AppCheck"]=j)}(un,Ee),new er(St,q.method,un,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,je,Gt)}(j,this._appId,Ee,je,he,this._firebaseVersion,mt);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(j,he){var Ee=this;return(0,d.Z)(function*(){const[je,mt]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(j,he,je,mt).getPromise()})()}}const Ri="@firebase/storage",Ps="storage";function Gi(q,j,he){return function yr(q,j,he){return q._throwIfRoot("uploadBytesResumable"),new Jr(q,new Or(j),he)}(q=(0,z.m9)(q),j,he)}function Nr(q){return function ci(q){q._throwIfRoot("getMetadata");const j=zn(q.storage,q._location,dt());return q.storage.makeRequestWithTokens(j,si)}(q=(0,z.m9)(q))}function Yt(q,j){return function Co(q,j){q._throwIfRoot("updateMetadata");const he=function Si(q,j,he,Ee){const mt=sn(j.fullServerUrl(),q.host,q._protocol),dn=Te(he,Ee),un=q.maxOperationRetryTime,Kn=new ue(mt,"PATCH",gt(q,Ee),un);return Kn.headers={"Content-Type":"application/json; charset=utf-8"},Kn.body=dn,Kn.errorHandler=Qt(j),Kn}(q.storage,q._location,j,dt());return q.storage.makeRequestWithTokens(he,si)}(q=(0,z.m9)(q),j)}function Vn(q,j){return fo(q=(0,z.m9)(q),j)}function Qn(q){return function Pi(q){const j={prefixes:[],items:[]};return _i(q,j).then(()=>j)}(q=(0,z.m9)(q))}function vi(q){return di(q=(0,z.m9)(q))}function Ms(q){return function Zn(q){q._throwIfRoot("deleteObject");const j=function ii(q,j){const Ee=sn(j.fullServerUrl(),q.host,q._protocol),dn=new ue(Ee,"DELETE",function Gt(St,un){},q.maxOperationRetryTime);return dn.successCodes=[200,204],dn.errorHandler=Qt(j),dn}(q.storage,q._location);return q.storage.makeRequestWithTokens(j,si)}(q=(0,z.m9)(q))}function Gr(q,j){return Ss(q=(0,z.m9)(q),j)}function Wi(q,j){return hi(q,j)}function vr(q=(0,y.getApp)(),j){q=(0,z.m9)(q);const Ee=(0,y._getProvider)(q,Ps).getImmediate({identifier:j}),je=(0,z.P0)("storage");return je&&qi(Ee,...je),Ee}function qi(q,j,he,Ee={}){!function jr(q,j,he,Ee={}){q.host=`${j}:${he}`,q._protocol="http";const{mockUserToken:je}=Ee;je&&(q._overrideAuthToken="string"==typeof je?je:(0,z.Sg)(je,q.app.options.projectId))}(q,j,he,Ee)}function ts(q,{instanceIdentifier:j}){const he=q.getProvider("app").getImmediate(),Ee=q.getProvider("auth-internal"),je=q.getProvider("app-check-internal");return new Zr(he,Ee,je,j,y.SDK_VERSION)}!function Kr(){(0,y._registerComponent)(new Ce.wA(Ps,ts,"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(Ri,"0.12.5",""),(0,y.registerVersion)(Ri,"0.12.5","esm2017")}()},9058:(rn,Xe,k)=>{k.d(Xe,{BH:()=>Ze,G6:()=>we,L:()=>ze,LL:()=>Ne,P0:()=>qe,Pz:()=>Qe,Sg:()=>Ye,UG:()=>pe,ZB:()=>Ie,ZR:()=>ve,aH:()=>Le,b$:()=>kn,eu:()=>be,hl:()=>oe,jU:()=>Ht,m9:()=>Yn,ne:()=>rr,pd:()=>wn,r3:()=>On,ru:()=>tn,tV:()=>se,uI:()=>At,vZ:()=>en,w1:()=>kt,xO:()=>Mt,xb:()=>Ot,z$:()=>_t,zd:()=>cn});const Ce=function(Te){const J=[];let V=0;for(let N=0;N<Te.length;N++){let O=Te.charCodeAt(N);O<128?J[V++]=O:O<2048?(J[V++]=O>>6|192,J[V++]=63&O|128):55296==(64512&O)&&N+1<Te.length&&56320==(64512&Te.charCodeAt(N+1))?(O=65536+((1023&O)<<10)+(1023&Te.charCodeAt(++N)),J[V++]=O>>18|240,J[V++]=O>>12&63|128,J[V++]=O>>6&63|128,J[V++]=63&O|128):(J[V++]=O>>12|224,J[V++]=O>>6&63|128,J[V++]=63&O|128)}return J},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,J){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let O=0;O<Te.length;O+=3){const ue=Te[O],Me=O+1<Te.length,gt=Me?Te[O+1]:0,Pt=O+2<Te.length,nn=Pt?Te[O+2]:0;let zn=(15&gt)<<2|nn>>6,vn=63&nn;Pt||(vn=64,Me||(zn=64)),N.push(V[ue>>2],V[(3&ue)<<4|gt>>4],V[zn],V[vn])}return N.join("")},encodeString(Te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(Te):this.encodeByteArray(Ce(Te),J)},decodeString(Te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(Te):function(Te){const J=[];let V=0,N=0;for(;V<Te.length;){const O=Te[V++];if(O<128)J[N++]=String.fromCharCode(O);else if(O>191&&O<224){const ue=Te[V++];J[N++]=String.fromCharCode((31&O)<<6|63&ue)}else if(O>239&&O<365){const Pt=((7&O)<<18|(63&Te[V++])<<12|(63&Te[V++])<<6|63&Te[V++])-65536;J[N++]=String.fromCharCode(55296+(Pt>>10)),J[N++]=String.fromCharCode(56320+(1023&Pt))}else{const ue=Te[V++],Me=Te[V++];J[N++]=String.fromCharCode((15&O)<<12|(63&ue)<<6|63&Me)}}return J.join("")}(this.decodeStringToByteArray(Te,J))},decodeStringToByteArray(Te,J){this.init_();const V=J?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let O=0;O<Te.length;){const ue=V[Te.charAt(O++)],gt=O<Te.length?V[Te.charAt(O)]:0;++O;const nn=O<Te.length?V[Te.charAt(O)]:64;++O;const Qt=O<Te.length?V[Te.charAt(O)]:64;if(++O,null==ue||null==gt||null==nn||null==Qt)throw new Be;N.push(ue<<2|gt>>4),64!==nn&&(N.push(gt<<4&240|nn>>2),64!==Qt&&N.push(nn<<6&192|Qt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(Te){return function(Te){const J=Ce(Te);return Se.encodeByteArray(J,!0)}(Te).replace(/\./g,"")},se=function(Te){try{return Se.decodeString(Te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function Ie(Te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return J}for(const V in J)!J.hasOwnProperty(V)||!lt(V)||(Te[V]=Ie(Te[V],J[V]));return Te}function lt(Te){return"__proto__"!==Te}const Dt=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=Te&&se(Te[1]);return J&&JSON.parse(J)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},qe=Te=>{const J=(Te=>{var J,V;return null===(V=null===(J=Dt())||void 0===J?void 0:J.emulatorHosts)||void 0===V?void 0:V[Te]})(Te);if(!J)return;const V=J.lastIndexOf(":");if(V<=0||V+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const N=parseInt(J.substring(V+1),10);return"["===J[0]?[J.substring(1,V-1),N]:[J.substring(0,V),N]},Le=()=>{var Te;return null===(Te=Dt())||void 0===Te?void 0:Te.config},Qe=Te=>{var J;return null===(J=Dt())||void 0===J?void 0:J[`_${Te}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,V)=>{this.resolve=J,this.reject=V})}wrapCallback(J){return(V,N)=>{V?this.reject(V):this.resolve(N),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(V):J(V,N))}}}function Ye(Te,J){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=J||"demo-project",O=Te.iat||0,ue=Te.sub||Te.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:O,exp:O+3600,auth_time:O,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(Me)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function At(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function pe(){var Te;const J=null===(Te=Dt())||void 0===Te?void 0:Te.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function tn(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const Te=_t();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function we(){return!pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((Te,J)=>{try{let V=!0;const N="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(N);O.onsuccess=()=>{O.result.close(),V||self.indexedDB.deleteDatabase(N),Te(!0)},O.onupgradeneeded=()=>{V=!1},O.onerror=()=>{var ue;J((null===(ue=O.error)||void 0===ue?void 0:ue.message)||"")}}catch(V){J(V)}})}class ve extends Error{constructor(J,V,N){super(V),this.code=J,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(J,V,N){this.service=J,this.serviceName=V,this.errors=N}create(J,...V){const N=V[0]||{},O=`${this.service}/${J}`,ue=this.errors[J],Me=ue?function yt(Te,J){return Te.replace(vt,(V,N)=>{const O=J[N];return null!=O?String(O):`<${N}?>`})}(ue,N):"Error";return new ve(O,`${this.serviceName}: ${Me} (${O}).`,N)}}const vt=/\{\$([^}]+)}/g;function On(Te,J){return Object.prototype.hasOwnProperty.call(Te,J)}function Ot(Te){for(const J in Te)if(Object.prototype.hasOwnProperty.call(Te,J))return!1;return!0}function en(Te,J){if(Te===J)return!0;const V=Object.keys(Te),N=Object.keys(J);for(const O of V){if(!N.includes(O))return!1;const ue=Te[O],Me=J[O];if(ar(ue)&&ar(Me)){if(!en(ue,Me))return!1}else if(ue!==Me)return!1}for(const O of N)if(!V.includes(O))return!1;return!0}function ar(Te){return null!==Te&&"object"==typeof Te}function Mt(Te){const J=[];for(const[V,N]of Object.entries(Te))Array.isArray(N)?N.forEach(O=>{J.push(encodeURIComponent(V)+"="+encodeURIComponent(O))}):J.push(encodeURIComponent(V)+"="+encodeURIComponent(N));return J.length?"&"+J.join("&"):""}function cn(Te){const J={};return Te.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[O,ue]=N.split("=");J[decodeURIComponent(O)]=decodeURIComponent(ue)}}),J}function wn(Te){const J=Te.indexOf("?");if(!J)return"";const V=Te.indexOf("#",J);return Te.substring(J,V>0?V:void 0)}function rr(Te,J){const V=new cr(Te,J);return V.subscribe.bind(V)}class cr{constructor(J,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{J(this)}).catch(N=>{this.error(N)})}next(J){this.forEachObserver(V=>{V.next(J)})}error(J){this.forEachObserver(V=>{V.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,V,N){let O;if(void 0===J&&void 0===V&&void 0===N)throw new Error("Missing Observer.");O=function Mn(Te,J){if("object"!=typeof Te||null===Te)return!1;for(const V of J)if(V in Te&&"function"==typeof Te[V])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:V,complete:N},void 0===O.next&&(O.next=xr),void 0===O.error&&(O.error=xr),void 0===O.complete&&(O.complete=xr);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ue}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,J)}sendOne(J,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{V(this.observers[J])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function Yn(Te){return Te&&Te._delegate?Te._delegate:Te}},7936:(rn,Xe,k)=>{k.d(Xe,{O:()=>re});var d=k(5879),y=k(3768),z=k(518),Ce=k(6814);function _e(Ie,lt){if(1&Ie&&d._UZ(0,"button",11),2&Ie){const Fe=lt.index;d.ekj("active",0===Fe),d.uIk("data-bs-slide-to",Fe)("aria-current",0===Fe?"true":null)("aria-label","Slide "+(Fe+1))}}function Se(Ie,lt){if(1&Ie&&(d.TgZ(0,"div",12),d._UZ(1,"img",13),d.TgZ(2,"div",14)(3,"h1"),d._uU(4,"Welcome to "),d._UZ(5,"br"),d._uU(6),d.qZA(),d.TgZ(7,"div",15),d._UZ(8,"br"),d.TgZ(9,"p"),d._uU(10),d.qZA()(),d.TgZ(11,"button",16),d._uU(12," Schedule an appointment "),d.qZA()()()),2&Ie){const Fe=lt.$implicit,Ct=lt.index,pt=d.oxw(2);d.ekj("active",0===Ct),d.xp6(1),d.Q6J("src",Fe,d.LSH),d.xp6(5),d.hij(" ",pt.business.businessName,""),d.xp6(4),d.Oqu(pt.business.tagline)}}function Be(Ie,lt){if(1&Ie&&(d.TgZ(0,"div",1)(1,"div",2),d.YNc(2,_e,1,5,"button",3),d.qZA(),d.TgZ(3,"div",4),d.YNc(4,Se,13,5,"div",5),d.qZA(),d.TgZ(5,"button",6),d._UZ(6,"span",7),d.TgZ(7,"span",8),d._uU(8,"Previous"),d.qZA()(),d.TgZ(9,"button",9),d._UZ(10,"span",10),d.TgZ(11,"span",8),d._uU(12,"Next"),d.qZA()()()),2&Ie){const Fe=d.oxw();d.xp6(2),d.Q6J("ngForOf",Fe.business.heroImages),d.xp6(2),d.Q6J("ngForOf",Fe.business.heroImages)}}let $e=(()=>{class Ie{ngOnInit(){this.fetchBusinessData()}fetchBusinessData(){this.business={businessName:"#1 Helping Hand AFH",tagline:"We\u2019re Family, Not Just Care.",heroImages:["../../../assets/sharedAssets/istockphoto-804432288-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-613308420-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-918529390-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"]}}static#e=this.\u0275fac=function(Ct){return new(Ct||Ie)};static#t=this.\u0275cmp=d.Xpm({type:Ie,selectors:[["app-hero-carousel"]],inputs:{businessID:"businessID"},decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn"]],template:function(Ct,pt){1&Ct&&d.YNc(0,Be,13,2,"div",0),2&Ct&&d.Q6J("ngIf",pt.business)},dependencies:[Ce.sg,Ce.O5],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return Ie})();function ze(Ie,lt){if(1&Ie&&(d.TgZ(0,"div",8),d._UZ(1,"div",9),d.qZA()),2&Ie){const Fe=lt.$implicit;d.xp6(1),d.Q6J("innerHTML",Fe,d.oJD)}}function se(Ie,lt){if(1&Ie&&(d.TgZ(0,"div",8),d._UZ(1,"div",9),d.qZA()),2&Ie){const Fe=lt.$implicit;d.xp6(1),d.Q6J("innerHTML",Fe,d.oJD)}}let re=(()=>{class Ie{constructor(Fe,Ct){this.webContent=Fe,this.route=Ct,this.business={businessName:"",tagline:"",uniqueService:"",whyChoose:"",businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:"",specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:"",address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",serviceBenefits:"",pricingStructure:"",contactFormDetails:"",mapDirections:"",photoGallery:"",employees:[],id:"",faqs:"",blogNews:"",mapIframe:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(Fe=>{this.webContent.getBusinessData(Fe.id).subscribe(pt=>{pt&&(this.business=pt)})})}static#e=this.\u0275fac=function(Ct){return new(Ct||Ie)(d.Y36(y._),d.Y36(z.gz))};static#t=this.\u0275cmp=d.Xpm({type:Ie,selectors:[["app-home"]],decls:19,vars:4,consts:[[3,"businessID"],[1,"intro-section"],[1,"left"],[1,"right"],[1,"features-container"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"",3,"innerHTML"]],template:function(Ct,pt){1&Ct&&(d._UZ(0,"app-hero-carousel",0),d.TgZ(1,"div",1)(2,"div",2)(3,"h1"),d._uU(4),d.qZA()(),d.TgZ(5,"div",3)(6,"p"),d._uU(7,"#1 Helping Hand AFH was founded in June 2021 with a deep passion for helping the elderly live their best lives. Our journey began with a simple idea: to create a home-like environment where seniors can thrive and feel loved."),d.qZA()()(),d.TgZ(8,"div",4)(9,"div",5)(10,"h2"),d._uU(11,"Our Unique Features"),d.qZA(),d.TgZ(12,"div",6),d.YNc(13,ze,2,1,"div",7),d.qZA()(),d.TgZ(14,"div",5)(15,"h2"),d._uU(16,"Why Choose Us"),d.qZA(),d.TgZ(17,"div",6),d.YNc(18,se,2,1,"div",7),d.qZA()()()),2&Ct&&(d.Q6J("businessID",pt.business.id),d.xp6(4),d.Oqu(pt.business.welcomeMessage),d.xp6(9),d.Q6J("ngForOf",pt.business.uniqueService.split("|")),d.xp6(5),d.Q6J("ngForOf",pt.business.whyChoose.split("|")))},dependencies:[Ce.sg,$e],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background:#f9f9f9;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Ie})()},2333:(rn,Xe,k)=>{k.d(Xe,{e:()=>_e});var d=k(7398),y=k(5879),z=k(7213),Ce=k(518);let _e=(()=>{class Se{constructor($e,ze){this.afAuth=$e,this.router=ze,this.user$=$e.authState}login($e,ze){return this.afAuth.signInWithEmailAndPassword($e,ze)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,d.U)($e=>!!$e))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(ze){return new(ze||Se)(y.LFG(z.zQ),y.LFG(Ce.F0))};static#t=this.\u0275prov=y.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},3768:(rn,Xe,k)=>{k.d(Xe,{_:()=>Be});var d=k(7398),y=k(6306),z=k(2096),Ce=k(5879),_e=k(7104),Se=k(778);let Be=(()=>{class $e{constructor(se,re){this.firestore=se,this.storage=re,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(se){return(null==se||""==se||""===se)&&(se=this.defaultBusinessId),this.firestore.collection("businesses").doc(se).snapshotChanges().pipe((0,d.U)(re=>{const Ie=re.payload.data(),lt=re.payload.id;if(Ie){const{id:Fe,...Ct}=Ie;return{id:lt,...Ct}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(se){return this.storage.ref(se).getDownloadURL().pipe((0,y.K)(re=>(console.error("Error fetching photo URL:",re),(0,z.of)(""))))}getEmployeesByBusinessId(se){return(null==se||""==se||""===se)&&(se=this.defaultBusinessId),this.firestore.collection("businesses").doc(se).get().pipe((0,d.U)(re=>{if(re.exists){const Ie=re.data();return Ie&&Ie.employees?(console.log("Fetched employees:",Ie.employees),Ie.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,y.K)(re=>(console.error("Error fetching employees:",re),(0,z.of)([]))))}getBusinessGalleryImagesById(se){return console.log("Webcontent getBusinessGalleryImagesByID: ",se),(null==se||""==se||""===se)&&(se=this.defaultBusinessId),this.firestore.collection("businesses").doc(se).collection("gallery").valueChanges()}static#e=this.\u0275fac=function(re){return new(re||$e)(Ce.LFG(_e.ST),Ce.LFG(Se.Q1))};static#t=this.\u0275prov=Ce.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})()},7877:(rn,Xe,k)=>{var d=k(6593),y=k(5879),z=k(2096),Ce=k(2459),_e=k(5592),Se=k(6328),Be=k(2181),$e=k(7398),ze=k(4716),se=k(4664),re=k(6814);class Ie{}class lt{}class Fe{constructor(de){this.normalizedNames=new Map,this.lazyUpdate=null,de?"string"==typeof de?this.lazyInit=()=>{this.headers=new Map,de.split("\n").forEach(te=>{const Ae=te.indexOf(":");if(Ae>0){const ht=te.slice(0,Ae),zt=ht.toLowerCase(),on=te.slice(Ae+1).trim();this.maybeSetNormalizedName(ht,zt),this.headers.has(zt)?this.headers.get(zt).push(on):this.headers.set(zt,[on])}})}:typeof Headers<"u"&&de instanceof Headers?(this.headers=new Map,de.forEach((te,Ae)=>{this.setHeaderEntries(Ae,te)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(de).forEach(([te,Ae])=>{this.setHeaderEntries(te,Ae)})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const te=this.headers.get(de.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,te){return this.clone({name:de,value:te,op:"a"})}set(de,te){return this.clone({name:de,value:te,op:"s"})}delete(de,te){return this.clone({name:de,value:te,op:"d"})}maybeSetNormalizedName(de,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,de)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(te=>{this.headers.set(te,de.headers.get(te)),this.normalizedNames.set(te,de.normalizedNames.get(te))})}clone(de){const te=new Fe;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([de]),te}applyUpdate(de){const te=de.name.toLowerCase();switch(de.op){case"a":case"s":let Ae=de.value;if("string"==typeof Ae&&(Ae=[Ae]),0===Ae.length)return;this.maybeSetNormalizedName(de.name,te);const ht=("a"===de.op?this.headers.get(te):void 0)||[];ht.push(...Ae),this.headers.set(te,ht);break;case"d":const zt=de.value;if(zt){let on=this.headers.get(te);if(!on)return;on=on.filter(pi=>-1===zt.indexOf(pi)),0===on.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,on)}else this.headers.delete(te),this.normalizedNames.delete(te)}}setHeaderEntries(de,te){const Ae=(Array.isArray(te)?te:[te]).map(zt=>zt.toString()),ht=de.toLowerCase();this.headers.set(ht,Ae),this.maybeSetNormalizedName(de,ht)}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>de(this.normalizedNames.get(te),this.headers.get(te)))}}class pt{encodeKey(de){return qe(de)}encodeValue(de){return qe(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const Dt=/%(\d[a-f0-9])/gi,an={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qe(ie){return encodeURIComponent(ie).replace(Dt,(de,te)=>an[te]??de)}function Le(ie){return`${ie}`}class Qe{constructor(de={}){if(this.updates=null,this.cloneFrom=null,this.encoder=de.encoder||new pt,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vt(ie,de){const te=new Map;return ie.length>0&&ie.replace(/^\?/,"").split("&").forEach(ht=>{const zt=ht.indexOf("="),[on,pi]=-1==zt?[de.decodeKey(ht),""]:[de.decodeKey(ht.slice(0,zt)),de.decodeValue(ht.slice(zt+1))],or=te.get(on)||[];or.push(pi),te.set(on,or)}),te}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(te=>{const Ae=de.fromObject[te],ht=Array.isArray(Ae)?Ae.map(Le):[Le(Ae)];this.map.set(te,ht)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const te=this.map.get(de);return te?te[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,te){return this.clone({param:de,value:te,op:"a"})}appendAll(de){const te=[];return Object.keys(de).forEach(Ae=>{const ht=de[Ae];Array.isArray(ht)?ht.forEach(zt=>{te.push({param:Ae,value:zt,op:"a"})}):te.push({param:Ae,value:ht,op:"a"})}),this.clone(te)}set(de,te){return this.clone({param:de,value:te,op:"s"})}delete(de,te){return this.clone({param:de,value:te,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const te=this.encoder.encodeKey(de);return this.map.get(de).map(Ae=>te+"="+this.encoder.encodeValue(Ae)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const te=new Qe({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(de),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const te=("a"===de.op?this.map.get(de.param):void 0)||[];te.push(Le(de.value)),this.map.set(de.param,te);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let Ae=this.map.get(de.param)||[];const ht=Ae.indexOf(Le(de.value));-1!==ht&&Ae.splice(ht,1),Ae.length>0?this.map.set(de.param,Ae):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(de,te){return this.map.set(de,te),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function At(ie){return typeof ArrayBuffer<"u"&&ie instanceof ArrayBuffer}function pe(ie){return typeof Blob<"u"&&ie instanceof Blob}function Ht(ie){return typeof FormData<"u"&&ie instanceof FormData}class kn{constructor(de,te,Ae,ht){let zt;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=de.toUpperCase(),function _t(ie){switch(ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ht?(this.body=void 0!==Ae?Ae:null,zt=ht):zt=Ae,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new Ye),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=te;else{const pi=te.indexOf("?");this.urlWithParams=te+(-1===pi?"?":pi<te.length-1?"&":"")+on}}else this.params=new Qe,this.urlWithParams=te}serializeBody(){return null===this.body?null:At(this.body)||pe(this.body)||Ht(this.body)||function tn(ie){return typeof URLSearchParams<"u"&&ie instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:pe(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const te=de.method||this.method,Ae=de.url||this.url,ht=de.responseType||this.responseType,zt=void 0!==de.body?de.body:this.body,on=void 0!==de.withCredentials?de.withCredentials:this.withCredentials,pi=void 0!==de.reportProgress?de.reportProgress:this.reportProgress;let or=de.headers||this.headers,Yi=de.params||this.params;const ao=de.context??this.context;return void 0!==de.setHeaders&&(or=Object.keys(de.setHeaders).reduce((Ds,uo)=>Ds.set(uo,de.setHeaders[uo]),or)),de.setParams&&(Yi=Object.keys(de.setParams).reduce((Ds,uo)=>Ds.set(uo,de.setParams[uo]),Yi)),new kn(te,Ae,zt,{params:Yi,headers:or,context:ao,reportProgress:pi,responseType:ht,withCredentials:on})}}var wt=function(ie){return ie[ie.Sent=0]="Sent",ie[ie.UploadProgress=1]="UploadProgress",ie[ie.ResponseHeader=2]="ResponseHeader",ie[ie.DownloadProgress=3]="DownloadProgress",ie[ie.Response=4]="Response",ie[ie.User=5]="User",ie}(wt||{});class kt{constructor(de,te=200,Ae="OK"){this.headers=de.headers||new Fe,this.status=void 0!==de.status?de.status:te,this.statusText=de.statusText||Ae,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class Ut extends kt{constructor(de={}){super(de),this.type=wt.ResponseHeader}clone(de={}){return new Ut({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class et extends kt{constructor(de={}){super(de),this.type=wt.Response,this.body=void 0!==de.body?de.body:null}clone(de={}){return new et({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class we extends kt{constructor(de){super(de,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function oe(ie,de){return{body:de,headers:ie.headers,context:ie.context,observe:ie.observe,params:ie.params,reportProgress:ie.reportProgress,responseType:ie.responseType,withCredentials:ie.withCredentials}}let be=(()=>{class ie{constructor(te){this.handler=te}request(te,Ae,ht={}){let zt;if(te instanceof kn)zt=te;else{let or,Yi;or=ht.headers instanceof Fe?ht.headers:new Fe(ht.headers),ht.params&&(Yi=ht.params instanceof Qe?ht.params:new Qe({fromObject:ht.params})),zt=new kn(te,Ae,void 0!==ht.body?ht.body:null,{headers:or,context:ht.context,params:Yi,reportProgress:ht.reportProgress,responseType:ht.responseType||"json",withCredentials:ht.withCredentials})}const on=(0,z.of)(zt).pipe((0,Se.b)(or=>this.handler.handle(or)));if(te instanceof kn||"events"===ht.observe)return on;const pi=on.pipe((0,Be.h)(or=>or instanceof et));switch(ht.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return pi.pipe((0,$e.U)(or=>{if(null!==or.body&&!(or.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return or.body}));case"blob":return pi.pipe((0,$e.U)(or=>{if(null!==or.body&&!(or.body instanceof Blob))throw new Error("Response is not a Blob.");return or.body}));case"text":return pi.pipe((0,$e.U)(or=>{if(null!==or.body&&"string"!=typeof or.body)throw new Error("Response is not a string.");return or.body}));default:return pi.pipe((0,$e.U)(or=>or.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${ht.observe}}`)}}delete(te,Ae={}){return this.request("DELETE",te,Ae)}get(te,Ae={}){return this.request("GET",te,Ae)}head(te,Ae={}){return this.request("HEAD",te,Ae)}jsonp(te,Ae){return this.request("JSONP",te,{params:(new Qe).append(Ae,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,Ae={}){return this.request("OPTIONS",te,Ae)}patch(te,Ae,ht={}){return this.request("PATCH",te,oe(ht,Ae))}post(te,Ae,ht={}){return this.request("POST",te,oe(ht,Ae))}put(te,Ae,ht={}){return this.request("PUT",te,oe(ht,Ae))}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.LFG(Ie))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();function qt(ie,de){return de(ie)}function Pn(ie,de){return(te,Ae)=>de.intercept(te,{handle:ht=>ie(ht,Ae)})}const er=new y.OlP(""),Rt=new y.OlP(""),En=new y.OlP("");function On(){let ie=null;return(de,te)=>{null===ie&&(ie=((0,y.f3M)(er,{optional:!0})??[]).reduceRight(Pn,qt));const Ae=(0,y.f3M)(y.HDt),ht=Ae.add();return ie(de,te).pipe((0,ze.x)(()=>Ae.remove(ht)))}}let Lt=(()=>{class ie extends Ie{constructor(te,Ae){super(),this.backend=te,this.injector=Ae,this.chain=null,this.pendingTasks=(0,y.f3M)(y.HDt)}handle(te){if(null===this.chain){const ht=Array.from(new Set([...this.injector.get(Rt),...this.injector.get(En,[])]));this.chain=ht.reduceRight((zt,on)=>function _n(ie,de,te){return(Ae,ht)=>te.runInContext(()=>de(Ae,zt=>ie(zt,ht)))}(zt,on,this.injector),qt)}const Ae=this.pendingTasks.add();return this.chain(te,ht=>this.backend.handle(ht)).pipe((0,ze.x)(()=>this.pendingTasks.remove(Ae)))}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.LFG(lt),y.LFG(y.lqb))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const Mr=/^\)\]\}',?\n/;let xr=(()=>{class ie{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new y.vHH(-2800,!1);const Ae=this.xhrFactory;return(Ae.\u0275loadImpl?(0,Ce.D)(Ae.\u0275loadImpl()):(0,z.of)(null)).pipe((0,se.w)(()=>new _e.y(zt=>{const on=Ae.build();if(on.open(te.method,te.urlWithParams),te.withCredentials&&(on.withCredentials=!0),te.headers.forEach((Ii,wi)=>on.setRequestHeader(Ii,wi.join(","))),te.headers.has("Accept")||on.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const Ii=te.detectContentTypeHeader();null!==Ii&&on.setRequestHeader("Content-Type",Ii)}if(te.responseType){const Ii=te.responseType.toLowerCase();on.responseType="json"!==Ii?Ii:"text"}const pi=te.serializeBody();let or=null;const Yi=()=>{if(null!==or)return or;const Ii=on.statusText||"OK",wi=new Fe(on.getAllResponseHeaders()),La=function Mn(ie){return"responseURL"in ie&&ie.responseURL?ie.responseURL:/^X-Request-URL:/m.test(ie.getAllResponseHeaders())?ie.getResponseHeader("X-Request-URL"):null}(on)||te.url;return or=new Ut({headers:wi,status:on.status,statusText:Ii,url:La}),or},ao=()=>{let{headers:Ii,status:wi,statusText:La,url:Va}=Yi(),Bi=null;204!==wi&&(Bi=typeof on.response>"u"?on.responseText:on.response),0===wi&&(wi=Bi?200:0);let Qo=wi>=200&&wi<300;if("json"===te.responseType&&"string"==typeof Bi){const Ac=Bi;Bi=Bi.replace(Mr,"");try{Bi=""!==Bi?JSON.parse(Bi):null}catch(js){Bi=Ac,Qo&&(Qo=!1,Bi={error:js,text:Bi})}}Qo?(zt.next(new et({body:Bi,headers:Ii,status:wi,statusText:La,url:Va||void 0})),zt.complete()):zt.error(new we({error:Bi,headers:Ii,status:wi,statusText:La,url:Va||void 0}))},Ds=Ii=>{const{url:wi}=Yi(),La=new we({error:Ii,status:on.status||0,statusText:on.statusText||"Unknown Error",url:wi||void 0});zt.error(La)};let uo=!1;const qs=Ii=>{uo||(zt.next(Yi()),uo=!0);let wi={type:wt.DownloadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(wi.total=Ii.total),"text"===te.responseType&&on.responseText&&(wi.partialText=on.responseText),zt.next(wi)},Yo=Ii=>{let wi={type:wt.UploadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(wi.total=Ii.total),zt.next(wi)};return on.addEventListener("load",ao),on.addEventListener("error",Ds),on.addEventListener("timeout",Ds),on.addEventListener("abort",Ds),te.reportProgress&&(on.addEventListener("progress",qs),null!==pi&&on.upload&&on.upload.addEventListener("progress",Yo)),on.send(pi),zt.next({type:wt.Sent}),()=>{on.removeEventListener("error",Ds),on.removeEventListener("abort",Ds),on.removeEventListener("load",ao),on.removeEventListener("timeout",Ds),te.reportProgress&&(on.removeEventListener("progress",qs),null!==pi&&on.upload&&on.upload.removeEventListener("progress",Yo)),on.readyState!==on.DONE&&on.abort()}})))}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.LFG(re.JF))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();const Di=new y.OlP("XSRF_ENABLED"),Or=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class An{}let li=(()=>{class ie{constructor(te,Ae,ht){this.doc=te,this.platform=Ae,this.cookieName=ht,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(te,this.cookieName),this.lastCookieString=te),this.lastToken}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.LFG(re.K0),y.LFG(y.Lbi),y.LFG(Or))};static#t=this.\u0275prov=y.Yz7({token:ie,factory:ie.\u0275fac})}return ie})();function Ue(ie,de){const te=ie.url.toLowerCase();if(!(0,y.f3M)(Di)||"GET"===ie.method||"HEAD"===ie.method||te.startsWith("http://")||te.startsWith("https://"))return de(ie);const Ae=(0,y.f3M)(An).getToken(),ht=(0,y.f3M)(tr);return null!=Ae&&!ie.headers.has(ht)&&(ie=ie.clone({headers:ie.headers.set(ht,Ae)})),de(ie)}var Q=function(ie){return ie[ie.Interceptors=0]="Interceptors",ie[ie.LegacyInterceptors=1]="LegacyInterceptors",ie[ie.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ie[ie.NoXsrfProtection=3]="NoXsrfProtection",ie[ie.JsonpSupport=4]="JsonpSupport",ie[ie.RequestsMadeViaParent=5]="RequestsMadeViaParent",ie[ie.Fetch=6]="Fetch",ie}(Q||{});function dt(...ie){const de=[be,xr,Lt,{provide:Ie,useExisting:Lt},{provide:lt,useExisting:xr},{provide:Rt,useValue:Ue,multi:!0},{provide:Di,useValue:!0},{provide:An,useClass:li}];for(const te of ie)de.push(...te.\u0275providers);return(0,y.MR2)(de)}const Tn=new y.OlP("LEGACY_INTERCEPTOR_FN");function mr(){return function me(ie,de){return{\u0275kind:ie,\u0275providers:de}}(Q.LegacyInterceptors,[{provide:Tn,useFactory:On},{provide:Rt,useExisting:Tn,multi:!0}])}let ue=(()=>{class ie{static#e=this.\u0275fac=function(Ae){return new(Ae||ie)};static#t=this.\u0275mod=y.oAB({type:ie});static#n=this.\u0275inj=y.cJS({providers:[dt(mr())]})}return ie})();var ir=k(518),Fi=k(7936),Si=k(3768),ii=k(6306);function Xi(ie,de){if(1&ie&&(y.TgZ(0,"div",4),y._UZ(1,"img",5),y.TgZ(2,"h3"),y._uU(3),y.qZA(),y.TgZ(4,"h4"),y._uU(5),y.qZA(),y.TgZ(6,"p"),y._uU(7),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(1),y.s9C("alt",te.name),y.Q6J("src",te.photoURL,y.LSH),y.xp6(2),y.Oqu(te.name),y.xp6(2),y.Oqu(te.role),y.xp6(2),y.Oqu(te.bio)}}function $i(ie,de){if(1&ie&&(y.TgZ(0,"div",1)(1,"h2"),y._uU(2,"Meet the Team"),y.qZA(),y.TgZ(3,"div",2),y.YNc(4,Xi,8,5,"div",3),y.ALo(5,"async"),y.qZA()()),2&ie){const te=y.oxw();y.xp6(4),y.Q6J("ngForOf",y.lcZ(5,1,te.employees$))}}let kr=(()=>{class ie{constructor(te,Ae){this.route=te,this.employeeService=Ae}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,$e.U)(te=>te.get("id")||""),(0,se.w)(te=>this.employeeService.getEmployeesByBusinessId(te)),(0,ii.K)(te=>(console.error("Error fetching employees:",te),(0,z.of)([]))))}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(ir.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(Ae,ht){1&Ae&&y.YNc(0,$i,6,3,"div",0),2&Ae&&y.Q6J("ngIf",ht.employees$)},dependencies:[re.sg,re.O5,re.Ov],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background:#f9f9f9;text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return ie})();function Gn(ie,de){if(1&ie&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"About Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),y._uU(12,"Our Story"),y.qZA()(),y._UZ(13,"div",8),y.qZA(),y.TgZ(14,"section",9)(15,"div",10),y._UZ(16,"img",11),y.TgZ(17,"div",6)(18,"h2",7),y._uU(19,"Our Mission"),y.qZA()(),y._UZ(20,"div",8),y.qZA(),y.TgZ(21,"div",12),y._UZ(22,"img",11),y.TgZ(23,"div",6)(24,"h2",7),y._uU(25,"Our Vision"),y.qZA()(),y._UZ(26,"div",8),y.qZA()(),y.TgZ(27,"section",13),y._UZ(28,"app-meet-the-team",14),y.qZA()()()),2&ie){const te=y.oxw();y.xp6(13),y.Q6J("innerHTML",te.business.businessStory,y.oJD),y.xp6(3),y.Q6J("src",te.business.lifestyleImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",te.business.mission,y.oJD),y.xp6(2),y.Q6J("src",te.business.facilityImages,y.LSH),y.xp6(4),y.Q6J("innerHTML",te.business.vision,y.oJD),y.xp6(2),y.Q6J("businessId",te.business.id)}}let st=(()=>{class ie{constructor(te,Ae){this.webContent=te,this.route=Ae}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(ht=>{ht&&(this.business=ht)})})}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(Si._),y.Y36(ir.gz))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"]],template:function(Ae,ht){1&Ae&&y.YNc(0,Gn,29,6,"div",0),2&Ae&&y.Q6J("ngIf",ht.business)},dependencies:[re.O5,kr],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background:#f9f9f9;padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:#fff;box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:#ff6f61;transform:translate(-50%)}']})}return ie})();function Ge(ie,de){if(1&ie&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(2),y.Oqu(te)}}function Et(ie,de){if(1&ie&&(y.TgZ(0,"li")(1,"h3"),y._uU(2),y.qZA()()),2&ie){const te=de.$implicit;y.xp6(2),y.Oqu(te)}}function Xt(ie,de){if(1&ie&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Services"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Providing exceptional care tailored to your needs"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5),y._UZ(10,"img",6),y.TgZ(11,"h2"),y._uU(12,"Our Comprehensive Services"),y.qZA(),y.TgZ(13,"ul"),y.YNc(14,Ge,3,1,"li",7),y.qZA()(),y.TgZ(15,"section",5),y._UZ(16,"img",6),y.TgZ(17,"h2"),y._uU(18,"Our Benefits"),y.qZA(),y.TgZ(19,"ul"),y.YNc(20,Et,3,1,"li",7),y.qZA()(),y.TgZ(21,"section",8)(22,"h2"),y._uU(23,"Special Programs"),y.qZA(),y.TgZ(24,"h3"),y._uU(25),y.qZA()(),y.TgZ(26,"section",9)(27,"div",10),y._UZ(28,"img",11),y.TgZ(29,"div",12)(30,"h2",13),y._uU(31,"Tours"),y.qZA()(),y._UZ(32,"div",14),y.qZA(),y.TgZ(33,"div",15),y._UZ(34,"img",16),y.TgZ(35,"div",12)(36,"h2",13),y._uU(37,"Free Consulting"),y.qZA()(),y._UZ(38,"div",14),y.qZA()()()()),2&ie){const te=y.oxw();y.xp6(14),y.Q6J("ngForOf",te.business.services.split(",")),y.xp6(6),y.Q6J("ngForOf",te.business.serviceBenefits.split(",")),y.xp6(5),y.Oqu(te.business.specialPrograms),y.xp6(7),y.Q6J("innerHTML",te.business.tours,y.oJD),y.xp6(6),y.Q6J("innerHTML",te.business.freeConsulting,y.oJD)}}let Dn=(()=>{class ie{constructor(te,Ae){this.webContent=te,this.route=Ae}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(ht=>{ht&&(this.business=ht)})})}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(Si._),y.Y36(ir.gz))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"]],template:function(Ae,ht){1&Ae&&y.YNc(0,Xt,39,5,"div",0),2&Ae&&y.Q6J("ngIf",ht.business)},dependencies:[re.sg,re.O5],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background:white;padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background:#f9f9f9;padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:#fff;box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:#ff6f61;transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}']})}return ie})();var pn=k(95);function bn(ie,de){if(1&ie&&(y.TgZ(0,"div",7)(1,"h3"),y._uU(2,"Email"),y.qZA(),y.TgZ(3,"p")(4,"a",23),y._uU(5),y.qZA()()()),2&ie){const te=y.oxw(2);y.xp6(4),y.MGl("href","mailto:",te.business.email,"",y.LSH),y.xp6(1),y.Oqu(te.business.email)}}function Ir(ie,de){if(1&ie&&(y.TgZ(0,"div",7)(1,"h3"),y._uU(2,"Fax"),y.qZA(),y.TgZ(3,"p"),y._uU(4),y.qZA()()),2&ie){const te=y.oxw(2);y.xp6(4),y.Oqu(te.business.fax)}}function pr(ie,de){if(1&ie&&(y.TgZ(0,"div",7)(1,"h3"),y._uU(2,"Social Media"),y.qZA(),y.TgZ(3,"p")(4,"a",23),y._uU(5),y.qZA()()()),2&ie){const te=y.oxw(2);y.xp6(4),y.s9C("href",te.business.socialMedia,y.LSH),y.xp6(1),y.Oqu(te.business.socialMedia)}}function ui(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Contact Us"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"We're here to answer any questions you have"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"h2"),y._uU(11,"Get in Touch"),y.qZA(),y.TgZ(12,"div",6)(13,"div",7)(14,"h3"),y._uU(15,"Address"),y.qZA(),y.TgZ(16,"p"),y._uU(17),y.qZA()(),y.TgZ(18,"div",7)(19,"h3"),y._uU(20,"Phone"),y.qZA(),y.TgZ(21,"p"),y._uU(22),y.qZA()(),y.YNc(23,bn,6,2,"div",8),y.YNc(24,Ir,5,1,"div",8),y.YNc(25,pr,6,2,"div",8),y.TgZ(26,"div")(27,"h3"),y._uU(28,"Visitation Hours"),y.qZA(),y.TgZ(29,"ul")(30,"li")(31,"strong"),y._uU(32,"Monday:"),y.qZA(),y._uU(33," 7.30am\u20135pm"),y.qZA(),y.TgZ(34,"li")(35,"strong"),y._uU(36,"Tuesday:"),y.qZA(),y._uU(37," 7.30am\u20135pm"),y.qZA(),y.TgZ(38,"li")(39,"strong"),y._uU(40,"Wednesday:"),y.qZA(),y._uU(41," 7.30am\u20135pm"),y.qZA(),y.TgZ(42,"li")(43,"strong"),y._uU(44,"Thursday:"),y.qZA(),y._uU(45," 7.30am\u20135pm"),y.qZA(),y.TgZ(46,"li")(47,"strong"),y._uU(48,"Friday:"),y.qZA(),y._uU(49," 7.30am\u20135pm"),y.qZA(),y.TgZ(50,"li")(51,"strong"),y._uU(52,"Saturday:"),y.qZA(),y._uU(53,"Closed"),y.qZA(),y.TgZ(54,"li")(55,"strong"),y._uU(56,"Sunday:"),y.qZA(),y._uU(57,"Closed"),y.qZA()()()()(),y.TgZ(58,"section",9)(59,"h2"),y._uU(60,"Send Us a Message"),y.qZA(),y.TgZ(61,"form",10,11),y.NdJ("ngSubmit",function(){y.CHM(te);const ht=y.oxw();return y.KtG(ht.onSubmit())}),y.TgZ(63,"div",12)(64,"label",13),y._uU(65,"Name"),y.qZA(),y.TgZ(66,"input",14),y.NdJ("ngModelChange",function(ht){y.CHM(te);const zt=y.oxw();return y.KtG(zt.formData.name=ht)}),y.qZA()(),y.TgZ(67,"div",12)(68,"label",15),y._uU(69,"Email"),y.qZA(),y.TgZ(70,"input",16),y.NdJ("ngModelChange",function(ht){y.CHM(te);const zt=y.oxw();return y.KtG(zt.formData.email=ht)}),y.qZA()(),y.TgZ(71,"div",12)(72,"label",17),y._uU(73,"Message"),y.qZA(),y.TgZ(74,"textarea",18),y.NdJ("ngModelChange",function(ht){y.CHM(te);const zt=y.oxw();return y.KtG(zt.formData.message=ht)}),y.qZA()(),y.TgZ(75,"button",19),y._uU(76,"Submit"),y.qZA()()(),y.TgZ(77,"section",20)(78,"h2"),y._uU(79,"Find Us Here"),y.qZA(),y.TgZ(80,"div",21),y._UZ(81,"iframe",22),y.qZA()()()()}if(2&ie){const te=y.MAs(62),Ae=y.oxw();y.xp6(17),y.Oqu(Ae.business.address),y.xp6(5),y.Oqu(Ae.business.phone),y.xp6(1),y.Q6J("ngIf",Ae.business.email),y.xp6(1),y.Q6J("ngIf",Ae.business.fax),y.xp6(1),y.Q6J("ngIf",Ae.business.socialMedia),y.xp6(41),y.Q6J("ngModel",Ae.formData.name),y.xp6(4),y.Q6J("ngModel",Ae.formData.email),y.xp6(4),y.Q6J("ngModel",Ae.formData.message),y.xp6(1),y.Q6J("disabled",!te.form.valid)}}let us=(()=>{class ie{constructor(te,Ae,ht){this.webContent=te,this.route=Ae,this.http=ht,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(te=>{this.webContent.getBusinessData(te.id).subscribe(ht=>{ht&&(this.business=ht)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(te=>console.log("Email sent successfully",te),te=>console.error("Error sending email",te))}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(Si._),y.Y36(ir.gz),y.Y36(be))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"contact-form"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[1,"map-section"],[1,"map-container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7460.530516506536!2d-122.18471088983462!3d47.54600478154801!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549069117965856f%3A0xa36b023f16c07440!2s11805%20SE%2064th%20St%2C%20Bellevue%2C%20WA%2098006!5e0!3m2!1sen!2sus!4v1719851446084!5m2!1sen!2sus","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[3,"href"]],template:function(Ae,ht){1&Ae&&y.YNc(0,ui,82,9,"div",0),2&Ae&&y.Q6J("ngIf",ht.business)},dependencies:[re.O5,pn._Y,pn.Fj,pn.JJ,pn.JL,pn.Q7,pn.On,pn.F],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background:#f9f9f9;border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return ie})(),lr=(()=>{class ie{constructor(){this.closeModal=new y.vpe}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Ae,ht){1&Ae&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return ht.close()}),y.TgZ(1,"div",1),y.NdJ("click",function(on){return on.stopPropagation()}),y.TgZ(2,"span",2),y.NdJ("click",function(){return ht.close()}),y._uU(3,"\xd7"),y.qZA(),y._UZ(4,"img",3),y.qZA()()),2&Ae&&(y.xp6(4),y.Q6J("src",ht.imageUrl,y.LSH))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:24px;cursor:pointer;color:#333}"]})}return ie})();function ks(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"div",10),y.NdJ("click",function(){const zt=y.CHM(te).$implicit,on=y.oxw(2);return y.KtG(on.onImageClick(zt.url))}),y._UZ(1,"img",11),y.qZA()}if(2&ie){const te=de.$implicit;y.xp6(1),y.Q6J("src",te.url,y.LSH)}}function si(ie,de){if(1&ie){const te=y.EpF();y.TgZ(0,"app-image-viewer-modal",12),y.NdJ("closeModal",function(){y.CHM(te);const ht=y.oxw(2);return y.KtG(ht.onCloseModal())}),y.qZA()}if(2&ie){const te=y.oxw(2);y.Q6J("imageUrl",te.selectedImageUrl)}}function Fs(ie,de){if(1&ie&&(y.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),y._uU(4,"Our Home"),y.qZA(),y.TgZ(5,"div",3)(6,"p"),y._uU(7,"Feel at Home: A Peek into Our Caring Environment"),y.qZA()()()(),y.TgZ(8,"div",4)(9,"section",5)(10,"h2"),y._uU(11,"Welcome to Our Home"),y.qZA(),y.TgZ(12,"p"),y._uU(13," We understand the importance of providing a home-like setting for our elderly residents. Our adult care home has been specifically designed to offer a comfortable and secure environment where residents can thrive. The layout of our home is unique, featuring 6 private bedrooms, 2 bathrooms, and an open-concept living space. Equipped with air conditioning, our home ensures a comfortable atmosphere year-round. We are dedicated to providing exceptional care and support to our residents in every aspect of their lives. "),y.qZA()(),y.TgZ(14,"section",6)(15,"h2"),y._uU(16,"Explore Our Gallery"),y.qZA(),y.TgZ(17,"div",7),y.YNc(18,ks,2,1,"div",8),y.ALo(19,"async"),y.qZA()()(),y.YNc(20,si,1,1,"app-image-viewer-modal",9),y.qZA()),2&ie){const te=y.oxw();y.xp6(18),y.Q6J("ngForOf",y.lcZ(19,2,te.images$)),y.xp6(2),y.Q6J("ngIf",te.selectedImageUrl)}}let zr=(()=>{class ie{constructor(te,Ae){this.route=te,this.webContent=Ae,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(te=>{this.businessId=te.id,this.loadImages()}),this.webContent.getBusinessData(this.businessId).subscribe(te=>{te&&(this.business=te)})}loadImages(){this.images$=this.webContent.getBusinessGalleryImagesById(this.businessId)}onImageClick(te){this.selectedImageUrl=te}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(ir.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(Ae,ht){1&Ae&&y.YNc(0,Fs,21,4,"div",0),2&Ae&&y.Q6J("ngIf",ht.business)},dependencies:[re.sg,re.O5,lr,re.Ov],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background:#ffffff;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background:#f1f1f1;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return ie})();var wo=k(2333);function es(ie,de){if(1&ie&&(y.TgZ(0,"div",11),y._uU(1),y.qZA()),2&ie){const te=y.oxw();y.xp6(1),y.Oqu(te.errorMessage)}}let Jr=(()=>{class ie{constructor(te,Ae){this.authService=te,this.router=Ae,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(te=>{this.errorMessage=te.message})}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(wo.e),y.Y36(ir.F0))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(Ae,ht){1&Ae&&(y.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),y._uU(3,"Login"),y.qZA(),y.TgZ(4,"form",3),y.NdJ("submit",function(){return ht.login()}),y.TgZ(5,"div",4)(6,"label",5),y._uU(7,"Email"),y.qZA(),y.TgZ(8,"input",6),y.NdJ("ngModelChange",function(on){return ht.email=on}),y.qZA()(),y.TgZ(9,"div",4)(10,"label",7),y._uU(11,"Password"),y.qZA(),y.TgZ(12,"input",8),y.NdJ("ngModelChange",function(on){return ht.password=on}),y.qZA()(),y.TgZ(13,"button",9),y._uU(14,"Login"),y.qZA(),y.YNc(15,es,2,1,"div",10),y.qZA()()()),2&Ae&&(y.xp6(8),y.Q6J("ngModel",ht.email),y.xp6(4),y.Q6J("ngModel",ht.password),y.xp6(3),y.Q6J("ngIf",ht.errorMessage))},dependencies:[re.O5,pn._Y,pn.Fj,pn.JJ,pn.JL,pn.Q7,pn.On,pn.F],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f7f7f7}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;font-size:16px;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:18px;cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return ie})();const mi=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Fi.O},{path:"about-us",component:st},{path:"services",component:Dn},{path:"contact-us",component:us},{path:"gallery",component:zr},{path:"login",component:Jr},{path:"login",component:Jr},{path:"admin",loadChildren:()=>k.e(373).then(k.bind(k,2373)).then(ie=>ie.AdminModule)},{path:":id",component:Fi.O},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let nr=(()=>{class ie{static#e=this.\u0275fac=function(Ae){return new(Ae||ie)};static#t=this.\u0275mod=y.oAB({type:ie});static#n=this.\u0275inj=y.cJS({imports:[ir.Bz.forRoot(mi),ir.Bz]})}return ie})();function As(ie,de){if(1&ie&&y._UZ(0,"img",14),2&ie){const te=y.oxw();y.Q6J("src",null==te.business?null:te.business.logoImage,y.LSH)}}const _r=function(ie){return{"open-bar1":ie}},yr=function(ie){return{"open-bar2":ie}},ys=function(ie){return{"open-bar3":ie}},Pi=function(ie){return{active:ie}};let _i=(()=>{class ie{constructor(te,Ae,ht){this.route=te,this.router=Ae,this.content=ht,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(te=>{this.businessId=te.id||"",this.content.getBusinessData(this.businessId).subscribe(Ae=>{this.business=Ae})})}navigateTo(te){const Ae=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${te}`],{queryParams:Ae}).then(ht=>{ht||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(ir.gz),y.Y36(ir.F0),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-navigation"]],decls:26,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"number"],[1,"text"],[1,"top"],[1,"bottom"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(Ae,ht){1&Ae&&(y.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),y.YNc(3,As,1,1,"img",3),y.TgZ(4,"span",4),y._uU(5,"#1"),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y._uU(8,"HELPING HAND"),y.qZA(),y.TgZ(9,"div",7),y._uU(10,"ADULT FAMILY HOME"),y.qZA()()(),y.TgZ(11,"div",8),y.NdJ("click",function(){return ht.toggleMenu()}),y._UZ(12,"div",9)(13,"div",10)(14,"div",11),y.qZA(),y.TgZ(15,"ul",12)(16,"li",13),y.NdJ("click",function(){return ht.navigateTo("home")}),y._uU(17,"Home"),y.qZA(),y.TgZ(18,"li",13),y.NdJ("click",function(){return ht.navigateTo("services")}),y._uU(19,"Services"),y.qZA(),y.TgZ(20,"li",13),y.NdJ("click",function(){return ht.navigateTo("about-us")}),y._uU(21,"About Us"),y.qZA(),y.TgZ(22,"li",13),y.NdJ("click",function(){return ht.navigateTo("gallery")}),y._uU(23,"gallery"),y.qZA(),y.TgZ(24,"li",13),y.NdJ("click",function(){return ht.navigateTo("contact-us")}),y._uU(25,"Contact"),y.qZA()()()()),2&Ae&&(y.xp6(3),y.Q6J("ngIf",null==ht.business?null:ht.business.logoImage),y.xp6(9),y.Q6J("ngClass",y.VKq(5,_r,ht.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(7,yr,ht.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(9,ys,ht.menuOpen)),y.xp6(1),y.Q6J("ngClass",y.VKq(11,Pi,ht.menuOpen)))},dependencies:[re.mk,re.O5],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return ie})();function Li(ie,de){if(1&ie&&(y.TgZ(0,"p")(1,"span"),y._uU(2),y.qZA(),y._uU(3," | "),y.TgZ(4,"span"),y._uU(5,"Email: "),y.TgZ(6,"a",4),y._uU(7),y.qZA()()()),2&ie){const te=de.ngIf;y.xp6(2),y.hij("Phone: ",te.phone,""),y.xp6(4),y.MGl("href","mailto:",te.email,"",y.LSH),y.xp6(1),y.hij(" ",te.email,"")}}let fo=(()=>{class ie{constructor(te,Ae){this.route=te,this.webContentService=Ae}ngOnInit(){this.route.queryParams.subscribe(te=>{const Ae=te.id||this.webContentService.getDefaultBusinessData();console.log("footer param",Ae),this.business$=this.webContentService.getDefaultBusinessData(),console.log(this.business$)})}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)(y.Y36(ir.gz),y.Y36(Si._))};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-footer"]],decls:8,vars:3,consts:[[1,"footer"],[1,"footer-content"],["href","https://www.monkifoto.com","target","_blank"],[4,"ngIf"],[3,"href"]],template:function(Ae,ht){1&Ae&&(y.TgZ(0,"footer",0)(1,"div",1)(2,"p"),y._uU(3,"\xa9 2024 #1 Helping Hand AFH. All Rights Reserved. Design by "),y.TgZ(4,"a",2),y._uU(5,"Monkifoto"),y.qZA()(),y.YNc(6,Li,8,3,"p",3),y.ALo(7,"async"),y.qZA()()),2&Ae&&(y.xp6(6),y.Q6J("ngIf",y.lcZ(7,1,ht.business$)))},dependencies:[re.O5,re.Ov],styles:[".footer[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;background-color:#333;color:#fff;text-align:center;padding:10px 0}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}a[_ngcontent-%COMP%]{color:#fff}"]})}return ie})(),ci=(()=>{class ie{constructor(){this.title="adult-family-home"}static#e=this.\u0275fac=function(Ae){return new(Ae||ie)};static#t=this.\u0275cmp=y.Xpm({type:ie,selectors:[["app-root"]],decls:3,vars:0,template:function(Ae,ht){1&Ae&&y._UZ(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ir.lC,_i,fo]})}return ie})();const Co_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var di=k(3182),Zn=k(1920);class hi{constructor(de){return de}}class cs{constructor(){return(0,di.C6)()}}const Ss=new y.OlP("angularfire2._apps"),Ln={provide:hi,useFactory:function Hi(ie){return ie&&1===ie.length?ie[0]:new hi((0,di.Mq)())},deps:[[new y.FiY,Ss]]},jr={provide:cs,deps:[[new y.FiY,Ss]]};function Zr(ie){return(de,te)=>{const Ae=de.runOutsideAngular(()=>ie(te));return new hi(Ae)}}let Ri=(()=>{class ie{constructor(te){(0,di.KN)("angularfire",Zn.q4.full,"core"),(0,di.KN)("angularfire",Zn.q4.full,"app"),(0,di.KN)("angular",y.q4F.full,te.toString())}static \u0275fac=function(Ae){return new(Ae||ie)(y.LFG(y.Lbi))};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[Ln,jr]})}return ie})();function wr(ie,...de){return{ngModule:Ri,providers:[{provide:Ss,useFactory:Zr(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,...de]}]}}const yi=(0,Zn.u3)(di.ZF,!0);k(35),k(534),k(9058),k(7879),k(4537);class qi{constructor(){return(0,Zn.vb)("auth")}}var Is=k(5588);class mo{constructor(de){return de}}const Ls="firestore",Uo=new y.OlP("angularfire2.firestore-instances");function Go(ie){return(de,te)=>{const Ae=de.runOutsideAngular(()=>ie(te));return new mo(Ae)}}const So={provide:class Wn{constructor(){return(0,Zn.vb)(Ls)}},deps:[[new y.FiY,Uo]]},Vs={provide:mo,useFactory:function zo(ie,de){const te=(0,Zn.JM)(Ls,ie,de);return te&&new mo(te)},deps:[[new y.FiY,Uo],hi]};let to=(()=>{class ie{constructor(){(0,di.KN)("angularfire",Zn.q4.full,"fst")}static \u0275fac=function(Ae){return new(Ae||ie)};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[Vs,So]})}return ie})();function ua(ie,...de){return{ngModule:to,providers:[{provide:Uo,useFactory:Go(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,cs,[new y.FiY,qi],[new y.FiY,Zn.Rf],...de]}]}}const Ma=(0,Zn.u3)(Is.ad,!0);var ka=k(7217),os=k(7104),Bs=k(778),Fa=k(7213),io=k(8153);class ms{constructor(de){return de}}const Gu="storage",ga=new y.OlP("angularfire2.storage-instances");function ma(ie){return(de,te)=>{const Ae=de.runOutsideAngular(()=>ie(te));return new ms(Ae)}}const oo={provide:class so{constructor(){return(0,Zn.vb)(Gu)}},deps:[[new y.FiY,ga]]},w={provide:ms,useFactory:function Wu(ie,de){const te=(0,Zn.JM)(Gu,ie,de);return te&&new ms(te)},deps:[[new y.FiY,ga],hi]};let A=(()=>{class ie{constructor(){(0,di.KN)("angularfire",Zn.q4.full,"gcs")}static \u0275fac=function(Ae){return new(Ae||ie)};static \u0275mod=y.oAB({type:ie});static \u0275inj=y.cJS({providers:[w,oo]})}return ie})();function E(ie,...de){return{ngModule:A,providers:[{provide:ga,useFactory:ma(ie),multi:!0,deps:[y.R0b,y.zs3,Zn.HU,cs,[new y.FiY,qi],[new y.FiY,Zn.Rf],...de]}]}}const ur=(0,Zn.u3)(io.cF,!0);let cu=(()=>{class ie{static#e=this.\u0275fac=function(Ae){return new(Ae||ie)};static#t=this.\u0275mod=y.oAB({type:ie,bootstrap:[ci]});static#n=this.\u0275inj=y.cJS({imports:[d.b2,ir.Bz,nr,os.yb,Bs.TE,Fa.ww,ka.hO.initializeApp(Co_firebase),wr(()=>yi(Co_firebase)),ua(()=>Ma()),E(()=>ur()),pn.UX,pn.u5,ue]})}return ie})();d.q6().bootstrapModule(cu).catch(ie=>console.error(ie))},5619:(rn,Xe,k)=>{k.d(Xe,{X:()=>y});var d=k(8645);class y extends d.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const _e=super._subscribe(Ce);return!_e.closed&&Ce.next(this._value),_e}getValue(){const{hasError:Ce,thrownError:_e,_value:Se}=this;if(Ce)throw _e;return this._throwIfClosed(),Se}next(Ce){super.next(this._value=Ce)}}},5592:(rn,Xe,k)=>{k.d(Xe,{y:()=>$e});var d=k(305),y=k(7394),z=k(4850),Ce=k(8407),_e=k(2653),Se=k(4674),Be=k(1441);let $e=(()=>{class Ie{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ct=new Ie;return Ct.source=this,Ct.operator=Fe,Ct}subscribe(Fe,Ct,pt){const Vt=function re(Ie){return Ie&&Ie instanceof d.Lv||function se(Ie){return Ie&&(0,Se.m)(Ie.next)&&(0,Se.m)(Ie.error)&&(0,Se.m)(Ie.complete)}(Ie)&&(0,y.Nn)(Ie)}(Fe)?Fe:new d.Hp(Fe,Ct,pt);return(0,Be.x)(()=>{const{operator:Dt,source:an}=this;Vt.add(Dt?Dt.call(Vt,an):an?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ct){Fe.error(Ct)}}forEach(Fe,Ct){return new(Ct=ze(Ct))((pt,Vt)=>{const Dt=new d.Hp({next:an=>{try{Fe(an)}catch(qe){Vt(qe),Dt.unsubscribe()}},error:Vt,complete:pt});this.subscribe(Dt)})}_subscribe(Fe){var Ct;return null===(Ct=this.source)||void 0===Ct?void 0:Ct.subscribe(Fe)}[z.L](){return this}pipe(...Fe){return(0,Ce.U)(Fe)(this)}toPromise(Fe){return new(Fe=ze(Fe))((Ct,pt)=>{let Vt;this.subscribe(Dt=>Vt=Dt,Dt=>pt(Dt),()=>Ct(Vt))})}}return Ie.create=lt=>new Ie(lt),Ie})();function ze(Ie){var lt;return null!==(lt=Ie??_e.config.Promise)&&void 0!==lt?lt:Promise}},8645:(rn,Xe,k)=>{k.d(Xe,{x:()=>Be});var d=k(5592),y=k(7394);const Ce=(0,k(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=k(9039),Se=k(1441);let Be=(()=>{class ze extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const Ie=new $e(this,this);return Ie.operator=re,Ie}_throwIfClosed(){if(this.closed)throw new Ce}next(re){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ie of this.currentObservers)Ie.next(re)}})}error(re){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().error(re)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:Ie,isStopped:lt,observers:Fe}=this;return Ie||lt?y.Lc:(this.currentObservers=null,Fe.push(re),new y.w0(()=>{this.currentObservers=null,(0,_e.P)(Fe,re)}))}_checkFinalizedStatuses(re){const{hasError:Ie,thrownError:lt,isStopped:Fe}=this;Ie?re.error(lt):Fe&&re.complete()}asObservable(){const re=new d.y;return re.source=this,re}}return ze.create=(se,re)=>new $e(se,re),ze})();class $e extends Be{constructor(se,re){super(),this.destination=se,this.source=re}next(se){var re,Ie;null===(Ie=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===Ie||Ie.call(re,se)}error(se){var re,Ie;null===(Ie=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===Ie||Ie.call(re,se)}complete(){var se,re;null===(re=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===re||re.call(se)}_subscribe(se){var re,Ie;return null!==(Ie=null===(re=this.source)||void 0===re?void 0:re.subscribe(se))&&void 0!==Ie?Ie:y.Lc}}},305:(rn,Xe,k)=>{k.d(Xe,{Hp:()=>pt,Lv:()=>Ie});var d=k(4674),y=k(7394),z=k(2653),Ce=k(3894),_e=k(2420);const Se=ze("C",void 0,void 0);function ze(Le,Qe,Ze){return{kind:Le,value:Qe,error:Ze}}var se=k(7599),re=k(1441);class Ie extends y.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,y.Nn)(Qe)&&Qe.add(this)):this.destination=qe}static create(Qe,Ze,Ye){return new pt(Qe,Ze,Ye)}next(Qe){this.isStopped?an(function $e(Le){return ze("N",Le,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?an(function Be(Le){return ze("E",void 0,Le)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?an(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function Fe(Le,Qe){return lt.call(Le,Qe)}class Ct{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(Qe)}catch(Ye){Vt(Ye)}}error(Qe){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(Qe)}catch(Ye){Vt(Ye)}else Vt(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(Ze){Vt(Ze)}}}class pt extends Ie{constructor(Qe,Ze,Ye){let _t;if(super(),(0,d.m)(Qe)||!Qe)_t={next:Qe??void 0,error:Ze??void 0,complete:Ye??void 0};else{let At;this&&z.config.useDeprecatedNextContext?(At=Object.create(Qe),At.unsubscribe=()=>this.unsubscribe(),_t={next:Qe.next&&Fe(Qe.next,At),error:Qe.error&&Fe(Qe.error,At),complete:Qe.complete&&Fe(Qe.complete,At)}):_t=Qe}this.destination=new Ct(_t)}}function Vt(Le){z.config.useDeprecatedSynchronousErrorHandling?(0,re.O)(Le):(0,Ce.h)(Le)}function an(Le,Qe){const{onStoppedNotification:Ze}=z.config;Ze&&se.z.setTimeout(()=>Ze(Le,Qe))}const qe={closed:!0,next:_e.Z,error:function Dt(Le){throw Le},complete:_e.Z}},7394:(rn,Xe,k)=>{k.d(Xe,{Lc:()=>Se,w0:()=>_e,Nn:()=>Be});var d=k(4674);const z=(0,k(2306).d)(ze=>function(re){ze(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((Ie,lt)=>`${lt+1}) ${Ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var Ce=k(9039);class _e{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const Fe of re)Fe.remove(this);else re.remove(this);const{initialTeardown:Ie}=this;if((0,d.m)(Ie))try{Ie()}catch(Fe){se=Fe instanceof z?Fe.errors:[Fe]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const Fe of lt)try{$e(Fe)}catch(Ct){se=se??[],Ct instanceof z?se=[...se,...Ct.errors]:se.push(Ct)}}if(se)throw new z(se)}}add(se){var re;if(se&&se!==this)if(this.closed)$e(se);else{if(se instanceof _e){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(se)}}_hasParent(se){const{_parentage:re}=this;return re===se||Array.isArray(re)&&re.includes(se)}_addParent(se){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(se),re):re?[re,se]:se}_removeParent(se){const{_parentage:re}=this;re===se?this._parentage=null:Array.isArray(re)&&(0,Ce.P)(re,se)}remove(se){const{_finalizers:re}=this;re&&(0,Ce.P)(re,se),se instanceof _e&&se._removeParent(this)}}_e.EMPTY=(()=>{const ze=new _e;return ze.closed=!0,ze})();const Se=_e.EMPTY;function Be(ze){return ze instanceof _e||ze&&"closed"in ze&&(0,d.m)(ze.remove)&&(0,d.m)(ze.add)&&(0,d.m)(ze.unsubscribe)}function $e(ze){(0,d.m)(ze)?ze():ze.unsubscribe()}},2653:(rn,Xe,k)=>{k.d(Xe,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(rn,Xe,k)=>{k.d(Xe,{z:()=>_e});var d=k(7537),z=k(4564),Ce=k(2459);function _e(...Se){return function y(){return(0,d.J)(1)}()((0,Ce.D)(Se,(0,z.yG)(Se)))}},6232:(rn,Xe,k)=>{k.d(Xe,{E:()=>y});const y=new(k(5592).y)(_e=>_e.complete())},2459:(rn,Xe,k)=>{k.d(Xe,{D:()=>Qe});var d=k(4829),y=k(3093),z=k(5137),Se=k(5592),$e=k(4971),ze=k(4674),se=k(7103);function Ie(Ze,Ye){if(!Ze)throw new Error("Iterable cannot be null");return new Se.y(_t=>{(0,se.f)(_t,Ye,()=>{const At=Ze[Symbol.asyncIterator]();(0,se.f)(_t,Ye,()=>{At.next().then(pe=>{pe.done?_t.complete():_t.next(pe.value)})},0,!0)})})}var lt=k(8382),Fe=k(4026),Ct=k(4266),pt=k(3664),Vt=k(5726),Dt=k(9853),an=k(541);function Qe(Ze,Ye){return Ye?function Le(Ze,Ye){if(null!=Ze){if((0,lt.c)(Ze))return function Ce(Ze,Ye){return(0,d.Xf)(Ze).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ze,Ye);if((0,Ct.z)(Ze))return function Be(Ze,Ye){return new Se.y(_t=>{let At=0;return Ye.schedule(function(){At===Ze.length?_t.complete():(_t.next(Ze[At++]),_t.closed||this.schedule())})})}(Ze,Ye);if((0,Fe.t)(Ze))return function _e(Ze,Ye){return(0,d.Xf)(Ze).pipe((0,z.R)(Ye),(0,y.Q)(Ye))}(Ze,Ye);if((0,Vt.D)(Ze))return Ie(Ze,Ye);if((0,pt.T)(Ze))return function re(Ze,Ye){return new Se.y(_t=>{let At;return(0,se.f)(_t,Ye,()=>{At=Ze[$e.h](),(0,se.f)(_t,Ye,()=>{let pe,Ht;try{({value:pe,done:Ht}=At.next())}catch(tn){return void _t.error(tn)}Ht?_t.complete():_t.next(pe)},0,!0)}),()=>(0,ze.m)(At?.return)&&At.return()})}(Ze,Ye);if((0,an.L)(Ze))return function qe(Ze,Ye){return Ie((0,an.Q)(Ze),Ye)}(Ze,Ye)}throw(0,Dt.z)(Ze)}(Ze,Ye):(0,d.Xf)(Ze)}},4829:(rn,Xe,k)=>{k.d(Xe,{Xf:()=>lt});var d=k(7582),y=k(4266),z=k(4026),Ce=k(5592),_e=k(8382),Se=k(5726),Be=k(9853),$e=k(3664),ze=k(541),se=k(4674),re=k(3894),Ie=k(4850);function lt(Le){if(Le instanceof Ce.y)return Le;if(null!=Le){if((0,_e.c)(Le))return function Fe(Le){return new Ce.y(Qe=>{const Ze=Le[Ie.L]();if((0,se.m)(Ze.subscribe))return Ze.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,y.z)(Le))return function Ct(Le){return new Ce.y(Qe=>{for(let Ze=0;Ze<Le.length&&!Qe.closed;Ze++)Qe.next(Le[Ze]);Qe.complete()})}(Le);if((0,z.t)(Le))return function pt(Le){return new Ce.y(Qe=>{Le.then(Ze=>{Qe.closed||(Qe.next(Ze),Qe.complete())},Ze=>Qe.error(Ze)).then(null,re.h)})}(Le);if((0,Se.D)(Le))return Dt(Le);if((0,$e.T)(Le))return function Vt(Le){return new Ce.y(Qe=>{for(const Ze of Le)if(Qe.next(Ze),Qe.closed)return;Qe.complete()})}(Le);if((0,ze.L)(Le))return function an(Le){return Dt((0,ze.Q)(Le))}(Le)}throw(0,Be.z)(Le)}function Dt(Le){return new Ce.y(Qe=>{(function qe(Le,Qe){var Ze,Ye,_t,At;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,d.KL)(Le);!(Ye=yield Ze.next()).done;)if(Qe.next(Ye.value),Qe.closed)return}catch(pe){_t={error:pe}}finally{try{Ye&&!Ye.done&&(At=Ze.return)&&(yield At.call(Ze))}finally{if(_t)throw _t.error}}Qe.complete()})})(Le,Qe).catch(Ze=>Qe.error(Ze))})}},3019:(rn,Xe,k)=>{k.d(Xe,{T:()=>Se});var d=k(7537),y=k(4829),z=k(6232),Ce=k(4564),_e=k(2459);function Se(...Be){const $e=(0,Ce.yG)(Be),ze=(0,Ce._6)(Be,1/0),se=Be;return se.length?1===se.length?(0,y.Xf)(se[0]):(0,d.J)(ze)((0,_e.D)(se,$e)):z.E}},2096:(rn,Xe,k)=>{k.d(Xe,{of:()=>z});var d=k(4564),y=k(2459);function z(...Ce){const _e=(0,d.yG)(Ce);return(0,y.D)(Ce,_e)}},8251:(rn,Xe,k)=>{k.d(Xe,{x:()=>y});var d=k(305);function y(Ce,_e,Se,Be,$e){return new z(Ce,_e,Se,Be,$e)}class z extends d.Lv{constructor(_e,Se,Be,$e,ze,se){super(_e),this.onFinalize=ze,this.shouldUnsubscribe=se,this._next=Se?function(re){try{Se(re)}catch(Ie){_e.error(Ie)}}:super._next,this._error=$e?function(re){try{$e(re)}catch(Ie){_e.error(Ie)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(re){_e.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(rn,Xe,k)=>{k.d(Xe,{K:()=>Ce});var d=k(4829),y=k(8251),z=k(9360);function Ce(_e){return(0,z.e)((Se,Be)=>{let se,$e=null,ze=!1;$e=Se.subscribe((0,y.x)(Be,void 0,void 0,re=>{se=(0,d.Xf)(_e(re,Ce(_e)(Se))),$e?($e.unsubscribe(),$e=null,se.subscribe(Be)):ze=!0})),ze&&($e.unsubscribe(),$e=null,se.subscribe(Be))})}},6328:(rn,Xe,k)=>{k.d(Xe,{b:()=>z});var d=k(1631),y=k(4674);function z(Ce,_e){return(0,y.m)(_e)?(0,d.z)(Ce,_e,1):(0,d.z)(Ce,1)}},3572:(rn,Xe,k)=>{k.d(Xe,{d:()=>z});var d=k(9360),y=k(8251);function z(Ce){return(0,d.e)((_e,Se)=>{let Be=!1;_e.subscribe((0,y.x)(Se,$e=>{Be=!0,Se.next($e)},()=>{Be||Se.next(Ce),Se.complete()}))})}},3997:(rn,Xe,k)=>{k.d(Xe,{x:()=>Ce});var d=k(2737),y=k(9360),z=k(8251);function Ce(Se,Be=d.y){return Se=Se??_e,(0,y.e)(($e,ze)=>{let se,re=!0;$e.subscribe((0,z.x)(ze,Ie=>{const lt=Be(Ie);(re||!Se(se,lt))&&(re=!1,se=lt,ze.next(Ie))}))})}function _e(Se,Be){return Se===Be}},2181:(rn,Xe,k)=>{k.d(Xe,{h:()=>z});var d=k(9360),y=k(8251);function z(Ce,_e){return(0,d.e)((Se,Be)=>{let $e=0;Se.subscribe((0,y.x)(Be,ze=>Ce.call(_e,ze,$e++)&&Be.next(ze)))})}},4716:(rn,Xe,k)=>{k.d(Xe,{x:()=>y});var d=k(9360);function y(z){return(0,d.e)((Ce,_e)=>{try{Ce.subscribe(_e)}finally{_e.add(z)}})}},1374:(rn,Xe,k)=>{k.d(Xe,{P:()=>Be});var d=k(6973),y=k(2181),z=k(8180),Ce=k(3572),_e=k(3026),Se=k(2737);function Be($e,ze){const se=arguments.length>=2;return re=>re.pipe($e?(0,y.h)((Ie,lt)=>$e(Ie,lt,re)):Se.y,(0,z.q)(1),se?(0,Ce.d)(ze):(0,_e.T)(()=>new d.K))}},7398:(rn,Xe,k)=>{k.d(Xe,{U:()=>z});var d=k(9360),y=k(8251);function z(Ce,_e){return(0,d.e)((Se,Be)=>{let $e=0;Se.subscribe((0,y.x)(Be,ze=>{Be.next(Ce.call(_e,ze,$e++))}))})}},7537:(rn,Xe,k)=>{k.d(Xe,{J:()=>z});var d=k(1631),y=k(2737);function z(Ce=1/0){return(0,d.z)(y.y,Ce)}},1631:(rn,Xe,k)=>{k.d(Xe,{z:()=>$e});var d=k(7398),y=k(4829),z=k(9360),Ce=k(7103),_e=k(8251),Be=k(4674);function $e(ze,se,re=1/0){return(0,Be.m)(se)?$e((Ie,lt)=>(0,d.U)((Fe,Ct)=>se(Ie,Fe,lt,Ct))((0,y.Xf)(ze(Ie,lt))),re):("number"==typeof se&&(re=se),(0,z.e)((Ie,lt)=>function Se(ze,se,re,Ie,lt,Fe,Ct,pt){const Vt=[];let Dt=0,an=0,qe=!1;const Le=()=>{qe&&!Vt.length&&!Dt&&se.complete()},Qe=Ye=>Dt<Ie?Ze(Ye):Vt.push(Ye),Ze=Ye=>{Fe&&se.next(Ye),Dt++;let _t=!1;(0,y.Xf)(re(Ye,an++)).subscribe((0,_e.x)(se,At=>{lt?.(At),Fe?Qe(At):se.next(At)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Dt--;Vt.length&&Dt<Ie;){const At=Vt.shift();Ct?(0,Ce.f)(se,Ct,()=>Ze(At)):Ze(At)}Le()}catch(At){se.error(At)}}))};return ze.subscribe((0,_e.x)(se,Qe,()=>{qe=!0,Le()})),()=>{pt?.()}}(Ie,lt,ze,re)))}},3093:(rn,Xe,k)=>{k.d(Xe,{Q:()=>Ce});var d=k(7103),y=k(9360),z=k(8251);function Ce(_e,Se=0){return(0,y.e)((Be,$e)=>{Be.subscribe((0,z.x)($e,ze=>(0,d.f)($e,_e,()=>$e.next(ze),Se),()=>(0,d.f)($e,_e,()=>$e.complete(),Se),ze=>(0,d.f)($e,_e,()=>$e.error(ze),Se)))})}},6699:(rn,Xe,k)=>{k.d(Xe,{R:()=>Ce});var d=k(9360),y=k(8251);function Ce(_e,Se){return(0,d.e)(function z(_e,Se,Be,$e,ze){return(se,re)=>{let Ie=Be,lt=Se,Fe=0;se.subscribe((0,y.x)(re,Ct=>{const pt=Fe++;lt=Ie?_e(lt,Ct,pt):(Ie=!0,Ct),$e&&re.next(lt)},ze&&(()=>{Ie&&re.next(lt),re.complete()})))}}(_e,Se,arguments.length>=2,!0))}},3020:(rn,Xe,k)=>{k.d(Xe,{B:()=>_e});var d=k(4829),y=k(8645),z=k(305),Ce=k(9360);function _e(Be={}){const{connector:$e=(()=>new y.x),resetOnError:ze=!0,resetOnComplete:se=!0,resetOnRefCountZero:re=!0}=Be;return Ie=>{let lt,Fe,Ct,pt=0,Vt=!1,Dt=!1;const an=()=>{Fe?.unsubscribe(),Fe=void 0},qe=()=>{an(),lt=Ct=void 0,Vt=Dt=!1},Le=()=>{const Qe=lt;qe(),Qe?.unsubscribe()};return(0,Ce.e)((Qe,Ze)=>{pt++,!Dt&&!Vt&&an();const Ye=Ct=Ct??$e();Ze.add(()=>{pt--,0===pt&&!Dt&&!Vt&&(Fe=Se(Le,re))}),Ye.subscribe(Ze),!lt&&pt>0&&(lt=new z.Hp({next:_t=>Ye.next(_t),error:_t=>{Dt=!0,an(),Fe=Se(qe,ze,_t),Ye.error(_t)},complete:()=>{Vt=!0,an(),Fe=Se(qe,se),Ye.complete()}}),(0,d.Xf)(Qe).subscribe(lt))})(Ie)}}function Se(Be,$e,...ze){if(!0===$e)return void Be();if(!1===$e)return;const se=new z.Hp({next:()=>{se.unsubscribe(),Be()}});return(0,d.Xf)($e(...ze)).subscribe(se)}},7921:(rn,Xe,k)=>{k.d(Xe,{O:()=>Ce});var d=k(5211),y=k(4564),z=k(9360);function Ce(..._e){const Se=(0,y.yG)(_e);return(0,z.e)((Be,$e)=>{(Se?(0,d.z)(_e,Be,Se):(0,d.z)(_e,Be)).subscribe($e)})}},5137:(rn,Xe,k)=>{k.d(Xe,{R:()=>y});var d=k(9360);function y(z,Ce=0){return(0,d.e)((_e,Se)=>{Se.add(z.schedule(()=>_e.subscribe(Se),Ce))})}},4664:(rn,Xe,k)=>{k.d(Xe,{w:()=>Ce});var d=k(4829),y=k(9360),z=k(8251);function Ce(_e,Se){return(0,y.e)((Be,$e)=>{let ze=null,se=0,re=!1;const Ie=()=>re&&!ze&&$e.complete();Be.subscribe((0,z.x)($e,lt=>{ze?.unsubscribe();let Fe=0;const Ct=se++;(0,d.Xf)(_e(lt,Ct)).subscribe(ze=(0,z.x)($e,pt=>$e.next(Se?Se(lt,pt,Ct,Fe++):pt),()=>{ze=null,Ie()}))},()=>{re=!0,Ie()}))})}},8180:(rn,Xe,k)=>{k.d(Xe,{q:()=>Ce});var d=k(6232),y=k(9360),z=k(8251);function Ce(_e){return _e<=0?()=>d.E:(0,y.e)((Se,Be)=>{let $e=0;Se.subscribe((0,z.x)(Be,ze=>{++$e<=_e&&(Be.next(ze),_e<=$e&&Be.complete())}))})}},9397:(rn,Xe,k)=>{k.d(Xe,{b:()=>_e});var d=k(4674),y=k(9360),z=k(8251),Ce=k(2737);function _e(Se,Be,$e){const ze=(0,d.m)(Se)||Be||$e?{next:Se,error:Be,complete:$e}:Se;return ze?(0,y.e)((se,re)=>{var Ie;null===(Ie=ze.subscribe)||void 0===Ie||Ie.call(ze);let lt=!0;se.subscribe((0,z.x)(re,Fe=>{var Ct;null===(Ct=ze.next)||void 0===Ct||Ct.call(ze,Fe),re.next(Fe)},()=>{var Fe;lt=!1,null===(Fe=ze.complete)||void 0===Fe||Fe.call(ze),re.complete()},Fe=>{var Ct;lt=!1,null===(Ct=ze.error)||void 0===Ct||Ct.call(ze,Fe),re.error(Fe)},()=>{var Fe,Ct;lt&&(null===(Fe=ze.unsubscribe)||void 0===Fe||Fe.call(ze)),null===(Ct=ze.finalize)||void 0===Ct||Ct.call(ze)}))}):Ce.y}},3026:(rn,Xe,k)=>{k.d(Xe,{T:()=>Ce});var d=k(6973),y=k(9360),z=k(8251);function Ce(Se=_e){return(0,y.e)((Be,$e)=>{let ze=!1;Be.subscribe((0,z.x)($e,se=>{ze=!0,$e.next(se)},()=>ze?$e.complete():$e.error(Se())))})}function _e(){return new d.K}},1954:(rn,Xe,k)=>{k.d(Xe,{o:()=>_e});var d=k(7394);class y extends d.w0{constructor(Be,$e){super()}schedule(Be,$e=0){return this}}const z={setInterval(Se,Be,...$e){const{delegate:ze}=z;return ze?.setInterval?ze.setInterval(Se,Be,...$e):setInterval(Se,Be,...$e)},clearInterval(Se){const{delegate:Be}=z;return(Be?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ce=k(9039);class _e extends y{constructor(Be,$e){super(Be,$e),this.scheduler=Be,this.work=$e,this.pending=!1}schedule(Be,$e=0){var ze;if(this.closed)return this;this.state=Be;const se=this.id,re=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(re,se,$e)),this.pending=!0,this.delay=$e,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(re,this.id,$e),this}requestAsyncId(Be,$e,ze=0){return z.setInterval(Be.flush.bind(Be,this),ze)}recycleAsyncId(Be,$e,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return $e;null!=$e&&z.clearInterval($e)}execute(Be,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(Be,$e);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,$e){let se,ze=!1;try{this.work(Be)}catch(re){ze=!0,se=re||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Be,scheduler:$e}=this,{actions:ze}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(ze,this),null!=Be&&(this.id=this.recycleAsyncId($e,Be,null)),this.delay=null,super.unsubscribe()}}}},2631:(rn,Xe,k)=>{k.d(Xe,{v:()=>z});var d=k(4552);class y{constructor(_e,Se=y.now){this.schedulerActionCtor=_e,this.now=Se}schedule(_e,Se=0,Be){return new this.schedulerActionCtor(this,_e).schedule(Be,Se)}}y.now=d.l.now;class z extends y{constructor(_e,Se=y.now){super(_e,Se),this.actions=[],this._active=!1}flush(_e){const{actions:Se}=this;if(this._active)return void Se.push(_e);let Be;this._active=!0;do{if(Be=_e.execute(_e.state,_e.delay))break}while(_e=Se.shift());if(this._active=!1,Be){for(;_e=Se.shift();)_e.unsubscribe();throw Be}}}},6321:(rn,Xe,k)=>{k.d(Xe,{z:()=>z});var d=k(1954);const z=new(k(2631).v)(d.o)},4552:(rn,Xe,k)=>{k.d(Xe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(rn,Xe,k)=>{k.d(Xe,{z:()=>d});const d={setTimeout(y,z,...Ce){const{delegate:_e}=d;return _e?.setTimeout?_e.setTimeout(y,z,...Ce):setTimeout(y,z,...Ce)},clearTimeout(y){const{delegate:z}=d;return(z?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(rn,Xe,k)=>{k.d(Xe,{h:()=>y});const y=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rn,Xe,k)=>{k.d(Xe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(rn,Xe,k)=>{k.d(Xe,{K:()=>y});const y=(0,k(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(rn,Xe,k)=>{k.d(Xe,{_6:()=>Se,jO:()=>Ce,yG:()=>_e});var d=k(4674);function z(Be){return Be[Be.length-1]}function Ce(Be){return(0,d.m)(z(Be))?Be.pop():void 0}function _e(Be){return function y(Be){return Be&&(0,d.m)(Be.schedule)}(z(Be))?Be.pop():void 0}function Se(Be,$e){return"number"==typeof z(Be)?Be.pop():$e}},7453:(rn,Xe,k)=>{k.d(Xe,{D:()=>_e});const{isArray:d}=Array,{getPrototypeOf:y,prototype:z,keys:Ce}=Object;function _e(Be){if(1===Be.length){const $e=Be[0];if(d($e))return{args:$e,keys:null};if(function Se(Be){return Be&&"object"==typeof Be&&y(Be)===z}($e)){const ze=Ce($e);return{args:ze.map(se=>$e[se]),keys:ze}}}return{args:Be,keys:null}}},9039:(rn,Xe,k)=>{function d(y,z){if(y){const Ce=y.indexOf(z);0<=Ce&&y.splice(Ce,1)}}k.d(Xe,{P:()=>d})},2306:(rn,Xe,k)=>{function d(y){const Ce=y(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}k.d(Xe,{d:()=>d})},2714:(rn,Xe,k)=>{function d(y,z){return y.reduce((Ce,_e,Se)=>(Ce[_e]=z[Se],Ce),{})}k.d(Xe,{n:()=>d})},1441:(rn,Xe,k)=>{k.d(Xe,{O:()=>Ce,x:()=>z});var d=k(2653);let y=null;function z(_e){if(d.config.useDeprecatedSynchronousErrorHandling){const Se=!y;if(Se&&(y={errorThrown:!1,error:null}),_e(),Se){const{errorThrown:Be,error:$e}=y;if(y=null,Be)throw $e}}else _e()}function Ce(_e){d.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=_e)}},7103:(rn,Xe,k)=>{function d(y,z,Ce,_e=0,Se=!1){const Be=z.schedule(function(){Ce(),Se?y.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(y.add(Be),!Se)return Be}k.d(Xe,{f:()=>d})},2737:(rn,Xe,k)=>{function d(y){return y}k.d(Xe,{y:()=>d})},4266:(rn,Xe,k)=>{k.d(Xe,{z:()=>d});const d=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(rn,Xe,k)=>{k.d(Xe,{D:()=>y});var d=k(4674);function y(z){return Symbol.asyncIterator&&(0,d.m)(z?.[Symbol.asyncIterator])}},4674:(rn,Xe,k)=>{function d(y){return"function"==typeof y}k.d(Xe,{m:()=>d})},8382:(rn,Xe,k)=>{k.d(Xe,{c:()=>z});var d=k(4850),y=k(4674);function z(Ce){return(0,y.m)(Ce[d.L])}},3664:(rn,Xe,k)=>{k.d(Xe,{T:()=>z});var d=k(4971),y=k(4674);function z(Ce){return(0,y.m)(Ce?.[d.h])}},4026:(rn,Xe,k)=>{k.d(Xe,{t:()=>y});var d=k(4674);function y(z){return(0,d.m)(z?.then)}},541:(rn,Xe,k)=>{k.d(Xe,{L:()=>Ce,Q:()=>z});var d=k(7582),y=k(4674);function z(_e){return(0,d.FC)(this,arguments,function*(){const Be=_e.getReader();try{for(;;){const{value:$e,done:ze}=yield(0,d.qq)(Be.read());if(ze)return yield(0,d.qq)(void 0);yield yield(0,d.qq)($e)}}finally{Be.releaseLock()}})}function Ce(_e){return(0,y.m)(_e?.getReader)}},9360:(rn,Xe,k)=>{k.d(Xe,{A:()=>y,e:()=>z});var d=k(4674);function y(Ce){return(0,d.m)(Ce?.lift)}function z(Ce){return _e=>{if(y(_e))return _e.lift(function(Se){try{return Ce(Se,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(rn,Xe,k)=>{k.d(Xe,{Z:()=>Ce});var d=k(7398);const{isArray:y}=Array;function Ce(_e){return(0,d.U)(Se=>function z(_e,Se){return y(Se)?_e(...Se):_e(Se)}(_e,Se))}},2420:(rn,Xe,k)=>{function d(){}k.d(Xe,{Z:()=>d})},8407:(rn,Xe,k)=>{k.d(Xe,{U:()=>z,z:()=>y});var d=k(2737);function y(...Ce){return z(Ce)}function z(Ce){return 0===Ce.length?d.y:1===Ce.length?Ce[0]:function(Se){return Ce.reduce((Be,$e)=>$e(Be),Se)}}},3894:(rn,Xe,k)=>{k.d(Xe,{h:()=>z});var d=k(2653),y=k(7599);function z(Ce){y.z.setTimeout(()=>{const{onUnhandledError:_e}=d.config;if(!_e)throw Ce;_e(Ce)})}},9853:(rn,Xe,k)=>{function d(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Xe,{z:()=>d})},6814:(rn,Xe,k)=>{k.d(Xe,{Do:()=>pt,EM:()=>Ee,HT:()=>Ce,JF:()=>dn,K0:()=>Se,Mx:()=>Dn,Nd:()=>yi,O5:()=>Fs,Ov:()=>Zn,PM:()=>Kr,S$:()=>lt,V_:()=>$e,Ye:()=>Vt,b0:()=>Ct,bD:()=>vr,ez:()=>Wi,mk:()=>Ir,q:()=>z,sg:()=>lr,w_:()=>_e});var d=k(5879);let y=null;function z(){return y}function Ce(D){y||(y=D)}class _e{}const Se=new d.OlP("DocumentToken");let Be=(()=>{class D{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||D)};static#t=this.\u0275prov=d.Yz7({token:D,factory:function(){return(0,d.f3M)(ze)},providedIn:"platform"})}return D})();const $e=new d.OlP("Location Initialized");let ze=(()=>{class D extends Be{constructor(){super(),this._doc=(0,d.f3M)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(x){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",x,!1),()=>W.removeEventListener("popstate",x)}onHashChange(x){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",x,!1),()=>W.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,W,ge){this._history.pushState(x,W,ge)}replaceState(x,W,ge){this._history.replaceState(x,W,ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||D)};static#t=this.\u0275prov=d.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function se(D,Z){if(0==D.length)return Z;if(0==Z.length)return D;let x=0;return D.endsWith("/")&&x++,Z.startsWith("/")&&x++,2==x?D+Z.substring(1):1==x?D+Z:D+"/"+Z}function re(D){const Z=D.match(/#|\?|$/),x=Z&&Z.index||D.length;return D.slice(0,x-("/"===D[x-1]?1:0))+D.slice(x)}function Ie(D){return D&&"?"!==D[0]?"?"+D:D}let lt=(()=>{class D{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||D)};static#t=this.\u0275prov=d.Yz7({token:D,factory:function(){return(0,d.f3M)(Ct)},providedIn:"root"})}return D})();const Fe=new d.OlP("appBaseHref");let Ct=(()=>{class D extends lt{constructor(x,W){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return se(this._baseHref,x)}path(x=!1){const W=this._platformLocation.pathname+Ie(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&x?`${W}${ge}`:W}pushState(x,W,ge,ct){const bt=this.prepareExternalUrl(ge+Ie(ct));this._platformLocation.pushState(x,W,bt)}replaceState(x,W,ge,ct){const bt=this.prepareExternalUrl(ge+Ie(ct));this._platformLocation.replaceState(x,W,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||D)(d.LFG(Be),d.LFG(Fe,8))};static#t=this.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),pt=(()=>{class D extends lt{constructor(x,W){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(x){const W=se(this._baseHref,x);return W.length>0?"#"+W:W}pushState(x,W,ge,ct){let bt=this.prepareExternalUrl(ge+Ie(ct));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(x,W,bt)}replaceState(x,W,ge,ct){let bt=this.prepareExternalUrl(ge+Ie(ct));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(x,W,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||D)(d.LFG(Be),d.LFG(Fe,8))};static#t=this.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac})}return D})(),Vt=(()=>{class D{constructor(x){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const W=this._locationStrategy.getBaseHref();this._basePath=function Le(D){if(new RegExp("^(https?:)?//").test(D)){const[,x]=D.split(/\/\/[^\/]+/);return x}return D}(re(qe(W))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,W=""){return this.path()==this.normalize(x+Ie(W))}normalize(x){return D.stripTrailingSlash(function an(D,Z){if(!D||!Z.startsWith(D))return Z;const x=Z.substring(D.length);return""===x||["/",";","?","#"].includes(x[0])?x:Z}(this._basePath,qe(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,W="",ge=null){this._locationStrategy.pushState(ge,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ie(W)),ge)}replaceState(x,W="",ge=null){this._locationStrategy.replaceState(ge,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ie(W)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",W){this._urlChangeListeners.forEach(ge=>ge(x,W))}subscribe(x,W,ge){return this._subject.subscribe({next:x,error:W,complete:ge})}static#e=this.normalizeQueryParams=Ie;static#t=this.joinWithSlash=se;static#n=this.stripTrailingSlash=re;static#r=this.\u0275fac=function(W){return new(W||D)(d.LFG(lt))};static#i=this.\u0275prov=d.Yz7({token:D,factory:function(){return function Dt(){return new Vt((0,d.LFG)(lt))}()},providedIn:"root"})}return D})();function qe(D){return D.replace(/\/index.html$/,"")}function Dn(D,Z){Z=encodeURIComponent(Z);for(const x of D.split(";")){const W=x.indexOf("="),[ge,ct]=-1==W?[x,""]:[x.slice(0,W),x.slice(W+1)];if(ge.trim()===Z)return decodeURIComponent(ct)}return null}const pn=/\s+/,bn=[];let Ir=(()=>{class D{constructor(x,W,ge,ct){this._iterableDiffers=x,this._keyValueDiffers=W,this._ngEl=ge,this._renderer=ct,this.initialClasses=bn,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(pn):bn}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(pn):x}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const W of x)this._updateState(W,!0);else if(null!=x)for(const W of Object.keys(x))this._updateState(W,!!x[W]);this._applyStateDiff()}_updateState(x,W){const ge=this.stateMap.get(x);void 0!==ge?(ge.enabled!==W&&(ge.changed=!0,ge.enabled=W),ge.touched=!0):this.stateMap.set(x,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const W=x[0],ge=x[1];ge.changed?(this._toggleClass(W,ge.enabled),ge.changed=!1):ge.touched||(ge.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),ge.touched=!1}}_toggleClass(x,W){(x=x.trim()).length>0&&x.split(pn).forEach(ge=>{W?this._renderer.addClass(this._ngEl.nativeElement,ge):this._renderer.removeClass(this._ngEl.nativeElement,ge)})}static#e=this.\u0275fac=function(W){return new(W||D)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))};static#t=this.\u0275dir=d.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return D})();class us{constructor(Z,x,W,ge){this.$implicit=Z,this.ngForOf=x,this.index=W,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class D{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,W,ge){this._viewContainer=x,this._template=W,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const W=this._viewContainer;x.forEachOperation((ge,ct,bt)=>{if(null==ge.previousIndex)W.createEmbeddedView(this._template,new us(ge.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)W.remove(null===ct?void 0:ct);else if(null!==ct){const mn=W.get(ct);W.move(mn,bt),ks(mn,ge)}});for(let ge=0,ct=W.length;ge<ct;ge++){const mn=W.get(ge).context;mn.index=ge,mn.count=ct,mn.ngForOf=this._ngForOf}x.forEachIdentityChange(ge=>{ks(W.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||D)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function ks(D,Z){D.context.$implicit=Z.item}let Fs=(()=>{class D{constructor(x,W){this._viewContainer=x,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){wo("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){wo("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||D)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function wo(D,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.AaK)(Z)}'.`)}class fo{createSubscription(Z,x){return(0,d.rg0)(()=>Z.subscribe({next:x,error:W=>{throw W}}))}dispose(Z){(0,d.rg0)(()=>Z.unsubscribe())}}class ci{createSubscription(Z,x){return Z.then(x,W=>{throw W})}dispose(Z){}}const Co=new ci,di=new fo;let Zn=(()=>{class D{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,W=>this._updateLatestValue(x,W))}_selectStrategy(x){if((0,d.QGY)(x))return Co;if((0,d.F4k)(x))return di;throw function Li(D,Z){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,W){x===this._obj&&(this._latestValue=W,this._ref.markForCheck())}static#e=this.\u0275fac=function(W){return new(W||D)(d.Y36(d.sBO,16))};static#t=this.\u0275pipe=d.Yjl({name:"async",type:D,pure:!1,standalone:!0})}return D})(),yi=(()=>{class D{constructor(x){this.differs=x,this.keyValues=[],this.compareFn=Gi}transform(x,W=Gi){if(!x||!(x instanceof Map)&&"object"!=typeof x)return null;this.differ||(this.differ=this.differs.find(x).create());const ge=this.differ.diff(x),ct=W!==this.compareFn;return ge&&(this.keyValues=[],ge.forEachItem(bt=>{this.keyValues.push(function Rs(D,Z){return{key:D,value:Z}}(bt.key,bt.currentValue))})),(ge||ct)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}static#e=this.\u0275fac=function(W){return new(W||D)(d.Y36(d.aQg,16))};static#t=this.\u0275pipe=d.Yjl({name:"keyvalue",type:D,pure:!1,standalone:!0})}return D})();function Gi(D,Z){const x=D.key,W=Z.key;if(x===W)return 0;if(void 0===x)return 1;if(void 0===W)return-1;if(null===x)return 1;if(null===W)return-1;if("string"==typeof x&&"string"==typeof W)return x<W?-1:1;if("number"==typeof x&&"number"==typeof W)return x-W;if("boolean"==typeof x&&"boolean"==typeof W)return x<W?-1:1;const ge=String(x),ct=String(W);return ge==ct?0:ge<ct?-1:1}let Wi=(()=>{class D{static#e=this.\u0275fac=function(W){return new(W||D)};static#t=this.\u0275mod=d.oAB({type:D});static#n=this.\u0275inj=d.cJS({})}return D})();const vr="browser",qi="server";function Kr(D){return D===qi}let Ee=(()=>{class D{static#e=this.\u0275prov=(0,d.Yz7)({token:D,providedIn:"root",factory:()=>new je((0,d.LFG)(Se),window)})}return D})();class je{constructor(Z,x){this.document=Z,this.window=x,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const x=function mt(D,Z){const x=D.getElementById(Z)||D.getElementsByName(Z)[0];if(x)return x;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const W=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ge=W.currentNode;for(;ge;){const ct=ge.shadowRoot;if(ct){const bt=ct.getElementById(Z)||ct.querySelector(`[name="${Z}"]`);if(bt)return bt}ge=W.nextNode()}}return null}(this.document,Z);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const x=Z.getBoundingClientRect(),W=x.left+this.window.pageXOffset,ge=x.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(W-ct[0],ge-ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dn{}},5879:(rn,Xe,k)=>{k.d(Xe,{$8M:()=>Oc,$WT:()=>Ri,$Z:()=>R,AFp:()=>Rm,ALo:()=>t0,AaK:()=>Ie,BQk:()=>$,CHM:()=>Hu,CRH:()=>_0,DdM:()=>ZI,EJc:()=>RD,EpF:()=>Ti,F4k:()=>ri,FYo:()=>Nm,FiY:()=>mu,GfV:()=>ng,Gpc:()=>Ct,HDt:()=>U0,JOm:()=>bl,KtG:()=>ha,LFG:()=>Pt,LSH:()=>Bp,Lbi:()=>Mm,Lck:()=>gT,MAs:()=>pc,MGl:()=>M_,MMx:()=>BI,MR2:()=>Os,NdJ:()=>Hs,Ojb:()=>Ty,OlP:()=>Jt,Oqu:()=>Ev,P3R:()=>$p,PXZ:()=>sb,Q6J:()=>Wf,QGY:()=>Ns,Qsj:()=>Ny,R0b:()=>is,RDi:()=>Pp,Rgc:()=>zg,SBq:()=>qd,Sil:()=>OD,Suo:()=>m0,TTD:()=>sr,TgZ:()=>gh,Udp:()=>_v,VKq:()=>KI,VuI:()=>jb,X6Q:()=>fb,XFs:()=>cn,Xpm:()=>ci,Xq5:()=>Tg,Xts:()=>Ll,Y36:()=>T,YKP:()=>VI,YNc:()=>Hf,Yjl:()=>Ss,Yz7:()=>_n,Z0I:()=>On,ZZ4:()=>eE,_Bn:()=>LI,_UZ:()=>Io,_c5:()=>Pb,_uU:()=>$E,aQg:()=>tE,c2e:()=>V0,cJS:()=>Rt,cg1:()=>Iv,dDg:()=>tb,dqk:()=>Mn,eFA:()=>K0,eJc:()=>Vv,ekj:()=>yv,eoX:()=>G0,f3M:()=>Zt,g9A:()=>bu,h0i:()=>vh,hGG:()=>Rb,hij:()=>N_,iGM:()=>g0,ifc:()=>$i,ip1:()=>L0,jDz:()=>jI,kL8:()=>cI,lG2:()=>Hi,lcZ:()=>n0,lqb:()=>Ka,lri:()=>H0,n5z:()=>xc,oAB:()=>hi,oJD:()=>Em,oxw:()=>EE,q4F:()=>rg,qFp:()=>Hb,qLn:()=>ac,qOj:()=>Ja,qZA:()=>cl,rWj:()=>z0,rg0:()=>ct,s9C:()=>fv,sBO:()=>pb,s_b:()=>j_,soG:()=>H_,tb:()=>Zv,tp0:()=>Ta,uIk:()=>Sa,vHH:()=>Le,vpe:()=>Qa,wAp:()=>Qf,xp6:()=>f,ynx:()=>M,z2F:()=>tp,zSh:()=>Am,zs3:()=>Aa});var d=k(8645),y=k(7394),z=k(5592),Ce=k(3019),_e=k(5619),Se=k(2096),Be=k(3020),$e=k(4664),ze=k(3997);function se(t){for(let n in t)if(t[n]===se)return n;throw Error("Could not find renamed property on target object.")}function re(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Ie(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function lt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Fe=se({__forward_ref__:se});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Ie(this())},t}function pt(t){return Vt(t)?t():t}function Vt(t){return"function"==typeof t&&t.hasOwnProperty(Fe)&&t.__forward_ref__===Ct}function Dt(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class Le extends Error{constructor(n,i){super(function Qe(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,n){throw new Le(-201,!1)}function yt(t,n){null==t&&function vt(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Lt(t,en)||Lt(t,Fn)}function On(t){return null!==En(t)}function Lt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ar(t){return t&&(t.hasOwnProperty(ar)||t.hasOwnProperty(Mt))?t[ar]:null}const en=se({\u0275prov:se}),ar=se({\u0275inj:se}),Fn=se({ngInjectableDef:se}),Mt=se({ngInjectorDef:se});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let wn;function rr(t){const n=wn;return wn=t,n}function cr(t,n,i){const o=En(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&cn.Optional?null:void 0!==n?n:void Ht(Ie(t))}const Mn=globalThis;class Jt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=_n({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},mr="__NG_DI_FLAG__",Yn="ngTempTokenPath",J=/\n/gm,N="__source";let O;function Me(t){const n=O;return O=t,n}function gt(t,n=cn.Default){if(void 0===O)throw new Le(-203,!1);return null===O?cr(t,void 0,n):O.get(t,n&cn.Optional?null:void 0,n)}function Pt(t,n=cn.Default){return(function gn(){return wn}()||gt)(pt(t),n)}function Zt(t,n=cn.Default){return Pt(t,Qt(n))}function Qt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zn(t){const n=[];for(let i=0;i<t.length;i++){const o=pt(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Le(900,!1);let c,l=cn.Default;for(let _=0;_<o.length;_++){const I=o[_],b=ir(I);"number"==typeof b?-1===b?c=I.token:l|=b:c=I}n.push(Pt(c,l))}else n.push(Pt(o))}return n}function vn(t,n){return t[mr]=n,t.prototype[mr]=n,t}function ir(t){return t[mr]}function ii(t){return{toString:t}.toString()}var Xi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xi||{}),$i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($i||{});const kr={},Gn=[],st=se({\u0275cmp:se}),Ge=se({\u0275dir:se}),Et=se({\u0275pipe:se}),Xt=se({\u0275mod:se}),Dn=se({\u0275fac:se}),pn=se({__NG_ELEMENT_ID__:se}),bn=se({__NG_ENV_ID__:se});function Ir(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===o||t.charCodeAt(c+l)<=32)return c}i=c+1}}function pr(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const l=i[o++],_=i[o++],I=i[o++];t.setAttribute(n,_,I,l)}else{const l=c,_=i[++o];us(l)?t.setProperty(n,l,_):t.setAttribute(n,l,_),o++}}return o}function ui(t){return 3===t||4===t||6===t}function us(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||ks(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function ks(t,n,i,o,c){let l=0,_=t.length;if(-1===n)_=-1;else for(;l<t.length;){const I=t[l++];if("number"==typeof I){if(I===n){_=-1;break}if(I>n){_=l-1;break}}}for(;l<t.length;){const I=t[l];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==c&&(t[l+1]=c));if(o===t[l+1])return void(t[l+2]=c)}l++,null!==o&&l++,null!==c&&l++}-1!==_&&(t.splice(_,0,n),l=_+1),t.splice(l++,0,i),null!==o&&t.splice(l++,0,o),null!==c&&t.splice(l++,0,c)}const si="ng-template";function Fs(t,n,i){let o=0,c=!0;for(;o<t.length;){let l=t[o++];if("string"==typeof l&&c){const _=t[o++];if(i&&"class"===l&&-1!==Ir(_.toLowerCase(),n,0))return!0}else{if(1===l){for(;o<t.length&&"string"==typeof(l=t[o++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(c=!1)}}return!1}function zr(t){return 4===t.type&&t.value!==si}function wo(t,n,i){return n===(4!==t.type||i?t.value:si)}function es(t,n,i){let o=4;const c=t.attrs||[],l=function _r(t){for(let n=0;n<t.length;n++)if(ui(t[n]))return n;return t.length}(c);let _=!1;for(let I=0;I<n.length;I++){const b=n[I];if("number"!=typeof b){if(!_)if(4&o){if(o=2|1&o,""!==b&&!wo(t,b,i)||""===b&&1===n.length){if(Jr(o))return!1;_=!0}}else{const L=8&o?b:n[++I];if(8&o&&null!==t.attrs){if(!Fs(t.attrs,L,i)){if(Jr(o))return!1;_=!0}continue}const le=mi(8&o?"class":b,c,zr(t),i);if(-1===le){if(Jr(o))return!1;_=!0;continue}if(""!==L){let Ve;Ve=le>l?"":c[le+1].toLowerCase();const Je=8&o?Ve:null;if(Je&&-1!==Ir(Je,L,0)||2&o&&L!==Ve){if(Jr(o))return!1;_=!0}}}}else{if(!_&&!Jr(o)&&!Jr(b))return!1;if(_&&Jr(b))continue;_=!1,o=b|1&o}}return Jr(o)||_}function Jr(t){return 0==(1&t)}function mi(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let l=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)l=!0;else{if(1===_||2===_){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=l?1:2}return-1}return function yr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function nr(t,n,i=!1){for(let o=0;o<n.length;o++)if(es(t,n[o],i))return!0;return!1}function Pi(t,n){return t?":not("+n.trim()+")":n}function _i(t){let n=t[0],i=1,o=2,c="",l=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&o){const I=t[++i];c+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?c+="."+_:4&o&&(c+=" "+_);else""!==c&&!Jr(_)&&(n+=Pi(l,c),c=""),o=_,l=l||!Jr(o);i++}return""!==c&&(n+=Pi(l,c)),n}function ci(t){return ii(()=>{const n=Ps(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$i.Emulated,styles:t.styles||Gn,_:null,schemas:t.schemas||null,tView:null,id:""};zi(i);const o=t.dependencies;return i.directiveDefs=Rs(o,!1),i.pipeDefs=Rs(o,!0),i.id=function Gi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function di(t){return Ln(t)||jr(t)}function Zn(t){return null!==t}function hi(t){return ii(()=>({type:t.type,bootstrap:t.bootstrap||Gn,declarations:t.declarations||Gn,imports:t.imports||Gn,exports:t.exports||Gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zs(t,n){if(null==t)return kr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),i[c]=o,n&&(n[c]=l)}return i}function Hi(t){return ii(()=>{const n=Ps(t);return zi(n),n})}function Ss(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[st]||null}function jr(t){return t[Ge]||null}function Zr(t){return t[Et]||null}function Ri(t){const n=Ln(t)||jr(t)||Zr(t);return null!==n&&n.standalone}function wr(t,n){const i=t[Xt]||null;if(!i&&!0===n)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return i}function Ps(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zs(t.inputs,n),outputs:zs(t.outputs)}}function zi(t){t.features?.forEach(n=>n(t))}function Rs(t,n){if(!t)return null;const i=n?Zr:di;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Zn)}const Nr=0,Yt=1,Vn=2,Qn=3,vi=4,Ms=5,Gr=6,Wi=7,vr=8,qi=9,ls=10,xn=11,ts=12,Kr=13,q=14,j=15,he=16,Ee=17,je=18,mt=19,Gt=20,dn=21,St=22,un=23,Kn=24,Cn=25,$r=1,Qr=2,Wr=7,Vi=9,Jn=11;function Hr(t){return Array.isArray(t)&&"object"==typeof t[$r]}function Cr(t){return Array.isArray(t)&&!0===t[$r]}function Gs(t){return 0!=(4&t.flags)}function xi(t){return t.componentOffset>-1}function To(t){return 1==(1&t.flags)}function Zi(t){return!!t.template}function Lo(t){return 0!=(512&t[Vn])}function hs(t,n){return t.hasOwnProperty(Dn)?t[Dn]:null}let Lr=null,Vo=!1;function ki(t){const n=Lr;return Lr=t,n}const nu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ao(t){if(!Vs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Uo(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ls(t){t.dirty=!0,function Is(t){if(void 0===t.liveConsumerNode)return;const n=Vo;Vo=!0;try{for(const i of t.liveConsumerNode)i.dirty||Ls(i)}finally{Vo=n}}(t),t.consumerMarkedDirty?.(t)}function Wn(t){return t&&(t.nextProducerIndex=0),ki(t)}function aa(t,n){if(ki(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Vs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)So(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Uo(t){to(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Ao(i),o!==i.version))return!0}return!1}function zo(t){if(to(t),Vs(t))for(let n=0;n<t.producerNode.length;n++)So(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function So(t,n){if(function ua(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),to(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)So(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];to(c),c.producerIndexOfThis[o]=n}}function Vs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function to(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bo=null;function ct(t){const n=ki(null);try{return t()}finally{ki(n)}}const mn=()=>{},gr=(()=>({...nu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mn}))();class Sr{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function sr(){return qr}function qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=fi),Vr}function Vr(){const t=ps(this),n=t?.current;if(n){const i=t.previous;if(i===kr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function fi(t,n,i,o){const c=this.declaredInputs[i],l=ps(t)||function Ro(t,n){return t[Ki]=n}(t,{previous:kr,current:null}),_=l.current||(l.current={}),I=l.previous,b=I[c];_[c]=new Sr(b&&b.currentValue,n,I===kr),t[o]=n}sr.ngInherit=!0;const Ki="__ngSimpleChanges__";function ps(t){return t[Ki]||null}const Hn=function(t,n,i){};function ti(t){for(;Array.isArray(t);)t=t[Nr];return t}function Zo(t,n){return ti(n[t])}function Cs(t,n){return ti(n[t.index])}function Bu(t,n){return t.data[n]}function Mo(t,n){return t[n]}function ni(t,n){const i=n[t];return Hr(i)?i:i[Nr]}function no(t,n){return null==n?null:t[n]}function xo(t){t[Ee]=0}function au(t){1024&t[Vn]||(t[Vn]|=1024,wc(t,1))}function Ic(t){1024&t[Vn]&&(t[Vn]&=-1025,wc(t,-1))}function wc(t,n){let i=t[Qn];if(null===i)return;i[Ms]+=n;let o=i;for(i=i[Qn];null!==i&&(1===n&&1===o[Ms]||-1===n&&0===o[Ms]);)i[Ms]+=n,o=i,i=i[Qn]}const qn={lFrame:Y(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bi(){return qn.bindingsEnabled}function Nt(){return qn.lFrame.lView}function Tr(){return qn.lFrame.tView}function Hu(t){return qn.lFrame.contextLView=t,t[vr]}function ha(t){return qn.lFrame.contextLView=null,t}function ss(){let t=Ui();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ui(){return qn.lFrame.currentTNode}function Ts(t,n){const i=qn.lFrame;i.currentTNode=t,i.isParent=n}function fa(){return qn.lFrame.isParent}function Na(){qn.lFrame.isParent=!1}function os(){const t=qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function io(){return qn.lFrame.bindingIndex++}function pa(t,n){const i=qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Wu(n)}function Wu(t){qn.lFrame.currentDirectiveIndex=t}function oo(){return qn.lFrame.currentQueryIndex}function w(t){qn.lFrame.currentQueryIndex=t}function A(t){const n=t[Yt];return 2===n.type?n.declTNode:1===n.type?t[Gr]:null}function E(t,n,i){if(i&cn.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||i&cn.Host||(c=A(l),null===c||(l=l[q],10&c.type))););if(null===c)return!1;n=c,t=l}const o=qn.lFrame=F();return o.currentTNode=n,o.lView=t,!0}function S(t){const n=F(),i=t[Yt];qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function F(){const t=qn.lFrame,n=null===t?null:t.child;return null===n?Y(t):n}function Y(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function fe(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ot=fe;function it(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ur(){return qn.lFrame.selectedIndex}function dr(t){qn.lFrame.selectedIndex=t}function Ur(){const t=qn.lFrame;return Bu(t.tView,t.selectedIndex)}let pd=!0;function cu(){return pd}function ie(t){pd=t}function te(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const l=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:L,ngOnDestroy:K}=l;_&&(t.contentHooks??=[]).push(-i,_),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),b&&(t.viewHooks??=[]).push(-i,b),L&&((t.viewHooks??=[]).push(i,L),(t.viewCheckHooks??=[]).push(i,L)),null!=K&&(t.destroyHooks??=[]).push(i,K)}}function Ae(t,n,i){on(t,n,3,i)}function ht(t,n,i,o){(3&t[Vn])===i&&on(t,n,i,o)}function zt(t,n){let i=t[Vn];(3&i)===n&&(i&=8191,i+=1,t[Vn]=i)}function on(t,n,i,o){const l=o??-1,_=n.length-1;let I=0;for(let b=void 0!==o?65535&t[Ee]:0;b<_;b++)if("number"==typeof n[b+1]){if(I=n[b],null!=o&&I>=o)break}else n[b]<0&&(t[Ee]+=65536),(I<l||-1==l)&&(or(t,i,n,b),t[Ee]=(4294901760&t[Ee])+b+2),b++}function pi(t,n){Hn(4,t,n);const i=ki(null);try{n.call(t)}finally{ki(i),Hn(5,t,n)}}function or(t,n,i,o){const c=i[o]<0,l=i[o+1],I=t[c?-i[o]:i[o]];c?t[Vn]>>13<t[Ee]>>16&&(3&t[Vn])===n&&(t[Vn]+=8192,pi(I,l)):pi(I,l)}const Yi=-1;class ao{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Bi(t){return t!==Yi}function Qo(t){return 32767&t}function js(t,n){let i=function Ac(t){return t>>16}(t),o=n;for(;i>0;)o=o[q],i--;return o}let Ua=!0;function No(t){const n=Ua;return Ua=t,n}const Sc=255,_s=5;let Ih=0;const xs={};function Pc(t,n){const i=Ea(t,n);if(-1!==i)return i;const o=n[Yt];o.firstCreatePass&&(t.injectorIndex=n.length,ko(o.data,t),ko(n,null),ko(o.blueprint,null));const c=lu(t,n),l=t.injectorIndex;if(Bi(c)){const _=Qo(c),I=js(c,n),b=I[Yt].data;for(let L=0;L<8;L++)n[l+L]=I[_+L]|b[_+L]}return n[l+8]=c,l}function ko(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ea(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function lu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=yd(c),null===o)return Yi;if(i++,c=c[q],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Yi}function Ia(t,n,i){!function fl(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(pn)&&(o=i[pn]),null==o&&(o=i[pn]=Ih++);const c=o&Sc;n.data[t+(c>>_s)]|=1<<c}(t,n,i)}function Ba(t,n,i){if(i&cn.Optional||void 0!==t)return t;Ht()}function pl(t,n,i,o){if(i&cn.Optional&&void 0===o&&(o=null),!(i&(cn.Self|cn.Host))){const c=t[qi],l=rr(void 0);try{return c?c.get(n,o,i&cn.Optional):cr(n,o,i&cn.Optional)}finally{rr(l)}}return Ba(o,0,i)}function wa(t,n,i,o=cn.Default,c){if(null!==t){if(2048&n[Vn]&&!(o&cn.Self)){const _=function hu(t,n,i,o,c){let l=t,_=n;for(;null!==l&&null!==_&&2048&_[Vn]&&!(512&_[Vn]);){const I=gd(l,_,i,o|cn.Self,xs);if(I!==xs)return I;let b=l.parent;if(!b){const L=_[Gt];if(L){const K=L.get(i,xs,o);if(K!==xs)return K}b=yd(_),_=_[q]}l=b}return c}(t,n,i,o,xs);if(_!==xs)return _}const l=gd(t,n,i,o,xs);if(l!==xs)return l}return pl(n,i,o,c)}function gd(t,n,i,o,c){const l=function gl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(pn)?t[pn]:void 0;return"number"==typeof n?n>=0?n&Sc:_d:n}(i);if("function"==typeof l){if(!E(n,t,o))return o&cn.Host?Ba(c,0,o):pl(n,i,o,c);try{let _;if(_=l(o),null!=_||o&cn.Optional)return _;Ht()}finally{ot()}}else if("number"==typeof l){let _=null,I=Ea(t,n),b=Yi,L=o&cn.Host?n[j][Gr]:null;for((-1===I||o&cn.SkipSelf)&&(b=-1===I?lu(t,n):n[I+8],b!==Yi&&Mc(o,!1)?(_=n[Yt],I=Qo(b),n=js(b,n)):I=-1);-1!==I;){const K=n[Yt];if(Ch(l,I,K.data)){const le=md(I,n,i,_,o,L);if(le!==xs)return le}b=n[I+8],b!==Yi&&Mc(o,n[Yt].data[I+8]===L)&&Ch(l,I,n)?(_=K,I=Qo(b),n=js(b,n)):I=-1}}return c}function md(t,n,i,o,c,l){const _=n[Yt],I=_.data[t+8],K=Rc(I,_,i,null==o?xi(I)&&Ua:o!=_&&0!=(3&I.type),c&cn.Host&&l===I);return null!==K?du(n,_,K,I):xs}function Rc(t,n,i,o,c){const l=t.providerIndexes,_=n.data,I=1048575&l,b=t.directiveStart,K=l>>20,Ve=c?I+K:t.directiveEnd;for(let Je=o?I:I+K;Je<Ve;Je++){const Tt=_[Je];if(Je<b&&i===Tt||Je>=b&&Tt.type===i)return Je}if(c){const Je=_[b];if(Je&&Zi(Je)&&Je.type===i)return b}return null}function du(t,n,i,o){let c=t[i];const l=n.data;if(function Ds(t){return t instanceof ao}(c)){const _=c;_.resolving&&function _t(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Le(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(l[i]));const I=No(_.canSeeViewProviders);_.resolving=!0;const L=_.injectImpl?rr(_.injectImpl):null;E(t,o,cn.Default);try{c=t[i]=_.factory(void 0,l,t,o),n.firstCreatePass&&i>=o.directiveStart&&function de(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(o){const _=qr(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}c&&(i.preOrderHooks??=[]).push(0-t,c),l&&((i.preOrderHooks??=[]).push(t,l),(i.preOrderCheckHooks??=[]).push(t,l))}(i,l[i],n)}finally{null!==L&&rr(L),No(I),_.resolving=!1,ot()}}return c}function Ch(t,n,i){return!!(i[n+(t>>_s)]&1<<t)}function Mc(t,n){return!(t&cn.Self||t&cn.Host&&n)}class bs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return wa(this._tNode,this._lView,n,Qt(o),i)}}function _d(){return new bs(ss(),Nt())}function xc(t){return ii(()=>{const n=t.prototype.constructor,i=n[Dn]||Jo(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const l=c[Dn]||Jo(c);if(l&&l!==i)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function Jo(t){return Vt(t)?()=>{const n=Jo(pt(t));return n&&n()}:hs(t)}function yd(t){const n=t[Yt],i=n.type;return 2===i?n.declTNode:1===i?t[Gr]:null}function Oc(t){return function wh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const l=i[c];if(ui(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(l===n)return i[c+1];c+=2}}}return null}(ss(),t)}const $a="__parameters__";function ji(t,n,i){return ii(()=>{const o=function pu(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...l){if(this instanceof c)return o.apply(this,l),this;const _=new c(...l);return I.annotation=_,I;function I(b,L,K){const le=b.hasOwnProperty($a)?b[$a]:Object.defineProperty(b,$a,{value:[]})[$a];for(;le.length<=K;)le.push(null);return(le[K]=le[K]||[]).push(_),b}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function za(t,n){t.forEach(i=>Array.isArray(i)?za(i,n):n(i))}function Cd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function vo(t,n,i){let o=Qu(t,n);return o>=0?t[1|o]=i:(o=~o,function Ph(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function _l(t,n){const i=Qu(t,n);if(i>=0)return t[1|i]}function Qu(t,n){return function Ca(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const l=o+(c-o>>1),_=t[l<<i];if(n===_)return l<<i;_>n?c=l:o=l+1}return~(c<<i)}(t,n,1)}const mu=vn(ji("Optional"),8),Ta=vn(ji("SkipSelf"),4);function Dl(t){return 128==(128&t.flags)}var bl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bl||{});const Qg=/^>|^->|<!--|-->|--!>|<!-$/g,Al=/(<|>)/g,cp="\u200b$1\u200b";const lp=new Map;let Xg=0;const xd="__ngContext__";function Zs(t,n){Hr(n)?(t[xd]=n[mt],function K_(t){lp.set(t[mt],t)}(n)):t[xd]=n}let pp;function Od(t,n){return pp(t,n)}function jc(t){const n=t[Qn];return Cr(n)?n[Qn]:n}function nm(t){return $h(t[ts])}function jh(t){return $h(t[vi])}function $h(t){for(;null!==t&&!Cr(t);)t=t[vi];return t}function $c(t,n,i,o,c){if(null!=o){let l,_=!1;Cr(o)?l=o:Hr(o)&&(_=!0,o=o[Nr]);const I=ti(o);0===t&&null!==i?null==c?lm(n,i,I):Tu(n,i,I,c||null,!0):1===t&&null!==i?Tu(n,i,I,c||null,!0):2===t?function Jh(t,n,i){const o=Zh(t,n);o&&function ty(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,_):3===t&&n.destroyNode(I),null!=l&&function Tp(t,n,i,o,c){const l=i[Wr];l!==ti(i)&&$c(n,t,o,l,c);for(let I=Jn;I<i.length;I++){const b=i[I];zc(b[Yt],b,t,n,o,l)}}(n,t,l,i,c)}}function Hh(t,n){return t.createComment(function Jg(t){return t.replace(Qg,n=>n.replace(Al,cp))}(n))}function zh(t,n,i){return t.createElement(n,i)}function um(t,n){const i=t[Vi],o=i.indexOf(n);Ic(n),i.splice(o,1)}function Gh(t,n){if(t.length<=Jn)return;const i=Jn+n,o=t[i];if(o){const c=o[he];null!==c&&c!==t&&um(c,o),n>0&&(t[i-1][vi]=o[vi]);const l=ml(t,Jn+n);!function im(t,n){zc(t,n,n[xn],2,null,null),n[Nr]=null,n[Gr]=null}(o[Yt],o);const _=l[je];null!==_&&_.detachView(l[Yt]),o[Qn]=null,o[vi]=null,o[Vn]&=-129}return o}function Nd(t,n){if(!(256&n[Vn])){const i=n[xn];n[un]&&zo(n[un]),n[Kn]&&zo(n[Kn]),i.destroyNode&&zc(t,n,i,3,null,null),function am(t){let n=t[ts];if(!n)return _p(t[Yt],t);for(;n;){let i=null;if(Hr(n))i=n[ts];else{const o=n[Jn];o&&(i=o)}if(!i){for(;n&&!n[vi]&&n!==t;)Hr(n)&&_p(n[Yt],n),n=n[Qn];null===n&&(n=t),Hr(n)&&_p(n[Yt],n),i=n&&n[vi]}n=i}}(n)}}function _p(t,n){if(!(256&n[Vn])){n[Vn]&=-129,n[Vn]|=256,function cm(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof ao)){const l=i[o+1];if(Array.isArray(l))for(let _=0;_<l.length;_+=2){const I=c[l[_]],b=l[_+1];Hn(4,I,b);try{b.call(I)}finally{Hn(5,I,b)}}else{Hn(4,c,l);try{l.call(c)}finally{Hn(5,c,l)}}}}}(t,n),function yp(t,n){const i=t.cleanup,o=n[Wi];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const _=i[l+3];_>=0?o[_]():o[-_].unsubscribe(),l+=2}else i[l].call(o[i[l+1]]);null!==o&&(n[Wi]=null);const c=n[dn];if(null!==c){n[dn]=null;for(let l=0;l<c.length;l++)(0,c[l])()}}(t,n),1===n[Yt].type&&n[xn].destroy();const i=n[he];if(null!==i&&Cr(n[Qn])){i!==n[Qn]&&um(i,n);const o=n[je];null!==o&&o.detachView(t)}!function Y_(t){lp.delete(t[mt])}(n)}}function kd(t,n,i){return function Wh(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Nr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:l}=t.data[o.directiveStart+c];if(l===$i.None||l===$i.Emulated)return null}return Cs(o,i)}}(t,n.parent,i)}function Tu(t,n,i,o,c){t.insertBefore(n,i,o,c)}function lm(t,n,i){t.appendChild(n,i)}function qh(t,n,i,o,c){null!==o?Tu(t,n,i,o,c):lm(t,n,i)}function Zh(t,n){return t.parentNode(n)}let wp,tf,Sp,kl,Ip=function Kh(t,n,i){return 40&t.type?Cs(t,i):null};function Qh(t,n,i,o){const c=kd(t,o,n),l=n[xn],I=function Ep(t,n,i){return Ip(t,n,i)}(o.parent||n[Gr],o,n);if(null!=c)if(Array.isArray(i))for(let b=0;b<i.length;b++)qh(l,c,i[b],I,!1);else qh(l,c,i,I,!1);void 0!==wp&&wp(l,o,n,i,c)}function Hc(t,n){if(null!==n){const i=n.type;if(3&i)return Cs(n,t);if(4&i)return Fd(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Hc(t,o);{const c=t[n.index];return Cr(c)?Fd(-1,c):ti(c)}}if(32&i)return Od(n,t)()||ti(t[n.index]);{const o=hm(t,n);return null!==o?Array.isArray(o)?o[0]:Hc(jc(t[j]),o):Hc(t,n.next)}}return null}function hm(t,n){return null!==n?t[j][Gr].projection[n.projection]:null}function Fd(t,n){const i=Jn+t+1;if(i<n.length){const o=n[i],c=o[Yt].firstChild;if(null!==c)return Hc(o,c)}return n[Wr]}function Ld(t,n,i,o,c,l,_){for(;null!=i;){const I=o[i.index],b=i.type;if(_&&0===n&&(I&&Zs(ti(I),o),i.flags|=2),32!=(32&i.flags))if(8&b)Ld(t,n,i.child,o,c,l,!1),$c(n,t,c,I,l);else if(32&b){const L=Od(i,o);let K;for(;K=L();)$c(n,t,c,K,l);$c(n,t,c,I,l)}else 16&b?Cp(t,n,o,i,c,l):$c(n,t,c,I,l);i=_?i.projectionNext:i.next}}function zc(t,n,i,o,c,l){Ld(i,o,t.firstChild,n,c,l,!1)}function Cp(t,n,i,o,c,l){const _=i[j],b=_[Gr].projection[o.projection];if(Array.isArray(b))for(let L=0;L<b.length;L++)$c(n,t,c,b[L],l);else{let L=b;const K=_[Qn];Dl(o)&&(L.flags|=128),Ld(t,n,L,K,c,l,!0)}}function Za(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function ef(t,n,i){const{mergedAttrs:o,classes:c,styles:l}=i;null!==o&&pr(t,n,o),null!==c&&Za(t,n,c),null!==l&&function Dp(t,n,i){t.setAttribute(n,"style",i)}(t,n,l)}function Ol(t){return function Vd(){if(void 0===tf&&(tf=null,Mn.trustedTypes))try{tf=Mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tf}()?.createHTML(t)||t}function Pp(t){Sp=t}function Nl(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new Le(210,!1)}function nf(){if(void 0===kl&&(kl=null,Mn.trustedTypes))try{kl=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kl}function rf(t){return nf()?.createHTML(t)||t}function fm(t){return nf()?.createScriptURL(t)||t}class pm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function nc(t){return t instanceof pm?t.changingThisBreaksApplicationSecurity:t}function Du(t,n){const i=function sy(t){return t instanceof pm&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}class uy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ol(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class cy{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ol(n),i}}const af=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bd(t){return(t=String(t)).match(af)?t:"unsafe:"+t}function Da(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Gc(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const kp=Da("area,br,col,hr,img,wbr"),uf=Da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cf=Da("rp,rt"),rc=Gc(kp,Gc(uf,Da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(cf,Da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(cf,uf)),lf=Da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=Gc(lf,Da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lp=Da("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!rc.hasOwnProperty(i))return this.sanitizedSomething=!0,!Lp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let c=0;c<o.length;c++){const l=o.item(c),_=l.name,I=_.toLowerCase();if(!Wc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let b=l.value;lf[I]&&(b=Bd(b)),this.buf.push(" ",_,'="',Vp(b),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();rc.hasOwnProperty(i)&&!kp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Vp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function Vp(t){return t.replace(/&/g,"&amp;").replace(py,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let df;function Up(t){return"content"in t&&function my(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function Em(t){const n=Er();return n?rf(n.sanitize(Fl.HTML,t)||""):Du(t,"HTML")?rf(nc(t)):function vm(t,n){let i=null;try{df=df||function mm(t){const n=new cy(t);return function ly(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new uy(n):n}(t);let o=n?String(n):"";i=df.getInertBodyElement(o);let c=5,l=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=l,l=i.innerHTML,i=df.getInertBodyElement(o)}while(o!==l);return Ol((new fy).sanitizeChildren(Up(i)||i))}finally{if(i){const o=Up(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}(Nl(),Ze(t))}function Bp(t){const n=Er();return n?n.sanitize(Fl.URL,t)||"":Du(t,"URL")?nc(t):Bd(Ze(t))}function Im(t){const n=Er();if(n)return fm(n.sanitize(Fl.RESOURCE_URL,t)||"");if(Du(t,"ResourceURL"))return fm(nc(t));throw new Le(904,!1)}function $p(t,n,i){return function Tm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Im:Bp}(n,i)(t)}function Er(){const t=Nt();return t&&t[ls].sanitizer}const Ll=new Jt("ENVIRONMENT_INITIALIZER"),zp=new Jt("INJECTOR",-1),Vl=new Jt("INJECTOR_DEF_TYPES");class hf{get(n,i=Tn){if(i===Tn){const o=new Error(`NullInjectorError: No provider for ${Ie(n)}!`);throw o.name="NullInjectorError",o}return i}}function Os(t){return{\u0275providers:t}}function as(...t){return{\u0275providers:ba(0,t),\u0275fromNgModule:!0}}function ba(t,...n){const i=[],o=new Set;let c;const l=_=>{i.push(_)};return za(n,_=>{const I=_;ff(I,l,[],o)&&(c||=[],c.push(I))}),void 0!==c&&Dm(c,l),i}function Dm(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];Gp(c,l=>{n(l,o)})}}function ff(t,n,i,o){if(!(t=pt(t)))return!1;let c=null,l=Ar(t);const _=!l&&Ln(t);if(l||_){if(_&&!_.standalone)return!1;c=t}else{const b=t.ngModule;if(l=Ar(b),!l)return!1;c=b}const I=o.has(c);if(_){if(I)return!1;if(o.add(c),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const L of b)ff(L,n,i,o)}}else{if(!l)return!1;{if(null!=l.imports&&!I){let L;o.add(c);try{za(l.imports,K=>{ff(K,n,i,o)&&(L||=[],L.push(K))})}finally{}void 0!==L&&Dm(L,n)}if(!I){const L=hs(c)||(()=>new c);n({provide:c,useFactory:L,deps:Gn},c),n({provide:Vl,useValue:c,multi:!0},c),n({provide:Ll,useValue:()=>Pt(c),multi:!0},c)}const b=l.providers;if(null!=b&&!I){const L=t;Gp(b,K=>{n(K,L)})}}}return c!==t&&void 0!==t.providers}function Gp(t,n){for(let i of t)Dt(i)&&(i=i.\u0275providers),Array.isArray(i)?Gp(i,n):n(i)}const Wp=se({provide:String,useValue:se});function qp(t){return null!==t&&"object"==typeof t&&Wp in t}function qc(t){return"function"==typeof t}const Am=new Jt("Set Injector scope."),gf={},Qi={};let mf;function _f(){return void 0===mf&&(mf=new hf),mf}class Ka{}class Zc extends Ka{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(n,_=>this.processProvider(_)),this.records.set(zp,jd(void 0,this)),c.has("environment")&&this.records.set(Ka,jd(void 0,this));const l=this.records.get(Am);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Vl.multi,Gn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Me(this),o=rr(void 0);try{return n()}finally{Me(i),rr(o)}}get(n,i=Tn,o=cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(bn))return n[bn](this);o=Qt(o);const l=Me(this),_=rr(void 0);try{if(!(o&cn.SkipSelf)){let b=this.records.get(n);if(void 0===b){const L=function Pm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Jt}(n)&&En(n);b=L&&this.injectableDefInScope(L)?jd(Zp(n),gf):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(o&cn.Self?_f():this.parent).get(n,i=o&cn.Optional&&i===Tn?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Yn]=I[Yn]||[]).unshift(Ie(n)),l)throw I;return function Fi(t,n,i,o){const c=t[Yn];throw n[N]&&c.unshift(n[N]),t.message=function Si(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ie(n);if(Array.isArray(n))c=n.map(Ie).join(" -> ");else if("object"==typeof n){let l=[];for(let _ in n)if(n.hasOwnProperty(_)){let I=n[_];l.push(_+":"+("string"==typeof I?JSON.stringify(I):Ie(I)))}c=`{${l.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[Yn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{rr(_),Me(l)}}resolveInjectorInitializers(){const n=Me(this),i=rr(void 0);try{const c=this.get(Ll.multi,Gn,cn.Self);for(const l of c)l()}finally{Me(n),rr(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Ie(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let i=qc(n=pt(n))?n:pt(n&&n.provide);const o=function Iy(t){return qp(t)?jd(void 0,t.useValue):jd(Sm(t),gf)}(n);if(qc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=jd(void 0,gf,!0),c.factory=()=>zn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===gf&&(i.value=Qi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Cy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=pt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Zp(t){const n=En(t),i=null!==n?n.factory:hs(t);if(null!==i)return i;if(t instanceof Jt)throw new Le(204,!1);if(t instanceof Function)return function Ey(t){const n=t.length;if(n>0)throw function Yu(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}(n,"?"),new Le(204,!1);const i=function Ot(t){return t&&(t[en]||t[Fn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Le(204,!1)}function Sm(t,n,i){let o;if(qc(t)){const c=pt(t);return hs(c)||Zp(c)}if(qp(t))o=()=>pt(t.useValue);else if(function bm(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...zn(t.deps||[]));else if(function pf(t){return!(!t||!t.useExisting)}(t))o=()=>Pt(pt(t.useExisting));else{const c=pt(t&&(t.useClass||t.provide));if(!function wy(t){return!!t.deps}(t))return hs(c)||Zp(c);o=()=>new c(...zn(t.deps))}return o}function jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kc(t,n){for(const i of t)Array.isArray(i)?Kc(i,n):i&&Dt(i)?Kc(i.\u0275providers,n):n(i)}const Rm=new Jt("AppId",{providedIn:"root",factory:()=>ic}),ic="ng",bu=new Jt("Platform Initializer"),Mm=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new Jt("CSP nonce",{providedIn:"root",factory:()=>Nl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zl=(t,n,i)=>null;function Gl(t,n,i=!1){return zl(t,n,i)}class sE{}class xy{}class Oy{resolveComponentFactory(n){throw function eg(t){const n=Error(`No component factory found for ${Ie(t)}.`);return n.ngComponent=t,n}(n)}}let If=(()=>{class t{static#e=this.NULL=new Oy}return t})();function wf(){return Zl(ss(),Nt())}function Zl(t,n){return new qd(Cs(t,n))}let qd=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=wf}return t})();function Cf(t){return t instanceof qd?t.nativeElement:t}class Nm{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function km(){const t=Nt(),i=ni(ss().index,t);return(Hr(i)?i:t)[xn]}()}return t})(),Fm=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class ng{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rg=new ng("16.2.12"),Tf={};function oc(t,n=null,i=null,o){const c=Bm(t,n,i,o);return c.resolveInjectorInitializers(),c}function Bm(t,n=null,i=null,o,c=new Set){const l=[i||Gn,as(t)];return o=o||("object"==typeof t?void 0:Ie(t)),new Zc(l,n||_f(),o||null,c)}let Aa=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new hf;static create(i,o){if(Array.isArray(i))return oc({name:""},o,i,"");{const c=i.name??"";return oc({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>Pt(zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ig(t){return t.ngOriginalError}class ac{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ig(n);for(;i&&ig(i);)i=ig(i);return i||null}}function og(t){return n=>{setTimeout(t,void 0,n)}}const Qa=class Ly extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,l=i||(()=>null),_=o;if(n&&"object"==typeof n){const b=n;c=b.next?.bind(b),l=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(l=og(l),c&&(c=og(c)),_&&(_=og(_)));const I=super.subscribe({next:c,error:l,complete:_});return n instanceof y.w0&&n.add(I),I}};function $m(...t){}class is{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Vy(){const t="function"==typeof Mn.requestAnimationFrame;let n=Mn[t?"requestAnimationFrame":"setTimeout"],i=Mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function By(t){const n=()=>{!function Uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ug(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ug(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,l,_,I)=>{if(function hE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,l,_,I);try{return zm(t),i.invokeTask(c,l,_,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),Gm(t)}},onInvoke:(i,o,c,l,_,I,b)=>{try{return zm(t),i.invoke(c,l,_,I,b)}finally{t.shouldCoalesceRunChangeDetection&&n(),Gm(t)}},onHasTask:(i,o,c,l)=>{i.hasTask(c,l),o===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,ug(t),Hm(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,o,c,l)=>(i.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!is.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(is.isInAngularZone())throw new Le(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const l=this._inner,_=l.scheduleEventTask("NgZoneEvent: "+c,n,ag,$m,$m);try{return l.runTask(_,i,o)}finally{l.cancelTask(_)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const ag={};function Hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ug(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gm(t){t._nesting--,Hm(t)}class dE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const jy=new Jt("",{providedIn:"root",factory:$y});function $y(){const t=Zt(is);let n=!0;const i=new z.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),o=new z.y(c=>{let l;t.runOutsideAngular(()=>{l=t.onStable.subscribe(()=>{is.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const _=t.onUnstable.subscribe(()=>{is.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),_.unsubscribe()}});return(0,Ce.T)(i,o.pipe((0,Be.B)()))}function Pu(t){return t instanceof Function?t():t}let cg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[Vn]|=64;const n=jc(t);if(Lo(t)&&!n)return t;t=n}return null}const Wy=new Jt("",{providedIn:"root",factory:()=>!1});let Yl=null;function Yd(t,n){return t[n]??s()}function a(t,n){const i=s();i.producerNode?.length&&(t[n]=Yl,i.lView=t,Yl=r())}const e={...nu,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Yl??=r(),Yl}const u={};function f(t){m(Tr(),Nt(),ur()+t,!1)}function m(t,n,i,o){if(!o)if(3==(3&n[Vn])){const l=t.preOrderCheckHooks;null!==l&&Ae(n,l,i)}else{const l=t.preOrderHooks;null!==l&&ht(n,l,0,i)}dr(i)}function T(t,n=cn.Default){const i=Nt();return null===i?Pt(t,n):wa(ss(),i,pt(t),n)}function R(){throw new Error("invalid")}function X(t,n,i,o,c,l,_,I,b,L,K){const le=n.blueprint.slice();return le[Nr]=c,le[Vn]=140|o,(null!==L||t&&2048&t[Vn])&&(le[Vn]|=2048),xo(le),le[Qn]=le[q]=t,le[vr]=i,le[ls]=_||t&&t[ls],le[xn]=I||t&&t[xn],le[qi]=b||t&&t[qi]||null,le[Gr]=l,le[mt]=function em(){return Xg++}(),le[St]=K,le[Gt]=L,le[j]=2==n.type?t[j]:le,le}function ce(t,n,i,o,c){let l=t.data[n];if(null===l)l=function Re(t,n,i,o,c){const l=Ui(),_=fa(),b=t.data[n]=function tt(t,n,i,o,c,l){let _=n?n.injectorIndex:-1,I=0;return function Ko(){return null!==qn.skipHydrationRootTNode}()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?l:l&&l.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=b),null!==l&&(_?null==l.child&&null!==b.parent&&(l.child=b):null===l.next&&(l.next=b,b.prev=l)),b}(t,n,i,o,c),function Gu(){return qn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=o,l.attrs=c;const _=function Oa(){const t=qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===_?-1:_.injectorIndex}return Ts(l,!0),l}function rt(t,n,i,o){if(0===i)return-1;const c=n.length;for(let l=0;l<i;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function xt(t,n,i,o,c){const l=Yd(n,un),_=ur(),I=2&o;try{dr(-1),I&&n.length>Cn&&m(t,n,Cn,!1),Hn(I?2:0,c);const L=I?l:null,K=Wn(L);try{null!==L&&(L.dirty=!1),i(o,c)}finally{aa(L,K)}}finally{I&&null===n[un]&&a(n,un),dr(_),Hn(I?3:1,c)}}function Kt(t,n,i){if(Gs(n)){const o=ki(null);try{const l=n.directiveEnd;for(let _=n.directiveStart;_<l;_++){const I=t.data[_];I.contentQueries&&I.contentQueries(1,i[_],_)}}finally{ki(o)}}}function $t(t,n,i){bi()&&(function Xy(t,n,i,o){const c=i.directiveStart,l=i.directiveEnd;xi(i)&&function hg(t,n,i){const o=Cs(n,t),c=Bn(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const I=Jl(t,X(t,c,null,_,o,n,null,t[ls].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Pc(i,n),Zs(o,n);const _=i.initialInputs;for(let I=c;I<l;I++){const b=t.data[I],L=du(n,t,I,i);Zs(L,n),null!==_&&Xm(0,I-c,L,b,0,_),Zi(b)&&(ni(i.index,n)[vr]=du(n,t,I,i))}}(t,n,i,Cs(i,n)),64==(64&i.flags)&&Ql(t,n,i))}function Sn(t,n,i=Cs){const o=n.localNames;if(null!==o){let c=n.index+1;for(let l=0;l<o.length;l+=2){const _=o[l+1],I=-1===_?i(n,t):t[_];t[c++]=I}}}function Bn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rn(t,n,i,o,c,l,_,I,b,L,K){const le=Cn+o,Ve=le+c,Je=function hr(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:u);return i}(le,Ve),Tt="function"==typeof L?L():L;return Je[Yt]={type:t,blueprint:Je,template:i,queries:null,viewQuery:I,declTNode:n,data:Je.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Tt,incompleteFirstPass:!1,ssrId:K}}let We=t=>null;function ut(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const l=t[c];null===o?xe(i,n,c,l):o.hasOwnProperty(c)&&xe(i,n,o[c],l)}return i}function xe(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function $o(t,n,i,o,c,l,_,I){const b=Cs(n,i);let K,L=n.inputs;!I&&null!=L&&(K=L[o])?(Ys(t,i,K,o,c),xi(n)&&function Jd(t,n){const i=ni(n,t);16&i[Vn]||(i[Vn]|=64)}(i,n.index)):3&n.type&&(o=function Qd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=_?_(c,n.value||"",o):c,l.setProperty(b,o,c))}function Af(t,n,i,o){if(bi()){const c=null===o?null:{"":-1},l=function eh(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let l=0;l<i.length;l++){const _=i[l];if(nr(n,_.selectors,!1))if(o||(o=[]),Zi(_))if(null!==_.findHostDirectiveDefs){const I=[];c=c||new Map,_.findHostDirectiveDefs(_,I,c),o.unshift(...I,_),lg(t,n,I.length)}else o.unshift(_),lg(t,n,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,o,c),o.push(_)}return null===o?null:[o,c]}(t,i);let _,I;null===l?_=I=null:[_,I]=l,null!==_&&Jm(t,n,i,_,c,I),c&&function tv(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=i[n[c+1]];if(null==l)throw new Le(-301,!1);o.push(n[c],l)}}}(i,o,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function Jm(t,n,i,o,c,l){for(let L=0;L<o.length;L++)Ia(Pc(i,n),t,o[L].type);!function Pf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let L=0;L<o.length;L++){const K=o[L];K.providersResolver&&K.providersResolver(K)}let _=!1,I=!1,b=rt(t,n,o.length,null);for(let L=0;L<o.length;L++){const K=o[L];i.mergedAttrs=lr(i.mergedAttrs,K.hostAttrs),dg(t,i,n,b,K),Sf(b,K,c),null!==K.contentQueries&&(i.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(i.flags|=64);const le=K.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!I&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),b++}!function Ru(t,n,i){const c=n.directiveEnd,l=t.data,_=n.attrs,I=[];let b=null,L=null;for(let K=n.directiveStart;K<c;K++){const le=l[K],Ve=i?i.get(le):null,Tt=Ve?Ve.outputs:null;b=ut(le.inputs,K,b,Ve?Ve.inputs:null),L=ut(le.outputs,K,L,Tt);const Wt=null===b||null===_||zr(n)?null:nv(b,K,_);I.push(Wt)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=b,n.outputs=L}(t,i,l)}function Ql(t,n,i){const o=i.directiveStart,c=i.directiveEnd,l=i.index,_=function ga(){return qn.lFrame.currentDirectiveIndex}();try{dr(l);for(let I=o;I<c;I++){const b=t.data[I],L=n[I];Wu(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&ev(b,L)}}finally{dr(-1),Wu(_)}}function ev(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function lg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Sf(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Zi(n)&&(i[""]=t)}}function dg(t,n,i,o,c){t.data[o]=c;const l=c.factory||(c.factory=hs(c.type)),_=new ao(l,Zi(c),T);t.blueprint[o]=_,i[o]=_,function cc(t,n,i,o,c){const l=c.hostBindings;if(l){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const I=~n.index;(function lo(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=I&&_.push(I),_.push(i,o,l)}}(t,n,o,rt(t,i,c.hostVars,u),c)}function Xo(t,n,i,o,c,l){const _=Cs(t,n);!function th(t,n,i,o,c,l,_){if(null==l)t.removeAttribute(n,c,i);else{const I=null==_?Ze(l):_(l,o||"",c);t.setAttribute(n,c,I,i)}}(n[xn],_,l,t.value,i,o,c)}function Xm(t,n,i,o,c,l){const _=l[n];if(null!==_)for(let I=0;I<_.length;)fg(o,i,_[I++],_[I++],_[I++])}function fg(t,n,i,o,c){const l=ki(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(o)&&(c=_[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{ki(l)}}function nv(t,n,i){let o=null,c=0;for(;c<i.length;){const l=i[c];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===o&&(o=[]);const _=t[l];for(let I=0;I<_.length;I+=2)if(_[I]===n){o.push(l,_[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function pg(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function gg(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const l=i[o+1];if(-1!==l){const _=t.data[l];w(i[o]),_.contentQueries(2,n[l],l)}}}function Jl(t,n){return t[ts]?t[Kr][vi]=n:t[ts]=n,t[Kr]=n,n}function Rf(t,n,i){w(0);const o=ki(null);try{n(t,i)}finally{ki(o)}}function Mf(t){return t[Wi]||(t[Wi]=[])}function xf(t){return t.cleanup||(t.cleanup=[])}function Ks(t,n){const i=t[qi],o=i?i.get(ac,null):null;o&&o.handleError(n)}function Ys(t,n,i,o,c){for(let l=0;l<i.length;){const _=i[l++],I=i[l++];fg(t.data[_],n[_],o,I,c)}}function e_(t,n){const i=ni(n,t),o=i[Yt];!function t_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[Nr];null!==c&&null===i[St]&&(i[St]=Gl(c,i[qi])),mg(o,i,i[vr])}function mg(t,n,i){S(n);try{const o=t.viewQuery;null!==o&&Rf(1,o,i);const c=t.template;null!==c&&xt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gg(t,n),t.staticViewQueries&&Rf(2,t.viewQuery,i);const l=t.components;null!==l&&function nh(t,n){for(let i=0;i<n.length;i++)e_(t,n[i])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Vn]&=-5,it()}}let _g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const l=typeof Zone>"u"?null:Zone.current,_=function bt(t,n,i){const o=Object.create(gr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=_=>{o.cleanupFn=_};return o.ref={notify:()=>Ls(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Uo(o))return;o.hasRun=!0;const _=Wn(o);try{o.cleanupFn(),o.cleanupFn=mn,o.fn(c)}finally{aa(o,_)}},cleanup:()=>o.cleanupFn()},o.ref}(i,L=>{this.all.has(L)&&this.queue.set(L,l)},c);let I;this.all.add(_),_.notify();const b=()=>{_.cleanup(),I?.(),this.all.delete(_),this.queue.delete(_)};return I=o?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xl(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,l=0;if(null!==n)for(let _=0;_<n.length;_++){const I=n[_];"number"==typeof I?l=I:1==l?c=lt(c,I):2==l&&(o=lt(o,I+": "+n[++_]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function rh(t,n,i,o,c=!1){for(;null!==i;){const l=n[i.index];null!==l&&o.push(ti(l)),Cr(l)&&r_(l,o);const _=i.type;if(8&_)rh(t,n,i.child,o);else if(32&_){const I=Od(i,n);let b;for(;b=I();)o.push(b)}else if(16&_){const I=hm(n,i);if(Array.isArray(I))o.push(...I);else{const b=jc(n[j]);rh(b[Yt],b,I,o,!0)}}i=c?i.projectionNext:i.next}return o}function r_(t,n){for(let i=Jn;i<t.length;i++){const o=t[i],c=o[Yt].firstChild;null!==c&&rh(o[Yt],o,c,n)}t[Wr]!==t[Nr]&&n.push(t[Wr])}function ed(t,n,i,o=!0){const c=n[ls],l=c.rendererFactory,_=c.afterRenderEventManager;l.begin?.(),_?.begin();try{td(t,n,t.template,i)}catch(b){throw o&&Ks(n,b),b}finally{l.end?.(),c.effectManager?.flush(),_?.end()}}function td(t,n,i,o){const c=n[Vn];if(256!=(256&c)){n[ls].effectManager?.flush(),S(n);try{xo(n),function Fa(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&xt(t,n,i,2,o);const _=3==(3&c);if(_){const L=t.preOrderCheckHooks;null!==L&&Ae(n,L,null)}else{const L=t.preOrderHooks;null!==L&&ht(n,L,0,null),zt(n,0)}if(function yg(t){for(let n=nm(t);null!==n;n=jh(n)){if(!n[Qr])continue;const i=n[Vi];for(let o=0;o<i.length;o++){au(i[o])}}}(n),Nf(n,2),null!==t.contentQueries&&gg(t,n),_){const L=t.contentCheckHooks;null!==L&&Ae(n,L)}else{const L=t.contentHooks;null!==L&&ht(n,L,1),zt(n,1)}!function B(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Yd(n,Kn);try{for(let c=0;c<i.length;c++){const l=i[c];if(l<0)dr(~l);else{const _=l,I=i[++c],b=i[++c];pa(I,_),o.dirty=!1;const L=Wn(o);try{b(2,n[_])}finally{aa(o,L)}}}}finally{null===n[Kn]&&a(n,Kn),dr(-1)}}(t,n);const I=t.components;null!==I&&ih(n,I,0);const b=t.viewQuery;if(null!==b&&Rf(2,b,o),_){const L=t.viewCheckHooks;null!==L&&Ae(n,L)}else{const L=t.viewHooks;null!==L&&ht(n,L,2),zt(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Vn]&=-73,Ic(n)}finally{it()}}}function Nf(t,n){for(let i=nm(t);null!==i;i=jh(i))for(let o=Jn;o<i.length;o++)vg(i[o],n)}function rl(t,n,i){vg(ni(n,t),i)}function vg(t,n){if(!function su(t){return 128==(128&t[Vn])}(t))return;const i=t[Yt],o=t[Vn];if(80&o&&0===n||1024&o||2===n)td(i,t,i.template,t[vr]);else if(t[Ms]>0){Nf(t,1);const c=i.components;null!==c&&ih(t,c,1)}}function ih(t,n,i){for(let o=0;o<n.length;o++)rl(t,n[o],i)}class nd{get rootNodes(){const n=this._lView,i=n[Yt];return rh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vr]}set context(n){this._lView[vr]=n}get destroyed(){return 256==(256&this._lView[Vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qn];if(Cr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Gh(n,o),ml(i,o))}this._attachedToViewContainer=!1}Nd(this._lView[Yt],this._lView)}onDestroy(n){!function Cc(t,n){if(256==(256&t[Vn]))throw new Le(911,!1);null===t[dn]&&(t[dn]=[]),t[dn].push(n)}(this._lView,n)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vn]&=-129}reattach(){this._lView[Vn]|=128}detectChanges(){ed(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function om(t,n){zc(t,n,n[xn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n}}class sh extends nd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ed(n[Yt],n,n[vr],!1)}checkNoChanges(){}get context(){return null}}class Eg extends If{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Ln(n);return new Mu(i,this.ngModule)}}function ho(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class oh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Qt(o);const c=this.injector.get(n,Tf,o);return c!==Tf||i===Tf?c:this.parentInjector.get(n,i,o)}}class Mu extends xy{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=ho(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return ho(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Li(t){return t.map(_i).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let l=(c=c||this.ngModule)instanceof Ka?c:c?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const _=l?new oh(n,l):n,I=_.get(Nm,null);if(null===I)throw new Le(407,!1);const le={rendererFactory:I,sanitizer:_.get(Fm,null),effectManager:_.get(_g,null),afterRenderEventManager:_.get(cg,null)},Ve=I.createRenderer(null,this.componentDef),Je=this.componentDef.selectors[0][0]||"div",Tt=o?function ai(t,n,i,o){const l=o.get(Wy,!1)||i===$i.ShadowDom,_=t.selectRootElement(n,l);return function Rr(t){We(t)}(_),_}(Ve,o,this.componentDef.encapsulation,_):zh(Ve,Je,function s_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Je)),jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let jt=null;null!==Tt&&(jt=Gl(Tt,_,!0));const fr=Rn(0,null,null,1,0,null,null,null,null,null,null),Br=X(null,fr,null,jn,null,null,le,Ve,_,null,jt);let Ai,ia;S(Br);try{const ll=this.componentDef;let np,rE=null;ll.findHostDirectiveDefs?(np=[],rE=new Map,ll.findHostDirectiveDefs(ll,np,rE),np.push(ll)):np=[ll];const zb=function sv(t,n){const i=t[Yt],o=Cn;return t[o]=n,ce(i,o,2,"#host",null)}(Br,Tt),Gb=function rd(t,n,i,o,c,l,_){const I=c[Yt];!function ov(t,n,i,o){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Xl(n,n.mergedAttrs,!0),null!==i&&ef(o,i,n))}(o,t,n,_);let b=null;null!==n&&(b=Gl(n,c[qi]));const L=l.rendererFactory.createRenderer(n,i);let K=16;i.signals?K=4096:i.onPush&&(K=64);const le=X(c,Bn(i),null,K,c[t.index],t,l,L,null,null,b);return I.firstCreatePass&&lg(I,t,o.length-1),Jl(c,le),c[t.index]=le}(zb,Tt,ll,np,Br,le,Ve);ia=Bu(fr,Cn),Tt&&function kf(t,n,i,o){if(o)pr(t,i,["ng-version",rg.full]);else{const{attrs:c,classes:l}=function fo(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++o]):8===c&&i.push(l);else{if(!Jr(c))break;c=l}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&pr(t,i,c),l&&l.length>0&&Za(t,i,l.join(" "))}}(Ve,ll,Tt,o),void 0!==i&&function o_(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const l=i[c];o.push(null!=l?Array.from(l):null)}}(ia,this.ngContentSelectors,i),Ai=function av(t,n,i,o,c,l){const _=ss(),I=c[Yt],b=Cs(_,c);Jm(I,c,_,i,null,o);for(let K=0;K<i.length;K++)Zs(du(c,I,_.directiveStart+K,_),c);Ql(I,c,_),b&&Zs(b,c);const L=du(c,I,_.directiveStart+_.componentOffset,_);if(t[vr]=c[vr]=L,null!==l)for(const K of l)K(L,n);return Kt(I,_,t),L}(Gb,ll,np,rE,Br,[Ig]),mg(fr,Br,null)}finally{it()}return new iv(this.componentType,Ai,Zl(ia,Br),Br,ia)}}class iv extends sE{constructor(n,i,o,c,l){super(),this.location=o,this._rootLView=c,this._tNode=l,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new sh(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;Ys(l[Yt],l,c,n,i),this.previousInputValues.set(n,i),Kd(ni(this._tNode.index,l))}}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ig(){const t=ss();te(Nt()[Yt],t)}function Ja(t){let n=function ah(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(Zi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const _=t;_.inputs=uh(t.inputs),_.inputTransforms=uh(t.inputTransforms),_.declaredInputs=uh(t.declaredInputs),_.outputs=uh(t.outputs);const I=c.hostBindings;I&&u_(t,I);const b=c.viewQuery,L=c.contentQueries;if(b&&wg(t,b),L&&Cg(t,L),re(t.inputs,c.inputs),re(t.declaredInputs,c.declaredInputs),re(t.outputs,c.outputs),null!==c.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),re(_.inputTransforms,c.inputTransforms)),Zi(c)&&c.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let _=0;_<l.length;_++){const I=l[_];I&&I.ngInherit&&I(t),I===Ja&&(i=!1)}}n=Object.getPrototypeOf(n)}!function a_(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(o)}function uh(t){return t===kr?{}:t===Gn?[]:t}function wg(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function Cg(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,l)=>{n(o,c,l),i(o,c,l)}:n}function u_(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function Tg(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function ch(t){return!!Vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,i){return t[n]=i}function Qs(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Sa(t,n,i,o){const c=Nt();return Qs(c,io(),n)&&(Tr(),Xo(Ur(),c,t,n,i,o)),Sa}function Ou(t,n,i,o){return Qs(t,io(),i)?n+Ze(i)+o:u}function Hf(t,n,i,o,c,l,_,I){const b=Nt(),L=Tr(),K=t+Cn,le=L.firstCreatePass?function b_(t,n,i,o,c,l,_,I,b){const L=n.consts,K=ce(n,t,4,_||null,no(L,I));Af(n,i,K,no(L,b)),te(n,K);const le=K.tView=Rn(2,K,o,c,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,K),le.queries=n.queries.embeddedTView(K)),K}(K,L,b,n,i,o,c,l,_):L.data[K];Ts(le,!1);const Ve=zf(L,b,le,t);cu()&&Qh(L,b,Ve,le),Zs(Ve,b),Jl(b,b[K]=pg(Ve,b,Ve,le)),To(le)&&$t(L,b,le),null!=_&&Sn(b,le,I)}let zf=function Ng(t,n,i,o){return ie(!0),n[xn].createComment("")};function pc(t){return Mo(function bc(){return qn.lFrame.contextLView}(),Cn+t)}function Wf(t,n,i){const o=Nt();return Qs(o,io(),n)&&$o(Tr(),Ur(),o,t,n,o[xn],i,!1),Wf}function qf(t,n,i,o,c){const _=c?"class":"style";Ys(t,i,n.inputs[_],_,o)}function gh(t,n,i,o){const c=Nt(),l=Tr(),_=Cn+t,I=c[xn],b=l.firstCreatePass?function P_(t,n,i,o,c,l){const _=n.consts,b=ce(n,t,2,o,no(_,c));return Af(n,i,b,no(_,l)),null!==b.attrs&&Xl(b,b.attrs,!1),null!==b.mergedAttrs&&Xl(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(_,l,c,n,i,o):l.data[_],L=kg(l,c,b,I,n,t);c[_]=L;const K=To(b);return Ts(b,!0),ef(I,L,b),32!=(32&b.flags)&&cu()&&Qh(l,c,L,b),0===function gs(){return qn.lFrame.elementDepthCount}()&&Zs(L,c),function Dc(){qn.lFrame.elementDepthCount++}(),K&&($t(l,c,b),Kt(l,b,c)),null!==o&&Sn(c,b),gh}function cl(){let t=ss();fa()?Na():(t=t.parent,Ts(t,!1));const n=t;(function uu(t){return qn.skipHydrationRootTNode===t})(n)&&function hl(){qn.skipHydrationRootTNode=null}(),function ju(){qn.lFrame.elementDepthCount--}();const i=Tr();return i.firstCreatePass&&(te(i,t),Gs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ii(t){return 0!=(8&t.flags)}(n)&&qf(i,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function wi(t){return 0!=(16&t.flags)}(n)&&qf(i,n,Nt(),n.stylesWithoutHost,!1),cl}function Io(t,n,i,o){return gh(t,n,i,o),cl(),Io}let kg=(t,n,i,o,c,l)=>(ie(!0),zh(o,c,function Oo(){return qn.lFrame.currentNamespace}()));function M(t,n,i){const o=Nt(),c=Tr(),l=t+Cn,_=c.firstCreatePass?function g(t,n,i,o,c){const l=n.consts,_=no(l,o),I=ce(n,t,8,"ng-container",_);return null!==_&&Xl(I,_,!0),Af(n,i,I,no(l,c)),null!==n.queries&&n.queries.elementStart(n,I),I}(l,c,o,n,i):c.data[l];Ts(_,!0);const I=nt(c,o,_,t);return o[l]=I,cu()&&Qh(c,o,I,_),Zs(I,o),To(_)&&($t(c,o,_),Kt(c,_,o)),null!=i&&Sn(o,_),M}function $(){let t=ss();const n=Tr();return fa()?Na():(t=t.parent,Ts(t,!1)),n.firstCreatePass&&(te(n,t),Gs(t)&&n.queries.elementEnd(t)),$}let nt=(t,n,i,o)=>(ie(!0),Hh(n[xn],""));function Ti(){return Nt()}function Ns(t){return!!t&&"function"==typeof t.then}function ri(t){return!!t&&"function"==typeof t.subscribe}function Hs(t,n,i,o){const c=Nt(),l=Tr(),_=ss();return function ta(t,n,i,o,c,l,_){const I=To(o),L=t.firstCreatePass&&xf(t),K=n[vr],le=Mf(n);let Ve=!0;if(3&o.type||_){const Wt=Cs(o,n),yn=_?_(Wt):Wt,jn=le.length,jt=_?Br=>_(ti(Br[o.index])):o.index;let fr=null;if(!_&&I&&(fr=function dd(t,n,i,o){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const _=c[l];if(_===i&&c[l+1]===o){const I=n[Wi],b=c[l+2];return I.length>b?I[b]:null}"string"==typeof _&&(l+=2)}return null}(t,n,c,o.index)),null!==fr)(fr.__ngLastListenerFn__||fr).__ngNextListenerFn__=l,fr.__ngLastListenerFn__=l,Ve=!1;else{l=Zf(o,n,K,l,!1);const Br=i.listen(yn,c,l);le.push(l,Br),L&&L.push(c,jt,jn,jn+1)}}else l=Zf(o,n,K,l,!1);const Je=o.outputs;let Tt;if(Ve&&null!==Je&&(Tt=Je[c])){const Wt=Tt.length;if(Wt)for(let yn=0;yn<Wt;yn+=2){const Ai=n[Tt[yn]][Tt[yn+1]].subscribe(l),ia=le.length;le.push(l,Ai),L&&L.push(c,o.index,ia,-(ia+1))}}}(l,c,c[xn],_,t,n,o),Hs}function mh(t,n,i,o){try{return Hn(6,n,i),!1!==i(o)}catch(c){return Ks(t,c),!1}finally{Hn(7,n,i)}}function Zf(t,n,i,o,c){return function l(_){if(_===Function)return o;Kd(t.componentOffset>-1?ni(t.index,n):n);let b=mh(n,i,o,_),L=l.__ngNextListenerFn__;for(;L;)b=mh(n,i,L,_)&&b,L=L.__ngNextListenerFn__;return c&&!1===b&&_.preventDefault(),b}}function EE(t=1){return function ln(t){return(qn.lFrame.contextLView=function Xn(t,n){for(;t>0;)n=n[q],t--;return n}(t,qn.lFrame.contextLView))[vr]}(t)}function fv(t,n,i){return M_(t,"",n,"",i),fv}function M_(t,n,i,o,c){const l=Nt(),_=Ou(l,n,i,o);return _!==u&&$o(Tr(),Ur(),l,t,_,l[xn],c,!1),M_}function x_(t,n){return t<<17|n<<2}function hd(t){return t>>17&32767}function pv(t){return 2|t}function _h(t){return(131068&t)>>2}function gv(t,n){return-131069&t|n<<2}function mv(t){return 1|t}function PE(t,n,i,o,c){const l=t[i+1],_=null===n;let I=o?hd(l):_h(l),b=!1;for(;0!==I&&(!1===b||_);){const K=t[I+1];Mw(t[I],n)&&(b=!0,t[I+1]=o?mv(K):pv(K)),I=o?hd(K):_h(K)}b&&(t[i+1]=o?pv(l):mv(l))}function Mw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Qu(t,n)>=0}function _v(t,n,i){return Lu(t,n,i,!1),_v}function yv(t,n){return Lu(t,n,null,!0),yv}function Lu(t,n,i,o){const c=Nt(),l=Tr(),_=function ms(t){const n=qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);l.firstUpdatePass&&function LE(t,n,i,o){const c=t.data;if(null===c[i+1]){const l=c[ur()],_=function FE(t,n){return n>=t.expandoStartIndex}(t,i);(function jE(t,n){return 0!=(t.flags&(n?8:16))})(l,o)&&null===n&&!_&&(n=!1),n=function Bw(t,n,i,o){const c=function ma(t){const n=qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=Fg(i=vv(null,t,n,i,o),n.attrs,o),l=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(i=vv(c,t,n,i,o),null===l){let b=function jw(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==_h(o))return t[hd(o)]}(t,n,o);void 0!==b&&Array.isArray(b)&&(b=vv(null,t,n,b[1],o),b=Fg(b,n.attrs,o),function $w(t,n,i,o){t[hd(i?n.classBindings:n.styleBindings)]=o}(t,n,o,b))}else l=function Hw(t,n,i){let o;const c=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<c;l++)o=Fg(o,t[l].hostAttrs,i);return Fg(o,n.attrs,i)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),i}(c,l,n,o),function Pw(t,n,i,o,c,l){let _=l?n.classBindings:n.styleBindings,I=hd(_),b=_h(_);t[o]=i;let K,L=!1;if(Array.isArray(i)?(K=i[1],(null===K||Qu(i,K)>0)&&(L=!0)):K=i,c)if(0!==b){const Ve=hd(t[I+1]);t[o+1]=x_(Ve,I),0!==Ve&&(t[Ve+1]=gv(t[Ve+1],o)),t[I+1]=function Aw(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=x_(I,0),0!==I&&(t[I+1]=gv(t[I+1],o)),I=o;else t[o+1]=x_(b,0),0===I?I=o:t[b+1]=gv(t[b+1],o),b=o;L&&(t[o+1]=pv(t[o+1])),PE(t,K,o,!0),PE(t,K,o,!1),function Rw(t,n,i,o,c){const l=c?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Qu(l,n)>=0&&(i[o+1]=mv(i[o+1]))}(n,K,t,o,l),_=x_(I,b),l?n.classBindings=_:n.styleBindings=_}(c,l,n,i,_,o)}}(l,t,_,o),n!==u&&Qs(c,_,n)&&function UE(t,n,i,o,c,l,_,I){if(!(3&n.type))return;const b=t.data,L=b[I+1],K=function Sw(t){return 1==(1&t)}(L)?BE(b,n,i,c,_h(L),_):void 0;O_(K)||(O_(l)||function bw(t){return 2==(2&t)}(L)&&(l=BE(b,null,i,c,I,_)),function ny(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let l=-1===o.indexOf("-")?void 0:bl.DashCase;null==c?t.removeStyle(i,o,l):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),l|=bl.Important),t.setStyle(i,o,c,l))}}(o,_,Zo(ur(),i),c,l))}(l,l.data[ur()],c,c[xn],t,c[_+1]=function qw(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ie(nc(t)))),t}(n,i),o,_)}function vv(t,n,i,o,c){let l=null;const _=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<_&&(l=n[I],o=Fg(o,l.hostAttrs,c),l!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function Fg(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let l=0;l<n.length;l++){const _=n[l];"number"==typeof _?c=_:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vo(t,_,!!i||n[++l]))}return void 0===t?null:t}function BE(t,n,i,o,c,l){const _=null===n;let I;for(;c>0;){const b=t[c],L=Array.isArray(b),K=L?b[1]:b,le=null===K;let Ve=i[c+1];Ve===u&&(Ve=le?Gn:void 0);let Je=le?_l(Ve,o):K===o?Ve:void 0;if(L&&!O_(Je)&&(Je=_l(b,o)),O_(Je)&&(I=Je,_))return I;const Tt=t[c+1];c=_?hd(Tt):_h(Tt)}if(null!==n){let b=l?n.residualClasses:n.residualStyles;null!=b&&(I=_l(b,o))}return I}function O_(t){return void 0!==t}function $E(t,n=""){const i=Nt(),o=Tr(),c=t+Cn,l=o.firstCreatePass?ce(o,c,1,n,null):o.data[c],_=HE(o,i,l,n,t);i[c]=_,cu()&&Qh(o,i,_,l),Ts(l,!1)}let HE=(t,n,i,o,c)=>(ie(!0),function Ml(t,n){return t.createText(n)}(n[xn],o));function Ev(t){return N_("",t,""),Ev}function N_(t,n,i){const o=Nt(),c=Ou(o,t,n,i);return c!==u&&function ea(t,n,i){const o=Zo(n,t);!function rm(t,n,i){t.setValue(n,i)}(t[xn],o,i)}(o,ur(),c),N_}const yh=void 0;var gC=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pC(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Yf={};function Iv(t){const n=function mC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=lI(n);if(i)return i;const o=n.split("-")[0];if(i=lI(o),i)return i;if("en"===o)return gC;throw new Le(701,!1)}function cI(t){return Iv(t)[Qf.PluralCase]}function lI(t){return t in Yf||(Yf[t]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[t]),Yf[t]}var Qf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qf||{});const Jf="en-US";let dI=Jf;function Tv(t,n,i,o,c){if(t=pt(t),Array.isArray(t))for(let l=0;l<t.length;l++)Tv(t[l],n,i,o,c);else{const l=Tr(),_=Nt(),I=ss();let b=qc(t)?t:pt(t.provide);const L=Sm(t),K=1048575&I.providerIndexes,le=I.directiveStart,Ve=I.providerIndexes>>20;if(qc(t)||!t.multi){const Je=new ao(L,c,T),Tt=bv(b,n,c?K:K+Ve,le);-1===Tt?(Ia(Pc(I,_),l,b),Dv(l,t,n.length),n.push(b),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(Je),_.push(Je)):(i[Tt]=Je,_[Tt]=Je)}else{const Je=bv(b,n,K+Ve,le),Tt=bv(b,n,K,K+Ve),yn=Tt>=0&&i[Tt];if(c&&!yn||!c&&!(Je>=0&&i[Je])){Ia(Pc(I,_),l,b);const jn=function pT(t,n,i,o,c){const l=new ao(t,i,T);return l.multi=[],l.index=n,l.componentProviders=0,FI(l,c,o&&!i),l}(c?fT:hT,i.length,c,o,L);!c&&yn&&(i[Tt].providerFactory=jn),Dv(l,t,n.length,0),n.push(b),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(jn),_.push(jn)}else Dv(l,t,Je>-1?Je:Tt,FI(i[c?Tt:Je],L,!c&&o));!c&&o&&yn&&i[Tt].componentProviders++}}}function Dv(t,n,i,o){const c=qc(n),l=function Ci(t){return!!t.useClass}(n);if(c||l){const b=(l?pt(n.useClass):n).prototype.ngOnDestroy;if(b){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const K=L.indexOf(i);-1===K?L.push(i,[o,b]):L[K+1].push(o,b)}else L.push(i,b)}}}function FI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function bv(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function hT(t,n,i,o){return Av(this.multi,[])}function fT(t,n,i,o){const c=this.multi;let l;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=du(i,i[Yt],this.providerFactory.index,o);l=I.slice(0,_),Av(c,l);for(let b=_;b<I.length;b++)l.push(I[b])}else l=[],Av(c,l);return l}function Av(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function LI(t,n=[]){return i=>{i.providersResolver=(o,c)=>function dT(t,n,i){const o=Tr();if(o.firstCreatePass){const c=Zi(t);Tv(i,o.data,o.blueprint,c,!0),Tv(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class vh{}class VI{}function gT(t,n){return new Sv(t,n??null,[])}class Sv extends vh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const c=wr(n);this._bootstrapComponents=Pu(c.bootstrap),this._r3Injector=Bm(n,i,[{provide:vh,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...o],Ie(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pv extends VI{constructor(n){super(),this.moduleType=n}create(n){return new Sv(this.moduleType,n,[])}}class UI extends vh{constructor(n){super(),this.componentFactoryResolver=new Eg(this),this.instance=null;const i=new Zc([...n.providers,{provide:vh,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],n.parent||_f(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function BI(t,n,i=null){return new UI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let _T=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=ba(0,i.type),c=o.length>0?BI([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(Pt(Ka))})}return t})();function jI(t){t.getStandaloneInjector=n=>n.get(_T).getOrCreateStandaloneInjector(t)}function ZI(t,n,i){const o=os()+t,c=Nt();return c[o]===u?Xa(c,o,i?n.call(i):n()):function lh(t,n){return t[n]}(c,o)}function KI(t,n,i,o){return YI(Nt(),os(),t,n,i,o)}function YI(t,n,i,o,c,l){const _=n+i;return Qs(t,_,c)?Xa(t,_+1,l?o.call(l,c):o(c)):function $g(t,n){const i=t[n];return i===u?void 0:i}(t,_+1)}function t0(t,n){const i=Tr();let o;const c=t+Cn;i.firstCreatePass?(o=function NT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[c]=o,o.onDestroy&&(i.destroyHooks??=[]).push(c,o.onDestroy)):o=i.data[c];const l=o.factory||(o.factory=hs(o.type)),I=rr(T);try{const b=No(!1),L=l();return No(b),function S_(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Nt(),c,L),L}finally{rr(I)}}function n0(t,n,i){const o=t+Cn,c=Nt(),l=Mo(c,o);return function Hg(t,n){return t[Yt].data[n].pure}(c,o)?YI(c,os(),n,l.transform,i,l):l.transform(i)}function UT(){return this._results[Symbol.iterator]()}class Mv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qa)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Mv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=UT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function co(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function wd(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],l=n[o];if(i&&(c=i(c),l=i(l)),l!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,o=!0){const c=n[Yt];if(function X_(t,n,i,o){const c=Jn+o,l=i.length;o>0&&(i[c-1][vi]=n),o<l-Jn?(n[vi]=i[c],Cd(i,Jn+o,n)):(i.push(n),n[vi]=null),n[Qn]=i;const _=n[he];null!==_&&i!==_&&function ey(t,n){const i=t[Vi];n[j]!==n[Qn][Qn][j]&&(t[Qr]=!0),null===i?t[Vi]=[n]:i.push(n)}(_,n);const I=n[je];null!==I&&I.insertView(t),n[Vn]|=128}(c,n,t,i),o){const l=Fd(i,t),_=n[xn],I=Zh(_,t[Wr]);null!==I&&function sm(t,n,i,o,c,l){o[Nr]=c,o[Gr]=n,zc(t,o,i,1,c,l)}(c,t[Gr],_,n,I,l)}}let zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zT}return t})();const $T=zg,HT=class extends $T{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function BT(t,n,i,o){const c=n.tView,I=X(t,c,i,4096&t[Vn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);I[he]=t[n.index];const L=t[je];return null!==L&&(I[je]=L.createEmbeddedView(c)),mg(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new nd(c)}};function zT(){return U_(ss(),Nt())}function U_(t,n){return 4&t.type?new HT(n,t,Zl(t,n)):null}let j_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return l0(ss(),Nt())}const QT=j_,u0=class extends QT{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const n=lu(this._hostTNode,this._hostLView);if(Bi(n)){const i=js(n,this._hostLView),o=Qo(n);return new bs(i[Yt].data[o+8],i)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=c0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Jn}createEmbeddedView(n,i,o){let c,l;"number"==typeof o?c=o:null!=o&&(c=o.index,l=o.injector);const I=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(I,c,false),I}createComponent(n,i,o,c,l){const _=n&&!function Ha(t){return"function"==typeof t}(n);let I;if(_)I=i;else{const Wt=i||{};I=Wt.index,o=Wt.injector,c=Wt.projectableNodes,l=Wt.environmentInjector||Wt.ngModuleRef}const b=_?n:new Mu(Ln(n)),L=o||this.parentInjector;if(!l&&null==b.ngModule){const yn=(_?L:this.parentInjector).get(Ka,null);yn&&(l=yn)}Ln(b.componentType??{});const Je=b.create(L,c,null,l);return this.insertImpl(Je.hostView,I,false),Je}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function ou(t){return Cr(t[Qn])}(c)){const b=this.indexOf(n);if(-1!==b)this.detach(b);else{const L=c[Qn],K=new u0(L,L[Gr],L[Qn]);K.detach(K.indexOf(n))}}const _=this._adjustIndex(i),I=this._lContainer;return jT(I,c,_,!o),n.attachToViewContainerRef(),Cd(xv(I),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=c0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Gh(this._lContainer,i);o&&(ml(xv(this._lContainer),i),Nd(o[Yt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Gh(this._lContainer,i);return o&&null!=ml(xv(this._lContainer),i)?new nd(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function c0(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function l0(t,n){let i;const o=n[t.index];return Cr(o)?i=o:(i=pg(o,n,null,t),n[t.index]=i,Jl(n,i)),d0(i,n,t,o),new u0(i,t,n)}let d0=function h0(t,n,i,o){if(t[Wr])return;let c;c=8&i.type?ti(o):function JT(t,n){const i=t[xn],o=i.createComment(""),c=Cs(n,t);return Tu(i,Zh(i,c),o,function vp(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[Wr]=c};class Ov{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let l=0;l<o;l++){const _=i.getByIndex(l);c.push(this.queries[_.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==E0(n,i).matches&&this.queries[i].setDirty()}}class f0{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class kv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,l=this.getByIndex(o).embeddedTView(n,c);l&&(l.indexInDeclarationView=o,null!==i?i.push(l):i=[l])}return null!==i?new kv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Fv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];this.matchTNodeWithReadOption(n,i,tD(i,l)),this.matchTNodeWithReadOption(n,i,Rc(i,n,l,!1,!1))}else o===zg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Rc(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===qd||c===j_||c===zg&&4&i.type)this.addMatch(i.index,-2);else{const l=Rc(i,n,c,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function tD(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function rD(t,n,i,o){return-1===i?function nD(t,n){return 11&t.type?Zl(t,n):4&t.type?U_(t,n):null}(n,t):-2===i?function iD(t,n,i){return i===qd?Zl(n,t):i===zg?U_(n,t):i===j_?l0(n,t):void 0}(t,n,o):du(t,t[Yt],i,n)}function p0(t,n,i,o){const c=n[je].queries[o];if(null===c.matches){const l=t.data,_=i.matches,I=[];for(let b=0;b<_.length;b+=2){const L=_[b];I.push(L<0?null:rD(n,l[L],_[b+1],i.metadata.read))}c.matches=I}return c.matches}function Lv(t,n,i,o){const c=t.queries.getByIndex(i),l=c.matches;if(null!==l){const _=p0(t,n,c,i);for(let I=0;I<l.length;I+=2){const b=l[I];if(b>0)o.push(_[I/2]);else{const L=l[I+1],K=n[-b];for(let le=Jn;le<K.length;le++){const Ve=K[le];Ve[he]===Ve[Qn]&&Lv(Ve[Yt],Ve,L,o)}if(null!==K[Vi]){const le=K[Vi];for(let Ve=0;Ve<le.length;Ve++){const Je=le[Ve];Lv(Je[Yt],Je,L,o)}}}}}return o}function g0(t){const n=Nt(),i=Tr(),o=oo();w(o+1);const c=E0(i,o);if(t.dirty&&function Ma(t){return 4==(4&t[Vn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?Lv(i,n,o,[]):p0(i,n,c,o);t.reset(l,Cf),t.notifyOnChanges()}return!0}return!1}function m0(t,n,i,o){const c=Tr();if(c.firstCreatePass){const l=ss();(function v0(t,n,i){null===t.queries&&(t.queries=new kv),t.queries.track(new Fv(n,i))})(c,new f0(n,i,o),l.index),function aD(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function y0(t,n,i){const o=new Mv(4==(4&i));(function Ke(t,n,i,o){const c=Mf(n);c.push(i),t.firstCreatePass&&xf(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[je]&&(n[je]=new Nv),n[je].queries.push(new Ov(o))}(c,Nt(),i)}function _0(){return function oD(t,n){return t[je].queries[n].queryList}(Nt(),oo())}function E0(t,n){return t.queries.getByIndex(n)}function Vv(t){return!!wr(t)}const L0=new Jt("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Zt(L0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const l=c();if(Ns(l))i.push(l);else if(ri(l)){const _=new Promise((I,b)=>{l.subscribe({complete:I,error:b})});i.push(_)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),V0=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const H_=new Jt("LocaleId",{providedIn:"root",factory:()=>Zt(H_,cn.Optional|cn.SkipSelf)||function PD(){return typeof $localize<"u"&&$localize.locale||Jf}()}),RD=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let U0=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let OD=(()=>{class t{compileModuleSync(i){return new Pv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),l=Pu(wr(i).declarations).reduce((_,I)=>{const b=Ln(I);return b&&_.push(new Mu(b)),_},[]);return new xD(o,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const H0=new Jt(""),z0=new Jt("");let Wv,tb=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function nb(t){Wv=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{is.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==l),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(Pt(is),Pt(G0),Pt(z0))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),G0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return Wv?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),fd=null;const W0=new Jt("AllowMultipleToken"),qv=new Jt("PlatformDestroyListeners"),Zv=new Jt("appBootstrapListener");class sb{constructor(n,i){this.name=n,this.token=i}}function K0(t,n,i=[]){const o=`Platform: ${n}`,c=new Jt(o);return(l=[])=>{let _=Kv();if(!_||_.injector.get(W0,!1)){const I=[...i,...l,{provide:c,useValue:!0}];t?t(I):function ob(t){if(fd&&!fd.get(W0,!1))throw new Le(400,!1);(function q0(){!function Uu(t){Bo=t}(()=>{throw new Le(600,!1)})})(),fd=t;const n=t.get(Q0);(function Z0(t){t.get(bu,null)?.forEach(i=>i())})(t)}(function Y0(t=[],n){return Aa.create({name:n,providers:[{provide:Am,useValue:"platform"},{provide:qv,useValue:new Set([()=>fd=null])},...t]})}(I,o))}return function ub(t){const n=Kv();if(!n)throw new Le(401,!1);return n}()}}function Kv(){return fd?.get(Q0)??null}let Q0=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function cb(t="zone.js",n){return"noop"===t?new dE:"zone.js"===t?new is(n):t}(o?.ngZone,function J0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const l=function mT(t,n,i){return new Sv(t,n,i)}(i.moduleType,this.injector,function rw(t){return[{provide:is,useFactory:t},{provide:Ll,multi:!0,useFactory:()=>{const n=Zt(db,{optional:!0});return()=>n.initialize()}},{provide:nw,useFactory:lb},{provide:jy,useFactory:$y}]}(()=>c)),_=l.injector.get(ac,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:b=>{_.handleError(b)}});l.onDestroy(()=>{G_(this._modules,l),I.unsubscribe()})}),function X0(t,n,i){try{const o=i();return Ns(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(_,c,()=>{const I=l.injector.get(Hv);return I.runInitializers(),I.donePromise.then(()=>(function hI(t){yt(t,"Expected localeId to be defined"),"string"==typeof t&&(dI=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(H_,Jf)||Jf),this._moduleDoBootstrap(l),l))})})}bootstrapModule(i,o=[]){const c=ew({},o);return function rb(t,n,i){const o=new Pv(i);return Promise.resolve(o)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(i){const o=i.injector.get(tp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Le(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(qv,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(Pt(Aa))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ew(t,n){return Array.isArray(n)?n.reduce(ew,t):{...t,...n}}let tp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(nw),this.zoneIsStable=Zt(jy),this.componentTypes=[],this.components=[],this.isStable=Zt(U0).hasPendingTasks.pipe((0,$e.w)(i=>i?(0,Se.of)(!1):this.zoneIsStable),(0,ze.x)(),(0,Be.B)()),this._injector=Zt(Ka)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof xy;if(!this._injector.get(Hv).done)throw!c&&Ri(i),new Le(405,!1);let _;_=c?i:this._injector.get(If).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const I=function ib(t){return t.isBoundToModule}(_)?void 0:this._injector.get(vh),L=_.create(Aa.NULL,[],o||_.selector,I),K=L.location.nativeElement,le=L.injector.get(H0,null);return le?.registerApplication(K),L.onDestroy(()=>{this.detachView(L.hostView),G_(this.components,L),le?.unregisterApplication(K)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;G_(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(Zv,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>G_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Le(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function G_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const nw=new Jt("",{providedIn:"root",factory:()=>Zt(ac).handleError.bind(void 0)});function lb(){const t=Zt(is),n=Zt(ac);return i=>t.runOutsideAngular(()=>n.handleError(i))}let db=(()=>{class t{constructor(){this.zone=Zt(is),this.applicationRef=Zt(tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fb(){return!1}let pb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gb}return t})();function gb(t){return function mb(t,n,i){if(xi(t)&&!i){const o=ni(t.index,n);return new nd(o,o)}return 47&t.type?new nd(n[j],n):null}(ss(),Nt(),16==(16&t))}class aw{constructor(){}supports(n){return ch(n)}create(n){return new wb(n)}}const Ib=(t,n)=>n;class wb{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Ib}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,l=null;for(;i||o;){const _=!o||i&&i.currentIndex<cw(o,c,l)?i:o,I=cw(_,c,l),b=_.currentIndex;if(_===o)c--,o=o._nextRemoved;else if(i=i._next,null==_.previousIndex)c++;else{l||(l=[]);const L=I-c,K=b-c;if(L!=K){for(let Ve=0;Ve<L;Ve++){const Je=Ve<l.length?l[Ve]:l[Ve]=0,Tt=Je+Ve;K<=Tt&&Tt<L&&(l[Ve]=Je+1)}l[_.previousIndex]=K-L}}I!==b&&n(_,I,b)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ch(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,_,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)l=n[I],_=this._trackByFn(I,l),null!==i&&Object.is(i.trackById,_)?(o&&(i=this._verifyReinsertion(i,l,_,I)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,_,I),o=!0),i=i._next}else c=0,function bg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{_=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,_)?(o&&(i=this._verifyReinsertion(i,I,_,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,_,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,c)):n=this._addAfter(new Cb(i,o),l,c),n}_verifyReinsertion(n,i,o,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Cb{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tb{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class uw{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new Tb,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cw(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class lw{constructor(){}supports(n){return n instanceof Map||Vf(n)}create(){return new Db}}class Db{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Vf(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const l=c._prev,_=c._next;return l&&(l._next=_),_&&(_._prev=l),c._next=null,c._prev=null,c}const o=new bb(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class bb{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dw(){return new eE([new aw])}let eE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:dw});constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||dw()),deps:[[t,new Ta,new mu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new Le(901,!1)}}return t})();function hw(){return new tE([new lw])}let tE=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:hw});constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||hw()),deps:[[t,new Ta,new mu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new Le(901,!1)}}return t})();const Pb=K0(null,"core",[]);let Rb=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(Pt(tp))};static#t=this.\u0275mod=hi({type:t});static#n=this.\u0275inj=Rt({})}return t})();function jb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Hb(t){const n=Ln(t);if(!n)return null;const i=new Mu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(rn,Xe,k)=>{k.d(Xe,{zQ:()=>kt,ww:()=>Ut,rT:()=>Ht,f7:()=>kn,L6:()=>At,_Q:()=>pe,lh:()=>tn,Qv:()=>_t,nw:()=>wt}),k(6365);var y=k(6814),z=k(5879),Ce=k(1920),_e=k(7217),Se=k(8645),Be=k(2096),$e=k(5592),ze=k(2459),se=k(3019),re=k(3093),Ie=k(4664),lt=k(7398),Fe=k(4552);class Ct extends Se.x{constructor(we=1/0,oe=1/0,be=Fe.l){super(),this._bufferSize=we,this._windowTime=oe,this._timestampProvider=be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=oe===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,oe)}next(we){const{isStopped:oe,_buffer:be,_infiniteTimeWindow:He,_timestampProvider:ye,_windowTime:ve}=this;oe||(be.push(we),!He&&be.push(ye.now()+ve)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const oe=this._innerSubscribe(we),{_infiniteTimeWindow:be,_buffer:He}=this,ye=He.slice();for(let ve=0;ve<ye.length&&!we.closed;ve+=be?1:2)we.next(ye[ve]);return this._checkFinalizedStatuses(we),oe}_trimBuffer(){const{_bufferSize:we,_timestampProvider:oe,_buffer:be,_infiniteTimeWindow:He}=this,ye=(He?1:2)*we;if(we<1/0&&ye<be.length&&be.splice(0,be.length-ye),!He){const ve=oe.now();let Ne=0;for(let yt=1;yt<be.length&&be[yt]<=ve;yt+=2)Ne=yt;Ne&&be.splice(0,Ne+1)}}}var pt=k(3020);function Vt(et,we,oe){let be,He=!1;return et&&"object"==typeof et?({bufferSize:be=1/0,windowTime:we=1/0,refCount:He=!1,scheduler:oe}=et):be=et??1/0,(0,pt.B)({connector:()=>new Ct(be,we,oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:He})}var Dt=k(1374),an=k(4674);function qe(et,we){return(0,an.m)(we)?(0,Ie.w)(()=>et,we):(0,Ie.w)(()=>et)}var Le=k(5137),Qe=k(2181),Ze=k(7142);const _t=new z.OlP("angularfire2.auth.use-emulator"),At=new z.OlP("angularfire2.auth.settings"),pe=new z.OlP("angularfire2.auth.tenant-id"),Ht=new z.OlP("angularfire2.auth.langugage-code"),tn=new z.OlP("angularfire2.auth.use-device-language"),kn=new z.OlP("angularfire.auth.persistence"),wt=(et,we,oe,be,He,ye,ve,Ne)=>(0,_e.cc)(`${et.name}.auth`,"AngularFireAuth",et.name,()=>{const yt=we.runOutsideAngular(()=>et.auth());if(oe&&yt.useEmulator(...oe),be&&(yt.tenantId=be),yt.languageCode=He,ye&&yt.useDeviceLanguage(),ve)for(const[vt,sn]of Object.entries(ve))yt.settings[vt]=sn;return Ne&&yt.setPersistence(Ne),yt},[oe,be,He,ye,ve,Ne]);let kt=(()=>{class et{authState;idToken;user;idTokenResult;credential;constructor(oe,be,He,ye,ve,Ne,yt,vt,sn,qt,Pn,_n){const er=new Se.x,Rt=(0,Be.of)(void 0).pipe((0,re.Q)(ve.outsideAngular),(0,Ie.w)(()=>ye.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,lt.U)(()=>(0,_e.on)(oe,ye,be)),(0,lt.U)(En=>wt(En,ye,Ne,vt,sn,qt,yt,Pn)),Vt({bufferSize:1,refCount:!1}));if((0,y.PM)(He))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Rt.pipe((0,Dt.P)()).subscribe();const En=Rt.pipe((0,Ie.w)(Ot=>Ot.getRedirectResult().then(Ar=>Ar,()=>null)),Ce.iC,Vt({bufferSize:1,refCount:!1})),On=Rt.pipe((0,Ie.w)(Ot=>new $e.y(Ar=>({unsubscribe:ye.runOutsideAngular(()=>Ot.onAuthStateChanged(en=>Ar.next(en),en=>Ar.error(en),()=>Ar.complete()))})))),Lt=Rt.pipe((0,Ie.w)(Ot=>new $e.y(Ar=>({unsubscribe:ye.runOutsideAngular(()=>Ot.onIdTokenChanged(en=>Ar.next(en),en=>Ar.error(en),()=>Ar.complete()))}))));this.authState=En.pipe(qe(On),(0,Le.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular)),this.user=En.pipe(qe(Lt),(0,Le.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular)),this.idToken=this.user.pipe((0,Ie.w)(Ot=>Ot?(0,ze.D)(Ot.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,Ie.w)(Ot=>Ot?(0,ze.D)(Ot.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,se.T)(En,er,this.authState.pipe((0,Qe.h)(Ot=>!Ot))).pipe((0,lt.U)(Ot=>Ot?.user?Ot:null),(0,Le.R)(ve.outsideAngular),(0,re.Q)(ve.insideAngular))}return(0,_e.pX)(this,Rt,ye,{spy:{apply:(En,On,Lt)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&Lt.then(Ot=>er.next(Ot))}}})}static \u0275fac=function(be){return new(be||et)(z.LFG(_e.Dh),z.LFG(_e.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ce.HU),z.LFG(_t,8),z.LFG(At,8),z.LFG(pe,8),z.LFG(Ht,8),z.LFG(tn,8),z.LFG(kn,8),z.LFG(Ce.Rf,8))};static \u0275prov=z.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"})}return et})(),Ut=(()=>{class et{constructor(){Ze.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(be){return new(be||et)};static \u0275mod=z.oAB({type:et});static \u0275inj=z.cJS({providers:[kt]})}return et})()},7104:(rn,Xe,k)=>{k.d(Xe,{ST:()=>li,yb:()=>Ue});var d=k(6814),y=k(5879),z=k(1920),Ce=k(7217),_e=k(7213),Se=k(6321),Be=k(5592),$e=k(2459),ze=k(2096),se=k(7921),re=k(9360),Ie=k(8251);function lt(){return(0,re.e)((ft,Q)=>{let me,dt=!1;ft.subscribe((0,Ie.x)(Q,Bt=>{const Tn=me;me=Bt,dt&&Q.next([Tn,Bt]),dt=!0}))})}var Fe=k(7398),Ct=k(6699),pt=k(3997),Vt=k(2181),an=(k(6365),k(3106)),qe=k(5588),Le=k(9058),Qe=k(4537);function _t(ft,Q){if(void 0===Q)return{merge:!1};if(void 0!==Q.mergeFields&&void 0!==Q.merge)throw new qe.WA("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return Q}function At(){if(typeof Uint8Array>"u")throw new qe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pe(){if(!(0,qe.Me)())throw new qe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ht{constructor(Q){this._delegate=Q}static fromBase64String(Q){return pe(),new Ht(qe.Jj.fromBase64String(Q))}static fromUint8Array(Q){return At(),new Ht(qe.Jj.fromUint8Array(Q))}toBase64(){return pe(),this._delegate.toBase64()}toUint8Array(){return At(),this._delegate.toUint8Array()}isEqual(Q){return this._delegate.isEqual(Q._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tn(ft){return function kn(ft,Q){if("object"!=typeof ft||null===ft)return!1;const me=ft;for(const dt of Q)if(dt in me&&"function"==typeof me[dt])return!0;return!1}(ft,["next","error","complete"])}class wt{enableIndexedDbPersistence(Q,me){return(0,qe.ST)(Q._delegate,{forceOwnership:me})}enableMultiTabIndexedDbPersistence(Q){return(0,qe.fH)(Q._delegate)}clearIndexedDbPersistence(Q){return(0,qe.Fc)(Q._delegate)}}class kt{constructor(Q,me,dt){this._delegate=me,this._persistenceProvider=dt,this.INTERNAL={delete:()=>this.terminate()},Q instanceof qe.l7||(this._appCompat=Q)}get _databaseId(){return this._delegate._databaseId}settings(Q){const me=this._delegate._getSettings();!Q.merge&&me.host!==Q.host&&(0,qe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Q.merge&&delete(Q=Object.assign(Object.assign({},me),Q)).merge,this._delegate._setSettings(Q)}useEmulator(Q,me,dt={}){(0,qe.at)(this._delegate,Q,me,dt)}enableNetwork(){return(0,qe.Ix)(this._delegate)}disableNetwork(){return(0,qe.TF)(this._delegate)}enablePersistence(Q){let me=!1,dt=!1;return Q&&(me=!!Q.synchronizeTabs,dt=!!Q.experimentalForceOwningTab,(0,qe.Wi)("synchronizeTabs",me,"experimentalForceOwningTab",dt)),me?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,dt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,qe.Mx)(this._delegate)}onSnapshotsInSync(Q){return(0,qe.sc)(this._delegate,Q)}get app(){if(!this._appCompat)throw new qe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Q){try{return new _n(this,(0,qe.hJ)(this._delegate,Q))}catch(me){throw ye(me,"collection()","Firestore.collection()")}}doc(Q){try{return new He(this,(0,qe.JU)(this._delegate,Q))}catch(me){throw ye(me,"doc()","Firestore.doc()")}}collectionGroup(Q){try{return new sn(this,(0,qe.B$)(this._delegate,Q))}catch(me){throw ye(me,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Q){return(0,qe.i3)(this._delegate,me=>Q(new we(this,me)))}batch(){return(0,qe.qY)(this._delegate),new oe(new qe.PU(this._delegate,Q=>(0,qe.GL)(this._delegate,Q)))}loadBundle(Q){return(0,qe.Pb)(this._delegate,Q)}namedQuery(Q){return(0,qe.L$)(this._delegate,Q).then(me=>me?new sn(this,me):null)}}class Ut extends qe.u7{constructor(Q){super(),this.firestore=Q}convertBytes(Q){return new Ht(new qe.Jj(Q))}convertReference(Q){const me=this.convertDocumentKey(Q,this.firestore._databaseId);return He.forKey(me,this.firestore,null)}}class we{constructor(Q,me){this._firestore=Q,this._delegate=me,this._userDataWriter=new Ut(Q)}get(Q){const me=er(Q);return this._delegate.get(me).then(dt=>new yt(this._firestore,new qe.xU(this._firestore._delegate,this._userDataWriter,dt._key,dt._document,dt.metadata,me.converter)))}set(Q,me,dt){const Bt=er(Q);return dt?(_t("Transaction.set",dt),this._delegate.set(Bt,me,dt)):this._delegate.set(Bt,me),this}update(Q,me,dt,...Bt){const Tn=er(Q);return 2===arguments.length?this._delegate.update(Tn,me):this._delegate.update(Tn,me,dt,...Bt),this}delete(Q){const me=er(Q);return this._delegate.delete(me),this}}class oe{constructor(Q){this._delegate=Q}set(Q,me,dt){const Bt=er(Q);return dt?(_t("WriteBatch.set",dt),this._delegate.set(Bt,me,dt)):this._delegate.set(Bt,me),this}update(Q,me,dt,...Bt){const Tn=er(Q);return 2===arguments.length?this._delegate.update(Tn,me):this._delegate.update(Tn,me,dt,...Bt),this}delete(Q){const me=er(Q);return this._delegate.delete(me),this}commit(){return this._delegate.commit()}}class be{constructor(Q,me,dt){this._firestore=Q,this._userDataWriter=me,this._delegate=dt}fromFirestore(Q,me){const dt=new qe.$q(this._firestore._delegate,this._userDataWriter,Q._key,Q._document,Q.metadata,null);return this._delegate.fromFirestore(new vt(this._firestore,dt),me??{})}toFirestore(Q,me){return me?this._delegate.toFirestore(Q,me):this._delegate.toFirestore(Q)}static getInstance(Q,me){const dt=be.INSTANCES;let Bt=dt.get(Q);Bt||(Bt=new WeakMap,dt.set(Q,Bt));let Tn=Bt.get(me);return Tn||(Tn=new be(Q,new Ut(Q),me),Bt.set(me,Tn)),Tn}}be.INSTANCES=new WeakMap;class He{constructor(Q,me){this.firestore=Q,this._delegate=me,this._userDataWriter=new Ut(Q)}static forPath(Q,me,dt){if(Q.length%2!=0)throw new qe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Q.canonicalString()} has ${Q.length}`);return new He(me,new qe.my(me._delegate,dt,new qe.Ky(Q)))}static forKey(Q,me,dt){return new He(me,new qe.my(me._delegate,dt,Q))}get id(){return this._delegate.id}get parent(){return new _n(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Q){try{return new _n(this.firestore,(0,qe.hJ)(this._delegate,Q))}catch(me){throw ye(me,"collection()","DocumentReference.collection()")}}isEqual(Q){return(Q=(0,Le.m9)(Q))instanceof qe.my&&(0,qe.Eo)(this._delegate,Q)}set(Q,me){me=_t("DocumentReference.set",me);try{return me?(0,qe.pl)(this._delegate,Q,me):(0,qe.pl)(this._delegate,Q)}catch(dt){throw ye(dt,"setDoc()","DocumentReference.set()")}}update(Q,me,...dt){try{return 1===arguments.length?(0,qe.r7)(this._delegate,Q):(0,qe.r7)(this._delegate,Q,me,...dt)}catch(Bt){throw ye(Bt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,qe.oe)(this._delegate)}onSnapshot(...Q){const me=ve(Q),dt=Ne(Q,Bt=>new yt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,Bt._key,Bt._document,Bt.metadata,this._delegate.converter)));return(0,qe.cf)(this._delegate,me,dt)}get(Q){let me;return me="cache"===Q?.source?(0,qe.kl)(this._delegate):"server"===Q?.source?(0,qe.Xk)(this._delegate):(0,qe.QT)(this._delegate),me.then(dt=>new yt(this.firestore,new qe.xU(this.firestore._delegate,this._userDataWriter,dt._key,dt._document,dt.metadata,this._delegate.converter)))}withConverter(Q){return new He(this.firestore,this._delegate.withConverter(Q?be.getInstance(this.firestore,Q):null))}}function ye(ft,Q,me){return ft.message=ft.message.replace(Q,me),ft}function ve(ft){for(const Q of ft)if("object"==typeof Q&&!tn(Q))return Q;return{}}function Ne(ft,Q){var me,dt;let Bt;return Bt=tn(ft[0])?ft[0]:tn(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:Tn=>{Bt.next&&Bt.next(Q(Tn))},error:null===(me=Bt.error)||void 0===me?void 0:me.bind(Bt),complete:null===(dt=Bt.complete)||void 0===dt?void 0:dt.bind(Bt)}}class yt{constructor(Q,me){this._firestore=Q,this._delegate=me}get ref(){return new He(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Q){return this._delegate.data(Q)}get(Q,me){return this._delegate.get(Q,me)}isEqual(Q){return(0,qe.qK)(this._delegate,Q._delegate)}}class vt extends yt{data(Q){const me=this._delegate.data(Q);return this._delegate._converter||(0,qe.K9)(void 0!==me,"Document in a QueryDocumentSnapshot should exist"),me}}class sn{constructor(Q,me){this.firestore=Q,this._delegate=me,this._userDataWriter=new Ut(Q)}where(Q,me,dt){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.ar)(Q,me,dt)))}catch(Bt){throw ye(Bt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Q,me){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Xo)(Q,me)))}catch(dt){throw ye(dt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.b9)(Q)))}catch(me){throw ye(me,"limit()","Query.limit()")}}limitToLast(Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.vh)(Q)))}catch(me){throw ye(me,"limitToLast()","Query.limitToLast()")}}startAt(...Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.e0)(...Q)))}catch(me){throw ye(me,"startAt()","Query.startAt()")}}startAfter(...Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.TQ)(...Q)))}catch(me){throw ye(me,"startAfter()","Query.startAfter()")}}endBefore(...Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Lx)(...Q)))}catch(me){throw ye(me,"endBefore()","Query.endBefore()")}}endAt(...Q){try{return new sn(this.firestore,(0,qe.IO)(this._delegate,(0,qe.Wu)(...Q)))}catch(me){throw ye(me,"endAt()","Query.endAt()")}}isEqual(Q){return(0,qe.iE)(this._delegate,Q._delegate)}get(Q){let me;return me="cache"===Q?.source?(0,qe.UQ)(this._delegate):"server"===Q?.source?(0,qe.zN)(this._delegate):(0,qe.PL)(this._delegate),me.then(dt=>new Pn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,dt._snapshot)))}onSnapshot(...Q){const me=ve(Q),dt=Ne(Q,Bt=>new Pn(this.firestore,new qe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Bt._snapshot)));return(0,qe.cf)(this._delegate,me,dt)}withConverter(Q){return new sn(this.firestore,this._delegate.withConverter(Q?be.getInstance(this.firestore,Q):null))}}class qt{constructor(Q,me){this._firestore=Q,this._delegate=me}get type(){return this._delegate.type}get doc(){return new vt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pn{constructor(Q,me){this._firestore=Q,this._delegate=me}get query(){return new sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Q=>new vt(this._firestore,Q))}docChanges(Q){return this._delegate.docChanges(Q).map(me=>new qt(this._firestore,me))}forEach(Q,me){this._delegate.forEach(dt=>{Q.call(me,new vt(this._firestore,dt))})}isEqual(Q){return(0,qe.qK)(this._delegate,Q._delegate)}}class _n extends sn{constructor(Q,me){super(Q,me),this.firestore=Q,this._delegate=me}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Q=this._delegate.parent;return Q?new He(this.firestore,Q):null}doc(Q){try{return new He(this.firestore,void 0===Q?(0,qe.JU)(this._delegate):(0,qe.JU)(this._delegate,Q))}catch(me){throw ye(me,"doc()","CollectionReference.doc()")}}add(Q){return(0,qe.ET)(this._delegate,Q).then(me=>new He(this.firestore,me))}isEqual(Q){return(0,qe.Eo)(this._delegate,Q._delegate)}withConverter(Q){return new _n(this.firestore,this._delegate.withConverter(Q?be.getInstance(this.firestore,Q):null))}}function er(ft){return(0,qe.Cf)(ft,qe.my)}class Rt{constructor(...Q){this._delegate=new qe.Lz(...Q)}static documentId(){return new Rt(qe.Xb.keyField().canonicalString())}isEqual(Q){return(Q=(0,Le.m9)(Q))instanceof qe.Lz&&this._delegate._internalPath.isEqual(Q._internalPath)}}class En{constructor(Q){this._delegate=Q}static serverTimestamp(){const Q=(0,qe.Bt)();return Q._methodName="FieldValue.serverTimestamp",new En(Q)}static delete(){const Q=(0,qe.AK)();return Q._methodName="FieldValue.delete",new En(Q)}static arrayUnion(...Q){const me=(0,qe.vr)(...Q);return me._methodName="FieldValue.arrayUnion",new En(me)}static arrayRemove(...Q){const me=(0,qe.Ab)(...Q);return me._methodName="FieldValue.arrayRemove",new En(me)}static increment(Q){const me=(0,qe.nP)(Q);return me._methodName="FieldValue.increment",new En(me)}isEqual(Q){return this._delegate.isEqual(Q._delegate)}}const On={Firestore:kt,GeoPoint:qe.F8,Timestamp:qe.EK,Blob:Ht,Transaction:we,WriteBatch:oe,DocumentReference:He,DocumentSnapshot:yt,Query:sn,QueryDocumentSnapshot:vt,QuerySnapshot:Pn,CollectionReference:_n,FieldPath:Rt,FieldValue:En,setLogLevel:function et(ft){(0,qe.Ub)(ft)},CACHE_SIZE_UNLIMITED:qe.IX};!function Ot(ft){(function Lt(ft,Q){ft.INTERNAL.registerComponent(new Qe.wA("firestore-compat",me=>{const dt=me.getProvider("app-compat").getImmediate(),Bt=me.getProvider("firestore").getImmediate();return Q(dt,Bt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(ft,(Q,me)=>new kt(Q,me,new wt)),ft.registerVersion("@firebase/firestore-compat","0.3.32")}(an.Z);var Ar=k(7142);function ar(ft,Q){return function en(ft,Q=Se.z){return new Be.y(me=>{let dt;return null!=Q?Q.schedule(()=>{dt=ft.onSnapshot({includeMetadataChanges:!0},me)}):dt=ft.onSnapshot({includeMetadataChanges:!0},me),()=>{dt?.()}})}(ft,Q)}function Mt(ft,Q){return ar(ft,Q).pipe((0,Fe.U)(me=>({payload:me,type:"query"})))}class cn{ref;afs;constructor(Q,me){this.ref=Q,this.afs=me}set(Q,me){return this.ref.set(Q,me)}update(Q){return this.ref.update(Q)}delete(){return this.ref.delete()}collection(Q,me){const dt=this.ref.collection(Q),{ref:Bt,query:Tn}=An(dt,me);return new xr(Bt,Tn,this.afs)}snapshotChanges(){return function Fn(ft,Q){return ar(ft,Q).pipe((0,se.O)(void 0),lt(),(0,Fe.U)(me=>{const[dt,Bt]=me;return Bt.exists?dt?.exists?{payload:Bt,type:"modified"}:{payload:Bt,type:"added"}:{payload:Bt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return this.snapshotChanges().pipe((0,Fe.U)(({payload:me})=>Q.idField?{...me.data(),[Q.idField]:me.id}:me.data()))}get(Q){return(0,$e.D)(this.ref.get(Q)).pipe(z.iC)}}function wn(ft,Q){return Mt(ft,Q).pipe((0,se.O)(void 0),lt(),(0,Fe.U)(me=>{const[dt,Bt]=me,Tn=Bt.payload.docChanges(),mr=Tn.map(Yn=>({type:Yn.type,payload:Yn}));return dt&&JSON.stringify(dt.payload.metadata)!==JSON.stringify(Bt.payload.metadata)&&Bt.payload.docs.forEach((Yn,Te)=>{const J=Tn.find(N=>N.doc.ref.isEqual(Yn.ref)),V=dt?.payload.docs.find(N=>N.ref.isEqual(Yn.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(Yn.metadata)||!J&&V&&JSON.stringify(V.metadata)===JSON.stringify(Yn.metadata)||mr.push({type:"modified",payload:{oldIndex:Te,newIndex:Te,type:"modified",doc:Yn}})}),mr}))}function gn(ft,Q,me){return wn(ft,me).pipe((0,Ct.R)((dt,Bt)=>function rr(ft,Q,me){return Q.forEach(dt=>{me.indexOf(dt.type)>-1&&(ft=function Mr(ft,Q){switch(Q.type){case"added":if(!ft[Q.newIndex]||!ft[Q.newIndex].doc.ref.isEqual(Q.doc.ref))return cr(ft,Q.newIndex,0,Q);break;case"modified":if(null==ft[Q.oldIndex]||ft[Q.oldIndex].doc.ref.isEqual(Q.doc.ref)){if(Q.oldIndex!==Q.newIndex){const me=ft.slice();return me.splice(Q.oldIndex,1),me.splice(Q.newIndex,0,Q),me}return cr(ft,Q.newIndex,1,Q)}break;case"removed":if(ft[Q.oldIndex]&&ft[Q.oldIndex].doc.ref.isEqual(Q.doc.ref))return cr(ft,Q.oldIndex,1)}return ft}(ft,dt))}),ft}(dt,Bt.map(Tn=>Tn.payload),Q),[]),(0,pt.x)(),(0,Fe.U)(dt=>dt.map(Bt=>({type:Bt.type,payload:Bt}))))}function cr(ft,Q,me,...dt){const Bt=ft.slice();return Bt.splice(Q,me,...dt),Bt}function Mn(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class xr{ref;query;afs;constructor(Q,me,dt){this.ref=Q,this.query=me,this.afs=dt}stateChanges(Q){let me=wn(this.query,this.afs.schedulers.outsideAngular);return Q&&Q.length>0&&(me=me.pipe((0,Fe.U)(dt=>dt.filter(Bt=>Q.indexOf(Bt.type)>-1)))),me.pipe((0,se.O)(void 0),lt(),(0,Vt.h)(([dt,Bt])=>Bt.length>0||!dt),(0,Fe.U)(([,dt])=>dt),z.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Ct.R)((me,dt)=>[...me,...dt],[]))}snapshotChanges(Q){const me=Mn(Q);return gn(this.query,me,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return Mt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(me=>me.payload.docs.map(dt=>Q.idField?{...dt.data(),[Q.idField]:dt.id}:dt.data())),z.iC)}get(Q){return(0,$e.D)(this.query.get(Q)).pipe(z.iC)}add(Q){return this.ref.add(Q)}doc(Q){return new cn(this.ref.doc(Q),this.afs)}}class Di{query;afs;constructor(Q,me){this.query=Q,this.afs=me}stateChanges(Q){return Q&&0!==Q.length?wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(me=>me.filter(dt=>Q.indexOf(dt.type)>-1)),(0,Vt.h)(me=>me.length>0),z.iC):wn(this.query,this.afs.schedulers.outsideAngular).pipe(z.iC)}auditTrail(Q){return this.stateChanges(Q).pipe((0,Ct.R)((me,dt)=>[...me,...dt],[]))}snapshotChanges(Q){const me=Mn(Q);return gn(this.query,me,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(Q={}){return Mt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(dt=>dt.payload.docs.map(Bt=>Q.idField?{[Q.idField]:Bt.id,...Bt.data()}:Bt.data())),z.iC)}get(Q){return(0,$e.D)(this.query.get(Q)).pipe(z.iC)}}const Jt=new y.OlP("angularfire2.enableFirestorePersistence"),Or=new y.OlP("angularfire2.firestore.persistenceSettings"),$n=new y.OlP("angularfire2.firestore.settings"),tr=new y.OlP("angularfire2.firestore.use-emulator");function An(ft,Q=(me=>me)){return{query:Q(ft),ref:ft}}let li=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(me,dt,Bt,Tn,mr,Yn,Te,J,V,N,O,ue,Me,gt,Pt,nn,Zt){this.schedulers=Te;const Qt=(0,Ce.on)(me,Yn,dt),zn=V;N&&(0,_e.nw)(Qt,Yn,O,Me,gt,Pt,ue,nn),[this.firestore,this.persistenceEnabled$]=(0,Ce.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const vn=Yn.runOutsideAngular(()=>Qt.firestore());if(Tn&&vn.settings(Tn),zn&&vn.useEmulator(...zn),Bt&&!(0,d.PM)(mr)){const ir=()=>{try{return(0,$e.D)(vn.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Fi){return typeof console<"u"&&console.warn(Fi),(0,ze.of)(!1)}};return[vn,Yn.runOutsideAngular(ir)]}return[vn,(0,ze.of)(!1)]},[Tn,zn,Bt])}collection(me,dt){let Bt;Bt="string"==typeof me?this.firestore.collection(me):me;const{ref:Tn,query:mr}=An(Bt,dt),Yn=this.schedulers.ngZone.run(()=>Tn);return new xr(Yn,mr,this)}collectionGroup(me,dt){const Bt=dt||(mr=>mr),Tn=this.firestore.collectionGroup(me);return new Di(Bt(Tn),this)}doc(me){let dt;dt="string"==typeof me?this.firestore.doc(me):me;const Bt=this.schedulers.ngZone.run(()=>dt);return new cn(Bt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(dt){return new(dt||ft)(y.LFG(Ce.Dh),y.LFG(Ce.xv,8),y.LFG(Jt,8),y.LFG($n,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(z.HU),y.LFG(Or,8),y.LFG(tr,8),y.LFG(_e.zQ,8),y.LFG(_e.Qv,8),y.LFG(_e.L6,8),y.LFG(_e._Q,8),y.LFG(_e.rT,8),y.LFG(_e.lh,8),y.LFG(_e.f7,8),y.LFG(z.Rf,8))};static \u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),Ue=(()=>{class ft{constructor(){Ar.Z.registerVersion("angularfire",z.q4.full,"fst-compat")}static enablePersistence(me){return{ngModule:ft,providers:[{provide:Jt,useValue:!0},{provide:Or,useValue:me}]}}static \u0275fac=function(dt){return new(dt||ft)};static \u0275mod=y.oAB({type:ft});static \u0275inj=y.cJS({providers:[li]})}return ft})()},778:(rn,Xe,k)=>{k.d(Xe,{Q1:()=>we,TE:()=>He});var d=k(1920),y=k(5592),z=k(2096),Ce=k(2459),_e=k(6321),Se=k(9360),Be=k(8251),ze=k(7398),se=k(4664),re=k(5879),Ie=k(7217),lt=k(3106),Fe=k(8153),Ct=k(4537);class pt{constructor(ve,Ne,yt){this._delegate=ve,this.task=Ne,this.ref=yt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Vt{constructor(ve,Ne){this._delegate=ve,this._ref=Ne,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pt(this._delegate.snapshot,this,this._ref)}then(ve,Ne){return this._delegate.then(yt=>{if(ve)return ve(new pt(yt,this,this._ref))},Ne)}on(ve,Ne,yt,vt){let sn;return Ne&&(sn="function"==typeof Ne?qt=>Ne(new pt(qt,this,this._ref)):{next:Ne.next?qt=>Ne.next(new pt(qt,this,this._ref)):void 0,complete:Ne.complete||void 0,error:Ne.error||void 0}),this._delegate.on(ve,sn,yt||void 0,vt||void 0)}}class Dt{constructor(ve,Ne){this._delegate=ve,this._service=Ne}get prefixes(){return this._delegate.prefixes.map(ve=>new an(ve,this._service))}get items(){return this._delegate.items.map(ve=>new an(ve,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class an{constructor(ve,Ne){this._delegate=ve,this.storage=Ne}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ve){const Ne=(0,Fe.g6)(this._delegate,ve);return new an(Ne,this.storage)}get root(){return new an(this._delegate.root,this.storage)}get parent(){const ve=this._delegate.parent;return null==ve?null:new an(ve,this.storage)}put(ve,Ne){return this._throwIfRoot("put"),new Vt((0,Fe.B0)(this._delegate,ve,Ne),this)}putString(ve,Ne=Fe.bm.RAW,yt){this._throwIfRoot("putString");const vt=(0,Fe.qm)(Ne,ve),sn=Object.assign({},yt);return null==sn.contentType&&null!=vt.contentType&&(sn.contentType=vt.contentType),new Vt(new Fe.IX(this._delegate,new Fe.UJ(vt.data,!0),sn),this)}listAll(){return(0,Fe.aF)(this._delegate).then(ve=>new Dt(ve,this.storage))}list(ve){return(0,Fe.pb)(this._delegate,ve||void 0).then(Ne=>new Dt(Ne,this.storage))}getMetadata(){return(0,Fe.sd)(this._delegate)}updateMetadata(ve){return(0,Fe.Ym)(this._delegate,ve)}getDownloadURL(){return(0,Fe.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Fe.oq)(this._delegate)}_throwIfRoot(ve){if(""===this._delegate._location.path)throw(0,Fe.y4)(ve)}}class qe{constructor(ve,Ne){this.app=ve,this._delegate=Ne}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ve){if(Le(ve))throw(0,Fe.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new an((0,Fe.iH)(this._delegate,ve),this)}refFromURL(ve){if(!Le(ve))throw(0,Fe.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Fe.gE.makeFromUrl(ve,this._delegate.host)}catch{throw(0,Fe.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new an((0,Fe.iH)(this._delegate,ve),this)}setMaxUploadRetryTime(ve){this._delegate.maxUploadRetryTime=ve}setMaxOperationRetryTime(ve){this._delegate.maxOperationRetryTime=ve}useEmulator(ve,Ne,yt={}){(0,Fe.a1)(this._delegate,ve,Ne,yt)}}function Le(ye){return/^[A-Za-z]+:\/\//.test(ye)}function _t(ye,{instanceIdentifier:ve}){const Ne=ye.getProvider("app-compat").getImmediate(),yt=ye.getProvider("storage").getImmediate({identifier:ve});return new qe(Ne,yt)}!function At(ye){const ve={TaskState:Fe.$Y,TaskEvent:Fe.FN,StringFormat:Fe.bm,Storage:qe,Reference:an};ye.INTERNAL.registerComponent(new Ct.wA("storage-compat",_t,"PUBLIC").setServiceProps(ve).setMultipleInstances(!0)),ye.registerVersion("@firebase/storage-compat","0.3.8")}(lt.Z);var pe=k(7142);function tn(ye){const ve=function Ht(ye){return new y.y(ve=>{const Ne=qt=>ve.next(qt);Ne(ye.snapshot);const sn=ye.on("state_changed",Ne);return ye.then(qt=>{Ne(qt),ve.complete()},qt=>{Ne(ye.snapshot),(qt=>{ve.error(qt)})(qt)}),function(){sn()}}).pipe(function $e(ye,ve=_e.z){return(0,Se.e)((Ne,yt)=>{let vt=null,sn=null,qt=null;const Pn=()=>{if(vt){vt.unsubscribe(),vt=null;const er=sn;sn=null,yt.next(er)}};function _n(){const er=qt+ye,Rt=ve.now();if(Rt<er)return vt=this.schedule(void 0,er-Rt),void yt.add(vt);Pn()}Ne.subscribe((0,Be.x)(yt,er=>{sn=er,qt=ve.now(),vt||(vt=ve.schedule(_n,ye),yt.add(vt))},()=>{Pn(),yt.complete()},void 0,()=>{sn=vt=null}))})}(0))}(ye);return{task:ye,then:ye.then.bind(ye),catch:ye.catch.bind(ye),pause:ye.pause.bind(ye),cancel:ye.cancel.bind(ye),resume:ye.resume.bind(ye),snapshotChanges:()=>ve,percentageChanges:()=>ve.pipe((0,ze.U)(Ne=>Ne.bytesTransferred/Ne.totalBytes*100))}}function kn(ye){return{getDownloadURL:()=>(0,z.of)(void 0).pipe(d.fc,(0,se.w)(()=>ye.getDownloadURL()),d.iC),getMetadata:()=>(0,z.of)(void 0).pipe(d.fc,(0,se.w)(()=>ye.getMetadata()),d.iC),delete:()=>(0,Ce.D)(ye.delete()),child:ve=>kn(ye.child(ve)),updateMetadata:ve=>(0,Ce.D)(ye.updateMetadata(ve)),put:(ve,Ne)=>tn(ye.put(ve,Ne)),putString:(ve,Ne,yt)=>tn(ye.putString(ve,Ne,yt)),list:ve=>(0,Ce.D)(ye.list(ve)),listAll:()=>(0,Ce.D)(ye.listAll())}}const wt=new re.OlP("angularfire2.storageBucket"),kt=new re.OlP("angularfire2.storage.maxUploadRetryTime"),Ut=new re.OlP("angularfire2.storage.maxOperationRetryTime"),et=new re.OlP("angularfire2.storage.use-emulator");let we=(()=>{class ye{storage;constructor(Ne,yt,vt,sn,qt,Pn,_n,er,Rt,En){const On=(0,Ie.on)(Ne,qt,yt);this.storage=(0,Ie.cc)(`${On.name}.storage.${vt}`,"AngularFireStorage",On.name,()=>{const Lt=qt.runOutsideAngular(()=>On.storage(vt||void 0)),Ot=Rt;return Ot&&Lt.useEmulator(...Ot),_n&&Lt.setMaxUploadRetryTime(_n),er&&Lt.setMaxOperationRetryTime(er),Lt},[_n,er])}ref(Ne){return kn(this.storage.ref(Ne))}refFromURL(Ne){return kn(this.storage.refFromURL(Ne))}upload(Ne,yt,vt){return kn(this.storage.ref(Ne)).put(yt,vt)}static \u0275fac=function(yt){return new(yt||ye)(re.LFG(Ie.Dh),re.LFG(Ie.xv,8),re.LFG(wt,8),re.LFG(re.Lbi),re.LFG(re.R0b),re.LFG(d.HU),re.LFG(kt,8),re.LFG(Ut,8),re.LFG(et,8),re.LFG(d.Rf,8))};static \u0275prov=re.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"any"})}return ye})(),be=(()=>{class ye{static \u0275fac=function(yt){return new(yt||ye)};static \u0275mod=re.oAB({type:ye});static \u0275inj=re.cJS({})}return ye})(),He=(()=>{class ye{constructor(){pe.Z.registerVersion("angularfire",d.q4.full,"gcs-compat")}static \u0275fac=function(yt){return new(yt||ye)};static \u0275mod=re.oAB({type:ye});static \u0275inj=re.cJS({providers:[we],imports:[be]})}return ye})()},7217:(rn,Xe,k)=>{k.d(Xe,{Dh:()=>$e,GT:()=>Se,cc:()=>Fe,hO:()=>lt,on:()=>se,pX:()=>_e,xv:()=>ze});var d=k(5879),y=k(1920),z=k(7142);const Ce=["ngOnDestroy"],_e=(Dt,an,qe,Le={})=>new Proxy(Dt,{get:(Qe,Ze)=>qe.runOutsideAngular(()=>{if(Dt[Ze])return Le?.spy?.get&&Le.spy.get(Ze,Dt[Ze]),Dt[Ze];if(Ce.indexOf(Ze)>-1)return()=>{};const Ye=an.toPromise().then(_t=>{const At=_t?.[Ze];return"function"==typeof At?At.bind(_t):At?.then?At.then(pe=>qe.run(()=>pe)):qe.run(()=>At)});return new Proxy(()=>{},{get:(_t,At)=>Ye[At],apply:(_t,At,pe)=>Ye.then(Ht=>{const tn=Ht?.(...pe);return Le?.spy?.apply&&Le.spy.apply(Ze,pe,tn),tn})})})}),Se=(Dt,an)=>{an.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Le=>{Object.defineProperty(Dt.prototype,Le,Object.getOwnPropertyDescriptor(qe.prototype||qe,Le))})})};class Be{constructor(an){return an}}const $e=new d.OlP("angularfire2.app.options"),ze=new d.OlP("angularfire2.app.name");function se(Dt,an,qe){const Qe="object"==typeof qe&&qe||{};Qe.name=Qe.name||"string"==typeof qe&&qe||"[DEFAULT]";const Ye=z.Z.apps.filter(_t=>_t&&_t.name===Qe.name)[0]||an.runOutsideAngular(()=>z.Z.initializeApp(Dt,Qe));try{if(JSON.stringify(Dt)!==JSON.stringify(Ye.options)){const _t=!!module.hot;re("error",`${Ye.name} Firebase App already initialized with different options${_t?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Be(Ye)}const re=(Dt,...an)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Dt](...an)},Ie={provide:Be,useFactory:se,deps:[$e,d.R0b,[new d.FiY,ze]]};let lt=(()=>{class Dt{static initializeApp(qe,Le){return{ngModule:Dt,providers:[{provide:$e,useValue:qe},{provide:ze,useValue:Le}]}}constructor(qe){z.Z.registerVersion("angularfire",y.q4.full,"core"),z.Z.registerVersion("angularfire",y.q4.full,"app-compat"),z.Z.registerVersion("angular",d.q4F.full,qe.toString())}static \u0275fac=function(Le){return new(Le||Dt)(d.LFG(d.Lbi))};static \u0275mod=d.oAB({type:Dt});static \u0275inj=d.cJS({providers:[Ie]})}return Dt})();function Fe(Dt,an,qe,Le,Qe){const[,Ze,Ye]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===Dt)||[];if(Ze)return function Ct(Dt,an){try{return Dt.toString()===an.toString()}catch{return Dt===an}}(Qe,Ye)||(Vt("error",`${an} was already initialized on the ${qe} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),Vt("warn",{is:Qe,was:Ye})),Ze;{const _t=Le();return globalThis.\u0275AngularfireInstanceCache.push([Dt,_t,Qe]),_t}}const pt=typeof module<"u"&&!!module.hot,Vt=(Dt,...an)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Dt](...an)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(rn,Xe,k)=>{k.d(Xe,{q4:()=>Fe,iC:()=>tn,fc:()=>pe,HU:()=>Ze,Rf:()=>Dt,vb:()=>Vt,JM:()=>pt,u3:()=>kt});var d=k(5879),y=k(3182),z=k(1954),_e=k(2631);const Be=new class Se extends _e.v{}(class Ce extends z.o{constructor(et,we){super(et,we),this.scheduler=et,this.work=we}schedule(et,we=0){return we>0?super.schedule(et,we):(this.delay=we,this.state=et,this.scheduler.flush(this),this)}execute(et,we){return we>0||this.closed?super.execute(et,we):this._execute(et,we)}requestAsyncId(et,we,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(et,we,oe):(et.flush(this),0)}});var ze=k(6321),se=k(5592),re=k(9397),Ie=k(3093),lt=k(5137);const Fe=new d.GfV("ANGULARFIRE2_VERSION");function pt(Ut,et,we){if(et){if(1===et.length)return et[0];const He=et.filter(ye=>ye.app===we);if(1===He.length)return He[0]}return we.container.getProvider(Ut).getImmediate({optional:!0})}const Vt=(Ut,et)=>{const we=et?[et]:(0,y.C6)(),oe=[];return we.forEach(be=>{be.container.getProvider(Ut).instances.forEach(ye=>{oe.includes(ye)||oe.push(ye)})}),oe};class Dt{constructor(){return Vt(an)}}const an="app-check";function qe(){}class Le{zone;delegate;constructor(et,we=Be){this.zone=et,this.delegate=we}now(){return this.delegate.now()}schedule(et,we,oe){const be=this.zone;return this.delegate.schedule(function(ye){be.runGuarded(()=>{et.apply(this,[ye])})},we,oe)}}class Qe{zone;task=null;constructor(et){this.zone=et}call(et,we){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),we.pipe((0,re.b)({next:oe,complete:oe,error:oe})).subscribe(et).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class Ut{ngZone;outsideAngular;insideAngular;constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=we.run(()=>new Le(Zone.current,ze.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(oe){return new(oe||Ut)(d.LFG(d.R0b))};static \u0275prov=d.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function Ye(){const Ut=globalThis.\u0275AngularFireScheduler;if(!Ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ut}function At(Ut){return Ye().ngZone.run(()=>Ut())}function pe(Ut){return Ut.pipe((0,Ie.Q)(Ye().outsideAngular))}function tn(Ut){return function kn(Ut){return function(we){return(we=we.lift(new Qe(Ut.ngZone))).pipe((0,lt.R)(Ut.outsideAngular),(0,Ie.Q)(Ut.insideAngular))}}(Ye())(Ut)}const wt=(Ut,et)=>function(){const oe=arguments;return et&&setTimeout(()=>{"scheduled"===et.state&&et.invoke()},10),At(()=>Ut.apply(void 0,oe))},kt=(Ut,et)=>function(){let we;const oe=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof oe[He]&&(et&&(we||=At(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe))),oe[He]=wt(oe[He],we));const be=function _t(Ut){return Ye().ngZone.runOutsideAngular(()=>Ut())}(()=>Ut.apply(this,oe));if(!et){if(be instanceof se.y){const He=Ye();return be.pipe((0,lt.R)(He.outsideAngular),(0,Ie.Q)(He.insideAngular))}return At(()=>be)}return be instanceof se.y?be.pipe(tn):be instanceof Promise?At(()=>new Promise((He,ye)=>be.then(ve=>At(()=>He(ve)),ve=>At(()=>ye(ve))))):"function"==typeof be&&we?function(){return setTimeout(()=>{we&&"scheduled"===we.state&&we.invoke()},10),be.apply(this,arguments)}:At(()=>be)}},95:(rn,Xe,k)=>{k.d(Xe,{Wl:()=>Vt,Fj:()=>Le,CE:()=>Ms,qu:()=>po,u:()=>vr,sg:()=>Yt,x0:()=>Qn,u5:()=>bo,JJ:()=>wn,JL:()=>gn,F:()=>mi,On:()=>cs,UX:()=>oa,Q7:()=>Wr,kI:()=>pe,_Y:()=>zs});var d=k(5879),y=k(6814),z=k(2459),Ce=k(5592),_e=k(7453),Se=k(4829),Be=k(4564),$e=k(8251),ze=k(7400),se=k(2714),Ie=k(7398);let lt=(()=>{class U{constructor(P,ee){this._renderer=P,this._elementRef=ee,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(P,ee){this._renderer.setProperty(this._elementRef.nativeElement,P,ee)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:U})}return U})(),Fe=(()=>{class U extends lt{static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=d.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=d.lG2({type:U,features:[d.qOj]})}return U})();const Ct=new d.OlP("NgValueAccessor"),pt={provide:Ct,useExisting:(0,d.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class U extends Fe{writeValue(P){this.setProperty("checked",P)}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=d.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=d.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ee,Pe){1&ee&&d.NdJ("change",function(Nn){return Pe.onChange(Nn.target.checked)})("blur",function(){return Pe.onTouched()})},features:[d._Bn([pt]),d.qOj]})}return U})();const Dt={provide:Ct,useExisting:(0,d.Gpc)(()=>Le),multi:!0},qe=new d.OlP("CompositionEventMode");let Le=(()=>{class U extends lt{constructor(P,ee,Pe){super(P,ee),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const U=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qe,8))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Pe){1&ee&&d.NdJ("input",function(Nn){return Pe._handleInput(Nn.target.value)})("blur",function(){return Pe.onTouched()})("compositionstart",function(){return Pe._compositionStart()})("compositionend",function(Nn){return Pe._compositionEnd(Nn.target.value)})},features:[d._Bn([Dt]),d.qOj]})}return U})();function Qe(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Ze(U){return null!=U&&"number"==typeof U.length}const Ye=new d.OlP("NgValidators"),_t=new d.OlP("NgAsyncValidators"),At=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pe{static min(G){return function Ht(U){return G=>{if(Qe(G.value)||Qe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P<U?{min:{min:U,actual:G.value}}:null}}(G)}static max(G){return function tn(U){return G=>{if(Qe(G.value)||Qe(U))return null;const P=parseFloat(G.value);return!isNaN(P)&&P>U?{max:{max:U,actual:G.value}}:null}}(G)}static required(G){return kn(G)}static requiredTrue(G){return function wt(U){return!0===U.value?null:{required:!0}}(G)}static email(G){return function kt(U){return Qe(U.value)||At.test(U.value)?null:{email:!0}}(G)}static minLength(G){return function Ut(U){return G=>Qe(G.value)||!Ze(G.value)?null:G.value.length<U?{minlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function et(U){return G=>Ze(G.value)&&G.value.length>U?{maxlength:{requiredLength:U,actualLength:G.value.length}}:null}(G)}static pattern(G){return function we(U){if(!U)return oe;let G,P;return"string"==typeof U?(P="","^"!==U.charAt(0)&&(P+="^"),P+=U,"$"!==U.charAt(U.length-1)&&(P+="$"),G=new RegExp(P)):(P=U.toString(),G=U),ee=>{if(Qe(ee.value))return null;const Pe=ee.value;return G.test(Pe)?null:{pattern:{requiredPattern:P,actualValue:Pe}}}}(G)}static nullValidator(G){return null}static compose(G){return vt(G)}static composeAsync(G){return qt(G)}}function kn(U){return Qe(U.value)?{required:!0}:null}function oe(U){return null}function be(U){return null!=U}function He(U){return(0,d.QGY)(U)?(0,z.D)(U):U}function ye(U){let G={};return U.forEach(P=>{G=null!=P?{...G,...P}:G}),0===Object.keys(G).length?null:G}function ve(U,G){return G.map(P=>P(U))}function yt(U){return U.map(G=>function Ne(U){return!U.validate}(G)?G:P=>G.validate(P))}function vt(U){if(!U)return null;const G=U.filter(be);return 0==G.length?null:function(P){return ye(ve(P,G))}}function sn(U){return null!=U?vt(yt(U)):null}function qt(U){if(!U)return null;const G=U.filter(be);return 0==G.length?null:function(P){return function re(...U){const G=(0,Be.jO)(U),{args:P,keys:ee}=(0,_e.D)(U),Pe=new Ce.y(hn=>{const{length:Nn}=P;if(!Nn)return void hn.complete();const Oi=new Array(Nn);let ns=Nn,Ni=Nn;for(let eo=0;eo<Nn;eo++){let hs=!1;(0,Se.Xf)(P[eo]).subscribe((0,$e.x)(hn,vs=>{hs||(hs=!0,Ni--),Oi[eo]=vs},()=>ns--,void 0,()=>{(!ns||!hs)&&(Ni||hn.next(ee?(0,se.n)(ee,Oi):Oi),hn.complete())}))}});return G?Pe.pipe((0,ze.Z)(G)):Pe}(ve(P,G).map(He)).pipe((0,Ie.U)(ye))}}function Pn(U){return null!=U?qt(yt(U)):null}function _n(U,G){return null===U?[G]:Array.isArray(U)?[...U,G]:[U,G]}function er(U){return U._rawValidators}function Rt(U){return U._rawAsyncValidators}function En(U){return U?Array.isArray(U)?U:[U]:[]}function On(U,G){return Array.isArray(U)?U.includes(G):U===G}function Lt(U,G){const P=En(G);return En(U).forEach(Pe=>{On(P,Pe)||P.push(Pe)}),P}function Ot(U,G){return En(G).filter(P=>!On(U,P))}class Ar{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=sn(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,P){return!!this.control&&this.control.hasError(G,P)}getError(G,P){return this.control?this.control.getError(G,P):null}}class en extends Ar{get formDirective(){return null}get path(){return null}}class ar extends Ar{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(ar,2))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Pe){2&ee&&d.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)},features:[d.qOj]})}return U})(),gn=(()=>{class U extends Fn{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(en,10))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Pe){2&ee&&d.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)("ng-submitted",Pe.isSubmitted)},features:[d.qOj]})}return U})();const Bt="VALID",Tn="INVALID",mr="PENDING",Yn="DISABLED";function Te(U){return(O(U)?U.validators:U)||null}function V(U,G){return(O(G)?G.asyncValidators:U)||null}function O(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function ue(U,G,P){const ee=U.controls;if(!(G?Object.keys(ee):ee).length)throw new d.vHH(1e3,"");if(!ee[P])throw new d.vHH(1001,"")}function Me(U,G,P){U._forEachChild((ee,Pe)=>{if(void 0===P[Pe])throw new d.vHH(1002,"")})}class gt{constructor(G,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===Tn}get pending(){return this.status==mr}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Lt(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Lt(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Ot(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Ot(G,this._rawAsyncValidators))}hasValidator(G){return On(this._rawValidators,G)}hasAsyncValidator(G){return On(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=mr,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(ee=>{ee.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(G={}){const P=this._parentMarkedDirty(G.onlySelf);this.status=Bt,this._forEachChild(ee=>{ee.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===mr)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=mr,this._hasOwnPendingAsyncValidator=!0;const P=He(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,P={}){this.errors=G,this._updateControlsErrors(!1!==P.emitEvent)}get(G){let P=G;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ee,Pe)=>ee&&ee._find(Pe),this)}getError(G,P){const ee=P?this.get(P):this;return ee&&ee.errors?ee.errors[G]:null}hasError(G,P){return!!this.getError(G,P)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mr)?mr:this._anyControlsHaveStatus(Tn)?Tn:Bt}_anyControlsHaveStatus(G){return this._anyControls(P=>P.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){O(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function J(U){return Array.isArray(U)?sn(U):U||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function N(U){return Array.isArray(U)?Pn(U):U||null}(this._rawAsyncValidators)}}class Pt extends gt{constructor(G,P,ee){super(Te(P),V(ee,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,P){return this.controls[G]?this.controls[G]:(this.controls[G]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(G,P,ee={}){this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(G,P={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(G,P,ee={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],P&&this.registerControl(G,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,P={}){Me(this,0,G),Object.keys(G).forEach(ee=>{ue(this,!0,ee),this.controls[ee].setValue(G[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(Object.keys(G).forEach(ee=>{const Pe=this.controls[ee];Pe&&Pe.patchValue(G[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G={},P={}){this._forEachChild((ee,Pe)=>{ee.reset(G?G[Pe]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(G,P,ee)=>(G[ee]=P.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(P,ee)=>!!ee._syncPendingControls()||P);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(P=>{const ee=this.controls[P];ee&&G(ee,P)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[P,ee]of Object.entries(this.controls))if(this.contains(P)&&G(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ee,Pe)=>((ee.enabled||this.disabled)&&(P[Pe]=ee.value),P))}_reduceChildren(G,P){let ee=G;return this._forEachChild((Pe,hn)=>{ee=P(ee,Pe,hn)}),ee}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Qt extends Pt{}const vn=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ir}),ir="always";function Fi(U,G){return[...G.path,U]}function Si(U,G,P=ir){kr(U,G),G.valueAccessor.writeValue(U.value),(U.disabled||"always"===P)&&G.valueAccessor.setDisabledState?.(U.disabled),function st(U,G){G.valueAccessor.registerOnChange(P=>{U._pendingValue=P,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Et(U,G)})}(U,G),function Xt(U,G){const P=(ee,Pe)=>{G.valueAccessor.writeValue(ee),Pe&&G.viewToModelUpdate(ee)};U.registerOnChange(P),G._registerOnDestroy(()=>{U._unregisterOnChange(P)})}(U,G),function Ge(U,G){G.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Et(U,G),"submit"!==U.updateOn&&U.markAsTouched()})}(U,G),function $i(U,G){if(G.valueAccessor.setDisabledState){const P=ee=>{G.valueAccessor.setDisabledState(ee)};U.registerOnDisabledChange(P),G._registerOnDestroy(()=>{U._unregisterOnDisabledChange(P)})}}(U,G)}function ii(U,G,P=!0){const ee=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(ee),G.valueAccessor.registerOnTouched(ee)),Gn(U,G),U&&(G._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Xi(U,G){U.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(G)})}function kr(U,G){const P=er(U);null!==G.validator?U.setValidators(_n(P,G.validator)):"function"==typeof P&&U.setValidators([P]);const ee=Rt(U);null!==G.asyncValidator?U.setAsyncValidators(_n(ee,G.asyncValidator)):"function"==typeof ee&&U.setAsyncValidators([ee]);const Pe=()=>U.updateValueAndValidity();Xi(G._rawValidators,Pe),Xi(G._rawAsyncValidators,Pe)}function Gn(U,G){let P=!1;if(null!==U){if(null!==G.validator){const Pe=er(U);if(Array.isArray(Pe)&&Pe.length>0){const hn=Pe.filter(Nn=>Nn!==G.validator);hn.length!==Pe.length&&(P=!0,U.setValidators(hn))}}if(null!==G.asyncValidator){const Pe=Rt(U);if(Array.isArray(Pe)&&Pe.length>0){const hn=Pe.filter(Nn=>Nn!==G.asyncValidator);hn.length!==Pe.length&&(P=!0,U.setAsyncValidators(hn))}}}const ee=()=>{};return Xi(G._rawValidators,ee),Xi(G._rawAsyncValidators,ee),P}function Et(U,G){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Dn(U,G){kr(U,G)}function lr(U,G){if(!U.hasOwnProperty("model"))return!1;const P=U.model;return!!P.isFirstChange()||!Object.is(G,P.currentValue)}function si(U,G){U._syncPendingControls(),G.forEach(P=>{const ee=P.control;"submit"===ee.updateOn&&ee._pendingChange&&(P.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function Fs(U,G){if(!G)return null;let P,ee,Pe;return Array.isArray(G),G.forEach(hn=>{hn.constructor===Le?P=hn:function ks(U){return Object.getPrototypeOf(U.constructor)===Fe}(hn)?ee=hn:Pe=hn}),Pe||ee||P||null}const es={provide:en,useExisting:(0,d.Gpc)(()=>mi)},Jr=(()=>Promise.resolve())();let mi=(()=>{class U extends en{constructor(P,ee,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Pt({},sn(P),Pn(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Jr.then(()=>{const ee=this._findContainer(P.path);P.control=ee.registerControl(P.name,P.control),Si(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Jr.then(()=>{const ee=this._findContainer(P.path);ee&&ee.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Jr.then(()=>{const ee=this._findContainer(P.path),Pe=new Pt({});Dn(Pe,P),ee.registerControl(P.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Jr.then(()=>{const ee=this._findContainer(P.path);ee&&ee.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,ee){Jr.then(()=>{this.form.get(P.path).setValue(ee)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,si(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(Ye,10),d.Y36(_t,10),d.Y36(vn,8))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Pe){1&ee&&d.NdJ("submit",function(Nn){return Pe.onSubmit(Nn)})("reset",function(){return Pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([es]),d.qOj]})}return U})();function nr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}function As(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const _r=class extends gt{constructor(G=null,P,ee){super(Te(P),V(ee,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=As(G)?G.value:G)}setValue(G,P={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(G,P={}){this.setValue(G,P)}reset(G=this.defaultValue,P={}){this._applyFormState(G),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){nr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){nr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){As(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Pi=(()=>{class U extends en{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=d.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=d.lG2({type:U,features:[d.qOj]})}return U})();const Zn={provide:ar,useExisting:(0,d.Gpc)(()=>cs)},hi=(()=>Promise.resolve())();let cs=(()=>{class U extends ar{constructor(P,ee,Pe,hn,Nn,Oi){super(),this._changeDetectorRef=Nn,this.callSetDisabledState=Oi,this.control=new _r,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Pe),this.valueAccessor=Fs(0,hn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ee=P.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),lr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Si(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){hi.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ee=P.isDisabled.currentValue,Pe=0!==ee&&(0,d.VuI)(ee);hi.then(()=>{Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Fi(P,this._parent):[P]}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(en,9),d.Y36(Ye,10),d.Y36(_t,10),d.Y36(Ct,10),d.Y36(d.sBO,8),d.Y36(vn,8))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Zn]),d.qOj,d.TTD]})}return U})(),zs=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return U})(),Zr=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=d.oAB({type:U});static#n=this.\u0275inj=d.cJS({})}return U})();const Rs=new d.OlP("NgModelWithFormControlWarning"),Nr={provide:en,useExisting:(0,d.Gpc)(()=>Yt)};let Yt=(()=>{class U extends en{constructor(P,ee,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(P),this._setAsyncValidators(ee)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const ee=this.form.get(P.path);return Si(ee,P,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),ee}getControl(P){return this.form.get(P.path)}removeControl(P){ii(P.control||null,P,!1),function zr(U,G){const P=U.indexOf(G);P>-1&&U.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,ee){this.form.get(P.path).setValue(ee)}onSubmit(P){return this.submitted=!0,si(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const ee=P.control,Pe=this.form.get(P.path);ee!==Pe&&(ii(ee||null,P),(U=>U instanceof _r)(Pe)&&(Si(Pe,P,this.callSetDisabledState),P.control=Pe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const ee=this.form.get(P.path);Dn(ee,P),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const ee=this.form.get(P.path);ee&&function pn(U,G){return Gn(U,G)}(ee,P)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kr(this.form,this),this._oldForm&&Gn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(Ye,10),d.Y36(_t,10),d.Y36(vn,8))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(ee,Pe){1&ee&&d.NdJ("submit",function(Nn){return Pe.onSubmit(Nn)})("reset",function(){return Pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Nr]),d.qOj,d.TTD]})}return U})();const Vn={provide:en,useExisting:(0,d.Gpc)(()=>Qn)};let Qn=(()=>{class U extends Pi{constructor(P,ee,Pe){super(),this.name=null,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Pe)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(en,13),d.Y36(Ye,10),d.Y36(_t,10))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([Vn]),d.qOj]})}return U})();const vi={provide:en,useExisting:(0,d.Gpc)(()=>Ms)};let Ms=(()=>{class U extends en{constructor(P,ee,Pe){super(),this.name=null,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Pe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Gr(this._parent)}static#e=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(en,13),d.Y36(Ye,10),d.Y36(_t,10))};static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([vi]),d.qOj]})}return U})();function Gr(U){return!(U instanceof Qn||U instanceof Yt||U instanceof Ms)}const Wi={provide:ar,useExisting:(0,d.Gpc)(()=>vr)};let vr=(()=>{class U extends ar{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,ee,Pe,hn,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Pe),this.valueAccessor=Fs(0,hn)}ngOnChanges(P){this._added||this._setUpControl(),lr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ee){return new(ee||U)(d.Y36(en,13),d.Y36(Ye,10),d.Y36(_t,10),d.Y36(Ct,10),d.Y36(Rs,8))};static#n=this.\u0275dir=d.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Wi]),d.qOj,d.TTD]})}return U})(),St=(()=>{class U{constructor(){this._validator=oe}ngOnChanges(P){if(this.inputName in P){const ee=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):oe,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275dir=d.lG2({type:U,features:[d.TTD]})}return U})();const $r={provide:Ye,useExisting:(0,d.Gpc)(()=>Wr),multi:!0};let Wr=(()=>{class U extends St{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=P=>kn}enabled(P){return P}static#e=this.\u0275fac=function(){let P;return function(Pe){return(P||(P=d.n5z(U)))(Pe||U)}}();static#t=this.\u0275dir=d.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Pe){2&ee&&d.uIk("required",Pe._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([$r]),d.qOj]})}return U})(),ds=(()=>{class U{static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=d.oAB({type:U});static#n=this.\u0275inj=d.cJS({imports:[Zr]})}return U})();class Ws extends gt{constructor(G,P,ee){super(Te(P),V(ee,P)),this.controls=G,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,P={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(G,P,ee={}){this.controls.splice(G,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(G,P={}){let ee=this._adjustIndex(G);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(G,P,ee={}){let Pe=this._adjustIndex(G);Pe<0&&(Pe=0),this.controls[Pe]&&this.controls[Pe]._registerOnCollectionChange(()=>{}),this.controls.splice(Pe,1),P&&(this.controls.splice(Pe,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,P={}){Me(this,0,G),G.forEach((ee,Pe)=>{ue(this,!1,Pe),this.at(Pe).setValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(G,P={}){null!=G&&(G.forEach((ee,Pe)=>{this.at(Pe)&&this.at(Pe).patchValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(G=[],P={}){this._forEachChild((ee,Pe)=>{ee.reset(G[Pe],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((P,ee)=>!!ee._syncPendingControls()||P,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((P,ee)=>{G(P,ee)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(P=>P.enabled&&G(P))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function Ei(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let po=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new U;return P.useNonNullable=!0,P}group(P,ee=null){const Pe=this._reduceControls(P);let hn={};return Ei(ee)?hn=ee:null!==ee&&(hn.validators=ee.validator,hn.asyncValidators=ee.asyncValidator),new Pt(Pe,hn)}record(P,ee=null){const Pe=this._reduceControls(P);return new Qt(Pe,ee)}control(P,ee,Pe){let hn={};return this.useNonNullable?(Ei(ee)?hn=ee:(hn.validators=ee,hn.asyncValidators=Pe),new _r(P,{...hn,nonNullable:!0})):new _r(P,ee,Pe)}array(P,ee,Pe){const hn=P.map(Nn=>this._createControl(Nn));return new Ws(hn,ee,Pe)}_reduceControls(P){const ee={};return Object.keys(P).forEach(Pe=>{ee[Pe]=this._createControl(P[Pe])}),ee}_createControl(P){return P instanceof _r||P instanceof gt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275prov=d.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),bo=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:vn,useValue:P.callSetDisabledState??ir}]}}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=d.oAB({type:U});static#n=this.\u0275inj=d.cJS({imports:[ds]})}return U})(),oa=(()=>{class U{static withConfig(P){return{ngModule:U,providers:[{provide:Rs,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:vn,useValue:P.callSetDisabledState??ir}]}}static#e=this.\u0275fac=function(ee){return new(ee||U)};static#t=this.\u0275mod=d.oAB({type:U});static#n=this.\u0275inj=d.cJS({imports:[ds]})}return U})()},6593:(rn,Xe,k)=>{k.d(Xe,{Dx:()=>ar,b2:()=>On,q6:()=>_n});var d=k(5879),y=k(6814);class z extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends z{static makeCurrent(){(0,y.HT)(new Ce)}onAndCancel(V,N,O){return V.addEventListener(N,O),()=>{V.removeEventListener(N,O)}}dispatchEvent(V,N){V.dispatchEvent(N)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,N){return(N=N||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,N){return"window"===N?window:"document"===N?V:"body"===N?V.body:null}getBaseHref(V){const N=function Se(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==N?null:function $e(J){Be=Be||document.createElement("a"),Be.setAttribute("href",J);const V=Be.pathname;return"/"===V.charAt(0)?V:`/${V}`}(N)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,y.Mx)(document.cookie,V)}}let Be,_e=null,se=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(O){return new(O||J)};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();const re=new d.OlP("EventManagerPlugins");let Ie=(()=>{class J{constructor(N,O){this._zone=O,this._eventNameToPlugin=new Map,N.forEach(ue=>{ue.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,O,ue){return this._findPluginFor(O).addEventListener(N,O,ue)}getZone(){return this._zone}_findPluginFor(N){let O=this._eventNameToPlugin.get(N);if(O)return O;if(O=this._plugins.find(Me=>Me.supports(N)),!O)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(N,O),O}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(re),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();class lt{constructor(V){this._doc=V}}const Fe="ng-app-id";let Ct=(()=>{class J{constructor(N,O,ue,Me={}){this.doc=N,this.appId=O,this.nonce=ue,this.platformId=Me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(Me),this.resetHostNodes()}addStyles(N){for(const O of N)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(N){for(const O of N)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const N=this.styleNodesInDOM;N&&(N.forEach(O=>O.remove()),N.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const O of this.getAllStyles())this.addStyleToHost(N,O)}removeHost(N){this.hostNodes.delete(N)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(N){for(const O of this.hostNodes)this.addStyleToHost(O,N)}onStyleRemoved(N){const O=this.styleRef;O.get(N)?.elements?.forEach(ue=>ue.remove()),O.delete(N)}collectServerRenderedStyles(){const N=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(N?.length){const O=new Map;return N.forEach(ue=>{null!=ue.textContent&&O.set(ue.textContent,ue)}),O}return null}changeUsageCount(N,O){const ue=this.styleRef;if(ue.has(N)){const Me=ue.get(N);return Me.usage+=O,Me.usage}return ue.set(N,{usage:O,elements:[]}),O}getStyleElement(N,O){const ue=this.styleNodesInDOM,Me=ue?.get(O);if(Me?.parentNode===N)return ue.delete(O),Me.removeAttribute(Fe),Me;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=O,this.platformIsServer&&gt.setAttribute(Fe,this.appId),gt}}addStyleToHost(N,O){const ue=this.getStyleElement(N,O);N.appendChild(ue);const Me=this.styleRef,gt=Me.get(O)?.elements;gt?gt.push(ue):Me.set(O,{elements:[ue],usage:1})}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(y.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,Qe=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _t(J,V){return V.map(N=>N.replace(Vt,J))}let At=(()=>{class J{constructor(N,O,ue,Me,gt,Pt,nn,Zt=null){this.eventManager=N,this.sharedStylesHost=O,this.appId=ue,this.removeStylesOnCompDestroy=Me,this.doc=gt,this.platformId=Pt,this.ngZone=nn,this.nonce=Zt,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(Pt),this.defaultRenderer=new pe(N,gt,nn,this.platformIsServer)}createRenderer(N,O){if(!N||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===d.ifc.ShadowDom&&(O={...O,encapsulation:d.ifc.Emulated});const ue=this.getOrCreateRenderer(N,O);return ue instanceof Ut?ue.applyToHost(N):ue instanceof kt&&ue.applyStyles(),ue}getOrCreateRenderer(N,O){const ue=this.rendererByCompId;let Me=ue.get(O.id);if(!Me){const gt=this.doc,Pt=this.ngZone,nn=this.eventManager,Zt=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,zn=this.platformIsServer;switch(O.encapsulation){case d.ifc.Emulated:Me=new Ut(nn,Zt,O,this.appId,Qt,gt,Pt,zn);break;case d.ifc.ShadowDom:return new wt(nn,Zt,N,O,gt,Pt,this.nonce,zn);default:Me=new kt(nn,Zt,O,Qt,gt,Pt,zn)}ue.set(O.id,Me)}return Me}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(Ie),d.LFG(Ct),d.LFG(d.AFp),d.LFG(Qe),d.LFG(y.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();class pe{constructor(V,N,O,ue){this.eventManager=V,this.doc=N,this.ngZone=O,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,N){return N?this.doc.createElementNS(pt[N]||N,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,N){(kn(V)?V.content:V).appendChild(N)}insertBefore(V,N,O){V&&(kn(V)?V.content:V).insertBefore(N,O)}removeChild(V,N){V&&V.removeChild(N)}selectRootElement(V,N){let O="string"==typeof V?this.doc.querySelector(V):V;if(!O)throw new d.vHH(-5104,!1);return N||(O.textContent=""),O}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,N,O,ue){if(ue){N=ue+":"+N;const Me=pt[ue];Me?V.setAttributeNS(Me,N,O):V.setAttribute(N,O)}else V.setAttribute(N,O)}removeAttribute(V,N,O){if(O){const ue=pt[O];ue?V.removeAttributeNS(ue,N):V.removeAttribute(`${O}:${N}`)}else V.removeAttribute(N)}addClass(V,N){V.classList.add(N)}removeClass(V,N){V.classList.remove(N)}setStyle(V,N,O,ue){ue&(d.JOm.DashCase|d.JOm.Important)?V.style.setProperty(N,O,ue&d.JOm.Important?"important":""):V.style[N]=O}removeStyle(V,N,O){O&d.JOm.DashCase?V.style.removeProperty(N):V.style[N]=""}setProperty(V,N,O){V[N]=O}setValue(V,N){V.nodeValue=N}listen(V,N,O){if("string"==typeof V&&!(V=(0,y.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${N}`);return this.eventManager.addEventListener(V,N,this.decoratePreventDefault(O))}decoratePreventDefault(V){return N=>{if("__ngUnwrap__"===N)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(N)):V(N))&&N.preventDefault()}}}function kn(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class wt extends pe{constructor(V,N,O,ue,Me,gt,Pt,nn){super(V,Me,gt,nn),this.sharedStylesHost=N,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=_t(ue.id,ue.styles);for(const Qt of Zt){const zn=document.createElement("style");Pt&&zn.setAttribute("nonce",Pt),zn.textContent=Qt,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,N){return super.appendChild(this.nodeOrShadowRoot(V),N)}insertBefore(V,N,O){return super.insertBefore(this.nodeOrShadowRoot(V),N,O)}removeChild(V,N){return super.removeChild(this.nodeOrShadowRoot(V),N)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends pe{constructor(V,N,O,ue,Me,gt,Pt,nn){super(V,Me,gt,Pt),this.sharedStylesHost=N,this.removeStylesOnCompDestroy=ue,this.styles=nn?_t(nn,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ut extends kt{constructor(V,N,O,ue,Me,gt,Pt,nn){const Zt=ue+"-"+O.id;super(V,N,O,Me,gt,Pt,nn,Zt),this.contentAttr=function Ze(J){return"_ngcontent-%COMP%".replace(Vt,J)}(Zt),this.hostAttr=function Ye(J){return"_nghost-%COMP%".replace(Vt,J)}(Zt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,N){const O=super.createElement(V,N);return super.setAttribute(O,this.contentAttr,""),O}}let et=(()=>{class J extends lt{constructor(N){super(N)}supports(N){return!0}addEventListener(N,O,ue){return N.addEventListener(O,ue,!1),()=>this.removeEventListener(N,O,ue)}removeEventListener(N,O,ue){return N.removeEventListener(O,ue)}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(y.K0))};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();const we=["alt","control","meta","shift"],oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let He=(()=>{class J extends lt{constructor(N){super(N)}supports(N){return null!=J.parseEventName(N)}addEventListener(N,O,ue){const Me=J.parseEventName(O),gt=J.eventCallback(Me.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(N,Me.domEventName,gt))}static parseEventName(N){const O=N.toLowerCase().split("."),ue=O.shift();if(0===O.length||"keydown"!==ue&&"keyup"!==ue)return null;const Me=J._normalizeKey(O.pop());let gt="",Pt=O.indexOf("code");if(Pt>-1&&(O.splice(Pt,1),gt="code."),we.forEach(Zt=>{const Qt=O.indexOf(Zt);Qt>-1&&(O.splice(Qt,1),gt+=Zt+".")}),gt+=Me,0!=O.length||0===Me.length)return null;const nn={};return nn.domEventName=ue,nn.fullKey=gt,nn}static matchEventFullKeyCode(N,O){let ue=oe[N.key]||N.key,Me="";return O.indexOf("code.")>-1&&(ue=N.code,Me="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),we.forEach(gt=>{gt!==ue&&(0,be[gt])(N)&&(Me+=gt+".")}),Me+=ue,Me===O)}static eventCallback(N,O,ue){return Me=>{J.matchEventFullKeyCode(Me,N)&&ue.runGuarded(()=>O(Me))}}static _normalizeKey(N){return"esc"===N?"escape":N}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(y.K0))};static#t=this.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac})}return J})();const _n=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:y.bD},{provide:d.g9A,useValue:function vt(){Ce.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function qt(){return(0,d.RDi)(document),document},deps:[]}]),er=new d.OlP(""),Rt=[{provide:d.rWj,useClass:class ze{addToWindow(V){d.dqk.getAngularTestability=(O,ue=!0)=>{const Me=V.findTestabilityInTree(O,ue);if(null==Me)throw new d.vHH(5103,!1);return Me},d.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(O=>{const ue=d.dqk.getAllAngularTestabilities();let Me=ue.length,gt=!1;const Pt=function(nn){gt=gt||nn,Me--,0==Me&&O(gt)};ue.forEach(nn=>{nn.whenStable(Pt)})})}findTestabilityInTree(V,N,O){return null==N?null:V.getTestability(N)??(O?(0,y.q)().isShadowRoot(N)?this.findTestabilityInTree(V,N.host,!0):this.findTestabilityInTree(V,N.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],En=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function sn(){return new d.qLn},deps:[]},{provide:re,useClass:et,multi:!0,deps:[y.K0,d.R0b,d.Lbi]},{provide:re,useClass:He,multi:!0,deps:[y.K0]},At,Ct,Ie,{provide:d.FYo,useExisting:At},{provide:y.JF,useClass:se,deps:[]},[]];let On=(()=>{class J{constructor(N){}static withServerTransition(N){return{ngModule:J,providers:[{provide:d.AFp,useValue:N.appId}]}}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(er,12))};static#t=this.\u0275mod=d.oAB({type:J});static#n=this.\u0275inj=d.cJS({providers:[...En,...Rt],imports:[y.ez,d.hGG]})}return J})(),ar=(()=>{class J{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}static#e=this.\u0275fac=function(O){return new(O||J)(d.LFG(y.K0))};static#t=this.\u0275prov=d.Yz7({token:J,factory:function(O){let ue=null;return ue=O?new O:function en(){return new ar((0,d.LFG)(y.K0))}(),ue},providedIn:"root"})}return J})();typeof window<"u"&&window},518:(rn,Xe,k)=>{k.d(Xe,{gz:()=>Qn,F0:()=>ni,rH:()=>ou,Bz:()=>zu,lC:()=>ts});var d=k(5879),y=k(5592),z=k(4674),_e=k(2459),Se=k(2096),Be=k(5619),$e=k(7453),ze=k(2737),se=k(7400),re=k(4564),Ie=k(2714),lt=k(8251),Fe=k(7103);function Ct(...w){const A=(0,re.yG)(w),E=(0,re.jO)(w),{args:S,keys:F}=(0,$e.D)(w);if(0===S.length)return(0,_e.D)([],A);const Y=new y.y(function pt(w,A,E=ze.y){return S=>{Vt(A,()=>{const{length:F}=w,Y=new Array(F);let fe=F,ot=F;for(let it=0;it<F;it++)Vt(A,()=>{const ln=(0,_e.D)(w[it],A);let Xn=!1;ln.subscribe((0,lt.x)(S,ur=>{Y[it]=ur,Xn||(Xn=!0,ot--),ot||S.next(E(Y.slice()))},()=>{--fe||S.complete()}))},S)},S)}}(S,A,F?fe=>(0,Ie.n)(F,fe):ze.y));return E?Y.pipe((0,se.Z)(E)):Y}function Vt(w,A,E){w?(0,Fe.f)(E,w,A):A()}var Dt=k(6973),an=k(5211),qe=k(4829);function Le(w){return new y.y(A=>{(0,qe.Xf)(w()).subscribe(A)})}var Qe=k(8407);function Ze(w,A){const E=(0,z.m)(w)?w:()=>w,S=F=>F.error(E());return new y.y(A?F=>A.schedule(S,0,F):S)}var Ye=k(6232),_t=k(7394),At=k(9360);function pe(){return(0,At.e)((w,A)=>{let E=null;w._refCount++;const S=(0,lt.x)(A,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(E=null);const F=w._connection,Y=E;E=null,F&&(!Y||F===Y)&&F.unsubscribe(),A.unsubscribe()});w.subscribe(S),S.closed||(E=w.connect())})}class Ht extends y.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new _t.w0;const E=this.getSubject();A.add(this.source.subscribe((0,lt.x)(E,void 0,()=>{this._teardown(),E.complete()},S=>{this._teardown(),E.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=_t.w0.EMPTY)}return A}refCount(){return pe()(this)}}var tn=k(8645),kn=k(6814),wt=k(7398),kt=k(4664),Ut=k(8180),et=k(7921),we=k(2181),oe=k(1631),be=k(1374),He=k(6328),ye=k(9397),ve=k(6306),Ne=k(6699),yt=k(3572);function vt(w){return w<=0?()=>Ye.E:(0,At.e)((A,E)=>{let S=[];A.subscribe((0,lt.x)(E,F=>{S.push(F),w<S.length&&S.shift()},()=>{for(const F of S)E.next(F);E.complete()},void 0,()=>{S=null}))})}var sn=k(3026),_n=k(4716),er=k(2420),En=k(7537),On=k(6593);const Lt="primary",Ot=Symbol("RouteTitle");class Ar{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function en(w){return new Ar(w)}function ar(w,A,E){const S=E.path.split("/");if(S.length>w.length||"full"===E.pathMatch&&(A.hasChildren()||S.length<w.length))return null;const F={};for(let Y=0;Y<S.length;Y++){const fe=S[Y],ot=w[Y];if(fe.startsWith(":"))F[fe.substring(1)]=ot;else if(fe!==ot.path)return null}return{consumed:w.slice(0,S.length),posParams:F}}function Mt(w,A){const E=w?Object.keys(w):void 0,S=A?Object.keys(A):void 0;if(!E||!S||E.length!=S.length)return!1;let F;for(let Y=0;Y<E.length;Y++)if(F=E[Y],!cn(w[F],A[F]))return!1;return!0}function cn(w,A){if(Array.isArray(w)&&Array.isArray(A)){if(w.length!==A.length)return!1;const E=[...w].sort(),S=[...A].sort();return E.every((F,Y)=>S[Y]===F)}return w===A}function wn(w){return w.length>0?w[w.length-1]:null}function gn(w){return function Ce(w){return!!w&&(w instanceof y.y||(0,z.m)(w.lift)&&(0,z.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,_e.D)(Promise.resolve(w)):(0,Se.of)(w)}const rr={exact:function xr(w,A,E){if(!ft(w.segments,A.segments)||!$n(w.segments,A.segments,E)||w.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!w.children[S]||!xr(w.children[S],A.children[S],E))return!1;return!0},subset:Jt},cr={exact:function Mn(w,A){return Mt(w,A)},subset:function Di(w,A){return Object.keys(A).length<=Object.keys(w).length&&Object.keys(A).every(E=>cn(w[E],A[E]))},ignored:()=>!0};function Mr(w,A,E){return rr[E.paths](w.root,A.root,E.matrixParams)&&cr[E.queryParams](w.queryParams,A.queryParams)&&!("exact"===E.fragment&&w.fragment!==A.fragment)}function Jt(w,A,E){return Or(w,A,A.segments,E)}function Or(w,A,E,S){if(w.segments.length>E.length){const F=w.segments.slice(0,E.length);return!(!ft(F,E)||A.hasChildren()||!$n(F,E,S))}if(w.segments.length===E.length){if(!ft(w.segments,E)||!$n(w.segments,E,S))return!1;for(const F in A.children)if(!w.children[F]||!Jt(w.children[F],A.children[F],S))return!1;return!0}{const F=E.slice(0,w.segments.length),Y=E.slice(w.segments.length);return!!(ft(w.segments,F)&&$n(w.segments,F,S)&&w.children[Lt])&&Or(w.children[Lt],A,Y,S)}}function $n(w,A,E){return A.every((S,F)=>cr[E](w[F].parameters,S.parameters))}class tr{constructor(A=new An([],{}),E={},S=null){this.root=A,this.queryParams=E,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class An{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Object.values(E).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class li{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return ue(this)}}function ft(w,A){return w.length===A.length&&w.every((E,S)=>E.path===A[S].path)}let me=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:function(){return new dt},providedIn:"root"})}return w})();class dt{parse(A){const E=new Si(A);return new tr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${mr(A.root,!0)}`,S=function gt(w){const A=Object.keys(w).map(E=>{const S=w[E];return Array.isArray(S)?S.map(F=>`${Te(E)}=${Te(F)}`).join("&"):`${Te(E)}=${Te(S)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${S}${"string"==typeof A.fragment?`#${function J(w){return encodeURI(w)}(A.fragment)}`:""}`}}const Bt=new dt;function Tn(w){return w.segments.map(A=>ue(A)).join("/")}function mr(w,A){if(!w.hasChildren())return Tn(w);if(A){const E=w.children[Lt]?mr(w.children[Lt],!1):"",S=[];return Object.entries(w.children).forEach(([F,Y])=>{F!==Lt&&S.push(`${F}:${mr(Y,!1)}`)}),S.length>0?`${E}(${S.join("//")})`:E}{const E=function Q(w,A){let E=[];return Object.entries(w.children).forEach(([S,F])=>{S===Lt&&(E=E.concat(A(F,S)))}),Object.entries(w.children).forEach(([S,F])=>{S!==Lt&&(E=E.concat(A(F,S)))}),E}(w,(S,F)=>F===Lt?[mr(w.children[Lt],!1)]:[`${F}:${mr(S,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Lt]?`${Tn(w)}/${E[0]}`:`${Tn(w)}/(${E.join("//")})`}}function Yn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Te(w){return Yn(w).replace(/%3B/gi,";")}function V(w){return Yn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(w){return decodeURIComponent(w)}function O(w){return N(w.replace(/\+/g,"%20"))}function ue(w){return`${V(w.path)}${function Me(w){return Object.keys(w).map(A=>`;${V(A)}=${V(w[A])}`).join("")}(w.parameters)}`}const Pt=/^[^\/()?;#]+/;function nn(w){const A=w.match(Pt);return A?A[0]:""}const Zt=/^[^\/()?;=#]+/,zn=/^[^=?&#]+/,ir=/^[^&#]+/;class Si{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(S[Lt]=new An(A,E)),S}parseSegment(){const A=nn(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(A),new li(N(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=function Qt(w){const A=w.match(Zt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const F=nn(this.remaining);F&&(S=F,this.capture(S))}A[N(E)]=N(S)}parseQueryParam(A){const E=function vn(w){const A=w.match(zn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let S="";if(this.consumeOptional("=")){const fe=function Fi(w){const A=w.match(ir);return A?A[0]:""}(this.remaining);fe&&(S=fe,this.capture(S))}const F=O(E),Y=O(S);if(A.hasOwnProperty(F)){let fe=A[F];Array.isArray(fe)||(fe=[fe],A[F]=fe),fe.push(Y)}else A[F]=Y}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=nn(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new d.vHH(4010,!1);let Y;S.indexOf(":")>-1?(Y=S.slice(0,S.indexOf(":")),this.capture(Y),this.capture(":")):A&&(Y=Lt);const fe=this.parseChildren();E[Y]=1===Object.keys(fe).length?fe[Lt]:new An([],fe),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new d.vHH(4011,!1)}}function ii(w){return w.segments.length>0?new An([],{[Lt]:w}):w}function Xi(w){const A={};for(const S of Object.keys(w.children)){const Y=Xi(w.children[S]);if(S===Lt&&0===Y.segments.length&&Y.hasChildren())for(const[fe,ot]of Object.entries(Y.children))A[fe]=ot;else(Y.segments.length>0||Y.hasChildren())&&(A[S]=Y)}return function $i(w){if(1===w.numberOfChildren&&w.children[Lt]){const A=w.children[Lt];return new An(w.segments.concat(A.segments),A.children)}return w}(new An(w.segments,A))}function kr(w){return w instanceof tr}function st(w){let A;const F=ii(function E(Y){const fe={};for(const it of Y.children){const ln=E(it);fe[it.outlet]=ln}const ot=new An(Y.url,fe);return Y===w&&(A=ot),ot}(w.root));return A??F}function Ge(w,A,E,S){let F=w;for(;F.parent;)F=F.parent;if(0===A.length)return Dn(F,F,F,E,S);const Y=function Ir(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new bn(!0,0,w);let A=0,E=!1;const S=w.reduce((F,Y,fe)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const ot={};return Object.entries(Y.outlets).forEach(([it,ln])=>{ot[it]="string"==typeof ln?ln.split("/"):ln}),[...F,{outlets:ot}]}if(Y.segmentPath)return[...F,Y.segmentPath]}return"string"!=typeof Y?[...F,Y]:0===fe?(Y.split("/").forEach((ot,it)=>{0==it&&"."===ot||(0==it&&""===ot?E=!0:".."===ot?A++:""!=ot&&F.push(ot))}),F):[...F,Y]},[]);return new bn(E,A,S)}(A);if(Y.toRoot())return Dn(F,F,new An([],{}),E,S);const fe=function ui(w,A,E){if(w.isAbsolute)return new pr(A,!0,0);if(!E)return new pr(A,!1,NaN);if(null===E.parent)return new pr(E,!0,0);const S=Et(w.commands[0])?0:1;return function us(w,A,E){let S=w,F=A,Y=E;for(;Y>F;){if(Y-=F,S=S.parent,!S)throw new d.vHH(4005,!1);F=S.segments.length}return new pr(S,!1,F-Y)}(E,E.segments.length-1+S,w.numberOfDoubleDots)}(Y,F,w),ot=fe.processChildren?si(fe.segmentGroup,fe.index,Y.commands):ks(fe.segmentGroup,fe.index,Y.commands);return Dn(F,fe.segmentGroup,ot,E,S)}function Et(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Xt(w){return"object"==typeof w&&null!=w&&w.outlets}function Dn(w,A,E,S,F){let fe,Y={};S&&Object.entries(S).forEach(([it,ln])=>{Y[it]=Array.isArray(ln)?ln.map(Xn=>`${Xn}`):`${ln}`}),fe=w===A?E:pn(w,A,E);const ot=ii(Xi(fe));return new tr(ot,Y,F)}function pn(w,A,E){const S={};return Object.entries(w.children).forEach(([F,Y])=>{S[F]=Y===A?E:pn(Y,A,E)}),new An(w.segments,S)}class bn{constructor(A,E,S){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=S,A&&S.length>0&&Et(S[0]))throw new d.vHH(4003,!1);const F=S.find(Xt);if(F&&F!==wn(S))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pr{constructor(A,E,S){this.segmentGroup=A,this.processChildren=E,this.index=S}}function ks(w,A,E){if(w||(w=new An([],{})),0===w.segments.length&&w.hasChildren())return si(w,A,E);const S=function Fs(w,A,E){let S=0,F=A;const Y={match:!1,pathIndex:0,commandIndex:0};for(;F<w.segments.length;){if(S>=E.length)return Y;const fe=w.segments[F],ot=E[S];if(Xt(ot))break;const it=`${ot}`,ln=S<E.length-1?E[S+1]:null;if(F>0&&void 0===it)break;if(it&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!Jr(it,ln,fe))return Y;S+=2}else{if(!Jr(it,{},fe))return Y;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(w,A,E),F=E.slice(S.commandIndex);if(S.match&&S.pathIndex<w.segments.length){const Y=new An(w.segments.slice(0,S.pathIndex),{});return Y.children[Lt]=new An(w.segments.slice(S.pathIndex),w.children),si(Y,0,F)}return S.match&&0===F.length?new An(w.segments,{}):S.match&&!w.hasChildren()?zr(w,A,E):S.match?si(w,0,F):zr(w,A,E)}function si(w,A,E){if(0===E.length)return new An(w.segments,{});{const S=function lr(w){return Xt(w[0])?w[0].outlets:{[Lt]:w}}(E),F={};if(Object.keys(S).some(Y=>Y!==Lt)&&w.children[Lt]&&1===w.numberOfChildren&&0===w.children[Lt].segments.length){const Y=si(w.children[Lt],A,E);return new An(w.segments,Y.children)}return Object.entries(S).forEach(([Y,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(F[Y]=ks(w.children[Y],A,fe))}),Object.entries(w.children).forEach(([Y,fe])=>{void 0===S[Y]&&(F[Y]=fe)}),new An(w.segments,F)}}function zr(w,A,E){const S=w.segments.slice(0,A);let F=0;for(;F<E.length;){const Y=E[F];if(Xt(Y)){const it=wo(Y.outlets);return new An(S,it)}if(0===F&&Et(E[0])){S.push(new li(w.segments[A].path,es(E[0]))),F++;continue}const fe=Xt(Y)?Y.outlets[Lt]:`${Y}`,ot=F<E.length-1?E[F+1]:null;fe&&ot&&Et(ot)?(S.push(new li(fe,es(ot))),F+=2):(S.push(new li(fe,{})),F++)}return new An(S,{})}function wo(w){const A={};return Object.entries(w).forEach(([E,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[E]=zr(new An([],{}),0,S))}),A}function es(w){const A={};return Object.entries(w).forEach(([E,S])=>A[E]=`${S}`),A}function Jr(w,A,E){return w==E.path&&Mt(A,E.parameters)}const mi="imperative";class nr{constructor(A,E){this.id=A,this.url=E}}class As extends nr{constructor(A,E,S="imperative",F=null){super(A,E),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends nr{constructor(A,E,S){super(A,E),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends nr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ys extends nr{constructor(A,E,S,F){super(A,E),this.reason=S,this.code=F,this.type=16}}class Pi extends nr{constructor(A,E,S,F){super(A,E),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends nr{constructor(A,E,S,F,Y){super(A,E),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ci extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends nr{constructor(A,E,S,F){super(A,E),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hi{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(A,E,S){this.routerEvent=A,this.position=E,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class jr{constructor(A){this.url=A}}class Ri{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wr,this.attachRef=null}}let wr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(E,S){const F=this.getOrCreateContext(E);F.outlet=S,this.contexts.set(E,F)}onChildOutletDestroyed(E){const S=this.getContext(E);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let S=this.getContext(E);return S||(S=new Ri,this.contexts.set(E,S)),S}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Ps{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=zi(A,this._root);return E?E.children.map(S=>S.value):[]}firstChild(A){const E=zi(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Rs(A,this._root);return E.length<2?[]:E[E.length-2].children.map(F=>F.value).filter(F=>F!==A)}pathFromRoot(A){return Rs(A,this._root).map(E=>E.value)}}function zi(w,A){if(w===A.value)return A;for(const E of A.children){const S=zi(w,E);if(S)return S}return null}function Rs(w,A){if(w===A.value)return[A];for(const E of A.children){const S=Rs(w,E);if(S.length)return S.unshift(A),S}return[]}class yi{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function Gi(w){const A={};return w&&w.children.forEach(E=>A[E.value.outlet]=E),A}class Nr extends Ps{constructor(A,E){super(A),this.snapshot=E,vr(this,A)}toString(){return this.snapshot.toString()}}function Yt(w,A){const E=function Vn(w,A){const fe=new Gr([],{},{},"",{},Lt,A,null,{});return new Wi("",new yi(fe,[]))}(0,A),S=new Be.X([new li("",{})]),F=new Be.X({}),Y=new Be.X({}),fe=new Be.X({}),ot=new Be.X(""),it=new Qn(S,F,fe,ot,Y,Lt,A,E.root);return it.snapshot=E.root,new Nr(new yi(it,[]),E)}class Qn{constructor(A,E,S,F,Y,fe,ot,it){this.urlSubject=A,this.paramsSubject=E,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Y,this.outlet=fe,this.component=ot,this._futureSnapshot=it,this.title=this.dataSubject?.pipe((0,wt.U)(ln=>ln[Ot]))??(0,Se.of)(void 0),this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(A=>en(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(A=>en(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vi(w,A="emptyOnly"){const E=w.pathFromRoot;let S=0;if("always"!==A)for(S=E.length-1;S>=1;){const F=E[S],Y=E[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(Y.component)break;S--}}return function Ms(w){return w.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(S))}class Gr{get title(){return this.data?.[Ot]}constructor(A,E,S,F,Y,fe,ot,it,ln){this.url=A,this.params=E,this.queryParams=S,this.fragment=F,this.data=Y,this.outlet=fe,this.component=ot,this.routeConfig=it,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends Ps{constructor(A,E){super(E),this.url=A,vr(this,E)}toString(){return qi(this._root)}}function vr(w,A){A.value._routerState=w,A.children.forEach(E=>vr(w,E))}function qi(w){const A=w.children.length>0?` { ${w.children.map(qi).join(", ")} } `:"";return`${w.value}${A}`}function ls(w){if(w.snapshot){const A=w.snapshot,E=w._futureSnapshot;w.snapshot=E,Mt(A.queryParams,E.queryParams)||w.queryParamsSubject.next(E.queryParams),A.fragment!==E.fragment&&w.fragmentSubject.next(E.fragment),Mt(A.params,E.params)||w.paramsSubject.next(E.params),function Fn(w,A){if(w.length!==A.length)return!1;for(let E=0;E<w.length;++E)if(!Mt(w[E],A[E]))return!1;return!0}(A.url,E.url)||w.urlSubject.next(E.url),Mt(A.data,E.data)||w.dataSubject.next(E.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function xn(w,A){const E=Mt(w.params,A.params)&&function Ue(w,A){return ft(w,A)&&w.every((E,S)=>Mt(E.parameters,A[S].parameters))}(w.url,A.url);return E&&!(!w.parent!=!A.parent)&&(!w.parent||xn(w.parent,A.parent))}let ts=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(wr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:S,previousValue:F}=E.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,S){this.activated=E,this._activatedRoute=S,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,S){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=E;const F=this.location,fe=E.snapshot.component,ot=this.parentContexts.getOrCreateContext(this.name).children,it=new Kr(E,ot,F.injector);this.activated=F.createComponent(fe,{index:F.length,injector:it,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return w})();class Kr{constructor(A,E,S){this.route=A,this.childContexts=E,this.parent=S}get(A,E){return A===Qn?this.route:A===wr?this.childContexts:this.parent.get(A,E)}}const q=new d.OlP("");let j=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:S}=E,F=Ct([S.queryParams,S.params,S.data]).pipe((0,kt.w)(([Y,fe,ot],it)=>(ot={...Y,...fe,...ot},0===it?(0,Se.of)(ot):Promise.resolve(ot)))).subscribe(Y=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(E);const fe=(0,d.qFp)(S.component);if(fe)for(const{templateName:ot}of fe.inputs)E.activatedComponentRef.setInput(ot,Y[ot]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,F)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac})}return w})();function Ee(w,A,E){if(E&&w.shouldReuseRoute(A.value,E.value.snapshot)){const S=E.value;S._futureSnapshot=A.value;const F=function je(w,A,E){return A.children.map(S=>{for(const F of E.children)if(w.shouldReuseRoute(S.value,F.value.snapshot))return Ee(w,S,F);return Ee(w,S)})}(w,A,E);return new yi(S,F)}{if(w.shouldAttach(A.value)){const Y=w.retrieve(A.value);if(null!==Y){const fe=Y.route;return fe.value._futureSnapshot=A.value,fe.children=A.children.map(ot=>Ee(w,ot)),fe}}const S=function mt(w){return new Qn(new Be.X(w.url),new Be.X(w.params),new Be.X(w.queryParams),new Be.X(w.fragment),new Be.X(w.data),w.outlet,w.component,w)}(A.value),F=A.children.map(Y=>Ee(w,Y));return new yi(S,F)}}const Gt="ngNavigationCancelingError";function dn(w,A){const{redirectTo:E,navigationBehaviorOptions:S}=kr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,F=St(!1,0,A);return F.url=E,F.navigationBehaviorOptions=S,F}function St(w,A,E){const S=new Error("NavigationCancelingError: "+(w||""));return S[Gt]=!0,S.cancellationCode=A,E&&(S.url=E),S}function Kn(w){return w&&w[Gt]}let Cn=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(S,F){1&S&&d._UZ(0,"router-outlet")},dependencies:[ts],encapsulation:2})}return w})();function Hr(w){const A=w.children&&w.children.map(Hr),E=A?{...w,children:A}:{...w};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Lt&&(E.component=Cn),E}function Cr(w){return w.outlet||Lt}function xi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let A=w.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Lo{constructor(A,E,S,F,Y){this.routeReuseStrategy=A,this.futureState=E,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Y}activate(A){const E=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,S,A),ls(this.futureState.root),this.activateChildRoutes(E,S,A)}deactivateChildRoutes(A,E,S){const F=Gi(E);A.children.forEach(Y=>{const fe=Y.value.outlet;this.deactivateRoutes(Y,F[fe],S),delete F[fe]}),Object.values(F).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,S)})}deactivateRoutes(A,E,S){const F=A.value,Y=E?E.value:null;if(F===Y)if(F.component){const fe=S.getContext(F.outlet);fe&&this.deactivateChildRoutes(A,E,fe.children)}else this.deactivateChildRoutes(A,E,S);else Y&&this.deactivateRouteAndItsChildren(E,S)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Y=Gi(A);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);if(S&&S.outlet){const fe=S.outlet.detach(),ot=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:fe,route:A,contexts:ot})}}deactivateRouteAndOutlet(A,E){const S=E.getContext(A.value.outlet),F=S&&A.value.component?S.children:E,Y=Gi(A);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,E,S){const F=Gi(E);A.children.forEach(Y=>{this.activateRoutes(Y,F[Y.value.outlet],S),this.forwardEvent(new Hi(Y.value.snapshot))}),A.children.length&&this.forwardEvent(new cs(A.value.snapshot))}activateRoutes(A,E,S){const F=A.value,Y=E?E.value:null;if(ls(F),F===Y)if(F.component){const fe=S.getOrCreateContext(F.outlet);this.activateChildRoutes(A,E,fe.children)}else this.activateChildRoutes(A,E,S);else if(F.component){const fe=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ot=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),fe.children.onOutletReAttached(ot.contexts),fe.attachRef=ot.componentRef,fe.route=ot.route.value,fe.outlet&&fe.outlet.attach(ot.componentRef,ot.route.value),ls(ot.route.value),this.activateChildRoutes(A,null,fe.children)}else{const ot=xi(F.snapshot);fe.attachRef=null,fe.route=F,fe.injector=ot,fe.outlet&&fe.outlet.activateWith(F,fe.injector),this.activateChildRoutes(A,null,fe.children)}}else this.activateChildRoutes(A,null,S)}}class ds{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Ws{constructor(A,E){this.component=A,this.route=E}}function sa(w,A,E){const S=w._root;return po(S,A?A._root:null,E,[S.value])}function Ei(w,A){const E=Symbol(),S=A.get(w,E);return S===E?"function"!=typeof w||(0,d.Z0I)(w)?A.get(w):w:S}function po(w,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Gi(A);return w.children.forEach(fe=>{(function go(w,A,E,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=w.value,fe=A?A.value:null,ot=E?E.getContext(w.value.outlet):null;if(fe&&Y.routeConfig===fe.routeConfig){const it=function Pa(w,A,E){if("function"==typeof E)return E(w,A);switch(E){case"pathParamsChange":return!ft(w.url,A.url);case"pathParamsOrQueryParamsChange":return!ft(w.url,A.url)||!Mt(w.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xn(w,A)||!Mt(w.queryParams,A.queryParams);default:return!xn(w,A)}}(fe,Y,Y.routeConfig.runGuardsAndResolvers);it?F.canActivateChecks.push(new ds(S)):(Y.data=fe.data,Y._resolvedData=fe._resolvedData),po(w,A,Y.component?ot?ot.children:null:E,S,F),it&&ot&&ot.outlet&&ot.outlet.isActivated&&F.canDeactivateChecks.push(new Ws(ot.outlet.component,fe))}else fe&&Dr(A,ot,F),F.canActivateChecks.push(new ds(S)),po(w,null,Y.component?ot?ot.children:null:E,S,F)})(fe,Y[fe.value.outlet],E,S.concat([fe.value]),F),delete Y[fe.value.outlet]}),Object.entries(Y).forEach(([fe,ot])=>Dr(ot,E.getContext(fe),F)),F}function Dr(w,A,E){const S=Gi(w),F=w.value;Object.entries(S).forEach(([Y,fe])=>{Dr(fe,F.component?A?A.children.getContext(Y):null:A,E)}),E.canDeactivateChecks.push(new Ws(F.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,F))}function bo(w){return"function"==typeof w}function Oi(w){return w instanceof Dt.K||"EmptyError"===w?.name}const ns=Symbol("INITIAL_VALUE");function Ni(){return(0,kt.w)(w=>Ct(w.map(A=>A.pipe((0,Ut.q)(1),(0,et.O)(ns)))).pipe((0,wt.U)(A=>{for(const E of A)if(!0!==E){if(E===ns)return ns;if(!1===E||E instanceof tr)return E}return!0}),(0,we.h)(A=>A!==ns),(0,Ut.q)(1)))}function Es(w){return(0,Qe.z)((0,ye.b)(A=>{if(kr(A))throw dn(0,A)}),(0,wt.U)(A=>!0===A))}class Is{constructor(A){this.segmentGroup=A||null}}class mo{constructor(A){this.urlTree=A}}function Ls(w){return Ze(new Is(w))}function Wn(w){return Ze(new mo(w))}class zo{constructor(A,E){this.urlSerializer=A,this.urlTree=E}noMatchError(A){return new d.vHH(4002,!1)}lineralizeSegments(A,E){let S=[],F=E.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,Se.of)(S);if(F.numberOfChildren>1||!F.children[Lt])return Ze(new d.vHH(4e3,!1));F=F.children[Lt]}}applyRedirectCommands(A,E,S){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,S)}applyRedirectCreateUrlTree(A,E,S,F){const Y=this.createSegmentGroup(A,E.root,S,F);return new tr(Y,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const S={};return Object.entries(A).forEach(([F,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const ot=Y.substring(1);S[F]=E[ot]}else S[F]=Y}),S}createSegmentGroup(A,E,S,F){const Y=this.createSegments(A,E.segments,S,F);let fe={};return Object.entries(E.children).forEach(([ot,it])=>{fe[ot]=this.createSegmentGroup(A,it,S,F)}),new An(Y,fe)}createSegments(A,E,S,F){return E.map(Y=>Y.path.startsWith(":")?this.findPosParam(A,Y,F):this.findOrReturn(Y,S))}findPosParam(A,E,S){const F=S[E.path.substring(1)];if(!F)throw new d.vHH(4001,!1);return F}findOrReturn(A,E){let S=0;for(const F of E){if(F.path===A.path)return E.splice(S),F;S++}return A}}const Go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function So(w,A,E,S,F){const Y=Vs(w,A,E);return Y.matched?(S=function Yr(w,A){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,A,`Route: ${w.path}`)),w._injector??A}(A,S),function Ao(w,A,E,S){const F=A.canMatch;if(!F||0===F.length)return(0,Se.of)(!0);const Y=F.map(fe=>{const ot=Ei(fe,w);return gn(function Pe(w){return w&&bo(w.canMatch)}(ot)?ot.canMatch(A,E):w.runInContext(()=>ot(A,E)))});return(0,Se.of)(Y).pipe(Ni(),Es())}(S,A,E).pipe((0,wt.U)(fe=>!0===fe?Y:{...Go}))):(0,Se.of)(Y)}function Vs(w,A,E){if(""===A.path)return"full"===A.pathMatch&&(w.hasChildren()||E.length>0)?{...Go}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const F=(A.matcher||ar)(E,w,A);if(!F)return{...Go};const Y={};Object.entries(F.posParams??{}).forEach(([ot,it])=>{Y[ot]=it.path});const fe=F.consumed.length>0?{...Y,...F.consumed[F.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:F.consumed,remainingSegments:E.slice(F.consumed.length),parameters:fe,positionalParamSegments:F.posParams??{}}}function to(w,A,E,S){return E.length>0&&function ca(w,A,E){return E.some(S=>la(w,A,S)&&Cr(S)!==Lt)}(w,E,S)?{segmentGroup:new An(A,Ra(S,new An(E,w.children))),slicedSegments:[]}:0===E.length&&function Po(w,A,E){return E.some(S=>la(w,A,S))}(w,E,S)?{segmentGroup:new An(w.segments,ua(w,0,E,S,w.children)),slicedSegments:E}:{segmentGroup:new An(w.segments,w.children),slicedSegments:E}}function ua(w,A,E,S,F){const Y={};for(const fe of S)if(la(w,E,fe)&&!F[Cr(fe)]){const ot=new An([],{});Y[Cr(fe)]=ot}return{...F,...Y}}function Ra(w,A){const E={};E[Lt]=A;for(const S of w)if(""===S.path&&Cr(S)!==Lt){const F=new An([],{});E[Cr(S)]=F}return E}function la(w,A,E){return(!(w.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}class Wo{constructor(A,E,S,F,Y,fe,ot){this.injector=A,this.configLoader=E,this.rootComponentType=S,this.config=F,this.urlTree=Y,this.paramsInheritanceStrategy=fe,this.urlSerializer=ot,this.allowRedirects=!0,this.applyRedirects=new zo(this.urlSerializer,this.urlTree)}noMatchError(A){return new d.vHH(4002,!1)}recognize(){const A=to(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Lt).pipe((0,ve.K)(E=>{if(E instanceof mo)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Is?this.noMatchError(E):E}),(0,wt.U)(E=>{const S=new Gr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),F=new yi(S,E),Y=new Wi("",F),fe=function Gn(w,A,E=null,S=null){return Ge(st(w),A,E,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(Y._root),{state:Y,tree:fe}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Lt).pipe((0,ve.K)(S=>{throw S instanceof Is?this.noMatchError(S):S}))}inheritParamsAndData(A){const E=A.value,S=vi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),A.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(A,E,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,E,S):this.processSegment(A,E,S,S.segments,F,!0)}processChildren(A,E,S){const F=[];for(const Y of Object.keys(S.children))"primary"===Y?F.unshift(Y):F.push(Y);return(0,_e.D)(F).pipe((0,He.b)(Y=>{const fe=S.children[Y],ot=function Gs(w,A){const E=w.filter(S=>Cr(S)===A);return E.push(...w.filter(S=>Cr(S)!==A)),E}(E,Y);return this.processSegmentGroup(A,ot,fe,Y)}),(0,Ne.R)((Y,fe)=>(Y.push(...fe),Y)),(0,yt.d)(null),function qt(w,A){const E=arguments.length>=2;return S=>S.pipe(w?(0,we.h)((F,Y)=>w(F,Y,S)):ze.y,vt(1),E?(0,yt.d)(A):(0,sn.T)(()=>new Dt.K))}(),(0,oe.z)(Y=>{if(null===Y)return Ls(S);const fe=ru(Y);return function Uu(w){w.sort((A,E)=>A.value.outlet===Lt?-1:E.value.outlet===Lt?1:A.value.outlet.localeCompare(E.value.outlet))}(fe),(0,Se.of)(fe)}))}processSegment(A,E,S,F,Y,fe){return(0,_e.D)(E).pipe((0,He.b)(ot=>this.processSegmentAgainstRoute(ot._injector??A,E,ot,S,F,Y,fe).pipe((0,ve.K)(it=>{if(it instanceof Is)return(0,Se.of)(null);throw it}))),(0,be.P)(ot=>!!ot),(0,ve.K)(ot=>{if(Oi(ot))return function yc(w,A,E){return 0===A.length&&!w.children[E]}(S,F,Y)?(0,Se.of)([]):Ls(S);throw ot}))}processSegmentAgainstRoute(A,E,S,F,Y,fe,ot){return function _o(w,A,E,S){return!!(Cr(w)===S||S!==Lt&&la(A,E,w))&&("**"===w.path||Vs(A,w,E).matched)}(S,F,Y,fe)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,F,S,Y,fe,ot):ot&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,F,E,S,Y,fe):Ls(F):Ls(F)}expandSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,S,F,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,S,F){const Y=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Wn(Y):this.applyRedirects.lineralizeSegments(S,Y).pipe((0,oe.z)(fe=>{const ot=new An(fe,{});return this.processSegment(A,E,ot,fe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,S,F,Y,fe){const{matched:ot,consumedSegments:it,remainingSegments:ln,positionalParamSegments:Xn}=Vs(E,F,Y);if(!ot)return Ls(E);const ur=this.applyRedirects.applyRedirectCommands(it,F.redirectTo,Xn);return F.redirectTo.startsWith("/")?Wn(ur):this.applyRedirects.lineralizeSegments(F,ur).pipe((0,oe.z)(dr=>this.processSegment(A,S,E,dr.concat(ln),fe,!1)))}matchSegmentAgainstRoute(A,E,S,F,Y,fe){let ot;if("**"===S.path){const it=F.length>0?wn(F).parameters:{},ln=new Gr(F,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(S),Cr(S),S.component??S._loadedComponent??null,S,D(S));ot=(0,Se.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]}),E.children={}}else ot=So(E,S,F,A).pipe((0,wt.U)(({matched:it,consumedSegments:ln,remainingSegments:Xn,parameters:ur})=>it?{snapshot:new Gr(ln,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(S),Cr(S),S.component??S._loadedComponent??null,S,D(S)),consumedSegments:ln,remainingSegments:Xn}:null));return ot.pipe((0,kt.w)(it=>null===it?Ls(E):this.getChildConfig(A=S._injector??A,S,F).pipe((0,kt.w)(({routes:ln})=>{const Xn=S._loadedInjector??A,{snapshot:ur,consumedSegments:dr,remainingSegments:Ur}=it,{segmentGroup:_a,slicedSegments:ya}=to(E,dr,Ur,ln);if(0===ya.length&&_a.hasChildren())return this.processChildren(Xn,ln,_a).pipe((0,wt.U)(yo=>null===yo?null:[new yi(ur,yo)]));if(0===ln.length&&0===ya.length)return(0,Se.of)([new yi(ur,[])]);const va=Cr(S)===Y;return this.processSegment(Xn,ln,_a,ya,va?Lt:Y,!0).pipe((0,wt.U)(yo=>[new yi(ur,yo)]))}))))}getChildConfig(A,E,S){return E.children?(0,Se.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,Se.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function nu(w,A,E,S){const F=A.canLoad;if(void 0===F||0===F.length)return(0,Se.of)(!0);const Y=F.map(fe=>{const ot=Ei(fe,w);return gn(function U(w){return w&&bo(w.canLoad)}(ot)?ot.canLoad(A,E):w.runInContext(()=>ot(A,E)))});return(0,Se.of)(Y).pipe(Ni(),Es())}(A,E,S).pipe((0,oe.z)(F=>F?this.configLoader.loadChildren(A,E).pipe((0,ye.b)(Y=>{E._loadedRoutes=Y.routes,E._loadedInjector=Y.injector})):function Uo(w){return Ze(St(!1,3))}())):(0,Se.of)({routes:[],injector:A})}}function jo(w){const A=w.value.routeConfig;return A&&""===A.path}function ru(w){const A=[],E=new Set;for(const S of w){if(!jo(S)){A.push(S);continue}const F=A.find(Y=>S.value.routeConfig===Y.value.routeConfig);void 0!==F?(F.children.push(...S.children),E.add(F)):A.push(S)}for(const S of E){const F=ru(S.children);A.push(new yi(S.value,F))}return A.filter(S=>!E.has(S))}function Xr(w){return w.data||{}}function D(w){return w.resolve||{}}function mn(w){return"string"==typeof w.title||null===w.title}function gr(w){return(0,kt.w)(A=>{const E=w(A);return E?(0,_e.D)(E).pipe((0,wt.U)(()=>A)):(0,Se.of)(A)})}const br=new d.OlP("ROUTES");let Sr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Se.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const S=gn(E.loadComponent()).pipe((0,wt.U)(Vr),(0,ye.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Y}),(0,_n.x)(()=>{this.componentLoaders.delete(E)})),F=new Ht(S,()=>new tn.x).pipe(pe());return this.componentLoaders.set(E,F),F}loadChildren(E,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,Se.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Y=function sr(w,A,E,S){return gn(w.loadChildren()).pipe((0,wt.U)(Vr),(0,oe.z)(F=>F instanceof d.YKP||Array.isArray(F)?(0,Se.of)(F):(0,_e.D)(A.compileModuleAsync(F))),(0,wt.U)(F=>{S&&S(w);let Y,fe,ot=!1;return Array.isArray(F)?(fe=F,!0):(Y=F.create(E).injector,fe=Y.get(br,[],{optional:!0,self:!0}).flat()),{routes:fe.map(Hr),injector:Y}}))}(S,this.compiler,E,this.onLoadEndListener).pipe((0,_n.x)(()=>{this.childrenLoaders.delete(S)})),fe=new Ht(Y,()=>new tn.x).pipe(pe());return this.childrenLoaders.set(S,fe),fe}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Vr(w){return function qr(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let fi=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.transitionAbortSubject=new tn.x,this.configLoader=(0,d.f3M)(Sr),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(me),this.rootContexts=(0,d.f3M)(wr),this.inputBindingEnabled=null!==(0,d.f3M)(q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Zn(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new di(F))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:S})}setupNavigations(E,S,F){return this.transitions=new Be.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:E.urlHandlingStrategy.extract(S),urlAfterRedirects:E.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,we.h)(Y=>0!==Y.id),(0,wt.U)(Y=>({...Y,extractedUrl:E.urlHandlingStrategy.extract(Y.rawUrl)})),(0,kt.w)(Y=>{this.currentTransition=Y;let fe=!1,ot=!1;return(0,Se.of)(Y).pipe((0,ye.b)(it=>{this.currentNavigation={id:it.id,initialUrl:it.rawUrl,extractedUrl:it.extractedUrl,trigger:it.source,extras:it.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kt.w)(it=>{const ln=it.currentBrowserUrl.toString(),Xn=!E.navigated||it.extractedUrl.toString()!==ln||ln!==it.currentUrlTree.toString();if(!Xn&&"reload"!==(it.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const dr="";return this.events.next(new ys(it.id,this.urlSerializer.serialize(it.rawUrl),dr,0)),it.resolve(null),Ye.E}if(E.urlHandlingStrategy.shouldProcessUrl(it.rawUrl))return(0,Se.of)(it).pipe((0,kt.w)(dr=>{const Ur=this.transitions?.getValue();return this.events.next(new As(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),Ur!==this.transitions?.getValue()?Ye.E:Promise.resolve(dr)}),function Z(w,A,E,S,F,Y){return(0,oe.z)(fe=>function Bo(w,A,E,S,F,Y,fe="emptyOnly"){return new Wo(w,A,E,S,F,fe,Y).recognize()}(w,A,E,S,fe.extractedUrl,F,Y).pipe((0,wt.U)(({state:ot,tree:it})=>({...fe,targetSnapshot:ot,urlAfterRedirects:it}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,ye.b)(dr=>{Y.targetSnapshot=dr.targetSnapshot,Y.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const Ur=new _i(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(Ur)}));if(Xn&&E.urlHandlingStrategy.shouldProcessUrl(it.currentRawUrl)){const{id:dr,extractedUrl:Ur,source:_a,restoredState:ya,extras:va}=it,yo=new As(dr,this.urlSerializer.serialize(Ur),_a,ya);this.events.next(yo);const Oo=Yt(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...it,targetSnapshot:Oo,urlAfterRedirects:Ur,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(Y)}{const dr="";return this.events.next(new ys(it.id,this.urlSerializer.serialize(it.extractedUrl),dr,1)),it.resolve(null),Ye.E}}),(0,ye.b)(it=>{const ln=new Li(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(ln)}),(0,wt.U)(it=>(this.currentTransition=Y={...it,guards:sa(it.targetSnapshot,it.currentSnapshot,this.rootContexts)},Y)),function eo(w,A){return(0,oe.z)(E=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Y,canDeactivateChecks:fe}}=E;return 0===fe.length&&0===Y.length?(0,Se.of)({...E,guardsResult:!0}):function hs(w,A,E,S){return(0,_e.D)(w).pipe((0,oe.z)(F=>function ki(w,A,E,S,F){const Y=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Se.of)(!0);const fe=Y.map(ot=>{const it=xi(A)??F,ln=Ei(ot,it);return gn(function ee(w){return w&&bo(w.canDeactivate)}(ln)?ln.canDeactivate(w,A,E,S):it.runInContext(()=>ln(w,A,E,S))).pipe((0,be.P)())});return(0,Se.of)(fe).pipe(Ni())}(F.component,F.route,E,A,S)),(0,be.P)(F=>!0!==F,!0))}(fe,S,F,w).pipe((0,oe.z)(ot=>ot&&function oa(w){return"boolean"==typeof w}(ot)?function vs(w,A,E,S){return(0,_e.D)(A).pipe((0,He.b)(F=>(0,an.z)(function _c(w,A){return null!==w&&A&&A(new hi(w)),(0,Se.of)(!0)}(F.route.parent,S),function fs(w,A){return null!==w&&A&&A(new zs(w)),(0,Se.of)(!0)}(F.route,S),function Vo(w,A,E){const S=A[A.length-1],Y=A.slice(0,A.length-1).reverse().map(fe=>function Do(w){const A=w.routeConfig?w.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:w,guards:A}:null}(fe)).filter(fe=>null!==fe).map(fe=>Le(()=>{const ot=fe.guards.map(it=>{const ln=xi(fe.node)??E,Xn=Ei(it,ln);return gn(function P(w){return w&&bo(w.canActivateChild)}(Xn)?Xn.canActivateChild(S,w):ln.runInContext(()=>Xn(S,w))).pipe((0,be.P)())});return(0,Se.of)(ot).pipe(Ni())}));return(0,Se.of)(Y).pipe(Ni())}(w,F.path,E),function Lr(w,A,E){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Se.of)(!0);const F=S.map(Y=>Le(()=>{const fe=xi(A)??E,ot=Ei(Y,fe);return gn(function G(w){return w&&bo(w.canActivate)}(ot)?ot.canActivate(A,w):fe.runInContext(()=>ot(A,w))).pipe((0,be.P)())}));return(0,Se.of)(F).pipe(Ni())}(w,F.route,E))),(0,be.P)(F=>!0!==F,!0))}(S,Y,w,A):(0,Se.of)(ot)),(0,wt.U)(ot=>({...E,guardsResult:ot})))})}(this.environmentInjector,it=>this.events.next(it)),(0,ye.b)(it=>{if(Y.guardsResult=it.guardsResult,kr(it.guardsResult))throw dn(0,it.guardsResult);const ln=new fo(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot,!!it.guardsResult);this.events.next(ln)}),(0,we.h)(it=>!!it.guardsResult||(this.cancelNavigationTransition(it,"",3),!1)),gr(it=>{if(it.guards.canActivateChecks.length)return(0,Se.of)(it).pipe((0,ye.b)(ln=>{const Xn=new ci(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Xn)}),(0,kt.w)(ln=>{let Xn=!1;return(0,Se.of)(ln).pipe(function x(w,A){return(0,oe.z)(E=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=E;if(!F.length)return(0,Se.of)(E);let Y=0;return(0,_e.D)(F).pipe((0,He.b)(fe=>function W(w,A,E,S){const F=w.routeConfig,Y=w._resolve;return void 0!==F?.title&&!mn(F)&&(Y[Ot]=F.title),function ge(w,A,E,S){const F=function ct(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===F.length)return(0,Se.of)({});const Y={};return(0,_e.D)(F).pipe((0,oe.z)(fe=>function bt(w,A,E,S){const F=xi(A)??S,Y=Ei(w,F);return gn(Y.resolve?Y.resolve(A,E):F.runInContext(()=>Y(A,E)))}(w[fe],A,E,S).pipe((0,be.P)(),(0,ye.b)(ot=>{Y[fe]=ot}))),vt(1),function Pn(w){return(0,wt.U)(()=>w)}(Y),(0,ve.K)(fe=>Oi(fe)?Ye.E:Ze(fe)))}(Y,w,A,S).pipe((0,wt.U)(fe=>(w._resolvedData=fe,w.data=vi(w,E).resolve,F&&mn(F)&&(w.data[Ot]=F.title),null)))}(fe.route,S,w,A)),(0,ye.b)(()=>Y++),vt(1),(0,oe.z)(fe=>Y===F.length?(0,Se.of)(E):Ye.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,ye.b)({next:()=>Xn=!0,complete:()=>{Xn||this.cancelNavigationTransition(ln,"",2)}}))}),(0,ye.b)(ln=>{const Xn=new Co(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Xn)}))}),gr(it=>{const ln=Xn=>{const ur=[];Xn.routeConfig?.loadComponent&&!Xn.routeConfig._loadedComponent&&ur.push(this.configLoader.loadComponent(Xn.routeConfig).pipe((0,ye.b)(dr=>{Xn.component=dr}),(0,wt.U)(()=>{})));for(const dr of Xn.children)ur.push(...ln(dr));return ur};return Ct(ln(it.targetSnapshot.root)).pipe((0,yt.d)(),(0,Ut.q)(1))}),gr(()=>this.afterPreactivation()),(0,wt.U)(it=>{const ln=function he(w,A,E){const S=Ee(w,A._root,E?E._root:void 0);return new Nr(S,A)}(E.routeReuseStrategy,it.targetSnapshot,it.currentRouterState);return this.currentTransition=Y={...it,targetRouterState:ln},Y}),(0,ye.b)(()=>{this.events.next(new Ln)}),((w,A,E,S)=>(0,wt.U)(F=>(new Lo(A,F.targetRouterState,F.currentRouterState,E,S).activate(w),F)))(this.rootContexts,E.routeReuseStrategy,it=>this.events.next(it),this.inputBindingEnabled),(0,Ut.q)(1),(0,ye.b)({next:it=>{fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects))),E.titleStrategy?.updateTitle(it.targetRouterState.snapshot),it.resolve(!0)},complete:()=>{fe=!0}}),function Rt(w){return(0,At.e)((A,E)=>{(0,qe.Xf)(w).subscribe((0,lt.x)(E,()=>E.complete(),er.Z)),!E.closed&&A.subscribe(E)})}(this.transitionAbortSubject.pipe((0,ye.b)(it=>{throw it}))),(0,_n.x)(()=>{fe||ot||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),(0,ve.K)(it=>{if(ot=!0,Kn(it))this.events.next(new yr(Y.id,this.urlSerializer.serialize(Y.extractedUrl),it.message,it.cancellationCode)),function un(w){return Kn(w)&&kr(w.url)}(it)?this.events.next(new jr(it.url)):Y.resolve(!1);else{this.events.next(new Pi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),it,Y.targetSnapshot??void 0));try{Y.resolve(E.errorHandler(it))}catch(ln){Y.reject(ln)}}return Ye.E}))}))}cancelNavigationTransition(E,S,F){const Y=new yr(E.id,this.urlSerializer.serialize(E.extractedUrl),S,F);this.events.next(Y),E.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ki(w){return w!==mi}let ps=(()=>{class w{buildTitle(E){let S,F=E.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Y=>Y.outlet===Lt);return S}getResolvedTitleForRoute(E){return E.data[Ot]}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Ro)},providedIn:"root"})}return w})(),Ro=(()=>{class w extends ps{constructor(E){super(),this.title=E}updateTitle(E){const S=this.buildTitle(E);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||w)(d.LFG(On.Dx))};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),ws=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Hn)},providedIn:"root"})}return w})();class ei{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}let Hn=(()=>{class w extends ei{static#e=this.\u0275fac=function(){let E;return function(F){return(E||(E=d.n5z(w)))(F||w)}}();static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Us=new d.OlP("",{providedIn:"root",factory:()=>({})});let vc=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(ti)},providedIn:"root"})}return w})(),ti=(()=>{class w{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,S){return E}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var qo=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(qo||{});function Zo(w,A){w.events.pipe((0,we.h)(E=>E instanceof _r||E instanceof yr||E instanceof Pi||E instanceof ys),(0,wt.U)(E=>E instanceof _r||E instanceof ys?qo.COMPLETE:E instanceof yr&&(0===E.code||1===E.code)?qo.REDIRECTING:qo.FAILED),(0,we.h)(E=>E!==qo.REDIRECTING),(0,Ut.q)(1)).subscribe(()=>{A()})}function Cs(w){throw w}function Ec(w,A,E){return A.parse("/")}const Bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new tn.x,this.options=(0,d.f3M)(Us,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Cs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ec,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(vc),this.routeReuseStrategy=(0,d.f3M)(ws),this.titleStrategy=(0,d.f3M)(ps),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(br,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(fi),this.urlSerializer=(0,d.f3M)(me),this.location=(0,d.f3M)(kn.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(q,{optional:!0}),this.eventsSubscription=new _t.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(su(S)&&this._events.next(S));if(S instanceof As)Ki(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof ys)this.rawUrlTree=F.rawUrl;else if(S instanceof _i){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Y,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof Ln)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof yr)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof jr){const Y=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),fe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ki(F.source)};this.scheduleNavigation(Y,mi,null,fe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Pi&&this.restoreHistory(F,!0),S instanceof _r&&(this.navigated=!0),su(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const S="popstate"===E.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,S,E.state)},0)}))}navigateToSyncWithBrowser(E,S,F){const Y={replaceUrl:!0},fe=F?.navigationId?F:null;if(F){const it={...F};delete it.navigationId,delete it.\u0275routerPageId,0!==Object.keys(it).length&&(Y.state=it)}const ot=this.parseUrl(E);this.scheduleNavigation(ot,S,fe,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,S={}){const{relativeTo:F,queryParams:Y,fragment:fe,queryParamsHandling:ot,preserveFragment:it}=S,ln=it?this.currentUrlTree.fragment:fe;let ur,Xn=null;switch(ot){case"merge":Xn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Xn=this.currentUrlTree.queryParams;break;default:Xn=Y||null}null!==Xn&&(Xn=this.removeEmptyProps(Xn));try{ur=st(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ur=this.currentUrlTree.root}return Ge(ur,E,Xn,ln??null)}navigateByUrl(E,S={skipLocationChange:!1}){const F=kr(E)?E:this.parseUrl(E),Y=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Y,mi,null,S)}navigate(E,S={skipLocationChange:!1}){return function Ma(w){for(let A=0;A<w.length;A++)if(null==w[A])throw new d.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,S),S)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let S;try{S=this.urlSerializer.parse(E)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,E)}return S}isActive(E,S){let F;if(F=!0===S?{...Bu}:!1===S?{...Mo}:S,kr(E))return Mr(this.currentUrlTree,E,F);const Y=this.parseUrl(E);return Mr(this.currentUrlTree,Y,F)}removeEmptyProps(E){return Object.keys(E).reduce((S,F)=>{const Y=E[F];return null!=Y&&(S[F]=Y),S},{})}scheduleNavigation(E,S,F,Y,fe){if(this.disposed)return Promise.resolve(!1);let ot,it,ln;fe?(ot=fe.resolve,it=fe.reject,ln=fe.promise):ln=new Promise((ur,dr)=>{ot=ur,it=dr});const Xn=this.pendingTasks.add();return Zo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:Y,resolve:ot,reject:it,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ur=>Promise.reject(ur))}setBrowserUrl(E,S){const F=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const fe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",fe)}else{const Y={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",Y)}}restoreHistory(E,S=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,S){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:S}:{navigationId:E}}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function su(w){return!(w instanceof Ln||w instanceof jr)}let ou=(()=>{class w{constructor(E,S,F,Y,fe,ot){this.router=E,this.route=S,this.tabIndexAttribute=F,this.renderer=Y,this.el=fe,this.locationStrategy=ot,this.href=null,this.commands=null,this.onChanges=new tn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const it=fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===it||"area"===it,this.isAnchorElement?this.subscription=E.events.subscribe(ln=>{ln instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,S,F,Y,fe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||S||F||Y||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,S){const F=this.renderer,Y=this.el.nativeElement;null!==S?F.setAttribute(Y,E,S):F.removeAttribute(Y,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||w)(d.Y36(ni),d.Y36(Qn),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(kn.S$))};static#t=this.\u0275dir=d.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&d.NdJ("click",function(fe){return F.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&S&&d.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return w})();class au{}let Cc=(()=>{class w{constructor(E,S,F,Y,fe){this.router=E,this.injector=F,this.preloadingStrategy=Y,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(E=>E instanceof _r),(0,He.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,S){const F=[];for(const Y of S){Y.providers&&!Y._injector&&(Y._injector=(0,d.MMx)(Y.providers,E,`Route: ${Y.path}`));const fe=Y._injector??E,ot=Y._loadedInjector??fe;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&F.push(this.preloadConfig(fe,Y)),(Y.children||Y._loadedRoutes)&&F.push(this.processRoutes(ot,Y.children??Y._loadedRoutes))}return(0,_e.D)(F).pipe((0,En.J)())}preloadConfig(E,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(E,S):(0,Se.of)(null);const Y=F.pipe((0,oe.z)(fe=>null===fe?(0,Se.of)(void 0):(S._loadedRoutes=fe.routes,S._loadedInjector=fe.injector,this.processRoutes(fe.injector??E,fe.routes))));if(S.loadComponent&&!S._loadedComponent){const fe=this.loader.loadComponent(S);return(0,_e.D)([Y,fe]).pipe((0,En.J)())}return Y})}static#e=this.\u0275fac=function(S){return new(S||w)(d.LFG(ni),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(au),d.LFG(Sr))};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Tc=new d.OlP("");let qn=(()=>{class w{constructor(E,S,F,Y,fe={}){this.urlSerializer=E,this.transitions=S,this.viewportScroller=F,this.zone=Y,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof As?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof _r?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof ys&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Ss&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ss(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac})}return w})();function gs(w,A){return{\u0275kind:w,\u0275providers:A}}function uu(){const w=(0,d.f3M)(d.zs3);return A=>{const E=w.get(d.z2F);if(A!==E.components[0])return;const S=w.get(ni),F=w.get($u);1===w.get(da)&&S.initialNavigation(),w.get(Tr,null,d.XFs.Optional)?.setUpPreloading(),w.get(Tc,null,d.XFs.Optional)?.init(),S.resetRootComponentType(E.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const $u=new d.OlP("",{factory:()=>new tn.x}),da=new d.OlP("",{providedIn:"root",factory:()=>1}),Tr=new d.OlP("");function Hu(w){return gs(0,[{provide:Tr,useExisting:Cc},{provide:au,useExisting:w}])}const fa=new d.OlP("ROUTER_FORROOT_GUARD"),Na=[kn.Ye,{provide:me,useClass:dt},ni,wr,{provide:Qn,useFactory:function xa(w){return w.routerState.root},deps:[ni]},Sr,[]];function bc(){return new d.PXZ("Router",ni)}let zu=(()=>{class w{constructor(E){}static forRoot(E,S){return{ngModule:w,providers:[Na,[],{provide:br,multi:!0,useValue:E},{provide:fa,useFactory:Fa,deps:[[ni,new d.FiY,new d.tp0]]},{provide:Us,useValue:S||{}},S?.useHash?{provide:kn.S$,useClass:kn.Do}:{provide:kn.S$,useClass:kn.b0},{provide:Tc,useFactory:()=>{const w=(0,d.f3M)(kn.EM),A=(0,d.f3M)(d.R0b),E=(0,d.f3M)(Us),S=(0,d.f3M)(fi),F=(0,d.f3M)(me);return E.scrollOffset&&w.setOffset(E.scrollOffset),new qn(F,S,w,A,E)}},S?.preloadingStrategy?Hu(S.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:bc},S?.initialNavigation?io(S):[],S?.bindToComponentInputs?gs(8,[j,{provide:q,useExisting:j}]).\u0275providers:[],[{provide:ms,useFactory:uu},{provide:d.tb,multi:!0,useExisting:ms}]]}}static forChild(E){return{ngModule:w,providers:[{provide:br,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(S){return new(S||w)(d.LFG(fa,8))};static#t=this.\u0275mod=d.oAB({type:w});static#n=this.\u0275inj=d.cJS({})}return w})();function Fa(w){return"guarded"}function io(w){return["disabled"===w.initialNavigation?gs(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const A=(0,d.f3M)(ni);return()=>{A.setUpLocationChangeListener()}}},{provide:da,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?gs(2,[{provide:da,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:A=>{const E=A.get(kn.V_,Promise.resolve());return()=>E.then(()=>new Promise(S=>{const F=A.get(ni),Y=A.get($u);Zo(F,()=>{S(!0)}),A.get(fi).afterPreactivation=()=>(S(!0),Y.closed?(0,Se.of)(void 0):Y),F.initialNavigation()}))}}]).\u0275providers:[]]}const ms=new d.OlP("")},3106:(rn,Xe,k)=>{k.d(Xe,{Z:()=>Ct});var d=k(9058),y=k(4537),z=k(534),Ce=k(7879);class _e{constructor(Vt,Dt){this._delegate=Vt,this.firebase=Dt,(0,z._addComponent)(Vt,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this._delegate.automaticDataCollectionEnabled=Vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Vt=>{this._delegate.checkDestroyed(),Vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Vt,Dt=z._DEFAULT_ENTRY_NAME){var an;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(Vt);return!qe.isInitialized()&&"EXPLICIT"===(null===(an=qe.getComponent())||void 0===an?void 0:an.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Dt})}_removeServiceInstance(Vt,Dt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Vt).clearInstance(Dt)}_addComponent(Vt){(0,z._addComponent)(this._delegate,Vt)}_addOrOverwriteComponent(Vt){(0,z._addOrOverwriteComponent)(this._delegate,Vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function ze(){const pt=function $e(pt){const Vt={},Dt={__esModule:!0,initializeApp:function Le(_t,At={}){const pe=z.initializeApp(_t,At);if((0,d.r3)(Vt,pe.name))return Vt[pe.name];const Ht=new pt(pe,Dt);return Vt[pe.name]=Ht,Ht},app:qe,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ze(_t){const At=_t.name,pe=At.replace("-compat","");if(z._registerComponent(_t)&&"PUBLIC"===_t.type){const Ht=(tn=qe())=>{if("function"!=typeof tn[pe])throw Be.create("invalid-app-argument",{appName:At});return tn[pe]()};void 0!==_t.serviceProps&&(0,d.ZB)(Ht,_t.serviceProps),Dt[pe]=Ht,pt.prototype[pe]=function(...tn){return this._getService.bind(this,At).apply(this,_t.multipleInstances?tn:[])}}return"PUBLIC"===_t.type?Dt[pe]:null},removeApp:function an(_t){delete Vt[_t]},useAsService:function Ye(_t,At){return"serverAuth"===At?null:At},modularAPIs:z}};function qe(_t){if(!(0,d.r3)(Vt,_t=_t||z._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:_t});return Vt[_t]}return Dt.default=Dt,Object.defineProperty(Dt,"apps",{get:function Qe(){return Object.keys(Vt).map(_t=>Vt[_t])}}),qe.App=pt,Dt}(_e);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function Vt(Dt){(0,d.ZB)(pt,Dt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),pt}(),re=new Ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ct=se;!function Fe(pt){(0,z.registerVersion)("@firebase/app-compat","0.2.35",pt)}()},534:(rn,Xe,k)=>{k.r(Xe),k.d(Xe,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>me,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>xr,_apps:()=>rr,_clearComponents:()=>An,_components:()=>Mr,_getProvider:()=>Jt,_isFirebaseApp:()=>$n,_isFirebaseServerApp:()=>tr,_registerComponent:()=>Di,_removeServiceInstance:()=>Or,_serverApps:()=>cr,deleteApp:()=>Yn,getApp:()=>Tn,getApps:()=>mr,initializeApp:()=>dt,initializeServerApp:()=>Bt,onLog:()=>V,registerVersion:()=>J,setLogLevel:()=>N});var d=k(5861),y=k(4537),z=k(7879),Ce=k(9058);const _e=(st,Ge)=>Ge.some(Et=>st instanceof Et);let Se,Be;const se=new WeakMap,re=new WeakMap,Ie=new WeakMap,lt=new WeakMap,Fe=new WeakMap;let Vt={get(st,Ge,Et){if(st instanceof IDBTransaction){if("done"===Ge)return re.get(st);if("objectStoreNames"===Ge)return st.objectStoreNames||Ie.get(st);if("store"===Ge)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return Le(st[Ge])},set:(st,Ge,Et)=>(st[Ge]=Et,!0),has:(st,Ge)=>st instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in st};function qe(st){return"function"==typeof st?function an(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...Ge){return st.apply(Qe(this),Ge),Le(se.get(this))}:function(...Ge){return Le(st.apply(Qe(this),Ge))}:function(Ge,...Et){const Xt=st.call(Qe(this),Ge,...Et);return Ie.set(Xt,Ge.sort?Ge.sort():[Ge]),Le(Xt)}}(st):(st instanceof IDBTransaction&&function pt(st){if(re.has(st))return;const Ge=new Promise((Et,Xt)=>{const Dn=()=>{st.removeEventListener("complete",pn),st.removeEventListener("error",bn),st.removeEventListener("abort",bn)},pn=()=>{Et(),Dn()},bn=()=>{Xt(st.error||new DOMException("AbortError","AbortError")),Dn()};st.addEventListener("complete",pn),st.addEventListener("error",bn),st.addEventListener("abort",bn)});re.set(st,Ge)}(st),_e(st,function $e(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Vt):st)}function Le(st){if(st instanceof IDBRequest)return function Ct(st){const Ge=new Promise((Et,Xt)=>{const Dn=()=>{st.removeEventListener("success",pn),st.removeEventListener("error",bn)},pn=()=>{Et(Le(st.result)),Dn()},bn=()=>{Xt(st.error),Dn()};st.addEventListener("success",pn),st.addEventListener("error",bn)});return Ge.then(Et=>{Et instanceof IDBCursor&&se.set(Et,st)}).catch(()=>{}),Fe.set(Ge,st),Ge}(st);if(lt.has(st))return lt.get(st);const Ge=qe(st);return Ge!==st&&(lt.set(st,Ge),Fe.set(Ge,st)),Ge}const Qe=st=>Fe.get(st),_t=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],pe=new Map;function Ht(st,Ge){if(!(st instanceof IDBDatabase)||Ge in st||"string"!=typeof Ge)return;if(pe.get(Ge))return pe.get(Ge);const Et=Ge.replace(/FromIndex$/,""),Xt=Ge!==Et,Dn=At.includes(Et);if(!(Et in(Xt?IDBIndex:IDBObjectStore).prototype)||!Dn&&!_t.includes(Et))return;const pn=function(){var bn=(0,d.Z)(function*(Ir,...pr){const ui=this.transaction(Ir,Dn?"readwrite":"readonly");let us=ui.store;return Xt&&(us=us.index(pr.shift())),(yield Promise.all([us[Et](...pr),Dn&&ui.done]))[0]});return function(pr){return bn.apply(this,arguments)}}();return pe.set(Ge,pn),pn}!function Dt(st){Vt=st(Vt)}(st=>({...st,get:(Ge,Et,Xt)=>Ht(Ge,Et)||st.get(Ge,Et,Xt),has:(Ge,Et)=>!!Ht(Ge,Et)||st.has(Ge,Et)}));class tn{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function kn(st){const Ge=st.getComponent();return"VERSION"===Ge?.type}(Et)){const Xt=Et.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(Et=>Et).join(" ")}}const wt="@firebase/app",kt="0.10.5",Ut=new z.Yd("@firebase/app"),wn="[DEFAULT]",gn={[wt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},rr=new Map,cr=new Map,Mr=new Map;function Mn(st,Ge){try{st.container.addComponent(Ge)}catch(Et){Ut.debug(`Component ${Ge.name} failed to register with FirebaseApp ${st.name}`,Et)}}function xr(st,Ge){st.container.addOrOverwriteComponent(Ge)}function Di(st){const Ge=st.name;if(Mr.has(Ge))return Ut.debug(`There were multiple attempts to register component ${Ge}.`),!1;Mr.set(Ge,st);for(const Et of rr.values())Mn(Et,st);for(const Et of cr.values())Mn(Et,st);return!0}function Jt(st,Ge){const Et=st.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),st.container.getProvider(Ge)}function Or(st,Ge,Et=wn){Jt(st,Ge).clearInstance(Et)}function $n(st){return void 0!==st.options}function tr(st){return void 0!==st.settings}function An(){Mr.clear()}const Ue=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ft{constructor(Ge,Et,Xt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}class Q extends ft{constructor(Ge,Et,Xt,Dn){const pn=void 0!==Et.automaticDataCollectionEnabled&&Et.automaticDataCollectionEnabled,bn={name:Xt,automaticDataCollectionEnabled:pn};super(void 0!==Ge.apiKey?Ge:Ge.options,bn,Dn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:pn},Et),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Et.releaseOnDeref=void 0,J(wt,kt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ge){this.isDeleted||(this._refCount++,void 0!==Ge&&this._finalizationRegistry.register(Ge,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ue.create("server-app-deleted")}}const me="10.12.2";function dt(st,Ge={}){let Et=st;"object"!=typeof Ge&&(Ge={name:Ge});const Xt=Object.assign({name:wn,automaticDataCollectionEnabled:!1},Ge),Dn=Xt.name;if("string"!=typeof Dn||!Dn)throw Ue.create("bad-app-name",{appName:String(Dn)});if(Et||(Et=(0,Ce.aH)()),!Et)throw Ue.create("no-options");const pn=rr.get(Dn);if(pn){if((0,Ce.vZ)(Et,pn.options)&&(0,Ce.vZ)(Xt,pn.config))return pn;throw Ue.create("duplicate-app",{appName:Dn})}const bn=new y.H0(Dn);for(const pr of Mr.values())bn.addComponent(pr);const Ir=new ft(Et,Xt,bn);return rr.set(Dn,Ir),Ir}function Bt(st,Ge){if((0,Ce.jU)())throw Ue.create("invalid-server-app-environment");let Et;void 0===Ge.automaticDataCollectionEnabled&&(Ge.automaticDataCollectionEnabled=!1),Et=$n(st)?st.options:st;const Xt=Object.assign(Object.assign({},Ge),Et);if(void 0!==Xt.releaseOnDeref&&delete Xt.releaseOnDeref,void 0!==Ge.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ue.create("finalization-registry-not-supported",{});const pn=""+(ui=JSON.stringify(Xt),[...ui].reduce((us,lr)=>Math.imul(31,us)+lr.charCodeAt(0)|0,0)),bn=cr.get(pn);var ui;if(bn)return bn.incRefCount(Ge.releaseOnDeref),bn;const Ir=new y.H0(pn);for(const ui of Mr.values())Ir.addComponent(ui);const pr=new Q(Et,Ge,pn,Ir);return cr.set(pn,pr),pr}function Tn(st=wn){const Ge=rr.get(st);if(!Ge&&st===wn&&(0,Ce.aH)())return dt();if(!Ge)throw Ue.create("no-app",{appName:st});return Ge}function mr(){return Array.from(rr.values())}function Yn(st){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(st){let Ge=!1;const Et=st.name;rr.has(Et)?(Ge=!0,rr.delete(Et)):cr.has(Et)&&st.decRefCount()<=0&&(cr.delete(Et),Ge=!0),Ge&&(yield Promise.all(st.container.getProviders().map(Xt=>Xt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function J(st,Ge,Et){var Xt;let Dn=null!==(Xt=gn[st])&&void 0!==Xt?Xt:st;Et&&(Dn+=`-${Et}`);const pn=Dn.match(/\s|\//),bn=Ge.match(/\s|\//);if(pn||bn){const Ir=[`Unable to register library "${Dn}" with version "${Ge}":`];return pn&&Ir.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),pn&&bn&&Ir.push("and"),bn&&Ir.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Ut.warn(Ir.join(" "))}Di(new y.wA(`${Dn}-version`,()=>({library:Dn,version:Ge}),"VERSION"))}function V(st,Ge){if(null!==st&&"function"!=typeof st)throw Ue.create("invalid-log-argument");(0,z.Am)(st,Ge)}function N(st){(0,z.Ub)(st)}const O="firebase-heartbeat-database",ue=1,Me="firebase-heartbeat-store";let gt=null;function Pt(){return gt||(gt=function Ze(st,Ge,{blocked:Et,upgrade:Xt,blocking:Dn,terminated:pn}={}){const bn=indexedDB.open(st,Ge),Ir=Le(bn);return Xt&&bn.addEventListener("upgradeneeded",pr=>{Xt(Le(bn.result),pr.oldVersion,pr.newVersion,Le(bn.transaction),pr)}),Et&&bn.addEventListener("blocked",pr=>Et(pr.oldVersion,pr.newVersion,pr)),Ir.then(pr=>{pn&&pr.addEventListener("close",()=>pn()),Dn&&pr.addEventListener("versionchange",ui=>Dn(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),Ir}(O,ue,{upgrade:(st,Ge)=>{if(0===Ge)try{st.createObjectStore(Me)}catch(Et){console.warn(Et)}}}).catch(st=>{throw Ue.create("idb-open",{originalErrorMessage:st.message})})),gt}function Zt(){return(Zt=(0,d.Z)(function*(st){try{const Et=(yield Pt()).transaction(Me),Xt=yield Et.objectStore(Me).get(vn(st));return yield Et.done,Xt}catch(Ge){if(Ge instanceof Ce.ZR)Ut.warn(Ge.message);else{const Et=Ue.create("idb-get",{originalErrorMessage:Ge?.message});Ut.warn(Et.message)}}})).apply(this,arguments)}function Qt(st,Ge){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(st,Ge){try{const Xt=(yield Pt()).transaction(Me,"readwrite");yield Xt.objectStore(Me).put(Ge,vn(st)),yield Xt.done}catch(Et){if(Et instanceof Ce.ZR)Ut.warn(Et.message);else{const Xt=Ue.create("idb-set",{originalErrorMessage:Et?.message});Ut.warn(Xt.message)}}})).apply(this,arguments)}function vn(st){return`${st.name}!${st.options.appId}`}class Si{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new $i(Et),this._heartbeatsCachePromise=this._storage.read().then(Xt=>(this._heartbeatsCache=Xt,Xt))}triggerHeartbeat(){var Ge=this;return(0,d.Z)(function*(){var Et,Xt;const pn=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=ii();if((null!=(null===(Et=Ge._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise,null!=(null===(Xt=Ge._heartbeatsCache)||void 0===Xt?void 0:Xt.heartbeats)))&&Ge._heartbeatsCache.lastSentHeartbeatDate!==bn&&!Ge._heartbeatsCache.heartbeats.some(Ir=>Ir.date===bn))return Ge._heartbeatsCache.heartbeats.push({date:bn,agent:pn}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(Ir=>{const pr=new Date(Ir.date).valueOf();return Date.now()-pr<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,d.Z)(function*(){var Et;if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null==(null===(Et=Ge._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||0===Ge._heartbeatsCache.heartbeats.length)return"";const Xt=ii(),{heartbeatsToSend:Dn,unsentEntries:pn}=function Xi(st,Ge=1024){const Et=[];let Xt=st.slice();for(const Dn of st){const pn=Et.find(bn=>bn.agent===Dn.agent);if(pn){if(pn.dates.push(Dn.date),kr(Et)>Ge){pn.dates.pop();break}}else if(Et.push({agent:Dn.agent,dates:[Dn.date]}),kr(Et)>Ge){Et.pop();break}Xt=Xt.slice(1)}return{heartbeatsToSend:Et,unsentEntries:Xt}}(Ge._heartbeatsCache.heartbeats),bn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Dn}));return Ge._heartbeatsCache.lastSentHeartbeatDate=Xt,pn.length>0?(Ge._heartbeatsCache.heartbeats=pn,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),bn})()}}function ii(){return(new Date).toISOString().substring(0,10)}class $i{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,d.Z)(function*(){if(yield Ge._canUseIndexedDBPromise){const Xt=yield function nn(st){return Zt.apply(this,arguments)}(Ge.app);return Xt?.heartbeats?Xt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ge){var Et=this;return(0,d.Z)(function*(){var Xt;if(yield Et._canUseIndexedDBPromise){const pn=yield Et.read();return Qt(Et.app,{lastSentHeartbeatDate:null!==(Xt=Ge.lastSentHeartbeatDate)&&void 0!==Xt?Xt:pn.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var Et=this;return(0,d.Z)(function*(){var Xt;if(yield Et._canUseIndexedDBPromise){const pn=yield Et.read();return Qt(Et.app,{lastSentHeartbeatDate:null!==(Xt=Ge.lastSentHeartbeatDate)&&void 0!==Xt?Xt:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Ge.heartbeats]})}})()}}function kr(st){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Gn(st){Di(new y.wA("platform-logger",Ge=>new tn(Ge),"PRIVATE")),Di(new y.wA("heartbeat",Ge=>new Si(Ge),"PRIVATE")),J(wt,kt,st),J(wt,kt,"esm2017"),J("fire-js","")}("")},4537:(rn,Xe,k)=>{k.d(Xe,{H0:()=>$e,wA:()=>z});var d=k(5861),y=k(9058);class z{constructor(se,re,Ie){this.name=se,this.instanceFactory=re,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Ce="[DEFAULT]";class _e{constructor(se,re){this.name=se,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const re=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(re)){const Ie=new y.BH;if(this.instancesDeferred.set(re,Ie),this.isInitialized(re)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:re});lt&&Ie.resolve(lt)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(se){var re;const Ie=this.normalizeInstanceIdentifier(se?.identifier),lt=null!==(re=se?.optional)&&void 0!==re&&re;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(Fe){if(lt)return null;throw Fe}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Be(ze){return"EAGER"===ze.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[re,Ie]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(re);try{const Fe=this.getOrInitializeService({instanceIdentifier:lt});Ie.resolve(Fe)}catch{}}}}clearInstance(se=Ce){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,d.Z)(function*(){const re=Array.from(se.instances.values());yield Promise.all([...re.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...re.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Ce){return this.instances.has(se)}getOptions(se=Ce){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:re={}}=se,Ie=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:Ie,options:re});for(const[Fe,Ct]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(Fe)&&Ct.resolve(lt);return lt}onInit(se,re){var Ie;const lt=this.normalizeInstanceIdentifier(re),Fe=null!==(Ie=this.onInitCallbacks.get(lt))&&void 0!==Ie?Ie:new Set;Fe.add(se),this.onInitCallbacks.set(lt,Fe);const Ct=this.instances.get(lt);return Ct&&se(Ct,lt),()=>{Fe.delete(se)}}invokeOnInitCallbacks(se,re){const Ie=this.onInitCallbacks.get(re);if(Ie)for(const lt of Ie)try{lt(se,re)}catch{}}getOrInitializeService({instanceIdentifier:se,options:re={}}){let Ie=this.instances.get(se);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=se,ze===Ce?void 0:ze),options:re}),this.instances.set(se,Ie),this.instancesOptions.set(se,re),this.invokeOnInitCallbacks(Ie,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Ie)}catch{}var ze;return Ie||null}normalizeInstanceIdentifier(se=Ce){return this.component?this.component.multipleInstances?se:Ce:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const re=this.getProvider(se.name);if(re.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);re.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const re=new _e(se,this);return this.providers.set(se,re),re}getProviders(){return Array.from(this.providers.values())}}},7879:(rn,Xe,k)=>{k.d(Xe,{Am:()=>ze,Ub:()=>$e,Yd:()=>Be,in:()=>y});const d=[];var y=function(se){return se[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",se}(y||{});const z={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},Ce=y.INFO,_e={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Se=(se,re,...Ie)=>{if(re<se.logLevel)return;const lt=(new Date).toISOString(),Fe=_e[re];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Fe](`[${lt}]  ${se.name}:`,...Ie)};class Be{constructor(re){this.name=re,this._logLevel=Ce,this._logHandler=Se,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in y))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?z[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...re),this._logHandler(this,y.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...re),this._logHandler(this,y.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,y.INFO,...re),this._logHandler(this,y.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,y.WARN,...re),this._logHandler(this,y.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...re),this._logHandler(this,y.ERROR,...re)}}function $e(se){d.forEach(re=>{re.setLogLevel(se)})}function ze(se,re){for(const Ie of d){let lt=null;re&&re.level&&(lt=z[re.level]),Ie.userLogHandler=null===se?null:(Fe,Ct,...pt)=>{const Vt=pt.map(Dt=>{if(null==Dt)return null;if("string"==typeof Dt)return Dt;if("number"==typeof Dt||"boolean"==typeof Dt)return Dt.toString();if(Dt instanceof Error)return Dt.message;try{return JSON.stringify(Dt)}catch{return null}}).filter(Dt=>Dt).join(" ");Ct>=(lt??Fe.logLevel)&&se({level:y[Ct].toLowerCase(),message:Vt,args:pt,type:Fe.name})}}}},3182:(rn,Xe,k)=>{k.d(Xe,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=k(534);(0,d.registerVersion)("firebase","10.12.2","app")},7142:(rn,Xe,k)=>{k.d(Xe,{Z:()=>d.Z});var d=k(3106);d.Z.registerVersion("firebase","10.12.2","app-compat")},6365:(rn,Xe,k)=>{k.r(Xe);var d=k(5861),y=k(3106),z=k(35),Ce=k(9058),Be=(k(534),k(7879),k(4537));function $e(){return window}function re(){return re=(0,d.Z)(function*(V,N,O){var ue;const{BuildInfo:Me}=$e();(0,z.au)(N.sessionId,"AuthEvent did not contain a session ID");const gt=yield function Dt(V){return an.apply(this,arguments)}(N.sessionId),Pt={};return(0,z.av)()?Pt.ibi=Me.packageName:(0,z.aw)()?Pt.apn=Me.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),Me.displayName&&(Pt.appDisplayName=Me.displayName),Pt.sessionId=gt,(0,z.ay)(V,O,N.type,void 0,null!==(ue=N.eventId)&&void 0!==ue?ue:void 0,Pt)}),re.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(V){const{BuildInfo:N}=$e(),O={};(0,z.av)()?O.iosBundleId=N.packageName:(0,z.aw)()?O.androidPackageName=N.packageName:(0,z.ax)(V,"operation-not-supported-in-this-environment"),yield(0,z.az)(V,O)})).apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(V,N,O){const{cordova:ue}=$e();let Me=()=>{};try{yield new Promise((gt,Pt)=>{let nn=null;function Zt(){var vn;gt();const ir=null===(vn=ue.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof ir&&ir(),"function"==typeof O?.close&&O.close()}function Qt(){nn||(nn=window.setTimeout(()=>{Pt((0,z.aB)(V,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===document?.visibilityState&&Qt()}N.addPassiveListener(Zt),document.addEventListener("resume",Qt,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",zn,!1),Me=()=>{N.removePassiveListener(Zt),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",zn,!1),nn&&window.clearTimeout(nn)}})}finally{Me()}})).apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(V){const N=function qe(V){if((0,z.au)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const N=new ArrayBuffer(V.length),O=new Uint8Array(N);for(let ue=0;ue<V.length;ue++)O[ue]=V.charCodeAt(ue);return O}(V),O=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(O)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Qe extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(N)),super.onEvent(N)}initialized(){var N=this;return(0,d.Z)(function*(){yield N.initPromise})()}}function _t(V){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(V){const N=yield tn()._get(kn(V));return N&&(yield tn()._remove(kn(V))),N})).apply(this,arguments)}function Ht(){const V=[];for(let O=0;O<20;O++){const ue=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ue))}return V.join("")}function tn(){return(0,z.aE)(z.b)}function kn(V){return(0,z.aF)("authEvent",V.config.apiKey,V.name)}function Ut(V){if(!V?.includes("?"))return{};const[N,...O]=V.split("?");return(0,Ce.zd)(O.join("?"))}const oe=class we{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(N){var O=this;return(0,d.Z)(function*(){const ue=N._key();let Me=O.eventManagers.get(ue);return Me||(Me=new Qe(N),O.eventManagers.set(ue,Me),O.attachCallbackListeners(N,Me)),Me})()}_openPopup(N){(0,z.ax)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,O,ue,Me){var gt=this;return(0,d.Z)(function*(){!function Vt(V){var N,O,ue,Me,gt,Pt,nn,Zt,Qt,zn;const vn=$e();(0,z.aC)("function"==typeof(null===(N=vn?.universalLinks)||void 0===N?void 0:N.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(O=vn?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===(gt=null===(Me=null===(ue=vn?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===gt?void 0:gt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(Zt=null===(nn=null===(Pt=vn?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===nn?void 0:nn.browsertab)||void 0===Zt?void 0:Zt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(zn=null===(Qt=vn?.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===zn?void 0:zn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Pt=yield gt._initialize(N);yield Pt.initialized(),Pt.resetRedirect(),(0,z.aI)(),yield gt._originValidation(N);const nn=function Ze(V,N,O=null){return{type:N,eventId:O,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:V.tenantId,error:(0,z.aB)(V,"no-auth-event")}}(N,ue,Me);yield function Ye(V,N){return tn()._set(kn(V),N)}(N,nn);const Zt=yield function se(V,N,O){return re.apply(this,arguments)}(N,nn,O),Qt=yield function Fe(V){const{cordova:N}=$e();return new Promise(O=>{N.plugins.browsertab.isAvailable(ue=>{let Me=null;ue?N.plugins.browsertab.openUrl(V):Me=N.InAppBrowser.open(V,(0,z.aA)()?"_blank":"_system","location=yes"),O(Me)})})}(Zt);return function Ct(V,N,O){return pt.apply(this,arguments)}(N,Pt,Qt)})()}_isIframeWebStorageSupported(N,O){throw new Error("Method not implemented.")}_originValidation(N){const O=N._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Ie(V){return lt.apply(this,arguments)}(N)),this.originValidationPromises[O]}attachCallbackListeners(N,O){const{universalLinks:ue,handleOpenURL:Me,BuildInfo:gt}=$e(),Pt=setTimeout((0,d.Z)(function*(){yield _t(N),O.onEvent(be())}),500),nn=function(){var zn=(0,d.Z)(function*(vn){clearTimeout(Pt);const ir=yield _t(N);let Fi=null;ir&&vn?.url&&(Fi=function pe(V,N){var O,ue;const Me=function kt(V){const N=Ut(V),O=N.link?decodeURIComponent(N.link):void 0,ue=Ut(O).link,Me=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Ut(Me).link||Me||ue||O||V}(N);if(Me.includes("/__/auth/callback")){const gt=Ut(Me),Pt=gt.firebaseError?function wt(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(gt.firebaseError)):null,nn=null===(ue=null===(O=Pt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ue?void 0:ue[1],Zt=nn?(0,z.aB)(nn):null;return Zt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Me,postBody:null}}return null}(ir,vn.url)),O.onEvent(Fi||be())});return function(ir){return zn.apply(this,arguments)}}();typeof ue<"u"&&"function"==typeof ue.subscribe&&ue.subscribe(null,nn);const Zt=Me,Qt=`${gt.packageName.toLowerCase()}://`;$e().handleOpenURL=function(){var zn=(0,d.Z)(function*(vn){if(vn.toLowerCase().startsWith(Qt)&&nn({url:vn}),"function"==typeof Zt)try{Zt(vn)}catch(ir){console.error(ir)}});return function(vn){return zn.apply(this,arguments)}}()}};function be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function yt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function sn(V=(0,Ce.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rt(){try{const V=self.localStorage,N=z.aN();if(V)return V.setItem(N,"1"),V.removeItem(N),!function er(V=(0,Ce.z$)()){return function Pn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function _n(V=(0,Ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,Ce.hl)()}catch{return En()&&(0,Ce.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function vt(){return"http:"===yt()||"https:"===yt()}()||(0,Ce.ru)()||sn())&&!function qt(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Rt()&&!En()}function Lt(){return sn()&&typeof document<"u"}function Ar(){return(Ar=(0,d.Z)(function*(){return!!Lt()&&new Promise(V=>{const N=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),V(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=z.aC,Mt="persistence";function wn(V){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(V){yield V._initializationPromise;const N=cr(),O=z.aF(Mt,V.config.apiKey,V.name);N&&N.setItem(O,V._getPersistence())})).apply(this,arguments)}function cr(){var V;try{return(null===(V=function en(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Mr=z.aC;class Mn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(oe),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(N){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,O,ue,Me){var gt=this;return(0,d.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(N,O,ue,Me)})()}_openRedirect(N,O,ue,Me){var gt=this;return(0,d.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(N,O,ue,Me)})()}_isIframeWebStorageSupported(N,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,O)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Lt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,d.Z)(function*(){if(N.underlyingResolver)return;const O=yield function Ot(){return Ar.apply(this,arguments)}();N.underlyingResolver=O?N.cordovaResolver:N.browserResolver})()}}function xr(V){return V.unwrap()}function Jt(V){return $n(V)}function $n(V){const{_tokenResponse:N}=V instanceof Ce.ZR?V.customData:V;if(!N)return null;if(!(V instanceof Ce.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return z.P.credentialFromResult(V);const O=N.providerId;if(!O||O===z.p.PASSWORD)return null;let ue;switch(O){case z.p.GOOGLE:ue=z.X;break;case z.p.FACEBOOK:ue=z.W;break;case z.p.GITHUB:ue=z.Y;break;case z.p.TWITTER:ue=z.$;break;default:const{oauthIdToken:Me,oauthAccessToken:gt,oauthTokenSecret:Pt,pendingToken:nn,nonce:Zt}=N;return gt||Pt||Me||nn?nn?O.startsWith("saml.")?z.aQ._create(O,nn):z.N._fromParams({providerId:O,signInMethod:O,pendingToken:nn,idToken:Me,accessToken:gt}):new z.Z(O).credential({idToken:Me,accessToken:gt,rawNonce:Zt}):null}return V instanceof Ce.ZR?ue.credentialFromError(V):ue.credentialFromResult(V)}function tr(V,N){return N.catch(O=>{throw O instanceof Ce.ZR&&function Or(V,N){var O;const ue=null===(O=N.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Ue(V,z.as(V,N));else if(ue){const Me=$n(N),gt=N;Me&&(gt.credential=Me,gt.tenantId=ue.tenantId||void 0,gt.email=ue.email||void 0,gt.phoneNumber=ue.phoneNumber||void 0)}}(V,O),O}).then(O=>{const Me=O.user;return{operationType:O.operationType,credential:Jt(O),additionalUserInfo:z.aq(O),user:ft.getOrCreate(Me)}})}function An(V,N){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(V,N){const O=yield N;return{verificationId:O.verificationId,confirm:ue=>tr(V,O.confirm(ue))}})).apply(this,arguments)}class Ue{constructor(N,O){this.resolver=O,this.auth=function Di(V){return V.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return tr(xr(this.auth),this.resolver.resolveSignIn(N))}}class ft{constructor(N){this._delegate=N,this.multiFactor=z.at(N)}static getOrCreate(N){return ft.USER_MAP.has(N)||ft.USER_MAP.set(N,new ft(N)),ft.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var O=this;return(0,d.Z)(function*(){return tr(O.auth,z.a2(O._delegate,N))})()}linkWithPhoneNumber(N,O){var ue=this;return(0,d.Z)(function*(){return An(ue.auth,z.l(ue._delegate,N,O))})()}linkWithPopup(N){var O=this;return(0,d.Z)(function*(){return tr(O.auth,z.d(O._delegate,N,Mn))})()}linkWithRedirect(N){var O=this;return(0,d.Z)(function*(){return yield wn(z.aJ(O.auth)),z.g(O._delegate,N,Mn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var O=this;return(0,d.Z)(function*(){return tr(O.auth,z.a3(O._delegate,N))})()}reauthenticateWithPhoneNumber(N,O){return An(this.auth,z.r(this._delegate,N,O))}reauthenticateWithPopup(N){return tr(this.auth,z.e(this._delegate,N,Mn))}reauthenticateWithRedirect(N){var O=this;return(0,d.Z)(function*(){return yield wn(z.aJ(O.auth)),z.h(O._delegate,N,Mn)})()}sendEmailVerification(N){return z.ag(this._delegate,N)}unlink(N){var O=this;return(0,d.Z)(function*(){return yield z.ap(O._delegate,N),O})()}updateEmail(N){return z.al(this._delegate,N)}updatePassword(N){return z.am(this._delegate,N)}updatePhoneNumber(N){return z.u(this._delegate,N)}updateProfile(N){return z.ak(this._delegate,N)}verifyBeforeUpdateEmail(N,O){return z.ah(this._delegate,N,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const Q=z.aC;let me=(()=>{class V{constructor(O,ue){if(this.app=O,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=O.options;Q(Me,"invalid-api-key",{appName:O.name}),Q(Me,"invalid-api-key",{appName:O.name});const gt=typeof window<"u"?Mn:void 0;this._delegate=ue.initialize({options:{persistence:Bt(Me,O.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ue){z.K(this._delegate,O,ue)}applyActionCode(O){return z.a7(this._delegate,O)}checkActionCode(O){return z.a8(this._delegate,O)}confirmPasswordReset(O,ue){return z.a6(this._delegate,O,ue)}createUserWithEmailAndPassword(O,ue){var Me=this;return(0,d.Z)(function*(){return tr(Me._delegate,z.aa(Me._delegate,O,ue))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return z.af(this._delegate,O)}isSignInWithEmailLink(O){return z.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){Q(On(),O._delegate,"operation-not-supported-in-this-environment");const ue=yield z.j(O._delegate,Mn);return ue?tr(O._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function He(V,N){(0,z.aJ)(V)._logFramework(N)}(this._delegate,O)}onAuthStateChanged(O,ue,Me){const{next:gt,error:Pt,complete:nn}=dt(O,ue,Me);return this._delegate.onAuthStateChanged(gt,Pt,nn)}onIdTokenChanged(O,ue,Me){const{next:gt,error:Pt,complete:nn}=dt(O,ue,Me);return this._delegate.onIdTokenChanged(gt,Pt,nn)}sendSignInLinkToEmail(O,ue){return z.ac(this._delegate,O,ue)}sendPasswordResetEmail(O,ue){return z.a5(this._delegate,O,ue||void 0)}setPersistence(O){var ue=this;return(0,d.Z)(function*(){let Me;switch(function cn(V,N){Fn(Object.values(ar).includes(N),V,"invalid-persistence-type"),(0,Ce.b$)()?Fn(N!==ar.SESSION,V,"unsupported-persistence-type"):(0,Ce.UG)()?Fn(N===ar.NONE,V,"unsupported-persistence-type"):En()?Fn(N===ar.NONE||N===ar.LOCAL&&(0,Ce.hl)(),V,"unsupported-persistence-type"):Fn(N===ar.NONE||Rt(),V,"unsupported-persistence-type")}(ue._delegate,O),O){case ar.SESSION:Me=z.a;break;case ar.LOCAL:Me=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case ar.NONE:Me=z.U;break;default:return z.ax("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return tr(this._delegate,z.a0(this._delegate))}signInWithCredential(O){return tr(this._delegate,z.a1(this._delegate,O))}signInWithCustomToken(O){return tr(this._delegate,z.a4(this._delegate,O))}signInWithEmailAndPassword(O,ue){return tr(this._delegate,z.ab(this._delegate,O,ue))}signInWithEmailLink(O,ue){return tr(this._delegate,z.ae(this._delegate,O,ue))}signInWithPhoneNumber(O,ue){return An(this._delegate,z.s(this._delegate,O,ue))}signInWithPopup(O){var ue=this;return(0,d.Z)(function*(){return Q(On(),ue._delegate,"operation-not-supported-in-this-environment"),tr(ue._delegate,z.c(ue._delegate,O,Mn))})()}signInWithRedirect(O){var ue=this;return(0,d.Z)(function*(){return Q(On(),ue._delegate,"operation-not-supported-in-this-environment"),yield wn(ue._delegate),z.f(ue._delegate,O,Mn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return z.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=ar,V})();function dt(V,N,O){let ue=V;"function"!=typeof V&&({next:ue,error:N,complete:O}=V);const Me=ue;return{next:Pt=>Me(Pt&&ft.getOrCreate(Pt)),error:N,complete:O}}function Bt(V,N){const O=function rr(V,N){const O=cr();if(!O)return[];const ue=z.aF(Mt,V,N);switch(O.getItem(ue)){case ar.NONE:return[z.U];case ar.LOCAL:return[z.i,z.a];case ar.SESSION:return[z.a];default:return[]}}(V,N);if(typeof self<"u"&&!O.includes(z.i)&&O.push(z.i),typeof window<"u")for(const ue of[z.b,z.a])O.includes(ue)||O.push(ue);return O.includes(z.U)||O.push(z.U),O}class Tn{constructor(){this.providerId="phone",this._delegate=new z.P(xr(y.Z.auth()))}static credential(N,O){return z.P.credential(N,O)}verifyPhoneNumber(N,O){return this._delegate.verifyPhoneNumber(N,O)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=z.P.PROVIDER_ID;const mr=z.aC;class Yn{constructor(N,O,ue=y.Z.app()){var Me;mr(null===(Me=ue.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new z.R(ue.auth(),N,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(V){V.INTERNAL.registerComponent(new Be.wA("auth-compat",N=>{const O=N.getProvider("app-compat").getImmediate(),ue=N.getProvider("auth");return new me(O,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Yn,TwitterAuthProvider:z.$,Auth:me,AuthCredential:z.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.5.9")}(y.Z)},5861:(rn,Xe,k)=>{function d(z,Ce,_e,Se,Be,$e,ze){try{var se=z[$e](ze),re=se.value}catch(Ie){return void _e(Ie)}se.done?Ce(re):Promise.resolve(re).then(Se,Be)}function y(z){return function(){var Ce=this,_e=arguments;return new Promise(function(Se,Be){var $e=z.apply(Ce,_e);function ze(re){d($e,Se,Be,ze,se,"next",re)}function se(re){d($e,Se,Be,ze,se,"throw",re)}ze(void 0)})}}k.d(Xe,{Z:()=>y})},7582:(rn,Xe,k)=>{function Ce(oe,be){var He={};for(var ye in oe)Object.prototype.hasOwnProperty.call(oe,ye)&&be.indexOf(ye)<0&&(He[ye]=oe[ye]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(ye=Object.getOwnPropertySymbols(oe);ve<ye.length;ve++)be.indexOf(ye[ve])<0&&Object.prototype.propertyIsEnumerable.call(oe,ye[ve])&&(He[ye[ve]]=oe[ye[ve]])}return He}function Ie(oe,be,He,ye){return new(He||(He=Promise))(function(Ne,yt){function vt(Pn){try{qt(ye.next(Pn))}catch(_n){yt(_n)}}function sn(Pn){try{qt(ye.throw(Pn))}catch(_n){yt(_n)}}function qt(Pn){Pn.done?Ne(Pn.value):function ve(Ne){return Ne instanceof He?Ne:new He(function(yt){yt(Ne)})}(Pn.value).then(vt,sn)}qt((ye=ye.apply(oe,be||[])).next())})}function Le(oe){return this instanceof Le?(this.v=oe,this):new Le(oe)}function Qe(oe,be,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ye=He.apply(oe,be||[]),Ne=[];return ve={},vt("next"),vt("throw"),vt("return",function yt(Rt){return function(En){return Promise.resolve(En).then(Rt,_n)}}),ve[Symbol.asyncIterator]=function(){return this},ve;function vt(Rt,En){ye[Rt]&&(ve[Rt]=function(On){return new Promise(function(Lt,Ot){Ne.push([Rt,On,Lt,Ot])>1||sn(Rt,On)})},En&&(ve[Rt]=En(ve[Rt])))}function sn(Rt,En){try{!function qt(Rt){Rt.value instanceof Le?Promise.resolve(Rt.value.v).then(Pn,_n):er(Ne[0][2],Rt)}(ye[Rt](En))}catch(On){er(Ne[0][3],On)}}function Pn(Rt){sn("next",Rt)}function _n(Rt){sn("throw",Rt)}function er(Rt,En){Rt(En),Ne.shift(),Ne.length&&sn(Ne[0][0],Ne[0][1])}}function Ye(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,be=oe[Symbol.asyncIterator];return be?be.call(oe):(oe=function pt(oe){var be="function"==typeof Symbol&&Symbol.iterator,He=be&&oe[be],ye=0;if(He)return He.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ye>=oe.length&&(oe=void 0),{value:oe&&oe[ye++],done:!oe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),He={},ye("next"),ye("throw"),ye("return"),He[Symbol.asyncIterator]=function(){return this},He);function ye(Ne){He[Ne]=oe[Ne]&&function(yt){return new Promise(function(vt,sn){!function ve(Ne,yt,vt,sn){Promise.resolve(sn).then(function(qt){Ne({value:qt,done:vt})},yt)}(vt,sn,(yt=oe[Ne](yt)).done,yt.value)})}}}k.d(Xe,{FC:()=>Qe,KL:()=>Ye,_T:()=>Ce,mG:()=>Ie,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=7877)}]);