"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(rn,Ze,F)=>{F.d(Ze,{$:()=>Qa,A:()=>ee,G:()=>Me,K:()=>xr,L:()=>Zi,N:()=>Se,P:()=>Wo,R:()=>Mu,U:()=>an,V:()=>Li,W:()=>Ri,X:()=>Yr,Y:()=>Uo,Z:()=>Oi,_:()=>ta,a:()=>Va,a0:()=>So,a1:()=>rs,a2:()=>to,a3:()=>Qs,a4:()=>ji,a5:()=>Na,a6:()=>bu,a7:()=>Dl,a8:()=>jo,a9:()=>Tu,aA:()=>or,aB:()=>et,aC:()=>Ce,aD:()=>dp,aE:()=>ht,aF:()=>fn,aG:()=>qh,aH:()=>Vl,aI:()=>Wh,aJ:()=>gr,aN:()=>Pr,aQ:()=>Ys,aa:()=>Vh,ab:()=>Iu,ac:()=>nl,ad:()=>ka,ae:()=>Fa,af:()=>Lc,ag:()=>ne,ah:()=>Y,ak:()=>Un,al:()=>hi,am:()=>Nr,ap:()=>Ro,aq:()=>Ci,as:()=>Ml,at:()=>na,au:()=>pn,av:()=>yi,aw:()=>Fi,ax:()=>we,ay:()=>ml,az:()=>Ko,b:()=>ic,c:()=>cl,d:()=>Lu,e:()=>Hh,f:()=>hl,g:()=>ac,h:()=>Ul,i:()=>O,j:()=>cp,k:()=>tf,l:()=>Ca,m:()=>Kc,p:()=>$e,r:()=>xu,s:()=>sa,u:()=>ku});var o=F(467),ue=F(7852),i=F(1076),ve=F(8041),_e=F(1635),De=F(1362);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Oe=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new ve.Vy("@firebase/auth");function We(C,..._){kt.logLevel<=ve.$b.ERROR&&kt.error(`Auth (${ue.SDK_VERSION}): ${C}`,..._)}function we(C,..._){throw Ot(C,..._)}function et(C,..._){return Ot(C,..._)}function Ue(C,_,v){const S=Object.assign(Object.assign({},Oe()),{[_]:v});return new i.FA("auth","Firebase",S).create(_,{appName:C.name})}function tt(C){return Ue(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ge(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&we(C,"argument-error"),Ue(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(C,..._){if("string"!=typeof C){const v=_[0],S=[..._.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(v,...S)}return ot.create(C,..._)}function Ce(C,_,...v){if(!C)throw Ot(_,...v)}function Yt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw We(_),new Error(_)}function pn(C,_){C||Yt(_)}function ir(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Xe(){return"http:"===Mt()||"https:"===Mt()}function Mt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ne{constructor(_,v){this.shortDelay=_,this.longDelay=v,pn(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(C,_){pn(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class tn{static initialize(_,v,S){this.fetchImpl=_,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new Ne(3e4,6e4);function Ie(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Fe(C,_,v,S){return ut.apply(this,arguments)}function ut(){return(ut=(0,o.A)(function*(C,_,v,S,X={}){return it(C,X,(0,o.A)(function*(){let he={},Qe={};S&&("GET"===_?Qe=S:he={body:JSON.stringify(S)});const Pt=(0,i.Am)(Object.assign({key:C.config.apiKey},Qe)).slice(1),zt=yield C._getAdditionalHeaders();zt["Content-Type"]="application/json",C.languageCode&&(zt["X-Firebase-Locale"]=C.languageCode);const xn=Object.assign({method:_,headers:zt},he);return(0,i.c1)()||(xn.referrerPolicy="no-referrer"),tn.fetch()(sn(C,C.config.apiHost,v,Pt),xn)}))})).apply(this,arguments)}function it(C,_,v){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*(C,_,v){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ke),_);try{const X=new Jt(C),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const Qe=yield he.json();if("needConfirmation"in Qe)throw $n(C,"account-exists-with-different-credential",Qe);if(he.ok&&!("errorMessage"in Qe))return Qe;{const Pt=he.ok?Qe.errorMessage:Qe.error.message,[zt,xn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw $n(C,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===zt)throw $n(C,"email-already-in-use",Qe);if("USER_DISABLED"===zt)throw $n(C,"user-disabled",Qe);const Mn=S[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw Ue(C,Mn,xn);we(C,Mn)}}catch(X){if(X instanceof i.g)throw X;we(C,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function wn(C,_,v,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,o.A)(function*(C,_,v,S,X={}){const he=yield Fe(C,_,v,S,X);return"mfaPendingCredential"in he&&we(C,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function sn(C,_,v,S){const X=`${_}${v}?${S}`;return C.config.emulator?st(C.config,X):`${C.config.apiScheme}://${X}`}function Vn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(et(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(C,_,v){const S={appName:C.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=et(C,_,S);return X.customData._tokenResponse=v,X}function On(C){return void 0!==C&&void 0!==C.getResponse}function Ht(C){return void 0!==C&&void 0!==C.enterprise}class jt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Vn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function on(){return(on=(0,o.A)(function*(C){return(yield Fe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kr(C,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.A)(function*(C,_){return Fe(C,"GET","/v2/recaptchaConfig",Ie(C,_))})).apply(this,arguments)}function Tn(){return(Tn=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function In(){return(In=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $r(C,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ni(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function gs(){return(gs=(0,o.A)(function*(C,_=!1){const v=(0,i.Ku)(C),S=yield v.getIdToken(_),X=ri(S);Ce(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,Qe=he?.sign_in_provider;return{claims:X,token:S,authTime:ni(hn(X.auth_time)),issuedAtTime:ni(hn(X.iat)),expirationTime:ni(hn(X.exp)),signInProvider:Qe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(C){return 1e3*Number(C)}function ri(C){const[_,v,S]=C.split(".");if(void 0===_||void 0===v||void 0===S)return We("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(We("Failed to decode base64 JWT payload"),null)}catch(X){return We("Caught error parsing JWT payload as JSON",X?.toString()),null}}function Jn(C){const _=ri(C);return Ce(_,"internal-error"),Ce(typeof _.exp<"u","internal-error"),Ce(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function Ir(C,_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,o.A)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(S){throw S instanceof i.g&&function Di({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}class at{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(_);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var _=this;return(0,o.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Tt{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ni(this.lastLoginAt),this.creationTime=ni(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ce(C){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.A)(function*(C){var _;const v=C.auth,S=yield C.getIdToken(),X=yield Ir(C,$r(v,{idToken:S}));Ce(X?.users.length,v,"internal-error");const he=X.users[0];C._notifyReloadListener(he);const Qe=null!==(_=he.providerUserInfo)&&void 0!==_&&_.length?yt(he.providerUserInfo):[],Pt=function be(C,_){return[...C.filter(S=>!_.some(X=>X.providerId===S.providerId)),..._]}(C.providerData,Qe),Mn=!!C.isAnonymous&&!(C.email&&he.passwordHash||Pt?.length),ti={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Pt,metadata:new Tt(he.createdAt,he.lastLoginAt),isAnonymous:Mn};Object.assign(C,ti)})).apply(this,arguments)}function pt(){return(pt=(0,o.A)(function*(C){const _=(0,i.Ku)(C);yield ce(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function yt(C){return C.map(_=>{var{providerId:v}=_,S=(0,_e.Tt)(_,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function br(){return(br=(0,o.A)(function*(C,_){const v=yield it(C,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:X,apiKey:he}=C.config,Qe=sn(C,X,"/v1/token",`key=${he}`),Pt=yield C._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(Qe,{method:"POST",headers:Pt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(C,_){return Fe(C,"POST","/v2/accounts:revokeToken",Ie(C,_))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ce(_.idToken,"internal-error"),Ce(typeof _.idToken<"u","internal-error"),Ce(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Jn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ce(0!==_.length,"internal-error");const v=Jn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ce(S.refreshToken,_,"user-token-expired"),S.refreshToken?(yield S.refresh(_,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:Qe}=yield function Xt(C,_){return br.apply(this,arguments)}(_,v);S.updateTokensAndExpiration(X,he,Number(Qe))})()}updateTokensAndExpiration(_,v,S){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(_,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,Qe=new M;return S&&(Ce("string"==typeof S,"internal-error",{appName:_}),Qe.refreshToken=S),X&&(Ce("string"==typeof X,"internal-error",{appName:_}),Qe.accessToken=X),he&&(Ce("number"==typeof he,"internal-error",{appName:_}),Qe.expirationTime=he),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function L(C,_){Ce("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class ie{constructor(_){var{uid:v,auth:S,stsTokenManager:X}=_,he=(0,_e.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Tt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,o.A)(function*(){const S=yield Ir(v,v.stsTokenManager.getToken(v.auth,_));return Ce(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(_){return function fi(C){return gs.apply(this,arguments)}(this,_)}reload(){return function fe(C){return pt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ce(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new ie(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var S=this;return(0,o.A)(function*(){let X=!1;_.idToken&&_.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(_),X=!0),v&&(yield ce(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var _=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(_.auth.app))return Promise.reject(tt(_.auth));const v=yield _.getIdToken();return yield Ir(_,function $t(C,_){return Tn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var S,X,he,Qe,Pt,zt,xn,Mn;const ti=null!==(S=v.displayName)&&void 0!==S?S:void 0,ko=null!==(X=v.email)&&void 0!==X?X:void 0,aa=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,uc=null!==(Qe=v.photoURL)&&void 0!==Qe?Qe:void 0,Hd=null!==(Pt=v.tenantId)&&void 0!==Pt?Pt:void 0,zd=null!==(zt=v._redirectEventId)&&void 0!==zt?zt:void 0,Ga=null!==(xn=v.createdAt)&&void 0!==xn?xn:void 0,Og=null!==(Mn=v.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:Ng,emailVerified:la,isAnonymous:gp,providerData:Xc,stsTokenManager:rf}=v;Ce(Ng&&rf,_,"internal-error");const Qc=M.fromJSON(this.name,rf);Ce("string"==typeof Ng,_,"internal-error"),L(ti,_.name),L(ko,_.name),Ce("boolean"==typeof la,_,"internal-error"),Ce("boolean"==typeof gp,_,"internal-error"),L(aa,_.name),L(uc,_.name),L(Hd,_.name),L(zd,_.name),L(Ga,_.name),L(Og,_.name);const Wu=new ie({uid:Ng,auth:_,email:ko,emailVerified:la,displayName:ti,isAnonymous:gp,photoURL:uc,phoneNumber:aa,tenantId:Hd,stsTokenManager:Qc,createdAt:Ga,lastLoginAt:Og});return Xc&&Array.isArray(Xc)&&(Wu.providerData=Xc.map(Ku=>Object.assign({},Ku))),zd&&(Wu._redirectEventId=zd),Wu}static _fromIdTokenResponse(_,v,S=!1){return(0,o.A)(function*(){const X=new M;X.updateFromServerResponse(v);const he=new ie({uid:v.localId,auth:_,stsTokenManager:X,isAnonymous:S});return yield ce(he),he})()}static _fromGetAccountInfoResponse(_,v,S){return(0,o.A)(function*(){const X=v.users[0];Ce(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?yt(X.providerUserInfo):[],Qe=!(X.email&&X.passwordHash||he?.length),Pt=new M;Pt.updateFromIdToken(S);const zt=new ie({uid:X.localId,auth:_,stsTokenManager:Pt,isAnonymous:Qe}),xn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new Tt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(zt,xn),zt})()}}const me=new Map;function ht(C){pn(C instanceof Function,"Expected a class definition");let _=me.get(C);return _?(pn(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,me.set(C,_),_)}const an=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,o.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return C.type="NONE",C})();function fn(C,_,v){return`firebase:${C}:${_}:${v}`}class Sn{constructor(_,v,S){this.persistence=_,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=fn(this.userKey,X.apiKey,he),this.fullPersistenceKey=fn("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?ie._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,o.A)(function*(){if(v.persistence===_)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Sn(ht(an),_,S);const X=(yield Promise.all(v.map(function(){var xn=(0,o.A)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let he=X[0]||ht(an);const Qe=fn(S,_.config.apiKey,_.name);let Pt=null;for(const xn of v)try{const Mn=yield xn._get(Qe);if(Mn){const ti=ie._fromJSON(_,Mn);xn!==he&&(Pt=ti),he=xn;break}}catch{}const zt=X.filter(xn=>xn._shouldAllowMigration);return he._shouldAllowMigration&&zt.length?(he=zt[0],Pt&&(yield he._set(Qe,Pt.toJSON())),yield Promise.all(v.map(function(){var xn=(0,o.A)(function*(Mn){if(Mn!==he)try{yield Mn._remove(Qe)}catch{}});return function(Mn){return xn.apply(this,arguments)}}())),new Sn(he,_,S)):new Sn(he,_,S)})()}}function Tr(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Bs(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ln(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(ms(_))return"Blackberry";if(_s(_))return"Webos";if(qr(_))return"Safari";if((_.includes("chrome/")||ur(_))&&!_.includes("edge/"))return"Chrome";if(Fi(_))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function ln(C=(0,i.ZQ)()){return/firefox\//i.test(C)}function qr(C=(0,i.ZQ)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ur(C=(0,i.ZQ)()){return/crios\//i.test(C)}function Bs(C=(0,i.ZQ)()){return/iemobile/i.test(C)}function Fi(C=(0,i.ZQ)()){return/android/i.test(C)}function ms(C=(0,i.ZQ)()){return/blackberry/i.test(C)}function _s(C=(0,i.ZQ)()){return/webos/i.test(C)}function yi(C=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function or(C=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function lt(C=(0,i.ZQ)()){return yi(C)||Fi(C)||_s(C)||ms(C)||/windows phone/i.test(C)||Bs(C)}function Nt(C,_=[]){let v;switch(C){case"Browser":v=Tr((0,i.ZQ)());break;case"Worker":v=`${Tr((0,i.ZQ)())}-${C}`;break;default:v=C}const S=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class cn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const S=he=>new Promise((Qe,Pt)=>{try{Qe(_(he))}catch(zt){Pt(zt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===_)return;const S=[];try{for(const X of v.queue)yield X(_),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Ln(){return(Ln=(0,o.A)(function*(C,_={}){return Fe(C,"GET","/v2/passwordPolicy",Ie(C,_))})).apply(this,arguments)}class Gr{constructor(_){var v,S,X,he;const Qe=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Qe.minPasswordLength)&&void 0!==v?v:6,Qe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Qe.maxPasswordLength),void 0!==Qe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Qe.containsLowercaseCharacter),void 0!==Qe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Qe.containsUppercaseCharacter),void 0!==Qe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Qe.containsNumericCharacter),void 0!==Qe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Qe.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=_.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=_.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,S,X,he,Qe,Pt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,zt),this.validatePasswordCharacterOptions(_,zt),zt.isValid&&(zt.isValid=null===(v=zt.meetsMinPasswordLength)||void 0===v||v),zt.isValid&&(zt.isValid=null===(S=zt.meetsMaxPasswordLength)||void 0===S||S),zt.isValid&&(zt.isValid=null===(X=zt.containsLowercaseLetter)||void 0===X||X),zt.isValid&&(zt.isValid=null===(he=zt.containsUppercaseLetter)||void 0===he||he),zt.isValid&&(zt.isValid=null===(Qe=zt.containsNumericCharacter)||void 0===Qe||Qe),zt.isValid&&(zt.isValid=null===(Pt=zt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),zt}validatePasswordLengthOptions(_,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=_.length>=S),X&&(v.meetsMaxPasswordLength=_.length<=X)}validatePasswordCharacterOptions(_,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<_.length;X++)S=_.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(_,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=he))}}class Jr{constructor(_,v,S,X){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(_,v){var S=this;return v&&(this._popupRedirectResolver=ht(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Sn.create(S,_),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,o.A)(function*(){try{const S=yield $r(v,{idToken:_}),X=yield ie._fromGetAccountInfoResponse(v,S,_);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,o.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const Pt=v.app.settings.authIdToken;return Pt?new Promise(zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Pt).then(zt,zt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,Qe=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Pt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,zt=he?._redirectEventId,xn=yield v.tryRedirectSignIn(_);(!Pt||Pt===zt)&&xn?.user&&(he=xn.user,Qe=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(Qe)try{yield v.beforeStateQueue.runMiddleware(he)}catch(Pt){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Pt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return Ce(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(_){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,o.A)(function*(){try{yield ce(_)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,o.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(tt(v));const S=_?(0,i.Ku)(_):null;return S&&Ce(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(_,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return _&&Ce(S.tenantId===_.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(_)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(_),S.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.A)(function*(){return(0,ue._isFirebaseServerApp)(_.app)?Promise.reject(tt(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(tt(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(ht(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,o.A)(function*(){const v=yield function Bn(C){return Ln.apply(this,arguments)}(_),S=new Gr(v);null===_.tenantId?_._projectPasswordPolicy=S:_._tenantPasswordPolicies[_.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new i.FA("auth","Firebase",_())}onAuthStateChanged(_,v,S){return this.registerStateListener(this.authStateSubscription,_,v,S)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,S){return this.registerStateListener(this.idTokenSubscription,_,v,S)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const S=this.onAuthStateChanged(()=>{S(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function vt(C,_){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===_?X.removeCurrentUser():X.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=_&&ht(_)||v._popupRedirectResolver;Ce(S,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[ht(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,o.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===_?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,o.A)(function*(){if(_===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let Qe=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(Pt,this,"internal-error"),Pt.then(()=>{Qe||he(this.currentUser)}),"function"==typeof v){const zt=_.addObserver(v,S,X);return()=>{Qe=!0,zt()}}{const zt=_.addObserver(v);return()=>{Qe=!0,zt()}}}directlySetCurrentUser(_){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":_.clientVersion};_.app.options.appId&&(S["X-Firebase-gmpid"]=_.app.options.appId);const X=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield _._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var _=this;return(0,o.A)(function*(){var v;const S=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Qt(C,..._){kt.logLevel<=ve.$b.WARN&&kt.warn(`Auth (${ue.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function gr(C){return(0,i.Ku)(C)}class Hi{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ns={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wo(C){return Ns.loadJS(C)}function di(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Zr{constructor(_){this.type="recaptcha-enterprise",this.auth=gr(_)}verify(_="verify",v=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(Pt){if(!v){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var zt=(0,o.A)(function*(xn,Mn){kr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ti=>{if(void 0!==ti.recaptchaKey){const ko=new jt(ti);return null==Pt.tenantId?Pt._agentRecaptchaConfig=ko:Pt._tenantRecaptchaConfigs[Pt.tenantId]=ko,xn(ko.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch(ti=>{Mn(ti)})});return function(xn,Mn){return zt.apply(this,arguments)}}())}),he.apply(this,arguments)}function Qe(Pt,zt,xn){const Mn=window.grecaptcha;Ht(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(Pt,{action:_}).then(ti=>{zt(ti)}).catch(()=>{zt("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,zt)=>{(function X(Pt){return he.apply(this,arguments)})(S.auth).then(xn=>{if(!v&&Ht(window.grecaptcha))Qe(xn,Pt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let Mn=function Ui(){return Ns.recaptchaEnterpriseScript}();0!==Mn.length&&(Mn+=xn),wo(Mn).then(()=>{Qe(xn,Pt,zt)}).catch(ti=>{zt(ti)})}}).catch(xn=>{zt(xn)})})})()}}function Bi(C,_,v){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.A)(function*(C,_,v,S=!1){const X=new Zr(C);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const Qe=Object.assign({},_);return Object.assign(Qe,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(Qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Qe})).apply(this,arguments)}function Ar(C,_,v,S){return co.apply(this,arguments)}function co(){return co=(0,o.A)(function*(C,_,v,S){var X;if(null!==(X=C._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Bi(C,_,v,"getOobCode"===v);return S(C,he)}return S(C,_).catch(function(){var he=(0,o.A)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Bi(C,_,v,"getOobCode"===v);return S(C,Pt)}return Promise.reject(Qe)});return function(Qe){return he.apply(this,arguments)}}())}),co.apply(this,arguments)}function xr(C,_,v){const S=gr(C);Ce(S._canInitEmulator,S,"emulator-config-failed"),Ce(/^https?:\/\//.test(_),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=us(_),{host:Qe,port:Pt}=function Mi(C){const _=us(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:mr(S.substr(he.length+1))}}{const[he,Qe]=S.split(":");return{host:he,port:mr(Qe)}}}(_);S.config.emulator={url:`${he}//${Qe}${null===Pt?"":`:${Pt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Qe,port:Pt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function vs(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function us(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function mr(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Zi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Yt("not implemented")}_getIdTokenResponse(_){return Yt("not implemented")}_linkToIdToken(_,v){return Yt("not implemented")}_getReauthenticationResolver(_){return Yt("not implemented")}}function Cs(C,_){return es.apply(this,arguments)}function es(){return(es=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:resetPassword",Ie(C,_))})).apply(this,arguments)}function ii(){return(ii=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function si(C,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function zi(){return(zi=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",Ie(C,_))})).apply(this,arguments)}function eo(C,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPassword",Ie(C,_))})).apply(this,arguments)}function Es(C,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:sendOobCode",Ie(C,_))})).apply(this,arguments)}function gn(){return(gn=(0,o.A)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function rr(C,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,o.A)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function Ki(C,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.A)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function xi(){return(xi=(0,o.A)(function*(C,_){return Es(C,_)})).apply(this,arguments)}function vi(){return(vi=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,_))})).apply(this,arguments)}function Zn(){return(Zn=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,_))})).apply(this,arguments)}class Ts extends Zi{constructor(_,v,S,X=null){super("password",S),this._email=_,this._password=v,this._tenantId=X}static _fromEmailAndPassword(_,v){return new Ts(_,v,"password")}static _fromEmailAndCode(_,v,S=null){return new Ts(_,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Ar(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eo);case"emailLink":return function Fr(C,_){return vi.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:we(_,"internal-error")}})()}_linkToIdToken(_,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Ar(_,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",si);case"emailLink":return function bs(C,_){return Zn.apply(this,arguments)}(_,{idToken:v,email:S._email,oobCode:S._password});default:we(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function As(C,_){return te.apply(this,arguments)}function te(){return(te=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithIdp",Ie(C,_))})).apply(this,arguments)}class Se extends Zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Se(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):we("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:X}=v,he=(0,_e.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const Qe=new Se(S,X);return Qe.idToken=he.idToken||void 0,Qe.accessToken=he.accessToken||void 0,Qe.secret=he.secret,Qe.nonce=he.nonce,Qe.pendingToken=he.pendingToken||null,Qe}_getIdTokenResponse(_){return As(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,As(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,As(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,i.Am)(v)}return _}}function nt(){return(nt=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:sendVerificationCode",Ie(C,_))})).apply(this,arguments)}function Kt(){return(Kt=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,_))})).apply(this,arguments)}function _n(){return(_n=(0,o.A)(function*(C,_){const v=yield wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,_));if(v.temporaryProof)throw $n(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const jn={USER_NOT_FOUND:"user-not-found"};function Rn(){return(Rn=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),jn)})).apply(this,arguments)}class kn extends Zi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new kn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new kn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function It(C,_){return Kt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function An(C,_){return _n.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Or(C,_){return Rn.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=_;return S||v||X||he?new kn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class Ur{constructor(_){var v,S,X,he,Qe,Pt;const zt=(0,i.I9)((0,i.hp)(_)),xn=null!==(v=zt.apiKey)&&void 0!==v?v:null,Mn=null!==(S=zt.oobCode)&&void 0!==S?S:null,ti=function tr(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=zt.mode)&&void 0!==X?X:null);Ce(xn&&Mn&&ti,"argument-error"),this.apiKey=xn,this.operation=ti,this.code=Mn,this.continueUrl=null!==(he=zt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Qe=zt.languageCode)&&void 0!==Qe?Qe:null,this.tenantId=null!==(Pt=zt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(_){const v=function Ei(C){const _=(0,i.I9)((0,i.hp)(C)).link,v=_?(0,i.I9)((0,i.hp)(_)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(C)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||_||C}(_);try{return new Ur(v)}catch{return null}}}let Li=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,S){return Ts._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Ur.parseLink(S);return Ce(X,"argument-error"),Ts._fromEmailAndCode(v,X.code,X.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Si{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Sr extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Oi extends Sr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ce("providerId"in v&&"signInMethod"in v,"argument-error"),Se._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ce(_.idToken||_.accessToken,"argument-error"),Se._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Oi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Oi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:Qe,providerId:Pt}=_;if(!S&&!X&&!v&&!he||!Pt)return null;try{return new Oi(Pt)._credential({idToken:v,accessToken:S,nonce:Qe,pendingToken:he})}catch{return null}}}let Ri=(()=>{class C extends Sr{constructor(){super("facebook.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Yr=(()=>{class C extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Uo=(()=>{class C extends Sr{constructor(){super("github.com")}static credential(v){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ys extends Zi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return As(_,this.buildRequest())}_linkToIdToken(_,v){const S=this.buildRequest();return S.idToken=v,As(_,S)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,As(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new Ys(S,he):null}static _create(_,v){return new Ys(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ta extends Si{constructor(_){Ce(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ta.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ta.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ys.fromJSON(_);return Ce(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:S}=_;if(!v||!S)return null;try{return Ys._create(S,v)}catch{return null}}}let Qa=(()=>{class C extends Sr{constructor(){super("twitter.com")}static credential(v,S){return Se._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Bo(C,_){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signUp",Ie(C,_))})).apply(this,arguments)}class Ss{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,S,X=!1){return(0,o.A)(function*(){const he=yield ie._fromIdTokenResponse(_,S,X),Qe=hs(S);return new Ss({user:he,providerId:Qe,_tokenResponse:S,operationType:v})})()}static _forOperation(_,v,S){return(0,o.A)(function*(){yield _._updateTokensIfNecessary(S,!0);const X=hs(S);return new Ss({user:_,providerId:X,_tokenResponse:S,operationType:v})})()}}function hs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function So(C){return ga.apply(this,arguments)}function ga(){return(ga=(0,o.A)(function*(C){var _;if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const v=gr(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new Ss({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Bo(v,{returnSecureToken:!0}),X=yield Ss._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Oa extends i.g{constructor(_,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:_.name,tenantId:null!==(he=_.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(_,v,S,X){return new Oa(_,v,S,X)}}function gi(C,_,v,S){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Oa._fromErrorAndOperation(C,he,_,S):he})}function ma(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Ro(C,_){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(C,_){const v=(0,i.Ku)(C);yield le(!0,v,_);const{providerUserInfo:S}=yield function Gn(C,_){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),X=ma(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function Z(C,_){return U.apply(this,arguments)}function U(){return(U=(0,o.A)(function*(C,_,v=!1){const S=yield Ir(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Ss._forOperation(C,"link",S)})).apply(this,arguments)}function le(C,_,v){return He.apply(this,arguments)}function He(){return(He=(0,o.A)(function*(C,_,v){yield ce(_);const X=!1===C?"provider-already-linked":"no-such-provider";Ce(ma(_.providerData).has(v)===C,_.auth,X)})).apply(this,arguments)}function mn(C,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.A)(function*(C,_,v=!1){const{auth:S}=C;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(tt(S));const X="reauthenticate";try{const he=yield Ir(C,gi(S,X,_,C),v);Ce(he.idToken,S,"internal-error");const Qe=ri(he.idToken);Ce(Qe,S,"internal-error");const{sub:Pt}=Qe;return Ce(C.uid===Pt,S,"user-mismatch"),Ss._forOperation(C,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&we(S,"user-mismatch"),he}})).apply(this,arguments)}function ns(C,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.A)(function*(C,_,v=!1){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S="signIn",X=yield gi(C,S,_),he=yield Ss._fromIdTokenResponse(C,S,X);return v||(yield C._updateCurrentUser(he.user)),he})).apply(this,arguments)}function rs(C,_){return go.apply(this,arguments)}function go(){return(go=(0,o.A)(function*(C,_){return ns(gr(C),_)})).apply(this,arguments)}function to(C,_){return is.apply(this,arguments)}function is(){return(is=(0,o.A)(function*(C,_){const v=(0,i.Ku)(C);return yield le(!1,v,_.providerId),Z(v,_)})).apply(this,arguments)}function Qs(C,_){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.A)(function*(C,_){return mn((0,i.Ku)(C),_)})).apply(this,arguments)}function _a(){return(_a=(0,o.A)(function*(C,_){return wn(C,"POST","/v1/accounts:signInWithCustomToken",Ie(C,_))})).apply(this,arguments)}function ji(C,_){return Al.apply(this,arguments)}function Al(){return Al=(0,o.A)(function*(C,_){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const v=gr(C),S=yield function Rs(C,_){return _a.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),X=yield Ss._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),Al.apply(this,arguments)}class ss{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Ja._fromServerResponse(_,v):"totpInfo"in v?no._fromServerResponse(_,v):we(_,"internal-error")}}class Ja extends ss{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Ja(v)}}class no extends ss{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new no(v)}}function ya(C,_,v){var S;Ce((null===(S=v.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),Ce(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ce(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ce(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Ps(C){return va.apply(this,arguments)}function va(){return(va=(0,o.A)(function*(C){const _=gr(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function Na(C,_,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,o.A)(function*(C,_,v){const S=gr(C),X={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&ya(S,X,v),yield Ar(S,X,"getOobCode",rr)})).apply(this,arguments)}function bu(C,_,v){return yr.apply(this,arguments)}function yr(){return yr=(0,o.A)(function*(C,_,v){yield Cs((0,i.Ku)(C),{oobCode:_,newPassword:v}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Ps(C),X});return function(X){return S.apply(this,arguments)}}())}),yr.apply(this,arguments)}function Dl(C,_){return mo.apply(this,arguments)}function mo(){return mo=(0,o.A)(function*(C,_){yield function oi(C,_){return zi.apply(this,arguments)}((0,i.Ku)(C),{oobCode:_})}),mo.apply(this,arguments)}function jo(C,_){return el.apply(this,arguments)}function el(){return(el=(0,o.A)(function*(C,_){const v=(0,i.Ku)(C),S=yield Cs(v,{oobCode:_}),X=S.requestType;switch(Ce(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(S.mfaInfo,v,"internal-error");default:Ce(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=ss._fromServerResponse(gr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function Tu(C,_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.A)(function*(C,_){const{data:v}=yield jo((0,i.Ku)(C),_);return v.email})).apply(this,arguments)}function Vh(C,_,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.A)(function*(C,_,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S=gr(C),Qe=yield Ar(S,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bo).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&Ps(C),zt}),Pt=yield Ss._fromIdTokenResponse(S,"signIn",Qe);return yield S._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function Iu(C,_,v){return(0,ue._isFirebaseServerApp)(C.app)?Promise.reject(tt(C)):rs((0,i.Ku)(C),Li.credential(_,v)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Ps(C),X});return function(X){return S.apply(this,arguments)}}())}function nl(C,_,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,o.A)(function*(C,_,v){const S=gr(C),X={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function he(Qe,Pt){Ce(Pt.handleCodeInApp,S,"argument-error"),Pt&&ya(S,Qe,Pt)})(X,v),yield Ar(S,X,"getOobCode",Ki)})).apply(this,arguments)}function ka(C,_){const v=Ur.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Fa(C,_,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.A)(function*(C,_,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S=(0,i.Ku)(C),X=Li.credentialWithLink(_,v||ir());return Ce(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),rs(S,X)})).apply(this,arguments)}function il(){return(il=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:createAuthUri",Ie(C,_))})).apply(this,arguments)}function Lc(C,_){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(C,_){const S={identifier:_,continueUri:Xe()?ir():"http://localhost"},{signinMethods:X}=yield function Ea(C,_){return il.apply(this,arguments)}((0,i.Ku)(C),S);return X||[]}),P.apply(this,arguments)}function ne(C,_){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(C,_){const v=(0,i.Ku)(C),X={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&ya(v.auth,X,_);const{email:he}=yield function ei(C,_){return gn.apply(this,arguments)}(v.auth,X);he!==C.email&&(yield C.reload())}),j.apply(this,arguments)}function Y(C,_,v){return xe.apply(this,arguments)}function xe(){return xe=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&ya(S.auth,he,v);const{email:Qe}=yield function ai(C,_){return xi.apply(this,arguments)}(S.auth,he);Qe!==C.email&&(yield C.reload())}),xe.apply(this,arguments)}function Ut(){return(Ut=(0,o.A)(function*(C,_){return Fe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Un(C,_){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,o.A)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const S=(0,i.Ku)(C),he={idToken:yield S.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Qe=yield Ir(S,function St(C,_){return Ut.apply(this,arguments)}(S.auth,he));S.displayName=Qe.displayName||null,S.photoURL=Qe.photoUrl||null;const Pt=S.providerData.find(({providerId:zt})=>"password"===zt);Pt&&(Pt.displayName=S.displayName,Pt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Qe)}),Xr.apply(this,arguments)}function hi(C,_){const v=(0,i.Ku)(C);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(tt(v.auth)):er(v,_,null)}function Nr(C,_){return er((0,i.Ku)(C),null,_)}function er(C,_,v){return Br.apply(this,arguments)}function Br(){return Br=(0,o.A)(function*(C,_,v){const{auth:S}=C,he={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(he.email=_),v&&(he.password=v);const Qe=yield Ir(C,function Dr(C,_){return ii.apply(this,arguments)}(S,he));yield C._updateTokensIfNecessary(Qe,!0)}),Br.apply(this,arguments)}class Ai{constructor(_,v,S={}){this.isNewUser=_,this.providerId=v,this.profile=S}}class js extends Ai{constructor(_,v,S,X){super(_,v,S),this.username=X}}class os extends Ai{constructor(_,v){super(_,"facebook.com",v)}}class $o extends js{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ms extends Ai{constructor(_,v){super(_,"google.com",v)}}class Go extends js{constructor(_,v,S){super(_,"twitter.com",v,S)}}function Ci(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Qr(C){var _,v;if(!C)return null;const{providerId:S}=C,X=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},he=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&C?.idToken){const Qe=null===(v=null===(_=ri(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Qe)return new Ai(he,"anonymous"!==Qe&&"custom"!==Qe?Qe:null)}if(!S)return null;switch(S){case"facebook.com":return new os(he,X);case"github.com":return new $o(he,X);case"google.com":return new Ms(he,X);case"twitter.com":return new Go(he,X,C.screenName||null);case"custom":case"anonymous":return new Ai(he,null);default:return new Ai(he,S,X)}}(v)}class xs{constructor(_,v,S){this.type=_,this.credential=v,this.user=S}static _fromIdtoken(_,v){return new xs("enroll",_,v)}static _fromMfaPendingCredential(_){return new xs("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,S;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return xs._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(S=_.multiFactorSession)&&void 0!==S&&S.idToken)return xs._fromIdtoken(_.multiFactorSession.idToken)}return null}}class La{constructor(_,v,S){this.session=_,this.hints=v,this.signInResolver=S}static _fromError(_,v){const S=gr(_),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(Pt=>ss._fromServerResponse(S,Pt));Ce(X.mfaPendingCredential,S,"internal-error");const Qe=xs._fromMfaPendingCredential(X.mfaPendingCredential);return new La(Qe,he,function(){var Pt=(0,o.A)(function*(zt){const xn=yield zt._process(S,Qe);delete X.mfaInfo,delete X.mfaPendingCredential;const Mn=Object.assign(Object.assign({},X),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(v.operationType){case"signIn":const ti=yield Ss._fromIdTokenResponse(S,v.operationType,Mn);return yield S._updateCurrentUser(ti.user),ti;case"reauthenticate":return Ce(v.user,S,"internal-error"),Ss._forOperation(v.user,v.operationType,Mn);default:we(S,"internal-error")}});return function(zt){return Pt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,o.A)(function*(){return v.signInResolver(_)})()}}function Ml(C,_){var v;const S=(0,i.Ku)(C),X=_;return Ce(_.customData.operationType,S,"argument-error"),Ce(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),La._fromError(S,X)}class Zt{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>ss._fromServerResponse(_.auth,S)))})}static _fromUser(_){return new Zt(_)}getSession(){var _=this;return(0,o.A)(function*(){return xs._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var S=this;return(0,o.A)(function*(){const X=_,he=yield S.getSession(),Qe=yield Ir(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(Qe),S.user.reload()})()}unenroll(_){var v=this;return(0,o.A)(function*(){const S="string"==typeof _?_:_.uid,X=yield v.user.getIdToken();try{const he=yield Ir(v.user,function ar(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(C,_))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Qe})=>Qe!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const rc=new WeakMap;function na(C){const _=(0,i.Ku)(C);return rc.has(_)||rc.set(_,Zt._fromUser(_)),rc.get(_)}const xl="__sak";class ba{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ic=(()=>{class C extends ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Pt,zt,xn)=>{this.notifyListeners(Pt,xn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const Pt=this.storage.getItem(X);!S&&this.localCache[X]===Pt||this.notifyListeners(X,Pt)},Qe=this.storage.getItem(X);!function Dt(){return(0,i.lT)()&&10===document.documentMode}()||Qe===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,o.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,o.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return C.type="LOCAL",C})(),Va=(()=>{class C extends ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return C.type="SESSION",C})();let Wt=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new C(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const X=v,{eventId:he,eventType:Qe,data:Pt}=X.data,zt=S.handlersMap[Qe];if(!zt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:Qe});const xn=Array.from(zt).map(function(){var ti=(0,o.A)(function*(ko){return ko(X.origin,Pt)});return function(ko){return ti.apply(this,arguments)}}()),Mn=yield function Su(C){return Promise.all(C.map(function(){var _=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return _.apply(this,arguments)}}()))}(xn);X.ports[0].postMessage({status:"done",eventId:he,eventType:Qe,response:Mn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Pr(C="",_=10){let v="";for(let S=0;S<_;S++)v+=Math.floor(10*Math.random());return C+v}class zo{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,S=50){var X=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Qe,Pt;return new Promise((zt,xn)=>{const Mn=Pr("",20);he.port1.start();const ti=setTimeout(()=>{xn(new Error("unsupported_event"))},S);Pt={messageChannel:he,onMessage(ko){const aa=ko;if(aa.data.eventId===Mn)switch(aa.data.status){case"ack":clearTimeout(ti),Qe=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),zt(aa.data.response);break;default:clearTimeout(ti),clearTimeout(Qe),xn(new Error("invalid_response"))}}},X.handlers.add(Pt),he.port1.addEventListener("message",Pt.onMessage),X.target.postMessage({eventType:_,eventId:Mn,data:v},[he.port2])}).finally(()=>{Pt&&X.removeMessageHandler(Pt)})})()}}function fs(){return window}function sc(){return typeof fs().WorkerGlobalScope<"u"&&"function"==typeof fs().importScripts}function xo(){return(xo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dd="firebaseLocalStorageDb",Ua="firebaseLocalStorage",Js="fbase_key";class Gs{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ba(C,_){return C.transaction([Ua],_?"readwrite":"readonly").objectStore(Ua)}function _o(){const C=indexedDB.open(Dd,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(Ua,{keyPath:Js})}catch(X){v(X)}}),C.addEventListener("success",(0,o.A)(function*(){const S=C.result;S.objectStoreNames.contains(Ua)?_(S):(S.close(),yield function Oo(){const C=indexedDB.deleteDatabase(Dd);return new Gs(C).toPromise()}(),_(yield _o()))}))})}function Sd(C,_,v){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,o.A)(function*(C,_,v){const S=Ba(C,!0).put({[Js]:_,value:v});return new Gs(S).toPromise()})).apply(this,arguments)}function Rd(){return(Rd=(0,o.A)(function*(C,_){const v=Ba(C,!1).get(_),S=yield new Gs(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Pu(C,_){const v=Ba(C,!0).delete(_);return new Gs(v).toPromise()}const O=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield _o()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return sc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Wt._getInstance(function Ru(){return sc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Ta(){return xo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new zo(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function jc(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield _o();return yield Sd(v,xl,"1"),yield Pu(v,xl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(he=>Sd(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(he=>function sp(C,_){return Rd.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>Pu(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Qe=>{const Pt=Ba(Qe,!1).getAll();return new Gs(Pt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:Qe,value:Pt}of S)he.add(Qe),JSON.stringify(v.localCache[Qe])!==JSON.stringify(Pt)&&(v.notifyListeners(Qe,Pt),X.push(Qe));for(const Qe of Object.keys(v.localCache))v.localCache[Qe]&&!he.has(Qe)&&(v.notifyListeners(Qe,null),X.push(Qe));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),wt=1e12;class bt{constructor(_){this.auth=_,this.counter=wt,this._widgets=new Map}render(_,v){const S=this.counter;return this._widgets.set(S,new En(_,this.auth.name,v||{})),this.counter++,S}reset(_){var v;const S=_||wt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(_){var v;return(null===(v=this._widgets.get(_||wt))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(_||wt))||void 0===S||S.execute(),""})()}}class En{constructor(_,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof _?document.getElementById(_):_;Ce(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _r(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<C;S++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hr=di("rcb"),wr=new Ne(3e4,6e4);class Hr{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=fs().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ce(function ia(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&On(fs().grecaptcha)?Promise.resolve(fs().grecaptcha):new Promise((S,X)=>{const he=fs().setTimeout(()=>{X(et(_,"network-request-failed"))},wr.get());fs()[hr]=()=>{fs().clearTimeout(he),delete fs()[hr];const Pt=fs().grecaptcha;if(!Pt||!On(Pt))return void X(et(_,"internal-error"));const zt=Pt.render;Pt.render=(xn,Mn)=>{const ti=zt(xn,Mn);return this.counter++,ti},this.hostLanguage=v,S(Pt)},wo(`${function Ao(){return Ns.recaptchaV2Script}()}?${(0,i.Am)({onload:hr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(et(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=fs().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nl{load(_){return(0,o.A)(function*(){return new bt(_)})()}clearedOneInstance(){}}const ol="recaptcha",kl={theme:"light",type:"image"};class Mu{constructor(_,v,S=Object.assign({},kl)){this.parameters=S,this.type=ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gr(_),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ce(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nl:new Hr,this.validateStartingState()}verify(){var _=this;return(0,o.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),S=_.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const Qe=Pt=>{Pt&&(_.tokenChangeListeners.delete(Qe),he(Pt))};_.tokenChangeListeners.add(Qe),_.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof _)_(v);else if("string"==typeof _){const S=fs()[_];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.A)(function*(){Ce(Xe()&&!sc(),_.auth,"internal-error"),yield function Bh(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Er(C){return on.apply(this,arguments)}(_.auth);Ce(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class al{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=kn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function sa(C,_,v){return jh.apply(this,arguments)}function jh(){return(jh=(0,o.A)(function*(C,_,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S=gr(C),X=yield Nu(S,_,(0,i.Ku)(v));return new al(X,he=>rs(S,he))})).apply(this,arguments)}function Ca(C,_,v){return ll.apply(this,arguments)}function ll(){return(ll=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);yield le(!1,S,"phone");const X=yield Nu(S.auth,_,(0,i.Ku)(v));return new al(X,he=>to(S,he))})).apply(this,arguments)}function xu(C,_,v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth));const X=yield Nu(S.auth,_,(0,i.Ku)(v));return new al(X,he=>Qs(S,he))})).apply(this,arguments)}function Nu(C,_,v){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,o.A)(function*(C,_,v){var S;const X=yield v.verify();try{let he;if(Ce("string"==typeof X,C,"argument-error"),Ce(v.type===ol,C,"argument-error"),he="string"==typeof _?{phoneNumber:_}:_,"session"in he){const Qe=he.session;if("phoneNumber"in he)return Ce("enroll"===Qe.type,C,"internal-error"),(yield function wu(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:start",Ie(C,_))}(C,{idToken:Qe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Qe.type,C,"internal-error");const Pt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return Ce(Pt,C,"missing-multi-factor-info"),(yield function w(C,_){return Fe(C,"POST","/v2/accounts/mfaSignIn:start",Ie(C,_))}(C,{mfaPendingCredential:Qe.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Qe}=yield function Ve(C,_){return nt.apply(this,arguments)}(C,{phoneNumber:he.phoneNumber,recaptchaToken:X});return Qe}}finally{v._reset()}}),Pd.apply(this,arguments)}function ku(C,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.A)(function*(C,_){const v=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(tt(v.auth));yield Z(v,_)})).apply(this,arguments)}let Wo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=gr(v)}verifyPhoneNumber(v,S){return Nu(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return kn._fromVerification(v,S)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?kn._fromTokenResponse(S,X):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Fl(C,_){return _?ht(_):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class $h extends Zi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return As(_,this._buildIdpRequest())}_linkToIdToken(_,v){return As(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return As(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Md(C){return ns(C.auth,new $h(C),C.bypassAuthState)}function a_(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),mn(v,new $h(C),C.bypassAuthState)}function Gh(C){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,o.A)(function*(C){const{auth:_,user:v}=C;return Ce(v,_,"internal-error"),Z(v,new $h(C),C.bypassAuthState)})).apply(this,arguments)}class op{constructor(_,v,S,X,he=!1){this.auth=_,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,o.A)(function*(S,X){_.pendingPromise={resolve:S,reject:X};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(he){_.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:Qe,error:Pt,type:zt}=_;if(Pt)return void v.reject(Pt);const xn={auth:v.auth,requestUri:S,sessionId:X,tenantId:Qe||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(zt)(xn))}catch(Mn){v.reject(Mn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Md;case"linkViaPopup":case"linkViaRedirect":return Gh;case"reauthViaPopup":case"reauthViaRedirect":return a_;default:we(this.auth,"internal-error")}}resolve(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ap=new Ne(2e3,1e4);function cl(C,_,v){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,o.A)(function*(C,_,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C,"operation-not-supported-in-this-environment"));const S=gr(C);Ge(C,_,Si);const X=Fl(S,v);return new lp(S,"signInViaPopup",_,X).executeNotNull()})).apply(this,arguments)}function Hh(C,_,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth,"operation-not-supported-in-this-environment"));Ge(S.auth,_,Si);const X=Fl(S.auth,v);return new lp(S.auth,"reauthViaPopup",_,X,S).executeNotNull()})).apply(this,arguments)}function Lu(C,_,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);Ge(S.auth,_,Si);const X=Fl(S.auth,v);return new lp(S.auth,"linkViaPopup",_,X,S).executeNotNull()})).apply(this,arguments)}let lp=(()=>{class C extends op{constructor(v,S,X,he,Qe){super(v,S,he,Qe),this.provider=X,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ce(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){pn(1===v.filter.length,"Popup operations only handle one event");const S=Pr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(et(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,ap.get())};v()}}return C.currentPopupAction=null,C})();const zh="pendingRedirect",Aa=new Map;class Vu extends op{constructor(_,v,S=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,o.A)(function*(){let S=Aa.get(v.auth._key());if(!S){try{const he=(yield function io(C,_){return dl.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}Aa.set(v.auth._key(),S)}return v.bypassAuthState||Aa.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===_.type)return v().call(S,_);if("unknown"!==_.type){if(_.eventId){const X=yield S.auth._redirectUserForId(_.eventId);if(X)return S.user=X,v().call(S,_);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,o.A)(function*(C,_){const v=Kh(_),S=oc(C);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function ja(C,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,o.A)(function*(C,_){return oc(C)._set(Kh(_),"true")})).apply(this,arguments)}function Wh(){Aa.clear()}function Vl(C,_){Aa.set(C._key(),_)}function oc(C){return ht(C._redirectPersistence)}function Kh(C){return fn(zh,C.config.apiKey,C.name)}function hl(C,_,v){return function fl(C,_,v){return Uu.apply(this,arguments)}(C,_,v)}function Uu(){return(Uu=(0,o.A)(function*(C,_,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S=gr(C);Ge(C,_,Si),yield S._initializationPromise;const X=Fl(S,v);return yield ja(X,S),X._openRedirect(S,_,"signInViaRedirect")})).apply(this,arguments)}function Ul(C,_,v){return function Bu(C,_,v){return oa.apply(this,arguments)}(C,_,v)}function oa(){return(oa=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);if(Ge(S.auth,_,Si),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth));yield S.auth._initializationPromise;const X=Fl(S.auth,v);yield ja(X,S.auth);const he=yield up(S);return X._openRedirect(S.auth,_,"reauthViaRedirect",he)})).apply(this,arguments)}function ac(C,_,v){return function No(C,_,v){return lc.apply(this,arguments)}(C,_,v)}function lc(){return(lc=(0,o.A)(function*(C,_,v){const S=(0,i.Ku)(C);Ge(S.auth,_,Si),yield S.auth._initializationPromise;const X=Fl(S.auth,v);yield le(!1,S,_.providerId),yield ja(X,S.auth);const he=yield up(S);return X._openRedirect(S.auth,_,"linkViaRedirect",he)})).apply(this,arguments)}function cp(C,_){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(C,_){return yield gr(C)._initializationPromise,qh(C,_,!1)})).apply(this,arguments)}function qh(C,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,o.A)(function*(C,_,v=!1){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(tt(C));const S=gr(C),X=Fl(S,_),Qe=yield new Vu(S,X,v).execute();return Qe&&!v&&(delete Qe.user._redirectEventId,yield S._persistUserIfCurrent(Qe.user),yield S._setRedirectUser(null,_)),Qe})).apply(this,arguments)}function up(C){return cc.apply(this,arguments)}function cc(){return(cc=(0,o.A)(function*(C){const _=Pr(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class dp{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(_,S)&&(v=!0,this.sendToConsumer(_,S),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Bl(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ju(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var S;if(_.error&&!ju(_)){const X=(null===(S=_.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(et(this.auth,X))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const S=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&S}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Od(_))}saveEventToCache(_){this.cachedEventUids.add(Od(_)),this.lastProcessedEventTime=Date.now()}}function Od(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function ju({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Ko(C){return so.apply(this,arguments)}function so(){return(so=(0,o.A)(function*(C,_={}){return Fe(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Yh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nd=/^https?/;function Xh(){return(Xh=(0,o.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Ko(C);for(const v of _)try{if(Sg(v))return}catch{}we(C,"unauthorized-domain")})).apply(this,arguments)}function Sg(C){const _=ir(),{protocol:v,hostname:S}=new URL(_);if(C.startsWith("chrome-extension://")){const Qe=new URL(C);return""===Qe.hostname&&""===S?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Qe.hostname===S}if(!Nd.test(v))return!1;if(Yh.test(C))return S===C;const X=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const zc=new Ne(3e4,6e4);function Rg(){const C=fs().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Ls=null;const c_=new Ne(5e3,15e3),Wc="__/auth/iframe",Pg="emulator/auth/iframe",Qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kd(C){const _=C.config;Ce(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?st(_,Pg):`https://${C.config.authDomain}/${Wc}`,S={apiKey:_.apiKey,appName:C.name,v:ue.SDK_VERSION},X=zs.get(C.config.apiHost);X&&(S.eid=X);const he=C._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function Jh(){return Jh=(0,o.A)(function*(C){const _=yield function l_(C){return Ls=Ls||function $u(C){return new Promise((_,v)=>{var S,X,he;function Qe(){Rg(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Rg(),v(et(C,"network-request-failed"))},timeout:zc.get()})}if(null!==(X=null===(S=fs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)_(gapi.iframes.getContext());else{if(null===(he=fs().gapi)||void 0===he||!he.load){const Pt=di("iframefcb");return fs()[Pt]=()=>{gapi.load?Qe():v(et(C,"network-request-failed"))},wo(`${function Vo(){return Ns.gapiScript}()}?onload=${Pt}`).catch(zt=>v(zt))}Qe()}}).catch(_=>{throw Ls=null,_})}(C),Ls}(C),v=fs().gapi;return Ce(v,C,"internal-error"),_.open({where:document.body,url:kd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qh,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(he,Qe){yield S.restyle({setHideOnLeave:!1});const Pt=et(C,"network-request-failed"),zt=fs().setTimeout(()=>{Qe(Pt)},c_.get());function xn(){fs().clearTimeout(zt),he(S)}S.ping(xn).then(xn,()=>{Qe(Pt)})});return function(he,Qe){return X.apply(this,arguments)}}()))}),Jh.apply(this,arguments)}const qo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ld{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mg="__/auth/handler",Yo="emulator/auth/handler",Gu=encodeURIComponent("fac");function ml(C,_,v,S,X,he){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(C,_,v,S,X,he){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const Qe={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:X};if(_ instanceof Si){_.setDefaultLanguage(C.languageCode),Qe.providerId=_.providerId||"",(0,i.Im)(_.getCustomParameters())||(Qe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Mn,ti]of Object.entries(he||{}))Qe[Mn]=ti}if(_ instanceof Sr){const Mn=_.getScopes().filter(ti=>""!==ti);Mn.length>0&&(Qe.scopes=Mn.join(","))}C.tenantId&&(Qe.tid=C.tenantId);const Pt=Qe;for(const Mn of Object.keys(Pt))void 0===Pt[Mn]&&delete Pt[Mn];const zt=yield C._getAppCheckToken(),xn=zt?`#${Gu}=${encodeURIComponent(zt)}`:"";return`${function Hu({config:C}){return C.emulator?st(C,Yo):`https://${C.authDomain}/${Mg}`}(C)}?${(0,i.Am)(Pt).slice(1)}${xn}`})).apply(this,arguments)}const Vd="webStorageSupport",tf=class xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Va,this._completeRedirectFn=qh,this._overrideRedirectResult=Vl}_openPopup(_,v,S,X){var he=this;return(0,o.A)(function*(){var Qe;pn(null===(Qe=he.eventManagers[_._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const Pt=yield ml(_,v,S,ir(),X);return function Zh(C,_,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),Qe=Math.max((window.screen.availWidth-S)/2,0).toString();let Pt="";const zt=Object.assign(Object.assign({},qo),{width:S.toString(),height:X.toString(),top:he,left:Qe}),xn=(0,i.ZQ)().toLowerCase();v&&(Pt=ur(xn)?"_blank":v),ln(xn)&&(_=_||"http://localhost",zt.scrollbars="yes");const Mn=Object.entries(zt).reduce((ko,[aa,uc])=>`${ko}${aa}=${uc},`,"");if(function Os(C=(0,i.ZQ)()){var _;return yi(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(xn)&&"_self"!==Pt)return function hp(C,_){const v=document.createElement("a");v.href=C,v.target=_;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(_||"",Pt),new Ld(null);const ti=window.open(_||"",Pt,Mn);Ce(ti,C,"popup-blocked");try{ti.focus()}catch{}return new Ld(ti)}(_,Pt,Pr())})()}_openRedirect(_,v,S,X){var he=this;return(0,o.A)(function*(){return yield he._originValidation(_),function $s(C){fs().location.href=C}(yield ml(_,v,S,ir(),X)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(pn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(_);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(_){var v=this;return(0,o.A)(function*(){const S=yield function jl(C){return Jh.apply(this,arguments)}(_),X=new dp(_);return S.register("authEvent",he=>(Ce(he?.authEvent,_,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:X},v.iframes[_._key()]=S,X})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Vd,{type:Vd},X=>{var he;const Qe=null===(he=X?.[0])||void 0===he?void 0:he[Vd];void 0!==Qe&&v(!!Qe),we(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Hc(C){return Xh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return lt()||qr()||yi()}};class fp{constructor(_){this.factorId=_}_process(_,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,S);case"signin":return this._finalizeSignIn(_,v.credential);default:return Yt("unexpected MultiFactorSessionType")}}}class _l extends fp{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new _l(_)}_finalizeEnroll(_,v,S){return function Au(C,_){return Fe(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(C,_))}(_,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function N(C,_){return Fe(C,"POST","/v2/accounts/mfaSignIn:finalize",Ie(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class C{constructor(){}static assertion(v){return _l._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var qc="@firebase/auth";class zu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(S=>{_(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Qi(C){Ns=C}({loadJS:C=>new Promise((_,v)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=_,S.onerror=X=>{const he=et("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function El(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function jd(C){(0,ue._registerComponent)(new De.uA("auth",(_,{options:v})=>{const S=_.getProvider("app").getImmediate(),X=_.getProvider("heartbeat"),he=_.getProvider("app-check-internal"),{apiKey:Qe,authDomain:Pt}=S.options;Ce(Qe&&!Qe.includes(":"),"invalid-api-key",{appName:S.name});const zt={apiKey:Qe,authDomain:Pt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nt(C)},xn=new Jr(S,X,he,zt);return function Xa(C,_){const v=_?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ht);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(S,_?.popupRedirectResolver)}(xn,v),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,S)=>{_.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new De.uA("auth-internal",_=>{const v=gr(_.getProvider("auth").getImmediate());return new zu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(qc,"1.7.9",function pp(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,ue.registerVersion)(qc,"1.7.9","esm2017")}("Browser")},9583:(rn,Ze,F)=>{F.d(Ze,{fS:()=>Dm,Ix:()=>ou,H6:()=>Gp,T1:()=>Vs,Wq:()=>lu,uY:()=>od,W6:()=>st,Ci:()=>Wp,YQ:()=>bl,NJ:()=>Cc,Dc:()=>Ht,GA:()=>tg,cm:()=>ii,K$:()=>$t,FA:()=>Yn,lo:()=>ci,bI:()=>Be,qG:()=>Xa,qi:()=>pn,c8:()=>hm,gS:()=>vE,C3:()=>Pm,hq:()=>Rm,me:()=>ch,rJ:()=>O_,Cs:()=>N_,vN:()=>Yy,kd:()=>yE,CL:()=>wE,LA:()=>Hp,H9:()=>su,ol:()=>F_,Q5:()=>lh,Os:()=>wf,FD:()=>B_,rf:()=>S0,Ws:()=>Is,z6:()=>_h,x7:()=>gE,nY:()=>Ac,_e:()=>uv,GG:()=>mE,kU:()=>R0,Rr:()=>vo,aU:()=>ym,GV:()=>AE,AB:()=>rv,$1:()=>iv,po:()=>Em,St:()=>aE,aQ:()=>H_,FC:()=>dv,My:()=>cE,P:()=>tv,B:()=>bf,yx:()=>gm,c4:()=>CE,O5:()=>vv,BN:()=>_E,He:()=>Ot,lN:()=>pE,HM:()=>U_,EO:()=>sv,mZ:()=>G_,iB:()=>uh,_M:()=>lE});var $e,Le,o=F(467),ue=F(7852),i=F(1362),ve=F(8041),_e=F(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(dt,je,Je){Je||(Je=0);var ft=Array(16);if("string"==typeof je)for(var Et=0;16>Et;++Et)ft[Et]=je.charCodeAt(Je++)|je.charCodeAt(Je++)<<8|je.charCodeAt(Je++)<<16|je.charCodeAt(Je++)<<24;else for(Et=0;16>Et;++Et)ft[Et]=je[Je++]|je[Je++]<<8|je[Je++]<<16|je[Je++]<<24;var Rt=dt.g[3],Ye=(je=dt.g[0])+(Rt^(Je=dt.g[1])&((Et=dt.g[2])^Rt))+ft[0]+3614090360&4294967295;Ye=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=(Je=(Et=(Rt=(je=Je+(Ye<<7&4294967295|Ye>>>25))+((Ye=Rt+(Et^je&(Je^Et))+ft[1]+3905402710&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Et+(Je^Rt&(je^Je))+ft[2]+606105819&4294967295)<<17&4294967295|Ye>>>15))+((Ye=Je+(je^Et&(Rt^je))+ft[3]+3250441966&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(Rt^Je&(Et^Rt))+ft[4]+4118548399&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Rt+(Et^je&(Je^Et))+ft[5]+1200080426&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Et+(Je^Rt&(je^Je))+ft[6]+2821735955&4294967295)<<17&4294967295|Ye>>>15))+((Ye=Je+(je^Et&(Rt^je))+ft[7]+4249261313&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(Rt^Je&(Et^Rt))+ft[8]+1770035416&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Rt+(Et^je&(Je^Et))+ft[9]+2336552879&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Et+(Je^Rt&(je^Je))+ft[10]+4294925233&4294967295)<<17&4294967295|Ye>>>15))+((Ye=Je+(je^Et&(Rt^je))+ft[11]+2304563134&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(Rt^Je&(Et^Rt))+ft[12]+1804603682&4294967295)<<7&4294967295|Ye>>>25))+((Ye=Rt+(Et^je&(Je^Et))+ft[13]+4254626195&4294967295)<<12&4294967295|Ye>>>20))+((Ye=Et+(Je^Rt&(je^Je))+ft[14]+2792965006&4294967295)<<17&4294967295|Ye>>>15))+((Ye=Je+(je^Et&(Rt^je))+ft[15]+1236535329&4294967295)<<22&4294967295|Ye>>>10))+((Ye=je+(Et^Rt&(Je^Et))+ft[1]+4129170786&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Rt+(Je^Et&(je^Je))+ft[6]+3225465664&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Et+(je^Je&(Rt^je))+ft[11]+643717713&4294967295)<<14&4294967295|Ye>>>18))+((Ye=Je+(Rt^je&(Et^Rt))+ft[0]+3921069994&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(Et^Rt&(Je^Et))+ft[5]+3593408605&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Rt+(Je^Et&(je^Je))+ft[10]+38016083&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Et+(je^Je&(Rt^je))+ft[15]+3634488961&4294967295)<<14&4294967295|Ye>>>18))+((Ye=Je+(Rt^je&(Et^Rt))+ft[4]+3889429448&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(Et^Rt&(Je^Et))+ft[9]+568446438&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Rt+(Je^Et&(je^Je))+ft[14]+3275163606&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Et+(je^Je&(Rt^je))+ft[3]+4107603335&4294967295)<<14&4294967295|Ye>>>18))+((Ye=Je+(Rt^je&(Et^Rt))+ft[8]+1163531501&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(Et^Rt&(Je^Et))+ft[13]+2850285829&4294967295)<<5&4294967295|Ye>>>27))+((Ye=Rt+(Je^Et&(je^Je))+ft[2]+4243563512&4294967295)<<9&4294967295|Ye>>>23))+((Ye=Et+(je^Je&(Rt^je))+ft[7]+1735328473&4294967295)<<14&4294967295|Ye>>>18))+((Ye=Je+(Rt^je&(Et^Rt))+ft[12]+2368359562&4294967295)<<20&4294967295|Ye>>>12))+((Ye=je+(Je^Et^Rt)+ft[5]+4294588738&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Rt+(je^Je^Et)+ft[8]+2272392833&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Et+(Rt^je^Je)+ft[11]+1839030562&4294967295)<<16&4294967295|Ye>>>16))+((Ye=Je+(Et^Rt^je)+ft[14]+4259657740&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(Je^Et^Rt)+ft[1]+2763975236&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Rt+(je^Je^Et)+ft[4]+1272893353&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Et+(Rt^je^Je)+ft[7]+4139469664&4294967295)<<16&4294967295|Ye>>>16))+((Ye=Je+(Et^Rt^je)+ft[10]+3200236656&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(Je^Et^Rt)+ft[13]+681279174&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Rt+(je^Je^Et)+ft[0]+3936430074&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Et+(Rt^je^Je)+ft[3]+3572445317&4294967295)<<16&4294967295|Ye>>>16))+((Ye=Je+(Et^Rt^je)+ft[6]+76029189&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(Je^Et^Rt)+ft[9]+3654602809&4294967295)<<4&4294967295|Ye>>>28))+((Ye=Rt+(je^Je^Et)+ft[12]+3873151461&4294967295)<<11&4294967295|Ye>>>21))+((Ye=Et+(Rt^je^Je)+ft[15]+530742520&4294967295)<<16&4294967295|Ye>>>16))+((Ye=Je+(Et^Rt^je)+ft[2]+3299628645&4294967295)<<23&4294967295|Ye>>>9))+((Ye=je+(Et^(Je|~Rt))+ft[0]+4096336452&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Rt+(Je^(je|~Et))+ft[7]+1126891415&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Et+(je^(Rt|~Je))+ft[14]+2878612391&4294967295)<<15&4294967295|Ye>>>17))+((Ye=Je+(Rt^(Et|~je))+ft[5]+4237533241&4294967295)<<21&4294967295|Ye>>>11))+((Ye=je+(Et^(Je|~Rt))+ft[12]+1700485571&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Rt+(Je^(je|~Et))+ft[3]+2399980690&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Et+(je^(Rt|~Je))+ft[10]+4293915773&4294967295)<<15&4294967295|Ye>>>17))+((Ye=Je+(Rt^(Et|~je))+ft[1]+2240044497&4294967295)<<21&4294967295|Ye>>>11))+((Ye=je+(Et^(Je|~Rt))+ft[8]+1873313359&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Rt+(Je^(je|~Et))+ft[15]+4264355552&4294967295)<<10&4294967295|Ye>>>22))+((Ye=Et+(je^(Rt|~Je))+ft[6]+2734768916&4294967295)<<15&4294967295|Ye>>>17))+((Ye=Je+(Rt^(Et|~je))+ft[13]+1309151649&4294967295)<<21&4294967295|Ye>>>11))+((Rt=(je=Je+((Ye=je+(Et^(Je|~Rt))+ft[4]+4149444226&4294967295)<<6&4294967295|Ye>>>26))+((Ye=Rt+(Je^(je|~Et))+ft[11]+3174756917&4294967295)<<10&4294967295|Ye>>>22))^((Et=Rt+((Ye=Et+(je^(Rt|~Je))+ft[2]+718787259&4294967295)<<15&4294967295|Ye>>>17))|~je))+ft[9]+3951481745&4294967295,dt.g[0]=dt.g[0]+je&4294967295,dt.g[1]=dt.g[1]+(Et+(Ye<<21&4294967295|Ye>>>11))&4294967295,dt.g[2]=dt.g[2]+Et&4294967295,dt.g[3]=dt.g[3]+Rt&4294967295}function b(dt,je){this.h=je;for(var Je=[],ft=!0,Et=dt.length-1;0<=Et;Et--){var Rt=0|dt[Et];ft&&Rt==je||(Je[Et]=Rt,ft=!1)}this.g=Je}(function e(dt,je){function Je(){}Je.prototype=je.prototype,dt.D=je.prototype,dt.prototype=new Je,dt.prototype.constructor=dt,dt.C=function(ft,Et,Rt){for(var Ye=Array(arguments.length-2),du=2;du<arguments.length;du++)Ye[du-2]=arguments[du];return je.prototype[Et].apply(ft,Ye)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(dt,je){void 0===je&&(je=dt.length);for(var Je=je-this.blockSize,ft=this.B,Et=this.h,Rt=0;Rt<je;){if(0==Et)for(;Rt<=Je;)h(this,dt,Rt),Rt+=this.blockSize;if("string"==typeof dt){for(;Rt<je;)if(ft[Et++]=dt.charCodeAt(Rt++),Et==this.blockSize){h(this,ft),Et=0;break}}else for(;Rt<je;)if(ft[Et++]=dt[Rt++],Et==this.blockSize){h(this,ft),Et=0;break}}this.h=Et,this.o+=je},a.prototype.v=function(){var dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);dt[0]=128;for(var je=1;je<dt.length-8;++je)dt[je]=0;var Je=8*this.o;for(je=dt.length-8;je<dt.length;++je)dt[je]=255&Je,Je/=256;for(this.u(dt),dt=Array(16),je=Je=0;4>je;++je)for(var ft=0;32>ft;ft+=8)dt[Je++]=this.g[je]>>>ft&255;return dt};var R={};function V(dt){return-128<=dt&&128>dt?function y(dt,je){var Je=R;return Object.prototype.hasOwnProperty.call(Je,dt)?Je[dt]:Je[dt]=je(dt)}(dt,function(je){return new b([0|je],0>je?-1:0)}):new b([0|dt],0>dt?-1:0)}function K(dt){if(isNaN(dt)||!isFinite(dt))return Te;if(0>dt)return nn(K(-dt));for(var je=[],Je=1,ft=0;dt>=Je;ft++)je[ft]=dt/Je|0,Je*=4294967296;return new b(je,0)}var Te=V(0),qe=V(1),At=V(16777216);function Gt(dt){if(0!=dt.h)return!1;for(var je=0;je<dt.g.length;je++)if(0!=dt.g[je])return!1;return!0}function un(dt){return-1==dt.h}function nn(dt){for(var je=dt.g.length,Je=[],ft=0;ft<je;ft++)Je[ft]=~dt.g[ft];return new b(Je,~dt.h).add(qe)}function Kn(dt,je){return dt.add(nn(je))}function lr(dt,je){for(;(65535&dt[je])!=dt[je];)dt[je+1]+=dt[je]>>>16,dt[je]&=65535,je++}function Qn(dt,je){this.g=dt,this.h=je}function Lr(dt,je){if(Gt(je))throw Error("division by zero");if(Gt(dt))return new Qn(Te,Te);if(un(dt))return je=Lr(nn(dt),je),new Qn(nn(je.g),nn(je.h));if(un(je))return je=Lr(dt,nn(je)),new Qn(nn(je.g),je.h);if(30<dt.g.length){if(un(dt)||un(je))throw Error("slowDivide_ only works with positive integers.");for(var Je=qe,ft=je;0>=ft.l(dt);)Je=Ni(Je),ft=Ni(ft);var Et=ui(Je,1),Rt=ui(ft,1);for(ft=ui(ft,2),Je=ui(Je,2);!Gt(ft);){var Ye=Rt.add(ft);0>=Ye.l(dt)&&(Et=Et.add(Je),Rt=Ye),ft=ui(ft,1),Je=ui(Je,1)}return je=Kn(dt,Et.j(je)),new Qn(Et,je)}for(Et=Te;0<=dt.l(je);){for(Je=Math.max(1,Math.floor(dt.m()/je.m())),ft=48>=(ft=Math.ceil(Math.log(Je)/Math.LN2))?1:Math.pow(2,ft-48),Ye=(Rt=K(Je)).j(je);un(Ye)||0<Ye.l(dt);)Ye=(Rt=K(Je-=ft)).j(je);Gt(Rt)&&(Rt=qe),Et=Et.add(Rt),dt=Kn(dt,Ye)}return new Qn(Et,dt)}function Ni(dt){for(var je=dt.g.length+1,Je=[],ft=0;ft<je;ft++)Je[ft]=dt.i(ft)<<1|dt.i(ft-1)>>>31;return new b(Je,dt.h)}function ui(dt,je){var Je=je>>5;je%=32;for(var ft=dt.g.length-Je,Et=[],Rt=0;Rt<ft;Rt++)Et[Rt]=0<je?dt.i(Rt+Je)>>>je|dt.i(Rt+Je+1)<<32-je:dt.i(Rt+Je);return new b(Et,dt.h)}(d=b.prototype).m=function(){if(un(this))return-nn(this).m();for(var dt=0,je=1,Je=0;Je<this.g.length;Je++){var ft=this.i(Je);dt+=(0<=ft?ft:4294967296+ft)*je,je*=4294967296}return dt},d.toString=function(dt){if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if(Gt(this))return"0";if(un(this))return"-"+nn(this).toString(dt);for(var je=K(Math.pow(dt,6)),Je=this,ft="";;){var Et=Lr(Je,je).g,Rt=((0<(Je=Kn(Je,Et.j(je))).g.length?Je.g[0]:Je.h)>>>0).toString(dt);if(Gt(Je=Et))return Rt+ft;for(;6>Rt.length;)Rt="0"+Rt;ft=Rt+ft}},d.i=function(dt){return 0>dt?0:dt<this.g.length?this.g[dt]:this.h},d.l=function(dt){return un(dt=Kn(this,dt))?-1:Gt(dt)?0:1},d.abs=function(){return un(this)?nn(this):this},d.add=function(dt){for(var je=Math.max(this.g.length,dt.g.length),Je=[],ft=0,Et=0;Et<=je;Et++){var Rt=ft+(65535&this.i(Et))+(65535&dt.i(Et)),Ye=(Rt>>>16)+(this.i(Et)>>>16)+(dt.i(Et)>>>16);ft=Ye>>>16,Je[Et]=(Ye&=65535)<<16|(Rt&=65535)}return new b(Je,-2147483648&Je[Je.length-1]?-1:0)},d.j=function(dt){if(Gt(this)||Gt(dt))return Te;if(un(this))return un(dt)?nn(this).j(nn(dt)):nn(nn(this).j(dt));if(un(dt))return nn(this.j(nn(dt)));if(0>this.l(At)&&0>dt.l(At))return K(this.m()*dt.m());for(var je=this.g.length+dt.g.length,Je=[],ft=0;ft<2*je;ft++)Je[ft]=0;for(ft=0;ft<this.g.length;ft++)for(var Et=0;Et<dt.g.length;Et++){var Rt=this.i(ft)>>>16,Ye=65535&this.i(ft),du=dt.i(Et)>>>16,ng=65535&dt.i(Et);Je[2*ft+2*Et]+=Ye*ng,lr(Je,2*ft+2*Et),Je[2*ft+2*Et+1]+=Rt*ng,lr(Je,2*ft+2*Et+1),Je[2*ft+2*Et+1]+=Ye*du,lr(Je,2*ft+2*Et+1),Je[2*ft+2*Et+2]+=Rt*du,lr(Je,2*ft+2*Et+2)}for(ft=0;ft<je;ft++)Je[ft]=Je[2*ft+1]<<16|Je[2*ft];for(ft=je;ft<2*je;ft++)Je[ft]=0;return new b(Je,0)},d.A=function(dt){return Lr(this,dt).h},d.and=function(dt){for(var je=Math.max(this.g.length,dt.g.length),Je=[],ft=0;ft<je;ft++)Je[ft]=this.i(ft)&dt.i(ft);return new b(Je,this.h&dt.h)},d.or=function(dt){for(var je=Math.max(this.g.length,dt.g.length),Je=[],ft=0;ft<je;ft++)Je[ft]=this.i(ft)|dt.i(ft);return new b(Je,this.h|dt.h)},d.xor=function(dt){for(var je=Math.max(this.g.length,dt.g.length),Je=[],ft=0;ft<je;ft++)Je[ft]=this.i(ft)^dt.i(ft);return new b(Je,this.h^dt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Le=Ee.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function oe(dt,je){if(0==dt.length)throw Error("number format error: empty string");if(2>(je=je||10)||36<je)throw Error("radix out of range: "+je);if("-"==dt.charAt(0))return nn(oe(dt.substring(1),je));if(0<=dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Je=K(Math.pow(je,8)),ft=Te,Et=0;Et<dt.length;Et+=8){var Rt=Math.min(8,dt.length-Et),Ye=parseInt(dt.substring(Et,Et+Rt),je);8>Rt?(Rt=K(Math.pow(je,Rt)),ft=ft.j(Rt).add(K(Ye))):ft=(ft=ft.j(Je)).add(K(Ye))}return ft},$e=Ee.Integer=b}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var de,Me,Oe,ot,Ct,kt,Qt,We,Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,q){return E==Array.prototype||E==Object.prototype||(E[B]=q.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Q&&Q];for(var B=0;B<E.length;++B){var q=E[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var q=a;E=E.split(".");for(var pe=0;pe<E.length-1;pe++){var _t=E[pe];if(!(_t in q))break e;q=q[_t]}(B=B(pe=q[E=E[E.length-1]]))!=pe&&null!=B&&e(q,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function y(E,B){E instanceof String&&(E+="");var q=0,pe=!1,_t={next:function(){if(!pe&&q<E.length){var Ft=q++;return{value:B(Ft,E[Ft]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}(this,function(B,q){return q})}});var b=b||{},R=this||self;function V(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function K(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function oe(E,B,q){return E.call.apply(E.bind,arguments)}function Te(E,B,q){if(!E)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,pe),E.apply(B,_t)}}return function(){return E.apply(B,arguments)}}function qe(E,B,q){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:Te).apply(null,arguments)}function At(E,B){var q=Array.prototype.slice.call(arguments,1);return function(){var pe=q.slice();return pe.push.apply(pe,arguments),E.apply(this,pe)}}function Gt(E,B){function q(){}q.prototype=B.prototype,E.aa=B.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(pe,_t,Ft){for(var Cn=Array(arguments.length-2),$i=2;$i<arguments.length;$i++)Cn[$i-2]=arguments[$i];return B.prototype[_t].apply(pe,Cn)}}function un(E){const B=E.length;if(0<B){const q=Array(B);for(let pe=0;pe<B;pe++)q[pe]=E[pe];return q}return[]}function nn(E,B){for(let q=1;q<arguments.length;q++){const pe=arguments[q];if(V(pe)){const _t=E.length||0,Ft=pe.length||0;E.length=_t+Ft;for(let Cn=0;Cn<Ft;Cn++)E[_t+Cn]=pe[Cn]}else E.push(pe)}}function lr(E){return/^[\s\xa0]*$/.test(E)}function Qn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Lr(E){return Lr[" "](E),E}Lr[" "]=function(){};var Ni=!(-1==Qn().indexOf("Gecko")||-1!=Qn().toLowerCase().indexOf("webkit")&&-1==Qn().indexOf("Edge")||-1!=Qn().indexOf("Trident")||-1!=Qn().indexOf("MSIE")||-1!=Qn().indexOf("Edge"));function ui(E,B,q){for(const pe in E)B.call(q,E[pe],pe,E)}function je(E){const B={};for(const q in E)B[q]=E[q];return B}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(E,B){let q,pe;for(let _t=1;_t<arguments.length;_t++){for(q in pe=arguments[_t],pe)E[q]=pe[q];for(let Ft=0;Ft<Je.length;Ft++)q=Je[Ft],Object.prototype.hasOwnProperty.call(pe,q)&&(E[q]=pe[q])}}function Et(E){var B=1;E=E.split(":");const q=[];for(;0<B&&E.length;)q.push(E.shift()),B--;return E.length&&q.push(E.join(":")),q}function Rt(E){R.setTimeout(()=>{throw E},0)}function Ye(){var E=q_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var ng=new class Kn{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new PE,E=>E.reset());class PE{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Of,rg=!1,q_=new class du{constructor(){this.h=this.g=null}add(B,q){const pe=ng.get();pe.set(B,q),this.h?this.h.next=pe:this.g=pe,this.h=pe}},ig=()=>{const E=R.Promise.resolve(void 0);Of=()=>{E.then(ME)}};var ME=()=>{for(var E;E=Ye();){try{E.h.call(E.g)}catch(q){Rt(q)}var B=ng;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}rg=!1};function hd(){this.s=this.s,this.C=this.C}function Qo(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}hd.prototype.s=!1,hd.prototype.ma=function(){this.s||(this.s=!0,this.N())},hd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Qo.prototype.h=function(){this.defaultPrevented=!0};var xE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,B),R.removeEventListener("test",q,B)}catch{}return E}();function sg(E,B){if(Qo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,pe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Ni){e:{try{Lr(B.nodeName);var _t=!0;break e}catch{}_t=!1}_t||(B=null)}}else"mouseover"==q?B=E.fromElement:"mouseout"==q&&(B=E.toElement);this.relatedTarget=B,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Dc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&sg.aa.h.call(this)}}Gt(sg,Qo);var Dc={2:"touch",3:"pen",4:"mouse"};sg.prototype.h=function(){sg.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),OE=0;function Iv(E,B,q,pe,_t){this.listener=E,this.proxy=null,this.src=B,this.type=q,this.capture=!!pe,this.ha=_t,this.key=++OE,this.da=this.fa=!1}function Nm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function og(E){this.src=E,this.g={},this.h=0}function km(E,B){var q=B.type;if(q in E.g){var Ft,pe=E.g[q],_t=Array.prototype.indexOf.call(pe,B,void 0);(Ft=0<=_t)&&Array.prototype.splice.call(pe,_t,1),Ft&&(Nm(B),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Nf(E,B,q,pe){for(var _t=0;_t<E.length;++_t){var Ft=E[_t];if(!Ft.da&&Ft.listener==B&&Ft.capture==!!q&&Ft.ha==pe)return _t}return-1}og.prototype.add=function(E,B,q,pe,_t){var Ft=E.toString();(E=this.g[Ft])||(E=this.g[Ft]=[],this.h++);var Cn=Nf(E,B,pe,_t);return-1<Cn?(B=E[Cn],q||(B.fa=!1)):((B=new Iv(B,this.src,Ft,!!pe,_t)).fa=q,E.push(B)),B};var ag="closure_lm_"+(1e6*Math.random()|0),Cv={};function Y_(E,B,q,pe,_t){if(pe&&pe.once)return Q_(E,B,q,pe,_t);if(Array.isArray(B)){for(var Ft=0;Ft<B.length;Ft++)Y_(E,B[Ft],q,pe,_t);return null}return q=Lm(q),E&&E[yh]?E.K(B,q,K(pe)?!!pe.capture:!!pe,_t):X_(E,B,q,!1,pe,_t)}function X_(E,B,q,pe,_t,Ft){if(!B)throw Error("Invalid event type");var Cn=K(_t)?!!_t.capture:!!_t,$i=lg(E);if($i||(E[ag]=$i=new og(E)),(q=$i.add(B,q,pe,Cn,Ft)).proxy)return q;if(pe=function wv(){const B=NE;return function E(q){return B.call(E.src,E.listener,q)}}(),q.proxy=pe,pe.src=E,pe.listener=q,E.addEventListener)xE||(_t=Cn),void 0===_t&&(_t=!1),E.addEventListener(B.toString(),pe,_t);else if(E.attachEvent)E.attachEvent(Av(B.toString()),pe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(pe)}return q}function Q_(E,B,q,pe,_t){if(Array.isArray(B)){for(var Ft=0;Ft<B.length;Ft++)Q_(E,B[Ft],q,pe,_t);return null}return q=Lm(q),E&&E[yh]?E.L(B,q,K(pe)?!!pe.capture:!!pe,_t):X_(E,B,q,!0,pe,_t)}function Fm(E,B,q,pe,_t){if(Array.isArray(B))for(var Ft=0;Ft<B.length;Ft++)Fm(E,B[Ft],q,pe,_t);else pe=K(pe)?!!pe.capture:!!pe,q=Lm(q),E&&E[yh]?(E=E.i,(B=String(B).toString())in E.g&&-1<(q=Nf(Ft=E.g[B],q,pe,_t))&&(Nm(Ft[q]),Array.prototype.splice.call(Ft,q,1),0==Ft.length&&(delete E.g[B],E.h--))):E&&(E=lg(E))&&(B=E.g[B.toString()],E=-1,B&&(E=Nf(B,q,pe,_t)),(q=-1<E?B[E]:null)&&ql(q))}function ql(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[yh])km(B.i,E);else{var q=E.type,pe=E.proxy;B.removeEventListener?B.removeEventListener(q,pe,E.capture):B.detachEvent?B.detachEvent(Av(q),pe):B.addListener&&B.removeListener&&B.removeListener(pe),(q=lg(B))?(km(q,E),0==q.h&&(q.src=null,B[ag]=null)):Nm(E)}}}function Av(E){return E in Cv?Cv[E]:Cv[E]="on"+E}function NE(E,B){if(E.da)E=!0;else{B=new sg(B,this);var q=E.listener,pe=E.ha||E.src;E.fa&&ql(E),E=q.call(pe,B)}return E}function lg(E){return(E=E[ag])instanceof og?E:null}var J_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(E){return"function"==typeof E?E:(E[J_]||(E[J_]=function(B){return E.handleEvent(B)}),E[J_])}function Jo(){hd.call(this),this.i=new og(this),this.M=this,this.F=null}function Eo(E,B){var q,pe=E.F;if(pe)for(q=[];pe;pe=pe.F)q.push(pe);if(E=E.M,pe=B.type||B,"string"==typeof B)B=new Qo(B,E);else if(B instanceof Qo)B.target=B.target||E;else{var _t=B;ft(B=new Qo(pe,E),_t)}if(_t=!0,q)for(var Ft=q.length-1;0<=Ft;Ft--){var Cn=B.g=q[Ft];_t=fd(Cn,pe,!0,B)&&_t}if(_t=fd(Cn=B.g=E,pe,!0,B)&&_t,_t=fd(Cn,pe,!1,B)&&_t,q)for(Ft=0;Ft<q.length;Ft++)_t=fd(Cn=B.g=q[Ft],pe,!1,B)&&_t}function fd(E,B,q,pe){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var _t=!0,Ft=0;Ft<B.length;++Ft){var Cn=B[Ft];if(Cn&&!Cn.da&&Cn.capture==q){var $i=Cn.listener,Ks=Cn.ha||Cn.src;Cn.fa&&km(E.i,Cn),_t=!1!==$i.call(Ks,pe)&&_t}}return _t&&!pe.defaultPrevented}function Z_(E,B,q){if("function"==typeof E)q&&(E=qe(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=qe(E.handleEvent,E)}return 2147483647<Number(B)?-1:R.setTimeout(E,B||0)}function cg(E){E.g=Z_(()=>{E.g=null,E.i&&(E.i=!1,cg(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Gt(Jo,hd),Jo.prototype[yh]=!0,Jo.prototype.removeEventListener=function(E,B,q,pe){Fm(this,E,B,q,pe)},Jo.prototype.N=function(){if(Jo.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var q=E.g[B],pe=0;pe<q.length;pe++)Nm(q[pe]);delete E.g[B],E.h--}}this.F=null},Jo.prototype.K=function(E,B,q,pe){return this.i.add(String(E),B,!1,q,pe)},Jo.prototype.L=function(E,B,q,pe){return this.i.add(String(E),B,!0,q,pe)};class N0 extends hd{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:cg(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(E){hd.call(this),this.h=E,this.g={}}Gt(ug,hd);var ey=[];function Vm(E){ui(E.g,function(B,q){this.g.hasOwnProperty(q)&&ql(B)},E),E.g={}}ug.prototype.N=function(){ug.aa.N.call(this),Vm(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Um=R.JSON.stringify,Dv=R.JSON.parse,ty=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function vh(){}function ny(){}vh.prototype.h=null;var kf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eh(){Qo.call(this,"d")}function Bm(){Qo.call(this,"c")}Gt(Eh,Qo),Gt(Bm,Qo);var gd={},bh=null;function dg(){return bh=bh||new Jo}function ry(E){Qo.call(this,gd.La,E)}function Ff(E){const B=dg();Eo(B,new ry(B))}function Sv(E,B){Qo.call(this,gd.STAT_EVENT,E),this.stat=B}function da(E){const B=dg();Eo(B,new Sv(B,E))}function Rv(E,B){Qo.call(this,gd.Ma,E),this.size=B}function hg(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},B)}function fg(){this.g=!0}function Lf(E,B,q,pe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function kE(E,B){if(!E.g)return B;if(!B)return null;try{var q=JSON.parse(B);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var pe=q[E];if(!(2>pe.length)){var _t=pe[1];if(Array.isArray(_t)&&!(1>_t.length)){var Ft=_t[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Cn=1;Cn<_t.length;Cn++)_t[Cn]=""}}}return Um(q)}catch{return B}}(E,q)+(pe?" "+pe:"")})}gd.La="serverreachability",Gt(ry,Qo),gd.STAT_EVENT="statevent",Gt(Sv,Qo),gd.Ma="timingevent",Gt(Rv,Qo),fg.prototype.xa=function(){this.g=!1},fg.prototype.info=function(){};var sy,jm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function $m(){}function md(E,B,q,pe){this.j=E,this.i=B,this.l=q,this.R=pe||1,this.U=new ug(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Gt($m,vh),$m.prototype.g=function(){return new XMLHttpRequest},$m.prototype.i=function(){return{}},sy=new $m;var oy={},gg={};function Gm(E,B,q){E.L=1,E.v=$f(fa(B)),E.m=q,E.P=!0,as(E,null)}function as(E,B){E.F=Date.now(),zm(E),E.A=fa(E.v);var q=E.A,pe=E.R;Array.isArray(pe)||(pe=[String(pe)]),yg(q.i,"t",pe),E.C=0,q=E.j.J,E.h=new xv,E.g=Tg(E.j,q?B:null,!E.m),0<E.O&&(E.M=new N0(qe(E.Y,E,E.g),E.O)),B=E.U,q=E.g,pe=E.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(ey[0]=_t.toString()),_t=ey);for(var Ft=0;Ft<_t.length;Ft++){var Cn=Y_(q,_t[Ft],pe||B.handleEvent,!1,B.h||B);if(!Cn)break;B.g[Cn.key]=Cn}B=E.H?je(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),Ff(),function Pv(E,B,q,pe,_t,Ft){E.info(function(){if(E.g)if(Ft)for(var Cn="",$i=Ft.split("&"),Ks=0;Ks<$i.length;Ks++){var wi=$i[Ks].split("=");if(1<wi.length){var To=wi[0];wi=wi[1];var Io=To.split("_");Cn=2<=Io.length&&"type"==Io[1]?Cn+(To+"=")+wi+"&":Cn+(To+"=redacted&")}}else Cn=null;else Cn=Ft;return"XMLHTTP REQ ("+pe+") [attempt "+_t+"]: "+B+"\n"+q+"\n"+Cn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function ay(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Hm(E,B){var q=E.C,pe=B.indexOf("\n",q);return-1==pe?gg:(q=Number(B.substring(q,pe)),isNaN(q)?oy:(pe+=1)+q>B.length?gg:(B=B.slice(pe,pe+q),E.C=pe+q,B))}function zm(E){E.S=Date.now()+E.I,Vf(E,E.I)}function Vf(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=hg(qe(E.ba,E),B)}function Wm(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Uf(E){0==E.j.G||E.J||Xf(E.j,E)}function Sc(E){Wm(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,Vm(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function Km(E,B){try{var q=E.j;if(0!=q.G&&(q.g==E||Bf(q.h,E)))if(!E.K&&Bf(q.h,E)&&3==q.G){try{var pe=q.Da.g.parse(B)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var _t=pe;if(0==_t[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;xc(q),gu(q)}Tl(q),da(18)}}else q.za=_t[1],0<q.za-q.T&&37500>_t[2]&&q.F&&0==q.v&&!q.C&&(q.C=hg(qe(q.Za,q),6e3));if(1>=hu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Zl(q,11)}else if((E.K||q.g==E)&&xc(q),!lr(B))for(_t=q.Da.g.parse(B),B=0;B<_t.length;B++){let wi=_t[B];if(q.T=wi[0],wi=wi[1],2==q.G)if("c"==wi[0]){q.K=wi[1],q.ia=wi[2];const To=wi[3];null!=To&&(q.la=To,q.j.info("VER="+q.la));const Io=wi[4];null!=Io&&(q.Aa=Io,q.j.info("SVER="+q.Aa));const mu=wi[5];null!=mu&&"number"==typeof mu&&0<mu&&(q.L=pe=1.5*mu,q.j.info("backChannelRequestTimeoutMs_="+pe)),pe=q;const Lo=E.g;if(Lo){const Nh=Lo.g?Lo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nh){var Ft=pe.h;Ft.g||-1==Nh.indexOf("spdy")&&-1==Nh.indexOf("quic")&&-1==Nh.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(ha(Ft,Ft.h),Ft.h=null))}if(pe.D){const Ig=Lo.g?Lo.g.getResponseHeader("X-HTTP-Session-Id"):null;Ig&&(pe.ya=Ig,ls(pe.I,pe.D,Ig))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Cn=E;if((pe=q).qa=bg(pe,pe.J?pe.ia:null,pe.W),Cn.K){mg(pe.h,Cn);var $i=Cn,Ks=pe.L;Ks&&($i.I=Ks),$i.B&&(Wm($i),zm($i)),pe.g=Cn}else Sa(pe);0<q.i.length&&Mc(q)}else"stop"!=wi[0]&&"close"!=wi[0]||Zl(q,7);else 3==q.G&&("stop"==wi[0]||"close"==wi[0]?"stop"==wi[0]?Zl(q,7):qf(q):"noop"!=wi[0]&&q.l&&q.l.ta(wi),q.v=0)}Ff()}catch{}}function Th(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function hu(E){return E.h?1:E.g?E.g.size:0}function Bf(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function ha(E,B){E.g?E.g.add(B):E.h=B}function mg(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function _d(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const q of E.g.values())B=B.concat(q.D);return B}return un(E.i)}function yd(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(V(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var q=function Ch(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(V(E)||"string"==typeof E){var B=[];E=E.length;for(var q=0;q<E;q++)B.push(q);return B}B=[],q=0;for(const pe in E)B[q++]=pe;return B}}}(E),pe=function Ih(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(V(E)){for(var B=[],q=E.length,pe=0;pe<q;pe++)B.push(E[pe]);return B}for(pe in B=[],q=0,E)B[q++]=E[pe];return B}(E),_t=pe.length,Ft=0;Ft<_t;Ft++)B.call(void 0,pe[Ft],q&&q[Ft],E)}md.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==qa(E)?B.j():this.Y(E)},md.prototype.Y=function(E){try{if(E==this.g)e:{const Io=qa(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>Io)&&(3!=Io||this.g&&(this.h.h||this.g.oa()||Id(this.g)))){this.J||4!=Io||7==B||Ff(),Wm(this);var q=this.g.Z();this.X=q;t:if(ay(this)){var pe=Id(this.g);E="";var _t=pe.length,Ft=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sc(this),Uf(this);var Cn="";break t}this.h.i=new R.TextDecoder}for(B=0;B<_t;B++)this.h.h=!0,E+=this.h.i.decode(pe[B],{stream:!(Ft&&B==_t-1)});pe.length=0,this.h.g+=E,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==q,function iy(E,B,q,pe,_t,Ft,Cn){E.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+_t+"]: "+B+"\n"+q+"\n"+Ft+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,Io,q),this.o){if(this.T&&!this.K){t:{if(this.g){var $i,Ks=this.g;if(($i=Ks.g?Ks.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr($i)){var wi=$i;break t}}wi=null}if(!(q=wi)){this.o=!1,this.s=3,da(12),Sc(this),Uf(this);break e}Lf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Km(this,q)}if(this.P){let Lo;for(q=!0;!this.J&&this.C<Cn.length;){if(Lo=Hm(this,Cn),Lo==gg){4==Io&&(this.s=4,da(14),q=!1),Lf(this.i,this.l,null,"[Incomplete Response]");break}if(Lo==oy){this.s=4,da(15),Lf(this.i,this.l,Cn,"[Invalid Chunk]"),q=!1;break}Lf(this.i,this.l,Lo,null),Km(this,Lo)}if(ay(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Io||0!=Cn.length||this.h.h||(this.s=1,da(16),q=!1),this.o=this.o&&q,q){if(0<Cn.length&&!this.W){this.W=!0;var To=this.j;To.g==this&&To.ba&&!To.M&&(To.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),Cd(To),To.M=!0,da(11))}}else Lf(this.i,this.l,Cn,"[Invalid Chunked Response]"),Sc(this),Uf(this)}else Lf(this.i,this.l,Cn,null),Km(this,Cn);4==Io&&Sc(this),this.o&&!this.J&&(4==Io?Xf(this.j,this):(this.o=!1,zm(this)))}else(function fy(E){const B={};E=(E.g&&2<=qa(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<E.length;pe++){if(lr(E[pe]))continue;var q=Et(E[pe]);const _t=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Ft=B[_t]||[];B[_t]=Ft,Ft.push(q)}!function dt(E,B){for(const q in E)B.call(void 0,E[q],q,E)}(B,function(pe){return pe.join(", ")})})(this.g),400==q&&0<Cn.indexOf("Unknown SID")?(this.s=3,da(12)):(this.s=0,da(13)),Sc(this),Uf(this)}}}catch{}},md.prototype.cancel=function(){this.J=!0,Sc(this)},md.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function pg(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(Ff(),da(17)),Sc(this),this.s=2,Uf(this)):Vf(this,this.S-E)},Th.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var vd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Ka){this.h=E.h,Rc(this,E.j),this.o=E.o,this.g=E.g,jf(this,E.s),this.l=E.l;var B=E.i,q=new _g;q.i=B.i,B.g&&(q.g=new Map(B.g),q.h=B.h),qm(this,q),this.m=E.m}else E&&(B=String(E).match(vd))?(this.h=!1,Rc(this,B[1]||"",!0),this.o=Ah(B[2]||""),this.g=Ah(B[3]||"",!0),jf(this,B[4]),this.l=Ah(B[5]||"",!0),qm(this,B[6]||"",!0),this.m=Ah(B[7]||"")):(this.h=!1,this.i=new _g(null,this.h))}function fa(E){return new Ka(E)}function Rc(E,B,q){E.j=q?Ah(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function jf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function qm(E,B,q){B instanceof _g?(E.i=B,function Qm(E,B){B&&!E.j&&(fu(E),E.i=null,E.g.forEach(function(q,pe){var _t=pe.toLowerCase();pe!=_t&&(Pc(this,pe),yg(this,_t,q))},E)),E.j=B}(E.i,E.h)):(q||(B=Dh(B,Ov)),E.i=new _g(B,E.h))}function ls(E,B,q){E.i.set(B,q)}function $f(E){return ls(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ah(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Dh(E,B,q){return"string"==typeof E?(E=encodeURI(E).replace(B,ly),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ly(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Ka.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Dh(B,Ym,!0),":");var q=this.g;return(q||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Dh(B,Ym,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Dh(q,"/"==q.charAt(0)?Xm:cy,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Dh(q,k0)),E.join("")};var E,Ym=/[#\/\?@]/g,cy=/[#\?:]/g,Xm=/[#\?]/g,Ov=/[#\?@]/g,k0=/#/g;function _g(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function fu(E){E.g||(E.g=new Map,E.h=0,E.i&&function wh(E,B){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var pe=E[q].indexOf("="),_t=null;if(0<=pe){var Ft=E[q].substring(0,pe);_t=E[q].substring(pe+1)}else Ft=E[q];B(Ft,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}(E.i,function(B,q){E.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}function Pc(E,B){fu(E),B=Ed(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function uy(E,B){return fu(E),B=Ed(E,B),E.g.has(B)}function yg(E,B,q){Pc(E,B),0<q.length&&(E.i=null,E.g.set(Ed(E,B),un(q)),E.h+=q.length)}function Ed(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Xl(E,B,q,pe,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),pe(q)}catch{}}function bd(){this.g=new ty}function Jm(E,B,q){const pe=q||"";try{yd(E,function(_t,Ft){let Cn=_t;K(_t)&&(Cn=Um(_t)),B.push(pe+Ft+"="+encodeURIComponent(Cn))})}catch(_t){throw B.push(pe+"type="+encodeURIComponent("_badmap")),_t}}function pa(E){this.l=E.Ub||null,this.j=E.eb||!1}function Sh(E,B){Jo.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Gf(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Hf(E)}function Hf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Td(E){let B="";return ui(E,function(q,pe){B+=pe,B+=":",B+=q,B+="\r\n"}),B}function vg(E,B,q){e:{for(pe in q){var pe=!1;break e}pe=!0}pe||(q=Td(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ls(E,B,q))}function Ws(E){Jo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=_g.prototype).add=function(E,B){fu(this),this.i=null,E=Ed(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(B),this.h+=1,this},d.forEach=function(E,B){fu(this),this.g.forEach(function(q,pe){q.forEach(function(_t){E.call(B,_t,pe,this)},this)},this)},d.na=function(){fu(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),q=[];for(let pe=0;pe<B.length;pe++){const _t=E[pe];for(let Ft=0;Ft<_t.length;Ft++)q.push(B[pe])}return q},d.V=function(E){fu(this);let B=[];if("string"==typeof E)uy(this,E)&&(B=B.concat(this.g.get(Ed(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)B=B.concat(E[q])}return B},d.set=function(E,B){return fu(this),this.i=null,uy(this,E=Ed(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var q=0;q<B.length;q++){var pe=B[q];const Ft=encodeURIComponent(String(pe)),Cn=this.V(pe);for(pe=0;pe<Cn.length;pe++){var _t=Ft;""!==Cn[pe]&&(_t+="="+encodeURIComponent(String(Cn[pe]))),E.push(_t)}}return this.i=E.join("&")},Gt(pa,vh),pa.prototype.g=function(){return new Sh(this.l,this.j)},pa.prototype.i=(E={},function(){return E}),Gt(Sh,Jo),(d=Sh.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,Hf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||R).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gf(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Hf(this)),this.g&&(this.readyState=3,Hf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?Gf(this):Hf(this),3==this.readyState&&Rh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Gf(this))},d.Qa=function(E){this.g&&(this.response=E,Gf(this))},d.ga=function(){this.g&&Gf(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var q=B.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=B.next();return E.join("\r\n")},Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Gt(Ws,Jo);var hy=/^https?$/i,Zm=["POST","PUT"];function Eg(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,Ph(E),Wf(E)}function Ph(E){E.A||(E.A=!0,Eo(E,"complete"),Eo(E,"error"))}function zf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=qa(E)||2!=E.Z()))if(E.u&&4==qa(E))Z_(E.Ea,0,E);else if(Eo(E,"readystatechange"),4==qa(E)){E.h=!1;try{const Cn=E.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var pe;if(pe=0===Cn){var _t=String(E.D).match(vd)[1]||null;!_t&&R.self&&R.self.location&&(_t=R.self.location.protocol.slice(0,-1)),pe=!hy.test(_t?_t.toLowerCase():"")}q=pe}if(q)Eo(E,"complete"),Eo(E,"success");else{E.m=6;try{var Ft=2<qa(E)?E.g.statusText:""}catch{Ft=""}E.l=Ft+" ["+E.Z()+"]",Ph(E)}}finally{Wf(E)}}}function Wf(E,B){if(E.g){Kf(E);const q=E.g,pe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||Eo(E,"ready");try{q.onreadystatechange=pe}catch{}}}function Kf(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function qa(E){return E.g?E.g.readyState:0}function Id(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function pu(E,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||B}function Ql(E){this.Aa=0,this.i=[],this.j=new fg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,E),this.cb=pu("retryDelaySeedMs",1e4,E),this.Wa=pu("forwardChannelMaxRetries",2,E),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Th(E&&E.concurrentRequestLimit),this.Da=new bd,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qf(E){if(e_(E),3==E.G){var B=E.U++,q=fa(E.I);if(ls(q,"SID",E.K),ls(q,"RID",B),ls(q,"TYPE","terminate"),Mh(E,q),(B=new md(E,E.j,B)).L=2,B.v=$f(fa(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(B.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=B.v,q=!0),q||(B.g=Tg(B.j,null),B.g.ea(B.v)),B.F=Date.now(),zm(B)}my(E)}function gu(E){E.g&&(Cd(E),E.g.cancel(),E.g=null)}function e_(E){gu(E),E.u&&(R.clearTimeout(E.u),E.u=null),xc(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Mc(E){if(!bo(E.h)&&!E.s){E.s=!0;var B=E.Ga;Of||ig(),rg||(Of(),rg=!0),q_.add(B,E),E.B=0}}function gy(E,B){var q;q=B?B.l:E.U++;const pe=fa(E.I);ls(pe,"SID",E.K),ls(pe,"RID",q),ls(pe,"AID",E.T),Mh(E,pe),E.m&&E.o&&vg(pe,E.m,E.o),q=new md(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),B&&(E.i=B.D.concat(E.i)),B=Jl(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ha(E.h,q),Gm(q,pe,B)}function Mh(E,B){E.H&&ui(E.H,function(q,pe){ls(B,pe,q)}),E.l&&yd({},function(q,pe){ls(B,pe,q)})}function Jl(E,B,q){q=Math.min(E.i.length,q);var pe=E.l?qe(E.l.Na,E.l,E):null;e:{var _t=E.i;let Ft=-1;for(;;){const Cn=["count="+q];-1==Ft?0<q?(Ft=_t[0].g,Cn.push("ofs="+Ft)):Ft=0:Cn.push("ofs="+Ft);let $i=!0;for(let Ks=0;Ks<q;Ks++){let wi=_t[Ks].g;const To=_t[Ks].map;if(wi-=Ft,0>wi)Ft=Math.max(0,_t[Ks].g-100),$i=!1;else try{Jm(To,Cn,"req"+wi+"_")}catch{pe&&pe(To)}}if($i){pe=Cn.join("&");break e}}}return E=E.i.splice(0,q),B.D=E,pe}function Sa(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;Of||ig(),rg||(Of(),rg=!0),q_.add(B,E),E.v=0}}function Tl(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=hg(qe(E.Fa,E),wd(E,E.v)),E.v++,0))}function Cd(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function Yf(E){E.g=new md(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=fa(E.qa);ls(B,"RID","rpc"),ls(B,"SID",E.K),ls(B,"AID",E.T),ls(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&ls(B,"TO",E.ja),ls(B,"TYPE","xmlhttp"),Mh(E,B),E.m&&E.o&&vg(B,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=$f(fa(B)),q.m=null,q.P=!0,as(q,E)}function xc(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function Xf(E,B){var q=null;if(E.g==B){xc(E),Cd(E),E.g=null;var pe=2}else{if(!Bf(E.h,B))return;q=B.D,mg(E.h,B),pe=1}if(0!=E.G)if(B.o)if(1==pe){q=B.m?B.m.length:0,B=Date.now()-B.F;var _t=E.B;Eo(pe=dg(),new Rv(pe,q)),Mc(E)}else Sa(E);else if(3==(_t=B.s)||0==_t&&0<B.X||!(1==pe&&function py(E,B){return!(hu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=hg(qe(E.Ga,E,B),wd(E,E.B)),E.B++,0)))}(E,B)||2==pe&&Tl(E)))switch(q&&0<q.length&&(B=E.h,B.i=B.i.concat(q)),_t){case 1:Zl(E,5);break;case 4:Zl(E,10);break;case 3:Zl(E,6);break;default:Zl(E,2)}}function wd(E,B){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*B}function Zl(E,B){if(E.j.info("Error code "+B),2==B){var q=qe(E.fb,E),pe=E.Xa;const _t=!pe;pe=new Ka(pe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Rc(pe,"https"),$f(pe),_t?function Da(E,B){const q=new fg;if(R.Image){const pe=new Image;pe.onload=At(Xl,q,"TestLoadImage: loaded",!0,B,pe),pe.onerror=At(Xl,q,"TestLoadImage: error",!1,B,pe),pe.onabort=At(Xl,q,"TestLoadImage: abort",!1,B,pe),pe.ontimeout=At(Xl,q,"TestLoadImage: timeout",!1,B,pe),R.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=E}else B(!1)}(pe.toString(),q):function dy(E,B){new fg;const pe=new AbortController,_t=setTimeout(()=>{pe.abort(),Xl(0,0,!1,B)},1e4);fetch(E,{signal:pe.signal}).then(Ft=>{clearTimeout(_t),Xl(0,0,!!Ft.ok,B)}).catch(()=>{clearTimeout(_t),Xl(0,0,!1,B)})}(pe.toString(),q)}else da(2);E.G=0,E.l&&E.l.sa(B),my(E),e_(E)}function my(E){if(E.G=0,E.ka=[],E.l){const B=_d(E.h);(0!=B.length||0!=E.i.length)&&(nn(E.ka,B),nn(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function bg(E,B,q){var pe=q instanceof Ka?fa(q):new Ka(q);if(""!=pe.g)B&&(pe.g=B+"."+pe.g),jf(pe,pe.s);else{var _t=R.location;pe=_t.protocol,B=B?B+"."+_t.hostname:_t.hostname,_t=+_t.port;var Ft=new Ka(null);pe&&Rc(Ft,pe),B&&(Ft.g=B),_t&&jf(Ft,_t),q&&(Ft.l=q),pe=Ft}return B=E.ya,(q=E.D)&&B&&ls(pe,q,B),ls(pe,"VER",E.la),Mh(E,pe),pe}function Tg(E,B,q){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Ws(E.Ca&&!E.pa?new pa({eb:q}):E.pa)).Ha(E.J),B}function Qf(){}function xh(){}function cs(E,B){Jo.call(this),this.g=new Ql(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!lr(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!lr(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new Oh(this)}function t_(E){Eh.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const q in B){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function Nv(){Bm.call(this),this.status=1}function Oh(E){this.g=E}(d=Ws.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,q,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sy.g(),this.v=function pd(E){return E.h||(E.h=E.i())}(this.o?this.o:sy),this.g.onreadystatechange=qe(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(Ft){return void Eg(this,Ft)}if(E=q||"",q=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var _t in pe)q.set(_t,pe[_t]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const Ft of pe.keys())q.set(Ft,pe.get(Ft))}pe=Array.from(q.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),_t=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Zm,B,void 0))||pe||_t||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Cn]of q)this.g.setRequestHeader(Ft,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kf(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ft){Eg(this,Ft)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Eo(this,"complete"),Eo(this,"abort"),Wf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wf(this,!0)),Ws.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?zf(this):this.bb())},d.bb=function(){zf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),Dv(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Ql.prototype).la=8,d.G=1,d.connect=function(E,B,q,pe){da(0),this.W=E,this.H=B||{},q&&void 0!==pe&&(this.H.OSID=q,this.H.OAID=pe),this.F=this.X,this.I=bg(this,null,this.W),Mc(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const _t=new md(this,this.j,E);let Ft=this.o;if(this.S&&(Ft?(Ft=je(Ft),ft(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(_t.H=Ft,Ft=null),this.P)e:{for(var B=0,q=0;q<this.i.length;q++){var pe=this.i[q];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(B+=pe)){B=q;break e}if(4096===B||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=Jl(this,_t,B),ls(q=fa(this.I),"RID",E),ls(q,"CVER",22),this.D&&ls(q,"X-HTTP-Session-Id",this.D),Mh(this,q),Ft&&(this.O?B="headers="+encodeURIComponent(String(Td(Ft)))+"&"+B:this.m&&vg(q,this.m,Ft)),ha(this.h,_t),this.Ua&&ls(q,"TYPE","init"),this.P?(ls(q,"$req",B),ls(q,"SID","null"),_t.T=!0,Gm(_t,q,null)):Gm(_t,q,B),this.G=2}}else 3==this.G&&(E?gy(this,E):0==this.i.length||bo(this.h)||gy(this))},d.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=hg(qe(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,da(10),gu(this),Yf(this))},d.Za=function(){null!=this.C&&(this.C=null,gu(this),Tl(this),da(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),da(2)):(this.j.info("Failed to ping google.com"),da(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Qf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},xh.prototype.g=function(E,B){return new cs(E,B)},Gt(cs,Jo),cs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cs.prototype.close=function(){qf(this.g)},cs.prototype.o=function(E){var B=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Um(E),E=q);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&Mc(B)},cs.prototype.N=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,cs.aa.N.call(this)},Gt(t_,Eh),Gt(Nv,Bm),Gt(Oh,Qf),Oh.prototype.ua=function(){Eo(this.g,"a")},Oh.prototype.ta=function(E){Eo(this.g,new t_(E))},Oh.prototype.sa=function(E){Eo(this.g,new Nv)},Oh.prototype.ra=function(){Eo(this.g,"b")},xh.prototype.createWebChannel=xh.prototype.g,cs.prototype.send=cs.prototype.o,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,We=ee.createWebChannelTransport=function(){return new xh},Qt=ee.getStatEventTarget=function(){return dg()},kt=ee.Event=gd,Ct=ee.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jm.NO_ERROR=0,jm.TIMEOUT=8,jm.HTTP_ERROR=6,ot=ee.ErrorCode=jm,Mv.COMPLETE="complete",Oe=ee.EventType=Mv,ny.EventType=kf,kf.OPEN="a",kf.CLOSE="b",kf.ERROR="c",kf.MESSAGE="d",Jo.prototype.listen=Jo.prototype.K,Me=ee.WebChannel=ny,ee.FetchXmlHttpFactory=pa,Ws.prototype.listenOnce=Ws.prototype.L,Ws.prototype.getLastError=Ws.prototype.Ka,Ws.prototype.getLastErrorCode=Ws.prototype.Ba,Ws.prototype.getStatus=Ws.prototype.Z,Ws.prototype.getResponseJson=Ws.prototype.Oa,Ws.prototype.getResponseText=Ws.prototype.oa,Ws.prototype.send=Ws.prototype.ea,Ws.prototype.setWithCredentials=Ws.prototype.Ha,de=ee.XhrIo=Ws}).apply(typeof Q<"u"?Q:typeof self<"u"?self:typeof window<"u"?window:{});const we="@firebase/firestore";class et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");let Ue="10.14.0";const tt=new ve.Vy("@firebase/firestore");function Ge(){return tt.logLevel}function Ot(d){tt.setLogLevel(d)}function Ce(d,...e){if(tt.logLevel<=ve.$b.DEBUG){const r=e.map(ir);tt.debug(`Firestore (${Ue}): ${d}`,...r)}}function Yt(d,...e){if(tt.logLevel<=ve.$b.ERROR){const r=e.map(ir);tt.error(`Firestore (${Ue}): ${d}`,...r)}}function pn(d,...e){if(tt.logLevel<=ve.$b.WARN){const r=e.map(ir);tt.warn(`Firestore (${Ue}): ${d}`,...r)}}function ir(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Xe(d="Unexpected state"){const e=`FIRESTORE (${Ue}) INTERNAL ASSERTION FAILED: `+d;throw Yt(e),new Error(e)}function Mt(d,e){d||Xe()}function Be(d,e){d||Xe()}function ct(d,e){return d}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends _e.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ke{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(et.UNAUTHENTICATED))}shutdown(){}}class Ie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;Mt(void 0===this.o);let h=this.i;const y=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new tn,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield y(a.currentUser)}))},V=K=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new tn)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Mt("string"==typeof a.accessToken),new Ke(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new et(e)}}class ut{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class it{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new ut(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Mt(void 0===this.o);const a=y=>{null!=y.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,Ce("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Mt("string"==typeof r.token),this.R=r.token,new Vt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class Vn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=sn(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function Jt(d,e){return d<e?-1:d>e?1:0}function $n(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function On(d){return d+"\0"}class Ht{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new st(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Ht(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Ht(0,0))}static max(){return new jt(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Er{constructor(e,r,a){void 0===r?r=0:r>e.length&&Xe(),void 0===a?a=e.length-r:a>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Er.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const y=e.get(h),b=r.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class on extends Er{construct(e,r,a){return new on(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new on(r)}static emptyPath(){return new on([])}}const kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Er{construct(e,r,a){return new Yn(e,r,a)}static isValidIdentifier(e){return kr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const y=()=>{if(0===a.length)throw new st(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new st(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[h+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new st(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=V,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new st(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(r)}static emptyPath(){return new Yn([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(on.fromString(e))}static fromName(e){return new $t(on.fromString(e).popFirst(5))}static empty(){return new $t(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return on.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new on(e.slice()))}}class Tn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Gn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Mr{constructor(e,r){this.fieldPath=e,this.kind=r}}class zn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new zn(0,hn.min())}}function fi(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=jt.fromTimestamp(1e9===a?new Ht(r+1,0):new Ht(r,a));return new hn(h,$t.empty(),e)}function gs(d){return new hn(d.readTime,d.key,-1)}class hn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new hn(jt.min(),$t.empty(),-1)}static max(){return new hn(jt.max(),$t.empty(),-1)}}function ri(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=$t.comparator(d.documentKey,e.documentKey),0!==r?r:Jt(d.largestBatchId,e.largestBatchId))}const Jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ir{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hn(d){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.A)(function*(d){if(d.code!==Ne.FAILED_PRECONDITION||d.message!==Jn)throw d;Ce("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new at((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(r,y).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof at?r:at.resolve(r)}catch(r){return at.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):at.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):at.reject(r)}static resolve(e){return new at((r,a)=>{r(e)})}static reject(e){return new at((r,a)=>{a(e)})}static waitFor(e){return new at((r,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&r()},V=>a(V))}),b=!0,y===h&&r()})}static or(e){let r=at.resolve(!1);for(const a of e)r=r.next(h=>h?at.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,y)=>{a.push(r.call(this,h,y))}),this.waitFor(a)}static mapArray(e,r){return new at((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let V=0;V<y;V++){const K=V;r(e[K]).next(oe=>{b[K]=oe,++R,R===y&&a(b)},oe=>h(oe))}})}static doWhile(e,r){return new at((a,h)=>{const y=()=>{!0===e()?r().next(()=>{y()},h):a()};y()})}}class Tt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new tn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new pt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=vt(a.target.error);this.V.reject(new pt(e,h))}}static open(e,r,a,h){try{return new Tt(r,e.transaction(h,a))}catch(y){throw new pt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new yt(r)}}class ce{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ce.S((0,_e.ZQ)())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ce("SimpleDb","Removing database:",e),Xt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.zW)())return!1;if(ce.v())return!0;const e=(0,_e.ZQ)(),r=ce.S(e),a=0<r&&r<10,h=ke(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ce("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new pt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new st(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new st(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new pt(e,R))},y.onupgradeneeded=b=>{Ce("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var y=this;return(0,o.A)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const V=Tt.open(y.db,e,b?"readonly":"readwrite",a),K=h(V).next(oe=>(V.g(),oe)).catch(oe=>(V.abort(oe),at.reject(oe))).toPromise();return K.catch(()=>{}),yield V.m,K}catch(V){const K=V,oe="FirebaseError"!==K.name&&R<3;if(Ce("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ke(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class fe{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Xt(this.B.delete())}}class pt extends st{constructor(e,r){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function be(d){return"IndexedDbTransactionError"===d.name}class yt{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ce("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Xt(a)}add(e){return Ce("SimpleDb","ADD",this.store.name,e,e),Xt(this.store.add(e))}get(e){return Xt(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ce("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ce("SimpleDb","DELETE",this.store.name,e),Xt(this.store.delete(e))}count(){return Ce("SimpleDb","COUNT",this.store.name),Xt(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new at((b,R)=>{y.onerror=V=>{R(V.target.error)},y.onsuccess=V=>{b(V.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,V)=>{b.push(V)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new at((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ce("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new at((a,h)=>{r.onerror=y=>{const b=vt(y.target.error);h(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,r){const a=[];return new at((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const V=new fe(R),K=r(R.primaryKey,R.value,V);if(K instanceof at){const oe=K.catch(Te=>(V.done(),at.reject(Te)));a.push(oe)}V.isDone?h():null===V.K?R.continue():R.continue(V.K)}}).next(()=>at.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Xt(d){return new at((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=vt(a.target.error);r(h)}})}let br=!1;function vt(d){const e=ce.S((0,_e.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return br||(br=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ce("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ce("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){be(a)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Hn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,y=!0;return at.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ce("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(Ce("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,y)=>{const b=gs(y);ri(b,a)>0&&(a=b)}),new hn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let L=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ie(d){return null==d}function me(d){return 0===d&&1/d==-1/0}function ht(d){return"number"==typeof d&&Number.isInteger(d)&&!me(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function xt(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=fn(e)),e=an(d.get(r),e);return fn(e)}function an(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function fn(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if(Mt(e>=2),2===e)return Mt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),on.emptyPath();const r=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>r)&&Xe(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let V;0===h.length?V=R:(h+=R,V=h,h=""),a.push(V);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:Xe()}y=b+2}return new on(a)}const Tr=["userId","batchId"];function ln(d,e){return[d,xt(e)]}function qr(d,e,r){return[d,xt(e),r]}const ur={},Bs=["prefixPath","collectionGroup","readTime","documentId"],Fi=["prefixPath","collectionGroup","documentId"],ms=["collectionGroup","readTime","prefixPath","documentId"],_s=["canonicalId","targetId"],yi=["targetId","path"],or=["path","targetId"],Os=["collectionId","parent"],Dt=["indexId","uid"],lt=["uid","sequenceNumber"],Nt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cn=["indexId","uid","orderedDocumentKey"],Bn=["userId","collectionPath","documentId"],Ln=["userId","collectionPath","largestBatchId"],pr=["userId","collectionGroup","largestBatchId"],Gr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jr=[...Gr,"documentOverlays"],gr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hi=gr,Ns=[...Hi,"indexConfiguration","indexState","indexEntries"],Qi=Ns,wo=[...Ns,"globals"];class Ao extends Ir{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ui(d,e){const r=ct(d);return ce.F(r._e,e)}function Vo(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function di(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ys(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Zr{constructor(e,r){this.comparator=e,this.root=r||Pi.EMPTY}insert(e,r){return new Zr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?a(e.key,r):1,r&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,r,a,h,y){this.key=e,this.value=r,this.color=a??Pi.RED,this.left=h??Pi.EMPTY,this.right=y??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,y){return new Pi(e??this.key,r??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===y?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Pi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,a,h,y){return this}insert(e,r,a){return new Pi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new co(this.data.getIterator())}getIteratorFrom(e){return new co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Do(d){return d.hasNext()?d.getNext():void 0}class pi{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new pi([])}unionWith(e){let r=new Ar(Yn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new pi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $n(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class xa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Xa(){return typeof atob<"u"}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new xa("Invalid base64 string: "+y):y}}(e);return new xr(r)}static fromUint8Array(e){const r=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new xr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const us=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(d){if(Mt(!!d),"string"==typeof d){let e=0;const r=us.exec(d);if(Mt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:mr(d.seconds),nanos:mr(d.nanos)}}function mr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function vs(d){return"string"==typeof d?xr.fromBase64String(d):xr.fromUint8Array(d)}function Zi(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Cs(d){const e=d.mapValue.fields.__previous_value__;return Zi(e)?Cs(e):e}function es(d){const e=Mi(d.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}class Dr{constructor(e,r,a,h,y,b,R,V,K){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=V,this.useFetchStreams=K}}class ii{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ii("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ii&&e.projectId===this.projectId&&e.database===this.database}}const si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ws={nullValue:"NULL_VALUE"};function oi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Zi(d)?4:Zn(d)?9007199254740991:vi(d)?10:11:Xe()}function zi(d,e){if(d===e)return!0;const r=oi(d);if(r!==oi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return es(d).isEqual(es(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=Mi(h.timestampValue),R=Mi(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,vs(d.bytesValue).isEqual(vs(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return mr(h.geoPointValue.latitude)===mr(y.geoPointValue.latitude)&&mr(h.geoPointValue.longitude)===mr(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return mr(h.integerValue)===mr(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=mr(h.doubleValue),R=mr(y.doubleValue);return b===R?me(b)===me(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return $n(d.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(Vo(b)!==Vo(R))return!1;for(const V in b)if(b.hasOwnProperty(V)&&(void 0===R[V]||!zi(b[V],R[V])))return!1;return!0}(d,e);default:return Xe()}var y}function eo(d,e){return void 0!==(d.values||[]).find(r=>zi(r,e))}function Wi(d,e){if(d===e)return 0;const r=oi(d),a=oi(e);if(r!==a)return Jt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=mr(y.integerValue||y.doubleValue),V=mr(b.integerValue||b.doubleValue);return R<V?-1:R>V?1:R===V?0:isNaN(R)?isNaN(V)?0:-1:1}(d,e);case 3:return Es(d.timestampValue,e.timestampValue);case 4:return Es(es(d),es(e));case 5:return Jt(d.stringValue,e.stringValue);case 6:return function(y,b){const R=vs(y),V=vs(b);return R.compareTo(V)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),V=b.split("/");for(let K=0;K<R.length&&K<V.length;K++){const oe=Jt(R[K],V[K]);if(0!==oe)return oe}return Jt(R.length,V.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Jt(mr(y.latitude),mr(b.latitude));return 0!==R?R:Jt(mr(y.longitude),mr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return ks(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,V,K,oe;const At=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Gt=null===(V=(b.fields||{}).value)||void 0===V?void 0:V.arrayValue,un=Jt((null===(K=At?.values)||void 0===K?void 0:K.length)||0,(null===(oe=Gt?.values)||void 0===oe?void 0:oe.length)||0);return 0!==un?un:ks(At,Gt)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===si.mapValue&&b===si.mapValue)return 0;if(y===si.mapValue)return 1;if(b===si.mapValue)return-1;const R=y.fields||{},V=Object.keys(R),K=b.fields||{},oe=Object.keys(K);V.sort(),oe.sort();for(let Te=0;Te<V.length&&Te<oe.length;++Te){const qe=Jt(V[Te],oe[Te]);if(0!==qe)return qe;const At=Wi(R[V[Te]],K[oe[Te]]);if(0!==At)return At}return Jt(V.length,oe.length)}(d.mapValue,e.mapValue);default:throw Xe()}}function Es(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Jt(d,e);const r=Mi(d),a=Mi(e),h=Jt(r.seconds,a.seconds);return 0!==h?h:Jt(r.nanos,a.nanos)}function ks(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const y=Wi(r[h],a[h]);if(y)return y}return Jt(r.length,a.length)}function ei(d){return gn(d)}function gn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=Mi(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?vs(d.bytesValue).toBase64():"referenceValue"in d?$t.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const y of r.values||[])h?h=!1:a+=",",a+=gn(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${gn(r.fields[b])}`;return h+"}"}(d.mapValue):Xe()}function dr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Ki(d){return!!d&&"integerValue"in d}function ts(d){return!!d&&"arrayValue"in d}function ai(d){return!!d&&"nullValue"in d}function xi(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Fr(d){return!!d&&"mapValue"in d}function vi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function bs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return di(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=bs(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bs(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Zn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ts={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function As(d){return"nullValue"in d?ws:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?dr(ii.empty(),$t.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?vi(d)?Ts:{mapValue:{}}:Xe()}function te(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?dr(ii.empty(),$t.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?Ts:"mapValue"in d?vi(d)?{mapValue:{}}:si:Xe()}function J(d,e){const r=Wi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Se(d,e){const r=Wi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Ve{constructor(e){this.value=e}static empty(){return new Ve({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Fr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(r)}setAll(e){let r=Yn.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const V=this.getFieldsMap(r);this.applyChanges(V,a,h),a={},h=[],r=R.popLast()}b?a[R.lastSegment()]=bs(b):h.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,a,h)}delete(e){const r=this.field(e.popLast());Fr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];Fr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){di(r,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new Ve(bs(this.value))}}function nt(d){const e=[];return di(d.fields,(r,a)=>{const h=new Yn([r]);if(Fr(a)){const y=nt(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new pi(e)}class It{constructor(e,r,a,h,y,b,R){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new It(e,0,jt.min(),jt.min(),jt.min(),Ve.empty(),0)}static newFoundDocument(e,r,a,h){return new It(e,1,r,jt.min(),a,h,0)}static newNoDocument(e,r){return new It(e,2,r,jt.min(),jt.min(),Ve.empty(),0)}static newUnknownDocument(e,r){return new It(e,3,r,jt.min(),jt.min(),Ve.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ve.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ve.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kt{constructor(e,r){this.position=e,this.inclusive=r}}function An(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?$t.comparator($t.fromName(b.referenceValue),r.key):Wi(b,r.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function _n(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!zi(d.position[r],e.position[r]))return!1;return!0}class jn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Or(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Rn{}class kn extends Rn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Yr(e,r,a):"array-contains"===r?new Ds(e,a):"in"===r?new ta(e,a):"not-in"===r?new Qa(e,a):"array-contains-any"===r?new Bo(e,a):new kn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new Uo(e,a):new ds(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Wi(r,this.value)):null!==r&&oi(this.value)===oi(r)&&this.matchesComparison(Wi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Rn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tr(e,r)}matches(e){return Ei(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ei(d){return"and"===d.op}function Ur(d){return"or"===d.op}function Ii(d){return Li(d)&&Ei(d)}function Li(d){for(const e of d.filters)if(e instanceof tr)return!1;return!0}function Si(d){if(d instanceof kn)return d.field.canonicalString()+d.op.toString()+ei(d.value);if(Ii(d))return d.filters.map(e=>Si(e)).join(",");{const e=d.filters.map(r=>Si(r)).join(",");return`${d.op}(${e})`}}function Sr(d,e){return d instanceof kn?(a=d,(h=e)instanceof kn&&a.op===h.op&&a.field.isEqual(h.field)&&zi(a.value,h.value)):d instanceof tr?function(a,h){return h instanceof tr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Sr(b,h.filters[R]),!0)}(d,e):void Xe();var a,h}function Oi(d,e){const r=d.filters.concat(e);return tr.create(r,d.op)}function Ri(d){return d instanceof kn?`${(r=d).field.canonicalString()} ${r.op} ${ei(r.value)}`:d instanceof tr?function(r){return r.op.toString()+" {"+r.getFilters().map(Ri).join(" ,")+"}"}(d):"Filter";var r}class Yr extends kn{constructor(e,r,a){super(e,r,a),this.key=$t.fromName(a.referenceValue)}matches(e){const r=$t.comparator(e.key,this.key);return this.matchesComparison(r)}}class Uo extends kn{constructor(e,r){super(e,"in",r),this.keys=Ys(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ds extends kn{constructor(e,r){super(e,"not-in",r),this.keys=Ys(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ys(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>$t.fromName(a.referenceValue))}class Ds extends kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ts(r)&&eo(r.arrayValue,this.value)}}class ta extends kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&eo(this.value.arrayValue,r)}}class Qa extends kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!eo(this.value.arrayValue,r)}}class Bo extends kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ts(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>eo(this.value.arrayValue,a))}}class kc{constructor(e,r=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Ss(d,e=null,r=[],a=[],h=null,y=null,b=null){return new kc(d,e,r,a,h,y,b)}function hs(d){const e=ct(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Si(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),ie(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>ei(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>ei(a)).join(",")),e.ue=r}return e.ue}function So(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Or(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Sr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!_n(d.startAt,e.startAt)&&_n(d.endAt,e.endAt)}function ga(d){return $t.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Oa(d,e){return d.filters.filter(r=>r instanceof kn&&r.field.isEqual(e))}function gi(d,e,r){let a=ws,h=!0;for(const y of Oa(d,e)){let b=ws,R=!0;switch(y.op){case"<":case"<=":b=As(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=ws}J({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];J({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function ma(d,e,r){let a=si,h=!0;for(const y of Oa(d,e)){let b=si,R=!0;switch(y.op){case">=":case">":b=te(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=si}Se({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Se({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class Ro{constructor(e,r=null,a=[],h=[],y=null,b="F",R=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=V,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,y,b,R){return new Ro(d,e,r,a,h,y,b,R)}function Z(d){return new Ro(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function le(d){return null!==d.collectionGroup}function He(d){const e=ct(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Ar(Yn.comparator);return b.filters.forEach(V=>{V.getFlattenedFilters().forEach(K=>{K.isInequality()&&(R=R.add(K.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new jn(y,a))}),r.has(Yn.keyField().canonicalString())||e.ce.push(new jn(Yn.keyField(),a))}return e.ce}function mn(d){const e=ct(d);return e.le||(e.le=function ns(d,e){if("F"===d.limitType)return Ss(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new jn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Kt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Kt(d.startAt.position,d.startAt.inclusive):null;return Ss(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,He(d))),e.le}function Xs(d,e){const r=d.filters.concat([e]);return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function rs(d,e,r){return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function go(d,e){return So(mn(d),mn(e))&&d.limitType===e.limitType}function to(d){return`${hs(mn(d))}|lt:${d.limitType}`}function is(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Ri(h)).join(", ")}]`),ie(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>ei(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>ei(h)).join(",")),`Target(${a})`}(mn(d))}; limitType=${d.limitType})`}function Qs(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):$t.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of He(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,V){const K=An(b,R,V);return b.inclusive?K<=0:K<0}(a.startAt,He(a),h)||a.endAt&&!function(b,R,V){const K=An(b,R,V);return b.inclusive?K>=0:K>0}(a.endAt,He(a),h)));var a,h}function Fc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Rs(d){return(e,r)=>{let a=!1;for(const h of He(d)){const y=_a(h,e,r);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function _a(d,e,r){const a=d.field.isKeyField()?$t.comparator(e.key,r.key):function(y,b,R){const V=b.data.field(y),K=R.data.field(y);return null!==V&&null!==K?Wi(V,K):Xe()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Xe()}}class ji{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(r,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return ys(this.inner)}size(){return this.innerSize}}const Al=new Zr($t.comparator);function ss(){return Al}const Ja=new Zr($t.comparator);function no(...d){let e=Ja;for(const r of d)e=e.insert(r.key,r);return e}function ya(d){let e=Ja;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Ps(){return Na()}function va(){return Na()}function Na(){return new ji(d=>d.toString(),(d,e)=>d.isEqual(e))}const Za=new Zr($t.comparator),bu=new Ar($t.comparator);function yr(...d){let e=bu;for(const r of d)e=e.add(r);return e}const Dl=new Ar(Jt);function mo(){return Dl}function jo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function el(d){return{integerValue:""+d}}function Tu(d,e){return ht(e)?el(e):jo(d,e)}class Sl{constructor(){this._=void 0}}function Vh(d,e,r){return d instanceof nl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&Zi(y)&&(y=Cs(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):d instanceof Po?ka(d,e):d instanceof Fa?rl(d,e):function(h,y){const b=Iu(h,y),R=il(b)+il(h.Pe);return Ki(b)&&Ki(h.Pe)?el(R):jo(h.serializer,R)}(d,e)}function tl(d,e,r){return d instanceof Po?ka(d,e):d instanceof Fa?rl(d,e):r}function Iu(d,e){return d instanceof Ea?Ki(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class nl extends Sl{}class Po extends Sl{constructor(e){super(),this.elements=e}}function ka(d,e){const r=Lc(e);for(const a of d.elements)r.some(h=>zi(h,a))||r.push(a);return{arrayValue:{values:r}}}class Fa extends Sl{constructor(e){super(),this.elements=e}}function rl(d,e){let r=Lc(e);for(const a of d.elements)r=r.filter(h=>!zi(h,a));return{arrayValue:{values:r}}}class Ea extends Sl{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function il(d){return mr(d.integerValue||d.doubleValue)}function Lc(d){return ts(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class j{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xe(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class St{}function Ut(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new os(d.key,Y.none()):new er(d.key,d.data,Y.none());{const r=d.data,a=Ve.empty();let h=new Ar(Yn.comparator);for(let y of e.fields)if(!h.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new Br(d.key,a,new pi(h.toArray()),Y.none())}}function Un(d,e,r){d instanceof er?function(h,y,b){const R=h.value.clone(),V=Ai(h.fieldTransforms,y,b.transformResults);R.setAll(V),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,r):d instanceof Br?function(h,y,b){if(!xe(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=Ai(h.fieldTransforms,y,b.transformResults),V=y.data;V.setAll(Qr(h)),V.setAll(R),y.convertToFoundDocument(b.version,V).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Xr(d,e,r,a){return d instanceof er?function(y,b,R,V){if(!xe(y.precondition,b))return R;const K=y.value.clone(),oe=js(y.fieldTransforms,V,b);return K.setAll(oe),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,a):d instanceof Br?function(y,b,R,V){if(!xe(y.precondition,b))return R;const K=js(y.fieldTransforms,V,b),oe=b.data;return oe.setAll(Qr(y)),oe.setAll(K),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Te=>Te.field))}(d,e,r,a):(R=r,xe(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function hi(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=Iu(a.transform,h||null);null!=y&&(null===r&&(r=Ve.empty()),r.set(a.field,y))}return r||null}function Nr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&$n(a,h,(y,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Po&&h instanceof Po||a instanceof Fa&&h instanceof Fa?$n(a.elements,h.elements,zi):a instanceof Ea&&h instanceof Ea?zi(a.Pe,h.Pe):a instanceof nl&&h instanceof nl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class er extends St{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Br extends St{constructor(e,r,a,h,y=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Qr(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function Ai(d,e,r){const a=new Map;Mt(d.length===r.length);for(let h=0;h<r.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,tl(b,R,r[h]))}return a}function js(d,e,r){const a=new Map;for(const h of d){const y=h.transform,b=r.data.field(h.field);a.set(h.field,Vh(y,b,e))}return a}class os extends St{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $o extends St{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ms{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Un(y,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Xr(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Xr(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=va();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(h.key)?null:R;const V=Ut(b,R);null!==V&&a.set(h.key,V),b.isValidDocument()||b.convertToNoDocument(jt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),yr())}isEqual(e){return this.batchId===e.batchId&&$n(this.mutations,e.mutations,(r,a)=>Nr(r,a))&&$n(this.baseMutations,e.baseMutations,(r,a)=>Nr(r,a))}}class Go{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){Mt(e.mutations.length===a.length);let h=Za;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new Go(e,r,a,h)}}class Ci{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uo{constructor(e,r){this.count=e,this.unchangedNames=r}}var Cr,Rr;function Rl(d){switch(d){default:return Xe();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function ro(d){if(void 0===d)return Yt("GRPC error has no .code"),Ne.UNKNOWN;switch(d){case Cr.OK:return Ne.OK;case Cr.CANCELLED:return Ne.CANCELLED;case Cr.UNKNOWN:return Ne.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return Ne.INTERNAL;case Cr.UNAVAILABLE:return Ne.UNAVAILABLE;case Cr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Cr.NOT_FOUND:return Ne.NOT_FOUND;case Cr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Cr.ABORTED:return Ne.ABORTED;case Cr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Cr.DATA_LOSS:return Ne.DATA_LOSS;default:return Xe()}}(Rr=Cr||(Cr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function Vc(){return new TextEncoder}const Pl=new $e([4294967295,4294967295],0);function Vi(d){const e=Vc().encode(d),r=new Le;return r.update(e),new Uint8Array(r.digest())}function Uh(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new $e([r,a],0),new $e([h,y],0)]}class Uc{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Ho(`Invalid padding: ${r}`);if(a<0)throw new Ho(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Ho(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new Ho(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=$e.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply($e.fromNumber(a)));return 1===h.compare(Pl)&&(h=new $e([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Vi(e),[a,h]=Uh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Uc(y,h,r);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Vi(e),[a,h]=Uh(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xs{constructor(e,r,a,h,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new xs(jt.min(),h,new Zr(Jt),ss(),yr())}}class La{constructor(e,r,a,h,y){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new La(a,r,yr(),yr(),yr())}}class Ml{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class wu{constructor(e,r){this.targetId=e,this.me=r}}class Au{constructor(e,r,a=xr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Bc{constructor(){this.fe=0,this.ge=Zt(),this.pe=xr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yr(),r=yr(),a=yr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Xe()}}),new La(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=Zt()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Du{constructor(e){this.Le=e,this.Be=new Map,this.ke=ss(),this.qe=ar(),this.Qe=new Zr(Jt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const y=h.target;if(ga(y))if(0===a){const b=new $t(y.path);this.Ue(r,b,It.newNoDocument(b,jt.min()))}else Mt(1===a);else{const b=this.Ye(r);if(b!==a){const R=this.Ze(e),V=R?this.Xe(R,e,b):1;0!==V&&(this.je(r),this.Qe=this.Qe.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=r;let b,R;try{b=vs(a).toUint8Array()}catch(V){if(V instanceof xa)return pn("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{R=new Uc(b,h,y)}catch(V){return pn(V instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===R.Ie?null:R}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&ga(R.target)){const V=new $t(R.target.path);null!==this.ke.get(V)||this.it(b,V)||this.Ue(b,V,It.newNoDocument(V,e))}y.be&&(r.set(b,y.ve()),y.Ce())}});let a=yr();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(V=>{const K=this.Je(V);return!K||"TargetPurposeLimboResolution"===K.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new xs(e,r,this.Qe,this.ke,a);return this.ke=ss(),this.qe=ar(),this.Qe=new Zr(Jt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Bc,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(Jt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bc),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ar(){return new Zr($t.comparator)}function Zt(){return new Zr($t.comparator)}const rc={asc:"ASCENDING",desc:"DESCENDING"},na={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xl={and:"AND",or:"OR"};class ba{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function sl(d,e){return d.useProto3Json||ie(e)?e:{value:e}}function ra(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mo(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ic(d,e){return ra(d,e.toTimestamp())}function Dn(d){return Mt(!!d),jt.fromTimestamp(function(r){const a=Mi(r);return new Ht(a.seconds,a.nanos)}(d))}function Va(d,e){return Su(d,e).canonicalString()}function Su(d,e){const r=(h=d,new on(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Wt(d){const e=on.fromString(d);return Mt(w(e)),e}function Pr(d,e){return Va(d.databaseId,e.path)}function zo(d,e){const r=Wt(e);if(r.get(1)!==d.databaseId.projectId)throw new st(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new st(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new $t(Ta(r))}function fs(d,e){return Va(d.databaseId,e)}function $s(d){const e=Wt(d);return 4===e.length?on.emptyPath():Ta(e)}function sc(d){return new on(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Ta(d){return Mt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function xo(d,e,r){return{name:Pr(d,e),fields:r.value.mapValue.fields}}function jc(d,e,r){const a=zo(d,e.name),h=Dn(e.updateTime),y=e.createTime?Dn(e.createTime):jt.min(),b=new Ve({mapValue:{fields:e.fields}}),R=It.newFoundDocument(a,h,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function $c(d,e){let r;if(e instanceof er)r={update:xo(d,e.key,e.value)};else if(e instanceof os)r={delete:Pr(d,e.key)};else if(e instanceof Br)r={update:xo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof $o))return Xe();r={verify:Pr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof nl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Po)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Fa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ea)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Xe()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:ic(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Xe()),r;var y}function Ua(d,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Y.updateTime(Dn(y.updateTime)):void 0!==y.exists?Y.exists(y.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let V=null;"setToServerValue"in R?(Mt("REQUEST_TIME"===R.setToServerValue),V=new nl):"appendMissingElements"in R?V=new Po(R.appendMissingElements.values||[]):"removeAllFromArray"in R?V=new Fa(R.removeAllFromArray.values||[]):"increment"in R?V=new Ea(b,R.increment):Xe();const K=Yn.fromServerFormat(R.fieldPath);return new P(K,V)}(d,h)):[];var y;if(e.update){const h=zo(d,e.update.name),y=new Ve({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new pi((e.updateMask.fieldPaths||[]).map(oe=>Yn.fromServerFormat(oe)));return new Br(h,y,b,r,a)}return new er(h,y,r,a)}if(e.delete){const h=zo(d,e.delete);return new os(h,r)}if(e.verify){const h=zo(d,e.verify);return new $o(h,r)}return Xe()}function Gs(d,e){return{documents:[fs(d,e.path)]}}function Ba(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=fs(d,h);const y=function(K){if(0!==K.length)return D(tr.create(K,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(K){if(0!==K.length)return K.map(oe=>{return{field:Ia((qe=oe).field),direction:sp(qe.dir)};var qe})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=sl(d,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function _o(d){let e=$s(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){Mt(1===a);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let y=[];r.where&&(y=function(Te){const qe=Gc(Te);return qe instanceof tr&&Ii(qe)?qe.getFilters():[qe]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(qe=>{return new jn(Ol((Gt=qe).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Gt.direction));var Gt}));let R=null;r.limit&&(R=function(Te){let qe;return qe="object"==typeof Te?Te.value:Te,ie(qe)?null:qe}(r.limit));let V=null;var Te;r.startAt&&(V=new Kt((Te=r.startAt).values||[],!!Te.before));let K=null;return r.endAt&&(K=function(Te){return new Kt(Te.values||[],!Te.before)}(r.endAt)),W(e,h,b,y,R,"F",V,K)}function Gc(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ol(r.unaryFilter.field);return kn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Ol(r.unaryFilter.field);return kn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Ol(r.unaryFilter.field);return kn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Ol(r.unaryFilter.field);return kn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(d):void 0!==d.fieldFilter?kn.create(Ol((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return tr.create(r.compositeFilter.filters.map(a=>Gc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(d):Xe();var r}function sp(d){return rc[d]}function Rd(d){return na[d]}function Pu(d){return xl[d]}function Ia(d){return{fieldPath:d.canonicalString()}}function Ol(d){return Yn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof kn?function(r){if("=="===r.op){if(xi(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NAN"}};if(ai(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(xi(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NOT_NAN"}};if(ai(r.value))return{unaryFilter:{field:Ia(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(r.field),op:Rd(r.op),value:r.value}}}(d):d instanceof tr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:Pu(r.op),filters:a}}}(d):Xe()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,y=jt.min(),b=jt.min(),R=xr.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=V}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Pr(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:ra(y,b.version.toTimestamp()),createTime:ra(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:bt(e.version)};else{if(!e.isUnknownDocument())return Xe();a.unknownDocument={path:r.path.toArray(),version:bt(e.version)}}var y,b;return a}function wt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function bt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function En(d){const e=new Ht(d.seconds,d.nanoseconds);return jt.fromTimestamp(e)}function _r(d,e){const r=(e.baseMutations||[]).map(y=>Ua(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>Ua(d.ct,y)),h=Ht.fromMillis(e.localWriteTimeMs);return new Ms(e.batchId,h,r,a)}function hr(d){const e=En(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?En(d.lastLimboFreeSnapshotVersion):jt.min();let a;return a=void 0!==d.query.documents?(Mt(1===(y=d.query).documents.length),mn(Z($s(y.documents[0])))):function(y){return mn(_o(y))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,xr.fromBase64String(d.resumeToken));var y}function wr(d,e){const r=bt(e.snapshotVersion),a=bt(e.lastLimboFreeSnapshotVersion);let h;h=ga(e.target)?Gs(d.ct,e.target):Ba(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hs(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Hr(d){const e=_o({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?rs(e,e.limit,"L"):e}function ia(d,e){return new Ci(e.largestBatchId,Ua(d.ct,e.overlayMutation))}function Nl(d,e){const r=e.path.lastSegment();return[d,xt(e.path.popLast()),r]}function ol(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:bt(a.readTime),documentKey:xt(a.documentKey.path),largestBatchId:a.largestBatchId}}class kl{getBundleMetadata(e,r){return Mu(e).get(r).next(a=>{if(a)return{id:(y=a).bundleId,createTime:En(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return Mu(e).put({bundleId:(h=r).id,createTime:bt(Dn(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Bh(e).get(r).next(a=>{if(a)return{name:(y=a).name,query:Hr(y.bundledQuery),readTime:En(y.readTime)};var y})}saveNamedQuery(e,r){return Bh(e).put({name:(h=r).name,readTime:bt(Dn(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Mu(d){return Ui(d,"bundles")}function Bh(d){return Ui(d,"namedQueries")}class al{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new al(e,r.uid||"")}getOverlay(e,r){return sa(e).get(Nl(this.userId,r)).next(a=>a?ia(this.serializer,a):null)}getOverlays(e,r){const a=Ps();return at.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((y,b)=>{const R=new Ci(r,b);h.push(this.ht(e,R))}),at.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(xt(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(sa(e).j("collectionPathOverlayIndex",R))}),at.waitFor(y)}getOverlaysForCollection(e,r,a){const h=Ps(),y=xt(r),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return sa(e).U("collectionPathOverlayIndex",b).next(R=>{for(const V of R){const K=ia(this.serializer,V);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const y=Ps();let b;const R=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return sa(e).J({index:"collectionGroupOverlayIndex",range:R},(V,K,oe)=>{const Te=ia(this.serializer,K);y.size()<h||Te.largestBatchId===b?(y.set(Te.getKey(),Te),b=Te.largestBatchId):oe.done()}).next(()=>y)}ht(e,r){return sa(e).put(function(h,y,b){const[R,V,K]=Nl(y,b.mutation.key);return{userId:y,collectionPath:V,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:$c(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function sa(d){return Ui(d,"documentOverlays")}class jh{Pt(e){return Ui(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?xr.fromUint8Array(a):xr.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ca{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(mr(e.integerValue));else if("doubleValue"in e){const a=mr(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),me(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=Mi(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(vs(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?Zn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):vi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Xe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const y=e.fields||{};this.dt(r,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(mr(R)),this.Vt(b,r),this.Tt(y[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),$t.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function ll(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function xu(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=ll(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ca.vt=new Ca;class Ou{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=xu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=xu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Nu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Pd{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ku{constructor(){this.jt=new Ou,this.Ht=new Nu(this.jt),this.Jt=new Pd(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class yo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new yo(this.indexId,this.documentKey,this.arrayValue,a)}}function Wo(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Fl(d.arrayValue,e.arrayValue),0!==r?r:(r=Fl(d.directionalValue,e.directionalValue),0!==r?r:$t.comparator(d.documentKey,e.documentKey)))}function Fl(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class $h{constructor(e){this.Xt=new Ar((r,a)=>Yn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Mt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Gn(e);if(void 0!==r&&!this.sn(r))return!1;const a=In(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const V=a[y];if(!this.on(R,V)||!this._n(this.en[b++],V))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Ar(Yn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Mr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Mr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Mr(a.field,"asc"===a.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,r,zn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Md(d){var e,r;if(Mt(d instanceof kn||d instanceof tr),d instanceof kn){if(d instanceof ta){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>kn.create(d.field,"==",y)))||[];return tr.create(h,"or")}return d}const a=d.filters.map(h=>Md(h));return tr.create(a,d.op)}function a_(d){if(0===d.getFilters().length)return[];const e=ap(Md(d));return Mt(op(e)),Gh(e)||Fu(e)?[e]:e.getFilters()}function Gh(d){return d instanceof kn}function Fu(d){return d instanceof tr&&Ii(d)}function op(d){return Gh(d)||Fu(d)||function(r){if(r instanceof tr&&Ur(r)){for(const a of r.getFilters())if(!Gh(a)&&!Fu(a))return!1;return!0}return!1}(d)}function ap(d){if(Mt(d instanceof kn||d instanceof tr),d instanceof kn)return d;if(1===d.filters.length)return ap(d.filters[0]);const e=d.filters.map(a=>ap(a));let r=tr.create(e,d.op);return r=Hh(r),op(r)?r:(Mt(r instanceof tr),Mt(Ei(r)),Mt(r.filters.length>1),r.filters.reduce((a,h)=>cl(a,h)))}function cl(d,e){let r;return Mt(d instanceof kn||d instanceof tr),Mt(e instanceof kn||e instanceof tr),r=d instanceof kn?e instanceof kn?tr.create([d,e],"and"):Ll(d,e):e instanceof kn?Ll(e,d):function(h,y){if(Mt(h.filters.length>0&&y.filters.length>0),Ei(h)&&Ei(y))return Oi(h,y.getFilters());const b=Ur(h)?h:y,R=Ur(h)?y:h,V=b.filters.map(K=>cl(K,R));return tr.create(V,"or")}(d,e),Hh(r)}function Ll(d,e){if(Ei(e))return Oi(e,d.getFilters());{const r=e.filters.map(a=>cl(d,a));return tr.create(r,"or")}}function Hh(d){if(Mt(d instanceof kn||d instanceof tr),d instanceof kn)return d;const e=d.getFilters();if(1===e.length)return Hh(e[0]);if(Li(d))return d;const r=e.map(h=>Hh(h)),a=[];return r.forEach(h=>{h instanceof kn?a.push(h):h instanceof tr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:tr.create(a,d.op)}class wa{constructor(){this.un=new Lu}addToCollectionParentIndex(e,r){return this.un.add(r),at.resolve()}getCollectionParents(e,r){return at.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return at.resolve()}deleteFieldIndex(e,r){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,r){return at.resolve()}getDocumentsMatchingTarget(e,r){return at.resolve(null)}getIndexType(e,r){return at.resolve(0)}getFieldIndexes(e,r){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,r){return at.resolve(hn.min())}getMinOffsetFromCollectionGroup(e,r){return at.resolve(hn.min())}updateCollectionGroup(e,r,a){return at.resolve()}updateIndexEntries(e,r){return at.resolve()}}class Lu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Ar(on.comparator),y=!h.has(a);return this.index[r]=h.add(a),y}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ar(on.comparator)).toArray()}}const ul=new Uint8Array(0);class lp{constructor(e,r){this.databaseId=r,this.cn=new Lu,this.ln=new ji(a=>hs(a),(a,h)=>So(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const y={collectionId:a,parent:xt(h)};return zh(e).put(y)}return at.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return zh(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==r)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,r){const a=Vu(e),h={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var R;delete h.indexId;const y=a.add(h);if(r.indexState){const b=io(e);return y.next(R=>{b.put(ol(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const a=Vu(e),h=io(e),y=Aa(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Vu(e),a=Aa(e),h=io(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return at.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new $h(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const a=Aa(e);let h=!0;const y=new Map;return at.forEach(this.hn(r),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=yr();const R=[];return at.forEach(y,(V,K)=>{var Qn;Ce("IndexedDbIndexManager",`Using index ${Qn=V,`id=${Qn.indexId}|cg=${Qn.collectionGroup}|f=${Qn.fields.map(Lr=>`${Lr.fieldPath}:${Lr.kind}`).join(",")}`} to execute ${hs(r)}`);const oe=function(Qn,Lr){const Ni=Gn(Lr);if(void 0===Ni)return null;for(const ui of Oa(Qn,Ni.fieldPath))switch(ui.op){case"array-contains-any":return ui.value.arrayValue.values||[];case"array-contains":return[ui.value]}return null}(K,V),Te=function(Qn,Lr){const Ni=new Map;for(const ui of In(Lr))for(const dt of Oa(Qn,ui.fieldPath))switch(dt.op){case"==":case"in":Ni.set(ui.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Ni.set(ui.fieldPath.canonicalString(),dt.value),Array.from(Ni.values())}return null}(K,V),qe=function(Qn,Lr){const Ni=[];let ui=!0;for(const dt of In(Lr)){const je=0===dt.kind?gi(Qn,dt.fieldPath,Qn.startAt):ma(Qn,dt.fieldPath,Qn.startAt);Ni.push(je.value),ui&&(ui=je.inclusive)}return new Kt(Ni,ui)}(K,V),At=function(Qn,Lr){const Ni=[];let ui=!0;for(const dt of In(Lr)){const je=0===dt.kind?ma(Qn,dt.fieldPath,Qn.endAt):gi(Qn,dt.fieldPath,Qn.endAt);Ni.push(je.value),ui&&(ui=je.inclusive)}return new Kt(Ni,ui)}(K,V),Gt=this.In(V,K,qe),un=this.In(V,K,At),nn=this.Tn(V,K,Te),Kn=this.En(V.indexId,oe,Gt,qe.inclusive,un,At.inclusive,nn);return at.forEach(Kn,lr=>a.G(lr,r.limit).next(Qn=>{Qn.forEach(Lr=>{const Ni=$t.fromSegments(Lr.documentKey);b.has(Ni)||(b=b.add(Ni),R.push(Ni))})}))}).next(()=>R)}return at.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:a_(tr.create(e.filters,"and")).map(a=>Ss(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,y,b,R){const V=(null!=r?r.length:1)*Math.max(a.length,y.length),K=V/(null!=r?r.length:1),oe=[];for(let Te=0;Te<V;++Te){const qe=r?this.dn(r[Te/K]):ul,At=this.An(e,qe,a[Te%K],h),Gt=this.Rn(e,qe,y[Te%K],b),un=R.map(nn=>this.An(e,qe,nn,!0));oe.push(...this.createRange(At,Gt,un))}return oe}An(e,r,a,h){const y=new yo(e,$t.empty(),r,a);return h?y:y.Zt()}Rn(e,r,a,h){const y=new yo(e,$t.empty(),r,a);return h?y.Zt():y}Pn(e,r){const a=new $h(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return at.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(V){let K=new Ar(Yn.comparator),oe=!1;for(const Te of V.filters)for(const qe of Te.getFlattenedFilters())qe.field.isKeyField()||("array-contains"===qe.op||"array-contains-any"===qe.op?oe=!0:K=K.add(qe.field));for(const Te of V.orderBy)Te.field.isKeyField()||(K=K.add(Te.field));return K.size+(oe?1:0)}(y)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new ku;for(const h of In(e)){const y=r.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);Ca.vt.It(y,b)}return a.zt()}dn(e){const r=new ku;return Ca.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new ku;return Ca.vt.It(dr(this.databaseId,r),a.Yt(function(y){const b=In(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new ku);let y=0;for(const b of In(e)){const R=a[y++];for(const V of h)if(this.fn(r,b.fieldPath)&&ts(R))h=this.gn(h,b,R);else{const K=V.Yt(b.kind);Ca.vt.It(R,K)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const V=new ku;V.seed(R.zt()),Ca.vt.It(b,V.Yt(r.kind)),y.push(V)}return y}fn(e,r){return!!e.filters.find(a=>a instanceof kn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Vu(e),h=io(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(y=>{const b=[];return at.forEach(y,R=>h.get([R.indexId,this.uid]).next(V=>{b.push(function(oe,Te){const qe=Te?new zn(Te.sequenceNumber,new hn(En(Te.readTime),new $t(Sn(Te.documentKey)),Te.largestBatchId)):zn.empty(),At=oe.fields.map(([Gt,un])=>new Mr(Yn.fromServerFormat(Gt),un));return new Tn(oe.indexId,oe.collectionGroup,At,qe)}(R,V))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Jt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Vu(e),y=io(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>at.forEach(R,V=>y.put(ol(V.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return at.forEach(r,(h,y)=>{const b=a.get(h.collectionGroup);return(b?at.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),at.forEach(R,V=>this.wn(e,h,V).next(K=>{const oe=this.Sn(y,V);return K.isEqual(oe)?at.resolve():this.bn(e,y,V,K,oe)}))))})}Dn(e,r,a,h){return Aa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Aa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Aa(e);let y=new Ar(Wo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,R)=>{y=y.add(new yo(a.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,r){let a=new Ar(Wo);const h=this.Vn(r,e);if(null==h)return a;const y=Gn(r);if(null!=y){const b=e.data.field(y.fieldPath);if(ts(b))for(const R of b.arrayValue.values||[])a=a.add(new yo(r.indexId,e.key,this.dn(R),h))}else a=a.add(new yo(r.indexId,e.key,ul,h));return a}bn(e,r,a,h,y){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(V,K,oe,Te,qe){const At=V.getIterator(),Gt=K.getIterator();let un=Do(At),nn=Do(Gt);for(;un||nn;){let Kn=!1,lr=!1;if(un&&nn){const Qn=oe(un,nn);Qn<0?lr=!0:Qn>0&&(Kn=!0)}else null!=un?lr=!0:Kn=!0;Kn?(Te(nn),nn=Do(Gt)):lr?(qe(un),un=Do(At)):(un=Do(At),nn=Do(Gt))}}(h,y,Wo,R=>{b.push(this.Dn(e,r,a,R))},R=>{b.push(this.vn(e,r,a,R))}),at.waitFor(b)}yn(e){let r=1;return io(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,R)=>Wo(b,R)).filter((b,R,V)=>!R||0!==Wo(b,V[R-1]));const h=[];h.push(e);for(const b of a){const R=Wo(b,e),V=Wo(b,r);if(0===R)h[0]=e.Zt();else if(R>0&&V<0)h.push(b),h.push(b.Zt());else if(V>0)break}h.push(r);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ul,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ul,[]]))}return y}Cn(e,r){return Wo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(dl)}getMinOffset(e,r){return at.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Xe())).next(dl)}}function zh(d){return Ui(d,"collectionParents")}function Aa(d){return Ui(d,"indexEntries")}function Vu(d){return Ui(d,"indexConfiguration")}function io(d){return Ui(d,"indexState")}function dl(d){Mt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ri(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new hn(e.readTime,e.documentKey,r)}const ja={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const V=a.J({range:b},(oe,Te,qe)=>(R++,qe.delete()));y.push(V.next(()=>{Mt(1===R)}));const K=[];for(const oe of r.mutations){const Te=qr(e,oe.key.path,r.batchId);y.push(h.delete(Te)),K.push(oe.key)}return at.waitFor(y).next(()=>K)}function Vl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Xe();e=d.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class oc{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){Mt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new oc(y,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const y=fl(e),b=hl(e);return b.add({}).next(R=>{Mt("number"==typeof R);const V=new Ms(R,r,a,h),K=function(At,Gt,un){const nn=un.baseMutations.map(lr=>$c(At.ct,lr)),Kn=un.mutations.map(lr=>$c(At.ct,lr));return{userId:Gt,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:nn,mutations:Kn}}(this.serializer,this.userId,V),oe=[];let Te=new Ar((qe,At)=>Jt(qe.canonicalString(),At.canonicalString()));for(const qe of h){const At=qr(this.userId,qe.key.path,R);Te=Te.add(qe.key.path.popLast()),oe.push(b.put(K)),oe.push(y.put(At,ur))}return Te.forEach(qe=>{oe.push(this.indexManager.addToCollectionParentIndex(e,qe))}),e.addOnCommittedListener(()=>{this.Fn[R]=V.keys()}),at.waitFor(oe).next(()=>V)})}lookupMutationBatch(e,r){return hl(e).get(r).next(a=>a?(Mt(a.userId===this.userId),_r(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?at.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return hl(e).J({index:"userMutationsIndex",range:h},(b,R,V)=>{R.userId===this.userId&&(Mt(R.batchId>=a),y=_r(this.serializer,R)),V.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return hl(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hl(e).U("userMutationsIndex",r).next(a=>a.map(h=>_r(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=ln(this.userId,r.path),h=IDBKeyRange.lowerBound(a),y=[];return fl(e).J({range:h},(b,R,V)=>{const[K,oe,Te]=b,qe=Sn(oe);if(K===this.userId&&r.path.isEqual(qe))return hl(e).get(Te).next(At=>{if(!At)throw Xe();Mt(At.userId===this.userId),y.push(_r(this.serializer,At))});V.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Jt);const h=[];return r.forEach(y=>{const b=ln(this.userId,y.path),R=IDBKeyRange.lowerBound(b),V=fl(e).J({range:R},(K,oe,Te)=>{const[qe,At,Gt]=K,un=Sn(At);qe===this.userId&&y.path.isEqual(un)?a=a.add(Gt):Te.done()});h.push(V)}),at.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,y=ln(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new Ar(Jt);return fl(e).J({range:b},(V,K,oe)=>{const[Te,qe,At]=V,Gt=Sn(qe);Te===this.userId&&a.isPrefixOf(Gt)?Gt.length===h&&(R=R.add(At)):oe.done()}).next(()=>this.xn(e,R))}xn(e,r){const a=[],h=[];return r.forEach(y=>{h.push(hl(e).get(y).next(b=>{if(null===b)throw Xe();Mt(b.userId===this.userId),a.push(_r(this.serializer,b))}))}),at.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Wh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),at.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return at.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return fl(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const V=Sn(y[1]);h.push(V)}else R.done()}).next(()=>{Mt(0===h.length)})})}containsKey(e,r){return Kh(e,this.userId,r)}Nn(e){return Uu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kh(d,e,r){const a=ln(e,r.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return fl(d).J({range:y,H:!0},(R,V,K)=>{const[oe,Te,qe]=R;oe===e&&Te===h&&(b=!0),K.done()}).next(()=>b)}function hl(d){return Ui(d,"mutations")}function fl(d){return Ui(d,"documentMutations")}function Uu(d){return Ui(d,"mutationQueues")}class Ul{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ul(0)}static kn(){return new Ul(-1)}}class Bu{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Ul(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>jt.fromTimestamp(new Ht(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>oa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(Mt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const y=[];return oa(e).J((b,R)=>{const V=hr(R);V.sequenceNumber<=r&&null===a.get(V.targetId)&&(h++,y.push(this.removeTargetData(e,V)))}).next(()=>at.waitFor(y)).next(()=>h)}forEachTarget(e,r){return oa(e).J((a,h)=>{const y=hr(h);r(y)})}qn(e){return ac(e).get("targetGlobalKey").next(r=>(Mt(null!==r),r))}Qn(e,r){return ac(e).put("targetGlobalKey",r)}Kn(e,r){return oa(e).put(wr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=hs(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return oa(e).J({range:h,index:"queryTargetsIndex"},(b,R,V)=>{const K=hr(R);So(r,K.target)&&(y=K,V.done())}).next(()=>y)}addMatchingKeys(e,r,a){const h=[],y=No(e);return r.forEach(b=>{const R=xt(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),at.waitFor(h)}removeMatchingKeys(e,r,a){const h=No(e);return at.forEach(r,y=>{const b=xt(y.path);return at.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,r){const a=No(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=No(e);let y=yr();return h.J({range:a,H:!0},(b,R,V)=>{const K=Sn(b[1]),oe=new $t(K);y=y.add(oe)}).next(()=>y)}containsKey(e,r){const a=xt(r.path),h=IDBKeyRange.bound([a],[On(a)],!1,!0);let y=0;return No(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],V,K)=>{0!==b&&(y++,K.done())}).next(()=>y>0)}ot(e,r){return oa(e).get(r).next(a=>a?hr(a):null)}}function oa(d){return Ui(d,"targets")}function ac(d){return Ui(d,"targetGlobal")}function No(d){return Ui(d,"targetDocuments")}function lc([d,e],[r,a]){const h=Jt(d,r);return 0===h?Jt(e,a):h}class cp{constructor(e){this.Un=e,this.buffer=new Ar(lc),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();lc(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class pl{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){be(a)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Hn(a)}yield r.Hn(3e5)}))}}class qh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return at.resolve(L.oe);const a=new cp(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(ja)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ja):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,y,b,R,V,K;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Te=>(Te>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Te}`),h=this.params.maximumSequenceNumbersToCollect):h=Te,b=Date.now(),this.nthSequenceNumber(e,h))).next(Te=>(a=Te,R=Date.now(),this.removeTargets(e,a,r))).next(Te=>(y=Te,V=Date.now(),this.removeOrphanedDocuments(e,a))).next(Te=>(K=Date.now(),Ge()<=ve.$b.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(V-R)+`ms\n\tRemoved ${Te} documents in `+(K-V)+`ms\nTotal Duration: ${K-oe}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Te})))}}class up{constructor(e,r){this.db=e,this.garbageCollector=function Hs(d,e){return new qh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return cc(e,a)}removeReference(e,r,a){return cc(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return cc(e,r)}nr(e,r){return function(h,y){let b=!1;return Uu(h).Y(R=>Kh(h,R,y).next(V=>(V&&(b=!0),at.resolve(!V)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=r){const V=this.nr(e,b).next(K=>{if(!K)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,jt.min()),No(e).delete([0,xt(b.path)])))});h.push(V)}}).next(()=>at.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return cc(e,r)}tr(e,r){const a=No(e);let h,y=L.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:V,sequenceNumber:K})=>{0===b?(y!==L.oe&&r(new $t(Sn(h)),y),y=K,h=V):y=L.oe}).next(()=>{y!==L.oe&&r(new $t(Sn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(d,e){return No(d).put((h=d.currentSequenceNumber,{targetId:0,path:xt(e.path),sequenceNumber:h}));var h}class xd{constructor(){this.changes=new ji(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?at.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Ko(e).put(a)}removeEntry(e,r,a){return Ko(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],wt(b),R[R.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=It.newInvalidDocument(r);return Ko(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(r))},(h,y)=>{a=this.ir(r,y)}).next(()=>a)}sr(e,r){let a={size:0,document:It.newInvalidDocument(r)};return Ko(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(r))},(h,y)=>{a={document:this.ir(r,y),size:Vl(y)}}).next(()=>a)}getEntries(e,r){let a=ss();return this._r(e,r,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=ss(),h=new Zr($t.comparator);return this._r(e,r,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,Vl(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return at.resolve();let h=new Ar(Nd);r.forEach(V=>h=h.add(V));const y=IDBKeyRange.bound(so(h.first()),so(h.last())),b=h.getIterator();let R=b.getNext();return Ko(e).J({index:"documentKeyIndex",range:y},(V,K,oe)=>{const Te=$t.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;R&&Nd(R,Te)<0;)a(R,null),R=b.getNext();R&&R.isEqual(Te)&&(a(R,K),R=b.hasNext()?b.getNext():null),R?oe.$(so(R)):oe.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),wt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],V=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ko(e).U(IDBKeyRange.bound(R,V,!0)).next(K=>{y?.incrementDocumentReadCount(K.length);let oe=ss();for(const Te of K){const qe=this.ir($t.fromSegments(Te.prefixPath.concat(Te.collectionGroup,Te.documentId)),Te);qe.isFoundDocument()&&(Qs(r,qe)||h.has(qe.key))&&(oe=oe.insert(qe.key,qe))}return oe})}getAllFromCollectionGroup(e,r,a,h){let y=ss();const b=Yh(r,a),R=Yh(r,hn.max());return Ko(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(V,K,oe)=>{const Te=this.ir($t.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);y=y.insert(Te.key,Te),y.size===h&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new ju(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Bl(e).get("remoteDocumentGlobalKey").next(r=>(Mt(!!r),r))}rr(e,r){return Bl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ae(d,e){let r;if(e.document)r=jc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=$t.fromSegments(e.noDocument.path),h=En(e.noDocument.readTime);r=It.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const a=$t.fromSegments(e.unknownDocument.path),h=En(e.unknownDocument.version);r=It.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const y=new Ht(h[0],h[1]);return jt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(jt.min()))return a}return It.newInvalidDocument(e)}}function Od(d){return new dp(d)}class ju extends xd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ji(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Ar((y,b)=>Jt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(r.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const V=Pe(this.cr.serializer,b);h=h.add(y.path.popLast());const K=Vl(V);a+=K-R.size,r.push(this.cr.addEntry(e,y,V))}else if(a-=R.size,this.trackRemovals){const V=Pe(this.cr.serializer,b.convertToNoDocument(jt.min()));r.push(this.cr.addEntry(e,y,V))}}),h.forEach(y=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.cr.updateMetadata(e,a)),at.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function Bl(d){return Ui(d,"remoteDocumentGlobal")}function Ko(d){return Ui(d,"remoteDocumentsV14")}function so(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yh(d,e){const r=e.documentKey.path.toArray();return[d,wt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Nd(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<r.length-2&&y<a.length-2;++y)if(h=Jt(r[y],a[y]),h)return h;return h=Jt(r.length,a.length),h||(h=Jt(r[r.length-2],a[a.length-2]),h||Jt(r[r.length-1],a[a.length-1]))}class Hc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Xh{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&Xr(a.mutation,h,pi.empty(),Ht.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,yr()).next(()=>a))}getLocalViewOfDocuments(e,r,a=yr()){const h=Ps();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(y=>{let b=no();return y.forEach((R,V)=>{b=b.insert(R,V.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Ps();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,yr()))}populateOverlays(e,r,a){const h=[];return a.forEach(y=>{r.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,a,h){let y=ss();const b=Na(),R=Na();return r.forEach((V,K)=>{const oe=a.get(K.key);h.has(K.key)&&(void 0===oe||oe.mutation instanceof Br)?y=y.insert(K.key,K):void 0!==oe?(b.set(K.key,oe.mutation.getFieldMask()),Xr(oe.mutation,K,oe.mutation.getFieldMask(),Ht.now())):b.set(K.key,pi.empty())}),this.recalculateAndSaveOverlays(e,y).next(V=>(V.forEach((K,oe)=>b.set(K,oe)),r.forEach((K,oe)=>{var Te;return R.set(K,new Hc(oe,null!==(Te=b.get(K))&&void 0!==Te?Te:null))}),R))}recalculateAndSaveOverlays(e,r){const a=Na();let h=new Zr((b,R)=>b-R),y=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(V=>{const K=r.get(V);if(null===K)return;let oe=a.get(V)||pi.empty();oe=R.applyToLocalView(K,oe),a.set(V,oe);const Te=(h.get(R.batchId)||yr()).add(V);h=h.insert(R.batchId,Te)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const V=R.getNext(),K=V.key,oe=V.value,Te=va();oe.forEach(qe=>{if(!y.has(qe)){const At=Ut(r.get(qe),a.get(qe));null!==At&&Te.set(qe,At),y=y.add(qe)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,Te))}return at.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return $t.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):le(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-y.size):at.resolve(Ps());let R=-1,V=y;return b.next(K=>at.forEach(K,(oe,Te)=>(R<Te.largestBatchId&&(R=Te.largestBatchId),y.get(oe)?at.resolve():this.remoteDocumentCache.getEntry(e,oe).next(qe=>{V=V.insert(oe,qe)}))).next(()=>this.populateOverlays(e,K,y)).next(()=>this.computeViews(e,V,K,yr())).next(oe=>({batchId:R,changes:ya(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $t(r)).next(a=>{let h=no();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const y=r.collectionGroup;let b=no();return this.indexManager.getCollectionParents(e,y).next(R=>at.forEach(R,V=>{const K=(Te=r,qe=V.child(y),new Ro(qe,null,Te.explicitOrderBy.slice(),Te.filters.slice(),Te.limit,Te.limitType,Te.startAt,Te.endAt));var Te,qe;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(oe=>{oe.forEach((Te,qe)=>{b=b.insert(Te,qe)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,y,h))).next(b=>{y.forEach((V,K)=>{const oe=K.getKey();null===b.get(oe)&&(b=b.insert(oe,It.newInvalidDocument(oe)))});let R=no();return b.forEach((V,K)=>{const oe=y.get(V);void 0!==oe&&Xr(oe.mutation,K,pi.empty(),Ht.now()),Qs(r,K)&&(R=R.insert(V,K))}),R})}}class Sg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return at.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Dn(h.createTime)}),at.resolve();var h}getNamedQuery(e,r){return at.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Hr(h.bundledQuery),readTime:Dn(h.readTime)}),at.resolve();var h}}class zc{constructor(){this.overlays=new Zr($t.comparator),this.Ir=new Map}getOverlay(e,r){return at.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Ps();return at.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,y)=>{this.ht(e,r,y)}),at.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),at.resolve()}getOverlaysForCollection(e,r,a){const h=Ps(),y=r.length+1,b=new $t(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const V=R.getNext().value,K=V.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===y&&V.largestBatchId>a&&h.set(V.getKey(),V)}return at.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let y=new Zr((K,oe)=>K-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>a){let oe=y.get(K.largestBatchId);null===oe&&(oe=Ps(),y=y.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const R=Ps(),V=y.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((K,oe)=>R.set(K,oe)),!(R.size()>=h)););return at.resolve(R)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ci(r,a));let y=this.Ir.get(r);void 0===y&&(y=yr(),this.Ir.set(r,y)),this.Ir.set(r,y.add(a.key))}}class Rg{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,at.resolve()}}class $u{constructor(){this.Tr=new Ar(Ls.Er),this.dr=new Ar(Ls.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Ls(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Ls(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new $t(new on([])),a=new Ls(r,e),h=new Ls(r,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new $t(new on([])),a=new Ls(r,e),h=new Ls(r,e+1);let y=yr();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new Ls(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Ls{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return $t.comparator(e.key,r.key)||Jt(e.wr,r.wr)}static Ar(e,r){return Jt(e.wr,r.wr)||$t.comparator(e.key,r.key)}}class l_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(Ls.Er)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const y=this.Sr;this.Sr++;const b=new Ms(y,r,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new Ls(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return at.resolve(b)}lookupMutationBatch(e,r){return at.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),y=h<0?0:h;return at.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Ls(r,0),h=new Ls(r,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),at.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ar(Jt);return r.forEach(h=>{const y=new Ls(h,0),b=new Ls(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),at.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let y=a;$t.isDocumentKey(y)||(y=y.child(""));const b=new Ls(new $t(y),0);let R=new Ar(Jt);return this.br.forEachWhile(V=>{const K=V.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(R=R.add(V.wr)),!0)},b),at.resolve(this.Cr(R))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Mt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return at.forEach(r.mutations,h=>{const y=new Ls(h.key,r.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Ls(r,0),h=this.br.firstAfterOrEqual(a);return at.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return at.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class c_{constructor(e){this.Mr=e,this.docs=new Zr($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return at.resolve(a?a.document.mutableCopy():It.newInvalidDocument(r))}getEntries(e,r){let a=ss();return r.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():It.newInvalidDocument(h))}),at.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let y=ss();const b=r.path,R=new $t(b.child("")),V=this.docs.getIteratorFrom(R);for(;V.hasNext();){const{key:K,value:{document:oe}}=V.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ri(gs(oe),a)<=0||(h.has(oe.key)||Qs(r,oe))&&(y=y.insert(oe.key,oe.mutableCopy()))}return at.resolve(y)}getAllFromCollectionGroup(e,r,a,h){Xe()}Or(e,r){return at.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Wc(this)}getSize(e){return at.resolve(this.size)}}class Wc extends xd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),at.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Pg{constructor(e){this.persistence=e,this.Nr=new ji(r=>hs(r),So),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $u,this.targetCount=0,this.kr=Ul.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),at.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ul(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,at.resolve()}updateTargetData(e,r){return this.Kn(r),at.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,r,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=r&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),at.waitFor(y).next(()=>h)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return at.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),at.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,y=[];return h&&r.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),at.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),at.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return at.resolve(a)}containsKey(e,r){return at.resolve(this.Br.containsKey(r))}}class Qh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new L(0),this.Kr=!1,this.Kr=!0,this.$r=new Rg,this.referenceDelegate=e(this),this.Ur=new Pg(this),this.indexManager=new wa,this.remoteDocumentCache=new c_(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(r),this.Gr=new Sg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new zc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new l_(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ce("MemoryPersistence","Starting transaction:",e);const h=new zs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,r){return at.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class zs extends Ir{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Jr=new $u,this.Yr=null}static Zr(e){return new kd(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),at.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),at.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),at.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,a=>{const h=$t.fromPath(a);return this.ei(e,h).next(y=>{y||r.removeEntry(h,jt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return at.or([()=>at.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Jh{constructor(e){this.serializer=e}O(e,r,a,h){const y=new Tt("createOrUpgrade",r);var V;a<1&&h>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tr,{unique:!0}),V.createObjectStore("documentMutations"),qo(e),function(V){V.createObjectStore("remoteDocuments")}(e));let b=at.resolve();return a<3&&h>=3&&(0!==a&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),qo(e)),b=b.next(()=>function(V){const K=V.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",oe)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(V,K){return K.store("mutations").U().next(oe=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tr,{unique:!0});const Te=K.store("mutations"),qe=oe.map(At=>Te.put(At));return at.waitFor(qe)})}(e,y))),b=b.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(V){const K=V.createObjectStore("documentOverlays",{keyPath:Bn});K.createIndex("collectionPathOverlayIndex",Ln,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",pr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(V){const K=V.createObjectStore("remoteDocumentsV14",{keyPath:Bs});K.createIndex("documentKeyIndex",Fi),K.createIndex("collectionGroupIndex",ms)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",lt,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:Nt}).createIndex("documentKeyIndex",cn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(V){V.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=Vl(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>at.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>at.forEach(R,V=>{Mt(V.userId===y.userId);const K=_r(this.serializer,V);return Wh(e,y.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const V=new on(b),K=[0,xt(V)];y.push(r.get(K).next(oe=>oe?at.resolve():r.put({targetId:0,path:xt(V),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>at.waitFor(y))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Os});const a=r.store("collectionParents"),h=new Lu,y=b=>{if(h.add(b)){const R=b.lastSegment(),V=b.popLast();return a.put({collectionId:R,parent:xt(V)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const V=new on(b);return y(V.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,V],K)=>{const oe=Sn(R);return y(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const y=hr(h),b=wr(this.serializer,y);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=r.store("remoteDocumentsV14"),V=(Te=b,Te.document?new $t(on.fromString(Te.document.name).popFirst(5)):Te.noDocument?$t.fromSegments(Te.noDocument.path):Te.unknownDocument?$t.fromSegments(Te.unknownDocument.path):Xe()).path.toArray(),K={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var Te;h.push(R.put(K))}).next(()=>at.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Od(this.serializer),y=new Qh(kd.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(V=>{var K;let oe=null!==(K=R.get(V.userId))&&void 0!==K?K:yr();_r(this.serializer,V).keys().forEach(Te=>oe=oe.add(Te)),R.set(V.userId,oe)}),at.forEach(R,(V,K)=>{const oe=new et(K),Te=al.lt(this.serializer,oe),qe=y.getIndexManager(oe),At=oc.lt(oe,this.serializer,qe,y.referenceDelegate);return new Xh(h,At,Te,qe).recalculateAndSaveOverlaysForDocumentKeys(new Ao(r,L.oe),V).next()})})}}function qo(d){d.createObjectStore("targetDocuments",{keyPath:yi}).createIndex("documentTargetsIndex",or,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_s,{unique:!0}),d.createObjectStore("targetGlobal")}const $l="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fd{constructor(e,r,a,h,y,b,R,V,K,oe,Te=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=K,this.li=oe,this.hi=Te,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=qe=>Promise.resolve(),!Fd.D())throw new st(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new up(this,h),this.Ai=r+"main",this.serializer=new G(V),this.Ri=new ce(this.Ai,this.hi,new Jh(this.serializer)),this.$r=new jh,this.Ur=new Bu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Od(this.serializer),this.Gr=new kl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ne.FAILED_PRECONDITION,$l);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new L(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(be(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return oo(e).get("owner").next(r=>at.resolve(this.vi(r)))}Ci(e){return gl(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Ui(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(V=>-1===b.indexOf(V));return at.forEach(R,V=>h.delete(V.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?at.resolve(!0):oo(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new st(Ne.FAILED_PRECONDITION,$l);return!1}}return!(!this.networkEnabled||!this.inForeground)||gl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ce("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new Ao(r,L.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>gl(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return oc.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lp(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return al.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ce("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",y=17===(V=this.hi)?wo:16===V?Qi:15===V?Ns:14===V?Hi:13===V?gr:12===V?Jr:11===V?Gr:void Xe();var V;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new Ao(R,this.Qr?this.Qr.next():L.oe),"readwrite-primary"===r?this.wi(b).next(V=>!!V||this.Si(b)).next(V=>{if(!V)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Ne.FAILED_PRECONDITION,Jn);return a(b)}).next(V=>this.Di(b).next(()=>V)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return oo(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new st(Ne.FAILED_PRECONDITION,$l)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return oo(e).put("owner",r)}static D(){return ce.D()}bi(e){const r=oo(e);return r.get("owner").next(a=>this.vi(a)?(Ce("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):at.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(Yt(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ce("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Yt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function oo(d){return Ui(d,"owner")}function gl(d){return Ui(d,"clientMetadata")}function Ld(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class Zh{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=yr(),h=yr();for(const y of r.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new Zh(e,r.fromCache,a,h)}}class hp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,_e.nr)()?8:ke((0,_e.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const y={result:null};return this.Yi(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,r,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new hp;return this.Xi(e,r,b).next(R=>{if(y.result=R,this.zi)return this.es(e,r,b,R.size)})}).next(()=>y.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(Ge()<=ve.$b.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",is(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(Ge()<=ve.$b.DEBUG&&Ce("QueryEngine","Query:",is(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Ge()<=ve.$b.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",is(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(r))):at.resolve())}Yi(e,r){if(U(r))return at.resolve(null);let a=mn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=rs(r,null,"F"),a=mn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=yr(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(V=>{const K=this.ts(r,R);return this.ns(r,K,b,V.readTime)?this.Yi(e,rs(r,null,"F")):this.rs(e,K,r,V)}))})))}Zi(e,r,a,h){return U(r)||h.isEqual(jt.min())?at.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(r,y);return this.ns(r,b,a,h)?at.resolve(null):(Ge()<=ve.$b.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),is(r)),this.rs(e,b,r,fi(h,-1)).next(R=>R))})}ts(e,r){let a=new Ar(Rs(e));return r.forEach((h,y)=>{Qs(e,y)&&(a=a.add(y))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,r,a){return Ge()<=ve.$b.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",is(r)),this.Ji.getDocumentsMatchingQuery(e,r,hn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class Yo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Zr(Jt),this._s=new ji(y=>hs(y),So),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Gu(d,e,r,a){return new Yo(d,e,r,a)}function ml(d,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(d,e){const r=ct(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let V=yr();for(const K of h){b.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}for(const K of y){R.push(K.batchId);for(const oe of K.mutations)V=V.add(oe.key)}return r.localDocuments.getDocuments(a,V).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Vd(d){const e=ct(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function tf(d,e,r){let a=yr(),h=yr();return r.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=ss();return r.forEach((R,V)=>{const K=y.get(R);V.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(R)),V.isNoDocument()&&V.version.isEqual(jt.min())?(e.removeEntry(R,V.readTime),b=b.insert(R,V)):!K.isValidDocument()||V.version.compareTo(K.version)>0||0===V.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(V),b=b.insert(R,V)):Ce("LocalStore","Ignoring outdated watch update for ",R,". Current version:",K.version," Watch version:",V.version)}),{Ps:b,Is:h}})}function fp(d,e){const r=ct(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function _l(d,e){const r=ct(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(y=>y?(h=y,at.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function Kc(d,e,r){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,o.A)(function*(d,e,r){const a=ct(d),h=a.os.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!be(b))throw b;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function $a(d,e,r){const a=ct(d);let h=jt.min(),y=yr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(V,K,oe){const Te=ct(V),qe=Te._s.get(oe);return void 0!==qe?at.resolve(Te.os.get(qe)):Te.Ur.getTargetData(K,oe)}(a,b,mn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(V=>{y=V})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:jt.min(),r?y:yr())).next(R=>(qc(a,Fc(e),R),{documents:R,Ts:y})))}function Bd(d,e){const r=ct(d),a=ct(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function yl(d,e){const r=ct(d),a=r.us.get(e)||jt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,fi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(qc(r,e,h),h))}function qc(d,e,r){let a=d.us.get(e)||jt.min();r.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function zu(){return(zu=(0,o.A)(function*(d,e,r,a){const h=ct(d);let y=yr(),b=ss();for(const K of r){const oe=e.Es(K.metadata.name);K.document&&(y=y.add(oe));const Te=e.ds(K);Te.setReadTime(e.As(K.metadata.readTime)),b=b.insert(oe,Te)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),V=yield _l(h,(oe=a,mn(Z(on.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>tf(K,R,b).next(oe=>(R.apply(K),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(K,V.targetId).next(()=>h.Ur.addMatchingKeys(K,y,V.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function pp(d,e){return jd.apply(this,arguments)}function jd(){return(jd=(0,o.A)(function*(d,e,r=yr()){const a=yield _l(d,mn(Hr(e.bundledQuery))),h=ct(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Dn(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(xr.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function ho(d,e){return`firestore_clients_${d}_${e}`}function nf(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function $d(d,e){return`firestore_targets_${d}_${e}`}class Gd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new st(h.error.code,h.error.message))),b?new Gd(e,r,h.state,y):(Yt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vl{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new st(a.error.code,a.error.message))),y?new vl(e,a.state,h):(Yt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class El{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=mo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ht(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new El(e,y):(Yt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class C{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new C(r.clientId,r.onlineState):(Yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=mo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,y){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Zr(Jt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=ho(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const y=e.getItem(ho(e.persistenceKey,h));if(y){const b=El.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem($d(this.persistenceKey,e));if(h){const y=vl.Rs(e,h);y&&(a=y.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($d(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ce("SharedClientState","READ",e,r),r}setItem(e,r){Ce("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ce("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let R=L.oe;if(null!=b)try{const V=JSON.parse(b);Mt("number"==typeof V),R=V}catch(V){Yt("SharedClientState","Failed to read sequence number from WebStorage",V)}return R}(a.newValue);h!==L.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(y=>r.syncEngine.eo(y)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Gd(this.currentUser,e,r,a),y=nf(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const r=nf(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=$d(this.persistenceKey,e),y=new vl(e,r,a);this.setItem(h,y.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return El.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Gd.Rs(new et(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return vl.Rs(h,r)}Ls(e){return C.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(V=>{h.has(V)||b.push(V)}),h.forEach(V=>{y.has(V)||R.push(V)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=mo();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qe=null;function Pt(){return null===Qe?Qe=268435456+Math.round(2147483648*Math.random()):Qe++,"0x"+Qe.toString(16)}const zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Mn="WebChannelConnection";class ti extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(r,a,h,y,b){const R=Pt(),V=this.xo(r,a.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${R}:`,V,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,y,b),this.No(r,V,K,h).then(oe=>(Ce("RestConnection",`Received RPC '${r}' ${R}: `,oe),oe),oe=>{throw pn("RestConnection",`RPC '${r}' ${R} failed with error: `,oe,"url: ",V,"request:",h),oe})}Lo(r,a,h,y,b,R){return this.Mo(r,a,h,y,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ue,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>r[b]=y),h&&h.headers.forEach((y,b)=>r[b]=y)}xo(r,a){return`${this.Do}/v1/${a}:${zt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const y=Pt();return new Promise((b,R)=>{const V=new de;V.setWithCredentials(!0),V.listenOnce(Oe.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case ot.NO_ERROR:const oe=V.getResponseJson();Ce(Mn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(oe)),b(oe);break;case ot.TIMEOUT:Ce(Mn,`RPC '${e}' ${y} timed out`),R(new st(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case ot.HTTP_ERROR:const Te=V.getStatus();if(Ce(Mn,`RPC '${e}' ${y} failed with status:`,Te,"response text:",V.getResponseText()),Te>0){let qe=V.getResponseJson();Array.isArray(qe)&&(qe=qe[0]);const At=qe?.error;if(At&&At.status&&At.message){const Gt=function(nn){const Kn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Kn)>=0?Kn:Ne.UNKNOWN}(At.status);R(new st(Gt,At.message))}else R(new st(Ne.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new st(Ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ce(Mn,`RPC '${e}' ${y} completed.`)}});const K=JSON.stringify(h);Ce(Mn,`RPC '${e}' ${y} sending request:`,h),V.send(r,"POST",K,a,15)})}Bo(e,r,a){const h=Pt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=We(),R=Qt(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(V.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(V.useFetchStreams=!0),this.Oo(V.initMessageHeaders,r,a),V.encodeInitMessageHeaders=!0;const oe=y.join("");Ce(Mn,`Creating RPC '${e}' stream ${h}: ${oe}`,V);const Te=b.createWebChannel(oe,V);let qe=!1,At=!1;const Gt=new xn({Io:nn=>{At?Ce(Mn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(qe||(Ce(Mn,`Opening RPC '${e}' stream ${h} transport.`),Te.open(),qe=!0),Ce(Mn,`RPC '${e}' stream ${h} sending:`,nn),Te.send(nn))},To:()=>Te.close()}),un=(nn,Kn,lr)=>{nn.listen(Kn,Qn=>{try{lr(Qn)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return un(Te,Me.EventType.OPEN,()=>{At||(Ce(Mn,`RPC '${e}' stream ${h} transport opened.`),Gt.yo())}),un(Te,Me.EventType.CLOSE,()=>{At||(At=!0,Ce(Mn,`RPC '${e}' stream ${h} transport closed`),Gt.So())}),un(Te,Me.EventType.ERROR,nn=>{At||(At=!0,pn(Mn,`RPC '${e}' stream ${h} transport errored:`,nn),Gt.So(new st(Ne.UNAVAILABLE,"The operation could not be completed")))}),un(Te,Me.EventType.MESSAGE,nn=>{var Kn;if(!At){const lr=nn.data[0];Mt(!!lr);const Lr=lr.error||(null===(Kn=lr[0])||void 0===Kn?void 0:Kn.error);if(Lr){Ce(Mn,`RPC '${e}' stream ${h} received error:`,Lr);const Ni=Lr.status;let ui=function(Je){const ft=Cr[Je];if(void 0!==ft)return ro(ft)}(Ni),dt=Lr.message;void 0===ui&&(ui=Ne.INTERNAL,dt="Unknown error status: "+Ni+" with message "+Lr.message),At=!0,Gt.So(new st(ui,dt)),Te.close()}else Ce(Mn,`RPC '${e}' stream ${h} received:`,lr),Gt.bo(lr)}}),un(R,kt.STAT_EVENT,nn=>{nn.stat===Ct.PROXY?Ce(Mn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===Ct.NOPROXY&&Ce(Mn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Gt.wo()},0),Gt}}function ko(){return typeof window<"u"?window:null}function aa(){return typeof document<"u"?document:null}function uc(d){return new ba(d,!0)}class Hd{constructor(e,r,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ce("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zd{constructor(e,r,a,h,y,b,R,V){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=V,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(Yt(r.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Ne.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new st(Ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ga extends zd{constructor(e,r,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Dd(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Xe(),h=e.targetChange.targetIds||[],y=function(K,oe){return K.useProto3Json?(Mt(void 0===oe||"string"==typeof oe),xr.fromBase64String(oe||"")):(Mt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),xr.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(K){const oe=void 0===K.code?Ne.UNKNOWN:ro(K.code);return new st(oe,K.message||"")}(b);r=new Au(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=zo(d,a.document.name),y=Dn(a.document.updateTime),b=a.document.createTime?Dn(a.document.createTime):jt.min(),R=new Ve({mapValue:{fields:a.document.fields}}),V=It.newFoundDocument(h,y,b,R);r=new Ml(a.targetIds||[],a.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const a=e.documentDelete,h=zo(d,a.document),y=a.readTime?Dn(a.readTime):jt.min(),b=It.newNoDocument(h,y);r=new Ml([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=zo(d,a.document);r=new Ml([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Xe();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new uo(h,y);r=new wu(a.targetId,b)}}var K;return r}(this.serializer,e),a=function(y){if(!("targetChange"in y))return jt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?jt.min():b.readTime?Dn(b.readTime):jt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=sc(this.serializer),r.addTarget=function(y,b){let R;const V=b.target;if(R=ga(V)?{documents:Gs(y,V)}:{query:Ba(y,V)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Mo(y,b.resumeToken);const K=sl(y,b.expectedCount);null!==K&&(R.expectedCount=K)}else if(b.snapshotVersion.compareTo(jt.min())>0){R.readTime=ra(y,b.snapshotVersion.toTimestamp());const K=sl(y,b.expectedCount);null!==K&&(R.expectedCount=K)}return R}(this.serializer,e);const a=function Sd(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=sc(this.serializer),r.removeTarget=e,this.a_(r)}}class Og extends zd{constructor(e,r,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Js(d,e){return d&&d.length>0?(Mt(void 0!==e),d.map(r=>function(h,y){let b=Dn(h.updateTime?h.updateTime:y);return b.isEqual(jt.min())&&(b=Dn(y)),new j(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Dn(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=sc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>$c(this.serializer,a))};this.a_(r)}}class Ng extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Su(r,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(Ne.UNKNOWN,y.toString())})}Lo(e,r,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Su(r,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(Ne.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class la{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yt(r),this.D_=!1):Ce("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class gp{constructor(e,r,a,h,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,o.A)(function*(){var V;ca(b)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,o.A)(function*(oe){const Te=ct(oe);Te.L_.add(4),yield Qc(Te),Te.q_.set("Unknown"),Te.L_.delete(4),yield Xc(Te)}),function K(oe){return V.apply(this,arguments)})(b))}))}),this.q_=new la(a,h)}}function Xc(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.A)(function*(d){if(ca(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Qc(d){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Ku(d,e){const r=ct(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),_p(r)?mp(r):Yd(r).r_()&&qu(r,e))}function dc(d,e){const r=ct(d),a=Yd(r);r.N_.delete(e),a.r_()&&kg(r,e),0===r.N_.size&&(a.r_()?a.o_():ca(r)&&r.q_.set("Unknown"))}function qu(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Yd(d).A_(e)}function kg(d,e){d.Q_.xe(e),Yd(d).R_(e)}function mp(d){d.Q_=new Du({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Yd(d).start(),d.q_.v_()}function _p(d){return ca(d)&&!Yd(d).n_()&&d.N_.size>0}function ca(d){return 0===ct(d).L_.size}function yp(d){d.Q_=void 0}function u_(d){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function vp(d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{qu(d,e)})})).apply(this,arguments)}function xy(d,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,o.A)(function*(d,e){yp(d),_p(d)?(d.q_.M_(e),mp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Jc(d,e,r){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Au&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(y,b){const R=b.cause;for(const V of b.targetIds)y.N_.has(V)&&(yield y.remoteSyncer.rejectListen(V,R),y.N_.delete(V),y.Q_.removeTarget(V))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Yu(d,a)}else if(e instanceof Ml?d.Q_.Ke(e):e instanceof wu?d.Q_.He(e):d.Q_.We(e),!r.isEqual(jt.min()))try{const a=yield Vd(d.localStore);r.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((V,K)=>{if(V.resumeToken.approximateByteSize()>0){const oe=y.N_.get(K);oe&&y.N_.set(K,oe.withResumeToken(V.resumeToken,b))}}),R.targetMismatches.forEach((V,K)=>{const oe=y.N_.get(V);if(!oe)return;y.N_.set(V,oe.withResumeToken(xr.EMPTY_BYTE_STRING,oe.snapshotVersion)),kg(y,V);const Te=new N(oe.target,V,K,oe.sequenceNumber);qu(y,Te)}),y.remoteSyncer.applyRemoteEvent(R)}(d,r))}catch(a){Ce("RemoteStore","Failed to raise snapshot:",a),yield Yu(d,a)}var a}),Lg.apply(this,arguments)}function Yu(d,e,r){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,o.A)(function*(d,e,r){if(!be(e))throw e;d.L_.add(1),yield Qc(d),d.q_.set("Offline"),r||(r=()=>Vd(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield Xc(d)}))})).apply(this,arguments)}function d_(d,e){return e().catch(r=>Yu(d,r,e))}function qd(d){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(d){const e=ct(d),r=eu(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Oy(e);)try{const h=yield fp(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,Ny(e,h)}catch(h){yield Yu(e,h)}Xo(e)&&bp(e)})).apply(this,arguments)}function Oy(d){return ca(d)&&d.O_.length<10}function Ny(d,e){d.O_.push(e);const r=eu(d);r.r_()&&r.V_&&r.m_(e.mutations)}function Xo(d){return ca(d)&&!eu(d).n_()&&d.O_.length>0}function bp(d){eu(d).start()}function h_(d){return sf.apply(this,arguments)}function sf(){return(sf=(0,o.A)(function*(d){eu(d).p_()})).apply(this,arguments)}function Fo(d){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.A)(function*(d){const e=eu(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function f_(d,e,r){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=Go.from(a,e,r);yield d_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield qd(d)})).apply(this,arguments)}function ky(d,e){return af.apply(this,arguments)}function af(){return af=(0,o.A)(function*(d,e){var r;e&&eu(d).V_&&(yield(r=(0,o.A)(function*(h,y){if(Rl(R=y.code)&&R!==Ne.ABORTED){const b=h.O_.shift();eu(h).s_(),yield d_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield qd(h)}var R}),function a(h,y){return r.apply(this,arguments)})(d,e)),Xo(d)&&bp(d)}),af.apply(this,arguments)}function Ug(d,e){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,o.A)(function*(d,e){const r=ct(d);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const a=ca(r);r.L_.add(3),yield Qc(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Xc(r)})).apply(this,arguments)}function lf(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,o.A)(function*(d,e){const r=ct(d);e?(r.L_.delete(2),yield Xc(r)):e||(r.L_.add(2),yield Qc(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Yd(d){return d.K_||(d.K_=function(r,a,h){const y=ct(r);return y.w_(),new Ga(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:u_.bind(null,d),Ro:vp.bind(null,d),mo:xy.bind(null,d),d_:Jc.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),_p(d)?mp(d):d.q_.set("Unknown")):(yield d.K_.stop(),yp(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function eu(d){return d.U_||(d.U_=function(r,a,h){const y=ct(r);return y.w_(),new Og(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h_.bind(null,d),mo:ky.bind(null,d),f_:Fo.bind(null,d),g_:f_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield qd(d)):(yield d.U_.stop(),d.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class cf{constructor(e,r,a,h,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,y){const b=Date.now()+a,R=new cf(e,r,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(d,e){if(Yt("AsyncQueue",`${e}: ${d}`),be(d))return new st(Ne.UNAVAILABLE,`${e}: ${d}`);throw d}class Xd{constructor(e){this.comparator=e?(r,a)=>e(r,a)||$t.comparator(r.key,a.key):(r,a)=>$t.comparator(r.key,a.key),this.keyedMap=no(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new Xd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Xd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Qd{constructor(){this.W_=new Zr($t.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class Jd{constructor(e,r,a,h,y,b,R,V,K){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=V,this.hasCachedResults=K}static fromInitialDocuments(e,r,a,h,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new Jd(e,r,Xd.emptySet(r),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&go(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class Fy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class p_{constructor(){this.queries=Bg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=ct(r),y=h.queries;h.queries=Bg(),y.forEach((b,R)=>{for(const V of R.j_)V.onError(a)})}(this,new st(Ne.ABORTED,"Firestore shutting down"))}}function Bg(){return new ji(d=>to(d),go)}function Ip(d,e){return nu.apply(this,arguments)}function nu(){return(nu=(0,o.A)(function*(d,e){const r=ct(d);let a=3;const h=e.query;let y=r.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new Fy,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield r.onListen(h,!0);break;case 1:y.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const R=tu(b,`Initialization of query '${is(e.query)}' failed`);return void e.onError(R)}r.queries.set(h,y),y.j_.push(e),e.Z_(r.onlineState),y.z_&&e.X_(y.z_)&&jg(r)})).apply(this,arguments)}function Zd(d,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,o.A)(function*(d,e){const r=ct(d),a=e.query;let h=3;const y=r.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function ru(d,e){const r=ct(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&jg(r)}function wp(d,e,r){const a=ct(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(r);a.queries.delete(e)}function jg(d){d.Y_.forEach(e=>{e.next()})}var $g,g_;(g_=$g||($g={})).ea="default",g_.Cache="cache";class Gg{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Jd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$g.Cache}}class Hg{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class m_{constructor(e){this.serializer=e}Es(e){return zo(this.serializer,e)}ds(e){return e.metadata.exists?jc(this.serializer,e.document,!1):It.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Dn(e)}}class Ly{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qu(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=on.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new m_(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(r.get(b)||yr()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Yc(d,e,r,a){return zu.apply(this,arguments)}(e.localStore,new m_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield pp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function Qu(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Ap{constructor(e){this.key=e}}class Dp{constructor(e){this.key=e}}class zg{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yr(),this.mutatedKeys=yr(),this.Aa=Rs(e),this.Ra=new Xd(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Qd,h=r?r.Ra:this.Ra;let y=r?r.mutatedKeys:this.mutatedKeys,b=h,R=!1;const V="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,Te)=>{const qe=h.get(oe),At=Qs(this.query,Te)?Te:null,Gt=!!qe&&this.mutatedKeys.has(qe.key),un=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let nn=!1;qe&&At?qe.data.isEqual(At.data)?Gt!==un&&(a.track({type:3,doc:At}),nn=!0):this.ga(qe,At)||(a.track({type:2,doc:At}),nn=!0,(V&&this.Aa(At,V)>0||K&&this.Aa(At,K)<0)&&(R=!0)):!qe&&At?(a.track({type:0,doc:At}),nn=!0):qe&&!At&&(a.track({type:1,doc:qe}),nn=!0,(V||K)&&(R=!0)),nn&&(At?(b=b.add(At),y=un?y.add(oe):y.delete(oe)):(b=b.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),y=y.delete(oe.key),a.track({type:1,doc:oe})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,Te)=>function(At,Gt){const un=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return un(At)-un(Gt)}(oe.type,Te.type)||this.Aa(oe.doc,Te.doc)),this.pa(a),h=null!=h&&h;const R=r&&!h?this.ya():[],V=0===this.da.size&&this.current&&!h?1:0,K=V!==this.Ea;return this.Ea=V,0!==b.length||K?{snapshot:new Jd(this.query,e.Ra,y,b,e.mutatedKeys,0===V,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=yr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new Dp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new Ap(a))}),r}ba(e){this.Ta=e.Ts,this.da=yr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Jd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Vy{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Wg{constructor(e){this.key=e,this.va=!1}}class Ju{constructor(e,r,a,h,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ji(R=>to(R),go),this.Ma=new Map,this.xa=new Set,this.Oa=new Zr($t.comparator),this.Na=new Map,this.La=new $u,this.Ba={},this.ka=new Map,this.qa=Ul.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Zu(d,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.A)(function*(d,e,r=!0){const a=kp(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield iE(a,e,r,!0),h})).apply(this,arguments)}function __(d,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,o.A)(function*(d,e){const r=kp(d);yield iE(r,e,!0,!1)})).apply(this,arguments)}function iE(d,e,r,a){return uf.apply(this,arguments)}function uf(){return(uf=(0,o.A)(function*(d,e,r,a){const h=yield _l(d.localStore,mn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,r);let R;return a&&(R=yield Kg(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Ku(d.remoteStore,h),R})).apply(this,arguments)}function Kg(d,e,r,a,h){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(Te,qe,At)=>{return(Gt=(0,o.A)(function*(nn,Kn,lr,Qn){let Lr=Kn.view.ma(lr);Lr.ns&&(Lr=yield $a(nn.localStore,Kn.query,!1).then(({documents:je})=>Kn.view.ma(je,Lr)));const Ni=Qn&&Qn.targetChanges.get(Kn.targetId),ui=Qn&&null!=Qn.targetMismatches.get(Kn.targetId),dt=Kn.view.applyChanges(Lr,nn.isPrimaryClient,Ni,ui);return pc(nn,Kn.targetId,dt.wa),dt.snapshot}),function un(nn,Kn,lr,Qn){return Gt.apply(this,arguments)})(d,Te,qe,At);var Gt};const y=yield $a(d.localStore,e,!0),b=new zg(e,y.Ts),R=b.ma(y.documents),V=La.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(R,d.isPrimaryClient,V);pc(d,r,K.wa);const oe=new Vy(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Rp.apply(this,arguments)}function y_(d,e,r){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,o.A)(function*(d,e,r){const a=ct(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!go(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Kc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&dc(a.remoteStore,h.targetId),Gl(a,h.targetId)}).catch(Hn))):(Gl(a,h.targetId),yield Kc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function qg(d,e){return ed.apply(this,arguments)}function ed(){return(ed=(0,o.A)(function*(d,e){const r=ct(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),dc(r.remoteStore,a.targetId))})).apply(this,arguments)}function th(){return(th=(0,o.A)(function*(d,e,r){const a=Fp(d);try{const h=yield function(b,R){const V=ct(b),K=Ht.now(),oe=R.reduce((At,Gt)=>At.add(Gt.key),yr());let Te,qe;return V.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Gt=ss(),un=yr();return V.cs.getEntries(At,oe).next(nn=>{Gt=nn,Gt.forEach((Kn,lr)=>{lr.isValidDocument()||(un=un.add(Kn))})}).next(()=>V.localDocuments.getOverlayedDocuments(At,Gt)).next(nn=>{Te=nn;const Kn=[];for(const lr of R){const Qn=hi(lr,Te.get(lr.key).overlayedDocument);null!=Qn&&Kn.push(new Br(lr.key,Qn,nt(Qn.value.mapValue),Y.exists(!0)))}return V.mutationQueue.addMutationBatch(At,K,Kn,R)}).next(nn=>{qe=nn;const Kn=nn.applyToLocalDocumentSet(Te,un);return V.documentOverlayCache.saveOverlays(At,nn.batchId,Kn)})}).then(()=>({batchId:qe.batchId,changes:ya(Te)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,V){let K=b.Ba[b.currentUser.toKey()];K||(K=new Zr(Jt)),K=K.insert(R,V),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,r),yield gc(a,h.changes),yield qd(a.remoteStore)}catch(h){const y=tu(h,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function fc(d,e){return df.apply(this,arguments)}function df(){return(df=(0,o.A)(function*(d,e){const r=ct(d);try{const a=yield function xg(d,e){const r=ct(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const R=[];e.targetChanges.forEach((oe,Te)=>{const qe=h.get(Te);if(!qe)return;R.push(r.Ur.removeMatchingKeys(y,oe.removedDocuments,Te).next(()=>r.Ur.addMatchingKeys(y,oe.addedDocuments,Te)));let At=qe.withSequenceNumber(y.currentSequenceNumber);var un,nn,Kn;null!==e.targetMismatches.get(Te)?At=At.withResumeToken(xr.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):oe.resumeToken.approximateByteSize()>0&&(At=At.withResumeToken(oe.resumeToken,a)),h=h.insert(Te,At),nn=At,Kn=oe,(0===(un=qe).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&R.push(r.Ur.updateTargetData(y,At))});let V=ss(),K=yr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,oe))}),R.push(tf(y,b,e.documentUpdates).next(oe=>{V=oe.Ps,K=oe.Is})),!a.isEqual(jt.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(y).next(Te=>r.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(oe)}return at.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,V,K)).next(()=>V)}).then(y=>(r.os=h,y))}(r.localStore,e);e.targetChanges.forEach((h,y)=>{const b=r.Na.get(y);b&&(Mt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Mt(b.va):h.removedDocuments.size>0&&(Mt(b.va),b.va=!1))}),yield gc(r,a,e)}catch(a){yield Hn(a)}})).apply(this,arguments)}function hf(d,e,r){const a=ct(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const V=ct(b);V.onlineState=R;let K=!1;V.queries.forEach((oe,Te)=>{for(const qe of Te.j_)qe.Z_(R)&&(K=!0)}),K&&jg(V)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function v_(d,e,r){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d,e,r){const a=ct(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new Zr($t.comparator);b=b.insert(y,It.newNoDocument(y,jt.min()));const R=yr().add(y),V=new xs(jt.min(),new Map,new Zr(Jt),b,R);yield fc(a,V),a.Oa=a.Oa.remove(y),a.Na.delete(e),Zg(a)}else yield Kc(a.localStore,e,!1).then(()=>Gl(a,e,r)).catch(Hn)})).apply(this,arguments)}function pf(d,e){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,o.A)(function*(d,e){const r=ct(d),a=e.batch.batchId;try{const h=yield function Hu(d,e){const r=ct(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=r.cs.newChangeBuffer({trackRemovals:!0});return function(R,V,K,oe){const Te=K.batch,qe=Te.keys();let At=at.resolve();return qe.forEach(Gt=>{At=At.next(()=>oe.getEntry(V,Gt)).next(un=>{const nn=K.docVersions.get(Gt);Mt(null!==nn),un.version.compareTo(nn)<0&&(Te.applyToRemoteDocument(un,K),un.isValidDocument()&&(un.setReadTime(K.commitVersion),oe.addEntry(un)))})}),At.next(()=>R.mutationQueue.removeMutationBatch(V,Te))}(r,a,e,y).next(()=>y.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let V=yr();for(let K=0;K<R.mutationResults.length;++K)R.mutationResults[K].transformResults.length>0&&(V=V.add(R.batch.mutations[K].key));return V}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);nh(r,a,null),gf(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield gc(r,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function E_(d,e,r){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e,r){const a=ct(d);try{const h=yield function(b,R){const V=ct(b);return V.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let oe;return V.mutationQueue.lookupMutationBatch(K,R).next(Te=>(Mt(null!==Te),oe=Te.keys(),V.mutationQueue.removeMutationBatch(K,Te))).next(()=>V.mutationQueue.performConsistencyCheck(K)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(K,oe,R)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,oe)).next(()=>V.localDocuments.getDocuments(K,oe))})}(a.localStore,e);nh(a,e,r),gf(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield gc(a,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function Qg(){return(Qg=(0,o.A)(function*(d,e){const r=ct(d);ca(r.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=ct(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>R.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=tu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function gf(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function nh(d,e,r){const a=ct(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(r?y.reject(r):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function Gl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Hl(d,a)})}function Hl(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(dc(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Zg(d))}function pc(d,e,r){for(const a of r)a instanceof Ap?(d.La.addReference(a.key,e),Jg(d,a)):a instanceof Dp?(Ce("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Hl(d,a.key)):Xe()}function Jg(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(Ce("SyncEngine","New document in limbo: "+r),d.xa.add(a),Zg(d))}function Zg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new $t(on.fromString(e)),a=d.qa.next();d.Na.set(a,new Wg(r)),d.Oa=d.Oa.insert(r,a),Ku(d.remoteStore,new N(mn(Z(r.path)),a,"TargetPurposeLimboResolution",L.oe))}}function gc(d,e,r){return em.apply(this,arguments)}function em(){return em=(0,o.A)(function*(d,e,r){const a=ct(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,V)=>{b.push(a.Ka(V,e,r).then(K=>{var oe;if((K||r)&&a.isPrimaryClient){const Te=K?!K.fromCache:null===(oe=r?.targetChanges.get(V.targetId))||void 0===oe?void 0:oe.current;a.sharedClientState.updateQueryState(V.targetId,Te?"current":"not-current")}if(K){h.push(K);const Te=Zh.Wi(V.targetId,K);y.push(Te)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,o.A)(function*(K,oe){const Te=ct(K);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>at.forEach(oe,At=>at.forEach(At.$i,Gt=>Te.persistence.referenceDelegate.addReference(qe,At.targetId,Gt)).next(()=>at.forEach(At.Ui,Gt=>Te.persistence.referenceDelegate.removeReference(qe,At.targetId,Gt)))))}catch(qe){if(!be(qe))throw qe;Ce("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of oe){const At=qe.targetId;if(!qe.fromCache){const Gt=Te.os.get(At),nn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);Te.os=Te.os.insert(At,nn)}}}),function V(K,oe){return R.apply(this,arguments)})(a.localStore,y))}),em.apply(this,arguments)}function mf(d,e){return tm.apply(this,arguments)}function tm(){return(tm=(0,o.A)(function*(d,e){const r=ct(d);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const a=yield ml(r.localStore,e);r.currentUser=e,(y=r).ka.forEach(R=>{R.forEach(V=>{V.reject(new st(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield gc(r,a.hs)}var y})).apply(this,arguments)}function rh(d,e){const r=ct(d),a=r.Na.get(e);if(a&&a.va)return yr().add(a.key);{let h=yr();const y=r.Ma.get(e);if(!y)return h;for(const b of y){const R=r.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function xp(d,e){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.A)(function*(d,e){const r=ct(d),a=yield $a(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&pc(r,e.targetId,h.wa),h})).apply(this,arguments)}function Op(d,e){return Np.apply(this,arguments)}function Np(){return(Np=(0,o.A)(function*(d,e){const r=ct(d);return yl(r.localStore,e).then(a=>gc(r,a))})).apply(this,arguments)}function td(d,e,r,a){return mc.apply(this,arguments)}function mc(){return(mc=(0,o.A)(function*(d,e,r,a){const h=ct(d),y=yield function(R,V){const K=ct(R),oe=ct(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Te=>oe.Mn(Te,V).next(qe=>qe?K.localDocuments.getDocuments(Te,qe):at.resolve(null)))}(h.localStore,e);var V;null!==y?("pending"===r?yield qd(h.remoteStore):"acknowledged"===r||"rejected"===r?(nh(h,e,a||null),gf(h,e),V=e,ct(ct(h.localStore).mutationQueue).On(V)):Xe(),yield gc(h,y)):Ce("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function zl(){return(zl=(0,o.A)(function*(d,e){const r=ct(d);if(kp(r),Fp(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield T_(r,a.toArray());r.Qa=!0,yield lf(r.remoteStore,!0);for(const y of h)Ku(r.remoteStore,y)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Gl(r,b),Kc(r.localStore,b,!0))),dc(r.remoteStore,b)}),yield h,yield T_(r,a),function(b){const R=ct(b);R.Na.forEach((V,K)=>{dc(R.remoteStore,K)}),R.La.pr(),R.Na=new Map,R.Oa=new Zr($t.comparator)}(r),r.Qa=!1,yield lf(r.remoteStore,!1)}})).apply(this,arguments)}function T_(d,e,r){return nm.apply(this,arguments)}function nm(){return(nm=(0,o.A)(function*(d,e,r){const a=ct(d),h=[],y=[];for(const b of e){let R;const V=a.Ma.get(b);if(V&&0!==V.length){R=yield _l(a.localStore,mn(V[0]));for(const K of V){const oe=a.Fa.get(K),Te=yield xp(a,oe);Te.snapshot&&y.push(Te.snapshot)}}else{const K=yield Bd(a.localStore,b);R=yield _l(a.localStore,K),yield Kg(a,I_(K),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function I_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function _c(d){return r=ct(d).localStore,ct(ct(r).persistence).Qi();var r}function sh(d,e,r,a){return rm.apply(this,arguments)}function rm(){return(rm=(0,o.A)(function*(d,e,r,a){const h=ct(d);if(h.Qa)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield yl(h.localStore,Fc(y[0])),R=xs.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,xr.EMPTY_BYTE_STRING);yield gc(h,b,R);break}case"rejected":yield Kc(h.localStore,e,!0),Gl(h,e,a);break;default:Xe()}})).apply(this,arguments)}function Uy(d,e,r){return im.apply(this,arguments)}function im(){return(im=(0,o.A)(function*(d,e,r){const a=kp(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ce("SyncEngine","Adding an already active target "+h);continue}const y=yield Bd(a.localStore,h),b=yield _l(a.localStore,y);yield Kg(a,I_(y),b.targetId,!1,b.resumeToken),Ku(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield Kc(a.localStore,h,!1).then(()=>{dc(a.remoteStore,h),Gl(a,h)}).catch(Hn))}})).apply(this,arguments)}function kp(d){const e=ct(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=fc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v_.bind(null,e),e.Ca.d_=ru.bind(null,e.eventManager),e.Ca.$a=wp.bind(null,e.eventManager),e}function Fp(d){const e=ct(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E_.bind(null,e),e}let Wl=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=uc(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Gu(this.persistence,new Mg,r.initialUser,this.serializer)}Ga(r){return new Qh(kd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class sm extends Wl{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Fp(a.Ja.syncEngine),yield qd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Gu(this.persistence,new Mg,e.initialUser,this.serializer)}ja(e,r){return new pl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Fd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,ko(),aa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class _f extends sm{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:td.bind(null,h),ro:sh.bind(null,h),io:Uy.bind(null,h),Qi:_c.bind(null,h),eo:Op.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,o.A)(function*(b){yield function sE(d,e){return zl.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const r=ko();if(!v.D(r))throw new st(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let nd=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>hf(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=mf.bind(null,h.syncEngine),yield lf(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new p_}createDatastore(r){const a=uc(r.databaseInfo.databaseId),h=new ti(r.databaseInfo);return new Ng(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,y=this.datastore,b=r.asyncQueue,R=a=>hf(this.syncEngine,a,0),V=he.D()?new he:new X,new gp(h,y,b,R,V);var h,y,b,R,V}createSyncEngine(r,a){return function(y,b,R,V,K,oe,Te){const qe=new Ju(y,b,R,V,K,oe);return Te&&(qe.Qa=!0),qe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,y;yield(y=(0,o.A)(function*(R){const V=ct(R);Ce("RemoteStore","RemoteStore shutting down."),V.L_.add(5),yield Qc(V),V.k_.shutdown(),V.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function li(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ha{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class yf{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new tn,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new Hg(JSON.parse(y),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class C_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new st(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,R){const V=ct(b),K={documents:R.map(At=>Pr(V.serializer,At))},oe=yield V.Lo("BatchGetDocuments",V.serializer.databaseId,on.emptyPath(),K,R.length),Te=new Map;oe.forEach(At=>{const Gt=function Ru(d,e){return"found"in e?function(a,h){Mt(!!h.found);const y=zo(a,h.found.name),b=Dn(h.found.updateTime),R=h.found.createTime?Dn(h.found.createTime):jt.min(),V=new Ve({mapValue:{fields:h.found.fields}});return It.newFoundDocument(y,b,R,V)}(d,e):"missing"in e?function(a,h){Mt(!!h.missing),Mt(!!h.readTime);const y=zo(a,h.missing),b=Dn(h.readTime);return It.newNoDocument(y,b)}(d,e):Xe()}(V.serializer,At);Te.set(Gt.key.toString(),Gt)});const qe=[];return R.forEach(At=>{const Gt=Te.get(At.toString());Mt(!!Gt),qe.push(Gt)}),qe}),function y(b,R){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const y=$t.fromPath(h);e.mutations.push(new $o(y,e.precondition(y)))}),yield(a=(0,o.A)(function*(y,b){const R=ct(y),V={writes:b.map(K=>$c(R.serializer,K))};yield R.Mo("Commit",R.serializer.databaseId,on.emptyPath(),V)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Xe();r=jt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new st(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(jt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(jt.min()))throw new st(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w_{constructor(e,r,a,h,y){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new Hd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new C_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ie(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Rl(r)}return!1}}class om{constructor(e,r,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=et.UNAUTHENTICATED,this.clientId=Vn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,o.A)(function*(V){Ce("FirestoreClient","Received user=",V.uid),yield b.authCredentialListener(V),b.user=V});return function(V){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(Ce("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=tu(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function A_(d,e){return D_.apply(this,arguments)}function D_(){return D_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(y){a.isEqual(y)||(yield ml(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),D_.apply(this,arguments)}function jy(d,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield Ef(d);Ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>Ug(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>Ug(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Ef(d){return S_.apply(this,arguments)}function S_(){return(S_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield A_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ne.FAILED_PRECONDITION||h.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;pn("Error using user provided cache. Falling back to memory cache: "+e),yield A_(d,new Wl)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield A_(d,new Wl);var h;return d._offlineComponents})).apply(this,arguments)}function am(d){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield jy(d,d._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield jy(d,new nd))),d._onlineComponents})).apply(this,arguments)}function R_(d){return Ef(d).then(e=>e.persistence)}function oh(d){return Ef(d).then(e=>e.localStore)}function P_(d){return am(d).then(e=>e.remoteStore)}function lm(d){return am(d).then(e=>e.syncEngine)}function yc(d){return Up.apply(this,arguments)}function Up(){return(Up=(0,o.A)(function*(d){const e=yield am(d),r=e.eventManager;return r.onListen=Zu.bind(null,e.syncEngine),r.onUnlisten=y_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=__.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=qg.bind(null,e.syncEngine),r})).apply(this,arguments)}function dm(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new Ha({next:qe=>{oe.Za(),b.enqueueAndForget(()=>Zd(y,Te));const At=qe.docs.has(R);!At&&qe.fromCache?K.reject(new st(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&qe.fromCache&&V&&"server"===V.source?K.reject(new st(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(qe)},error:qe=>K.reject(qe)}),Te=new Gg(Z(R.path),oe,{includeMetadataChanges:!0,_a:!0});return Ip(y,Te)}(yield yc(d),d.asyncQueue,e,r,a)})),a.promise}function Bp(d,e,r={}){const a=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,V,K){const oe=new Ha({next:qe=>{oe.Za(),b.enqueueAndForget(()=>Zd(y,Te)),qe.fromCache&&"server"===V.source?K.reject(new st(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(qe)},error:qe=>K.reject(qe)}),Te=new Gg(R,oe,{includeMetadataChanges:!0,_a:!0});return Ip(y,Te)}(yield yc(d),d.asyncQueue,e,r,a)})),a.promise}function qy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const ah=new Map;function id(d,e,r){if(!r)throw new st(Ne.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function hm(d,e,r,a){if(!0===e&&!0===a)throw new st(Ne.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function jp(d){if(!$t.isDocumentKey(d))throw new st(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function $p(d){if($t.isDocumentKey(d))throw new st(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function sd(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Xe()}function ci(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sd(d);throw new st(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function fm(d,e){if(e<=0)throw new st(Ne.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class pm{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Re;switch(a.type){case"firstParty":return new it(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=ah.get(r);a&&(Ce("ComponentProvider","Removing Datastore"),ah.delete(r),a.terminate())}(this),Promise.resolve()}}function Yy(d,e,r,a={}){var h;const y=(d=ci(d,iu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&pn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,V;if("string"==typeof a.mockUserToken)R=a.mockUserToken,V=et.MOCK_USER;else{R=(0,_e.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new st(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new et(K)}d._authCredentials=new Ie(new Ke(R,V))}}class ao{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Vs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vs(this.firestore,e,this._key)}}class za extends ao{constructor(e,r,a){super(e,r,Z(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vs(this.firestore,null,new $t(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function O_(d,e,...r){if(d=(0,_e.Ku)(d),id("collection","path",e),d instanceof iu){const a=on.fromString(e,...r);return $p(a),new za(d,null,a)}{if(!(d instanceof Vs||d instanceof za))throw new st(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(on.fromString(e,...r));return $p(a),new za(d.firestore,null,a)}}function N_(d,e){if(d=ci(d,iu),id("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(d,null,(a=e,new Ro(on.emptyPath(),a)));var a}function su(d,e,...r){if(d=(0,_e.Ku)(d),1===arguments.length&&(e=Vn.newId()),id("doc","path",e),d instanceof iu){const a=on.fromString(e,...r);return jp(a),new Vs(d,null,new $t(a))}{if(!(d instanceof Vs||d instanceof za))throw new st(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(on.fromString(e,...r));return jp(a),new Vs(d.firestore,d instanceof za?d.converter:null,new $t(a))}}function gm(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),(d instanceof Vs||d instanceof za)&&(e instanceof Vs||e instanceof za)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function bf(d,e){return d=(0,_e.Ku)(d),e=(0,_e.Ku)(e),d instanceof ao&&e instanceof ao&&d.firestore===e.firestore&&go(d._query,e._query)&&d.converter===e.converter}class Tf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hd(this,"async_queue_retry"),this.Vu=()=>{const a=aa();a&&Ce("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=aa();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=aa();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new tn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!be(r))throw r;Ce("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=cf.createAndSchedule(this,e,r,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function mm(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class _m{constructor(){this._progressObserver={},this._taskCompletionResolver=new tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Gp=-1;class bi extends iu{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new Tf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Tf(r),e._firestoreClient=void 0,yield r}})()}}function ym(d,e){const r="object"==typeof d?d:(0,ue.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,_e.yU)("firestore");y&&Yy(h,...y)}return h}function Is(d){if(d._terminated)throw new st(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||k_(d),d._firestoreClient}function k_(d){var e,r,a;const h=d._freezeSettings(),y=(V=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Dr(d._databaseId,V,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,qy(oe.experimentalLongPollingOptions),oe.useFetchStreams));var V,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new om(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const V=R?._online.build();return{_offline:R?._offline.build(V),_online:V}}(d._componentsProvider))}function F_(d,e){pn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return Cf(d,nd.provider,{build:a=>new sm(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function lh(d){return vm.apply(this,arguments)}function vm(){return(vm=(0,o.A)(function*(d){pn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();Cf(d,nd.provider,{build:r=>new _f(r,e.cacheSizeBytes)})})).apply(this,arguments)}function Cf(d,e,r){if((d=ci(d,bi))._firestoreClient||d._terminated)throw new st(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},k_(d)}function ch(d){if(d._initialized&&!d._terminated)throw new st(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tn;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ce.D())return Promise.resolve();const y=h+"main";yield ce.delete(y)}),function a(h){return r.apply(this,arguments)})(Ld(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function uh(d){return function(r){const a=new tn;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function b_(d,e){return Qg.apply(this,arguments)}(yield lm(r),a)})),a.promise}(Is(d=ci(d,bi)))}function wf(d){return function um(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield R_(d),r=yield P_(d);return e.setNetworkEnabled(!0),function(h){const y=ct(h);return y.L_.delete(0),Xc(y)}(r)}))}(Is(d=ci(d,bi)))}function Hp(d){return function $y(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield R_(d),r=yield P_(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(y){const b=ct(y);b.L_.add(0),yield Qc(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(r);var a}))}(Is(d=ci(d,bi)))}function Em(d,e){const r=Is(d=ci(d,bi)),a=new _m;return function zy(d,e,r,a){const h=function(b,R){let V;return V="string"==typeof b?Vc().encode(b):b,oe=function(oe,Te){if(oe instanceof Uint8Array)return li(oe,void 0);if(oe instanceof ArrayBuffer)return li(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new yf(oe,R);var oe}(r,uc(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Lp(d,e,r){const a=ct(d);var h;(h=(0,o.A)(function*(b,R,V){try{const K=yield R.getMetadata();if(yield function(Gt,un){const nn=ct(Gt),Kn=Dn(un.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",lr=>nn.Gr.getBundleMetadata(lr,un.id)).then(lr=>!!lr&&lr.createTime.compareTo(Kn)>=0)}(b.localStore,K))return yield R.close(),V._completeWith({taskState:"Success",documentsLoaded:(Gt=K).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);V._updateProgress(Qu(K));const oe=new Ly(K,b.localStore,R.serializer);let Te=yield R.Ua();for(;Te;){const At=yield oe.la(Te);At&&V._updateProgress(At),Te=yield R.Ua()}const qe=yield oe.complete();return yield gc(b,qe.Ia,void 0),yield function(Gt,un){const nn=ct(Gt);return nn.persistence.runTransaction("Save bundle","readwrite",Kn=>nn.Gr.saveBundleMetadata(Kn,un))}(b.localStore,K),V._completeWith(qe.progress),Promise.resolve(qe.Pa)}catch(K){return pn("SyncEngine",`Loading bundle failed with ${K}`),V._failWith(K),Promise.resolve(new Set)}var Gt}),function y(b,R,V){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield lm(d),h,a)}))}(r,d._databaseId,e,a),a}function aE(d,e){return function Wy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const y=ct(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield oh(d),e)}))}(Is(d=ci(d,bi)),e).then(r=>r?new ao(d,null,r.query):null)}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(xr.fromBase64String(e))}catch(r){throw new st(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ou(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new st(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kl{constructor(e){this._methodName=e}}class Wp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}class hh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const bm=/^__.*__$/;class fh{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new Br(e,this.data,this.fieldMask,r,this.fieldTransforms):new er(e,this.data,r,this.fieldTransforms)}}class Kp{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Br(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function qp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class au{constructor(e,r,a,h,y,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new au(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(qp(this.Cu)&&bm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Yp{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||uc(e)}Qu(e,r,a,h=!1){return new au({Cu:e,methodName:r,qu:a,path:Yn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wa(d){const e=d._freezeSettings(),r=uc(d._databaseId);return new Yp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function ph(d,e,r,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,r,h);Tm("Data must be an object, but it was:",b,a);const R=Sf(a,b);let V,K;if(y.merge)V=new pi(b.fieldMask),K=b.fieldTransforms;else if(y.mergeFields){const oe=[];for(const Te of y.mergeFields){const qe=Xp(e,Te,r);if(!b.contains(qe))throw new st(Ne.INVALID_ARGUMENT,`Field '${qe}' is specified in your field mask but missing from your input data.`);Zy(oe,qe)||oe.push(qe)}V=new pi(oe),K=b.fieldTransforms.filter(Te=>V.covers(Te.field))}else V=null,K=b.fieldTransforms;return new fh(new Ve(R),V,K)}class ad extends Kl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function Af(d,e,r){return new au({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L_ extends Kl{_toFieldTransform(e){return new P(e.path,new nl)}isEqual(e){return e instanceof L_}}class gh extends Kl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Af(this,e,!0),a=this.Ku.map(y=>Ec(y,r)),h=new Po(a);return new P(e.path,h)}isEqual(e){return e instanceof gh&&(0,_e.bD)(this.Ku,e.Ku)}}class ua extends Kl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Af(this,e,!0),a=this.Ku.map(y=>Ec(y,r)),h=new Fa(a);return new P(e.path,h)}isEqual(e){return e instanceof ua&&(0,_e.bD)(this.Ku,e.Ku)}}class Zs extends Kl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Ea(e.serializer,Tu(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof Zs&&this.$u===e.$u}}function vc(d,e,r,a){const h=d.Qu(1,e,r);Tm("Data must be an object, but it was:",h,a);const y=[],b=Ve.empty();di(a,(V,K)=>{const oe=ld(e,V,r);K=(0,_e.Ku)(K);const Te=h.Nu(oe);if(K instanceof ad)y.push(oe);else{const qe=Ec(K,Te);null!=qe&&(y.push(oe),b.set(oe,qe))}});const R=new pi(y);return new Kp(b,R,h.fieldTransforms)}function Df(d,e,r,a,h,y){const b=d.Qu(1,e,r),R=[Xp(e,a,r)],V=[h];if(y.length%2!=0)throw new st(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qe=0;qe<y.length;qe+=2)R.push(Xp(e,y[qe])),V.push(y[qe+1]);const K=[],oe=Ve.empty();for(let qe=R.length-1;qe>=0;--qe)if(!Zy(K,R[qe])){const At=R[qe];let Gt=V[qe];Gt=(0,_e.Ku)(Gt);const un=b.Nu(At);if(Gt instanceof ad)K.push(At);else{const nn=Ec(Gt,un);null!=nn&&(K.push(At),oe.set(At,nn))}}const Te=new pi(K);return new Kp(oe,Te,b.fieldTransforms)}function Qy(d,e,r,a=!1){return Ec(r,d.Qu(a?4:3,e))}function Ec(d,e){if(V_(d=(0,_e.Ku)(d)))return Tm("Unsupported field value:",e,d),Sf(d,e);if(d instanceof Kl)return function(a,h){if(!qp(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let V=Ec(R,h.Lu(b));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,_e.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Tu(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Ht.fromDate(a);return{timestampValue:ra(h.serializer,y)}}if(a instanceof Ht){const y=new Ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ra(h.serializer,y)}}if(a instanceof Wp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ou)return{bytesValue:Mo(h.serializer,a._byteString)};if(a instanceof Vs){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Va(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof hh)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(V=>{if("number"!=typeof V)throw R.Bu("VectorValues must only contain numeric values.");return jo(R.serializer,V)})}}}}};var R;throw h.Bu(`Unsupported field value: ${sd(a)}`)}(d,e)}function Sf(d,e){const r={};return ys(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(d,(a,h)=>{const y=Ec(h,e.Mu(a));null!=y&&(r[a]=y)}),{mapValue:{fields:r}}}function V_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Ht||d instanceof Wp||d instanceof ou||d instanceof Vs||d instanceof Kl||d instanceof hh)}function Tm(d,e,r){if(!V_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=sd(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function Xp(d,e,r){if((e=(0,_e.Ku)(e))instanceof od)return e._internalPath;if("string"==typeof e)return ld(d,e);throw Rf("Field path arguments must be of type string or ",d,!1,void 0,r)}const Jy=new RegExp("[~\\*/\\[\\]]");function ld(d,e,r){if(e.search(Jy)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new od(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function Rf(d,e,r,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let V="";return(y||b)&&(V+=" (found",y&&(V+=` in field ${a}`),b&&(V+=` in document ${h}`),V+=")"),new st(Ne.INVALID_ARGUMENT,R+d+V)}function Zy(d,e){return d.some(r=>r.isEqual(e))}class Pf{constructor(e,r,a,h,y){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Im extends Pf{data(){return super.data()}}function mh(d,e){return"string"==typeof e?ld(d,e):e instanceof od?e._internalPath:e._delegate._internalPath}function ev(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class Qp extends Cm{}function tv(d,e,...r){let a=[];e instanceof Cm&&a.push(e),a=a.concat(r),function(y){const b=y.filter(V=>V instanceof bc).length,R=y.filter(V=>V instanceof wm).length;if(b>1||b>0&&R>0)throw new st(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class wm extends Qp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new wm(e,r,a)}_apply(e){const r=this._parse(e);return $_(e._query,r),new ao(e.firestore,e.converter,Xs(e._query,r))}_parse(e){const r=Wa(e.firestore);return function(y,b,R,V,K,oe,Te){let qe;if(K.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new st(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){av(Te,oe);const At=[];for(const Gt of Te)At.push(ov(V,y,Gt));qe={arrayValue:{values:At}}}else qe=ov(V,y,Te)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||av(Te,oe),qe=Qy(R,"where",Te,"in"===oe||"not-in"===oe);return kn.create(K,oe,qe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function lE(d,e,r){const a=e,h=mh("where",d);return wm._create(h,a,r)}class bc extends Cm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bc(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:tr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const V of R)$_(b,V),b=Xs(b,V)}(e._query,r),new ao(e.firestore,e.converter,Xs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tc extends Qp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Tc(e,r)}_apply(e){const r=function(h,y,b){if(null!==h.startAt)throw new st(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jn(y,b)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new Ro(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function cE(d,e="asc"){const r=e,a=mh("orderBy",d);return Tc._create(a,r)}class ud extends Qp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new ud(e,r,a)}_apply(e){return new ao(e.firestore,e.converter,rs(e._query,this._limit,this._limitType))}}function rv(d){return fm("limit",d),ud._create("limit",d,"F")}function iv(d){return fm("limitToLast",d),ud._create("limitToLast",d,"L")}class Am extends Qp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Am(e,r,a)}_apply(e){const r=j_(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(y=r,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function sv(...d){return Am._create("startAt",d,!0)}function U_(...d){return Am._create("startAfter",d,!1)}class Mf extends Qp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Mf(e,r,a)}_apply(e){const r=j_(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(y=r,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function S0(...d){return Mf._create("endBefore",d,!1)}function B_(...d){return Mf._create("endAt",d,!0)}function j_(d,e,r,a){if(r[0]=(0,_e.Ku)(r[0]),r[0]instanceof Pf)return function(y,b,R,V,K){if(!V)throw new st(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const oe=[];for(const Te of He(y))if(Te.field.isKeyField())oe.push(dr(b,V.key));else{const qe=V.data.field(Te.field);if(Zi(qe))throw new st(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){const At=Te.field.canonicalString();throw new st(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${At}' (used as the orderBy) does not exist.`)}oe.push(qe)}return new Kt(oe,K)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=Wa(d.firestore);return function(b,R,V,K,oe,Te){const qe=b.explicitOrderBy;if(oe.length>qe.length)throw new st(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const At=[];for(let Gt=0;Gt<oe.length;Gt++){const un=oe[Gt];if(qe[Gt].field.isKeyField()){if("string"!=typeof un)throw new st(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof un}`);if(!le(b)&&-1!==un.indexOf("/"))throw new st(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${un}' contains a slash.`);const nn=b.path.child(on.fromString(un));if(!$t.isDocumentKey(nn))throw new st(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Kn=new $t(nn);At.push(dr(R,Kn))}else{const nn=Qy(V,K,un);At.push(nn)}}return new Kt(At,Te)}(d._query,d.firestore._databaseId,h,e,r,a)}}function ov(d,e,r){if("string"==typeof(r=(0,_e.Ku)(r))){if(""===r)throw new st(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!le(e)&&-1!==r.indexOf("/"))throw new st(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(on.fromString(r));if(!$t.isDocumentKey(a))throw new st(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return dr(d,new $t(a))}if(r instanceof Vs)return dr(d,r._key);throw new st(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(r)}.`)}function av(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $_(d,e){const r=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new st(Ne.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Dm{convertValue(e,r="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return di(e,(h,y)=>{a[h]=this.convertValue(y,r)}),a}convertVectorValue(e){var r,a,h;const y=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>mr(b.doubleValue));return new hh(y)}convertGeoPoint(e){return new Wp(mr(e.latitude),mr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Cs(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(es(e));default:return null}}convertTimestamp(e){const r=Mi(e);return new Ht(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=on.fromString(e);Mt(w(a));const h=new ii(a.get(1),a.get(3)),y=new $t(a.popFirst(5));return h.isEqual(r)||Yt(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function Sm(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class uE extends Dm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,r)}}class xf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends Pf{constructor(e,r,a,h,y,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class bl extends lu{data(e={}){return super.data(e)}}class Cc{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new xf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new bl(this._firestore,this._userDataWriter,a.key,a,new xf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new bl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new xf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const V=new bl(h._firestore,h._userDataWriter,R.doc.key,R.doc,new xf(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,oe=-1;return 0!==R.type&&(K=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),oe=b.indexOf(R.doc.key)),{type:fE(R.type),doc:V,oldIndex:K,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function fE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function pE(d,e){return d instanceof lu&&e instanceof lu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Cc&&e instanceof Cc&&d._firestore===e._firestore&&bf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function gE(d){d=ci(d,Vs);const e=ci(d.firestore,bi);return dm(Is(e),d._key).then(r=>z_(e,d,r))}class wc extends Dm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,r)}}function Ac(d){d=ci(d,Vs);const e=ci(d.firestore,bi),r=Is(e),a=new wc(e);return function rd(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield function(oe,Te){const qe=ct(oe);return qe.persistence.runTransaction("read document","readonly",At=>qe.localDocuments.getDocument(At,Te))}(y,b);V.isFoundDocument()?R.resolve(V):V.isNoDocument()?R.resolve(null):R.reject(new st(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const K=tu(V,`Failed to get document '${b} from cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield oh(d),e,r);var a})),r.promise}(r,d._key).then(h=>new lu(e,a,d._key,h,new xf(null!==h&&h.hasLocalMutations,!0),d.converter))}function uv(d){d=ci(d,Vs);const e=ci(d.firestore,bi);return dm(Is(e),d._key,{source:"server"}).then(r=>z_(e,d,r))}function mE(d){d=ci(d,ao);const e=ci(d.firestore,bi),r=Is(e),a=new wc(e);return ev(d._query),Bp(r,d._query).then(h=>new Cc(e,a,d,h))}function R0(d){d=ci(d,ao);const e=ci(d.firestore,bi),r=Is(e),a=new wc(e);return function Gy(d,e){const r=new tn;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const V=yield $a(y,b,!0),K=new zg(b,V.Ts),oe=K.ma(V.documents),Te=K.applyChanges(oe,!1);R.resolve(Te.snapshot)}catch(V){const K=tu(V,`Failed to execute query '${b} against cache`);R.reject(K)}}),function h(y,b,R){return a.apply(this,arguments)})(yield oh(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Cc(e,a,d,h))}function vo(d){d=ci(d,ao);const e=ci(d.firestore,bi),r=Is(e),a=new wc(e);return Bp(r,d._query,{source:"server"}).then(h=>new Cc(e,a,d,h))}function _E(d,e,r){d=ci(d,Vs);const a=ci(d.firestore,bi),h=Sm(d.converter,e,r);return _h(a,[ph(Wa(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function G_(d,e,r,...a){d=ci(d,Vs);const h=ci(d.firestore,bi),y=Wa(h);let b;return b="string"==typeof(e=(0,_e.Ku)(e))||e instanceof od?Df(y,"updateDoc",d._key,e,r,a):vc(y,"updateDoc",d._key,e),_h(h,[b.toMutation(d._key,Y.exists(!0))])}function yE(d){return _h(ci(d.firestore,bi),[new os(d._key,Y.none())])}function vE(d,e){const r=ci(d.firestore,bi),a=su(d),h=Sm(d.converter,e);return _h(r,[ph(Wa(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function H_(d,...e){var r,a,h;d=(0,_e.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||mm(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(mm(e[b])){const Te=e[b];e[b]=null===(r=Te.next)||void 0===r?void 0:r.bind(Te),e[b+1]=null===(a=Te.error)||void 0===a?void 0:a.bind(Te),e[b+2]=null===(h=Te.complete)||void 0===h?void 0:h.bind(Te)}let V,K,oe;if(d instanceof Vs)K=ci(d.firestore,bi),oe=Z(d._key.path),V={next:Te=>{e[b]&&e[b](z_(K,d,Te))},error:e[b+1],complete:e[b+2]};else{const Te=ci(d,ao);K=ci(Te.firestore,bi),oe=Te._query;const qe=new wc(K);V={next:At=>{e[b]&&e[b](new Cc(K,qe,Te,At))},error:e[b+1],complete:e[b+2]},ev(d._query)}return function(qe,At,Gt,un){const nn=new Ha(un),Kn=new Gg(At,nn,Gt);return qe.asyncQueue.enqueueAndForget((0,o.A)(function*(){return Ip(yield yc(qe),Kn)})),()=>{nn.Za(),qe.asyncQueue.enqueueAndForget((0,o.A)(function*(){return Zd(yield yc(qe),Kn)}))}}(Is(K),oe,R,V)}function dv(d,e){return function Hy(d,e){const r=new Ha(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yc(d),y=r,ct(h).Y_.add(y),void y.next();var h,y})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yc(d),y=r,void ct(h).Y_.delete(y);var h,y}))}}(Is(d=ci(d,bi)),mm(e)?e:{next:e})}function _h(d,e){return function(a,h){const y=new tn;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Mp(d,e,r){return th.apply(this,arguments)}(yield lm(a),h,y)})),y.promise}(Is(d),e)}function z_(d,e,r){const a=r.docs.get(e._key),h=new wc(d);return new lu(d,h,e._key,a,new xf(r.hasPendingWrites,r.fromCache),e.converter)}const eg={maxAttempts:5};class tg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Wa(e)}set(e,r,a){this._verifyNotCommitted();const h=cu(e,this._firestore),y=Sm(h.converter,r,a),b=ph(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const y=cu(e,this._firestore);let b;return b="string"==typeof(r=(0,_e.Ku)(r))||r instanceof od?Df(this._dataReader,"WriteBatch.update",y._key,r,a,h):vc(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=cu(e,this._firestore);return this._mutations=this._mutations.concat(new os(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cu(d,e){if((d=(0,_e.Ku)(d)).firestore!==e)throw new st(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class yv extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Wa(r)}get(r){const a=cu(r,this._firestore),h=new uE(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return Xe();const b=y[0];if(b.isFoundDocument())return new Pf(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Pf(this._firestore,h,a._key,null,a.converter);throw Xe()})}set(r,a,h){const y=cu(r,this._firestore),b=Sm(y.converter,a,h),R=ph(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(r,a,h,...y){const b=cu(r,this._firestore);let R;return R="string"==typeof(a=(0,_e.Ku)(a))||a instanceof od?Df(this._dataReader,"Transaction.update",b._key,a,h,y):vc(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(r){const a=cu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=cu(e,this._firestore),a=new wc(this._firestore);return super.get(e).then(h=>new lu(this._firestore,a,r._key,h._document,new xf(!1,!1),r.converter))}}function CE(d,e,r){d=ci(d,bi);const a=Object.assign(Object.assign({},eg),r);return function(y){if(y.maxAttempts<1)throw new st(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const V=new tn;return y.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function cm(d){return am(d).then(e=>e.datastore)}(y);new w_(y.asyncQueue,K,R,b,V).au()})),V.promise}(Is(d),h=>e(new yv(d,h)),a)}function wE(){return new ad("deleteField")}function vv(){return new L_("serverTimestamp")}function Rm(...d){return new gh("arrayUnion",d)}function Pm(...d){return new ua("arrayRemove",d)}function AE(d){return new Zs("increment",d)}!function(e,r=!0){Ue=ue.SDK_VERSION,(0,ue._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new bi(new Fe(a.getProvider("auth-internal")),new wn(a.getProvider("app-check-internal")),function(K,oe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new st(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ii(K.options.projectId,oe)}(b,h),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(we,"4.7.3",e),(0,ue.registerVersion)(we,"4.7.3","esm2017")}()},4535:(rn,Ze,F)=>{F.d(Ze,{Ad:()=>Ln,D5:()=>gn,KR:()=>ai,Mp:()=>xi,Mx:()=>ri,TZ:()=>Be,UC:()=>di,UY:()=>ir,XR:()=>ts,ZH:()=>In,_w:()=>dr,bp:()=>ks,c7:()=>Fr,nb:()=>vi,nw:()=>Tn,p_:()=>rr,qk:()=>Ki,uj:()=>Yt,xc:()=>Bn,yb:()=>ei});var o=F(467),ue=F(7852),i=F(1076),ve=F(1362);const _e="firebasestorage.googleapis.com",De="storageBucket";class Q extends i.g{constructor(J,Se,Ve=0){super(de(J),`Firebase Storage: ${Se} (${de(J)})`),this.status_=Ve,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Q.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return de(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ee=function(te){return te.UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",te}(ee||{});function de(te){return"storage/"+te}function ye(){return new Q(ee.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qt(){return new Q(ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function We(){return new Q(ee.CANCELED,"User canceled the upload/download.")}function tt(){return new Q(ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yt(te){return new Q(ee.INVALID_ARGUMENT,te)}function pn(){return new Q(ee.APP_DELETED,"The Firebase app was deleted.")}function ir(te){return new Q(ee.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xe(te,J){return new Q(ee.INVALID_FORMAT,"String does not match format '"+te+"': "+J)}function Mt(te){throw new Q(ee.INTERNAL_ERROR,"Internal error: "+te)}class Be{constructor(J,Se){this.bucket=J,this.path_=Se}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Se){let Ve;try{Ve=Be.makeFromUrl(J,Se)}catch{return new Be(J,"")}if(""===Ve.path)return Ve;throw function et(te){return new Q(ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(J)}static makeFromUrl(J,Se){let Ve=null;const nt="([A-Za-z0-9.\\-_]+)",An=new RegExp("^gs://"+nt+"(/(.*))?$","i");function jn(Oi){Oi.path_=decodeURIComponent(Oi.path)}const Rn=Se.replace(/[.]/g,"\\."),Sr=[{regex:An,indices:{bucket:1,path:3},postModify:function It(Oi){"/"===Oi.path.charAt(Oi.path.length-1)&&(Oi.path_=Oi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Rn}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:jn},{regex:new RegExp(`^https?://${Se===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":Se}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:jn}];for(let Oi=0;Oi<Sr.length;Oi++){const Ri=Sr[Oi],Yr=Ri.regex.exec(J);if(Yr){let ds=Yr[Ri.indices.path];ds||(ds=""),Ve=new Be(Yr[Ri.indices.bucket],ds),Ri.postModify(Ve);break}}if(null==Ve)throw function we(te){return new Q(ee.INVALID_URL,"Invalid URL '"+te+"'.")}(J);return Ve}}class ct{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function Ie(te){return"string"==typeof te||te instanceof String}function Fe(te){return ut()&&te instanceof Blob}function ut(){return typeof Blob<"u"}function it(te,J,Se,Ve){if(Ve<J)throw Yt(`Invalid value for '${te}'. Expected ${J} or greater.`);if(Ve>Se)throw Yt(`Invalid value for '${te}'. Expected ${Se} or less.`)}function Vt(te,J,Se){let Ve=J;return null==Se&&(Ve=`https://${J}`),`${Se}://${Ve}/v0${te}`}function wn(te){const J=encodeURIComponent;let Se="?";for(const Ve in te)te.hasOwnProperty(Ve)&&(Se=Se+(J(Ve)+"=")+J(te[Ve])+"&");return Se=Se.slice(0,-1),Se}var nr=function(te){return te[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",te}(nr||{});function sn(te,J){const Se=te>=500&&te<600,nt=-1!==[408,429].indexOf(te),It=-1!==J.indexOf(te);return Se||nt||It}class Vn{constructor(J,Se,Ve,nt,It,Kt,An,_n,jn,Or,Rn,kn=!0){this.url_=J,this.method_=Se,this.headers_=Ve,this.body_=nt,this.successCodes_=It,this.additionalRetryCodes_=Kt,this.callback_=An,this.errorCallback_=_n,this.timeout_=jn,this.progressCallback_=Or,this.connectionFactory_=Rn,this.retry=kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((tr,Ei)=>{this.resolve_=tr,this.reject_=Ei,this.start_()})}start_(){const Se=(Ve,nt)=>{const It=this.resolve_,Kt=this.reject_,An=nt.connection;if(nt.wasSuccessCode)try{const _n=this.callback_(An,An.getResponse());!function tn(te){return void 0!==te}(_n)?It():It(_n)}catch(_n){Kt(_n)}else if(null!==An){const _n=ye();_n.serverResponse=An.getErrorText(),Kt(this.errorCallback_?this.errorCallback_(An,_n):_n)}else Kt(nt.canceled?this.appDelete_?pn():We():Qt())};this.canceled_?Se(0,new Jt(!1,null,!0)):this.backoffId_=function Ne(te,J,Se){let Ve=1,nt=null,It=null,Kt=!1,An=0;function _n(){return 2===An}let jn=!1;function Or(...Ii){jn||(jn=!0,J.apply(null,Ii))}function Rn(Ii){nt=setTimeout(()=>{nt=null,te(tr,_n())},Ii)}function kn(){It&&clearTimeout(It)}function tr(Ii,...Li){if(jn)return void kn();if(Ii)return kn(),void Or.call(null,Ii,...Li);if(_n()||Kt)return kn(),void Or.call(null,Ii,...Li);let Sr;Ve<64&&(Ve*=2),1===An?(An=2,Sr=0):Sr=1e3*(Ve+Math.random()),Rn(Sr)}let Ei=!1;function Ur(Ii){Ei||(Ei=!0,kn(),!jn&&(null!==nt?(Ii||(An=2),clearTimeout(nt),Rn(0)):Ii||(An=1)))}return Rn(0),It=setTimeout(()=>{Kt=!0,Ur(!0)},Se),Ur}((Ve,nt)=>{if(nt)return void Ve(!1,new Jt(!1,null,!0));const It=this.connectionFactory_();this.pendingConnection_=It;const Kt=An=>{null!==this.progressCallback_&&this.progressCallback_(An.loaded,An.lengthComputable?An.total:-1)};null!==this.progressCallback_&&It.addUploadProgressListener(Kt),It.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&It.removeUploadProgressListener(Kt),this.pendingConnection_=null;const An=It.getErrorCode()===nr.NO_ERROR,_n=It.getStatus();if(!An||sn(_n,this.additionalRetryCodes_)&&this.retry){const Or=It.getErrorCode()===nr.ABORT;return void Ve(!1,new Jt(!1,null,Or))}const jn=-1!==this.successCodes_.indexOf(_n);Ve(!0,new Jt(jn,It))})},Se,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function st(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jt{constructor(J,Se,Ve){this.wasSuccessCode=J,this.connection=Se,this.canceled=!!Ve}}function kr(...te){const J=function on(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Se=new J;for(let Ve=0;Ve<te.length;Ve++)Se.append(te[Ve]);return Se.getBlob()}if(ut())return new Blob(te);throw new Q(ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(J,Se){this.data=J,this.contentType=Se||null}}function In(te,J){switch(te){case Tn.RAW:return new Gn($r(J));case Tn.BASE64:case Tn.BASE64URL:return new Gn(ni(te,J));case Tn.DATA_URL:return new Gn(function fi(te){const J=new zn(te);return J.base64?ni(Tn.BASE64,J.rest):function Mr(te){let J;try{J=decodeURIComponent(te)}catch{throw Xe(Tn.DATA_URL,"Malformed data URL.")}return $r(J)}(J.rest)}(J),function gs(te){return new zn(te).contentType}(J))}throw ye()}function $r(te){const J=[];for(let Se=0;Se<te.length;Se++){let Ve=te.charCodeAt(Se);Ve<=127?J.push(Ve):Ve<=2047?J.push(192|Ve>>6,128|63&Ve):55296==(64512&Ve)?Se<te.length-1&&56320==(64512&te.charCodeAt(Se+1))?(Ve=65536|(1023&Ve)<<10|1023&te.charCodeAt(++Se),J.push(240|Ve>>18,128|Ve>>12&63,128|Ve>>6&63,128|63&Ve)):J.push(239,191,189):56320==(64512&Ve)?J.push(239,191,189):J.push(224|Ve>>12,128|Ve>>6&63,128|63&Ve)}return new Uint8Array(J)}function ni(te,J){switch(te){case Tn.BASE64:{const nt=-1!==J.indexOf("-"),It=-1!==J.indexOf("_");if(nt||It)throw Xe(te,"Invalid character '"+(nt?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const nt=-1!==J.indexOf("+"),It=-1!==J.indexOf("/");if(nt||It)throw Xe(te,"Invalid character '"+(nt?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Se;try{Se=function $t(te){if(typeof atob>"u")throw function Ce(te){return new Q(ee.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(J)}catch(nt){throw nt.message.includes("polyfill")?nt:Xe(te,"Invalid character found")}const Ve=new Uint8Array(Se.length);for(let nt=0;nt<Se.length;nt++)Ve[nt]=Se.charCodeAt(nt);return Ve}class zn{constructor(J){this.base64=!1,this.contentType=null;const Se=J.match(/^data:([^,]+)?,/);if(null===Se)throw Xe(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ve=Se[1]||null;null!=Ve&&(this.base64=function hn(te,J){return te.length>=J.length&&te.substring(te.length-J.length)===J}(Ve,";base64"),this.contentType=this.base64?Ve.substring(0,Ve.length-7):Ve),this.rest=J.substring(J.indexOf(",")+1)}}class ri{constructor(J,Se){let Ve=0,nt="";Fe(J)?(this.data_=J,Ve=J.size,nt=J.type):J instanceof ArrayBuffer?(Se?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Ve=this.data_.length):J instanceof Uint8Array&&(Se?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Ve=J.length),this.size_=Ve,this.type_=nt}size(){return this.size_}type(){return this.type_}slice(J,Se){if(Fe(this.data_)){const nt=function Yn(te,J,Se){return te.webkitSlice?te.webkitSlice(J,Se):te.mozSlice?te.mozSlice(J,Se):te.slice?te.slice(J,Se):null}(this.data_,J,Se);return null===nt?null:new ri(nt)}{const Ve=new Uint8Array(this.data_.buffer,J,Se-J);return new ri(Ve,!0)}}static getBlob(...J){if(ut()){const Se=J.map(Ve=>Ve instanceof ri?Ve.data_:Ve);return new ri(kr.apply(null,Se))}{const Se=J.map(Kt=>Ie(Kt)?In(Tn.RAW,Kt).data:Kt.data_);let Ve=0;Se.forEach(Kt=>{Ve+=Kt.byteLength});const nt=new Uint8Array(Ve);let It=0;return Se.forEach(Kt=>{for(let An=0;An<Kt.length;An++)nt[It++]=Kt[An]}),new ri(nt,!0)}}uploadData(){return this.data_}}function Jn(te){let J;try{J=JSON.parse(te)}catch{return null}return function Re(te){return"object"==typeof te&&!Array.isArray(te)}(J)?J:null}function Di(te){const J=te.lastIndexOf("/",te.length-2);return-1===J?te:te.slice(J+1)}function at(te,J){return J}class Tt{constructor(J,Se,Ve,nt){this.server=J,this.local=Se||J,this.writable=!!Ve,this.xform=nt||at}}let ce=null;function fe(){if(ce)return ce;const te=[];te.push(new Tt("bucket")),te.push(new Tt("generation")),te.push(new Tt("metageneration")),te.push(new Tt("name","fullPath",!0));const Se=new Tt("name");Se.xform=function J(It,Kt){return function ke(te){return!Ie(te)||te.length<2?te:Di(te)}(Kt)},te.push(Se);const nt=new Tt("size");return nt.xform=function Ve(It,Kt){return void 0!==Kt?Number(Kt):Kt},te.push(nt),te.push(new Tt("timeCreated")),te.push(new Tt("updated")),te.push(new Tt("md5Hash",null,!0)),te.push(new Tt("cacheControl",null,!0)),te.push(new Tt("contentDisposition",null,!0)),te.push(new Tt("contentEncoding",null,!0)),te.push(new Tt("contentLanguage",null,!0)),te.push(new Tt("contentType",null,!0)),te.push(new Tt("metadata","customMetadata",!0)),ce=te,ce}function yt(te,J,Se){const Ve=Jn(J);return null===Ve?null:function be(te,J,Se){const Ve={type:"file"},nt=Se.length;for(let It=0;It<nt;It++){const Kt=Se[It];Ve[Kt.local]=Kt.xform(Ve,J[Kt.server])}return function pt(te,J){Object.defineProperty(te,"ref",{get:function Se(){const It=new Be(te.bucket,te.fullPath);return J._makeStorageReference(It)}})}(Ve,te),Ve}(te,Ve,Se)}function br(te,J){const Se={},Ve=J.length;for(let nt=0;nt<Ve;nt++){const It=J[nt];It.writable&&(Se[It.server]=te[It.local])}return JSON.stringify(Se)}const vt="prefixes",$="items";class ie{constructor(J,Se,Ve,nt){this.url=J,this.method=Se,this.handler=Ve,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(te){if(!te)throw ye()}function ht(te,J){return function Se(Ve,nt){const It=yt(te,nt,J);return me(null!==It),It}}function fn(te){return function J(Se,Ve){let nt;return nt=401===Se.getStatus()?Se.getErrorText().includes("Firebase App Check token is invalid")?function Ct(){return new Q(ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new Q(ee.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Se.getStatus()?function Oe(te){return new Q(ee.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===Se.getStatus()?function kt(te){return new Q(ee.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):Ve,nt.status=Se.getStatus(),nt.serverResponse=Ve.serverResponse,nt}}function Sn(te){const J=fn(te);return function Se(Ve,nt){let It=J(Ve,nt);return 404===Ve.getStatus()&&(It=function Me(te){return new Q(ee.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),It.serverResponse=nt.serverResponse,It}}function Tr(te,J,Se){const nt=Vt(J.fullServerUrl(),te.host,te._protocol),Kt=te.maxOperationRetryTime,An=new ie(nt,"GET",ht(te,Se),Kt);return An.errorHandler=Sn(J),An}function ln(te,J,Se,Ve,nt){const It={};It.prefix=J.isRoot?"":J.path+"/",Se&&Se.length>0&&(It.delimiter=Se),Ve&&(It.pageToken=Ve),nt&&(It.maxResults=nt);const An=Vt(J.bucketOnlyServerUrl(),te.host,te._protocol),jn=te.maxOperationRetryTime,Or=new ie(An,"GET",function xt(te,J){return function Se(Ve,nt){const It=function L(te,J,Se){const Ve=Jn(Se);return null===Ve?null:function M(te,J,Se){const Ve={prefixes:[],items:[],nextPageToken:Se.nextPageToken};if(Se[vt])for(const nt of Se[vt]){const It=nt.replace(/\/$/,""),Kt=te._makeStorageReference(new Be(J,It));Ve.prefixes.push(Kt)}if(Se[$])for(const nt of Se[$]){const It=te._makeStorageReference(new Be(J,nt.name));Ve.items.push(It)}return Ve}(te,J,Ve)}(te,J,nt);return me(null!==It),It}}(te,J.bucket),jn);return Or.urlParams=It,Or.errorHandler=fn(J),Or}function _s(te,J,Se){const Ve=Object.assign({},Se);return Ve.fullPath=te.path,Ve.size=J.size(),Ve.contentType||(Ve.contentType=function ms(te,J){return te&&te.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Ve}class or{constructor(J,Se,Ve,nt){this.current=J,this.total=Se,this.finalized=!!Ve,this.metadata=nt||null}}function Os(te,J){let Se=null;try{Se=te.getResponseHeader("X-Goog-Upload-Status")}catch{me(!1)}return me(!!Se&&-1!==(J||["active"]).indexOf(Se)),Se}const Bn={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pr(te){switch(te){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;default:return Ln.ERROR}}class Gr{constructor(J,Se,Ve){if(function Ke(te){return"function"==typeof te}(J)||null!=Se||null!=Ve)this.next=J,this.error=Se??void 0,this.complete=Ve??void 0;else{const It=J;this.next=It.next,this.error=It.error,this.complete=It.complete}}}function Jr(te){return(...J)=>{Promise.resolve().then(()=>te(...J))}}let gr=null;class Hi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Se,Ve,nt){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Se,J,!0),void 0!==nt)for(const It in nt)nt.hasOwnProperty(It)&&this.xhr_.setRequestHeader(It,nt[It].toString());return void 0!==Ve?this.xhr_.send(Ve):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class Ns extends Hi{initXhr(){this.xhr_.responseType="text"}}function Qi(){return gr?gr():new Ns}class di{constructor(J,Se,Ve=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Se,this._metadata=Ve,this._mappings=fe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=nt=>{if(this._request=void 0,this._chunkMultiplier=1,nt._codeEquals(ee.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const It=this.isExponentialBackoffExpired();if(sn(nt.status,[])){if(!It)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();nt=Qt()}this._error=nt,this._transition("error")}},this._metadataErrorHandler=nt=>{this._request=void 0,nt._codeEquals(ee.CANCELED)?this.completeTransitions_():(this._error=nt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((nt,It)=>{this._resolve=nt,this._reject=It,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Se=>this._updateProgress(J+Se)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Se,Ve])=>{switch(this._state){case"running":J(Se,Ve);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Se)=>{const Ve=function Dt(te,J,Se,Ve,nt){const It=J.bucketOnlyServerUrl(),Kt=_s(J,Ve,nt),An={name:Kt.fullPath},_n=Vt(It,te.host,te._protocol),Or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ve.size()}`,"X-Goog-Upload-Header-Content-Type":Kt.contentType,"Content-Type":"application/json; charset=utf-8"},Rn=br(Kt,Se),Ei=new ie(_n,"POST",function tr(Ur){let Ii;Os(Ur);try{Ii=Ur.getResponseHeader("X-Goog-Upload-URL")}catch{me(!1)}return me(Ie(Ii)),Ii},te.maxUploadRetryTime);return Ei.urlParams=An,Ei.headers=Or,Ei.body=Rn,Ei.errorHandler=fn(J),Ei}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ve,Qi,J,Se);this._request=nt,nt.getPromise().then(It=>{this._request=void 0,this._uploadUrl=It,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Se,Ve)=>{const nt=function lt(te,J,Se,Ve){const _n=new ie(Se,"POST",function It(jn){const Or=Os(jn,["active","final"]);let Rn=null;try{Rn=jn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{me(!1)}Rn||me(!1);const kn=Number(Rn);return me(!isNaN(kn)),new or(kn,Ve.size(),"final"===Or)},te.maxUploadRetryTime);return _n.headers={"X-Goog-Upload-Command":"query"},_n.errorHandler=fn(J),_n}(this._ref.storage,this._ref._location,J,this._blob),It=this._ref.storage._makeRequest(nt,Qi,Se,Ve);this._request=It,It.getPromise().then(Kt=>{this._request=void 0,this._updateProgress(Kt.current),this._needToFetchStatus=!1,Kt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Se=new or(this._transferred,this._blob.size()),Ve=this._uploadUrl;this._resolveToken((nt,It)=>{let Kt;try{Kt=function cn(te,J,Se,Ve,nt,It,Kt,An){const _n=new or(0,0);if(Kt?(_n.current=Kt.current,_n.total=Kt.total):(_n.current=0,_n.total=Ve.size()),Ve.size()!==_n.total)throw function Ge(){return new Q(ee.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const jn=_n.total-_n.current;let Or=jn;nt>0&&(Or=Math.min(Or,nt));const Rn=_n.current;let tr="";tr=0===Or?"finalize":jn===Or?"upload, finalize":"upload";const Ei={"X-Goog-Upload-Command":tr,"X-Goog-Upload-Offset":`${_n.current}`},Ur=Ve.slice(Rn,Rn+Or);if(null===Ur)throw tt();const Sr=new ie(Se,"POST",function Ii(Oi,Ri){const Yr=Os(Oi,["active","final"]),Uo=_n.current+Or,ds=Ve.size();let Ys;return Ys="final"===Yr?ht(J,It)(Oi,Ri):null,new or(Uo,ds,"final"===Yr,Ys)},J.maxUploadRetryTime);return Sr.headers=Ei,Sr.body=Ur.uploadData(),Sr.progressCallback=An||null,Sr.errorHandler=fn(te),Sr}(this._ref._location,this._ref.storage,Ve,this._blob,J,this._mappings,Se,this._makeProgressCallback())}catch(_n){return this._error=_n,void this._transition("error")}const An=this._ref.storage._makeRequest(Kt,Qi,nt,It,!1);this._request=An,An.getPromise().then(_n=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_n.current),_n.finalized?(this._metadata=_n.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Se)=>{const Ve=Tr(this._ref.storage,this._ref._location,this._mappings),nt=this._ref.storage._makeRequest(Ve,Qi,J,Se);this._request=nt,nt.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Se)=>{const Ve=function yi(te,J,Se,Ve,nt){const It=J.bucketOnlyServerUrl(),Kt={"X-Goog-Upload-Protocol":"multipart"},_n=function An(){let Sr="";for(let Oi=0;Oi<2;Oi++)Sr+=Math.random().toString().slice(2);return Sr}();Kt["Content-Type"]="multipart/related; boundary="+_n;const jn=_s(J,Ve,nt),Or=br(jn,Se),tr=ri.getBlob("--"+_n+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Or+"\r\n--"+_n+"\r\nContent-Type: "+jn.contentType+"\r\n\r\n",Ve,"\r\n--"+_n+"--");if(null===tr)throw tt();const Ei={name:jn.fullPath},Ur=Vt(It,te.host,te._protocol),Li=te.maxUploadRetryTime,Si=new ie(Ur,"POST",ht(te,Se),Li);return Si.urlParams=Ei,Si.headers=Kt,Si.body=tr.uploadData(),Si.errorHandler=fn(J),Si}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),nt=this._ref.storage._makeRequest(Ve,Qi,J,Se);this._request=nt,nt.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Se=this._transferred;this._transferred=J,this._transferred!==Se&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Se="paused"===this._state;this._state=J,Se&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=We(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=pr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Se,Ve,nt){const It=new Gr(Se||void 0,Ve||void 0,nt||void 0);return this._addObserver(It),()=>{this._removeObserver(It)}}then(J,Se){return this._promise.then(J,Se)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Se=this._observers.indexOf(J);-1!==Se&&this._observers.splice(Se,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Se=>{this._notifyObserver(Se)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(pr(this._state)){case Ln.SUCCESS:Jr(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:Jr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(pr(this._state)){case Ln.RUNNING:case Ln.PAUSED:J.next&&Jr(J.next.bind(J,this.snapshot))();break;case Ln.SUCCESS:J.complete&&Jr(J.complete.bind(J))();break;default:J.error&&Jr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class Ji{constructor(J,Se){this._service=J,this._location=Se instanceof Be?Se:Be.makeFromUrl(Se,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Se){return new Ji(J,Se)}get root(){const J=new Be(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Di(this._location.path)}get storage(){return this._service}get parent(){const J=function Ir(te){if(0===te.length)return null;const J=te.lastIndexOf("/");return-1===J?"":te.slice(0,J)}(this._location.path);if(null===J)return null;const Se=new Be(this._location.bucket,J);return new Ji(this._service,Se)}_throwIfRoot(J){if(""===this._location.path)throw ir(J)}}function Do(te,J,Se){return pi.apply(this,arguments)}function pi(){return(pi=(0,o.A)(function*(te,J,Se){const nt=yield xa(te,{pageToken:Se});J.prefixes.push(...nt.prefixes),J.items.push(...nt.items),null!=nt.nextPageToken&&(yield Do(te,J,nt.nextPageToken))})).apply(this,arguments)}function xa(te,J){null!=J&&"number"==typeof J.maxResults&&it("options.maxResults",1,1e3,J.maxResults);const Se=J||{},Ve=ln(te.storage,te._location,"/",Se.pageToken,Se.maxResults);return te.storage.makeRequestWithTokens(Ve,Qi)}function us(te){te._throwIfRoot("getDownloadURL");const J=function ur(te,J,Se){const nt=Vt(J.fullServerUrl(),te.host,te._protocol),Kt=te.maxOperationRetryTime,An=new ie(nt,"GET",function an(te,J){return function Se(Ve,nt){const It=yt(te,nt,J);return me(null!==It),function Xt(te,J,Se,Ve){const nt=Jn(J);if(null===nt||!Ie(nt.downloadTokens))return null;const It=nt.downloadTokens;if(0===It.length)return null;const Kt=encodeURIComponent;return It.split(",").map(jn=>{const Rn=te.fullPath;return Vt("/b/"+Kt(te.bucket)+"/o/"+Kt(Rn),Se,Ve)+wn({alt:"media",token:jn})})[0]}(It,nt,te.host,te._protocol)}}(te,Se),Kt);return An.errorHandler=Sn(J),An}(te.storage,te._location,fe());return te.storage.makeRequestWithTokens(J,Qi).then(Se=>{if(null===Se)throw function Ot(){return new Q(ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Se})}function mr(te,J){const Se=function Hn(te,J){const Se=J.split("/").filter(Ve=>Ve.length>0).join("/");return 0===te.length?Se:te+"/"+Se}(te._location.path,J),Ve=new Be(te._location.bucket,Se);return new Ji(te.storage,Ve)}function Cs(te,J){if(te instanceof si){const Se=te;if(null==Se._bucket)throw function Ue(){return new Q(ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Ve=new Ji(Se,Se._bucket);return null!=J?Cs(Ve,J):Ve}return void 0!==J?mr(te,J):te}function es(te,J){if(J&&function vs(te){return/^[A-Za-z]+:\/\//.test(te)}(J)){if(te instanceof si)return function Zi(te,J){return new Ji(te,J)}(te,J);throw Yt("To use ref(service, url), the first argument must be a Storage instance.")}return Cs(te,J)}function Dr(te,J){const Se=J?.[De];return null==Se?null:Be.makeFromBucketSpec(Se,te)}class si{constructor(J,Se,Ve,nt,It){this.app=J,this._authProvider=Se,this._appCheckProvider=Ve,this._url=nt,this._firebaseVersion=It,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?Be.makeFromBucketSpec(nt,this._host):Dr(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?Be.makeFromBucketSpec(this._url,J):Dr(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){it("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){it("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,o.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Se=J._authProvider.getImmediate({optional:!0});if(Se){const Ve=yield Se.getToken();if(null!==Ve)return Ve.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,o.A)(function*(){const Se=J._appCheckProvider.getImmediate({optional:!0});return Se?(yield Se.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new Ji(this,J)}_makeRequest(J,Se,Ve,nt,It=!0){if(this._deleted)return new ct(pn());{const Kt=function Er(te,J,Se,Ve,nt,It,Kt=!0){const An=wn(te.urlParams),_n=te.url+An,jn=Object.assign({},te.headers);return function Ht(te,J){J&&(te["X-Firebase-GMPID"]=J)}(jn,J),function $n(te,J){null!==J&&J.length>0&&(te.Authorization="Firebase "+J)}(jn,Se),function On(te,J){te["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(jn,It),function jt(te,J){null!==J&&(te["X-Firebase-AppCheck"]=J)}(jn,Ve),new Vn(_n,te.method,jn,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,nt,Kt)}(J,this._appId,Ve,nt,Se,this._firebaseVersion,It);return this._requests.add(Kt),Kt.getPromise().then(()=>this._requests.delete(Kt),()=>this._requests.delete(Kt)),Kt}}makeRequestWithTokens(J,Se){var Ve=this;return(0,o.A)(function*(){const[nt,It]=yield Promise.all([Ve._getAuthToken(),Ve._getAppCheckToken()]);return Ve._makeRequest(J,Se,nt,It).getPromise()})()}}const ws="@firebase/storage",zi="storage";function ks(te,J,Se){return function Pi(te,J,Se){return te._throwIfRoot("uploadBytesResumable"),new di(te,new ri(J),Se)}(te=(0,i.Ku)(te),J,Se)}function ei(te){return function Xa(te){te._throwIfRoot("getMetadata");const J=Tr(te.storage,te._location,fe());return te.storage.makeRequestWithTokens(J,Qi)}(te=(0,i.Ku)(te))}function gn(te,J){return function xr(te,J){te._throwIfRoot("updateMetadata");const Se=function Bs(te,J,Se,Ve){const It=Vt(J.fullServerUrl(),te.host,te._protocol),An=br(Se,Ve),jn=te.maxOperationRetryTime,Or=new ie(It,"PATCH",ht(te,Ve),jn);return Or.headers={"Content-Type":"application/json; charset=utf-8"},Or.body=An,Or.errorHandler=Sn(J),Or}(te.storage,te._location,J,fe());return te.storage.makeRequestWithTokens(Se,Qi)}(te=(0,i.Ku)(te),J)}function rr(te,J){return xa(te=(0,i.Ku)(te),J)}function dr(te){return function co(te){const J={prefixes:[],items:[]};return Do(te,J).then(()=>J)}(te=(0,i.Ku)(te))}function Ki(te){return us(te=(0,i.Ku)(te))}function ts(te){return function Mi(te){te._throwIfRoot("deleteObject");const J=function Fi(te,J){const Ve=Vt(J.fullServerUrl(),te.host,te._protocol),An=new ie(Ve,"DELETE",function Kt(_n,jn){},te.maxOperationRetryTime);return An.successCodes=[200,204],An.errorHandler=Sn(J),An}(te.storage,te._location);return te.storage.makeRequestWithTokens(J,Qi)}(te=(0,i.Ku)(te))}function ai(te,J){return es(te=(0,i.Ku)(te),J)}function xi(te,J){return mr(te,J)}function Fr(te=(0,ue.getApp)(),J){te=(0,i.Ku)(te);const Ve=(0,ue._getProvider)(te,zi).getImmediate({identifier:J}),nt=(0,i.yU)("storage");return nt&&vi(Ve,...nt),Ve}function vi(te,J,Se,Ve={}){!function ii(te,J,Se,Ve={}){te.host=`${J}:${Se}`,te._protocol="http";const{mockUserToken:nt}=Ve;nt&&(te._overrideAuthToken="string"==typeof nt?nt:(0,i.Fy)(nt,te.app.options.projectId))}(te,J,Se,Ve)}function Ts(te,{instanceIdentifier:J}){const Se=te.getProvider("app").getImmediate(),Ve=te.getProvider("auth-internal"),nt=te.getProvider("app-check-internal");return new si(Se,Ve,nt,J,ue.SDK_VERSION)}!function As(){(0,ue._registerComponent)(new ve.uA(zi,Ts,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ws,"0.13.2",""),(0,ue.registerVersion)(ws,"0.13.2","esm2017")}()},1076:(rn,Ze,F)=>{F.d(Ze,{Am:()=>Gn,Bd:()=>Yt,FA:()=>it,Fy:()=>tt,I9:()=>In,Im:()=>on,Ku:()=>vt,Ll:()=>Ce,T9:()=>we,Uj:()=>Le,XA:()=>et,ZQ:()=>Ge,bD:()=>Yn,c1:()=>ir,cY:()=>Ue,eX:()=>Re,g:()=>ut,gR:()=>jt,hp:()=>$r,jZ:()=>Ot,lT:()=>ct,lV:()=>Mt,mS:()=>Me,nr:()=>tn,p7:()=>pn,sr:()=>Xe,tD:()=>ni,u:()=>Q,yU:()=>We,zW:()=>Ke,zw:()=>de});const ve=function($){const M=[];let L=0;for(let ie=0;ie<$.length;ie++){let me=$.charCodeAt(ie);me<128?M[L++]=me:me<2048?(M[L++]=me>>6|192,M[L++]=63&me|128):55296==(64512&me)&&ie+1<$.length&&56320==(64512&$.charCodeAt(ie+1))?(me=65536+((1023&me)<<10)+(1023&$.charCodeAt(++ie)),M[L++]=me>>18|240,M[L++]=me>>12&63|128,M[L++]=me>>6&63|128,M[L++]=63&me|128):(M[L++]=me>>12|224,M[L++]=me>>6&63|128,M[L++]=63&me|128)}return M},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let me=0;me<$.length;me+=3){const ht=$[me],xt=me+1<$.length,an=xt?$[me+1]:0,fn=me+2<$.length,Sn=fn?$[me+2]:0;let qr=(15&an)<<2|Sn>>6,ur=63&Sn;fn||(ur=64,xt||(qr=64)),ie.push(L[ht>>2],L[(3&ht)<<4|an>>4],L[qr],L[ur])}return ie.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(ve($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let L=0,ie=0;for(;L<$.length;){const me=$[L++];if(me<128)M[ie++]=String.fromCharCode(me);else if(me>191&&me<224){const ht=$[L++];M[ie++]=String.fromCharCode((31&me)<<6|63&ht)}else if(me>239&&me<365){const fn=((7&me)<<18|(63&$[L++])<<12|(63&$[L++])<<6|63&$[L++])-65536;M[ie++]=String.fromCharCode(55296+(fn>>10)),M[ie++]=String.fromCharCode(56320+(1023&fn))}else{const ht=$[L++],xt=$[L++];M[ie++]=String.fromCharCode((15&me)<<12|(63&ht)<<6|63&xt)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const L=M?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let me=0;me<$.length;){const ht=L[$.charAt(me++)],an=me<$.length?L[$.charAt(me)]:0;++me;const Sn=me<$.length?L[$.charAt(me)]:64;++me;const ln=me<$.length?L[$.charAt(me)]:64;if(++me,null==ht||null==an||null==Sn||null==ln)throw new Ee;ie.push(ht<<2|an>>4),64!==Sn&&(ie.push(an<<4&240|Sn>>2),64!==ln&&ie.push(Sn<<6&192|ln))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function($){return function($){const M=ve($);return De.encodeByteArray(M,!0)}($).replace(/\./g,"")},Q=function($){try{return De.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function de($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const L in M)!M.hasOwnProperty(L)||!ye(L)||($[L]=de($[L],M[L]));return $}function ye($){return"__proto__"!==$}function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kt=()=>{try{return Me().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&Q($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},We=$=>{const M=($=>{var M,L;return null===(L=null===(M=kt())||void 0===M?void 0:M.emulatorHosts)||void 0===L?void 0:L[$]})($);if(!M)return;const L=M.lastIndexOf(":");if(L<=0||L+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ie=parseInt(M.substring(L+1),10);return"["===M[0]?[M.substring(1,L-1),ie]:[M.substring(0,L),ie]},we=()=>{var $;return null===($=kt())||void 0===$?void 0:$.config},et=$=>{var M;return null===(M=kt())||void 0===M?void 0:M[`_${$}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,L)=>{this.resolve=M,this.reject=L})}wrapCallback(M){return(L,ie)=>{L?this.reject(L):this.resolve(ie),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(L):M(L,ie))}}}function tt($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=M||"demo-project",me=$.iat||0,ht=$.sub||$.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:me,exp:me+3600,auth_time:me,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Le(JSON.stringify({alg:"none",type:"JWT"})),Le(JSON.stringify(xt)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ce(){var $;const M=null===($=kt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Yt(){return typeof window<"u"||pn()}function pn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ir(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Xe(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const $=Ge();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function tn(){return!Ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Re(){return new Promise(($,M)=>{try{let L=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(ie);me.onsuccess=()=>{me.result.close(),L||self.indexedDB.deleteDatabase(ie),$(!0)},me.onupgradeneeded=()=>{L=!1},me.onerror=()=>{var ht;M((null===(ht=me.error)||void 0===ht?void 0:ht.message)||"")}}catch(L){M(L)}})}class ut extends Error{constructor(M,L,ie){super(L),this.code=M,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(M,L,ie){this.service=M,this.serviceName=L,this.errors=ie}create(M,...L){const ie=L[0]||{},me=`${this.service}/${M}`,ht=this.errors[M],xt=ht?function Vt($,M){return $.replace(wn,(L,ie)=>{const me=M[ie];return null!=me?String(me):`<${ie}?>`})}(ht,ie):"Error";return new ut(me,`${this.serviceName}: ${xt} (${me}).`,ie)}}const wn=/\{\$([^}]+)}/g;function jt($,M){return Object.prototype.hasOwnProperty.call($,M)}function on($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function Yn($,M){if($===M)return!0;const L=Object.keys($),ie=Object.keys(M);for(const me of L){if(!ie.includes(me))return!1;const ht=$[me],xt=M[me];if($t(ht)&&$t(xt)){if(!Yn(ht,xt))return!1}else if(ht!==xt)return!1}for(const me of ie)if(!L.includes(me))return!1;return!0}function $t($){return null!==$&&"object"==typeof $}function Gn($){const M=[];for(const[L,ie]of Object.entries($))Array.isArray(ie)?ie.forEach(me=>{M.push(encodeURIComponent(L)+"="+encodeURIComponent(me))}):M.push(encodeURIComponent(L)+"="+encodeURIComponent(ie));return M.length?"&"+M.join("&"):""}function In($){const M={};return $.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[me,ht]=ie.split("=");M[decodeURIComponent(me)]=decodeURIComponent(ht)}}),M}function $r($){const M=$.indexOf("?");if(!M)return"";const L=$.indexOf("#",M);return $.substring(M,L>0?L:void 0)}function ni($,M){const L=new zn($,M);return L.subscribe.bind(L)}class zn{constructor(M,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{M(this)}).catch(ie=>{this.error(ie)})}next(M){this.forEachObserver(L=>{L.next(M)})}error(M){this.forEachObserver(L=>{L.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,L,ie){let me;if(void 0===M&&void 0===L&&void 0===ie)throw new Error("Missing Observer.");me=function gs($,M){if("object"!=typeof $||null===$)return!1;for(const L of M)if(L in $&&"function"==typeof $[L])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:L,complete:ie},void 0===me.next&&(me.next=hn),void 0===me.error&&(me.error=hn),void 0===me.complete&&(me.complete=hn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),ht}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,M)}sendOne(M,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{L(this.observers[M])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function vt($){return $&&$._delegate?$._delegate:$}},9483:(rn,Ze,F)=>{F.d(Ze,{j:()=>ee});var o=F(7705),ue=F(6814),i=F(177);const ve=function(de,ye){return{"background-color":de,color:ye}};function _e(de,ye){if(1&de){const Me=o.RV6();o.qex(0),o.j41(1,"button",4),o.bIt("click",function(){o.eBV(Me);const ot=o.XpG();return o.Njj(ot.navigate())}),o.EFF(2),o.k0s(),o.bVm()}if(2&de){const Me=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.l_i(2,ve,Me.buttonBgColor,Me.buttonTextColor)),o.R7$(1),o.SpI(" ",Me.buttonText," ")}}function De(de,ye){if(1&de){const Me=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(Me);const ot=o.XpG();return o.Njj(ot.navigate())}),o.EFF(1),o.k0s()}if(2&de){const Me=o.XpG();o.Y8G("ngStyle",o.l_i(2,ve,Me.buttonBgColor,Me.buttonTextColor)),o.R7$(1),o.SpI(" ",Me.buttonText," ")}}const Ee=function(de,ye,Me){return{"full-width":de,centered:ye,shadow:Me}},$e=function(de,ye,Me,Oe){return{"background-color":de,color:ye,"text-align":Me,"border-radius":Oe}},Le=function(de,ye){return{color:de,"font-size":ye}},Q=function(de){return{color:de}};let ee=(()=>{class de{constructor(Me){this.router=Me,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigate(){this.page&&this.businessId&&(this.router.navigate([this.page]),this.router.navigate([this.page],{queryParams:{id:this.businessId}}))}convertToBoolean(Me){return"boolean"==typeof Me?Me:"string"==typeof Me&&"true"===Me.toLowerCase()}static{this.\u0275fac=function(Oe){return new(Oe||de)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:de,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"],["href","#",1,"cta-btn",3,"ngStyle","click"]],template:function(Oe,ot){if(1&Oe&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.j41(3,"p",1),o.EFF(4),o.k0s(),o.DNE(5,_e,3,5,"ng-container",2),o.DNE(6,De,2,5,"ng-template",null,3,o.C5r),o.k0s()),2&Oe){const Ct=o.sdS(7);o.Y8G("ngClass",o.sMw(8,Ee,ot.fullWidth,!ot.fullWidth,ot.boxShadow))("ngStyle",o.ziG(12,$e,ot.backgroundColor,ot.textColor,ot.alignText,ot.borderRadius+"px")),o.R7$(1),o.Y8G("ngStyle",o.l_i(17,Le,ot.titleColor,ot.titleFontSize+"px")),o.R7$(1),o.JRh(ot.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(20,Q,ot.textColor)),o.R7$(1),o.JRh(ot.content),o.R7$(1),o.Y8G("ngIf",ot.isButton)("ngIfElse",Ct)}},dependencies:[i.YU,i.bT,i.B3]})}}return de})()},7304:(rn,Ze,F)=>{F.d(Ze,{W:()=>et});var o=F(7705),ue=F(345),i=F(6814),ve=F(177);let _e=(()=>{class Ue{transform(Ge,Ot){if(!Ge||!Ot)return Ge;let Ce=Ge;for(const Yt in Ot)if(Ot.hasOwnProperty(Yt)){const pn=new RegExp(`{{${Yt}}}`,"g");Ce=Ce.replace(pn,Ot[Yt])}return Ce}static{this.\u0275fac=function(Ot){return new(Ot||Ue)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:Ue,pure:!0})}}return Ue})();const De=function(Ue){return{"text-align":Ue}},Ee=function(Ue,tt){return{color:Ue,"font-size":tt}},$e=function(Ue){return{businessName:Ue}};function Le(Ue,tt){if(1&Ue&&(o.j41(0,"div")(1,"div",9)(2,"span",10),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.nrm(5,"br"),o.j41(6,"span",11),o.EFF(7),o.k0s()()()),2&Ue){const Ge=o.XpG(2);o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,Ge.alignText)),o.R7$(1),o.Y8G("ngStyle",o.l_i(10,Ee,Ge.subtitleColor,Ge.subtitleFontSize+"px")),o.R7$(1),o.JRh(o.i5U(4,5,Ge.subTitle,o.eq3(13,$e,Ge._businessName))),o.R7$(3),o.Y8G("ngStyle",o.l_i(15,Ee,Ge.titleColor,Ge.titleFontSize+"px")),o.R7$(1),o.SpI("",Ge.title," ")}}function Q(Ue,tt){if(1&Ue&&(o.j41(0,"div")(1,"h3")(2,"span",12),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s()(),o.j41(5,"div",13)(6,"h2",14),o.EFF(7),o.k0s()()()),2&Ue){const Ge=o.XpG(2);o.R7$(3),o.JRh(o.i5U(4,2,Ge.subTitle,o.eq3(5,$e,Ge._businessName))),o.R7$(4),o.JRh(Ge.title)}}function ee(Ue,tt){if(1&Ue){const Ge=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(Ge);const Ce=o.XpG(2);return o.Njj(Ce.navigateToContact(Ce.buttonLink))}),o.EFF(1),o.k0s()}if(2&Ue){const Ge=o.XpG(2);o.R7$(1),o.JRh(Ge.buttonText)}}const de=function(Ue,tt,Ge){return{"full-width":Ue,centered:tt,shadow:Ge}},ye=function(Ue,tt,Ge,Ot){return{"background-color":Ue,color:tt,"text-align":Ge,"border-radius":Ot}};function Me(Ue,tt){if(1&Ue&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4),o.DNE(3,Le,8,18,"div",5),o.DNE(4,Q,8,7,"div",5),o.nrm(5,"p",6),o.j41(6,"div",7),o.DNE(7,ee,2,1,"button",8),o.k0s()()()()),2&Ue){const Ge=o.XpG();o.Y8G("ngClass",o.sMw(6,de,Ge.fullWidth,!Ge.fullWidth,Ge.boxShadow))("ngStyle",o.ziG(10,ye,Ge.backgroundColor,Ge.textColor,Ge.alignText,Ge.borderRadius+"px")),o.R7$(3),o.Y8G("ngIf","home"==Ge.page),o.R7$(1),o.Y8G("ngIf","home"!=Ge.page),o.R7$(1),o.Y8G("innerHTML",Ge.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",Ge.showButton)}}function Oe(Ue,tt){if(1&Ue&&o.nrm(0,"img",19),2&Ue){const Ge=o.XpG(2);o.Y8G("src",Ge.imageURL,o.B4B)}}function ot(Ue,tt){1&Ue&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function Ct(Ue,tt){if(1&Ue&&(o.j41(0,"div",2),o.DNE(1,Oe,1,1,"img",16),o.j41(2,"h3",17),o.EFF(3),o.k0s(),o.j41(4,"h2",17),o.EFF(5),o.k0s(),o.nrm(6,"p",6),o.DNE(7,ot,2,0,"button",18),o.k0s()),2&Ue){const Ge=o.XpG();o.Y8G("ngClass",o.sMw(7,de,Ge.fullWidth,!Ge.fullWidth,Ge.boxShadow))("ngStyle",o.ziG(11,ye,Ge.backgroundColor,Ge.textColor,Ge.alignText,Ge.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",Ge.imageURL&&Ge.showImage),o.R7$(2),o.JRh(Ge.subTitle),o.R7$(2),o.JRh(Ge.title),o.R7$(1),o.Y8G("innerHTML",Ge.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Ge.showButton)}}function kt(Ue,tt){if(1&Ue&&o.nrm(0,"img",19),2&Ue){const Ge=o.XpG(2);o.Y8G("src",Ge.imageURL,o.B4B)}}function Qt(Ue,tt){if(1&Ue&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ue){const Ge=o.XpG(2);o.R7$(1),o.SpI(" ",Ge.titleParts.part2,"")}}function We(Ue,tt){1&Ue&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function we(Ue,tt){if(1&Ue&&(o.j41(0,"div",21),o.DNE(1,kt,1,1,"img",16),o.j41(2,"div",22)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,Qt,2,1,"span",5),o.k0s(),o.nrm(7,"div",23)(8,"p",6),o.k0s(),o.DNE(9,We,2,0,"button",18),o.k0s()),2&Ue){const Ge=o.XpG();o.Y8G("ngClass",o.sMw(7,de,Ge.fullWidth,!Ge.fullWidth,Ge.boxShadow))("ngStyle",o.ziG(11,ye,Ge.backgroundColor,Ge.textColor,Ge.alignText,Ge.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",Ge.imageURL&&Ge.showImage),o.R7$(3),o.SpI(" ",Ge.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Ge.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Ge.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Ge.showButton)}}let et=(()=>{class Ue{constructor(Ge,Ot){this.sanitizer=Ge,this.router=Ot,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Ge){this._content=Ge,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Ge,Ot]=this.title.split("|").map(Ce=>Ce.trim());return{part1:Ge,part2:Ot}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Ge){this.router.navigate([Ge])}convertToBoolean(Ge){return"boolean"==typeof Ge?Ge:"string"==typeof Ge&&"true"===Ge.toLowerCase()}static{this.\u0275fac=function(Ot){return new(Ot||Ue)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:Ue,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:3,vars:3,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Ot,Ce){1&Ot&&(o.DNE(0,Me,8,15,"div",0),o.DNE(1,Ct,8,16,"div",0),o.DNE(2,we,10,16,"div",1)),2&Ot&&(o.Y8G("ngIf","hh"==Ce.themeType),o.R7$(1),o.Y8G("ngIf","ae"==Ce.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Ce.themeType||"sp"==Ce.themeType||"prestige"==Ce.themeType))},dependencies:[ve.YU,ve.bT,ve.B3,_e]})}}return Ue})()},3967:(rn,Ze,F)=>{F.d(Ze,{t:()=>de});var o=F(7705),ue=F(345),i=F(6814),ve=F(177);const _e=function(ye,Me,Oe){return{"full-width":ye,centered:Me,shadow:Oe}},De=function(ye,Me,Oe,ot){return{"background-color":ye,color:Me,"text-align":Oe,"border-radius":ot}},Ee=function(ye,Me){return{color:ye,"font-size":Me}};function $e(ye,Me){if(1&ye){const Oe=o.RV6();o.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),o.EFF(4),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.nrm(7,"p",7),o.j41(8,"button",8),o.bIt("click",function(){o.eBV(Oe);const Ct=o.XpG();return o.Njj(Ct.navigateTo("resident-form"))}),o.EFF(9,"Get Started"),o.k0s()()()}if(2&ye){const Oe=o.XpG();o.Y8G("ngClass",o.sMw(7,_e,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",o.ziG(11,De,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),o.R7$(3),o.Y8G("ngStyle",o.l_i(16,Ee,Oe.titleColor,Oe.titleFontSize+"px")),o.R7$(1),o.SpI("",Oe.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(19,Ee,Oe.subtitleColor,Oe.subtitleFontSize+"px")),o.R7$(1),o.JRh(Oe.subTitle),o.R7$(1),o.Y8G("innerHTML",Oe.sanitizedContent,o.npT)}}function Le(ye,Me){if(1&ye){const Oe=o.RV6();o.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",14),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.EFF(11),o.j41(12,"div",15)(13,"button",16),o.bIt("click",function(){o.eBV(Oe);const Ct=o.XpG();return o.Njj(Ct.navigateToContact(Ct.businessId))}),o.EFF(14,"Schedule a Visit"),o.k0s()()()()()()}if(2&ye){const Oe=o.XpG();o.Y8G("ngClass",o.sMw(8,_e,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",o.ziG(12,De,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,Ee,Oe.titleColor,Oe.titleFontSize+"px")),o.R7$(1),o.SpI(" ",Oe.title," Ready to experience "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,Ee,Oe.subtitleColor,Oe.subtitleFontSize+"px")),o.R7$(1),o.Lme("",Oe.subTitle,"",Oe._businessName,"?"),o.R7$(3),o.SpI(" ",Oe.content," ")}}function Q(ye,Me){if(1&ye){const Oe=o.RV6();o.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",17),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",18),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",15)(12,"button",19),o.bIt("click",function(){o.eBV(Oe);const Ct=o.XpG();return o.Njj(Ct.navigateToContact(Ct.businessId))}),o.EFF(13,"Let's Talk"),o.k0s()()()()()()}if(2&ye){const Oe=o.XpG();o.Y8G("ngClass",o.sMw(3,_e,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",o.ziG(7,De,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),o.R7$(8),o.SpI("",Oe._businessName,"?")}}function ee(ye,Me){if(1&ye){const Oe=o.RV6();o.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),o.EFF(6),o.k0s(),o.j41(7,"span",6),o.EFF(8),o.k0s()(),o.nrm(9,"p",7),o.j41(10,"div",15)(11,"button",20),o.bIt("click",function(){o.eBV(Oe);const Ct=o.XpG();return o.Njj(Ct.navigateTo("resident-form"))}),o.EFF(12),o.k0s()()()()()()}if(2&ye){const Oe=o.XpG();o.Y8G("ngClass",o.sMw(8,_e,Oe.fullWidth,!Oe.fullWidth,Oe.boxShadow))("ngStyle",o.ziG(12,De,Oe.backgroundColor,Oe.textColor,Oe.alignText,Oe.borderRadius+"px")),o.R7$(5),o.Y8G("ngStyle",o.l_i(17,Ee,Oe.titleColor,Oe.titleFontSize+"px")),o.R7$(1),o.SpI("",Oe.title," "),o.R7$(1),o.Y8G("ngStyle",o.l_i(20,Ee,Oe.subtitleColor,Oe.subtitleFontSize+"px")),o.R7$(1),o.JRh(Oe.subTitle),o.R7$(1),o.Y8G("innerHTML",Oe.sanitizedContent,o.npT),o.R7$(3),o.JRh(Oe.buttonText)}}let de=(()=>{class ye{set content(Oe){this._content=Oe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(Oe,ot){this.sanitizer=Oe,this.router=ot,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(Oe){this.router.navigate(["/contact-us"],{queryParams:{id:Oe}})}navigateTo(Oe){this.router.navigate(["/"+Oe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ot){return new(ot||ye)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:ye,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"btn",3,"click"],["type","button",1,"cta-btn",3,"click"]],template:function(ot,Ct){1&ot&&(o.j41(0,"div",0),o.DNE(1,$e,10,22,"div",1),o.DNE(2,Le,15,23,"div",1),o.DNE(3,Q,14,12,"div",1),o.DNE(4,ee,13,23,"div",1),o.k0s()),2&ot&&(o.Y8G("ngSwitch",Ct.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","sb"),o.R7$(1),o.Y8G("ngSwitchCase","prestige"))},dependencies:[ve.YU,ve.B3,ve.ux,ve.e1]})}}return ye})()},3711:(rn,Ze,F)=>{F.d(Ze,{a:()=>De});var o=F(7705),ue=F(4710),i=F(177);function ve(Ee,$e){1&Ee&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function _e(Ee,$e){1&Ee&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let De=(()=>{class Ee{constructor(Le){this.googleMapsLoader=Le,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Le=>{console.error("Error loading Google Maps script:",Le)})}ngOnChanges(Le){Le.address&&!Le.address.firstChange&&this.showAddressOnMap(Le.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Le){this.geocoder.geocode({address:Le},(Q,ee)=>{if("OK"===ee){this.map.setCenter(Q[0].geometry.location);const de=new google.maps.LatLngBounds;de.extend(Q[0].geometry.location),this.map.fitBounds(de),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:Q[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ee)})}getZoomLevel(Le){document.getElementById("map");const de=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Le*de)))}static{this.\u0275fac=function(Q){return new(Q||Ee)(o.rXU(ue.L))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(Q,ee){1&Q&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,ve,2,0,"ng-container",1),o.DNE(3,_e,2,0,"ng-container",2),o.bVm(),o.k0s()),2&Q&&(o.Y8G("ngSwitch",ee.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Ee})()},1915:(rn,Ze,F)=>{F.d(Ze,{j:()=>ir});var o=F(7705),ue=F(6814),i=F(177),ve=F(4591);function _e(Xe,Mt){if(1&Xe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Xe){const Be=Mt.$implicit;o.R7$(2),o.Y8G("ngClass",Be.icon),o.R7$(2),o.JRh(Be.title),o.R7$(3),o.JRh(Be.description)}}const De=function(Xe){return{color:Xe}};function Ee(Xe,Mt){if(1&Xe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,_e,8,3,"div",10),o.k0s()()()),2&Xe){const Be=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,De,Be.titleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(2),o.Y8G("ngForOf",Be.items)}}function $e(Xe,Mt){if(1&Xe&&(o.j41(0,"div",20),o.nrm(1,"i",21),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Xe){const Be=Mt.$implicit,ct=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,De,ct.textColor))("ngClass",Be.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,ct.subtitleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,De,ct.textColor)),o.R7$(1),o.JRh(Be.description)}}function Le(Xe,Mt){if(1&Xe&&(o.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),o.EFF(5),o.k0s(),o.j41(6,"span",17),o.EFF(7),o.k0s()()(),o.j41(8,"div",18),o.DNE(9,$e,6,12,"div",19),o.k0s()()()),2&Xe){const Be=o.XpG(2);o.R7$(5),o.SpI("",Be.title," "),o.R7$(2),o.JRh(Be.subTitle),o.R7$(2),o.Y8G("ngForOf",Be.items)}}const Q=function(Xe,Mt,Be,ct,Ne,st){return{"parallax-container":Xe,"regular-image-container":Mt,"solid-bg-container":Be,"full-width":ct,centered:Ne,shadow:st}},ee=function(Xe,Mt,Be,ct,Ne){return{"background-image":Xe,"background-color":Mt,color:Be,"text-align":ct,"border-radius":Ne}};function de(Xe,Mt){if(1&Xe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,Ee,7,5,"div",5),o.DNE(3,Le,10,3,"div",5),o.k0s()()),2&Xe){const Be=o.XpG();o.Y8G("ngClass",o.l4e(4,Q,Be.isParallax&&Be.sectionImageUrl,!Be.isParallax&&Be.sectionImageUrl,!Be.sectionImageUrl,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",o.s1E(11,ee,Be.sectionImageUrl?"url("+Be.sectionImageUrl+")":"none",Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Be.isMinimal),o.R7$(1),o.Y8G("ngIf",Be.isMinimal)}}function ye(Xe,Mt){if(1&Xe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Xe){const Be=Mt.$implicit;o.R7$(2),o.Y8G("ngClass",Be.icon),o.R7$(2),o.JRh(Be.title),o.R7$(3),o.JRh(Be.description)}}function Me(Xe,Mt){if(1&Xe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,ye,8,3,"div",10),o.k0s()()()),2&Xe){const Be=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,De,Be.titleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(2),o.Y8G("ngForOf",Be.items)}}function Oe(Xe,Mt){if(1&Xe&&(o.j41(0,"div",27),o.nrm(1,"i",28),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&Xe){const Be=Mt.$implicit;o.R7$(1),o.Y8G("ngClass",Be.icon),o.R7$(2),o.JRh(Be.title),o.R7$(2),o.JRh(Be.description)}}function ot(Xe,Mt){if(1&Xe){const Be=o.RV6();o.j41(0,"div",29)(1,"button",30),o.bIt("click",function(){o.eBV(Be);const Ne=o.XpG(3);return o.Njj(Ne.navigateTo("contact-us"))}),o.EFF(2),o.k0s()()}if(2&Xe){const Be=o.XpG(3);o.R7$(2),o.JRh(Be.buttonText)}}const Ct=function(Xe,Mt,Be){return{"parallax-container":Xe,"regular-image-container":Mt,"solid-bg-container":Be}},kt=function(Xe){return{"background-image":Xe}};function Qt(Xe,Mt){if(1&Xe&&(o.j41(0,"div"),o.nrm(1,"app-section-tilte",23),o.j41(2,"div",24)(3,"div",18),o.DNE(4,Oe,6,3,"div",25),o.k0s()(),o.DNE(5,ot,3,1,"div",26),o.k0s()),2&Xe){const Be=o.XpG(2);o.R7$(1),o.Y8G("titleColor",Be.titleColor)("title",Be.title),o.R7$(1),o.Y8G("ngClass",o.sMw(6,Ct,Be.isParallax&&Be.sectionImageUrl,!Be.isParallax&&Be.sectionImageUrl,!Be.sectionImageUrl))("ngStyle",o.eq3(10,kt,Be.sectionImageUrl?"url("+Be.sectionImageUrl+")":"none")),o.R7$(2),o.Y8G("ngForOf",Be.items),o.R7$(1),o.Y8G("ngIf",Be.showButton)}}function We(Xe,Mt){if(1&Xe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,Me,7,5,"div",5),o.DNE(3,Qt,6,12,"div",5),o.k0s()()),2&Xe){const Be=o.XpG();o.Y8G("ngClass",o.l4e(4,Q,Be.isParallax&&Be.sectionImageUrl,!Be.isParallax&&Be.sectionImageUrl,!Be.sectionImageUrl,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",o.s1E(11,ee,Be.sectionImageUrl?"url("+Be.sectionImageUrl+")":"none",Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Be.isMinimal),o.R7$(1),o.Y8G("ngIf",Be.isMinimal)}}function we(Xe,Mt){if(1&Xe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Xe){const Be=Mt.$implicit;o.R7$(2),o.Y8G("ngClass",Be.icon),o.R7$(2),o.JRh(Be.title),o.R7$(3),o.JRh(Be.description)}}const et=function(Xe,Mt,Be,ct,Ne){return{"parallax-container":Xe,"regular-image-container":Mt,"solid-bg-container":Be,"full-width":ct,centered:Ne}};function Ue(Xe,Mt){if(1&Xe&&(o.j41(0,"div")(1,"section",32)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"h3",33),o.EFF(6),o.k0s(),o.j41(7,"div",9),o.DNE(8,we,8,3,"div",10),o.k0s()()()),2&Xe){const Be=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(6,et,Be.isParallax&&Be.sectionImageUrl,!Be.isParallax&&Be.sectionImageUrl,!Be.sectionImageUrl,Be.fullWidth,!Be.fullWidth)),o.R7$(2),o.Y8G("ngStyle",o.eq3(12,De,Be.titleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(14,De,Be.subtitleColor)),o.R7$(1),o.JRh(Be.subTitle),o.R7$(2),o.Y8G("ngForOf",Be.items)}}function tt(Xe,Mt){if(1&Xe&&(o.j41(0,"div",27),o.nrm(1,"i",34),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Xe){const Be=Mt.$implicit,ct=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,De,ct.titleColor))("ngClass",Be.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,ct.titleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,De,ct.subtitleColor)),o.R7$(1),o.JRh(Be.description)}}const Ge=function(Xe,Mt,Be){return{"background-image":Xe,"background-color":Mt,color:Be}};function Ot(Xe,Mt){if(1&Xe&&(o.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",18),o.DNE(6,tt,6,12,"div",25),o.k0s()()()),2&Xe){const Be=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(5,et,Be.isParallax&&Be.sectionImageUrl,!Be.isParallax&&Be.sectionImageUrl,!Be.sectionImageUrl,Be.fullWidth,!Be.fullWidth))("ngStyle",o.sMw(11,Ge,Be.sectionImageUrl?"url("+Be.sectionImageUrl+")":"none",Be.backgroundColor,Be.textColor)),o.R7$(2),o.Y8G("ngStyle",o.eq3(15,De,Be.titleColor)),o.R7$(1),o.JRh(Be.title),o.R7$(2),o.Y8G("ngForOf",Be.items)}}function Ce(Xe,Mt){if(1&Xe&&(o.j41(0,"section",31)(1,"div"),o.DNE(2,Ue,9,16,"div",5),o.DNE(3,Ot,7,17,"div",5),o.k0s()()),2&Xe){const Be=o.XpG();o.R7$(2),o.Y8G("ngIf",!Be.isMinimal),o.R7$(1),o.Y8G("ngIf",Be.isMinimal)}}function Yt(Xe,Mt){if(1&Xe&&(o.j41(0,"div",39)(1,"div",40),o.nrm(2,"i",41),o.k0s(),o.j41(3,"div",42)(4,"h2",43),o.EFF(5),o.k0s(),o.j41(6,"p",44),o.EFF(7),o.k0s()()()),2&Xe){const Be=Mt.$implicit;o.R7$(2),o.Y8G("ngClass",Be.icon),o.R7$(3),o.JRh(Be.name),o.R7$(2),o.JRh(Be.description)}}function pn(Xe,Mt){if(1&Xe&&(o.j41(0,"section",35),o.nrm(1,"app-section-tilte",36),o.j41(2,"div",37),o.DNE(3,Yt,8,3,"div",38),o.k0s()()),2&Xe){const Be=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",Be.items)}}let ir=(()=>{class Xe{constructor(Be){this.router=Be,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Be){return"boolean"==typeof Be?Be:"string"==typeof Be&&"true"===Be.toLowerCase()}navigateTo(Be){this.router.navigate(["/"+Be],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ct){return new(ct||Xe)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:Xe,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId"},decls:5,vars:4,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngClass"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(ct,Ne){1&ct&&(o.j41(0,"div",0),o.DNE(1,de,4,17,"section",1),o.DNE(2,We,4,17,"section",1),o.DNE(3,Ce,4,2,"section",2),o.DNE(4,pn,4,2,"section",3),o.k0s()),2&ct&&(o.R7$(1),o.Y8G("ngIf","hh"===Ne.themeType),o.R7$(1),o.Y8G("ngIf","ae"===Ne.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===Ne.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Ne.themeType||"sp"==Ne.themeType))},dependencies:[i.YU,i.Sq,i.bT,i.B3,ve.L]})}}return Xe})()},491:(rn,Ze,F)=>{F.d(Ze,{G:()=>Q});var o=F(7705),ue=F(345),i=F(6814),ve=F(177);const _e=function(ee,de,ye){return{"full-width":ee,centered:de,shadow:ye}},De=function(ee,de,ye,Me){return{"background-color":ee,color:de,"text-align":ye,"border-radius":Me}};function Ee(ee,de){if(1&ee&&(o.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),o.EFF(4),o.k0s()(),o.nrm(5,"p",6),o.k0s(),o.j41(6,"div",7),o.nrm(7,"img",8),o.k0s()()),2&ee){const ye=o.XpG();o.Y8G("ngClass",o.sMw(6,_e,ye.fullWidth,!ye.fullWidth,ye.boxShadow))("ngStyle",o.ziG(10,De,ye.backgroundColor,ye.textColor,ye.alignText,ye.borderRadius+"px")),o.R7$(4),o.JRh(ye.title),o.R7$(1),o.Y8G("innerHTML",ye.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",ye.sectionImageUrl,o.B4B),o.FS9("alt",ye.title)}}function $e(ee,de){if(1&ee&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&ee){const ye=o.XpG(2);o.R7$(1),o.SpI(" ",ye.titleParts.part2,"")}}function Le(ee,de){if(1&ee&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,$e,2,1,"span",12),o.k0s(),o.nrm(8,"div",13)(9,"p",6),o.k0s(),o.j41(10,"div",14),o.nrm(11,"img",8),o.k0s()()()()),2&ee){const ye=o.XpG();o.R7$(5),o.SpI(" ",ye.titleParts.part1," "),o.R7$(2),o.Y8G("ngIf",ye.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",ye.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",ye.sectionImageUrl,o.B4B),o.FS9("alt",ye.title)}}let Q=(()=>{class ee{constructor(ye,Me){this.sanitizer=ye,this.router=Me,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ye){this._content=ye,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[ye,Me]=this.title.split("|").map(Oe=>Oe.trim());return{part1:ye,part2:Me}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(ye){return"boolean"==typeof ye?ye:"string"==typeof ye&&"true"===ye.toLowerCase()}static{this.\u0275fac=function(Me){return new(Me||ee)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:ee,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"]],template:function(Me,Oe){1&Me&&(o.DNE(0,Ee,8,15,"section",0),o.DNE(1,Le,12,5,"section",1)),2&Me&&(o.Y8G("ngIf","hh"===Oe.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===Oe.themeType||"ae"===Oe.themeType||"sb"===Oe.themeType||"sp"===Oe.themeType||"prestige"===Oe.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return ee})()},4593:(rn,Ze,F)=>{F.d(Ze,{F:()=>Q});var o=F(7705),ue=F(345),i=F(6814),ve=F(177);const _e=function(ee,de,ye){return{"full-width":ee,centered:de,shadow:ye}},De=function(ee,de,ye,Me){return{"background-color":ee,color:de,"text-align":ye,"border-radius":Me}};function Ee(ee,de){if(1&ee&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"div",6)(5,"h2",7),o.EFF(6),o.k0s()(),o.nrm(7,"p",8),o.k0s()()),2&ee){const ye=o.XpG();o.Y8G("ngClass",o.sMw(6,_e,ye.fullWidth,!ye.fullWidth,ye.boxShadow))("ngStyle",o.ziG(10,De,ye.backgroundColor,ye.textColor,ye.alignText,ye.borderRadius+"px")),o.R7$(2),o.FS9("src",ye.sectionImageUrl,o.B4B),o.FS9("alt",ye.title),o.R7$(4),o.JRh(ye.title),o.R7$(1),o.Y8G("innerHTML",ye.sanitizedContent,o.npT)}}function $e(ee,de){if(1&ee&&(o.j41(0,"h2")(1,"span"),o.EFF(2),o.k0s()()),2&ee){const ye=o.XpG(2);o.R7$(2),o.JRh(ye.titleParts.part2)}}function Le(ee,de){if(1&ee&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",12),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.DNE(8,$e,3,1,"h2",13),o.nrm(9,"div",14),o.j41(10,"p",8),o.EFF(11),o.k0s()()()()()),2&ee){const ye=o.XpG();o.R7$(4),o.FS9("src",ye.sectionImageUrl,o.B4B),o.FS9("alt",ye.title),o.R7$(3),o.JRh(ye.titleParts.part1),o.R7$(1),o.Y8G("ngIf",ye.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",ye.sanitizedContent,o.npT),o.R7$(1),o.JRh(ye.content)}}let Q=(()=>{class ee{constructor(ye,Me){this.sanitizer=ye,this.router=Me,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ye){this._content=ye,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ye)}get titleParts(){if(this.title.includes("|")){const[ye,Me]=this.title.split("|").map(Oe=>Oe.trim());return{part1:ye,part2:Me}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ye){return"boolean"==typeof ye?ye:"string"==typeof ye&&"true"===ye.toLowerCase()}static{this.\u0275fac=function(Me){return new(Me||ee)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:ee,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"]],template:function(Me,Oe){1&Me&&(o.DNE(0,Ee,8,15,"section",0),o.DNE(1,Le,12,6,"section",1)),2&Me&&(o.Y8G("ngIf","hh"===Oe.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===Oe.themeType||"ae"===Oe.themeType||"sb"===Oe.themeType||"sp"===Oe.themeType||"prestige"===Oe.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return ee})()},4591:(rn,Ze,F)=>{F.d(Ze,{L:()=>ve});var o=F(7705),ue=F(177);const i=function(_e){return{color:_e}};let ve=(()=>{class _e{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function($e){return new($e||_e)}}static{this.\u0275cmp=o.VBU({type:_e,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function($e,Le){1&$e&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&$e&&(o.R7$(1),o.Y8G("ngStyle",o.eq3(2,i,Le.titleColor)),o.R7$(1),o.JRh(Le.title))},dependencies:[ue.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return _e})()},8353:(rn,Ze,F)=>{F.d(Ze,{B:()=>ke});var o=F(7705),ue=F(7304),i=F(4593),ve=F(491),_e=F(6814),De=F(923),Ee=F(177);const $e=function(fe,pt){return{"clemo-btn":fe,"clemo-btn-outline":pt}},Le=function(fe){return{"border-radius":fe}};function Q(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&fe){const be=pt.$implicit,yt=o.XpG(3);o.R7$(1),o.Y8G("routerLink",be.link)("ngClass",o.l_i(4,$e,!be.outline,be.outline))("ngStyle",o.eq3(7,Le,yt.buttonBorderRadius)),o.R7$(1),o.SpI(" ",be.text," ")}}const ee=function(fe,pt){return{"font-size":fe,"font-weight":pt}};function de(fe,pt){if(1&fe&&(o.j41(0,"div",6)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",7)(4,"h2",8),o.j41(5,"div",9),o.DNE(6,Q,3,9,"ng-container",10),o.k0s(),o.j41(7,"div",11)(8,"div",12),o.nrm(9,"div",13),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&fe){const be=o.XpG().$implicit,yt=o.XpG();o.R7$(2),o.JRh(be.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,ee,yt.subtitleSize,yt.subtitleWeight))("innerHTML",be.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",be.buttons)}}const ye=function(fe){return{backgroundImage:fe,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Me(fe,pt){if(1&fe&&(o.j41(0,"div",3),o.nrm(1,"div",4),o.DNE(2,de,12,7,"div",5),o.k0s()),2&fe){const be=pt.$implicit,yt=pt.index,Xt=o.XpG();o.AVh("clemo-active",yt===Xt.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,ye,"url("+be.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==be.title?null:be.title.trim())}}const Oe=function(fe){return{"line-style":fe}};function ot(fe,pt){if(1&fe){const be=o.RV6();o.j41(0,"div",19),o.bIt("click",function(){const br=o.eBV(be).index,vt=o.XpG(2);return o.Njj(vt.navigateToSlide(br))}),o.k0s()}if(2&fe){const be=pt.index,yt=o.XpG(2);o.AVh("clemo-active",be===yt.currentSlide),o.Y8G("ngClass",o.eq3(3,Oe,"bottom"===yt.navigation))}}function Ct(fe,pt){if(1&fe){const be=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(be);const Xt=o.XpG(2);return o.Njj(Xt.prevSlide())}),o.nrm(1,"span",21),o.j41(2,"span",22),o.EFF(3,"Previous"),o.k0s()()}}function kt(fe,pt){if(1&fe){const be=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(be);const Xt=o.XpG(2);return o.Njj(Xt.nextSlide())}),o.nrm(1,"span",24),o.j41(2,"span",22),o.EFF(3,"Next"),o.k0s()()}}const Qt=function(fe){return{"bottom-nav":fe}};function We(fe,pt){if(1&fe&&(o.j41(0,"div")(1,"div",15),o.DNE(2,ot,1,5,"div",16),o.k0s(),o.DNE(3,Ct,4,0,"button",17),o.DNE(4,kt,4,0,"button",18),o.k0s()),2&fe){const be=o.XpG();o.R7$(1),o.Y8G("ngClass",o.eq3(4,Qt,"bottom"===be.navigation)),o.R7$(1),o.Y8G("ngForOf",be.slides),o.R7$(1),o.Y8G("ngIf",be.sideButtons),o.R7$(1),o.Y8G("ngIf",be.sideButtons)}}const we=function(fe,pt,be,yt,Xt){return{"--slider-opacity":fe,height:pt,"--button-border-radius":be,"--subtitle-size":yt,"--subtitle-weight":Xt}};let et=(()=>{class fe{constructor(be,yt){this.router=be,this.businessDataService=yt,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(be=>{be?(this.business=be,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(yt=>({title:this.replaceKeywords(yt.title),subtitle:this.replaceKeywords(yt.subtitle),backgroundImage:yt.backgroundImage,buttons:yt.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(be){this.navigation=be.navigation??"side",this.sideButtons=be.sideButtons??!0,this.sliderHeight=be.sliderHeight??"100vh",this.buttonBorderRadius=be.buttonBorderRadius??"25px",this.subtitleSize=be.subtitleSize??"1.5rem",this.subtitleWeight=be.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",be)}replaceKeywords(be){return be&&this.business?.businessName?be.replace(/{{businessName}}/g,this.business.businessName):be}navigateToSlide(be){this.currentSlide=be}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const be=window.scrollY,yt=window.innerHeight;this.sliderOpacity=Math.max(1-be/yt,0)}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(_e.Ix),o.rXU(De.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-slider"]],hostBindings:function(yt,Xt){1&yt&&o.bIt("scroll",function(vt){return Xt.onScroll(vt)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(yt,Xt){1&yt&&(o.j41(0,"div",0),o.DNE(1,Me,3,6,"div",1),o.DNE(2,We,5,6,"div",2),o.k0s()),2&yt&&(o.Y8G("ngStyle",o.s1E(3,we,Xt.sliderOpacity,Xt.sliderHeight,Xt.buttonBorderRadius,Xt.subtitleSize,Xt.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",Xt.slides),o.R7$(1),o.Y8G("ngIf",Xt.slides.length>1))},dependencies:[Ee.YU,Ee.Sq,Ee.bT,Ee.B3,_e.Wk,_e.wQ]})}}return fe})();var Ue=F(1915);function tt(fe,pt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const be=pt.$implicit;o.R7$(1),o.Y8G("innerHTML",be.title,o.npT),o.R7$(1),o.Y8G("innerHTML",be.description,o.npT)}}const Ge=function(fe,pt,be){return{"full-width":fe,centered:pt,shadow:be}},Ot=function(fe,pt,be,yt){return{"background-color":fe,color:pt,"text-align":be,"border-radius":yt}};function Ce(fe,pt){if(1&fe&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,tt,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const be=o.XpG();o.Y8G("ngClass",o.sMw(5,Ge,be.fullWidth,!be.fullWidth,be.boxShadow))("ngStyle",o.ziG(9,Ot,be.backgroundColor,be.textColor,be.alignText,be.borderRadius+"px")),o.R7$(4),o.SpI("",be.title," "),o.R7$(2),o.JRh(be.subTitle),o.R7$(3),o.Y8G("ngForOf",be.items)}}function Yt(fe,pt){1&fe&&o.eu8(0)}function pn(fe,pt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const be=pt.$implicit;o.R7$(1),o.Y8G("innerHTML",be.title,o.npT),o.R7$(1),o.Y8G("innerHTML",be.description,o.npT)}}function ir(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,pn,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const be=o.XpG();o.R7$(4),o.SpI("",be.title," "),o.R7$(2),o.JRh(be.subTitle),o.R7$(3),o.Y8G("ngForOf",be.items)}}let Xe=(()=>{class fe{constructor(be){this.route=be,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Features  Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(_e.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(yt,Xt){1&yt&&(o.j41(0,"div",0),o.DNE(1,Ce,10,14,"ng-container",1),o.DNE(2,Yt,1,0,"ng-container",2),o.DNE(3,ir,10,3,"ng-container",3),o.k0s()),2&yt&&(o.Y8G("ngSwitch",Xt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[Ee.YU,Ee.Sq,Ee.B3,Ee.ux,Ee.e1,Ee.fG]})}}return fe})();function Mt(fe,pt){if(1&fe&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&fe){const be=pt.$implicit;o.R7$(5),o.SpI('" ',be.quote,' "'),o.R7$(2),o.JRh(be.name)}}function Be(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Mt,8,2,"div",7),o.k0s()(),o.bVm()),2&fe){const be=o.XpG();o.R7$(6),o.Y8G("ngForOf",be.testimonials)}}function ct(fe,pt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const be=pt.$implicit;o.R7$(5),o.JRh(be.quote),o.R7$(2),o.JRh(be.name)}}function Ne(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,ct,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const be=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,be.testimonials,0,4))}}function st(fe,pt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const be=pt.$implicit;o.R7$(5),o.JRh(be.quote),o.R7$(2),o.JRh(be.name)}}function tn(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,st,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const be=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,be.testimonials,0,4))}}function Ke(fe,pt){1&fe&&o.eu8(0)}function Re(fe,pt){1&fe&&o.eu8(0)}let Ie=(()=>{class fe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(be){this.currentIndex=be,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(yt){return new(yt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(yt,Xt){1&yt&&(o.j41(0,"div",0),o.DNE(1,Be,7,1,"ng-container",1),o.DNE(2,Ne,15,5,"ng-container",1),o.DNE(3,tn,15,5,"ng-container",1),o.DNE(4,Ke,1,0,"ng-container",1),o.DNE(5,Re,1,0,"ng-container",2),o.k0s()),2&yt&&(o.Y8G("ngSwitch",Xt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"),o.R7$(1),o.Y8G("ngSwitchCase","prestige"))},dependencies:[Ee.Sq,Ee.ux,Ee.e1,Ee.fG,_e.Wk,Ee.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return fe})();var Fe=F(9969),ut=F(4710);function it(fe,pt){1&fe&&(o.j41(0,"div",16),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function Vt(fe,pt){if(1&fe){const be=o.RV6();o.j41(0,"span"),o.EFF(1,"[...]"),o.j41(2,"button",17),o.bIt("click",function(){o.eBV(be);const Xt=o.XpG(3);return o.Njj(Xt.navigateToTestimonials())}),o.EFF(3," Read More "),o.k0s()()}}function wn(fe,pt){if(1&fe&&(o.j41(0,"div",8)(1,"div",9)(2,"h3",10),o.EFF(3),o.k0s(),o.nrm(4,"div",11),o.j41(5,"p",12),o.EFF(6),o.k0s(),o.DNE(7,it,2,0,"div",13),o.k0s(),o.j41(8,"div",14)(9,"p"),o.EFF(10),o.DNE(11,Vt,4,0,"span",15),o.k0s()()()),2&fe){const be=pt.$implicit,yt=o.XpG(2);o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(be.name),o.R7$(3),o.JRh(be.relationship),o.R7$(1),o.Y8G("ngIf",be.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",yt.truncateText(be.quote)," "),o.R7$(1),o.Y8G("ngIf",yt.isTruncated(be.quote))}}function nr(fe,pt){if(1&fe){const be=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){const br=o.eBV(be).index,vt=o.XpG(2);return o.Njj(vt.goToSlide(br))}),o.EFF(1," \u25cf "),o.k0s()}if(2&fe){const be=pt.index,yt=o.XpG(2);o.AVh("active",be===yt.currentIndex)}}function sn(fe,pt){if(1&fe&&(o.j41(0,"a",19),o.EFF(1," Leave a Google Review "),o.k0s()),2&fe){const be=o.XpG(2);o.Y8G("href",be.googleReviewLink,o.B4B)}}const Vn=function(fe){return[fe]};function Jt(fe,pt){if(1&fe&&(o.qex(0),o.DNE(1,wn,12,8,"div",4),o.j41(2,"div",5),o.DNE(3,nr,2,2,"button",6),o.k0s(),o.DNE(4,sn,2,1,"a",7),o.bVm()),2&fe){const be=o.XpG();o.R7$(1),o.Y8G("ngForOf",o.eq3(4,Vn,be.currentTestimonial))("ngForTrackBy",be.trackByIndex),o.R7$(2),o.Y8G("ngForOf",be.testimonials),o.R7$(1),o.Y8G("ngIf",be.placeId)}}function $n(fe,pt){1&fe&&(o.j41(0,"p",20),o.EFF(1,"No testimonials available at the moment."),o.k0s())}let On=(()=>{class fe{constructor(be,yt,Xt){this.businessDataService=be,this.googleMapsLoader=yt,this.router=Xt,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(be=>{if(be&&be.testimonials){const yt=be.testimonials.map(Xt=>({...Xt,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...yt]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(yt,Xt)=>{if(Xt===google.maps.places.PlacesServiceStatus.OK){const br=yt?.reviews?.map(vt=>({name:vt.author_name,quote:vt.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...br,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",Xt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(be){this.currentIndex=be}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(be,yt){return be}truncateText(be){return be.length>this.maxTextLength?be.slice(0,this.maxTextLength):be}isTruncated(be){return be.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(De.A),o.rXU(ut.L),o.rXU(_e.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(yt,Xt){if(1&yt&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,Jt,5,6,"ng-container",2),o.DNE(4,$n,2,0,"ng-template",null,3,o.C5r),o.k0s()),2&yt){const br=o.sdS(5);o.R7$(3),o.Y8G("ngIf",Xt.currentTestimonial)("ngIfElse",br)}},dependencies:[Ee.Sq,Ee.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Fe.hZ)("slideIn",[(0,Fe.kY)(":enter",[(0,Fe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Fe.i0)("0.5s ease-in",(0,Fe.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Fe.kY)(":leave",[(0,Fe.i0)("0.5s ease-out",(0,Fe.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Fe.hZ)("fadeInLeft",[(0,Fe.kY)(":enter",[(0,Fe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Fe.i0)("0.5s ease-in",(0,Fe.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Fe.hZ)("fadeInRight",[(0,Fe.kY)(":enter",[(0,Fe.iF)({opacity:0,transform:"translateX(100%)"}),(0,Fe.i0)("0.5s ease-in",(0,Fe.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return fe})();var Ht=F(3967);function jt(fe,pt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const be=pt.$implicit;o.R7$(1),o.Y8G("innerHTML",be.title,o.npT),o.R7$(1),o.Y8G("innerHTML",be.description,o.npT)}}const Er=function(fe,pt,be){return{"full-width":fe,centered:pt,shadow:be}},on=function(fe,pt,be,yt){return{"background-color":fe,color:pt,"text-align":be,"border-radius":yt}};function kr(fe,pt){if(1&fe&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,jt,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const be=o.XpG();o.Y8G("ngClass",o.sMw(5,Er,be.fullWidth,!be.fullWidth,be.boxShadow))("ngStyle",o.ziG(9,on,be.backgroundColor,be.textColor,be.alignText,be.borderRadius+"px")),o.R7$(4),o.JRh(be.title),o.R7$(2),o.SpI(" ",be.subTitle," "),o.R7$(3),o.Y8G("ngForOf",be.items)}}function Yn(fe,pt){1&fe&&o.eu8(0)}function $t(fe,pt){if(1&fe&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&fe){const be=pt.$implicit;o.R7$(1),o.Y8G("innerHTML",be.title,o.npT),o.R7$(1),o.Y8G("innerHTML",be.description,o.npT)}}function Tn(fe,pt){if(1&fe&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,$t,3,2,"div",11),o.k0s()()(),o.bVm()),2&fe){const be=o.XpG();o.R7$(4),o.SpI("",be.title," "),o.R7$(2),o.SpI(" ",be.subTitle,""),o.R7$(3),o.Y8G("ngForOf",be.items)}}let Gn=(()=>{class fe{constructor(be){this.route=be,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(_e.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(yt,Xt){1&yt&&(o.j41(0,"div",0),o.DNE(1,kr,10,14,"ng-container",1),o.DNE(2,Yn,1,0,"ng-container",2),o.DNE(3,Tn,10,3,"ng-container",3),o.k0s()),2&yt&&(o.Y8G("ngSwitch",Xt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[Ee.YU,Ee.Sq,Ee.B3,Ee.ux,Ee.e1,Ee.fG]})}}return fe})();var In=F(3711),$r=F(5558);function Mr(fe,pt){if(1&fe&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s(),o.j41(4,"p",10),o.EFF(5),o.k0s()()),2&fe){const be=pt.$implicit;o.R7$(1),o.HbH(be.icon),o.R7$(2),o.JRh(be.title),o.R7$(2),o.JRh(be.description)}}function ni(fe,pt){1&fe&&(o.j41(0,"button",11),o.EFF(1,"Learn More"),o.k0s())}let zn=(()=>{class fe{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(yt){return new(yt||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(yt,Xt){1&yt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4),o.k0s(),o.j41(5,"div",4),o.DNE(6,Mr,6,4,"div",5),o.k0s(),o.DNE(7,ni,2,0,"button",6),o.k0s()()()),2&yt&&(o.R7$(4),o.JRh(Xt.sectionTitle),o.R7$(2),o.Y8G("ngForOf",Xt.items),o.R7$(1),o.Y8G("ngIf",Xt.showLearnMore))},dependencies:[Ee.Sq,Ee.bT,_e.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})();var fi=F(345),gs=F(4591);function hn(fe,pt){if(1&fe&&(o.j41(0,"div",6),o.nrm(1,"img",7),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",8),o.EFF(5),o.k0s(),o.nrm(6,"p",9),o.k0s()),2&fe){const be=pt.$implicit,yt=o.XpG(2);o.R7$(1),o.Y8G("src",be.image,o.B4B)("alt",be.title),o.R7$(2),o.JRh(be.title),o.R7$(2),o.JRh(be.category),o.R7$(1),o.Y8G("innerHTML",yt.getSanitizedDescription(be.description),o.npT)}}function ri(fe,pt){if(1&fe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),o.k0s(),o.j41(4,"div",4),o.DNE(5,hn,7,5,"div",5),o.k0s()()),2&fe){const be=o.XpG();o.R7$(1),o.Y8G("title","Website Packages"),o.R7$(4),o.Y8G("ngForOf",be.displayItems)}}function Jn(fe,pt){if(1&fe&&(o.j41(0,"div",6)(1,"div",10),o.nrm(2,"img",11),o.j41(3,"span",12),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3",13),o.EFF(7),o.k0s(),o.nrm(8,"p",9),o.j41(9,"a",14),o.EFF(10,"Visit"),o.k0s()()),2&fe){const be=pt.$implicit,yt=pt.index,Xt=o.XpG(2);o.R7$(2),o.Mz_("alt","",be.title," Logo"),o.Y8G("src",be.companyLogo||be.image,o.B4B),o.R7$(2),o.JRh(o.i5U(5,6,yt+1,"2.0")),o.R7$(3),o.JRh(be.title),o.R7$(1),o.Y8G("innerHTML",Xt.getSanitizedDescription(be.description),o.npT),o.R7$(1),o.FS9("href",be.url,o.B4B)}}function Ir(fe,pt){if(1&fe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3,"Using carefully vetted providers and vendors."),o.k0s(),o.j41(4,"div",4),o.DNE(5,Jn,11,9,"div",5),o.k0s()()),2&fe){const be=o.XpG();o.R7$(1),o.Y8G("title","Trusted Partners"),o.R7$(4),o.Y8G("ngForOf",be.displayItems)}}let Hn=(()=>{class fe{constructor(be){this.sanitizer=be,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(be){return this.sanitizer.bypassSecurityTrustHtml(be)}ngOnInit(){this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(fi.up))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(yt,Xt){1&yt&&(o.DNE(0,ri,6,2,"div",0),o.DNE(1,Ir,6,2,"div",0)),2&yt&&(o.Y8G("ngIf","sb"==Xt.layoutType),o.R7$(1),o.Y8G("ngIf","sb"!=Xt.layoutType))},dependencies:[Ee.Sq,Ee.bT,gs.L,Ee.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return fe})();var Di=F(9483),at=F(5743),Tt=F(6861);const ce=["dynamicContainer"];let ke=(()=>{class fe{constructor(be,yt,Xt,br,vt,$){this.sectionService=be,this.resolver=yt,this.injector=Xt,this.route=br,this.metaService=vt,this.businessDataService=$,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ue.W,"hero-slider":et,"right-text":i.F,"left-text":ve.G,"item-list":Ue.j,"icon-list":zn,"unique-features":Xe,testimonials:Ie,"testimonials-carousel":On,"why-us":Gn,"google-map":In.a,"latest-products":Hn,cta:Di.j,consultation:Ht.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,$r.n)(be=>be?(this.businessId=be,this.metaService.loadAndApplyMeta(be),this.businessDataService.loadBusinessData(be)):[])).subscribe(be=>{console.log("Business Data Retrieved:",be),be&&(this.business=be,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(be=>{be&&0!==be.length?(this.sections=be.filter(yt=>!1!==yt.isActive).sort((yt,Xt)=>(yt.order||0)-(Xt.order||0)),console.log("\u2705 Final Active Sections to Load:",this.sections),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){this.container.clear();const be=this.resolver.resolveComponentFactory(et);if(this.container.createComponent(be,void 0,this.injector),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let yt=null;if(this.sections.forEach((Xt,br)=>{const vt=this.componentsMap[Xt.component];if(!vt)return void console.error("\u274c Component Not Found:",Xt.component);if("consultation"===Xt.component)return void(yt=Xt);const $=this.resolver.resolveComponentFactory(vt),M=this.container.createComponent($,void 0,this.injector);this.assignComponentProperties(M,Xt)}),this.loadManualComponents(),yt){const Xt=this.resolver.resolveComponentFactory(Ht.t),br=this.container.createComponent(Xt,void 0,this.injector);this.assignComponentProperties(br,yt)}}loadManualComponents(){if(this.business?.testimonials?.length&&!this.business?.placeId&&"sb"!==this.business?.theme?.themeType){const be=this.resolver.resolveComponentFactory(Ie),yt=this.container.createComponent(be,void 0,this.injector);Object.assign(yt.instance,{testimonials:this.business?.testimonials||[],layoutType:this.business?.theme?.themeType||"demo"})}if(this.business?.placeId){const be=this.resolver.resolveComponentFactory(On),yt=this.container.createComponent(be,void 0,this.injector);Object.assign(yt.instance,{placeId:this.business?.placeId||""})}if(this.business?.placeId&&"clemo"===this.business?.theme?.themeType){const be=this.resolver.resolveComponentFactory(In.a),yt=this.container.createComponent(be,void 0,this.injector);Object.assign(yt.instance,{layoutType:this.business?.theme?.themeType||"demo",address:this.business?.address||"Demo"})}}assignComponentProperties(be,yt){be.instance&&"object"==typeof be.instance&&Object.assign(be.instance,{title:this.applyReplaceKeyword(yt.sectionTitle||""),subTitle:this.applyReplaceKeyword(yt.sectionSubTitle||""),content:this.applyReplaceKeyword(yt.sectionContent||""),sectionImageUrl:yt.sectionImageUrl||"",showButton:yt.showButton||!1,buttonText:yt.buttonText||"Learn More",buttonLink:yt.buttonLink||"",_businessName:this.business?.businessName||"",showImage:yt.showImage,themeType:this.business?.theme?.themeType,items:yt.items||[],isMinimal:yt.isMinimal||!1,isParallax:yt.isParallax??!0,backgroundColor:yt.backgroundColor||"#ffffff",textColor:yt.textColor||"#000000",titleColor:yt.titleColor||"#000000",titleFontSize:yt.titleFontSize||"36",subtitleColor:yt.subtitleColor||"#000000",subtitleFontSize:yt.subtitleFontSize||"14",fullWidth:yt.fullWidth||!1,alignText:yt.alignText||"left",boxShadow:yt.boxShadow||!1,borderRadius:yt.borderRadius??10,page:yt.page,location:yt.location,businessId:this.business?.id})}applyReplaceKeyword(be){return be&&this.business?.businessName?be.replace(/{{\s*businessName\s*}}/g,this.business.businessName):be}static{this.\u0275fac=function(yt){return new(yt||fe)(o.rXU(at.W),o.rXU(o.OM3),o.rXU(o.zZn),o.rXU(_e.nX),o.rXU(Tt.R),o.rXU(De.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-home"]],viewQuery:function(yt,Xt){if(1&yt&&o.GBs(ce,7,o.c1b),2&yt){let br;o.mGM(br=o.lsd())&&(Xt.container=br.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(yt,Xt){1&yt&&o.nrm(0,"div",0,1)}})}}return fe})()},4796:(rn,Ze,F)=>{F.d(Ze,{u:()=>_e});var o=F(6354),ue=F(7705),i=F(1977),ve=F(6814);let _e=(()=>{class De{constructor($e,Le){this.afAuth=$e,this.router=Le,this.user$=$e.authState}login($e,Le){return this.afAuth.signInWithEmailAndPassword($e,Le)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)($e=>!!$e))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Le){return new(Le||De)(ue.KVO(i.DS),ue.KVO(ve.Ix))}}static{this.\u0275prov=ue.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},923:(rn,Ze,F)=>{F.d(Ze,{A:()=>De});var o=F(4412),ue=F(6354),i=F(8141),ve=F(7705),_e=F(3012);let De=(()=>{class Ee{constructor(Le){this.businessService=Le,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.locationsSubject=new o.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Le){return console.log("BusinessDataService - loadBusinessData for ID:",Le),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Le).pipe((0,ue.T)(Q=>Q?(Q.sections||(Q.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),Q):null),(0,i.M)(Q=>{this.businessDataSubject.next(Q),this.businessIdSubject.next(Le),this.businessService.getLocations(Le).subscribe(ee=>{this.locationsSubject.next(ee)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}static{this.\u0275fac=function(Q){return new(Q||Ee)(ve.KVO(_e.u))}}static{this.\u0275prov=ve.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},5743:(rn,Ze,F)=>{F.d(Ze,{W:()=>De});var o=F(467),ue=F(6354),i=F(7705),ve=F(6340),_e=F(5571);let De=(()=>{class Ee{constructor(Le,Q){this.firestore=Le,this.uploadService=Q,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinessSections(Le){return console.log(`Fetching All Sections from Collection for Business ID: ${Le}`),this.firestore.collection(this.collectionName).doc(Le).collection("sections").snapshotChanges().pipe((0,ue.T)(Q=>(console.log("Firestore Raw Actions:",Q),Q.map(ee=>({...ee.payload.doc.data(),id:ee.payload.doc.id})))))}getBusinessSections(Le,Q){return console.log(`Fetching Sections for Business ID: ${Le}, Page: ${Q}`),this.firestore.collection(this.collectionName).doc(Le).collection("sections",ee=>ee.where("page","==",Q)).snapshotChanges().pipe((0,ue.T)(ee=>(console.log("Firestore Raw Actions:",ee),ee.map(de=>({...de.payload.doc.data(),id:de.payload.doc.id})))))}saveSection(Le,Q){return Q.id||(Q.id=this.firestore.createId()),this.firestore.collection(this.collectionName).doc(Le).collection("sections").doc(Q.id).set(Q,{merge:!0})}deleteSection(Le,Q){return this.firestore.collection(this.collectionName).doc(Le).collection("sections").doc(Q).delete()}uploadImage(Le,Q,ee,de="",ye="",Me="",Oe=""){var ot=this;return(0,o.A)(function*(){try{const{downloadUrl:Ct}=ot.uploadService.uploadFile(Le,Q,"sections",de,ye,Me,Oe);return new Promise((kt,Qt)=>{Ct.subscribe({next:We=>{We?(console.log("\u2705 Image uploaded successfully:",We),kt(We)):Qt("\u274c Image URL is undefined.")},error:We=>{console.error("\u274c Error getting image URL:",We),Qt(We)}})})}catch(Ct){return console.error("\u274c Error uploading image:",Ct),""}})()}mapComponent(Le){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[Le]||"default-component"}static{this.\u0275fac=function(Q){return new(Q||Ee)(i.KVO(ve.Qe),i.KVO(_e.B))}}static{this.\u0275prov=i.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},3012:(rn,Ze,F)=>{F.d(Ze,{u:()=>Ee});var o=F(7673),ue=F(6354),i=F(5558),ve=F(7705),_e=F(6340),De=F(8721);let Ee=(()=>{class $e{constructor(Q,ee){this.afs=Q,this.storage=ee,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(Q){console.log("Business Created");const ee=this.afs.createId();return this.afs.doc(`${this.basePath}/${ee}`).set({...Q,id:ee}),this.afs.doc(`${this.basePath}/${ee}`).valueChanges().pipe((0,ue.T)(de=>{if(!de)throw new Error("Business not found after creation");return de}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(Q=>Q.map(ee=>{const de=ee.payload.doc.data(),ye=ee.payload.doc.id,{id:Me,...Oe}=de;return{id:ye,...Oe}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,Q=>Q.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(Q){return this.getBusinessData(Q)}getBusinessData(Q){const ee=Q&&Q.trim()?Q:"defaultBusinessId";return this.afs.collection("businesses").doc(ee).snapshotChanges().pipe((0,i.n)(de=>{const ye=de.payload.data(),Me=de.payload.id;if(!ye)return(0,o.of)(void 0);const Oe={...ye,id:Me};return this.afs.collection("sections",ot=>ot.where("businessId","==",Me)).snapshotChanges().pipe((0,ue.T)(ot=>{const Ct=ot.map(kt=>({...kt.payload.doc.data(),id:kt.payload.doc.id}));return console.log("\u{1f525} Loaded Sections from Firestore Collection:",Ct),{...Oe,sections:Ct}}),(0,i.n)(ot=>{const Ct={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Me}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(kt=>{const Qt=kt.payload.data()||Ct;return ot.theme=Qt,ot}))}))}))}updateBusiness(Q,ee){return this.afs.doc(`${this.basePath}/${Q}`).update(ee)}deleteBusiness(Q){return this.afs.doc(`${this.basePath}/${Q}`).delete()}uploadFile(Q,ee){return this.storage.upload(Q,ee)}getDownloadURL(Q){return this.storage.ref(Q).getDownloadURL()}updateThemeFileName(Q,ee=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ee}`).update({"theme.themeFileName":Q})}getThemeFileName(Q=this.defaultBusinessId){const de=this.afs.collection(this.basePath).doc(Q).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${Q}`),de.get().toPromise().then(ye=>{if(ye&&ye.exists){const Me=ye.data();console.log("Theme document found:",Me);const Oe=Me?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Oe}`),Oe}return console.warn(`No theme document found for business ID: ${Q}. Using default theme.`),"default.css"}).catch(ye=>(console.error(`Error fetching theme file name for business ID: ${Q}`,ye),"default.css"))}createSection(Q,ee){return this.afs.collection(`${this.basePath}/${Q}/sections`).add(ee)}getSections(Q){return this.afs.collection(`${this.basePath}/${Q}/sections`).snapshotChanges().pipe((0,ue.T)(ee=>ee.map(de=>{const ye=de.payload.doc.data();return{sectionId:de.payload.doc.id,...ye}})))}updateSection(Q,ee,de){return this.afs.doc(`${this.basePath}/${Q}/sections/${ee}`).update(de)}deleteSection(Q,ee){return this.afs.doc(`${this.basePath}/${Q}/sections/${ee}`).delete()}addLocation(Q,ee){const de=this.afs.collection(`businesses/${Q}/locations`),ye=this.afs.createId();return de.doc(ye).set({id:ye,...ee})}getLocations(Q){return this.afs.collection(`businesses/${Q}/locations`).snapshotChanges().pipe((0,ue.T)(ee=>(ee.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${Q}`),ee.map(de=>{const ye=de.payload.doc.data();return"object"==typeof ye&&null!==ye?{id:de.payload.doc.id,...ye}:(console.error("\u274c Firestore data format error:",ye),{id:de.payload.doc.id})}))))}updateLocation(Q,ee,de){return this.afs.doc(`businesses/${Q}/locations/${ee}`).update(de)}deleteLocation(Q,ee){return this.afs.doc(`businesses/${Q}/locations/${ee}`).delete()}static{this.\u0275fac=function(ee){return new(ee||$e)(ve.KVO(_e.Qe),ve.KVO(De.ap))}}static{this.\u0275prov=ve.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})()},4710:(rn,Ze,F)=>{F.d(Ze,{L:()=>i});var ue=F(7705);let i=(()=>{class ve{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((De,Ee)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void De();const $e=document.createElement("script");$e.id="google-maps-script",$e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",$e.async=!0,$e.defer=!0,$e.onload=()=>{this.scriptLoaded=!0,De()},$e.onerror=Le=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ee(Le)},document.body.appendChild($e)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ee){return new(Ee||ve)}}static{this.\u0275prov=ue.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})()},6861:(rn,Ze,F)=>{F.d(Ze,{R:()=>ve});var o=F(7705),ue=F(345),i=F(923);let ve=(()=>{class _e{constructor(Ee,$e,Le){this.meta=Ee,this.title=$e,this.businessDataService=Le}updateMetaTags(Ee){this.title.setTitle(Ee.title),this.meta.updateTag({name:"description",content:Ee.description}),this.meta.updateTag({name:"keywords",content:Ee.keywords}),this.meta.updateTag({property:"og:title",content:Ee.title}),this.meta.updateTag({property:"og:description",content:Ee.description})}updateFavicon(Ee){const $e=document.getElementsByTagName("head")[0];let Le=document.querySelector("link[rel*='icon']");Le||(Le=document.createElement("link"),Le.rel="icon",$e.appendChild(Le)),Le.href=Ee}loadAndApplyMeta(Ee){this.businessDataService.loadBusinessData(Ee).subscribe($e=>{$e?(this.updateMetaTags({title:$e.metaTitle||"Default Title",description:$e.metaDescription||"Default Description",keywords:$e.metaKeywords||"default, keywords"}),$e.faviconUrl&&this.updateFavicon($e.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function($e){return new($e||_e)(o.KVO(ue.W8),o.KVO(ue.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}}return _e})()},5009:(rn,Ze,F)=>{F.d(Ze,{F:()=>Le});var o=F(8810),ue=F(8455),i=F(7673),ve=F(6697),_e=F(5558),De=F(9437),Ee=F(7705),$e=F(6340);let Le=(()=>{class Q{constructor(de){this.firestore=de,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(de){return this.firestore.collection("businesses").doc(de).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(de){console.log("Theme Service: - Fetching theme for business ID:",de);const ye=this.firestore.collection("businesses").doc(de),Me=ye.collection("theme").doc("themeDoc");return ye.snapshotChanges().pipe((0,ve.s)(1),(0,_e.n)(Oe=>Oe.payload.exists?Me.get().pipe((0,_e.n)(ot=>ot.exists?(ot.data(),Me.valueChanges()):(0,ue.H)(Me.set(this.defaultTheme)).pipe((0,_e.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Me.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,De.W)(Oe=>(console.error("Error fetching theme:",Oe),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(de,ye){const Me=this.firestore.collection("businesses").doc(de).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+de+" theme service updateColors: ",ye),Me.set(ye,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ye.themeFileName&&this.applyThemeFile(ye.themeFileName)}).catch(Oe=>{throw console.error("Theme Service: - Error updating colors:",Oe),new Error(Oe)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(de){return this.loadCss(`assets/themes/${de}`)}loadCss(de){return new Promise((ye,Me)=>{console.log("Load css from  file:",de);const Oe=document.createElement("link");Oe.rel="stylesheet",Oe.href=de,Oe.onload=()=>{console.log(`Loaded theme: ${de}`),ye()},Oe.onerror=ot=>{console.error(`Failed to load theme: ${de}`,ot),Me(ot)},document.head.appendChild(Oe)})}static{this.\u0275fac=function(ye){return new(ye||Q)(Ee.KVO($e.Qe))}}static{this.\u0275prov=Ee.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},5571:(rn,Ze,F)=>{F.d(Ze,{B:()=>Ee});var o=F(1985),ue=F(6354),i=F(980),ve=F(7705),_e=F(8721),De=F(6340);let Ee=(()=>{class $e{constructor(Q,ee){this.storage=Q,this.firestore=ee}uploadFile(Q,ee,de,ye="",Me="",Oe="",ot=""){let Ct;switch(de){case"testimonail":Ct=`businesses/${ee}/testimonail/${Q.name}`;break;case"employee":Ct=`businesses/${ee}/employee/${Q.name}`;break;case"business":Ct=`businesses/${ee}/business/${Q.name}`;break;case"heroImages":Ct=`businesses/${ee}/heroImages/${Q.name}`;break;case"lifeStyle":Ct=`businesses/${ee}/lifeStyle/${Q.name}`;break;case"sectionsImages":Ct=`businesses/${ee}/sectionsImages/${Q.name}`;break;default:Ct=`businesses/${ee}/gallery/${Q.name}`}const kt=this.storage.ref(Ct),Qt=this.storage.upload(Ct,Q);return{uploadProgress:Qt.percentageChanges().pipe((0,ue.T)(et=>et??0)),downloadUrl:new o.c(et=>{Qt.snapshotChanges().pipe((0,i.j)(()=>{kt.getDownloadURL().subscribe(Ue=>{this.firestore.collection("businesses").doc(ee).collection(de).add({url:Ue,title:ye,description:Me,link:Oe,order:ot}),et.next(Ue),et.complete()})})).subscribe()})}}deleteFile(Q,ee,de){return new Promise((ye,Me)=>{const Oe=decodeURIComponent(Q.split("/").pop()?.split("?")[0]||"");this.storage.ref(Oe).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(ee).collection(de).ref.where("url","==",Q).get().then(Ct=>{Ct.forEach(kt=>kt.ref.delete()),ye()}).catch(Ct=>{console.error("Error deleting from Firestore:",Ct),Me(Ct)})},error:Ct=>{console.error("Error deleting from Storage:",Ct),Me(Ct)}})})}static{this.\u0275fac=function(ee){return new(ee||$e)(ve.KVO(_e.ap),ve.KVO(De.Qe))}}static{this.\u0275prov=ve.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})()},8704:(rn,Ze,F)=>{F.d(Ze,{N:()=>Ee});var o=F(6354),ue=F(9437),i=F(7673),ve=F(7705),_e=F(6340),De=F(8721);let Ee=(()=>{class $e{constructor(Q,ee){this.firestore=Q,this.storage=ee,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(Q){const ee=Q&&Q.trim()?Q:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ee).snapshotChanges().pipe((0,o.T)(de=>{const ye=de.payload.data(),Me=de.payload.id;if(ye){const{id:Oe,testimonials:ot=[],...Ct}=ye;return{id:Me,testimonials:ot.map(Qt=>({...Qt,photoURL:Qt.photoURL&&Qt.photoURL.trim()?Qt.photoURL:this.defaultImage})),...Ct}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(Q){return this.storage.ref(Q).getDownloadURL().pipe((0,ue.W)(ee=>(console.error("Error fetching photo URL:",ee),(0,i.of)(""))))}getEmployeesByBusinessId(Q){return(null==Q||""==Q||""===Q)&&(Q=this.defaultBusinessId),this.firestore.collection("businesses").doc(Q).get().pipe((0,o.T)(ee=>{if(ee.exists){const de=ee.data();return de&&de.employees?de.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(ee=>(console.error("Error fetching employees:",ee),(0,i.of)([]))))}getBusinessGalleryImagesById(Q){return(null==Q||""==Q||""===Q)&&(Q=this.defaultBusinessId),this.firestore.collection("businesses").doc(Q).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(Q){return(null==Q||""==Q||""===Q)&&(Q=this.defaultBusinessId),this.firestore.collection("businesses").doc(Q).collection("gallery").valueChanges()}getBusinessUploadedImagesById(Q,ee){return(null==Q||""==Q||""===Q)&&(Q=this.defaultBusinessId),this.firestore.collection("businesses").doc(Q).collection(ee).valueChanges()}checkImageExists(Q){return this.storage.refFromURL(Q).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ee){return new(ee||$e)(ve.KVO(_e.Qe),ve.KVO(De.ap))}}static{this.\u0275prov=ve.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})()},2097:(rn,Ze,F)=>{var o={};F.r(o),F.d(o,{afterMain:()=>gn,afterRead:()=>Es,afterWrite:()=>Ki,applyStyles:()=>As,arrow:()=>Ys,auto:()=>vs,basePlacements:()=>Zi,beforeMain:()=>ks,beforeRead:()=>eo,beforeWrite:()=>rr,bottom:()=>us,clippingParents:()=>Dr,computeStyles:()=>Ss,createPopper:()=>Ea,createPopperBase:()=>Fa,createPopperLite:()=>Lc,detectOverflow:()=>Qs,end:()=>es,eventListeners:()=>ga,flip:()=>ji,hide:()=>no,left:()=>mr,main:()=>ei,modifierPhases:()=>ts,offset:()=>va,placements:()=>zi,popper:()=>si,popperGenerator:()=>ka,popperOffsets:()=>Za,preventOverflow:()=>Dl,read:()=>Wi,reference:()=>ws,right:()=>Mi,start:()=>Cs,top:()=>xr,variationPlacements:()=>oi,viewport:()=>ii,write:()=>dr});var ue=F(345),i=F(7705),ve=F(7673),_e=F(8455),De=F(1985),Ee=F(274),$e=F(5964),Le=F(6354),Q=F(980),ee=F(5558),de=F(177);class ye{}class Me{}class Oe{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?"string"==typeof c?this.lazyInit=()=>{this.headers=new Map,c.split("\n").forEach(l=>{const g=l.indexOf(":");if(g>0){const T=l.slice(0,g),k=T.toLowerCase(),z=l.slice(g+1).trim();this.maybeSetNormalizedName(T,k),this.headers.has(k)?this.headers.get(k).push(z):this.headers.set(k,[z])}})}:typeof Headers<"u"&&c instanceof Headers?(this.headers=new Map,c.forEach((l,g)=>{this.setHeaderEntries(g,l)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(c).forEach(([l,g])=>{this.setHeaderEntries(l,g)})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const l=this.headers.get(c.toLowerCase());return l&&l.length>0?l[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,l){return this.clone({name:c,value:l,op:"a"})}set(c,l){return this.clone({name:c,value:l,op:"s"})}delete(c,l){return this.clone({name:c,value:l,op:"d"})}maybeSetNormalizedName(c,l){this.normalizedNames.has(l)||this.normalizedNames.set(l,c)}init(){this.lazyInit&&(this.lazyInit instanceof Oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(l=>{this.headers.set(l,c.headers.get(l)),this.normalizedNames.set(l,c.normalizedNames.get(l))})}clone(c){const l=new Oe;return l.lazyInit=this.lazyInit&&this.lazyInit instanceof Oe?this.lazyInit:this,l.lazyUpdate=(this.lazyUpdate||[]).concat([c]),l}applyUpdate(c){const l=c.name.toLowerCase();switch(c.op){case"a":case"s":let g=c.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(c.name,l);const T=("a"===c.op?this.headers.get(l):void 0)||[];T.push(...g),this.headers.set(l,T);break;case"d":const k=c.value;if(k){let z=this.headers.get(l);if(!z)return;z=z.filter(re=>-1===k.indexOf(re)),0===z.length?(this.headers.delete(l),this.normalizedNames.delete(l)):this.headers.set(l,z)}else this.headers.delete(l),this.normalizedNames.delete(l)}}setHeaderEntries(c,l){const g=(Array.isArray(l)?l:[l]).map(k=>k.toString()),T=c.toLowerCase();this.headers.set(T,g),this.maybeSetNormalizedName(c,T)}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(l=>c(this.normalizedNames.get(l),this.headers.get(l)))}}class Ct{encodeKey(c){return we(c)}encodeValue(c){return we(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const Qt=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function we(p){return encodeURIComponent(p).replace(Qt,(c,l)=>We[l]??c)}function et(p){return`${p}`}class Ue{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new Ct,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kt(p,c){const l=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(T=>{const k=T.indexOf("="),[z,re]=-1==k?[c.decodeKey(T),""]:[c.decodeKey(T.slice(0,k)),c.decodeValue(T.slice(k+1))],ge=l.get(z)||[];ge.push(re),l.set(z,ge)}),l}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(l=>{const g=c.fromObject[l],T=Array.isArray(g)?g.map(et):[et(g)];this.map.set(l,T)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const l=this.map.get(c);return l?l[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,l){return this.clone({param:c,value:l,op:"a"})}appendAll(c){const l=[];return Object.keys(c).forEach(g=>{const T=c[g];Array.isArray(T)?T.forEach(k=>{l.push({param:g,value:k,op:"a"})}):l.push({param:g,value:T,op:"a"})}),this.clone(l)}set(c,l){return this.clone({param:c,value:l,op:"s"})}delete(c,l){return this.clone({param:c,value:l,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const l=this.encoder.encodeKey(c);return this.map.get(c).map(g=>l+"="+this.encoder.encodeValue(g)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const l=new Ue({encoder:this.encoder});return l.cloneFrom=this.cloneFrom||this,l.updates=(this.updates||[]).concat(c),l}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const l=("a"===c.op?this.map.get(c.param):void 0)||[];l.push(et(c.value)),this.map.set(c.param,l);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let g=this.map.get(c.param)||[];const T=g.indexOf(et(c.value));-1!==T&&g.splice(T,1),g.length>0?this.map.set(c.param,g):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(c,l){return this.map.set(c,l),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Ce(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function Yt(p){return typeof Blob<"u"&&p instanceof Blob}function pn(p){return typeof FormData<"u"&&p instanceof FormData}class Xe{constructor(c,l,g,T){let k;if(this.url=l,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function Ot(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==g?g:null,k=T):k=g,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new Oe),this.context||(this.context=new Ge),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=l;else{const re=l.indexOf("?");this.urlWithParams=l+(-1===re?"?":re<l.length-1?"&":"")+z}}else this.params=new Ue,this.urlWithParams=l}serializeBody(){return null===this.body?null:Ce(this.body)||Yt(this.body)||pn(this.body)||function ir(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pn(this.body)?null:Yt(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const l=c.method||this.method,g=c.url||this.url,T=c.responseType||this.responseType,k=void 0!==c.body?c.body:this.body,z=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,re=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let ge=c.headers||this.headers,ze=c.params||this.params;const gt=c.context??this.context;return void 0!==c.setHeaders&&(ge=Object.keys(c.setHeaders).reduce((Lt,vn)=>Lt.set(vn,c.setHeaders[vn]),ge)),c.setParams&&(ze=Object.keys(c.setParams).reduce((Lt,vn)=>Lt.set(vn,c.setParams[vn]),ze)),new Xe(l,g,k,{params:ze,headers:ge,context:gt,reportProgress:re,responseType:T,withCredentials:z})}}var Mt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Mt||{});class Be{constructor(c,l=200,g="OK"){this.headers=c.headers||new Oe,this.status=void 0!==c.status?c.status:l,this.statusText=c.statusText||g,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends Be{constructor(c={}){super(c),this.type=Mt.ResponseHeader}clone(c={}){return new ct({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Ne extends Be{constructor(c={}){super(c),this.type=Mt.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new Ne({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class st extends Be{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function tn(p,c){return{body:c,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Ke=(()=>{class p{constructor(l){this.handler=l}request(l,g,T={}){let k;if(l instanceof Xe)k=l;else{let ge,ze;ge=T.headers instanceof Oe?T.headers:new Oe(T.headers),T.params&&(ze=T.params instanceof Ue?T.params:new Ue({fromObject:T.params})),k=new Xe(l,g,void 0!==T.body?T.body:null,{headers:ge,context:T.context,params:ze,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const z=(0,ve.of)(k).pipe((0,Ee.H)(ge=>this.handler.handle(ge)));if(l instanceof Xe||"events"===T.observe)return z;const re=z.pipe((0,$e.p)(ge=>ge instanceof Ne));switch(T.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return re.pipe((0,Le.T)(ge=>{if(null!==ge.body&&!(ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ge.body}));case"blob":return re.pipe((0,Le.T)(ge=>{if(null!==ge.body&&!(ge.body instanceof Blob))throw new Error("Response is not a Blob.");return ge.body}));case"text":return re.pipe((0,Le.T)(ge=>{if(null!==ge.body&&"string"!=typeof ge.body)throw new Error("Response is not a string.");return ge.body}));default:return re.pipe((0,Le.T)(ge=>ge.body))}case"response":return re;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(l,g={}){return this.request("DELETE",l,g)}get(l,g={}){return this.request("GET",l,g)}head(l,g={}){return this.request("HEAD",l,g)}jsonp(l,g){return this.request("JSONP",l,{params:(new Ue).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,g={}){return this.request("OPTIONS",l,g)}patch(l,g,T={}){return this.request("PATCH",l,tn(T,g))}post(l,g,T={}){return this.request("POST",l,tn(T,g))}put(l,g,T={}){return this.request("PUT",l,tn(T,g))}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(ye))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function nr(p,c){return c(p)}function sn(p,c){return(l,g)=>c.intercept(l,{handle:T=>p(T,g)})}const Jt=new i.nKC(""),$n=new i.nKC(""),On=new i.nKC("");function Ht(){let p=null;return(c,l)=>{null===p&&(p=((0,i.WQX)(Jt,{optional:!0})??[]).reduceRight(sn,nr));const g=(0,i.WQX)(i.$K3),T=g.add();return p(c,l).pipe((0,Q.j)(()=>g.remove(T)))}}let jt=(()=>{class p extends ye{constructor(l,g){super(),this.backend=l,this.injector=g,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(l){if(null===this.chain){const T=Array.from(new Set([...this.injector.get($n),...this.injector.get(On,[])]));this.chain=T.reduceRight((k,z)=>function Vn(p,c,l){return(g,T)=>l.runInContext(()=>c(g,k=>p(k,T)))}(k,z,this.injector),nr)}const g=this.pendingTasks.add();return this.chain(l,T=>this.backend.handle(T)).pipe((0,Q.j)(()=>this.pendingTasks.remove(g)))}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(Me),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const zn=/^\)\]\}',?\n/;let gs=(()=>{class p{constructor(l){this.xhrFactory=l}handle(l){if("JSONP"===l.method)throw new i.wOt(-2800,!1);const g=this.xhrFactory;return(g.\u0275loadImpl?(0,_e.H)(g.\u0275loadImpl()):(0,ve.of)(null)).pipe((0,ee.n)(()=>new De.c(k=>{const z=g.build();if(z.open(l.method,l.urlWithParams),l.withCredentials&&(z.withCredentials=!0),l.headers.forEach((qt,Pn)=>z.setRequestHeader(qt,Pn.join(","))),l.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){const qt=l.detectContentTypeHeader();null!==qt&&z.setRequestHeader("Content-Type",qt)}if(l.responseType){const qt=l.responseType.toLowerCase();z.responseType="json"!==qt?qt:"text"}const re=l.serializeBody();let ge=null;const ze=()=>{if(null!==ge)return ge;const qt=z.statusText||"OK",Pn=new Oe(z.getAllResponseHeaders()),fr=function fi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||l.url;return ge=new ct({headers:Pn,status:z.status,statusText:qt,url:fr}),ge},gt=()=>{let{headers:qt,status:Pn,statusText:fr,url:Vr}=ze(),Wn=null;204!==Pn&&(Wn=typeof z.response>"u"?z.responseText:z.response),0===Pn&&(Pn=Wn?200:0);let sr=Pn>=200&&Pn<300;if("json"===l.responseType&&"string"==typeof Wn){const mi=Wn;Wn=Wn.replace(zn,"");try{Wn=""!==Wn?JSON.parse(Wn):null}catch(Wr){Wn=mi,sr&&(sr=!1,Wn={error:Wr,text:Wn})}}sr?(k.next(new Ne({body:Wn,headers:qt,status:Pn,statusText:fr,url:Vr||void 0})),k.complete()):k.error(new st({error:Wn,headers:qt,status:Pn,statusText:fr,url:Vr||void 0}))},Lt=qt=>{const{url:Pn}=ze(),fr=new st({error:qt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Pn||void 0});k.error(fr)};let vn=!1;const yn=qt=>{vn||(k.next(ze()),vn=!0);let Pn={type:Mt.DownloadProgress,loaded:qt.loaded};qt.lengthComputable&&(Pn.total=qt.total),"text"===l.responseType&&z.responseText&&(Pn.partialText=z.responseText),k.next(Pn)},bn=qt=>{let Pn={type:Mt.UploadProgress,loaded:qt.loaded};qt.lengthComputable&&(Pn.total=qt.total),k.next(Pn)};return z.addEventListener("load",gt),z.addEventListener("error",Lt),z.addEventListener("timeout",Lt),z.addEventListener("abort",Lt),l.reportProgress&&(z.addEventListener("progress",yn),null!==re&&z.upload&&z.upload.addEventListener("progress",bn)),z.send(re),k.next({type:Mt.Sent}),()=>{z.removeEventListener("error",Lt),z.removeEventListener("abort",Lt),z.removeEventListener("load",gt),z.removeEventListener("timeout",Lt),l.reportProgress&&(z.removeEventListener("progress",yn),null!==re&&z.upload&&z.upload.removeEventListener("progress",bn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(de.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const hn=new i.nKC("XSRF_ENABLED"),Jn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Di{}let at=(()=>{class p{constructor(l,g,T){this.doc=l,this.platform=g,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,de._b)(l,this.cookieName),this.lastCookieString=l),this.lastToken}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(de.qQ),i.KVO(i.Agw),i.KVO(Jn))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function Tt(p,c){const l=p.url.toLowerCase();if(!(0,i.WQX)(hn)||"GET"===p.method||"HEAD"===p.method||l.startsWith("http://")||l.startsWith("https://"))return c(p);const g=(0,i.WQX)(Di).getToken(),T=(0,i.WQX)(Hn);return null!=g&&!p.headers.has(T)&&(p=p.clone({headers:p.headers.set(T,g)})),c(p)}var ke=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(ke||{});function fe(p,c){return{\u0275kind:p,\u0275providers:c}}function pt(...p){const c=[Ke,gs,jt,{provide:ye,useExisting:jt},{provide:Me,useExisting:gs},{provide:$n,useValue:Tt,multi:!0},{provide:hn,useValue:!0},{provide:Di,useClass:at}];for(const l of p)c.push(...l.\u0275providers);return(0,i.EmA)(c)}const yt=new i.nKC("LEGACY_INTERCEPTOR_FN");let me=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[pt(fe(ke.LegacyInterceptors,[{provide:yt,useFactory:Ht},{provide:$n,useExisting:yt,multi:!0}]))]})}}return p})();var ur=F(6814),Bs=F(8353),Fi=F(7304),ms=F(4593),_s=F(491),yi=F(1915),or=F(9483),Os=F(3967),Dt=F(5743),lt=F(6861),Nt=F(923),cn=F(9437),Bn=F(8704),Ln=F(4591);function pr(p,c){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const l=c.$implicit;i.R7$(1),i.FS9("alt",l.name),i.Y8G("src",l.photoURL,i.B4B),i.R7$(2),i.JRh(l.name),i.R7$(2),i.JRh(l.role),i.R7$(2),i.JRh(l.bio)}}function Gr(p,c){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,pr,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,3,l.employees$))}}let Jr=(()=>{class p{constructor(l,g){this.route=l,this.employeeService=g}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Le.T)(l=>l.get("id")||""),(0,ee.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,cn.W)(l=>(console.error("Error fetching employees:",l),(0,ve.of)([]))))}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(Bn.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(g,T){1&g&&i.DNE(0,Gr,5,5,"div",0),2&g&&i.Y8G("ngIf",T.employees$)},dependencies:[de.Sq,de.bT,Ln.L,de.Jj]})}}return p})(),gr=(()=>{class p{constructor(l,g){this.route=l,this.router=g,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const g=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",g);const T="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;g&&T[g]?(this.backgroundImage=`url(${T[g].image})`,this.message=T[g].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(g,T){1&g&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&g&&(i.xc7("background-image",T.backgroundImage),i.R7$(3),i.JRh(T.message))}})}}return p})(),Hi=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(g,T){1&g&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&g&&(i.R7$(2),i.FS9("src",T.imageURL,i.B4B),i.R7$(3),i.SpI('" ',T.text,'"'),i.R7$(2),i.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();const Ns=["dynamicContainer"];function Qi(p,c){1&p&&(i.qex(0),i.j41(1,"div",8)(2,"div",9)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",10)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.bVm())}function wo(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function Ao(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",11),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function Ui(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",11),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function Vo(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",11),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function di(p,c){if(1&p&&(i.qex(0),i.nrm(1,"app-testimonial-image",12),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function Ji(p,c){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Qi,8,0,"ng-container",2),i.DNE(3,wo,2,0,"ng-container",2),i.DNE(4,Ao,2,1,"ng-container",2),i.DNE(5,Ui,2,1,"ng-container",2),i.DNE(6,Vo,2,1,"ng-container",2),i.k0s(),i.j41(7,"div",3),i.nrm(8,"div",4,5),i.k0s(),i.j41(10,"section",6),i.nrm(11,"app-meet-the-team",7),i.k0s(),i.j41(12,"div",1),i.DNE(13,di,2,3,"ng-container",2),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(5),i.Y8G("businessId",l.business.id),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae")}}let ys=(()=>{class p{constructor(l,g,T,k,z,re){this.sectionService=l,this.resolver=g,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=re,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":ms.F,"left-text":_s.G,"item-list":yi.j,cta:or.j,consultation:Os.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ee.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(g=>!1!==g.isActive).sort((g,T)=>(g.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");this.sections.sort((ge,ze)=>(ge.order||0)-(ze.order||0));let re,l=[],g=null,T=null,k=null,z=[];this.sections.forEach(ge=>{"center-text"===ge.component?g?T=ge:g=ge:"left-text"===ge.component||"right-text"===ge.component?l.push(ge):"cta"===ge.component?k=ge:z.push(ge)}),g&&this.createComponent(g),l.length>0&&(re=document.createElement("div"),re.className="text-wrapper",l.sort((ge,ze)=>"left-text"===ge.component?-1:1),l.forEach(ge=>{const ze=this.createComponent(ge);ze&&re.appendChild(ze.location.nativeElement)}),this.container.element.nativeElement.appendChild(re)),T&&this.createComponent(T),z.forEach(ge=>{this.createComponent(ge)}),k&&this.createComponent(k)}createWrapper(l){if(!l.length)return;const g=document.createElement("div");g.className="text-wrapper",l.sort((T,k)=>"left-text"===T.component?-1:1),l.forEach(T=>{const k=this.createComponent(T);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(l,g){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,g){Object.assign(l,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(Dt.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(ur.nX),i.rXU(lt.R),i.rXU(Nt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],viewQuery:function(g,T){if(1&g&&i.GBs(Ns,5,i.c1b),2&g){let k;i.mGM(k=i.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"]],template:function(g,T){1&g&&i.DNE(0,Ji,14,9,"div",0),2&g&&i.Y8G("ngIf",T.business)},dependencies:[de.bT,de.ux,de.e1,Jr,gr,Hi]})}}return p})();const Zr=["dynamicContainer"];function Bi(p,c){1&p&&(i.qex(0),i.j41(1,"div",6)(2,"div",7)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",8)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.bVm())}function Pi(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function Ar(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function co(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function Do(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",9),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function pi(p,c){if(1&p&&(i.qex(0),i.nrm(1,"app-testimonial-image",10),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function xa(p,c){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Bi,8,0,"ng-container",2),i.DNE(3,Pi,2,0,"ng-container",2),i.DNE(4,Ar,2,1,"ng-container",2),i.DNE(5,co,2,1,"ng-container",2),i.DNE(6,Do,2,1,"ng-container",2),i.k0s(),i.j41(7,"div",3),i.nrm(8,"div",4,5),i.k0s(),i.j41(10,"div",1),i.DNE(11,pi,2,3,"ng-container",2),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(4),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae")}}let Xa=(()=>{class p{constructor(l,g,T,k,z,re,ge){this.sectionService=l,this.resolver=g,this.injector=T,this.route=k,this.metaService=z,this.businessDataService=re,this.router=ge,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":ms.F,"left-text":_s.G,"item-list":yi.j,cta:or.j,consultatioin:Os.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ee.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(g=>!1!==g.isActive).sort((g,T)=>(g.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");this.sections.sort((ze,gt)=>(ze.order||0)-(gt.order||0));let ge,l=[],g=null,T=null,k=null,z=null,re=[];this.sections.forEach(ze=>{"item-list"===ze.component?g?T=ze:g=ze:"left-text"===ze.component||"right-text"===ze.component?l.push(ze):"center-text"===ze.component?k=ze:"cta"===ze.component?z=ze:re.push(ze)}),g&&this.createComponent(g),T&&this.createComponent(T),l.length>0&&(ge=document.createElement("div"),ge.className="text-wrapper",l.sort((ze,gt)=>"left-text"===ze.component?-1:1),l.forEach(ze=>{const gt=this.createComponent(ze);gt&&ge.appendChild(gt.location.nativeElement)}),this.container.element.nativeElement.appendChild(ge)),k&&this.createComponent(k),z&&this.createComponent(z)}createWrapper(l){if(!l.length)return;const g=document.createElement("div");g.className="text-wrapper",l.sort((T,k)=>"left-text"===T.component?-1:1),l.forEach(T=>{const k=this.createComponent(T);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(l,g){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const k=this.resolver.resolveComponentFactory(T),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,l),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(l,g){Object.assign(l,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(Dt.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(ur.nX),i.rXU(lt.R),i.rXU(Nt.A),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],viewQuery:function(g,T){if(1&g&&i.GBs(Zr,5,i.c1b),2&g){let k;i.mGM(k=i.lsd())&&(T.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"]],template:function(g,T){1&g&&i.DNE(0,xa,12,8,"div",0),2&g&&i.Y8G("ngIf",T.business)},dependencies:[de.bT,de.ux,de.e1,gr,Hi]})}}return p})();var xr="top",us="bottom",Mi="right",mr="left",vs="auto",Zi=[xr,us,Mi,mr],Cs="start",es="end",Dr="clippingParents",ii="viewport",si="popper",ws="reference",oi=Zi.reduce(function(p,c){return p.concat([c+"-"+Cs,c+"-"+es])},[]),zi=[].concat(Zi,[vs]).reduce(function(p,c){return p.concat([c,c+"-"+Cs,c+"-"+es])},[]),eo="beforeRead",Wi="read",Es="afterRead",ks="beforeMain",ei="main",gn="afterMain",rr="beforeWrite",dr="write",Ki="afterWrite",ts=[eo,Wi,Es,ks,ei,gn,rr,dr,Ki];function ai(p){return p?(p.nodeName||"").toLowerCase():null}function xi(p){if(null==p)return window;if("[object Window]"!==p.toString()){var c=p.ownerDocument;return c&&c.defaultView||window}return p}function Fr(p){return p instanceof xi(p).Element||p instanceof Element}function vi(p){return p instanceof xi(p).HTMLElement||p instanceof HTMLElement}function bs(p){return!(typeof ShadowRoot>"u")&&(p instanceof xi(p).ShadowRoot||p instanceof ShadowRoot)}const As={name:"applyStyles",enabled:!0,phase:"write",fn:function Zn(p){var c=p.state;Object.keys(c.elements).forEach(function(l){var g=c.styles[l]||{},T=c.attributes[l]||{},k=c.elements[l];!vi(k)||!ai(k)||(Object.assign(k.style,g),Object.keys(T).forEach(function(z){var re=T[z];!1===re?k.removeAttribute(z):k.setAttribute(z,!0===re?"":re)}))})},effect:function Ts(p){var c=p.state,l={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,l.popper),c.styles=l,c.elements.arrow&&Object.assign(c.elements.arrow.style,l.arrow),function(){Object.keys(c.elements).forEach(function(g){var T=c.elements[g],k=c.attributes[g]||{},re=Object.keys(c.styles.hasOwnProperty(g)?c.styles[g]:l[g]).reduce(function(ge,ze){return ge[ze]="",ge},{});!vi(T)||!ai(T)||(Object.assign(T.style,re),Object.keys(k).forEach(function(ge){T.removeAttribute(ge)}))})}},requires:["computeStyles"]};function te(p){return p.split("-")[0]}var J=Math.max,Se=Math.min,Ve=Math.round;function nt(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(nt())}function Kt(p,c,l){void 0===c&&(c=!1),void 0===l&&(l=!1);var g=p.getBoundingClientRect(),T=1,k=1;c&&vi(p)&&(T=p.offsetWidth>0&&Ve(g.width)/p.offsetWidth||1,k=p.offsetHeight>0&&Ve(g.height)/p.offsetHeight||1);var re=(Fr(p)?xi(p):window).visualViewport,ge=!It()&&l,ze=(g.left+(ge&&re?re.offsetLeft:0))/T,gt=(g.top+(ge&&re?re.offsetTop:0))/k,Lt=g.width/T,vn=g.height/k;return{width:Lt,height:vn,top:gt,right:ze+Lt,bottom:gt+vn,left:ze,x:ze,y:gt}}function An(p){var c=Kt(p),l=p.offsetWidth,g=p.offsetHeight;return Math.abs(c.width-l)<=1&&(l=c.width),Math.abs(c.height-g)<=1&&(g=c.height),{x:p.offsetLeft,y:p.offsetTop,width:l,height:g}}function _n(p,c){var l=c.getRootNode&&c.getRootNode();if(p.contains(c))return!0;if(l&&bs(l)){var g=c;do{if(g&&p.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function jn(p){return xi(p).getComputedStyle(p)}function Or(p){return["table","td","th"].indexOf(ai(p))>=0}function Rn(p){return((Fr(p)?p.ownerDocument:p.document)||window.document).documentElement}function kn(p){return"html"===ai(p)?p:p.assignedSlot||p.parentNode||(bs(p)?p.host:null)||Rn(p)}function tr(p){return vi(p)&&"fixed"!==jn(p).position?p.offsetParent:null}function Ur(p){for(var c=xi(p),l=tr(p);l&&Or(l)&&"static"===jn(l).position;)l=tr(l);return l&&("html"===ai(l)||"body"===ai(l)&&"static"===jn(l).position)?c:l||function Ei(p){var c=/firefox/i.test(nt());if(/Trident/i.test(nt())&&vi(p)&&"fixed"===jn(p).position)return null;var T=kn(p);for(bs(T)&&(T=T.host);vi(T)&&["html","body"].indexOf(ai(T))<0;){var k=jn(T);if("none"!==k.transform||"none"!==k.perspective||"paint"===k.contain||-1!==["transform","perspective"].indexOf(k.willChange)||c&&"filter"===k.willChange||c&&k.filter&&"none"!==k.filter)return T;T=T.parentNode}return null}(p)||c}function Ii(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Li(p,c,l){return J(p,Se(c,l))}function Oi(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Ri(p,c){return c.reduce(function(l,g){return l[g]=p,l},{})}const Ys={name:"arrow",enabled:!0,phase:"main",fn:function Uo(p){var c,l=p.state,g=p.name,T=p.options,k=l.elements.arrow,z=l.modifiersData.popperOffsets,re=te(l.placement),ge=Ii(re),gt=[mr,Mi].indexOf(re)>=0?"height":"width";if(k&&z){var Lt=function(c,l){return Oi("number"!=typeof(c="function"==typeof c?c(Object.assign({},l.rects,{placement:l.placement})):c)?c:Ri(c,Zi))}(T.padding,l),vn=An(k),yn="y"===ge?xr:mr,bn="y"===ge?us:Mi,qt=l.rects.reference[gt]+l.rects.reference[ge]-z[ge]-l.rects.popper[gt],Pn=z[ge]-l.rects.reference[ge],fr=Ur(k),Vr=fr?"y"===ge?fr.clientHeight||0:fr.clientWidth||0:0,Wr=Vr/2-vn[gt]/2+(qt/2-Pn/2),_i=Li(Lt[yn],Wr,Vr-vn[gt]-Lt[bn]);l.modifiersData[g]=((c={})[ge]=_i,c.centerOffset=_i-Wr,c)}},effect:function ds(p){var c=p.state,g=p.options.element,T=void 0===g?"[data-popper-arrow]":g;null!=T&&("string"==typeof T&&!(T=c.elements.popper.querySelector(T))||_n(c.elements.popper,T)&&(c.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ds(p){return p.split("-")[1]}var ta={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bo(p){var c,l=p.popper,g=p.popperRect,T=p.placement,k=p.variation,z=p.offsets,re=p.position,ge=p.gpuAcceleration,ze=p.adaptive,gt=p.roundOffsets,Lt=p.isFixed,vn=z.x,yn=void 0===vn?0:vn,bn=z.y,qt=void 0===bn?0:bn,Pn="function"==typeof gt?gt({x:yn,y:qt}):{x:yn,y:qt};yn=Pn.x,qt=Pn.y;var fr=z.hasOwnProperty("x"),Vr=z.hasOwnProperty("y"),Wn=mr,sr=xr,mi=window;if(ze){var Wr=Ur(l),_i="clientHeight",Yi="clientWidth";Wr===xi(l)&&"static"!==jn(Wr=Rn(l)).position&&"absolute"===re&&(_i="scrollHeight",Yi="scrollWidth"),(T===xr||(T===mr||T===Mi)&&k===es)&&(sr=us,qt-=(Lt&&Wr===mi&&mi.visualViewport?mi.visualViewport.height:Wr[_i])-g.height,qt*=ge?1:-1),T!==mr&&(T!==xr&&T!==us||k!==es)||(Wn=Mi,yn-=(Lt&&Wr===mi&&mi.visualViewport?mi.visualViewport.width:Wr[Yi])-g.width,yn*=ge?1:-1)}var qs,fo=Object.assign({position:re},ze&&ta),Zo=!0===gt?function Qa(p,c){var g=p.y,T=c.devicePixelRatio||1;return{x:Ve(p.x*T)/T||0,y:Ve(g*T)/T||0}}({x:yn,y:qt},xi(l)):{x:yn,y:qt};return yn=Zo.x,qt=Zo.y,Object.assign({},fo,ge?((qs={})[sr]=Vr?"0":"",qs[Wn]=fr?"0":"",qs.transform=(mi.devicePixelRatio||1)<=1?"translate("+yn+"px, "+qt+"px)":"translate3d("+yn+"px, "+qt+"px, 0)",qs):((c={})[sr]=Vr?qt+"px":"",c[Wn]=fr?yn+"px":"",c.transform="",c))}const Ss={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function kc(p){var c=p.state,l=p.options,g=l.gpuAcceleration,T=void 0===g||g,k=l.adaptive,z=void 0===k||k,re=l.roundOffsets,ge=void 0===re||re,ze={placement:te(c.placement),variation:Ds(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:T,isFixed:"fixed"===c.options.strategy};null!=c.modifiersData.popperOffsets&&(c.styles.popper=Object.assign({},c.styles.popper,Bo(Object.assign({},ze,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:z,roundOffsets:ge})))),null!=c.modifiersData.arrow&&(c.styles.arrow=Object.assign({},c.styles.arrow,Bo(Object.assign({},ze,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ge})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var hs={passive:!0};const ga={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function So(p){var c=p.state,l=p.instance,g=p.options,T=g.scroll,k=void 0===T||T,z=g.resize,re=void 0===z||z,ge=xi(c.elements.popper),ze=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&ze.forEach(function(gt){gt.addEventListener("scroll",l.update,hs)}),re&&ge.addEventListener("resize",l.update,hs),function(){k&&ze.forEach(function(gt){gt.removeEventListener("scroll",l.update,hs)}),re&&ge.removeEventListener("resize",l.update,hs)}},data:{}};var Oa={left:"right",right:"left",bottom:"top",top:"bottom"};function gi(p){return p.replace(/left|right|bottom|top/g,function(c){return Oa[c]})}var ma={start:"end",end:"start"};function Ro(p){return p.replace(/start|end/g,function(c){return ma[c]})}function W(p){var c=xi(p);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function Z(p){return Kt(Rn(p)).left+W(p).scrollLeft}function He(p){var c=jn(p);return/auto|scroll|overlay|hidden/.test(c.overflow+c.overflowY+c.overflowX)}function mn(p){return["html","body","#document"].indexOf(ai(p))>=0?p.ownerDocument.body:vi(p)&&He(p)?p:mn(kn(p))}function Xn(p,c){var l;void 0===c&&(c=[]);var g=mn(p),T=g===(null==(l=p.ownerDocument)?void 0:l.body),k=xi(g),z=T?[k].concat(k.visualViewport||[],He(g)?g:[]):g,re=c.concat(z);return T?re:re.concat(Xn(kn(z)))}function ns(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function rs(p,c,l){return c===ii?ns(function U(p,c){var l=xi(p),g=Rn(p),T=l.visualViewport,k=g.clientWidth,z=g.clientHeight,re=0,ge=0;if(T){k=T.width,z=T.height;var ze=It();(ze||!ze&&"fixed"===c)&&(re=T.offsetLeft,ge=T.offsetTop)}return{width:k,height:z,x:re+Z(p),y:ge}}(p,l)):Fr(c)?function Xs(p,c){var l=Kt(p,!1,"fixed"===c);return l.top=l.top+p.clientTop,l.left=l.left+p.clientLeft,l.bottom=l.top+p.clientHeight,l.right=l.left+p.clientWidth,l.width=p.clientWidth,l.height=p.clientHeight,l.x=l.left,l.y=l.top,l}(c,l):ns(function le(p){var c,l=Rn(p),g=W(p),T=null==(c=p.ownerDocument)?void 0:c.body,k=J(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),z=J(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),re=-g.scrollLeft+Z(p),ge=-g.scrollTop;return"rtl"===jn(T||l).direction&&(re+=J(l.clientWidth,T?T.clientWidth:0)-k),{width:k,height:z,x:re,y:ge}}(Rn(p)))}function is(p){var ge,c=p.reference,l=p.element,g=p.placement,T=g?te(g):null,k=g?Ds(g):null,z=c.x+c.width/2-l.width/2,re=c.y+c.height/2-l.height/2;switch(T){case xr:ge={x:z,y:c.y-l.height};break;case us:ge={x:z,y:c.y+c.height};break;case Mi:ge={x:c.x+c.width,y:re};break;case mr:ge={x:c.x-l.width,y:re};break;default:ge={x:c.x,y:c.y}}var ze=T?Ii(T):null;if(null!=ze){var gt="y"===ze?"height":"width";switch(k){case Cs:ge[ze]=ge[ze]-(c[gt]/2-l[gt]/2);break;case es:ge[ze]=ge[ze]+(c[gt]/2-l[gt]/2)}}return ge}function Qs(p,c){void 0===c&&(c={});var g=c.placement,T=void 0===g?p.placement:g,k=c.strategy,z=void 0===k?p.strategy:k,re=c.boundary,ge=void 0===re?Dr:re,ze=c.rootBoundary,gt=void 0===ze?ii:ze,Lt=c.elementContext,vn=void 0===Lt?si:Lt,yn=c.altBoundary,bn=void 0!==yn&&yn,qt=c.padding,Pn=void 0===qt?0:qt,fr=Oi("number"!=typeof Pn?Pn:Ri(Pn,Zi)),Wn=p.rects.popper,sr=p.elements[bn?vn===si?ws:si:vn],mi=function to(p,c,l,g){var T="clippingParents"===c?function go(p){var c=Xn(kn(p)),g=["absolute","fixed"].indexOf(jn(p).position)>=0&&vi(p)?Ur(p):p;return Fr(g)?c.filter(function(T){return Fr(T)&&_n(T,g)&&"body"!==ai(T)}):[]}(p):[].concat(c),k=[].concat(T,[l]),re=k.reduce(function(ge,ze){var gt=rs(p,ze,g);return ge.top=J(gt.top,ge.top),ge.right=Se(gt.right,ge.right),ge.bottom=Se(gt.bottom,ge.bottom),ge.left=J(gt.left,ge.left),ge},rs(p,k[0],g));return re.width=re.right-re.left,re.height=re.bottom-re.top,re.x=re.left,re.y=re.top,re}(Fr(sr)?sr:sr.contextElement||Rn(p.elements.popper),ge,gt,z),Wr=Kt(p.elements.reference),_i=is({reference:Wr,element:Wn,strategy:"absolute",placement:T}),Yi=ns(Object.assign({},Wn,_i)),Xi=vn===si?Yi:Wr,Gi={top:mi.top-Xi.top+fr.top,bottom:Xi.bottom-mi.bottom+fr.bottom,left:mi.left-Xi.left+fr.left,right:Xi.right-mi.right+fr.right},fo=p.modifiersData.offset;if(vn===si&&fo){var Zo=fo[T];Object.keys(Gi).forEach(function(qs){var Eu=[Mi,us].indexOf(qs)>=0?1:-1,Ya=[xr,us].indexOf(qs)>=0?"y":"x";Gi[qs]+=Zo[Ya]*Eu})}return Gi}const ji={name:"flip",enabled:!0,phase:"main",fn:function _a(p){var c=p.state,l=p.options,g=p.name;if(!c.modifiersData[g]._skip){for(var T=l.mainAxis,k=void 0===T||T,z=l.altAxis,re=void 0===z||z,ge=l.fallbackPlacements,ze=l.padding,gt=l.boundary,Lt=l.rootBoundary,vn=l.altBoundary,yn=l.flipVariations,bn=void 0===yn||yn,qt=l.allowedAutoPlacements,Pn=c.options.placement,fr=te(Pn),Wn=ge||(fr!==Pn&&bn?function Rs(p){if(te(p)===vs)return[];var c=gi(p);return[Ro(p),c,Ro(c)]}(Pn):[gi(Pn)]),sr=[Pn].concat(Wn).reduce(function(ki,Pa){return ki.concat(te(Pa)===vs?function Fc(p,c){void 0===c&&(c={});var T=c.boundary,k=c.rootBoundary,z=c.padding,re=c.flipVariations,ge=c.allowedAutoPlacements,ze=void 0===ge?zi:ge,gt=Ds(c.placement),Lt=gt?re?oi:oi.filter(function(bn){return Ds(bn)===gt}):Zi,vn=Lt.filter(function(bn){return ze.indexOf(bn)>=0});0===vn.length&&(vn=Lt);var yn=vn.reduce(function(bn,qt){return bn[qt]=Qs(p,{placement:qt,boundary:T,rootBoundary:k,padding:z})[te(qt)],bn},{});return Object.keys(yn).sort(function(bn,qt){return yn[bn]-yn[qt]})}(c,{placement:Pa,boundary:gt,rootBoundary:Lt,padding:ze,flipVariations:bn,allowedAutoPlacements:qt}):Pa)},[]),mi=c.rects.reference,Wr=c.rects.popper,_i=new Map,Yi=!0,Xi=sr[0],Gi=0;Gi<sr.length;Gi++){var fo=sr[Gi],Zo=te(fo),qs=Ds(fo)===Cs,Eu=[xr,us].indexOf(Zo)>=0,Ya=Eu?"width":"height",Nn=Qs(c,{placement:fo,boundary:gt,rootBoundary:Lt,altBoundary:vn,padding:ze}),qn=Eu?qs?Mi:mr:qs?us:xr;mi[Ya]>Wr[Ya]&&(qn=gi(qn));var vr=gi(qn),Kr=[];if(k&&Kr.push(Nn[Zo]<=0),re&&Kr.push(Nn[qn]<=0,Nn[vr]<=0),Kr.every(function(ki){return ki})){Xi=fo,Yi=!1;break}_i.set(fo,Kr)}if(Yi)for(var Ra=function(Pa){var tp=sr.find(function(lo){var Ma=_i.get(lo);if(Ma)return Ma.slice(0,Pa).every(function(ea){return ea})});if(tp)return Xi=tp,"break"},po=bn?3:1;po>0&&"break"!==Ra(po);po--);c.placement!==Xi&&(c.modifiersData[g]._skip=!0,c.placement=Xi,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Al(p,c,l){return void 0===l&&(l={x:0,y:0}),{top:p.top-c.height-l.y,right:p.right-c.width+l.x,bottom:p.bottom-c.height+l.y,left:p.left-c.width-l.x}}function ss(p){return[xr,Mi,us,mr].some(function(c){return p[c]>=0})}const no={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ja(p){var c=p.state,l=p.name,g=c.rects.reference,T=c.rects.popper,k=c.modifiersData.preventOverflow,z=Qs(c,{elementContext:"reference"}),re=Qs(c,{altBoundary:!0}),ge=Al(z,g),ze=Al(re,T,k),gt=ss(ge),Lt=ss(ze);c.modifiersData[l]={referenceClippingOffsets:ge,popperEscapeOffsets:ze,isReferenceHidden:gt,hasPopperEscaped:Lt},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":gt,"data-popper-escaped":Lt})}},va={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ps(p){var c=p.state,g=p.name,T=p.options.offset,k=void 0===T?[0,0]:T,z=zi.reduce(function(gt,Lt){return gt[Lt]=function ya(p,c,l){var g=te(p),T=[mr,xr].indexOf(g)>=0?-1:1,k="function"==typeof l?l(Object.assign({},c,{placement:p})):l,z=k[0],re=k[1];return z=z||0,re=(re||0)*T,[mr,Mi].indexOf(g)>=0?{x:re,y:z}:{x:z,y:re}}(Lt,c.rects,k),gt},{}),re=z[c.placement],ze=re.y;null!=c.modifiersData.popperOffsets&&(c.modifiersData.popperOffsets.x+=re.x,c.modifiersData.popperOffsets.y+=ze),c.modifiersData[g]=z}},Za={name:"popperOffsets",enabled:!0,phase:"read",fn:function Na(p){var c=p.state;c.modifiersData[p.name]=is({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},Dl={name:"preventOverflow",enabled:!0,phase:"main",fn:function yr(p){var c=p.state,l=p.options,g=p.name,T=l.mainAxis,k=void 0===T||T,z=l.altAxis,re=void 0!==z&&z,vn=l.tether,yn=void 0===vn||vn,bn=l.tetherOffset,qt=void 0===bn?0:bn,Pn=Qs(c,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),fr=te(c.placement),Vr=Ds(c.placement),Wn=!Vr,sr=Ii(fr),mi=function bu(p){return"x"===p?"y":"x"}(sr),Wr=c.modifiersData.popperOffsets,_i=c.rects.reference,Yi=c.rects.popper,Xi="function"==typeof qt?qt(Object.assign({},c.rects,{placement:c.placement})):qt,Gi="number"==typeof Xi?{mainAxis:Xi,altAxis:Xi}:Object.assign({mainAxis:0,altAxis:0},Xi),fo=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Zo={x:0,y:0};if(Wr){if(k){var qs,Eu="y"===sr?xr:mr,Ya="y"===sr?us:Mi,Nn="y"===sr?"height":"width",qn=Wr[sr],vr=qn+Pn[Eu],Kr=qn-Pn[Ya],Us=yn?-Yi[Nn]/2:0,Ra=Vr===Cs?_i[Nn]:Yi[Nn],po=Vr===Cs?-Yi[Nn]:-_i[Nn],Cl=c.elements.arrow,ki=yn&&Cl?An(Cl):{width:0,height:0},Pa=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tp=Pa[Eu],lo=Pa[Ya],Ma=Li(0,_i[Nn],ki[Nn]),ea=Wn?_i[Nn]/2-Us-Ma-tp-Gi.mainAxis:Ra-Ma-tp-Gi.mainAxis,np=Wn?-_i[Nn]/2+Us+Ma+lo+Gi.mainAxis:po+Ma+lo+Gi.mainAxis,Fh=c.elements.arrow&&Ur(c.elements.arrow),lb=Fh?"y"===sr?Fh.clientTop||0:Fh.clientLeft||0:0,Qv=null!=(qs=fo?.[sr])?qs:0,ub=qn+np-Qv,db=Li(yn?Se(vr,qn+ea-Qv-lb):vr,qn,yn?J(Kr,ub):Kr);Wr[sr]=db,Zo[sr]=db-qn}if(re){var hb,Lh=Wr[mi],rp="y"===mi?"height":"width",h0=Lh+Pn["x"===sr?xr:mr],f0=Lh-Pn["x"===sr?us:Mi],Dy=-1!==[xr,mr].indexOf(fr),Ag=null!=(hb=fo?.[mi])?hb:0,p0=Dy?h0:Lh-_i[rp]-Yi[rp]-Ag+Gi.altAxis,g0=Dy?Lh+_i[rp]+Yi[rp]-Ag-Gi.altAxis:f0,m0=yn&&Dy?function Si(p,c,l){var g=Li(p,c,l);return g>l?l:g}(p0,Lh,g0):Li(yn?p0:h0,Lh,yn?g0:f0);Wr[mi]=m0,Zo[mi]=m0-Lh}c.modifiersData[g]=Zo}},requiresIfExists:["offset"]};function Tu(p,c,l){void 0===l&&(l=!1);var g=vi(c),T=vi(c)&&function el(p){var c=p.getBoundingClientRect(),l=Ve(c.width)/p.offsetWidth||1,g=Ve(c.height)/p.offsetHeight||1;return 1!==l||1!==g}(c),k=Rn(c),z=Kt(p,T,l),re={scrollLeft:0,scrollTop:0},ge={x:0,y:0};return(g||!g&&!l)&&(("body"!==ai(c)||He(k))&&(re=function jo(p){return p!==xi(p)&&vi(p)?function mo(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):W(p)}(c)),vi(c)?((ge=Kt(c,!0)).x+=c.clientLeft,ge.y+=c.clientTop):k&&(ge.x=Z(k))),{x:z.left+re.scrollLeft-ge.x,y:z.top+re.scrollTop-ge.y,width:z.width,height:z.height}}function Sl(p){var c=new Map,l=new Set,g=[];function T(k){l.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(re){if(!l.has(re)){var ge=c.get(re);ge&&T(ge)}}),g.push(k)}return p.forEach(function(k){c.set(k.name,k)}),p.forEach(function(k){l.has(k.name)||T(k)}),g}function tl(p){var c;return function(){return c||(c=new Promise(function(l){Promise.resolve().then(function(){c=void 0,l(p())})})),c}}var nl={placement:"bottom",modifiers:[],strategy:"absolute"};function Po(){for(var p=arguments.length,c=new Array(p),l=0;l<p;l++)c[l]=arguments[l];return!c.some(function(g){return!(g&&"function"==typeof g.getBoundingClientRect)})}function ka(p){void 0===p&&(p={});var l=p.defaultModifiers,g=void 0===l?[]:l,T=p.defaultOptions,k=void 0===T?nl:T;return function(re,ge,ze){void 0===ze&&(ze=k);var gt={placement:"bottom",orderedModifiers:[],options:Object.assign({},nl,k),modifiersData:{},elements:{reference:re,popper:ge},attributes:{},styles:{}},Lt=[],vn=!1,yn={state:gt,setOptions:function(fr){var Vr="function"==typeof fr?fr(gt.options):fr;qt(),gt.options=Object.assign({},k,gt.options,Vr),gt.scrollParents={reference:Fr(re)?Xn(re):re.contextElement?Xn(re.contextElement):[],popper:Xn(ge)};var Wn=function Vh(p){var c=Sl(p);return ts.reduce(function(l,g){return l.concat(c.filter(function(T){return T.phase===g}))},[])}(function Iu(p){var c=p.reduce(function(l,g){var T=l[g.name];return l[g.name]=T?Object.assign({},T,g,{options:Object.assign({},T.options,g.options),data:Object.assign({},T.data,g.data)}):g,l},{});return Object.keys(c).map(function(l){return c[l]})}([].concat(g,gt.options.modifiers)));return gt.orderedModifiers=Wn.filter(function(sr){return sr.enabled}),function bn(){gt.orderedModifiers.forEach(function(Pn){var Vr=Pn.options,sr=Pn.effect;if("function"==typeof sr){var mi=sr({state:gt,name:Pn.name,instance:yn,options:void 0===Vr?{}:Vr});Lt.push(mi||function(){})}})}(),yn.update()},forceUpdate:function(){if(!vn){var fr=gt.elements,Vr=fr.reference,Wn=fr.popper;if(Po(Vr,Wn)){gt.rects={reference:Tu(Vr,Ur(Wn),"fixed"===gt.options.strategy),popper:An(Wn)},gt.reset=!1,gt.placement=gt.options.placement,gt.orderedModifiers.forEach(function(Gi){return gt.modifiersData[Gi.name]=Object.assign({},Gi.data)});for(var sr=0;sr<gt.orderedModifiers.length;sr++)if(!0!==gt.reset){var mi=gt.orderedModifiers[sr],Wr=mi.fn,_i=mi.options;"function"==typeof Wr&&(gt=Wr({state:gt,options:void 0===_i?{}:_i,name:mi.name,instance:yn})||gt)}else gt.reset=!1,sr=-1}}},update:tl(function(){return new Promise(function(Pn){yn.forceUpdate(),Pn(gt)})}),destroy:function(){qt(),vn=!0}};if(!Po(re,ge))return yn;function qt(){Lt.forEach(function(Pn){return Pn()}),Lt=[]}return yn.setOptions(ze).then(function(Pn){!vn&&ze.onFirstUpdate&&ze.onFirstUpdate(Pn)}),yn}}var Fa=ka(),Ea=ka({defaultModifiers:[ga,Za,Ss,As,va,ji,Dl,Ys,no]}),Lc=ka({defaultModifiers:[ga,Za,Ss,As]});const P=new Map,ne={set(p,c,l){P.has(p)||P.set(p,new Map);const g=P.get(p);g.has(c)||0===g.size?g.set(c,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(p,c)=>P.has(p)&&P.get(p).get(c)||null,remove(p,c){if(!P.has(p))return;const l=P.get(p);l.delete(c),0===l.size&&P.delete(p)}},xe="transitionend",St=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(c,l)=>`#${CSS.escape(l)}`)),p),hi=p=>{p.dispatchEvent(new Event(xe))},Nr=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),er=p=>Nr(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(St(p)):null,Br=p=>{if(!Nr(p)||0===p.getClientRects().length)return!1;const c="visible"===getComputedStyle(p).getPropertyValue("visibility"),l=p.closest("details:not([open])");if(!l)return c;if(l!==p){const g=p.closest("summary");if(g&&g.parentNode!==l||null===g)return!1}return c},Qr=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),Ai=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const c=p.getRootNode();return c instanceof ShadowRoot?c:null}return p instanceof ShadowRoot?p:p.parentNode?Ai(p.parentNode):null},js=()=>{},$o=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ms=[],Ci=()=>"rtl"===document.documentElement.dir,qi=p=>{(p=>{"loading"===document.readyState?(Ms.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of Ms)c()}),Ms.push(p)):p()})(()=>{const c=$o();if(c){const l=p.NAME,g=c.fn[l];c.fn[l]=p.jQueryInterface,c.fn[l].Constructor=p,c.fn[l].noConflict=()=>(c.fn[l]=g,p.jQueryInterface)}})},uo=(p,c=[],l=p)=>"function"==typeof p?p(...c):l,Cr=(p,c,l=!0)=>{if(!l)return void uo(p);const T=(p=>{if(!p)return 0;let{transitionDuration:c,transitionDelay:l}=window.getComputedStyle(p);const g=Number.parseFloat(c),T=Number.parseFloat(l);return g||T?(c=c.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(c)+Number.parseFloat(l))):0})(c)+5;let k=!1;const z=({target:re})=>{re===c&&(k=!0,c.removeEventListener(xe,z),uo(p))};c.addEventListener(xe,z),setTimeout(()=>{k||hi(c)},T)},Rr=(p,c,l,g)=>{const T=p.length;let k=p.indexOf(c);return-1===k?!l&&g?p[T-1]:p[0]:(k+=l?1:-1,g&&(k=(k+T)%T),p[Math.max(0,Math.min(k,T-1))])},Rl=/[^.]*(?=\..*)\.|.*/,ro=/\..*/,Cu=/::\d+$/,Vc={};let Pl=1;const Vi={mouseenter:"mouseover",mouseleave:"mouseout"},Uh=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Uc(p,c){return c&&`${c}::${Pl++}`||p.uidEvent||Pl++}function Ho(p){const c=Uc(p);return p.uidEvent=c,Vc[c]=Vc[c]||{},Vc[c]}function Ml(p,c,l=null){return Object.values(p).find(g=>g.callable===c&&g.delegationSelector===l)}function wu(p,c,l){const g="string"==typeof c,T=g?l:c||l;let k=ar(p);return Uh.has(k)||(k=p),[g,T,k]}function Au(p,c,l,g,T){if("string"!=typeof c||!p)return;let[k,z,re]=wu(c,l,g);var bn;c in Vi&&(bn=z,z=function(qt){if(!qt.relatedTarget||qt.relatedTarget!==qt.delegateTarget&&!qt.delegateTarget.contains(qt.relatedTarget))return bn.call(this,qt)});const ge=Ho(p),ze=ge[re]||(ge[re]={}),gt=Ml(ze,z,k?l:null);if(gt)return void(gt.oneOff=gt.oneOff&&T);const Lt=Uc(z,c.replace(Rl,"")),vn=k?function La(p,c,l){return function g(T){const k=p.querySelectorAll(c);for(let{target:z}=T;z&&z!==this;z=z.parentNode)for(const re of k)if(re===z)return rc(T,{delegateTarget:z}),g.oneOff&&Zt.off(p,T.type,c,l),l.apply(z,[T])}}(p,l,z):function xs(p,c){return function l(g){return rc(g,{delegateTarget:p}),l.oneOff&&Zt.off(p,g.type,c),c.apply(p,[g])}}(p,z);vn.delegationSelector=k?l:null,vn.callable=z,vn.oneOff=T,vn.uidEvent=Lt,ze[Lt]=vn,p.addEventListener(re,vn,k)}function Bc(p,c,l,g,T){const k=Ml(c[l],g,T);k&&(p.removeEventListener(l,k,!!T),delete c[l][k.uidEvent])}function Du(p,c,l,g){const T=c[l]||{};for(const[k,z]of Object.entries(T))k.includes(g)&&Bc(p,c,l,z.callable,z.delegationSelector)}function ar(p){return p=p.replace(ro,""),Vi[p]||p}const Zt={on(p,c,l,g){Au(p,c,l,g,!1)},one(p,c,l,g){Au(p,c,l,g,!0)},off(p,c,l,g){if("string"!=typeof c||!p)return;const[T,k,z]=wu(c,l,g),re=z!==c,ge=Ho(p),ze=ge[z]||{},gt=c.startsWith(".");if(typeof k<"u"){if(!Object.keys(ze).length)return;Bc(p,ge,z,k,T?l:null)}else{if(gt)for(const Lt of Object.keys(ge))Du(p,ge,Lt,c.slice(1));for(const[Lt,vn]of Object.entries(ze)){const yn=Lt.replace(Cu,"");(!re||c.includes(yn))&&Bc(p,ge,z,vn.callable,vn.delegationSelector)}}},trigger(p,c,l){if("string"!=typeof c||!p)return null;const g=$o();let z=null,re=!0,ge=!0,ze=!1;c!==ar(c)&&g&&(z=g.Event(c,l),g(p).trigger(z),re=!z.isPropagationStopped(),ge=!z.isImmediatePropagationStopped(),ze=z.isDefaultPrevented());const gt=rc(new Event(c,{bubbles:re,cancelable:!0}),l);return ze&&gt.preventDefault(),ge&&p.dispatchEvent(gt),gt.defaultPrevented&&z&&z.preventDefault(),gt}};function rc(p,c={}){for(const[l,g]of Object.entries(c))try{p[l]=g}catch{Object.defineProperty(p,l,{configurable:!0,get:()=>g})}return p}function na(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function xl(p){return p.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const ba={setDataAttribute(p,c,l){p.setAttribute(`data-bs-${xl(c)}`,l)},removeDataAttribute(p,c){p.removeAttribute(`data-bs-${xl(c)}`)},getDataAttributes(p){if(!p)return{};const c={},l=Object.keys(p.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of l){let T=g.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),c[T]=na(p.dataset[g])}return c},getDataAttribute:(p,c)=>na(p.getAttribute(`data-bs-${xl(c)}`))};class sl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,l){const g=Nr(l)?ba.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof g?g:{},...Nr(l)?ba.getDataAttributes(l):{},..."object"==typeof c?c:{}}}_typeCheckConfig(c,l=this.constructor.DefaultType){for(const[g,T]of Object.entries(l)){const k=c[g],z=Nr(k)?"element":null==(p=k)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${z}" but expected type "${T}".`)}var p}}class Mo extends sl{constructor(c,l){super(),(c=er(c))&&(this._element=c,this._config=this._getConfig(l),ne.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ne.remove(this._element,this.constructor.DATA_KEY),Zt.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,l,g=!0){Cr(c,l,g)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return ne.get(er(c),this.DATA_KEY)}static getOrCreateInstance(c,l={}){return this.getInstance(c)||new this(c,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const ic=p=>{let c=p.getAttribute("data-bs-target");if(!c||"#"===c){let l=p.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),c=l&&"#"!==l?l.trim():null}return c?c.split(",").map(l=>St(l)).join(","):null},Dn={find:(p,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,p)),findOne:(p,c=document.documentElement)=>Element.prototype.querySelector.call(c,p),children:(p,c)=>[].concat(...p.children).filter(l=>l.matches(c)),parents(p,c){const l=[];let g=p.parentNode.closest(c);for(;g;)l.push(g),g=g.parentNode.closest(c);return l},prev(p,c){let l=p.previousElementSibling;for(;l;){if(l.matches(c))return[l];l=l.previousElementSibling}return[]},next(p,c){let l=p.nextElementSibling;for(;l;){if(l.matches(c))return[l];l=l.nextElementSibling}return[]},focusableChildren(p){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(c,p).filter(l=>!Qr(l)&&Br(l))},getSelectorFromElement(p){const c=ic(p);return c&&Dn.findOne(c)?c:null},getElementFromSelector(p){const c=ic(p);return c?Dn.findOne(c):null},getMultipleElementsFromSelector(p){const c=ic(p);return c?Dn.find(c):[]}},Va=(p,c="hide")=>{const g=p.NAME;Zt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${g}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),Qr(this))return;const k=Dn.getElementFromSelector(this)||this.closest(`.${g}`);p.getOrCreateInstance(k)[c]()})},Pr=".bs.alert",zo=`close${Pr}`,fs=`closed${Pr}`;class Ta extends Mo{static get NAME(){return"alert"}close(){if(Zt.trigger(this._element,zo).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Zt.trigger(this._element,fs),this.dispose()}static jQueryInterface(c){return this.each(function(){const l=Ta.getOrCreateInstance(this);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c](this)}})}}Va(Ta,"close"),qi(Ta);const Ua='[data-bs-toggle="button"]';class Gs extends Mo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const l=Gs.getOrCreateInstance(this);"toggle"===c&&l[c]()})}}Zt.on(document,"click.bs.button.data-api",Ua,p=>{p.preventDefault();const c=p.target.closest(Ua);Gs.getOrCreateInstance(c).toggle()}),qi(Gs);const Oo=".bs.swipe",_o=`touchstart${Oo}`,Sd=`touchmove${Oo}`,Gc=`touchend${Oo}`,sp=`pointerdown${Oo}`,Rd=`pointerup${Oo}`,O={endCallback:null,leftCallback:null,rightCallback:null},w={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class N extends sl{constructor(c,l){super(),this._element=c,c&&N.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return O}static get DefaultType(){return w}static get NAME(){return"swipe"}dispose(){Zt.off(this._element,Oo)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),uo(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const l=c/this._deltaX;this._deltaX=0,l&&uo(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Zt.on(this._element,sp,c=>this._start(c)),Zt.on(this._element,Rd,c=>this._end(c)),this._element.classList.add("pointer-event")):(Zt.on(this._element,_o,c=>this._start(c)),Zt.on(this._element,Sd,c=>this._move(c)),Zt.on(this._element,Gc,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&("pen"===c.pointerType||"touch"===c.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Pe=".bs.carousel",wt=".data-api",hr="next",wr="prev",Hr="left",ia="right",Nl=`slide${Pe}`,ol=`slid${Pe}`,kl=`keydown${Pe}`,Mu=`mouseenter${Pe}`,Bh=`mouseleave${Pe}`,al=`dragstart${Pe}`,sa=`load${Pe}${wt}`,jh=`click${Pe}${wt}`,Ca="carousel",ll="active",yo=".active",Wo=".carousel-item",Fl=yo+Wo,Fu={ArrowLeft:ia,ArrowRight:Hr},op={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ap={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cl extends Mo{constructor(c,l){super(c,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Dn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ca&&this.cycle()}static get Default(){return op}static get DefaultType(){return ap}static get NAME(){return"carousel"}next(){this._slide(hr)}nextWhenVisible(){!document.hidden&&Br(this._element)&&this.next()}prev(){this._slide(wr)}pause(){this._isSliding&&hi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Zt.one(this._element,ol,()=>this.cycle());this.cycle()}}to(c){const l=this._getItems();if(c>l.length-1||c<0)return;if(this._isSliding)return void Zt.one(this._element,ol,()=>this.to(c));const g=this._getItemIndex(this._getActive());g!==c&&this._slide(c>g?hr:wr,l[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Zt.on(this._element,kl,c=>this._keydown(c)),"hover"===this._config.pause&&(Zt.on(this._element,Mu,()=>this.pause()),Zt.on(this._element,Bh,()=>this._maybeEnableCycle())),this._config.touch&&N.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Dn.find(".carousel-item img",this._element))Zt.on(g,al,T=>T.preventDefault());this._swipeHelper=new N(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Hr)),rightCallback:()=>this._slide(this._directionToOrder(ia)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const l=Fu[c.key];l&&(c.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const l=Dn.findOne(yo,this._indicatorsElement);l.classList.remove(ll),l.removeAttribute("aria-current");const g=Dn.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);g&&(g.classList.add(ll),g.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const l=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(c,l=null){if(this._isSliding)return;const g=this._getActive(),T=c===hr,k=l||Rr(this._getItems(),g,T,this._config.wrap);if(k===g)return;const z=this._getItemIndex(k),re=yn=>Zt.trigger(this._element,yn,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(g),to:z});if(re(Nl).defaultPrevented||!g||!k)return;const ze=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=k;const gt=T?"carousel-item-start":"carousel-item-end",Lt=T?"carousel-item-next":"carousel-item-prev";k.classList.add(Lt),g.classList.add(gt),k.classList.add(gt),this._queueCallback(()=>{k.classList.remove(gt,Lt),k.classList.add(ll),g.classList.remove(ll,Lt,gt),this._isSliding=!1,re(ol)},g,this._isAnimated()),ze&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Dn.findOne(Fl,this._element)}_getItems(){return Dn.find(Wo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Ci()?c===Hr?wr:hr:c===Hr?hr:wr}_orderToDirection(c){return Ci()?c===wr?Hr:ia:c===wr?ia:Hr}static jQueryInterface(c){return this.each(function(){const l=cl.getOrCreateInstance(this,c);if("number"!=typeof c){if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}}else l.to(c)})}}Zt.on(document,jh,"[data-bs-slide], [data-bs-slide-to]",function(p){const c=Dn.getElementFromSelector(this);if(!c||!c.classList.contains(Ca))return;p.preventDefault();const l=cl.getOrCreateInstance(c),g=this.getAttribute("data-bs-slide-to");return g?(l.to(g),void l._maybeEnableCycle()):"next"===ba.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Zt.on(window,sa,()=>{const p=Dn.find('[data-bs-ride="carousel"]');for(const c of p)cl.getOrCreateInstance(c)}),qi(cl);const wa=".bs.collapse",ul=`show${wa}`,lp=`shown${wa}`,zh=`hide${wa}`,Aa=`hidden${wa}`,Vu=`click${wa}.data-api`,io="show",dl="collapse",ja="collapsing",Wh=`:scope .${dl} .${dl}`,fl='[data-bs-toggle="collapse"]',Uu={parent:null,toggle:!0},Ul={parent:"(null|element)",toggle:"boolean"};class Bu extends Mo{constructor(c,l){super(c,l),this._isTransitioning=!1,this._triggerArray=[];const g=Dn.find(fl);for(const T of g){const k=Dn.getSelectorFromElement(T),z=Dn.find(k).filter(re=>re===this._element);null!==k&&z.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Uu}static get DefaultType(){return Ul}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(re=>re!==this._element).map(re=>Bu.getOrCreateInstance(re,{toggle:!1}))),c.length&&c[0]._isTransitioning||Zt.trigger(this._element,ul).defaultPrevented)return;for(const re of c)re.hide();const g=this._getDimension();this._element.classList.remove(dl),this._element.classList.add(ja),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ja),this._element.classList.add(dl,io),this._element.style[g]="",Zt.trigger(this._element,lp)},this._element,!0),this._element.style[g]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||Zt.trigger(this._element,zh).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(ja),this._element.classList.remove(dl,io);for(const T of this._triggerArray){const k=Dn.getElementFromSelector(T);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ja),this._element.classList.add(dl),Zt.trigger(this._element,Aa)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(io)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=er(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(fl);for(const l of c){const g=Dn.getElementFromSelector(l);g&&this._addAriaAndCollapsedClass([l],this._isShown(g))}}_getFirstLevelChildren(c){const l=Dn.find(Wh,this._config.parent);return Dn.find(c,this._config.parent).filter(g=>!l.includes(g))}_addAriaAndCollapsedClass(c,l){if(c.length)for(const g of c)g.classList.toggle("collapsed",!l),g.setAttribute("aria-expanded",l)}static jQueryInterface(c){const l={};return"string"==typeof c&&/show|hide/.test(c)&&(l.toggle=!1),this.each(function(){const g=Bu.getOrCreateInstance(this,l);if("string"==typeof c){if(typeof g[c]>"u")throw new TypeError(`No method named "${c}"`);g[c]()}})}}Zt.on(document,Vu,fl,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const c of Dn.getMultipleElementsFromSelector(this))Bu.getOrCreateInstance(c,{toggle:!1}).toggle()}),qi(Bu);const oa="dropdown",No=".bs.dropdown",lc=".data-api",qh="ArrowUp",Hs="ArrowDown",cc=`hide${No}`,xd=`hidden${No}`,dp=`show${No}`,Od=`shown${No}`,ju=`click${No}${lc}`,Bl=`keydown${No}${lc}`,Ko=`keyup${No}${lc}`,so="show",zc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rg=`${zc}.${so}`,$u=".dropdown-menu",Wc=Ci()?"top-end":"top-start",Pg=Ci()?"top-start":"top-end",Qh=Ci()?"bottom-end":"bottom-start",zs=Ci()?"bottom-start":"bottom-end",kd=Ci()?"left-start":"right-start",jl=Ci()?"right-start":"left-start",$l={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class oo extends Mo{constructor(c,l){super(c,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Dn.next(this._element,$u)[0]||Dn.prev(this._element,$u)[0]||Dn.findOne($u,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $l}static get DefaultType(){return Fd}static get NAME(){return oa}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qr(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Zt.trigger(this._element,dp,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))Zt.on(g,"mouseover",js);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(so),this._element.classList.add(so),Zt.trigger(this._element,Od,c)}}hide(){!Qr(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Zt.trigger(this._element,cc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))Zt.off(g,"mouseover",js);this._popper&&this._popper.destroy(),this._menu.classList.remove(so),this._element.classList.remove(so),this._element.setAttribute("aria-expanded","false"),ba.removeDataAttribute(this._menu,"popper"),Zt.trigger(this._element,xd,c)}}_getConfig(c){if("object"==typeof(c=super._getConfig(c)).reference&&!Nr(c.reference)&&"function"!=typeof c.reference.getBoundingClientRect)throw new TypeError(`${oa.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;"parent"===this._config.reference?c=this._parent:Nr(this._config.reference)?c=er(this._config.reference):"object"==typeof this._config.reference&&(c=this._config.reference);const l=this._getPopperConfig();this._popper=Ea(c,this._menu,l)}_isShown(){return this._menu.classList.contains(so)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return kd;if(c.classList.contains("dropstart"))return jl;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return c.classList.contains("dropup")?l?Pg:Wc:l?zs:Qh}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof c?l=>c(l,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ba.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...uo(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:l}){const g=Dn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Br(T));g.length&&Rr(g,l,c===Hs,!g.includes(l)).focus()}static jQueryInterface(c){return this.each(function(){const l=oo.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}static clearMenus(c){if(2===c.button||"keyup"===c.type&&"Tab"!==c.key)return;const l=Dn.find(Rg);for(const g of l){const T=oo.getInstance(g);if(!T||!1===T._config.autoClose)continue;const k=c.composedPath(),z=k.includes(T._menu);if(k.includes(T._element)||"inside"===T._config.autoClose&&!z||"outside"===T._config.autoClose&&z||T._menu.contains(c.target)&&("keyup"===c.type&&"Tab"===c.key||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const re={relatedTarget:T._element};"click"===c.type&&(re.clickEvent=c),T._completeHide(re)}}static dataApiKeydownHandler(c){const l=/input|textarea/i.test(c.target.tagName),g="Escape"===c.key,T=[qh,Hs].includes(c.key);if(!T&&!g||l&&!g)return;c.preventDefault();const k=this.matches(zc)?this:Dn.prev(this,zc)[0]||Dn.next(this,zc)[0]||Dn.findOne(zc,c.delegateTarget.parentNode),z=oo.getOrCreateInstance(k);if(T)return c.stopPropagation(),z.show(),void z._selectMenuItem(c);z._isShown()&&(c.stopPropagation(),z.hide(),k.focus())}}Zt.on(document,Bl,zc,oo.dataApiKeydownHandler),Zt.on(document,Bl,$u,oo.dataApiKeydownHandler),Zt.on(document,ju,oo.clearMenus),Zt.on(document,Ko,oo.clearMenus),Zt.on(document,ju,zc,function(p){p.preventDefault(),oo.getOrCreateInstance(this).toggle()}),qi(oo);const gl="backdrop",hp=`mousedown.bs.${gl}`,Mg={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Gu extends sl{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return Mg}static get DefaultType(){return Yo}static get NAME(){return gl}show(c){if(!this._config.isVisible)return void uo(c);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{uo(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),uo(c)})):uo(c)}dispose(){this._isAppended&&(Zt.off(this._element,hp),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=er(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Zt.on(c,hp,()=>{uo(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Cr(c,this._getElement(),this._config.isAnimated)}}const Hu=".bs.focustrap",Vd=`focusin${Hu}`,xg=`keydown.tab${Hu}`,_l="backward",Kc={autofocus:!0,trapElement:null},Ud={autofocus:"boolean",trapElement:"element"};class $a extends sl{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Kc}static get DefaultType(){return Ud}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Zt.off(document,Hu),Zt.on(document,Vd,c=>this._handleFocusin(c)),Zt.on(document,xg,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Zt.off(document,Hu))}_handleFocusin(c){const{trapElement:l}=this._config;if(c.target===document||c.target===l||l.contains(c.target))return;const g=Dn.focusableChildren(l);0===g.length?l.focus():this._lastTabNavDirection===_l?g[g.length-1].focus():g[0].focus()}_handleKeydown(c){"Tab"===c.key&&(this._lastTabNavDirection=c.shiftKey?_l:"forward")}}const Bd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yl=".sticky-top",qc="padding-right",Yc="margin-right";class zu{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qc,l=>l+c),this._setElementAttributes(Bd,qc,l=>l+c),this._setElementAttributes(yl,Yc,l=>l-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qc),this._resetElementAttributes(Bd,qc),this._resetElementAttributes(yl,Yc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,l,g){const T=this.getWidth();this._applyManipulationCallback(c,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+T)return;this._saveInitialAttribute(z,l);const re=window.getComputedStyle(z).getPropertyValue(l);z.style.setProperty(l,`${g(Number.parseFloat(re))}px`)})}_saveInitialAttribute(c,l){const g=c.style.getPropertyValue(l);g&&ba.setDataAttribute(c,l,g)}_resetElementAttributes(c,l){this._applyManipulationCallback(c,T=>{const k=ba.getDataAttribute(T,l);null!==k?(ba.removeDataAttribute(T,l),T.style.setProperty(l,k)):T.style.removeProperty(l)})}_applyManipulationCallback(c,l){if(Nr(c))l(c);else for(const g of Dn.find(c,this._element))l(g)}}const ho=".bs.modal",Gd=`hide${ho}`,vl=`hidePrevented${ho}`,El=`hidden${ho}`,C=`show${ho}`,_=`shown${ho}`,v=`resize${ho}`,S=`click.dismiss${ho}`,X=`mousedown.dismiss${ho}`,he=`keydown.dismiss${ho}`,Qe=`click${ho}.data-api`,Pt="modal-open",Mn="modal-static",Hd={backdrop:!0,focus:!0,keyboard:!0},zd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ga extends Mo{constructor(c,l){super(c,l),this._dialog=Dn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zu,this._addEventListeners()}static get Default(){return Hd}static get DefaultType(){return zd}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Zt.trigger(this._element,C,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Pt),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||Zt.trigger(this._element,Gd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Zt.off(window,ho),Zt.off(this._dialog,ho),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Gu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $a({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Dn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Zt.trigger(this._element,_,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){Zt.on(this._element,he,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Zt.on(window,v,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Zt.on(this._element,X,c=>{Zt.one(this._element,S,l=>{if(this._element===c.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Pt),this._resetAdjustments(),this._scrollBar.reset(),Zt.trigger(this._element,El)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Zt.trigger(this._element,vl).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;"hidden"===g||this._element.classList.contains(Mn)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Mn),this._queueCallback(()=>{this._element.classList.remove(Mn),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),g=l>0;if(g&&!c){const T=Ci()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!g&&c){const T=Ci()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,l){return this.each(function(){const g=Ga.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof g[c]>"u")throw new TypeError(`No method named "${c}"`);g[c](l)}})}}Zt.on(document,Qe,'[data-bs-toggle="modal"]',function(p){const c=Dn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Zt.one(c,C,T=>{T.defaultPrevented||Zt.one(c,El,()=>{Br(this)&&this.focus()})});const l=Dn.findOne(".modal.show");l&&Ga.getInstance(l).hide(),Ga.getOrCreateInstance(c).toggle(this)}),Va(Ga),qi(Ga);const la=".bs.offcanvas",gp=".data-api",Xc=`load${la}${gp}`,Wu="showing",qu=".offcanvas.show",kg=`show${la}`,mp=`shown${la}`,_p=`hide${la}`,ca=`hidePrevented${la}`,yp=`hidden${la}`,u_=`resize${la}`,Wd=`click${la}${gp}`,vp=`keydown.dismiss${la}`,xy={backdrop:!0,keyboard:!0,scroll:!1},Fg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Jc extends Mo{constructor(c,l){super(c,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xy}static get DefaultType(){return Fg}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||Zt.trigger(this._element,kg,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new zu).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wu),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Wu),Zt.trigger(this._element,mp,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&!Zt.trigger(this._element,_p).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new zu).reset(),Zt.trigger(this._element,yp)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Gu({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Zt.trigger(this._element,ca)}:null})}_initializeFocusTrap(){return new $a({trapElement:this._element})}_addEventListeners(){Zt.on(this._element,vp,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();Zt.trigger(this._element,ca)}})}static jQueryInterface(c){return this.each(function(){const l=Jc.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c](this)}})}}Zt.on(document,Wd,'[data-bs-toggle="offcanvas"]',function(p){const c=Dn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Qr(this))return;Zt.one(c,yp,()=>{Br(this)&&this.focus()});const l=Dn.findOne(qu);l&&l!==c&&Jc.getInstance(l).hide(),Jc.getOrCreateInstance(c).toggle(this)}),Zt.on(window,Xc,()=>{for(const p of Dn.find(qu))Jc.getOrCreateInstance(p).show()}),Zt.on(window,u_,()=>{for(const p of Dn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&Jc.getOrCreateInstance(p).hide()}),Va(Jc),qi(Jc);const Yu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Vg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),d_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qd=(p,c)=>{const l=p.nodeName.toLowerCase();return c.includes(l)?!Vg.has(l)||!!d_.test(p.nodeValue):c.filter(g=>g instanceof RegExp).some(g=>g.test(l))},Ny={allowList:Yu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bp={entry:"(string|element|function|null)",selector:"(string|element)"};class h_ extends sl{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return Ny}static get DefaultType(){return Xo}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[T,k]of Object.entries(this._config.content))this._setContent(c,k,T);const l=c.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&l.classList.add(...g.split(" ")),l}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[l,g]of Object.entries(c))super._typeCheckConfig({selector:l,entry:g},bp)}_setContent(c,l,g){const T=Dn.findOne(g,c);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(Nr(l))return void this._putElementInTemplate(er(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(c){return this._config.sanitize?function Ep(p,c,l){if(!p.length)return p;if(l&&"function"==typeof l)return l(p);const T=(new window.DOMParser).parseFromString(p,"text/html"),k=[].concat(...T.body.querySelectorAll("*"));for(const z of k){const re=z.nodeName.toLowerCase();if(!Object.keys(c).includes(re)){z.remove();continue}const ge=[].concat(...z.attributes),ze=[].concat(c["*"]||[],c[re]||[]);for(const gt of ge)qd(gt,ze)||z.removeAttribute(gt.nodeName)}return T.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return uo(c,[this])}_putElementInTemplate(c,l){if(this._config.html)return l.innerHTML="",void l.append(c);l.textContent=c.textContent}}const Fo=new Set(["sanitize","allowList","sanitizeFn"]),hc="fade",Xu="show",Ug="hide.bs.modal",Zc="hover",lf="focus",nu={AUTO:"auto",TOP:"top",RIGHT:Ci()?"left":"right",BOTTOM:"bottom",LEFT:Ci()?"right":"left"},Zd={allowList:Yu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Cp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ru extends Mo{constructor(c,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Zd}static get DefaultType(){return Cp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Zt.off(this._element.closest(".modal"),Ug,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=Zt.trigger(this._element,this.constructor.eventName("show")),g=(Ai(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!g)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(T),Zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Xu),"ontouchstart"in document.documentElement)for(const re of[].concat(...document.body.children))Zt.on(re,"mouseover",js);this._queueCallback(()=>{Zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Xu),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Zt.off(T,"mouseover",js);this._activeTrigger.click=!1,this._activeTrigger[lf]=!1,this._activeTrigger[Zc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const l=this._getTemplateFactory(c).toHtml();if(!l)return null;l.classList.remove(hc,Xu),l.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return l.setAttribute("id",g),this._isAnimated()&&l.classList.add(hc),l}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new h_({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hc)}_isShown(){return this.tip&&this.tip.classList.contains(Xu)}_createPopper(c){const l=uo(this._config.placement,[this,c,this._element]),g=nu[l.toUpperCase()];return Ea(this._element,c,this._getPopperConfig(g))}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof c?l=>c(l,this._element):c}_resolvePossibleFunction(c){return uo(c,[this._element])}_getPopperConfig(c){const l={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...l,...uo(this._config.popperConfig,[l])}}_setListeners(){const c=this._config.trigger.split(" ");for(const l of c)if("click"===l)Zt.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if("manual"!==l){const g=this.constructor.eventName(l===Zc?"mouseenter":"focusin"),T=this.constructor.eventName(l===Zc?"mouseleave":"focusout");Zt.on(this._element,g,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusin"===k.type?lf:Zc]=!0,z._enter()}),Zt.on(this._element,T,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusout"===k.type?lf:Zc]=z._element.contains(k.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Zt.on(this._element.closest(".modal"),Ug,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,l){clearTimeout(this._timeout),this._timeout=setTimeout(c,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const l=ba.getDataAttributes(this._element);for(const g of Object.keys(l))Fo.has(g)&&delete l[g];return c={...l,..."object"==typeof c&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=!1===c.container?document.body:er(c.container),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[l,g]of Object.entries(this._config))this.constructor.Default[l]!==g&&(c[l]=g);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const l=ru.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}}qi(ru);const g_={...ru.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Gg={...ru.DefaultType,content:"(null|string|element|function)"};class Hg extends ru{static get Default(){return g_}static get DefaultType(){return Gg}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const l=Hg.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c]()}})}}qi(Hg);const Qu=".bs.scrollspy",Dp=`activate${Qu}`,zg=`click${Qu}`,Vy=`load${Qu}.data-api`,Ju="active",eh="[href]",Sp=".nav-link",Kg=`${Sp}, .nav-item > ${Sp}, .list-group-item`,Pp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ed extends Mo{constructor(c,l){super(c,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Pp}static get DefaultType(){return qg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=er(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,"string"==typeof c.threshold&&(c.threshold=c.threshold.split(",").map(l=>Number.parseFloat(l))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Zt.off(this._config.target,zg),Zt.on(this._config.target,zg,eh,c=>{const l=this._observableSections.get(c.target.hash);if(l){c.preventDefault();const g=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:T,behavior:"smooth"});g.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(c){const l=z=>this._targetLinks.get(`#${z.target.id}`),g=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(l(z))},T=(this._rootElement||document.documentElement).scrollTop,k=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const z of c){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(z));continue}const re=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&re){if(g(z),!T)return}else!k&&!re&&g(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=Dn.find(eh,this._config.target);for(const l of c){if(!l.hash||Qr(l))continue;const g=Dn.findOne(decodeURI(l.hash),this._element);Br(g)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,g))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(Ju),this._activateParents(c),Zt.trigger(this._element,Dp,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))Dn.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(Ju);else for(const l of Dn.parents(c,".nav, .list-group"))for(const g of Dn.prev(l,Kg))g.classList.add(Ju)}_clearActiveClass(c){c.classList.remove(Ju);const l=Dn.find(`${eh}.${Ju}`,c);for(const g of l)g.classList.remove(Ju)}static jQueryInterface(c){return this.each(function(){const l=ed.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}})}}Zt.on(window,Vy,()=>{for(const p of Dn.find('[data-bs-spy="scroll"]'))ed.getOrCreateInstance(p)}),qi(ed);const fc=".bs.tab",df=`hide${fc}`,hf=`hidden${fc}`,v_=`show${fc}`,ff=`shown${fc}`,pf=`click${fc}`,Yg=`keydown${fc}`,E_=`load${fc}`,Xg="ArrowLeft",b_="ArrowRight",Qg="ArrowUp",gf="ArrowDown",nh="Home",Gl="End",Hl="active",Jg="show",gc=".dropdown-toggle",mf=`:not(${gc})`,ih='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Op=`.nav-link${mf}, .list-group-item${mf}, [role="tab"]${mf}, ${ih}`,Np=`.${Hl}[data-bs-toggle="tab"], .${Hl}[data-bs-toggle="pill"], .${Hl}[data-bs-toggle="list"]`;class td extends Mo{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Zt.on(this._element,Yg,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const l=this._getActiveElem(),g=l?Zt.trigger(l,df,{relatedTarget:c}):null;Zt.trigger(c,v_,{relatedTarget:l}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(l,c),this._activate(c,l))}_activate(c,l){c&&(c.classList.add(Hl),this._activate(Dn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Zt.trigger(c,ff,{relatedTarget:l})):c.classList.add(Jg)},c,c.classList.contains("fade")))}_deactivate(c,l){c&&(c.classList.remove(Hl),c.blur(),this._deactivate(Dn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Zt.trigger(c,hf,{relatedTarget:l})):c.classList.remove(Jg)},c,c.classList.contains("fade")))}_keydown(c){if(![Xg,b_,Qg,gf,nh,Gl].includes(c.key))return;c.stopPropagation(),c.preventDefault();const l=this._getChildren().filter(T=>!Qr(T));let g;if([nh,Gl].includes(c.key))g=l[c.key===nh?0:l.length-1];else{const T=[b_,gf].includes(c.key);g=Rr(l,c.target,T,!0)}g&&(g.focus({preventScroll:!0}),td.getOrCreateInstance(g).show())}_getChildren(){return Dn.find(Op,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,l){this._setAttributeIfNotExists(c,"role","tablist");for(const g of l)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const l=this._elemIsActive(c),g=this._getOuterElement(c);c.setAttribute("aria-selected",l),g!==c&&this._setAttributeIfNotExists(g,"role","presentation"),l||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const l=Dn.getElementFromSelector(c);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,l){const g=this._getOuterElement(c);if(!g.classList.contains("dropdown"))return;const T=(k,z)=>{const re=Dn.findOne(k,g);re&&re.classList.toggle(z,l)};T(gc,Hl),T(".dropdown-menu",Jg),g.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(c,l,g){c.hasAttribute(l)||c.setAttribute(l,g)}_elemIsActive(c){return c.classList.contains(Hl)}_getInnerElement(c){return c.matches(Op)?c:Dn.findOne(Op,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const l=td.getOrCreateInstance(this);if("string"==typeof c){if(void 0===l[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);l[c]()}})}}Zt.on(document,pf,ih,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Qr(this)&&td.getOrCreateInstance(this).show()}),Zt.on(window,E_,()=>{for(const p of Dn.find(Np))td.getOrCreateInstance(p)}),qi(td);const zl=".bs.toast",T_=`mouseover${zl}`,nm=`mouseout${zl}`,I_=`focusin${zl}`,_c=`focusout${zl}`,sh=`hide${zl}`,rm=`hidden${zl}`,Uy=`show${zl}`,im=`shown${zl}`,Lp="show",Wl="showing",By={animation:"boolean",autohide:"boolean",delay:"number"},sm={animation:!0,autohide:!0,delay:5e3};class _f extends Mo{constructor(c,l){super(c,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sm}static get DefaultType(){return By}static get NAME(){return"toast"}show(){Zt.trigger(this._element,Uy).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Lp,Wl),this._queueCallback(()=>{this._element.classList.remove(Wl),Zt.trigger(this._element,im),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Zt.trigger(this._element,sh).defaultPrevented&&(this._element.classList.add(Wl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Wl,Lp),Zt.trigger(this._element,rm)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Lp),super.dispose()}isShown(){return this._element.classList.contains(Lp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,l){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const g=c.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){Zt.on(this._element,T_,c=>this._onInteraction(c,!0)),Zt.on(this._element,nm,c=>this._onInteraction(c,!1)),Zt.on(this._element,I_,c=>this._onInteraction(c,!0)),Zt.on(this._element,_c,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const l=_f.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof l[c]>"u")throw new TypeError(`No method named "${c}"`);l[c](this)}})}}Va(_f),qi(_f);let nd=(()=>{class p{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(Ke))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var li=F(4341);let Ha=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(g,T){1&g&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&g&&(i.R7$(5),i.JRh(T.phoneNumber),i.R7$(4),i.JRh(T.address),i.R7$(4),i.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var yf=F(3711);function C_(p,c){if(1&p&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&p){const l=i.XpG().$implicit;i.R7$(2),i.JRh(l.answer)}}function w_(p,c){if(1&p){const l=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const k=i.eBV(l).$implicit;return i.Njj(k.open=!k.open)}),i.EFF(2),i.k0s(),i.DNE(3,C_,3,1,"div",4),i.k0s()}if(2&p){const l=c.$implicit;i.R7$(2),i.SpI(" ",l.question," "),i.R7$(1),i.Y8G("ngIf",l.open)}}let om=(()=>{class p{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(g,T){1&g&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,w_,4,2,"div",1),i.k0s()),2&g&&(i.R7$(3),i.Y8G("ngForOf",T.faqs))},dependencies:[de.Sq,de.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return p})();function A_(p,c){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function D_(p,c){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(4),i.JRh(l.business.fax)}}function jy(p,c){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(4),i.FS9("href",l.business.socialMedia,i.B4B),i.R7$(1),i.JRh(l.business.socialMedia)}}function vf(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,A_,6,2,"div",23),i.DNE(26,D_,5,1,"div",23),i.DNE(27,jy,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61," Send "),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.nrm(64,"app-faq"),i.bVm()}if(2&p){const l=i.sdS(47),g=i.XpG(2);i.R7$(19),i.JRh(g.business.address),i.R7$(5),i.JRh(g.business.phone),i.R7$(1),i.Y8G("ngIf",g.business.email),i.R7$(1),i.Y8G("ngIf",g.business.fax),i.R7$(1),i.Y8G("ngIf",g.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",g.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",g.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",g.formData.name),i.R7$(4),i.Y8G("ngModel",g.formData.email),i.R7$(4),i.Y8G("ngModel",g.formData.message),i.R7$(1),i.Y8G("disabled",!l.form.valid),i.R7$(2),i.Y8G("phoneNumber",g.business.phone)("address",g.business.address)("email",g.business.email),i.R7$(1),i.Y8G("address",g.business.address||"")("layoutType",g.business.theme.themeType||"demo")}}function Ef(p,c){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function S_(p,c){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function am(p,c){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Ef,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,S_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Vp(p,c){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function R_(p,c){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function oh(p,c){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Vp,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,R_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function P_(p,c){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function lm(p,c){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function cm(p,c){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero",65),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,P_,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,lm,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",66),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("layoutType","sb"),i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function yc(p,c){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function Up(p,c){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function um(p,c){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero",65),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,yc,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Up,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(35,"button",66),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("layoutType","prestige"),i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function $y(p,c){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function rd(p,c){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function dm(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,$y,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,rd,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(l);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.name=T)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.email=T)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(l);const k=i.XpG(2);return i.Njj(k.formData.message=T)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div"),i.nrm(39,"div",24),i.k0s()(),i.j41(40,"div",61),i.nrm(41,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(6),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Gy(p,c){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,vf,65,16,"ng-container",2),i.DNE(3,am,45,10,"ng-container",2),i.DNE(4,oh,45,10,"ng-container",2),i.DNE(5,cm,45,11,"ng-container",2),i.DNE(6,um,45,11,"ng-container",2),i.DNE(7,dm,42,10,"ng-container",3),i.k0s(),i.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),i.EFF(13),i.k0s(),i.nrm(14,"button",9),i.k0s(),i.j41(15,"div",10),i.EFF(16),i.k0s(),i.j41(17,"div",11)(18,"button",12),i.EFF(19," Close "),i.k0s()()()()()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(7),i.JRh(l.modalTitle),i.R7$(3),i.SpI(" ",l.modalMessage," ")}}let Bp=(()=>{class p{constructor(l,g,T,k,z,re,ge,ze){this.sanitizer=l,this.businessDataService=g,this.webContent=T,this.route=k,this.http=z,this.emailService=re,this.router=ge,this.metaService=ze,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Ga(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const g=l.split(".");return g.length>2?g.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ue.up),i.rXU(Nt.A),i.rXU(Bn.N),i.rXU(ur.nX),i.rXU(Ke),i.rXU(nd),i.rXU(ur.Ix),i.rXU(lt.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(g,T){1&g&&i.DNE(0,Gy,20,8,"div",0),2&g&&i.Y8G("ngIf",T.business)},dependencies:[de.bT,de.ux,de.e1,de.fG,li.qT,li.me,li.BC,li.cb,li.YS,li.vS,li.cV,Ha,gr,yf.a,om]})}}return p})();var M_=F(467);const Hy=["dynamicContainer"],zy=["ctaContainer"];function Wy(p,c){1&p&&(i.qex(0),i.j41(1,"div",9)(2,"div",10)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",11)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.bVm())}function Ky(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function x_(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","ae"))}function oE(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function qy(p,c){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function ah(p,c){if(1&p){const l=i.RV6();i.j41(0,"div",13),i.bIt("click",function(){const k=i.eBV(l).$implicit,z=i.XpG(2);return i.Njj(z.onImageClick(k.url))}),i.nrm(1,"img",14),i.k0s()}if(2&p){const l=c.$implicit;i.R7$(1),i.Y8G("src",l.url,i.B4B)}}function id(p,c){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Wy,8,0,"ng-container",2),i.DNE(3,Ky,2,1,"ng-container",2),i.DNE(4,x_,2,1,"ng-container",2),i.DNE(5,oE,2,1,"ng-container",2),i.DNE(6,qy,2,1,"ng-container",2),i.k0s(),i.eu8(7,null,3),i.j41(9,"section",4)(10,"div",5)(11,"h2"),i.EFF(12,"Explore Our Gallery"),i.k0s()(),i.j41(13,"div",6),i.DNE(14,ah,2,1,"div",7),i.k0s()(),i.eu8(15,null,8),i.k0s()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(8),i.Y8G("ngForOf",l.images)}}let hm=(()=>{class p{constructor(l,g,T,k,z,re,ge,ze){this.businessDataService=l,this.route=g,this.webContent=T,this.metaService=k,this.router=z,this.sectionService=re,this.resolver=ge,this.injector=ze,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Fi.W,"right-text":ms.F,"left-text":_s.G,"item-list":yi.j,cta:or.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((g,T)=>(g.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(g=>"cta"!==g.component).forEach(g=>{this.createDynamicComponent(g,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(g=>"cta"===g.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,g){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const k=this.resolver.resolveComponentFactory(T),z=g.createComponent(k,void 0,this.injector);Object.assign(z.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:k})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,ee.n)(z=>{console.log(`Raw Firestore images for ${T}:`,z);const re=z.map(function(){var ge=(0,M_.A)(function*(ze){return(yield l.webContent.checkImageExists(ze.url))?ze:null});return function(ze){return ge.apply(this,arguments)}}());return(0,_e.H)(Promise.all(re))}),(0,Le.T)(z=>z.filter(re=>null!==re)),(0,Le.T)(z=>(console.log(`Filtered images for ${k}:`,z),z.map(re=>({url:re.url,title:re.title||"No Title",description:re.description||"No Description",link:re.link||"No Link",order:isNaN(Number(re.order))?999:Number(re.order)})).sort((re,ge)=>re.order-ge.order)))).subscribe(z=>{console.log(`Sorted images for ${k}:`,z),this[k]||(this[k]=[]),this[k]=z})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(Nt.A),i.rXU(ur.nX),i.rXU(Bn.N),i.rXU(lt.R),i.rXU(ur.Ix),i.rXU(Dt.W),i.rXU(i.OM3),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],viewQuery:function(g,T){if(1&g&&(i.GBs(Hy,5,i.c1b),i.GBs(zy,5,i.c1b)),2&g){let k;i.mGM(k=i.lsd())&&(T.container=k.first),i.mGM(k=i.lsd())&&(T.ctaContainer=k.first)}},inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"]],template:function(g,T){1&g&&i.DNE(0,id,17,7,"div",0),2&g&&i.Y8G("ngIf",T.business)},dependencies:[de.Sq,de.bT,de.ux,de.e1,gr],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var jp=F(4796);function $p(p,c){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const l=i.XpG();i.R7$(1),i.JRh(l.errorMessage)}}let sd=(()=>{class p{constructor(l,g){this.authService=l,this.router=g,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(jp.u),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(g,T){1&g&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return T.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return T.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return T.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,$p,2,1,"div",10),i.k0s()()()),2&g&&(i.R7$(8),i.Y8G("ngModel",T.email),i.R7$(4),i.Y8G("ngModel",T.password),i.R7$(3),i.Y8G("ngIf",T.errorMessage))},dependencies:[de.bT,li.qT,li.me,li.BC,li.cb,li.YS,li.vS,li.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var ci=F(6340);let fm=(()=>{class p{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,g){const T=this.afs.createId(),k=this.afs.collection(`${this.basePath}/${g}/intake`).doc(T);return new De.c(z=>{k.set(l).then(()=>{z.next(l),z.complete()}).catch(re=>{console.error("Error saving intake form data",re),z.error(re)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,Le.T)(g=>g.map(T=>{const k=T.payload.doc.data();return{id:T.payload.doc.id,...k}})))}getIntakeForm(l,g){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).valueChanges().pipe((0,Le.T)(T=>T||void 0))}updateIntakeForm(l,g,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).update(T)}deleteIntakeForm(l,g){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(g).delete()}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(ci.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function pm(p,c){if(1&p){const l=i.RV6();i.j41(0,"div"),i.nrm(1,"app-hero",1),i.j41(2,"form",2),i.bIt("ngSubmit",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.onSubmit())}),i.j41(3,"div",3)(4,"h2"),i.EFF(5,"Personal Information"),i.k0s(),i.j41(6,"label",4),i.EFF(7,"Name *"),i.k0s(),i.nrm(8,"input",5),i.j41(9,"label",6),i.EFF(10,"Email *"),i.k0s(),i.nrm(11,"input",7),i.j41(12,"label",8),i.EFF(13,"Phone number *"),i.k0s(),i.nrm(14,"input",9),i.k0s(),i.j41(15,"div",3)(16,"h2"),i.EFF(17,"Referral Source"),i.k0s(),i.j41(18,"label",10),i.EFF(19,"How did you find out about us? *"),i.k0s(),i.j41(20,"select",11)(21,"option",12),i.EFF(22,"Google"),i.k0s(),i.j41(23,"option",13),i.EFF(24,"Facebook"),i.k0s(),i.j41(25,"option",14),i.EFF(26,"Placement Agency"),i.k0s(),i.j41(27,"option",15),i.EFF(28,"Friends and/or Family"),i.k0s(),i.j41(29,"option",16),i.EFF(30,"Other"),i.k0s()(),i.j41(31,"label",17),i.EFF(32,"What is your relation to the resident? *"),i.k0s(),i.nrm(33,"input",18),i.k0s(),i.j41(34,"div",3)(35,"h2"),i.EFF(36,"Resident Information"),i.k0s(),i.j41(37,"label",19),i.EFF(38,"Resident's name *"),i.k0s(),i.nrm(39,"input",20),i.j41(40,"label",21),i.EFF(41,"Age *"),i.k0s(),i.nrm(42,"input",22),i.j41(43,"label",23),i.EFF(44,"Gender *"),i.k0s(),i.j41(45,"select",24)(46,"option",25),i.EFF(47,"Male"),i.k0s(),i.j41(48,"option",26),i.EFF(49,"Female"),i.k0s(),i.j41(50,"option",27),i.EFF(51,"Prefer not to say"),i.k0s(),i.j41(52,"option",16),i.EFF(53,"Other"),i.k0s()()(),i.j41(54,"div",3)(55,"h2"),i.EFF(56,"Medical History"),i.k0s(),i.j41(57,"label",28),i.EFF(58,"Relevant medical and surgical history *"),i.k0s(),i.nrm(59,"textarea",29),i.j41(60,"label",30),i.EFF(61,"Height *"),i.k0s(),i.nrm(62,"input",31),i.j41(63,"label",32),i.EFF(64,"Weight *"),i.k0s(),i.nrm(65,"input",33),i.j41(66,"label",34),i.EFF(67,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(68,"textarea",35),i.j41(69,"label",36),i.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(71,"select",37)(72,"option",38),i.EFF(73,"Yes"),i.k0s(),i.j41(74,"option",39),i.EFF(75,"No"),i.k0s()()(),i.j41(76,"div",3)(77,"h2"),i.EFF(78,"Care Levels"),i.k0s(),i.j41(79,"label",40),i.EFF(80,"Eating *"),i.k0s(),i.j41(81,"select",41)(82,"option",42),i.EFF(83,"Independent"),i.k0s(),i.j41(84,"option",43),i.EFF(85,"Needing Assistance"),i.k0s(),i.j41(86,"option",44),i.EFF(87,"Dependent"),i.k0s()(),i.j41(88,"label",45),i.EFF(89,"Personal Hygiene *"),i.k0s(),i.j41(90,"select",46)(91,"option",42),i.EFF(92,"Independent"),i.k0s(),i.j41(93,"option",43),i.EFF(94,"Needing Assistance"),i.k0s(),i.j41(95,"option",44),i.EFF(96,"Dependent"),i.k0s()(),i.j41(97,"label",47),i.EFF(98,"Bathing *"),i.k0s(),i.j41(99,"select",48)(100,"option",42),i.EFF(101,"Independent"),i.k0s(),i.j41(102,"option",43),i.EFF(103,"Needing Assistance"),i.k0s(),i.j41(104,"option",44),i.EFF(105,"Dependent"),i.k0s()(),i.j41(106,"label",49),i.EFF(107,"Toileting *"),i.k0s(),i.j41(108,"select",50)(109,"option",42),i.EFF(110,"Independent"),i.k0s(),i.j41(111,"option",43),i.EFF(112,"Needing Assistance"),i.k0s(),i.j41(113,"option",44),i.EFF(114,"Dependent"),i.k0s()(),i.j41(115,"label",51),i.EFF(116,"Mobility *"),i.k0s(),i.j41(117,"select",52)(118,"option",42),i.EFF(119,"Independent"),i.k0s(),i.j41(120,"option",43),i.EFF(121,"Needing Assistance"),i.k0s(),i.j41(122,"option",44),i.EFF(123,"Dependent"),i.k0s()(),i.j41(124,"label",53),i.EFF(125,"Transfers *"),i.k0s(),i.j41(126,"select",54)(127,"option",42),i.EFF(128,"Independent"),i.k0s(),i.j41(129,"option",43),i.EFF(130,"Needing Assistance"),i.k0s(),i.j41(131,"option",44),i.EFF(132,"Dependent"),i.k0s()(),i.j41(133,"label",55),i.EFF(134,"Medication Assistance *"),i.k0s(),i.j41(135,"select",56)(136,"option",38),i.EFF(137,"Yes"),i.k0s(),i.j41(138,"option",39),i.EFF(139,"No"),i.k0s()()(),i.j41(140,"div",3)(141,"h2"),i.EFF(142,"Other Medical Information"),i.k0s(),i.j41(143,"label",57),i.EFF(144,"Memory Issues *"),i.k0s(),i.j41(145,"select",58)(146,"option",38),i.EFF(147,"Yes"),i.k0s(),i.j41(148,"option",39),i.EFF(149,"No"),i.k0s()(),i.j41(150,"label",59),i.EFF(151,"Behavior"),i.k0s(),i.nrm(152,"textarea",60),i.j41(153,"label",61),i.EFF(154,"Skin Condition"),i.k0s(),i.nrm(155,"textarea",62),i.j41(156,"label",63),i.EFF(157,"Other information you want us to know"),i.k0s(),i.nrm(158,"textarea",64),i.k0s(),i.j41(159,"div",3)(160,"h2"),i.EFF(161,"Living Situation"),i.k0s(),i.j41(162,"label",65),i.EFF(163,"Current living situation *"),i.k0s(),i.j41(164,"select",66)(165,"option",67),i.EFF(166,"Own Home"),i.k0s(),i.j41(167,"option",68),i.EFF(168,"Relative's Home"),i.k0s(),i.j41(169,"option",69),i.EFF(170,"Hospital"),i.k0s(),i.j41(171,"option",70),i.EFF(172,"Adult Family Home"),i.k0s(),i.j41(173,"option",71),i.EFF(174,"Senior Living"),i.k0s(),i.j41(175,"option",16),i.EFF(176,"Other"),i.k0s()()(),i.j41(177,"div",3)(178,"label",72),i.EFF(179,"Target move in date *"),i.k0s(),i.nrm(180,"input",73),i.k0s(),i.j41(181,"div",3)(182,"label",74),i.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(184,"select",75)(185,"option",38),i.EFF(186,"Yes"),i.k0s(),i.j41(187,"option",39),i.EFF(188,"No"),i.k0s()()(),i.j41(189,"div",3)(190,"label",76),i.EFF(191,"Do you have any questions for us?"),i.k0s(),i.nrm(192,"textarea",77),i.k0s(),i.j41(193,"button",78),i.EFF(194,"Submit"),i.k0s()()()}if(2&p){const l=i.XpG();i.R7$(1),i.Y8G("layoutType",l.business.theme.themeType),i.R7$(1),i.Y8G("formGroup",l.intakeForm),i.R7$(191),i.Y8G("disabled",l.intakeForm.invalid)}}let iu=(()=>{class p{constructor(l,g,T,k,z){this.fb=l,this.intakeService=g,this.businessDataService=T,this.emailService=k,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",li.k0.required],email:["",[li.k0.required,li.k0.email]],phoneNumber:["",li.k0.required],referralSource:["",li.k0.required],relationToResident:[""],residentName:["",li.k0.required],age:["",li.k0.required],gender:["",li.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const g={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(g).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(li.ok),i.rXU(fm),i.rXU(Nt.A),i.rXU(nd),i.rXU(lt.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(g,T){1&g&&i.DNE(0,pm,195,3,"div",0),2&g&&i.Y8G("ngIf",T.business)},dependencies:[de.bT,li.qT,li.xH,li.y7,li.me,li.Q0,li.wz,li.BC,li.cb,li.j4,li.JD,gr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})();function Yy(p,c){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const l=c.$implicit;i.R7$(3),i.SpI('"',l.quote,'"'),i.R7$(3),i.JRh(l.name)}}function ao(p,c){if(1&p&&(i.j41(0,"div",2),i.DNE(1,Yy,7,2,"div",3),i.k0s()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngForOf",l.testimonials)}}let Vs=(()=>{class p{constructor(l,g){this.businessDataService=l,this.metaService=g,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(Nt.A),i.rXU(lt.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(g,T){1&g&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,ao,2,1,"div",1),i.k0s()),2&g&&(i.R7$(2),i.Y8G("ngIf",T.testimonials.length>0))},dependencies:[de.Sq,de.bT,gr],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})();var za=F(4710);const N_=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Bs.B},{path:"about-us",component:ys},{path:"services",component:Xa},{path:"contact-us",component:Bp},{path:"gallery",component:hm},{path:"login",component:sd},{path:"resident-form",component:iu},{path:"testimonials",component:Vs},{path:"faq",component:om},{path:"location",component:(()=>{class p{constructor(l,g,T){this.route=l,this.businessDataService=g,this.googleMapsLoader=T,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),console.log("\u{1f522} Location Index from URL:",this.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,ee.n)(g=>g?(console.log("\u2705 Business ID Found:",g),this.businessDataService.loadBusinessData(g)):[])).subscribe(g=>{g&&(console.log("\u2705 Business Data Ready:",g),this.business=g,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,ee.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(g=>{console.log("\u{1f4cd} Firestore Locations Retrieved:",g),g&&this.locationIndex<g.length?(this.location=g[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",g.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(g,T)=>{"OK"===T?(this.map.setCenter(g[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:g[0].geometry.location})):console.error("Geocode was not successful: "+T)})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(Nt.A),i.rXU(za.L))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-location-page"]],decls:21,vars:9,consts:[[3,"layoutType"],[1,"location-page-container"],["id","map",1,"map-container"]],template:function(g,T){1&g&&(i.nrm(0,"app-hero",0),i.j41(1,"div",1)(2,"h2"),i.EFF(3),i.k0s(),i.j41(4,"p")(5,"strong"),i.EFF(6,"Address:"),i.k0s(),i.EFF(7),i.k0s(),i.j41(8,"p")(9,"strong"),i.EFF(10,"Email:"),i.k0s(),i.EFF(11),i.k0s(),i.j41(12,"p")(13,"strong"),i.EFF(14,"Phone:"),i.k0s(),i.EFF(15),i.k0s(),i.j41(16,"p")(17,"strong"),i.EFF(18,"Fax:"),i.k0s(),i.EFF(19),i.k0s(),i.nrm(20,"div",2),i.k0s()),2&g&&(i.Y8G("layoutType","prestige"),i.R7$(3),i.JRh((null==T.location?null:T.location.city)||"Location"),i.R7$(4),i.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode,""),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.email,""),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.phone,""),i.R7$(4),i.SpI(" ",null==T.location?null:T.location.fax,""))},dependencies:[gr],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return p})()},{path:"login",component:sd},{path:"admin",loadChildren:()=>F.e(380).then(F.bind(F,1380)).then(p=>p.AdminModule)},{path:":id",component:Bs.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let su=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[ur.iI.forRoot(N_),ur.iI]})}}return p})();var gm=F(5009);function bf(p,c){if(1&p&&i.nrm(0,"img",12),2&p){const l=i.XpG();i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function Tf(p,c){1&p&&(i.j41(0,"li",18),i.EFF(1,"No locations available"),i.k0s())}function mm(p,c){if(1&p){const l=i.RV6();i.j41(0,"li",18)(1,"span",19),i.bIt("click",function(){const k=i.eBV(l).index,z=i.XpG(2);return i.Njj(z.selectLocation(k))}),i.EFF(2),i.k0s()()}if(2&p){const l=c.$implicit;i.R7$(2),i.JRh(l.locationName||"Unknown City")}}function _m(p,c){if(1&p&&(i.j41(0,"li",13)(1,"span",14),i.EFF(2," Locations "),i.k0s(),i.j41(3,"ul",15),i.DNE(4,Tf,2,0,"li",16),i.DNE(5,mm,3,1,"li",17),i.k0s()()),2&p){const l=i.XpG();i.R7$(4),i.Y8G("ngIf",0===l.locations.length),i.R7$(1),i.Y8G("ngForOf",l.locations)}}function Gp(p,c){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Home"),i.k0s()()}}function bi(p,c){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Work"),i.k0s()()}}function If(p,c){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(2,"Resident Form"),i.k0s()()}}const ym=function(p){return{"clemo-shrink":p}},Is=function(){return["/home"]},k_=function(p){return{id:p}},F_=function(p){return{"clemo-show":p}};let lh=(()=>{class p{constructor(l,g,T){this.route=l,this.router=g,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(g=>{this.locations=g,console.log("\u{1f4cd} Locations Updated in Navigation:",this.locations)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const g=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:g}).then(T=>{T||console.error("Navigation failed!")})}selectLocation(l){console.log("\u{1f4cd} Selected Location Index:",l),this.router.navigate(["/location"],{queryParams:{locationIndex:l}})}toggleLocations(){this.locationsOpen=!this.locationsOpen,console.log("\u{1f4c2} Locations Dropdown Toggled:",this.locationsOpen),console.log("\u{1f50d} Locations Array:",this.locations)}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(ur.Ix),i.rXU(Nt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(g,T){1&g&&i.bIt("scroll",function(){return T.onWindowScroll()},!1,i.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(g,T){1&g&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,bf,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return T.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return T.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.DNE(11,_m,6,2,"li",10),i.j41(12,"li",8)(13,"span",9),i.bIt("click",function(){return T.navigateTo("about-us")}),i.EFF(14,"About Us"),i.k0s()(),i.j41(15,"li",8)(16,"span",9),i.bIt("click",function(){return T.navigateTo("services")}),i.EFF(17,"Services"),i.k0s()(),i.DNE(18,Gp,3,0,"li",11),i.DNE(19,bi,3,0,"li",11),i.DNE(20,If,3,0,"li",11),i.j41(21,"li",8)(22,"span",9),i.bIt("click",function(){return T.navigateTo("contact-us")}),i.EFF(23,"Contact"),i.k0s()()()()()()),2&g&&(i.Y8G("ngClass",i.eq3(9,ym,T.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(11,Is))("queryParams",i.eq3(12,k_,T.businessId)),i.R7$(1),i.Y8G("ngIf",null==T.business?null:T.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(14,F_,T.menuOpen)),i.R7$(5),i.Y8G("ngIf","prestige"===T.layoutType),i.R7$(7),i.Y8G("ngIf","sb"!=T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"==T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[de.YU,de.Sq,de.bT,ur.Wk]})}}return p})();function vm(p,c){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const Cf=function(){return["/home"]},ch=function(p){return{id:p}},uh=function(p){return{"open-bar1":p}},wf=function(p){return{"open-bar2":p}},Hp=function(p){return{"open-bar3":p}},zp=function(p){return{active:p}};function Em(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,vm,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Cf))("queryParams",i.eq3(8,ch,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,uh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,wf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Hp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,zp,l.menuOpen))}}function aE(p,c){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const dh=function(){return["/contact-us"]};function Xy(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,aE,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Cf))("queryParams",i.eq3(10,ch,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,uh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,wf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Hp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,zp,l.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,dh))("queryParams",i.eq3(21,ch,l.businessId))}}function ou(p,c){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function od(p,c){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function D0(p,c){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function Kl(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,D0,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.scrollToSection("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Cf))("queryParams",i.eq3(8,ch,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,uh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,wf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Hp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,zp,l.menuOpen))}}function Wp(p,c){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function hh(p,c){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function bm(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,hh,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Cf))("queryParams",i.eq3(10,ch,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,uh,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,wf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Hp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,zp,l.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,dh))("queryParams",i.eq3(21,ch,l.businessId))}}let fh=(()=>{class p{constructor(l,g,T){this.route=l,this.router=g,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const g=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:g}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const g=document.getElementById(l);g&&g.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(ur.Ix),i.rXU(Nt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(g,T){1&g&&(i.j41(0,"div",0),i.DNE(1,Em,21,18,"ng-container",1),i.DNE(2,Xy,29,23,"ng-container",1),i.DNE(3,ou,2,0,"ng-container",1),i.DNE(4,od,2,0,"ng-container",1),i.DNE(5,Kl,21,18,"ng-container",1),i.DNE(6,Wp,2,0,"ng-container",1),i.DNE(7,bm,27,23,"ng-container",1),i.k0s()),2&g&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","sp"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[de.YU,de.bT,de.ux,de.e1,ur.Wk,lh],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function Kp(p,c){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()(),i.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),i.EFF(38,"DESIGNED BY "),i.j41(39,"a",15),i.EFF(40,"SB MEDIA HUB"),i.k0s()()(),i.j41(41,"div",16)(42,"p"),i.EFF(43," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function qp(p,c){if(1&p&&(i.qex(0),i.j41(1,"footer",17)(2,"div",18)(3,"div",19),i.nrm(4,"hr",20),i.j41(5,"h2",21),i.EFF(6),i.k0s(),i.nrm(7,"hr",20),i.k0s(),i.j41(8,"div",22)(9,"div",23)(10,"h3",24),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",23)(15,"h3",24),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",23)(20,"h3",24),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),i.EFF(36,"DESIGNED BY "),i.j41(37,"a",15),i.EFF(38,"SB MEDIA HUB"),i.k0s()()(),i.j41(39,"div",16)(40,"p"),i.EFF(41),i.k0s()()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(6),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.JRh(null==l.business?null:l.business.providerName),i.R7$(5),i.JRh(null==l.business?null:l.business.address),i.R7$(5),i.JRh(null==l.business?null:l.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.email),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(10),i.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function au(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function Yp(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function Wa(p,c){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"p",29),i.EFF(6),i.k0s(),i.j41(7,"p",30),i.EFF(8),i.k0s()(),i.j41(9,"div",31)(10,"a",32),i.nrm(11,"i",33),i.k0s(),i.j41(12,"a",32),i.nrm(13,"i",34),i.k0s()(),i.j41(14,"nav",35)(15,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(16,"HOME"),i.k0s(),i.j41(17,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(18,"ABOUT US"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(20,"SERVICES"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(22,"OUR WORK"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(24,"CONTACT"),i.k0s()(),i.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),i.EFF(29,"DESIGNED BY "),i.j41(30,"a",15),i.EFF(31,"SB MEDIA HUB"),i.k0s()()(),i.j41(32,"div",16)(33,"p"),i.EFF(34," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function ph(p,c){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function ad(p,c){if(1&p&&(i.j41(0,"div",37)(1,"h1",38),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",39)(4,"div",40)(5,"span",41),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",42),i.EFF(8),i.k0s()(),i.j41(9,"div",40)(10,"span",41),i.EFF(11,"Theme Type:"),i.k0s(),i.j41(12,"span",42),i.EFF(13),i.k0s()(),i.j41(14,"div",40)(15,"span",41),i.EFF(16,"Business ID:"),i.k0s(),i.j41(17,"span",42),i.EFF(18),i.k0s()(),i.j41(19,"div",40)(20,"span",41),i.EFF(21,"Business Name:"),i.k0s(),i.j41(22,"span",42),i.EFF(23),i.k0s()()()()),2&p){const l=i.XpG();i.R7$(8),i.JRh(l.themeFileName),i.R7$(5),i.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),i.R7$(5),i.JRh(null==l.business?null:l.business.id),i.R7$(5),i.JRh(null==l.business?null:l.business.businessName)}}let Af=(()=>{class p{constructor(l,g,T,k,z,re){this.route=l,this.webContentService=g,this.authService=T,this.themeService=k,this.businessDataService=z,this.router=re,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.router.navigate([`/${l}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(g=>{g&&(this.themeFileName=g.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(Bn.N),i.rXU(jp.u),i.rXU(gm.F),i.rXU(Nt.A),i.rXU(ur.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(g,T){1&g&&(i.j41(0,"div",0),i.DNE(1,Kp,44,12,"ng-container",1),i.DNE(2,qp,42,10,"ng-container",1),i.DNE(3,au,39,4,"ng-container",1),i.DNE(4,Yp,39,4,"ng-container",1),i.DNE(5,Wa,35,3,"ng-container",1),i.DNE(6,ph,34,12,"ng-container",2),i.k0s(),i.DNE(7,ad,24,4,"div",3),i.nI1(8,"async")),2&g&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(2),i.Y8G("ngIf",i.bMT(8,7,T.isAuthenticated$)))},dependencies:[de.bT,de.ux,de.e1,de.fG,de.Jj]})}}return p})(),L_=(()=>{class p{constructor(l,g,T,k,z){this.route=l,this.webContent=g,this.metaService=T,this.router=k,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(g){return new(g||p)(i.rXU(ur.nX),i.rXU(Bn.N),i.rXU(lt.R),i.rXU(ur.Ix),i.rXU(gm.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(g,T){1&g&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ur.n3,fh,Af]})}}return p})();const gh_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var ua=F(2214),Zs=F(5407);class vc{constructor(c){return c}}class Df{constructor(){return(0,ua.Dk)()}}const Sf=new i.nKC("angularfire2._apps"),V_={provide:vc,useFactory:function Ec(p){return p&&1===p.length?p[0]:new vc((0,ua.Sx)())},deps:[[new i.Xx1,Sf]]},Tm={provide:Df,deps:[[new i.Xx1,Sf]]};function Xp(p){return(c,l)=>{const g=c.runOutsideAngular(()=>p(l));return new vc(g)}}let Jy=(()=>{class p{constructor(l){(0,ua.KO)("angularfire",Zs.xv.full,"core"),(0,ua.KO)("angularfire",Zs.xv.full,"app"),(0,ua.KO)("angular",i.xvI.full,l.toString())}static \u0275fac=function(g){return new(g||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[V_,Tm]})}return p})();function ld(p,...c){return{ngModule:Jy,providers:[{provide:Sf,useFactory:Xp(p),multi:!0,deps:[i.SKi,i.zZn,Zs.u0,...c]}]}}const Im=(0,Zs.S3)(ua.Wp,!0);F(5504),F(7852),F(1076),F(8041),F(1362);class Tc{constructor(){return(0,Zs.CA)("auth")}}var vv=F(9583);class Rm{constructor(c){return c}}const Pm="firestore",Ev=new i.nKC("angularfire2.firestore-instances");function Mm(p){return(c,l)=>{const g=c.runOutsideAngular(()=>p(l));return new Rm(g)}}const W_={provide:class AE{constructor(){return(0,Zs.CA)(Pm)}},deps:[[new i.Xx1,Ev]]},O0={provide:Rm,useFactory:function x0(p,c){const l=(0,Zs.lR)(Pm,p,c);return l&&new Rm(l)},deps:[[new i.Xx1,Ev],vc]};let xm=(()=>{class p{constructor(){(0,ua.KO)("angularfire",Zs.xv.full,"fst")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[O0,W_]})}return p})();function bv(p,...c){return{ngModule:xm,providers:[{provide:Ev,useFactory:Mm(p),multi:!0,deps:[i.SKi,i.zZn,Zs.u0,Df,[new i.Xx1,Tc],[new i.Xx1,Zs.Jv],...c]}]}}const ig=(0,Zs.S3)(vv.aU,!0);var Vm=F(9253),Um=F(8721),Dv=F(1977),ty=F(4535);class vh{constructor(c){return c}}const pd="storage",Eh=new i.nKC("angularfire2.storage-instances");function gd(p){return(c,l)=>{const g=c.runOutsideAngular(()=>p(l));return new vh(g)}}const bh={provide:class ny{constructor(){return(0,Zs.CA)(pd)}},deps:[[new i.Xx1,Eh]]},dg={provide:vh,useFactory:function Bm(p,c){const l=(0,Zs.lR)(pd,p,c);return l&&new vh(l)},deps:[[new i.Xx1,Eh],vc]};let ry=(()=>{class p{constructor(){(0,ua.KO)("angularfire",Zs.xv.full,"gcs")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[dg,bh]})}return p})();function Ff(p,...c){return{ngModule:ry,providers:[{provide:Eh,useFactory:gd(p),multi:!0,deps:[i.SKi,i.zZn,Zs.u0,Df,[new i.Xx1,Tc],[new i.Xx1,Zs.Jv],...c]}]}}const pg=(0,Zs.S3)(ty.c7,!0);var gg=F(3012);let Gm=(()=>{class p{constructor(l,g,T){this.http=l,this.themeService=g,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((g,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:k=>{this.themeService.applyThemeFile(k?k.themeFileName:"default.css").then(()=>g()).catch(re=>{console.error("Error applying theme file:",re),g()}),this.themeService.getThemeColors(l).subscribe(re=>{this.applyTheme(re),g()},re=>{console.error("Error loading theme:",re),g()})},error:k=>{console.error("Error loading business theme:",k),this.themeService.applyThemeFile("default.css").then(()=>g()).catch(z=>{console.error("Error applying default theme file:",z),g()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(Ke),i.KVO(gm.F),i.KVO(gg.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var as=F(9969);function Hm(p){return new i.wOt(3e3,!1)}function Pc(p){switch(p.length){case 0:return new as.sf;case 1:return p[0];default:return new as.ui(p)}}function uy(p,c,l=new Map,g=new Map){const T=[],k=[];let z=-1,re=null;if(c.forEach(ge=>{const ze=ge.get("offset"),gt=ze==z,Lt=gt&&re||new Map;ge.forEach((vn,yn)=>{let bn=yn,qt=vn;if("offset"!==yn)switch(bn=p.normalizePropertyName(bn,T),qt){case as.FX:qt=l.get(yn);break;case as.kp:qt=g.get(yn);break;default:qt=p.normalizeStyleValue(yn,bn,qt,T)}Lt.set(bn,qt)}),gt||k.push(Lt),re=Lt,z=ze}),T.length)throw function qm(p){return new i.wOt(3502,!1)}();return k}function yg(p,c,l,g){switch(c){case"start":p.onStart(()=>g(l&&Ed(l,"start",p)));break;case"done":p.onDone(()=>g(l&&Ed(l,"done",p)));break;case"destroy":p.onDestroy(()=>g(l&&Ed(l,"destroy",p)))}}function Ed(p,c,l){const k=Qm(p.element,p.triggerName,p.fromState,p.toState,c||p.phaseName,l.totalTime??p.totalTime,!!l.disabled),z=p._data;return null!=z&&(k._data=z),k}function Qm(p,c,l,g,T="",k=0,z){return{element:p,triggerName:c,fromState:l,toState:g,phaseName:T,totalTime:k,disabled:!!z}}function Da(p,c,l){let g=p.get(c);return g||p.set(c,g=l),g}function dy(p){const c=p.indexOf(":");return[p.substring(1,c),p.slice(c+1)]}const Xl=(()=>typeof document>"u"?null:document.documentElement)();function bd(p){const c=p.parentNode||p.host||null;return c===Xl?null:c}let pa=null,Sh=!1;function Td(p,c){for(;c;){if(c===p)return!0;c=bd(c)}return!1}function vg(p,c,l){if(l)return Array.from(p.querySelectorAll(c));const g=p.querySelector(c);return g?[g]:[]}let hy=(()=>{class p{validateStyleProperty(l){return function Rh(p){pa||(pa=function Hf(){return typeof document<"u"?document.body:null}()||{},Sh=!!pa.style&&"WebkitAppearance"in pa.style);let c=!0;return pa.style&&!function Jm(p){return"ebkit"==p.substring(1,6)}(p)&&(c=p in pa.style,!c&&Sh&&(c="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in pa.style)),c}(l)}matchesElement(l,g){return!1}containsElement(l,g){return Td(l,g)}getParentElement(l){return bd(l)}query(l,g,T){return vg(l,g,T)}computeStyle(l,g,T){return T||""}animate(l,g,T,k,z,re=[],ge){return new as.sf(T,k)}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),Zm=(()=>{class p{static{this.NOOP=new hy}}return p})();const Eg=1e3,Wf="ng-enter",Kf="ng-leave",qa="ng-trigger",Id=".ng-trigger",fy="ng-animating",pu=".ng-animating";function Ql(p){if("number"==typeof p)return p;const c=p.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:qf(parseFloat(c[1]),c[2])}function qf(p,c){return"s"===c?p*Eg:p}function gu(p,c,l){return p.hasOwnProperty("duration")?p:function e_(p,c,l){let T,k=0,z="";if("string"==typeof p){const re=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===re)return c.push(Hm()),{duration:0,delay:0,easing:""};T=qf(parseFloat(re[1]),re[2]);const ge=re[3];null!=ge&&(k=qf(parseFloat(ge),re[4]));const ze=re[5];ze&&(z=ze)}else T=p;if(!l){let re=!1,ge=c.length;T<0&&(c.push(function zm(){return new i.wOt(3100,!1)}()),re=!0),k<0&&(c.push(function Vf(){return new i.wOt(3101,!1)}()),re=!0),re&&c.splice(ge,0,Hm())}return{duration:T,delay:k,easing:z}}(p,c,l)}function Mc(p,c={}){return Object.keys(p).forEach(l=>{c[l]=p[l]}),c}function py(p){const c=new Map;return Object.keys(p).forEach(l=>{c.set(l,p[l])}),c}function Jl(p,c=new Map,l){if(l)for(let[g,T]of l)c.set(g,T);for(let[g,T]of p)c.set(g,T);return c}function Sa(p,c,l){c.forEach((g,T)=>{const k=bg(T);l&&!l.has(T)&&l.set(T,p.style[k]),p.style[k]=g})}function Tl(p,c){c.forEach((l,g)=>{const T=bg(g);p.style[T]=""})}function Cd(p){return Array.isArray(p)?1==p.length?p[0]:(0,as.K2)(p):p}const xc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xf(p){let c=[];if("string"==typeof p){let l;for(;l=xc.exec(p);)c.push(l[1]);xc.lastIndex=0}return c}function wd(p,c,l){const g=p.toString(),T=g.replace(xc,(k,z)=>{let re=c[z];return null==re&&(l.push(function Uf(p){return new i.wOt(3003,!1)}()),re=""),re.toString()});return T==g?p:T}function Zl(p){const c=[];let l=p.next();for(;!l.done;)c.push(l.value),l=p.next();return c}const my=/-+([a-z0-9])/g;function bg(p){return p.replace(my,(...c)=>c[1].toUpperCase())}function cs(p,c,l){switch(c.type){case 7:return p.visitTrigger(c,l);case 0:return p.visitState(c,l);case 1:return p.visitTransition(c,l);case 2:return p.visitSequence(c,l);case 3:return p.visitGroup(c,l);case 4:return p.visitAnimate(c,l);case 5:return p.visitKeyframes(c,l);case 6:return p.visitStyle(c,l);case 8:return p.visitReference(c,l);case 9:return p.visitAnimateChild(c,l);case 10:return p.visitAnimateRef(c,l);case 11:return p.visitQuery(c,l);case 12:return p.visitStagger(c,l);default:throw function Sc(p){return new i.wOt(3004,!1)}()}}function t_(p,c){return window.getComputedStyle(p)[c]}const _t="*";function Ft(p,c){const l=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(g=>function Cn(p,c,l){if(":"==p[0]){const ge=function $i(p,c){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,g)=>parseFloat(g)>parseFloat(l);case":decrement":return(l,g)=>parseFloat(g)<parseFloat(l);default:return c.push(function Ka(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,l);if("function"==typeof ge)return void c.push(ge);p=ge}const g=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return l.push(function wh(p){return new i.wOt(3015,!1)}()),c;const T=g[1],k=g[2],z=g[3];c.push(To(T,z));"<"==k[0]&&!(T==_t&&z==_t)&&c.push(To(z,T))}(g,l,c)):l.push(p),l}const Ks=new Set(["true","1"]),wi=new Set(["false","0"]);function To(p,c){const l=Ks.has(p)||wi.has(p),g=Ks.has(c)||wi.has(c);return(T,k)=>{let z=p==_t||p==T,re=c==_t||c==k;return!z&&l&&"boolean"==typeof T&&(z=T?Ks.has(p):wi.has(p)),!re&&g&&"boolean"==typeof k&&(re=k?Ks.has(c):wi.has(c)),z&&re}}const mu=new RegExp("s*:selfs*,?","g");function Lo(p,c,l,g){return new Ig(p).build(c,l,g)}class Ig{constructor(c){this._driver=c}build(c,l,g){const T=new VE(l);return this._resetContextStyleTimingState(T),cs(this,Cd(c),T)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,l){let g=l.queryCount=0,T=l.depCount=0;const k=[],z=[];return"@"==c.name.charAt(0)&&l.errors.push(function Yl(){return new i.wOt(3006,!1)}()),c.definitions.forEach(re=>{if(this._resetContextStyleTimingState(l),0==re.type){const ge=re,ze=ge.name;ze.toString().split(/\s*,\s*/).forEach(gt=>{ge.name=gt,k.push(this.visitState(ge,l))}),ge.name=ze}else if(1==re.type){const ge=this.visitTransition(re,l);g+=ge.queryCount,T+=ge.depCount,z.push(ge)}else l.errors.push(function Th(){return new i.wOt(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:z,queryCount:g,depCount:T,options:null}}visitState(c,l){const g=this.visitStyle(c.styles,l),T=c.options&&c.options.params||null;if(g.containsDynamicStyles){const k=new Set,z=T||{};g.styles.forEach(re=>{re instanceof Map&&re.forEach(ge=>{Xf(ge).forEach(ze=>{z.hasOwnProperty(ze)||k.add(ze)})})}),k.size&&(Zl(k.values()),l.errors.push(function bo(p,c){return new i.wOt(3008,!1)}()))}return{type:0,name:c.name,style:g,options:T?{params:T}:null}}visitTransition(c,l){l.queryCount=0,l.depCount=0;const g=cs(this,Cd(c.animation),l);return{type:1,matchers:Ft(c.expr,l.errors),animation:g,queryCount:l.queryCount,depCount:l.depCount,options:kh(c.options)}}visitSequence(c,l){return{type:2,steps:c.steps.map(g=>cs(this,g,l)),options:kh(c.options)}}visitGroup(c,l){const g=l.currentTime;let T=0;const k=c.steps.map(z=>{l.currentTime=g;const re=cs(this,z,l);return T=Math.max(T,l.currentTime),re});return l.currentTime=T,{type:3,steps:k,options:kh(c.options)}}visitAnimate(c,l){const g=function BE(p,c){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Cg(gu(p,c).duration,0,"");const l=p;if(l.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=Cg(0,0,"");return k.dynamic=!0,k.strValue=l,k}const T=gu(l,c);return Cg(T.duration,T.delay,T.easing)}(c.timings,l.errors);l.currentAnimateTimings=g;let T,k=c.styles?c.styles:(0,as.iF)({});if(5==k.type)T=this.visitKeyframes(k,l);else{let z=c.styles,re=!1;if(!z){re=!0;const ze={};g.easing&&(ze.easing=g.easing),z=(0,as.iF)(ze)}l.currentTime+=g.duration+g.delay;const ge=this.visitStyle(z,l);ge.isEmptyStep=re,T=ge}return l.currentAnimateTimings=null,{type:4,timings:g,style:T,options:null}}visitStyle(c,l){const g=this._makeStyleAst(c,l);return this._validateStyleAst(g,l),g}_makeStyleAst(c,l){const g=[],T=Array.isArray(c.styles)?c.styles:[c.styles];for(let re of T)"string"==typeof re?re===as.kp?g.push(re):l.errors.push(new i.wOt(3002,!1)):g.push(py(re));let k=!1,z=null;return g.forEach(re=>{if(re instanceof Map&&(re.has("easing")&&(z=re.get("easing"),re.delete("easing")),!k))for(let ge of re.values())if(ge.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:g,easing:z,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,l){const g=l.currentAnimateTimings;let T=l.currentTime,k=l.currentTime;g&&k>0&&(k-=g.duration+g.delay),c.styles.forEach(z=>{"string"!=typeof z&&z.forEach((re,ge)=>{const ze=l.collectedStyles.get(l.currentQuerySelector),gt=ze.get(ge);let Lt=!0;gt&&(k!=T&&k>=gt.startTime&&T<=gt.endTime&&(l.errors.push(function ha(p,c,l,g,T){return new i.wOt(3010,!1)}()),Lt=!1),k=gt.startTime),Lt&&ze.set(ge,{startTime:k,endTime:T}),l.options&&function Yf(p,c,l){const g=c.params||{},T=Xf(p);T.length&&T.forEach(k=>{g.hasOwnProperty(k)||l.push(function Wm(p){return new i.wOt(3001,!1)}())})}(re,l.options,l.errors)})})}visitKeyframes(c,l){const g={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function mg(){return new i.wOt(3011,!1)}()),g;let k=0;const z=[];let re=!1,ge=!1,ze=0;const gt=c.steps.map(fr=>{const Vr=this._makeStyleAst(fr,l);let Wn=null!=Vr.offset?Vr.offset:function UE(p){if("string"==typeof p)return null;let c=null;if(Array.isArray(p))p.forEach(l=>{if(l instanceof Map&&l.has("offset")){const g=l;c=parseFloat(g.get("offset")),g.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const l=p;c=parseFloat(l.get("offset")),l.delete("offset")}return c}(Vr.styles),sr=0;return null!=Wn&&(k++,sr=Vr.offset=Wn),ge=ge||sr<0||sr>1,re=re||sr<ze,ze=sr,z.push(sr),Vr});ge&&l.errors.push(function _d(){return new i.wOt(3012,!1)}()),re&&l.errors.push(function Ih(){return new i.wOt(3200,!1)}());const Lt=c.steps.length;let vn=0;k>0&&k<Lt?l.errors.push(function Ch(){return new i.wOt(3202,!1)}()):0==k&&(vn=1/(Lt-1));const yn=Lt-1,bn=l.currentTime,qt=l.currentAnimateTimings,Pn=qt.duration;return gt.forEach((fr,Vr)=>{const Wn=vn>0?Vr==yn?1:vn*Vr:z[Vr],sr=Wn*Pn;l.currentTime=bn+qt.delay+sr,qt.duration=sr,this._validateStyleAst(fr,l),fr.offset=Wn,g.styles.push(fr)}),g}visitReference(c,l){return{type:8,animation:cs(this,Cd(c.animation),l),options:kh(c.options)}}visitAnimateChild(c,l){return l.depCount++,{type:9,options:kh(c.options)}}visitAnimateRef(c,l){return{type:10,animation:this.visitReference(c.animation,l),options:kh(c.options)}}visitQuery(c,l){const g=l.currentQuerySelector,T=c.options||{};l.queryCount++,l.currentQuery=c;const[k,z]=function FE(p){const c=!!p.split(/\s*,\s*/).find(l=>":self"==l);return c&&(p=p.replace(mu,"")),p=p.replace(/@\*/g,Id).replace(/@\w+/g,l=>Id+"-"+l.slice(1)).replace(/:animating/g,pu),[p,c]}(c.selector);l.currentQuerySelector=g.length?g+" "+k:k,Da(l.collectedStyles,l.currentQuerySelector,new Map);const re=cs(this,Cd(c.animation),l);return l.currentQuery=null,l.currentQuerySelector=g,{type:11,selector:k,limit:T.limit||0,optional:!!T.optional,includeSelf:z,animation:re,originalSelector:c.selector,options:kh(c.options)}}visitStagger(c,l){l.currentQuery||l.errors.push(function yd(){return new i.wOt(3013,!1)}());const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:gu(c.timings,l.errors,!0);return{type:12,animation:cs(this,Cd(c.animation),l),timings:g,options:null}}}class VE{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kh(p){return p?(p=Mc(p)).params&&(p.params=function LE(p){return p?Mc(p):null}(p.params)):p={},p}function Cg(p,c,l){return{duration:p,delay:c,easing:l}}function _u(p,c,l,g,T,k,z=null,re=!1){return{type:1,element:p,keyframes:c,preStyleProps:l,postStyleProps:g,duration:T,delay:k,totalTime:T+k,easing:z,subTimeline:re}}class _y{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,l){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...l)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Jf=new RegExp(":enter","g"),L0=new RegExp(":leave","g");function n_(p,c,l,g,T,k=new Map,z=new Map,re,ge,ze=[]){return(new Xb).buildKeyframes(p,c,l,g,T,k,z,re,ge,ze)}class Xb{buildKeyframes(c,l,g,T,k,z,re,ge,ze,gt=[]){ze=ze||new _y;const Lt=new Vv(c,l,ze,T,k,gt,[]);Lt.options=ge;const vn=ge.delay?Ql(ge.delay):0;Lt.currentTimeline.delayNextStep(vn),Lt.currentTimeline.setStyles([z],null,Lt.errors,ge),cs(this,g,Lt);const yn=Lt.timelines.filter(bn=>bn.containsAnimation());if(yn.length&&re.size){let bn;for(let qt=yn.length-1;qt>=0;qt--){const Pn=yn[qt];if(Pn.element===l){bn=Pn;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([re],null,Lt.errors,ge)}return yn.length?yn.map(bn=>bn.buildKeyframes()):[_u(l,[],[],[],0,vn,"",!1)]}visitTrigger(c,l){}visitState(c,l){}visitTransition(c,l){}visitAnimateChild(c,l){const g=l.subInstructions.get(l.element);if(g){const T=l.createSubContext(c.options),k=l.currentTimeline.currentTime,z=this._visitSubInstructions(g,T,T.options);k!=z&&l.transformIntoNewTimeline(z)}l.previousNode=c}visitAnimateRef(c,l){const g=l.createSubContext(c.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],l,g),this.visitReference(c.animation,g),l.transformIntoNewTimeline(g.currentTimeline.currentTime),l.previousNode=c}_applyAnimationRefDelays(c,l,g){for(const T of c){const k=T?.delay;if(k){const z="number"==typeof k?k:Ql(wd(k,T?.params??{},l.errors));g.delayNextStep(z)}}}_visitSubInstructions(c,l,g){let k=l.currentTimeline.currentTime;const z=null!=g.duration?Ql(g.duration):null,re=null!=g.delay?Ql(g.delay):null;return 0!==z&&c.forEach(ge=>{const ze=l.appendInstructionToTimeline(ge,z,re);k=Math.max(k,ze.duration+ze.delay)}),k}visitReference(c,l){l.updateOptions(c.options,!0),cs(this,c.animation,l),l.previousNode=c}visitSequence(c,l){const g=l.subContextCount;let T=l;const k=c.options;if(k&&(k.params||k.delay)&&(T=l.createSubContext(k),T.transformIntoNewTimeline(),null!=k.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Lv);const z=Ql(k.delay);T.delayNextStep(z)}c.steps.length&&(c.steps.forEach(z=>cs(this,z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>g&&T.transformIntoNewTimeline()),l.previousNode=c}visitGroup(c,l){const g=[];let T=l.currentTimeline.currentTime;const k=c.options&&c.options.delay?Ql(c.options.delay):0;c.steps.forEach(z=>{const re=l.createSubContext(c.options);k&&re.delayNextStep(k),cs(this,z,re),T=Math.max(T,re.currentTimeline.currentTime),g.push(re.currentTimeline)}),g.forEach(z=>l.currentTimeline.mergeTimelineCollectedStyles(z)),l.transformIntoNewTimeline(T),l.previousNode=c}_visitTiming(c,l){if(c.dynamic){const g=c.strValue;return gu(l.params?wd(g,l.params,l.errors):g,l.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,l){const g=l.currentAnimateTimings=this._visitTiming(c.timings,l),T=l.currentTimeline;g.delay&&(l.incrementTime(g.delay),T.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,l):(l.incrementTime(g.duration),this.visitStyle(k,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=c}visitStyle(c,l){const g=l.currentTimeline,T=l.currentAnimateTimings;!T&&g.hasCurrentStyleProperties()&&g.forwardFrame();const k=T&&T.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(k):g.setStyles(c.styles,k,l.errors,l.options),l.previousNode=c}visitKeyframes(c,l){const g=l.currentAnimateTimings,T=l.currentTimeline.duration,k=g.duration,re=l.createSubContext().currentTimeline;re.easing=g.easing,c.styles.forEach(ge=>{re.forwardTime((ge.offset||0)*k),re.setStyles(ge.styles,ge.easing,l.errors,l.options),re.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(re),l.transformIntoNewTimeline(T+k),l.previousNode=c}visitQuery(c,l){const g=l.currentTimeline.currentTime,T=c.options||{},k=T.delay?Ql(T.delay):0;k&&(6===l.previousNode.type||0==g&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Lv);let z=g;const re=l.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=re.length;let ge=null;re.forEach((ze,gt)=>{l.currentQueryIndex=gt;const Lt=l.createSubContext(c.options,ze);k&&Lt.delayNextStep(k),ze===l.element&&(ge=Lt.currentTimeline),cs(this,c.animation,Lt),Lt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Lt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(z),ge&&(l.currentTimeline.mergeTimelineCollectedStyles(ge),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=c}visitStagger(c,l){const g=l.parentContext,T=l.currentTimeline,k=c.timings,z=Math.abs(k.duration),re=z*(l.currentQueryTotal-1);let ge=z*l.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":ge=re-ge;break;case"full":ge=g.currentStaggerTime}const gt=l.currentTimeline;ge&&gt.delayNextStep(ge);const Lt=gt.currentTime;cs(this,c.animation,l),l.previousNode=c,g.currentStaggerTime=T.currentTime-Lt+(T.startTime-g.currentTimeline.startTime)}}const Lv={};class Vv{constructor(c,l,g,T,k,z,re,ge){this._driver=c,this.element=l,this.subInstructions=g,this._enterClassName=T,this._leaveClassName=k,this.errors=z,this.timelines=re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ge||new yy(this._driver,l,0),re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,l){if(!c)return;const g=c;let T=this.options;null!=g.duration&&(T.duration=Ql(g.duration)),null!=g.delay&&(T.delay=Ql(g.delay));const k=g.params;if(k){let z=T.params;z||(z=this.options.params={}),Object.keys(k).forEach(re=>{(!l||!z.hasOwnProperty(re))&&(z[re]=wd(k[re],z,this.errors))})}}_copyOptions(){const c={};if(this.options){const l=this.options.params;if(l){const g=c.params={};Object.keys(l).forEach(T=>{g[T]=l[T]})}}return c}createSubContext(c=null,l,g){const T=l||this.element,k=new Vv(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,g||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,l,g){const T={duration:l??c.duration,delay:this.currentTimeline.currentTime+(g??0)+c.delay,easing:""},k=new jE(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,T,c.stretchStartingKeyframe);return this.timelines.push(k),T}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,l,g,T,k,z){let re=[];if(T&&re.push(this.element),c.length>0){c=(c=c.replace(Jf,"."+this._enterClassName)).replace(L0,"."+this._leaveClassName);let ze=this._driver.query(this.element,c,1!=g);0!==g&&(ze=g<0?ze.slice(ze.length+g,ze.length):ze.slice(0,g)),re.push(...ze)}return!k&&0==re.length&&z.push(function vd(p){return new i.wOt(3014,!1)}()),re}}class yy{constructor(c,l,g,T){this._driver=c,this.element=l,this.startTime=g,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+c),l&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,l){return this.applyStylesToKeyframe(),new yy(this._driver,c,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,l){this._localTimelineStyles.set(c,l),this._globalTimelineStyles.set(c,l),this._styleSummary.set(c,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[l,g]of this._globalTimelineStyles)this._backFill.set(l,g||as.kp),this._currentKeyframe.set(l,as.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,l,g,T){l&&this._previousKeyframe.set("easing",l);const k=T&&T.params||{},z=function Co(p,c){const l=new Map;let g;return p.forEach(T=>{if("*"===T){g=g||c.keys();for(let k of g)l.set(k,as.kp)}else Jl(T,l)}),l}(c,this._globalTimelineStyles);for(let[re,ge]of z){const ze=wd(ge,k,g);this._pendingStyles.set(re,ze),this._localTimelineStyles.has(re)||this._backFill.set(re,this._globalTimelineStyles.get(re)??as.kp),this._updateStyle(re,ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,l)=>{this._currentKeyframe.set(l,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,c)}))}snapshotCurrentStyles(){for(let[c,l]of this._localTimelineStyles)this._pendingStyles.set(c,l),this._updateStyle(c,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let l in this._currentKeyframe)c.push(l);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((l,g)=>{const T=this._styleSummary.get(g);(!T||l.time>T.time)&&this._updateStyle(g,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,l=new Set,g=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((re,ge)=>{const ze=Jl(re,new Map,this._backFill);ze.forEach((gt,Lt)=>{gt===as.FX?c.add(Lt):gt===as.kp&&l.add(Lt)}),g||ze.set("offset",ge/this.duration),T.push(ze)});const k=c.size?Zl(c.values()):[],z=l.size?Zl(l.values()):[];if(g){const re=T[0],ge=new Map(re);re.set("offset",0),ge.set("offset",1),T=[re,ge]}return _u(this.element,T,k,z,this.duration,this.startTime,this.easing,!1)}}class jE extends yy{constructor(c,l,g,T,k,z,re=!1){super(c,l,z.delay),this.keyframes=g,this.preStyleProps=T,this.postStyleProps=k,this._stretchStartingKeyframe=re,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:l,duration:g,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const k=[],z=g+l,re=l/z,ge=Jl(c[0]);ge.set("offset",0),k.push(ge);const ze=Jl(c[0]);ze.set("offset",$E(re)),k.push(ze);const gt=c.length-1;for(let Lt=1;Lt<=gt;Lt++){let vn=Jl(c[Lt]);const yn=vn.get("offset");vn.set("offset",$E((l+yn*g)/z)),k.push(vn)}g=z,l=0,T="",c=k}return _u(this.element,c,this.preStyleProps,this.postStyleProps,g,l,T,!0)}}function $E(p,c=3){const l=Math.pow(10,c-1);return Math.round(p*l)/l}class Uv{}const GE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class U0 extends Uv{normalizePropertyName(c,l){return bg(c)}normalizeStyleValue(c,l,g,T){let k="";const z=g.toString().trim();if(GE.has(l)&&0!==g&&"0"!==g)if("number"==typeof g)k="px";else{const re=g.match(/^[+-]?[\d\.]+([a-z]*)$/);re&&0==re[1].length&&T.push(function Km(p,c){return new i.wOt(3005,!1)}())}return z+k}}function Bv(p,c,l,g,T,k,z,re,ge,ze,gt,Lt,vn){return{type:0,element:p,triggerName:c,isRemovalTransition:T,fromState:l,fromStyles:k,toState:g,toStyles:z,timelines:re,queriedElements:ge,preStyleProps:ze,postStyleProps:gt,totalTime:Lt,errors:vn}}const vy={};class Zf{constructor(c,l,g){this._triggerName=c,this.ast=l,this._stateStyles=g}match(c,l,g,T){return function B0(p,c,l,g,T){return p.some(k=>k(c,l,g,T))}(this.ast.matchers,c,l,g,T)}buildStyles(c,l,g){let T=this._stateStyles.get("*");return void 0!==c&&(T=this._stateStyles.get(c?.toString())||T),T?T.buildStyles(l,g):new Map}build(c,l,g,T,k,z,re,ge,ze,gt){const Lt=[],vn=this.ast.options&&this.ast.options.params||vy,bn=this.buildStyles(g,re&&re.params||vy,Lt),qt=ge&&ge.params||vy,Pn=this.buildStyles(T,qt,Lt),fr=new Set,Vr=new Map,Wn=new Map,sr="void"===T,mi={params:HE(qt,vn),delay:this.ast.options?.delay},Wr=gt?[]:n_(c,l,this.ast.animation,k,z,bn,Pn,mi,ze,Lt);let _i=0;if(Wr.forEach(Xi=>{_i=Math.max(Xi.duration+Xi.delay,_i)}),Lt.length)return Bv(l,this._triggerName,g,T,sr,bn,Pn,[],[],Vr,Wn,_i,Lt);Wr.forEach(Xi=>{const Gi=Xi.element,fo=Da(Vr,Gi,new Set);Xi.preStyleProps.forEach(qs=>fo.add(qs));const Zo=Da(Wn,Gi,new Set);Xi.postStyleProps.forEach(qs=>Zo.add(qs)),Gi!==l&&fr.add(Gi)});const Yi=Zl(fr.values());return Bv(l,this._triggerName,g,T,sr,bn,Pn,Wr,Yi,Vr,Wn,_i)}}function HE(p,c){const l=Mc(c);for(const g in p)p.hasOwnProperty(g)&&null!=p[g]&&(l[g]=p[g]);return l}class j0{constructor(c,l,g){this.styles=c,this.defaultParams=l,this.normalizer=g}buildStyles(c,l){const g=new Map,T=Mc(this.defaultParams);return Object.keys(c).forEach(k=>{const z=c[k];null!==z&&(T[k]=z)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((z,re)=>{z&&(z=wd(z,T,l));const ge=this.normalizer.normalizePropertyName(re,l);z=this.normalizer.normalizeStyleValue(re,ge,z,l),g.set(re,z)})}),g}}class Zb{constructor(c,l,g){this.name=c,this.ast=l,this._normalizer=g,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new j0(T.style,T.options&&T.options.params||{},g))}),Ey(this.states,"true","1"),Ey(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new Zf(c,T,this.states))}),this.fallbackTransition=function jv(p,c,l){return new Zf(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,re)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,l,g,T){return this.transitionFactories.find(z=>z.match(c,l,g,T))||null}matchStyles(c,l,g){return this.fallbackTransition.buildStyles(c,l,g)}}function Ey(p,c,l){p.has(c)?p.has(l)||p.set(l,p.get(c)):p.has(l)&&p.set(c,p.get(l))}const yu=new _y;class $0{constructor(c,l,g){this.bodyNode=c,this._driver=l,this._normalizer=g,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,l){const g=[],k=Lo(this._driver,l,g,[]);if(g.length)throw function ls(p){return new i.wOt(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,l,g){const T=c.element,k=uy(this._normalizer,c.keyframes,l,g);return this._driver.animate(T,k,c.duration,c.delay,c.easing,[],!0)}create(c,l,g={}){const T=[],k=this._animations.get(c);let z;const re=new Map;if(k?(z=n_(this._driver,l,k,Wf,Kf,new Map,new Map,g,yu,T),z.forEach(gt=>{const Lt=Da(re,gt.element,new Map);gt.postStyleProps.forEach(vn=>Lt.set(vn,null))})):(T.push(function $f(){return new i.wOt(3300,!1)}()),z=[]),T.length)throw function Ah(p){return new i.wOt(3504,!1)}();re.forEach((gt,Lt)=>{gt.forEach((vn,yn)=>{gt.set(yn,this._driver.computeStyle(Lt,yn,as.kp))})});const ze=Pc(z.map(gt=>{const Lt=re.get(gt.element);return this._buildPlayer(gt,new Map,Lt)}));return this._playersById.set(c,ze),ze.onDestroy(()=>this.destroy(c)),this.players.push(ze),ze}destroy(c){const l=this._getPlayer(c);l.destroy(),this._playersById.delete(c);const g=this.players.indexOf(l);g>=0&&this.players.splice(g,1)}_getPlayer(c){const l=this._playersById.get(c);if(!l)throw function Dh(p){return new i.wOt(3301,!1)}();return l}listen(c,l,g,T){const k=Qm(l,"","","");return yg(this._getPlayer(c),g,k,T),()=>{}}command(c,l,g,T){if("register"==g)return void this.register(c,T[0]);if("create"==g)return void this.create(c,l,T[0]||{});const k=this._getPlayer(c);switch(g){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(c)}}}const $v="ng-animate-queued",Il="ng-animate-disabled",G0=[],qE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},H0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nc="__ng_removed";class r_{get params(){return this.options.params}constructor(c,l=""){this.namespaceId=l;const g=c&&c.hasOwnProperty("value");if(this.value=function QE(p){return p??null}(g?c.value:c),g){const k=Mc(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const l=c.params;if(l){const g=this.options.params;Object.keys(l).forEach(T=>{null==g[T]&&(g[T]=l[T])})}}}const Ad="void",Gv=new r_(Ad);class YE{constructor(c,l,g){this.id=c,this.hostElement=l,this._engine=g,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,ec(l,this._hostClassName)}listen(c,l,g,T){if(!this._triggers.has(l))throw function ly(p,c){return new i.wOt(3302,!1)}();if(null==g||0==g.length)throw function Ym(p){return new i.wOt(3303,!1)}();if(!function W0(p){return"start"==p||"done"==p}(g))throw function cy(p,c){return new i.wOt(3400,!1)}();const k=Da(this._elementListeners,c,[]),z={name:l,phase:g,callback:T};k.push(z);const re=Da(this._engine.statesByElement,c,new Map);return re.has(l)||(ec(c,qa),ec(c,qa+"-"+l),re.set(l,Gv)),()=>{this._engine.afterFlush(()=>{const ge=k.indexOf(z);ge>=0&&k.splice(ge,1),this._triggers.has(l)||re.delete(l)})}}register(c,l){return!this._triggers.has(c)&&(this._triggers.set(c,l),!0)}_getTrigger(c){const l=this._triggers.get(c);if(!l)throw function Xm(p){return new i.wOt(3401,!1)}();return l}trigger(c,l,g,T=!0){const k=this._getTrigger(l),z=new Hv(this.id,l,c);let re=this._engine.statesByElement.get(c);re||(ec(c,qa),ec(c,qa+"-"+l),this._engine.statesByElement.set(c,re=new Map));let ge=re.get(l);const ze=new r_(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&ge&&ze.absorbOptions(ge.options),re.set(l,ze),ge||(ge=Gv),ze.value!==Ad&&ge.value===ze.value){if(!function JE(p,c){const l=Object.keys(p),g=Object.keys(c);if(l.length!=g.length)return!1;for(let T=0;T<l.length;T++){const k=l[T];if(!c.hasOwnProperty(k)||p[k]!==c[k])return!1}return!0}(ge.params,ze.params)){const qt=[],Pn=k.matchStyles(ge.value,ge.params,qt),fr=k.matchStyles(ze.value,ze.params,qt);qt.length?this._engine.reportError(qt):this._engine.afterFlush(()=>{Tl(c,Pn),Sa(c,fr)})}return}const vn=Da(this._engine.playersByElement,c,[]);vn.forEach(qt=>{qt.namespaceId==this.id&&qt.triggerName==l&&qt.queued&&qt.destroy()});let yn=k.matchTransition(ge.value,ze.value,c,ze.params),bn=!1;if(!yn){if(!T)return;yn=k.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:l,transition:yn,fromState:ge,toState:ze,player:z,isFallbackTransition:bn}),bn||(ec(c,$v),z.onStart(()=>{wg(c,$v)})),z.onDone(()=>{let qt=this.players.indexOf(z);qt>=0&&this.players.splice(qt,1);const Pn=this._engine.playersByElement.get(c);if(Pn){let fr=Pn.indexOf(z);fr>=0&&Pn.splice(fr,1)}}),this.players.push(z),vn.push(z),z}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(l=>l.delete(c)),this._elementListeners.forEach((l,g)=>{this._elementListeners.set(g,l.filter(T=>T.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const l=this._engine.playersByElement.get(c);l&&(l.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,l){const g=this._engine.driver.query(c,Id,!0);g.forEach(T=>{if(T[Nc])return;const k=this._engine.fetchNamespacesByElement(T);k.size?k.forEach(z=>z.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(c,l,g,T){const k=this._engine.statesByElement.get(c),z=new Map;if(k){const re=[];if(k.forEach((ge,ze)=>{if(z.set(ze,ge.value),this._triggers.has(ze)){const gt=this.trigger(c,ze,Ad,T);gt&&re.push(gt)}}),re.length)return this._engine.markElementAsRemoved(this.id,c,!0,l,z),g&&Pc(re).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const l=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(l&&g){const T=new Set;l.forEach(k=>{const z=k.name;if(T.has(z))return;T.add(z);const ge=this._triggers.get(z).fallbackTransition,ze=g.get(z)||Gv,gt=new r_(Ad),Lt=new Hv(this.id,z,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:z,transition:ge,fromState:ze,toState:gt,player:Lt,isFallbackTransition:!0})})}}removeNode(c,l){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,l),this.triggerLeaveAnimation(c,l,!0))return;let T=!1;if(g.totalAnimations){const k=g.players.length?g.playersByQueriedElement.get(c):[];if(k&&k.length)T=!0;else{let z=c;for(;z=z.parentNode;)if(g.statesByElement.get(z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(c),T)g.markElementAsRemoved(this.id,c,!1,l);else{const k=c[Nc];(!k||k===qE)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,l))}}insertNode(c,l){ec(c,this._hostClassName)}drainQueuedTransitions(c){const l=[];return this._queue.forEach(g=>{const T=g.player;if(T.destroyed)return;const k=g.element,z=this._elementListeners.get(k);z&&z.forEach(re=>{if(re.name==g.triggerName){const ge=Qm(k,g.triggerName,g.fromState.value,g.toState.value);ge._data=c,yg(g.player,re.phase,ge,re.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(g)}),this._queue=[],l.sort((g,T)=>{const k=g.transition.ast.depCount,z=T.transition.ast.depCount;return 0==k||0==z?k-z:this._engine.driver.containsElement(g.element,T.element)?1:-1})}destroy(c){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class z0{_onRemovalComplete(c,l){this.onRemovalComplete(c,l)}constructor(c,l,g){this.bodyNode=c,this.driver=l,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(l=>{l.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,l){const g=new YE(c,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(g,l):(this.newHostElements.set(l,g),this.collectEnterElement(l)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,l){const g=this._namespaceList,T=this.namespacesByHostElement;if(g.length-1>=0){let z=!1,re=this.driver.getParentElement(l);for(;re;){const ge=T.get(re);if(ge){const ze=g.indexOf(ge);g.splice(ze+1,0,c),z=!0;break}re=this.driver.getParentElement(re)}z||g.unshift(c)}else g.push(c);return T.set(l,c),c}register(c,l){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,l)),g}registerTrigger(c,l,g){let T=this._namespaceLookup[c];T&&T.register(l,g)&&this.totalAnimations++}destroy(c,l){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const g=this._fetchNamespace(c);this.namespacesByHostElement.delete(g.hostElement);const T=this._namespaceList.indexOf(g);T>=0&&this._namespaceList.splice(T,1),g.destroy(l),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const l=new Set,g=this.statesByElement.get(c);if(g)for(let T of g.values())if(T.namespaceId){const k=this._fetchNamespace(T.namespaceId);k&&l.add(k)}return l}trigger(c,l,g,T){if(ep(l)){const k=this._fetchNamespace(c);if(k)return k.trigger(l,g,T),!0}return!1}insertNode(c,l,g,T){if(!ep(l))return;const k=l[Nc];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const z=this.collectedLeaveElements.indexOf(l);z>=0&&this.collectedLeaveElements.splice(z,1)}if(c){const z=this._fetchNamespace(c);z&&z.insertNode(l,g)}T&&this.collectEnterElement(l)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,l){l?this.disabledNodes.has(c)||(this.disabledNodes.add(c),ec(c,Il)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),wg(c,Il))}removeNode(c,l,g){if(ep(l)){const T=c?this._fetchNamespace(c):null;T?T.removeNode(l,g):this.markElementAsRemoved(c,l,!1,g);const k=this.namespacesByHostElement.get(l);k&&k.id!==c&&k.removeNode(l,g)}else this._onRemovalComplete(l,g)}markElementAsRemoved(c,l,g,T,k){this.collectedLeaveElements.push(l),l[Nc]={namespaceId:c,setForRemoval:T,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,l,g,T,k){return ep(l)?this._fetchNamespace(c).listen(l,g,T,k):()=>{}}_buildInstruction(c,l,g,T,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,T,c.fromState.options,c.toState.options,l,k)}destroyInnerAnimations(c){let l=this.driver.query(c,Id,!0);l.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(c,pu,!0),l.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const l=this.playersByElement.get(c);l&&l.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const l=this.playersByQueriedElement.get(c);l&&l.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Pc(this.players).onDone(()=>c());c()})}processLeaveNode(c){const l=c[Nc];if(l&&l.setForRemoval){if(c[Nc]=qE,l.namespaceId){this.destroyInnerAnimations(c);const g=this._fetchNamespace(l.namespaceId);g&&g.clearElementCache(c)}this._onRemovalComplete(c,l.setForRemoval)}c.classList?.contains(Il)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(c=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,T)=>this._balanceNamespaceList(g,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)ec(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{l=this._flushAnimations(g,c)}finally{for(let T=0;T<g.length;T++)g[T]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],l.length?Pc(l).onDone(()=>{g.forEach(T=>T())}):g.forEach(T=>T())}}reportError(c){throw function Ov(p){return new i.wOt(3402,!1)}()}_flushAnimations(c,l){const g=new _y,T=[],k=new Map,z=[],re=new Map,ge=new Map,ze=new Map,gt=new Set;this.disabledNodes.forEach(Nn=>{gt.add(Nn);const qn=this.driver.query(Nn,".ng-animate-queued",!0);for(let vr=0;vr<qn.length;vr++)gt.add(qn[vr])});const Lt=this.bodyNode,vn=Array.from(this.statesByElement.keys()),yn=Kv(vn,this.collectedEnterElements),bn=new Map;let qt=0;yn.forEach((Nn,qn)=>{const vr=Wf+qt++;bn.set(qn,vr),Nn.forEach(Kr=>ec(Kr,vr))});const Pn=[],fr=new Set,Vr=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const qn=this.collectedLeaveElements[Nn],vr=qn[Nc];vr&&vr.setForRemoval&&(Pn.push(qn),fr.add(qn),vr.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(Kr=>fr.add(Kr)):Vr.add(qn))}const Wn=new Map,sr=Kv(vn,Array.from(fr));sr.forEach((Nn,qn)=>{const vr=Kf+qt++;Wn.set(qn,vr),Nn.forEach(Kr=>ec(Kr,vr))}),c.push(()=>{yn.forEach((Nn,qn)=>{const vr=bn.get(qn);Nn.forEach(Kr=>wg(Kr,vr))}),sr.forEach((Nn,qn)=>{const vr=Wn.get(qn);Nn.forEach(Kr=>wg(Kr,vr))}),Pn.forEach(Nn=>{this.processLeaveNode(Nn)})});const mi=[],Wr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(l).forEach(vr=>{const Kr=vr.player,Us=vr.element;if(mi.push(Kr),this.collectedEnterElements.length){const lo=Us[Nc];if(lo&&lo.setForMove){if(lo.previousTriggersValues&&lo.previousTriggersValues.has(vr.triggerName)){const Ma=lo.previousTriggersValues.get(vr.triggerName),ea=this.statesByElement.get(vr.element);if(ea&&ea.has(vr.triggerName)){const np=ea.get(vr.triggerName);np.value=Ma,ea.set(vr.triggerName,np)}}return void Kr.destroy()}}const Ra=!Lt||!this.driver.containsElement(Lt,Us),po=Wn.get(Us),Cl=bn.get(Us),ki=this._buildInstruction(vr,g,Cl,po,Ra);if(ki.errors&&ki.errors.length)return void Wr.push(ki);if(Ra)return Kr.onStart(()=>Tl(Us,ki.fromStyles)),Kr.onDestroy(()=>Sa(Us,ki.toStyles)),void T.push(Kr);if(vr.isFallbackTransition)return Kr.onStart(()=>Tl(Us,ki.fromStyles)),Kr.onDestroy(()=>Sa(Us,ki.toStyles)),void T.push(Kr);const Pa=[];ki.timelines.forEach(lo=>{lo.stretchStartingKeyframe=!0,this.disabledNodes.has(lo.element)||Pa.push(lo)}),ki.timelines=Pa,g.append(Us,ki.timelines),z.push({instruction:ki,player:Kr,element:Us}),ki.queriedElements.forEach(lo=>Da(re,lo,[]).push(Kr)),ki.preStyleProps.forEach((lo,Ma)=>{if(lo.size){let ea=ge.get(Ma);ea||ge.set(Ma,ea=new Set),lo.forEach((np,Fh)=>ea.add(Fh))}}),ki.postStyleProps.forEach((lo,Ma)=>{let ea=ze.get(Ma);ea||ze.set(Ma,ea=new Set),lo.forEach((np,Fh)=>ea.add(Fh))})});if(Wr.length){const Nn=[];Wr.forEach(qn=>{Nn.push(function _g(p,c){return new i.wOt(3505,!1)}())}),mi.forEach(qn=>qn.destroy()),this.reportError(Nn)}const _i=new Map,Yi=new Map;z.forEach(Nn=>{const qn=Nn.element;g.has(qn)&&(Yi.set(qn,qn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,_i))}),T.forEach(Nn=>{const qn=Nn.element;this._getPreviousPlayers(qn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(Kr=>{Da(_i,qn,[]).push(Kr),Kr.destroy()})});const Xi=Pn.filter(Nn=>Iy(Nn,ge,ze)),Gi=new Map;Wv(Gi,this.driver,Vr,ze,as.kp).forEach(Nn=>{Iy(Nn,ge,ze)&&Xi.push(Nn)});const Zo=new Map;yn.forEach((Nn,qn)=>{Wv(Zo,this.driver,new Set(Nn),ge,as.FX)}),Xi.forEach(Nn=>{const qn=Gi.get(Nn),vr=Zo.get(Nn);Gi.set(Nn,new Map([...qn?.entries()??[],...vr?.entries()??[]]))});const qs=[],Eu=[],Ya={};z.forEach(Nn=>{const{element:qn,player:vr,instruction:Kr}=Nn;if(g.has(qn)){if(gt.has(qn))return vr.onDestroy(()=>Sa(qn,Kr.toStyles)),vr.disabled=!0,vr.overrideTotalTime(Kr.totalTime),void T.push(vr);let Us=Ya;if(Yi.size>1){let po=qn;const Cl=[];for(;po=po.parentNode;){const ki=Yi.get(po);if(ki){Us=ki;break}Cl.push(po)}Cl.forEach(ki=>Yi.set(ki,Us))}const Ra=this._buildAnimation(vr.namespaceId,Kr,_i,k,Zo,Gi);if(vr.setRealPlayer(Ra),Us===Ya)qs.push(vr);else{const po=this.playersByElement.get(Us);po&&po.length&&(vr.parentPlayer=Pc(po)),T.push(vr)}}else Tl(qn,Kr.fromStyles),vr.onDestroy(()=>Sa(qn,Kr.toStyles)),Eu.push(vr),gt.has(qn)&&T.push(vr)}),Eu.forEach(Nn=>{const qn=k.get(Nn.element);if(qn&&qn.length){const vr=Pc(qn);Nn.setRealPlayer(vr)}}),T.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Pn.length;Nn++){const qn=Pn[Nn],vr=qn[Nc];if(wg(qn,Kf),vr&&vr.hasAnimation)continue;let Kr=[];if(re.size){let Ra=re.get(qn);Ra&&Ra.length&&Kr.push(...Ra);let po=this.driver.query(qn,pu,!0);for(let Cl=0;Cl<po.length;Cl++){let ki=re.get(po[Cl]);ki&&ki.length&&Kr.push(...ki)}}const Us=Kr.filter(Ra=>!Ra.destroyed);Us.length?qv(this,qn,Us):this.processLeaveNode(qn)}return Pn.length=0,qs.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const qn=this.players.indexOf(Nn);this.players.splice(qn,1)}),Nn.play()}),qs}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,l,g,T,k){let z=[];if(l){const re=this.playersByQueriedElement.get(c);re&&(z=re)}else{const re=this.playersByElement.get(c);if(re){const ge=!k||k==Ad;re.forEach(ze=>{ze.queued||!ge&&ze.triggerName!=T||z.push(ze)})}}return(g||T)&&(z=z.filter(re=>!(g&&g!=re.namespaceId||T&&T!=re.triggerName))),z}_beforeAnimationBuild(c,l,g){const k=l.element,z=l.isRemovalTransition?void 0:c,re=l.isRemovalTransition?void 0:l.triggerName;for(const ge of l.timelines){const ze=ge.element,gt=ze!==k,Lt=Da(g,ze,[]);this._getPreviousPlayers(ze,gt,z,re,l.toState).forEach(yn=>{const bn=yn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),yn.destroy(),Lt.push(yn)})}Tl(k,l.fromStyles)}_buildAnimation(c,l,g,T,k,z){const re=l.triggerName,ge=l.element,ze=[],gt=new Set,Lt=new Set,vn=l.timelines.map(bn=>{const qt=bn.element;gt.add(qt);const Pn=qt[Nc];if(Pn&&Pn.removedBeforeQueried)return new as.sf(bn.duration,bn.delay);const fr=qt!==ge,Vr=function by(p){const c=[];return Ty(p,c),c}((g.get(qt)||G0).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===qt),Wn=k.get(qt),sr=z.get(qt),mi=uy(this._normalizer,bn.keyframes,Wn,sr),Wr=this._buildPlayer(bn,mi,Vr);if(bn.subTimeline&&T&&Lt.add(qt),fr){const _i=new Hv(c,re,qt);_i.setRealPlayer(Wr),ze.push(_i)}return Wr});ze.forEach(bn=>{Da(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function XE(p,c,l){let g=p.get(c);if(g){if(g.length){const T=g.indexOf(l);g.splice(T,1)}0==g.length&&p.delete(c)}return g}(this.playersByQueriedElement,bn.element,bn))}),gt.forEach(bn=>ec(bn,fy));const yn=Pc(vn);return yn.onDestroy(()=>{gt.forEach(bn=>wg(bn,fy)),Sa(ge,l.toStyles)}),Lt.forEach(bn=>{Da(T,bn,[]).push(yn)}),yn}_buildPlayer(c,l,g){return l.length>0?this.driver.animate(c.element,l,c.duration,c.delay,c.easing,g):new as.sf(c.duration,c.delay)}}class Hv{constructor(c,l,g){this.namespaceId=c,this.triggerName=l,this.element=g,this._player=new as.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((l,g)=>{l.forEach(T=>yg(c,g,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const l=this._player;l.triggerCallback&&c.onStart(()=>l.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,l){Da(this._queuedCallbacks,c,[]).push(l)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const l=this._player;l.triggerCallback&&l.triggerCallback(c)}}function ep(p){return p&&1===p.nodeType}function zv(p,c){const l=p.style.display;return p.style.display=c??"none",l}function Wv(p,c,l,g,T){const k=[];l.forEach(ge=>k.push(zv(ge)));const z=[];g.forEach((ge,ze)=>{const gt=new Map;ge.forEach(Lt=>{const vn=c.computeStyle(ze,Lt,T);gt.set(Lt,vn),(!vn||0==vn.length)&&(ze[Nc]=H0,z.push(ze))}),p.set(ze,gt)});let re=0;return l.forEach(ge=>zv(ge,k[re++])),z}function Kv(p,c){const l=new Map;if(p.forEach(re=>l.set(re,[])),0==c.length)return l;const T=new Set(c),k=new Map;function z(re){if(!re)return 1;let ge=k.get(re);if(ge)return ge;const ze=re.parentNode;return ge=l.has(ze)?ze:T.has(ze)?1:z(ze),k.set(re,ge),ge}return c.forEach(re=>{const ge=z(re);1!==ge&&l.get(ge).push(re)}),l}function ec(p,c){p.classList?.add(c)}function wg(p,c){p.classList?.remove(c)}function qv(p,c,l){Pc(l).onDone(()=>p.processLeaveNode(c))}function Ty(p,c){for(let l=0;l<p.length;l++){const g=p[l];g instanceof as.ui?Ty(g.players,c):c.push(g)}}function Iy(p,c,l){const g=l.get(p);if(!g)return!1;let T=c.get(p);return T?g.forEach(k=>T.add(k)):c.set(p,g),l.delete(p),!0}class i_{constructor(c,l,g){this.bodyNode=c,this._driver=l,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(T,k)=>{},this._transitionEngine=new z0(c,l,g),this._timelineEngine=new $0(c,l,g),this._transitionEngine.onRemovalComplete=(T,k)=>this.onRemovalComplete(T,k)}registerTrigger(c,l,g,T,k){const z=c+"-"+T;let re=this._triggerCache[z];if(!re){const ge=[],gt=Lo(this._driver,k,ge,[]);if(ge.length)throw function jf(p,c){return new i.wOt(3404,!1)}();re=function zE(p,c,l){return new Zb(p,c,l)}(T,gt,this._normalizer),this._triggerCache[z]=re}this._transitionEngine.registerTrigger(l,T,re)}register(c,l){this._transitionEngine.register(c,l)}destroy(c,l){this._transitionEngine.destroy(c,l)}onInsert(c,l,g,T){this._transitionEngine.insertNode(c,l,g,T)}onRemove(c,l,g){this._transitionEngine.removeNode(c,l,g)}disableAnimations(c,l){this._transitionEngine.markElementAsDisabled(c,l)}process(c,l,g,T){if("@"==g.charAt(0)){const[k,z]=dy(g);this._timelineEngine.command(k,l,z,T)}else this._transitionEngine.trigger(c,l,g,T)}listen(c,l,g,T,k){if("@"==g.charAt(0)){const[z,re]=dy(g);return this._timelineEngine.listen(z,l,re,k)}return this._transitionEngine.listen(c,l,g,T,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let e0=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(l,g,T){this._element=l,this._startStyles=g,this._endStyles=T,this._state=0;let k=p.initialStylesByElement.get(l);k||p.initialStylesByElement.set(l,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&Sa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sa(this._element,this._initialStyles),this._endStyles&&(Sa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(Tl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tl(this._element,this._endStyles),this._endStyles=null),Sa(this._element,this._initialStyles),this._state=3)}}return p})();function Cy(p){let c=null;return p.forEach((l,g)=>{(function t0(p){return"display"===p||"position"===p})(g)&&(c=c||new Map,c.set(g,l))}),c}class n0{constructor(c,l,g,T){this.element=c,this.keyframes=l,this.options=g,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const l=[];return c.forEach(g=>{l.push(Object.fromEntries(g))}),l}_triggerWebAnimation(c,l,g){return c.animate(this._convertKeyframesToObject(l),g)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,T)=>{"offset"!==T&&c.set(T,this._finished?g:t_(this.element,T))}),this.currentSnapshot=c}triggerCallback(c){const l="start"===c?this._onStartFns:this._onDoneFns;l.forEach(g=>g()),l.length=0}}class K0{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,l){return!1}containsElement(c,l){return Td(c,l)}getParentElement(c){return bd(c)}query(c,l,g){return vg(c,l,g)}computeStyle(c,l,g){return window.getComputedStyle(c)[l]}animate(c,l,g,T,k,z=[]){const ge={duration:g,delay:T,fill:0==T?"both":"forwards"};k&&(ge.easing=k);const ze=new Map,gt=z.filter(yn=>yn instanceof n0);(function Qf(p,c){return 0===p||0===c})(g,T)&&gt.forEach(yn=>{yn.currentSnapshot.forEach((bn,qt)=>ze.set(qt,bn))});let Lt=function gy(p){return p.length?p[0]instanceof Map?p:p.map(c=>py(c)):[]}(l).map(yn=>Jl(yn));Lt=function xh(p,c,l){if(l.size&&c.length){let g=c[0],T=[];if(l.forEach((k,z)=>{g.has(z)||T.push(z),g.set(z,k)}),T.length)for(let k=1;k<c.length;k++){let z=c[k];T.forEach(re=>z.set(re,t_(p,re)))}}return c}(c,Lt,ze);const vn=function ZE(p,c){let l=null,g=null;return Array.isArray(c)&&c.length?(l=Cy(c[0]),c.length>1&&(g=Cy(c[c.length-1]))):c instanceof Map&&(l=Cy(c)),l||g?new e0(p,l,g):null}(c,Lt);return new n0(c,Lt,ge,vn)}}let q0=(()=>{class p extends as.S6{constructor(l,g){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(g.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(l){const g=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,as.K2)(l):l;return r0(this._renderer,null,g,"register",[T]),new Y0(g,this._renderer)}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(i._9s),i.KVO(de.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class Y0 extends as.Ro{constructor(c,l){super(),this._id=c,this._renderer=l}create(c,l){return new X0(this._id,c,l||{},this._renderer)}}class X0{constructor(c,l,g,T){this.id=c,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,l){return this._renderer.listen(this.element,`@@${this.id}:${c}`,l)}_command(c,...l){return r0(this._renderer,this.element,this.id,c,l)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function r0(p,c,l,g,T){return p.setProperty(c,`@@${l}:${g}`,T)}const s0="@.disabled";let Q0=(()=>{class p{constructor(l,g,T){this.delegate=l,this.engine=g,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,g.onRemovalComplete=(k,z)=>{const re=z?.parentNode(k);re&&z.removeChild(re,k)}}createRenderer(l,g){const k=this.delegate.createRenderer(l,g);if(!(l&&g&&g.data&&g.data.animation)){let gt=this._rendererCache.get(k);return gt||(gt=new o0("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,gt)),gt}const z=g.id,re=g.id+"-"+this._currentId;this._currentId++,this.engine.register(re,l);const ge=gt=>{Array.isArray(gt)?gt.forEach(ge):this.engine.registerTrigger(z,re,l,gt.name,gt)};return g.data.animation.forEach(ge),new J0(this,re,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,g,T){l>=0&&l<this._microtaskId?this._zone.run(()=>g(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[z,re]=k;z(re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(i._9s),i.KVO(i_),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class o0{constructor(c,l,g,T){this.namespaceId=c,this.delegate=l,this.engine=g,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,l){return this.delegate.createElement(c,l)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,l){this.delegate.appendChild(c,l),this.engine.onInsert(this.namespaceId,l,c,!1)}insertBefore(c,l,g,T=!0){this.delegate.insertBefore(c,l,g),this.engine.onInsert(this.namespaceId,l,c,T)}removeChild(c,l,g){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(c,l){return this.delegate.selectRootElement(c,l)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,l,g,T){this.delegate.setAttribute(c,l,g,T)}removeAttribute(c,l,g){this.delegate.removeAttribute(c,l,g)}addClass(c,l){this.delegate.addClass(c,l)}removeClass(c,l){this.delegate.removeClass(c,l)}setStyle(c,l,g,T){this.delegate.setStyle(c,l,g,T)}removeStyle(c,l,g){this.delegate.removeStyle(c,l,g)}setProperty(c,l,g){"@"==l.charAt(0)&&l==s0?this.disableAnimations(c,!!g):this.delegate.setProperty(c,l,g)}setValue(c,l){this.delegate.setValue(c,l)}listen(c,l,g){return this.delegate.listen(c,l,g)}disableAnimations(c,l){this.engine.disableAnimations(c,l)}}class J0 extends o0{constructor(c,l,g,T,k){super(l,g,T,k),this.factory=c,this.namespaceId=l}setProperty(c,l,g){"@"==l.charAt(0)?"."==l.charAt(1)&&l==s0?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,l.slice(1),g):this.delegate.setProperty(c,l,g)}listen(c,l,g){if("@"==l.charAt(0)){const T=function Z0(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(c);let k=l.slice(1),z="";return"@"!=k.charAt(0)&&([k,z]=function eb(p){const c=p.indexOf(".");return[p.substring(0,c),p.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,T,k,z,re=>{this.factory.scheduleListenerCallback(re._data||-1,g,re)})}return this.delegate.listen(c,l,g)}}const a0=[{provide:as.S6,useClass:q0},{provide:Uv,useFactory:function nb(){return new U0}},{provide:i_,useClass:(()=>{class p extends i_{constructor(l,g,T,k){super(l.body,g,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(g){return new(g||p)(i.KVO(de.qQ),i.KVO(Zm),i.KVO(Uv),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function rb(p,c,l){return new Q0(p,c,l)},deps:[ue.B7,i_,i.SKi]}],Yv=[{provide:Zm,useFactory:()=>new K0},{provide:i.bc$,useValue:"BrowserAnimations"},...a0],Xv=[{provide:Zm,useClass:hy},{provide:i.bc$,useValue:"NoopAnimations"},...a0];let l0=(()=>{class p{static withConfig(l){return{ngModule:p,providers:l.disableAnimations?Xv:Yv}}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Yv,imports:[ue.Bb]})}}return p})();const Ay={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function c0(p,c,l){return()=>{const g=window.location.hostname,T=new URL(window.location.href);let k=Ay[g]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+k+" - hostname: "+g),p.loadTheme(k)}}function u0(p,c,l){const g=window.location.hostname,T=new URL(window.location.href);let k=Ay[g]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+k+" - hostname: "+g),()=>{p.loadBusinessData(k).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let d0=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[L_]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:c0,deps:[Gm,de.aZ,ur.Ix],multi:!0},{provide:i.hnV,useFactory:u0,deps:[Nt.A,de.aZ,ur.Ix],multi:!0}],imports:[ue.Bb,ur.iI,su,ci.cM,Um.y5,Dv.X8,Vm.bf.initializeApp(gh_firebase),ld(()=>Im(gh_firebase)),bv(()=>ig()),Ff(()=>pg()),li.X1,li.YN,me,l0]})}}return p})();ue.sG().bootstrapModule(d0).catch(p=>console.error(p))},4412:(rn,Ze,F)=>{F.d(Ze,{t:()=>ue});var o=F(1413);class ue extends o.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const _e=super._subscribe(ve);return!_e.closed&&ve.next(this._value),_e}getValue(){const{hasError:ve,thrownError:_e,_value:De}=this;if(ve)throw _e;return this._throwIfClosed(),De}next(ve){super.next(this._value=ve)}}},1985:(rn,Ze,F)=>{F.d(Ze,{c:()=>$e});var o=F(7707),ue=F(8359),i=F(3494),ve=F(1203),_e=F(1026),De=F(8071),Ee=F(9786);let $e=(()=>{class de{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Oe=new de;return Oe.source=this,Oe.operator=Me,Oe}subscribe(Me,Oe,ot){const Ct=function ee(de){return de&&de instanceof o.vU||function Q(de){return de&&(0,De.T)(de.next)&&(0,De.T)(de.error)&&(0,De.T)(de.complete)}(de)&&(0,ue.Uv)(de)}(Me)?Me:new o.Ms(Me,Oe,ot);return(0,Ee.Y)(()=>{const{operator:kt,source:Qt}=this;Ct.add(kt?kt.call(Ct,Qt):Qt?this._subscribe(Ct):this._trySubscribe(Ct))}),Ct}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Oe){Me.error(Oe)}}forEach(Me,Oe){return new(Oe=Le(Oe))((ot,Ct)=>{const kt=new o.Ms({next:Qt=>{try{Me(Qt)}catch(We){Ct(We),kt.unsubscribe()}},error:Ct,complete:ot});this.subscribe(kt)})}_subscribe(Me){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Me)}[i.s](){return this}pipe(...Me){return(0,ve.m)(Me)(this)}toPromise(Me){return new(Me=Le(Me))((Oe,ot)=>{let Ct;this.subscribe(kt=>Ct=kt,kt=>ot(kt),()=>Oe(Ct))})}}return de.create=ye=>new de(ye),de})();function Le(de){var ye;return null!==(ye=de??_e.$.Promise)&&void 0!==ye?ye:Promise}},1413:(rn,Ze,F)=>{F.d(Ze,{B:()=>Ee});var o=F(1985),ue=F(8359);const ve=(0,F(1853).L)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=F(7908),De=F(9786);let Ee=(()=>{class Le extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const de=new $e(this,this);return de.operator=ee,de}_throwIfClosed(){if(this.closed)throw new ve}next(ee){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ee)}})}error(ee){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:de}=this;for(;de.length;)de.shift().error(ee)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:de,isStopped:ye,observers:Me}=this;return de||ye?ue.Kn:(this.currentObservers=null,Me.push(ee),new ue.yU(()=>{this.currentObservers=null,(0,_e.o)(Me,ee)}))}_checkFinalizedStatuses(ee){const{hasError:de,thrownError:ye,isStopped:Me}=this;de?ee.error(ye):Me&&ee.complete()}asObservable(){const ee=new o.c;return ee.source=this,ee}}return Le.create=(Q,ee)=>new $e(Q,ee),Le})();class $e extends Ee{constructor(Q,ee){super(),this.destination=Q,this.source=ee}next(Q){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===de||de.call(ee,Q)}error(Q){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===de||de.call(ee,Q)}complete(){var Q,ee;null===(ee=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ee||ee.call(Q)}_subscribe(Q){var ee,de;return null!==(de=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(Q))&&void 0!==de?de:ue.Kn}}},7707:(rn,Ze,F)=>{F.d(Ze,{Ms:()=>ot,vU:()=>de});var o=F(8071),ue=F(8359),i=F(1026),ve=F(5334),_e=F(5343);const De=Le("C",void 0,void 0);function Le(we,et,Ue){return{kind:we,value:et,error:Ue}}var Q=F(9270),ee=F(9786);class de extends ue.yU{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,ue.Uv)(et)&&et.add(this)):this.destination=We}static create(et,Ue,tt){return new ot(et,Ue,tt)}next(et){this.isStopped?Qt(function $e(we){return Le("N",we,void 0)}(et),this):this._next(et)}error(et){this.isStopped?Qt(function Ee(we){return Le("E",void 0,we)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?Qt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function Me(we,et){return ye.call(we,et)}class Oe{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(et)}catch(tt){Ct(tt)}}error(et){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(et)}catch(tt){Ct(tt)}else Ct(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ue){Ct(Ue)}}}class ot extends de{constructor(et,Ue,tt){let Ge;if(super(),(0,o.T)(et)||!et)Ge={next:et??void 0,error:Ue??void 0,complete:tt??void 0};else{let Ot;this&&i.$.useDeprecatedNextContext?(Ot=Object.create(et),Ot.unsubscribe=()=>this.unsubscribe(),Ge={next:et.next&&Me(et.next,Ot),error:et.error&&Me(et.error,Ot),complete:et.complete&&Me(et.complete,Ot)}):Ge=et}this.destination=new Oe(Ge)}}function Ct(we){i.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(we):(0,ve.m)(we)}function Qt(we,et){const{onStoppedNotification:Ue}=i.$;Ue&&Q.f.setTimeout(()=>Ue(we,et))}const We={closed:!0,next:_e.l,error:function kt(we){throw we},complete:_e.l}},8359:(rn,Ze,F)=>{F.d(Ze,{Kn:()=>De,yU:()=>_e,Uv:()=>Ee});var o=F(8071);const i=(0,F(1853).L)(Le=>function(ee){Le(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((de,ye)=>`${ye+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ve=F(7908);class _e{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Me of ee)Me.remove(this);else ee.remove(this);const{initialTeardown:de}=this;if((0,o.T)(de))try{de()}catch(Me){Q=Me instanceof i?Me.errors:[Me]}const{_finalizers:ye}=this;if(ye){this._finalizers=null;for(const Me of ye)try{$e(Me)}catch(Oe){Q=Q??[],Oe instanceof i?Q=[...Q,...Oe.errors]:Q.push(Oe)}}if(Q)throw new i(Q)}}add(Q){var ee;if(Q&&Q!==this)if(this.closed)$e(Q);else{if(Q instanceof _e){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(Q)}}_hasParent(Q){const{_parentage:ee}=this;return ee===Q||Array.isArray(ee)&&ee.includes(Q)}_addParent(Q){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(Q),ee):ee?[ee,Q]:Q}_removeParent(Q){const{_parentage:ee}=this;ee===Q?this._parentage=null:Array.isArray(ee)&&(0,ve.o)(ee,Q)}remove(Q){const{_finalizers:ee}=this;ee&&(0,ve.o)(ee,Q),Q instanceof _e&&Q._removeParent(this)}}_e.EMPTY=(()=>{const Le=new _e;return Le.closed=!0,Le})();const De=_e.EMPTY;function Ee(Le){return Le instanceof _e||Le&&"closed"in Le&&(0,o.T)(Le.remove)&&(0,o.T)(Le.add)&&(0,o.T)(Le.unsubscribe)}function $e(Le){(0,o.T)(Le)?Le():Le.unsubscribe()}},1026:(rn,Ze,F)=>{F.d(Ze,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(rn,Ze,F)=>{F.d(Ze,{x:()=>_e});var o=F(6365),i=F(3794),ve=F(8455);function _e(...De){return function ue(){return(0,o.U)(1)}()((0,ve.H)(De,(0,i.lI)(De)))}},983:(rn,Ze,F)=>{F.d(Ze,{w:()=>ue});const ue=new(F(1985).c)(_e=>_e.complete())},8455:(rn,Ze,F)=>{F.d(Ze,{H:()=>et});var o=F(8750),ue=F(941),i=F(6745),De=F(1985),$e=F(4761),Le=F(8071),Q=F(5225);function de(Ue,tt){if(!Ue)throw new Error("Iterable cannot be null");return new De.c(Ge=>{(0,Q.N)(Ge,tt,()=>{const Ot=Ue[Symbol.asyncIterator]();(0,Q.N)(Ge,tt,()=>{Ot.next().then(Ce=>{Ce.done?Ge.complete():Ge.next(Ce.value)})},0,!0)})})}var ye=F(5055),Me=F(9858),Oe=F(7441),ot=F(5397),Ct=F(7953),kt=F(591),Qt=F(5196);function et(Ue,tt){return tt?function we(Ue,tt){if(null!=Ue){if((0,ye.l)(Ue))return function ve(Ue,tt){return(0,o.Tg)(Ue).pipe((0,i._)(tt),(0,ue.Q)(tt))}(Ue,tt);if((0,Oe.X)(Ue))return function Ee(Ue,tt){return new De.c(Ge=>{let Ot=0;return tt.schedule(function(){Ot===Ue.length?Ge.complete():(Ge.next(Ue[Ot++]),Ge.closed||this.schedule())})})}(Ue,tt);if((0,Me.y)(Ue))return function _e(Ue,tt){return(0,o.Tg)(Ue).pipe((0,i._)(tt),(0,ue.Q)(tt))}(Ue,tt);if((0,Ct.T)(Ue))return de(Ue,tt);if((0,ot.x)(Ue))return function ee(Ue,tt){return new De.c(Ge=>{let Ot;return(0,Q.N)(Ge,tt,()=>{Ot=Ue[$e.l](),(0,Q.N)(Ge,tt,()=>{let Ce,Yt;try{({value:Ce,done:Yt}=Ot.next())}catch(pn){return void Ge.error(pn)}Yt?Ge.complete():Ge.next(Ce)},0,!0)}),()=>(0,Le.T)(Ot?.return)&&Ot.return()})}(Ue,tt);if((0,Qt.U)(Ue))return function We(Ue,tt){return de((0,Qt.C)(Ue),tt)}(Ue,tt)}throw(0,kt.L)(Ue)}(Ue,tt):(0,o.Tg)(Ue)}},8750:(rn,Ze,F)=>{F.d(Ze,{Tg:()=>ye});var o=F(1635),ue=F(7441),i=F(9858),ve=F(1985),_e=F(5055),De=F(7953),Ee=F(591),$e=F(5397),Le=F(5196),Q=F(8071),ee=F(5334),de=F(3494);function ye(we){if(we instanceof ve.c)return we;if(null!=we){if((0,_e.l)(we))return function Me(we){return new ve.c(et=>{const Ue=we[de.s]();if((0,Q.T)(Ue.subscribe))return Ue.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,ue.X)(we))return function Oe(we){return new ve.c(et=>{for(let Ue=0;Ue<we.length&&!et.closed;Ue++)et.next(we[Ue]);et.complete()})}(we);if((0,i.y)(we))return function ot(we){return new ve.c(et=>{we.then(Ue=>{et.closed||(et.next(Ue),et.complete())},Ue=>et.error(Ue)).then(null,ee.m)})}(we);if((0,De.T)(we))return kt(we);if((0,$e.x)(we))return function Ct(we){return new ve.c(et=>{for(const Ue of we)if(et.next(Ue),et.closed)return;et.complete()})}(we);if((0,Le.U)(we))return function Qt(we){return kt((0,Le.C)(we))}(we)}throw(0,Ee.L)(we)}function kt(we){return new ve.c(et=>{(function We(we,et){var Ue,tt,Ge,Ot;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Ue=(0,o.xN)(we);!(tt=yield Ue.next()).done;)if(et.next(tt.value),et.closed)return}catch(Ce){Ge={error:Ce}}finally{try{tt&&!tt.done&&(Ot=Ue.return)&&(yield Ot.call(Ue))}finally{if(Ge)throw Ge.error}}et.complete()})})(we,et).catch(Ue=>et.error(Ue))})}},7786:(rn,Ze,F)=>{F.d(Ze,{h:()=>De});var o=F(6365),ue=F(8750),i=F(983),ve=F(3794),_e=F(8455);function De(...Ee){const $e=(0,ve.lI)(Ee),Le=(0,ve.R0)(Ee,1/0),Q=Ee;return Q.length?1===Q.length?(0,ue.Tg)(Q[0]):(0,o.U)(Le)((0,_e.H)(Q,$e)):i.w}},7673:(rn,Ze,F)=>{F.d(Ze,{of:()=>i});var o=F(3794),ue=F(8455);function i(...ve){const _e=(0,o.lI)(ve);return(0,ue.H)(ve,_e)}},8810:(rn,Ze,F)=>{F.d(Ze,{$:()=>i});var o=F(1985),ue=F(8071);function i(ve,_e){const De=(0,ue.T)(ve)?ve:()=>ve,Ee=$e=>$e.error(De());return new o.c(_e?$e=>_e.schedule(Ee,0,$e):Ee)}},4360:(rn,Ze,F)=>{F.d(Ze,{_:()=>ue});var o=F(7707);function ue(ve,_e,De,Ee,$e){return new i(ve,_e,De,Ee,$e)}class i extends o.vU{constructor(_e,De,Ee,$e,Le,Q){super(_e),this.onFinalize=Le,this.shouldUnsubscribe=Q,this._next=De?function(ee){try{De(ee)}catch(de){_e.error(de)}}:super._next,this._error=$e?function(ee){try{$e(ee)}catch(de){_e.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ee){_e.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},9437:(rn,Ze,F)=>{F.d(Ze,{W:()=>ve});var o=F(8750),ue=F(4360),i=F(9974);function ve(_e){return(0,i.N)((De,Ee)=>{let Q,$e=null,Le=!1;$e=De.subscribe((0,ue._)(Ee,void 0,void 0,ee=>{Q=(0,o.Tg)(_e(ee,ve(_e)(De))),$e?($e.unsubscribe(),$e=null,Q.subscribe(Ee)):Le=!0})),Le&&($e.unsubscribe(),$e=null,Q.subscribe(Ee))})}},274:(rn,Ze,F)=>{F.d(Ze,{H:()=>i});var o=F(1397),ue=F(8071);function i(ve,_e){return(0,ue.T)(_e)?(0,o.Z)(ve,_e,1):(0,o.Z)(ve,1)}},9901:(rn,Ze,F)=>{F.d(Ze,{U:()=>i});var o=F(9974),ue=F(4360);function i(ve){return(0,o.N)((_e,De)=>{let Ee=!1;_e.subscribe((0,ue._)(De,$e=>{Ee=!0,De.next($e)},()=>{Ee||De.next(ve),De.complete()}))})}},3294:(rn,Ze,F)=>{F.d(Ze,{F:()=>ve});var o=F(3669),ue=F(9974),i=F(4360);function ve(De,Ee=o.D){return De=De??_e,(0,ue.N)(($e,Le)=>{let Q,ee=!0;$e.subscribe((0,i._)(Le,de=>{const ye=Ee(de);(ee||!De(Q,ye))&&(ee=!1,Q=ye,Le.next(de))}))})}function _e(De,Ee){return De===Ee}},5964:(rn,Ze,F)=>{F.d(Ze,{p:()=>i});var o=F(9974),ue=F(4360);function i(ve,_e){return(0,o.N)((De,Ee)=>{let $e=0;De.subscribe((0,ue._)(Ee,Le=>ve.call(_e,Le,$e++)&&Ee.next(Le)))})}},980:(rn,Ze,F)=>{F.d(Ze,{j:()=>ue});var o=F(9974);function ue(i){return(0,o.N)((ve,_e)=>{try{ve.subscribe(_e)}finally{_e.add(i)}})}},1594:(rn,Ze,F)=>{F.d(Ze,{$:()=>Ee});var o=F(9350),ue=F(5964),i=F(6697),ve=F(9901),_e=F(3774),De=F(3669);function Ee($e,Le){const Q=arguments.length>=2;return ee=>ee.pipe($e?(0,ue.p)((de,ye)=>$e(de,ye,ee)):De.D,(0,i.s)(1),Q?(0,ve.U)(Le):(0,_e.v)(()=>new o.G))}},6354:(rn,Ze,F)=>{F.d(Ze,{T:()=>i});var o=F(9974),ue=F(4360);function i(ve,_e){return(0,o.N)((De,Ee)=>{let $e=0;De.subscribe((0,ue._)(Ee,Le=>{Ee.next(ve.call(_e,Le,$e++))}))})}},6365:(rn,Ze,F)=>{F.d(Ze,{U:()=>i});var o=F(1397),ue=F(3669);function i(ve=1/0){return(0,o.Z)(ue.D,ve)}},1397:(rn,Ze,F)=>{F.d(Ze,{Z:()=>$e});var o=F(6354),ue=F(8750),i=F(9974),ve=F(5225),_e=F(4360),Ee=F(8071);function $e(Le,Q,ee=1/0){return(0,Ee.T)(Q)?$e((de,ye)=>(0,o.T)((Me,Oe)=>Q(de,Me,ye,Oe))((0,ue.Tg)(Le(de,ye))),ee):("number"==typeof Q&&(ee=Q),(0,i.N)((de,ye)=>function De(Le,Q,ee,de,ye,Me,Oe,ot){const Ct=[];let kt=0,Qt=0,We=!1;const we=()=>{We&&!Ct.length&&!kt&&Q.complete()},et=tt=>kt<de?Ue(tt):Ct.push(tt),Ue=tt=>{Me&&Q.next(tt),kt++;let Ge=!1;(0,ue.Tg)(ee(tt,Qt++)).subscribe((0,_e._)(Q,Ot=>{ye?.(Ot),Me?et(Ot):Q.next(Ot)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(kt--;Ct.length&&kt<de;){const Ot=Ct.shift();Oe?(0,ve.N)(Q,Oe,()=>Ue(Ot)):Ue(Ot)}we()}catch(Ot){Q.error(Ot)}}))};return Le.subscribe((0,_e._)(Q,et,()=>{We=!0,we()})),()=>{ot?.()}}(de,ye,Le,ee)))}},941:(rn,Ze,F)=>{F.d(Ze,{Q:()=>ve});var o=F(5225),ue=F(9974),i=F(4360);function ve(_e,De=0){return(0,ue.N)((Ee,$e)=>{Ee.subscribe((0,i._)($e,Le=>(0,o.N)($e,_e,()=>$e.next(Le),De),()=>(0,o.N)($e,_e,()=>$e.complete(),De),Le=>(0,o.N)($e,_e,()=>$e.error(Le),De)))})}},2816:(rn,Ze,F)=>{F.d(Ze,{S:()=>ve});var o=F(9974),ue=F(4360);function ve(_e,De){return(0,o.N)(function i(_e,De,Ee,$e,Le){return(Q,ee)=>{let de=Ee,ye=De,Me=0;Q.subscribe((0,ue._)(ee,Oe=>{const ot=Me++;ye=de?_e(ye,Oe,ot):(de=!0,Oe),$e&&ee.next(ye)},Le&&(()=>{de&&ee.next(ye),ee.complete()})))}}(_e,De,arguments.length>=2,!0))}},7647:(rn,Ze,F)=>{F.d(Ze,{u:()=>_e});var o=F(8750),ue=F(1413),i=F(7707),ve=F(9974);function _e(Ee={}){const{connector:$e=(()=>new ue.B),resetOnError:Le=!0,resetOnComplete:Q=!0,resetOnRefCountZero:ee=!0}=Ee;return de=>{let ye,Me,Oe,ot=0,Ct=!1,kt=!1;const Qt=()=>{Me?.unsubscribe(),Me=void 0},We=()=>{Qt(),ye=Oe=void 0,Ct=kt=!1},we=()=>{const et=ye;We(),et?.unsubscribe()};return(0,ve.N)((et,Ue)=>{ot++,!kt&&!Ct&&Qt();const tt=Oe=Oe??$e();Ue.add(()=>{ot--,0===ot&&!kt&&!Ct&&(Me=De(we,ee))}),tt.subscribe(Ue),!ye&&ot>0&&(ye=new i.Ms({next:Ge=>tt.next(Ge),error:Ge=>{kt=!0,Qt(),Me=De(We,Le,Ge),tt.error(Ge)},complete:()=>{Ct=!0,Qt(),Me=De(We,Q),tt.complete()}}),(0,o.Tg)(et).subscribe(ye))})(de)}}function De(Ee,$e,...Le){if(!0===$e)return void Ee();if(!1===$e)return;const Q=new i.Ms({next:()=>{Q.unsubscribe(),Ee()}});return(0,o.Tg)($e(...Le)).subscribe(Q)}},9172:(rn,Ze,F)=>{F.d(Ze,{Z:()=>ve});var o=F(8793),ue=F(3794),i=F(9974);function ve(..._e){const De=(0,ue.lI)(_e);return(0,i.N)((Ee,$e)=>{(De?(0,o.x)(_e,Ee,De):(0,o.x)(_e,Ee)).subscribe($e)})}},6745:(rn,Ze,F)=>{F.d(Ze,{_:()=>ue});var o=F(9974);function ue(i,ve=0){return(0,o.N)((_e,De)=>{De.add(i.schedule(()=>_e.subscribe(De),ve))})}},5558:(rn,Ze,F)=>{F.d(Ze,{n:()=>ve});var o=F(8750),ue=F(9974),i=F(4360);function ve(_e,De){return(0,ue.N)((Ee,$e)=>{let Le=null,Q=0,ee=!1;const de=()=>ee&&!Le&&$e.complete();Ee.subscribe((0,i._)($e,ye=>{Le?.unsubscribe();let Me=0;const Oe=Q++;(0,o.Tg)(_e(ye,Oe)).subscribe(Le=(0,i._)($e,ot=>$e.next(De?De(ye,ot,Oe,Me++):ot),()=>{Le=null,de()}))},()=>{ee=!0,de()}))})}},6697:(rn,Ze,F)=>{F.d(Ze,{s:()=>ve});var o=F(983),ue=F(9974),i=F(4360);function ve(_e){return _e<=0?()=>o.w:(0,ue.N)((De,Ee)=>{let $e=0;De.subscribe((0,i._)(Ee,Le=>{++$e<=_e&&(Ee.next(Le),_e<=$e&&Ee.complete())}))})}},8141:(rn,Ze,F)=>{F.d(Ze,{M:()=>_e});var o=F(8071),ue=F(9974),i=F(4360),ve=F(3669);function _e(De,Ee,$e){const Le=(0,o.T)(De)||Ee||$e?{next:De,error:Ee,complete:$e}:De;return Le?(0,ue.N)((Q,ee)=>{var de;null===(de=Le.subscribe)||void 0===de||de.call(Le);let ye=!0;Q.subscribe((0,i._)(ee,Me=>{var Oe;null===(Oe=Le.next)||void 0===Oe||Oe.call(Le,Me),ee.next(Me)},()=>{var Me;ye=!1,null===(Me=Le.complete)||void 0===Me||Me.call(Le),ee.complete()},Me=>{var Oe;ye=!1,null===(Oe=Le.error)||void 0===Oe||Oe.call(Le,Me),ee.error(Me)},()=>{var Me,Oe;ye&&(null===(Me=Le.unsubscribe)||void 0===Me||Me.call(Le)),null===(Oe=Le.finalize)||void 0===Oe||Oe.call(Le)}))}):ve.D}},3774:(rn,Ze,F)=>{F.d(Ze,{v:()=>ve});var o=F(9350),ue=F(9974),i=F(4360);function ve(De=_e){return(0,ue.N)((Ee,$e)=>{let Le=!1;Ee.subscribe((0,i._)($e,Q=>{Le=!0,$e.next(Q)},()=>Le?$e.complete():$e.error(De())))})}function _e(){return new o.G}},6780:(rn,Ze,F)=>{F.d(Ze,{R:()=>_e});var o=F(8359);class ue extends o.yU{constructor(Ee,$e){super()}schedule(Ee,$e=0){return this}}const i={setInterval(De,Ee,...$e){const{delegate:Le}=i;return Le?.setInterval?Le.setInterval(De,Ee,...$e):setInterval(De,Ee,...$e)},clearInterval(De){const{delegate:Ee}=i;return(Ee?.clearInterval||clearInterval)(De)},delegate:void 0};var ve=F(7908);class _e extends ue{constructor(Ee,$e){super(Ee,$e),this.scheduler=Ee,this.work=$e,this.pending=!1}schedule(Ee,$e=0){var Le;if(this.closed)return this;this.state=Ee;const Q=this.id,ee=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(ee,Q,$e)),this.pending=!0,this.delay=$e,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(ee,this.id,$e),this}requestAsyncId(Ee,$e,Le=0){return i.setInterval(Ee.flush.bind(Ee,this),Le)}recycleAsyncId(Ee,$e,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return $e;null!=$e&&i.clearInterval($e)}execute(Ee,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(Ee,$e);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,$e){let Q,Le=!1;try{this.work(Ee)}catch(ee){Le=!0,Q=ee||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:$e}=this,{actions:Le}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(Le,this),null!=Ee&&(this.id=this.recycleAsyncId($e,Ee,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,Ze,F)=>{F.d(Ze,{q:()=>i});var o=F(6129);class ue{constructor(_e,De=ue.now){this.schedulerActionCtor=_e,this.now=De}schedule(_e,De=0,Ee){return new this.schedulerActionCtor(this,_e).schedule(Ee,De)}}ue.now=o.U.now;class i extends ue{constructor(_e,De=ue.now){super(_e,De),this.actions=[],this._active=!1}flush(_e){const{actions:De}=this;if(this._active)return void De.push(_e);let Ee;this._active=!0;do{if(Ee=_e.execute(_e.state,_e.delay))break}while(_e=De.shift());if(this._active=!1,Ee){for(;_e=De.shift();)_e.unsubscribe();throw Ee}}}},3236:(rn,Ze,F)=>{F.d(Ze,{E:()=>i});var o=F(6780);const i=new(F(9687).q)(o.R)},6129:(rn,Ze,F)=>{F.d(Ze,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(rn,Ze,F)=>{F.d(Ze,{f:()=>o});const o={setTimeout(ue,i,...ve){const{delegate:_e}=o;return _e?.setTimeout?_e.setTimeout(ue,i,...ve):setTimeout(ue,i,...ve)},clearTimeout(ue){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(rn,Ze,F)=>{F.d(Ze,{l:()=>ue});const ue=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,Ze,F)=>{F.d(Ze,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,Ze,F)=>{F.d(Ze,{G:()=>ue});const ue=(0,F(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,Ze,F)=>{F.d(Ze,{R0:()=>De,ms:()=>ve,lI:()=>_e});var o=F(8071);function i(Ee){return Ee[Ee.length-1]}function ve(Ee){return(0,o.T)(i(Ee))?Ee.pop():void 0}function _e(Ee){return function ue(Ee){return Ee&&(0,o.T)(Ee.schedule)}(i(Ee))?Ee.pop():void 0}function De(Ee,$e){return"number"==typeof i(Ee)?Ee.pop():$e}},3073:(rn,Ze,F)=>{F.d(Ze,{D:()=>_e});const{isArray:o}=Array,{getPrototypeOf:ue,prototype:i,keys:ve}=Object;function _e(Ee){if(1===Ee.length){const $e=Ee[0];if(o($e))return{args:$e,keys:null};if(function De(Ee){return Ee&&"object"==typeof Ee&&ue(Ee)===i}($e)){const Le=ve($e);return{args:Le.map(Q=>$e[Q]),keys:Le}}}return{args:Ee,keys:null}}},7908:(rn,Ze,F)=>{function o(ue,i){if(ue){const ve=ue.indexOf(i);0<=ve&&ue.splice(ve,1)}}F.d(Ze,{o:()=>o})},1853:(rn,Ze,F)=>{function o(ue){const ve=ue(_e=>{Error.call(_e),_e.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}F.d(Ze,{L:()=>o})},8496:(rn,Ze,F)=>{function o(ue,i){return ue.reduce((ve,_e,De)=>(ve[_e]=i[De],ve),{})}F.d(Ze,{e:()=>o})},9786:(rn,Ze,F)=>{F.d(Ze,{Y:()=>i,l:()=>ve});var o=F(1026);let ue=null;function i(_e){if(o.$.useDeprecatedSynchronousErrorHandling){const De=!ue;if(De&&(ue={errorThrown:!1,error:null}),_e(),De){const{errorThrown:Ee,error:$e}=ue;if(ue=null,Ee)throw $e}}else _e()}function ve(_e){o.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=_e)}},5225:(rn,Ze,F)=>{function o(ue,i,ve,_e=0,De=!1){const Ee=i.schedule(function(){ve(),De?ue.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(ue.add(Ee),!De)return Ee}F.d(Ze,{N:()=>o})},3669:(rn,Ze,F)=>{function o(ue){return ue}F.d(Ze,{D:()=>o})},7441:(rn,Ze,F)=>{F.d(Ze,{X:()=>o});const o=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(rn,Ze,F)=>{F.d(Ze,{T:()=>ue});var o=F(8071);function ue(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(rn,Ze,F)=>{function o(ue){return"function"==typeof ue}F.d(Ze,{T:()=>o})},5055:(rn,Ze,F)=>{F.d(Ze,{l:()=>i});var o=F(3494),ue=F(8071);function i(ve){return(0,ue.T)(ve[o.s])}},5397:(rn,Ze,F)=>{F.d(Ze,{x:()=>i});var o=F(4761),ue=F(8071);function i(ve){return(0,ue.T)(ve?.[o.l])}},9858:(rn,Ze,F)=>{F.d(Ze,{y:()=>ue});var o=F(8071);function ue(i){return(0,o.T)(i?.then)}},5196:(rn,Ze,F)=>{F.d(Ze,{C:()=>i,U:()=>ve});var o=F(1635),ue=F(8071);function i(_e){return(0,o.AQ)(this,arguments,function*(){const Ee=_e.getReader();try{for(;;){const{value:$e,done:Le}=yield(0,o.N3)(Ee.read());if(Le)return yield(0,o.N3)(void 0);yield yield(0,o.N3)($e)}}finally{Ee.releaseLock()}})}function ve(_e){return(0,ue.T)(_e?.getReader)}},9974:(rn,Ze,F)=>{F.d(Ze,{N:()=>i,S:()=>ue});var o=F(8071);function ue(ve){return(0,o.T)(ve?.lift)}function i(ve){return _e=>{if(ue(_e))return _e.lift(function(De){try{return ve(De,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,Ze,F)=>{F.d(Ze,{I:()=>ve});var o=F(6354);const{isArray:ue}=Array;function ve(_e){return(0,o.T)(De=>function i(_e,De){return ue(De)?_e(...De):_e(De)}(_e,De))}},5343:(rn,Ze,F)=>{function o(){}F.d(Ze,{l:()=>o})},1203:(rn,Ze,F)=>{F.d(Ze,{F:()=>ue,m:()=>i});var o=F(3669);function ue(...ve){return i(ve)}function i(ve){return 0===ve.length?o.D:1===ve.length?ve[0]:function(De){return ve.reduce((Ee,$e)=>$e(Ee),De)}}},5334:(rn,Ze,F)=>{F.d(Ze,{m:()=>i});var o=F(1026),ue=F(9270);function i(ve){ue.f.setTimeout(()=>{const{onUnhandledError:_e}=o.$;if(!_e)throw ve;_e(ve)})}},591:(rn,Ze,F)=>{function o(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ze,{L:()=>o})},9969:(rn,Ze,F)=>{F.d(Ze,{FX:()=>Qt,K2:()=>Ee,Ro:()=>ue,S6:()=>o,hZ:()=>ve,i0:()=>_e,iF:()=>$e,kY:()=>ee,kp:()=>i,sf:()=>Ct,ui:()=>kt});class o{}class ue{}const i="*";function ve(We,we){return{type:7,name:We,definitions:we,options:{}}}function _e(We,we=null){return{type:4,styles:we,timings:We}}function Ee(We,we=null){return{type:2,steps:We,options:we}}function $e(We){return{type:6,styles:We,offset:null}}function ee(We,we,et=null){return{type:1,expr:We,animation:we,options:et}}class Ct{constructor(we=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Ue=>Ue()),et.length=0}}class kt{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let et=0,Ue=0,tt=0;const Ge=this.players.length;0==Ge?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++et==Ge&&this._onFinish()}),Ot.onDestroy(()=>{++Ue==Ge&&this._onDestroy()}),Ot.onStart(()=>{++tt==Ge&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,Ce)=>Math.max(Ot,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const et=we*this.totalTime;this.players.forEach(Ue=>{const tt=Ue.totalTime?Math.min(1,et/Ue.totalTime):1;Ue.setPosition(tt)})}getPosition(){const we=this.players.reduce((et,Ue)=>null===et||Ue.totalTime>et.totalTime?Ue:et,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Ue=>Ue()),et.length=0}}const Qt="!"},177:(rn,Ze,F)=>{F.d(Ze,{AJ:()=>Fr,B3:()=>Ar,Jj:()=>Mi,MD:()=>xi,N0:()=>An,P9:()=>ts,QT:()=>i,QX:()=>ei,Sm:()=>Oe,Sq:()=>Hi,VF:()=>_e,Vy:()=>As,Xr:()=>Ve,YU:()=>pr,ZD:()=>ve,_b:()=>cn,aZ:()=>Ct,bT:()=>wo,e1:()=>Ji,fG:()=>ys,fw:()=>ot,hb:()=>ye,hj:()=>$e,lG:()=>Es,qQ:()=>De,ux:()=>di});var o=F(7705);let ue=null;function i(){return ue}function ve(P){ue||(ue=P)}class _e{}const De=new o.nKC("DocumentToken");let Ee=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(Le)},providedIn:"platform"})}}return P})();const $e=new o.nKC("Location Initialized");let Le=(()=>{class P extends Ee{constructor(){super(),this._doc=(0,o.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(j){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",j,!1),()=>Y.removeEventListener("popstate",j)}onHashChange(j){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",j,!1),()=>Y.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Y,xe){this._history.pushState(j,Y,xe)}replaceState(j,Y,xe){this._history.replaceState(j,Y,xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function Q(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function ee(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function de(P){return P&&"?"!==P[0]?"?"+P:P}let ye=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(Oe)},providedIn:"root"})}}return P})();const Me=new o.nKC("appBaseHref");let Oe=(()=>{class P extends ye{constructor(j,Y){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return Q(this._baseHref,j)}path(j=!1){const Y=this._platformLocation.pathname+de(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&j?`${Y}${xe}`:Y}pushState(j,Y,xe,St){const Ut=this.prepareExternalUrl(xe+de(St));this._platformLocation.pushState(j,Y,Ut)}replaceState(j,Y,xe,St){const Ut=this.prepareExternalUrl(xe+de(St));this._platformLocation.replaceState(j,Y,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Ee),o.KVO(Me,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),ot=(()=>{class P extends ye{constructor(j,Y){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(j){const Y=Q(this._baseHref,j);return Y.length>0?"#"+Y:Y}pushState(j,Y,xe,St){let Ut=this.prepareExternalUrl(xe+de(St));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(j,Y,Ut)}replaceState(j,Y,xe,St){let Ut=this.prepareExternalUrl(xe+de(St));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(j,Y,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Ee),o.KVO(Me,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),Ct=(()=>{class P{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Y=this._locationStrategy.getBaseHref();this._basePath=function we(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(ee(We(Y))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Y=""){return this.path()==this.normalize(j+de(Y))}normalize(j){return P.stripTrailingSlash(function Qt(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,We(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Y="",xe=null){this._locationStrategy.pushState(xe,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+de(Y)),xe)}replaceState(j,Y="",xe=null){this._locationStrategy.replaceState(xe,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+de(Y)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Y){this._urlChangeListeners.forEach(xe=>xe(j,Y))}subscribe(j,Y,xe){return this._subject.subscribe({next:j,error:Y,complete:xe})}static{this.normalizeQueryParams=de}static{this.joinWithSlash=Q}static{this.stripTrailingSlash=ee}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(ye))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function kt(){return new Ct((0,o.KVO)(ye))}()},providedIn:"root"})}}return P})();function We(P){return P.replace(/\/index.html$/,"")}var Ue=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(Ue||{}),Yt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Yt||{});function Ie(P,ne){const j=(0,o.H5H)(P),Y=j[o.KH2.NumberSymbols][ne];if(typeof Y>"u"){if(ne===Yt.CurrencyDecimal)return j[o.KH2.NumberSymbols][Yt.Decimal];if(ne===Yt.CurrencyGroup)return j[o.KH2.NumberSymbols][Yt.Group]}return Y}const L=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function or(P){const ne=parseInt(P);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+P);return ne}function cn(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const Y=j.indexOf("="),[xe,St]=-1==Y?[j,""]:[j.slice(0,Y),j.slice(Y+1)];if(xe.trim()===ne)return decodeURIComponent(St)}return null}const Bn=/\s+/,Ln=[];let pr=(()=>{class P{constructor(j,Y,xe,St){this._iterableDiffers=j,this._keyValueDiffers=Y,this._ngEl=xe,this._renderer=St,this.initialClasses=Ln,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Bn):Ln}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Bn):j}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Y of j)this._updateState(Y,!0);else if(null!=j)for(const Y of Object.keys(j))this._updateState(Y,!!j[Y]);this._applyStateDiff()}_updateState(j,Y){const xe=this.stateMap.get(j);void 0!==xe?(xe.enabled!==Y&&(xe.changed=!0,xe.enabled=Y),xe.touched=!0):this.stateMap.set(j,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Y=j[0],xe=j[1];xe.changed?(this._toggleClass(Y,xe.enabled),xe.changed=!1):xe.touched||(xe.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),xe.touched=!1}}_toggleClass(j,Y){(j=j.trim()).length>0&&j.split(Bn).forEach(xe=>{Y?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class gr{constructor(ne,j,Y,xe){this.$implicit=ne,this.ngForOf=j,this.index=Y,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Y,xe){this._viewContainer=j,this._template=Y,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Y=this._viewContainer;j.forEachOperation((xe,St,Ut)=>{if(null==xe.previousIndex)Y.createEmbeddedView(this._template,new gr(xe.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)Y.remove(null===St?void 0:St);else if(null!==St){const Un=Y.get(St);Y.move(Un,Ut),Ns(Un,xe)}});for(let xe=0,St=Y.length;xe<St;xe++){const Un=Y.get(xe).context;Un.index=xe,Un.count=St,Un.ngForOf=this._ngForOf}j.forEachIdentityChange(xe=>{Ns(Y.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Ns(P,ne){P.context.$implicit=ne.item}let wo=(()=>{class P{constructor(j,Y){this._viewContainer=j,this._context=new Ao,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ui("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ui("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class Ao{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(ne)}'.`)}class Vo{constructor(ne,j){this._viewContainerRef=ne,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let di=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Y=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Y of this._defaultViews)Y.enforceState(j)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),Ji=(()=>{class P{constructor(j,Y,xe){this.ngSwitch=xe,xe._addCase(),this._view=new Vo(j,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(di,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),ys=(()=>{class P{constructor(j,Y,xe){xe._addDefault(new Vo(j,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(di,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ar=(()=>{class P{constructor(j,Y,xe){this._ngEl=j,this._differs=Y,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Y){const[xe,St]=j.split("."),Ut=-1===xe.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,xe,St?`${Y}${St}`:Y,Ut):this._renderer.removeStyle(this._ngEl.nativeElement,xe,Ut)}_applyChanges(j){j.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),j.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),j.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function pi(P,ne){return new o.wOt(2100,!1)}class xa{createSubscription(ne,j){return(0,o.O8t)(()=>ne.subscribe({next:j,error:Y=>{throw Y}}))}dispose(ne){(0,o.O8t)(()=>ne.unsubscribe())}}class Xa{createSubscription(ne,j){return ne.then(j,Y=>{throw Y})}dispose(ne){}}const xr=new Xa,us=new xa;let Mi=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,Y=>this._updateLatestValue(j,Y))}_selectStrategy(j){if((0,o.jNT)(j))return xr;if((0,o.zjR)(j))return us;throw pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,Y){j===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),Es=(()=>{class P{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=ks}transform(j,Y=ks){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const xe=this.differ.diff(j),St=Y!==this.compareFn;return xe&&(this.keyValues=[],xe.forEachItem(Ut=>{this.keyValues.push(function Wi(P,ne){return{key:P,value:ne}}(Ut.key,Ut.currentValue))})),(xe||St)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function ks(P,ne){const j=P.key,Y=ne.key;if(j===Y)return 0;if(void 0===j)return 1;if(void 0===Y)return-1;if(null===j)return 1;if(null===Y)return-1;if("string"==typeof j&&"string"==typeof Y)return j<Y?-1:1;if("number"==typeof j&&"number"==typeof Y)return j-Y;if("boolean"==typeof j&&"boolean"==typeof Y)return j<Y?-1:1;const xe=String(j),St=String(Y);return xe==St?0:xe<St?-1:1}let ei=(()=>{class P{constructor(j){this._locale=j}transform(j,Y,xe){if(!function dr(P){return!(null==P||""===P||P!=P)}(j))return null;xe=xe||this._locale;try{return function Bs(P,ne,j){return function ln(P,ne,j,Y,xe,St,Ut=!1){let Un="",Xr=!1;if(isFinite(P)){let hi=function _s(P){let Y,xe,St,Ut,Un,ne=Math.abs(P)+"",j=0;for((xe=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(St=ne.search(/e/i))>0?(xe<0&&(xe=St),xe+=+ne.slice(St+1),ne=ne.substring(0,St)):xe<0&&(xe=ne.length),St=0;"0"===ne.charAt(St);St++);if(St===(Un=ne.length))Y=[0],xe=1;else{for(Un--;"0"===ne.charAt(Un);)Un--;for(xe-=St,Y=[],Ut=0;St<=Un;St++,Ut++)Y[Ut]=Number(ne.charAt(St))}return xe>22&&(Y=Y.splice(0,21),j=xe-1,xe=1),{digits:Y,exponent:j,integerLen:xe}}(P);Ut&&(hi=function ms(P){if(0===P.digits[0])return P;const ne=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===ne?P.digits.push(0,0):1===ne&&P.digits.push(0),P.integerLen+=2),P}(hi));let Nr=ne.minInt,er=ne.minFrac,Br=ne.maxFrac;if(St){const Ms=St.match(L);if(null===Ms)throw new Error(`${St} is not a valid digit info`);const Go=Ms[1],Ci=Ms[3],qi=Ms[5];null!=Go&&(Nr=or(Go)),null!=Ci&&(er=or(Ci)),null!=qi?Br=or(qi):null!=Ci&&er>Br&&(Br=er)}!function yi(P,ne,j){if(ne>j)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${j}).`);let Y=P.digits,xe=Y.length-P.integerLen;const St=Math.min(Math.max(ne,xe),j);let Ut=St+P.integerLen,Un=Y[Ut];if(Ut>0){Y.splice(Math.max(P.integerLen,Ut));for(let er=Ut;er<Y.length;er++)Y[er]=0}else{xe=Math.max(0,xe),P.integerLen=1,Y.length=Math.max(1,Ut=St+1),Y[0]=0;for(let er=1;er<Ut;er++)Y[er]=0}if(Un>=5)if(Ut-1<0){for(let er=0;er>Ut;er--)Y.unshift(0),P.integerLen++;Y.unshift(1),P.integerLen++}else Y[Ut-1]++;for(;xe<Math.max(0,St);xe++)Y.push(0);let Xr=0!==St;const hi=ne+P.integerLen,Nr=Y.reduceRight(function(er,Br,Qr,Ai){return Ai[Qr]=(Br+=er)<10?Br:Br-10,Xr&&(0===Ai[Qr]&&Qr>=hi?Ai.pop():Xr=!1),Br>=10?1:0},0);Nr&&(Y.unshift(Nr),P.integerLen++)}(hi,er,Br);let Qr=hi.digits,Ai=hi.integerLen;const js=hi.exponent;let os=[];for(Xr=Qr.every(Ms=>!Ms);Ai<Nr;Ai++)Qr.unshift(0);for(;Ai<0;Ai++)Qr.unshift(0);Ai>0?os=Qr.splice(Ai,Qr.length):(os=Qr,Qr=[0]);const $o=[];for(Qr.length>=ne.lgSize&&$o.unshift(Qr.splice(-ne.lgSize,Qr.length).join(""));Qr.length>ne.gSize;)$o.unshift(Qr.splice(-ne.gSize,Qr.length).join(""));Qr.length&&$o.unshift(Qr.join("")),Un=$o.join(Ie(j,Y)),os.length&&(Un+=Ie(j,xe)+os.join("")),js&&(Un+=Ie(j,Yt.Exponential)+"+"+js)}else Un=Ie(j,Yt.Infinity);return Un=P<0&&!Xr?ne.negPre+Un+ne.negSuf:ne.posPre+Un+ne.posSuf,Un}(P,function Fi(P,ne="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=P.split(";"),xe=Y[0],St=Y[1],Ut=-1!==xe.indexOf(".")?xe.split("."):[xe.substring(0,xe.lastIndexOf("0")+1),xe.substring(xe.lastIndexOf("0")+1)],Un=Ut[0],Xr=Ut[1]||"";j.posPre=Un.substring(0,Un.indexOf("#"));for(let Nr=0;Nr<Xr.length;Nr++){const er=Xr.charAt(Nr);"0"===er?j.minFrac=j.maxFrac=Nr+1:"#"===er?j.maxFrac=Nr+1:j.posSuf+=er}const hi=Un.split(",");if(j.gSize=hi[1]?hi[1].length:0,j.lgSize=hi[2]||hi[1]?(hi[2]||hi[1]).length:0,St){const Nr=xe.length-j.posPre.length-j.posSuf.length,er=St.indexOf("#");j.negPre=St.substring(0,er).replace(/'/g,""),j.negSuf=St.slice(er+Nr).replace(/'/g,"")}else j.negPre=ne+j.posPre,j.negSuf=j.posSuf;return j}(function Fe(P,ne){return(0,o.H5H)(P)[o.KH2.NumberFormats][ne]}(ne,Ue.Decimal),Ie(ne,Yt.MinusSign)),ne,Yt.Group,Yt.Decimal,j)}(function Ki(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(j),xe,Y)}catch(St){throw pi()}}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let ts=(()=>{class P{transform(j,Y,xe){if(null==j)return null;if(!this.supports(j))throw pi();return j.slice(Y,xe)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),xi=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const Fr="browser",vi="server";function As(P){return P===vi}let Ve=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new nt((0,o.KVO)(De),window)})}}return P})();class nt{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function It(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let xe=Y.currentNode;for(;xe;){const St=xe.shadowRoot;if(St){const Ut=St.getElementById(ne)||St.querySelector(`[name="${ne}"]`);if(Ut)return Ut}xe=Y.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),Y=j.left+this.window.pageXOffset,xe=j.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(Y-St[0],xe-St[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class An{}},7705:(rn,Ze,F)=>{F.d(Ze,{$C:()=>mr,$GK:()=>Tn,$K3:()=>II,$MX:()=>li,AVh:()=>Ey,Agw:()=>Em,B4B:()=>Bp,BIS:()=>Xy,BMQ:()=>mg,C4Q:()=>tE,C5r:()=>iI,Co$:()=>pT,DNE:()=>gu,EFF:()=>Wv,EJ8:()=>es,EmA:()=>sd,FS9:()=>mu,FsC:()=>Cs,G2t:()=>Jt,GBs:()=>JT,GFd:()=>Hm,H3F:()=>TI,H5H:()=>z,H8p:()=>bf,HJs:()=>eD,HbH:()=>$v,Hbi:()=>jA,JRh:()=>qv,JZv:()=>zn,Jv_:()=>fT,KH2:()=>Lt,KVO:()=>xt,Kcf:()=>Uy,L39:()=>JA,LHq:()=>Iy,LfX:()=>On,Lme:()=>Ty,MKu:()=>Wb,Mz_:()=>Lo,NEm:()=>_A,NYb:()=>fA,Njj:()=>fs,O8t:()=>St,OA$:()=>er,OM3:()=>bc,Ocv:()=>$w,Ol2:()=>mT,PLl:()=>zp,QTQ:()=>d,Ql9:()=>zw,QuC:()=>ws,R7$:()=>RE,RV6:()=>Oh,Rfq:()=>Oe,RxE:()=>sv,SKi:()=>vo,SpI:()=>by,TL$:()=>tm,Tbb:()=>de,UyX:()=>kp,VBU:()=>Xa,Vns:()=>s_,Vt3:()=>iy,WHO:()=>DI,WPN:()=>rd,WQX:()=>fn,XpG:()=>Ks,Xx1:()=>yl,Y8G:()=>Sa,Z63:()=>id,ZF7:()=>sh,_9s:()=>ud,_q3:()=>zb,aKT:()=>Tc,aNF:()=>_T,bIt:()=>q,bMT:()=>LT,bVm:()=>Qf,bc$:()=>dh,bkB:()=>Ac,brH:()=>UT,c1b:()=>v0,cWb:()=>im,czy:()=>Kd,e01:()=>SI,e5t:()=>Lp,eBV:()=>zo,eq3:()=>wT,eu8:()=>xh,fpN:()=>BA,gRc:()=>AA,gXe:()=>_s,giA:()=>RI,h9k:()=>Up,hnV:()=>bI,i5U:()=>VT,iLQ:()=>Ub,j41:()=>Yf,jDH:()=>sn,jNT:()=>E,k0s:()=>xc,kS0:()=>ju,kdw:()=>Yc,l4e:()=>PT,lJ4:()=>CT,lNU:()=>We,l_i:()=>AT,lsd:()=>eI,mGM:()=>QT,mq5:()=>ge,n$t:()=>x_,nI1:()=>FT,nKC:()=>hn,naY:()=>wA,npT:()=>dm,nrm:()=>Xf,o8S:()=>Py,oH4:()=>OI,osQ:()=>Fp,plB:()=>Rb,qex:()=>Tg,rXU:()=>uu,rcV:()=>_c,s1E:()=>RT,sFG:()=>rv,sMw:()=>DT,sZ2:()=>wf,sdS:()=>Jl,tSv:()=>fv,uvJ:()=>bi,w6W:()=>FC,wOt:()=>we,wni:()=>ZT,xGo:()=>cc,xc7:()=>jv,xe9:()=>b0,xvI:()=>U_,zZn:()=>Ic,zcH:()=>bl,ziG:()=>ST,zjR:()=>B});var o=F(1413),ue=F(8359),i=F(1985),ve=F(7786),_e=F(4412),De=F(7673),Ee=F(7647),$e=F(5558),Le=F(3294);function Q(t){for(let n in t)if(t[n]===Q)return n;throw Error("Could not find renamed property on target object.")}function ee(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function de(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(de).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ye(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Me=Q({__forward_ref__:Q});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return de(this())},t}function ot(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(Me)&&t.__forward_ref__===Oe}function kt(t){return t&&!!t.\u0275providers}const We="https://g.co/ng/security#xss";class we extends Error{constructor(n,s){super(function et(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function Yt(t,n){throw new we(-201,!1)}function ut(t,n){null==t&&function it(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return Ht(t,on)||Ht(t,Yn)}function On(t){return null!==$n(t)}function Ht(t,n){return t.hasOwnProperty(n)?t[n]:null}function Er(t){return t&&(t.hasOwnProperty(kr)||t.hasOwnProperty($t))?t[kr]:null}const on=Q({\u0275prov:Q}),kr=Q({\u0275inj:Q}),Yn=Q({ngInjectableDef:Q}),$t=Q({ngInjectorDef:Q});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Gn;function $r(t){const n=Gn;return Gn=t,n}function Mr(t,n,s){const u=$n(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Tn.Optional?null:void 0!==n?n:void Yt(de(t))}const zn=globalThis;class hn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const be={},yt="__NG_DI_FLAG__",Xt="ngTempTokenPath",vt=/\n/gm,M="__source";let L;function me(t){const n=L;return L=t,n}function ht(t,n=Tn.Default){if(void 0===L)throw new we(-203,!1);return null===L?Mr(t,void 0,n):L.get(t,n&Tn.Optional?null:void 0,n)}function xt(t,n=Tn.Default){return(function In(){return Gn}()||ht)(ot(t),n)}function fn(t,n=Tn.Default){return xt(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tr(t){const n=[];for(let s=0;s<t.length;s++){const u=ot(t[s]);if(Array.isArray(u)){if(0===u.length)throw new we(900,!1);let f,m=Tn.Default;for(let I=0;I<u.length;I++){const A=u[I],x=qr(A);"number"==typeof x?-1===x?f=A.token:m|=x:f=A}n.push(xt(f,m))}else n.push(xt(u))}return n}function ln(t,n){return t[yt]=n,t.prototype[yt]=n,t}function qr(t){return t[yt]}function Fi(t){return{toString:t}.toString()}var ms=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ms||{}),_s=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_s||{});const yi={},or=[],Os=Q({\u0275cmp:Q}),Dt=Q({\u0275dir:Q}),lt=Q({\u0275pipe:Q}),Nt=Q({\u0275mod:Q}),cn=Q({\u0275fac:Q}),Bn=Q({__NG_ELEMENT_ID__:Q}),Ln=Q({__NG_ENV_ID__:Q});function pr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}s=f+1}}function Gr(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const m=s[u++],I=s[u++],A=s[u++];t.setAttribute(n,I,A,m)}else{const m=f,I=s[++u];gr(m)?t.setProperty(n,m,I):t.setAttribute(n,m,I),u++}}return u}function Jr(t){return 3===t||4===t||6===t}function gr(t){return 64===t.charCodeAt(0)}function Hi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ns(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ns(t,n,s,u,f){let m=0,I=t.length;if(-1===n)I=-1;else for(;m<t.length;){const A=t[m++];if("number"==typeof A){if(A===n){I=-1;break}if(A>n){I=m-1;break}}}for(;m<t.length;){const A=t[m];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==I&&(t.splice(I,0,n),m=I+1),t.splice(m++,0,s),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}const Qi="ng-template";function wo(t,n,s){let u=0,f=!0;for(;u<t.length;){let m=t[u++];if("string"==typeof m&&f){const I=t[u++];if(s&&"class"===m&&-1!==pr(I.toLowerCase(),n,0))return!0}else{if(1===m){for(;u<t.length&&"string"==typeof(m=t[u++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Ao(t){return 4===t.type&&t.value!==Qi}function Ui(t,n,s){return n===(4!==t.type||s?t.value:Qi)}function Vo(t,n,s){let u=4;const f=t.attrs||[],m=function Bi(t){for(let n=0;n<t.length;n++)if(Jr(t[n]))return n;return t.length}(f);let I=!1;for(let A=0;A<n.length;A++){const x=n[A];if("number"!=typeof x){if(!I)if(4&u){if(u=2|1&u,""!==x&&!Ui(t,x,s)||""===x&&1===n.length){if(di(u))return!1;I=!0}}else{const H=8&u?x:n[++A];if(8&u&&null!==t.attrs){if(!wo(t.attrs,H,s)){if(di(u))return!1;I=!0}continue}const Ae=Ji(8&u?"class":x,f,Ao(t),s);if(-1===Ae){if(di(u))return!1;I=!0;continue}if(""!==H){let rt;rt=Ae>m?"":f[Ae+1].toLowerCase();const mt=8&u?rt:null;if(mt&&-1!==pr(mt,H,0)||2&u&&H!==rt){if(di(u))return!1;I=!0}}}}else{if(!I&&!di(u)&&!di(x))return!1;if(I&&di(x))continue;I=!1,u=x|1&u}}return di(u)||I}function di(t){return 0==(1&t)}function Ji(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let m=!1;for(;f<n.length;){const I=n[f];if(I===t)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Pi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function ys(t,n,s=!1){for(let u=0;u<n.length;u++)if(Vo(t,n[u],s))return!0;return!1}function co(t,n){return t?":not("+n.trim()+")":n}function Do(t){let n=t[0],s=1,u=2,f="",m=!1;for(;s<t.length;){let I=t[s];if("string"==typeof I)if(2&u){const A=t[++s];f+="["+I+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+I:4&u&&(f+=" "+I);else""!==f&&!di(I)&&(n+=co(m,f),f=""),u=I,m=m||!di(u);s++}return""!==f&&(n+=co(m,f)),n}function Xa(t){return Fi(()=>{const n=zi(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ms.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_s.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};eo(s);const u=t.dependencies;return s.directiveDefs=Wi(u,!1),s.pipeDefs=Wi(u,!0),s.id=function ks(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function us(t){return Dr(t)||ii(t)}function Mi(t){return null!==t}function mr(t){return Fi(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zi(t,n){if(null==t)return yi;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=u,n&&(n[f]=m)}return s}function Cs(t){return Fi(()=>{const n=zi(t);return eo(n),n})}function es(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[Os]||null}function ii(t){return t[Dt]||null}function si(t){return t[lt]||null}function ws(t){const n=Dr(t)||ii(t)||si(t);return null!==n&&n.standalone}function oi(t,n){const s=t[Nt]||null;if(!s&&!0===n)throw new Error(`Type ${de(t)} does not have '\u0275mod' property.`);return s}function zi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zi(t.inputs,n),outputs:Zi(t.outputs)}}function eo(t){t.features?.forEach(n=>n(t))}function Wi(t,n){if(!t)return null;const s=n?si:us;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(Mi)}const ei=0,gn=1,rr=2,dr=3,Ki=4,ts=5,ai=6,xi=7,Fr=8,vi=9,bs=10,Zn=11,Ts=12,As=13,te=14,J=15,Se=16,Ve=17,nt=18,It=19,Kt=20,An=21,_n=22,jn=23,Or=24,Rn=25,tr=1,Ei=2,Ur=7,Li=9,Sr=11;function Ri(t){return Array.isArray(t)&&"object"==typeof t[tr]}function Yr(t){return Array.isArray(t)&&!0===t[tr]}function Uo(t){return 0!=(4&t.flags)}function ds(t){return t.componentOffset>-1}function Ys(t){return 1==(1&t.flags)}function Ds(t){return!!t.template}function ta(t){return 0!=(512&t[rr])}function to(t,n){return t.hasOwnProperty(cn)?t[cn]:null}let Rs=null,_a=!1;function ji(t){const n=Rs;return Rs=t,n}const Al={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ja(t){if(!mo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Za(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ps(t){t.dirty=!0,function no(t){if(void 0===t.liveConsumerNode)return;const n=_a;_a=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ps(s)}finally{_a=n}}(t),t.consumerMarkedDirty?.(t)}function va(t){return t&&(t.nextProducerIndex=0),ji(t)}function Na(t,n){if(ji(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(mo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Dl(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Za(t){jo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(Ja(s),u!==s.version))return!0}return!1}function bu(t){if(jo(t),mo(t))for(let n=0;n<t.producerNode.length;n++)Dl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dl(t,n){if(function el(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),jo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Dl(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];jo(f),f.producerIndexOfThis[u]=n}}function mo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Po=null;function St(t){const n=ji(null);try{return t()}finally{ji(n)}}const Un=()=>{},Xr=(()=>({...Al,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Un}))();class Nr{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function er(){return Br}function Br(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ai),Qr}function Qr(){const t=os(this),n=t?.current;if(n){const s=t.previous;if(s===yi)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ai(t,n,s,u){const f=this.declaredInputs[s],m=os(t)||function $o(t,n){return t[js]=n}(t,{previous:yi,current:null}),I=m.current||(m.current={}),A=m.previous,x=A[f];I[f]=new Nr(x&&x.currentValue,n,A===yi),t[u]=n}er.ngInherit=!0;const js="__ngSimpleChanges__";function os(t){return t[js]||null}const Ci=function(t,n,s){};function Cr(t){for(;Array.isArray(t);)t=t[ei];return t}function Rl(t,n){return Cr(n[t])}function ro(t,n){return Cr(n[t.index])}function Vc(t,n){return t.data[n]}function Pl(t,n){return t[n]}function Vi(t,n){const s=n[t];return Ri(s)?s:s[ei]}function xs(t,n){return null==n?null:t[n]}function La(t){t[Ve]=0}function Ml(t){1024&t[rr]||(t[rr]|=1024,Au(t,1))}function wu(t){1024&t[rr]&&(t[rr]&=-1025,Au(t,-1))}function Au(t,n){let s=t[dr];if(null===s)return;s[ts]+=n;let u=s;for(s=s[dr];null!==s&&(1===n&&1===u[ts]||-1===n&&0===u[ts]);)s[ts]+=n,u=s,s=s[dr]}const ar={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sl(){return ar.bindingsEnabled}function Wt(){return ar.lFrame.lView}function Pr(){return ar.lFrame.tView}function zo(t){return ar.lFrame.contextLView=t,t[Fr]}function fs(t){return ar.lFrame.contextLView=null,t}function $s(){let t=sc();for(;null!==t&&64===t.type;)t=t.parent;return t}function sc(){return ar.lFrame.currentTNode}function xo(t,n){const s=ar.lFrame;s.currentTNode=t,s.isParent=n}function jc(){return ar.lFrame.isParent}function Ru(){ar.lFrame.isParent=!1}function Js(){const t=ar.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Gs(){return ar.lFrame.bindingIndex}function Oo(){return ar.lFrame.bindingIndex++}function _o(t){const n=ar.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function sp(t,n){const s=ar.lFrame;s.bindingIndex=s.bindingRootIndex=t,Pu(n)}function Pu(t){ar.lFrame.currentDirectiveIndex=t}function Ol(){return ar.lFrame.currentQueryIndex}function D(t){ar.lFrame.currentQueryIndex=t}function O(t){const n=t[gn];return 2===n.type?n.declTNode:1===n.type?t[ai]:null}function w(t,n,s){if(s&Tn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||s&Tn.Host||(f=O(m),null===f||(m=m[te],10&f.type))););if(null===f)return!1;n=f,t=m}const u=ar.lFrame=G();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=G(),s=t[gn];ar.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function G(){const t=ar.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=ar.lFrame;return ar.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Pe;function bt(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hr(){return ar.lFrame.selectedIndex}function wr(t){ar.lFrame.selectedIndex=t}function Hr(){const t=ar.lFrame;return Vc(t.tView,t.selectedIndex)}let Bh=!0;function al(){return Bh}function sa(t){Bh=t}function Ca(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:se}=m;I&&(t.contentHooks??=[]).push(-s,I),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),x&&(t.viewHooks??=[]).push(-s,x),H&&((t.viewHooks??=[]).push(s,H),(t.viewCheckHooks??=[]).push(s,H)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function ll(t,n,s){Nu(t,n,3,s)}function xu(t,n,s,u){(3&t[rr])===s&&Nu(t,n,s,u)}function Ou(t,n){let s=t[rr];(3&s)===n&&(s&=8191,s+=1,t[rr]=s)}function Nu(t,n,s,u){const m=u??-1,I=n.length-1;let A=0;for(let x=void 0!==u?65535&t[Ve]:0;x<I;x++)if("number"==typeof n[x+1]){if(A=n[x],null!=u&&A>=u)break}else n[x]<0&&(t[Ve]+=65536),(A<m||-1==m)&&(ku(t,s,n,x),t[Ve]=(4294901760&t[Ve])+x+2),x++}function Pd(t,n){Ci(4,t,n);const s=ji(null);try{n.call(t)}finally{ji(s),Ci(5,t,n)}}function ku(t,n,s,u){const f=s[u]<0,m=s[u+1],A=t[f?-s[u]:s[u]];f?t[rr]>>13<t[Ve]>>16&&(3&t[rr])===n&&(t[rr]+=8192,Pd(A,m)):Pd(A,m)}const yo=-1;class Wo{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function cl(t){return t!==yo}function Ll(t){return 32767&t}function wa(t,n){let s=function Hh(t){return t>>16}(t),u=n;for(;s>0;)u=u[te],s--;return u}let Lu=!0;function ul(t){const n=Lu;return Lu=t,n}const zh=255,Aa=5;let Vu=0;const io={};function ja(t,n){const s=Wh(t,n);if(-1!==s)return s;const u=n[gn];u.firstCreatePass&&(t.injectorIndex=n.length,Fs(u.data,t),Fs(n,null),Fs(u.blueprint,null));const f=Vl(t,n),m=t.injectorIndex;if(cl(f)){const I=Ll(f),A=wa(f,n),x=A[gn].data;for(let H=0;H<8;H++)n[m+H]=A[I+H]|x[I+H]}return n[m+8]=f,m}function Fs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=Od(f),null===u)return yo;if(s++,f=f[te],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return yo}function oc(t,n,s){!function dl(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Bn)&&(u=s[Bn]),null==u&&(u=s[Bn]=Vu++);const f=u&zh;n.data[t+(f>>Aa)]|=1<<f}(t,n,s)}function hl(t,n,s){if(s&Tn.Optional||void 0!==t)return t;Yt()}function fl(t,n,s,u){if(s&Tn.Optional&&void 0===u&&(u=null),!(s&(Tn.Self|Tn.Host))){const f=t[vi],m=$r(void 0);try{return f?f.get(n,u,s&Tn.Optional):Mr(n,u,s&Tn.Optional)}finally{$r(m)}}return hl(u,0,s)}function Uu(t,n,s,u=Tn.Default,f){if(null!==t){if(2048&n[rr]&&!(u&Tn.Self)){const I=function dp(t,n,s,u,f){let m=t,I=n;for(;null!==m&&null!==I&&2048&I[rr]&&!(512&I[rr]);){const A=Ul(m,I,s,u|Tn.Self,io);if(A!==io)return A;let x=m.parent;if(!x){const H=I[Kt];if(H){const se=H.get(s,io,u);if(se!==io)return se}x=Od(I),I=I[te]}m=x}return f}(t,n,s,u,io);if(I!==io)return I}const m=Ul(t,n,s,u,io);if(m!==io)return m}return fl(n,s,u,f)}function Ul(t,n,s,u,f){const m=function No(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Bn)?t[Bn]:void 0;return"number"==typeof n?n>=0?n&zh:up:n}(s);if("function"==typeof m){if(!w(n,t,u))return u&Tn.Host?hl(f,0,u):fl(n,s,u,f);try{let I;if(I=m(u),null!=I||u&Tn.Optional)return I;Yt()}finally{wt()}}else if("number"==typeof m){let I=null,A=Wh(t,n),x=yo,H=u&Tn.Host?n[J][ai]:null;for((-1===A||u&Tn.SkipSelf)&&(x=-1===A?Vl(t,n):n[A+8],x!==yo&&cp(u,!1)?(I=n[gn],A=Ll(x),n=wa(x,n)):A=-1);-1!==A;){const se=n[gn];if(lc(m,A,se.data)){const Ae=Bu(A,n,s,I,u,H);if(Ae!==io)return Ae}x=n[A+8],x!==yo&&cp(u,n[gn].data[A+8]===H)&&lc(m,A,n)?(I=se,A=Ll(x),n=wa(x,n)):A=-1}}return f}function Bu(t,n,s,u,f,m){const I=n[gn],A=I.data[t+8],se=oa(A,I,s,null==u?ds(A)&&Lu:u!=I&&0!=(3&A.type),f&Tn.Host&&m===A);return null!==se?ac(n,I,se,A):io}function oa(t,n,s,u,f){const m=t.providerIndexes,I=n.data,A=1048575&m,x=t.directiveStart,se=m>>20,rt=f?A+se:t.directiveEnd;for(let mt=u?A:A+se;mt<rt;mt++){const Bt=I[mt];if(mt<x&&s===Bt||mt>=x&&Bt.type===s)return mt}if(f){const mt=I[x];if(mt&&Ds(mt)&&mt.type===s)return x}return null}function ac(t,n,s,u){let f=t[s];const m=n.data;if(function Fl(t){return t instanceof Wo}(f)){const I=f;I.resolving&&function Ge(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${s}`)}(function tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(m[s]));const A=ul(I.canSeeViewProviders);I.resolving=!0;const H=I.injectImpl?$r(I.injectImpl):null;w(t,u,Tn.Default);try{f=t[s]=I.factory(void 0,m,t,u),n.firstCreatePass&&s>=u.directiveStart&&function jh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(u){const I=Br(n);(s.preOrderHooks??=[]).push(t,I),(s.preOrderCheckHooks??=[]).push(t,I)}f&&(s.preOrderHooks??=[]).push(0-t,f),m&&((s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m))}(s,m[s],n)}finally{null!==H&&$r(H),ul(A),I.resolving=!1,wt()}}return f}function lc(t,n,s){return!!(s[n+(t>>Aa)]&1<<t)}function cp(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class Hs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Uu(this._tNode,this._lView,n,Sn(u),s)}}function up(){return new Hs($s(),Wt())}function cc(t){return Fi(()=>{const n=t.prototype.constructor,s=n[cn]||xd(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[cn]||xd(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function xd(t){return Ct(t)?()=>{const n=xd(ot(t));return n&&n()}:to(t)}function Od(t){const n=t[gn],s=n.type;return 2===s?n.declTNode:1===s?t[ai]:null}function ju(t){return function Kh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const m=s[f];if(Jr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(m===n)return s[f+1];f+=2}}}return null}($s(),t)}const Ko="__parameters__";function Hc(t,n,s){return Fi(()=>{const u=function Nd(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...m){if(this instanceof f)return u.apply(this,m),this;const I=new f(...m);return A.annotation=I,A;function A(x,H,se){const Ae=x.hasOwnProperty(Ko)?x[Ko]:Object.defineProperty(x,Ko,{value:[]})[Ko];for(;Ae.length<=se;)Ae.push(null);return(Ae[se]=Ae[se]||[]).push(I),x}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function $l(t,n){t.forEach(s=>Array.isArray(s)?$l(s,n):n(s))}function Fd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function oo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Yo(t,n,s){let u=ml(t,n);return u>=0?t[1|u]=s:(u=~u,function hp(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Gu(t,n){const s=ml(t,n);if(s>=0)return t[1|s]}function ml(t,n){return function Hu(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const m=u+(f-u>>1),I=t[m<<s];if(n===I)return m<<s;I>n?f=m:u=m+1}return~(f<<s)}(t,n,1)}const yl=ln(Hc("Optional"),8),Yc=ln(Hc("SkipSelf"),4);function Wd(t){return 128==(128&t.flags)}var Kd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kd||{});const xy=/^>|^->|<!--|-->|--!>|<!-$/g,Fg=/(<|>)/g,Jc="\u200b$1\u200b";const Yu=new Map;let Vg=0;const sf="__ngContext__";function Fo(t,n){Ri(n)?(t[sf]=n[It],function qd(t){Yu.set(t[It],t)}(n)):t[sf]=n}let cf;function tu(t,n){return cf(t,n)}function Qd(t){const n=t[dr];return Yr(n)?n[dr]:n}function p_(t){return Ip(t[Ts])}function Bg(t){return Ip(t[Ki])}function Ip(t){for(;null!==t&&!Yr(t);)t=t[Ki];return t}function nu(t,n,s,u,f){if(null!=u){let m,I=!1;Yr(u)?m=u:Ri(u)&&(I=!0,u=u[ei]);const A=Cr(u);0===t&&null!==s?null==f?eh(n,s,A):Zu(n,s,A,f||null,!0):1===t&&null!==s?Zu(n,s,A,f||null,!0):2===t?function hf(t,n,s){const u=uf(t,n);u&&function Sp(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,I):3===t&&n.destroyNode(A),null!=m&&function Xg(t,n,s,u,f){const m=s[Ur];m!==Cr(s)&&nu(n,t,u,m,f);for(let A=Sr;A<s.length;A++){const x=s[A];pf(x[gn],x,t,n,u,m)}}(n,t,m,s,f)}}function ru(t,n){return t.createComment(function Lg(t){return t.replace(xy,n=>n.replace(Fg,Jc))}(n))}function wp(t,n,s){return t.createElement(n,s)}function Ly(t,n){const s=t[Li],u=s.indexOf(n);wu(n),s.splice(u,1)}function Qu(t,n){if(t.length<=Sr)return;const s=Sr+n,u=t[s];if(u){const f=u[Se];null!==f&&f!==t&&Ly(f,u),n>0&&(t[s-1][Ki]=u[Ki]);const m=oo(t,Sr+n);!function jg(t,n){pf(t,n,n[Zn],2,null,null),n[ei]=null,n[ai]=null}(u[gn],u);const I=m[nt];null!==I&&I.detachView(m[gn]),u[dr]=null,u[Ki]=null,u[rr]&=-129}return u}function Ap(t,n){if(!(256&n[rr])){const s=n[Zn];n[jn]&&bu(n[jn]),n[Or]&&bu(n[Or]),s.destroyNode&&pf(t,n,s,3,null,null),function Gg(t){let n=t[Ts];if(!n)return Dp(t[gn],t);for(;n;){let s=null;if(Ri(n))s=n[Ts];else{const u=n[Sr];u&&(s=u)}if(!s){for(;n&&!n[Ki]&&n!==t;)Ri(n)&&Dp(n[gn],n),n=n[dr];null===n&&(n=t),Ri(n)&&Dp(n[gn],n),s=n&&n[Ki]}n=s}}(n)}}function Dp(t,n){if(!(256&n[rr])){n[rr]&=-129,n[rr]|=256,function Vy(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof Wo)){const m=s[u+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const A=f[m[I]],x=m[I+1];Ci(4,A,x);try{x.call(A)}finally{Ci(5,A,x)}}else{Ci(4,f,m);try{m.call(f)}finally{Ci(5,f,m)}}}}}(t,n),function zg(t,n){const s=t.cleanup,u=n[xi];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const I=s[m+3];I>=0?u[I]():u[-I].unsubscribe(),m+=2}else s[m].call(u[s[m+1]]);null!==u&&(n[xi]=null);const f=n[An];if(null!==f){n[An]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[gn].type&&n[Zn].destroy();const s=n[Se];if(null!==s&&Yr(n[dr])){s!==n[dr]&&Ly(s,n);const u=n[nt];null!==u&&u.detachView(t)}!function Oy(t){Yu.delete(t[It])}(n)}}function Wg(t,n,s){return function Ju(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[ei];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=t.data[u.directiveStart+f];if(m===_s.None||m===_s.Emulated)return null}return ro(u,s)}}(t,n.parent,s)}function Zu(t,n,s,u,f){t.insertBefore(n,s,u,f)}function eh(t,n,s){t.appendChild(n,s)}function __(t,n,s,u,f){null!==u?Zu(t,n,s,u,f):eh(t,n,s)}function uf(t,n){return t.parentNode(n)}let qg,Gl,mf,xp,Pp=function y_(t,n,s){return 40&t.type?ro(t,s):null};function Mp(t,n,s,u){const f=Wg(t,u,n),m=n[Zn],A=function Rp(t,n,s){return Pp(t,n,s)}(u.parent||n[ai],u,n);if(null!=f)if(Array.isArray(s))for(let x=0;x<s.length;x++)__(m,f,s[x],A,!1);else __(m,f,s,A,!1);void 0!==qg&&qg(m,u,n,s,f)}function th(t,n){if(null!==n){const s=n.type;if(3&s)return ro(n,t);if(4&s)return df(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return th(t,u);{const f=t[n.index];return Yr(f)?df(-1,f):Cr(f)}}if(32&s)return tu(n,t)()||Cr(t[n.index]);{const u=fc(t,n);return null!==u?Array.isArray(u)?u[0]:th(Qd(t[J]),u):th(t,n.next)}}return null}function fc(t,n){return null!==n?t[J][ai].projection[n.projection]:null}function df(t,n){const s=Sr+t+1;if(s<n.length){const u=n[s],f=u[gn].firstChild;if(null!==f)return th(u,f)}return n[Ur]}function ff(t,n,s,u,f,m,I){for(;null!=s;){const A=u[s.index],x=s.type;if(I&&0===n&&(A&&Fo(Cr(A),u),s.flags|=2),32!=(32&s.flags))if(8&x)ff(t,n,s.child,u,f,m,!1),nu(n,t,f,A,m);else if(32&x){const H=tu(s,u);let se;for(;se=H();)nu(n,t,f,se,m);nu(n,t,f,A,m)}else 16&x?E_(t,n,u,s,f,m):nu(n,t,f,A,m);s=I?s.projectionNext:s.next}}function pf(t,n,s,u,f,m){ff(s,u,t.firstChild,n,f,m,!1)}function E_(t,n,s,u,f,m){const I=s[J],x=I[ai].projection[u.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)nu(n,t,f,x[H],m);else{let H=x;const se=I[dr];Wd(u)&&(H.flags|=128),ff(t,n,H,se,f,m,!0)}}function gf(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function nh(t,n,s){const{mergedAttrs:u,classes:f,styles:m}=s;null!==u&&Gr(t,n,u),null!==f&&gf(t,n,f),null!==m&&function Qg(t,n,s){t.setAttribute(n,"style",s)}(t,n,m)}function pc(t){return function Hl(){if(void 0===Gl&&(Gl=null,zn.trustedTypes))try{Gl=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gl}()?.createHTML(t)||t}function tm(t){mf=t}function rh(){if(void 0!==mf)return mf;if(typeof document<"u")return document;throw new we(210,!1)}function ih(){if(void 0===xp&&(xp=null,zn.trustedTypes))try{xp=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xp}function Op(t){return ih()?.createHTML(t)||t}function td(t){return ih()?.createScriptURL(t)||t}class mc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class sE extends mc{getTypeName(){return"HTML"}}class zl extends mc{getTypeName(){return"Style"}}class T_ extends mc{getTypeName(){return"Script"}}class nm extends mc{getTypeName(){return"URL"}}class I_ extends mc{getTypeName(){return"ResourceURL"}}function _c(t){return t instanceof mc?t.changingThisBreaksApplicationSecurity:t}function sh(t,n){const s=function rm(t){return t instanceof mc&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${We})`)}return s===n}function Uy(t){return new sE(t)}function im(t){return new zl(t)}function kp(t){return new T_(t)}function Fp(t){return new nm(t)}function Lp(t){return new I_(t)}class By{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(pc(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class sm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=pc(n),s}}const nd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function li(t){return(t=String(t)).match(nd)?t:"unsafe:"+t}function Ha(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function yf(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const C_=Ha("area,br,col,hr,img,wbr"),w_=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),om=Ha("rp,rt"),vf=yf(C_,yf(w_,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yf(om,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yf(om,w_)),Ef=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vp=yf(Ef,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R_=Ha("script,style,template");class oh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!vf.hasOwnProperty(s))return this.sanitizedSomething=!0,!R_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),I=m.name,A=I.toLowerCase();if(!Vp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let x=m.value;Ef[A]&&(x=li(x)),this.buf.push(" ",I,'="',cm(x),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();vf.hasOwnProperty(s)&&!C_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(cm(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const P_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lm=/([^\#-~ |!])/g;function cm(t){return t.replace(/&/g,"&amp;").replace(P_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(lm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yc;function Up(t,n){let s=null;try{yc=yc||function Wl(t){const n=new sm(t);return function _f(){try{return!!(new window.DOMParser).parseFromString(pc(""),"text/html")}catch{return!1}}()?new By(n):n}(t);let u=n?String(n):"";s=yc.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=s.innerHTML,s=yc.getInertBodyElement(u)}while(u!==m);return pc((new oh).sanitizeChildren(um(s)||s))}finally{if(s){const u=um(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function um(t){return"content"in t&&function $y(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var rd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rd||{});function dm(t){const n=ah();return n?Op(n.sanitize(rd.HTML,t)||""):sh(t,"HTML")?Op(_c(t)):Up(rh(),Ue(t))}function Bp(t){const n=ah();return n?n.sanitize(rd.URL,t)||"":sh(t,"URL")?_c(t):li(Ue(t))}function M_(t){const n=ah();if(n)return td(n.sanitize(rd.RESOURCE_URL,t)||"");if(sh(t,"ResourceURL"))return td(_c(t));throw new we(904,!1)}function x_(t,n,s){return function Ky(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?M_:Bp}(n,s)(t)}function ah(){const t=Wt();return t&&t[bs].sanitizer}const id=new hn("ENVIRONMENT_INITIALIZER"),hm=new hn("INJECTOR",-1),jp=new hn("INJECTOR_DEF_TYPES");class $p{get(n,s=be){if(s===be){const u=new Error(`NullInjectorError: No provider for ${de(n)}!`);throw u.name="NullInjectorError",u}return s}}function sd(t){return{\u0275providers:t}}function ci(...t){return{\u0275providers:fm(0,t),\u0275fromNgModule:!0}}function fm(t,...n){const s=[],u=new Set;let f;const m=I=>{s.push(I)};return $l(n,I=>{const A=I;iu(A,m,[],u)&&(f||=[],f.push(A))}),void 0!==f&&pm(f,m),s}function pm(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];ao(f,m=>{n(m,u)})}}function iu(t,n,s,u){if(!(t=ot(t)))return!1;let f=null,m=Er(t);const I=!m&&Dr(t);if(m||I){if(I&&!I.standalone)return!1;f=t}else{const x=t.ngModule;if(m=Er(x),!m)return!1;f=x}const A=u.has(f);if(I){if(A)return!1;if(u.add(f),I.dependencies){const x="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const H of x)iu(H,n,s,u)}}else{if(!m)return!1;{if(null!=m.imports&&!A){let H;u.add(f);try{$l(m.imports,se=>{iu(se,n,s,u)&&(H||=[],H.push(se))})}finally{}void 0!==H&&pm(H,n)}if(!A){const H=to(f)||(()=>new f);n({provide:f,useFactory:H,deps:or},f),n({provide:jp,useValue:f,multi:!0},f),n({provide:id,useValue:()=>xt(f),multi:!0},f)}const x=m.providers;if(null!=x&&!A){const H=t;ao(x,se=>{n(se,H)})}}}return f!==t&&void 0!==t.providers}function ao(t,n){for(let s of t)kt(s)&&(s=s.\u0275providers),Array.isArray(s)?ao(s,n):n(s)}const Vs=Q({provide:String,useValue:Q});function za(t){return null!==t&&"object"==typeof t&&Vs in t}function su(t){return"function"==typeof t}const bf=new hn("Set Injector scope."),Tf={},mm={};let _m;function Gp(){return void 0===_m&&(_m=new $p),_m}class bi{}class If extends bi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(n,I=>this.processProvider(I)),this.records.set(hm,lh(void 0,this)),f.has("environment")&&this.records.set(bi,lh(void 0,this));const m=this.records.get(bf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(jp.multi,or,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=me(this),u=$r(void 0);try{return n()}finally{me(s),$r(u)}}get(n,s=be,u=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ln))return n[Ln](this);u=Sn(u);const m=me(this),I=$r(void 0);try{if(!(u&Tn.SkipSelf)){let x=this.records.get(n);if(void 0===x){const H=function ch(t){return"function"==typeof t||"object"==typeof t&&t instanceof hn}(n)&&$n(n);x=H&&this.injectableDefInScope(H)?lh(ym(n),Tf):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(u&Tn.Self?Gp():this.parent).get(n,s=u&Tn.Optional&&s===be?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[Xt]=A[Xt]||[]).unshift(de(n)),m)throw A;return function ur(t,n,s,u){const f=t[Xt];throw n[M]&&f.unshift(n[M]),t.message=function Bs(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=de(n);if(Array.isArray(n))f=n.map(de).join(" -> ");else if("object"==typeof n){let m=[];for(let I in n)if(n.hasOwnProperty(I)){let A=n[I];m.push(I+":"+("string"==typeof A?JSON.stringify(A):de(A)))}f=`{${m.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(vt,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Xt]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{$r(I),me(m)}}resolveInjectorInitializers(){const n=me(this),s=$r(void 0);try{const f=this.get(id.multi,or,Tn.Self);for(const m of f)m()}finally{me(n),$r(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(de(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(n){let s=su(n=ot(n))?n:ot(n&&n.provide);const u=function k_(t){return za(t)?lh(void 0,t.useValue):lh(F_(t),Tf)}(n);if(su(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=lh(void 0,Tf,!0),f.factory=()=>Tr(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===Tf&&(s.value=mm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=ot(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function ym(t){const n=$n(t),s=null!==n?n.factory:to(t);if(null!==s)return s;if(t instanceof hn)throw new we(204,!1);if(t instanceof Function)return function Is(t){const n=t.length;if(n>0)throw function gl(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new we(204,!1);const s=function jt(t){return t&&(t[on]||t[Yn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new we(204,!1)}function F_(t,n,s){let u;if(su(t)){const f=ot(t);return to(f)||ym(f)}if(za(t))u=()=>ot(t.useValue);else if(function N_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Tr(t.deps||[]));else if(function O_(t){return!(!t||!t.useExisting)}(t))u=()=>xt(ot(t.useExisting));else{const f=ot(t&&(t.useClass||t.provide));if(!function vm(t){return!!t.deps}(t))return to(f)||ym(f);u=()=>new f(...Tr(t.deps))}return u}function lh(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function uh(t,n){for(const s of t)Array.isArray(s)?uh(s,n):s&&kt(s)?uh(s.\u0275providers,n):n(s)}const wf=new hn("AppId",{providedIn:"root",factory:()=>Hp}),Hp="ng",zp=new hn("Platform Initializer"),Em=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dh=new hn("AnimationModuleType"),Xy=new hn("CSP nonce",{providedIn:"root",factory:()=>rh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vc=(t,n,s)=>null;function Ec(t,n,s=!1){return vc(t,n,s)}class ev{}class Cm{}class lE{resolveComponentFactory(n){throw function Qp(t){const n=Error(`No component factory found for ${de(t)}.`);return n.ngComponent=t,n}(n)}}let bc=(()=>{class t{static{this.NULL=new lE}}return t})();function nv(){return cd($s(),Wt())}function cd(t,n){return new Tc(ro(t,n))}let Tc=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=nv}}return t})();function cE(t){return t instanceof Tc?t.nativeElement:t}class ud{}let rv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function iv(){const t=Wt(),s=Vi($s().index,t);return(Ri(s)?s:t)[Zn]}()}}return t})(),Am=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class sv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const U_=new sv("16.2.12"),Mf={};function dE(t,n=null,s=null,u){const f=cv(t,n,s,u);return f.resolveInjectorInitializers(),f}function cv(t,n=null,s=null,u,f=new Set){const m=[s||or,ci(t)];return u=u||("object"==typeof t?void 0:de(t)),new If(m,n||Gp(),u||null,f)}let Ic=(()=>{class t{static{this.THROW_IF_NOT_FOUND=be}static{this.NULL=new $p}static create(s,u){if(Array.isArray(s))return dE({name:""},u,s,"");{const f=s.name??"";return dE({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>xt(hm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function lu(t){return t.ngOriginalError}class bl{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&lu(n);for(;s&&lu(s);)s=lu(s);return s||null}}function wc(t){return n=>{setTimeout(t,void 0,n)}}const Ac=class gE extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,m=s||(()=>null),I=u;if(n&&"object"==typeof n){const x=n;f=x.next?.bind(x),m=x.error?.bind(x),I=x.complete?.bind(x)}this.__isAsync&&(m=wc(m),f&&(f=wc(f)),I&&(I=wc(I)));const A=super.subscribe({next:f,error:m,complete:I});return n instanceof ue.yU&&n.add(A),A}};function uv(...t){}class vo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ac(!1),this.onMicrotaskEmpty=new Ac(!1),this.onStable=new Ac(!1),this.onError=new Ac(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function mE(){const t="function"==typeof zn.requestAnimationFrame;let n=zn[t?"requestAnimationFrame":"setTimeout"],s=zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function vE(t){const n=()=>{!function yE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,H_(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),H_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,m,I,A)=>{if(function bE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,m,I,A);try{return dv(t),s.invokeTask(f,m,I,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),_h(t)}},onInvoke:(s,u,f,m,I,A,x)=>{try{return dv(t),s.invoke(f,m,I,A,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),_h(t)}},onHasTask:(s,u,f,m)=>{s.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,H_(t),G_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,u,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new we(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,n,_E,uv,uv);try{return m.runTask(I,s,u)}finally{m.cancelTask(I)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const _E={};function G_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _h(t){t._nesting--,G_(t)}class z_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ac,this.onMicrotaskEmpty=new Ac,this.onStable=new Ac,this.onError=new Ac}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const EE=new hn("",{providedIn:"root",factory:hv});function hv(){const t=fn(vo);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const I=t.onUnstable.subscribe(()=>{vo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,ve.h)(s,u.pipe((0,Ee.u)()))}function fv(t){return t.ownerDocument.defaultView}function dd(t){return t instanceof Function?t():t}let _v=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function eg(t){for(;t;){t[rr]|=64;const n=Qd(t);if(ta(t)&&!n)return t;t=n}return null}const yv=new hn("",{providedIn:"root",factory:()=>!1});let xm=null;function bv(t,n){return t[n]??SE()}function DE(t,n){const s=SE();s.producerNode?.length&&(t[n]=xm,s.lView=t,xm=K_())}const Tv={...Al,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eg(t.lView)},lView:null};function K_(){return Object.create(Tv)}function SE(){return xm??=K_(),xm}const zr={};function RE(t){Om(Pr(),Wt(),hr()+t,!1)}function Om(t,n,s,u){if(!u)if(3==(3&n[rr])){const m=t.preOrderCheckHooks;null!==m&&ll(n,m,s)}else{const m=t.preOrderHooks;null!==m&&xu(n,m,0,s)}wr(s)}function uu(t,n=Tn.Default){const s=Wt();return null===s?xt(t,n):Uu($s(),s,ot(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,m,I,A,x,H,se){const Ae=n.blueprint.slice();return Ae[ei]=f,Ae[rr]=140|u,(null!==H||t&&2048&t[rr])&&(Ae[rr]|=2048),La(Ae),Ae[dr]=Ae[te]=t,Ae[Fr]=s,Ae[bs]=I||t&&t[bs],Ae[Zn]=A||t&&t[Zn],Ae[vi]=x||t&&t[vi]||null,Ae[ai]=m,Ae[It]=function d_(){return Vg++}(),Ae[_n]=se,Ae[Kt]=H,Ae[J]=2==n.type?t[J]:Ae,Ae}function a(t,n,s,u,f){let m=t.data[n];if(null===m)m=function h(t,n,s,u,f){const m=sc(),I=jc(),x=t.data[n]=function Qn(t,n,s,u,f,m){let I=n?n.injectorIndex:-1,A=0;return function ra(){return null!==ar.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=x),null!==m&&(I?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(t,n,s,u,f),function Sd(){return ar.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=u,m.attrs=f;const I=function Ta(){const t=ar.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return xo(m,!0),m}function y(t,n,s,u){if(0===s)return-1;const f=n.length;for(let m=0;m<s;m++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const m=bv(n,jn),I=hr(),A=2&u;try{wr(-1),A&&n.length>Rn&&Om(t,n,Rn,!1),Ci(A?2:0,f);const H=A?m:null,se=va(H);try{null!==H&&(H.dirty=!1),s(u,f)}finally{Na(H,se)}}finally{A&&null===n[jn]&&DE(n,jn),wr(I),Ci(A?3:1,f)}}function R(t,n,s){if(Uo(n)){const u=ji(null);try{const m=n.directiveEnd;for(let I=n.directiveStart;I<m;I++){const A=t.data[I];A.contentQueries&&A.contentQueries(1,s[I],I)}}finally{ji(u)}}}function V(t,n,s){sl()&&(function PE(t,n,s,u){const f=s.directiveStart,m=s.directiveEnd;ds(s)&&function sg(t,n,s){const u=ro(n,t),f=oe(s);let I=16;s.signals?I=4096:s.onPush&&(I=64);const A=Nf(t,r(t,f,null,I,u,n,null,t[bs].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ja(s,n),Fo(u,n);const I=s.initialInputs;for(let A=f;A<m;A++){const x=t.data[A],H=ac(n,t,A,s);Fo(H,n),null!==I&&OE(0,A-f,H,x,0,I),Ds(x)&&(Vi(s.index,n)[Fr]=ac(n,t,A,s))}}(t,n,s,ro(s,n)),64==(64&s.flags)&&Of(t,n,s))}function K(t,n,s=ro){const u=n.localNames;if(null!==u){let f=n.index+1;for(let m=0;m<u.length;m+=2){const I=u[m+1],A=-1===I?s(n,t):t[I];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Te(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Te(t,n,s,u,f,m,I,A,x,H,se){const Ae=Rn+u,rt=Ae+f,mt=function qe(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:zr);return s}(Ae,rt),Bt="function"==typeof H?H():H;return mt[gn]={type:t,blueprint:mt,template:s,queries:null,viewQuery:A,declTNode:n,data:mt.slice().fill(null,Ae),bindingStartIndex:Ae,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:x,consts:Bt,incompleteFirstPass:!1,ssrId:se}}let un=t=>null;function Lr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===u?Ni(s,n,f,m):u.hasOwnProperty(f)&&Ni(s,n,u[f],m)}return s}function Ni(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function je(t,n,s,u,f,m,I,A){const x=ro(n,s);let se,H=n.inputs;!A&&null!=H&&(se=H[u])?(Fm(t,s,se,u,f),ds(n)&&function Je(t,n){const s=Vi(n,t);16&s[rr]||(s[rr]|=64)}(s,n.index)):3&n.type&&(u=function dt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=I?I(f,n.value||"",u):f,m.setProperty(x,u,f))}function Rt(t,n,s,u){if(sl()){const f=null===u?null:{"":-1},m=function q_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let m=0;m<s.length;m++){const I=s[m];if(ys(n,I.selectors,!1))if(u||(u=[]),Ds(I))if(null!==I.findHostDirectiveDefs){const A=[];f=f||new Map,I.findHostDirectiveDefs(I,A,f),u.unshift(...A,I),ig(t,n,A.length)}else u.unshift(I),ig(t,n,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,u,f),u.push(I)}return null===u?null:[u,f]}(t,s);let I,A;null===m?I=A=null:[I,A]=m,null!==I&&Ye(t,n,s,I,f,A),f&&function ME(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=s[n[f+1]];if(null==m)throw new we(-301,!1);u.push(n[f],m)}}}(s,u,f)}s.mergedAttrs=Hi(s.mergedAttrs,s.attrs)}function Ye(t,n,s,u,f,m){for(let H=0;H<u.length;H++)oc(ja(s,n),t,u[H].type);!function Qo(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let H=0;H<u.length;H++){const se=u[H];se.providersResolver&&se.providersResolver(se)}let I=!1,A=!1,x=y(t,n,u.length,null);for(let H=0;H<u.length;H++){const se=u[H];s.mergedAttrs=Hi(s.mergedAttrs,se.hostAttrs),xE(t,s,n,x,se),hd(x,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const Ae=se.type.prototype;!I&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),I=!0),!A&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),x++}!function ui(t,n,s){const f=n.directiveEnd,m=t.data,I=n.attrs,A=[];let x=null,H=null;for(let se=n.directiveStart;se<f;se++){const Ae=m[se],rt=s?s.get(Ae):null,Bt=rt?rt.outputs:null;x=Lr(Ae.inputs,se,x,rt?rt.inputs:null),H=Lr(Ae.outputs,se,H,Bt);const dn=null===x||null===I||Ao(n)?null:Nm(x,se,I);A.push(dn)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=x,n.outputs=H}(t,s,m)}function Of(t,n,s){const u=s.directiveStart,f=s.directiveEnd,m=s.index,I=function Rd(){return ar.lFrame.currentDirectiveIndex}();try{wr(m);for(let A=u;A<f;A++){const x=t.data[A],H=n[A];Pu(A),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&rg(x,H)}}finally{wr(-1),Pu(I)}}function rg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function ig(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function hd(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;Ds(n)&&(s[""]=t)}}function xE(t,n,s,u,f){t.data[u]=f;const m=f.factory||(f.factory=to(f.type)),I=new Wo(m,Ds(f),uu);t.blueprint[u]=I,s[u]=I,function du(t,n,s,u,f){const m=f.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const A=~n.index;(function ng(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(I)!=A&&I.push(A),I.push(s,u,m)}}(t,n,u,y(t,s,f.hostVars,zr),f)}function Dc(t,n,s,u,f,m){const I=ro(t,n);!function yh(t,n,s,u,f,m,I){if(null==m)t.removeAttribute(n,f,s);else{const A=null==I?Ue(m):I(m,u||"",f);t.setAttribute(n,f,A,s)}}(n[Zn],I,m,t.value,s,u,f)}function OE(t,n,s,u,f,m){const I=m[n];if(null!==I)for(let A=0;A<I.length;)Iv(u,s,I[A++],I[A++],I[A++])}function Iv(t,n,s,u,f){const m=ji(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(u)&&(f=I[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{ji(m)}}function Nm(t,n,s){let u=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===u&&(u=[]);const I=t[m];for(let A=0;A<I.length;A+=2)if(I[A]===n){u.push(m,I[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function og(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function km(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const m=s[u+1];if(-1!==m){const I=t.data[m];D(s[u]),I.contentQueries(2,n[m],m)}}}function Nf(t,n){return t[Ts]?t[As][Ki]=n:t[Ts]=n,t[As]=n,n}function ag(t,n,s){D(0);const u=ji(null);try{n(t,s)}finally{ji(u)}}function Y_(t){return t[xi]||(t[xi]=[])}function X_(t){return t.cleanup||(t.cleanup=[])}function Q_(t,n){const s=t[vi],u=s?s.get(bl,null):null;u&&u.handleError(n)}function Fm(t,n,s,u,f){for(let m=0;m<s.length;){const I=s[m++],A=s[m++];Iv(t.data[I],n[I],u,A,f)}}function ql(t,n,s){const u=Rl(n,t);!function Cp(t,n,s){t.setValue(n,s)}(t[Zn],u,s)}function Av(t,n){const s=Vi(n,t),u=s[gn];!function NE(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[ei];null!==f&&null===s[_n]&&(s[_n]=Ec(f,s[vi])),lg(u,s,s[Fr])}function lg(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&ag(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&km(t,n),t.staticViewQueries&&ag(2,t.viewQuery,s);const m=t.components;null!==m&&function J_(t,n){for(let s=0;s<n.length;s++)Av(t,n[s])}(n,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[rr]&=-5,bt()}}let Lm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const m=typeof Zone>"u"?null:Zone.current,I=function Ut(t,n,s){const u=Object.create(Xr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=I=>{u.cleanupFn=I};return u.ref={notify:()=>Ps(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Za(u))return;u.hasRun=!0;const I=va(u);try{u.cleanupFn(),u.cleanupFn=Un,u.fn(f)}finally{Na(u,I)}},cleanup:()=>u.cleanupFn()},u.ref}(s,H=>{this.all.has(H)&&this.queue.set(H,m)},f);let A;this.all.add(I),I.notify();const x=()=>{I.cleanup(),A?.(),this.all.delete(I),this.queue.delete(I)};return A=u?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Eo(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==n)for(let I=0;I<n.length;I++){const A=n[I];"number"==typeof A?m=A:1==m?f=ye(f,A):2==m&&(u=ye(u,A+": "+n[++I]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function fd(t,n,s,u,f=!1){for(;null!==s;){const m=n[s.index];null!==m&&u.push(Cr(m)),Yr(m)&&Z_(m,u);const I=s.type;if(8&I)fd(t,n,s.child,u);else if(32&I){const A=tu(s,n);let x;for(;x=A();)u.push(x)}else if(16&I){const A=fc(n,s);if(Array.isArray(A))u.push(...A);else{const x=Qd(n[J]);fd(x[gn],x,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function Z_(t,n){for(let s=Sr;s<t.length;s++){const u=t[s],f=u[gn].firstChild;null!==f&&fd(u[gn],u,f,n)}t[Ur]!==t[ei]&&n.push(t[Ur])}function cg(t,n,s,u=!0){const f=n[bs],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{ey(t,n,t.template,s)}catch(x){throw u&&Q_(n,x),x}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function ey(t,n,s,u){const f=n[rr];if(256!=(256&f)){n[bs].effectManager?.flush(),N(n);try{La(n),function Ba(t){return ar.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const I=3==(3&f);if(I){const H=t.preOrderCheckHooks;null!==H&&ll(n,H,null)}else{const H=t.preOrderHooks;null!==H&&xu(n,H,0,null),Ou(n,0)}if(function Um(t){for(let n=p_(t);null!==n;n=Bg(n)){if(!n[Ei])continue;const s=n[Li];for(let u=0;u<s.length;u++){Ml(s[u])}}}(n),Vm(n,2),null!==t.contentQueries&&km(t,n),I){const H=t.contentCheckHooks;null!==H&&ll(n,H)}else{const H=t.contentHooks;null!==H&&xu(n,H,1),Ou(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=bv(n,Or);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)wr(~m);else{const I=m,A=s[++f],x=s[++f];sp(A,I),u.dirty=!1;const H=va(u);try{x(2,n[I])}finally{Na(u,H)}}}}finally{null===n[Or]&&DE(n,Or),wr(-1)}}(t,n);const A=t.components;null!==A&&vh(n,A,0);const x=t.viewQuery;if(null!==x&&ag(2,x,u),I){const H=t.viewCheckHooks;null!==H&&ll(n,H)}else{const H=t.viewHooks;null!==H&&xu(n,H,2),Ou(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[rr]&=-73,wu(n)}finally{bt()}}}function Vm(t,n){for(let s=p_(t);null!==s;s=Bg(s))for(let u=Sr;u<s.length;u++)ty(s[u],n)}function Dv(t,n,s){ty(Vi(n,t),s)}function ty(t,n){if(!function Uc(t){return 128==(128&t[rr])}(t))return;const s=t[gn],u=t[rr];if(80&u&&0===n||1024&u||2===n)ey(s,t,s.template,t[Fr]);else if(t[ts]>0){Vm(t,1);const f=s.components;null!==f&&vh(t,f,1)}}function vh(t,n,s){for(let u=0;u<n.length;u++)Dv(t,n[u],s)}class pd{get rootNodes(){const n=this._lView,s=n[gn];return fd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fr]}set context(n){this._lView[Fr]=n}get destroyed(){return 256==(256&this._lView[rr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(Yr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(Qu(n,u),oo(s,u))}this._attachedToViewContainer=!1}Ap(this._lView[gn],this._lView)}onDestroy(n){!function Bc(t,n){if(256==(256&t[rr]))throw new we(911,!1);null===t[An]&&(t[An]=[]),t[An].push(n)}(this._lView,n)}markForCheck(){eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[rr]&=-129}reattach(){this._lView[rr]|=128}detectChanges(){cg(this._lView[gn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g_(t,n){pf(t,n,n[Zn],2,null,null)}(this._lView[gn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=n}}class ny extends pd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;cg(n[gn],n,n[Fr],!1)}checkNoChanges(){}get context(){return null}}class kf extends bc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Dr(n);return new bh(s,this.ngModule)}}function Eh(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class gd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Sn(u);const f=this.injector.get(n,Mf,u);return f!==Mf||s===Mf?f:this.parentInjector.get(n,s,u)}}class bh extends Cm{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Eh(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Eh(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function pi(t){return t.map(Do).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let m=(f=f||this.ngModule)instanceof bi?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new gd(n,m):n,A=I.get(ud,null);if(null===A)throw new we(407,!1);const Ae={rendererFactory:A,sanitizer:I.get(Am,null),effectManager:I.get(Lm,null),afterRenderEventManager:I.get(_v,null)},rt=A.createRenderer(null,this.componentDef),mt=this.componentDef.selectors[0][0]||"div",Bt=u?function At(t,n,s,u){const m=u.get(yv,!1)||s===_s.ShadowDom,I=t.selectRootElement(n,m);return function Gt(t){un(t)}(I),I}(rt,u,this.componentDef.encapsulation,I):wp(rt,mt,function Bm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(mt)),cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let en=null;null!==Bt&&(en=Ec(Bt,I,!0));const jr=Te(0,null,null,1,0,null,null,null,null,null,null),Ti=r(null,jr,null,cr,null,null,Ae,rt,I,null,en);let ps,nc;N(Ti);try{const ip=this.componentDef;let My,qb=null;ip.findHostDirectiveDefs?(My=[],qb=new Map,ip.findHostDirectiveDefs(ip,My,qb),My.push(ip)):My=[ip];const tD=function ry(t,n){const s=t[gn],u=Rn;return t[u]=n,a(s,u,2,"#host",null)}(Ti,Bt),nD=function Ff(t,n,s,u,f,m,I){const A=f[gn];!function Sv(t,n,s,u){for(const f of t)n.mergedAttrs=Hi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Eo(n,n.mergedAttrs,!0),null!==s&&nh(u,s,n))}(u,t,n,I);let x=null;null!==n&&(x=Ec(n,f[vi]));const H=m.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const Ae=r(f,oe(s),null,se,f[t.index],t,m,H,null,null,x);return A.firstCreatePass&&ig(A,t,u.length-1),Nf(f,Ae),f[t.index]=Ae}(tD,Bt,ip,My,Ti,Ae,rt);nc=Vc(jr,Rn),Bt&&function Rv(t,n,s,u){if(u)Gr(t,s,["ng-version",U_.full]);else{const{attrs:f,classes:m}=function xa(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++u]):8===f&&s.push(m);else{if(!di(f))break;f=m}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Gr(t,s,f),m&&m.length>0&&gf(t,s,m.join(" "))}}(rt,ip,Bt,u),void 0!==s&&function hg(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const m=s[f];u.push(null!=m?Array.from(m):null)}}(nc,this.ngContentSelectors,s),ps=function da(t,n,s,u,f,m){const I=$s(),A=f[gn],x=ro(I,f);Ye(A,f,I,s,null,u);for(let se=0;se<s.length;se++)Fo(ac(f,A,I.directiveStart+se,I),f);Of(A,f,I),x&&Fo(x,f);const H=ac(f,A,I.directiveStart+I.componentOffset,I);if(t[Fr]=f[Fr]=H,null!==m)for(const se of m)se(H,n);return R(A,I,t),H}(nD,ip,My,qb,Ti,[fg]),lg(jr,Ti,null)}finally{bt()}return new dg(this.componentType,ps,cd(nc,Ti),Ti,nc)}}class dg extends ev{constructor(n,s,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ny(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const m=this._rootLView;Fm(m[gn],m,f,n,s),this.previousInputValues.set(n,s),eg(Vi(this._tNode.index,m))}}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fg(){const t=$s();Ca(Wt()[gn],t)}function iy(t){let n=function Pv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(Ds(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new we(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const I=t;I.inputs=pg(t.inputs),I.inputTransforms=pg(t.inputTransforms),I.declaredInputs=pg(t.declaredInputs),I.outputs=pg(t.outputs);const A=f.hostBindings;A&&Mv(t,A);const x=f.viewQuery,H=f.contentQueries;if(x&&kE(t,x),H&&jm(t,H),ee(t.inputs,f.inputs),ee(t.declaredInputs,f.declaredInputs),ee(t.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),ee(I.inputTransforms,f.inputTransforms)),Ds(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const A=m[I];A&&A.ngInherit&&A(t),A===iy&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Lf(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Hi(f.hostAttrs,s=Hi(s,f.hostAttrs))}}(u)}function pg(t){return t===yi?{}:t===or?[]:t}function kE(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function jm(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,m)=>{n(u,f,m),s(u,f,m)}:n}function Mv(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function Hm(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function Vf(t){return!!Sc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yl(t,n,s){return t[n]=s}function Th(t,n){return t[n]}function bo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function hu(t,n,s,u){const f=bo(t,n,s);return bo(t,n+1,u)||f}function ha(t,n,s,u,f,m){const I=hu(t,n,s,u);return hu(t,n+2,f,m)||I}function mg(t,n,s,u){const f=Wt();return bo(f,Oo(),n)&&(Pr(),Dc(Hr(),f,t,n,s,u)),mg}function Ih(t,n,s,u){return bo(t,Oo(),s)?n+Ue(s)+u:zr}function gu(t,n,s,u,f,m,I,A){const x=Wt(),H=Pr(),se=t+Rn,Ae=H.firstCreatePass?function qf(t,n,s,u,f,m,I,A,x){const H=n.consts,se=a(n,t,4,I||null,xs(H,A));Rt(n,s,se,xs(H,x)),Ca(n,se);const Ae=se.tView=Te(2,se,u,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,se),Ae.queries=n.queries.embeddedTView(se)),se}(se,H,x,n,s,u,f,m,I):H.data[se];xo(Ae,!1);const rt=e_(H,x,Ae,t);al()&&Mp(H,x,rt,Ae),Fo(rt,x),Nf(x,x[se]=og(rt,x,rt,Ae)),Ys(Ae)&&V(H,x,Ae),null!=I&&K(x,Ae,A)}let e_=function Mc(t,n,s,u){return sa(!0),n[Zn].createComment("")};function Jl(t){return Pl(function Dd(){return ar.lFrame.contextLView}(),Rn+t)}function Sa(t,n,s){const u=Wt();return bo(u,Oo(),n)&&je(Pr(),Hr(),u,t,n,u[Zn],s,!1),Sa}function Tl(t,n,s,u,f){const I=f?"class":"style";Fm(t,s,n.inputs[I],I,u)}function Yf(t,n,s,u){const f=Wt(),m=Pr(),I=Rn+t,A=f[Zn],x=m.firstCreatePass?function Cd(t,n,s,u,f,m){const I=n.consts,x=a(n,t,2,u,xs(I,f));return Rt(n,s,x,xs(I,m)),null!==x.attrs&&Eo(x,x.attrs,!1),null!==x.mergedAttrs&&Eo(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(I,m,f,n,s,u):m.data[I],H=wd(m,f,x,A,n,t);f[I]=H;const se=Ys(x);return xo(x,!0),nh(A,H,x),32!=(32&x.flags)&&al()&&Mp(m,f,H,x),0===function na(){return ar.lFrame.elementDepthCount}()&&Fo(H,f),function xl(){ar.lFrame.elementDepthCount++}(),se&&(V(m,f,x),R(m,x,f)),null!==u&&K(f,x),Yf}function xc(){let t=$s();jc()?Ru():(t=t.parent,xo(t,!1));const n=t;(function Mo(t){return ar.skipHydrationRootTNode===t})(n)&&function Su(){ar.skipHydrationRootTNode=null}(),function ba(){ar.lFrame.elementDepthCount--}();const s=Pr();return s.firstCreatePass&&(Ca(s,t),Uo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Gh(t){return 0!=(8&t.flags)}(n)&&Tl(s,n,Wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fu(t){return 0!=(16&t.flags)}(n)&&Tl(s,n,Wt(),n.stylesWithoutHost,!1),xc}function Xf(t,n,s,u){return Yf(t,n,s,u),xc(),Xf}let wd=(t,n,s,u,f,m)=>(sa(!0),wp(u,f,function Mu(){return ar.lFrame.currentNamespace}()));function Tg(t,n,s){const u=Wt(),f=Pr(),m=t+Rn,I=f.firstCreatePass?function bg(t,n,s,u,f){const m=n.consts,I=xs(m,u),A=a(n,t,8,"ng-container",I);return null!==I&&Eo(A,I,!0),Rt(n,s,A,xs(m,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(m,f,u,n,s):f.data[m];xo(I,!0);const A=cs(f,u,I,t);return u[m]=A,al()&&Mp(f,u,A,I),Fo(A,u),Ys(I)&&(V(f,u,I),R(f,I,u)),null!=s&&K(u,I),Tg}function Qf(){let t=$s();const n=Pr();return jc()?Ru():(t=t.parent,xo(t,!1)),n.firstCreatePass&&(Ca(n,t),Uo(t)&&n.queries.elementEnd(t)),Qf}function xh(t,n,s){return Tg(t,n,s),Qf(),xh}let cs=(t,n,s,u)=>(sa(!0),ru(n[Zn],""));function Oh(){return Wt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Wt(),m=Pr(),I=$s();return function Ft(t,n,s,u,f,m,I){const A=Ys(u),H=t.firstCreatePass&&X_(t),se=n[Fr],Ae=Y_(n);let rt=!0;if(3&u.type||I){const dn=ro(u,n),Fn=I?I(dn):dn,cr=Ae.length,en=I?Ti=>I(Cr(Ti[u.index])):u.index;let jr=null;if(!I&&A&&(jr=function _t(t,n,s,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===s&&f[m+1]===u){const A=n[xi],x=f[m+2];return A.length>x?A[x]:null}"string"==typeof I&&(m+=2)}return null}(t,n,f,u.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=m,jr.__ngLastListenerFn__=m,rt=!1;else{m=$i(u,n,se,m,!1);const Ti=s.listen(Fn,f,m);Ae.push(m,Ti),H&&H.push(f,en,cr,cr+1)}}else m=$i(u,n,se,m,!1);const mt=u.outputs;let Bt;if(rt&&null!==mt&&(Bt=mt[f])){const dn=Bt.length;if(dn)for(let Fn=0;Fn<dn;Fn+=2){const ps=n[Bt[Fn]][Bt[Fn+1]].subscribe(m),nc=Ae.length;Ae.push(m,ps),H&&H.push(f,u.index,nc,-(nc+1))}}}(m,f,f[Zn],I,t,n,u),q}function Cn(t,n,s,u){try{return Ci(6,n,s),!1!==s(u)}catch(f){return Q_(t,f),!1}finally{Ci(7,n,s)}}function $i(t,n,s,u,f){return function m(I){if(I===Function)return u;eg(t.componentOffset>-1?Vi(t.index,n):n);let x=Cn(n,s,u,I),H=m.__ngNextListenerFn__;for(;H;)x=Cn(n,s,H,I)&&x,H=H.__ngNextListenerFn__;return f&&!1===x&&I.preventDefault(),x}}function Ks(t=1){return function En(t){return(ar.lFrame.contextLView=function _r(t,n){for(;t>0;)n=n[te],t--;return n}(t,ar.lFrame.contextLView))[Fr]}(t)}function mu(t,n,s){return Lo(t,"",n,"",s),mu}function Lo(t,n,s,u,f){const m=Wt(),I=Ih(m,n,s,u);return I!==zr&&je(Pr(),Hr(),m,t,I,m[Zn],f,!1),Lo}function Cg(t,n){return t<<17|n<<2}function _u(t){return t>>17&32767}function kv(t){return 2|t}function Jf(t){return(131068&t)>>2}function Fv(t,n){return-131069&t|n<<2}function n_(t){return 1|t}function jE(t,n,s,u,f){const m=t[s+1],I=null===n;let A=u?_u(m):Jf(m),x=!1;for(;0!==A&&(!1===x||I);){const se=t[A+1];$E(t[A],n)&&(x=!0,t[A+1]=u?n_(se):kv(se)),A=u?_u(se):Jf(se)}x&&(t[s+1]=u?kv(m):n_(m))}function $E(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ml(t,n)>=0}const Co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function V0(t){return t.substring(Co.key,Co.keyEnd)}function GE(t,n){const s=Co.textEnd;return s===n?-1:(n=Co.keyEnd=function Jb(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Co.key=n,s),Zf(t,n,s))}function Zf(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function jv(t,n,s){return Il(t,n,s,!1),jv}function Ey(t,n){return Il(t,n,null,!0),Ey}function $v(t){!function Oc(t,n,s,u){const f=Pr(),m=_o(2);f.firstUpdatePass&&KE(f,null,m,u);const I=Wt();if(s!==zr&&bo(I,m,s)){const A=f.data[hr()];if(zv(A,u)&&!WE(f,m)){let x=u?A.classesWithoutHost:A.stylesWithoutHost;null!==x&&(s=ye(x,s||"")),Tl(f,A,I,s,u)}else!function Hv(t,n,s,u,f,m,I,A){f===zr&&(f=or);let x=0,H=0,se=0<f.length?f[0]:null,Ae=0<m.length?m[0]:null;for(;null!==se||null!==Ae;){const rt=x<f.length?f[x+1]:void 0,mt=H<m.length?m[H+1]:void 0;let dn,Bt=null;se===Ae?(x+=2,H+=2,rt!==mt&&(Bt=Ae,dn=mt)):null===Ae||null!==se&&se<Ae?(x+=2,Bt=se):(H+=2,Bt=Ae,dn=mt),null!==Bt&&XE(t,n,s,u,Bt,dn,I,A),se=x<f.length?f[x]:null,Ae=H<m.length?m[H]:null}}(f,A,I,I[Zn],I[m+1],I[m+1]=function Gv(t,n,s){if(null==s||""===s)return or;const u=[],f=_c(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,m)}}(z0,vu,t,!0)}function vu(t,n){for(let s=function Qb(t){return function vy(t){Co.key=0,Co.keyEnd=0,Co.value=0,Co.valueEnd=0,Co.textEnd=t.length}(t),GE(t,Zf(t,0,Co.textEnd))}(n);s>=0;s=GE(n,s))Yo(t,V0(n),!0)}function Il(t,n,s,u){const f=Wt(),m=Pr(),I=_o(2);m.firstUpdatePass&&KE(m,t,I,u),n!==zr&&bo(f,I,n)&&XE(m,m.data[hr()],f,f[Zn],t,f[I+1]=function W0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=de(_c(t)))),t}(n,s),u,I)}function WE(t,n){return n>=t.expandoStartIndex}function KE(t,n,s,u){const f=t.data;if(null===f[s+1]){const m=f[hr()],I=WE(t,s);zv(m,u)&&null===n&&!I&&(n=!1),n=function G0(t,n,s,u){const f=function Ia(t){const n=ar.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Ad(s=r_(null,t,n,s,u),n.attrs,u),m=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==f)if(s=r_(f,t,n,s,u),null===m){let x=function qE(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Jf(u))return t[_u(u)]}(t,n,u);void 0!==x&&Array.isArray(x)&&(x=r_(null,t,n,x[1],u),x=Ad(x,n.attrs,u),function H0(t,n,s,u){t[_u(s?n.classBindings:n.styleBindings)]=u}(t,n,u,x))}else m=function Nc(t,n,s){let u;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)u=Ad(u,t[m].hostAttrs,s);return Ad(u,n.attrs,s)}(t,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),s}(f,m,n,u),function Vv(t,n,s,u,f,m){let I=m?n.classBindings:n.styleBindings,A=_u(I),x=Jf(I);t[u]=s;let se,H=!1;if(Array.isArray(s)?(se=s[1],(null===se||ml(s,se)>0)&&(H=!0)):se=s,f)if(0!==x){const rt=_u(t[A+1]);t[u+1]=Cg(rt,A),0!==rt&&(t[rt+1]=Fv(t[rt+1],u)),t[A+1]=function F0(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=Cg(A,0),0!==A&&(t[A+1]=Fv(t[A+1],u)),A=u;else t[u+1]=Cg(x,0),0===A?A=u:t[x+1]=Fv(t[x+1],u),x=u;H&&(t[u+1]=kv(t[u+1])),jE(t,se,u,!0),jE(t,se,u,!1),function yy(t,n,s,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&ml(m,n)>=0&&(s[u+1]=n_(s[u+1]))}(n,se,t,u,m),I=Cg(A,x),m?n.classBindings=I:n.styleBindings=I}(f,m,n,s,I,u)}}function r_(t,n,s,u,f){let m=null;const I=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<I&&(m=n[A],u=Ad(u,m.hostAttrs,f),m!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function Ad(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?f=I:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yo(t,I,!!s||n[++m]))}return void 0===t?null:t}function z0(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&Yo(t,u,s)}function XE(t,n,s,u,f,m,I,A){if(!(3&n.type))return;const x=t.data,H=x[A+1],se=function L0(t){return 1==(1&t)}(H)?QE(x,n,s,f,Jf(H),I):void 0;ep(se)||(ep(m)||function _y(t){return 2==(2&t)}(H)&&(m=QE(x,null,s,f,A,I)),function b_(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let m=-1===u.indexOf("-")?void 0:Kd.DashCase;null==f?t.removeStyle(s,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Kd.Important),t.setStyle(s,u,f,m))}}(u,I,Rl(hr(),s),f,m))}function QE(t,n,s,u,f,m){const I=null===n;let A;for(;f>0;){const x=t[f],H=Array.isArray(x),se=H?x[1]:x,Ae=null===se;let rt=s[f+1];rt===zr&&(rt=Ae?or:void 0);let mt=Ae?Gu(rt,u):se===u?rt:void 0;if(H&&!ep(mt)&&(mt=Gu(x,u)),ep(mt)&&(A=mt,I))return A;const Bt=t[f+1];f=I?_u(Bt):Jf(Bt)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(A=Gu(x,u))}return A}function ep(t){return void 0!==t}function zv(t,n){return 0!=(t.flags&(n?8:16))}function Wv(t,n=""){const s=Wt(),u=Pr(),f=t+Rn,m=u.firstCreatePass?a(u,f,1,n,null):u.data[f],I=Kv(u,s,m,n,t);s[f]=I,al()&&Mp(u,s,I,m),xo(m,!1)}let Kv=(t,n,s,u,f)=>(sa(!0),function Zd(t,n){return t.createText(n)}(n[Zn],u));function qv(t){return by("",t,""),qv}function by(t,n,s){const u=Wt(),f=Ih(u,t,n,s);return f!==zr&&ql(u,hr(),f),by}function Ty(t,n,s,u,f){const m=Wt(),I=function Ch(t,n,s,u,f,m){const A=hu(t,Gs(),s,f);return _o(2),A?n+Ue(s)+u+Ue(f)+m:zr}(m,t,n,s,u,f);return I!==zr&&ql(m,hr(),I),Ty}function Iy(t,n,s,u,f,m,I,A,x){const H=Wt(),se=function vd(t,n,s,u,f,m,I,A,x,H){const Ae=ha(t,Gs(),s,f,I,x);return _o(4),Ae?n+Ue(s)+u+Ue(f)+m+Ue(I)+A+Ue(x)+H:zr}(H,t,n,s,u,f,m,I,A,x);return se!==zr&&ql(H,hr(),se),Iy}const c=void 0;var g=["en",[["a","p"],["AM","PM"],c],[["AM","PM"],c,c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",c,"{1} 'at' {0}",c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let T={};function z(t){const n=function vn(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ze(n);if(s)return s;const u=n.split("-")[0];if(s=ze(u),s)return s;if("en"===u)return g;throw new we(701,!1)}function ge(t){return z(t)[Lt.PluralCase]}function ze(t){return t in T||(T[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),T[t]}var Lt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Lt||{});const qt="en-US";let mi=qt;function gb(t,n,s,u,f){if(t=ot(t),Array.isArray(t))for(let m=0;m<t.length;m++)gb(t[m],n,s,u,f);else{const m=Pr(),I=Wt(),A=$s();let x=su(t)?t:ot(t.provide);const H=F_(t),se=1048575&A.providerIndexes,Ae=A.directiveStart,rt=A.providerIndexes>>20;if(su(t)||!t.multi){const mt=new Wo(H,f,uu),Bt=_b(x,n,f?se:se+rt,Ae);-1===Bt?(oc(ja(A,I),m,x),mb(m,t,n.length),n.push(x),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(mt),I.push(mt)):(s[Bt]=mt,I[Bt]=mt)}else{const mt=_b(x,n,se+rt,Ae),Bt=_b(x,n,se,se+rt),Fn=Bt>=0&&s[Bt];if(f&&!Fn||!f&&!(mt>=0&&s[mt])){oc(ja(A,I),m,x);const cr=function kC(t,n,s,u,f){const m=new Wo(t,s,uu);return m.multi=[],m.index=n,m.componentProviders=0,hT(m,f,u&&!s),m}(f?NC:OC,s.length,f,u,H);!f&&Fn&&(s[Bt].providerFactory=cr),mb(m,t,n.length,0),n.push(x),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(cr),I.push(cr)}else mb(m,t,mt>-1?mt:Bt,hT(s[f?Bt:mt],H,!f&&u));!f&&u&&Fn&&s[Bt].componentProviders++}}}function mb(t,n,s,u){const f=su(n),m=function gm(t){return!!t.useClass}(n);if(f||m){const x=(m?ot(n.useClass):n).prototype.ngOnDestroy;if(x){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=H.indexOf(s);-1===se?H.push(s,[u,x]):H[se+1].push(u,x)}else H.push(s,x)}}}function hT(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function _b(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function OC(t,n,s,u){return yb(this.multi,[])}function NC(t,n,s,u){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,A=ac(s,s[gn],this.providerFactory.index,u);m=A.slice(0,I),yb(f,m);for(let x=I;x<A.length;x++)m.push(A[x])}else m=[],yb(f,m);return m}function yb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function fT(t,n=[]){return s=>{s.providersResolver=(u,f)=>function xC(t,n,s){const u=Pr();if(u.firstCreatePass){const f=Ds(t);gb(s,u.data,u.blueprint,f,!0),gb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class s_{}class pT{}function FC(t,n){return new vb(t,n??null,[])}class vb extends s_{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kf(this);const f=oi(n);this._bootstrapComponents=dd(f.bootstrap),this._r3Injector=cv(n,s,[{provide:s_,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...u],de(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Eb extends pT{constructor(n){super(),this.moduleType=n}create(n){return new vb(this.moduleType,n,[])}}class gT extends s_{constructor(n){super(),this.componentFactoryResolver=new kf(this),this.instance=null;const s=new If([...n.providers,{provide:s_,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],n.parent||Gp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mT(t,n,s=null){return new gT({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let VC=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=fm(0,s.type),f=u.length>0?mT([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(xt(bi))})}}return t})();function _T(t){t.getStandaloneInjector=n=>n.get(VC).getOrCreateStandaloneInjector(t)}function CT(t,n,s){const u=Js()+t,f=Wt();return f[u]===zr?Yl(f,u,s?n.call(s):n()):Th(f,u)}function wT(t,n,s,u){return MT(Wt(),Js(),t,n,s,u)}function AT(t,n,s,u,f){return xT(Wt(),Js(),t,n,s,u,f)}function DT(t,n,s,u,f,m){return OT(Wt(),Js(),t,n,s,u,f,m)}function ST(t,n,s,u,f,m,I){return function NT(t,n,s,u,f,m,I,A,x){const H=n+s;return ha(t,H,f,m,I,A)?Yl(t,H+4,x?u.call(x,f,m,I,A):u(f,m,I,A)):Zv(t,H+4)}(Wt(),Js(),t,n,s,u,f,m,I)}function RT(t,n,s,u,f,m,I,A){const x=Js()+t,H=Wt(),se=ha(H,x,s,u,f,m);return bo(H,x+4,I)||se?Yl(H,x+5,A?n.call(A,s,u,f,m,I):n(s,u,f,m,I)):Th(H,x+5)}function PT(t,n,s,u,f,m,I,A,x){const H=Js()+t,se=Wt(),Ae=ha(se,H,s,u,f,m);return hu(se,H+4,I,A)||Ae?Yl(se,H+6,x?n.call(x,s,u,f,m,I,A):n(s,u,f,m,I,A)):Th(se,H+6)}function Zv(t,n){const s=t[n];return s===zr?void 0:s}function MT(t,n,s,u,f,m){const I=n+s;return bo(t,I,f)?Yl(t,I+1,m?u.call(m,f):u(f)):Zv(t,I+1)}function xT(t,n,s,u,f,m,I){const A=n+s;return hu(t,A,f,m)?Yl(t,A+2,I?u.call(I,f,m):u(f,m)):Zv(t,A+2)}function OT(t,n,s,u,f,m,I,A){const x=n+s;return function Bf(t,n,s,u,f){const m=hu(t,n,s,u);return bo(t,n+2,f)||m}(t,x,f,m,I)?Yl(t,x+3,A?u.call(A,f,m,I):u(f,m,I)):Zv(t,x+3)}function FT(t,n){const s=Pr();let u;const f=t+Rn;s.firstCreatePass?(u=function XC(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const m=u.factory||(u.factory=to(u.type)),A=$r(uu);try{const x=ul(!1),H=m();return ul(x),function Mh(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Wt(),f,H),H}finally{$r(A)}}function LT(t,n,s){const u=t+Rn,f=Wt(),m=Pl(f,u);return eE(f,u)?MT(f,Js(),n,m.transform,s,m):m.transform(s)}function VT(t,n,s,u){const f=t+Rn,m=Wt(),I=Pl(m,f);return eE(m,f)?xT(m,Js(),n,I.transform,s,u,I):I.transform(s,u)}function UT(t,n,s,u,f){const m=t+Rn,I=Wt(),A=Pl(I,m);return eE(I,m)?OT(I,Js(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function eE(t,n){return t[gn].data[n].pure}function ZC(){return this._results[Symbol.iterator]()}class Tb{get changes(){return this._changes||(this._changes=new Ac)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Tb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ZC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function qo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jh(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=n[u];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,s,u=!0){const f=n[gn];if(function Hg(t,n,s,u){const f=Sr+u,m=s.length;u>0&&(s[f-1][Ki]=n),u<m-Sr?(n[Ki]=s[f],Fd(s,Sr+u,n)):(s.push(n),n[Ki]=null),n[dr]=s;const I=n[Se];null!==I&&s!==I&&function m_(t,n){const s=t[Li];n[J]!==n[dr][dr][J]&&(t[Ei]=!0),null===s?t[Li]=[n]:s.push(n)}(I,n);const A=n[nt];null!==A&&A.insertView(t),n[rr]|=128}(f,n,t,s),u){const m=df(s,t),I=n[Zn],A=uf(I,t[Ur]);null!==A&&function $g(t,n,s,u,f,m){u[ei]=f,u[ai]=n,pf(t,u,s,1,f,m)}(f,t[ai],I,n,A,m)}}let tE=(()=>{class t{static{this.__NG_ELEMENT_ID__=iw}}return t})();const nw=tE,rw=class extends nw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function ew(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[rr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Se]=t[n.index];const H=t[nt];return null!==H&&(A[nt]=H.createEmbeddedView(f)),lg(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new pd(f)}};function iw(){return _0($s(),Wt())}function _0(t,n){return 4&t.type?new rw(n,t,cd(t,n)):null}let v0=(()=>{class t{static{this.__NG_ELEMENT_ID__=uw}}return t})();function uw(){return WT($s(),Wt())}const dw=v0,HT=class extends dw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vl(this._hostTNode,this._hostLView);if(cl(n)){const s=wa(n,this._hostLView),u=Ll(n);return new Hs(s[gn].data[u+8],s)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=zT(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(n,s,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const A=n.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,m){const I=n&&!function jl(t){return"function"==typeof t}(n);let A;if(I)A=s;else{const dn=s||{};A=dn.index,u=dn.injector,f=dn.projectableNodes,m=dn.environmentInjector||dn.ngModuleRef}const x=I?n:new bh(Dr(n)),H=u||this.parentInjector;if(!m&&null==x.ngModule){const Fn=(I?H:this.parentInjector).get(bi,null);Fn&&(m=Fn)}Dr(x.componentType??{});const mt=x.create(H,f,null,m);return this.insertImpl(mt.hostView,A,false),mt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Ho(t){return Yr(t[dr])}(f)){const x=this.indexOf(n);if(-1!==x)this.detach(x);else{const H=f[dr],se=new HT(H,H[ai],H[dr]);se.detach(se.indexOf(n))}}const I=this._adjustIndex(s),A=this._lContainer;return tw(A,f,I,!u),n.attachToViewContainerRef(),Fd(Ib(A),I,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=zT(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=Qu(this._lContainer,s);u&&(oo(Ib(this._lContainer),s),Ap(u[gn],u))}detach(n){const s=this._adjustIndex(n,-1),u=Qu(this._lContainer,s);return u&&null!=oo(Ib(this._lContainer),s)?new pd(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function zT(t){return t[8]}function Ib(t){return t[8]||(t[8]=[])}function WT(t,n){let s;const u=n[t.index];return Yr(u)?s=u:(s=og(u,n,null,t),n[t.index]=s,Nf(n,s)),KT(s,n,t,u),new HT(s,t,n)}let KT=function qT(t,n,s,u){if(t[Ur])return;let f;f=8&s.type?Cr(u):function hw(t,n){const s=t[Zn],u=s.createComment(""),f=ro(n,t);return Zu(s,uf(s,f),u,function Kg(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[Ur]=f};class Cb{constructor(n){this.queryList=n,this.matches=null}clone(){return new Cb(this.queryList)}setDirty(){this.queryList.setDirty()}}class wb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let m=0;m<u;m++){const I=s.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new wb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==rI(n,s).matches&&this.queries[s].setDirty()}}class YT{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Ab{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,m=this.getByIndex(u).embeddedTView(n,f);m&&(m.indexInDeclarationView=u,null!==s?s.push(m):s=[m])}return null!==s?new Ab(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Db{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Db(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(n,s,gw(s,m)),this.matchTNodeWithReadOption(n,s,oa(s,n,m,!1,!1))}else u===tE?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,oa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Tc||f===v0||f===tE&&4&s.type)this.addMatch(s.index,-2);else{const m=oa(s,n,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function gw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function _w(t,n,s,u){return-1===s?function mw(t,n){return 11&t.type?cd(t,n):4&t.type?_0(t,n):null}(n,t):-2===s?function yw(t,n,s){return s===Tc?cd(n,t):s===tE?_0(n,t):s===v0?WT(n,t):void 0}(t,n,u):ac(t,t[gn],s,n)}function XT(t,n,s,u){const f=n[nt].queries[u];if(null===f.matches){const m=t.data,I=s.matches,A=[];for(let x=0;x<I.length;x+=2){const H=I[x];A.push(H<0?null:_w(n,m[H],I[x+1],s.metadata.read))}f.matches=A}return f.matches}function Sb(t,n,s,u){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const I=XT(t,n,f,s);for(let A=0;A<m.length;A+=2){const x=m[A];if(x>0)u.push(I[A/2]);else{const H=m[A+1],se=n[-x];for(let Ae=Sr;Ae<se.length;Ae++){const rt=se[Ae];rt[Se]===rt[dr]&&Sb(rt[gn],rt,H,u)}if(null!==se[Li]){const Ae=se[Li];for(let rt=0;rt<Ae.length;rt++){const mt=Ae[rt];Sb(mt[gn],mt,H,u)}}}}}return u}function QT(t){const n=Wt(),s=Pr(),u=Ol();D(u+1);const f=rI(s,u);if(t.dirty&&function Uh(t){return 4==(4&t[rr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?Sb(s,n,u,[]):XT(s,n,f,u);t.reset(m,cE),t.notifyOnChanges()}return!0}return!1}function JT(t,n,s){const u=Pr();u.firstCreatePass&&(nI(u,new YT(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),tI(u,Wt(),n)}function ZT(t,n,s,u){const f=Pr();if(f.firstCreatePass){const m=$s();nI(f,new YT(n,s,u),m.index),function Ew(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}tI(f,Wt(),s)}function eI(){return function vw(t,n){return t[nt].queries[n].queryList}(Wt(),Ol())}function tI(t,n,s){const u=new Tb(4==(4&s));(function lr(t,n,s,u){const f=Y_(n);f.push(s),t.firstCreatePass&&X_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[nt]&&(n[nt]=new wb),n[nt].queries.push(new Cb(u))}function nI(t,n,s){null===t.queries&&(t.queries=new Ab),t.queries.track(new Db(n,s))}function rI(t,n){return t.queries.getByIndex(n)}function iI(t,n){return _0(t,n)}function Rb(t){return!!oi(t)}const bI=new hn("Application Initializer");let Nb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=fn(bI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(E(m))s.push(m);else if(B(m)){const I=new Promise((A,x)=>{m.subscribe({complete:A,error:x})});s.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const b0=new hn("LocaleId",{providedIn:"root",factory:()=>fn(b0,Tn.Optional|Tn.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||qt}()}),$w=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let II=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Hw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let zw=(()=>{class t{compileModuleSync(s){return new Eb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),m=dd(oi(s).declarations).reduce((I,A)=>{const x=Dr(A);return x&&I.push(new bh(x)),I},[]);return new Hw(u,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const DI=new hn(""),SI=new hn("");let Lb,fA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lb||(function pA(t){Lb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(xt(vo),xt(RI),xt(SI))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),RI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Lb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Dg=null;const PI=new hn("AllowMultipleToken"),Vb=new hn("PlatformDestroyListeners"),Ub=new hn("appBootstrapListener");class _A{constructor(n,s){this.name=n,this.token=s}}function OI(t,n,s=[]){const u=`Platform: ${n}`,f=new hn(u);return(m=[])=>{let I=Bb();if(!I||I.injector.get(PI,!1)){const A=[...s,...m,{provide:f,useValue:!0}];t?t(A):function yA(t){if(Dg&&!Dg.get(PI,!1))throw new we(400,!1);(function MI(){!function Fa(t){Po=t}(()=>{throw new we(600,!1)})})(),Dg=t;const n=t.get(kI);(function xI(t){t.get(zp,null)?.forEach(s=>s())})(t)}(function NI(t=[],n){return Ic.create({name:n,providers:[{provide:bf,useValue:"platform"},{provide:Vb,useValue:new Set([()=>Dg=null])},...t]})}(A,u))}return function EA(t){const n=Bb();if(!n)throw new we(401,!1);return n}()}}function Bb(){return Dg?.get(kI)??null}let kI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function bA(t="zone.js",n){return"noop"===t?new z_:"zone.js"===t?new vo(n):t}(u?.ngZone,function FI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function LC(t,n,s){return new vb(t,n,s)}(s.moduleType,this.injector,function jI(t){return[{provide:vo,useFactory:t},{provide:id,multi:!0,useFactory:()=>{const n=fn(IA,{optional:!0});return()=>n.initialize()}},{provide:BI,useFactory:TA},{provide:EE,useFactory:hv}]}(()=>f)),I=m.injector.get(bl,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:x=>{I.handleError(x)}});m.onDestroy(()=>{I0(this._modules,m),A.unsubscribe()})}),function LI(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(I,f,()=>{const A=m.injector.get(Nb);return A.runInitializers(),A.donePromise.then(()=>(function Wr(t){ut(t,"Expected localeId to be defined"),"string"==typeof t&&(mi=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(b0,qt)||qt),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,u=[]){const f=VI({},u);return function gA(t,n,s){const u=new Eb(s);return Promise.resolve(u)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const u=s.injector.get(Py);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new we(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Vb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(xt(Ic))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function VI(t,n){return Array.isArray(n)?n.reduce(VI,t):{...t,...n}}let Py=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(BI),this.zoneIsStable=fn(EE),this.componentTypes=[],this.components=[],this.isStable=fn(II).hasPendingTasks.pipe((0,$e.n)(s=>s?(0,De.of)(!1):this.zoneIsStable),(0,Le.F)(),(0,Ee.u)()),this._injector=fn(bi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Cm;if(!this._injector.get(Nb).done)throw!f&&ws(s),new we(405,!1);let I;I=f?s:this._injector.get(bc).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const A=function mA(t){return t.isBoundToModule}(I)?void 0:this._injector.get(s_),H=I.create(Ic.NULL,[],u||I.selector,A),se=H.location.nativeElement,Ae=H.injector.get(DI,null);return Ae?.registerApplication(se),H.onDestroy(()=>{this.detachView(H.hostView),I0(this.components,H),Ae?.unregisterApplication(se)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;I0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(Ub,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>I0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new we(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function I0(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const BI=new hn("",{providedIn:"root",factory:()=>fn(bl).handleError.bind(void 0)});function TA(){const t=fn(vo),n=fn(bl);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=fn(vo),this.applicationRef=fn(Py)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wA(){return!1}let AA=(()=>{class t{static{this.__NG_ELEMENT_ID__=DA}}return t})();function DA(t){return function SA(t,n,s){if(ds(t)&&!s){const u=Vi(t.index,n);return new pd(u,u)}return 47&t.type?new pd(n[J],n):null}($s(),Wt(),16==(16&t))}class WI{constructor(){}supports(n){return Vf(n)}create(n){return new OA(n)}}const xA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||xA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,m=null;for(;s||u;){const I=!u||s&&s.currentIndex<qI(u,f,m)?s:u,A=qI(I,f,m),x=I.currentIndex;if(I===u)f--,u=u._nextRemoved;else if(s=s._next,null==I.previousIndex)f++;else{m||(m=[]);const H=A-f,se=x-f;if(H!=se){for(let rt=0;rt<H;rt++){const mt=rt<m.length?m[rt]:m[rt]=0,Bt=mt+rt;se<=Bt&&Bt<H&&(m[rt]=mt+1)}m[I.previousIndex]=se-H}}A!==x&&n(I,A,x)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Vf(n))throw new we(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,I,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)m=n[A],I=this._trackByFn(A,m),null!==s&&Object.is(s.trackById,I)?(u&&(s=this._verifyReinsertion(s,m,I,A)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,I,A),u=!0),s=s._next}else f=0,function Uf(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{I=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,I)?(u&&(s=this._verifyReinsertion(s,A,I,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,I,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,m,f)):n=this._addAfter(new NA(s,u),m,f),n}_verifyReinsertion(n,s,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new KI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class KI{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new kA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qI(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class YI{constructor(){}supports(n){return n instanceof Map||Sc(n)}create(){return new FA}}class FA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Sc(n)))throw new we(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const u=new LA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class LA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XI(){return new zb([new WI])}let zb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:XI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||XI()),deps:[[t,new Yc,new yl]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new we(901,!1)}}return t})();function QI(){return new Wb([new YI])}let Wb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:QI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||QI()),deps:[[t,new Yc,new yl]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new we(901,!1)}}return t})();const BA=OI(null,"core",[]);let jA=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(xt(Py))}}static{this.\u0275mod=mr({type:t})}static{this.\u0275inj=Jt({})}}return t})();function JA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function eD(t){const n=Dr(t);if(!n)return null;const s=new bh(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(rn,Ze,F)=>{F.d(Ze,{DS:()=>Mt,X8:()=>Be,$z:()=>Yt,UB:()=>ir,yy:()=>Ot,ZP:()=>Ce,AU:()=>pn,CP:()=>Ge,gF:()=>Xe}),F(2438);var ue=F(177),i=F(7705),ve=F(5407),_e=F(9253),De=F(1413),Ee=F(7673),$e=F(1985),Le=F(8455),Q=F(7786),ee=F(941),de=F(5558),ye=F(6354),Me=F(6129);class Oe extends De.B{constructor(Ne=1/0,st=1/0,tn=Me.U){super(),this._bufferSize=Ne,this._windowTime=st,this._timestampProvider=tn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Ne),this._windowTime=Math.max(1,st)}next(Ne){const{isStopped:st,_buffer:tn,_infiniteTimeWindow:Ke,_timestampProvider:Re,_windowTime:Ie}=this;st||(tn.push(Ne),!Ke&&tn.push(Re.now()+Ie)),this._trimBuffer(),super.next(Ne)}_subscribe(Ne){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Ne),{_infiniteTimeWindow:tn,_buffer:Ke}=this,Re=Ke.slice();for(let Ie=0;Ie<Re.length&&!Ne.closed;Ie+=tn?1:2)Ne.next(Re[Ie]);return this._checkFinalizedStatuses(Ne),st}_trimBuffer(){const{_bufferSize:Ne,_timestampProvider:st,_buffer:tn,_infiniteTimeWindow:Ke}=this,Re=(Ke?1:2)*Ne;if(Ne<1/0&&Re<tn.length&&tn.splice(0,tn.length-Re),!Ke){const Ie=st.now();let Fe=0;for(let ut=1;ut<tn.length&&tn[ut]<=Ie;ut+=2)Fe=ut;Fe&&tn.splice(0,Fe+1)}}}var ot=F(7647);function Ct(ct,Ne,st){let tn,Ke=!1;return ct&&"object"==typeof ct?({bufferSize:tn=1/0,windowTime:Ne=1/0,refCount:Ke=!1,scheduler:st}=ct):tn=ct??1/0,(0,ot.u)({connector:()=>new Oe(tn,Ne,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ke})}var kt=F(1594),Qt=F(8071);function We(ct,Ne){return(0,Qt.T)(Ne)?(0,de.n)(()=>ct,Ne):(0,de.n)(()=>ct)}var we=F(6745),et=F(5964),Ue=F(7935);const Ge=new i.nKC("angularfire2.auth.use-emulator"),Ot=new i.nKC("angularfire2.auth.settings"),Ce=new i.nKC("angularfire2.auth.tenant-id"),Yt=new i.nKC("angularfire2.auth.langugage-code"),pn=new i.nKC("angularfire2.auth.use-device-language"),ir=new i.nKC("angularfire.auth.persistence"),Xe=(ct,Ne,st,tn,Ke,Re,Ie,Fe)=>(0,_e.BM)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const ut=Ne.runOutsideAngular(()=>ct.auth());if(st&&ut.useEmulator(...st),tn&&(ut.tenantId=tn),ut.languageCode=Ke,Re&&ut.useDeviceLanguage(),Ie)for(const[it,Vt]of Object.entries(Ie))ut.settings[it]=Vt;return Fe&&ut.setPersistence(Fe),ut},[st,tn,Ke,Re,Ie,Fe]);let Mt=(()=>{class ct{authState;idToken;user;idTokenResult;credential;constructor(st,tn,Ke,Re,Ie,Fe,ut,it,Vt,wn,nr,sn){const Vn=new De.B,Jt=(0,Ee.of)(void 0).pipe((0,ee.Q)(Ie.outsideAngular),(0,de.n)(()=>Re.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,ye.T)(()=>(0,_e.iB)(st,Re,tn)),(0,ye.T)($n=>Xe($n,Re,Fe,it,Vt,wn,ut,nr)),Ct({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ee.of)(null);else{Jt.pipe((0,kt.$)()).subscribe();const $n=Jt.pipe((0,de.n)(jt=>jt.getRedirectResult().then(Er=>Er,()=>null)),ve.U0,Ct({bufferSize:1,refCount:!1})),On=Jt.pipe((0,de.n)(jt=>new $e.c(Er=>({unsubscribe:Re.runOutsideAngular(()=>jt.onAuthStateChanged(on=>Er.next(on),on=>Er.error(on),()=>Er.complete()))})))),Ht=Jt.pipe((0,de.n)(jt=>new $e.c(Er=>({unsubscribe:Re.runOutsideAngular(()=>jt.onIdTokenChanged(on=>Er.next(on),on=>Er.error(on),()=>Er.complete()))}))));this.authState=$n.pipe(We(On),(0,we._)(Ie.outsideAngular),(0,ee.Q)(Ie.insideAngular)),this.user=$n.pipe(We(Ht),(0,we._)(Ie.outsideAngular),(0,ee.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,de.n)(jt=>jt?(0,Le.H)(jt.getIdToken()):(0,Ee.of)(null))),this.idTokenResult=this.user.pipe((0,de.n)(jt=>jt?(0,Le.H)(jt.getIdTokenResult()):(0,Ee.of)(null))),this.credential=(0,Q.h)($n,Vn,this.authState.pipe((0,et.p)(jt=>!jt))).pipe((0,ye.T)(jt=>jt?.user?jt:null),(0,we._)(Ie.outsideAngular),(0,ee.Q)(Ie.insideAngular))}return(0,_e.Gt)(this,Jt,Re,{spy:{apply:($n,On,Ht)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&Ht.then(jt=>Vn.next(jt))}}})}static \u0275fac=function(tn){return new(tn||ct)(i.KVO(_e.rx),i.KVO(_e.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(ve.u0),i.KVO(Ge,8),i.KVO(Ot,8),i.KVO(Ce,8),i.KVO(Yt,8),i.KVO(pn,8),i.KVO(ir,8),i.KVO(ve.Jv,8))};static \u0275prov=i.jDH({token:ct,factory:ct.\u0275fac,providedIn:"any"})}return ct})(),Be=(()=>{class ct{constructor(){Ue.A.registerVersion("angularfire",ve.xv.full,"auth-compat")}static \u0275fac=function(tn){return new(tn||ct)};static \u0275mod=i.$C({type:ct});static \u0275inj=i.G2t({providers:[Mt]})}return ct})()},6340:(rn,Ze,F)=>{F.d(Ze,{Qe:()=>Di,cM:()=>at});var o=F(177),ue=F(7705),i=F(5407),ve=F(9253),_e=F(1977),De=F(3236),Ee=F(1985),$e=F(8455),Le=F(7673),Q=F(9172),ee=F(9974),de=F(4360);function ye(){return(0,ee.N)((Tt,ce)=>{let ke,fe=!1;Tt.subscribe((0,de._)(ce,pt=>{const be=ke;ke=pt,fe&&ce.next([be,pt]),fe=!0}))})}var Me=F(6354),Oe=F(2816),ot=F(3294),Ct=F(5964),Qt=(F(2438),F(3345)),We=F(9583),we=F(1076),et=F(1362);function Ge(Tt,ce){if(void 0===ce)return{merge:!1};if(void 0!==ce.mergeFields&&void 0!==ce.merge)throw new We.W6("invalid-argument",`Invalid options passed to function ${Tt}(): You cannot specify both "merge" and "mergeFields".`);return ce}function Ot(){if(typeof Uint8Array>"u")throw new We.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ce(){if(!(0,We.qG)())throw new We.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Yt{constructor(ce){this._delegate=ce}static fromBase64String(ce){return Ce(),new Yt(We.Ix.fromBase64String(ce))}static fromUint8Array(ce){return Ot(),new Yt(We.Ix.fromUint8Array(ce))}toBase64(){return Ce(),this._delegate.toBase64()}toUint8Array(){return Ot(),this._delegate.toUint8Array()}isEqual(ce){return this._delegate.isEqual(ce._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pn(Tt){return function ir(Tt,ce){if("object"!=typeof Tt||null===Tt)return!1;const ke=Tt;for(const fe of ce)if(fe in ke&&"function"==typeof ke[fe])return!0;return!1}(Tt,["next","error","complete"])}class Xe{enableIndexedDbPersistence(ce,ke){return(0,We.ol)(ce._delegate,{forceOwnership:ke})}enableMultiTabIndexedDbPersistence(ce){return(0,We.Q5)(ce._delegate)}clearIndexedDbPersistence(ce){return(0,We.me)(ce._delegate)}}class Mt{constructor(ce,ke,fe){this._delegate=ke,this._persistenceProvider=fe,this.INTERNAL={delete:()=>this.terminate()},ce instanceof We.cm||(this._appCompat=ce)}get _databaseId(){return this._delegate._databaseId}settings(ce){const ke=this._delegate._getSettings();!ce.merge&&ke.host!==ce.host&&(0,We.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ce.merge&&delete(ce=Object.assign(Object.assign({},ke),ce)).merge,this._delegate._setSettings(ce)}useEmulator(ce,ke,fe={}){(0,We.vN)(this._delegate,ce,ke,fe)}enableNetwork(){return(0,We.Os)(this._delegate)}disableNetwork(){return(0,We.LA)(this._delegate)}enablePersistence(ce){let ke=!1,fe=!1;return ce&&(ke=!!ce.synchronizeTabs,fe=!!ce.experimentalForceOwningTab,(0,We.c8)("synchronizeTabs",ke,"experimentalForceOwningTab",fe)),ke?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,fe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.iB)(this._delegate)}onSnapshotsInSync(ce){return(0,We.FC)(this._delegate,ce)}get app(){if(!this._appCompat)throw new We.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ce){try{return new sn(this,(0,We.rJ)(this._delegate,ce))}catch(ke){throw Re(ke,"collection()","Firestore.collection()")}}doc(ce){try{return new Ke(this,(0,We.H9)(this._delegate,ce))}catch(ke){throw Re(ke,"doc()","Firestore.doc()")}}collectionGroup(ce){try{return new Vt(this,(0,We.Cs)(this._delegate,ce))}catch(ke){throw Re(ke,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ce){return(0,We.c4)(this._delegate,ke=>ce(new Ne(this,ke)))}batch(){return(0,We.Ws)(this._delegate),new st(new We.GA(this._delegate,ce=>(0,We.z6)(this._delegate,ce)))}loadBundle(ce){return(0,We.po)(this._delegate,ce)}namedQuery(ce){return(0,We.St)(this._delegate,ce).then(ke=>ke?new Vt(this,ke):null)}}class Be extends We.fS{constructor(ce){super(),this.firestore=ce}convertBytes(ce){return new Yt(new We.Ix(ce))}convertReference(ce){const ke=this.convertDocumentKey(ce,this.firestore._databaseId);return Ke.forKey(ke,this.firestore,null)}}class Ne{constructor(ce,ke){this._firestore=ce,this._delegate=ke,this._userDataWriter=new Be(ce)}get(ce){const ke=Vn(ce);return this._delegate.get(ke).then(fe=>new ut(this._firestore,new We.Wq(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,ke.converter)))}set(ce,ke,fe){const pt=Vn(ce);return fe?(Ge("Transaction.set",fe),this._delegate.set(pt,ke,fe)):this._delegate.set(pt,ke),this}update(ce,ke,fe,...pt){const be=Vn(ce);return 2===arguments.length?this._delegate.update(be,ke):this._delegate.update(be,ke,fe,...pt),this}delete(ce){const ke=Vn(ce);return this._delegate.delete(ke),this}}class st{constructor(ce){this._delegate=ce}set(ce,ke,fe){const pt=Vn(ce);return fe?(Ge("WriteBatch.set",fe),this._delegate.set(pt,ke,fe)):this._delegate.set(pt,ke),this}update(ce,ke,fe,...pt){const be=Vn(ce);return 2===arguments.length?this._delegate.update(be,ke):this._delegate.update(be,ke,fe,...pt),this}delete(ce){const ke=Vn(ce);return this._delegate.delete(ke),this}commit(){return this._delegate.commit()}}class tn{constructor(ce,ke,fe){this._firestore=ce,this._userDataWriter=ke,this._delegate=fe}fromFirestore(ce,ke){const fe=new We.YQ(this._firestore._delegate,this._userDataWriter,ce._key,ce._document,ce.metadata,null);return this._delegate.fromFirestore(new it(this._firestore,fe),ke??{})}toFirestore(ce,ke){return ke?this._delegate.toFirestore(ce,ke):this._delegate.toFirestore(ce)}static getInstance(ce,ke){const fe=tn.INSTANCES;let pt=fe.get(ce);pt||(pt=new WeakMap,fe.set(ce,pt));let be=pt.get(ke);return be||(be=new tn(ce,new Be(ce),ke),pt.set(ke,be)),be}}tn.INSTANCES=new WeakMap;class Ke{constructor(ce,ke){this.firestore=ce,this._delegate=ke,this._userDataWriter=new Be(ce)}static forPath(ce,ke,fe){if(ce.length%2!=0)throw new We.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ce.canonicalString()} has ${ce.length}`);return new Ke(ke,new We.T1(ke._delegate,fe,new We.K$(ce)))}static forKey(ce,ke,fe){return new Ke(ke,new We.T1(ke._delegate,fe,ce))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ce){try{return new sn(this.firestore,(0,We.rJ)(this._delegate,ce))}catch(ke){throw Re(ke,"collection()","DocumentReference.collection()")}}isEqual(ce){return(ce=(0,we.Ku)(ce))instanceof We.T1&&(0,We.yx)(this._delegate,ce)}set(ce,ke){ke=Ge("DocumentReference.set",ke);try{return ke?(0,We.BN)(this._delegate,ce,ke):(0,We.BN)(this._delegate,ce)}catch(fe){throw Re(fe,"setDoc()","DocumentReference.set()")}}update(ce,ke,...fe){try{return 1===arguments.length?(0,We.mZ)(this._delegate,ce):(0,We.mZ)(this._delegate,ce,ke,...fe)}catch(pt){throw Re(pt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.kd)(this._delegate)}onSnapshot(...ce){const ke=Ie(ce),fe=Fe(ce,pt=>new ut(this.firestore,new We.Wq(this.firestore._delegate,this._userDataWriter,pt._key,pt._document,pt.metadata,this._delegate.converter)));return(0,We.aQ)(this._delegate,ke,fe)}get(ce){let ke;return ke="cache"===ce?.source?(0,We.nY)(this._delegate):"server"===ce?.source?(0,We._e)(this._delegate):(0,We.x7)(this._delegate),ke.then(fe=>new ut(this.firestore,new We.Wq(this.firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,this._delegate.converter)))}withConverter(ce){return new Ke(this.firestore,this._delegate.withConverter(ce?tn.getInstance(this.firestore,ce):null))}}function Re(Tt,ce,ke){return Tt.message=Tt.message.replace(ce,ke),Tt}function Ie(Tt){for(const ce of Tt)if("object"==typeof ce&&!pn(ce))return ce;return{}}function Fe(Tt,ce){var ke,fe;let pt;return pt=pn(Tt[0])?Tt[0]:pn(Tt[1])?Tt[1]:"function"==typeof Tt[0]?{next:Tt[0],error:Tt[1],complete:Tt[2]}:{next:Tt[1],error:Tt[2],complete:Tt[3]},{next:be=>{pt.next&&pt.next(ce(be))},error:null===(ke=pt.error)||void 0===ke?void 0:ke.bind(pt),complete:null===(fe=pt.complete)||void 0===fe?void 0:fe.bind(pt)}}class ut{constructor(ce,ke){this._firestore=ce,this._delegate=ke}get ref(){return new Ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ce){return this._delegate.data(ce)}get(ce,ke){return this._delegate.get(ce,ke)}isEqual(ce){return(0,We.lN)(this._delegate,ce._delegate)}}class it extends ut{data(ce){const ke=this._delegate.data(ce);return this._delegate._converter||(0,We.bI)(void 0!==ke,"Document in a QueryDocumentSnapshot should exist"),ke}}class Vt{constructor(ce,ke){this.firestore=ce,this._delegate=ke,this._userDataWriter=new Be(ce)}where(ce,ke,fe){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We._M)(ce,ke,fe)))}catch(pt){throw Re(pt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ce,ke){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.My)(ce,ke)))}catch(fe){throw Re(fe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.AB)(ce)))}catch(ke){throw Re(ke,"limit()","Query.limit()")}}limitToLast(ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.$1)(ce)))}catch(ke){throw Re(ke,"limitToLast()","Query.limitToLast()")}}startAt(...ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.EO)(...ce)))}catch(ke){throw Re(ke,"startAt()","Query.startAt()")}}startAfter(...ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.HM)(...ce)))}catch(ke){throw Re(ke,"startAfter()","Query.startAfter()")}}endBefore(...ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.rf)(...ce)))}catch(ke){throw Re(ke,"endBefore()","Query.endBefore()")}}endAt(...ce){try{return new Vt(this.firestore,(0,We.P)(this._delegate,(0,We.FD)(...ce)))}catch(ke){throw Re(ke,"endAt()","Query.endAt()")}}isEqual(ce){return(0,We.B)(this._delegate,ce._delegate)}get(ce){let ke;return ke="cache"===ce?.source?(0,We.kU)(this._delegate):"server"===ce?.source?(0,We.Rr)(this._delegate):(0,We.GG)(this._delegate),ke.then(fe=>new nr(this.firestore,new We.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,fe._snapshot)))}onSnapshot(...ce){const ke=Ie(ce),fe=Fe(ce,pt=>new nr(this.firestore,new We.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,pt._snapshot)));return(0,We.aQ)(this._delegate,ke,fe)}withConverter(ce){return new Vt(this.firestore,this._delegate.withConverter(ce?tn.getInstance(this.firestore,ce):null))}}class wn{constructor(ce,ke){this._firestore=ce,this._delegate=ke}get type(){return this._delegate.type}get doc(){return new it(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nr{constructor(ce,ke){this._firestore=ce,this._delegate=ke}get query(){return new Vt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ce=>new it(this._firestore,ce))}docChanges(ce){return this._delegate.docChanges(ce).map(ke=>new wn(this._firestore,ke))}forEach(ce,ke){this._delegate.forEach(fe=>{ce.call(ke,new it(this._firestore,fe))})}isEqual(ce){return(0,We.lN)(this._delegate,ce._delegate)}}class sn extends Vt{constructor(ce,ke){super(ce,ke),this.firestore=ce,this._delegate=ke}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ce=this._delegate.parent;return ce?new Ke(this.firestore,ce):null}doc(ce){try{return new Ke(this.firestore,void 0===ce?(0,We.H9)(this._delegate):(0,We.H9)(this._delegate,ce))}catch(ke){throw Re(ke,"doc()","CollectionReference.doc()")}}add(ce){return(0,We.gS)(this._delegate,ce).then(ke=>new Ke(this.firestore,ke))}isEqual(ce){return(0,We.yx)(this._delegate,ce._delegate)}withConverter(ce){return new sn(this.firestore,this._delegate.withConverter(ce?tn.getInstance(this.firestore,ce):null))}}function Vn(Tt){return(0,We.lo)(Tt,We.T1)}class Jt{constructor(...ce){this._delegate=new We.uY(...ce)}static documentId(){return new Jt(We.FA.keyField().canonicalString())}isEqual(ce){return(ce=(0,we.Ku)(ce))instanceof We.uY&&this._delegate._internalPath.isEqual(ce._internalPath)}}class $n{constructor(ce){this._delegate=ce}static serverTimestamp(){const ce=(0,We.O5)();return ce._methodName="FieldValue.serverTimestamp",new $n(ce)}static delete(){const ce=(0,We.CL)();return ce._methodName="FieldValue.delete",new $n(ce)}static arrayUnion(...ce){const ke=(0,We.hq)(...ce);return ke._methodName="FieldValue.arrayUnion",new $n(ke)}static arrayRemove(...ce){const ke=(0,We.C3)(...ce);return ke._methodName="FieldValue.arrayRemove",new $n(ke)}static increment(ce){const ke=(0,We.GV)(ce);return ke._methodName="FieldValue.increment",new $n(ke)}isEqual(ce){return this._delegate.isEqual(ce._delegate)}}const On={Firestore:Mt,GeoPoint:We.Ci,Timestamp:We.Dc,Blob:Yt,Transaction:Ne,WriteBatch:st,DocumentReference:Ke,DocumentSnapshot:ut,Query:Vt,QueryDocumentSnapshot:it,QuerySnapshot:nr,CollectionReference:sn,FieldPath:Jt,FieldValue:$n,setLogLevel:function ct(Tt){(0,We.He)(Tt)},CACHE_SIZE_UNLIMITED:We.H6};!function jt(Tt){(function Ht(Tt,ce){Tt.INTERNAL.registerComponent(new et.uA("firestore-compat",ke=>{const fe=ke.getProvider("app-compat").getImmediate(),pt=ke.getProvider("firestore").getImmediate();return ce(fe,pt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(Tt,(ce,ke)=>new Mt(ce,ke,new Xe)),Tt.registerVersion("@firebase/firestore-compat","0.3.38")}(Qt.A);var Er=F(7935);function kr(Tt,ce){return function on(Tt,ce=De.E){return new Ee.c(ke=>{let fe;return null!=ce?ce.schedule(()=>{fe=Tt.onSnapshot({includeMetadataChanges:!0},ke)}):fe=Tt.onSnapshot({includeMetadataChanges:!0},ke),()=>{fe?.()}})}(Tt,ce)}function $t(Tt,ce){return kr(Tt,ce).pipe((0,Me.T)(ke=>({payload:ke,type:"query"})))}class Tn{ref;afs;constructor(ce,ke){this.ref=ce,this.afs=ke}set(ce,ke){return this.ref.set(ce,ke)}update(ce){return this.ref.update(ce)}delete(){return this.ref.delete()}collection(ce,ke){const fe=this.ref.collection(ce),{ref:pt,query:be}=Hn(fe,ke);return new fi(pt,be,this.afs)}snapshotChanges(){return function Yn(Tt,ce){return kr(Tt,ce).pipe((0,Q.Z)(void 0),ye(),(0,Me.T)(ke=>{const[fe,pt]=ke;return pt.exists?fe?.exists?{payload:pt,type:"modified"}:{payload:pt,type:"added"}:{payload:pt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return this.snapshotChanges().pipe((0,Me.T)(({payload:ke})=>ce.idField?{...ke.data(),[ce.idField]:ke.id}:ke.data()))}get(ce){return(0,$e.H)(this.ref.get(ce)).pipe(i.U0)}}function Gn(Tt,ce){return $t(Tt,ce).pipe((0,Q.Z)(void 0),ye(),(0,Me.T)(ke=>{const[fe,pt]=ke,be=pt.payload.docChanges(),yt=be.map(Xt=>({type:Xt.type,payload:Xt}));return fe&&JSON.stringify(fe.payload.metadata)!==JSON.stringify(pt.payload.metadata)&&pt.payload.docs.forEach((Xt,br)=>{const vt=be.find(M=>M.doc.ref.isEqual(Xt.ref)),$=fe?.payload.docs.find(M=>M.ref.isEqual(Xt.ref));vt&&JSON.stringify(vt.doc.metadata)===JSON.stringify(Xt.metadata)||!vt&&$&&JSON.stringify($.metadata)===JSON.stringify(Xt.metadata)||yt.push({type:"modified",payload:{oldIndex:br,newIndex:br,type:"modified",doc:Xt}})}),yt}))}function In(Tt,ce,ke){return Gn(Tt,ke).pipe((0,Oe.S)((fe,pt)=>function $r(Tt,ce,ke){return ce.forEach(fe=>{ke.indexOf(fe.type)>-1&&(Tt=function ni(Tt,ce){switch(ce.type){case"added":if(!Tt[ce.newIndex]||!Tt[ce.newIndex].doc.ref.isEqual(ce.doc.ref))return Mr(Tt,ce.newIndex,0,ce);break;case"modified":if(null==Tt[ce.oldIndex]||Tt[ce.oldIndex].doc.ref.isEqual(ce.doc.ref)){if(ce.oldIndex!==ce.newIndex){const ke=Tt.slice();return ke.splice(ce.oldIndex,1),ke.splice(ce.newIndex,0,ce),ke}return Mr(Tt,ce.newIndex,1,ce)}break;case"removed":if(Tt[ce.oldIndex]&&Tt[ce.oldIndex].doc.ref.isEqual(ce.doc.ref))return Mr(Tt,ce.oldIndex,1)}return Tt}(Tt,fe))}),Tt}(fe,pt.map(be=>be.payload),ce),[]),(0,ot.F)(),(0,Me.T)(fe=>fe.map(pt=>({type:pt.type,payload:pt}))))}function Mr(Tt,ce,ke,...fe){const pt=Tt.slice();return pt.splice(ce,ke,...fe),pt}function zn(Tt){return(!Tt||0===Tt.length)&&(Tt=["added","removed","modified"]),Tt}class fi{ref;query;afs;constructor(ce,ke,fe){this.ref=ce,this.query=ke,this.afs=fe}stateChanges(ce){let ke=Gn(this.query,this.afs.schedulers.outsideAngular);return ce&&ce.length>0&&(ke=ke.pipe((0,Me.T)(fe=>fe.filter(pt=>ce.indexOf(pt.type)>-1)))),ke.pipe((0,Q.Z)(void 0),ye(),(0,Ct.p)(([fe,pt])=>pt.length>0||!fe),(0,Me.T)(([,fe])=>fe),i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,Oe.S)((ke,fe)=>[...ke,...fe],[]))}snapshotChanges(ce){const ke=zn(ce);return In(this.query,ke,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(ke=>ke.payload.docs.map(fe=>ce.idField?{...fe.data(),[ce.idField]:fe.id}:fe.data())),i.U0)}get(ce){return(0,$e.H)(this.query.get(ce)).pipe(i.U0)}add(ce){return this.ref.add(ce)}doc(ce){return new Tn(this.ref.doc(ce),this.afs)}}class gs{query;afs;constructor(ce,ke){this.query=ce,this.afs=ke}stateChanges(ce){return ce&&0!==ce.length?Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(ke=>ke.filter(fe=>ce.indexOf(fe.type)>-1)),(0,Ct.p)(ke=>ke.length>0),i.U0):Gn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,Oe.S)((ke,fe)=>[...ke,...fe],[]))}snapshotChanges(ce){const ke=zn(ce);return In(this.query,ke,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(fe=>fe.payload.docs.map(pt=>ce.idField?{[ce.idField]:pt.id,...pt.data()}:pt.data())),i.U0)}get(ce){return(0,$e.H)(this.query.get(ce)).pipe(i.U0)}}const hn=new ue.nKC("angularfire2.enableFirestorePersistence"),ri=new ue.nKC("angularfire2.firestore.persistenceSettings"),Jn=new ue.nKC("angularfire2.firestore.settings"),Ir=new ue.nKC("angularfire2.firestore.use-emulator");function Hn(Tt,ce=(ke=>ke)){return{query:ce(Tt),ref:Tt}}let Di=(()=>{class Tt{schedulers;firestore;persistenceEnabled$;constructor(ke,fe,pt,be,yt,Xt,br,vt,$,M,L,ie,me,ht,xt,an,fn){this.schedulers=br;const Sn=(0,ve.iB)(ke,Xt,fe),Tr=$;M&&(0,_e.gF)(Sn,Xt,L,me,ht,xt,ie,an),[this.firestore,this.persistenceEnabled$]=(0,ve.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const ln=Xt.runOutsideAngular(()=>Sn.firestore());if(be&&ln.settings(be),Tr&&ln.useEmulator(...Tr),pt&&!(0,o.Vy)(yt)){const qr=()=>{try{return(0,$e.H)(ln.enablePersistence(vt||void 0).then(()=>!0,()=>!1))}catch(ur){return typeof console<"u"&&console.warn(ur),(0,Le.of)(!1)}};return[ln,Xt.runOutsideAngular(qr)]}return[ln,(0,Le.of)(!1)]},[be,Tr,pt])}collection(ke,fe){let pt;pt="string"==typeof ke?this.firestore.collection(ke):ke;const{ref:be,query:yt}=Hn(pt,fe),Xt=this.schedulers.ngZone.run(()=>be);return new fi(Xt,yt,this)}collectionGroup(ke,fe){const pt=fe||(yt=>yt),be=this.firestore.collectionGroup(ke);return new gs(pt(be),this)}doc(ke){let fe;fe="string"==typeof ke?this.firestore.doc(ke):ke;const pt=this.schedulers.ngZone.run(()=>fe);return new Tn(pt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(fe){return new(fe||Tt)(ue.KVO(ve.rx),ue.KVO(ve.uP,8),ue.KVO(hn,8),ue.KVO(Jn,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(i.u0),ue.KVO(ri,8),ue.KVO(Ir,8),ue.KVO(_e.DS,8),ue.KVO(_e.CP,8),ue.KVO(_e.yy,8),ue.KVO(_e.ZP,8),ue.KVO(_e.$z,8),ue.KVO(_e.AU,8),ue.KVO(_e.UB,8),ue.KVO(i.Jv,8))};static \u0275prov=ue.jDH({token:Tt,factory:Tt.\u0275fac,providedIn:"any"})}return Tt})(),at=(()=>{class Tt{constructor(){Er.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(ke){return{ngModule:Tt,providers:[{provide:hn,useValue:!0},{provide:ri,useValue:ke}]}}static \u0275fac=function(fe){return new(fe||Tt)};static \u0275mod=ue.$C({type:Tt});static \u0275inj=ue.G2t({providers:[Di]})}return Tt})()},8721:(rn,Ze,F)=>{F.d(Ze,{ap:()=>Ne,y5:()=>Ke});var o=F(5407),ue=F(1985),i=F(7673),ve=F(8455),_e=F(3236),De=F(9974),Ee=F(4360),Le=F(6354),Q=F(5558),ee=F(7705),de=F(9253),ye=F(3345),Me=F(4535),Oe=F(1362);class ot{constructor(Ie,Fe,ut){this._delegate=Ie,this.task=Fe,this.ref=ut}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ct{constructor(Ie,Fe){this._delegate=Ie,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ot(this._delegate.snapshot,this,this._ref)}then(Ie,Fe){return this._delegate.then(ut=>{if(Ie)return Ie(new ot(ut,this,this._ref))},Fe)}on(Ie,Fe,ut,it){let Vt;return Fe&&(Vt="function"==typeof Fe?wn=>Fe(new ot(wn,this,this._ref)):{next:Fe.next?wn=>Fe.next(new ot(wn,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Ie,Vt,ut||void 0,it||void 0)}}class kt{constructor(Ie,Fe){this._delegate=Ie,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(Ie=>new Qt(Ie,this._service))}get items(){return this._delegate.items.map(Ie=>new Qt(Ie,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qt{constructor(Ie,Fe){this._delegate=Ie,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ie){const Fe=(0,Me.Mp)(this._delegate,Ie);return new Qt(Fe,this.storage)}get root(){return new Qt(this._delegate.root,this.storage)}get parent(){const Ie=this._delegate.parent;return null==Ie?null:new Qt(Ie,this.storage)}put(Ie,Fe){return this._throwIfRoot("put"),new Ct((0,Me.bp)(this._delegate,Ie,Fe),this)}putString(Ie,Fe=Me.nw.RAW,ut){this._throwIfRoot("putString");const it=(0,Me.ZH)(Fe,Ie),Vt=Object.assign({},ut);return null==Vt.contentType&&null!=it.contentType&&(Vt.contentType=it.contentType),new Ct(new Me.UC(this._delegate,new Me.Mx(it.data,!0),Vt),this)}listAll(){return(0,Me._w)(this._delegate).then(Ie=>new kt(Ie,this.storage))}list(Ie){return(0,Me.p_)(this._delegate,Ie||void 0).then(Fe=>new kt(Fe,this.storage))}getMetadata(){return(0,Me.yb)(this._delegate)}updateMetadata(Ie){return(0,Me.D5)(this._delegate,Ie)}getDownloadURL(){return(0,Me.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Me.XR)(this._delegate)}_throwIfRoot(Ie){if(""===this._delegate._location.path)throw(0,Me.UY)(Ie)}}class We{constructor(Ie,Fe){this.app=Ie,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ie){if(we(Ie))throw(0,Me.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Qt((0,Me.KR)(this._delegate,Ie),this)}refFromURL(Ie){if(!we(Ie))throw(0,Me.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Me.TZ.makeFromUrl(Ie,this._delegate.host)}catch{throw(0,Me.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qt((0,Me.KR)(this._delegate,Ie),this)}setMaxUploadRetryTime(Ie){this._delegate.maxUploadRetryTime=Ie}setMaxOperationRetryTime(Ie){this._delegate.maxOperationRetryTime=Ie}useEmulator(Ie,Fe,ut={}){(0,Me.nb)(this._delegate,Ie,Fe,ut)}}function we(Re){return/^[A-Za-z]+:\/\//.test(Re)}function Ge(Re,{instanceIdentifier:Ie}){const Fe=Re.getProvider("app-compat").getImmediate(),ut=Re.getProvider("storage").getImmediate({identifier:Ie});return new We(Fe,ut)}!function Ot(Re){const Ie={TaskState:Me.Ad,TaskEvent:Me.xc,StringFormat:Me.nw,Storage:We,Reference:Qt};Re.INTERNAL.registerComponent(new Oe.uA("storage-compat",Ge,"PUBLIC").setServiceProps(Ie).setMultipleInstances(!0)),Re.registerVersion("@firebase/storage-compat","0.3.12")}(ye.A);var Ce=F(7935);function pn(Re){const Ie=function Yt(Re){return new ue.c(Ie=>{const Fe=wn=>Ie.next(wn);Fe(Re.snapshot);const Vt=Re.on("state_changed",Fe);return Re.then(wn=>{Fe(wn),Ie.complete()},wn=>{Fe(Re.snapshot),(wn=>{Ie.error(wn)})(wn)}),function(){Vt()}}).pipe(function $e(Re,Ie=_e.E){return(0,De.N)((Fe,ut)=>{let it=null,Vt=null,wn=null;const nr=()=>{if(it){it.unsubscribe(),it=null;const Vn=Vt;Vt=null,ut.next(Vn)}};function sn(){const Vn=wn+Re,Jt=Ie.now();if(Jt<Vn)return it=this.schedule(void 0,Vn-Jt),void ut.add(it);nr()}Fe.subscribe((0,Ee._)(ut,Vn=>{Vt=Vn,wn=Ie.now(),it||(it=Ie.schedule(sn,Re),ut.add(it))},()=>{nr(),ut.complete()},void 0,()=>{Vt=it=null}))})}(0))}(Re);return{task:Re,then:Re.then.bind(Re),catch:Re.catch.bind(Re),pause:Re.pause.bind(Re),cancel:Re.cancel.bind(Re),resume:Re.resume.bind(Re),snapshotChanges:()=>Ie,percentageChanges:()=>Ie.pipe((0,Le.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function ir(Re){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,Q.n)(()=>Re.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,Q.n)(()=>Re.getMetadata()),o.U0),delete:()=>(0,ve.H)(Re.delete()),child:Ie=>ir(Re.child(Ie)),updateMetadata:Ie=>(0,ve.H)(Re.updateMetadata(Ie)),put:(Ie,Fe)=>pn(Re.put(Ie,Fe)),putString:(Ie,Fe,ut)=>pn(Re.putString(Ie,Fe,ut)),list:Ie=>(0,ve.H)(Re.list(Ie)),listAll:()=>(0,ve.H)(Re.listAll())}}const Xe=new ee.nKC("angularfire2.storageBucket"),Mt=new ee.nKC("angularfire2.storage.maxUploadRetryTime"),Be=new ee.nKC("angularfire2.storage.maxOperationRetryTime"),ct=new ee.nKC("angularfire2.storage.use-emulator");let Ne=(()=>{class Re{storage;constructor(Fe,ut,it,Vt,wn,nr,sn,Vn,Jt,$n){const On=(0,de.iB)(Fe,wn,ut);this.storage=(0,de.BM)(`${On.name}.storage.${it}`,"AngularFireStorage",On.name,()=>{const Ht=wn.runOutsideAngular(()=>On.storage(it||void 0)),jt=Jt;return jt&&Ht.useEmulator(...jt),sn&&Ht.setMaxUploadRetryTime(sn),Vn&&Ht.setMaxOperationRetryTime(Vn),Ht},[sn,Vn])}ref(Fe){return ir(this.storage.ref(Fe))}refFromURL(Fe){return ir(this.storage.refFromURL(Fe))}upload(Fe,ut,it){return ir(this.storage.ref(Fe)).put(ut,it)}static \u0275fac=function(ut){return new(ut||Re)(ee.KVO(de.rx),ee.KVO(de.uP,8),ee.KVO(Xe,8),ee.KVO(ee.Agw),ee.KVO(ee.SKi),ee.KVO(o.u0),ee.KVO(Mt,8),ee.KVO(Be,8),ee.KVO(ct,8),ee.KVO(o.Jv,8))};static \u0275prov=ee.jDH({token:Re,factory:Re.\u0275fac,providedIn:"any"})}return Re})(),tn=(()=>{class Re{static \u0275fac=function(ut){return new(ut||Re)};static \u0275mod=ee.$C({type:Re});static \u0275inj=ee.G2t({})}return Re})(),Ke=(()=>{class Re{constructor(){Ce.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(ut){return new(ut||Re)};static \u0275mod=ee.$C({type:Re});static \u0275inj=ee.G2t({providers:[Ne],imports:[tn]})}return Re})()},9253:(rn,Ze,F)=>{F.d(Ze,{BM:()=>Me,Gt:()=>_e,bf:()=>ye,e7:()=>De,iB:()=>Q,rx:()=>$e,uP:()=>Le});var o=F(7705),ue=F(5407),i=F(7935);const ve=["ngOnDestroy"],_e=(kt,Qt,We,we={})=>new Proxy(kt,{get:(et,Ue)=>We.runOutsideAngular(()=>{if(kt[Ue])return we?.spy?.get&&we.spy.get(Ue,kt[Ue]),kt[Ue];if(ve.indexOf(Ue)>-1)return()=>{};const tt=Qt.toPromise().then(Ge=>{const Ot=Ge?.[Ue];return"function"==typeof Ot?Ot.bind(Ge):Ot?.then?Ot.then(Ce=>We.run(()=>Ce)):We.run(()=>Ot)});return new Proxy(()=>{},{get:(Ge,Ot)=>tt[Ot],apply:(Ge,Ot,Ce)=>tt.then(Yt=>{const pn=Yt?.(...Ce);return we?.spy?.apply&&we.spy.apply(Ue,Ce,pn),pn})})})}),De=(kt,Qt)=>{Qt.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(we=>{Object.defineProperty(kt.prototype,we,Object.getOwnPropertyDescriptor(We.prototype||We,we))})})};class Ee{constructor(Qt){return Qt}}const $e=new o.nKC("angularfire2.app.options"),Le=new o.nKC("angularfire2.app.name");function Q(kt,Qt,We){const et="object"==typeof We&&We||{};et.name=et.name||"string"==typeof We&&We||"[DEFAULT]";const tt=i.A.apps.filter(Ge=>Ge&&Ge.name===et.name)[0]||Qt.runOutsideAngular(()=>i.A.initializeApp(kt,et));try{if(JSON.stringify(kt)!==JSON.stringify(tt.options)){const Ge=!!module.hot;ee("error",`${tt.name} Firebase App already initialized with different options${Ge?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ee(tt)}const ee=(kt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[kt](...Qt)},de={provide:Ee,useFactory:Q,deps:[$e,o.SKi,[new o.Xx1,Le]]};let ye=(()=>{class kt{static initializeApp(We,we){return{ngModule:kt,providers:[{provide:$e,useValue:We},{provide:Le,useValue:we}]}}constructor(We){i.A.registerVersion("angularfire",ue.xv.full,"core"),i.A.registerVersion("angularfire",ue.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,We.toString())}static \u0275fac=function(we){return new(we||kt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:kt});static \u0275inj=o.G2t({providers:[de]})}return kt})();function Me(kt,Qt,We,we,et){const[,Ue,tt]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===kt)||[];if(Ue)return function Oe(kt,Qt){try{return kt.toString()===Qt.toString()}catch{return kt===Qt}}(et,tt)||(Ct("error",`${Qt} was already initialized on the ${We} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),Ct("warn",{is:et,was:tt})),Ue;{const Ge=we();return globalThis.\u0275AngularfireInstanceCache.push([kt,Ge,et]),Ge}}const ot=typeof module<"u"&&!!module.hot,Ct=(kt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[kt](...Qt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(rn,Ze,F)=>{F.d(Ze,{xv:()=>Me,U0:()=>pn,Oe:()=>Ce,u0:()=>Ue,Jv:()=>kt,CA:()=>Ct,lR:()=>ot,S3:()=>Mt});var o=F(7705),ue=F(2214),i=F(6780),_e=F(9687);const Ee=new class De extends _e.q{}(class ve extends i.R{constructor(ct,Ne){super(ct,Ne),this.scheduler=ct,this.work=Ne}schedule(ct,Ne=0){return Ne>0?super.schedule(ct,Ne):(this.delay=Ne,this.state=ct,this.scheduler.flush(this),this)}execute(ct,Ne){return Ne>0||this.closed?super.execute(ct,Ne):this._execute(ct,Ne)}requestAsyncId(ct,Ne,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(ct,Ne,st):(ct.flush(this),0)}});var Le=F(3236),Q=F(1985),ee=F(8141),de=F(941),ye=F(6745);const Me=new o.RxE("ANGULARFIRE2_VERSION");function ot(Be,ct,Ne){if(ct){if(1===ct.length)return ct[0];const Ke=ct.filter(Re=>Re.app===Ne);if(1===Ke.length)return Ke[0]}return Ne.container.getProvider(Be).getImmediate({optional:!0})}const Ct=(Be,ct)=>{const Ne=ct?[ct]:(0,ue.Dk)(),st=[];return Ne.forEach(tn=>{tn.container.getProvider(Be).instances.forEach(Re=>{st.includes(Re)||st.push(Re)})}),st};class kt{constructor(){return Ct(Qt)}}const Qt="app-check";function We(){}class we{zone;delegate;constructor(ct,Ne=Ee){this.zone=ct,this.delegate=Ne}now(){return this.delegate.now()}schedule(ct,Ne,st){const tn=this.zone;return this.delegate.schedule(function(Re){tn.runGuarded(()=>{ct.apply(this,[Re])})},Ne,st)}}class et{zone;task=null;constructor(ct){this.zone=ct}call(ct,Ne){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),Ne.pipe((0,ee.M)({next:st,complete:st,error:st})).subscribe(ct).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ue=(()=>{class Be{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=Ne.run(()=>new we(Zone.current,Le.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Be)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function tt(){const Be=globalThis.\u0275AngularFireScheduler;if(!Be)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Be}function Ot(Be){return tt().ngZone.run(()=>Be())}function Ce(Be){return Be.pipe((0,de.Q)(tt().outsideAngular))}function pn(Be){return function ir(Be){return function(Ne){return(Ne=Ne.lift(new et(Be.ngZone))).pipe((0,ye._)(Be.outsideAngular),(0,de.Q)(Be.insideAngular))}}(tt())(Be)}const Xe=(Be,ct)=>function(){const st=arguments;return ct&&setTimeout(()=>{"scheduled"===ct.state&&ct.invoke()},10),Ot(()=>Be.apply(void 0,st))},Mt=(Be,ct)=>function(){let Ne;const st=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof st[Ke]&&(ct&&(Ne||=Ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We))),st[Ke]=Xe(st[Ke],Ne));const tn=function Ge(Be){return tt().ngZone.runOutsideAngular(()=>Be())}(()=>Be.apply(this,st));if(!ct){if(tn instanceof Q.c){const Ke=tt();return tn.pipe((0,ye._)(Ke.outsideAngular),(0,de.Q)(Ke.insideAngular))}return Ot(()=>tn)}return tn instanceof Q.c?tn.pipe(pn):tn instanceof Promise?Ot(()=>new Promise((Ke,Re)=>tn.then(Ie=>Ot(()=>Ke(Ie)),Ie=>Ot(()=>Re(Ie))))):"function"==typeof tn&&Ne?function(){return setTimeout(()=>{Ne&&"scheduled"===Ne.state&&Ne.invoke()},10),tn.apply(this,arguments)}:Ot(()=>tn)}},4341:(rn,Ze,F)=>{F.d(Ze,{Zm:()=>Ct,me:()=>we,Yp:()=>Bo,v8:()=>ts,ok:()=>So,JD:()=>Fr,gE:()=>xt,j4:()=>gn,$R:()=>dr,YN:()=>ma,BC:()=>Gn,cb:()=>In,cV:()=>Ji,vS:()=>vs,xH:()=>As,Q0:()=>es,Fm:()=>oi,X1:()=>Ro,YS:()=>Ur,wz:()=>Ts,k0:()=>Ce,qT:()=>Zi,y7:()=>It});var o=F(7705),ue=F(177),i=F(8455),ve=F(1985),_e=F(3073),De=F(8750),Ee=F(3794),$e=F(4360),Le=F(6450),Q=F(8496),de=F(6354);let ye=(()=>{class W{constructor(U,le){this._renderer=U,this._elementRef=le,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(U,le){this._renderer.setProperty(this._elementRef.nativeElement,U,le)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),Me=(()=>{class W extends ye{static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const Oe=new o.nKC("NgValueAccessor"),ot={provide:Oe,useExisting:(0,o.Rfq)(()=>Ct),multi:!0};let Ct=(()=>{class W extends Me{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(le,He){1&le&&o.bIt("change",function(Xn){return He.onChange(Xn.target.checked)})("blur",function(){return He.onTouched()})},features:[o.Jv_([ot]),o.Vt3]})}}return W})();const kt={provide:Oe,useExisting:(0,o.Rfq)(()=>we),multi:!0},We=new o.nKC("CompositionEventMode");let we=(()=>{class W extends ye{constructor(U,le,He){super(U,le),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qt(){const W=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(We,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,He){1&le&&o.bIt("input",function(Xn){return He._handleInput(Xn.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(Xn){return He._compositionEnd(Xn.target.value)})},features:[o.Jv_([kt]),o.Vt3]})}}return W})();function et(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Ue(W){return null!=W&&"number"==typeof W.length}const tt=new o.nKC("NgValidators"),Ge=new o.nKC("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(Z){return function Yt(W){return Z=>{if(et(Z.value)||et(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<W?{min:{min:W,actual:Z.value}}:null}}(Z)}static max(Z){return function pn(W){return Z=>{if(et(Z.value)||et(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>W?{max:{max:W,actual:Z.value}}:null}}(Z)}static required(Z){return ir(Z)}static requiredTrue(Z){return function Xe(W){return!0===W.value?null:{required:!0}}(Z)}static email(Z){return function Mt(W){return et(W.value)||Ot.test(W.value)?null:{email:!0}}(Z)}static minLength(Z){return function Be(W){return Z=>et(Z.value)||!Ue(Z.value)?null:Z.value.length<W?{minlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function ct(W){return Z=>Ue(Z.value)&&Z.value.length>W?{maxlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Ne(W){if(!W)return st;let Z,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),Z=new RegExp(U)):(U=W.toString(),Z=W),le=>{if(et(le.value))return null;const He=le.value;return Z.test(He)?null:{pattern:{requiredPattern:U,actualValue:He}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return it(Z)}static composeAsync(Z){return wn(Z)}}function ir(W){return et(W.value)?{required:!0}:null}function st(W){return null}function tn(W){return null!=W}function Ke(W){return(0,o.jNT)(W)?(0,i.H)(W):W}function Re(W){let Z={};return W.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function Ie(W,Z){return Z.map(U=>U(W))}function ut(W){return W.map(Z=>function Fe(W){return!W.validate}(Z)?Z:U=>Z.validate(U))}function it(W){if(!W)return null;const Z=W.filter(tn);return 0==Z.length?null:function(U){return Re(Ie(U,Z))}}function Vt(W){return null!=W?it(ut(W)):null}function wn(W){if(!W)return null;const Z=W.filter(tn);return 0==Z.length?null:function(U){return function ee(...W){const Z=(0,Ee.ms)(W),{args:U,keys:le}=(0,_e.D)(W),He=new ve.c(mn=>{const{length:Xn}=U;if(!Xn)return void mn.complete();const ns=new Array(Xn);let Xs=Xn,rs=Xn;for(let go=0;go<Xn;go++){let to=!1;(0,De.Tg)(U[go]).subscribe((0,$e._)(mn,is=>{to||(to=!0,rs--),ns[go]=is},()=>Xs--,void 0,()=>{(!Xs||!to)&&(rs||mn.next(le?(0,Q.e)(le,ns):ns),mn.complete())}))}});return Z?He.pipe((0,Le.I)(Z)):He}(Ie(U,Z).map(Ke)).pipe((0,de.T)(Re))}}function nr(W){return null!=W?wn(ut(W)):null}function sn(W,Z){return null===W?[Z]:Array.isArray(W)?[...W,Z]:[W,Z]}function Vn(W){return W._rawValidators}function Jt(W){return W._rawAsyncValidators}function $n(W){return W?Array.isArray(W)?W:[W]:[]}function On(W,Z){return Array.isArray(W)?W.includes(Z):W===Z}function Ht(W,Z){const U=$n(Z);return $n(W).forEach(He=>{On(U,He)||U.push(He)}),U}function jt(W,Z){return $n(Z).filter(U=>!On(W,U))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class on extends Er{get formDirective(){return null}get path(){return null}}class kr extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class W extends Yn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(kr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,He){2&le&&o.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[o.Vt3]})}}return W})(),In=(()=>{class W extends Yn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(on,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,He){2&le&&o.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)("ng-submitted",He.isSubmitted)},features:[o.Vt3]})}}return W})();const pt="VALID",be="INVALID",yt="PENDING",Xt="DISABLED";function br(W){return(L(W)?W.validators:W)||null}function $(W,Z){return(L(Z)?Z.asyncValidators:W)||null}function L(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ie(W,Z,U){const le=W.controls;if(!(Z?Object.keys(le):le).length)throw new o.wOt(1e3,"");if(!le[U])throw new o.wOt(1001,"")}function me(W,Z,U){W._forEachChild((le,He)=>{if(void 0===U[He])throw new o.wOt(1002,"")})}class ht{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===pt}get invalid(){return this.status===be}get pending(){return this.status==yt}get disabled(){return this.status===Xt}get enabled(){return this.status!==Xt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Ht(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Ht(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(jt(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(jt(Z,this._rawAsyncValidators))}hasValidator(Z){return On(this._rawValidators,Z)}hasAsyncValidator(Z){return On(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=yt,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Xt,this.errors=null,this._forEachChild(le=>{le.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=pt,this._forEachChild(le=>{le.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pt||this.status===yt)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xt:pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator=!0;const U=Ke(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((le,He)=>le&&le._find(He),this)}getError(Z,U){const le=U?this.get(U):this;return le&&le.errors?le.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Xt:this.errors?be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(be)?be:pt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){L(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function vt(W){return Array.isArray(W)?Vt(W):W||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?nr(W):W||null}(this._rawAsyncValidators)}}class xt extends ht{constructor(Z,U,le){super(br(U),$(le,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,le={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,le={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){me(this,0,Z),Object.keys(Z).forEach(le=>{ie(this,!0,le),this.controls[le].setValue(Z[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(le=>{const He=this.controls[le];He&&He.patchValue(Z[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((le,He)=>{le.reset(Z?Z[He]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,le)=>(Z[le]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,le)=>!!le._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const le=this.controls[U];le&&Z(le,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,le]of Object.entries(this.controls))if(this.contains(U)&&Z(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,le,He)=>((le.enabled||this.disabled)&&(U[He]=le.value),U))}_reduceChildren(Z,U){let le=Z;return this._forEachChild((He,mn)=>{le=U(le,He,mn)}),le}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class Sn extends xt{}const ln=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qr}),qr="always";function ur(W,Z){return[...Z.path,W]}function Bs(W,Z,U=qr){yi(W,Z),Z.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(W.disabled),function Os(W,Z){Z.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&lt(W,Z)})}(W,Z),function Nt(W,Z){const U=(le,He)=>{Z.valueAccessor.writeValue(le),He&&Z.viewToModelUpdate(le)};W.registerOnChange(U),Z._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,Z),function Dt(W,Z){Z.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&lt(W,Z),"submit"!==W.updateOn&&W.markAsTouched()})}(W,Z),function _s(W,Z){if(Z.valueAccessor.setDisabledState){const U=le=>{Z.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,Z)}function Fi(W,Z,U=!0){const le=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(le),Z.valueAccessor.registerOnTouched(le)),or(W,Z),W&&(Z._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function ms(W,Z){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function yi(W,Z){const U=Vn(W);null!==Z.validator?W.setValidators(sn(U,Z.validator)):"function"==typeof U&&W.setValidators([U]);const le=Jt(W);null!==Z.asyncValidator?W.setAsyncValidators(sn(le,Z.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const He=()=>W.updateValueAndValidity();ms(Z._rawValidators,He),ms(Z._rawAsyncValidators,He)}function or(W,Z){let U=!1;if(null!==W){if(null!==Z.validator){const He=Vn(W);if(Array.isArray(He)&&He.length>0){const mn=He.filter(Xn=>Xn!==Z.validator);mn.length!==He.length&&(U=!0,W.setValidators(mn))}}if(null!==Z.asyncValidator){const He=Jt(W);if(Array.isArray(He)&&He.length>0){const mn=He.filter(Xn=>Xn!==Z.asyncValidator);mn.length!==He.length&&(U=!0,W.setAsyncValidators(mn))}}}const le=()=>{};return ms(Z._rawValidators,le),ms(Z._rawAsyncValidators,le),U}function lt(W,Z){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function cn(W,Z){yi(W,Z)}function Hi(W,Z){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Qi(W,Z){W._syncPendingControls(),Z.forEach(U=>{const le=U.control;"submit"===le.updateOn&&le._pendingChange&&(U.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function wo(W,Z){if(!Z)return null;let U,le,He;return Array.isArray(Z),Z.forEach(mn=>{mn.constructor===we?U=mn:function Ns(W){return Object.getPrototypeOf(W.constructor)===Me}(mn)?le=mn:He=mn}),He||le||U||null}const Vo={provide:on,useExisting:(0,o.Rfq)(()=>Ji)},di=(()=>Promise.resolve())();let Ji=(()=>{class W extends on{constructor(U,le,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new xt({},Vt(U),nr(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){di.then(()=>{const le=this._findContainer(U.path);U.control=le.registerControl(U.name,U.control),Bs(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){di.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){di.then(()=>{const le=this._findContainer(U.path),He=new xt({});cn(He,U),le.registerControl(U.name,He),He.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){di.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,le){di.then(()=>{this.form.get(U.path).setValue(le)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Qi(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(tt,10),o.rXU(Ge,10),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,He){1&le&&o.bIt("submit",function(Xn){return He.onSubmit(Xn)})("reset",function(){return He.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Vo]),o.Vt3]})}}return W})();function ys(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}function Zr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Bi=class extends ht{constructor(Z=null,U,le){super(br(U),$(le,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Zr(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){ys(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){ys(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Zr(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};let co=(()=>{class W extends on{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const Mi={provide:kr,useExisting:(0,o.Rfq)(()=>vs)},mr=(()=>Promise.resolve())();let vs=(()=>{class W extends kr{constructor(U,le,He,mn,Xn,ns){super(),this._changeDetectorRef=Xn,this.callSetDisabledState=ns,this.control=new Bi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=U,this._setValidators(le),this._setAsyncValidators(He),this.valueAccessor=wo(0,mn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const le=U.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Hi(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){mr.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const le=U.isDisabled.currentValue,He=0!==le&&(0,o.L39)(le);mr.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?ur(U,this._parent):[U]}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(on,9),o.rXU(tt,10),o.rXU(Ge,10),o.rXU(Oe,10),o.rXU(o.gRc,8),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Mi]),o.Vt3,o.OA$]})}}return W})(),Zi=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const Cs={provide:Oe,useExisting:(0,o.Rfq)(()=>es),multi:!0};let es=(()=>{class W extends Me{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=le=>{U(""==le?null:parseFloat(le))}}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(le,He){1&le&&o.bIt("input",function(Xn){return He.onChange(Xn.target.value)})("blur",function(){return He.onTouched()})},features:[o.Jv_([Cs]),o.Vt3]})}}return W})();const Dr={provide:Oe,useExisting:(0,o.Rfq)(()=>oi),multi:!0};let si=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),ws=(()=>{class W{constructor(){this._accessors=[]}add(U,le){this._accessors.push([U,le])}remove(U){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===U)return void this._accessors.splice(le,1)}select(U){this._accessors.forEach(le=>{this._isSameGroup(le,U)&&le[1]!==U&&le[1].fireUncheck(U.value)})}_isSameGroup(U,le){return!!U[0].control&&U[0]._parent===le._control._parent&&U[1].name===le.name}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:si})}}return W})(),oi=(()=>{class W extends Me{constructor(U,le,He,mn){super(U,le),this._registry=He,this._injector=mn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(ln,{optional:!0})??qr}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ws),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(le,He){1&le&&o.bIt("change",function(){return He.onChange()})("blur",function(){return He.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Dr]),o.Vt3]})}}return W})();const Wi=new o.nKC("NgModelWithFormControlWarning"),ei={provide:on,useExisting:(0,o.Rfq)(()=>gn)};let gn=(()=>{class W extends on{constructor(U,le,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(U),this._setAsyncValidators(le)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const le=this.form.get(U.path);return Bs(le,U,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),le}getControl(U){return this.form.get(U.path)}removeControl(U){Fi(U.control||null,U,!1),function Ao(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,le){this.form.get(U.path).setValue(le)}onSubmit(U){return this.submitted=!0,Qi(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const le=U.control,He=this.form.get(U.path);le!==He&&(Fi(le||null,U),(W=>W instanceof Bi)(He)&&(Bs(He,U,this.callSetDisabledState),U.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const le=this.form.get(U.path);cn(le,U),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const le=this.form.get(U.path);le&&function Bn(W,Z){return or(W,Z)}(le,U)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yi(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(tt,10),o.rXU(Ge,10),o.rXU(ln,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(le,He){1&le&&o.bIt("submit",function(Xn){return He.onSubmit(Xn)})("reset",function(){return He.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([ei]),o.Vt3,o.OA$]})}}return W})();const rr={provide:on,useExisting:(0,o.Rfq)(()=>dr)};let dr=(()=>{class W extends co{constructor(U,le,He){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(He)}_checkParentType(){ai(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(on,13),o.rXU(tt,10),o.rXU(Ge,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([rr]),o.Vt3]})}}return W})();const Ki={provide:on,useExisting:(0,o.Rfq)(()=>ts)};let ts=(()=>{class W extends on{constructor(U,le,He){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(He)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ai(this._parent)}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(on,13),o.rXU(tt,10),o.rXU(Ge,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([Ki]),o.Vt3]})}}return W})();function ai(W){return!(W instanceof dr||W instanceof gn||W instanceof ts)}const xi={provide:kr,useExisting:(0,o.Rfq)(()=>Fr)};let Fr=(()=>{class W extends kr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,le,He,mn,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(le),this._setAsyncValidators(He),this.valueAccessor=wo(0,mn)}ngOnChanges(U){this._added||this._setUpControl(),Hi(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return ur(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(on,13),o.rXU(tt,10),o.rXU(Ge,10),o.rXU(Oe,10),o.rXU(Wi,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([xi]),o.Vt3,o.OA$]})}}return W})();const vi={provide:Oe,useExisting:(0,o.Rfq)(()=>Ts),multi:!0};function bs(W,Z){return null==W?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Ts=(()=>{class W extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const He=bs(this._getOptionId(U),U);this.setProperty("value",He)}registerOnChange(U){this.onChange=le=>{this.value=this._getOptionValue(le),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),U))return le;return null}_getOptionValue(U){const le=function Zn(W){return W.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le):U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,He){1&le&&o.bIt("change",function(Xn){return He.onChange(Xn.target.value)})("blur",function(){return He.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([vi]),o.Vt3]})}}return W})(),As=(()=>{class W{constructor(U,le,He){this._element=U,this._renderer=le,this._select=He,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(bs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Ts,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const te={provide:Oe,useExisting:(0,o.Rfq)(()=>nt),multi:!0};function J(W,Z){return null==W?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let nt=(()=>{class W extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let le;if(this.value=U,Array.isArray(U)){const He=U.map(mn=>this._getOptionId(mn));le=(mn,Xn)=>{mn._setSelected(He.indexOf(Xn.toString())>-1)}}else le=(He,mn)=>{He._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(U){this.onChange=le=>{const He=[],mn=le.selectedOptions;if(void 0!==mn){const Xn=mn;for(let ns=0;ns<Xn.length;ns++){const rs=this._getOptionValue(Xn[ns].value);He.push(rs)}}else{const Xn=le.options;for(let ns=0;ns<Xn.length;ns++){const Xs=Xn[ns];if(Xs.selected){const rs=this._getOptionValue(Xs.value);He.push(rs)}}}this.value=He,U(He)}}_registerOption(U){const le=(this._idCounter++).toString();return this._optionMap.set(le,U),le}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,U))return le;return null}_getOptionValue(U){const le=function Se(W){return W.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le)._value:U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,He){1&le&&o.bIt("change",function(Xn){return He.onChange(Xn.target)})("blur",function(){return He.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([te]),o.Vt3]})}}return W})(),It=(()=>{class W{constructor(U,le,He){this._element=U,this._renderer=le,this._select=He,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(nt,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),_n=(()=>{class W{constructor(){this._validator=st}ngOnChanges(U){if(this.inputName in U){const le=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):st,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const tr={provide:tt,useExisting:(0,o.Rfq)(()=>Ur),multi:!0};let Ur=(()=>{class W extends _n{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=U=>ir}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(He){return(U||(U=o.xGo(W)))(He||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,He){2&le&&o.BMQ("required",He._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([tr]),o.Vt3]})}}return W})(),Qa=(()=>{class W{static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[si]})}}return W})();class Bo extends ht{constructor(Z,U,le){super(br(U),$(le,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,le={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(Z,U={}){let le=this._adjustIndex(Z);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,le={}){let He=this._adjustIndex(Z);He<0&&(He=0),this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),this.controls.splice(He,1),U&&(this.controls.splice(He,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){me(this,0,Z),Z.forEach((le,He)=>{ie(this,!1,He),this.at(He).setValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((le,He)=>{this.at(He)&&this.at(He).patchValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((le,He)=>{le.reset(Z[He],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,le)=>!!le._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,le)=>{Z(U,le)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function hs(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let So=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,le=null){const He=this._reduceControls(U);let mn={};return hs(le)?mn=le:null!==le&&(mn.validators=le.validator,mn.asyncValidators=le.asyncValidator),new xt(He,mn)}record(U,le=null){const He=this._reduceControls(U);return new Sn(He,le)}control(U,le,He){let mn={};return this.useNonNullable?(hs(le)?mn=le:(mn.validators=le,mn.asyncValidators=He),new Bi(U,{...mn,nonNullable:!0})):new Bi(U,le,He)}array(U,le,He){const mn=U.map(Xn=>this._createControl(Xn));return new Bo(mn,le,He)}_reduceControls(U){const le={};return Object.keys(U).forEach(He=>{le[He]=this._createControl(U[He])}),le}_createControl(U){return U instanceof Bi||U instanceof ht?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),ma=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:ln,useValue:U.callSetDisabledState??qr}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Qa]})}}return W})(),Ro=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:Wi,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:ln,useValue:U.callSetDisabledState??qr}]}}static{this.\u0275fac=function(le){return new(le||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Qa]})}}return W})()},345:(rn,Ze,F)=>{F.d(Ze,{B7:()=>Ot,Bb:()=>On,W8:()=>jt,hE:()=>kr,sG:()=>sn,up:()=>Di});var o=F(7705),ue=F(177);class i extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends i{static makeCurrent(){(0,ue.ZD)(new ve)}onAndCancel($,M,L){return $.addEventListener(M,L),()=>{$.removeEventListener(M,L)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function De(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==M?null:function $e(vt){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",vt);const $=Ee.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let Ee,_e=null,Q=(()=>{class vt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(L){return new(L||vt)}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const ee=new o.nKC("EventManagerPlugins");let de=(()=>{class vt{constructor(M,L){this._zone=L,this._eventNameToPlugin=new Map,M.forEach(ie=>{ie.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,L,ie){return this._findPluginFor(L).addEventListener(M,L,ie)}getZone(){return this._zone}_findPluginFor(M){let L=this._eventNameToPlugin.get(M);if(L)return L;if(L=this._plugins.find(me=>me.supports(M)),!L)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,L),L}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ee),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class ye{constructor($){this._doc=$}}const Me="ng-app-id";let Oe=(()=>{class vt{constructor(M,L,ie,me={}){this.doc=M,this.appId=L,this.nonce=ie,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(me),this.resetHostNodes()}addStyles(M){for(const L of M)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(M){for(const L of M)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(L=>L.remove()),M.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const L of this.getAllStyles())this.addStyleToHost(M,L)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const L of this.hostNodes)this.addStyleToHost(L,M)}onStyleRemoved(M){const L=this.styleRef;L.get(M)?.elements?.forEach(ie=>ie.remove()),L.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Me}="${this.appId}"]`);if(M?.length){const L=new Map;return M.forEach(ie=>{null!=ie.textContent&&L.set(ie.textContent,ie)}),L}return null}changeUsageCount(M,L){const ie=this.styleRef;if(ie.has(M)){const me=ie.get(M);return me.usage+=L,me.usage}return ie.set(M,{usage:L,elements:[]}),L}getStyleElement(M,L){const ie=this.styleNodesInDOM,me=ie?.get(L);if(me?.parentNode===M)return ie.delete(L),me.removeAttribute(Me),me;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=L,this.platformIsServer&&ht.setAttribute(Me,this.appId),ht}}addStyleToHost(M,L){const ie=this.getStyleElement(M,L);M.appendChild(ie);const me=this.styleRef,ht=me.get(L)?.elements;ht?ht.push(ie):me.set(L,{elements:[ie],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,et=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ge(vt,$){return $.map(M=>M.replace(Ct,vt))}let Ot=(()=>{class vt{constructor(M,L,ie,me,ht,xt,an,fn=null){this.eventManager=M,this.sharedStylesHost=L,this.appId=ie,this.removeStylesOnCompDestroy=me,this.doc=ht,this.platformId=xt,this.ngZone=an,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(xt),this.defaultRenderer=new Ce(M,ht,an,this.platformIsServer)}createRenderer(M,L){if(!M||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===o.gXe.ShadowDom&&(L={...L,encapsulation:o.gXe.Emulated});const ie=this.getOrCreateRenderer(M,L);return ie instanceof Be?ie.applyToHost(M):ie instanceof Mt&&ie.applyStyles(),ie}getOrCreateRenderer(M,L){const ie=this.rendererByCompId;let me=ie.get(L.id);if(!me){const ht=this.doc,xt=this.ngZone,an=this.eventManager,fn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,Tr=this.platformIsServer;switch(L.encapsulation){case o.gXe.Emulated:me=new Be(an,fn,L,this.appId,Sn,ht,xt,Tr);break;case o.gXe.ShadowDom:return new Xe(an,fn,M,L,ht,xt,this.nonce,Tr);default:me=new Mt(an,fn,L,Sn,ht,xt,Tr)}ie.set(L.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(de),o.KVO(Oe),o.KVO(o.sZ2),o.KVO(et),o.KVO(ue.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();class Ce{constructor($,M,L,ie){this.eventManager=$,this.doc=M,this.ngZone=L,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(ot[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(ir($)?$.content:$).appendChild(M)}insertBefore($,M,L){$&&(ir($)?$.content:$).insertBefore(M,L)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let L="string"==typeof $?this.doc.querySelector($):$;if(!L)throw new o.wOt(-5104,!1);return M||(L.textContent=""),L}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,L,ie){if(ie){M=ie+":"+M;const me=ot[ie];me?$.setAttributeNS(me,M,L):$.setAttribute(M,L)}else $.setAttribute(M,L)}removeAttribute($,M,L){if(L){const ie=ot[L];ie?$.removeAttributeNS(ie,M):$.removeAttribute(`${L}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,L,ie){ie&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,L,ie&o.czy.Important?"important":""):$.style[M]=L}removeStyle($,M,L){L&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,L){$[M]=L}setValue($,M){$.nodeValue=M}listen($,M,L){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(L))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function ir(vt){return"TEMPLATE"===vt.tagName&&void 0!==vt.content}class Xe extends Ce{constructor($,M,L,ie,me,ht,xt,an){super($,me,ht,an),this.sharedStylesHost=M,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Ge(ie.id,ie.styles);for(const Sn of fn){const Tr=document.createElement("style");xt&&Tr.setAttribute("nonce",xt),Tr.textContent=Sn,this.shadowRoot.appendChild(Tr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,L){return super.insertBefore(this.nodeOrShadowRoot($),M,L)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mt extends Ce{constructor($,M,L,ie,me,ht,xt,an){super($,me,ht,xt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ie,this.styles=an?Ge(an,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Be extends Mt{constructor($,M,L,ie,me,ht,xt,an){const fn=ie+"-"+L.id;super($,M,L,me,ht,xt,an,fn),this.contentAttr=function Ue(vt){return"_ngcontent-%COMP%".replace(Ct,vt)}(fn),this.hostAttr=function tt(vt){return"_nghost-%COMP%".replace(Ct,vt)}(fn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const L=super.createElement($,M);return super.setAttribute(L,this.contentAttr,""),L}}let ct=(()=>{class vt extends ye{constructor(M){super(M)}supports(M){return!0}addEventListener(M,L,ie){return M.addEventListener(L,ie,!1),()=>this.removeEventListener(M,L,ie)}removeEventListener(M,L,ie){return M.removeEventListener(L,ie)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const Ne=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tn={alt:vt=>vt.altKey,control:vt=>vt.ctrlKey,meta:vt=>vt.metaKey,shift:vt=>vt.shiftKey};let Ke=(()=>{class vt extends ye{constructor(M){super(M)}supports(M){return null!=vt.parseEventName(M)}addEventListener(M,L,ie){const me=vt.parseEventName(L),ht=vt.eventCallback(me.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(M,me.domEventName,ht))}static parseEventName(M){const L=M.toLowerCase().split("."),ie=L.shift();if(0===L.length||"keydown"!==ie&&"keyup"!==ie)return null;const me=vt._normalizeKey(L.pop());let ht="",xt=L.indexOf("code");if(xt>-1&&(L.splice(xt,1),ht="code."),Ne.forEach(fn=>{const Sn=L.indexOf(fn);Sn>-1&&(L.splice(Sn,1),ht+=fn+".")}),ht+=me,0!=L.length||0===me.length)return null;const an={};return an.domEventName=ie,an.fullKey=ht,an}static matchEventFullKeyCode(M,L){let ie=st[M.key]||M.key,me="";return L.indexOf("code.")>-1&&(ie=M.code,me="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),Ne.forEach(ht=>{ht!==ie&&(0,tn[ht])(M)&&(me+=ht+".")}),me+=ie,me===L)}static eventCallback(M,L,ie){return me=>{vt.matchEventFullKeyCode(me,M)&&ie.runGuarded(()=>L(me))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:vt.\u0275fac})}}return vt})();const sn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:ue.AJ},{provide:o.PLl,useValue:function it(){ve.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function wn(){return(0,o.TL$)(document),document},deps:[]}]),Vn=new o.nKC(""),Jt=[{provide:o.e01,useClass:class Le{addToWindow($){o.JZv.getAngularTestability=(L,ie=!0)=>{const me=$.findTestabilityInTree(L,ie);if(null==me)throw new o.wOt(5103,!1);return me},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(L=>{const ie=o.JZv.getAllAngularTestabilities();let me=ie.length,ht=!1;const xt=function(an){ht=ht||an,me--,0==me&&L(ht)};ie.forEach(an=>{an.whenStable(xt)})})}findTestabilityInTree($,M,L){return null==M?null:$.getTestability(M)??(L?(0,ue.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],$n=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Vt(){return new o.zcH},deps:[]},{provide:ee,useClass:ct,multi:!0,deps:[ue.qQ,o.SKi,o.Agw]},{provide:ee,useClass:Ke,multi:!0,deps:[ue.qQ]},Ot,Oe,de,{provide:o._9s,useExisting:Ot},{provide:ue.N0,useClass:Q,deps:[]},[]];let On=(()=>{class vt{constructor(M){}static withServerTransition(M){return{ngModule:vt,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(Vn,12))}}static{this.\u0275mod=o.$C({type:vt})}static{this.\u0275inj=o.G2t({providers:[...$n,...Jt],imports:[ue.MD,o.Hbi]})}}return vt})(),jt=(()=>{class vt{constructor(M){this._doc=M,this._dom=(0,ue.QT)()}addTag(M,L=!1){return M?this._getOrCreateElement(M,L):null}addTags(M,L=!1){return M?M.reduce((ie,me)=>(me&&ie.push(this._getOrCreateElement(me,L)),ie),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const L=this._doc.querySelectorAll(`meta[${M}]`);return L?[].slice.call(L):[]}updateTag(M,L){if(!M)return null;L=L||this._parseSelector(M);const ie=this.getTag(L);return ie?this._setMetaElementAttributes(M,ie):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,L=!1){if(!L){const ht=this._parseSelector(M),xt=this.getTags(ht).filter(an=>this._containsAttributes(M,an))[0];if(void 0!==xt)return xt}const ie=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ie),this._doc.getElementsByTagName("head")[0].appendChild(ie),ie}_setMetaElementAttributes(M,L){return Object.keys(M).forEach(ie=>L.setAttribute(this._getMetaKeyMap(ie),M[ie])),L}_parseSelector(M){const L=M.name?"name":"property";return`${L}="${M[L]}"`}_containsAttributes(M,L){return Object.keys(M).every(ie=>L.getAttribute(this._getMetaKeyMap(ie))===M[ie])}_getMetaKeyMap(M){return Er[M]||M}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function Ht(){return new jt((0,o.KVO)(ue.qQ))}(),ie},providedIn:"root"})}}return vt})();const Er={httpEquiv:"http-equiv"};let kr=(()=>{class vt{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function on(){return new kr((0,o.KVO)(ue.qQ))}(),ie},providedIn:"root"})}}return vt})();typeof window<"u"&&window;let Di=(()=>{class vt{static{this.\u0275fac=function(L){return new(L||vt)}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new(L||vt):o.KVO(Tt),ie},providedIn:"root"})}}return vt})(),Tt=(()=>{class vt extends Di{constructor(M){super(),this._doc=M}sanitize(M,L){if(null==L)return null;switch(M){case o.WPN.NONE:return L;case o.WPN.HTML:return(0,o.ZF7)(L,"HTML")?(0,o.rcV)(L):(0,o.h9k)(this._doc,String(L)).toString();case o.WPN.STYLE:return(0,o.ZF7)(L,"Style")?(0,o.rcV)(L):L;case o.WPN.SCRIPT:if((0,o.ZF7)(L,"Script"))return(0,o.rcV)(L);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(L,"URL")?(0,o.rcV)(L):(0,o.$MX)(String(L));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(L,"ResourceURL"))return(0,o.rcV)(L);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(L){return new(L||vt)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:vt,factory:function(L){let ie=null;return ie=L?new L:function at(vt){return new Tt(vt.get(ue.qQ))}(o.KVO(o.zZn)),ie},providedIn:"root"})}}return vt})()},6814:(rn,Ze,F)=>{F.d(Ze,{nX:()=>dr,Ix:()=>Vi,Wk:()=>Ho,wQ:()=>xs,iI:()=>$c,n3:()=>Ts});var o=F(7705),ue=F(1985),i=F(8071),_e=F(8455),De=F(7673),Ee=F(4412),$e=F(3073),Le=F(3669),Q=F(6450),ee=F(3794),de=F(8496),ye=F(4360),Me=F(5225);function Oe(...D){const O=(0,ee.lI)(D),w=(0,ee.ms)(D),{args:N,keys:G}=(0,$e.D)(D);if(0===N.length)return(0,_e.H)([],O);const ae=new ue.c(function ot(D,O,w=Le.D){return N=>{Ct(O,()=>{const{length:G}=D,ae=new Array(G);let Pe=G,wt=G;for(let bt=0;bt<G;bt++)Ct(O,()=>{const En=(0,_e.H)(D[bt],O);let _r=!1;En.subscribe((0,ye._)(N,hr=>{ae[bt]=hr,_r||(_r=!0,wt--),wt||N.next(w(ae.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,G?Pe=>(0,de.e)(G,Pe):Le.D));return w?ae.pipe((0,Q.I)(w)):ae}function Ct(D,O,w){D?(0,Me.N)(w,D,O):O()}var kt=F(9350),Qt=F(8793),We=F(8750);function we(D){return new ue.c(O=>{(0,We.Tg)(D()).subscribe(O)})}var et=F(1203),Ue=F(8810),tt=F(983),Ge=F(8359),Ot=F(9974);function Ce(){return(0,Ot.N)((D,O)=>{let w=null;D._refCount++;const N=(0,ye._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,ae=w;w=null,G&&(!ae||G===ae)&&G.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class Yt extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ge.yU;const w=this.getSubject();O.add(this.source.subscribe((0,ye._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ge.yU.EMPTY)}return O}refCount(){return Ce()(this)}}var pn=F(1413),ir=F(177),Xe=F(6354),Mt=F(5558),Be=F(6697),ct=F(9172),Ne=F(5964),st=F(1397),tn=F(1594),Ke=F(274),Re=F(8141),Ie=F(9437),Fe=F(2816),ut=F(9901);function it(D){return D<=0?()=>tt.w:(0,Ot.N)((O,w)=>{let N=[];O.subscribe((0,ye._)(w,G=>{N.push(G),D<N.length&&N.shift()},()=>{for(const G of N)w.next(G);w.complete()},void 0,()=>{N=null}))})}var Vt=F(3774),sn=F(980),Vn=F(5343),$n=F(6365),On=F(345);const Ht="primary",jt=Symbol("RouteTitle");class Er{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function on(D){return new Er(D)}function kr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const G={};for(let ae=0;ae<N.length;ae++){const Pe=N[ae],wt=D[ae];if(Pe.startsWith(":"))G[Pe.substring(1)]=wt;else if(Pe!==wt.path)return null}return{consumed:D.slice(0,N.length),posParams:G}}function $t(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let G;for(let ae=0;ae<w.length;ae++)if(G=w[ae],!Tn(D[G],O[G]))return!1;return!0}function Tn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((G,ae)=>N[ae]===G)}return D===O}function Gn(D){return D.length>0?D[D.length-1]:null}function In(D){return function ve(D){return!!D&&(D instanceof ue.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,_e.H)(Promise.resolve(D)):(0,De.of)(D)}const $r={exact:function fi(D,O,w){if(!Tt(D.segments,O.segments)||!Jn(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!fi(D.children[N],O.children[N],w))return!1;return!0},subset:hn},Mr={exact:function zn(D,O){return $t(D,O)},subset:function gs(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Tn(D[w],O[w]))},ignored:()=>!0};function ni(D,O,w){return $r[w.paths](D.root,O.root,w.matrixParams)&&Mr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function hn(D,O,w){return ri(D,O,O.segments,w)}function ri(D,O,w,N){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!Tt(G,w)||O.hasChildren()||!Jn(G,w,N))}if(D.segments.length===w.length){if(!Tt(D.segments,w)||!Jn(D.segments,w,N))return!1;for(const G in O.children)if(!D.children[G]||!hn(D.children[G],O.children[G],N))return!1;return!0}{const G=w.slice(0,D.segments.length),ae=w.slice(D.segments.length);return!!(Tt(D.segments,G)&&Jn(D.segments,G,N)&&D.children[Ht])&&ri(D.children[Ht],O,ae,N)}}function Jn(D,O,w){return O.every((N,G)=>Mr[w](D[G].parameters,N.parameters))}class Ir{constructor(O=new Hn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return pt.serialize(this)}}class Hn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return be(this)}}class Di{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return ie(this)}}function Tt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let ke=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new fe},providedIn:"root"})}}return D})();class fe{parse(O){const w=new Bs(O);return new Ir(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${yt(O.root,!0)}`,N=function ht(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(G=>`${br(w)}=${br(G)}`).join("&"):`${br(w)}=${br(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function vt(D){return encodeURI(D)}(O.fragment)}`:""}`}}const pt=new fe;function be(D){return D.segments.map(O=>ie(O)).join("/")}function yt(D,O){if(!D.hasChildren())return be(D);if(O){const w=D.children[Ht]?yt(D.children[Ht],!1):"",N=[];return Object.entries(D.children).forEach(([G,ae])=>{G!==Ht&&N.push(`${G}:${yt(ae,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ce(D,O){let w=[];return Object.entries(D.children).forEach(([N,G])=>{N===Ht&&(w=w.concat(O(G,N)))}),Object.entries(D.children).forEach(([N,G])=>{N!==Ht&&(w=w.concat(O(G,N)))}),w}(D,(N,G)=>G===Ht?[yt(D.children[Ht],!1)]:[`${G}:${yt(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ht]?`${be(D)}/${w[0]}`:`${be(D)}/(${w.join("//")})`}}function Xt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function br(D){return Xt(D).replace(/%3B/gi,";")}function $(D){return Xt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function L(D){return M(D.replace(/\+/g,"%20"))}function ie(D){return`${$(D.path)}${function me(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const xt=/^[^\/()?;#]+/;function an(D){const O=D.match(xt);return O?O[0]:""}const fn=/^[^\/()?;=#]+/,Tr=/^[^=?&#]+/,qr=/^[^&#]+/;class Bs{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Ht]=new Hn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Di(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Sn(D){const O=D.match(fn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const G=an(this.remaining);G&&(N=G,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function ln(D){const O=D.match(Tr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function ur(D){const O=D.match(qr);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const G=L(w),ae=L(N);if(O.hasOwnProperty(G)){let Pe=O[G];Array.isArray(Pe)||(Pe=[Pe],O[G]=Pe),Pe.push(ae)}else O[G]=ae}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new o.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Ht);const Pe=this.parseChildren();w[ae]=1===Object.keys(Pe).length?Pe[Ht]:new Hn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Fi(D){return D.segments.length>0?new Hn([],{[Ht]:D}):D}function ms(D){const O={};for(const N of Object.keys(D.children)){const ae=ms(D.children[N]);if(N===Ht&&0===ae.segments.length&&ae.hasChildren())for(const[Pe,wt]of Object.entries(ae.children))O[Pe]=wt;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function _s(D){if(1===D.numberOfChildren&&D.children[Ht]){const O=D.children[Ht];return new Hn(D.segments.concat(O.segments),O.children)}return D}(new Hn(D.segments,O))}function yi(D){return D instanceof Ir}function Os(D){let O;const G=Fi(function w(ae){const Pe={};for(const bt of ae.children){const En=w(bt);Pe[bt.outlet]=En}const wt=new Hn(ae.url,Pe);return ae===D&&(O=wt),wt}(D.root));return O??G}function Dt(D,O,w,N){let G=D;for(;G.parent;)G=G.parent;if(0===O.length)return cn(G,G,G,w,N);const ae=function pr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ln(!0,0,D);let O=0,w=!1;const N=D.reduce((G,ae,Pe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const wt={};return Object.entries(ae.outlets).forEach(([bt,En])=>{wt[bt]="string"==typeof En?En.split("/"):En}),[...G,{outlets:wt}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===Pe?(ae.split("/").forEach((wt,bt)=>{0==bt&&"."===wt||(0==bt&&""===wt?w=!0:".."===wt?O++:""!=wt&&G.push(wt))}),G):[...G,ae]},[]);return new Ln(w,O,N)}(O);if(ae.toRoot())return cn(G,G,new Hn([],{}),w,N);const Pe=function Jr(D,O,w){if(D.isAbsolute)return new Gr(O,!0,0);if(!w)return new Gr(O,!1,NaN);if(null===w.parent)return new Gr(w,!0,0);const N=lt(D.commands[0])?0:1;return function gr(D,O,w){let N=D,G=O,ae=w;for(;ae>G;){if(ae-=G,N=N.parent,!N)throw new o.wOt(4005,!1);G=N.segments.length}return new Gr(N,!1,G-ae)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ae,G,D),wt=Pe.processChildren?Qi(Pe.segmentGroup,Pe.index,ae.commands):Ns(Pe.segmentGroup,Pe.index,ae.commands);return cn(G,Pe.segmentGroup,wt,w,N)}function lt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Nt(D){return"object"==typeof D&&null!=D&&D.outlets}function cn(D,O,w,N,G){let Pe,ae={};N&&Object.entries(N).forEach(([bt,En])=>{ae[bt]=Array.isArray(En)?En.map(_r=>`${_r}`):`${En}`}),Pe=D===O?w:Bn(D,O,w);const wt=Fi(ms(Pe));return new Ir(wt,ae,G)}function Bn(D,O,w){const N={};return Object.entries(D.children).forEach(([G,ae])=>{N[G]=ae===O?w:Bn(ae,O,w)}),new Hn(D.segments,N)}class Ln{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&lt(N[0]))throw new o.wOt(4003,!1);const G=N.find(Nt);if(G&&G!==Gn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ns(D,O,w){if(D||(D=new Hn([],{})),0===D.segments.length&&D.hasChildren())return Qi(D,O,w);const N=function wo(D,O,w){let N=0,G=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(N>=w.length)return ae;const Pe=D.segments[G],wt=w[N];if(Nt(wt))break;const bt=`${wt}`,En=N<w.length-1?w[N+1]:null;if(G>0&&void 0===bt)break;if(bt&&En&&"object"==typeof En&&void 0===En.outlets){if(!di(bt,En,Pe))return ae;N+=2}else{if(!di(bt,{},Pe))return ae;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(D,O,w),G=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new Hn(D.segments.slice(0,N.pathIndex),{});return ae.children[Ht]=new Hn(D.segments.slice(N.pathIndex),D.children),Qi(ae,0,G)}return N.match&&0===G.length?new Hn(D.segments,{}):N.match&&!D.hasChildren()?Ao(D,O,w):N.match?Qi(D,0,G):Ao(D,O,w)}function Qi(D,O,w){if(0===w.length)return new Hn(D.segments,{});{const N=function Hi(D){return Nt(D[0])?D[0].outlets:{[Ht]:D}}(w),G={};if(Object.keys(N).some(ae=>ae!==Ht)&&D.children[Ht]&&1===D.numberOfChildren&&0===D.children[Ht].segments.length){const ae=Qi(D.children[Ht],O,w);return new Hn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(G[ae]=Ns(D.children[ae],O,Pe))}),Object.entries(D.children).forEach(([ae,Pe])=>{void 0===N[ae]&&(G[ae]=Pe)}),new Hn(D.segments,G)}}function Ao(D,O,w){const N=D.segments.slice(0,O);let G=0;for(;G<w.length;){const ae=w[G];if(Nt(ae)){const bt=Ui(ae.outlets);return new Hn(N,bt)}if(0===G&&lt(w[0])){N.push(new Di(D.segments[O].path,Vo(w[0]))),G++;continue}const Pe=Nt(ae)?ae.outlets[Ht]:`${ae}`,wt=G<w.length-1?w[G+1]:null;Pe&&wt&&lt(wt)?(N.push(new Di(Pe,Vo(wt))),G+=2):(N.push(new Di(Pe,{})),G++)}return new Hn(N,{})}function Ui(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Ao(new Hn([],{}),0,N))}),O}function Vo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function di(D,O,w){return D==w.path&&$t(O,w.parameters)}const Ji="imperative";class ys{constructor(O,w){this.id=O,this.url=w}}class Zr extends ys{constructor(O,w,N="imperative",G=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends ys{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pi extends ys{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ar extends ys{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=16}}class co extends ys{constructor(O,w,N,G){super(O,w),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends ys{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends ys{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa extends ys{constructor(O,w,N,G,ae){super(O,w),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xa extends ys{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends ys{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mi{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Dr{}class ii{constructor(O){this.url=O}}class ws{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oi,this.attachRef=null}}let oi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const G=this.getOrCreateContext(w);G.outlet=N,this.contexts.set(w,G)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new ws,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class zi{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=eo(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=eo(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Wi(O,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==O)}pathFromRoot(O){return Wi(O,this._root).map(w=>w.value)}}function eo(D,O){if(D===O.value)return O;for(const w of O.children){const N=eo(D,w);if(N)return N}return null}function Wi(D,O){if(D===O.value)return[O];for(const w of O.children){const N=Wi(D,w);if(N.length)return N.unshift(O),N}return[]}class Es{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function ks(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class ei extends zi{constructor(O,w){super(O),this.snapshot=w,Fr(this,O)}toString(){return this.snapshot.toString()}}function gn(D,O){const w=function rr(D,O){const Pe=new ai([],{},{},"",{},Ht,O,null,{});return new xi("",new Es(Pe,[]))}(0,O),N=new Ee.t([new Di("",{})]),G=new Ee.t({}),ae=new Ee.t({}),Pe=new Ee.t({}),wt=new Ee.t(""),bt=new dr(N,G,Pe,wt,ae,Ht,O,w.root);return bt.snapshot=w.root,new ei(new Es(bt,[]),w)}class dr{constructor(O,w,N,G,ae,Pe,wt,bt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=Pe,this.component=wt,this._futureSnapshot=bt,this.title=this.dataSubject?.pipe((0,Xe.T)(En=>En[jt]))??(0,De.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.T)(O=>on(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.T)(O=>on(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const G=w[N],ae=w[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(ae.component)break;N--}}return function ts(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class ai{get title(){return this.data?.[jt]}constructor(O,w,N,G,ae,Pe,wt,bt,En){this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ae,this.outlet=Pe,this.component=wt,this.routeConfig=bt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xi extends zi{constructor(O,w){super(w),this.url=O,Fr(this,w)}toString(){return vi(this._root)}}function Fr(D,O){O.value._routerState=D,O.children.forEach(w=>Fr(D,w))}function vi(D){const O=D.children.length>0?` { ${D.children.map(vi).join(", ")} } `:"";return`${D.value}${O}`}function bs(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,$t(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),$t(O.params,w.params)||D.paramsSubject.next(w.params),function Yn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!$t(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),$t(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Zn(D,O){const w=$t(D.params,O.params)&&function at(D,O){return Tt(D,O)&&D.every((w,N)=>$t(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Zn(D.parent,O.parent))}let Ts=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(oi),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(te,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:G}=w.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Pe=w.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,bt=new As(w,wt,G.injector);this.activated=G.createComponent(Pe,{index:G.length,injector:bt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class As{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===dr?this.route:O===oi?this.childContexts:this.parent.get(O,w)}}const te=new o.nKC("");let J=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,G=Oe([N.queryParams,N.params,N.data]).pipe((0,Mt.n)(([ae,Pe,wt],bt)=>(wt={...ae,...Pe,...wt},0===bt?(0,De.of)(wt):Promise.resolve(wt)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,o.HJs)(N.component);if(Pe)for(const{templateName:wt}of Pe.inputs)w.activatedComponentRef.setInput(wt,ae[wt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Ve(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const G=function nt(D,O,w){return O.children.map(N=>{for(const G of w.children)if(D.shouldReuseRoute(N.value,G.value.snapshot))return Ve(D,N,G);return Ve(D,N)})}(D,O,w);return new Es(N,G)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const Pe=ae.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(wt=>Ve(D,wt)),Pe}}const N=function It(D){return new dr(new Ee.t(D.url),new Ee.t(D.params),new Ee.t(D.queryParams),new Ee.t(D.fragment),new Ee.t(D.data),D.outlet,D.component,D)}(O.value),G=O.children.map(ae=>Ve(D,ae));return new Es(N,G)}}const Kt="ngNavigationCancelingError";function An(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=yi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,G=_n(!1,0,O);return G.url=w,G.navigationBehaviorOptions=N,G}function _n(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Kt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Or(D){return D&&D[Kt]}let Rn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,G){1&N&&o.nrm(0,"router-outlet")},dependencies:[Ts],encapsulation:2})}}return D})();function Ri(D){const O=D.children&&D.children.map(Ri),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Ht&&(w.component=Rn),w}function Yr(D){return D.outlet||Ht}function ds(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ta{constructor(O,w,N,G,ae){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),bs(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const G=ks(w);O.children.forEach(ae=>{const Pe=ae.value.outlet;this.deactivateRoutes(ae,G[Pe],N),delete G[Pe]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,w,N){const G=O.value,ae=w?w.value:null;if(G===ae)if(G.component){const Pe=N.getContext(G.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else ae&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ae=ks(O);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],G);if(N&&N.outlet){const Pe=N.outlet.detach(),wt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:wt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ae=ks(O);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const G=ks(w);O.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],N),this.forwardEvent(new Cs(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new vs(O.value.snapshot))}activateRoutes(O,w,N){const G=O.value,ae=w?w.value:null;if(bs(G),G===ae)if(G.component){const Pe=N.getOrCreateContext(G.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(G.component){const Pe=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const wt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Pe.children.onOutletReAttached(wt.contexts),Pe.attachRef=wt.componentRef,Pe.route=wt.route.value,Pe.outlet&&Pe.outlet.attach(wt.componentRef,wt.route.value),bs(wt.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const wt=ds(G.snapshot);Pe.attachRef=null,Pe.route=G,Pe.injector=wt,Pe.outlet&&Pe.outlet.activateWith(G,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class Qa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Bo{constructor(O,w){this.component=O,this.route=w}}function kc(D,O,w){const N=D._root;return So(N,O?O._root:null,w,[N.value])}function hs(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function So(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ks(O);return D.children.forEach(Pe=>{(function ga(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,Pe=O?O.value:null,wt=w?w.getContext(D.value.outlet):null;if(Pe&&ae.routeConfig===Pe.routeConfig){const bt=function Oa(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!Tt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!Tt(D.url,O.url)||!$t(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(D,O)||!$t(D.queryParams,O.queryParams);default:return!Zn(D,O)}}(Pe,ae,ae.routeConfig.runGuardsAndResolvers);bt?G.canActivateChecks.push(new Qa(N)):(ae.data=Pe.data,ae._resolvedData=Pe._resolvedData),So(D,O,ae.component?wt?wt.children:null:w,N,G),bt&&wt&&wt.outlet&&wt.outlet.isActivated&&G.canDeactivateChecks.push(new Bo(wt.outlet.component,Pe))}else Pe&&gi(O,wt,G),G.canActivateChecks.push(new Qa(N)),So(D,null,ae.component?wt?wt.children:null:w,N,G)})(Pe,ae[Pe.value.outlet],w,N.concat([Pe.value]),G),delete ae[Pe.value.outlet]}),Object.entries(ae).forEach(([Pe,wt])=>gi(wt,w.getContext(Pe),G)),G}function gi(D,O,w){const N=ks(D),G=D.value;Object.entries(N).forEach(([ae,Pe])=>{gi(Pe,G.component?O?O.children.getContext(ae):null:O,w)}),w.canDeactivateChecks.push(new Bo(G.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,G))}function ma(D){return"function"==typeof D}function ns(D){return D instanceof kt.G||"EmptyError"===D?.name}const Xs=Symbol("INITIAL_VALUE");function rs(){return(0,Mt.n)(D=>Oe(D.map(O=>O.pipe((0,Be.s)(1),(0,ct.Z)(Xs)))).pipe((0,Xe.T)(O=>{for(const w of O)if(!0!==w){if(w===Xs)return Xs;if(!1===w||w instanceof Ir)return w}return!0}),(0,Ne.p)(O=>O!==Xs),(0,Be.s)(1)))}function ss(D){return(0,et.F)((0,Re.M)(O=>{if(yi(O))throw An(0,O)}),(0,Xe.T)(O=>!0===O))}class no{constructor(O){this.segmentGroup=O||null}}class ya{constructor(O){this.urlTree=O}}function Ps(D){return(0,Ue.$)(new no(D))}function va(D){return(0,Ue.$)(new ya(D))}class bu{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],G=w.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,De.of)(N);if(G.numberOfChildren>1||!G.children[Ht])return(0,Ue.$)(new o.wOt(4e3,!1));G=G.children[Ht]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,G){const ae=this.createSegmentGroup(O,w.root,N,G);return new Ir(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([G,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const wt=ae.substring(1);N[G]=w[wt]}else N[G]=ae}),N}createSegmentGroup(O,w,N,G){const ae=this.createSegments(O,w.segments,N,G);let Pe={};return Object.entries(w.children).forEach(([wt,bt])=>{Pe[wt]=this.createSegmentGroup(O,bt,N,G)}),new Hn(ae,Pe)}createSegments(O,w,N,G){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,G):this.findOrReturn(ae,N))}findPosParam(O,w,N){const G=N[w.path.substring(1)];if(!G)throw new o.wOt(4001,!1);return G}findOrReturn(O,w){let N=0;for(const G of w){if(G.path===O.path)return w.splice(N),G;N++}return O}}const yr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dl(D,O,w,N,G){const ae=mo(D,O,w);return ae.matched?(N=function kn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ja(D,O,w,N){const G=O.canMatch;if(!G||0===G.length)return(0,De.of)(!0);const ae=G.map(Pe=>{const wt=hs(Pe,D);return In(function He(D){return D&&ma(D.canMatch)}(wt)?wt.canMatch(O,w):D.runInContext(()=>wt(O,w)))});return(0,De.of)(ae).pipe(rs(),ss())}(N,O,w).pipe((0,Xe.T)(Pe=>!0===Pe?ae:{...yr}))):(0,De.of)(ae)}function mo(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...yr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(O.matcher||kr)(w,D,O);if(!G)return{...yr};const ae={};Object.entries(G.posParams??{}).forEach(([wt,bt])=>{ae[wt]=bt.path});const Pe=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Pe,positionalParamSegments:G.posParams??{}}}function jo(D,O,w,N){return w.length>0&&function Sl(D,O,w){return w.some(N=>tl(D,O,N)&&Yr(N)!==Ht)}(D,w,N)?{segmentGroup:new Hn(O,Tu(N,new Hn(w,D.children))),slicedSegments:[]}:0===w.length&&function Vh(D,O,w){return w.some(N=>tl(D,O,N))}(D,w,N)?{segmentGroup:new Hn(D.segments,el(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Hn(D.segments,D.children),slicedSegments:w}}function el(D,O,w,N,G){const ae={};for(const Pe of N)if(tl(D,w,Pe)&&!G[Yr(Pe)]){const wt=new Hn([],{});ae[Yr(Pe)]=wt}return{...G,...ae}}function Tu(D,O){const w={};w[Ht]=O;for(const N of D)if(""===N.path&&Yr(N)!==Ht){const G=new Hn([],{});w[Yr(N)]=G}return w}function tl(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class ka{constructor(O,w,N,G,ae,Pe,wt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=Pe,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new bu(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=jo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Ht).pipe((0,Ie.W)(w=>{if(w instanceof ya)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof no?this.noMatchError(w):w}),(0,Xe.T)(w=>{const N=new ai([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),G=new Es(N,w),ae=new xi("",G),Pe=function or(D,O,w=null,N=null){return Dt(Os(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(ae._root),{state:ae,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Ht).pipe((0,Ie.W)(N=>{throw N instanceof no?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Ki(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(O,w,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,G,!0)}processChildren(O,w,N){const G=[];for(const ae of Object.keys(N.children))"primary"===ae?G.unshift(ae):G.push(ae);return(0,_e.H)(G).pipe((0,Ke.H)(ae=>{const Pe=N.children[ae],wt=function Uo(D,O){const w=D.filter(N=>Yr(N)===O);return w.push(...D.filter(N=>Yr(N)!==O)),w}(w,ae);return this.processSegmentGroup(O,wt,Pe,ae)}),(0,Fe.S)((ae,Pe)=>(ae.push(...Pe),ae)),(0,ut.U)(null),function wn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Ne.p)((G,ae)=>D(G,ae,N)):Le.D,it(1),w?(0,ut.U)(O):(0,Vt.v)(()=>new kt.G))}(),(0,st.Z)(ae=>{if(null===ae)return Ps(N);const Pe=Ea(ae);return function Fa(D){D.sort((O,w)=>O.value.outlet===Ht?-1:w.value.outlet===Ht?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,De.of)(Pe)}))}processSegment(O,w,N,G,ae,Pe){return(0,_e.H)(w).pipe((0,Ke.H)(wt=>this.processSegmentAgainstRoute(wt._injector??O,w,wt,N,G,ae,Pe).pipe((0,Ie.W)(bt=>{if(bt instanceof no)return(0,De.of)(null);throw bt}))),(0,tn.$)(wt=>!!wt),(0,Ie.W)(wt=>{if(ns(wt))return function nl(D,O,w){return 0===O.length&&!D.children[w]}(N,G,ae)?(0,De.of)([]):Ps(N);throw wt}))}processSegmentAgainstRoute(O,w,N,G,ae,Pe,wt){return function Iu(D,O,w,N){return!!(Yr(D)===N||N!==Ht&&tl(O,w,D))&&("**"===D.path||mo(O,D,w).matched)}(N,G,ae,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,G,N,ae,Pe,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,G,w,N,ae,Pe):Ps(G):Ps(G)}expandSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Pe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,G,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,G){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?va(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,st.Z)(Pe=>{const wt=new Hn(Pe,{});return this.processSegment(O,w,wt,Pe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ae,Pe){const{matched:wt,consumedSegments:bt,remainingSegments:En,positionalParamSegments:_r}=mo(w,G,ae);if(!wt)return Ps(w);const hr=this.applyRedirects.applyRedirectCommands(bt,G.redirectTo,_r);return G.redirectTo.startsWith("/")?va(hr):this.applyRedirects.lineralizeSegments(G,hr).pipe((0,st.Z)(wr=>this.processSegment(O,N,w,wr.concat(En),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,G,ae,Pe){let wt;if("**"===N.path){const bt=G.length>0?Gn(G).parameters:{},En=new ai(G,bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lc(N),Yr(N),N.component??N._loadedComponent??null,N,P(N));wt=(0,De.of)({snapshot:En,consumedSegments:[],remainingSegments:[]}),w.children={}}else wt=Dl(w,N,G,O).pipe((0,Xe.T)(({matched:bt,consumedSegments:En,remainingSegments:_r,parameters:hr})=>bt?{snapshot:new ai(En,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lc(N),Yr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:En,remainingSegments:_r}:null));return wt.pipe((0,Mt.n)(bt=>null===bt?Ps(w):this.getChildConfig(O=N._injector??O,N,G).pipe((0,Mt.n)(({routes:En})=>{const _r=N._loadedInjector??O,{snapshot:hr,consumedSegments:wr,remainingSegments:Hr}=bt,{segmentGroup:ia,slicedSegments:Nl}=jo(w,wr,Hr,En);if(0===Nl.length&&ia.hasChildren())return this.processChildren(_r,En,ia).pipe((0,Xe.T)(kl=>null===kl?null:[new Es(hr,kl)]));if(0===En.length&&0===Nl.length)return(0,De.of)([new Es(hr,[])]);const ol=Yr(N)===ae;return this.processSegment(_r,En,ia,Nl,ol?Ht:ae,!0).pipe((0,Xe.T)(kl=>[new Es(hr,kl)]))}))))}getChildConfig(O,w,N){return w.children?(0,De.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,De.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Al(D,O,w,N){const G=O.canLoad;if(void 0===G||0===G.length)return(0,De.of)(!0);const ae=G.map(Pe=>{const wt=hs(Pe,D);return In(function W(D){return D&&ma(D.canLoad)}(wt)?wt.canLoad(O,w):D.runInContext(()=>wt(O,w)))});return(0,De.of)(ae).pipe(rs(),ss())}(O,w,N).pipe((0,st.Z)(G=>G?this.configLoader.loadChildren(O,w).pipe((0,Re.M)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function Za(D){return(0,Ue.$)(_n(!1,3))}())):(0,De.of)({routes:[],injector:O})}}function rl(D){const O=D.value.routeConfig;return O&&""===O.path}function Ea(D){const O=[],w=new Set;for(const N of D){if(!rl(N)){O.push(N);continue}const G=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...N.children),w.add(G)):O.push(N)}for(const N of w){const G=Ea(N.children);O.push(new Es(N.value,G))}return O.filter(N=>!w.has(N))}function Lc(D){return D.data||{}}function P(D){return D.resolve||{}}function Un(D){return"string"==typeof D.title||null===D.title}function Xr(D){return(0,Mt.n)(O=>{const w=D(O);return w?(0,_e.H)(w).pipe((0,Xe.T)(()=>O)):(0,De.of)(O)})}const hi=new o.nKC("ROUTES");let Nr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,De.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=In(w.loadComponent()).pipe((0,Xe.T)(Qr),(0,Re.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),G=new Yt(N,()=>new pn.B).pipe(Ce());return this.componentLoaders.set(w,G),G}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,De.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function er(D,O,w,N){return In(D.loadChildren()).pipe((0,Xe.T)(Qr),(0,st.Z)(G=>G instanceof o.Co$||Array.isArray(G)?(0,De.of)(G):(0,_e.H)(O.compileModuleAsync(G))),(0,Xe.T)(G=>{N&&N(D);let ae,Pe,wt=!1;return Array.isArray(G)?(Pe=G,!0):(ae=G.create(w).injector,Pe=ae.get(hi,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(Ri),injector:ae}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new Yt(ae,()=>new pn.B).pipe(Ce());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Qr(D){return function Br(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ai=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn.B,this.transitionAbortSubject=new pn.B,this.configLoader=(0,o.WQX)(Nr),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(ke),this.rootContexts=(0,o.WQX)(oi),this.inputBindingEnabled=null!==(0,o.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Mi(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new us(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,G){return this.transitions=new Ee.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ji,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.p)(ae=>0!==ae.id),(0,Xe.T)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Mt.n)(ae=>{this.currentTransition=ae;let Pe=!1,wt=!1;return(0,De.of)(ae).pipe((0,Re.M)(bt=>{this.currentNavigation={id:bt.id,initialUrl:bt.rawUrl,extractedUrl:bt.extractedUrl,trigger:bt.source,extras:bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Mt.n)(bt=>{const En=bt.currentBrowserUrl.toString(),_r=!w.navigated||bt.extractedUrl.toString()!==En||En!==bt.currentUrlTree.toString();if(!_r&&"reload"!==(bt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const wr="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.rawUrl),wr,0)),bt.resolve(null),tt.w}if(w.urlHandlingStrategy.shouldProcessUrl(bt.rawUrl))return(0,De.of)(bt).pipe((0,Mt.n)(wr=>{const Hr=this.transitions?.getValue();return this.events.next(new Zr(wr.id,this.urlSerializer.serialize(wr.extractedUrl),wr.source,wr.restoredState)),Hr!==this.transitions?.getValue()?tt.w:Promise.resolve(wr)}),function ne(D,O,w,N,G,ae){return(0,st.Z)(Pe=>function Po(D,O,w,N,G,ae,Pe="emptyOnly"){return new ka(D,O,w,N,G,Pe,ae).recognize()}(D,O,w,N,Pe.extractedUrl,G,ae).pipe((0,Xe.T)(({state:wt,tree:bt})=>({...Pe,targetSnapshot:wt,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Re.M)(wr=>{ae.targetSnapshot=wr.targetSnapshot,ae.urlAfterRedirects=wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wr.urlAfterRedirects};const Hr=new Do(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(Hr)}));if(_r&&w.urlHandlingStrategy.shouldProcessUrl(bt.currentRawUrl)){const{id:wr,extractedUrl:Hr,source:ia,restoredState:Nl,extras:ol}=bt,kl=new Zr(wr,this.urlSerializer.serialize(Hr),ia,Nl);this.events.next(kl);const Mu=gn(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...bt,targetSnapshot:Mu,urlAfterRedirects:Hr,extras:{...ol,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ae)}{const wr="";return this.events.next(new Ar(bt.id,this.urlSerializer.serialize(bt.extractedUrl),wr,1)),bt.resolve(null),tt.w}}),(0,Re.M)(bt=>{const En=new pi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(En)}),(0,Xe.T)(bt=>(this.currentTransition=ae={...bt,guards:kc(bt.targetSnapshot,bt.currentSnapshot,this.rootContexts)},ae)),function go(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ae.length?(0,De.of)({...w,guardsResult:!0}):function to(D,O,w,N){return(0,_e.H)(D).pipe((0,st.Z)(G=>function ji(D,O,w,N,G){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,De.of)(!0);const Pe=ae.map(wt=>{const bt=ds(O)??G,En=hs(wt,bt);return In(function le(D){return D&&ma(D.canDeactivate)}(En)?En.canDeactivate(D,O,w,N):bt.runInContext(()=>En(D,O,w,N))).pipe((0,tn.$)())});return(0,De.of)(Pe).pipe(rs())}(G.component,G.route,w,O,N)),(0,tn.$)(G=>!0!==G,!0))}(Pe,N,G,D).pipe((0,st.Z)(wt=>wt&&function Ro(D){return"boolean"==typeof D}(wt)?function is(D,O,w,N){return(0,_e.H)(O).pipe((0,Ke.H)(G=>(0,Qt.x)(function Fc(D,O){return null!==D&&O&&O(new mr(D)),(0,De.of)(!0)}(G.route.parent,N),function Qs(D,O){return null!==D&&O&&O(new Zi(D)),(0,De.of)(!0)}(G.route,N),function _a(D,O,w){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(Pe=>function Ss(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>we(()=>{const wt=Pe.guards.map(bt=>{const En=ds(Pe.node)??w,_r=hs(bt,En);return In(function U(D){return D&&ma(D.canActivateChild)}(_r)?_r.canActivateChild(N,D):En.runInContext(()=>_r(N,D))).pipe((0,tn.$)())});return(0,De.of)(wt).pipe(rs())}));return(0,De.of)(ae).pipe(rs())}(D,G.path,w),function Rs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,De.of)(!0);const G=N.map(ae=>we(()=>{const Pe=ds(O)??w,wt=hs(ae,Pe);return In(function Z(D){return D&&ma(D.canActivate)}(wt)?wt.canActivate(O,D):Pe.runInContext(()=>wt(O,D))).pipe((0,tn.$)())}));return(0,De.of)(G).pipe(rs())}(D,G.route,w))),(0,tn.$)(G=>!0!==G,!0))}(N,ae,D,O):(0,De.of)(wt)),(0,Xe.T)(wt=>({...w,guardsResult:wt})))})}(this.environmentInjector,bt=>this.events.next(bt)),(0,Re.M)(bt=>{if(ae.guardsResult=bt.guardsResult,yi(bt.guardsResult))throw An(0,bt.guardsResult);const En=new xa(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot,!!bt.guardsResult);this.events.next(En)}),(0,Ne.p)(bt=>!!bt.guardsResult||(this.cancelNavigationTransition(bt,"",3),!1)),Xr(bt=>{if(bt.guards.canActivateChecks.length)return(0,De.of)(bt).pipe((0,Re.M)(En=>{const _r=new Xa(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(_r)}),(0,Mt.n)(En=>{let _r=!1;return(0,De.of)(En).pipe(function j(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,De.of)(w);let ae=0;return(0,_e.H)(G).pipe((0,Ke.H)(Pe=>function Y(D,O,w,N){const G=D.routeConfig,ae=D._resolve;return void 0!==G?.title&&!Un(G)&&(ae[jt]=G.title),function xe(D,O,w,N){const G=function St(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,De.of)({});const ae={};return(0,_e.H)(G).pipe((0,st.Z)(Pe=>function Ut(D,O,w,N){const G=ds(O)??N,ae=hs(D,G);return In(ae.resolve?ae.resolve(O,w):G.runInContext(()=>ae(O,w)))}(D[Pe],O,w,N).pipe((0,tn.$)(),(0,Re.M)(wt=>{ae[Pe]=wt}))),it(1),function nr(D){return(0,Xe.T)(()=>D)}(ae),(0,Ie.W)(Pe=>ns(Pe)?tt.w:(0,Ue.$)(Pe)))}(ae,D,O,N).pipe((0,Xe.T)(Pe=>(D._resolvedData=Pe,D.data=Ki(D,w).resolve,G&&Un(G)&&(D.data[jt]=G.title),null)))}(Pe.route,N,D,O)),(0,Re.M)(()=>ae++),it(1),(0,st.Z)(Pe=>ae===G.length?(0,De.of)(w):tt.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Re.M)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(En,"",2)}}))}),(0,Re.M)(En=>{const _r=new xr(En.id,this.urlSerializer.serialize(En.extractedUrl),this.urlSerializer.serialize(En.urlAfterRedirects),En.targetSnapshot);this.events.next(_r)}))}),Xr(bt=>{const En=_r=>{const hr=[];_r.routeConfig?.loadComponent&&!_r.routeConfig._loadedComponent&&hr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,Re.M)(wr=>{_r.component=wr}),(0,Xe.T)(()=>{})));for(const wr of _r.children)hr.push(...En(wr));return hr};return Oe(En(bt.targetSnapshot.root)).pipe((0,ut.U)(),(0,Be.s)(1))}),Xr(()=>this.afterPreactivation()),(0,Xe.T)(bt=>{const En=function Se(D,O,w){const N=Ve(D,O._root,w?w._root:void 0);return new ei(N,O)}(w.routeReuseStrategy,bt.targetSnapshot,bt.currentRouterState);return this.currentTransition=ae={...bt,targetRouterState:En},ae}),(0,Re.M)(()=>{this.events.next(new Dr)}),((D,O,w,N)=>(0,Xe.T)(G=>(new ta(O,G.targetRouterState,G.currentRouterState,w,N).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,bt=>this.events.next(bt),this.inputBindingEnabled),(0,Be.s)(1),(0,Re.M)({next:bt=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects))),w.titleStrategy?.updateTitle(bt.targetRouterState.snapshot),bt.resolve(!0)},complete:()=>{Pe=!0}}),function Jt(D){return(0,Ot.N)((O,w)=>{(0,We.Tg)(D).subscribe((0,ye._)(w,()=>w.complete(),Vn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Re.M)(bt=>{throw bt}))),(0,sn.j)(()=>{Pe||wt||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Ie.W)(bt=>{if(wt=!0,Or(bt))this.events.next(new Pi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt.message,bt.cancellationCode)),function jn(D){return Or(D)&&yi(D.url)}(bt)?this.events.next(new ii(bt.url)):ae.resolve(!1);else{this.events.next(new co(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(bt))}catch(En){ae.reject(En)}}return tt.w}))}))}cancelNavigationTransition(w,N,G){const ae=new Pi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,G);this.events.next(ae),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function js(D){return D!==Ji}let os=(()=>{class D{buildTitle(w){let N,G=w.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(ae=>ae.outlet===Ht);return N}getResolvedTitleForRoute(w){return w.data[jt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)($o)},providedIn:"root"})}}return D})(),$o=(()=>{class D extends os{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(On.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Ms=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ci)},providedIn:"root"})}}return D})();class Go{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Ci=(()=>{class D extends Go{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=o.xGo(D)))(G||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const qi=new o.nKC("",{providedIn:"root",factory:()=>({})});let uo=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Cr)},providedIn:"root"})}}return D})(),Cr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Rr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Rr||{});function Rl(D,O){D.events.pipe((0,Ne.p)(w=>w instanceof Bi||w instanceof Pi||w instanceof co||w instanceof Ar),(0,Xe.T)(w=>w instanceof Bi||w instanceof Ar?Rr.COMPLETE:w instanceof Pi&&(0===w.code||1===w.code)?Rr.REDIRECTING:Rr.FAILED),(0,Ne.p)(w=>w!==Rr.REDIRECTING),(0,Be.s)(1)).subscribe(()=>{O()})}function ro(D){throw D}function Cu(D,O,w){return O.parse("/")}const Vc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new pn.B,this.options=(0,o.WQX)(qi,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(uo),this.routeReuseStrategy=(0,o.WQX)(Ms),this.titleStrategy=(0,o.WQX)(os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(hi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Ai),this.urlSerializer=(0,o.WQX)(ke),this.location=(0,o.WQX)(ir.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(te,{optional:!0}),this.eventsSubscription=new Ge.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Uc(N)&&this._events.next(N));if(N instanceof Zr)js(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof Ar)this.rawUrlTree=G.rawUrl;else if(N instanceof Do){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ae,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof Dr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof Pi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof ii){const ae=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Pe={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||js(G.source)};this.scheduleNavigation(ae,Ji,null,Pe,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof co&&this.restoreHistory(G,!0),N instanceof Bi&&(this.navigated=!0),Uc(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ji,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,G){const ae={replaceUrl:!0},Pe=G?.navigationId?G:null;if(G){const bt={...G};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(ae.state=bt)}const wt=this.parseUrl(w);this.scheduleNavigation(wt,N,Pe,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ri),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:G,queryParams:ae,fragment:Pe,queryParamsHandling:wt,preserveFragment:bt}=N,En=bt?this.currentUrlTree.fragment:Pe;let hr,_r=null;switch(wt){case"merge":_r={...this.currentUrlTree.queryParams,...ae};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ae||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{hr=Os(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),hr=this.currentUrlTree.root}return Dt(hr,w,_r,En??null)}navigateByUrl(w,N={skipLocationChange:!1}){const G=yi(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,Ji,null,N)}navigate(w,N={skipLocationChange:!1}){return function Uh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return N}isActive(w,N){let G;if(G=!0===N?{...Vc}:!1===N?{...Pl}:N,yi(w))return ni(this.currentUrlTree,w,G);const ae=this.parseUrl(w);return ni(this.currentUrlTree,ae,G)}removeEmptyProps(w){return Object.keys(w).reduce((N,G)=>{const ae=w[G];return null!=ae&&(N[G]=ae),N},{})}scheduleNavigation(w,N,G,ae,Pe){if(this.disposed)return Promise.resolve(!1);let wt,bt,En;Pe?(wt=Pe.resolve,bt=Pe.reject,En=Pe.promise):En=new Promise((hr,wr)=>{wt=hr,bt=wr});const _r=this.pendingTasks.add();return Rl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:wt,reject:bt,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(hr=>Promise.reject(hr))}setBrowserUrl(w,N){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Pe)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",ae)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Uc(D){return!(D instanceof Dr||D instanceof ii)}let Ho=(()=>{class D{constructor(w,N,G,ae,Pe,wt){this.router=w,this.route=N,this.tabIndexAttribute=G,this.renderer=ae,this.el=Pe,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new pn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bt=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bt||"area"===bt,this.isAnchorElement?this.subscription=w.events.subscribe(En=>{En instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,G,ae,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||G||ae||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const G=this.renderer,ae=this.el.nativeElement;null!==N?G.setAttribute(ae,w,N):G.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Vi),o.rXU(dr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ir.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,G){1&N&&o.bIt("click",function(Pe){return G.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&o.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),xs=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,G,ae,Pe){this.router=w,this.element=N,this.renderer=G,this.cdr=ae,this.link=Pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(wt=>{wt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,De.of)(this.links.changes,(0,De.of)(null)).pipe((0,$n.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,_e.H)(w).pipe((0,$n.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function La(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Vi),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(Ho,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,G,ae){if(1&N&&o.wni(ae,Ho,5),2&N){let Pe;o.mGM(Pe=o.lsd())&&(G.links=Pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class Ml{}let Bc=(()=>{class D{constructor(w,N,G,ae,Pe){this.router=w,this.injector=G,this.preloadingStrategy=ae,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.p)(w=>w instanceof Bi),(0,Ke.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const G=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,o.Ol2)(ae.providers,w,`Route: ${ae.path}`));const Pe=ae._injector??w,wt=ae._loadedInjector??Pe;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&G.push(this.preloadConfig(Pe,ae)),(ae.children||ae._loadedRoutes)&&G.push(this.processRoutes(wt,ae.children??ae._loadedRoutes))}return(0,_e.H)(G).pipe((0,$n.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,De.of)(null);const ae=G.pipe((0,st.Z)(Pe=>null===Pe?(0,De.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,_e.H)([ae,Pe]).pipe((0,$n.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Vi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(Ml),o.KVO(Nr))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Du=new o.nKC("");let ar=(()=>{class D{constructor(w,N,G,ae,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=G,this.zone=ae,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ar&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof es&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new es(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function na(D,O){return{\u0275kind:D,\u0275providers:O}}function Mo(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Vi),G=D.get(ic);1===D.get(Dn)&&N.initialNavigation(),D.get(Pr,null,o.$GK.Optional)?.setUpPreloading(),D.get(Du,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const ic=new o.nKC("",{factory:()=>new pn.B}),Dn=new o.nKC("",{providedIn:"root",factory:()=>1}),Pr=new o.nKC("");function zo(D){return na(0,[{provide:Pr,useExisting:Bc},{provide:Ml,useExisting:D}])}const jc=new o.nKC("ROUTER_FORROOT_GUARD"),Ru=[ir.aZ,{provide:ke,useClass:fe},Vi,oi,{provide:dr,useFactory:function rc(D){return D.routerState.root},deps:[Vi]},Nr,[]];function Dd(){return new o.NEm("Router",Vi)}let $c=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Ru,[],{provide:hi,multi:!0,useValue:w},{provide:jc,useFactory:Ba,deps:[[Vi,new o.Xx1,new o.kdw]]},{provide:qi,useValue:N||{}},N?.useHash?{provide:ir.hb,useClass:ir.fw}:{provide:ir.hb,useClass:ir.Sm},{provide:Du,useFactory:()=>{const D=(0,o.WQX)(ir.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(qi),N=(0,o.WQX)(Ai),G=(0,o.WQX)(ke);return w.scrollOffset&&D.setOffset(w.scrollOffset),new ar(G,N,D,O,w)}},N?.preloadingStrategy?zo(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Dd},N?.initialNavigation?Oo(N):[],N?.bindToComponentInputs?na(8,[J,{provide:te,useExisting:J}]).\u0275providers:[],[{provide:_o,useFactory:Mo},{provide:o.iLQ,multi:!0,useExisting:_o}]]}}static forChild(w){return{ngModule:D,providers:[{provide:hi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(jc,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function Ba(D){return"guarded"}function Oo(D){return["disabled"===D.initialNavigation?na(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Vi);return()=>{O.setUpLocationChangeListener()}}},{provide:Dn,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?na(2,[{provide:Dn,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(ir.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const G=O.get(Vi),ae=O.get(ic);Rl(G,()=>{N(!0)}),O.get(Ai).afterPreactivation=()=>(N(!0),ae.closed?(0,De.of)(void 0):ae),G.initialNavigation()}))}}]).\u0275providers:[]]}const _o=new o.nKC("")},3345:(rn,Ze,F)=>{F.d(Ze,{A:()=>Oe});var o=F(1076),ue=F(1362),i=F(7852),ve=F(8041);class _e{constructor(Ct,kt){this._delegate=Ct,this.firebase=kt,(0,i._addComponent)(Ct,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this._delegate.automaticDataCollectionEnabled=Ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ct=>{this._delegate.checkDestroyed(),Ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Ct,kt=i._DEFAULT_ENTRY_NAME){var Qt;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(Ct);return!We.isInitialized()&&"EXPLICIT"===(null===(Qt=We.getComponent())||void 0===Qt?void 0:Qt.instantiationMode)&&We.initialize(),We.getImmediate({identifier:kt})}_removeServiceInstance(Ct,kt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ct).clearInstance(kt)}_addComponent(Ct){(0,i._addComponent)(this._delegate,Ct)}_addOrOverwriteComponent(Ct){(0,i._addOrOverwriteComponent)(this._delegate,Ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Le(){const ot=function $e(ot){const Ct={},kt={__esModule:!0,initializeApp:function we(Ge,Ot={}){const Ce=i.initializeApp(Ge,Ot);if((0,o.gR)(Ct,Ce.name))return Ct[Ce.name];const Yt=new ot(Ce,kt);return Ct[Ce.name]=Yt,Yt},app:We,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function Ue(Ge){const Ot=Ge.name,Ce=Ot.replace("-compat","");if(i._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Yt=(pn=We())=>{if("function"!=typeof pn[Ce])throw Ee.create("invalid-app-argument",{appName:Ot});return pn[Ce]()};void 0!==Ge.serviceProps&&(0,o.zw)(Yt,Ge.serviceProps),kt[Ce]=Yt,ot.prototype[Ce]=function(...pn){return this._getService.bind(this,Ot).apply(this,Ge.multipleInstances?pn:[])}}return"PUBLIC"===Ge.type?kt[Ce]:null},removeApp:function Qt(Ge){delete Ct[Ge]},useAsService:function tt(Ge,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:i}};function We(Ge){if(!(0,o.gR)(Ct,Ge=Ge||i._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Ge});return Ct[Ge]}return kt.default=kt,Object.defineProperty(kt,"apps",{get:function et(){return Object.keys(Ct).map(Ge=>Ct[Ge])}}),We.App=ot,kt}(_e);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ct(kt){(0,o.zw)(ot,kt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),ot}(),ee=new ve.Vy("@firebase/app-compat");try{const ot=(0,o.mS)();if(void 0!==ot.firebase){ee.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ct=ot.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ee.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Oe=Q;!function Me(ot){(0,i.registerVersion)("@firebase/app-compat","0.2.43",ot)}()},7852:(rn,Ze,F)=>{F.r(Ze),F.d(Ze,{FirebaseError:()=>ve.g,SDK_VERSION:()=>fe,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>fi,_addOrOverwriteComponent:()=>gs,_apps:()=>Mr,_clearComponents:()=>Di,_components:()=>zn,_getProvider:()=>ri,_isFirebaseApp:()=>Ir,_isFirebaseServerApp:()=>Hn,_registerComponent:()=>hn,_removeServiceInstance:()=>Jn,_serverApps:()=>ni,deleteApp:()=>br,getApp:()=>yt,getApps:()=>Xt,initializeApp:()=>pt,initializeServerApp:()=>be,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>L});var o=F(467),ue=F(1362),i=F(8041),ve=F(1076);const _e=(Dt,lt)=>lt.some(Nt=>Dt instanceof Nt);let De,Ee;const Q=new WeakMap,ee=new WeakMap,de=new WeakMap,ye=new WeakMap,Me=new WeakMap;let Ct={get(Dt,lt,Nt){if(Dt instanceof IDBTransaction){if("done"===lt)return ee.get(Dt);if("objectStoreNames"===lt)return Dt.objectStoreNames||de.get(Dt);if("store"===lt)return Nt.objectStoreNames[1]?void 0:Nt.objectStore(Nt.objectStoreNames[0])}return we(Dt[lt])},set:(Dt,lt,Nt)=>(Dt[lt]=Nt,!0),has:(Dt,lt)=>Dt instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in Dt};function We(Dt){return"function"==typeof Dt?function Qt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...lt){return Dt.apply(et(this),lt),we(Q.get(this))}:function(...lt){return we(Dt.apply(et(this),lt))}:function(lt,...Nt){const cn=Dt.call(et(this),lt,...Nt);return de.set(cn,lt.sort?lt.sort():[lt]),we(cn)}}(Dt):(Dt instanceof IDBTransaction&&function ot(Dt){if(ee.has(Dt))return;const lt=new Promise((Nt,cn)=>{const Bn=()=>{Dt.removeEventListener("complete",Ln),Dt.removeEventListener("error",pr),Dt.removeEventListener("abort",pr)},Ln=()=>{Nt(),Bn()},pr=()=>{cn(Dt.error||new DOMException("AbortError","AbortError")),Bn()};Dt.addEventListener("complete",Ln),Dt.addEventListener("error",pr),Dt.addEventListener("abort",pr)});ee.set(Dt,lt)}(Dt),_e(Dt,function $e(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Ct):Dt)}function we(Dt){if(Dt instanceof IDBRequest)return function Oe(Dt){const lt=new Promise((Nt,cn)=>{const Bn=()=>{Dt.removeEventListener("success",Ln),Dt.removeEventListener("error",pr)},Ln=()=>{Nt(we(Dt.result)),Bn()},pr=()=>{cn(Dt.error),Bn()};Dt.addEventListener("success",Ln),Dt.addEventListener("error",pr)});return lt.then(Nt=>{Nt instanceof IDBCursor&&Q.set(Nt,Dt)}).catch(()=>{}),Me.set(lt,Dt),lt}(Dt);if(ye.has(Dt))return ye.get(Dt);const lt=We(Dt);return lt!==Dt&&(ye.set(Dt,lt),Me.set(lt,Dt)),lt}const et=Dt=>Me.get(Dt),Ge=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Ce=new Map;function Yt(Dt,lt){if(!(Dt instanceof IDBDatabase)||lt in Dt||"string"!=typeof lt)return;if(Ce.get(lt))return Ce.get(lt);const Nt=lt.replace(/FromIndex$/,""),cn=lt!==Nt,Bn=Ot.includes(Nt);if(!(Nt in(cn?IDBIndex:IDBObjectStore).prototype)||!Bn&&!Ge.includes(Nt))return;const Ln=function(){var pr=(0,o.A)(function*(Gr,...Jr){const gr=this.transaction(Gr,Bn?"readwrite":"readonly");let Hi=gr.store;return cn&&(Hi=Hi.index(Jr.shift())),(yield Promise.all([Hi[Nt](...Jr),Bn&&gr.done]))[0]});return function(Jr){return pr.apply(this,arguments)}}();return Ce.set(lt,Ln),Ln}!function kt(Dt){Ct=Dt(Ct)}(Dt=>({...Dt,get:(lt,Nt,cn)=>Yt(lt,Nt)||Dt.get(lt,Nt,cn),has:(lt,Nt)=>!!Yt(lt,Nt)||Dt.has(lt,Nt)}));class pn{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function ir(Dt){const lt=Dt.getComponent();return"VERSION"===lt?.type}(Nt)){const cn=Nt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Nt=>Nt).join(" ")}}const Xe="@firebase/app",Mt="0.10.13",Be=new i.Vy("@firebase/app"),In="[DEFAULT]",$r={[Xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Mr=new Map,ni=new Map,zn=new Map;function fi(Dt,lt){try{Dt.container.addComponent(lt)}catch(Nt){Be.debug(`Component ${lt.name} failed to register with FirebaseApp ${Dt.name}`,Nt)}}function gs(Dt,lt){Dt.container.addOrOverwriteComponent(lt)}function hn(Dt){const lt=Dt.name;if(zn.has(lt))return Be.debug(`There were multiple attempts to register component ${lt}.`),!1;zn.set(lt,Dt);for(const Nt of Mr.values())fi(Nt,Dt);for(const Nt of ni.values())fi(Nt,Dt);return!0}function ri(Dt,lt){const Nt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),Dt.container.getProvider(lt)}function Jn(Dt,lt,Nt=In){ri(Dt,lt).clearInstance(Nt)}function Ir(Dt){return void 0!==Dt.options}function Hn(Dt){return void 0!==Dt.settings}function Di(){zn.clear()}const Tt=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ce{constructor(lt,Nt,cn){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}class ke extends ce{constructor(lt,Nt,cn,Bn){const Ln=void 0!==Nt.automaticDataCollectionEnabled&&Nt.automaticDataCollectionEnabled,pr={name:cn,automaticDataCollectionEnabled:Ln};super(void 0!==lt.apiKey?lt:lt.options,pr,Bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ln},Nt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Nt.releaseOnDeref=void 0,$(Xe,Mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(lt){this.isDeleted||(this._refCount++,void 0!==lt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(lt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){br(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tt.create("server-app-deleted")}}const fe="10.14.1";function pt(Dt,lt={}){let Nt=Dt;"object"!=typeof lt&&(lt={name:lt});const cn=Object.assign({name:In,automaticDataCollectionEnabled:!1},lt),Bn=cn.name;if("string"!=typeof Bn||!Bn)throw Tt.create("bad-app-name",{appName:String(Bn)});if(Nt||(Nt=(0,ve.T9)()),!Nt)throw Tt.create("no-options");const Ln=Mr.get(Bn);if(Ln){if((0,ve.bD)(Nt,Ln.options)&&(0,ve.bD)(cn,Ln.config))return Ln;throw Tt.create("duplicate-app",{appName:Bn})}const pr=new ue.h1(Bn);for(const Jr of zn.values())pr.addComponent(Jr);const Gr=new ce(Nt,cn,pr);return Mr.set(Bn,Gr),Gr}function be(Dt,lt){if((0,ve.Bd)()&&!(0,ve.p7)())throw Tt.create("invalid-server-app-environment");let Nt;void 0===lt.automaticDataCollectionEnabled&&(lt.automaticDataCollectionEnabled=!1),Nt=Ir(Dt)?Dt.options:Dt;const cn=Object.assign(Object.assign({},lt),Nt);if(void 0!==cn.releaseOnDeref&&delete cn.releaseOnDeref,void 0!==lt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Tt.create("finalization-registry-not-supported",{});const Ln=""+(gr=JSON.stringify(cn),[...gr].reduce((Hi,Ns)=>Math.imul(31,Hi)+Ns.charCodeAt(0)|0,0)),pr=ni.get(Ln);var gr;if(pr)return pr.incRefCount(lt.releaseOnDeref),pr;const Gr=new ue.h1(Ln);for(const gr of zn.values())Gr.addComponent(gr);const Jr=new ke(Nt,lt,Ln,Gr);return ni.set(Ln,Jr),Jr}function yt(Dt=In){const lt=Mr.get(Dt);if(!lt&&Dt===In&&(0,ve.T9)())return pt();if(!lt)throw Tt.create("no-app",{appName:Dt});return lt}function Xt(){return Array.from(Mr.values())}function br(Dt){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.A)(function*(Dt){let lt=!1;const Nt=Dt.name;Mr.has(Nt)?(lt=!0,Mr.delete(Nt)):ni.has(Nt)&&Dt.decRefCount()<=0&&(ni.delete(Nt),lt=!0),lt&&(yield Promise.all(Dt.container.getProviders().map(cn=>cn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function $(Dt,lt,Nt){var cn;let Bn=null!==(cn=$r[Dt])&&void 0!==cn?cn:Dt;Nt&&(Bn+=`-${Nt}`);const Ln=Bn.match(/\s|\//),pr=lt.match(/\s|\//);if(Ln||pr){const Gr=[`Unable to register library "${Bn}" with version "${lt}":`];return Ln&&Gr.push(`library name "${Bn}" contains illegal characters (whitespace or "/")`),Ln&&pr&&Gr.push("and"),pr&&Gr.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void Be.warn(Gr.join(" "))}hn(new ue.uA(`${Bn}-version`,()=>({library:Bn,version:lt}),"VERSION"))}function M(Dt,lt){if(null!==Dt&&"function"!=typeof Dt)throw Tt.create("invalid-log-argument");(0,i.Ey)(Dt,lt)}function L(Dt){(0,i.He)(Dt)}const ie="firebase-heartbeat-database",me=1,ht="firebase-heartbeat-store";let xt=null;function an(){return xt||(xt=function Ue(Dt,lt,{blocked:Nt,upgrade:cn,blocking:Bn,terminated:Ln}={}){const pr=indexedDB.open(Dt,lt),Gr=we(pr);return cn&&pr.addEventListener("upgradeneeded",Jr=>{cn(we(pr.result),Jr.oldVersion,Jr.newVersion,we(pr.transaction),Jr)}),Nt&&pr.addEventListener("blocked",Jr=>Nt(Jr.oldVersion,Jr.newVersion,Jr)),Gr.then(Jr=>{Ln&&Jr.addEventListener("close",()=>Ln()),Bn&&Jr.addEventListener("versionchange",gr=>Bn(gr.oldVersion,gr.newVersion,gr))}).catch(()=>{}),Gr}(ie,me,{upgrade:(Dt,lt)=>{if(0===lt)try{Dt.createObjectStore(ht)}catch(Nt){console.warn(Nt)}}}).catch(Dt=>{throw Tt.create("idb-open",{originalErrorMessage:Dt.message})})),xt}function Sn(){return(Sn=(0,o.A)(function*(Dt){try{const Nt=(yield an()).transaction(ht),cn=yield Nt.objectStore(ht).get(qr(Dt));return yield Nt.done,cn}catch(lt){if(lt instanceof ve.g)Be.warn(lt.message);else{const Nt=Tt.create("idb-get",{originalErrorMessage:lt?.message});Be.warn(Nt.message)}}})).apply(this,arguments)}function Tr(Dt,lt){return ln.apply(this,arguments)}function ln(){return(ln=(0,o.A)(function*(Dt,lt){try{const cn=(yield an()).transaction(ht,"readwrite");yield cn.objectStore(ht).put(lt,qr(Dt)),yield cn.done}catch(Nt){if(Nt instanceof ve.g)Be.warn(Nt.message);else{const cn=Tt.create("idb-set",{originalErrorMessage:Nt?.message});Be.warn(cn.message)}}})).apply(this,arguments)}function qr(Dt){return`${Dt.name}!${Dt.options.appId}`}class Fi{constructor(lt){this.container=lt,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new yi(Nt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var lt=this;return(0,o.A)(function*(){var Nt,cn;try{const Ln=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pr=ms();return null==(null===(Nt=lt._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise,null==(null===(cn=lt._heartbeatsCache)||void 0===cn?void 0:cn.heartbeats))||lt._heartbeatsCache.lastSentHeartbeatDate===pr||lt._heartbeatsCache.heartbeats.some(Gr=>Gr.date===pr)?void 0:(lt._heartbeatsCache.heartbeats.push({date:pr,agent:Ln}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(Gr=>{const Jr=new Date(Gr.date).valueOf();return Date.now()-Jr<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache))}catch(Bn){Be.warn(Bn)}})()}getHeartbeatsHeader(){var lt=this;return(0,o.A)(function*(){var Nt;try{if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null==(null===(Nt=lt._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats)||0===lt._heartbeatsCache.heartbeats.length)return"";const cn=ms(),{heartbeatsToSend:Bn,unsentEntries:Ln}=function _s(Dt,lt=1024){const Nt=[];let cn=Dt.slice();for(const Bn of Dt){const Ln=Nt.find(pr=>pr.agent===Bn.agent);if(Ln){if(Ln.dates.push(Bn.date),or(Nt)>lt){Ln.dates.pop();break}}else if(Nt.push({agent:Bn.agent,dates:[Bn.date]}),or(Nt)>lt){Nt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:cn}}(lt._heartbeatsCache.heartbeats),pr=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:Bn}));return lt._heartbeatsCache.lastSentHeartbeatDate=cn,Ln.length>0?(lt._heartbeatsCache.heartbeats=Ln,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),pr}catch(cn){return Be.warn(cn),""}})()}}function ms(){return(new Date).toISOString().substring(0,10)}class yi{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,o.A)(function*(){if(yield lt._canUseIndexedDBPromise){const cn=yield function fn(Dt){return Sn.apply(this,arguments)}(lt.app);return cn?.heartbeats?cn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(lt){var Nt=this;return(0,o.A)(function*(){var cn;if(yield Nt._canUseIndexedDBPromise){const Ln=yield Nt.read();return Tr(Nt.app,{lastSentHeartbeatDate:null!==(cn=lt.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var Nt=this;return(0,o.A)(function*(){var cn;if(yield Nt._canUseIndexedDBPromise){const Ln=yield Nt.read();return Tr(Nt.app,{lastSentHeartbeatDate:null!==(cn=lt.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...lt.heartbeats]})}})()}}function or(Dt){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Os(Dt){hn(new ue.uA("platform-logger",lt=>new pn(lt),"PRIVATE")),hn(new ue.uA("heartbeat",lt=>new Fi(lt),"PRIVATE")),$(Xe,Mt,Dt),$(Xe,Mt,"esm2017"),$("fire-js","")}("")},1362:(rn,Ze,F)=>{F.d(Ze,{h1:()=>$e,uA:()=>i});var o=F(467),ue=F(1076);class i{constructor(Q,ee,de){this.name=Q,this.instanceFactory=ee,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ve="[DEFAULT]";class _e{constructor(Q,ee){this.name=Q,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ee=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ee)){const de=new ue.cY;if(this.instancesDeferred.set(ee,de),this.isInitialized(ee)||this.shouldAutoInitialize())try{const ye=this.getOrInitializeService({instanceIdentifier:ee});ye&&de.resolve(ye)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(Q){var ee;const de=this.normalizeInstanceIdentifier(Q?.identifier),ye=null!==(ee=Q?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Me){if(ye)return null;throw Me}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Ee(Le){return"EAGER"===Le.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ee,de]of this.instancesDeferred.entries()){const ye=this.normalizeInstanceIdentifier(ee);try{const Me=this.getOrInitializeService({instanceIdentifier:ye});de.resolve(Me)}catch{}}}}clearInstance(Q=ve){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,o.A)(function*(){const ee=Array.from(Q.instances.values());yield Promise.all([...ee.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ee.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ve){return this.instances.has(Q)}getOptions(Q=ve){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ee={}}=Q,de=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ye=this.getOrInitializeService({instanceIdentifier:de,options:ee});for(const[Me,Oe]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Me)&&Oe.resolve(ye);return ye}onInit(Q,ee){var de;const ye=this.normalizeInstanceIdentifier(ee),Me=null!==(de=this.onInitCallbacks.get(ye))&&void 0!==de?de:new Set;Me.add(Q),this.onInitCallbacks.set(ye,Me);const Oe=this.instances.get(ye);return Oe&&Q(Oe,ye),()=>{Me.delete(Q)}}invokeOnInitCallbacks(Q,ee){const de=this.onInitCallbacks.get(ee);if(de)for(const ye of de)try{ye(Q,ee)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:ee={}}){let de=this.instances.get(Q);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=Q,Le===ve?void 0:Le),options:ee}),this.instances.set(Q,de),this.instancesOptions.set(Q,ee),this.invokeOnInitCallbacks(de,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,de)}catch{}var Le;return de||null}normalizeInstanceIdentifier(Q=ve){return this.component?this.component.multipleInstances?Q:ve:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ee=this.getProvider(Q.name);if(ee.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ee.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ee=new _e(Q,this);return this.providers.set(Q,ee),ee}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,Ze,F)=>{F.d(Ze,{$b:()=>ue,Ey:()=>Le,He:()=>$e,Vy:()=>Ee});const o=[];var ue=function(Q){return Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q}(ue||{});const i={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},ve=ue.INFO,_e={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},De=(Q,ee,...de)=>{if(ee<Q.logLevel)return;const ye=(new Date).toISOString(),Me=_e[ee];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Me](`[${ye}]  ${Q.name}:`,...de)};class Ee{constructor(ee){this.name=ee,this._logLevel=ve,this._logHandler=De,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in ue))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?i[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ee),this._logHandler(this,ue.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ee),this._logHandler(this,ue.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ee),this._logHandler(this,ue.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ee),this._logHandler(this,ue.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ee),this._logHandler(this,ue.ERROR,...ee)}}function $e(Q){o.forEach(ee=>{ee.setLogLevel(Q)})}function Le(Q,ee){for(const de of o){let ye=null;ee&&ee.level&&(ye=i[ee.level]),de.userLogHandler=null===Q?null:(Me,Oe,...ot)=>{const Ct=ot.map(kt=>{if(null==kt)return null;if("string"==typeof kt)return kt;if("number"==typeof kt||"boolean"==typeof kt)return kt.toString();if(kt instanceof Error)return kt.message;try{return JSON.stringify(kt)}catch{return null}}).filter(kt=>kt).join(" ");Oe>=(ye??Me.logLevel)&&Q({level:ue[Oe].toLowerCase(),message:Ct,args:ot,type:Me.name})}}}},2214:(rn,Ze,F)=>{F.d(Ze,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=F(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(rn,Ze,F)=>{F.d(Ze,{A:()=>o.A});var o=F(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(rn,Ze,F)=>{var o=F(467),ue=F(3345),i=F(5504),ve=F(1076),Ee=(F(7852),F(8041),F(1362));function $e(){return window}function ee(){return ee=(0,o.A)(function*($,M,L){var ie;const{BuildInfo:me}=$e();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const ht=yield function kt($){return Qt.apply(this,arguments)}(M.sessionId),xt={};return(0,i.av)()?xt.ibi=me.packageName:(0,i.aw)()?xt.apn=me.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),me.displayName&&(xt.appDisplayName=me.displayName),xt.sessionId=ht,(0,i.ay)($,L,M.type,void 0,null!==(ie=M.eventId)&&void 0!==ie?ie:void 0,xt)}),ee.apply(this,arguments)}function ye(){return(ye=(0,o.A)(function*($){const{BuildInfo:M}=$e(),L={};(0,i.av)()?L.iosBundleId=M.packageName:(0,i.aw)()?L.androidPackageName=M.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,L)})).apply(this,arguments)}function ot(){return(ot=(0,o.A)(function*($,M,L){const{cordova:ie}=$e();let me=()=>{};try{yield new Promise((ht,xt)=>{let an=null;function fn(){var ln;ht();const qr=null===(ln=ie.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof qr&&qr(),"function"==typeof L?.close&&L.close()}function Sn(){an||(an=window.setTimeout(()=>{xt((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function Tr(){"visible"===document?.visibilityState&&Sn()}M.addPassiveListener(fn),document.addEventListener("resume",Sn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",Tr,!1),me=()=>{M.removePassiveListener(fn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",Tr,!1),an&&window.clearTimeout(an)}})}finally{me()}})).apply(this,arguments)}function Qt(){return(Qt=(0,o.A)(function*($){const M=function We($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),L=new Uint8Array(M);for(let ie=0;ie<$.length;ie++)L[ie]=$.charCodeAt(ie);return L}($),L=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(L)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class et extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(L=>L(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function Ge($){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.A)(function*($){const M=yield pn()._get(ir($));return M&&(yield pn()._remove(ir($))),M})).apply(this,arguments)}function Yt(){const $=[];for(let L=0;L<20;L++){const ie=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return $.join("")}function pn(){return(0,i.aE)(i.b)}function ir($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Be($){if(!$?.includes("?"))return{};const[M,...L]=$.split("?");return(0,ve.I9)(L.join("?"))}const st=class Ne{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var L=this;return(0,o.A)(function*(){const ie=M._key();let me=L.eventManagers.get(ie);return me||(me=new et(M),L.eventManagers.set(ie,me),L.attachCallbackListeners(M,me)),me})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,L,ie,me){var ht=this;return(0,o.A)(function*(){!function Ct($){var M,L,ie,me,ht,xt,an,fn,Sn,Tr;const ln=$e();(0,i.aC)("function"==typeof(null===(M=ln?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(L=ln?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(ht=null===(me=null===(ie=ln?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===me?void 0:me.browsertab)||void 0===ht?void 0:ht.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(fn=null===(an=null===(xt=ln?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===an?void 0:an.browsertab)||void 0===fn?void 0:fn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(Tr=null===(Sn=ln?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===Tr?void 0:Tr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const xt=yield ht._initialize(M);yield xt.initialized(),xt.resetRedirect(),(0,i.aI)(),yield ht._originValidation(M);const an=function Ue($,M,L=null){return{type:M,eventId:L,urlResponse:null,sessionId:Yt(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(M,ie,me);yield function tt($,M){return pn()._set(ir($),M)}(M,an);const fn=yield function Q($,M,L){return ee.apply(this,arguments)}(M,an,L),Sn=yield function Me($){const{cordova:M}=$e();return new Promise(L=>{M.plugins.browsertab.isAvailable(ie=>{let me=null;ie?M.plugins.browsertab.openUrl($):me=M.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),L(me)})})}(fn);return function Oe($,M,L){return ot.apply(this,arguments)}(M,xt,Sn)})()}_isIframeWebStorageSupported(M,L){throw new Error("Method not implemented.")}_originValidation(M){const L=M._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function de($){return ye.apply(this,arguments)}(M)),this.originValidationPromises[L]}attachCallbackListeners(M,L){const{universalLinks:ie,handleOpenURL:me,BuildInfo:ht}=$e(),xt=setTimeout((0,o.A)(function*(){yield Ge(M),L.onEvent(tn())}),500),an=function(){var Tr=(0,o.A)(function*(ln){clearTimeout(xt);const qr=yield Ge(M);let ur=null;qr&&ln?.url&&(ur=function Ce($,M){var L,ie;const me=function Mt($){const M=Be($),L=M.link?decodeURIComponent(M.link):void 0,ie=Be(L).link,me=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Be(me).link||me||ie||L||$}(M);if(me.includes("/__/auth/callback")){const ht=Be(me),xt=ht.firebaseError?function Xe($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,an=null===(ie=null===(L=xt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===ie?void 0:ie[1],fn=an?(0,i.aB)(an):null;return fn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:me,postBody:null}}return null}(qr,ln.url)),L.onEvent(ur||tn())});return function(qr){return Tr.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,an);const fn=me,Sn=`${ht.packageName.toLowerCase()}://`;$e().handleOpenURL=function(){var Tr=(0,o.A)(function*(ln){if(ln.toLowerCase().startsWith(Sn)&&an({url:ln}),"function"==typeof fn)try{fn(ln)}catch(qr){console.error(qr)}});return function(ln){return Tr.apply(this,arguments)}}()}};function tn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function ut(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Vt($=(0,ve.ZQ)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const $=self.localStorage,M=i.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Vn($=(0,ve.ZQ)()){return function nr(){return(0,ve.lT)()&&11===document?.documentMode}()||function sn($=(0,ve.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ve.zW)()}catch{return $n()&&(0,ve.zW)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function it(){return"http:"===ut()||"https:"===ut()}()||(0,ve.sr)()||Vt())&&!function wn(){return(0,ve.lV)()||(0,ve.Ll)()}()&&Jt()&&!$n()}function Ht(){return Vt()&&typeof document<"u"}function Er(){return(Er=(0,o.A)(function*(){return!!Ht()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const kr={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=i.aC,$t="persistence";function Gn($){return In.apply(this,arguments)}function In(){return(In=(0,o.A)(function*($){yield $._initializationPromise;const M=Mr(),L=i.aF($t,$.config.apiKey,$.name);M&&M.setItem(L,$._getPersistence())})).apply(this,arguments)}function Mr(){var $;try{return(null===($=function on(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ni=i.aC;class zn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(st),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var L=this;return(0,o.A)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,L,ie,me){var ht=this;return(0,o.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(M,L,ie,me)})()}_openRedirect(M,L,ie,me){var ht=this;return(0,o.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(M,L,ie,me)})()}_isIframeWebStorageSupported(M,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,L)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Ht()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ni(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const L=yield function jt(){return Er.apply(this,arguments)}();M.underlyingResolver=L?M.cordovaResolver:M.browserResolver})()}}function fi($){return $.unwrap()}function hn($){return Jn($)}function Jn($){const{_tokenResponse:M}=$ instanceof ve.g?$.customData:$;if(!M)return null;if(!($ instanceof ve.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult($);const L=M.providerId;if(!L||L===i.p.PASSWORD)return null;let ie;switch(L){case i.p.GOOGLE:ie=i.X;break;case i.p.FACEBOOK:ie=i.W;break;case i.p.GITHUB:ie=i.Y;break;case i.p.TWITTER:ie=i.$;break;default:const{oauthIdToken:me,oauthAccessToken:ht,oauthTokenSecret:xt,pendingToken:an,nonce:fn}=M;return ht||xt||me||an?an?L.startsWith("saml.")?i.aQ._create(L,an):i.N._fromParams({providerId:L,signInMethod:L,pendingToken:an,idToken:me,accessToken:ht}):new i.Z(L).credential({idToken:me,accessToken:ht,rawNonce:fn}):null}return $ instanceof ve.g?ie.credentialFromError($):ie.credentialFromResult($)}function Ir($,M){return M.catch(L=>{throw L instanceof ve.g&&function ri($,M){var L;const ie=null===(L=M.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new at($,i.as($,M));else if(ie){const me=Jn(M),ht=M;me&&(ht.credential=me,ht.tenantId=ie.tenantId||void 0,ht.email=ie.email||void 0,ht.phoneNumber=ie.phoneNumber||void 0)}}($,L),L}).then(L=>{const me=L.user;return{operationType:L.operationType,credential:hn(L),additionalUserInfo:i.aq(L),user:Tt.getOrCreate(me)}})}function Hn($,M){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.A)(function*($,M){const L=yield M;return{verificationId:L.verificationId,confirm:ie=>Ir($,L.confirm(ie))}})).apply(this,arguments)}class at{constructor(M,L){this.resolver=L,this.auth=function gs($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Ir(fi(this.auth),this.resolver.resolveSignIn(M))}}class Tt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return Tt.USER_MAP.has(M)||Tt.USER_MAP.set(M,new Tt(M)),Tt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.a2(L._delegate,M))})()}linkWithPhoneNumber(M,L){var ie=this;return(0,o.A)(function*(){return Hn(ie.auth,i.l(ie._delegate,M,L))})()}linkWithPopup(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.d(L._delegate,M,zn))})()}linkWithRedirect(M){var L=this;return(0,o.A)(function*(){return yield Gn(i.aJ(L.auth)),i.g(L._delegate,M,zn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var L=this;return(0,o.A)(function*(){return Ir(L.auth,i.a3(L._delegate,M))})()}reauthenticateWithPhoneNumber(M,L){return Hn(this.auth,i.r(this._delegate,M,L))}reauthenticateWithPopup(M){return Ir(this.auth,i.e(this._delegate,M,zn))}reauthenticateWithRedirect(M){var L=this;return(0,o.A)(function*(){return yield Gn(i.aJ(L.auth)),i.h(L._delegate,M,zn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var L=this;return(0,o.A)(function*(){return yield i.ap(L._delegate,M),L})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,L){return i.ah(this._delegate,M,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const ce=i.aC;let ke=(()=>{class ${constructor(L,ie){if(this.app=L,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=L.options;ce(me,"invalid-api-key",{appName:L.name}),ce(me,"invalid-api-key",{appName:L.name});const ht=typeof window<"u"?zn:void 0;this._delegate=ie.initialize({options:{persistence:pt(me,L.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ie){i.K(this._delegate,L,ie)}applyActionCode(L){return i.a7(this._delegate,L)}checkActionCode(L){return i.a8(this._delegate,L)}confirmPasswordReset(L,ie){return i.a6(this._delegate,L,ie)}createUserWithEmailAndPassword(L,ie){var me=this;return(0,o.A)(function*(){return Ir(me._delegate,i.aa(me._delegate,L,ie))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return i.af(this._delegate,L)}isSignInWithEmailLink(L){return i.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,o.A)(function*(){ce(On(),L._delegate,"operation-not-supported-in-this-environment");const ie=yield i.j(L._delegate,zn);return ie?Ir(L._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function Ke($,M){(0,i.aJ)($)._logFramework(M)}(this._delegate,L)}onAuthStateChanged(L,ie,me){const{next:ht,error:xt,complete:an}=fe(L,ie,me);return this._delegate.onAuthStateChanged(ht,xt,an)}onIdTokenChanged(L,ie,me){const{next:ht,error:xt,complete:an}=fe(L,ie,me);return this._delegate.onIdTokenChanged(ht,xt,an)}sendSignInLinkToEmail(L,ie){return i.ac(this._delegate,L,ie)}sendPasswordResetEmail(L,ie){return i.a5(this._delegate,L,ie||void 0)}setPersistence(L){var ie=this;return(0,o.A)(function*(){let me;switch(function Tn($,M){Yn(Object.values(kr).includes(M),$,"invalid-persistence-type"),(0,ve.lV)()?Yn(M!==kr.SESSION,$,"unsupported-persistence-type"):(0,ve.Ll)()?Yn(M===kr.NONE,$,"unsupported-persistence-type"):$n()?Yn(M===kr.NONE||M===kr.LOCAL&&(0,ve.zW)(),$,"unsupported-persistence-type"):Yn(M===kr.NONE||Jt(),$,"unsupported-persistence-type")}(ie._delegate,L),L){case kr.SESSION:me=i.a;break;case kr.LOCAL:me=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case kr.NONE:me=i.U;break;default:return i.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Ir(this._delegate,i.a0(this._delegate))}signInWithCredential(L){return Ir(this._delegate,i.a1(this._delegate,L))}signInWithCustomToken(L){return Ir(this._delegate,i.a4(this._delegate,L))}signInWithEmailAndPassword(L,ie){return Ir(this._delegate,i.ab(this._delegate,L,ie))}signInWithEmailLink(L,ie){return Ir(this._delegate,i.ae(this._delegate,L,ie))}signInWithPhoneNumber(L,ie){return Hn(this._delegate,i.s(this._delegate,L,ie))}signInWithPopup(L){var ie=this;return(0,o.A)(function*(){return ce(On(),ie._delegate,"operation-not-supported-in-this-environment"),Ir(ie._delegate,i.c(ie._delegate,L,zn))})()}signInWithRedirect(L){var ie=this;return(0,o.A)(function*(){return ce(On(),ie._delegate,"operation-not-supported-in-this-environment"),yield Gn(ie._delegate),i.f(ie._delegate,L,zn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return i.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=kr,$})();function fe($,M,L){let ie=$;"function"!=typeof $&&({next:ie,error:M,complete:L}=$);const me=ie;return{next:xt=>me(xt&&Tt.getOrCreate(xt)),error:M,complete:L}}function pt($,M){const L=function $r($,M){const L=Mr();if(!L)return[];const ie=i.aF($t,$,M);switch(L.getItem(ie)){case kr.NONE:return[i.U];case kr.LOCAL:return[i.i,i.a];case kr.SESSION:return[i.a];default:return[]}}($,M);if(typeof self<"u"&&!L.includes(i.i)&&L.push(i.i),typeof window<"u")for(const ie of[i.b,i.a])L.includes(ie)||L.push(ie);return L.includes(i.U)||L.push(i.U),L}class be{constructor(){this.providerId="phone",this._delegate=new i.P(fi(ue.A.auth()))}static credential(M,L){return i.P.credential(M,L)}verifyPhoneNumber(M,L){return this._delegate.verifyPhoneNumber(M,L)}unwrap(){return this._delegate}}be.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,be.PROVIDER_ID=i.P.PROVIDER_ID;const yt=i.aC;class Xt{constructor(M,L,ie=ue.A.app()){var me;yt(null===(me=ie.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new i.R(ie.auth(),M,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vt($){$.INTERNAL.registerComponent(new Ee.uA("auth-compat",M=>{const L=M.getProvider("app-compat").getImmediate(),ie=M.getProvider("auth");return new ke(L,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:be,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Xt,TwitterAuthProvider:i.$,Auth:ke,AuthCredential:i.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(rn,Ze,F)=>{function o(i,ve,_e,De,Ee,$e,Le){try{var Q=i[$e](Le),ee=Q.value}catch(de){return void _e(de)}Q.done?ve(ee):Promise.resolve(ee).then(De,Ee)}function ue(i){return function(){var ve=this,_e=arguments;return new Promise(function(De,Ee){var $e=i.apply(ve,_e);function Le(ee){o($e,De,Ee,Le,Q,"next",ee)}function Q(ee){o($e,De,Ee,Le,Q,"throw",ee)}Le(void 0)})}}F.d(Ze,{A:()=>ue})},1635:(rn,Ze,F)=>{function ve(Ke,Re){var Ie={};for(var Fe in Ke)Object.prototype.hasOwnProperty.call(Ke,Fe)&&Re.indexOf(Fe)<0&&(Ie[Fe]=Ke[Fe]);if(null!=Ke&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Fe=Object.getOwnPropertySymbols(Ke);ut<Fe.length;ut++)Re.indexOf(Fe[ut])<0&&Object.prototype.propertyIsEnumerable.call(Ke,Fe[ut])&&(Ie[Fe[ut]]=Ke[Fe[ut]])}return Ie}function de(Ke,Re,Ie,Fe){return new(Ie||(Ie=Promise))(function(it,Vt){function wn(Vn){try{sn(Fe.next(Vn))}catch(Jt){Vt(Jt)}}function nr(Vn){try{sn(Fe.throw(Vn))}catch(Jt){Vt(Jt)}}function sn(Vn){Vn.done?it(Vn.value):function ut(it){return it instanceof Ie?it:new Ie(function(Vt){Vt(it)})}(Vn.value).then(wn,nr)}sn((Fe=Fe.apply(Ke,Re||[])).next())})}function we(Ke){return this instanceof we?(this.v=Ke,this):new we(Ke)}function et(Ke,Re,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Fe=Ie.apply(Ke,Re||[]),it=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function Vt(On){return function(Ht){return Promise.resolve(Ht).then(On,Jt)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function wn(On,Ht){Fe[On]&&(ut[On]=function(jt){return new Promise(function(Er,on){it.push([On,jt,Er,on])>1||nr(On,jt)})},Ht&&(ut[On]=Ht(ut[On])))}function nr(On,Ht){try{!function sn(On){On.value instanceof we?Promise.resolve(On.value.v).then(Vn,Jt):$n(it[0][2],On)}(Fe[On](Ht))}catch(jt){$n(it[0][3],jt)}}function Vn(On){nr("next",On)}function Jt(On){nr("throw",On)}function $n(On,Ht){On(Ht),it.shift(),it.length&&nr(it[0][0],it[0][1])}}function tt(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Re=Ke[Symbol.asyncIterator];return Re?Re.call(Ke):(Ke=function ot(Ke){var Re="function"==typeof Symbol&&Symbol.iterator,Ie=Re&&Ke[Re],Fe=0;if(Ie)return Ie.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&Fe>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[Fe++],done:!Ke}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ke),Ie={},Fe("next"),Fe("throw"),Fe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Fe(it){Ie[it]=Ke[it]&&function(Vt){return new Promise(function(wn,nr){!function ut(it,Vt,wn,nr){Promise.resolve(nr).then(function(sn){it({value:sn,done:wn})},Vt)}(wn,nr,(Vt=Ke[it](Vt)).done,Vt.value)})}}}F.d(Ze,{AQ:()=>et,N3:()=>we,Tt:()=>ve,sH:()=>de,xN:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=2097)}]);