"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(mn,Ze,V)=>{V.d(Ze,{$:()=>go,A:()=>de,G:()=>nt,K:()=>Ci,L:()=>As,N:()=>Te,P:()=>_a,R:()=>Pu,U:()=>en,V:()=>ki,W:()=>Fi,X:()=>si,Y:()=>Xo,Z:()=>Wi,_:()=>Rs,a:()=>ll,a0:()=>Qs,a1:()=>ms,a2:()=>Js,a3:()=>Jo,a4:()=>Qi,a5:()=>Fo,a6:()=>Ao,a7:()=>lr,a8:()=>Zo,a9:()=>Ll,aA:()=>vn,aB:()=>it,aC:()=>Ie,aD:()=>Lh,aE:()=>ct,aF:()=>un,aG:()=>Vh,aH:()=>cc,aI:()=>Kl,aJ:()=>tr,aN:()=>$r,aQ:()=>lo,aa:()=>Sh,ab:()=>Iu,ac:()=>wa,ad:()=>Ul,ae:()=>ja,af:()=>jl,ag:()=>te,ah:()=>q,ak:()=>Jn,al:()=>Ai,am:()=>_i,ap:()=>os,aq:()=>Ts,as:()=>al,at:()=>Da,au:()=>In,av:()=>or,aw:()=>Xt,ax:()=>_e,ay:()=>hc,az:()=>sa,b:()=>Su,c:()=>Wl,d:()=>ku,e:()=>Nh,f:()=>Sc,g:()=>uc,h:()=>Pc,i:()=>O,j:()=>Xf,k:()=>Bh,l:()=>Ga,m:()=>Yl,p:()=>Le,r:()=>xu,s:()=>ma,u:()=>Ou});var o=V(467),ue=V(7852),s=V(1076),Ee=V(8041),he=V(1635),we=V(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nt=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new Ee.Vy("@firebase/auth");function Ge(I,...g){Lt.logLevel<=Ee.$b.ERROR&&Lt.error(`Auth (${ue.SDK_VERSION}): ${I}`,...g)}function _e(I,...g){throw Ut(I,...g)}function it(I,...g){return Ut(I,...g)}function et(I,g,v){const S=Object.assign(Object.assign({},Nt()),{[g]:v});return new s.FA("auth","Firebase",S).create(g,{appName:I.name})}function lt(I){return et(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ot(I,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&_e(I,"argument-error"),et(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(I,...g){if("string"!=typeof I){const v=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return Mt.create(I,...g)}function Ie(I,g,...v){if(!I)throw Ut(g,...v)}function cn(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Ge(g),new Error(g)}function In(I,g){I||cn(g)}function sr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Vt(){return"http:"===qt()||"https:"===qt()}function qt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Fe{constructor(g,v){this.shortDelay=g,this.longDelay=v,In(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return function Jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,s.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rt(I,g){In(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class ln{static initialize(g,v,S){this.fetchImpl=g,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Fe(3e4,6e4);function ve(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ve(I,g,v,S){return st.apply(this,arguments)}function st(){return(st=(0,o.A)(function*(I,g,v,S,Y={}){return Ye(I,Y,(0,o.A)(function*(){let fe={},We={};S&&("GET"===g?We=S:fe={body:JSON.stringify(S)});const Rt=(0,s.Am)(Object.assign({key:I.config.apiKey},We)).slice(1),Zt=yield I._getAdditionalHeaders();Zt["Content-Type"]="application/json",I.languageCode&&(Zt["X-Firebase-Locale"]=I.languageCode);const Fn=Object.assign({method:g,headers:Zt},fe);return(0,s.c1)()||(Fn.referrerPolicy="no-referrer"),ln.fetch()(hn(I,I.config.apiHost,v,Rt),Fn)}))})).apply(this,arguments)}function Ye(I,g,v){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.A)(function*(I,g,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},He),g);try{const Y=new tn(I),fe=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const We=yield fe.json();if("needConfirmation"in We)throw Zn(I,"account-exists-with-different-credential",We);if(fe.ok&&!("errorMessage"in We))return We;{const Rt=fe.ok?We.errorMessage:We.error.message,[Zt,Fn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw Zn(I,"credential-already-in-use",We);if("EMAIL_EXISTS"===Zt)throw Zn(I,"email-already-in-use",We);if("USER_DISABLED"===Zt)throw Zn(I,"user-disabled",We);const Gn=S[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw et(I,Gn,Fn);_e(I,Gn)}}catch(Y){if(Y instanceof s.g)throw Y;_e(I,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Mn(I,g,v,S){return dr.apply(this,arguments)}function dr(){return(dr=(0,o.A)(function*(I,g,v,S,Y={}){const fe=yield Ve(I,g,v,S,Y);return"mfaPendingCredential"in fe&&_e(I,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function hn(I,g,v,S){const Y=`${g}${v}?${S}`;return I.config.emulator?rt(I.config,Y):`${I.config.apiScheme}://${Y}`}function Vn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(it(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(I,g,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Y=it(I,g,S);return Y.customData._tokenResponse=v,Y}function $n(I){return void 0!==I&&void 0!==I.getResponse}function Wt(I){return void 0!==I&&void 0!==I.enterprise}class zt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Vn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function _n(){return(_n=(0,o.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kr(I,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,o.A)(function*(I,g){return Ve(I,"GET","/v2/recaptchaConfig",ve(I,g))})).apply(this,arguments)}function Sn(){return(Sn=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Rn(){return(Rn=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ti(I,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ni(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function hi(){return(hi=(0,o.A)(function*(I,g=!1){const v=(0,s.Ku)(I),S=yield v.getIdToken(g),Y=Ar(S);Ie(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const fe="object"==typeof Y.firebase?Y.firebase:void 0,We=fe?.sign_in_provider;return{claims:Y,token:S,authTime:ni(rn(Y.auth_time)),issuedAtTime:ni(rn(Y.iat)),expirationTime:ni(rn(Y.exp)),signInProvider:We||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function rn(I){return 1e3*Number(I)}function Ar(I){const[g,v,S]=I.split(".");if(void 0===g||void 0===v||void 0===S)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,s.u)(v);return Y?JSON.parse(Y):(Ge("Failed to decode base64 JWT payload"),null)}catch(Y){return Ge("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Hn(I){const g=Ar(I);return Ie(g,"internal-error"),Ie(typeof g.exp<"u","internal-error"),Ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function _r(I,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,o.A)(function*(I,g,v=!1){if(v)return g;try{return yield g}catch(S){throw S instanceof s.g&&function ci({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class Qe{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var g=this;return(0,o.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class ft{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ni(this.lastLoginAt),this.creationTime=ni(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function se(I){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.A)(function*(I){var g;const v=I.auth,S=yield I.getIdToken(),Y=yield _r(I,ti(v,{idToken:S}));Ie(Y?.users.length,v,"internal-error");const fe=Y.users[0];I._notifyReloadListener(fe);const We=null!==(g=fe.providerUserInfo)&&void 0!==g&&g.length?Kr(fe.providerUserInfo):[],Rt=function zn(I,g){return[...I.filter(S=>!g.some(Y=>Y.providerId===S.providerId)),...g]}(I.providerData,We),Gn=!!I.isAnonymous&&!(I.email&&fe.passwordHash||Rt?.length),ui={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Rt,metadata:new ft(fe.createdAt,fe.lastLoginAt),isAnonymous:Gn};Object.assign(I,ui)})).apply(this,arguments)}function Yt(){return(Yt=(0,o.A)(function*(I){const g=(0,s.Ku)(I);yield se(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kr(I){return I.map(g=>{var{providerId:v}=g,S=(0,he.Tt)(g,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function bi(){return(bi=(0,o.A)(function*(I,g){const v=yield Ye(I,{},(0,o.A)(function*(){const S=(0,s.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:fe}=I.config,We=hn(I,Y,"/v1/token",`key=${fe}`),Rt=yield I._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(We,{method:"POST",headers:Rt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(I,g){return Ve(I,"POST","/v2/accounts:revokeToken",ve(I,g))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(typeof g.idToken<"u","internal-error"),Ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):Hn(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Ie(0!==g.length,"internal-error");const v=Hn(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ie(S.refreshToken,g,"user-token-expired"),S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var S=this;return(0,o.A)(function*(){const{accessToken:Y,refreshToken:fe,expiresIn:We}=yield function Or(I,g){return bi.apply(this,arguments)}(g,v);S.updateTokensAndExpiration(Y,fe,Number(We))})()}updateTokensAndExpiration(g,v,S){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,v){const{refreshToken:S,accessToken:Y,expirationTime:fe}=v,We=new M;return S&&(Ie("string"==typeof S,"internal-error",{appName:g}),We.refreshToken=S),Y&&(Ie("string"==typeof Y,"internal-error",{appName:g}),We.accessToken=Y),fe&&(Ie("number"==typeof fe,"internal-error",{appName:g}),We.expirationTime=fe),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return cn("not implemented")}}function k(I,g){Ie("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class ne{constructor(g){var{uid:v,auth:S,stsTokenManager:Y}=g,fe=(0,he.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new ft(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,o.A)(function*(){const S=yield _r(v,v.stsTokenManager.getToken(v.auth,g));return Ie(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(g){return function oi(I){return hi.apply(this,arguments)}(this,g)}reload(){return function Pt(I){return Yt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new ne(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var S=this;return(0,o.A)(function*(){let Y=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),Y=!0),v&&(yield se(S)),yield S.auth._persistUserIfCurrent(S),Y&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(g.auth.app))return Promise.reject(lt(g.auth));const v=yield g.getIdToken();return yield _r(g,function Bt(I,g){return Sn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var S,Y,fe,We,Rt,Zt,Fn,Gn;const ui=null!==(S=v.displayName)&&void 0!==S?S:void 0,$o=null!==(Y=v.email)&&void 0!==Y?Y:void 0,Ca=null!==(fe=v.phoneNumber)&&void 0!==fe?fe:void 0,gl=null!==(We=v.photoURL)&&void 0!==We?We:void 0,Jl=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,Nd=null!==(Zt=v._redirectEventId)&&void 0!==Zt?Zt:void 0,zh=null!==(Fn=v.createdAt)&&void 0!==Fn?Fn:void 0,Wh=null!==(Gn=v.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:rp,emailVerified:kd,isAnonymous:ip,providerData:Zl,stsTokenManager:Kh}=v;Ie(rp&&Kh,g,"internal-error");const Wa=M.fromJSON(this.name,Kh);Ie("string"==typeof rp,g,"internal-error"),k(ui,g.name),k($o,g.name),Ie("boolean"==typeof kd,g,"internal-error"),Ie("boolean"==typeof ip,g,"internal-error"),k(Ca,g.name),k(gl,g.name),k(Jl,g.name),k(Nd,g.name),k(zh,g.name),k(Wh,g.name);const Fd=new ne({uid:rp,auth:g,email:$o,emailVerified:kd,displayName:ui,isAnonymous:ip,photoURL:gl,phoneNumber:Ca,tenantId:Jl,stsTokenManager:Wa,createdAt:zh,lastLoginAt:Wh});return Zl&&Array.isArray(Zl)&&(Fd.providerData=Zl.map(eu=>Object.assign({},eu))),Nd&&(Fd._redirectEventId=Nd),Fd}static _fromIdTokenResponse(g,v,S=!1){return(0,o.A)(function*(){const Y=new M;Y.updateFromServerResponse(v);const fe=new ne({uid:v.localId,auth:g,stsTokenManager:Y,isAnonymous:S});return yield se(fe),fe})()}static _fromGetAccountInfoResponse(g,v,S){return(0,o.A)(function*(){const Y=v.users[0];Ie(void 0!==Y.localId,"internal-error");const fe=void 0!==Y.providerUserInfo?Kr(Y.providerUserInfo):[],We=!(Y.email&&Y.passwordHash||fe?.length),Rt=new M;Rt.updateFromIdToken(S);const Zt=new ne({uid:Y.localId,auth:g,stsTokenManager:Rt,isAnonymous:We}),Fn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:fe,metadata:new ft(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||fe?.length)};return Object.assign(Zt,Fn),Zt})()}}const ge=new Map;function ct(I){In(I instanceof Function,"Expected a class definition");let g=ge.get(I);return g?(In(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,ge.set(I,g),g)}const en=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var Y=this;return(0,o.A)(function*(){Y.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const Y=S.storage[v];return void 0===Y?null:Y})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function un(I,g,v){return`firebase:${I}:${g}:${v}`}class Tn{constructor(g,v,S){this.persistence=g,this.auth=v,this.userKey=S;const{config:Y,name:fe}=this.auth;this.fullUserKey=un(this.userKey,Y.apiKey,fe),this.fullPersistenceKey=un("persistence",Y.apiKey,fe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?ne._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,o.A)(function*(){if(v.persistence===g)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Tn(ct(en),g,S);const Y=(yield Promise.all(v.map(function(){var Fn=(0,o.A)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return Fn.apply(this,arguments)}}()))).filter(Fn=>Fn);let fe=Y[0]||ct(en);const We=un(S,g.config.apiKey,g.name);let Rt=null;for(const Fn of v)try{const Gn=yield Fn._get(We);if(Gn){const ui=ne._fromJSON(g,Gn);Fn!==fe&&(Rt=ui),fe=Fn;break}}catch{}const Zt=Y.filter(Fn=>Fn._shouldAllowMigration);return fe._shouldAllowMigration&&Zt.length?(fe=Zt[0],Rt&&(yield fe._set(We,Rt.toJSON())),yield Promise.all(v.map(function(){var Fn=(0,o.A)(function*(Gn){if(Gn!==fe)try{yield Gn._remove(We)}catch{}});return function(Gn){return Fn.apply(this,arguments)}}())),new Tn(fe,g,S)):new Tn(fe,g,S)})()}}function yr(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(kt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Re(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(bn(g))return"Blackberry";if(fn(g))return"Webos";if(Me(g))return"Safari";if((g.includes("chrome/")||Be(g))&&!g.includes("edge/"))return"Chrome";if(Xt(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Re(I=(0,s.ZQ)()){return/firefox\//i.test(I)}function Me(I=(0,s.ZQ)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Be(I=(0,s.ZQ)()){return/crios\//i.test(I)}function kt(I=(0,s.ZQ)()){return/iemobile/i.test(I)}function Xt(I=(0,s.ZQ)()){return/android/i.test(I)}function bn(I=(0,s.ZQ)()){return/blackberry/i.test(I)}function fn(I=(0,s.ZQ)()){return/webos/i.test(I)}function or(I=(0,s.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function vn(I=(0,s.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function qe(I=(0,s.ZQ)()){return or(I)||Xt(I)||fn(I)||bn(I)||/windows phone/i.test(I)||kt(I)}function Dt(I,g=[]){let v;switch(I){case"Browser":v=yr((0,s.ZQ)());break;case"Worker":v=`${yr((0,s.ZQ)())}-${I}`;break;default:v=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class pn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const S=fe=>new Promise((We,Rt)=>{try{We(g(fe))}catch(Zt){Rt(Zt)}});S.onAbort=v,this.queue.push(S);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===g)return;const S=[];try{for(const Y of v.queue)yield Y(g),Y.onAbort&&S.push(Y.onAbort)}catch(Y){S.reverse();for(const fe of S)try{fe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function gn(){return(gn=(0,o.A)(function*(I,g={}){return Ve(I,"GET","/v2/passwordPolicy",ve(I,g))})).apply(this,arguments)}class xr{constructor(g){var v,S,Y,fe;const We=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=We.minPasswordLength)&&void 0!==v?v:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(S=g.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(fe=g.forceUpgradeOnSignin)&&void 0!==fe&&fe,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,S,Y,fe,We,Rt;const Zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Zt),this.validatePasswordCharacterOptions(g,Zt),Zt.isValid&&(Zt.isValid=null===(v=Zt.meetsMinPasswordLength)||void 0===v||v),Zt.isValid&&(Zt.isValid=null===(S=Zt.meetsMaxPasswordLength)||void 0===S||S),Zt.isValid&&(Zt.isValid=null===(Y=Zt.containsLowercaseLetter)||void 0===Y||Y),Zt.isValid&&(Zt.isValid=null===(fe=Zt.containsUppercaseLetter)||void 0===fe||fe),Zt.isValid&&(Zt.isValid=null===(We=Zt.containsNumericCharacter)||void 0===We||We),Zt.isValid&&(Zt.isValid=null===(Rt=Zt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),Zt}validatePasswordLengthOptions(g,v){const S=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=g.length>=S),Y&&(v.meetsMaxPasswordLength=g.length<=Y)}validatePasswordCharacterOptions(g,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<g.length;Y++)S=g.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(g,v,S,Y,fe){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=fe))}}class Fr{constructor(g,v,S,Y){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(g,v){var S=this;return v&&(this._popupRedirectResolver=ct(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var Y,fe;if(!S._deleted&&(S.persistenceManager=yield Tn.create(S,g),!S._deleted)){if(null!==(Y=S._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(fe=S.currentUser)||void 0===fe?void 0:fe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,o.A)(function*(){try{const S=yield ti(v,{idToken:g}),Y=yield ne._fromGetAccountInfoResponse(v,S,g);yield v.directlySetCurrentUser(Y)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,o.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(Zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(Zt,Zt))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let fe=Y,We=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Zt=fe?._redirectEventId,Fn=yield v.tryRedirectSignIn(g);(!Rt||Rt===Zt)&&Fn?.user&&(fe=Fn.user,We=!0)}if(!fe)return v.directlySetCurrentUser(null);if(!fe._redirectEventId){if(We)try{yield v.beforeStateQueue.runMiddleware(fe)}catch(Rt){fe=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return fe?v.reloadAndSetCurrentUserOrClear(fe):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===fe._redirectEventId?v.directlySetCurrentUser(fe):v.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(g){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,o.A)(function*(){try{yield se(g)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,o.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(lt(v));const S=g?(0,s.Ku)(g):null;return S&&Ie(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(g,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return g&&Ie(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.A)(function*(){return(0,ue._isFirebaseServerApp)(g.app)?Promise.reject(lt(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(lt(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(ct(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,o.A)(function*(){const v=yield function kn(I){return gn.apply(this,arguments)}(g),S=new xr(v);null===g.tenantId?g._projectPasswordPolicy=S:g._tenantPasswordPolicies[g.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new s.FA("auth","Firebase",g())}onAuthStateChanged(g,v,S){return this.registerStateListener(this.authStateSubscription,g,v,S)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,S){return this.registerStateListener(this.idTokenSubscription,g,v,S)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const S=this.onAuthStateChanged(()=>{S(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:S};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function Ct(I,g){return $.apply(this,arguments)}(v,Y)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var S=this;return(0,o.A)(function*(){const Y=yield S.getOrInitRedirectPersistenceManager(v);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=g&&ct(g)||v._popupRedirectResolver;Ie(S,v,"argument-error"),v.redirectPersistenceManager=yield Tn.create(v,[ct(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,o.A)(function*(){var S,Y;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===g?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,o.A)(function*(){if(g===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,S,Y){if(this._deleted)return()=>{};const fe="function"==typeof v?v:v.next.bind(v);let We=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Rt,this,"internal-error"),Rt.then(()=>{We||fe(this.currentUser)}),"function"==typeof v){const Zt=g.addObserver(v,S,Y);return()=>{We=!0,Zt()}}{const Zt=g.addObserver(v);return()=>{We=!0,Zt()}}}directlySetCurrentUser(g){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(S["X-Firebase-Client"]=Y);const fe=yield g._getAppCheckToken();return fe&&(S["X-Firebase-AppCheck"]=fe),S})()}_getAppCheckToken(){var g=this;return(0,o.A)(function*(){var v;const S=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function yn(I,...g){Lt.logLevel<=Ee.$b.WARN&&Lt.warn(`Auth (${ue.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function tr(I){return(0,s.Ku)(I)}class wi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,s.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ns={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qs(I){return ns.loadJS(I)}function li(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ii{constructor(g){this.type="recaptcha-enterprise",this.auth=tr(g)}verify(g="verify",v=!1){var S=this;return(0,o.A)(function*(){function fe(){return fe=(0,o.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var Zt=(0,o.A)(function*(Fn,Gn){kr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ui=>{if(void 0!==ui.recaptchaKey){const $o=new zt(ui);return null==Rt.tenantId?Rt._agentRecaptchaConfig=$o:Rt._tenantRecaptchaConfigs[Rt.tenantId]=$o,Fn($o.siteKey)}Gn(new Error("recaptcha Enterprise site key undefined"))}).catch(ui=>{Gn(ui)})});return function(Fn,Gn){return Zt.apply(this,arguments)}}())}),fe.apply(this,arguments)}function We(Rt,Zt,Fn){const Gn=window.grecaptcha;Wt(Gn)?Gn.enterprise.ready(()=>{Gn.enterprise.execute(Rt,{action:g}).then(ui=>{Zt(ui)}).catch(()=>{Zt("NO_RECAPTCHA")})}):Fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,Zt)=>{(function Y(Rt){return fe.apply(this,arguments)})(S.auth).then(Fn=>{if(!v&&Wt(window.grecaptcha))We(Fn,Rt,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));let Gn=function Hi(){return ns.recaptchaEnterpriseScript}();0!==Gn.length&&(Gn+=Fn),qs(Gn).then(()=>{We(Fn,Rt,Zt)}).catch(ui=>{Zt(ui)})}}).catch(Fn=>{Zt(Fn)})})})()}}function Ki(I,g,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(I,g,v,S=!1){const Y=new ii(I);let fe;try{fe=yield Y.verify(v)}catch{fe=yield Y.verify(v,!0)}const We=Object.assign({},g);return Object.assign(We,S?{captchaResp:fe}:{captchaResponse:fe}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function Vr(I,g,v,S){return xs.apply(this,arguments)}function xs(){return xs=(0,o.A)(function*(I,g,v,S){var Y;if(null!==(Y=I._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const fe=yield Ki(I,g,v,"getOobCode"===v);return S(I,fe)}return S(I,g).catch(function(){var fe=(0,o.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Ki(I,g,v,"getOobCode"===v);return S(I,Rt)}return Promise.reject(We)});return function(We){return fe.apply(this,arguments)}}())}),xs.apply(this,arguments)}function Ci(I,g,v){const S=tr(I);Ie(S._canInitEmulator,S,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,fe=Yo(g),{host:We,port:Rt}=function ws(I){const g=Yo(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(S);if(Y){const fe=Y[1];return{host:fe,port:Qr(S.substr(fe.length+1))}}{const[fe,We]=S.split(":");return{host:fe,port:Qr(We)}}}(g);S.config.emulator={url:`${fe}//${We}${null===Rt?"":`:${Rt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:We,port:Rt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function ls(){function I(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Yo(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Qr(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class As{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return cn("not implemented")}_getIdTokenResponse(g){return cn("not implemented")}_linkToIdToken(g,v){return cn("not implemented")}_getReauthenticationResolver(g){return cn("not implemented")}}function co(I,g){return us.apply(this,arguments)}function us(){return(us=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:resetPassword",ve(I,g))})).apply(this,arguments)}function le(){return(le=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wt(I,g){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function ot(){return(ot=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",ve(I,g))})).apply(this,arguments)}function qr(I,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithPassword",ve(I,g))})).apply(this,arguments)}function qi(I,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:sendOobCode",ve(I,g))})).apply(this,arguments)}function wn(){return(wn=(0,o.A)(function*(I,g){return qi(I,g)})).apply(this,arguments)}function pr(I,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,o.A)(function*(I,g){return qi(I,g)})).apply(this,arguments)}function rs(I,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,o.A)(function*(I,g){return qi(I,g)})).apply(this,arguments)}function Xs(){return(Xs=(0,o.A)(function*(I,g){return qi(I,g)})).apply(this,arguments)}function ss(){return(ss=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,g))})).apply(this,arguments)}function ar(){return(ar=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,g))})).apply(this,arguments)}class bs extends As{constructor(g,v,S,Y=null){super("password",S),this._email=g,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(g,v){return new bs(g,v,"password")}static _fromEmailAndCode(g,v,S=null){return new bs(g,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Vr(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qr);case"emailLink":return function gi(I,g){return ss.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:_e(g,"internal-error")}})()}_linkToIdToken(g,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Vr(g,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wt);case"emailLink":return function Ms(I,g){return ar.apply(this,arguments)}(g,{idToken:v,email:S._email,oobCode:S._password});default:_e(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ls(I,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithIdp",ve(I,g))})).apply(this,arguments)}class Te extends As{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Te(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):_e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y}=v,fe=(0,he.Tt)(v,["providerId","signInMethod"]);if(!S||!Y)return null;const We=new Te(S,Y);return We.idToken=fe.idToken||void 0,We.accessToken=fe.accessToken||void 0,We.secret=fe.secret,We.nonce=fe.nonce,We.pendingToken=fe.pendingToken||null,We}_getIdTokenResponse(g){return Ls(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,Ls(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ls(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,s.Am)(v)}return g}}function Je(){return(Je=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:sendVerificationCode",ve(I,g))})).apply(this,arguments)}function an(){return(an=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,g))})).apply(this,arguments)}function Dn(){return(Dn=(0,o.A)(function*(I,g){const v=yield Mn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,g));if(v.temporaryProof)throw Zn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const cr={USER_NOT_FOUND:"user-not-found"};function Wn(){return(Wn=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),cr)})).apply(this,arguments)}class Xn extends As{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Xn({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Xn({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function bt(I,g){return an.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Un(I,g){return Dn.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function jr(I,g){return Wn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:S,verificationCode:Y}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:S,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:S,phoneNumber:Y,temporaryProof:fe}=g;return S||v||Y||fe?new Xn({verificationId:v,verificationCode:S,phoneNumber:Y,temporaryProof:fe}):null}}class mi{constructor(g){var v,S,Y,fe,We,Rt;const Zt=(0,s.I9)((0,s.hp)(g)),Fn=null!==(v=Zt.apiKey)&&void 0!==v?v:null,Gn=null!==(S=Zt.oobCode)&&void 0!==S?S:null,ui=function gr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Zt.mode)&&void 0!==Y?Y:null);Ie(Fn&&Gn&&ui,"argument-error"),this.apiKey=Fn,this.operation=ui,this.code=Gn,this.continueUrl=null!==(fe=Zt.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(We=Zt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Rt=Zt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(g){const v=function Ii(I){const g=(0,s.I9)((0,s.hp)(I)).link,v=g?(0,s.I9)((0,s.hp)(g)).deep_link_id:null,S=(0,s.I9)((0,s.hp)(I)).deep_link_id;return(S?(0,s.I9)((0,s.hp)(S)).link:null)||S||v||g||I}(g);try{return new mi(v)}catch{return null}}}let ki=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return bs._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Y=mi.parseLink(S);return Ie(Y,"argument-error"),bs._fromEmailAndCode(v,Y.code,Y.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ri{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Br extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Wi extends Br{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Te._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Wi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Y,pendingToken:fe,nonce:We,providerId:Rt}=g;if(!S&&!Y&&!v&&!fe||!Rt)return null;try{return new Wi(Rt)._credential({idToken:v,accessToken:S,nonce:We,pendingToken:fe})}catch{return null}}}let Fi=(()=>{class I extends Br{constructor(){super("facebook.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),si=(()=>{class I extends Br{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Y}=v;if(!S&&!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Xo=(()=>{class I extends Br{constructor(){super("github.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class lo extends As{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Ls(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,Ls(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ls(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:Y,pendingToken:fe}=v;return S&&Y&&fe&&S===Y?new lo(S,fe):null}static _create(g,v){return new lo(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rs extends Ri{constructor(g){Ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Rs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Rs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=lo.fromJSON(g);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:S}=g;if(!v||!S)return null;try{return lo._create(S,v)}catch{return null}}}let go=(()=>{class I extends Br{constructor(){super("twitter.com")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Y}=v;if(!S||!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function mo(I,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signUp",ve(I,g))})).apply(this,arguments)}class Os{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,S,Y=!1){return(0,o.A)(function*(){const fe=yield ne._fromIdTokenResponse(g,S,Y),We=ps(S);return new Os({user:fe,providerId:We,_tokenResponse:S,operationType:v})})()}static _forOperation(g,v,S){return(0,o.A)(function*(){yield g._updateTokensIfNecessary(S,!0);const Y=ps(S);return new Os({user:g,providerId:Y,_tokenResponse:S,operationType:v})})()}}function ps(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Qs(I){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.A)(function*(I){var g;if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const v=tr(I);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Os({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield mo(v,{returnSecureToken:!0}),Y=yield Os._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ua extends s.g{constructor(g,v,S,Y){var fe;super(v.code,v.message),this.operationType=S,this.user=Y,Object.setPrototypeOf(this,ua.prototype),this.customData={appName:g.name,tenantId:null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,v,S,Y){return new ua(g,v,S,Y)}}function Vi(I,g,v,S){return("reauthenticate"===g?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?ua._fromErrorAndOperation(I,fe,g,S):fe})}function Cs(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function os(I,g){return z.apply(this,arguments)}function z(){return z=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);yield ce(!0,v,g);const{providerUserInfo:S}=yield function Qn(I,g){return Rn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Y=Cs(S||[]);return v.providerData=v.providerData.filter(fe=>Y.has(fe.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),z.apply(this,arguments)}function Q(I,g){return L.apply(this,arguments)}function L(){return(L=(0,o.A)(function*(I,g,v=!1){const S=yield _r(I,g._linkToIdToken(I.auth,yield I.getIdToken()),v);return Os._forOperation(I,"link",S)})).apply(this,arguments)}function ce(I,g,v){return je.apply(this,arguments)}function je(){return(je=(0,o.A)(function*(I,g,v){yield se(g);const Y=!1===I?"provider-already-linked":"no-such-provider";Ie(Cs(g.providerData).has(v)===I,g.auth,Y)})).apply(this,arguments)}function An(I,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.A)(function*(I,g,v=!1){const{auth:S}=I;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(lt(S));const Y="reauthenticate";try{const fe=yield _r(I,Vi(S,Y,g,I),v);Ie(fe.idToken,S,"internal-error");const We=Ar(fe.idToken);Ie(We,S,"internal-error");const{sub:Rt}=We;return Ie(I.uid===Rt,S,"user-mismatch"),Os._forOperation(I,Y,fe)}catch(fe){throw"auth/user-not-found"===fe?.code&&_e(S,"user-mismatch"),fe}})).apply(this,arguments)}function gs(I,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,o.A)(function*(I,g,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S="signIn",Y=yield Vi(I,S,g),fe=yield Os._fromIdTokenResponse(I,S,Y);return v||(yield I._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function ms(I,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.A)(function*(I,g){return gs(tr(I),g)})).apply(this,arguments)}function Js(I,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);return yield ce(!1,v,g.providerId),Q(v,g)})).apply(this,arguments)}function Jo(I,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.A)(function*(I,g){return An((0,s.Ku)(I),g)})).apply(this,arguments)}function da(){return(da=(0,o.A)(function*(I,g){return Mn(I,"POST","/v1/accounts:signInWithCustomToken",ve(I,g))})).apply(this,arguments)}function Qi(I,g){return nl.apply(this,arguments)}function nl(){return nl=(0,o.A)(function*(I,g){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const v=tr(I),S=yield function Is(I,g){return da.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),Y=yield Os._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Y.user),Y}),nl.apply(this,arguments)}class as{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?nn._fromServerResponse(g,v):"totpInfo"in v?Zs._fromServerResponse(g,v):_e(g,"internal-error")}}class nn extends as{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new nn(v)}}class Zs extends as{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Zs(v)}}function ha(I,g,v){var S;Ie((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function ys(I){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.A)(function*(I){const g=tr(I);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function Fo(I,g,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.A)(function*(I,g,v){const S=tr(I),Y={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&ha(S,Y,v),yield Vr(S,Y,"getOobCode",pr)})).apply(this,arguments)}function Ao(I,g,v){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,o.A)(function*(I,g,v){yield co((0,s.Ku)(I),{oobCode:g,newPassword:v}).catch(function(){var S=(0,o.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ys(I),Y});return function(Y){return S.apply(this,arguments)}}())}),Tr.apply(this,arguments)}function lr(I,g){return to.apply(this,arguments)}function to(){return to=(0,o.A)(function*(I,g){yield function tt(I,g){return ot.apply(this,arguments)}((0,s.Ku)(I),{oobCode:g})}),to.apply(this,arguments)}function Zo(I,g){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I),S=yield co(v,{oobCode:g}),Y=S.requestType;switch(Ie(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(S.mfaInfo,v,"internal-error");default:Ie(S.email,v,"internal-error")}let fe=null;return S.mfaInfo&&(fe=as._fromServerResponse(tr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:fe},operation:Y}})).apply(this,arguments)}function Ll(I,g){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.A)(function*(I,g){const{data:v}=yield Zo((0,s.Ku)(I),g);return v.email})).apply(this,arguments)}function Sh(I,g,v){return tc.apply(this,arguments)}function tc(){return(tc=(0,o.A)(function*(I,g,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=tr(I),We=yield Vr(S,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mo).catch(Zt=>{throw"auth/password-does-not-meet-requirements"===Zt.code&&ys(I),Zt}),Rt=yield Os._fromIdTokenResponse(S,"signIn",We);return yield S._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function Iu(I,g,v){return(0,ue._isFirebaseServerApp)(I.app)?Promise.reject(lt(I)):ms((0,s.Ku)(I),ki.credential(g,v)).catch(function(){var S=(0,o.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ys(I),Y});return function(Y){return S.apply(this,arguments)}}())}function wa(I,g,v){return ea.apply(this,arguments)}function ea(){return(ea=(0,o.A)(function*(I,g,v){const S=tr(I),Y={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function fe(We,Rt){Ie(Rt.handleCodeInApp,S,"argument-error"),Rt&&ha(S,We,Rt)})(Y,v),yield Vr(S,Y,"getOobCode",rs)})).apply(this,arguments)}function Ul(I,g){const v=mi.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function ja(I,g,v){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.A)(function*(I,g,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=(0,s.Ku)(I),Y=ki.credentialWithLink(g,v||sr());return Ie(Y._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ms(S,Y)})).apply(this,arguments)}function Ba(){return(Ba=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:createAuthUri",ve(I,g))})).apply(this,arguments)}function jl(I,g){return x.apply(this,arguments)}function x(){return x=(0,o.A)(function*(I,g){const S={identifier:g,continueUri:Vt()?sr():"http://localhost"},{signinMethods:Y}=yield function rc(I,g){return Ba.apply(this,arguments)}((0,s.Ku)(I),S);return Y||[]}),x.apply(this,arguments)}function te(I,g){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I),Y={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&ha(v.auth,Y,g);const{email:fe}=yield function pi(I,g){return wn.apply(this,arguments)}(v.auth,Y);fe!==I.email&&(yield I.reload())}),j.apply(this,arguments)}function q(I,g,v){return Se.apply(this,arguments)}function Se(){return Se=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};v&&ha(S.auth,fe,v);const{email:We}=yield function zi(I,g){return Xs.apply(this,arguments)}(S.auth,fe);We!==I.email&&(yield I.reload())}),Se.apply(this,arguments)}function $t(){return($t=(0,o.A)(function*(I,g){return Ve(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jn(I,g){return ai.apply(this,arguments)}function ai(){return ai=(0,o.A)(function*(I,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const S=(0,s.Ku)(I),fe={idToken:yield S.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},We=yield _r(S,function xt(I,g){return $t.apply(this,arguments)}(S.auth,fe));S.displayName=We.displayName||null,S.photoURL=We.photoUrl||null;const Rt=S.providerData.find(({providerId:Zt})=>"password"===Zt);Rt&&(Rt.displayName=S.displayName,Rt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(We)}),ai.apply(this,arguments)}function Ai(I,g){const v=(0,s.Ku)(I);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(lt(v.auth)):Mr(v,g,null)}function _i(I,g){return Mr((0,s.Ku)(I),null,g)}function Mr(I,g,v){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,o.A)(function*(I,g,v){const{auth:S}=I,fe={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(fe.email=g),v&&(fe.password=v);const We=yield _r(I,function Lr(I,g){return le.apply(this,arguments)}(S,fe));yield I._updateTokensIfNecessary(We,!0)}),Ti.apply(this,arguments)}class Pi{constructor(g,v,S={}){this.isNewUser=g,this.providerId=v,this.profile=S}}class yo extends Pi{constructor(g,v,S,Y){super(g,v,S),this.username=Y}}class js extends Pi{constructor(g,v){super(g,"facebook.com",v)}}class Bs extends yo{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ns extends Pi{constructor(g,v){super(g,"google.com",v)}}class ta extends yo{constructor(g,v,S){super(g,"twitter.com",v,S)}}function Ts(I){const{user:g,_tokenResponse:v}=I;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Li(I){var g,v;if(!I)return null;const{providerId:S}=I,Y=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},fe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const We=null===(v=null===(g=Ar(I.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(We)return new Pi(fe,"anonymous"!==We&&"custom"!==We?We:null)}if(!S)return null;switch(S){case"facebook.com":return new js(fe,Y);case"github.com":return new Bs(fe,Y);case"google.com":return new Ns(fe,Y);case"twitter.com":return new ta(fe,Y,I.screenName||null);case"custom":case"anonymous":return new Pi(fe,null);default:return new Pi(fe,S,Y)}}(v)}class Ds{constructor(g,v,S){this.type=g,this.credential=v,this.user=S}static _fromIdtoken(g,v){return new Ds("enroll",g,v)}static _fromMfaPendingCredential(g){return new Ds("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,S;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ds._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return Ds._fromIdtoken(g.multiFactorSession.idToken)}return null}}class na{constructor(g,v,S){this.session=g,this.hints=v,this.signInResolver=S}static _fromError(g,v){const S=tr(g),Y=v.customData._serverResponse,fe=(Y.mfaInfo||[]).map(Rt=>as._fromServerResponse(S,Rt));Ie(Y.mfaPendingCredential,S,"internal-error");const We=Ds._fromMfaPendingCredential(Y.mfaPendingCredential);return new na(We,fe,function(){var Rt=(0,o.A)(function*(Zt){const Fn=yield Zt._process(S,We);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Gn=Object.assign(Object.assign({},Y),{idToken:Fn.idToken,refreshToken:Fn.refreshToken});switch(v.operationType){case"signIn":const ui=yield Os._fromIdTokenResponse(S,v.operationType,Gn);return yield S._updateCurrentUser(ui.user),ui;case"reauthenticate":return Ie(v.user,S,"internal-error"),Os._forOperation(v.user,v.operationType,Gn);default:_e(S,"internal-error")}});return function(Zt){return Rt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,o.A)(function*(){return v.signInResolver(g)})()}}function al(I,g){var v;const S=(0,s.Ku)(I),Y=g;return Ie(g.customData.operationType,S,"argument-error"),Ie(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),na._fromError(S,Y)}class cl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>as._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new cl(g)}getSession(){var g=this;return(0,o.A)(function*(){return Ds._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var S=this;return(0,o.A)(function*(){const Y=g,fe=yield S.getSession(),We=yield _r(S.user,Y._process(S.user.auth,fe,v));return yield S.user._updateTokensIfNecessary(We),S.user.reload()})()}unenroll(g){var v=this;return(0,o.A)(function*(){const S="string"==typeof g?g:g.uid,Y=yield v.user.getIdToken();try{const fe=yield _r(v.user,function vr(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(I,g))}(v.user.auth,{idToken:Y,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:We})=>We!==S),yield v.user._updateTokensIfNecessary(fe),yield v.user.reload()}catch(fe){throw fe}})()}}const Au=new WeakMap;function Da(I){const g=(0,s.Ku)(I);return Au.has(g)||Au.set(g,cl._fromUser(g)),Au.get(g)}const Bl="__sak";class xh{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Bl,"1"),this.storage.removeItem(Bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Su=(()=>{class I extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qe(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Y=this.storage.getItem(S),fe=this.localCache[S];Y!==fe&&v(S,fe,Y)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Rt,Zt,Fn)=>{this.notifyListeners(Rt,Fn)});const Y=v.key;S?this.detachListener():this.stopPolling();const fe=()=>{const Rt=this.storage.getItem(Y);!S&&this.localCache[Y]===Rt||this.notifyListeners(Y,Rt)},We=this.storage.getItem(Y);!function vt(){return(0,s.lT)()&&10===document.documentMode}()||We===v.newValue||v.newValue===v.oldValue?fe():setTimeout(fe,10)}notifyListeners(v,S){this.localCache[v]=S;const Y=this.listeners[v];if(Y)for(const fe of Array.from(Y))fe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Y=()=>super._set,fe=this;return(0,o.A)(function*(){yield Y().call(fe,v,S),fe.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Y=this;return(0,o.A)(function*(){const fe=yield S().call(Y,v);return Y.localCache[v]=JSON.stringify(fe),fe})()}_remove(v){var S=()=>super._remove,Y=this;return(0,o.A)(function*(){yield S().call(Y,v),delete Y.localCache[v]})()}}return I.type="LOCAL",I})(),ll=(()=>{class I extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Qt=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(fe=>fe.isListeningto(v));if(S)return S;const Y=new I(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const Y=v,{eventId:fe,eventType:We,data:Rt}=Y.data,Zt=S.handlersMap[We];if(!Zt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:fe,eventType:We});const Fn=Array.from(Zt).map(function(){var ui=(0,o.A)(function*($o){return $o(Y.origin,Rt)});return function($o){return ui.apply(this,arguments)}}()),Gn=yield function pd(I){return Promise.all(I.map(function(){var g=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return g.apply(this,arguments)}}()))}(Fn);Y.ports[0].postMessage({status:"done",eventId:fe,eventType:We,response:Gn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function $r(I="",g=10){let v="";for(let S=0;S<g;S++)v+=Math.floor(10*Math.random());return I+v}class ra{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,S=50){var Y=this;return(0,o.A)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let We,Rt;return new Promise((Zt,Fn)=>{const Gn=$r("",20);fe.port1.start();const ui=setTimeout(()=>{Fn(new Error("unsupported_event"))},S);Rt={messageChannel:fe,onMessage($o){const Ca=$o;if(Ca.data.eventId===Gn)switch(Ca.data.status){case"ack":clearTimeout(ui),We=setTimeout(()=>{Fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Zt(Ca.data.response);break;default:clearTimeout(ui),clearTimeout(We),Fn(new Error("invalid_response"))}}},Y.handlers.add(Rt),fe.port1.addEventListener("message",Rt.onMessage),Y.target.postMessage({eventType:g,eventId:Gn,data:v},[fe.port2])}).finally(()=>{Rt&&Y.removeMessageHandler(Rt)})})()}}function vs(){return window}function ul(){return typeof vs().WorkerGlobalScope<"u"&&"function"==typeof vs().importScripts}function vo(){return(vo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gd="firebaseLocalStorageDb",ic="firebaseLocalStorage",no="fbase_key";class Eo{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function $a(I,g){return I.transaction([ic],g?"readwrite":"readonly").objectStore(ic)}function Do(){const I=indexedDB.open(gd,1);return new Promise((g,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(ic,{keyPath:no})}catch(Y){v(Y)}}),I.addEventListener("success",(0,o.A)(function*(){const S=I.result;S.objectStoreNames.contains(ic)?g(S):(S.close(),yield function Sa(){const I=indexedDB.deleteDatabase(gd);return new Eo(I).toPromise()}(),g(yield Do()))}))})}function md(I,g,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.A)(function*(I,g,v){const S=$a(I,!0).put({[no]:g,value:v});return new Eo(S).toPromise()})).apply(this,arguments)}function Rh(){return(Rh=(0,o.A)(function*(I,g){const v=$a(I,!1).get(g),S=yield new Eo(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Pa(I,g){const v=$a(I,!0).delete(g);return new Eo(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield Do()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let Y=0;for(;;)try{const fe=yield S._openDb();return yield v(fe)}catch(fe){if(Y++>3)throw fe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return ul()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Qt._getInstance(function Cc(){return ul()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(Y,fe){return{keyProcessed:(yield v._poll()).includes(fe.key)}});return function(Y,fe){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(Y,fe){return["keyChanged"]});return function(Y,fe){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,Y;if(v.activeServiceWorker=yield function bc(){return vo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ra(v.activeServiceWorker);const fe=yield v.sender._send("ping",{},800);fe&&null!==(S=fe[0])&&void 0!==S&&S.fulfilled&&null!==(Y=fe[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function ga(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield Do();return yield md(v,Bl,"1"),yield Pa(v,Bl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Y=this;return(0,o.A)(function*(){return Y._withPendingWrite((0,o.A)(function*(){return yield Y._withRetries(fe=>md(fe,v,S)),Y.localCache[v]=S,Y.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const Y=yield S._withRetries(fe=>function Mh(I,g){return Rh.apply(this,arguments)}(fe,v));return S.localCache[v]=Y,Y})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(Y=>Pa(Y,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(We=>{const Rt=$a(We,!1).getAll();return new Eo(Rt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Y=[],fe=new Set;if(0!==S.length)for(const{fbase_key:We,value:Rt}of S)fe.add(We),JSON.stringify(v.localCache[We])!==JSON.stringify(Rt)&&(v.notifyListeners(We,Rt),Y.push(We));for(const We of Object.keys(v.localCache))v.localCache[We]&&!fe.has(We)&&(v.notifyListeners(We,null),Y.push(We));return Y})()}notifyListeners(v,S){this.localCache[v]=S;const Y=this.listeners[v];if(Y)for(const fe of Array.from(Y))fe(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),At=1e12;class _t{constructor(g){this.auth=g,this.counter=At,this._widgets=new Map}render(g,v){const S=this.counter;return this._widgets.set(S,new Pn(g,this.auth.name,v||{})),this.counter++,S}reset(g){var v;const S=g||At;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(g){var v;return(null===(v=this._widgets.get(g||At))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(g||At))||void 0===S||S.execute(),""})()}}class Pn{constructor(g,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;Ie(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sr(I){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Er=li("rcb"),Yr=new Fe(3e4,6e4);class Di{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=vs().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ie(function sc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&$n(vs().grecaptcha)?Promise.resolve(vs().grecaptcha):new Promise((S,Y)=>{const fe=vs().setTimeout(()=>{Y(it(g,"network-request-failed"))},Yr.get());vs()[Er]=()=>{vs().clearTimeout(fe),delete vs()[Er];const Rt=vs().grecaptcha;if(!Rt||!$n(Rt))return void Y(it(g,"internal-error"));const Zt=Rt.render;Rt.render=(Fn,Gn)=>{const ui=Zt(Fn,Gn);return this.counter++,ui},this.hostLanguage=v,S(Rt)},qs(`${function Ys(){return ns.recaptchaV2Script}()}?${(0,s.Am)({onload:Er,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(fe),Y(it(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=vs().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tc{load(g){return(0,o.A)(function*(){return new _t(g)})()}clearedOneInstance(){}}const dl="recaptcha",Lo={theme:"light",type:"image"};class Pu{constructor(g,v,S=Object.assign({},Lo)){this.parameters=S,this.type=dl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(g),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;Ie(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tc:new Di,this.validateStartingState()}verify(){var g=this;return(0,o.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(v)||new Promise(fe=>{const We=Rt=>{Rt&&(g.tokenChangeListeners.delete(We),fe(Rt))};g.tokenChangeListeners.add(We),g.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof g)g(v);else if("string"==typeof g){const S=vs()[g];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.A)(function*(){Ie(Vt()&&!ul(),g.auth,"internal-error"),yield function Hl(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function mr(I){return _n.apply(this,arguments)}(g.auth);Ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oc{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Xn._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function ma(I,g,v){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,o.A)(function*(I,g,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=tr(I),Y=yield Ru(S,g,(0,s.Ku)(v));return new oc(Y,fe=>ms(S,fe))})).apply(this,arguments)}function Ga(I,g,v){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);yield ce(!1,S,"phone");const Y=yield Ru(S.auth,g,(0,s.Ku)(v));return new oc(Y,fe=>Js(S,fe))})).apply(this,arguments)}function xu(I,g,v){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(lt(S.auth));const Y=yield Ru(S.auth,g,(0,s.Ku)(v));return new oc(Y,fe=>Jo(S,fe))})).apply(this,arguments)}function Ru(I,g,v){return _d.apply(this,arguments)}function _d(){return _d=(0,o.A)(function*(I,g,v){var S;const Y=yield v.verify();try{let fe;if(Ie("string"==typeof Y,I,"argument-error"),Ie(v.type===dl,I,"argument-error"),fe="string"==typeof g?{phoneNumber:g}:g,"session"in fe){const We=fe.session;if("phoneNumber"in fe)return Ie("enroll"===We.type,I,"internal-error"),(yield function ud(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",ve(I,g))}(I,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Ie("signin"===We.type,I,"internal-error");const Rt=(null===(S=fe.multiFactorHint)||void 0===S?void 0:S.uid)||fe.multiFactorUid;return Ie(Rt,I,"missing-multi-factor-info"),(yield function T(I,g){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",ve(I,g))}(I,{mfaPendingCredential:We.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function Oe(I,g){return Je.apply(this,arguments)}(I,{phoneNumber:fe.phoneNumber,recaptchaToken:Y});return We}}finally{v._reset()}}),_d.apply(this,arguments)}function Ou(I,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.A)(function*(I,g){const v=(0,s.Ku)(I);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(lt(v.auth));yield Q(v,g)})).apply(this,arguments)}let _a=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=tr(v)}verifyPhoneNumber(v,S){return Ru(this.auth,v,(0,s.Ku)(S))}static credential(v,S){return Xn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Y}=v;return S&&Y?Xn._fromTokenResponse(S,Y):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function wc(I,g){return g?ct(g):(Ie(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ya extends As{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ls(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Ls(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Ls(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Nu(I){return gs(I.auth,new ya(I),I.bypassAuthState)}function Fm(I){const{auth:g,user:v}=I;return Ie(v,g,"internal-error"),An(v,new ya(I),I.bypassAuthState)}function yd(I){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.A)(function*(I){const{auth:g,user:v}=I;return Ie(v,g,"internal-error"),Q(v,new ya(I),I.bypassAuthState)})).apply(this,arguments)}class Kf{constructor(g,v,S,Y,fe=!1){this.auth=g,this.resolver=S,this.user=Y,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,o.A)(function*(S,Y){g.pendingPromise={resolve:S,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(fe){g.reject(fe)}});return function(S,Y){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:Y,postBody:fe,tenantId:We,error:Rt,type:Zt}=g;if(Rt)return void v.reject(Rt);const Fn={auth:v.auth,requestUri:S,sessionId:Y,tenantId:We||void 0,postBody:fe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Zt)(Fn))}catch(Gn){v.reject(Gn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Nu;case"linkViaPopup":case"linkViaRedirect":return yd;case"reauthViaPopup":case"reauthViaRedirect":return Fm;default:_e(this.auth,"internal-error")}}resolve(g){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qf=new Fe(2e3,1e4);function Wl(I,g,v){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,o.A)(function*(I,g,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I,"operation-not-supported-in-this-environment"));const S=tr(I);Ot(I,g,Ri);const Y=wc(S,v);return new Yf(S,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function Nh(I,g,v){return za.apply(this,arguments)}function za(){return(za=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth,"operation-not-supported-in-this-environment"));Ot(S.auth,g,Ri);const Y=wc(S.auth,v);return new Yf(S.auth,"reauthViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}function ku(I,g,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);Ot(S.auth,g,Ri);const Y=wc(S.auth,v);return new Yf(S.auth,"linkViaPopup",g,Y,S).executeNotNull()})).apply(this,arguments)}let Yf=(()=>{class I extends Kf{constructor(v,S,Y,fe,We){super(v,S,fe,We),this.provider=Y,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ie(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){In(1===v.filter.length,"Popup operations only handle one event");const S=$r();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(it(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Y;this.pollId=null!==(Y=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,qf.get())};v()}}return I.currentPopupAction=null,I})();const kh="pendingRedirect",va=new Map;class Fu extends Kf{constructor(g,v,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,o.A)(function*(){let S=va.get(v.auth._key());if(!S){try{const fe=(yield function So(I,g){return Vu.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;S=()=>Promise.resolve(fe)}catch(Y){S=()=>Promise.reject(Y)}va.set(v.auth._key(),S)}return v.bypassAuthState||va.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===g.type)return v().call(S,g);if("unknown"!==g.type){if(g.eventId){const Y=yield S.auth._redirectUserForId(g.eventId);if(Y)return S.user=Y,v().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Vu(){return(Vu=(0,o.A)(function*(I,g){const v=Fh(g),S=lc(I);if(!(yield S._isAvailable()))return!1;const Y="true"===(yield S._get(v));return yield S._remove(v),Y})).apply(this,arguments)}function Dc(I,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,o.A)(function*(I,g){return lc(I)._set(Fh(g),"true")})).apply(this,arguments)}function Kl(){va.clear()}function cc(I,g){va.set(I._key(),g)}function lc(I){return ct(I._redirectPersistence)}function Fh(I){return un(kh,I.config.apiKey,I.name)}function Sc(I,g,v){return function ro(I,g,v){return Lu.apply(this,arguments)}(I,g,v)}function Lu(){return(Lu=(0,o.A)(function*(I,g,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=tr(I);Ot(I,g,Ri),yield S._initializationPromise;const Y=wc(S,v);return yield Dc(Y,S),Y._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Pc(I,g,v){return function yg(I,g,v){return xa.apply(this,arguments)}(I,g,v)}function xa(){return(xa=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);if(Ot(S.auth,g,Ri),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(lt(S.auth));yield S.auth._initializationPromise;const Y=wc(S.auth,v);yield Dc(Y,S.auth);const fe=yield Qf(S);return Y._openRedirect(S.auth,g,"reauthViaRedirect",fe)})).apply(this,arguments)}function uc(I,g,v){return function dc(I,g,v){return Uu.apply(this,arguments)}(I,g,v)}function Uu(){return(Uu=(0,o.A)(function*(I,g,v){const S=(0,s.Ku)(I);Ot(S.auth,g,Ri),yield S.auth._initializationPromise;const Y=wc(S.auth,v);yield ce(!1,S,g.providerId),yield Dc(Y,S.auth);const fe=yield Qf(S);return Y._openRedirect(S.auth,g,"linkViaRedirect",fe)})).apply(this,arguments)}function Xf(I,g){return xc.apply(this,arguments)}function xc(){return(xc=(0,o.A)(function*(I,g){return yield tr(I)._initializationPromise,Vh(I,g,!1)})).apply(this,arguments)}function Vh(I,g){return io.apply(this,arguments)}function io(){return(io=(0,o.A)(function*(I,g,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(lt(I));const S=tr(I),Y=wc(S,g),We=yield new Fu(S,Y,v).execute();return We&&!v&&(delete We.user._redirectEventId,yield S._persistUserIfCurrent(We.user),yield S._setRedirectUser(null,g)),We})).apply(this,arguments)}function Qf(I){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,o.A)(function*(I){const g=$r(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Lh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(v=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function hl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ed(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var S;if(g.error&&!Ed(g)){const Y=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(it(this.auth,Y))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const S=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ql(g))}saveEventToCache(g){this.cachedEventUids.add(ql(g)),this.lastProcessedEventTime=Date.now()}}function ql(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Ed({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function sa(I){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.A)(function*(I,g={}){return Ve(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bd=/^https?/;function jh(){return(jh=(0,o.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield sa(I);for(const v of g)try{if(Vm(v))return}catch{}_e(I,"unauthorized-domain")})).apply(this,arguments)}function Vm(I){const g=sr(),{protocol:v,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const We=new URL(I);return""===We.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&We.hostname===S}if(!bd.test(v))return!1;if(Uh.test(I))return S===I;const Y=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(S)}const Rc=new Fe(3e4,6e4);function Jf(){const I=vs().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let ks=null;const Eg=new Fe(5e3,15e3),fl="__/auth/iframe",bg="emulator/auth/iframe",Cd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Id(I){const g=I.config;Ie(g.authDomain,I,"auth-domain-config-required");const v=g.emulator?rt(g,bg):`https://${I.config.authDomain}/${fl}`,S={apiKey:g.apiKey,appName:I.name,v:ue.SDK_VERSION},Y=Hs.get(I.config.apiHost);Y&&(S.eid=Y);const fe=I._getFrameworks();return fe.length&&(S.fw=fe.join(",")),`${v}?${(0,s.Am)(S).slice(1)}`}function Td(){return Td=(0,o.A)(function*(I){const g=yield function vg(I){return ks=ks||function Zf(I){return new Promise((g,v)=>{var S,Y,fe;function We(){Jf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Jf(),v(it(I,"network-request-failed"))},timeout:Rc.get()})}if(null!==(Y=null===(S=vs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Y&&Y.Iframe)g(gapi.iframes.getContext());else{if(null===(fe=vs().gapi)||void 0===fe||!fe.load){const Rt=li("iframefcb");return vs()[Rt]=()=>{gapi.load?We():v(it(I,"network-request-failed"))},qs(`${function wo(){return ns.gapiScript}()}?onload=${Rt}`).catch(Zt=>v(Zt))}We()}}).catch(g=>{throw ks=null,g})}(I),ks}(I),v=vs().gapi;return Ie(v,I,"internal-error"),g.open({where:document.body,url:Id(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cd,dontclear:!0},S=>new Promise(function(){var Y=(0,o.A)(function*(fe,We){yield S.restyle({setHideOnLeave:!1});const Rt=it(I,"network-request-failed"),Zt=vs().setTimeout(()=>{We(Rt)},Eg.get());function Fn(){vs().clearTimeout(Zt),fe(S)}S.ping(Fn).then(Fn,()=>{We(Rt)})});return function(fe,We){return Y.apply(this,arguments)}}()))}),Td.apply(this,arguments)}const jo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ad{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lm="__/auth/handler",Bo="emulator/auth/handler",Dd=encodeURIComponent("fac");function hc(I,g,v,S,Y,fe){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.A)(function*(I,g,v,S,Y,fe){Ie(I.config.authDomain,I,"auth-domain-config-required"),Ie(I.config.apiKey,I,"invalid-api-key");const We={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:Y};if(g instanceof Ri){g.setDefaultLanguage(I.languageCode),We.providerId=g.providerId||"",(0,s.Im)(g.getCustomParameters())||(We.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Gn,ui]of Object.entries(fe||{}))We[Gn]=ui}if(g instanceof Br){const Gn=g.getScopes().filter(ui=>""!==ui);Gn.length>0&&(We.scopes=Gn.join(","))}I.tenantId&&(We.tid=I.tenantId);const Rt=We;for(const Gn of Object.keys(Rt))void 0===Rt[Gn]&&delete Rt[Gn];const Zt=yield I._getAppCheckToken(),Fn=Zt?`#${Dd}=${encodeURIComponent(Zt)}`:"";return`${function tp({config:I}){return I.emulator?rt(I,Bo):`https://${I.authDomain}/${Lm}`}(I)}?${(0,s.Am)(Rt).slice(1)}${Fn}`})).apply(this,arguments)}const Pd="webStorageSupport",Bh=class Cg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ll,this._completeRedirectFn=Vh,this._overrideRedirectResult=cc}_openPopup(g,v,S,Y){var fe=this;return(0,o.A)(function*(){var We;In(null===(We=fe.eventManagers[g._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Rt=yield hc(g,v,S,sr(),Y);return function ep(I,g,v,S=500,Y=600){const fe=Math.max((window.screen.availHeight-Y)/2,0).toString(),We=Math.max((window.screen.availWidth-S)/2,0).toString();let Rt="";const Zt=Object.assign(Object.assign({},jo),{width:S.toString(),height:Y.toString(),top:fe,left:We}),Fn=(0,s.ZQ)().toLowerCase();v&&(Rt=Be(Fn)?"_blank":v),Re(Fn)&&(g=g||"http://localhost",Zt.scrollbars="yes");const Gn=Object.entries(Zt).reduce(($o,[Ca,gl])=>`${$o}${Ca}=${gl},`,"");if(function ri(I=(0,s.ZQ)()){var g;return or(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Fn)&&"_self"!==Rt)return function Vc(I,g){const v=document.createElement("a");v.href=I,v.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(g||"",Rt),new Ad(null);const ui=window.open(g||"",Rt,Gn);Ie(ui,I,"popup-blocked");try{ui.focus()}catch{}return new Ad(ui)}(g,Rt,$r())})()}_openRedirect(g,v,S,Y){var fe=this;return(0,o.A)(function*(){return yield fe._originValidation(g),function $s(I){vs().location.href=I}(yield hc(g,v,S,sr(),Y)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Y,promise:fe}=this.eventManagers[v];return Y?Promise.resolve(Y):(In(fe,"If manager is not set, promise should be"),fe)}const S=this.initAndGetManager(g);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(g){var v=this;return(0,o.A)(function*(){const S=yield function Oc(I){return Td.apply(this,arguments)}(g),Y=new Lh(g);return S.register("authEvent",fe=>(Ie(fe?.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Y},v.iframes[g._key()]=S,Y})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Pd,{type:Pd},Y=>{var fe;const We=null===(fe=Y?.[0])||void 0===fe?void 0:fe[Pd];void 0!==We&&v(!!We),_e(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ba(I){return jh.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return qe()||Me()||or()}};class np{constructor(g){this.factorId=g}_process(g,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,S);case"signin":return this._finalizeSignIn(g,v.credential);default:return cn("unexpected MultiFactorSessionType")}}}class Lc extends np{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Lc(g)}_finalizeEnroll(g,v,S){return function dd(I,g){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",ve(I,g))}(g,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function N(I,g){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",ve(I,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yl=(()=>{class I{constructor(){}static assertion(v){return Lc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Hh="@firebase/auth";class Md{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(S=>{g(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,s.XA)("authIdTokenMaxAge"),function ji(I){ns=I}({loadJS:I=>new Promise((g,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=Y=>{const fe=it("internal-error");fe.customData=Y,v(fe)},S.type="text/javascript",S.charset="UTF-8",function Uc(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pl(I){(0,ue._registerComponent)(new we.uA("auth",(g,{options:v})=>{const S=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),fe=g.getProvider("app-check-internal"),{apiKey:We,authDomain:Rt}=S.options;Ie(We&&!We.includes(":"),"invalid-api-key",{appName:S.name});const Zt={apiKey:We,authDomain:Rt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dt(I)},Fn=new Fr(S,Y,fe,Zt);return function la(I,g){const v=g?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ct);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,g?.popupRedirectResolver)}(Fn,v),Fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,S)=>{g.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new we.uA("auth-internal",g=>{const v=tr(g.getProvider("auth").getImmediate());return new Md(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Hh,"1.7.9",function Ql(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ue.registerVersion)(Hh,"1.7.9","esm2017")}("Browser")},9583:(mn,Ze,V)=>{V.d(Ze,{fS:()=>am,Ix:()=>Yu,H6:()=>Jg,T1:()=>Gs,Wq:()=>lu,uY:()=>nh,W6:()=>rt,Ci:()=>Zg,YQ:()=>mc,NJ:()=>Al,Dc:()=>Wt,GA:()=>Wp,cm:()=>le,K$:()=>Bt,FA:()=>ir,lo:()=>Si,bI:()=>Jt,qG:()=>la,qi:()=>In,c8:()=>u_,gS:()=>Xv,C3:()=>Yy,hq:()=>s0,me:()=>Nv,rJ:()=>Iy,Cs:()=>Ty,vN:()=>Rv,kd:()=>Yv,CL:()=>n0,LA:()=>kv,H9:()=>qu,ol:()=>Ay,Q5:()=>uf,Os:()=>Sy,FD:()=>w_,rf:()=>$0,Ws:()=>Ps,z6:()=>ch,x7:()=>Kv,nY:()=>Sl,_e:()=>Uy,GG:()=>qv,kU:()=>H0,Rr:()=>Po,aU:()=>p_,GV:()=>z0,AB:()=>jv,$1:()=>Bv,po:()=>__,St:()=>j0,aQ:()=>P_,FC:()=>By,My:()=>Uv,P:()=>Ry,B:()=>Op,yx:()=>Ov,c4:()=>t0,O5:()=>r0,BN:()=>jy,He:()=>Ut,lN:()=>Wv,HM:()=>Ny,EO:()=>Oy,mZ:()=>S_,iB:()=>m_,_M:()=>Lv});var Le,Ue,o=V(467),ue=V(7852),s=V(1362),Ee=V(8041),he=V(1076),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={};(function(){var u;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ut,ke,Ke){Ke||(Ke=0);var ht=Array(16);if("string"==typeof ke)for(var mt=0;16>mt;++mt)ht[mt]=ke.charCodeAt(Ke++)|ke.charCodeAt(Ke++)<<8|ke.charCodeAt(Ke++)<<16|ke.charCodeAt(Ke++)<<24;else for(mt=0;16>mt;++mt)ht[mt]=ke[Ke++]|ke[Ke++]<<8|ke[Ke++]<<16|ke[Ke++]<<24;var St=ut.g[3],ze=(ke=ut.g[0])+(St^(Ke=ut.g[1])&((mt=ut.g[2])^St))+ht[0]+3614090360&4294967295;ze=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=(Ke=(mt=(St=(ke=Ke+(ze<<7&4294967295|ze>>>25))+((ze=St+(mt^ke&(Ke^mt))+ht[1]+3905402710&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(Ke^St&(ke^Ke))+ht[2]+606105819&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^mt&(St^ke))+ht[3]+3250441966&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(St^Ke&(mt^St))+ht[4]+4118548399&4294967295)<<7&4294967295|ze>>>25))+((ze=St+(mt^ke&(Ke^mt))+ht[5]+1200080426&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(Ke^St&(ke^Ke))+ht[6]+2821735955&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^mt&(St^ke))+ht[7]+4249261313&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(St^Ke&(mt^St))+ht[8]+1770035416&4294967295)<<7&4294967295|ze>>>25))+((ze=St+(mt^ke&(Ke^mt))+ht[9]+2336552879&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(Ke^St&(ke^Ke))+ht[10]+4294925233&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^mt&(St^ke))+ht[11]+2304563134&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(St^Ke&(mt^St))+ht[12]+1804603682&4294967295)<<7&4294967295|ze>>>25))+((ze=St+(mt^ke&(Ke^mt))+ht[13]+4254626195&4294967295)<<12&4294967295|ze>>>20))+((ze=mt+(Ke^St&(ke^Ke))+ht[14]+2792965006&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(ke^mt&(St^ke))+ht[15]+1236535329&4294967295)<<22&4294967295|ze>>>10))+((ze=ke+(mt^St&(Ke^mt))+ht[1]+4129170786&4294967295)<<5&4294967295|ze>>>27))+((ze=St+(Ke^mt&(ke^Ke))+ht[6]+3225465664&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^Ke&(St^ke))+ht[11]+643717713&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(St^ke&(mt^St))+ht[0]+3921069994&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^St&(Ke^mt))+ht[5]+3593408605&4294967295)<<5&4294967295|ze>>>27))+((ze=St+(Ke^mt&(ke^Ke))+ht[10]+38016083&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^Ke&(St^ke))+ht[15]+3634488961&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(St^ke&(mt^St))+ht[4]+3889429448&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^St&(Ke^mt))+ht[9]+568446438&4294967295)<<5&4294967295|ze>>>27))+((ze=St+(Ke^mt&(ke^Ke))+ht[14]+3275163606&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^Ke&(St^ke))+ht[3]+4107603335&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(St^ke&(mt^St))+ht[8]+1163531501&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(mt^St&(Ke^mt))+ht[13]+2850285829&4294967295)<<5&4294967295|ze>>>27))+((ze=St+(Ke^mt&(ke^Ke))+ht[2]+4243563512&4294967295)<<9&4294967295|ze>>>23))+((ze=mt+(ke^Ke&(St^ke))+ht[7]+1735328473&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(St^ke&(mt^St))+ht[12]+2368359562&4294967295)<<20&4294967295|ze>>>12))+((ze=ke+(Ke^mt^St)+ht[5]+4294588738&4294967295)<<4&4294967295|ze>>>28))+((ze=St+(ke^Ke^mt)+ht[8]+2272392833&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(St^ke^Ke)+ht[11]+1839030562&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(mt^St^ke)+ht[14]+4259657740&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^mt^St)+ht[1]+2763975236&4294967295)<<4&4294967295|ze>>>28))+((ze=St+(ke^Ke^mt)+ht[4]+1272893353&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(St^ke^Ke)+ht[7]+4139469664&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(mt^St^ke)+ht[10]+3200236656&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^mt^St)+ht[13]+681279174&4294967295)<<4&4294967295|ze>>>28))+((ze=St+(ke^Ke^mt)+ht[0]+3936430074&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(St^ke^Ke)+ht[3]+3572445317&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(mt^St^ke)+ht[6]+76029189&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(Ke^mt^St)+ht[9]+3654602809&4294967295)<<4&4294967295|ze>>>28))+((ze=St+(ke^Ke^mt)+ht[12]+3873151461&4294967295)<<11&4294967295|ze>>>21))+((ze=mt+(St^ke^Ke)+ht[15]+530742520&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(mt^St^ke)+ht[2]+3299628645&4294967295)<<23&4294967295|ze>>>9))+((ze=ke+(mt^(Ke|~St))+ht[0]+4096336452&4294967295)<<6&4294967295|ze>>>26))+((ze=St+(Ke^(ke|~mt))+ht[7]+1126891415&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(St|~Ke))+ht[14]+2878612391&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(St^(mt|~ke))+ht[5]+4237533241&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(mt^(Ke|~St))+ht[12]+1700485571&4294967295)<<6&4294967295|ze>>>26))+((ze=St+(Ke^(ke|~mt))+ht[3]+2399980690&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(St|~Ke))+ht[10]+4293915773&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(St^(mt|~ke))+ht[1]+2240044497&4294967295)<<21&4294967295|ze>>>11))+((ze=ke+(mt^(Ke|~St))+ht[8]+1873313359&4294967295)<<6&4294967295|ze>>>26))+((ze=St+(Ke^(ke|~mt))+ht[15]+4264355552&4294967295)<<10&4294967295|ze>>>22))+((ze=mt+(ke^(St|~Ke))+ht[6]+2734768916&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(St^(mt|~ke))+ht[13]+1309151649&4294967295)<<21&4294967295|ze>>>11))+((St=(ke=Ke+((ze=ke+(mt^(Ke|~St))+ht[4]+4149444226&4294967295)<<6&4294967295|ze>>>26))+((ze=St+(Ke^(ke|~mt))+ht[11]+3174756917&4294967295)<<10&4294967295|ze>>>22))^((mt=St+((ze=mt+(ke^(St|~Ke))+ht[2]+718787259&4294967295)<<15&4294967295|ze>>>17))|~ke))+ht[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+ke&4294967295,ut.g[1]=ut.g[1]+(mt+(ze<<21&4294967295|ze>>>11))&4294967295,ut.g[2]=ut.g[2]+mt&4294967295,ut.g[3]=ut.g[3]+St&4294967295}function b(ut,ke){this.h=ke;for(var Ke=[],ht=!0,mt=ut.length-1;0<=mt;mt--){var St=0|ut[mt];ht&&St==ke||(Ke[mt]=St,ht=!1)}this.g=Ke}(function e(ut,ke){function Ke(){}Ke.prototype=ke.prototype,ut.D=ke.prototype,ut.prototype=new Ke,ut.prototype.constructor=ut,ut.C=function(ht,mt,St){for(var ze=Array(arguments.length-2),xl=2;xl<arguments.length;xl++)ze[xl-2]=arguments[xl];return ke.prototype[mt].apply(ht,ze)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(ut,ke){void 0===ke&&(ke=ut.length);for(var Ke=ke-this.blockSize,ht=this.B,mt=this.h,St=0;St<ke;){if(0==mt)for(;St<=Ke;)h(this,ut,St),St+=this.blockSize;if("string"==typeof ut){for(;St<ke;)if(ht[mt++]=ut.charCodeAt(St++),mt==this.blockSize){h(this,ht),mt=0;break}}else for(;St<ke;)if(ht[mt++]=ut[St++],mt==this.blockSize){h(this,ht),mt=0;break}}this.h=mt,this.o+=ke},a.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var ke=1;ke<ut.length-8;++ke)ut[ke]=0;var Ke=8*this.o;for(ke=ut.length-8;ke<ut.length;++ke)ut[ke]=255&Ke,Ke/=256;for(this.u(ut),ut=Array(16),ke=Ke=0;4>ke;++ke)for(var ht=0;32>ht;ht+=8)ut[Ke++]=this.g[ke]>>>ht&255;return ut};var P={};function F(ut){return-128<=ut&&128>ut?function m(ut,ke){var Ke=P;return Object.prototype.hasOwnProperty.call(Ke,ut)?Ke[ut]:Ke[ut]=ke(ut)}(ut,function(ke){return new b([0|ke],0>ke?-1:0)}):new b([0|ut],0>ut?-1:0)}function W(ut){if(isNaN(ut)||!isFinite(ut))return ye;if(0>ut)return dn(W(-ut));for(var ke=[],Ke=1,ht=0;ut>=Ke;ht++)ke[ht]=ut/Ke|0,Ke*=4294967296;return new b(ke,0)}var ye=F(0),$e=F(1),It=F(16777216);function Kt(ut){if(0!=ut.h)return!1;for(var ke=0;ke<ut.g.length;ke++)if(0!=ut.g[ke])return!1;return!0}function En(ut){return-1==ut.h}function dn(ut){for(var ke=ut.g.length,Ke=[],ht=0;ht<ke;ht++)Ke[ht]=~ut.g[ht];return new b(Ke,~ut.h).add($e)}function nr(ut,ke){return ut.add(dn(ke))}function br(ut,ke){for(;(65535&ut[ke])!=ut[ke];)ut[ke+1]+=ut[ke]>>>16,ut[ke]&=65535,ke++}function ur(ut,ke){this.g=ut,this.h=ke}function Hr(ut,ke){if(Kt(ke))throw Error("division by zero");if(Kt(ut))return new ur(ye,ye);if(En(ut))return ke=Hr(dn(ut),ke),new ur(dn(ke.g),dn(ke.h));if(En(ke))return ke=Hr(ut,dn(ke)),new ur(dn(ke.g),ke.h);if(30<ut.g.length){if(En(ut)||En(ke))throw Error("slowDivide_ only works with positive integers.");for(var Ke=$e,ht=ke;0>=ht.l(ut);)Ke=fr(Ke),ht=fr(ht);var mt=vi(Ke,1),St=vi(ht,1);for(ht=vi(ht,2),Ke=vi(Ke,2);!Kt(ht);){var ze=St.add(ht);0>=ze.l(ut)&&(mt=mt.add(Ke),St=ze),ht=vi(ht,1),Ke=vi(Ke,1)}return ke=nr(ut,mt.j(ke)),new ur(mt,ke)}for(mt=ye;0<=ut.l(ke);){for(Ke=Math.max(1,Math.floor(ut.m()/ke.m())),ht=48>=(ht=Math.ceil(Math.log(Ke)/Math.LN2))?1:Math.pow(2,ht-48),ze=(St=W(Ke)).j(ke);En(ze)||0<ze.l(ut);)ze=(St=W(Ke-=ht)).j(ke);Kt(St)&&(St=$e),mt=mt.add(St),ut=nr(ut,ze)}return new ur(mt,ut)}function fr(ut){for(var ke=ut.g.length+1,Ke=[],ht=0;ht<ke;ht++)Ke[ht]=ut.i(ht)<<1|ut.i(ht-1)>>>31;return new b(Ke,ut.h)}function vi(ut,ke){var Ke=ke>>5;ke%=32;for(var ht=ut.g.length-Ke,mt=[],St=0;St<ht;St++)mt[St]=0<ke?ut.i(St+Ke)>>>ke|ut.i(St+Ke+1)<<32-ke:ut.i(St+Ke);return new b(mt,ut.h)}(u=b.prototype).m=function(){if(En(this))return-dn(this).m();for(var ut=0,ke=1,Ke=0;Ke<this.g.length;Ke++){var ht=this.i(Ke);ut+=(0<=ht?ht:4294967296+ht)*ke,ke*=4294967296}return ut},u.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(Kt(this))return"0";if(En(this))return"-"+dn(this).toString(ut);for(var ke=W(Math.pow(ut,6)),Ke=this,ht="";;){var mt=Hr(Ke,ke).g,St=((0<(Ke=nr(Ke,mt.j(ke))).g.length?Ke.g[0]:Ke.h)>>>0).toString(ut);if(Kt(Ke=mt))return St+ht;for(;6>St.length;)St="0"+St;ht=St+ht}},u.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},u.l=function(ut){return En(ut=nr(this,ut))?-1:Kt(ut)?0:1},u.abs=function(){return En(this)?dn(this):this},u.add=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),Ke=[],ht=0,mt=0;mt<=ke;mt++){var St=ht+(65535&this.i(mt))+(65535&ut.i(mt)),ze=(St>>>16)+(this.i(mt)>>>16)+(ut.i(mt)>>>16);ht=ze>>>16,Ke[mt]=(ze&=65535)<<16|(St&=65535)}return new b(Ke,-2147483648&Ke[Ke.length-1]?-1:0)},u.j=function(ut){if(Kt(this)||Kt(ut))return ye;if(En(this))return En(ut)?dn(this).j(dn(ut)):dn(dn(this).j(ut));if(En(ut))return dn(this.j(dn(ut)));if(0>this.l(It)&&0>ut.l(It))return W(this.m()*ut.m());for(var ke=this.g.length+ut.g.length,Ke=[],ht=0;ht<2*ke;ht++)Ke[ht]=0;for(ht=0;ht<this.g.length;ht++)for(var mt=0;mt<ut.g.length;mt++){var St=this.i(ht)>>>16,ze=65535&this.i(ht),xl=ut.i(mt)>>>16,yf=65535&ut.i(mt);Ke[2*ht+2*mt]+=ze*yf,br(Ke,2*ht+2*mt),Ke[2*ht+2*mt+1]+=St*yf,br(Ke,2*ht+2*mt+1),Ke[2*ht+2*mt+1]+=ze*xl,br(Ke,2*ht+2*mt+1),Ke[2*ht+2*mt+2]+=St*xl,br(Ke,2*ht+2*mt+2)}for(ht=0;ht<ke;ht++)Ke[ht]=Ke[2*ht+1]<<16|Ke[2*ht];for(ht=ke;ht<2*ke;ht++)Ke[ht]=0;return new b(Ke,0)},u.A=function(ut){return Hr(this,ut).h},u.and=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),Ke=[],ht=0;ht<ke;ht++)Ke[ht]=this.i(ht)&ut.i(ht);return new b(Ke,this.h&ut.h)},u.or=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),Ke=[],ht=0;ht<ke;ht++)Ke[ht]=this.i(ht)|ut.i(ht);return new b(Ke,this.h|ut.h)},u.xor=function(ut){for(var ke=Math.max(this.g.length,ut.g.length),Ke=[],ht=0;ht<ke;ht++)Ke[ht]=this.i(ht)^ut.i(ht);return new b(Ke,this.h^ut.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ue=Ae.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=W,b.fromString=function ie(ut,ke){if(0==ut.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==ut.charAt(0))return dn(ie(ut.substring(1),ke));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ke=W(Math.pow(ke,8)),ht=ye,mt=0;mt<ut.length;mt+=8){var St=Math.min(8,ut.length-mt),ze=parseInt(ut.substring(mt,mt+St),ke);8>St?(St=W(Math.pow(ke,St)),ht=ht.j(St).add(W(ze))):ht=(ht=ht.j(Ke)).add(W(ze))}return ht},Le=Ae.Integer=b}).apply(typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{});var xe,nt,Nt,Mt,Gt,Lt,yn,Ge,J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,K){return E==Array.prototype||E==Object.prototype||(E[U]=K.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof J&&J];for(var U=0;U<E.length;++U){var K=E[U];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var K=a;E=E.split(".");for(var me=0;me<E.length-1;me++){var yt=E[me];if(!(yt in K))break e;K=K[yt]}(U=U(me=K[E=E[E.length-1]]))!=me&&null!=U&&e(K,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function m(E,U){E instanceof String&&(E+="");var K=0,me=!1,yt={next:function(){if(!me&&K<E.length){var Ft=K++;return{value:U(Ft,E[Ft]),done:!1}}return me=!0,{done:!0,value:void 0}}};return yt[Symbol.iterator]=function(){return yt},yt}(this,function(U,K){return K})}});var b=b||{},P=this||self;function F(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function W(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function ie(E,U,K){return E.call.apply(E.bind,arguments)}function ye(E,U,K){if(!E)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(yt,me),E.apply(U,yt)}}return function(){return E.apply(U,arguments)}}function $e(E,U,K){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ye).apply(null,arguments)}function It(E,U){var K=Array.prototype.slice.call(arguments,1);return function(){var me=K.slice();return me.push.apply(me,arguments),E.apply(this,me)}}function Kt(E,U){function K(){}K.prototype=U.prototype,E.aa=U.prototype,E.prototype=new K,E.prototype.constructor=E,E.Qb=function(me,yt,Ft){for(var Nn=Array(arguments.length-2),Zi=2;Zi<arguments.length;Zi++)Nn[Zi-2]=arguments[Zi];return U.prototype[yt].apply(me,Nn)}}function En(E){const U=E.length;if(0<U){const K=Array(U);for(let me=0;me<U;me++)K[me]=E[me];return K}return[]}function dn(E,U){for(let K=1;K<arguments.length;K++){const me=arguments[K];if(F(me)){const yt=E.length||0,Ft=me.length||0;E.length=yt+Ft;for(let Nn=0;Nn<Ft;Nn++)E[yt+Nn]=me[Nn]}else E.push(me)}}function br(E){return/^[\s\xa0]*$/.test(E)}function ur(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Hr(E){return Hr[" "](E),E}Hr[" "]=function(){};var fr=!(-1==ur().indexOf("Gecko")||-1!=ur().toLowerCase().indexOf("webkit")&&-1==ur().indexOf("Edge")||-1!=ur().indexOf("Trident")||-1!=ur().indexOf("MSIE")||-1!=ur().indexOf("Edge"));function vi(E,U,K){for(const me in E)U.call(K,E[me],me,E)}function ke(E){const U={};for(const K in E)U[K]=E[K];return U}const Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(E,U){let K,me;for(let yt=1;yt<arguments.length;yt++){for(K in me=arguments[yt],me)E[K]=me[K];for(let Ft=0;Ft<Ke.length;Ft++)K=Ke[Ft],Object.prototype.hasOwnProperty.call(me,K)&&(E[K]=me[K])}}function mt(E){var U=1;E=E.split(":");const K=[];for(;0<U&&E.length;)K.push(E.shift()),U--;return E.length&&K.push(E.join(":")),K}function St(E){P.setTimeout(()=>{throw E},0)}function ze(){var E=fm;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var yf=new class nr{constructor(U,K){this.i=U,this.j=K,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new Qy,E=>E.reset());class Qy{constructor(){this.next=this.g=this.h=null}set(U,K){this.h=U,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let lh,qp=!1,fm=new class xl{constructor(){this.h=this.g=null}add(U,K){const me=yf.get();me.set(U,K),this.h?this.h.next=me:this.g=me,this.h=me}},Yp=()=>{const E=P.Promise.resolve(void 0);lh=()=>{E.then(Jy)}};var Jy=()=>{for(var E;E=ze();){try{E.h.call(E.g)}catch(K){St(K)}var U=yf;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}qp=!1};function du(){this.s=this.s,this.C=this.C}function Ho(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}du.prototype.s=!1,du.prototype.ma=function(){this.s||(this.s=!0,this.N())},du.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ho.prototype.h=function(){this.defaultPrevented=!0};var Zy=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const K=()=>{};P.addEventListener("test",K,U),P.removeEventListener("test",K,U)}catch{}return E}();function vf(E,U){if(Ho.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var K=this.type=E.type,me=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(fr){e:{try{Hr(U.nodeName);var yt=!0;break e}catch{}yt=!1}yt||(U=null)}}else"mouseover"==K?U=E.fromElement:"mouseout"==K&&(U=E.toElement);this.relatedTarget=U,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Bc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&vf.aa.h.call(this)}}Kt(vf,Ho);var Bc={2:"touch",3:"pen",4:"mouse"};vf.prototype.h=function(){vf.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Zu="closure_listenable_"+(1e6*Math.random()|0),ev=0;function k_(E,U,K,me,yt){this.listener=E,this.proxy=null,this.src=U,this.type=K,this.capture=!!me,this.ha=yt,this.key=++ev,this.da=this.fa=!1}function Xp(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Ef(E){this.src=E,this.g={},this.h=0}function Qp(E,U){var K=U.type;if(K in E.g){var Ft,me=E.g[K],yt=Array.prototype.indexOf.call(me,U,void 0);(Ft=0<=yt)&&Array.prototype.splice.call(me,yt,1),Ft&&(Xp(U),0==E.g[K].length&&(delete E.g[K],E.h--))}}function uh(E,U,K,me){for(var yt=0;yt<E.length;++yt){var Ft=E[yt];if(!Ft.da&&Ft.listener==U&&Ft.capture==!!K&&Ft.ha==me)return yt}return-1}Ef.prototype.add=function(E,U,K,me,yt){var Ft=E.toString();(E=this.g[Ft])||(E=this.g[Ft]=[],this.h++);var Nn=uh(E,U,me,yt);return-1<Nn?(U=E[Nn],K||(U.fa=!1)):((U=new k_(U,this.src,Ft,!!me,yt)).fa=K,E.push(U)),U};var bf="closure_lm_"+(1e6*Math.random()|0),F_={};function pm(E,U,K,me,yt){if(me&&me.once)return mm(E,U,K,me,yt);if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)pm(E,U[Ft],K,me,yt);return null}return K=dh(K),E&&E[Zu]?E.K(U,K,W(me)?!!me.capture:!!me,yt):gm(E,U,K,!1,me,yt)}function gm(E,U,K,me,yt,Ft){if(!U)throw Error("Invalid event type");var Nn=W(yt)?!!yt.capture:!!yt,Zi=Qa(E);if(Zi||(E[bf]=Zi=new Ef(E)),(K=Zi.add(U,K,me,Nn,Ft)).proxy)return K;if(me=function V_(){const U=tv;return function E(K){return U.call(E.src,E.listener,K)}}(),K.proxy=me,me.src=E,me.listener=K,E.addEventListener)Zy||(yt=Nn),void 0===yt&&(yt=!1),E.addEventListener(U.toString(),me,yt);else if(E.attachEvent)E.attachEvent(L_(U.toString()),me);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(me)}return K}function mm(E,U,K,me,yt){if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)mm(E,U[Ft],K,me,yt);return null}return K=dh(K),E&&E[Zu]?E.L(U,K,W(me)?!!me.capture:!!me,yt):gm(E,U,K,!0,me,yt)}function Jp(E,U,K,me,yt){if(Array.isArray(U))for(var Ft=0;Ft<U.length;Ft++)Jp(E,U[Ft],K,me,yt);else me=W(me)?!!me.capture:!!me,K=dh(K),E&&E[Zu]?(E=E.i,(U=String(U).toString())in E.g&&-1<(K=uh(Ft=E.g[U],K,me,yt))&&(Xp(Ft[K]),Array.prototype.splice.call(Ft,K,1),0==Ft.length&&(delete E.g[U],E.h--))):E&&(E=Qa(E))&&(U=E.g[U.toString()],E=-1,U&&(E=uh(U,K,me,yt)),(K=-1<E?U[E]:null)&&$c(K))}function $c(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[Zu])Qp(U.i,E);else{var K=E.type,me=E.proxy;U.removeEventListener?U.removeEventListener(K,me,E.capture):U.detachEvent?U.detachEvent(L_(K),me):U.addListener&&U.removeListener&&U.removeListener(me),(K=Qa(U))?(Qp(K,E),0==K.h&&(K.src=null,U[bf]=null)):Xp(E)}}}function L_(E){return E in F_?F_[E]:F_[E]="on"+E}function tv(E,U){if(E.da)E=!0;else{U=new vf(U,this);var K=E.listener,me=E.ha||E.src;E.fa&&$c(E),E=K.call(me,U)}return E}function Qa(E){return(E=E[bf])instanceof Ef?E:null}var Zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dh(E){return"function"==typeof E?E:(E[Zp]||(E[Zp]=function(U){return E.handleEvent(U)}),E[Zp])}function Co(){du.call(this),this.i=new Ef(this),this.M=this,this.F=null}function so(E,U){var K,me=E.F;if(me)for(K=[];me;me=me.F)K.push(me);if(E=E.M,me=U.type||U,"string"==typeof U)U=new Ho(U,E);else if(U instanceof Ho)U.target=U.target||E;else{var yt=U;ht(U=new Ho(me,E),yt)}if(yt=!0,K)for(var Ft=K.length-1;0<=Ft;Ft--){var Nn=U.g=K[Ft];yt=oo(Nn,me,!0,U)&&yt}if(yt=oo(Nn=U.g=E,me,!0,U)&&yt,yt=oo(Nn,me,!1,U)&&yt,K)for(Ft=0;Ft<K.length;Ft++)yt=oo(Nn=U.g=K[Ft],me,!1,U)&&yt}function oo(E,U,K,me){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var yt=!0,Ft=0;Ft<U.length;++Ft){var Nn=U[Ft];if(Nn&&!Nn.da&&Nn.capture==K){var Zi=Nn.listener,Io=Nn.ha||Nn.src;Nn.fa&&Qp(E.i,Nn),yt=!1!==Zi.call(Io,me)&&yt}}return yt&&!me.defaultPrevented}function eg(E,U,K){if("function"==typeof E)K&&(E=$e(E,K));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=$e(E.handleEvent,E)}return 2147483647<Number(U)?-1:P.setTimeout(E,U||0)}function Cf(E){E.g=eg(()=>{E.g=null,E.i&&(E.i=!1,Cf(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}Kt(Co,du),Co.prototype[Zu]=!0,Co.prototype.removeEventListener=function(E,U,K,me){Jp(this,E,U,K,me)},Co.prototype.N=function(){if(Co.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var K=E.g[U],me=0;me<K.length;me++)Xp(K[me]);delete E.g[U],E.h--}}this.F=null},Co.prototype.K=function(E,U,K,me){return this.i.add(String(E),U,!1,K,me)},Co.prototype.L=function(E,U,K,me){return this.i.add(String(E),U,!0,K,me)};class U_ extends du{constructor(U,K){super(),this.m=U,this.l=K,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Cf(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function If(E){du.call(this),this.h=E,this.g={}}Kt(If,du);var Ml=[];function tg(E){vi(E.g,function(U,K){this.g.hasOwnProperty(K)&&$c(U)},E),E.g={}}If.prototype.N=function(){If.aa.N.call(this),tg(this)},If.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _m=P.JSON.stringify,o0=P.JSON.parse,j_=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Tf(){}function nv(){}Tf.prototype.h=null;var td={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hh(){Ho.call(this,"d")}function ym(){Ho.call(this,"c")}Kt(hh,Ho),Kt(ym,Ho);var hu={},fh=null;function ph(){return fh=fh||new Co}function wf(E){Ho.call(this,hu.La,E)}function fu(E){const U=ph();so(U,new wf(U))}function Af(E,U){Ho.call(this,hu.STAT_EVENT,E),this.stat=U}function Go(E){const U=ph();so(U,new Af(U,E))}function ng(E,U){Ho.call(this,hu.Ma,E),this.size=U}function Fa(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},U)}function nd(){this.g=!0}function Hc(E,U,K,me){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function rv(E,U){if(!E.g)return U;if(!U)return null;try{var K=JSON.parse(U);if(K)for(E=0;E<K.length;E++)if(Array.isArray(K[E])){var me=K[E];if(!(2>me.length)){var yt=me[1];if(Array.isArray(yt)&&!(1>yt.length)){var Ft=yt[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Nn=1;Nn<yt.length;Nn++)yt[Nn]=""}}}return _m(K)}catch{return U}}(E,K)+(me?" "+me:"")})}hu.La="serverreachability",Kt(wf,Ho),hu.STAT_EVENT="statevent",Kt(Af,Ho),hu.Ma="timingevent",Kt(ng,Ho),nd.prototype.xa=function(){this.g=!1},nd.prototype.info=function(){};var Ja,Pf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Gc(){}function Za(E,U,K,me){this.j=E,this.i=U,this.l=K,this.R=me||1,this.U=new If(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B_}function B_(){this.i=null,this.g="",this.h=!1}Kt(Gc,Tf),Gc.prototype.g=function(){return new XMLHttpRequest},Gc.prototype.i=function(){return{}},Ja=new Gc;var xf={},Mf={};function rd(E,U,K){E.L=1,E.v=Ff(Wo(U)),E.m=K,E.P=!0,rg(E,null)}function rg(E,U){E.F=Date.now(),$_(E),E.A=Wo(E.v);var K=E.A,me=E.R;Array.isArray(me)||(me=[String(me)]),z_(K.i,"t",me),E.C=0,K=E.j.J,E.h=new B_,E.g=Ih(E.j,K?U:null,!E.m),0<E.O&&(E.M=new U_($e(E.Y,E,E.g),E.O)),U=E.U,K=E.g,me=E.ca;var yt="readystatechange";Array.isArray(yt)||(yt&&(Ml[0]=yt.toString()),yt=Ml);for(var Ft=0;Ft<yt.length;Ft++){var Nn=pm(K,yt[Ft],me||U.handleEvent,!1,U.h||U);if(!Nn)break;U.g[Nn.key]=Nn}U=E.H?ke(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),fu(),function Df(E,U,K,me,yt,Ft){E.info(function(){if(E.g)if(Ft)for(var Nn="",Zi=Ft.split("&"),Io=0;Io<Zi.length;Io++){var $i=Zi[Io].split("=");if(1<$i.length){var Ko=$i[0];$i=$i[1];var qo=Ko.split("_");Nn=2<=qo.length&&"type"==qo[1]?Nn+(Ko+"=")+$i+"&":Nn+(Ko+"=redacted&")}}else Nn=null;else Nn=Ft;return"XMLHTTP REQ ("+me+") [attempt "+yt+"]: "+U+"\n"+K+"\n"+Nn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Em(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function ig(E,U){var K=E.C,me=U.indexOf("\n",K);return-1==me?Mf:(K=Number(U.substring(K,me)),isNaN(K)?xf:(me+=1)+K>U.length?Mf:(U=U.slice(me,me+K),E.C=me+K,U))}function $_(E){E.S=Date.now()+E.I,Rf(E,E.I)}function Rf(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Fa($e(E.ba,E),U)}function bm(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function xo(E){0==E.j.G||E.J||pg(E.j,E)}function zc(E){bm(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,tg(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function H_(E,U){try{var K=E.j;if(0!=K.G&&(K.g==E||Nf(K.h,E)))if(!E.K&&Nf(K.h,E)&&3==K.G){try{var me=K.Da.g.parse(U)}catch{me=null}if(Array.isArray(me)&&3==me.length){var yt=me;if(0==yt[0]){e:if(!K.u){if(K.g){if(!(K.g.F+3e3<E.F))break e;Fl(K),Bf(K)}ad(K),Go(18)}}else K.za=yt[1],0<K.za-K.T&&37500>yt[2]&&K.F&&0==K.v&&!K.C&&(K.C=Fa($e(K.Za,K),6e3));if(1>=id(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else Yc(K,11)}else if((E.K||K.g==E)&&Fl(K),!br(U))for(yt=K.Da.g.parse(U),U=0;U<yt.length;U++){let $i=yt[U];if(K.T=$i[0],$i=$i[1],2==K.G)if("c"==$i[0]){K.K=$i[1],K.ia=$i[2];const Ko=$i[3];null!=Ko&&(K.la=Ko,K.j.info("VER="+K.la));const qo=$i[4];null!=qo&&(K.Aa=qo,K.j.info("SVER="+K.Aa));const Vl=$i[5];null!=Vl&&"number"==typeof Vl&&0<Vl&&(K.L=me=1.5*Vl,K.j.info("backChannelRequestTimeoutMs_="+me)),me=K;const Oo=E.g;if(Oo){const wh=Oo.g?Oo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wh){var Ft=me.h;Ft.g||-1==wh.indexOf("spdy")&&-1==wh.indexOf("quic")&&-1==wh.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(Mo(Ft,Ft.h),Ft.h=null))}if(me.D){const gg=Oo.g?Oo.g.getResponseHeader("X-HTTP-Session-Id"):null;gg&&(me.ya=gg,cs(me.I,me.D,gg))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-E.F,K.j.info("Handshake RTT: "+K.R+"ms"));var Nn=E;if((me=K).qa=Mm(me,me.J?me.ia:null,me.W),Nn.K){sg(me.h,Nn);var Zi=Nn,Io=me.L;Io&&(Zi.I=Io),Zi.B&&(bm(Zi),$_(Zi)),me.g=Nn}else vu(me);0<K.i.length&&$f(K)}else"stop"!=$i[0]&&"close"!=$i[0]||Yc(K,7);else 3==K.G&&("stop"==$i[0]||"close"==$i[0]?"stop"==$i[0]?Yc(K,7):Dm(K):"noop"!=$i[0]&&K.l&&K.l.ta($i),K.v=0)}fu()}catch{}}function Of(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function id(E){return E.h?1:E.g?E.g.size:0}function Nf(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function Mo(E,U){E.g?E.g.add(U):E.h=U}function sg(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function sd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const K of E.g.values())U=U.concat(K.D);return U}return En(E.i)}function Wc(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var K=function Nl(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var U=[];E=E.length;for(var K=0;K<E;K++)U.push(K);return U}U=[],K=0;for(const me in E)U[K++]=me;return U}}}(E),me=function gh(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var U=[],K=E.length,me=0;me<K;me++)U.push(E[me]);return U}for(me in U=[],K=0,E)U[K++]=E[me];return U}(E),yt=me.length,Ft=0;Ft<yt;Ft++)U.call(void 0,me[Ft],K&&K[Ft],E)}Za.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==kl(E)?U.j():this.Y(E)},Za.prototype.Y=function(E){try{if(E==this.g)e:{const qo=kl(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>qo)&&(3!=qo||this.g&&(this.h.h||this.g.oa()||hg(this.g)))){this.J||4!=qo||7==U||fu(),bm(this);var K=this.g.Z();this.X=K;t:if(Em(this)){var me=hg(this.g);E="";var yt=me.length,Ft=4==kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zc(this),xo(this);var Nn="";break t}this.h.i=new P.TextDecoder}for(U=0;U<yt;U++)this.h.h=!0,E+=this.h.i.decode(me[U],{stream:!(Ft&&U==yt-1)});me.length=0,this.h.g+=E,this.C=0,Nn=this.h.g}else Nn=this.g.oa();if(this.o=200==K,function vm(E,U,K,me,yt,Ft,Nn){E.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+yt+"]: "+U+"\n"+K+"\n"+Ft+" "+Nn})}(this.i,this.u,this.A,this.l,this.R,qo,K),this.o){if(this.T&&!this.K){t:{if(this.g){var Zi,Io=this.g;if((Zi=Io.g?Io.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!br(Zi)){var $i=Zi;break t}}$i=null}if(!(K=$i)){this.o=!1,this.s=3,Go(12),zc(this),xo(this);break e}Hc(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,H_(this,K)}if(this.P){let Oo;for(K=!0;!this.J&&this.C<Nn.length;){if(Oo=ig(this,Nn),Oo==Mf){4==qo&&(this.s=4,Go(14),K=!1),Hc(this.i,this.l,null,"[Incomplete Response]");break}if(Oo==xf){this.s=4,Go(15),Hc(this.i,this.l,Nn,"[Invalid Chunk]"),K=!1;break}Hc(this.i,this.l,Oo,null),H_(this,Oo)}if(Em(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=qo||0!=Nn.length||this.h.h||(this.s=1,Go(16),K=!1),this.o=this.o&&K,K){if(0<Nn.length&&!this.W){this.W=!0;var Ko=this.j;Ko.g==this&&Ko.ba&&!Ko.M&&(Ko.j.info("Great, no buffering proxy detected. Bytes received: "+Nn.length),Pm(Ko),Ko.M=!0,Go(11))}}else Hc(this.i,this.l,Nn,"[Invalid Chunked Response]"),zc(this),xo(this)}else Hc(this.i,this.l,Nn,null),H_(this,Nn);4==qo&&zc(this),this.o&&!this.J&&(4==qo?pg(this.j,this):(this.o=!1,$_(this)))}else(function K_(E){const U={};E=(E.g&&2<=kl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<E.length;me++){if(br(E[me]))continue;var K=mt(E[me]);const yt=K[0];if("string"!=typeof(K=K[1]))continue;K=K.trim();const Ft=U[yt]||[];U[yt]=Ft,Ft.push(K)}!function ut(E,U){for(const K in E)U.call(void 0,E[K],K,E)}(U,function(me){return me.join(", ")})})(this.g),400==K&&0<Nn.indexOf("Unknown SID")?(this.s=3,Go(12)):(this.s=0,Go(13)),zc(this),xo(this)}}}catch{}},Za.prototype.cancel=function(){this.J=!0,zc(this)},Za.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Sf(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(fu(),Go(17)),zc(this),this.s=2,xo(this)):Rf(this,this.S-E)},Of.prototype.cancel=function(){if(this.i=sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof ec){this.h=E.h,Kc(this,E.j),this.o=E.o,this.g=E.g,kf(this,E.s),this.l=E.l;var U=E.i,K=new ag;K.i=U.i,U.g&&(K.g=new Map(U.g),K.h=U.h),Cm(this,K),this.m=E.m}else E&&(U=String(E).match(pu))?(this.h=!1,Kc(this,U[1]||"",!0),this.o=mh(U[2]||""),this.g=mh(U[3]||"",!0),kf(this,U[4]),this.l=mh(U[5]||"",!0),Cm(this,U[6]||"",!0),this.m=mh(U[7]||"")):(this.h=!1,this.i=new ag(null,this.h))}function Wo(E){return new ec(E)}function Kc(E,U,K){E.j=K?mh(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function kf(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Cm(E,U,K){U instanceof ag?(E.i=U,function Tm(E,U){U&&!E.j&&(mu(E),E.i=null,E.g.forEach(function(K,me){var yt=me.toLowerCase();me!=yt&&(G_(this,me),z_(this,yt,K))},E)),E.j=U}(E.i,E.h)):(K||(U=_h(U,iv)),E.i=new ag(U,E.h))}function cs(E,U,K){E.i.set(U,K)}function Ff(E){return cs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function mh(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function _h(E,U,K){return"string"==typeof E?(E=encodeURI(E).replace(U,gu),K&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function gu(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}ec.prototype.toString=function(){var E=[],U=this.j;U&&E.push(_h(U,Vf,!0),":");var K=this.g;return(K||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(_h(U,Vf,!0),"@"),E.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(K=this.s)&&E.push(":",String(K))),(K=this.l)&&(this.g&&"/"!=K.charAt(0)&&E.push("/"),E.push(_h(K,"/"==K.charAt(0)?yh:og,!0))),(K=this.i.toString())&&E.push("?",K),(K=this.m)&&E.push("#",_h(K,a0)),E.join("")};var E,Vf=/[#\/\?@]/g,og=/[#\?:]/g,yh=/[#\?]/g,iv=/[#\?@]/g,a0=/#/g;function ag(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function mu(E){E.g||(E.g=new Map,E.h=0,E.i&&function od(E,U){if(E){E=E.split("&");for(var K=0;K<E.length;K++){var me=E[K].indexOf("="),yt=null;if(0<=me){var Ft=E[K].substring(0,me);yt=E[K].substring(me+1)}else Ft=E[K];U(Ft,yt?decodeURIComponent(yt.replace(/\+/g," ")):"")}}}(E.i,function(U,K){E.add(decodeURIComponent(U.replace(/\+/g," ")),K)}))}function G_(E,U){mu(E),U=_u(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function Im(E,U){return mu(E),U=_u(E,U),E.g.has(U)}function z_(E,U,K){G_(E,U),0<K.length&&(E.i=null,E.g.set(_u(E,U),En(K)),E.h+=K.length)}function _u(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function _c(E,U,K,me,yt){try{yt&&(yt.onload=null,yt.onerror=null,yt.onabort=null,yt.ontimeout=null),me(K)}catch{}}function Lf(){this.g=new j_}function W_(E,U,K){const me=K||"";try{Wc(E,function(yt,Ft){let Nn=yt;W(yt)&&(Nn=_m(yt)),U.push(me+Ft+"="+encodeURIComponent(Nn))})}catch(yt){throw U.push(me+"type="+encodeURIComponent("_badmap")),yt}}function qc(E){this.l=E.Ub||null,this.j=E.eb||!1}function lg(E,U){Co.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function vh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Eh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,bh(E)}function bh(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function yu(E){let U="";return vi(E,function(K,me){U+=me,U+=":",U+=K,U+="\r\n"}),U}function ug(E,U,K){e:{for(me in K){var me=!1;break e}me=!0}me||(K=yu(K),"string"==typeof E?null!=K&&encodeURIComponent(String(K)):cs(E,U,K))}function zs(E){Co.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=ag.prototype).add=function(E,U){mu(this),this.i=null,E=_u(this,E);var K=this.g.get(E);return K||this.g.set(E,K=[]),K.push(U),this.h+=1,this},u.forEach=function(E,U){mu(this),this.g.forEach(function(K,me){K.forEach(function(yt){E.call(U,yt,me,this)},this)},this)},u.na=function(){mu(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),K=[];for(let me=0;me<U.length;me++){const yt=E[me];for(let Ft=0;Ft<yt.length;Ft++)K.push(U[me])}return K},u.V=function(E){mu(this);let U=[];if("string"==typeof E)Im(this,E)&&(U=U.concat(this.g.get(_u(this,E))));else{E=Array.from(this.g.values());for(let K=0;K<E.length;K++)U=U.concat(E[K])}return U},u.set=function(E,U){return mu(this),this.i=null,Im(this,E=_u(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},u.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var K=0;K<U.length;K++){var me=U[K];const Ft=encodeURIComponent(String(me)),Nn=this.V(me);for(me=0;me<Nn.length;me++){var yt=Ft;""!==Nn[me]&&(yt+="="+encodeURIComponent(String(Nn[me]))),E.push(yt)}}return this.i=E.join("&")},Kt(qc,Tf),qc.prototype.g=function(){return new lg(this.l,this.j)},qc.prototype.i=(E={},function(){return E}),Kt(lg,Co),(u=lg.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,bh(this)},u.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||P).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eh(this)),this.readyState=0},u.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,bh(this)),this.g&&(this.readyState=3,bh(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?Eh(this):bh(this),3==this.readyState&&vh(this)}},u.Ra=function(E){this.g&&(this.response=this.responseText=E,Eh(this))},u.Qa=function(E){this.g&&(this.response=E,Eh(this))},u.ga=function(){this.g&&Eh(this)},u.setRequestHeader=function(E,U){this.u.append(E,U)},u.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var K=U.next();!K.done;)E.push((K=K.value)[0]+": "+K[1]),K=U.next();return E.join("\r\n")},Object.defineProperty(lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Kt(zs,Co);var ov=/^https?$/i,av=["POST","PUT"];function dg(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,Uf(E),wm(E)}function Uf(E){E.A||(E.A=!0,so(E,"complete"),so(E,"error"))}function jf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=kl(E)||2!=E.Z()))if(E.u&&4==kl(E))eg(E.Ea,0,E);else if(so(E,"readystatechange"),4==kl(E)){E.h=!1;try{const Nn=E.Z();e:switch(Nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var K;if(!(K=U)){var me;if(me=0===Nn){var yt=String(E.D).match(pu)[1]||null;!yt&&P.self&&P.self.location&&(yt=P.self.location.protocol.slice(0,-1)),me=!ov.test(yt?yt.toLowerCase():"")}K=me}if(K)so(E,"complete"),so(E,"success");else{E.m=6;try{var Ft=2<kl(E)?E.g.statusText:""}catch{Ft=""}E.l=Ft+" ["+E.Z()+"]",Uf(E)}}finally{wm(E)}}}function wm(E,U){if(E.g){Am(E);const K=E.g,me=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||so(E,"ready");try{K.onreadystatechange=me}catch{}}}function Am(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function kl(E){return E.g?E.g.readyState:0}function hg(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(E,U,K){return K&&K.internalChannelParams&&K.internalChannelParams[E]||U}function fg(E){this.Aa=0,this.i=[],this.j=new nd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ch("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ch("baseRetryDelayMs",5e3,E),this.cb=Ch("retryDelaySeedMs",1e4,E),this.Wa=Ch("forwardChannelMaxRetries",2,E),this.wa=Ch("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Of(E&&E.concurrentRequestLimit),this.Da=new Lf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Dm(E){if(Sm(E),3==E.G){var U=E.U++,K=Wo(E.I);if(cs(K,"SID",E.K),cs(K,"RID",U),cs(K,"TYPE","terminate"),aa(E,K),(U=new Za(E,E.j,U)).L=2,U.v=Ff(Wo(K)),K=!1,P.navigator&&P.navigator.sendBeacon)try{K=P.navigator.sendBeacon(U.v.toString(),"")}catch{}!K&&P.Image&&((new Image).src=U.v,K=!0),K||(U.g=Ih(U.j,null),U.g.ea(U.v)),U.F=Date.now(),$_(U)}X_(E)}function Bf(E){E.g&&(Pm(E),E.g.cancel(),E.g=null)}function Sm(E){Bf(E),E.u&&(P.clearTimeout(E.u),E.u=null),Fl(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function $f(E){if(!zo(E.h)&&!E.s){E.s=!0;var U=E.Ga;lh||Yp(),qp||(lh(),qp=!0),fm.add(U,E),E.B=0}}function Y_(E,U){var K;K=U?U.l:E.U++;const me=Wo(E.I);cs(me,"SID",E.K),cs(me,"RID",K),cs(me,"AID",E.T),aa(E,me),E.m&&E.o&&ug(me,E.m,E.o),K=new Za(E,E.j,K,E.B+1),null===E.m&&(K.H=E.o),U&&(E.i=U.D.concat(E.i)),U=Hf(E,K,1e3),K.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Mo(E.h,K),rd(K,me,U)}function aa(E,U){E.H&&vi(E.H,function(K,me){cs(U,me,K)}),E.l&&Wc({},function(K,me){cs(U,me,K)})}function Hf(E,U,K){K=Math.min(E.i.length,K);var me=E.l?$e(E.l.Na,E.l,E):null;e:{var yt=E.i;let Ft=-1;for(;;){const Nn=["count="+K];-1==Ft?0<K?(Ft=yt[0].g,Nn.push("ofs="+Ft)):Ft=0:Nn.push("ofs="+Ft);let Zi=!0;for(let Io=0;Io<K;Io++){let $i=yt[Io].g;const Ko=yt[Io].map;if($i-=Ft,0>$i)Ft=Math.max(0,yt[Io].g-100),Zi=!1;else try{W_(Ko,Nn,"req"+$i+"_")}catch{me&&me(Ko)}}if(Zi){me=Nn.join("&");break e}}}return E=E.i.splice(0,K),U.D=E,me}function vu(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;lh||Yp(),qp||(lh(),qp=!0),fm.add(U,E),E.v=0}}function ad(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Fa($e(E.Fa,E),xm(E,E.v)),E.v++,0))}function Pm(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Gf(E){E.g=new Za(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=Wo(E.qa);cs(U,"RID","rpc"),cs(U,"SID",E.K),cs(U,"AID",E.T),cs(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&cs(U,"TO",E.ja),cs(U,"TYPE","xmlhttp"),aa(E,U),E.m&&E.o&&ug(U,E.m,E.o),E.L&&(E.g.I=E.L);var K=E.g;E=E.ia,K.L=1,K.v=Ff(Wo(U)),K.m=null,K.P=!0,rg(K,E)}function Fl(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function pg(E,U){var K=null;if(E.g==U){Fl(E),Pm(E),E.g=null;var me=2}else{if(!Nf(E.h,U))return;K=U.D,sg(E.h,U),me=1}if(0!=E.G)if(U.o)if(1==me){K=U.m?U.m.length:0,U=Date.now()-U.F;var yt=E.B;so(me=ph(),new ng(me,K)),$f(E)}else vu(E);else if(3==(yt=U.s)||0==yt&&0<U.X||!(1==me&&function q_(E,U){return!(id(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Fa($e(E.Ga,E,U),xm(E,E.B)),E.B++,0)))}(E,U)||2==me&&ad(E)))switch(K&&0<K.length&&(U=E.h,U.i=U.i.concat(K)),yt){case 1:Yc(E,5);break;case 4:Yc(E,10);break;case 3:Yc(E,6);break;default:Yc(E,2)}}function xm(E,U){let K=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(K*=2),K*U}function Yc(E,U){if(E.j.info("Error code "+U),2==U){var K=$e(E.fb,E),me=E.Xa;const yt=!me;me=new ec(me||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Kc(me,"https"),Ff(me),yt?function cg(E,U){const K=new nd;if(P.Image){const me=new Image;me.onload=It(_c,K,"TestLoadImage: loaded",!0,U,me),me.onerror=It(_c,K,"TestLoadImage: error",!1,U,me),me.onabort=It(_c,K,"TestLoadImage: abort",!1,U,me),me.ontimeout=It(_c,K,"TestLoadImage: timeout",!1,U,me),P.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=E}else U(!1)}(me.toString(),K):function sv(E,U){new nd;const me=new AbortController,yt=setTimeout(()=>{me.abort(),_c(0,0,!1,U)},1e4);fetch(E,{signal:me.signal}).then(Ft=>{clearTimeout(yt),_c(0,0,!!Ft.ok,U)}).catch(()=>{clearTimeout(yt),_c(0,0,!1,U)})}(me.toString(),K)}else Go(2);E.G=0,E.l&&E.l.sa(U),X_(E),Sm(E)}function X_(E){if(E.G=0,E.ka=[],E.l){const U=sd(E.h);(0!=U.length||0!=E.i.length)&&(dn(E.ka,U),dn(E.ka,E.i),E.h.i.length=0,En(E.i),E.i.length=0),E.l.ra()}}function Mm(E,U,K){var me=K instanceof ec?Wo(K):new ec(K);if(""!=me.g)U&&(me.g=U+"."+me.g),kf(me,me.s);else{var yt=P.location;me=yt.protocol,U=U?U+"."+yt.hostname:yt.hostname,yt=+yt.port;var Ft=new ec(null);me&&Kc(Ft,me),U&&(Ft.g=U),yt&&kf(Ft,yt),K&&(Ft.l=K),me=Ft}return U=E.ya,(K=E.D)&&U&&cs(me,K,U),cs(me,"VER",E.la),aa(E,me),me}function Ih(E,U,K){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new zs(E.Ca&&!E.pa?new qc({eb:K}):E.pa)).Ha(E.J),U}function Th(){}function Ro(){}function po(E,U){Co.call(this),this.g=new fg(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!br(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!br(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new Eu(this)}function Q_(E){hh.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const K in U){E=K;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function J_(){ym.call(this),this.status=1}function Eu(E){this.g=E}(u=zs.prototype).Ha=function(E){this.J=E},u.ea=function(E,U,K,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ja.g(),this.v=function ed(E){return E.h||(E.h=E.i())}(this.o?this.o:Ja),this.g.onreadystatechange=$e(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(Ft){return void dg(this,Ft)}if(E=K||"",K=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var yt in me)K.set(yt,me[yt]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Ft of me.keys())K.set(Ft,me.get(Ft))}me=Array.from(K.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),yt=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(av,U,void 0))||me||yt||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Nn]of K)this.g.setRequestHeader(Ft,Nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Am(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ft){dg(this,Ft)}},u.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,so(this,"complete"),so(this,"abort"),wm(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wm(this,!0)),zs.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?jf(this):this.bb())},u.bb=function(){jf(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<kl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),o0(U)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=fg.prototype).la=8,u.G=1,u.connect=function(E,U,K,me){Go(0),this.W=E,this.H=U||{},K&&void 0!==me&&(this.H.OSID=K,this.H.OAID=me),this.F=this.X,this.I=Mm(this,null,this.W),$f(this)},u.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const yt=new Za(this,this.j,E);let Ft=this.o;if(this.S&&(Ft?(Ft=ke(Ft),ht(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(yt.H=Ft,Ft=null),this.P)e:{for(var U=0,K=0;K<this.i.length;K++){var me=this.i[K];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(U+=me)){U=K;break e}if(4096===U||K===this.i.length-1){U=K+1;break e}}U=1e3}else U=1e3;U=Hf(this,yt,U),cs(K=Wo(this.I),"RID",E),cs(K,"CVER",22),this.D&&cs(K,"X-HTTP-Session-Id",this.D),aa(this,K),Ft&&(this.O?U="headers="+encodeURIComponent(String(yu(Ft)))+"&"+U:this.m&&ug(K,this.m,Ft)),Mo(this.h,yt),this.Ua&&cs(K,"TYPE","init"),this.P?(cs(K,"$req",U),cs(K,"SID","null"),yt.T=!0,rd(yt,K,null)):rd(yt,K,U),this.G=2}}else 3==this.G&&(E?Y_(this,E):0==this.i.length||zo(this.h)||Y_(this))},u.Fa=function(){if(this.u=null,Gf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Fa($e(this.ab,this),E)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Go(10),Bf(this),Gf(this))},u.Za=function(){null!=this.C&&(this.C=null,Bf(this),ad(this),Go(19))},u.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Go(2)):(this.j.info("Failed to ping google.com"),Go(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Th.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},Ro.prototype.g=function(E,U){return new po(E,U)},Kt(po,Co),po.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},po.prototype.close=function(){Dm(this.g)},po.prototype.o=function(E){var U=this.g;if("string"==typeof E){var K={};K.__data__=E,E=K}else this.u&&((K={}).__data__=_m(E),E=K);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&$f(U)},po.prototype.N=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,po.aa.N.call(this)},Kt(Q_,hh),Kt(J_,ym),Kt(Eu,Th),Eu.prototype.ua=function(){so(this.g,"a")},Eu.prototype.ta=function(E){so(this.g,new Q_(E))},Eu.prototype.sa=function(E){so(this.g,new J_)},Eu.prototype.ra=function(){so(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,po.prototype.send=po.prototype.o,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,Ge=de.createWebChannelTransport=function(){return new Ro},yn=de.getStatEventTarget=function(){return ph()},Lt=de.Event=hu,Gt=de.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pf.NO_ERROR=0,Pf.TIMEOUT=8,Pf.HTTP_ERROR=6,Mt=de.ErrorCode=Pf,Rl.COMPLETE="complete",Nt=de.EventType=Rl,nv.EventType=td,td.OPEN="a",td.CLOSE="b",td.ERROR="c",td.MESSAGE="d",Co.prototype.listen=Co.prototype.K,nt=de.WebChannel=nv,de.FetchXmlHttpFactory=qc,zs.prototype.listenOnce=zs.prototype.L,zs.prototype.getLastError=zs.prototype.Ka,zs.prototype.getLastErrorCode=zs.prototype.Ba,zs.prototype.getStatus=zs.prototype.Z,zs.prototype.getResponseJson=zs.prototype.Oa,zs.prototype.getResponseText=zs.prototype.oa,zs.prototype.send=zs.prototype.ea,zs.prototype.setWithCredentials=zs.prototype.Ha,xe=de.XhrIo=zs}).apply(typeof J<"u"?J:typeof self<"u"?self:typeof window<"u"?window:{});const _e="@firebase/firestore";class it{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let et="10.14.0";const lt=new Ee.Vy("@firebase/firestore");function Ot(){return lt.logLevel}function Ut(u){lt.setLogLevel(u)}function Ie(u,...e){if(lt.logLevel<=Ee.$b.DEBUG){const r=e.map(sr);lt.debug(`Firestore (${et}): ${u}`,...r)}}function cn(u,...e){if(lt.logLevel<=Ee.$b.ERROR){const r=e.map(sr);lt.error(`Firestore (${et}): ${u}`,...r)}}function In(u,...e){if(lt.logLevel<=Ee.$b.WARN){const r=e.map(sr);lt.warn(`Firestore (${et}): ${u}`,...r)}}function sr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Vt(u="Unexpected state"){const e=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: `+u;throw cn(e),new Error(e)}function qt(u,e){u||Vt()}function Jt(u,e){u||Vt()}function gt(u,e){return u}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ln{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class He{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;qt(void 0===this.o);let h=this.i;const m=W=>this.i!==h?(h=this.i,r(W)):Promise.resolve();let b=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ln,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const W=b;e.enqueueRetryable((0,o.A)(function*(){yield W.promise,yield m(a.currentUser)}))},F=W=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(W=>F(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?F(W):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ln)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt("string"==typeof a.accessToken),new He(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new it(e)}}class st{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ye{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new st(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){qt(void 0===this.o);const a=m=>{null!=m.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.R;return this.R=m.token,Ie("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?h(m):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(qt("string"==typeof r.token),this.R=r.token,new jt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hn(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<u;a++)r[a]=Math.floor(256*Math.random());return r}class Vn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=hn(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return a}}function tn(u,e){return u<e?-1:u>e?1:0}function Zn(u,e,r){return u.length===e.length&&u.every((a,h)=>r(a,e[h]))}function $n(u){return u+"\0"}class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Wt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Wt(0,0))}static max(){return new zt(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mr{constructor(e,r,a){void 0===r?r=0:r>e.length&&Vt(),void 0===a?a=e.length-r:a>e.length-r&&Vt(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===mr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const m=e.get(h),b=r.get(h);if(m<b)return-1;if(m>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class _n extends mr{construct(e,r,a){return new _n(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(Fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new _n(r)}static emptyPath(){return new _n([])}}const kr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends mr{construct(e,r,a){return new ir(e,r,a)}static isValidIdentifier(e){return kr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const m=()=>{if(0===a.length)throw new rt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new rt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new rt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(a+=P,h++):(m(),h++)}if(m(),b)throw new rt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(_n.fromString(e))}static fromName(e){return new Bt(_n.fromString(e).popFirst(5))}static empty(){return new Bt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return _n.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new _n(e.slice()))}}class Sn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Qn(u){return u.fields.find(e=>2===e.kind)}function Rn(u){return u.fields.filter(e=>2!==e.kind)}Sn.UNKNOWN_ID=-1;class Ur{constructor(e,r){this.fieldPath=e,this.kind=r}}class er{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new er(0,rn.min())}}function oi(u,e){const r=u.toTimestamp().seconds,a=u.toTimestamp().nanoseconds+1,h=zt.fromTimestamp(1e9===a?new Wt(r+1,0):new Wt(r,a));return new rn(h,Bt.empty(),e)}function hi(u){return new rn(u.readTime,u.key,-1)}class rn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new rn(zt.min(),Bt.empty(),-1)}static max(){return new rn(zt.max(),Bt.empty(),-1)}}function Ar(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Bt.comparator(u.documentKey,e.documentKey),0!==r?r:tn(u.largestBatchId,e.largestBatchId))}const Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _r{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yn(u){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.A)(function*(u){if(u.code!==Fe.FAILED_PRECONDITION||u.message!==Hn)throw u;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Qe((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(r,m).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Qe?r:Qe.resolve(r)}catch(r){return Qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Qe.reject(r)}static resolve(e){return new Qe((r,a)=>{r(e)})}static reject(e){return new Qe((r,a)=>{a(e)})}static waitFor(e){return new Qe((r,a)=>{let h=0,m=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++m,b&&m===h&&r()},F=>a(F))}),b=!0,m===h&&r()})}static or(e){let r=Qe.resolve(!1);for(const a of e)r=r.next(h=>h?Qe.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,m)=>{a.push(r.call(this,h,m))}),this.waitFor(a)}static mapArray(e,r){return new Qe((a,h)=>{const m=e.length,b=new Array(m);let P=0;for(let F=0;F<m;F++){const W=F;r(e[W]).next(ie=>{b[W]=ie,++P,P===m&&a(b)},ie=>h(ie))}})}static doWhile(e,r){return new Qe((a,h)=>{const m=()=>{!0===e()?r().next(()=>{m()},h):a()};m()})}}class ft{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ln,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Yt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=Ct(a.target.error);this.V.reject(new Yt(e,h))}}static open(e,r,a,h){try{return new ft(r,e.transaction(h,a))}catch(m){throw new Yt(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Kr(r)}}class se{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===se.S((0,he.ZQ)())&&cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),Or(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(se.v())return!0;const e=(0,he.ZQ)(),r=se.S(e),a=0<r&&r<10,h=Pe(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ie("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=b=>{a(b.target.result)},m.onblocked=()=>{h(new Yt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new rt(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new rt(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Yt(e,P))},m.onupgradeneeded=b=>{Ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,m.transaction,b.oldVersion,r.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var m=this;return(0,o.A)(function*(){const b="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.M(e);const F=ft.open(m.db,e,b?"readonly":"readwrite",a),W=h(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),Qe.reject(ie))).toPromise();return W.catch(()=>{}),yield F.m,W}catch(F){const W=F,ie="FirebaseError"!==W.name&&P<3;if(Ie("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ie),m.close(),!ie)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Pe(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Pt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Or(this.B.delete())}}class Yt extends rt{constructor(e,r){super(Fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function zn(u){return"IndexedDbTransactionError"===u.name}class Kr{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ie("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Or(a)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),Or(this.store.add(e))}get(e){return Or(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ie("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),Or(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),Or(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const m=h.getAll(a.range);return new Qe((b,P)=>{m.onerror=F=>{P(F.target.error)},m.onsuccess=F=>{b(F.target.result)}})}{const m=this.cursor(a),b=[];return this.W(m,(P,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new Qe((h,m)=>{a.onerror=b=>{m(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ie("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(m,b,P)=>P.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new Qe((a,h)=>{r.onerror=m=>{const b=Ct(m.target.error);h(b)},r.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():a()}):a()}})}W(e,r){const a=[];return new Qe((h,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const F=new Pt(P),W=r(P.primaryKey,P.value,F);if(W instanceof Qe){const ie=W.catch(ye=>(F.done(),Qe.reject(ye)));a.push(ie)}F.isDone?h():null===F.K?P.continue():P.continue(F.K)}}).next(()=>Qe.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Or(u){return new Qe((e,r)=>{u.onsuccess=a=>{e(a.target.result)},u.onerror=a=>{const h=Ct(a.target.error);r(h)}})}let bi=!1;function Ct(u){const e=se.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const a=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bi||(bi=!0,setTimeout(()=>{throw a},0)),a}}return u}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){zn(a)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Yn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,m=!0;return Qe.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ie("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(P=>{h-=P,a.add(b)});m=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,m)).next(P=>(Ie("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,m)=>{const b=hi(m);Ar(b,a)>0&&(a=b)}),new rn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class u{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function ne(u){return null==u}function ge(u){return 0===u&&1/u==-1/0}function ct(u){return"number"==typeof u&&Number.isInteger(u)&&!ge(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Tt(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=un(e)),e=en(u.get(r),e);return un(e)}function en(u,e){let r=e;const a=u.length;for(let h=0;h<a;h++){const m=u.charAt(h);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function un(u){return u+"\x01\x01"}function Tn(u){const e=u.length;if(qt(e>=2),2===e)return qt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),_n.emptyPath();const r=e-2,a=[];let h="";for(let m=0;m<e;){const b=u.indexOf("\x01",m);switch((b<0||b>r)&&Vt(),u.charAt(b+1)){case"\x01":const P=u.substring(m,b);let F;0===h.length?F=P:(h+=P,F=h,h=""),a.push(F);break;case"\x10":h+=u.substring(m,b),h+="\0";break;case"\x11":h+=u.substring(m,b+1);break;default:Vt()}m=b+2}return new _n(a)}const yr=["userId","batchId"];function Re(u,e){return[u,Tt(e)]}function Me(u,e,r){return[u,Tt(e),r]}const Be={},kt=["prefixPath","collectionGroup","readTime","documentId"],Xt=["prefixPath","collectionGroup","documentId"],bn=["collectionGroup","readTime","prefixPath","documentId"],fn=["canonicalId","targetId"],or=["targetId","path"],vn=["path","targetId"],ri=["collectionId","parent"],vt=["indexId","uid"],qe=["uid","sequenceNumber"],Dt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pn=["indexId","uid","orderedDocumentKey"],kn=["userId","collectionPath","documentId"],gn=["userId","collectionPath","largestBatchId"],Ln=["userId","collectionGroup","largestBatchId"],xr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fr=[...xr,"documentOverlays"],tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wi=tr,ns=[...wi,"indexConfiguration","indexState","indexEntries"],ji=ns,qs=[...ns,"globals"];class Ys extends _r{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Hi(u,e){const r=gt(u);return se.F(r._e,e)}function wo(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function li(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function Gi(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class ii{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new ii(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ki(this.root,e,this.comparator,!0)}}class Ki{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?a(e.key,r):1,r&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,a,h,m){this.key=e,this.value=r,this.color=a??Mi.RED,this.left=h??Mi.EMPTY,this.right=m??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,m){return new Mi(e??this.key,r??this.value,a??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===m?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,r,a,h,m){return this}insert(e,r,a){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xs(this.data.getIterator())}getIteratorFrom(e){return new xs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class xs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vs(u){return u.hasNext()?u.getNext():void 0}class fi{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new fi([])}unionWith(e){let r=new Vr(ir.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new fi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function la(){return typeof atob<"u"}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new ko("Invalid base64 string: "+m):m}}(e);return new Ci(r)}static fromUint8Array(e){const r=function(h){let m="";for(let b=0;b<h.length;++b)m+=String.fromCharCode(h[b]);return m}(e);return new Ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const Yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(u){if(qt(!!u),"string"==typeof u){let e=0;const r=Yo.exec(u);if(qt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(u);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Qr(u.seconds),nanos:Qr(u.nanos)}}function Qr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ls(u){return"string"==typeof u?Ci.fromBase64String(u):Ci.fromUint8Array(u)}function As(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function co(u){const e=u.mapValue.fields.__previous_value__;return As(e)?co(e):e}function us(u){const e=ws(u.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}class Lr{constructor(e,r,a,h,m,b,P,F,W){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.longPollingOptions=F,this.useFetchStreams=W}}class le{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new le("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof le&&e.projectId===this.projectId&&e.database===this.database}}const wt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oe={nullValue:"NULL_VALUE"};function tt(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?As(u)?4:ar(u)?9007199254740991:ss(u)?10:11:Vt()}function ot(u,e){if(u===e)return!0;const r=tt(u);if(r!==tt(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return us(u).isEqual(us(e));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;const b=ws(h.timestampValue),P=ws(m.timestampValue);return b.seconds===P.seconds&&b.nanos===P.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return m=e,ls(u.bytesValue).isEqual(ls(m.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(h,m){return Qr(h.geoPointValue.latitude)===Qr(m.geoPointValue.latitude)&&Qr(h.geoPointValue.longitude)===Qr(m.geoPointValue.longitude)}(u,e);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return Qr(h.integerValue)===Qr(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){const b=Qr(h.doubleValue),P=Qr(m.doubleValue);return b===P?ge(b)===ge(P):isNaN(b)&&isNaN(P)}return!1}(u,e);case 9:return Zn(u.arrayValue.values||[],e.arrayValue.values||[],ot);case 10:case 11:return function(h,m){const b=h.mapValue.fields||{},P=m.mapValue.fields||{};if(wo(b)!==wo(P))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===P[F]||!ot(b[F],P[F])))return!1;return!0}(u,e);default:return Vt()}var m}function qr(u,e){return void 0!==(u.values||[]).find(r=>ot(r,e))}function Jr(u,e){if(u===e)return 0;const r=tt(u),a=tt(e);if(r!==a)return tn(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return tn(u.booleanValue,e.booleanValue);case 2:return function(m,b){const P=Qr(m.integerValue||m.doubleValue),F=Qr(b.integerValue||b.doubleValue);return P<F?-1:P>F?1:P===F?0:isNaN(P)?isNaN(F)?0:-1:1}(u,e);case 3:return qi(u.timestampValue,e.timestampValue);case 4:return qi(us(u),us(e));case 5:return tn(u.stringValue,e.stringValue);case 6:return function(m,b){const P=ls(m),F=ls(b);return P.compareTo(F)}(u.bytesValue,e.bytesValue);case 7:return function(m,b){const P=m.split("/"),F=b.split("/");for(let W=0;W<P.length&&W<F.length;W++){const ie=tn(P[W],F[W]);if(0!==ie)return ie}return tn(P.length,F.length)}(u.referenceValue,e.referenceValue);case 8:return function(m,b){const P=tn(Qr(m.latitude),Qr(b.latitude));return 0!==P?P:tn(Qr(m.longitude),Qr(b.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return ds(u.arrayValue,e.arrayValue);case 10:return function(m,b){var P,F,W,ie;const It=null===(P=(m.fields||{}).value)||void 0===P?void 0:P.arrayValue,Kt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,En=tn((null===(W=It?.values)||void 0===W?void 0:W.length)||0,(null===(ie=Kt?.values)||void 0===ie?void 0:ie.length)||0);return 0!==En?En:ds(It,Kt)}(u.mapValue,e.mapValue);case 11:return function(m,b){if(m===wt.mapValue&&b===wt.mapValue)return 0;if(m===wt.mapValue)return 1;if(b===wt.mapValue)return-1;const P=m.fields||{},F=Object.keys(P),W=b.fields||{},ie=Object.keys(W);F.sort(),ie.sort();for(let ye=0;ye<F.length&&ye<ie.length;++ye){const $e=tn(F[ye],ie[ye]);if(0!==$e)return $e;const It=Jr(P[F[ye]],W[ie[ye]]);if(0!==It)return It}return tn(F.length,ie.length)}(u.mapValue,e.mapValue);default:throw Vt()}}function qi(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return tn(u,e);const r=ws(u),a=ws(e),h=tn(r.seconds,a.seconds);return 0!==h?h:tn(r.nanos,a.nanos)}function ds(u,e){const r=u.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const m=Jr(r[h],a[h]);if(m)return m}return tn(r.length,a.length)}function pi(u){return wn(u)}function wn(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const a=ws(r);return`time(${a.seconds},${a.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ls(u.bytesValue).toBase64():"referenceValue"in u?Bt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let a="[",h=!0;for(const m of r.values||[])h?h=!1:a+=",",a+=wn(m);return a+"]"}(u.arrayValue):"mapValue"in u?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",m=!0;for(const b of a)m?m=!1:h+=",",h+=`${b}:${wn(r.fields[b])}`;return h+"}"}(u.mapValue):Vt()}function Ir(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function rs(u){return!!u&&"integerValue"in u}function hs(u){return!!u&&"arrayValue"in u}function zi(u){return!!u&&"nullValue"in u}function Xs(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function gi(u){return!!u&&"mapValue"in u}function ss(u){var e,r;return"__vector__"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ms(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return li(u.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Ms(a)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ms(u.arrayValue.values[r]);return e}return Object.assign({},u)}function ar(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}const bs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ls(u){return"nullValue"in u?oe:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Ir(le.empty(),Bt.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?ss(u)?bs:{mapValue:{}}:Vt()}function Z(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Ir(le.empty(),Bt.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?bs:"mapValue"in u?ss(u)?{mapValue:{}}:wt:Vt()}function X(u,e){const r=Jr(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function Te(u,e){const r=Jr(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!gi(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(r)}setAll(e){let r=ir.emptyPath(),a={},h=[];e.forEach((b,P)=>{if(!r.isImmediateParentOf(P)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=P.popLast()}b?a[P.lastSegment()]=Ms(b):h.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,a,h)}delete(e){const r=this.field(e.popLast());gi(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ot(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];gi(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){li(r,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new Oe(Ms(this.value))}}function Je(u){const e=[];return li(u.fields,(r,a)=>{const h=new ir([r]);if(gi(a)){const m=Je(a.mapValue).fields;if(0===m.length)e.push(h);else for(const b of m)e.push(h.child(b))}else e.push(h)}),new fi(e)}class bt{constructor(e,r,a,h,m,b,P){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=m,this.data=b,this.documentState=P}static newInvalidDocument(e){return new bt(e,0,zt.min(),zt.min(),zt.min(),Oe.empty(),0)}static newFoundDocument(e,r,a,h){return new bt(e,1,r,zt.min(),a,h,0)}static newNoDocument(e,r){return new bt(e,2,r,zt.min(),zt.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new bt(e,3,r,zt.min(),zt.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class an{constructor(e,r){this.position=e,this.inclusive=r}}function Un(u,e,r){let a=0;for(let h=0;h<u.position.length;h++){const m=e[h],b=u.position[h];if(a=m.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),r.key):Jr(b,r.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function Dn(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!ot(u.position[r],e.position[r]))return!1;return!0}class cr{constructor(e,r="asc"){this.field=e,this.dir=r}}function jr(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class Wn{}class Xn extends Wn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new si(e,r,a):"array-contains"===r?new uo(e,a):"in"===r?new Rs(e,a):"not-in"===r?new go(e,a):"array-contains-any"===r?new mo(e,a):new Xn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new Xo(e,a):new fs(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Jr(r,this.value)):null!==r&&tt(this.value)===tt(r)&&this.matchesComparison(Jr(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends Wn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new gr(e,r)}matches(e){return Ii(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ii(u){return"and"===u.op}function mi(u){return"or"===u.op}function Bi(u){return ki(u)&&Ii(u)}function ki(u){for(const e of u.filters)if(e instanceof gr)return!1;return!0}function Ri(u){if(u instanceof Xn)return u.field.canonicalString()+u.op.toString()+pi(u.value);if(Bi(u))return u.filters.map(e=>Ri(e)).join(",");{const e=u.filters.map(r=>Ri(r)).join(",");return`${u.op}(${e})`}}function Br(u,e){return u instanceof Xn?(a=u,(h=e)instanceof Xn&&a.op===h.op&&a.field.isEqual(h.field)&&ot(a.value,h.value)):u instanceof gr?function(a,h){return h instanceof gr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((m,b,P)=>m&&Br(b,h.filters[P]),!0)}(u,e):void Vt();var a,h}function Wi(u,e){const r=u.filters.concat(e);return gr.create(r,u.op)}function Fi(u){return u instanceof Xn?`${(r=u).field.canonicalString()} ${r.op} ${pi(r.value)}`:u instanceof gr?function(r){return r.op.toString()+" {"+r.getFilters().map(Fi).join(" ,")+"}"}(u):"Filter";var r}class si extends Xn{constructor(e,r,a){super(e,r,a),this.key=Bt.fromName(a.referenceValue)}matches(e){const r=Bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xo extends Xn{constructor(e,r){super(e,"in",r),this.keys=lo(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class fs extends Xn{constructor(e,r){super(e,"not-in",r),this.keys=lo(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function lo(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Bt.fromName(a.referenceValue))}class uo extends Xn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return hs(r)&&qr(r.arrayValue,this.value)}}class Rs extends Xn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&qr(this.value.arrayValue,r)}}class go extends Xn{constructor(e,r){super(e,"not-in",r)}matches(e){if(qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!qr(this.value.arrayValue,r)}}class mo extends Xn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!hs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>qr(this.value.arrayValue,a))}}class Qo{constructor(e,r=null,a=[],h=[],m=null,b=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=b,this.endAt=P,this.ue=null}}function Os(u,e=null,r=[],a=[],h=null,m=null,b=null){return new Qo(u,e,r,a,h,m,b)}function ps(u){const e=gt(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Ri(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(m=a).field.canonicalString()+m.dir;var m}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>pi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>pi(a)).join(",")),e.ue=r}return e.ue}function Qs(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!jr(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!Br(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Dn(u.startAt,e.startAt)&&Dn(u.endAt,e.endAt)}function Ua(u){return Bt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function ua(u,e){return u.filters.filter(r=>r instanceof Xn&&r.field.isEqual(e))}function Vi(u,e,r){let a=oe,h=!0;for(const m of ua(u,e)){let b=oe,P=!0;switch(m.op){case"<":case"<=":b=Ls(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,P=!1;break;case"!=":case"not-in":b=oe}X({value:a,inclusive:h},{value:b,inclusive:P})<0&&(a=b,h=P)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const b=r.position[m];X({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function Cs(u,e,r){let a=wt,h=!0;for(const m of ua(u,e)){let b=wt,P=!0;switch(m.op){case">=":case">":b=Z(m.value),P=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,P=!1;break;case"!=":case"not-in":b=wt}Te({value:a,inclusive:h},{value:b,inclusive:P})>0&&(a=b,h=P)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const b=r.position[m];Te({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class os{constructor(e,r=null,a=[],h=[],m=null,b="F",P=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=b,this.startAt=P,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function z(u,e,r,a,h,m,b,P){return new os(u,e,r,a,h,m,b,P)}function Q(u){return new os(u)}function L(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ce(u){return null!==u.collectionGroup}function je(u){const e=gt(u);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let P=new Vr(ir.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(W=>{W.isInequality()&&(P=P.add(W.field))})}),P})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new cr(m,a))}),r.has(ir.keyField().canonicalString())||e.ce.push(new cr(ir.keyField(),a))}return e.ce}function An(u){const e=gt(u);return e.le||(e.le=function gs(u,e){if("F"===u.limitType)return Os(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(h=>new cr(h.field,"desc"===h.dir?"asc":"desc"));const r=u.endAt?new an(u.endAt.position,u.endAt.inclusive):null,a=u.startAt?new an(u.startAt.position,u.startAt.inclusive):null;return Os(u.path,u.collectionGroup,e,u.filters,u.limit,r,a)}}(e,je(u))),e.le}function Us(u,e){const r=u.filters.concat([e]);return new os(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function ms(u,e,r){return new os(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function _o(u,e){return Qs(An(u),An(e))&&u.limitType===e.limitType}function Js(u){return`${ps(An(u))}|lt:${u.limitType}`}function _s(u){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Fi(h)).join(", ")}]`),ne(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>pi(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>pi(h)).join(",")),`Target(${a})`}(An(u))}; limitType=${u.limitType})`}function Jo(u,e){return e.isFoundDocument()&&function(a,h){const m=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(m):Bt.isDocumentKey(a.path)?a.path.isEqual(m):a.path.isImmediateParentOf(m)}(u,e)&&function(a,h){for(const m of je(a))if(!m.field.isKeyField()&&null===h.data.field(m.field))return!1;return!0}(u,e)&&function(a,h){for(const m of a.filters)if(!m.matches(h))return!1;return!0}(u,e)&&(h=e,!((a=u).startAt&&!function(b,P,F){const W=Un(b,P,F);return b.inclusive?W<=0:W<0}(a.startAt,je(a),h)||a.endAt&&!function(b,P,F){const W=Un(b,P,F);return b.inclusive?W>=0:W>0}(a.endAt,je(a),h)));var a,h}function tl(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Is(u){return(e,r)=>{let a=!1;for(const h of je(u)){const m=da(h,e,r);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function da(u,e,r){const a=u.field.isKeyField()?Bt.comparator(e.key,r.key):function(m,b,P){const F=b.data.field(m),W=P.data.field(m);return null!==F&&null!==W?Jr(F,W):Vt()}(u.field,e,r);switch(u.dir){case"asc":return a;case"desc":return-1*a;default:return Vt()}}class Qi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(r,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return Gi(this.inner)}size(){return this.innerSize}}const nl=new ii(Bt.comparator);function as(){return nl}const nn=new ii(Bt.comparator);function Zs(...u){let e=nn;for(const r of u)e=e.insert(r.key,r);return e}function ha(u){let e=nn;return u.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function ys(){return Fo()}function eo(){return Fo()}function Fo(){return new Qi(u=>u.toString(),(u,e)=>u.isEqual(e))}const rl=new ii(Bt.comparator),Ao=new Vr(Bt.comparator);function Tr(...u){let e=Ao;for(const r of u)e=e.add(r);return e}const lr=new Vr(tn);function to(){return lr}function Zo(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function vc(u){return{integerValue:""+u}}function Ll(u,e){return ct(e)?vc(e):Zo(u,e)}class Ec{constructor(){this._=void 0}}function Sh(u,e,r){return u instanceof wa?function(h,m){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return m&&As(m)&&(m=co(m)),m&&(b.fields.__previous_value__=m),{mapValue:b}}(r,e):u instanceof ea?Ul(u,e):u instanceof ja?nc(u,e):function(h,m){const b=Iu(h,m),P=Ba(b)+Ba(h.Pe);return rs(b)&&rs(h.Pe)?vc(P):Zo(h.serializer,P)}(u,e)}function tc(u,e,r){return u instanceof ea?Ul(u,e):u instanceof ja?nc(u,e):r}function Iu(u,e){return u instanceof rc?rs(a=e)||(m=a)&&"doubleValue"in m?e:{integerValue:0}:null;var a,m}class wa extends Ec{}class ea extends Ec{constructor(e){super(),this.elements=e}}function Ul(u,e){const r=jl(e);for(const a of u.elements)r.some(h=>ot(h,a))||r.push(a);return{arrayValue:{values:r}}}class ja extends Ec{constructor(e){super(),this.elements=e}}function nc(u,e){let r=jl(e);for(const a of u.elements)r=r.filter(h=>!ot(h,a));return{arrayValue:{values:r}}}class rc extends Ec{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ba(u){return Qr(u.integerValue||u.doubleValue)}function jl(u){return hs(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class x{constructor(e,r){this.field=e,this.transform=r}}class j{constructor(e,r){this.version=e,this.transformResults=r}}class q{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new q}static exists(e){return new q(void 0,e)}static updateTime(e){return new q(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Se(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class xt{}function $t(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new js(u.key,q.none()):new Mr(u.key,u.data,q.none());{const r=u.data,a=Oe.empty();let h=new Vr(ir.comparator);for(let m of e.fields)if(!h.has(m)){let b=r.field(m);null===b&&m.length>1&&(m=m.popLast(),b=r.field(m)),null===b?a.delete(m):a.set(m,b),h=h.add(m)}return new Ti(u.key,a,new fi(h.toArray()),q.none())}}function Jn(u,e,r){u instanceof Mr?function(h,m,b){const P=h.value.clone(),F=Pi(h.fieldTransforms,m,b.transformResults);P.setAll(F),m.convertToFoundDocument(b.version,P).setHasCommittedMutations()}(u,e,r):u instanceof Ti?function(h,m,b){if(!Se(h.precondition,m))return void m.convertToUnknownDocument(b.version);const P=Pi(h.fieldTransforms,m,b.transformResults),F=m.data;F.setAll(Li(h)),F.setAll(P),m.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ai(u,e,r,a){return u instanceof Mr?function(m,b,P,F){if(!Se(m.precondition,b))return P;const W=m.value.clone(),ie=yo(m.fieldTransforms,F,b);return W.setAll(ie),b.convertToFoundDocument(b.version,W).setHasLocalMutations(),null}(u,e,r,a):u instanceof Ti?function(m,b,P,F){if(!Se(m.precondition,b))return P;const W=yo(m.fieldTransforms,F,b),ie=b.data;return ie.setAll(Li(m)),ie.setAll(W),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===P?null:P.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ye=>ye.field))}(u,e,r,a):(P=r,Se(u.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):P);var b,P}function Ai(u,e){let r=null;for(const a of u.fieldTransforms){const h=e.data.field(a.field),m=Iu(a.transform,h||null);null!=m&&(null===r&&(r=Oe.empty()),r.set(a.field,m))}return r||null}function _i(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===h||a&&h&&Zn(a,h,(m,b)=>function te(u,e){return u.field.isEqual(e.field)&&(h=e.transform,(a=u.transform)instanceof ea&&h instanceof ea||a instanceof ja&&h instanceof ja?Zn(a.elements,h.elements,ot):a instanceof rc&&h instanceof rc?ot(a.Pe,h.Pe):a instanceof wa&&h instanceof wa);var a,h}(m,b))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var a,h}class Mr extends xt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Ti extends xt{constructor(e,r,a,h,m=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Li(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=u.data.field(r);e.set(r,a)}}),e}function Pi(u,e,r){const a=new Map;qt(u.length===r.length);for(let h=0;h<r.length;h++){const m=u[h],b=m.transform,P=e.data.field(m.field);a.set(m.field,tc(b,P,r[h]))}return a}function yo(u,e,r){const a=new Map;for(const h of u){const m=h.transform,b=r.data.field(h.field);a.set(h.field,Sh(m,b,e))}return a}class js extends xt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bs extends xt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ns{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&Jn(m,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=ai(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=ai(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=eo();return this.mutations.forEach(h=>{const m=e.get(h.key),b=m.overlayedDocument;let P=this.applyToLocalView(b,m.mutatedFields);P=r.has(h.key)?null:P;const F=$t(b,P);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(zt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Tr())}isEqual(e){return this.batchId===e.batchId&&Zn(this.mutations,e.mutations,(r,a)=>_i(r,a))&&Zn(this.baseMutations,e.baseMutations,(r,a)=>_i(r,a))}}class ta{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){qt(e.mutations.length===a.length);let h=rl;const m=e.mutations;for(let b=0;b<m.length;b++)h=h.insert(m[b].key,a[b].version);return new ta(e,r,a,h)}}class Ts{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class il{constructor(e,r){this.count=e,this.unchangedNames=r}}var Dr,Nr;function Aa(u){switch(u){default:return Vt();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function ho(u){if(void 0===u)return cn("GRPC error has no .code"),Fe.UNKNOWN;switch(u){case Dr.OK:return Fe.OK;case Dr.CANCELLED:return Fe.CANCELLED;case Dr.UNKNOWN:return Fe.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return Fe.INTERNAL;case Dr.UNAVAILABLE:return Fe.UNAVAILABLE;case Dr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Dr.NOT_FOUND:return Fe.NOT_FOUND;case Dr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Dr.ABORTED:return Fe.ABORTED;case Dr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Dr.DATA_LOSS:return Fe.DATA_LOSS;default:return Vt()}}(Nr=Dr||(Dr={}))[Nr.OK=0]="OK",Nr[Nr.CANCELLED=1]="CANCELLED",Nr[Nr.UNKNOWN=2]="UNKNOWN",Nr[Nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nr[Nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nr[Nr.NOT_FOUND=5]="NOT_FOUND",Nr[Nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nr[Nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nr[Nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nr[Nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nr[Nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nr[Nr.ABORTED=10]="ABORTED",Nr[Nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nr[Nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nr[Nr.INTERNAL=13]="INTERNAL",Nr[Nr.UNAVAILABLE=14]="UNAVAILABLE",Nr[Nr.DATA_LOSS=15]="DATA_LOSS";function ld(){return new TextEncoder}const ol=new Le([4294967295,4294967295],0);function Ji(u){const e=ld().encode(u),r=new Ue;return r.update(e),new Uint8Array(r.digest())}function Ph(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Le([r,a],0),new Le([h,m],0)]}class Tu{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new fa(`Invalid padding: ${r}`);if(a<0)throw new fa(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new fa(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new fa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Le.fromNumber(a)));return 1===h.compare(ol)&&(h=new Le([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ji(e),[a,h]=Ph(r);for(let m=0;m<this.hashCount;m++){const b=this.Ee(a,h,m);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),b=new Tu(m,h,r);return a.forEach(P=>b.insert(P)),b}insert(e){if(0===this.Ie)return;const r=Ji(e),[a,h]=Ph(r);for(let m=0;m<this.hashCount;m++){const b=this.Ee(a,h,m);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ds{constructor(e,r,a,h,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Ds(zt.min(),h,new ii(tn),as(),Tr())}}class na{constructor(e,r,a,h,m){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new na(a,r,Tr(),Tr(),Tr())}}class al{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class ud{constructor(e,r){this.targetId=e,this.me=r}}class dd{constructor(e,r,a=Ci.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class hd{constructor(){this.fe=0,this.ge=cl(),this.pe=Ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tr(),r=Tr(),a=Tr();return this.ge.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Vt()}}),new na(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=cl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wu{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=vr(),this.Qe=new ii(tn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const m=h.target;if(Ua(m))if(0===a){const b=new Bt(m.path);this.Ue(r,b,bt.newNoDocument(b,zt.min()))}else qt(1===a);else{const b=this.Ye(r);if(b!==a){const P=this.Ze(e),F=P?this.Xe(P,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:m=0}=r;let b,P;try{b=ls(a).toUint8Array()}catch(F){if(F instanceof ko)return In("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{P=new Tu(b,h,m)}catch(F){return In(F instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===P.Ie?null:P}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(m=>{const b=this.Le.tt(),P=`projects/${b.projectId}/databases/${b.database}/documents/${m.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,m,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((m,b)=>{const P=this.Je(b);if(P){if(m.current&&Ua(P.target)){const F=new Bt(P.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,bt.newNoDocument(F,e))}m.be&&(r.set(b,m.ve()),m.Ce())}});let a=Tr();this.qe.forEach((m,b)=>{let P=!0;b.forEachWhile(F=>{const W=this.Je(F);return!W||"TargetPurposeLimboResolution"===W.purpose||(P=!1,!1)}),P&&(a=a.add(m))}),this.ke.forEach((m,b)=>b.setReadTime(e));const h=new Ds(e,r,this.Qe,this.ke,a);return this.ke=as(),this.qe=vr(),this.Qe=new ii(tn),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new hd,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Vr(tn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hd),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function vr(){return new ii(Bt.comparator)}function cl(){return new ii(Bt.comparator)}const Au={asc:"ASCENDING",desc:"DESCENDING"},Da={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bl={and:"AND",or:"OR"};class xh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Du(u,e){return u.useProto3Json||ne(e)?e:{value:e}}function pa(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fd(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function Su(u,e){return pa(u,e.toTimestamp())}function Yi(u){return qt(!!u),zt.fromTimestamp(function(r){const a=ws(r);return new Wt(a.seconds,a.nanos)}(u))}function ll(u,e){return pd(u,e).canonicalString()}function pd(u,e){const r=(h=u,new _n(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Qt(u){const e=_n.fromString(u);return qt(T(e)),e}function $r(u,e){return ll(u.databaseId,e.path)}function ra(u,e){const r=Qt(e);if(r.get(1)!==u.databaseId.projectId)throw new rt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new rt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Bt(bc(r))}function vs(u,e){return ll(u.databaseId,e)}function $s(u){const e=Qt(u);return 4===e.length?_n.emptyPath():bc(e)}function ul(u){return new _n(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function bc(u){return qt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function vo(u,e,r){return{name:$r(u,e),fields:r.value.mapValue.fields}}function ga(u,e,r){const a=ra(u,e.name),h=Yi(e.updateTime),m=e.createTime?Yi(e.createTime):zt.min(),b=new Oe({mapValue:{fields:e.fields}}),P=bt.newFoundDocument(a,h,m,b);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function $l(u,e){let r;if(e instanceof Mr)r={update:vo(u,e.key,e.value)};else if(e instanceof js)r={delete:$r(u,e.key)};else if(e instanceof Ti)r={update:vo(u,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof Bs))return Vt();r={verify:$r(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(m,b){const P=b.transform;if(P instanceof wa)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof ea)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof ja)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof rc)return{fieldPath:b.field.canonicalString(),increment:P.Pe};throw Vt()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Su(u,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Vt()),r;var m}function ic(u,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?q.updateTime(Yi(m.updateTime)):void 0!==m.exists?q.exists(m.exists):q.none():q.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,P){let F=null;"setToServerValue"in P?(qt("REQUEST_TIME"===P.setToServerValue),F=new wa):"appendMissingElements"in P?F=new ea(P.appendMissingElements.values||[]):"removeAllFromArray"in P?F=new ja(P.removeAllFromArray.values||[]):"increment"in P?F=new rc(b,P.increment):Vt();const W=ir.fromServerFormat(P.fieldPath);return new x(W,F)}(u,h)):[];var m;if(e.update){const h=ra(u,e.update.name),m=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new fi((e.updateMask.fieldPaths||[]).map(ie=>ir.fromServerFormat(ie)));return new Ti(h,m,b,r,a)}return new Mr(h,m,r,a)}if(e.delete){const h=ra(u,e.delete);return new js(h,r)}if(e.verify){const h=ra(u,e.verify);return new Bs(h,r)}return Vt()}function Eo(u,e){return{documents:[vs(u,e.path)]}}function $a(u,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=vs(u,h);const m=function(W){if(0!==W.length)return D(gr.create(W,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const b=function(W){if(0!==W.length)return W.map(ie=>{return{field:ia(($e=ie).field),direction:Mh($e.dir)};var $e})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const P=Du(u,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:h};var W}function Do(u){let e=$s(u.parent);const r=u.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){qt(1===a);const ie=r.from[0];ie.allDescendants?h=ie.collectionId:e=e.child(ie.collectionId)}let m=[];r.where&&(m=function(ye){const $e=Ha(ye);return $e instanceof gr&&Bi($e)?$e.getFilters():[$e]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map($e=>{return new cr(Ic((Kt=$e).field),function(dn){switch(dn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Kt.direction));var Kt}));let P=null;r.limit&&(P=function(ye){let $e;return $e="object"==typeof ye?ye.value:ye,ne($e)?null:$e}(r.limit));let F=null;var ye;r.startAt&&(F=new an((ye=r.startAt).values||[],!!ye.before));let W=null;return r.endAt&&(W=function(ye){return new an(ye.values||[],!ye.before)}(r.endAt)),z(e,h,b,m,P,"F",F,W)}function Ha(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ic(r.unaryFilter.field);return Xn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Ic(r.unaryFilter.field);return Xn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Ic(r.unaryFilter.field);return Xn.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Ic(r.unaryFilter.field);return Xn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(u):void 0!==u.fieldFilter?Xn.create(Ic((r=u).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return gr.create(r.compositeFilter.filters.map(a=>Ha(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Vt()}}(r.compositeFilter.op))}(u):Vt();var r}function Mh(u){return Au[u]}function Rh(u){return Da[u]}function Pa(u){return Bl[u]}function ia(u){return{fieldPath:u.canonicalString()}}function Ic(u){return ir.fromServerFormat(u.fieldPath)}function D(u){return u instanceof Xn?function(r){if("=="===r.op){if(Xs(r.value))return{unaryFilter:{field:ia(r.field),op:"IS_NAN"}};if(zi(r.value))return{unaryFilter:{field:ia(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Xs(r.value))return{unaryFilter:{field:ia(r.field),op:"IS_NOT_NAN"}};if(zi(r.value))return{unaryFilter:{field:ia(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(r.field),op:Rh(r.op),value:r.value}}}(u):u instanceof gr?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:Pa(r.op),filters:a}}}(u):Vt()}function O(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function T(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class N{constructor(e,r,a,h,m=zt.min(),b=zt.min(),P=Ci.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function De(u,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:At(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:$r(m=u.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:pa(m,b.version.toTimestamp()),createTime:pa(m,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:_t(e.version)};else{if(!e.isUnknownDocument())return Vt();a.unknownDocument={path:r.path.toArray(),version:_t(e.version)}}var m,b;return a}function At(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function _t(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pn(u){const e=new Wt(u.seconds,u.nanoseconds);return zt.fromTimestamp(e)}function Sr(u,e){const r=(e.baseMutations||[]).map(m=>ic(u.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const a=e.mutations.map(m=>ic(u.ct,m)),h=Wt.fromMillis(e.localWriteTimeMs);return new Ns(e.batchId,h,r,a)}function Er(u){const e=Pn(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?Pn(u.lastLimboFreeSnapshotVersion):zt.min();let a;return a=void 0!==u.query.documents?(qt(1===(m=u.query).documents.length),An(Q($s(m.documents[0])))):function(m){return An(Do(m))}(u.query),new N(a,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Ci.fromBase64String(u.resumeToken));var m}function Yr(u,e){const r=_t(e.snapshotVersion),a=_t(e.lastLimboFreeSnapshotVersion);let h;h=Ua(e.target)?Eo(u.ct,e.target):$a(u.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ps(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Di(u){const e=Do({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?ms(e,e.limit,"L"):e}function sc(u,e){return new Ts(e.largestBatchId,ic(u.ct,e.overlayMutation))}function Tc(u,e){const r=e.path.lastSegment();return[u,Tt(e.path.popLast()),r]}function dl(u,e,r,a){return{indexId:u,uid:e,sequenceNumber:r,readTime:_t(a.readTime),documentKey:Tt(a.documentKey.path),largestBatchId:a.largestBatchId}}class Lo{getBundleMetadata(e,r){return Pu(e).get(r).next(a=>{if(a)return{id:(m=a).bundleId,createTime:Pn(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return Pu(e).put({bundleId:(h=r).id,createTime:_t(Yi(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Hl(e).get(r).next(a=>{if(a)return{name:(m=a).name,query:Di(m.bundledQuery),readTime:Pn(m.readTime)};var m})}saveNamedQuery(e,r){return Hl(e).put({name:(h=r).name,readTime:_t(Yi(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Pu(u){return Hi(u,"bundles")}function Hl(u){return Hi(u,"namedQueries")}class oc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new oc(e,r.uid||"")}getOverlay(e,r){return ma(e).get(Tc(this.userId,r)).next(a=>a?sc(this.serializer,a):null)}getOverlays(e,r){const a=ys();return Qe.forEach(r,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((m,b)=>{const P=new Ts(r,b);h.push(this.ht(e,P))}),Qe.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(Tt(b.getCollectionPath())));const m=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);m.push(ma(e).j("collectionPathOverlayIndex",P))}),Qe.waitFor(m)}getOverlaysForCollection(e,r,a){const h=ys(),m=Tt(r),b=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ma(e).U("collectionPathOverlayIndex",b).next(P=>{for(const F of P){const W=sc(this.serializer,F);h.set(W.getKey(),W)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const m=ys();let b;const P=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ma(e).J({index:"collectionGroupOverlayIndex",range:P},(F,W,ie)=>{const ye=sc(this.serializer,W);m.size()<h||ye.largestBatchId===b?(m.set(ye.getKey(),ye),b=ye.largestBatchId):ie.done()}).next(()=>m)}ht(e,r){return ma(e).put(function(h,m,b){const[P,F,W]=Tc(m,b.mutation.key);return{userId:m,collectionPath:F,documentId:W,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:$l(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function ma(u){return Hi(u,"documentOverlays")}class Oh{Pt(e){return Hi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?Ci.fromUint8Array(a):Ci.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ga{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Qr(e.integerValue));else if("doubleValue"in e){const a=Qr(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),ge(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=ws(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ls(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?ar(e)?this.dt(r,Number.MAX_SAFE_INTEGER):ss(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Vt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const m=e.fields||{};this.dt(r,53);const b="value",P=(null===(h=null===(a=m[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Qr(P)),this.Vt(b,r),this.Tt(m[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),Bt.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Gl(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function xu(u){const e=64-function(a){let h=0;for(let m=0;m<8;++m){const b=Gl(255&a[m]);if(h+=b,8!==b)break}return h}(u);return Math.ceil(e/8)}Ga.vt=new Ga;class Mu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=xu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=xu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(m){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,m,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Ru{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class _d{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ou{constructor(){this.jt=new Mu,this.Ht=new Ru(this.jt),this.Jt=new _d(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Uo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Uo(this.indexId,this.documentKey,this.arrayValue,a)}}function _a(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=wc(u.arrayValue,e.arrayValue),0!==r?r:(r=wc(u.directionalValue,e.directionalValue),0!==r?r:Bt.comparator(u.documentKey,e.documentKey)))}function wc(u,e){for(let r=0;r<u.length&&r<e.length;++r){const a=u[r]-e[r];if(0!==a)return a}return u.length-e.length}class ya{constructor(e){this.Xt=new Vr((r,a)=>ir.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(qt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Qn(e);if(void 0!==r&&!this.sn(r))return!1;const a=Rn(e);let h=new Set,m=0,b=0;for(;m<a.length&&this.sn(a[m]);++m)h=h.add(a[m].fieldPath.canonicalString());if(m===a.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const F=a[m];if(!this.on(P,F)||!this._n(this.en[b++],F))return!1}++m}for(;m<a.length;++m)if(b>=this.en.length||!this._n(this.en[b++],a[m]))return!1;return!0}an(){if(this.nn)return null;let e=new Vr(ir.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Ur(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Ur(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Ur(a.field,"asc"===a.dir?0:1)));return new Sn(Sn.UNKNOWN_ID,this.collectionId,r,er.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Nu(u){var e,r;if(qt(u instanceof Xn||u instanceof gr),u instanceof Xn){if(u instanceof Rs){const h=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Xn.create(u.field,"==",m)))||[];return gr.create(h,"or")}return u}const a=u.filters.map(h=>Nu(h));return gr.create(a,u.op)}function Fm(u){if(0===u.getFilters().length)return[];const e=qf(Nu(u));return qt(Kf(e)),yd(e)||zl(e)?[e]:e.getFilters()}function yd(u){return u instanceof Xn}function zl(u){return u instanceof gr&&Bi(u)}function Kf(u){return yd(u)||zl(u)||function(r){if(r instanceof gr&&mi(r)){for(const a of r.getFilters())if(!yd(a)&&!zl(a))return!1;return!0}return!1}(u)}function qf(u){if(qt(u instanceof Xn||u instanceof gr),u instanceof Xn)return u;if(1===u.filters.length)return qf(u.filters[0]);const e=u.filters.map(a=>qf(a));let r=gr.create(e,u.op);return r=Nh(r),Kf(r)?r:(qt(r instanceof gr),qt(Ii(r)),qt(r.filters.length>1),r.filters.reduce((a,h)=>Wl(a,h)))}function Wl(u,e){let r;return qt(u instanceof Xn||u instanceof gr),qt(e instanceof Xn||e instanceof gr),r=u instanceof Xn?e instanceof Xn?gr.create([u,e],"and"):Ac(u,e):e instanceof Xn?Ac(e,u):function(h,m){if(qt(h.filters.length>0&&m.filters.length>0),Ii(h)&&Ii(m))return Wi(h,m.getFilters());const b=mi(h)?h:m,P=mi(h)?m:h,F=b.filters.map(W=>Wl(W,P));return gr.create(F,"or")}(u,e),Nh(r)}function Ac(u,e){if(Ii(e))return Wi(e,u.getFilters());{const r=e.filters.map(a=>Wl(u,a));return gr.create(r,"or")}}function Nh(u){if(qt(u instanceof Xn||u instanceof gr),u instanceof Xn)return u;const e=u.getFilters();if(1===e.length)return Nh(e[0]);if(ki(u))return u;const r=e.map(h=>Nh(h)),a=[];return r.forEach(h=>{h instanceof Xn?a.push(h):h instanceof gr&&(h.op===u.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:gr.create(a,u.op)}class za{constructor(){this.un=new ku}addToCollectionParentIndex(e,r){return this.un.add(r),Qe.resolve()}getCollectionParents(e,r){return Qe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Qe.resolve()}deleteFieldIndex(e,r){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,r){return Qe.resolve()}getDocumentsMatchingTarget(e,r){return Qe.resolve(null)}getIndexType(e,r){return Qe.resolve(0)}getFieldIndexes(e,r){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,r){return Qe.resolve(rn.min())}getMinOffsetFromCollectionGroup(e,r){return Qe.resolve(rn.min())}updateCollectionGroup(e,r,a){return Qe.resolve()}updateIndexEntries(e,r){return Qe.resolve()}}class ku{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Vr(_n.comparator),m=!h.has(a);return this.index[r]=h.add(a),m}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Vr(_n.comparator)).toArray()}}const ac=new Uint8Array(0);class Yf{constructor(e,r){this.databaseId=r,this.cn=new ku,this.ln=new Qi(a=>ps(a),(a,h)=>Qs(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const m={collectionId:a,parent:Tt(h)};return kh(e).put(m)}return Qe.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[$n(r),""],!1,!0);return kh(e).U(h).next(m=>{for(const b of m){if(b.collectionId!==r)break;a.push(Tn(b.parent))}return a})}addFieldIndex(e,r){const a=Fu(e),h={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var P;delete h.indexId;const m=a.add(h);if(r.indexState){const b=So(e);return m.next(P=>{b.put(dl(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const a=Fu(e),h=So(e),m=va(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Fu(e),a=va(e),h=So(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return Qe.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const m=new ya(a).an();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const a=va(e);let h=!0;const m=new Map;return Qe.forEach(this.hn(r),b=>this.Pn(e,b).next(P=>{h&&(h=!!P),m.set(b,P)})).next(()=>{if(h){let b=Tr();const P=[];return Qe.forEach(m,(F,W)=>{var ur;Ie("IndexedDbIndexManager",`Using index ${ur=F,`id=${ur.indexId}|cg=${ur.collectionGroup}|f=${ur.fields.map(Hr=>`${Hr.fieldPath}:${Hr.kind}`).join(",")}`} to execute ${ps(r)}`);const ie=function(ur,Hr){const fr=Qn(Hr);if(void 0===fr)return null;for(const vi of ua(ur,fr.fieldPath))switch(vi.op){case"array-contains-any":return vi.value.arrayValue.values||[];case"array-contains":return[vi.value]}return null}(W,F),ye=function(ur,Hr){const fr=new Map;for(const vi of Rn(Hr))for(const ut of ua(ur,vi.fieldPath))switch(ut.op){case"==":case"in":fr.set(vi.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return fr.set(vi.fieldPath.canonicalString(),ut.value),Array.from(fr.values())}return null}(W,F),$e=function(ur,Hr){const fr=[];let vi=!0;for(const ut of Rn(Hr)){const ke=0===ut.kind?Vi(ur,ut.fieldPath,ur.startAt):Cs(ur,ut.fieldPath,ur.startAt);fr.push(ke.value),vi&&(vi=ke.inclusive)}return new an(fr,vi)}(W,F),It=function(ur,Hr){const fr=[];let vi=!0;for(const ut of Rn(Hr)){const ke=0===ut.kind?Cs(ur,ut.fieldPath,ur.endAt):Vi(ur,ut.fieldPath,ur.endAt);fr.push(ke.value),vi&&(vi=ke.inclusive)}return new an(fr,vi)}(W,F),Kt=this.In(F,W,$e),En=this.In(F,W,It),dn=this.Tn(F,W,ye),nr=this.En(F.indexId,ie,Kt,$e.inclusive,En,It.inclusive,dn);return Qe.forEach(nr,br=>a.G(br,r.limit).next(ur=>{ur.forEach(Hr=>{const fr=Bt.fromSegments(Hr.documentKey);b.has(fr)||(b=b.add(fr),P.push(fr))})}))}).next(()=>P)}return Qe.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Fm(gr.create(e.filters,"and")).map(a=>Os(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,m,b,P){const F=(null!=r?r.length:1)*Math.max(a.length,m.length),W=F/(null!=r?r.length:1),ie=[];for(let ye=0;ye<F;++ye){const $e=r?this.dn(r[ye/W]):ac,It=this.An(e,$e,a[ye%W],h),Kt=this.Rn(e,$e,m[ye%W],b),En=P.map(dn=>this.An(e,$e,dn,!0));ie.push(...this.createRange(It,Kt,En))}return ie}An(e,r,a,h){const m=new Uo(e,Bt.empty(),r,a);return h?m:m.Zt()}Rn(e,r,a,h){const m=new Uo(e,Bt.empty(),r,a);return h?m.Zt():m}Pn(e,r){const a=new ya(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let b=null;for(const P of m)a.rn(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return Qe.forEach(h,m=>this.Pn(e,m).next(b=>{b?0!==a&&b.fields.length<function(F){let W=new Vr(ir.comparator),ie=!1;for(const ye of F.filters)for(const $e of ye.getFlattenedFilters())$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?ie=!0:W=W.add($e.field));for(const ye of F.orderBy)ye.field.isKeyField()||(W=W.add(ye.field));return W.size+(ie?1:0)}(m)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Ou;for(const h of Rn(e)){const m=r.data.field(h.fieldPath);if(null==m)return null;const b=a.Yt(h.kind);Ga.vt.It(m,b)}return a.zt()}dn(e){const r=new Ou;return Ga.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Ou;return Ga.vt.It(Ir(this.databaseId,r),a.Yt(function(m){const b=Rn(m);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Ou);let m=0;for(const b of Rn(e)){const P=a[m++];for(const F of h)if(this.fn(r,b.fieldPath)&&hs(P))h=this.gn(h,b,P);else{const W=F.Yt(b.kind);Ga.vt.It(P,W)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],m=[];for(const b of a.arrayValue.values||[])for(const P of h){const F=new Ou;F.seed(P.zt()),Ga.vt.It(b,F.Yt(r.kind)),m.push(F)}return m}fn(e,r){return!!e.filters.find(a=>a instanceof Xn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Fu(e),h=So(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(m=>{const b=[];return Qe.forEach(m,P=>h.get([P.indexId,this.uid]).next(F=>{b.push(function(ie,ye){const $e=ye?new er(ye.sequenceNumber,new rn(Pn(ye.readTime),new Bt(Tn(ye.documentKey)),ye.largestBatchId)):er.empty(),It=ie.fields.map(([Kt,En])=>new Ur(ir.fromServerFormat(Kt),En));return new Sn(ie.indexId,ie.collectionGroup,It,$e)}(P,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:tn(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Fu(e),m=So(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>Qe.forEach(P,F=>m.put(dl(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return Qe.forEach(r,(h,m)=>{const b=a.get(h.collectionGroup);return(b?Qe.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(a.set(h.collectionGroup,P),Qe.forEach(P,F=>this.wn(e,h,F).next(W=>{const ie=this.Sn(m,F);return W.isEqual(ie)?Qe.resolve():this.bn(e,m,F,W,ie)}))))})}Dn(e,r,a,h){return va(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return va(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=va(e);let m=new Vr(_a);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,P)=>{m=m.add(new Uo(a.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}Sn(e,r){let a=new Vr(_a);const h=this.Vn(r,e);if(null==h)return a;const m=Qn(r);if(null!=m){const b=e.data.field(m.fieldPath);if(hs(b))for(const P of b.arrayValue.values||[])a=a.add(new Uo(r.indexId,e.key,this.dn(P),h))}else a=a.add(new Uo(r.indexId,e.key,ac,h));return a}bn(e,r,a,h,m){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,W,ie,ye,$e){const It=F.getIterator(),Kt=W.getIterator();let En=Vs(It),dn=Vs(Kt);for(;En||dn;){let nr=!1,br=!1;if(En&&dn){const ur=ie(En,dn);ur<0?br=!0:ur>0&&(nr=!0)}else null!=En?br=!0:nr=!0;nr?(ye(dn),dn=Vs(Kt)):br?($e(En),En=Vs(It)):(En=Vs(It),dn=Vs(Kt))}}(h,m,_a,P=>{b.push(this.Dn(e,r,a,P))},P=>{b.push(this.vn(e,r,a,P))}),Qe.waitFor(b)}yn(e){let r=1;return So(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,P)=>_a(b,P)).filter((b,P,F)=>!P||0!==_a(b,F[P-1]));const h=[];h.push(e);for(const b of a){const P=_a(b,e),F=_a(b,r);if(0===P)h[0]=e.Zt();else if(P>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const m=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];m.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ac,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ac,[]]))}return m}Cn(e,r){return _a(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Vu)}getMinOffset(e,r){return Qe.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Vt())).next(Vu)}}function kh(u){return Hi(u,"collectionParents")}function va(u){return Hi(u,"indexEntries")}function Fu(u){return Hi(u,"indexConfiguration")}function So(u){return Hi(u,"indexState")}function Vu(u){qt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<u.length;a++){const h=u[a].indexState.offset;Ar(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new rn(e.readTime,e.documentKey,r)}const Dc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kl(u,e,r){const a=u.store("mutations"),h=u.store("documentMutations"),m=[],b=IDBKeyRange.only(r.batchId);let P=0;const F=a.J({range:b},(ie,ye,$e)=>(P++,$e.delete()));m.push(F.next(()=>{qt(1===P)}));const W=[];for(const ie of r.mutations){const ye=Me(e,ie.key.path,r.batchId);m.push(h.delete(ye)),W.push(ie.key)}return Qe.waitFor(m).next(()=>W)}function cc(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Vt();e=u.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class lc{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){qt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new lc(m,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sc(e).J({index:"userMutationsIndex",range:a},(h,m,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const m=ro(e),b=Sc(e);return b.add({}).next(P=>{qt("number"==typeof P);const F=new Ns(P,r,a,h),W=function(It,Kt,En){const dn=En.baseMutations.map(br=>$l(It.ct,br)),nr=En.mutations.map(br=>$l(It.ct,br));return{userId:Kt,batchId:En.batchId,localWriteTimeMs:En.localWriteTime.toMillis(),baseMutations:dn,mutations:nr}}(this.serializer,this.userId,F),ie=[];let ye=new Vr(($e,It)=>tn($e.canonicalString(),It.canonicalString()));for(const $e of h){const It=Me(this.userId,$e.key.path,P);ye=ye.add($e.key.path.popLast()),ie.push(b.put(W)),ie.push(m.put(It,Be))}return ye.forEach($e=>{ie.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.Fn[P]=F.keys()}),Qe.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return Sc(e).get(r).next(a=>a?(qt(a.userId===this.userId),Sr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?Qe.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Sc(e).J({index:"userMutationsIndex",range:h},(b,P,F)=>{P.userId===this.userId&&(qt(P.batchId>=a),m=Sr(this.serializer,P)),F.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Sc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,m,b)=>{a=m.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sc(e).U("userMutationsIndex",r).next(a=>a.map(h=>Sr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=Re(this.userId,r.path),h=IDBKeyRange.lowerBound(a),m=[];return ro(e).J({range:h},(b,P,F)=>{const[W,ie,ye]=b,$e=Tn(ie);if(W===this.userId&&r.path.isEqual($e))return Sc(e).get(ye).next(It=>{if(!It)throw Vt();qt(It.userId===this.userId),m.push(Sr(this.serializer,It))});F.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Vr(tn);const h=[];return r.forEach(m=>{const b=Re(this.userId,m.path),P=IDBKeyRange.lowerBound(b),F=ro(e).J({range:P},(W,ie,ye)=>{const[$e,It,Kt]=W,En=Tn(It);$e===this.userId&&m.path.isEqual(En)?a=a.add(Kt):ye.done()});h.push(F)}),Qe.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,m=Re(this.userId,a),b=IDBKeyRange.lowerBound(m);let P=new Vr(tn);return ro(e).J({range:b},(F,W,ie)=>{const[ye,$e,It]=F,Kt=Tn($e);ye===this.userId&&a.isPrefixOf(Kt)?Kt.length===h&&(P=P.add(It)):ie.done()}).next(()=>this.xn(e,P))}xn(e,r){const a=[],h=[];return r.forEach(m=>{h.push(Sc(e).get(m).next(b=>{if(null===b)throw Vt();qt(b.userId===this.userId),a.push(Sr(this.serializer,b))}))}),Qe.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Kl(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),Qe.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Qe.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return ro(e).J({range:a},(m,b,P)=>{if(m[0]===this.userId){const F=Tn(m[1]);h.push(F)}else P.done()}).next(()=>{qt(0===h.length)})})}containsKey(e,r){return Fh(e,this.userId,r)}Nn(e){return Lu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fh(u,e,r){const a=Re(e,r.path),h=a[1],m=IDBKeyRange.lowerBound(a);let b=!1;return ro(u).J({range:m,H:!0},(P,F,W)=>{const[ie,ye,$e]=P;ie===e&&ye===h&&(b=!0),W.done()}).next(()=>b)}function Sc(u){return Hi(u,"mutations")}function ro(u){return Hi(u,"documentMutations")}function Lu(u){return Hi(u,"mutationQueues")}class Pc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pc(0)}static kn(){return new Pc(-1)}}class yg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Pc(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>zt.fromTimestamp(new Wt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>xa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(qt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const m=[];return xa(e).J((b,P)=>{const F=Er(P);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,m.push(this.removeTargetData(e,F)))}).next(()=>Qe.waitFor(m)).next(()=>h)}forEachTarget(e,r){return xa(e).J((a,h)=>{const m=Er(h);r(m)})}qn(e){return uc(e).get("targetGlobalKey").next(r=>(qt(null!==r),r))}Qn(e,r){return uc(e).put("targetGlobalKey",r)}Kn(e,r){return xa(e).put(Yr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=ps(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return xa(e).J({range:h,index:"queryTargetsIndex"},(b,P,F)=>{const W=Er(P);Qs(r,W.target)&&(m=W,F.done())}).next(()=>m)}addMatchingKeys(e,r,a){const h=[],m=dc(e);return r.forEach(b=>{const P=Tt(b.path);h.push(m.put({targetId:a,path:P})),h.push(this.referenceDelegate.addReference(e,a,b))}),Qe.waitFor(h)}removeMatchingKeys(e,r,a){const h=dc(e);return Qe.forEach(r,m=>{const b=Tt(m.path);return Qe.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,r){const a=dc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=dc(e);let m=Tr();return h.J({range:a,H:!0},(b,P,F)=>{const W=Tn(b[1]),ie=new Bt(W);m=m.add(ie)}).next(()=>m)}containsKey(e,r){const a=Tt(r.path),h=IDBKeyRange.bound([a],[$n(a)],!1,!0);let m=0;return dc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,P],F,W)=>{0!==b&&(m++,W.done())}).next(()=>m>0)}ot(e,r){return xa(e).get(r).next(a=>a?Er(a):null)}}function xa(u){return Hi(u,"targets")}function uc(u){return Hi(u,"targetGlobal")}function dc(u){return Hi(u,"targetDocuments")}function Uu([u,e],[r,a]){const h=tn(u,r);return 0===h?tn(e,a):h}class Xf{constructor(e){this.Un=e,this.buffer=new Vr(Uu),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Uu(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xc{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){zn(a)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Yn(a)}yield r.Hn(3e5)}))}}class Vh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return Qe.resolve(k.oe);const a=new Xf(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Dc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,m,b,P,F,W;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(a=ye,P=Date.now(),this.removeTargets(e,a,r))).next(ye=>(m=ye,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ye=>(W=Date.now(),Ot()<=Ee.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${m} targets in `+(F-P)+`ms\n\tRemoved ${ye} documents in `+(W-F)+`ms\nTotal Duration: ${W-ie}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:ye})))}}class Qf{constructor(e,r){this.db=e,this.garbageCollector=function io(u,e){return new Vh(u,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return Mc(e,a)}removeReference(e,r,a){return Mc(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return Mc(e,r)}nr(e,r){return function(h,m){let b=!1;return Lu(h).Y(P=>Fh(h,P,m).next(F=>(F&&(b=!0),Qe.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.tr(e,(b,P)=>{if(P<=r){const F=this.nr(e,b).next(W=>{if(!W)return m++,a.getEntry(e,b).next(()=>(a.removeEntry(b,zt.min()),dc(e).delete([0,Tt(b.path)])))});h.push(F)}}).next(()=>Qe.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return Mc(e,r)}tr(e,r){const a=dc(e);let h,m=k.oe;return a.J({index:"documentTargetsIndex"},([b,P],{path:F,sequenceNumber:W})=>{0===b?(m!==k.oe&&r(new Bt(Tn(h)),m),m=W,h=F):m=k.oe}).next(()=>{m!==k.oe&&r(new Bt(Tn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mc(u,e){return dc(u).put((h=u.currentSequenceNumber,{targetId:0,path:Tt(e.path),sequenceNumber:h}));var h}class vd{constructor(){this.changes=new Qi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Qe.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return sa(e).put(a)}removeEntry(e,r,a){return sa(e).delete(function(m,b){const P=m.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],At(b),P[P.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=bt.newInvalidDocument(r);return sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ea(r))},(h,m)=>{a=this.ir(r,m)}).next(()=>a)}sr(e,r){let a={size:0,document:bt.newInvalidDocument(r)};return sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ea(r))},(h,m)=>{a={document:this.ir(r,m),size:cc(m)}}).next(()=>a)}getEntries(e,r){let a=as();return this._r(e,r,(h,m)=>{const b=this.ir(h,m);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=as(),h=new ii(Bt.comparator);return this._r(e,r,(m,b)=>{const P=this.ir(m,b);a=a.insert(m,P),h=h.insert(m,cc(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return Qe.resolve();let h=new Vr(bd);r.forEach(F=>h=h.add(F));const m=IDBKeyRange.bound(Ea(h.first()),Ea(h.last())),b=h.getIterator();let P=b.getNext();return sa(e).J({index:"documentKeyIndex",range:m},(F,W,ie)=>{const ye=Bt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;P&&bd(P,ye)<0;)a(P,null),P=b.getNext();P&&P.isEqual(ye)&&(a(P,W),P=b.hasNext()?b.getNext():null),P?ie.$(Ea(P)):ie.done()}).next(()=>{for(;P;)a(P,null),P=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,m){const b=r.path,P=[b.popLast().toArray(),b.lastSegment(),At(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sa(e).U(IDBKeyRange.bound(P,F,!0)).next(W=>{m?.incrementDocumentReadCount(W.length);let ie=as();for(const ye of W){const $e=this.ir(Bt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);$e.isFoundDocument()&&(Jo(r,$e)||h.has($e.key))&&(ie=ie.insert($e.key,$e))}return ie})}getAllFromCollectionGroup(e,r,a,h){let m=as();const b=Uh(r,a),P=Uh(r,rn.max());return sa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(F,W,ie)=>{const ye=this.ir(Bt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(ye.key,ye),m.size===h&&ie.done()}).next(()=>m)}newChangeBuffer(e){return new Ed(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return hl(e).get("remoteDocumentGlobalKey").next(r=>(qt(!!r),r))}rr(e,r){return hl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ae(u,e){let r;if(e.document)r=ga(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Bt.fromSegments(e.noDocument.path),h=Pn(e.noDocument.readTime);r=bt.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vt();{const a=Bt.fromSegments(e.unknownDocument.path),h=Pn(e.unknownDocument.version);r=bt.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const m=new Wt(h[0],h[1]);return zt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(zt.min()))return a}return bt.newInvalidDocument(e)}}function ql(u){return new Lh(u)}class Ed extends vd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Qi(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Vr((m,b)=>tn(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const P=this.lr.get(m);if(r.push(this.cr.removeEntry(e,m,P.readTime)),b.isValidDocument()){const F=De(this.cr.serializer,b);h=h.add(m.path.popLast());const W=cc(F);a+=W-P.size,r.push(this.cr.addEntry(e,m,F))}else if(a-=P.size,this.trackRemovals){const F=De(this.cr.serializer,b.convertToNoDocument(zt.min()));r.push(this.cr.addEntry(e,m,F))}}),h.forEach(m=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.cr.updateMetadata(e,a)),Qe.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((m,b)=>{this.lr.set(m,{size:b,readTime:a.get(m).readTime})}),a))}}function hl(u){return Hi(u,"remoteDocumentGlobal")}function sa(u){return Hi(u,"remoteDocumentsV14")}function Ea(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uh(u,e){const r=e.documentKey.path.toArray();return[u,At(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function bd(u,e){const r=u.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<r.length-2&&m<a.length-2;++m)if(h=tn(r[m],a[m]),h)return h;return h=tn(r.length,a.length),h||(h=tn(r[r.length-2],a[a.length-2]),h||tn(r[r.length-1],a[a.length-1]))}class ba{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class jh{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&ai(a.mutation,h,fi.empty(),Wt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,Tr()).next(()=>a))}getLocalViewOfDocuments(e,r,a=Tr()){const h=ys();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(m=>{let b=Zs();return m.forEach((P,F)=>{b=b.insert(P,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=ys();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,Tr()))}populateOverlays(e,r,a){const h=[];return a.forEach(m=>{r.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((b,P)=>{r.set(b,P)})})}computeViews(e,r,a,h){let m=as();const b=Fo(),P=Fo();return r.forEach((F,W)=>{const ie=a.get(W.key);h.has(W.key)&&(void 0===ie||ie.mutation instanceof Ti)?m=m.insert(W.key,W):void 0!==ie?(b.set(W.key,ie.mutation.getFieldMask()),ai(ie.mutation,W,ie.mutation.getFieldMask(),Wt.now())):b.set(W.key,fi.empty())}),this.recalculateAndSaveOverlays(e,m).next(F=>(F.forEach((W,ie)=>b.set(W,ie)),r.forEach((W,ie)=>{var ye;return P.set(W,new ba(ie,null!==(ye=b.get(W))&&void 0!==ye?ye:null))}),P))}recalculateAndSaveOverlays(e,r){const a=Fo();let h=new ii((b,P)=>b-P),m=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const P of b)P.keys().forEach(F=>{const W=r.get(F);if(null===W)return;let ie=a.get(F)||fi.empty();ie=P.applyToLocalView(W,ie),a.set(F,ie);const ye=(h.get(P.batchId)||Tr()).add(F);h=h.insert(P.batchId,ye)})}).next(()=>{const b=[],P=h.getReverseIterator();for(;P.hasNext();){const F=P.getNext(),W=F.key,ie=F.value,ye=eo();ie.forEach($e=>{if(!m.has($e)){const It=$t(r.get($e),a.get($e));null!==It&&ye.set($e,It),m=m.add($e)}}),b.push(this.documentOverlayCache.saveOverlays(e,W,ye))}return Qe.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return Bt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(m=>{const b=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-m.size):Qe.resolve(ys());let P=-1,F=m;return b.next(W=>Qe.forEach(W,(ie,ye)=>(P<ye.largestBatchId&&(P=ye.largestBatchId),m.get(ie)?Qe.resolve():this.remoteDocumentCache.getEntry(e,ie).next($e=>{F=F.insert(ie,$e)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,F,W,Tr())).next(ie=>({batchId:P,changes:ha(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Bt(r)).next(a=>{let h=Zs();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const m=r.collectionGroup;let b=Zs();return this.indexManager.getCollectionParents(e,m).next(P=>Qe.forEach(P,F=>{const W=(ye=r,$e=F.child(m),new os($e,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,$e;return this.getDocumentsMatchingCollectionQuery(e,W,a,h).next(ie=>{ie.forEach((ye,$e)=>{b=b.insert(ye,$e)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(m=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,m,h))).next(b=>{m.forEach((F,W)=>{const ie=W.getKey();null===b.get(ie)&&(b=b.insert(ie,bt.newInvalidDocument(ie)))});let P=Zs();return b.forEach((F,W)=>{const ie=m.get(F);void 0!==ie&&ai(ie.mutation,W,fi.empty(),Wt.now()),Jo(r,W)&&(P=P.insert(F,W))}),P})}}class Vm{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Qe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Yi(h.createTime)}),Qe.resolve();var h}getNamedQuery(e,r){return Qe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Di(h.bundledQuery),readTime:Yi(h.readTime)}),Qe.resolve();var h}}class Rc{constructor(){this.overlays=new ii(Bt.comparator),this.Ir=new Map}getOverlay(e,r){return Qe.resolve(this.overlays.get(r))}getOverlays(e,r){const a=ys();return Qe.forEach(r,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,m)=>{this.ht(e,r,m)}),Qe.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(a)),Qe.resolve()}getOverlaysForCollection(e,r,a){const h=ys(),m=r.length+1,b=new Bt(r.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const F=P.getNext().value,W=F.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===m&&F.largestBatchId>a&&h.set(F.getKey(),F)}return Qe.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let m=new ii((W,ie)=>W-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const W=b.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>a){let ie=m.get(W.largestBatchId);null===ie&&(ie=ys(),m=m.insert(W.largestBatchId,ie)),ie.set(W.getKey(),W)}}const P=ys(),F=m.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((W,ie)=>P.set(W,ie)),!(P.size()>=h)););return Qe.resolve(P)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ts(r,a));let m=this.Ir.get(r);void 0===m&&(m=Tr(),this.Ir.set(r,m)),this.Ir.set(r,m.add(a.key))}}class Jf{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Qe.resolve()}}class Zf{constructor(){this.Tr=new Vr(ks.Er),this.dr=new Vr(ks.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new ks(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new ks(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new Bt(new _n([])),a=new ks(r,e),h=new ks(r,e+1),m=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),m.push(b.key)}),m}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Bt(new _n([])),a=new ks(r,e),h=new ks(r,e+1);let m=Tr();return this.dr.forEachInRange([a,h],b=>{m=m.add(b.key)}),m}containsKey(e){const r=new ks(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class ks{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Bt.comparator(e.key,r.key)||tn(e.wr,r.wr)}static Ar(e,r){return tn(e.wr,r.wr)||Bt.comparator(e.key,r.key)}}class vg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Vr(ks.Er)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const m=this.Sr;this.Sr++;const b=new Ns(m,r,a,h);this.mutationQueue.push(b);for(const P of h)this.br=this.br.add(new ks(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Qe.resolve(b)}lookupMutationBatch(e,r){return Qe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),m=h<0?0:h;return Qe.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new ks(r,0),h=new ks(r,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([a,h],b=>{const P=this.Dr(b.wr);m.push(P)}),Qe.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Vr(tn);return r.forEach(h=>{const m=new ks(h,0),b=new ks(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,b],P=>{a=a.add(P.wr)})}),Qe.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let m=a;Bt.isDocumentKey(m)||(m=m.child(""));const b=new ks(new Bt(m),0);let P=new Vr(tn);return this.br.forEachWhile(F=>{const W=F.key.path;return!!a.isPrefixOf(W)&&(W.length===h&&(P=P.add(F.wr)),!0)},b),Qe.resolve(this.Cr(P))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){qt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return Qe.forEach(r.mutations,h=>{const m=new ks(h.key,r.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new ks(r,0),h=this.br.firstAfterOrEqual(a);return Qe.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return Qe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Eg{constructor(e){this.Mr=e,this.docs=new ii(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),m=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Qe.resolve(a?a.document.mutableCopy():bt.newInvalidDocument(r))}getEntries(e,r){let a=as();return r.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():bt.newInvalidDocument(h))}),Qe.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let m=as();const b=r.path,P=new Bt(b.child("")),F=this.docs.getIteratorFrom(P);for(;F.hasNext();){const{key:W,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(W.path))break;W.path.length>b.length+1||Ar(hi(ie),a)<=0||(h.has(ie.key)||Jo(r,ie))&&(m=m.insert(ie.key,ie.mutableCopy()))}return Qe.resolve(m)}getAllFromCollectionGroup(e,r,a,h){Vt()}Or(e,r){return Qe.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new fl(this)}getSize(e){return Qe.resolve(this.size)}}class fl extends vd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),Qe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class bg{constructor(e){this.persistence=e,this.Nr=new Qi(r=>ps(r),Qs),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zf,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),Qe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Qe.resolve()}updateTargetData(e,r){return this.Kn(r),Qe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,r,a){let h=0;const m=[];return this.Nr.forEach((b,P)=>{P.sequenceNumber<=r&&null===a.get(P.targetId)&&(this.Nr.delete(b),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),Qe.waitFor(m).next(()=>h)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return Qe.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),Qe.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,m=[];return h&&r.forEach(b=>{m.push(h.markPotentiallyOrphaned(e,b))}),Qe.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Qe.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return Qe.resolve(a)}containsKey(e,r){return Qe.resolve(this.Br.containsKey(r))}}class Cd{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Jf,this.referenceDelegate=e(this),this.Ur=new bg(this),this.indexManager=new za,this.remoteDocumentCache=new Eg(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new Vm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Rc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new vg(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("MemoryPersistence","Starting transaction:",e);const h=new Hs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(m=>this.referenceDelegate.jr(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Hr(e,r){return Qe.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Hs extends _r{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Jr=new Zf,this.Yr=null}static Zr(e){return new Id(e)}get Xr(){if(this.Yr)return this.Yr;throw Vt()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),Qe.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),Qe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Qe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(m=>this.Xr.add(m.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Xr,a=>{const h=Bt.fromPath(a);return this.ei(e,h).next(m=>{m||r.removeEntry(h,zt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Qe.or([()=>Qe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Td{constructor(e){this.serializer=e}O(e,r,a,h){const m=new ft("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yr,{unique:!0}),F.createObjectStore("documentMutations"),jo(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=Qe.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),jo(e)),b=b.next(()=>function(F){const W=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",ie)}(m))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,W){return W.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yr,{unique:!0});const ye=W.store("mutations"),$e=ie.map(It=>ye.put(It));return Qe.waitFor($e)})}(e,m))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(m))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(m)))),a<7&&h>=7&&(b=b.next(()=>this.ii(m))),a<8&&h>=8&&(b=b.next(()=>this.si(e,m))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(m))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const W=F.createObjectStore("documentOverlays",{keyPath:kn});W.createIndex("collectionPathOverlayIndex",gn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Ln,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const W=F.createObjectStore("remoteDocumentsV14",{keyPath:kt});W.createIndex("documentKeyIndex",Xt),W.createIndex("collectionGroupIndex",bn)}(e)).next(()=>this._i(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,m))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:vt}).createIndex("sequenceNumberIndex",qe,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Dt}).createIndex("documentKeyIndex",pn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=cc(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>Qe.forEach(h,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(P=>Qe.forEach(P,F=>{qt(F.userId===m.userId);const W=Sr(this.serializer,F);return Kl(e,m.userId,W).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.J((b,P)=>{const F=new _n(b),W=[0,Tt(F)];m.push(r.get(W).next(ie=>ie?Qe.resolve():r.put({targetId:0,path:Tt(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Qe.waitFor(m))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:ri});const a=r.store("collectionParents"),h=new ku,m=b=>{if(h.add(b)){const P=b.lastSegment(),F=b.popLast();return a.put({collectionId:P,parent:Tt(F)})}};return r.store("remoteDocuments").J({H:!0},(b,P)=>{const F=new _n(b);return m(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,P,F],W)=>{const ie=Tn(P);return m(ie.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const m=Er(h),b=Yr(this.serializer,m);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((m,b)=>{const P=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new Bt(_n.fromString(ye.document.name).popFirst(5)):ye.noDocument?Bt.fromSegments(ye.noDocument.path):ye.unknownDocument?Bt.fromSegments(ye.unknownDocument.path):Vt()).path.toArray(),W={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(P.put(W))}).next(()=>Qe.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=ql(this.serializer),m=new Cd(Id.Zr,this.serializer.ct);return a.U().next(b=>{const P=new Map;return b.forEach(F=>{var W;let ie=null!==(W=P.get(F.userId))&&void 0!==W?W:Tr();Sr(this.serializer,F).keys().forEach(ye=>ie=ie.add(ye)),P.set(F.userId,ie)}),Qe.forEach(P,(F,W)=>{const ie=new it(W),ye=oc.lt(this.serializer,ie),$e=m.getIndexManager(ie),It=lc.lt(ie,this.serializer,$e,m.referenceDelegate);return new jh(h,It,ye,$e).recalculateAndSaveOverlaysForDocumentKeys(new Ys(r,k.oe),F).next()})})}}function jo(u){u.createObjectStore("targetDocuments",{keyPath:or}).createIndex("documentTargetsIndex",vn,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fn,{unique:!0}),u.createObjectStore("targetGlobal")}const Nc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wd{constructor(e,r,a,h,m,b,P,F,W,ie,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=m,this.window=b,this.document=P,this.ci=W,this.li=ie,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=$e=>Promise.resolve(),!wd.D())throw new rt(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new se(this.Ai,this.hi,new Td(this.serializer)),this.$r=new Oh,this.Ur=new yg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ql(this.serializer),this.Gr=new Lo,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&cn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Fe.FAILED_PRECONDITION,Nc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(zn(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return kc(e).get("owner").next(r=>Qe.resolve(this.vi(r)))}Ci(e){return Fc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Hi(a,"clientMetadata");return h.U().next(m=>{const b=e.xi(m,18e5),P=m.filter(F=>-1===b.indexOf(F));return Qe.forEach(P,F=>h.delete(F.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Qe.resolve(!0):kc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new rt(Fe.FAILED_PRECONDITION,Nc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ie("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new Ys(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Fc(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return lc.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return oc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",m=17===(F=this.hi)?qs:16===F?ji:15===F?ns:14===F?wi:13===F?tr:12===F?Fr:11===F?xr:void Vt();var F;let b;return this.Ri.runTransaction(e,h,m,P=>(b=new Ys(P,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new rt(Fe.FAILED_PRECONDITION,Hn);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(P=>(b.raiseOnCommittedEvent(),P))}Ki(e){return kc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new rt(Fe.FAILED_PRECONDITION,Nc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kc(e).put("owner",r)}static D(){return se.D()}bi(e){const r=kc(e);return r.get("owner").next(a=>this.vi(a)?(Ie("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Qe.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(cn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return cn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){cn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kc(u){return Hi(u,"owner")}function Fc(u){return Hi(u,"clientMetadata")}function Ad(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class ep{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=Tr(),h=Tr();for(const m of r.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new ep(e,r.fromCache,a,h)}}class Vc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lm{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,he.nr)()?8:Pe((0,he.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const m={result:null};return this.Yi(e,r).next(b=>{m.result=b}).next(()=>{if(!m.result)return this.Zi(e,r,h,a).next(b=>{m.result=b})}).next(()=>{if(m.result)return;const b=new Vc;return this.Xi(e,r,b).next(P=>{if(m.result=P,this.zi)return this.es(e,r,b,P.size)})}).next(()=>m.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(Ot()<=Ee.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Qe.resolve()):(Ot()<=Ee.$b.DEBUG&&Ie("QueryEngine","Query:",_s(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Ot()<=Ee.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(r))):Qe.resolve())}Yi(e,r){if(L(r))return Qe.resolve(null);let a=An(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=ms(r,null,"F"),a=An(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const b=Tr(...m);return this.Ji.getDocuments(e,b).next(P=>this.indexManager.getMinOffset(e,a).next(F=>{const W=this.ts(r,P);return this.ns(r,W,b,F.readTime)?this.Yi(e,ms(r,null,"F")):this.rs(e,W,r,F)}))})))}Zi(e,r,a,h){return L(r)||h.isEqual(zt.min())?Qe.resolve(null):this.Ji.getDocuments(e,a).next(m=>{const b=this.ts(r,m);return this.ns(r,b,a,h)?Qe.resolve(null):(Ot()<=Ee.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),_s(r)),this.rs(e,b,r,oi(h,-1)).next(P=>P))})}ts(e,r){let a=new Vr(Is(e));return r.forEach((h,m)=>{Jo(e,m)&&(a=a.add(m))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Xi(e,r,a){return Ot()<=Ee.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Ji.getDocumentsMatchingQuery(e,r,rn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(m=>(r.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Bo{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new ii(tn),this._s=new Qi(m=>ps(m),Qs),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Dd(u,e,r,a){return new Bo(u,e,r,a)}function hc(u,e){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.A)(function*(u,e){const r=gt(u);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(m=>{const b=[],P=[];let F=Tr();for(const W of h){b.push(W.batchId);for(const ie of W.mutations)F=F.add(ie.key)}for(const W of m){P.push(W.batchId);for(const ie of W.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(a,F).next(W=>({hs:W,removedBatchIds:b,addedBatchIds:P}))})})})).apply(this,arguments)}function Pd(u){const e=gt(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Bh(u,e,r){let a=Tr(),h=Tr();return r.forEach(m=>a=a.add(m)),e.getEntries(u,a).next(m=>{let b=as();return r.forEach((P,F)=>{const W=m.get(P);F.isFoundDocument()!==W.isFoundDocument()&&(h=h.add(P)),F.isNoDocument()&&F.version.isEqual(zt.min())?(e.removeEntry(P,F.readTime),b=b.insert(P,F)):!W.isValidDocument()||F.version.compareTo(W.version)>0||0===F.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(F),b=b.insert(P,F)):Ie("LocalStore","Ignoring outdated watch update for ",P,". Current version:",W.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function np(u,e){const r=gt(u);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Lc(u,e){const r=gt(u);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(m=>m?(h=m,Qe.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function Yl(u,e,r){return xd.apply(this,arguments)}function xd(){return(xd=(0,o.A)(function*(u,e,r){const a=gt(u),h=a.os.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",m,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!zn(b))throw b;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function Ma(u,e,r){const a=gt(u);let h=zt.min(),m=Tr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,W,ie){const ye=gt(F),$e=ye._s.get(ie);return void 0!==$e?Qe.resolve(ye.os.get($e)):ye.Ur.getTargetData(W,ie)}(a,b,An(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,P.targetId).next(F=>{m=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:zt.min(),r?m:Tr())).next(P=>(Hh(a,tl(e),P),{documents:P,Ts:m})))}function $h(u,e){const r=gt(u),a=gt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",m=>a.ot(m,e).next(b=>b?b.target:null))}function Ra(u,e){const r=gt(u),a=r.us.get(e)||zt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,oi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Hh(r,e,h),h))}function Hh(u,e,r){let a=u.us.get(e)||zt.min();r.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),u.us.set(e,a)}function Md(){return(Md=(0,o.A)(function*(u,e,r,a){const h=gt(u);let m=Tr(),b=as();for(const W of r){const ie=e.Es(W.metadata.name);W.document&&(m=m.add(ie));const ye=e.ds(W);ye.setReadTime(e.As(W.metadata.readTime)),b=b.insert(ie,ye)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Lc(h,(ie=a,An(Q(_n.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",W=>Bh(W,P,b).next(ie=>(P.apply(W),ie)).next(ie=>h.Ur.removeMatchingKeysForTargetId(W,F.targetId).next(()=>h.Ur.addMatchingKeys(W,m,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(W,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function Ql(u,e){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(u,e,r=Tr()){const a=yield Lc(u,An(Di(e.bundledQuery))),h=gt(u);return h.persistence.runTransaction("Save named query","readwrite",m=>{const b=Yi(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(m,e);const P=a.withResumeToken(Ci.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(m,P).next(()=>h.Ur.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Ur.addMatchingKeys(m,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(m,e))})})).apply(this,arguments)}function ju(u,e){return`firestore_clients_${u}_${e}`}function Gh(u,e,r){let a=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Rd(u,e){return`firestore_targets_${u}_${e}`}class Od{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let m,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(m=new rt(h.error.code,h.error.message))),b?new Od(e,r,h.state,m):(cn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fc{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new rt(a.error.code,a.error.message))),m?new fc(e,a.state,h):(cn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=to();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ct(a.activeTargetIds[b]),m=m.add(a.activeTargetIds[b]);return h?new Uc(e,m):(cn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(cn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class g{constructor(){this.activeTargetIds=to()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,m){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ii(tn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=ju(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new g),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const m=e.getItem(ju(e.persistenceKey,h));if(m){const b=Uc.Rs(h,m);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Rd(this.persistenceKey,e));if(h){const m=fc.Rs(e,h);m&&(a=m.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rd(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ie("SharedClientState","READ",e,r),r}setItem(e,r){Ie("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ie("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void cn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let P=k.oe;if(null!=b)try{const F=JSON.parse(b);qt("number"==typeof F),P=F}catch(F){cn("SharedClientState","Failed to read sequence number from WebStorage",F)}return P}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(m=>r.syncEngine.eo(m)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Od(this.currentUser,e,r,a),m=Gh(this.persistenceKey,this.currentUser,e);this.setItem(m,h.Vs())}Qs(e){const r=Gh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Rd(this.persistenceKey,e),m=new fc(e,r,a);this.setItem(h,m.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return Uc.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Od.Rs(new it(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return fc.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),m=this.ks(a),b=[],P=[];return m.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{m.has(F)||P.push(F)}),this.syncEngine.io(b,P).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=to();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new g,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y{_o(e){}shutdown(){}}class fe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let We=null;function Rt(){return null===We?We=268435456+Math.round(2147483648*Math.random()):We++,"0x"+We.toString(16)}const Zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Gn="WebChannelConnection";class ui extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${m}`}get Fo(){return!1}Mo(r,a,h,m,b){const P=Rt(),F=this.xo(r,a.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${P}:`,F,h);const W={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(W,m,b),this.No(r,F,W,h).then(ie=>(Ie("RestConnection",`Received RPC '${r}' ${P}: `,ie),ie),ie=>{throw In("RestConnection",`RPC '${r}' ${P} failed with error: `,ie,"url: ",F,"request:",h),ie})}Lo(r,a,h,m,b,P){return this.Mo(r,a,h,m,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+et,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((m,b)=>r[b]=m),h&&h.headers.forEach((m,b)=>r[b]=m)}xo(r,a){return`${this.Do}/v1/${a}:${Zt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const m=Rt();return new Promise((b,P)=>{const F=new xe;F.setWithCredentials(!0),F.listenOnce(Nt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Mt.NO_ERROR:const ie=F.getResponseJson();Ie(Gn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(ie)),b(ie);break;case Mt.TIMEOUT:Ie(Gn,`RPC '${e}' ${m} timed out`),P(new rt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case Mt.HTTP_ERROR:const ye=F.getStatus();if(Ie(Gn,`RPC '${e}' ${m} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const It=$e?.error;if(It&&It.status&&It.message){const Kt=function(dn){const nr=dn.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(nr)>=0?nr:Fe.UNKNOWN}(It.status);P(new rt(Kt,It.message))}else P(new rt(Fe.UNKNOWN,"Server responded with status "+F.getStatus()))}else P(new rt(Fe.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{Ie(Gn,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(h);Ie(Gn,`RPC '${e}' ${m} sending request:`,h),F.send(r,"POST",W,a,15)})}Bo(e,r,a){const h=Rt(),m=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ge(),P=yn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(F.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const ie=m.join("");Ie(Gn,`Creating RPC '${e}' stream ${h}: ${ie}`,F);const ye=b.createWebChannel(ie,F);let $e=!1,It=!1;const Kt=new Fn({Io:dn=>{It?Ie(Gn,`Not sending because RPC '${e}' stream ${h} is closed:`,dn):($e||(Ie(Gn,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),$e=!0),Ie(Gn,`RPC '${e}' stream ${h} sending:`,dn),ye.send(dn))},To:()=>ye.close()}),En=(dn,nr,br)=>{dn.listen(nr,ur=>{try{br(ur)}catch(Hr){setTimeout(()=>{throw Hr},0)}})};return En(ye,nt.EventType.OPEN,()=>{It||(Ie(Gn,`RPC '${e}' stream ${h} transport opened.`),Kt.yo())}),En(ye,nt.EventType.CLOSE,()=>{It||(It=!0,Ie(Gn,`RPC '${e}' stream ${h} transport closed`),Kt.So())}),En(ye,nt.EventType.ERROR,dn=>{It||(It=!0,In(Gn,`RPC '${e}' stream ${h} transport errored:`,dn),Kt.So(new rt(Fe.UNAVAILABLE,"The operation could not be completed")))}),En(ye,nt.EventType.MESSAGE,dn=>{var nr;if(!It){const br=dn.data[0];qt(!!br);const Hr=br.error||(null===(nr=br[0])||void 0===nr?void 0:nr.error);if(Hr){Ie(Gn,`RPC '${e}' stream ${h} received error:`,Hr);const fr=Hr.status;let vi=function(Ke){const ht=Dr[Ke];if(void 0!==ht)return ho(ht)}(fr),ut=Hr.message;void 0===vi&&(vi=Fe.INTERNAL,ut="Unknown error status: "+fr+" with message "+Hr.message),It=!0,Kt.So(new rt(vi,ut)),ye.close()}else Ie(Gn,`RPC '${e}' stream ${h} received:`,br),Kt.bo(br)}}),En(P,Lt.STAT_EVENT,dn=>{dn.stat===Gt.PROXY?Ie(Gn,`RPC '${e}' stream ${h} detected buffering proxy`):dn.stat===Gt.NOPROXY&&Ie(Gn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Kt.wo()},0),Kt}}function $o(){return typeof window<"u"?window:null}function Ca(){return typeof document<"u"?document:null}function gl(u){return new xh(u,!0)}class Jl{constructor(e,r,a=1e3,h=1.5,m=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Nd{constructor(e,r,a,h,m,b,P,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jl(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(cn(r.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Fe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new rt(Fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zh extends Nd{constructor(e,r,a,h,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=m}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function gd(u,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Vt(),h=e.targetChange.targetIds||[],m=function(W,ie){return W.useProto3Json?(qt(void 0===ie||"string"==typeof ie),Ci.fromBase64String(ie||"")):(qt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Ci.fromUint8Array(ie||new Uint8Array))}(u,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(W){const ie=void 0===W.code?Fe.UNKNOWN:ho(W.code);return new rt(ie,W.message||"")}(b);r=new dd(a,h,m,P||null)}else if("documentChange"in e){const a=e.documentChange,h=ra(u,a.document.name),m=Yi(a.document.updateTime),b=a.document.createTime?Yi(a.document.createTime):zt.min(),P=new Oe({mapValue:{fields:a.document.fields}}),F=bt.newFoundDocument(h,m,b,P);r=new al(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=ra(u,a.document),m=a.readTime?Yi(a.readTime):zt.min(),b=bt.newNoDocument(h,m);r=new al([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=ra(u,a.document);r=new al([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Vt();{const a=e.filter,{count:h=0,unchangedNames:m}=a,b=new il(h,m);r=new ud(a.targetId,b)}}var W;return r}(this.serializer,e),a=function(m){if(!("targetChange"in m))return zt.min();const b=m.targetChange;return b.targetIds&&b.targetIds.length?zt.min():b.readTime?Yi(b.readTime):zt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=ul(this.serializer),r.addTarget=function(m,b){let P;const F=b.target;if(P=Ua(F)?{documents:Eo(m,F)}:{query:$a(m,F)._t},P.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){P.resumeToken=fd(m,b.resumeToken);const W=Du(m,b.expectedCount);null!==W&&(P.expectedCount=W)}else if(b.snapshotVersion.compareTo(zt.min())>0){P.readTime=pa(m,b.snapshotVersion.toTimestamp());const W=Du(m,b.expectedCount);null!==W&&(P.expectedCount=W)}return P}(this.serializer,e);const a=function md(u,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=ul(this.serializer),r.removeTarget=e,this.a_(r)}}class Wh extends Nd{constructor(e,r,a,h,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function no(u,e){return u&&u.length>0?(qt(void 0!==e),u.map(r=>function(h,m){let b=Yi(h.updateTime?h.updateTime:m);return b.isEqual(zt.min())&&(b=Yi(m)),new j(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=ul(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>$l(this.serializer,a))};this.a_(r)}}class rp extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new rt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.Mo(e,pd(r,a),h,m,b)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new rt(Fe.UNKNOWN,m.toString())})}Lo(e,r,a,h,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,P])=>this.connection.Lo(e,pd(r,a),h,b,P,m)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new rt(Fe.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cn(r),this.D_=!1):Ie("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ip{constructor(e,r,a,h,m){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(P=>{a.enqueueAndForget((0,o.A)(function*(){var F;Oa(b)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(ie){const ye=gt(ie);ye.L_.add(4),yield Wa(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield Zl(ye)}),function W(ie){return F.apply(this,arguments)})(b))}))}),this.q_=new kd(a,h)}}function Zl(u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,o.A)(function*(u){if(Oa(u))for(const e of u.B_)yield e(!0)})).apply(this,arguments)}function Wa(u){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,o.A)(function*(u){for(const e of u.B_)yield e(!1)})).apply(this,arguments)}function eu(u,e){const r=gt(u);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),sp(r)?Ig(r):Hu(r).r_()&&Bu(r,e))}function ml(u,e){const r=gt(u),a=Hu(r);r.N_.delete(e),a.r_()&&Um(r,e),0===r.N_.size&&(a.r_()?a.o_():Oa(r)&&r.q_.set("Unknown"))}function Bu(u,e){if(u.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hu(u).A_(e)}function Um(u,e){u.Q_.xe(e),Hu(u).R_(e)}function Ig(u){u.Q_=new wu({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.N_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),Hu(u).start(),u.q_.v_()}function sp(u){return Oa(u)&&!Hu(u).n_()&&u.N_.size>0}function Oa(u){return 0===gt(u).L_.size}function Tg(u){u.Q_=void 0}function jm(u){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,o.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function $u(u){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,o.A)(function*(u){u.N_.forEach((e,r)=>{Bu(u,e)})})).apply(this,arguments)}function Av(u,e){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.A)(function*(u,e){Tg(u),sp(u)?(u.q_.M_(e),Ig(u)):u.q_.set("Unknown")})).apply(this,arguments)}function cy(u,e,r){return op.apply(this,arguments)}function op(){return op=(0,o.A)(function*(u,e,r){if(u.q_.set("Online"),e instanceof dd&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(m,b){const P=b.cause;for(const F of b.targetIds)m.N_.has(F)&&(yield m.remoteSyncer.rejectListen(F,P),m.N_.delete(F),m.Q_.removeTarget(F))}),function h(m,b){return a.apply(this,arguments)})(u,e)}catch(a){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Ud(u,a)}else if(e instanceof al?u.Q_.Ke(e):e instanceof ud?u.Q_.He(e):u.Q_.We(e),!r.isEqual(zt.min()))try{const a=yield Pd(u.localStore);r.compareTo(a)>=0&&(yield function(m,b){const P=m.Q_.rt(b);return P.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const ie=m.N_.get(W);ie&&m.N_.set(W,ie.withResumeToken(F.resumeToken,b))}}),P.targetMismatches.forEach((F,W)=>{const ie=m.N_.get(F);if(!ie)return;m.N_.set(F,ie.withResumeToken(Ci.EMPTY_BYTE_STRING,ie.snapshotVersion)),Um(m,F);const ye=new N(ie.target,F,W,ie.sequenceNumber);Bu(m,ye)}),m.remoteSyncer.applyRemoteEvent(P)}(u,r))}catch(a){Ie("RemoteStore","Failed to raise snapshot:",a),yield Ud(u,a)}var a}),op.apply(this,arguments)}function Ud(u,e,r){return wg.apply(this,arguments)}function wg(){return(wg=(0,o.A)(function*(u,e,r){if(!zn(e))throw e;u.L_.add(1),yield Wa(u),u.q_.set("Offline"),r||(r=()=>Pd(u.localStore)),u.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield r(),u.L_.delete(1),yield Zl(u)}))})).apply(this,arguments)}function Bm(u,e){return e().catch(r=>Ud(u,r,e))}function jd(u){return ap.apply(this,arguments)}function ap(){return(ap=(0,o.A)(function*(u){const e=gt(u),r=jc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ly(e);)try{const h=yield np(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,$m(e,h)}catch(h){yield Ud(e,h)}oa(e)&&qh(e)})).apply(this,arguments)}function ly(u){return Oa(u)&&u.O_.length<10}function $m(u,e){u.O_.push(e);const r=jc(u);r.r_()&&r.V_&&r.m_(e.mutations)}function oa(u){return Oa(u)&&!jc(u).n_()&&u.O_.length>0}function qh(u){jc(u).start()}function cp(u){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,o.A)(function*(u){jc(u).p_()})).apply(this,arguments)}function Fs(u){return tu.apply(this,arguments)}function tu(){return(tu=(0,o.A)(function*(u){const e=jc(u);for(const r of u.O_)e.m_(r.mutations)})).apply(this,arguments)}function lp(u,e,r){return up.apply(this,arguments)}function up(){return(up=(0,o.A)(function*(u,e,r){const a=u.O_.shift(),h=ta.from(a,e,r);yield Bm(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield jd(u)})).apply(this,arguments)}function Hm(u,e){return dp.apply(this,arguments)}function dp(){return dp=(0,o.A)(function*(u,e){var r;e&&jc(u).V_&&(yield(r=(0,o.A)(function*(h,m){if(Aa(P=m.code)&&P!==Fe.ABORTED){const b=h.O_.shift();jc(h).s_(),yield Bm(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,m)),yield jd(h)}var P}),function a(h,m){return r.apply(this,arguments)})(u,e)),oa(u)&&qh(u)}),dp.apply(this,arguments)}function hp(u,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,o.A)(function*(u,e){const r=gt(u);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const a=Oa(r);r.L_.add(3),yield Wa(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Zl(r)})).apply(this,arguments)}function Ag(u,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,o.A)(function*(u,e){const r=gt(u);e?(r.L_.delete(2),yield Zl(r)):e||(r.L_.add(2),yield Wa(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Hu(u){return u.K_||(u.K_=function(r,a,h){const m=gt(r);return m.w_(),new zh(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(u.datastore,u.asyncQueue,{Eo:jm.bind(null,u),Ro:$u.bind(null,u),mo:Av.bind(null,u),d_:cy.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.K_.s_(),sp(u)?Ig(u):u.q_.set("Unknown")):(yield u.K_.stop(),Tg(u))});return function(r){return e.apply(this,arguments)}}())),u.K_}function jc(u){return u.U_||(u.U_=function(r,a,h){const m=gt(r);return m.w_(),new Wh(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cp.bind(null,u),mo:Hm.bind(null,u),f_:Fs.bind(null,u),g_:lp.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.U_.s_(),yield jd(u)):(yield u.U_.stop(),u.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(r){return e.apply(this,arguments)}}())),u.U_}class Yh{constructor(e,r,a,h,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,m){const b=Date.now()+a,P=new Yh(e,r,b,h,m);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Na(u,e){if(cn("AsyncQueue",`${e}: ${u}`),zn(u))return new rt(Fe.UNAVAILABLE,`${e}: ${u}`);throw u}class $d{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Bt.comparator(r.key,a.key):(r,a)=>Bt.comparator(r.key,a.key),this.keyedMap=Zs(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new $d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $d)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new $d;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Xh{constructor(){this.W_=new ii(Bt.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Vt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class ka{constructor(e,r,a,h,m,b,P,F,W){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=F,this.hasCachedResults=W}static fromInitialDocuments(e,r,a,h,m){const b=[];return r.forEach(P=>{b.push({type:0,doc:P})}),new ka(e,r,$d.emptySet(r),b,a,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class uy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Gm{constructor(){this.queries=Dg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=gt(r),m=h.queries;h.queries=Dg(),m.forEach((b,P)=>{for(const F of P.j_)F.onError(a)})}(this,new rt(Fe.ABORTED,"Firestore shutting down"))}}function Dg(){return new Qi(u=>Js(u),_o)}function gp(u,e){return nu.apply(this,arguments)}function nu(){return(nu=(0,o.A)(function*(u,e){const r=gt(u);let a=3;const h=e.query;let m=r.queries.get(h);m?!m.H_()&&e.J_()&&(a=2):(m=new uy,a=e.J_()?0:1);try{switch(a){case 0:m.z_=yield r.onListen(h,!0);break;case 1:m.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const P=Na(b,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(P)}r.queries.set(h,m),m.j_.push(e),e.Z_(r.onlineState),m.z_&&e.X_(m.z_)&&yp(r)})).apply(this,arguments)}function Hd(u,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,o.A)(function*(u,e){const r=gt(u),a=e.query;let h=3;const m=r.queries.get(a);if(m){const b=m.j_.indexOf(e);b>=0&&(m.j_.splice(b,1),0===m.j_.length?h=e.J_()?0:1:!m.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Sg(u,e){const r=gt(u);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const P of b.j_)P.X_(h)&&(a=!0);b.z_=h}}a&&yp(r)}function _p(u,e,r){const a=gt(u),h=a.queries.get(e);if(h)for(const m of h.j_)m.onError(r);a.queries.delete(e)}function yp(u){u.Y_.forEach(e=>{e.next()})}var Gd,Qh;(Qh=Gd||(Gd={})).ea="default",Qh.Cache="cache";class Pg{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new ka(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gd.Cache}}class dy{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class Jh{constructor(e){this.serializer=e}Es(e){return ra(this.serializer,e)}ds(e){return e.metadata.exists?ga(this.serializer,e.document,!1):bt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Yi(e)}}class xg{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yi(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=_n.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new Jh(this.serializer);for(const h of e)if(h.metadata.queries){const m=a.Es(h.metadata.name);for(const b of h.metadata.queries){const P=(r.get(b)||Tr()).add(m);r.set(b,P)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Xl(u,e,r,a){return Md.apply(this,arguments)}(e.localStore,new Jh(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield Ql(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function yi(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class vp{constructor(e){this.key=e}}class Ep{constructor(e){this.key=e}}class zm{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tr(),this.mutatedKeys=Tr(),this.Aa=Is(e),this.Ra=new $d(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Xh,h=r?r.Ra:this.Ra;let m=r?r.mutatedKeys:this.mutatedKeys,b=h,P=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,W="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ie,ye)=>{const $e=h.get(ie),It=Jo(this.query,ye)?ye:null,Kt=!!$e&&this.mutatedKeys.has($e.key),En=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let dn=!1;$e&&It?$e.data.isEqual(It.data)?Kt!==En&&(a.track({type:3,doc:It}),dn=!0):this.ga($e,It)||(a.track({type:2,doc:It}),dn=!0,(F&&this.Aa(It,F)>0||W&&this.Aa(It,W)<0)&&(P=!0)):!$e&&It?(a.track({type:0,doc:It}),dn=!0):$e&&!It&&(a.track({type:1,doc:$e}),dn=!0,(F||W)&&(P=!0)),dn&&(It?(b=b.add(It),m=En?m.add(ie):m.delete(ie)):(b=b.delete(ie),m=m.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),m=m.delete(ie.key),a.track({type:1,doc:ie})}return{Ra:b,fa:a,ns:P,mutatedKeys:m}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const m=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ie,ye)=>function(It,Kt){const En=dn=>{switch(dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return En(It)-En(Kt)}(ie.type,ye.type)||this.Aa(ie.doc,ye.doc)),this.pa(a),h=null!=h&&h;const P=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,W=F!==this.Ea;return this.Ea=F,0!==b.length||W?{snapshot:new ka(this.query,e.Ra,m,b,e.mutatedKeys,0===F,W,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new Ep(a))}),this.da.forEach(a=>{e.has(a)||r.push(new vp(a))}),r}ba(e){this.Ta=e.Ts,this.da=Tr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class hy{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Mg{constructor(e){this.key=e,this.va=!1}}class Wm{constructor(e,r,a,h,m,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new Qi(P=>Js(P),_o),this.Ma=new Map,this.xa=new Set,this.Oa=new ii(Bt.comparator),this.Na=new Map,this.La=new Zf,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Gu(u,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,o.A)(function*(u,e,r=!0){const a=Wu(u);let h;const m=a.Fa.get(e);return m?(a.sharedClientState.addLocalQueryTarget(m.targetId),h=m.view.Da()):h=yield fy(a,e,r,!0),h})).apply(this,arguments)}function Km(u,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,o.A)(function*(u,e){const r=Wu(u);yield fy(r,e,!0,!1)})).apply(this,arguments)}function fy(u,e,r,a){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.A)(function*(u,e,r,a){const h=yield Lc(u.localStore,An(e)),m=h.targetId,b=u.sharedClientState.addLocalQueryTarget(m,r);let P;return a&&(P=yield Og(u,e,m,"current"===b,h.resumeToken)),u.isPrimaryClient&&r&&eu(u.remoteStore,h),P})).apply(this,arguments)}function Og(u,e,r,a,h){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,o.A)(function*(u,e,r,a,h){u.Ka=(ye,$e,It)=>{return(Kt=(0,o.A)(function*(dn,nr,br,ur){let Hr=nr.view.ma(br);Hr.ns&&(Hr=yield Ma(dn.localStore,nr.query,!1).then(({documents:ke})=>nr.view.ma(ke,Hr)));const fr=ur&&ur.targetChanges.get(nr.targetId),vi=ur&&null!=ur.targetMismatches.get(nr.targetId),ut=nr.view.applyChanges(Hr,dn.isPrimaryClient,fr,vi);return ru(dn,nr.targetId,ut.wa),ut.snapshot}),function En(dn,nr,br,ur){return Kt.apply(this,arguments)})(u,ye,$e,It);var Kt};const m=yield Ma(u.localStore,e,!0),b=new zm(e,m.Ts),P=b.ma(m.documents),F=na.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==u.onlineState,h),W=b.applyChanges(P,u.isPrimaryClient,F);ru(u,r,W.wa);const ie=new hy(e,r,b);return u.Fa.set(e,ie),u.Ma.has(r)?u.Ma.get(r).push(e):u.Ma.set(r,[e]),W.snapshot}),Cp.apply(this,arguments)}function qm(u,e,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,o.A)(function*(u,e,r){const a=gt(u),h=a.Fa.get(e),m=a.Ma.get(h.targetId);if(m.length>1)return a.Ma.set(h.targetId,m.filter(b=>!_o(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Yl(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&ml(a.remoteStore,h.targetId),yl(a,h.targetId)}).catch(Yn))):(yl(a,h.targetId),yield Yl(a.localStore,h.targetId,!0))})).apply(this,arguments)}function Ng(u,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,o.A)(function*(u,e){const r=gt(u),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),ml(r.remoteStore,a.targetId))})).apply(this,arguments)}function zu(){return(zu=(0,o.A)(function*(u,e,r){const a=zg(u);try{const h=yield function(b,P){const F=gt(b),W=Wt.now(),ie=P.reduce((It,Kt)=>It.add(Kt.key),Tr());let ye,$e;return F.persistence.runTransaction("Locally write mutations","readwrite",It=>{let Kt=as(),En=Tr();return F.cs.getEntries(It,ie).next(dn=>{Kt=dn,Kt.forEach((nr,br)=>{br.isValidDocument()||(En=En.add(nr))})}).next(()=>F.localDocuments.getOverlayedDocuments(It,Kt)).next(dn=>{ye=dn;const nr=[];for(const br of P){const ur=Ai(br,ye.get(br.key).overlayedDocument);null!=ur&&nr.push(new Ti(br.key,ur,Je(ur.value.mapValue),q.exists(!0)))}return F.mutationQueue.addMutationBatch(It,W,nr,P)}).next(dn=>{$e=dn;const nr=dn.applyToLocalDocumentSet(ye,En);return F.documentOverlayCache.saveOverlays(It,dn.batchId,nr)})}).then(()=>({batchId:$e.batchId,changes:ha(ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,P,F){let W=b.Ba[b.currentUser.toKey()];W||(W=new ii(tn)),W=W.insert(P,F),b.Ba[b.currentUser.toKey()]=W}(a,h.batchId,r),yield vl(a,h.changes),yield jd(a.remoteStore)}catch(h){const m=Na(h,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function kg(u,e){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,o.A)(function*(u,e){const r=gt(u);try{const a=yield function Cg(u,e){const r=gt(u),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const P=[];e.targetChanges.forEach((ie,ye)=>{const $e=h.get(ye);if(!$e)return;P.push(r.Ur.removeMatchingKeys(m,ie.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(m,ie.addedDocuments,ye)));let It=$e.withSequenceNumber(m.currentSequenceNumber);var En,dn,nr;null!==e.targetMismatches.get(ye)?It=It.withResumeToken(Ci.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):ie.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(ie.resumeToken,a)),h=h.insert(ye,It),dn=It,nr=ie,(0===(En=$e).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-En.snapshotVersion.toMicroseconds()>=3e8||nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(m,It))});let F=as(),W=Tr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,ie))}),P.push(Bh(m,b,e.documentUpdates).next(ie=>{F=ie.Ps,W=ie.Is})),!a.isEqual(zt.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(m).next(ye=>r.Ur.setTargetsMetadata(m,m.currentSequenceNumber,a));P.push(ie)}return Qe.waitFor(P).next(()=>b.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,F,W)).next(()=>F)}).then(m=>(r.os=h,m))}(r.localStore,e);e.targetChanges.forEach((h,m)=>{const b=r.Na.get(m);b&&(qt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?qt(b.va):h.removedDocuments.size>0&&(qt(b.va),b.va=!1))}),yield vl(r,a,e)}catch(a){yield Yn(a)}})).apply(this,arguments)}function ef(u,e,r){const a=gt(u);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((m,b)=>{const P=b.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(b,P){const F=gt(b);F.onlineState=P;let W=!1;F.queries.forEach((ie,ye)=>{for(const $e of ye.j_)$e.Z_(P)&&(W=!0)}),W&&yp(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Ym(u,e,r){return tf.apply(this,arguments)}function tf(){return(tf=(0,o.A)(function*(u,e,r){const a=gt(u);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),m=h&&h.key;if(m){let b=new ii(Bt.comparator);b=b.insert(m,bt.newNoDocument(m,zt.min()));const P=Tr().add(m),F=new Ds(zt.min(),new Map,new ii(tn),b,P);yield kg(a,F),a.Oa=a.Oa.remove(m),a.Na.delete(e),Ug(a)}else yield Yl(a.localStore,e,!1).then(()=>yl(a,e,r)).catch(Yn)})).apply(this,arguments)}function nf(u,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,o.A)(function*(u,e){const r=gt(u),a=e.batch.batchId;try{const h=yield function tp(u,e){const r=gt(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,F,W,ie){const ye=W.batch,$e=ye.keys();let It=Qe.resolve();return $e.forEach(Kt=>{It=It.next(()=>ie.getEntry(F,Kt)).next(En=>{const dn=W.docVersions.get(Kt);qt(null!==dn),En.version.compareTo(dn)<0&&(ye.applyToRemoteDocument(En,W),En.isValidDocument()&&(En.setReadTime(W.commitVersion),ie.addEntry(En)))})}),It.next(()=>P.mutationQueue.removeMutationBatch(F,ye))}(r,a,e,m).next(()=>m.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(P){let F=Tr();for(let W=0;W<P.mutationResults.length;++W)P.mutationResults[W].transformResults.length>0&&(F=F.add(P.batch.mutations[W].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Dp(r,a,null),Ap(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield vl(r,h)}catch(h){yield Yn(h)}})).apply(this,arguments)}function Xm(u,e,r){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,o.A)(function*(u,e,r){const a=gt(u);try{const h=yield function(b,P){const F=gt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ie;return F.mutationQueue.lookupMutationBatch(W,P).next(ye=>(qt(null!==ye),ie=ye.keys(),F.mutationQueue.removeMutationBatch(W,ye))).next(()=>F.mutationQueue.performConsistencyCheck(W)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(W,ie,P)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,ie)).next(()=>F.localDocuments.getDocuments(W,ie))})}(a.localStore,e);Dp(a,e,r),Ap(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield vl(a,h)}catch(h){yield Yn(h)}})).apply(this,arguments)}function Lg(){return(Lg=(0,o.A)(function*(u,e){const r=gt(u);Oa(r.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const P=gt(b);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>P.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=Na(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Ap(u,e){(u.ka.get(e)||[]).forEach(r=>{r.resolve()}),u.ka.delete(e)}function Dp(u,e,r){const a=gt(u);let h=a.Ba[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(r?m.reject(r):m.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function yl(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const a of u.Ma.get(e))u.Fa.delete(a),r&&u.Ca.$a(a,r);u.Ma.delete(e),u.isPrimaryClient&&u.La.gr(e).forEach(a=>{u.La.containsKey(a)||rf(u,a)})}function rf(u,e){u.xa.delete(e.path.canonicalString());const r=u.Oa.get(e);null!==r&&(ml(u.remoteStore,r),u.Oa=u.Oa.remove(e),u.Na.delete(r),Ug(u))}function ru(u,e,r){for(const a of r)a instanceof vp?(u.La.addReference(a.key,e),Qm(u,a)):a instanceof Ep?(Ie("SyncEngine","Document no longer in limbo: "+a.key),u.La.removeReference(a.key,e),u.La.containsKey(a.key)||rf(u,a.key)):Vt()}function Qm(u,e){const r=e.key,a=r.path.canonicalString();u.Oa.get(r)||u.xa.has(a)||(Ie("SyncEngine","New document in limbo: "+r),u.xa.add(a),Ug(u))}function Ug(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const e=u.xa.values().next().value;u.xa.delete(e);const r=new Bt(_n.fromString(e)),a=u.qa.next();u.Na.set(a,new Mg(r)),u.Oa=u.Oa.insert(r,a),eu(u.remoteStore,new N(An(Q(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function vl(u,e,r){return jg.apply(this,arguments)}function jg(){return jg=(0,o.A)(function*(u,e,r){const a=gt(u),h=[],m=[],b=[];var P;a.Fa.isEmpty()||(a.Fa.forEach((P,F)=>{b.push(a.Ka(F,e,r).then(W=>{var ie;if((W||r)&&a.isPrimaryClient){const ye=W?!W.fromCache:null===(ie=r?.targetChanges.get(F.targetId))||void 0===ie?void 0:ie.current;a.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(W){h.push(W);const ye=ep.Wi(F.targetId,W);m.push(ye)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(P=(0,o.A)(function*(W,ie){const ye=gt(W);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>Qe.forEach(ie,It=>Qe.forEach(It.$i,Kt=>ye.persistence.referenceDelegate.addReference($e,It.targetId,Kt)).next(()=>Qe.forEach(It.Ui,Kt=>ye.persistence.referenceDelegate.removeReference($e,It.targetId,Kt)))))}catch($e){if(!zn($e))throw $e;Ie("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of ie){const It=$e.targetId;if(!$e.fromCache){const Kt=ye.os.get(It),dn=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);ye.os=ye.os.insert(It,dn)}}}),function F(W,ie){return P.apply(this,arguments)})(a.localStore,m))}),jg.apply(this,arguments)}function Bg(u,e){return $g.apply(this,arguments)}function $g(){return($g=(0,o.A)(function*(u,e){const r=gt(u);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const a=yield hc(r.localStore,e);r.currentUser=e,(m=r).ka.forEach(P=>{P.forEach(F=>{F.reject(new rt(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield vl(r,a.hs)}var m})).apply(this,arguments)}function Wd(u,e){const r=gt(u),a=r.Na.get(e);if(a&&a.va)return Tr().add(a.key);{let h=Tr();const m=r.Ma.get(e);if(!m)return h;for(const b of m){const P=r.Fa.get(b);h=h.unionWith(P.view.Va)}return h}}function Sp(u,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,o.A)(function*(u,e){const r=gt(u),a=yield Ma(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&ru(r,e.targetId,h.wa),h})).apply(this,arguments)}function Jm(u,e){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(u,e){const r=gt(u);return Ra(r.localStore,e).then(a=>vl(r,a))})).apply(this,arguments)}function Zm(u,e,r,a){return El.apply(this,arguments)}function El(){return(El=(0,o.A)(function*(u,e,r,a){const h=gt(u),m=yield function(P,F){const W=gt(P),ie=gt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ie.Mn(ye,F).next($e=>$e?W.localDocuments.getDocuments(ye,$e):Qe.resolve(null)))}(h.localStore,e);var F;null!==m?("pending"===r?yield jd(h.remoteStore):"acknowledged"===r||"rejected"===r?(Dp(h,e,a||null),Ap(h,e),F=e,gt(gt(h.localStore).mutationQueue).On(F)):Vt(),yield vl(h,m)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(u,e){const r=gt(u);if(Wu(r),zg(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield e_(r,a.toArray());r.Qa=!0,yield Ag(r.remoteStore,!0);for(const m of h)eu(r.remoteStore,m)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((m,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(yl(r,b),Yl(r.localStore,b,!0))),ml(r.remoteStore,b)}),yield h,yield e_(r,a),function(b){const P=gt(b);P.Na.forEach((F,W)=>{ml(P.remoteStore,W)}),P.La.pr(),P.Na=new Map,P.Oa=new ii(Bt.comparator)}(r),r.Qa=!1,yield Ag(r.remoteStore,!1)}})).apply(this,arguments)}function e_(u,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(u,e,r){const a=gt(u),h=[],m=[];for(const b of e){let P;const F=a.Ma.get(b);if(F&&0!==F.length){P=yield Lc(a.localStore,An(F[0]));for(const W of F){const ie=a.Fa.get(W),ye=yield Sp(a,ie);ye.snapshot&&m.push(ye.snapshot)}}else{const W=yield $h(a.localStore,b);P=yield Lc(a.localStore,W),yield Og(a,t_(W),b,!1,P.resumeToken)}h.push(P)}return a.Ca.d_(m),h})).apply(this,arguments)}function t_(u){return z(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Ka(u){return r=gt(u).localStore,gt(gt(r).persistence).Qi();var r}function qa(u,e,r,a){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.A)(function*(u,e,r,a){const h=gt(u);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const m=h.Ma.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const b=yield Ra(h.localStore,tl(m[0])),P=Ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ci.EMPTY_BYTE_STRING);yield vl(h,b,P);break}case"rejected":yield Yl(h.localStore,e,!0),yl(h,e,a);break;default:Vt()}})).apply(this,arguments)}function Pp(u,e,r){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,o.A)(function*(u,e,r){const a=Wu(u);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const m=yield $h(a.localStore,h),b=yield Lc(a.localStore,m);yield Og(a,t_(m),b.targetId,!1,b.resumeToken),eu(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield Yl(a.localStore,h,!1).then(()=>{ml(a.remoteStore,h),yl(a,h)}).catch(Yn))}})).apply(this,arguments)}function Wu(u){const e=gt(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=kg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ym.bind(null,e),e.Ca.d_=Sg.bind(null,e.eventManager),e.Ca.$a=_p.bind(null,e.eventManager),e}function zg(u){const e=gt(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xm.bind(null,e),e}let bl=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=gl(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Dd(this.persistence,new Lm,r.initialUser,this.serializer)}Ga(r){return new Cd(Id.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class Wg extends bl{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield zg(a.Ja.syncEngine),yield jd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Dd(this.persistence,new Lm,e.initialUser,this.serializer)}ja(e,r){return new xc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new wd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,$o(),Ca(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class n_ extends Wg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:Zm.bind(null,h),ro:qa.bind(null,h),io:Pp.bind(null,h),Qi:Ka.bind(null,h),eo:Jm.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var m=(0,o.A)(function*(b){yield function gy(u,e){return Hg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}Wa(e){const r=$o();if(!v.D(r))throw new rt(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let Xd=(()=>{class u{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=m=>ef(h.syncEngine,m,1),h.remoteStore.remoteSyncer.handleCredentialChange=Bg.bind(null,h.syncEngine),yield Ag(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Gm}createDatastore(r){const a=gl(r.databaseInfo.databaseId),h=new ui(r.databaseInfo);return new rp(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,m=this.datastore,b=r.asyncQueue,P=a=>ef(this.syncEngine,a,0),F=fe.D()?new fe:new Y,new ip(h,m,b,P,F);var h,m,b,P,F}createSyncEngine(r,a){return function(m,b,P,F,W,ie,ye){const $e=new Wm(m,b,P,F,W,ie);return ye&&($e.Qa=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,m;yield(m=(0,o.A)(function*(P){const F=gt(P);Ie("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Wa(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(P){return m.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return u.provider={build:()=>new u},u})();function af(u,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<u.byteLength){const a={value:u.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ya{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class cf{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new ln,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const m=yield e.iu(h);return new dy(JSON.parse(m),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class r_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new rt(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,P){const F=gt(b),W={documents:P.map(It=>$r(F.serializer,It))},ie=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,_n.emptyPath(),W,P.length),ye=new Map;ie.forEach(It=>{const Kt=function Cc(u,e){return"found"in e?function(a,h){qt(!!h.found);const m=ra(a,h.found.name),b=Yi(h.found.updateTime),P=h.found.createTime?Yi(h.found.createTime):zt.min(),F=new Oe({mapValue:{fields:h.found.fields}});return bt.newFoundDocument(m,b,P,F)}(u,e):"missing"in e?function(a,h){qt(!!h.missing),qt(!!h.readTime);const m=ra(a,h.missing),b=Yi(h.readTime);return bt.newNoDocument(m,b)}(u,e):Vt()}(F.serializer,It);ye.set(Kt.key.toString(),Kt)});const $e=[];return P.forEach(It=>{const Kt=ye.get(It.toString());qt(!!Kt),$e.push(Kt)}),$e}),function m(b,P){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new js(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const m=Bt.fromPath(h);e.mutations.push(new Bs(m,e.precondition(m)))}),yield(a=(0,o.A)(function*(m,b){const P=gt(m),F={writes:b.map(W=>$l(P.serializer,W))};yield P.Mo("Commit",P.serializer.databaseId,_n.emptyPath(),F)}),function h(m,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Vt();r=zt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new rt(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(zt.min())?q.exists(!1):q.updateTime(r):q.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(zt.min()))throw new rt(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return q.updateTime(r)}return q.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class i_{constructor(e,r,a,h,m){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=m,this._u=a.maxAttempts,this.t_=new Jl(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new r_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.lu(m)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Aa(r)}return!1}}class s_{constructor(e,r,a,h,m){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=it.UNAUTHENTICATED,this.clientId=Vn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(a,function(){var P=(0,o.A)(function*(F){Ie("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(a,P=>(Ie("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=Na(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function o_(u,e){return a_.apply(this,arguments)}function a_(){return a_=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let a=r.initialUser;u.setCredentialChangeListener(function(){var h=(0,o.A)(function*(m){a.isEqual(m)||(yield hc(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),a_.apply(this,arguments)}function yy(u,e){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield Xa(u);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(a=>hp(e.remoteStore,a)),u.setAppCheckTokenChangeListener((a,h)=>hp(e.remoteStore,h)),u._onlineComponents=e})).apply(this,arguments)}function Xa(u){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield o_(u,u._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Fe.FAILED_PRECONDITION||h.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;In("Error using user provided cache. Falling back to memory cache: "+e),yield o_(u,new bl)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield o_(u,new bl);var h;return u._offlineComponents})).apply(this,arguments)}function iu(u){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,o.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield yy(u,u._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield yy(u,new Xd))),u._onlineComponents})).apply(this,arguments)}function vy(u){return Xa(u).then(e=>e.persistence)}function Zd(u){return Xa(u).then(e=>e.localStore)}function xp(u){return iu(u).then(e=>e.remoteStore)}function Kg(u){return iu(u).then(e=>e.syncEngine)}function Cl(u){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,o.A)(function*(u){const e=yield iu(u),r=e.eventManager;return r.onListen=Gu.bind(null,e.syncEngine),r.onUnlisten=qm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Km.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Ng.bind(null,e.syncEngine),r})).apply(this,arguments)}function c_(u,e,r={}){const a=new ln;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(m,b,P,F,W){const ie=new Ya({next:$e=>{ie.Za(),b.enqueueAndForget(()=>Hd(m,ye));const It=$e.docs.has(P);!It&&$e.fromCache?W.reject(new rt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&$e.fromCache&&F&&"server"===F.source?W.reject(new rt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve($e)},error:$e=>W.reject($e)}),ye=new Pg(Q(P.path),ie,{includeMetadataChanges:!0,_a:!0});return gp(m,ye)}(yield Cl(u),u.asyncQueue,e,r,a)})),a.promise}function Xg(u,e,r={}){const a=new ln;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(m,b,P,F,W){const ie=new Ya({next:$e=>{ie.Za(),b.enqueueAndForget(()=>Hd(m,ye)),$e.fromCache&&"server"===F.source?W.reject(new rt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve($e)},error:$e=>W.reject($e)}),ye=new Pg(P,ie,{includeMetadataChanges:!0,_a:!0});return gp(m,ye)}(yield Cl(u),u.asyncQueue,e,r,a)})),a.promise}function l_(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const su=new Map;function Il(u,e,r){if(!r)throw new rt(Fe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function u_(u,e,r,a){if(!0===e&&!0===a)throw new rt(Fe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function lf(u){if(!Bt.isDocumentKey(u))throw new rt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Rp(u){if(Bt.isDocumentKey(u))throw new rt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function th(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(a=u).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof u?"a function":Vt()}function Si(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new rt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=th(u);throw new rt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function d_(u,e){if(e<=0)throw new rt(Fe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class Qg{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=l_(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new rt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qg(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ce;switch(a.type){case"firstParty":return new Ye(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=su.get(r);a&&(Ie("ComponentProvider","Removing Datastore"),su.delete(r),a.terminate())}(this),Promise.resolve()}}function Rv(u,e,r,a={}){var h;const m=(u=Si(u,Ku))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==b&&In("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},m),{host:b,ssl:!1})),a.mockUserToken){let P,F;if("string"==typeof a.mockUserToken)P=a.mockUserToken,F=it.MOCK_USER;else{P=(0,he.Fy)(a.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new rt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new it(W)}u._authCredentials=new ve(new He(P,F))}}class bo{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Gs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class pc extends bo{constructor(e,r,a){super(e,r,Q(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Bt(e))}withConverter(e){return new pc(this.firestore,e,this._path)}}function Iy(u,e,...r){if(u=(0,he.Ku)(u),Il("collection","path",e),u instanceof Ku){const a=_n.fromString(e,...r);return Rp(a),new pc(u,null,a)}{if(!(u instanceof Gs||u instanceof pc))throw new rt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(_n.fromString(e,...r));return Rp(a),new pc(u.firestore,null,a)}}function Ty(u,e){if(u=Si(u,Ku),Il("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rt(Fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bo(u,null,(a=e,new os(_n.emptyPath(),a)));var a}function qu(u,e,...r){if(u=(0,he.Ku)(u),1===arguments.length&&(e=Vn.newId()),Il("doc","path",e),u instanceof Ku){const a=_n.fromString(e,...r);return lf(a),new Gs(u,null,new Bt(a))}{if(!(u instanceof Gs||u instanceof pc))throw new rt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(_n.fromString(e,...r));return lf(a),new Gs(u.firestore,u instanceof pc?u.converter:null,new Bt(a))}}function Ov(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),(u instanceof Gs||u instanceof pc)&&(e instanceof Gs||e instanceof pc)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Op(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),u instanceof bo&&e instanceof bo&&u.firestore===e.firestore&&_o(u._query,e._query)&&u.converter===e.converter}class Np{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jl(this,"async_queue_retry"),this.Vu=()=>{const a=Ca();a&&Ie("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=Ca();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ca();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ln;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!zn(r))throw r;Ie("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,cn("INTERNAL UNHANDLED ERROR: ",function(b){let P=b.message||"";return b.stack&&(P=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),P}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=Yh.createAndSchedule(this,e,r,a,m=>this.yu(m));return this.Tu.push(h),h}fu(){this.Eu&&Vt()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function h_(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const m of["next","error","complete"])if(m in h&&"function"==typeof h[m])return!0;return!1}(u)}class f_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Jg=-1;class Oi extends Ku{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new Np,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Np(r),e._firestoreClient=void 0,yield r}})()}}function p_(u,e){const r="object"==typeof u?u:(0,ue.getApp)(),a="string"==typeof u?u:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const m=(0,he.yU)("firestore");m&&Rv(h,...m)}return h}function Ps(u){if(u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||wy(u),u._firestoreClient}function wy(u){var e,r,a;const h=u._freezeSettings(),m=(F=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new Lr(u._databaseId,F,u._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,l_(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;u._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(u._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),u._firestoreClient=new s_(u._authCredentials,u._appCheckCredentials,u._queue,m,u._componentsProvider&&function(P){const F=P?._online.build();return{_offline:P?._offline.build(F),_online:F}}(u._componentsProvider))}function Ay(u,e){In("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings();return Dy(u,Xd.provider,{build:a=>new Wg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function uf(u){return g_.apply(this,arguments)}function g_(){return(g_=(0,o.A)(function*(u){In("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=u._freezeSettings();Dy(u,Xd.provider,{build:r=>new n_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function Dy(u,e,r){if((u=Si(u,Oi))._firestoreClient||u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(u._componentsProvider||u._getSettings().localCache)throw new rt(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");u._componentsProvider={_online:e,_offline:r},wy(u)}function Nv(u){if(u._initialized&&!u._terminated)throw new rt(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ln;return u._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!se.D())return Promise.resolve();const m=h+"main";yield se.delete(m)}),function a(h){return r.apply(this,arguments)})(Ad(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function m_(u){return function(r){const a=new ln;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function py(u,e){return Lg.apply(this,arguments)}(yield Kg(r),a)})),a.promise}(Ps(u=Si(u,Oi)))}function Sy(u){return function Yg(u){return u.asyncQueue.enqueue((0,o.A)(function*(){const e=yield vy(u),r=yield xp(u);return e.setNetworkEnabled(!0),function(h){const m=gt(h);return m.L_.delete(0),Zl(m)}(r)}))}(Ps(u=Si(u,Oi)))}function kv(u){return function Dv(u){return u.asyncQueue.enqueue((0,o.A)(function*(){const e=yield vy(u),r=yield xp(u);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(m){const b=gt(m);b.L_.add(0),yield Wa(b),b.q_.set("Offline")}),function h(m){return a.apply(this,arguments)})(r);var a}))}(Ps(u=Si(u,Oi)))}function __(u,e){const r=Ps(u=Si(u,Oi)),a=new f_;return function Pv(u,e,r,a){const h=function(b,P){let F;return F="string"==typeof b?ld().encode(b):b,ie=function(ie,ye){if(ie instanceof Uint8Array)return af(ie,void 0);if(ie instanceof ArrayBuffer)return af(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new cf(ie,P);var ie}(r,gl(e));u.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function my(u,e,r){const a=gt(u);var h;(h=(0,o.A)(function*(b,P,F){try{const W=yield P.getMetadata();if(yield function(Kt,En){const dn=gt(Kt),nr=Yi(En.createTime);return dn.persistence.runTransaction("hasNewerBundle","readonly",br=>dn.Gr.getBundleMetadata(br,En.id)).then(br=>!!br&&br.createTime.compareTo(nr)>=0)}(b.localStore,W))return yield P.close(),F._completeWith({taskState:"Success",documentsLoaded:(Kt=W).totalDocuments,bytesLoaded:Kt.totalBytes,totalDocuments:Kt.totalDocuments,totalBytes:Kt.totalBytes}),Promise.resolve(new Set);F._updateProgress(yi(W));const ie=new xg(W,b.localStore,P.serializer);let ye=yield P.Ua();for(;ye;){const It=yield ie.la(ye);It&&F._updateProgress(It),ye=yield P.Ua()}const $e=yield ie.complete();return yield vl(b,$e.Ia,void 0),yield function(Kt,En){const dn=gt(Kt);return dn.persistence.runTransaction("Save bundle","readwrite",nr=>dn.Gr.saveBundleMetadata(nr,En))}(b.localStore,W),F._completeWith($e.progress),Promise.resolve($e.Pa)}catch(W){return In("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W),Promise.resolve(new Set)}var Kt}),function m(b,P,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Kg(u),h,a)}))}(r,u._databaseId,e,a),a}function j0(u,e){return function xv(u,e){return u.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const m=gt(a);return m.persistence.runTransaction("Get named query","readonly",b=>m.Gr.getNamedQuery(b,h))}(yield Zd(u),e)}))}(Ps(u=Si(u,Oi)),e).then(r=>r?new bo(u,null,r.query):null)}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Ci.fromBase64String(e))}catch(r){throw new rt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Yu(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nh{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new rt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tl{constructor(e){this._methodName=e}}class Zg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}class df{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let m=0;m<a.length;++m)if(a[m]!==h[m])return!1;return!0}(this._values,e._values)}}const y_=/^__.*__$/;class hf{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mr(e,this.data,r,this.fieldTransforms)}}class em{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Ti(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function tm(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class Xu{constructor(e,r,a,h,m,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Xu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return au(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(tm(this.Cu)&&y_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nm{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||gl(e)}Qu(e,r,a,h=!1){return new Xu({Cu:e,methodName:r,qu:a,path:ir.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gc(u){const e=u._freezeSettings(),r=gl(u._databaseId);return new nm(u._databaseId,!!e.ignoreUndefinedProperties,r)}function ff(u,e,r,a,h,m={}){const b=u.Qu(m.merge||m.mergeFields?2:0,e,r,h);pf("Data must be an object, but it was:",b,a);const P=b_(a,b);let F,W;if(m.merge)F=new fi(b.fieldMask),W=b.fieldTransforms;else if(m.mergeFields){const ie=[];for(const ye of m.mergeFields){const $e=gf(e,ye,r);if(!b.contains($e))throw new rt(Fe.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);I_(ie,$e)||ie.push($e)}F=new fi(ie),W=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,W=b.fieldTransforms;return new hf(new Oe(P),F,W)}class rh extends Tl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function Vp(u,e,r){return new Xu({Cu:3,qu:e.settings.qu,methodName:u._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Py extends Tl{_toFieldTransform(e){return new x(e.path,new wa)}isEqual(e){return e instanceof Py}}class Lp extends Tl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Vp(this,e,!0),a=this.Ku.map(m=>ou(m,r)),h=new ea(a);return new x(e.path,h)}isEqual(e){return e instanceof Lp&&(0,he.bD)(this.Ku,e.Ku)}}class ih extends Tl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Vp(this,e,!0),a=this.Ku.map(m=>ou(m,r)),h=new ja(a);return new x(e.path,h)}isEqual(e){return e instanceof ih&&(0,he.bD)(this.Ku,e.Ku)}}class v_ extends Tl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new rc(e.serializer,Ll(e.serializer,this.$u));return new x(e.path,r)}isEqual(e){return e instanceof v_&&this.$u===e.$u}}function rm(u,e,r,a){const h=u.Qu(1,e,r);pf("Data must be an object, but it was:",h,a);const m=[],b=Oe.empty();li(a,(F,W)=>{const ie=sh(e,F,r);W=(0,he.Ku)(W);const ye=h.Nu(ie);if(W instanceof rh)m.push(ie);else{const $e=ou(W,ye);null!=$e&&(m.push(ie),b.set(ie,$e))}});const P=new fi(m);return new em(b,P,h.fieldTransforms)}function E_(u,e,r,a,h,m){const b=u.Qu(1,e,r),P=[gf(e,a,r)],F=[h];if(m.length%2!=0)throw new rt(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<m.length;$e+=2)P.push(gf(e,m[$e])),F.push(m[$e+1]);const W=[],ie=Oe.empty();for(let $e=P.length-1;$e>=0;--$e)if(!I_(W,P[$e])){const It=P[$e];let Kt=F[$e];Kt=(0,he.Ku)(Kt);const En=b.Nu(It);if(Kt instanceof rh)W.push(It);else{const dn=ou(Kt,En);null!=dn&&(W.push(It),ie.set(It,dn))}}const ye=new fi(W);return new em(ie,ye,b.fieldTransforms)}function xy(u,e,r,a=!1){return ou(r,u.Qu(a?4:3,e))}function ou(u,e){if(C_(u=(0,he.Ku)(u)))return pf("Unsupported field value:",e,u),b_(u,e);if(u instanceof Tl)return function(a,h){if(!tm(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const m=a._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const m=[];let b=0;for(const P of a){let F=ou(P,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),m.push(F),b++}return{arrayValue:{values:m}}}(u,e)}return function(a,h){if(null===(a=(0,he.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Ll(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const m=Wt.fromDate(a);return{timestampValue:pa(h.serializer,m)}}if(a instanceof Wt){const m=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:pa(h.serializer,m)}}if(a instanceof Zg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yu)return{bytesValue:fd(h.serializer,a._byteString)};if(a instanceof Gs){const m=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(m))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:ll(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof df)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw P.Bu("VectorValues must only contain numeric values.");return Zo(P.serializer,F)})}}}}};var P;throw h.Bu(`Unsupported field value: ${th(a)}`)}(u,e)}function b_(u,e){const r={};return Gi(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(u,(a,h)=>{const m=ou(h,e.Mu(a));null!=m&&(r[a]=m)}),{mapValue:{fields:r}}}function C_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Wt||u instanceof Zg||u instanceof Yu||u instanceof Gs||u instanceof Tl||u instanceof df)}function pf(u,e,r){if(!C_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=th(r);throw e.Bu("an object"===a?u+" a custom object":u+" "+a)}var h}function gf(u,e,r){if((e=(0,he.Ku)(e))instanceof nh)return e._internalPath;if("string"==typeof e)return sh(u,e);throw au("Field path arguments must be of type string or ",u,!1,void 0,r)}const My=new RegExp("[~\\*/\\[\\]]");function sh(u,e,r){if(e.search(My)>=0)throw au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new nh(...e.split("."))._internalPath}catch{throw au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function au(u,e,r,a,h){const m=a&&!a.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let F="";return(m||b)&&(F+=" (found",m&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new rt(Fe.INVALID_ARGUMENT,P+u+F)}function I_(u,e){return u.some(r=>r.isEqual(e))}class oh{constructor(e,r,a,h,m){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qu("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class im extends oh{data(){return super.data()}}function Qu(u,e){return"string"==typeof e?sh(u,e):e instanceof nh?e._internalPath:e._delegate._internalPath}function T_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new rt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class jp extends Up{}function Ry(u,e,...r){let a=[];e instanceof Up&&a.push(e),a=a.concat(r),function(m){const b=m.filter(F=>F instanceof cu).length,P=m.filter(F=>F instanceof sm).length;if(b>1||b>0&&P>0)throw new rt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)u=h._apply(u);return u}class sm extends jp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new sm(e,r,a)}_apply(e){const r=this._parse(e);return D_(e._query,r),new bo(e.firestore,e.converter,Us(e._query,r))}_parse(e){const r=gc(e.firestore);return function(m,b,P,F,W,ie,ye){let $e;if(W.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new rt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Fy(ye,ie);const It=[];for(const Kt of ye)It.push(ky(F,m,Kt));$e={arrayValue:{values:It}}}else $e=ky(F,m,ye)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Fy(ye,ie),$e=xy(P,"where",ye,"in"===ie||"not-in"===ie);return Xn.create(W,ie,$e)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Lv(u,e,r){const a=e,h=Qu("where",u);return sm._create(h,a,r)}class cu extends Up{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new cu(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:gr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,m){let b=h;const P=m.getFlattenedFilters();for(const F of P)D_(b,F),b=Us(b,F)}(e._query,r),new bo(e.firestore,e.converter,Us(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ah extends jp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ah(e,r)}_apply(e){const r=function(h,m,b){if(null!==h.startAt)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cr(m,b)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(h,m){const b=h.explicitOrderBy.concat([m]);return new os(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function Uv(u,e="asc"){const r=e,a=Qu("orderBy",u);return ah._create(a,r)}class $p extends jp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new $p(e,r,a)}_apply(e){return new bo(e.firestore,e.converter,ms(e._query,this._limit,this._limitType))}}function jv(u){return d_("limit",u),$p._create("limit",u,"F")}function Bv(u){return d_("limitToLast",u),$p._create("limitToLast",u,"L")}class om extends jp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new om(e,r,a)}_apply(e){const r=A_(e,this.type,this._docOrFields,this._inclusive);return new bo(e.firestore,e.converter,(m=r,new os((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,m,h.endAt)));var h,m}}function Oy(...u){return om._create("startAt",u,!0)}function Ny(...u){return om._create("startAfter",u,!1)}class mf extends jp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new mf(e,r,a)}_apply(e){const r=A_(e,this.type,this._docOrFields,this._inclusive);return new bo(e.firestore,e.converter,(m=r,new os((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,m)));var h,m}}function $0(...u){return mf._create("endBefore",u,!1)}function w_(...u){return mf._create("endAt",u,!0)}function A_(u,e,r,a){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof oh)return function(m,b,P,F,W){if(!F)throw new rt(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ie=[];for(const ye of je(m))if(ye.field.isKeyField())ie.push(Ir(b,F.key));else{const $e=F.data.field(ye.field);if(As($e))throw new rt(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const It=ye.field.canonicalString();throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}ie.push($e)}return new an(ie,W)}(u._query,u.firestore._databaseId,e,r[0]._document,a);{const h=gc(u.firestore);return function(b,P,F,W,ie,ye){const $e=b.explicitOrderBy;if(ie.length>$e.length)throw new rt(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let Kt=0;Kt<ie.length;Kt++){const En=ie[Kt];if($e[Kt].field.isKeyField()){if("string"!=typeof En)throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof En}`);if(!ce(b)&&-1!==En.indexOf("/"))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${En}' contains a slash.`);const dn=b.path.child(_n.fromString(En));if(!Bt.isDocumentKey(dn))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${dn}' is not because it contains an odd number of segments.`);const nr=new Bt(dn);It.push(Ir(P,nr))}else{const dn=xy(F,W,En);It.push(dn)}}return new an(It,ye)}(u._query,u.firestore._databaseId,h,e,r,a)}}function ky(u,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new rt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(_n.fromString(r));if(!Bt.isDocumentKey(a))throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ir(u,new Bt(a))}if(r instanceof Gs)return Ir(u,r._key);throw new rt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(r)}.`)}function Fy(u,e){if(!Array.isArray(u)||0===u.length)throw new rt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D_(u,e){const r=function(h,m){for(const b of h)for(const P of b.getFlattenedFilters())if(m.indexOf(P.op)>=0)return P.op;return null}(u.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new rt(Fe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class am{convertValue(e,r="none"){switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return li(e,(h,m)=>{a[h]=this.convertValue(m,r)}),a}convertVectorValue(e){var r,a,h;const m=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>Qr(b.doubleValue));return new df(m)}convertGeoPoint(e){return new Zg(Qr(e.latitude),Qr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=co(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(us(e));default:return null}}convertTimestamp(e){const r=ws(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=_n.fromString(e);qt(T(a));const h=new le(a.get(1),a.get(3)),m=new Bt(a.popFirst(5));return h.isEqual(r)||cn(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function cm(u,e,r){let a;return a=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,a}class $v extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,r)}}class _f{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends oh{constructor(e,r,a,h,m,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Qu("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class mc extends lu{data(e={}){return super.data(e)}}class Al{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new _f(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new mc(this._firestore,this._userDataWriter,a.key,a,new _f(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new mc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new _f(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>m||3!==P.type).map(P=>{const F=new mc(h._firestore,h._userDataWriter,P.doc.key,P.doc,new _f(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let W=-1,ie=-1;return 0!==P.type&&(W=b.indexOf(P.doc.key),b=b.delete(P.doc.key)),1!==P.type&&(b=b.add(P.doc),ie=b.indexOf(P.doc.key)),{type:zv(P.type),doc:F,oldIndex:W,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zv(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function Wv(u,e){return u instanceof lu&&e instanceof lu?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Al&&e instanceof Al&&u._firestore===e._firestore&&Op(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function Kv(u){u=Si(u,Gs);const e=Si(u.firestore,Oi);return c_(Ps(e),u._key).then(r=>x_(e,u,r))}class Dl extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,r)}}function Sl(u){u=Si(u,Gs);const e=Si(u.firestore,Oi),r=Ps(e),a=new Dl(e);return function eh(u,e){const r=new ln;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(m,b,P){try{const F=yield function(ie,ye){const $e=gt(ie);return $e.persistence.runTransaction("read document","readonly",It=>$e.localDocuments.getDocument(It,ye))}(m,b);F.isFoundDocument()?P.resolve(F):F.isNoDocument()?P.resolve(null):P.reject(new rt(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=Na(F,`Failed to get document '${b} from cache`);P.reject(W)}}),function h(m,b,P){return a.apply(this,arguments)})(yield Zd(u),e,r);var a})),r.promise}(r,u._key).then(h=>new lu(e,a,u._key,h,new _f(null!==h&&h.hasLocalMutations,!0),u.converter))}function Uy(u){u=Si(u,Gs);const e=Si(u.firestore,Oi);return c_(Ps(e),u._key,{source:"server"}).then(r=>x_(e,u,r))}function qv(u){u=Si(u,bo);const e=Si(u.firestore,Oi),r=Ps(e),a=new Dl(e);return T_(u._query),Xg(r,u._query).then(h=>new Al(e,a,u,h))}function H0(u){u=Si(u,bo);const e=Si(u.firestore,Oi),r=Ps(e),a=new Dl(e);return function Ey(u,e){const r=new ln;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(m,b,P){try{const F=yield Ma(m,b,!0),W=new zm(b,F.Ts),ie=W.ma(F.documents),ye=W.applyChanges(ie,!1);P.resolve(ye.snapshot)}catch(F){const W=Na(F,`Failed to execute query '${b} against cache`);P.reject(W)}}),function h(m,b,P){return a.apply(this,arguments)})(yield Zd(u),e,r);var a})),r.promise}(r,u._query).then(h=>new Al(e,a,u,h))}function Po(u){u=Si(u,bo);const e=Si(u.firestore,Oi),r=Ps(e),a=new Dl(e);return Xg(r,u._query,{source:"server"}).then(h=>new Al(e,a,u,h))}function jy(u,e,r){u=Si(u,Gs);const a=Si(u.firestore,Oi),h=cm(u.converter,e,r);return ch(a,[ff(gc(a),"setDoc",u._key,h,null!==u.converter,r).toMutation(u._key,q.none())])}function S_(u,e,r,...a){u=Si(u,Gs);const h=Si(u.firestore,Oi),m=gc(h);let b;return b="string"==typeof(e=(0,he.Ku)(e))||e instanceof nh?E_(m,"updateDoc",u._key,e,r,a):rm(m,"updateDoc",u._key,e),ch(h,[b.toMutation(u._key,q.exists(!0))])}function Yv(u){return ch(Si(u.firestore,Oi),[new js(u._key,q.none())])}function Xv(u,e){const r=Si(u.firestore,Oi),a=qu(u),h=cm(u.converter,e);return ch(r,[ff(gc(u.firestore),"addDoc",a._key,h,null!==u.converter,{}).toMutation(a._key,q.exists(!1))]).then(()=>a)}function P_(u,...e){var r,a,h;u=(0,he.Ku)(u);let m={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||h_(e[b])||(m=e[b],b++);const P={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(h_(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(a=ye.error)||void 0===a?void 0:a.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,W,ie;if(u instanceof Gs)W=Si(u.firestore,Oi),ie=Q(u._key.path),F={next:ye=>{e[b]&&e[b](x_(W,u,ye))},error:e[b+1],complete:e[b+2]};else{const ye=Si(u,bo);W=Si(ye.firestore,Oi),ie=ye._query;const $e=new Dl(W);F={next:It=>{e[b]&&e[b](new Al(W,$e,ye,It))},error:e[b+1],complete:e[b+2]},T_(u._query)}return function($e,It,Kt,En){const dn=new Ya(En),nr=new Pg(It,dn,Kt);return $e.asyncQueue.enqueueAndForget((0,o.A)(function*(){return gp(yield Cl($e),nr)})),()=>{dn.Za(),$e.asyncQueue.enqueueAndForget((0,o.A)(function*(){return Hd(yield Cl($e),nr)}))}}(Ps(W),ie,P,F)}function By(u,e){return function Sv(u,e){const r=new Ya(e);return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Cl(u),m=r,gt(h).Y_.add(m),void m.next();var h,m})),()=>{r.Za(),u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Cl(u),m=r,void gt(h).Y_.delete(m);var h,m}))}}(Ps(u=Si(u,Oi)),h_(e)?e:{next:e})}function ch(u,e){return function(a,h){const m=new ln;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function wp(u,e,r){return zu.apply(this,arguments)}(yield Kg(a),h,m)})),m.promise}(Ps(u),e)}function x_(u,e,r){const a=r.docs.get(e._key),h=new Dl(u);return new lu(u,h,e._key,a,new _f(r.hasPendingWrites,r.fromCache),e.converter)}const zp={maxAttempts:5};class Wp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gc(e)}set(e,r,a){this._verifyNotCommitted();const h=uu(e,this._firestore),m=cm(h.converter,r,a),b=ff(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,q.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const m=uu(e,this._firestore);let b;return b="string"==typeof(r=(0,he.Ku)(r))||r instanceof nh?E_(this._dataReader,"WriteBatch.update",m._key,r,a,h):rm(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(b.toMutation(m._key,q.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=uu(e,this._firestore);return this._mutations=this._mutations.concat(new js(r._key,q.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uu(u,e){if((u=(0,he.Ku)(u)).firestore!==e)throw new rt(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class qy extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=gc(r)}get(r){const a=uu(r,this._firestore),h=new $v(this._firestore);return this._transaction.lookup([a._key]).then(m=>{if(!m||1!==m.length)return Vt();const b=m[0];if(b.isFoundDocument())return new oh(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new oh(this._firestore,h,a._key,null,a.converter);throw Vt()})}set(r,a,h){const m=uu(r,this._firestore),b=cm(m.converter,a,h),P=ff(this._dataReader,"Transaction.set",m._key,b,null!==m.converter,h);return this._transaction.set(m._key,P),this}update(r,a,h,...m){const b=uu(r,this._firestore);let P;return P="string"==typeof(a=(0,he.Ku)(a))||a instanceof nh?E_(this._dataReader,"Transaction.update",b._key,a,h,m):rm(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,P),this}delete(r){const a=uu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=uu(e,this._firestore),a=new Dl(this._firestore);return super.get(e).then(h=>new lu(this._firestore,a,r._key,h._document,new _f(!1,!1),r.converter))}}function t0(u,e,r){u=Si(u,Oi);const a=Object.assign(Object.assign({},zp),r);return function(m){if(m.maxAttempts<1)throw new rt(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(m,b,P){const F=new ln;return m.asyncQueue.enqueueAndForget((0,o.A)(function*(){const W=yield function qg(u){return iu(u).then(e=>e.datastore)}(m);new i_(m.asyncQueue,W,P,b,F).au()})),F.promise}(Ps(u),h=>e(new qy(u,h)),a)}function n0(){return new rh("deleteField")}function r0(){return new Py("serverTimestamp")}function s0(...u){return new Lp("arrayUnion",u)}function Yy(...u){return new ih("arrayRemove",u)}function z0(u){return new v_("increment",u)}!function(e,r=!0){et=ue.SDK_VERSION,(0,ue._registerComponent)(new s.uA("firestore",(a,{instanceIdentifier:h,options:m})=>{const b=a.getProvider("app").getImmediate(),P=new Oi(new Ve(a.getProvider("auth-internal")),new Mn(a.getProvider("app-check-internal")),function(W,ie){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new rt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new le(W.options.projectId,ie)}(b,h),b);return m=Object.assign({useFetchStreams:r},m),P._setSettings(m),P},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(_e,"4.7.3",e),(0,ue.registerVersion)(_e,"4.7.3","esm2017")}()},4535:(mn,Ze,V)=>{V.d(Ze,{Ad:()=>gn,D5:()=>wn,KR:()=>zi,Mp:()=>Xs,Mx:()=>Ar,TZ:()=>Jt,UC:()=>li,UY:()=>sr,XR:()=>hs,ZH:()=>Rn,_w:()=>Ir,bp:()=>ds,c7:()=>gi,nb:()=>ss,nw:()=>Sn,p_:()=>pr,qk:()=>rs,uj:()=>cn,xc:()=>kn,yb:()=>pi});var o=V(467),ue=V(7852),s=V(1076),Ee=V(1362);const he="firebasestorage.googleapis.com",we="storageBucket";class J extends s.g{constructor(X,Te,Oe=0){super(xe(X),`Firebase Storage: ${Te} (${xe(X)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J.prototype)}get status(){return this.status_}set status(X){this.status_=X}_codeEquals(X){return xe(X)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(X){this.customData.serverResponse=X,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var de=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(de||{});function xe(Z){return"storage/"+Z}function dt(){return new J(de.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yn(){return new J(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ge(){return new J(de.CANCELED,"User canceled the upload/download.")}function lt(){return new J(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cn(Z){return new J(de.INVALID_ARGUMENT,Z)}function In(){return new J(de.APP_DELETED,"The Firebase app was deleted.")}function sr(Z){return new J(de.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vt(Z,X){return new J(de.INVALID_FORMAT,"String does not match format '"+Z+"': "+X)}function qt(Z){throw new J(de.INTERNAL_ERROR,"Internal error: "+Z)}class Jt{constructor(X,Te){this.bucket=X,this.path_=Te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const X=encodeURIComponent;return"/b/"+X(this.bucket)+"/o/"+X(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(X,Te){let Oe;try{Oe=Jt.makeFromUrl(X,Te)}catch{return new Jt(X,"")}if(""===Oe.path)return Oe;throw function it(Z){return new J(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(X)}static makeFromUrl(X,Te){let Oe=null;const Je="([A-Za-z0-9.\\-_]+)",Un=new RegExp("^gs://"+Je+"(/(.*))?$","i");function cr(Wi){Wi.path_=decodeURIComponent(Wi.path)}const Wn=Te.replace(/[.]/g,"\\."),Br=[{regex:Un,indices:{bucket:1,path:3},postModify:function bt(Wi){"/"===Wi.path.charAt(Wi.path.length-1)&&(Wi.path_=Wi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Wn}/v[A-Za-z0-9_]+/b/${Je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:cr},{regex:new RegExp(`^https?://${Te===he?"(?:storage.googleapis.com|storage.cloud.google.com)":Te}/${Je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:cr}];for(let Wi=0;Wi<Br.length;Wi++){const Fi=Br[Wi],si=Fi.regex.exec(X);if(si){let fs=si[Fi.indices.path];fs||(fs=""),Oe=new Jt(si[Fi.indices.bucket],fs),Fi.postModify(Oe);break}}if(null==Oe)throw function _e(Z){return new J(de.INVALID_URL,"Invalid URL '"+Z+"'.")}(X);return Oe}}class gt{constructor(X){this.promise_=Promise.reject(X)}getPromise(){return this.promise_}cancel(X=!1){}}function ve(Z){return"string"==typeof Z||Z instanceof String}function Ve(Z){return st()&&Z instanceof Blob}function st(){return typeof Blob<"u"}function Ye(Z,X,Te,Oe){if(Oe<X)throw cn(`Invalid value for '${Z}'. Expected ${X} or greater.`);if(Oe>Te)throw cn(`Invalid value for '${Z}'. Expected ${Te} or less.`)}function jt(Z,X,Te){let Oe=X;return null==Te&&(Oe=`https://${X}`),`${Te}://${Oe}/v0${Z}`}function Mn(Z){const X=encodeURIComponent;let Te="?";for(const Oe in Z)Z.hasOwnProperty(Oe)&&(Te=Te+(X(Oe)+"=")+X(Z[Oe])+"&");return Te=Te.slice(0,-1),Te}var dr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(dr||{});function hn(Z,X){const Te=Z>=500&&Z<600,Je=-1!==[408,429].indexOf(Z),bt=-1!==X.indexOf(Z);return Te||Je||bt}class Vn{constructor(X,Te,Oe,Je,bt,an,Un,Dn,cr,jr,Wn,Xn=!0){this.url_=X,this.method_=Te,this.headers_=Oe,this.body_=Je,this.successCodes_=bt,this.additionalRetryCodes_=an,this.callback_=Un,this.errorCallback_=Dn,this.timeout_=cr,this.progressCallback_=jr,this.connectionFactory_=Wn,this.retry=Xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((gr,Ii)=>{this.resolve_=gr,this.reject_=Ii,this.start_()})}start_(){const Te=(Oe,Je)=>{const bt=this.resolve_,an=this.reject_,Un=Je.connection;if(Je.wasSuccessCode)try{const Dn=this.callback_(Un,Un.getResponse());!function ln(Z){return void 0!==Z}(Dn)?bt():bt(Dn)}catch(Dn){an(Dn)}else if(null!==Un){const Dn=dt();Dn.serverResponse=Un.getErrorText(),an(this.errorCallback_?this.errorCallback_(Un,Dn):Dn)}else an(Je.canceled?this.appDelete_?In():Ge():yn())};this.canceled_?Te(0,new tn(!1,null,!0)):this.backoffId_=function Fe(Z,X,Te){let Oe=1,Je=null,bt=null,an=!1,Un=0;function Dn(){return 2===Un}let cr=!1;function jr(...Bi){cr||(cr=!0,X.apply(null,Bi))}function Wn(Bi){Je=setTimeout(()=>{Je=null,Z(gr,Dn())},Bi)}function Xn(){bt&&clearTimeout(bt)}function gr(Bi,...ki){if(cr)return void Xn();if(Bi)return Xn(),void jr.call(null,Bi,...ki);if(Dn()||an)return Xn(),void jr.call(null,Bi,...ki);let Br;Oe<64&&(Oe*=2),1===Un?(Un=2,Br=0):Br=1e3*(Oe+Math.random()),Wn(Br)}let Ii=!1;function mi(Bi){Ii||(Ii=!0,Xn(),!cr&&(null!==Je?(Bi||(Un=2),clearTimeout(Je),Wn(0)):Bi||(Un=1)))}return Wn(0),bt=setTimeout(()=>{an=!0,mi(!0)},Te),mi}((Oe,Je)=>{if(Je)return void Oe(!1,new tn(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const an=Un=>{null!==this.progressCallback_&&this.progressCallback_(Un.loaded,Un.lengthComputable?Un.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(an),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(an),this.pendingConnection_=null;const Un=bt.getErrorCode()===dr.NO_ERROR,Dn=bt.getStatus();if(!Un||hn(Dn,this.additionalRetryCodes_)&&this.retry){const jr=bt.getErrorCode()===dr.ABORT;return void Oe(!1,new tn(!1,null,jr))}const cr=-1!==this.successCodes_.indexOf(Dn);Oe(!0,new tn(cr,bt))})},Te,this.timeout_)}getPromise(){return this.promise_}cancel(X){this.canceled_=!0,this.appDelete_=X||!1,null!==this.backoffId_&&function rt(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tn{constructor(X,Te,Oe){this.wasSuccessCode=X,this.connection=Te,this.canceled=!!Oe}}function kr(...Z){const X=function _n(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==X){const Te=new X;for(let Oe=0;Oe<Z.length;Oe++)Te.append(Z[Oe]);return Te.getBlob()}if(st())return new Blob(Z);throw new J(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qn{constructor(X,Te){this.data=X,this.contentType=Te||null}}function Rn(Z,X){switch(Z){case Sn.RAW:return new Qn(ti(X));case Sn.BASE64:case Sn.BASE64URL:return new Qn(ni(Z,X));case Sn.DATA_URL:return new Qn(function oi(Z){const X=new er(Z);return X.base64?ni(Sn.BASE64,X.rest):function Ur(Z){let X;try{X=decodeURIComponent(Z)}catch{throw Vt(Sn.DATA_URL,"Malformed data URL.")}return ti(X)}(X.rest)}(X),function hi(Z){return new er(Z).contentType}(X))}throw dt()}function ti(Z){const X=[];for(let Te=0;Te<Z.length;Te++){let Oe=Z.charCodeAt(Te);Oe<=127?X.push(Oe):Oe<=2047?X.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?Te<Z.length-1&&56320==(64512&Z.charCodeAt(Te+1))?(Oe=65536|(1023&Oe)<<10|1023&Z.charCodeAt(++Te),X.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):X.push(239,191,189):56320==(64512&Oe)?X.push(239,191,189):X.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(X)}function ni(Z,X){switch(Z){case Sn.BASE64:{const Je=-1!==X.indexOf("-"),bt=-1!==X.indexOf("_");if(Je||bt)throw Vt(Z,"Invalid character '"+(Je?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{const Je=-1!==X.indexOf("+"),bt=-1!==X.indexOf("/");if(Je||bt)throw Vt(Z,"Invalid character '"+(Je?"+":"/")+"' found: is it base64 encoded?");X=X.replace(/-/g,"+").replace(/_/g,"/");break}}let Te;try{Te=function Bt(Z){if(typeof atob>"u")throw function Ie(Z){return new J(de.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(X)}catch(Je){throw Je.message.includes("polyfill")?Je:Vt(Z,"Invalid character found")}const Oe=new Uint8Array(Te.length);for(let Je=0;Je<Te.length;Je++)Oe[Je]=Te.charCodeAt(Je);return Oe}class er{constructor(X){this.base64=!1,this.contentType=null;const Te=X.match(/^data:([^,]+)?,/);if(null===Te)throw Vt(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=Te[1]||null;null!=Oe&&(this.base64=function rn(Z,X){return Z.length>=X.length&&Z.substring(Z.length-X.length)===X}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=X.substring(X.indexOf(",")+1)}}class Ar{constructor(X,Te){let Oe=0,Je="";Ve(X)?(this.data_=X,Oe=X.size,Je=X.type):X instanceof ArrayBuffer?(Te?this.data_=new Uint8Array(X):(this.data_=new Uint8Array(X.byteLength),this.data_.set(new Uint8Array(X))),Oe=this.data_.length):X instanceof Uint8Array&&(Te?this.data_=X:(this.data_=new Uint8Array(X.length),this.data_.set(X)),Oe=X.length),this.size_=Oe,this.type_=Je}size(){return this.size_}type(){return this.type_}slice(X,Te){if(Ve(this.data_)){const Je=function ir(Z,X,Te){return Z.webkitSlice?Z.webkitSlice(X,Te):Z.mozSlice?Z.mozSlice(X,Te):Z.slice?Z.slice(X,Te):null}(this.data_,X,Te);return null===Je?null:new Ar(Je)}{const Oe=new Uint8Array(this.data_.buffer,X,Te-X);return new Ar(Oe,!0)}}static getBlob(...X){if(st()){const Te=X.map(Oe=>Oe instanceof Ar?Oe.data_:Oe);return new Ar(kr.apply(null,Te))}{const Te=X.map(an=>ve(an)?Rn(Sn.RAW,an).data:an.data_);let Oe=0;Te.forEach(an=>{Oe+=an.byteLength});const Je=new Uint8Array(Oe);let bt=0;return Te.forEach(an=>{for(let Un=0;Un<an.length;Un++)Je[bt++]=an[Un]}),new Ar(Je,!0)}}uploadData(){return this.data_}}function Hn(Z){let X;try{X=JSON.parse(Z)}catch{return null}return function Ce(Z){return"object"==typeof Z&&!Array.isArray(Z)}(X)?X:null}function ci(Z){const X=Z.lastIndexOf("/",Z.length-2);return-1===X?Z:Z.slice(X+1)}function Qe(Z,X){return X}class ft{constructor(X,Te,Oe,Je){this.server=X,this.local=Te||X,this.writable=!!Oe,this.xform=Je||Qe}}let se=null;function Pt(){if(se)return se;const Z=[];Z.push(new ft("bucket")),Z.push(new ft("generation")),Z.push(new ft("metageneration")),Z.push(new ft("name","fullPath",!0));const Te=new ft("name");Te.xform=function X(bt,an){return function Pe(Z){return!ve(Z)||Z.length<2?Z:ci(Z)}(an)},Z.push(Te);const Je=new ft("size");return Je.xform=function Oe(bt,an){return void 0!==an?Number(an):an},Z.push(Je),Z.push(new ft("timeCreated")),Z.push(new ft("updated")),Z.push(new ft("md5Hash",null,!0)),Z.push(new ft("cacheControl",null,!0)),Z.push(new ft("contentDisposition",null,!0)),Z.push(new ft("contentEncoding",null,!0)),Z.push(new ft("contentLanguage",null,!0)),Z.push(new ft("contentType",null,!0)),Z.push(new ft("metadata","customMetadata",!0)),se=Z,se}function Kr(Z,X,Te){const Oe=Hn(X);return null===Oe?null:function zn(Z,X,Te){const Oe={type:"file"},Je=Te.length;for(let bt=0;bt<Je;bt++){const an=Te[bt];Oe[an.local]=an.xform(Oe,X[an.server])}return function Yt(Z,X){Object.defineProperty(Z,"ref",{get:function Te(){const bt=new Jt(Z.bucket,Z.fullPath);return X._makeStorageReference(bt)}})}(Oe,Z),Oe}(Z,Oe,Te)}function bi(Z,X){const Te={},Oe=X.length;for(let Je=0;Je<Oe;Je++){const bt=X[Je];bt.writable&&(Te[bt.server]=Z[bt.local])}return JSON.stringify(Te)}const Ct="prefixes",$="items";class ne{constructor(X,Te,Oe,Je){this.url=X,this.method=Te,this.handler=Oe,this.timeout=Je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(Z){if(!Z)throw dt()}function ct(Z,X){return function Te(Oe,Je){const bt=Kr(Z,Je,X);return ge(null!==bt),bt}}function un(Z){return function X(Te,Oe){let Je;return Je=401===Te.getStatus()?Te.getErrorText().includes("Firebase App Check token is invalid")?function Gt(){return new J(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Mt(){return new J(de.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Te.getStatus()?function Nt(Z){return new J(de.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Te.getStatus()?function Lt(Z){return new J(de.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Oe,Je.status=Te.getStatus(),Je.serverResponse=Oe.serverResponse,Je}}function Tn(Z){const X=un(Z);return function Te(Oe,Je){let bt=X(Oe,Je);return 404===Oe.getStatus()&&(bt=function nt(Z){return new J(de.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),bt.serverResponse=Je.serverResponse,bt}}function yr(Z,X,Te){const Je=jt(X.fullServerUrl(),Z.host,Z._protocol),an=Z.maxOperationRetryTime,Un=new ne(Je,"GET",ct(Z,Te),an);return Un.errorHandler=Tn(X),Un}function Re(Z,X,Te,Oe,Je){const bt={};bt.prefix=X.isRoot?"":X.path+"/",Te&&Te.length>0&&(bt.delimiter=Te),Oe&&(bt.pageToken=Oe),Je&&(bt.maxResults=Je);const Un=jt(X.bucketOnlyServerUrl(),Z.host,Z._protocol),cr=Z.maxOperationRetryTime,jr=new ne(Un,"GET",function Tt(Z,X){return function Te(Oe,Je){const bt=function k(Z,X,Te){const Oe=Hn(Te);return null===Oe?null:function M(Z,X,Te){const Oe={prefixes:[],items:[],nextPageToken:Te.nextPageToken};if(Te[Ct])for(const Je of Te[Ct]){const bt=Je.replace(/\/$/,""),an=Z._makeStorageReference(new Jt(X,bt));Oe.prefixes.push(an)}if(Te[$])for(const Je of Te[$]){const bt=Z._makeStorageReference(new Jt(X,Je.name));Oe.items.push(bt)}return Oe}(Z,X,Oe)}(Z,X,Je);return ge(null!==bt),bt}}(Z,X.bucket),cr);return jr.urlParams=bt,jr.errorHandler=un(X),jr}function fn(Z,X,Te){const Oe=Object.assign({},Te);return Oe.fullPath=Z.path,Oe.size=X.size(),Oe.contentType||(Oe.contentType=function bn(Z,X){return Z&&Z.contentType||X&&X.type()||"application/octet-stream"}(null,X)),Oe}class vn{constructor(X,Te,Oe,Je){this.current=X,this.total=Te,this.finalized=!!Oe,this.metadata=Je||null}}function ri(Z,X){let Te=null;try{Te=Z.getResponseHeader("X-Goog-Upload-Status")}catch{ge(!1)}return ge(!!Te&&-1!==(X||["active"]).indexOf(Te)),Te}const kn={STATE_CHANGED:"state_changed"},gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ln(Z){switch(Z){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;default:return gn.ERROR}}class xr{constructor(X,Te,Oe){if(function He(Z){return"function"==typeof Z}(X)||null!=Te||null!=Oe)this.next=X,this.error=Te??void 0,this.complete=Oe??void 0;else{const bt=X;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Fr(Z){return(...X)=>{Promise.resolve().then(()=>Z(...X))}}let tr=null;class wi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dr.NO_ERROR,this.sendPromise_=new Promise(X=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dr.ABORT,X()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dr.NETWORK_ERROR,X()}),this.xhr_.addEventListener("load",()=>{X()})})}send(X,Te,Oe,Je){if(this.sent_)throw qt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Te,X,!0),void 0!==Je)for(const bt in Je)Je.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,Je[bt].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(X){return this.xhr_.getResponseHeader(X)}addUploadProgressListener(X){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",X)}removeUploadProgressListener(X){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",X)}}class ns extends wi{initXhr(){this.xhr_.responseType="text"}}function ji(){return tr?tr():new ns}class li{constructor(X,Te,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=X,this._blob=Te,this._metadata=Oe,this._mappings=Pt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Je=>{if(this._request=void 0,this._chunkMultiplier=1,Je._codeEquals(de.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(hn(Je.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Je=yn()}this._error=Je,this._transition("error")}},this._metadataErrorHandler=Je=>{this._request=void 0,Je._codeEquals(de.CANCELED)?this.completeTransitions_():(this._error=Je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Je,bt)=>{this._resolve=Je,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const X=this._transferred;return Te=>this._updateProgress(X+Te)}_shouldDoResumable(X){return X.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(X){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Te,Oe])=>{switch(this._state){case"running":X(Te,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((X,Te)=>{const Oe=function vt(Z,X,Te,Oe,Je){const bt=X.bucketOnlyServerUrl(),an=fn(X,Oe,Je),Un={name:an.fullPath},Dn=jt(bt,Z.host,Z._protocol),jr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},Wn=bi(an,Te),Ii=new ne(Dn,"POST",function gr(mi){let Bi;ri(mi);try{Bi=mi.getResponseHeader("X-Goog-Upload-URL")}catch{ge(!1)}return ge(ve(Bi)),Bi},Z.maxUploadRetryTime);return Ii.urlParams=Un,Ii.headers=jr,Ii.body=Wn,Ii.errorHandler=un(X),Ii}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Je=this._ref.storage._makeRequest(Oe,ji,X,Te);this._request=Je,Je.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const X=this._uploadUrl;this._resolveToken((Te,Oe)=>{const Je=function qe(Z,X,Te,Oe){const Dn=new ne(Te,"POST",function bt(cr){const jr=ri(cr,["active","final"]);let Wn=null;try{Wn=cr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ge(!1)}Wn||ge(!1);const Xn=Number(Wn);return ge(!isNaN(Xn)),new vn(Xn,Oe.size(),"final"===jr)},Z.maxUploadRetryTime);return Dn.headers={"X-Goog-Upload-Command":"query"},Dn.errorHandler=un(X),Dn}(this._ref.storage,this._ref._location,X,this._blob),bt=this._ref.storage._makeRequest(Je,ji,Te,Oe);this._request=bt,bt.getPromise().then(an=>{this._request=void 0,this._updateProgress(an.current),this._needToFetchStatus=!1,an.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const X=262144*this._chunkMultiplier,Te=new vn(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((Je,bt)=>{let an;try{an=function pn(Z,X,Te,Oe,Je,bt,an,Un){const Dn=new vn(0,0);if(an?(Dn.current=an.current,Dn.total=an.total):(Dn.current=0,Dn.total=Oe.size()),Oe.size()!==Dn.total)throw function Ot(){return new J(de.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const cr=Dn.total-Dn.current;let jr=cr;Je>0&&(jr=Math.min(jr,Je));const Wn=Dn.current;let gr="";gr=0===jr?"finalize":cr===jr?"upload, finalize":"upload";const Ii={"X-Goog-Upload-Command":gr,"X-Goog-Upload-Offset":`${Dn.current}`},mi=Oe.slice(Wn,Wn+jr);if(null===mi)throw lt();const Br=new ne(Te,"POST",function Bi(Wi,Fi){const si=ri(Wi,["active","final"]),Xo=Dn.current+jr,fs=Oe.size();let lo;return lo="final"===si?ct(X,bt)(Wi,Fi):null,new vn(Xo,fs,"final"===si,lo)},X.maxUploadRetryTime);return Br.headers=Ii,Br.body=mi.uploadData(),Br.progressCallback=Un||null,Br.errorHandler=un(Z),Br}(this._ref._location,this._ref.storage,Oe,this._blob,X,this._mappings,Te,this._makeProgressCallback())}catch(Dn){return this._error=Dn,void this._transition("error")}const Un=this._ref.storage._makeRequest(an,ji,Je,bt,!1);this._request=Un,Un.getPromise().then(Dn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Dn.current),Dn.finalized?(this._metadata=Dn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((X,Te)=>{const Oe=yr(this._ref.storage,this._ref._location,this._mappings),Je=this._ref.storage._makeRequest(Oe,ji,X,Te);this._request=Je,Je.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((X,Te)=>{const Oe=function or(Z,X,Te,Oe,Je){const bt=X.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},Dn=function Un(){let Br="";for(let Wi=0;Wi<2;Wi++)Br+=Math.random().toString().slice(2);return Br}();an["Content-Type"]="multipart/related; boundary="+Dn;const cr=fn(X,Oe,Je),jr=bi(cr,Te),gr=Ar.getBlob("--"+Dn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jr+"\r\n--"+Dn+"\r\nContent-Type: "+cr.contentType+"\r\n\r\n",Oe,"\r\n--"+Dn+"--");if(null===gr)throw lt();const Ii={name:cr.fullPath},mi=jt(bt,Z.host,Z._protocol),ki=Z.maxUploadRetryTime,Ri=new ne(mi,"POST",ct(Z,Te),ki);return Ri.urlParams=Ii,Ri.headers=an,Ri.body=gr.uploadData(),Ri.errorHandler=un(X),Ri}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Je=this._ref.storage._makeRequest(Oe,ji,X,Te);this._request=Je,Je.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(X){const Te=this._transferred;this._transferred=X,this._transferred!==Te&&this._notifyObservers()}_transition(X){if(this._state!==X)switch(X){case"canceling":case"pausing":this._state=X,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Te="paused"===this._state;this._state=X,Te&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=X,this._notifyObservers();break;case"canceled":this._error=Ge(),this._state=X,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const X=Ln(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:X,metadata:this._metadata,task:this,ref:this._ref}}on(X,Te,Oe,Je){const bt=new xr(Te||void 0,Oe||void 0,Je||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(X,Te){return this._promise.then(X,Te)}catch(X){return this.then(null,X)}_addObserver(X){this._observers.push(X),this._notifyObserver(X)}_removeObserver(X){const Te=this._observers.indexOf(X);-1!==Te&&this._observers.splice(Te,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Te=>{this._notifyObserver(Te)})}_finishPromise(){if(void 0!==this._resolve){let X=!0;switch(Ln(this._state)){case gn.SUCCESS:Fr(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:Fr(this._reject.bind(null,this._error))();break;default:X=!1}X&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(X){switch(Ln(this._state)){case gn.RUNNING:case gn.PAUSED:X.next&&Fr(X.next.bind(X,this.snapshot))();break;case gn.SUCCESS:X.complete&&Fr(X.complete.bind(X))();break;default:X.error&&Fr(X.error.bind(X,this._error))()}}resume(){const X="paused"===this._state||"pausing"===this._state;return X&&this._transition("running"),X}pause(){const X="running"===this._state;return X&&this._transition("pausing"),X}cancel(){const X="running"===this._state||"pausing"===this._state;return X&&this._transition("canceling"),X}}class Xi{constructor(X,Te){this._service=X,this._location=Te instanceof Jt?Te:Jt.makeFromUrl(Te,X.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(X,Te){return new Xi(X,Te)}get root(){const X=new Jt(this._location.bucket,"");return this._newRef(this._service,X)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ci(this._location.path)}get storage(){return this._service}get parent(){const X=function _r(Z){if(0===Z.length)return null;const X=Z.lastIndexOf("/");return-1===X?"":Z.slice(0,X)}(this._location.path);if(null===X)return null;const Te=new Jt(this._location.bucket,X);return new Xi(this._service,Te)}_throwIfRoot(X){if(""===this._location.path)throw sr(X)}}function Vs(Z,X,Te){return fi.apply(this,arguments)}function fi(){return(fi=(0,o.A)(function*(Z,X,Te){const Je=yield ko(Z,{pageToken:Te});X.prefixes.push(...Je.prefixes),X.items.push(...Je.items),null!=Je.nextPageToken&&(yield Vs(Z,X,Je.nextPageToken))})).apply(this,arguments)}function ko(Z,X){null!=X&&"number"==typeof X.maxResults&&Ye("options.maxResults",1,1e3,X.maxResults);const Te=X||{},Oe=Re(Z.storage,Z._location,"/",Te.pageToken,Te.maxResults);return Z.storage.makeRequestWithTokens(Oe,ji)}function Yo(Z){Z._throwIfRoot("getDownloadURL");const X=function Be(Z,X,Te){const Je=jt(X.fullServerUrl(),Z.host,Z._protocol),an=Z.maxOperationRetryTime,Un=new ne(Je,"GET",function en(Z,X){return function Te(Oe,Je){const bt=Kr(Z,Je,X);return ge(null!==bt),function Or(Z,X,Te,Oe){const Je=Hn(X);if(null===Je||!ve(Je.downloadTokens))return null;const bt=Je.downloadTokens;if(0===bt.length)return null;const an=encodeURIComponent;return bt.split(",").map(cr=>{const Wn=Z.fullPath;return jt("/b/"+an(Z.bucket)+"/o/"+an(Wn),Te,Oe)+Mn({alt:"media",token:cr})})[0]}(bt,Je,Z.host,Z._protocol)}}(Z,Te),an);return Un.errorHandler=Tn(X),Un}(Z.storage,Z._location,Pt());return Z.storage.makeRequestWithTokens(X,ji).then(Te=>{if(null===Te)throw function Ut(){return new J(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Te})}function Qr(Z,X){const Te=function Yn(Z,X){const Te=X.split("/").filter(Oe=>Oe.length>0).join("/");return 0===Z.length?Te:Z+"/"+Te}(Z._location.path,X),Oe=new Jt(Z._location.bucket,Te);return new Xi(Z.storage,Oe)}function co(Z,X){if(Z instanceof wt){const Te=Z;if(null==Te._bucket)throw function et(){return new J(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+we+"' property when initializing the app?")}();const Oe=new Xi(Te,Te._bucket);return null!=X?co(Oe,X):Oe}return void 0!==X?Qr(Z,X):Z}function us(Z,X){if(X&&function ls(Z){return/^[A-Za-z]+:\/\//.test(Z)}(X)){if(Z instanceof wt)return function As(Z,X){return new Xi(Z,X)}(Z,X);throw cn("To use ref(service, url), the first argument must be a Storage instance.")}return co(Z,X)}function Lr(Z,X){const Te=X?.[we];return null==Te?null:Jt.makeFromBucketSpec(Te,Z)}class wt{constructor(X,Te,Oe,Je,bt){this.app=X,this._authProvider=Te,this._appCheckProvider=Oe,this._url=Je,this._firebaseVersion=bt,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Je?Jt.makeFromBucketSpec(Je,this._host):Lr(this._host,this.app.options)}get host(){return this._host}set host(X){this._host=X,this._bucket=null!=this._url?Jt.makeFromBucketSpec(this._url,X):Lr(X,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(X){Ye("time",0,Number.POSITIVE_INFINITY,X),this._maxUploadRetryTime=X}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(X){Ye("time",0,Number.POSITIVE_INFINITY,X),this._maxOperationRetryTime=X}_getAuthToken(){var X=this;return(0,o.A)(function*(){if(X._overrideAuthToken)return X._overrideAuthToken;const Te=X._authProvider.getImmediate({optional:!0});if(Te){const Oe=yield Te.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var X=this;return(0,o.A)(function*(){const Te=X._appCheckProvider.getImmediate({optional:!0});return Te?(yield Te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(X=>X.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(X){return new Xi(this,X)}_makeRequest(X,Te,Oe,Je,bt=!0){if(this._deleted)return new gt(In());{const an=function mr(Z,X,Te,Oe,Je,bt,an=!0){const Un=Mn(Z.urlParams),Dn=Z.url+Un,cr=Object.assign({},Z.headers);return function Wt(Z,X){X&&(Z["X-Firebase-GMPID"]=X)}(cr,X),function Zn(Z,X){null!==X&&X.length>0&&(Z.Authorization="Firebase "+X)}(cr,Te),function $n(Z,X){Z["X-Firebase-Storage-Version"]="webjs/"+(X??"AppManager")}(cr,bt),function zt(Z,X){null!==X&&(Z["X-Firebase-AppCheck"]=X)}(cr,Oe),new Vn(Dn,Z.method,cr,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Je,an)}(X,this._appId,Oe,Je,Te,this._firebaseVersion,bt);return this._requests.add(an),an.getPromise().then(()=>this._requests.delete(an),()=>this._requests.delete(an)),an}}makeRequestWithTokens(X,Te){var Oe=this;return(0,o.A)(function*(){const[Je,bt]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(X,Te,Je,bt).getPromise()})()}}const oe="@firebase/storage",ot="storage";function ds(Z,X,Te){return function Mi(Z,X,Te){return Z._throwIfRoot("uploadBytesResumable"),new li(Z,new Ar(X),Te)}(Z=(0,s.Ku)(Z),X,Te)}function pi(Z){return function la(Z){Z._throwIfRoot("getMetadata");const X=yr(Z.storage,Z._location,Pt());return Z.storage.makeRequestWithTokens(X,ji)}(Z=(0,s.Ku)(Z))}function wn(Z,X){return function Ci(Z,X){Z._throwIfRoot("updateMetadata");const Te=function kt(Z,X,Te,Oe){const bt=jt(X.fullServerUrl(),Z.host,Z._protocol),Un=bi(Te,Oe),cr=Z.maxOperationRetryTime,jr=new ne(bt,"PATCH",ct(Z,Oe),cr);return jr.headers={"Content-Type":"application/json; charset=utf-8"},jr.body=Un,jr.errorHandler=Tn(X),jr}(Z.storage,Z._location,X,Pt());return Z.storage.makeRequestWithTokens(Te,ji)}(Z=(0,s.Ku)(Z),X)}function pr(Z,X){return ko(Z=(0,s.Ku)(Z),X)}function Ir(Z){return function xs(Z){const X={prefixes:[],items:[]};return Vs(Z,X).then(()=>X)}(Z=(0,s.Ku)(Z))}function rs(Z){return Yo(Z=(0,s.Ku)(Z))}function hs(Z){return function ws(Z){Z._throwIfRoot("deleteObject");const X=function Xt(Z,X){const Oe=jt(X.fullServerUrl(),Z.host,Z._protocol),Un=new ne(Oe,"DELETE",function an(Dn,cr){},Z.maxOperationRetryTime);return Un.successCodes=[200,204],Un.errorHandler=Tn(X),Un}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(X,ji)}(Z=(0,s.Ku)(Z))}function zi(Z,X){return us(Z=(0,s.Ku)(Z),X)}function Xs(Z,X){return Qr(Z,X)}function gi(Z=(0,ue.getApp)(),X){Z=(0,s.Ku)(Z);const Oe=(0,ue._getProvider)(Z,ot).getImmediate({identifier:X}),Je=(0,s.yU)("storage");return Je&&ss(Oe,...Je),Oe}function ss(Z,X,Te,Oe={}){!function le(Z,X,Te,Oe={}){Z.host=`${X}:${Te}`,Z._protocol="http";const{mockUserToken:Je}=Oe;Je&&(Z._overrideAuthToken="string"==typeof Je?Je:(0,s.Fy)(Je,Z.app.options.projectId))}(Z,X,Te,Oe)}function bs(Z,{instanceIdentifier:X}){const Te=Z.getProvider("app").getImmediate(),Oe=Z.getProvider("auth-internal"),Je=Z.getProvider("app-check-internal");return new wt(Te,Oe,Je,X,ue.SDK_VERSION)}!function Ls(){(0,ue._registerComponent)(new Ee.uA(ot,bs,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(oe,"0.13.2",""),(0,ue.registerVersion)(oe,"0.13.2","esm2017")}()},1076:(mn,Ze,V)=>{V.d(Ze,{Am:()=>Qn,Bd:()=>cn,FA:()=>Ye,Fy:()=>lt,I9:()=>Rn,Im:()=>_n,Ku:()=>Ct,Ll:()=>Ie,T9:()=>_e,Uj:()=>Ue,XA:()=>it,ZQ:()=>Ot,bD:()=>ir,c1:()=>sr,cY:()=>et,eX:()=>Ce,g:()=>st,gR:()=>zt,hp:()=>ti,jZ:()=>Ut,lT:()=>gt,lV:()=>qt,mS:()=>nt,nr:()=>ln,p7:()=>In,sr:()=>Vt,tD:()=>ni,u:()=>J,yU:()=>Ge,zW:()=>He,zw:()=>xe});const Ee=function($){const M=[];let k=0;for(let ne=0;ne<$.length;ne++){let ge=$.charCodeAt(ne);ge<128?M[k++]=ge:ge<2048?(M[k++]=ge>>6|192,M[k++]=63&ge|128):55296==(64512&ge)&&ne+1<$.length&&56320==(64512&$.charCodeAt(ne+1))?(ge=65536+((1023&ge)<<10)+(1023&$.charCodeAt(++ne)),M[k++]=ge>>18|240,M[k++]=ge>>12&63|128,M[k++]=ge>>6&63|128,M[k++]=63&ge|128):(M[k++]=ge>>12|224,M[k++]=ge>>6&63|128,M[k++]=63&ge|128)}return M},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ge=0;ge<$.length;ge+=3){const ct=$[ge],Tt=ge+1<$.length,en=Tt?$[ge+1]:0,un=ge+2<$.length,Tn=un?$[ge+2]:0;let Me=(15&en)<<2|Tn>>6,Be=63&Tn;un||(Be=64,Tt||(Me=64)),ne.push(k[ct>>2],k[(3&ct)<<4|en>>4],k[Me],k[Be])}return ne.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Ee($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,ne=0;for(;k<$.length;){const ge=$[k++];if(ge<128)M[ne++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const ct=$[k++];M[ne++]=String.fromCharCode((31&ge)<<6|63&ct)}else if(ge>239&&ge<365){const un=((7&ge)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[ne++]=String.fromCharCode(55296+(un>>10)),M[ne++]=String.fromCharCode(56320+(1023&un))}else{const ct=$[k++],Tt=$[k++];M[ne++]=String.fromCharCode((15&ge)<<12|(63&ct)<<6|63&Tt)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ge=0;ge<$.length;){const ct=k[$.charAt(ge++)],en=ge<$.length?k[$.charAt(ge)]:0;++ge;const Tn=ge<$.length?k[$.charAt(ge)]:64;++ge;const Re=ge<$.length?k[$.charAt(ge)]:64;if(++ge,null==ct||null==en||null==Tn||null==Re)throw new Ae;ne.push(ct<<2|en>>4),64!==Tn&&(ne.push(en<<4&240|Tn>>2),64!==Re&&ne.push(Tn<<6&192|Re))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function($){return function($){const M=Ee($);return we.encodeByteArray(M,!0)}($).replace(/\./g,"")},J=function($){try{return we.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function xe($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!dt(k)||($[k]=xe($[k],M[k]));return $}function dt($){return"__proto__"!==$}function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lt=()=>{try{return nt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&J($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ge=$=>{const M=($=>{var M,k;return null===(k=null===(M=Lt())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ne=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),ne]:[M.substring(0,k),ne]},_e=()=>{var $;return null===($=Lt())||void 0===$?void 0:$.config},it=$=>{var M;return null===(M=Lt())||void 0===M?void 0:M[`_${$}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,ne)=>{k?this.reject(k):this.resolve(ne),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,ne))}}}function lt($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=M||"demo-project",ge=$.iat||0,ct=$.sub||$.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ge,exp:ge+3600,auth_time:ge,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(Tt)),""].join(".")}function Ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Ie(){var $;const M=null===($=Lt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function cn(){return typeof window<"u"||In()}function In(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function sr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Vt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const $=Ot();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ln(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise(($,M)=>{try{let k=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(ne);ge.onsuccess=()=>{ge.result.close(),k||self.indexedDB.deleteDatabase(ne),$(!0)},ge.onupgradeneeded=()=>{k=!1},ge.onerror=()=>{var ct;M((null===(ct=ge.error)||void 0===ct?void 0:ct.message)||"")}}catch(k){M(k)}})}class st extends Error{constructor(M,k,ne){super(k),this.code=M,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(M,k,ne){this.service=M,this.serviceName=k,this.errors=ne}create(M,...k){const ne=k[0]||{},ge=`${this.service}/${M}`,ct=this.errors[M],Tt=ct?function jt($,M){return $.replace(Mn,(k,ne)=>{const ge=M[ne];return null!=ge?String(ge):`<${ne}?>`})}(ct,ne):"Error";return new st(ge,`${this.serviceName}: ${Tt} (${ge}).`,ne)}}const Mn=/\{\$([^}]+)}/g;function zt($,M){return Object.prototype.hasOwnProperty.call($,M)}function _n($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function ir($,M){if($===M)return!0;const k=Object.keys($),ne=Object.keys(M);for(const ge of k){if(!ne.includes(ge))return!1;const ct=$[ge],Tt=M[ge];if(Bt(ct)&&Bt(Tt)){if(!ir(ct,Tt))return!1}else if(ct!==Tt)return!1}for(const ge of ne)if(!k.includes(ge))return!1;return!0}function Bt($){return null!==$&&"object"==typeof $}function Qn($){const M=[];for(const[k,ne]of Object.entries($))Array.isArray(ne)?ne.forEach(ge=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(ge))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(ne));return M.length?"&"+M.join("&"):""}function Rn($){const M={};return $.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ge,ct]=ne.split("=");M[decodeURIComponent(ge)]=decodeURIComponent(ct)}}),M}function ti($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function ni($,M){const k=new er($,M);return k.subscribe.bind(k)}class er{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(ne=>{this.error(ne)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,ne){let ge;if(void 0===M&&void 0===k&&void 0===ne)throw new Error("Missing Observer.");ge=function hi($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:ne},void 0===ge.next&&(ge.next=rn),void 0===ge.error&&(ge.error=rn),void 0===ge.complete&&(ge.complete=rn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),ct}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}function Ct($){return $&&$._delegate?$._delegate:$}},3739:(mn,Ze,V)=>{V.d(Ze,{W:()=>he});var o=V(7705),ue=V(345),s=V(177);function Ee(we,Ae){1&we&&(o.j41(0,"button",4),o.EFF(1,"Schedule A Visit"),o.k0s())}let he=(()=>{class we{constructor(Le){this.sanitizer=Le}set content(Le){this._content=Le,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Le)}get content(){return this._content}static{this.\u0275fac=function(Ue){return new(Ue||we)(o.rXU(ue.up))}}static{this.\u0275cmp=o.VBU({type:we,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Ue,J){1&Ue&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.nrm(3,"h4",2),o.DNE(4,Ee,2,0,"button",3),o.k0s()),2&Ue&&(o.R7$(2),o.JRh(J.title),o.R7$(1),o.Y8G("innerHTML",J.content,o.npT),o.R7$(1),o.Y8G("ngIf",J.showBtn))},dependencies:[s.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return we})()},3711:(mn,Ze,V)=>{V.d(Ze,{a:()=>we});var o=V(7705),ue=V(4710),s=V(177);function Ee(Ae,Le){1&Ae&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function he(Ae,Le){1&Ae&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let we=(()=>{class Ae{constructor(Ue){this.googleMapsLoader=Ue,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Ue=>{console.error("Error loading Google Maps script:",Ue)})}ngOnChanges(Ue){Ue.address&&!Ue.address.firstChange&&this.showAddressOnMap(Ue.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Ue){this.geocoder.geocode({address:Ue},(J,de)=>{if("OK"===de){this.map.setCenter(J[0].geometry.location);const xe=new google.maps.LatLngBounds;xe.extend(J[0].geometry.location),this.map.fitBounds(xe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:J[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+de)})}getZoomLevel(Ue){document.getElementById("map");const xe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Ue*xe)))}static{this.\u0275fac=function(J){return new(J||Ae)(o.rXU(ue.L))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(J,de){1&J&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Ee,2,0,"ng-container",1),o.DNE(3,he,2,0,"ng-container",2),o.bVm(),o.k0s()),2&J&&(o.Y8G("ngSwitch",de.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[s.ux,s.e1,s.fG]})}}return Ae})()},491:(mn,Ze,V)=>{V.d(Ze,{G:()=>ue});var o=V(7705);let ue=(()=>{class s{static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(we,Ae){1&we&&(o.j41(0,"section",0)(1,"div",1)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"img",3),o.k0s()()),2&we&&(o.R7$(3),o.JRh(Ae.title),o.R7$(2),o.JRh(Ae.content),o.R7$(2),o.FS9("src",Ae.imageURL,o.B4B),o.FS9("alt",Ae.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return s})()},4593:(mn,Ze,V)=>{V.d(Ze,{F:()=>ue});var o=V(7705);let ue=(()=>{class s{static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(we,Ae){1&we&&(o.j41(0,"section",0)(1,"div",1),o.nrm(2,"img",2),o.k0s(),o.j41(3,"div",3)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&we&&(o.R7$(2),o.FS9("src",Ae.imageURL,o.B4B),o.FS9("alt",Ae.title),o.R7$(3),o.JRh(Ae.title),o.R7$(2),o.JRh(Ae.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return s})()},4856:(mn,Ze,V)=>{V.d(Ze,{B:()=>Lr});var o=V(7705),ue=V(6814),s=V(6861),Ee=V(923),he=V(177),we=V(467),Ae=V(8359),Le=V(4412),Ue=V(5558),J=V(8455),de=V(6354),xe=V(8704);function dt(le,wt){if(1&le&&o.nrm(0,"button",15),2&le){const oe=wt.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function nt(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",18)(3,"h1",19),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.EFF(6),o.k0s(),o.j41(7,"div",20),o.nrm(8,"br"),o.j41(9,"p"),o.EFF(10),o.k0s()(),o.j41(11,"button",21),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG(3);return o.Njj(ot.navigateToContact(ot.businessId))}),o.EFF(12," Book Consultation "),o.k0s()()()}if(2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(5),o.SpI(" ",ot.business.businessName,""),o.R7$(4),o.JRh(ot.business.tagline)}}function Nt(le,wt){if(1&le&&(o.j41(0,"div",5)(1,"div",6),o.DNE(2,dt,1,5,"button",7),o.k0s(),o.j41(3,"div",8),o.DNE(4,nt,13,5,"div",9),o.k0s(),o.j41(5,"button",10),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",13),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&le){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}const Mt=function(le){return{opacity:le}};function Gt(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",3),o.DNE(2,Nt,13,2,"div",4),o.k0s(),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.AVh("scrolled",oe.isScrolled),o.Y8G("ngStyle",o.eq3(4,Mt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function Lt(le,wt){if(1&le&&o.nrm(0,"button",30),2&le){const oe=wt.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function yn(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",31)(3,"div",32)(4,"h1",33),o.EFF(5,"Welcome to "),o.nrm(6,"br"),o.j41(7,"span",34),o.EFF(8),o.k0s()(),o.j41(9,"div",35)(10,"h3"),o.EFF(11),o.k0s()(),o.j41(12,"button",36),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG(3);return o.Njj(ot.navigateToContact(ot.businessId))}),o.EFF(13," Schedule a Visit "),o.k0s()()()()}if(2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(3),o.AVh("slide-up-fade-in",ot.animateText),o.R7$(4),o.JRh(ot.business.businessName),o.R7$(1),o.AVh("slide-down-fade-in",ot.animateText),o.R7$(2),o.JRh(ot.business.tagline)}}function Ge(le,wt){if(1&le&&(o.j41(0,"div",24)(1,"div",25),o.DNE(2,Lt,1,5,"button",26),o.k0s(),o.j41(3,"div",27),o.DNE(4,yn,14,9,"div",9),o.k0s(),o.j41(5,"button",28),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",29),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&le){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function _e(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",22),o.DNE(2,Ge,13,2,"div",23),o.k0s(),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.AVh("scrolled",oe.isScrolled),o.Y8G("ngStyle",o.eq3(4,Mt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function it(le,wt){if(1&le&&o.nrm(0,"button",45),2&le){const oe=wt.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function et(le,wt){if(1&le&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Compassion in our hearts"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Excellent care in our hands"),o.k0s(),o.nrm(5,"div",52),o.bVm()),2&le){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function lt(le,wt){if(1&le&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Personalized care"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"With passion"),o.k0s(),o.j41(5,"div",52)(6,"button",53),o.nrm(7,"i",54),o.EFF(8," Who we are"),o.k0s(),o.j41(9,"button",55),o.nrm(10,"i",54),o.EFF(11," Contact Us"),o.k0s()(),o.bVm()),2&le){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function Ot(le,wt){if(1&le&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Family owned"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Friendly atmosphere"),o.k0s(),o.bVm()),2&le){const oe=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",oe.animateText),o.R7$(2),o.AVh("slide-down-fade-in",oe.animateText)}}function Ut(le,wt){}function Ie(le,wt){if(1&le&&(o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",46)(3,"div",47),o.DNE(4,et,6,4,"ng-container",48),o.DNE(5,lt,12,4,"ng-container",48),o.DNE(6,Ot,5,4,"ng-container",48),o.DNE(7,Ut,0,0,"ng-template",null,49,o.C5r),o.k0s()()()),2&le){const oe=wt.$implicit,tt=wt.index,ot=o.sdS(8);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(3),o.Y8G("ngIf",0==tt)("ngIfElse",ot),o.R7$(1),o.Y8G("ngIf",1==tt)("ngIfElse",ot),o.R7$(1),o.Y8G("ngIf",2==tt)("ngIfElse",ot)}}function cn(le,wt){if(1&le&&(o.j41(0,"div",39)(1,"div",40),o.DNE(2,it,1,5,"button",41),o.k0s(),o.j41(3,"div",42),o.DNE(4,Ie,9,9,"div",9),o.k0s(),o.j41(5,"button",43),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",44),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&le){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function In(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",37),o.DNE(2,cn,13,2,"div",38),o.k0s(),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.eq3(2,Mt,oe.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",oe.business)}}function sr(le,wt){1&le&&o.eu8(0)}function Vt(le,wt){if(1&le&&o.nrm(0,"button",64),2&le){const oe=wt.index;o.AVh("active",0===oe),o.BMQ("data-bs-slide-to",oe)("aria-current",0===oe?"true":null)("aria-label","Slide "+(oe+1))}}function qt(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",65)(3,"h1",66),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.j41(6,"span",67),o.EFF(7),o.k0s()(),o.j41(8,"div",68)(9,"h3"),o.EFF(10),o.k0s()(),o.j41(11,"button",69),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG(3);return o.Njj(ot.navigateToContact(ot.businessId))}),o.EFF(12," Get Started "),o.k0s()()()}if(2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG(3);o.AVh("active",0===tt),o.R7$(1),o.Y8G("src",oe.url,o.B4B),o.R7$(6),o.JRh(ot.business.businessName),o.R7$(3),o.JRh(ot.business.tagline)}}function Jt(le,wt){if(1&le&&(o.j41(0,"div",58)(1,"div",59),o.DNE(2,Vt,1,5,"button",60),o.k0s(),o.j41(3,"div",61),o.DNE(4,qt,13,5,"div",9),o.k0s(),o.j41(5,"button",62),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",63),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&le){const oe=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",oe.heroImages),o.R7$(2),o.Y8G("ngForOf",oe.heroImages)}}function gt(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",56),o.DNE(2,Jt,13,2,"div",57),o.k0s(),o.bVm()),2&le){const oe=o.XpG();o.R7$(2),o.Y8G("ngIf",oe.business)}}let Fe=(()=>{class le{constructor(oe,tt,ot,qr){this.router=oe,this.route=tt,this.webContentService=ot,this.businessDataService=qr,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Ae.yU,this.imagesLoaded$=new Le.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const oe=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-oe/1200,0)}ngOnInit(){const oe=this.businessDataService.businessData$.subscribe(ot=>{ot&&(this.business=ot,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(oe);const tt=this.imagesLoaded$.subscribe(ot=>{ot&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(tt)}loadHeroImages(){var oe=this;if(!this.businessId)return;const ot=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ue.n)(qr=>{const Jr=qr.map(function(){var qi=(0,we.A)(function*(ds){return(yield oe.webContentService.checkImageExists(ds.url))?ds:null});return function(ds){return qi.apply(this,arguments)}}());return(0,J.H)(Promise.all(Jr))}),(0,de.T)(qr=>qr.filter(Jr=>null!==Jr))).subscribe(qr=>{this.heroImages=qr,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(ot)}initializeCarousel(){const oe=document.querySelector("#heroCarousel");oe&&(new bootstrap.Carousel(oe,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(oe){this.router.navigate(["/contact-us"],{queryParams:{id:oe}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.Ix),o.rXU(ue.nX),o.rXU(xe.N),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-hero-carousel"]],hostBindings:function(tt,ot){1&tt&&o.bIt("scroll",function(){return ot.onScroll()},!1,o.tSv)},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hh-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,Gt,3,6,"ng-container",1),o.DNE(2,_e,3,6,"ng-container",1),o.DNE(3,In,3,4,"ng-container",1),o.DNE(4,sr,1,0,"ng-container",1),o.DNE(5,gt,3,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[he.Sq,he.bT,he.B3,he.ux,he.e1,he.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hh-hero-section[_ngcontent-%COMP%]{height:80vh}.hh-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.hh-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.hh-h1[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.2rem;text-transform:uppercase;font-weight:500;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}}return le})();function rt(le,wt){if(1&le&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&le){const oe=wt.$implicit;o.R7$(5),o.SpI('" ',oe.quote,' "'),o.R7$(2),o.JRh(oe.name)}}function ln(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,rt,8,2,"div",7),o.k0s()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(6),o.Y8G("ngForOf",oe.testimonials)}}function He(le,wt){if(1&le&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&le){const oe=wt.$implicit;o.R7$(5),o.JRh(oe.quote),o.R7$(2),o.JRh(oe.name)}}function Ce(le,wt){if(1&le&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,He,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,oe.testimonials,0,4))}}function ve(le,wt){if(1&le&&(o.j41(0,"div",36)(1,"p",37),o.EFF(2),o.k0s(),o.j41(3,"div",38)(4,"span"),o.EFF(5),o.k0s()()()),2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG(3);o.AVh("active",ot.currentIndex===tt)("inactive",ot.currentIndex!==tt),o.R7$(2),o.SpI("\u201c",oe.quote,"\u201d"),o.R7$(3),o.JRh(oe.name)}}function Ve(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"button",39),o.bIt("click",function(){const qr=o.eBV(oe).index,Jr=o.XpG(3);return o.Njj(Jr.setSlide(qr))}),o.k0s()}if(2&le){const oe=wt.index,tt=o.XpG(3);o.AVh("active",tt.currentIndex===oe)}}function st(le,wt){if(1&le&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,ve,6,6,"div",32),o.k0s(),o.j41(3,"div",33),o.DNE(4,Ve,1,2,"button",34),o.k0s(),o.j41(5,"div",35)(6,"button",20),o.EFF(7," View All Testimonials "),o.k0s()()()),2&le){const oe=o.XpG(2);o.R7$(1),o.xc7("transform","translateX(-"+100*oe.currentIndex+"%)"),o.R7$(1),o.Y8G("ngForOf",oe.testimonials),o.R7$(2),o.Y8G("ngForOf",oe.testimonials)}}function Ye(le,wt){if(1&le&&(o.qex(0),o.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),o.EFF(5,"Testimonials"),o.k0s()(),o.DNE(6,st,8,4,"div",29),o.k0s()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(6),o.Y8G("ngIf",oe.testimonials&&oe.testimonials.length>0)}}function jt(le,wt){if(1&le&&(o.j41(0,"div",47)(1,"div",48),o.nrm(2,"div",49),o.j41(3,"p",50),o.EFF(4),o.k0s()(),o.j41(5,"div",51)(6,"p",52),o.EFF(7),o.k0s()()()),2&le){const oe=wt.$implicit;o.R7$(4),o.JRh(oe.quote),o.R7$(3),o.JRh(oe.name)}}function Mn(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",40)(2,"div",41)(3,"h2",42),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",43),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",44)(8,"div",45),o.DNE(9,jt,8,2,"div",46),o.k0s()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(9),o.Y8G("ngForOf",oe.testimonials)}}let dr=(()=>{class le{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(oe){this.currentIndex=oe,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(tt){return new(tt||le)}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,ln,7,1,"ng-container",1),o.DNE(2,Ce,15,5,"ng-container",1),o.DNE(3,Ye,7,1,"ng-container",1),o.DNE(4,Mn,10,1,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG,ue.Wk,he.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return le})();function hn(le,wt){if(1&le&&(o.j41(0,"div",9),o.nrm(1,"i",10),o.j41(2,"h3",11),o.EFF(3),o.k0s(),o.j41(4,"div",12)(5,"p"),o.EFF(6),o.k0s()()()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("ngClass",oe.icon),o.R7$(2),o.JRh(oe.title),o.R7$(3),o.JRh(oe.description)}}function Vn(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",5),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",6),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",7),o.DNE(10,hn,7,3,"div",8),o.k0s()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",oe.services)}}function tn(le,wt){if(1&le&&(o.j41(0,"div",31)(1,"p"),o.EFF(2),o.k0s()()),2&le){const oe=o.XpG().$implicit;o.R7$(2),o.JRh(oe.description)}}function Zn(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"div",26),o.bIt("click",function(){const qr=o.eBV(oe).index,Jr=o.XpG(2);return o.Njj(Jr.toggleService(qr))}),o.j41(1,"div",27)(2,"span",28),o.EFF(3),o.k0s(),o.j41(4,"span",29),o.EFF(5),o.k0s()(),o.DNE(6,tn,3,1,"div",30),o.k0s()}if(2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG(2);o.R7$(3),o.JRh(oe.title),o.R7$(2),o.JRh(ot.expandedServiceIndex===tt?"-":"+"),o.R7$(1),o.Y8G("ngIf",ot.expandedServiceIndex===tt)}}function $n(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),o.EFF(6,"Our "),o.k0s(),o.j41(7,"span",18),o.EFF(8,"Services"),o.k0s()(),o.j41(9,"div",19),o.DNE(10,Zn,7,3,"div",20),o.k0s()(),o.j41(11,"div",21)(12,"div",22),o.nrm(13,"img",23),o.k0s(),o.j41(14,"div",24),o.nrm(15,"img",25),o.k0s()()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(10),o.Y8G("ngForOf",oe.services)}}let Wt=(()=>{class le{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(oe){this.expandedServiceIndex=this.expandedServiceIndex===oe?null:oe}static{this.\u0275fac=function(tt){return new(tt||le)}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,Vn,11,1,"ng-container",1),o.DNE(2,$n,16,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.YU,he.Sq,he.bT,he.ux,he.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return le})();var zt=V(3739);function mr(le,wt){if(1&le){const oe=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),o.EFF(5,"We Are "),o.j41(6,"span",6),o.EFF(7),o.k0s()(),o.j41(8,"h1"),o.EFF(9),o.k0s(),o.j41(10,"p"),o.EFF(11),o.k0s(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG();return o.Njj(ot.navigateToContact())}),o.EFF(14,"Contact Us"),o.k0s()()()()(),o.bVm()}if(2&le){const oe=o.XpG();o.R7$(7),o.JRh(null==oe.business?null:oe.business.businessName),o.R7$(2),o.JRh(null==oe.business?null:oe.business.welcomeMessage),o.R7$(2),o.JRh(null==oe.business?null:oe.business.keyServicesHighlights)}}function _n(le,wt){if(1&le&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==oe.business?null:oe.business.businessStory)||"")}}function kr(le,wt){if(1&le&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.Y8G("title","Discover Us")("content",(null==oe.business?null:oe.business.businessStory)||"")}}function ir(le,wt){1&le&&o.eu8(0)}function Bt(le,wt){if(1&le&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&le){const oe=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==oe.business?null:oe.business.businessStory)||"")}}let Sn=(()=>{class le{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(oe=>{oe&&(console.log("HomeComponent - Using cached business data:",oe),this.business=oe)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,mr,15,3,"ng-container",1),o.DNE(2,_n,2,2,"ng-container",1),o.DNE(3,kr,2,2,"ng-container",1),o.DNE(4,ir,1,0,"ng-container",1),o.DNE(5,Bt,2,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[he.ux,he.e1,he.fG,zt.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return le})();function Qn(le,wt){if(1&le){const oe=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG();return o.Njj(ot.navigateToContact(ot.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function Rn(le,wt){if(1&le){const oe=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(oe);const ot=o.XpG();return o.Njj(ot.navigateToContact(ot.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&le){const oe=o.XpG();o.R7$(8),o.SpI("",oe.businessName,"?")}}let ti=(()=>{class le{constructor(oe){this.router=oe,this.id=null,this.layoutType="demo"}navigateToContact(oe){this.router.navigate(["/contact-us"],{queryParams:{id:oe}})}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,Qn,11,0,"ng-container",1),o.DNE(2,Rn,14,1,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return le})();function Ur(le,wt){if(1&le&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function ni(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Ur,3,2,"div",9),o.k0s()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(11),o.Y8G("ngForOf",oe.uniqueService)}}function er(le,wt){1&le&&o.eu8(0)}let oi=(()=>{class le{constructor(oe,tt){this.webContent=oe,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(xe.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,ni,12,1,"ng-container",1),o.DNE(2,er,1,0,"ng-container",1),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return le})();function hi(le,wt){if(1&le&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function rn(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,hi,3,2,"div",9),o.k0s()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(9),o.Y8G("ngForOf",oe.whyChooseUs)}}function Ar(le,wt){1&le&&o.eu8(0)}function Hn(le,wt){if(1&le&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("innerHTML",oe.name,o.npT),o.R7$(1),o.Y8G("innerHTML",oe.description,o.npT)}}function _r(le,wt){if(1&le&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Hn,3,2,"div",9),o.k0s()()(),o.bVm()),2&le){const oe=o.XpG();o.R7$(6),o.SpI(" ",oe.businessName,""),o.R7$(5),o.Y8G("ngForOf",oe.whyChooseUs)}}let Yn=(()=>{class le{constructor(oe,tt){this.webContent=oe,this.route=tt,this.layoutType="demo"}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(xe.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,rn,10,1,"ng-container",1),o.DNE(2,Ar,1,0,"ng-container",1),o.DNE(3,_r,12,2,"ng-container",2),o.k0s()),2&tt&&(o.Y8G("ngSwitch",ot.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return le})();var ci=V(4593),Qe=V(491);function ft(le,wt){if(1&le&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&le){const oe=wt.$implicit;o.R7$(1),o.HbH(oe.icon),o.R7$(2),o.JRh(oe.title)}}let se=(()=>{class le{constructor(){this.services=[]}static{this.\u0275fac=function(tt){return new(tt||le)}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,ft,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&tt&&(o.R7$(6),o.Y8G("ngForOf",ot.services))},dependencies:[he.Sq,ue.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return le})(),Pe=(()=>{class le{static{this.\u0275fac=function(tt){return new(tt||le)}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return le})(),Pt=(()=>{class le{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(tt){return new(tt||le)}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&tt&&(o.xc7("background-image","url("+ot.backgroundImage+")"),o.R7$(4),o.JRh(ot.yearsOfExperience),o.R7$(5),o.JRh(ot.happyFamilies),o.R7$(5),o.JRh(ot.servicesOffered),o.R7$(5),o.JRh(ot.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;height:100%;justify-content:center}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}"]})}}return le})(),Yt=(()=>{class le{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(oe=>{oe&&(console.log("HomeComponent - Using cached business data:",oe),this.business=oe)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-three-section"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:50,vars:3,consts:[["id","service",1,"clemo-service","clemo-sections","clemo-lightbg"],[1,"clemo-container"],[1,"clemo-row"],[1,"clemo-col-sm-12"],[1,"clemo-head-title","clemo-text-center"],[1,"clemo-main-service-area"],[1,"clemo-single-service-area"],[1,"clemo-single-service-left"],["src","../../../assets/sharedAssets/image_fx_(3).jpg","alt",""],[1,"clemo-single-service"],[1,"separator2"],["href","#",1,"btn"],["src","../../../assets/sharedAssets/image_fx_(1).jpg","alt",""],["src","../../../assets/sharedAssets/image_fx_(2).jpg","alt",""]],template:function(tt,ot){1&tt&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),o.EFF(6,"what we do?"),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"div",2)(10,"div",7),o.nrm(11,"img",8),o.k0s(),o.j41(12,"div",9)(13,"h3"),o.EFF(14,"our"),o.k0s(),o.j41(15,"h2"),o.EFF(16,"story"),o.k0s(),o.nrm(17,"div",10),o.j41(18,"p"),o.EFF(19),o.k0s(),o.j41(20,"a",11),o.EFF(21,"learn more"),o.k0s()()()(),o.j41(22,"div",6)(23,"div",2)(24,"div",9)(25,"h3"),o.EFF(26,"our"),o.k0s(),o.j41(27,"h2"),o.EFF(28,"vision"),o.k0s(),o.nrm(29,"div",10),o.j41(30,"p"),o.EFF(31),o.k0s(),o.j41(32,"a",11),o.EFF(33,"learn more"),o.k0s()(),o.j41(34,"div",7),o.nrm(35,"img",12),o.k0s()()(),o.j41(36,"div",6)(37,"div",2)(38,"div",7),o.nrm(39,"img",13),o.k0s(),o.j41(40,"div",9)(41,"h3"),o.EFF(42,"our"),o.k0s(),o.j41(43,"h2"),o.EFF(44,"mission"),o.k0s(),o.nrm(45,"div",10),o.j41(46,"p"),o.EFF(47),o.k0s(),o.j41(48,"a",11),o.EFF(49,"learn more"),o.k0s()()()()()()()()()),2&tt&&(o.R7$(19),o.JRh(null==ot.business?null:ot.business.businessStory),o.R7$(12),o.JRh(null==ot.business?null:ot.business.vision),o.R7$(16),o.JRh(null==ot.business?null:ot.business.mission))},styles:[".clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px}.clemo-head-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px;font-size:3.75rem;font-family:montserrathairline}.clemo-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.clemo-single-service-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.clemo-single-service-area[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.clemo-single-service-left[_ngcontent-%COMP%]{flex:1;max-width:600px;display:flex;justify-content:center;padding:40px}.clemo-single-service-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;height:auto;max-height:600px;object-fit:cover}.clemo-single-service[_ngcontent-%COMP%]{flex:1;max-width:600px;padding:100px}@media (max-width: 768px){.clemo-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.clemo-single-service-left[_ngcontent-%COMP%], .clemo-single-service[_ngcontent-%COMP%]{max-width:100%}.clemo-single-service[_ngcontent-%COMP%]{text-align:center}}"]})}}return le})();const zn=function(le,wt){return{"clemo-btn":le,"clemo-btn-outline":wt}};function Kr(le,wt){if(1&le&&(o.qex(0),o.j41(1,"a",11),o.EFF(2),o.k0s(),o.bVm()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("routerLink",oe.link)("ngClass",o.l_i(3,zn,!oe.outline,oe.outline)),o.R7$(1),o.SpI(" ",oe.text," ")}}const Or=function(le){return{"background-image":le}};function bi(le,wt){if(1&le&&(o.j41(0,"div",4),o.nrm(1,"div",5),o.j41(2,"div",6)(3,"h2"),o.EFF(4),o.k0s(),o.nrm(5,"div",7)(6,"p",8),o.j41(7,"div",9),o.DNE(8,Kr,3,6,"ng-container",10),o.k0s()()()),2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG();o.AVh("clemo-active",tt===ot.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Or,"url("+oe.backgroundImage+")")),o.R7$(3),o.JRh(oe.title),o.R7$(2),o.Y8G("innerHTML",oe.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",oe.buttons)}}function Ct(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"div",12),o.bIt("click",function(){const qr=o.eBV(oe).index,Jr=o.XpG();return o.Njj(Jr.navigateToSlide(qr))}),o.k0s()}if(2&le){const oe=wt.index,tt=o.XpG();o.AVh("clemo-active",oe===tt.currentSlide)}}let $=(()=>{class le{constructor(oe,tt){this.router=oe,this.businessDataService=tt,this.business=null,this.slides=[],this.currentSlide=0,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(oe=>{oe?(console.log("HeroSliderComponent - Retrieved business data:",oe),this.business=oe,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(tt=>({title:this.replaceKeywords(tt.title),subtitle:this.replaceKeywords(tt.subtitle),backgroundImage:tt.backgroundImage,buttons:tt.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(oe){return oe&&this.business?.businessName?oe.replace(/{{businessName}}/g,this.business.businessName):oe}navigateToSlide(oe){this.currentSlide=oe}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.Ix),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-hero-slider"]],decls:4,vars:2,consts:[[1,"clemo-slider-container"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation"],["class","clemo-nav-item",3,"clemo-active","click",4,"ngFor","ngForOf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"click"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,bi,9,8,"div",1),o.j41(2,"div",2),o.DNE(3,Ct,1,2,"div",3),o.k0s()()),2&tt&&(o.R7$(1),o.Y8G("ngForOf",ot.slides),o.R7$(2),o.Y8G("ngForOf",ot.slides))},dependencies:[he.YU,he.Sq,he.B3,ue.Wk],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:.3;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#000}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#000;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:#000;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#333;color:#fff}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:transparent;border:2px solid #000;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-nav-item[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#000;clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}"]})}}return le})();var M=V(9969);function k(le,wt){if(1&le&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s()(),o.j41(7,"div",10)(8,"p"),o.EFF(9),o.k0s()()()),2&le){const oe=wt.$implicit;o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(oe.name),o.R7$(3),o.JRh(oe.relationship),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.JRh(oe.quote)}}function ne(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"button",11),o.bIt("click",function(){const qr=o.eBV(oe).index,Jr=o.XpG();return o.Njj(Jr.goToSlide(qr))}),o.EFF(1," \u25cf "),o.k0s()}if(2&le){const oe=wt.index,tt=o.XpG();o.AVh("active",oe===tt.currentIndex)}}const ge=function(le){return[le]};let ct=(()=>{class le{constructor(oe){this.businessDataService=oe,this.testimonials=[],this.currentIndex=0}ngOnInit(){this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(oe=>{oe&&oe.testimonials&&(this.testimonials=oe.testimonials)})}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(oe){this.currentIndex=oe}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(oe,tt){return oe}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],[1,"feedback"],[3,"click"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Clients Say\u2019s"),o.k0s(),o.DNE(3,k,10,6,"div",2),o.j41(4,"div",3),o.DNE(5,ne,2,2,"button",4),o.k0s()()),2&tt&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,ge,ot.currentTestimonial))("ngForTrackBy",ot.trackByIndex),o.R7$(2),o.Y8G("ngForOf",ot.testimonials))},dependencies:[he.Sq],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}"],data:{animation:[(0,M.hZ)("slideIn",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))]),(0,M.kY)(":leave",[(0,M.i0)("0.5s ease-out",(0,M.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,M.hZ)("fadeInLeft",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(-100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,M.hZ)("fadeInRight",[(0,M.kY)(":enter",[(0,M.iF)({opacity:0,transform:"translateX(100%)"}),(0,M.i0)("0.5s ease-in",(0,M.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return le})();var Tt=V(3711),en=V(4710);function un(le,wt){if(1&le&&(o.j41(0,"span",11),o.EFF(1,"\u2605"),o.k0s()),2&le){const oe=wt.index,tt=o.XpG().$implicit;o.AVh("filled",oe<tt.rating)}}const Tn=function(){return[]};function yr(le,wt){if(1&le&&(o.j41(0,"div",5)(1,"div",6)(2,"p",7),o.EFF(3),o.k0s(),o.j41(4,"div",8),o.DNE(5,un,2,2,"span",9),o.k0s()(),o.j41(6,"p",10),o.EFF(7),o.k0s()()),2&le){const oe=wt.$implicit,tt=wt.index,ot=o.XpG();o.AVh("active",tt===ot.currentReviewIndex),o.R7$(3),o.JRh(oe.author_name),o.R7$(2),o.Y8G("ngForOf",o.lJ4(5,Tn).constructor(5)),o.R7$(2),o.SpI('"',oe.text,'"')}}function Re(le,wt){1&le&&(o.j41(0,"div")(1,"p",12),o.EFF(2,"No reviews available for this business."),o.k0s()())}function Me(le,wt){if(1&le){const oe=o.RV6();o.j41(0,"span",13),o.bIt("click",function(){const qr=o.eBV(oe).index,Jr=o.XpG();return o.Njj(Jr.selectReview(qr))}),o.k0s()}if(2&le){const oe=wt.index,tt=o.XpG();o.AVh("active",oe===tt.currentReviewIndex)}}let Be=(()=>{class le{constructor(oe){this.googleMapsLoader=oe,this.placeId="",this.reviews=[],this.currentReviewIndex=0}ngOnInit(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{this.fetchReviews(this.placeId),this.startCarousel()}).catch(oe=>{console.error("Error loading Google Maps script:",oe)}):console.error("Place ID is required to fetch reviews.")}fetchReviews(oe){new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:oe,fields:["reviews"]},(ot,qr)=>{qr===google.maps.places.PlacesServiceStatus.OK?this.reviews=ot?.reviews||[]:console.error("Error fetching reviews:",qr)})}startCarousel(){this.intervalId=setInterval(()=>{this.reviews.length>0&&(this.currentReviewIndex=(this.currentReviewIndex+1)%this.reviews.length)},1e4)}selectReview(oe){this.currentReviewIndex=oe,this.resetCarousel()}resetCarousel(){this.intervalId&&(clearInterval(this.intervalId),this.startCarousel())}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(en.L))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-google-reviews"]],inputs:{placeId:"placeId"},decls:5,vars:3,consts:[[1,"reviews-carousel"],["class","review",3,"active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"carousel-dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],[1,"review"],[1,"review-header"],[1,"review-author"],[1,"review-rating"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"review-text"],[1,"star"],[1,"no-reviews"],[1,"dot",3,"click"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0),o.DNE(1,yr,8,6,"div",1),o.DNE(2,Re,3,0,"div",2),o.j41(3,"div",3),o.DNE(4,Me,1,2,"span",4),o.k0s()()),2&tt&&(o.R7$(1),o.Y8G("ngForOf",ot.reviews),o.R7$(1),o.Y8G("ngIf",0===ot.reviews.length),o.R7$(2),o.Y8G("ngForOf",ot.reviews))},dependencies:[he.Sq,he.bT],styles:[".reviews-carousel[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:0 auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;overflow:hidden;text-align:center}.review[_ngcontent-%COMP%]{display:none;animation:_ngcontent-%COMP%_fade-in 1s ease-in-out}.review.active[_ngcontent-%COMP%]{display:block}.review-header[_ngcontent-%COMP%]{margin-bottom:10px}.review-author[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#333}.review-rating[_ngcontent-%COMP%]{margin:10px 0}.star[_ngcontent-%COMP%]{font-size:1.2rem;color:#ccc}.star.filled[_ngcontent-%COMP%]{color:gold}.review-text[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin:10px 0}.no-reviews[_ngcontent-%COMP%]{font-size:1.2rem;color:#777}.carousel-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;margin:0 5px;background:#ddd;border-radius:50%;cursor:pointer;transition:background .3s}.dot.active[_ngcontent-%COMP%]{background:#555}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}"]})}}return le})();var kt=V(1626);function Xt(le,wt){1&le&&(o.j41(0,"div"),o.EFF(1,"Loading feed..."),o.k0s())}function bn(le,wt){if(1&le&&o.nrm(0,"img",7),2&le){const oe=o.XpG().$implicit;o.Y8G("src",oe.media_url,o.B4B)("alt",oe.caption||"Instagram Post")}}function fn(le,wt){if(1&le&&(o.j41(0,"video",8),o.nrm(1,"source",9),o.EFF(2," Your browser does not support the video tag. "),o.k0s()),2&le){const oe=o.XpG().$implicit;o.R7$(1),o.Y8G("src",oe.media_url,o.B4B)}}function or(le,wt){if(1&le&&(o.j41(0,"p"),o.EFF(1),o.k0s()),2&le){const oe=o.XpG().$implicit;o.R7$(1),o.JRh(oe.caption)}}function vn(le,wt){if(1&le&&(o.j41(0,"div",3)(1,"a",4),o.DNE(2,bn,1,2,"img",5),o.DNE(3,fn,3,1,"video",6),o.k0s(),o.DNE(4,or,2,1,"p",1),o.k0s()),2&le){const oe=wt.$implicit;o.R7$(1),o.Y8G("href",oe.permalink,o.B4B),o.R7$(1),o.Y8G("ngIf","IMAGE"===oe.media_type||"CAROUSEL_ALBUM"===oe.media_type),o.R7$(1),o.Y8G("ngIf","VIDEO"===oe.media_type),o.R7$(1),o.Y8G("ngIf",oe.caption)}}let ri=(()=>{class le{constructor(oe){this.http=oe,this.instagramPosts=[],this.accessToken="YOUR_ACCESS_TOKEN",this.userId="YOUR_USER_ID"}ngOnInit(){this.fetchInstagramFeed()}fetchInstagramFeed(){this.http.get(`https://graph.instagram.com/${this.userId}/media?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp&access_token=${this.accessToken}`).subscribe({next:tt=>{this.instagramPosts=tt.data},error:tt=>{console.error("Error fetching Instagram feed:",tt)}})}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(kt.Qq))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-instagram-feed"]],decls:5,vars:2,consts:[[1,"instagram-feed"],[4,"ngIf"],["class","instagram-post",4,"ngFor","ngForOf"],[1,"instagram-post"],["target","_blank",3,"href"],[3,"src","alt",4,"ngIf"],["controls","",4,"ngIf"],[3,"src","alt"],["controls",""],["type","video/mp4",3,"src"]],template:function(tt,ot){1&tt&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Instagram Feed"),o.k0s(),o.DNE(3,Xt,2,0,"div",1),o.DNE(4,vn,5,4,"div",2),o.k0s()),2&tt&&(o.R7$(3),o.Y8G("ngIf",0===ot.instagramPosts.length),o.R7$(1),o.Y8G("ngForOf",ot.instagramPosts))},dependencies:[he.Sq,he.bT],styles:[".instagram-feed[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px}.instagram-post[_ngcontent-%COMP%]{margin-bottom:20px}.instagram-post[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .instagram-post[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}"]})}}return le})();function vt(le,wt){1&le&&o.nrm(0,"app-hero-slider")}function qe(le,wt){1&le&&o.nrm(0,"app-three-section")}function Dt(le,wt){1&le&&o.nrm(0,"app-testimonial-carousel")}function pn(le,wt){1&le&&o.nrm(0,"app-hero-carousel")}function kn(le,wt){1&le&&o.nrm(0,"app-parallax-text")}function gn(le,wt){1&le&&o.nrm(0,"app-right-text",12),2&le&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Ln(le,wt){1&le&&o.nrm(0,"app-left-text",12),2&le&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const xr=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Fr=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},tr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},wi=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},ns=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ji=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},qs=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Ys=function(le,wt,oe,tt,ot,qr,Jr){return[le,wt,oe,tt,ot,qr,Jr]};function Hi(le,wt){1&le&&o.nrm(0,"app-icon-list",13),2&le&&o.Y8G("services",o.sGs(8,Ys,o.lJ4(1,xr),o.lJ4(2,Fr),o.lJ4(3,tr),o.lJ4(4,wi),o.lJ4(5,ns),o.lJ4(6,ji),o.lJ4(7,qs)))}const wo=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},li=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Gi=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Ki=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Vr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Vs=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},fi=function(le,wt,oe,tt,ot,qr){return[le,wt,oe,tt,ot,qr]};function ko(le,wt){if(1&le&&o.nrm(0,"app-our-services-home",14),2&le){const oe=o.XpG();o.Y8G("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("services",o.l4e(8,fi,o.lJ4(2,wo),o.lJ4(3,li),o.lJ4(4,Gi),o.lJ4(5,Ki),o.lJ4(6,Vr),o.lJ4(7,Vs)))}}const la=function(){return[]};function Ci(le,wt){if(1&le&&o.nrm(0,"app-why-us",15),2&le){const oe=o.XpG();o.Y8G("whyChooseUs",(null==oe.business?null:oe.business.whyChoose)||o.lJ4(3,la))("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("businessName",(null==oe.business?null:oe.business.businessName)||"Demo")}}function Yo(le,wt){if(1&le&&o.nrm(0,"app-features",16),2&le){const oe=o.XpG();o.Y8G("uniqueService",(null==oe.business?null:oe.business.uniqueService)||o.lJ4(2,la))("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function ws(le,wt){if(1&le&&o.nrm(0,"app-testimonials",17),2&le){const oe=o.XpG();o.Y8G("testimonials",null==oe.business?null:oe.business.testimonials)("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function Qr(le,wt){1&le&&o.nrm(0,"app-parallax-stats",18),2&le&&o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}function ls(le,wt){if(1&le&&o.nrm(0,"app-consultation",19),2&le){const oe=o.XpG();o.Y8G("id",(null==oe.business?null:oe.business.id)||"")("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")("businessName",(null==oe.business?null:oe.business.businessName)||"Demo")}}function As(le,wt){if(1&le&&o.nrm(0,"app-google-maps",20),2&le){const oe=o.XpG();o.Y8G("address",(null==oe.business?null:oe.business.address)||"")("layoutType",(null==oe.business||null==oe.business.theme?null:oe.business.theme.themeType)||"demo")}}function co(le,wt){if(1&le&&o.nrm(0,"app-google-reviews",21),2&le){const oe=o.XpG();o.Y8G("placeId",(null==oe.business?null:oe.business.placeId)||"")}}function us(le,wt){1&le&&o.nrm(0,"app-instagram-feed")}let Lr=(()=>{class le{constructor(oe,tt,ot){this.route=oe,this.metaService=tt,this.businessDataService=ot,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(oe=>{oe&&(this.businessId=oe,this.businessDataService.getBusinessData().subscribe(tt=>{this.business=tt}),this.metaService.loadAndApplyMeta(this.businessId))})}static{this.\u0275fac=function(tt){return new(tt||le)(o.rXU(ue.nX),o.rXU(s.R),o.rXU(Ee.A))}}static{this.\u0275cmp=o.VBU({type:le,selectors:[["app-home"]],decls:18,vars:19,consts:[[4,"ngIf"],[3,"layoutType","businessId"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName",4,"ngIf"],[3,"uniqueService","layoutType",4,"ngIf"],[3,"testimonials","layoutType",4,"ngIf"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],[3,"address","layoutType",4,"ngIf"],[3,"placeId",4,"ngIf"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"id","layoutType","businessName"],[3,"address","layoutType"],[3,"placeId"]],template:function(tt,ot){1&tt&&(o.DNE(0,vt,1,0,"app-hero-slider",0),o.DNE(1,qe,1,0,"app-three-section",0),o.DNE(2,Dt,1,0,"app-testimonial-carousel",0),o.DNE(3,pn,1,0,"app-hero-carousel",0),o.nrm(4,"app-welcome",1),o.DNE(5,kn,1,0,"app-parallax-text",0),o.DNE(6,gn,1,3,"app-right-text",2),o.DNE(7,Ln,1,3,"app-left-text",2),o.DNE(8,Hi,1,16,"app-icon-list",3),o.DNE(9,ko,1,15,"app-our-services-home",4),o.DNE(10,Ci,1,4,"app-why-us",5),o.DNE(11,Yo,1,3,"app-features",6),o.DNE(12,ws,1,2,"app-testimonials",7),o.DNE(13,Qr,1,5,"app-parallax-stats",8),o.DNE(14,ls,1,3,"app-consultation",9),o.DNE(15,As,1,2,"app-google-maps",10),o.DNE(16,co,1,1,"app-google-reviews",11),o.DNE(17,us,1,0,"app-instagram-feed",0)),2&tt&&(o.Y8G("ngIf","clemo"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("layoutType",(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)||"demo")("businessId",(null==ot.business?null:ot.business.id)||""),o.R7$(1),o.Y8G("ngIf","ehc"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","hh"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ehc"===(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==ot.business||null==ot.business.theme?null:ot.business.theme.themeType)))},dependencies:[he.bT,Fe,dr,Wt,Sn,ti,oi,Yn,ci.F,Qe.G,se,Pe,Pt,Yt,$,ct,Tt.a,Be,ri]})}}return le})()},214:(mn,Ze,V)=>{V.d(Ze,{W:()=>ue});var o=V(7705);let ue=(()=>{class s{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(we){return new(we||s)}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(we,Ae){1&we&&(o.j41(0,"div",0),o.bIt("click",function(){return Ae.close()}),o.j41(1,"div",1),o.bIt("click",function(Ue){return Ue.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return Ae.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&we&&(o.R7$(4),o.Y8G("src",Ae.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return s})()},4796:(mn,Ze,V)=>{V.d(Ze,{u:()=>he});var o=V(6354),ue=V(7705),s=V(1977),Ee=V(6814);let he=(()=>{class we{constructor(Le,Ue){this.afAuth=Le,this.router=Ue,this.user$=Le.authState}login(Le,Ue){return this.afAuth.signInWithEmailAndPassword(Le,Ue)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ue){return new(Ue||we)(ue.KVO(s.DS),ue.KVO(Ee.Ix))}}static{this.\u0275prov=ue.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})()},923:(mn,Ze,V)=>{V.d(Ze,{A:()=>we});var o=V(4412),ue=V(6354),s=V(8141),Ee=V(7705),he=V(3012);let we=(()=>{class Ae{constructor(Ue){this.businessService=Ue,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ue){return console.log("BusinessDataService - loadBusinessData for ID:",Ue),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Ue).pipe((0,ue.T)(J=>J??null),(0,s.M)(J=>{console.log("BusinessDataService - Business fetched:",J),this.businessDataSubject.next(J),this.businessIdSubject.next(Ue)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(J){return new(J||Ae)(Ee.KVO(he.u))}}static{this.\u0275prov=Ee.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},3012:(mn,Ze,V)=>{V.d(Ze,{u:()=>Ae});var o=V(7673),ue=V(6354),s=V(5558),Ee=V(7705),he=V(6340),we=V(8721);let Ae=(()=>{class Le{constructor(J,de){this.afs=J,this.storage=de,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(J){console.log("Business Created");const de=this.afs.createId();return this.afs.doc(`${this.basePath}/${de}`).set({...J,id:de}),this.afs.doc(`${this.basePath}/${de}`).valueChanges().pipe((0,ue.T)(xe=>{if(!xe)throw new Error("Business not found after creation");return xe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(J=>J.map(de=>{const xe=de.payload.doc.data(),dt=de.payload.doc.id,{id:nt,...Nt}=xe;return{id:dt,...Nt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,J=>J.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(J){return this.getBusinessData(J)}getBusinessData(J){const de=J&&J.trim()?J:this.defaultBusinessId;return this.afs.collection("businesses").doc(de).snapshotChanges().pipe((0,s.n)(xe=>{const dt=xe.payload.data(),nt=xe.payload.id;if(!dt)return(0,o.of)(void 0);const{id:Nt,...Mt}=dt,Gt={id:nt,...Mt},Lt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${nt}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Ge=>{const _e=Ge.payload.data()||Lt;return Gt.theme=_e,Gt}))}))}updateBusiness(J,de){return this.afs.doc(`${this.basePath}/${J}`).update(de)}deleteBusiness(J){return this.afs.doc(`${this.basePath}/${J}`).delete()}uploadFile(J,de){return this.storage.upload(J,de)}getDownloadURL(J){return this.storage.ref(J).getDownloadURL()}updateThemeFileName(J,de=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${de}`).update({"theme.themeFileName":J})}getThemeFileName(J=this.defaultBusinessId){const xe=this.afs.collection(this.basePath).doc(J).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${J}`),xe.get().toPromise().then(dt=>{if(dt&&dt.exists){const nt=dt.data();console.log("Theme document found:",nt);const Nt=nt?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Nt}`),Nt}return console.warn(`No theme document found for business ID: ${J}. Using default theme.`),"default.css"}).catch(dt=>(console.error(`Error fetching theme file name for business ID: ${J}`,dt),"default.css"))}static{this.\u0275fac=function(de){return new(de||Le)(Ee.KVO(he.Qe),Ee.KVO(we.ap))}}static{this.\u0275prov=Ee.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},4710:(mn,Ze,V)=>{V.d(Ze,{L:()=>s});var ue=V(7705);let s=(()=>{class Ee{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((we,Ae)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void we();const Le=document.createElement("script");Le.id="google-maps-script",Le.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Le.async=!0,Le.defer=!0,Le.onload=()=>{this.scriptLoaded=!0,we()},Le.onerror=Ue=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ae(Ue)},document.body.appendChild(Le)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ae){return new(Ae||Ee)}}static{this.\u0275prov=ue.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},6861:(mn,Ze,V)=>{V.d(Ze,{R:()=>Ee});var o=V(7705),ue=V(345),s=V(923);let Ee=(()=>{class he{constructor(Ae,Le,Ue){this.meta=Ae,this.title=Le,this.businessDataService=Ue}updateMetaTags(Ae){this.title.setTitle(Ae.title),this.meta.updateTag({name:"description",content:Ae.description}),this.meta.updateTag({name:"keywords",content:Ae.keywords}),this.meta.updateTag({property:"og:title",content:Ae.title}),this.meta.updateTag({property:"og:description",content:Ae.description})}updateFavicon(Ae){const Le=document.getElementsByTagName("head")[0];let Ue=document.querySelector("link[rel*='icon']");Ue||(Ue=document.createElement("link"),Ue.rel="icon",Le.appendChild(Ue)),Ue.href=Ae}loadAndApplyMeta(Ae){this.businessDataService.loadBusinessData(Ae).subscribe(Le=>{Le?(this.updateMetaTags({title:Le.metaTitle||"Default Title",description:Le.metaDescription||"Default Description",keywords:Le.metaKeywords||"default, keywords"}),Le.faviconUrl&&this.updateFavicon(Le.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Le){return new(Le||he)(o.KVO(ue.W8),o.KVO(ue.hE),o.KVO(s.A))}}static{this.\u0275prov=o.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})()},5009:(mn,Ze,V)=>{V.d(Ze,{F:()=>Ue});var o=V(8810),ue=V(8455),s=V(7673),Ee=V(6697),he=V(5558),we=V(9437),Ae=V(7705),Le=V(6340);let Ue=(()=>{class J{constructor(xe){this.firestore=xe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(xe){return this.firestore.collection("businesses").doc(xe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(xe){console.log("Theme Service: - Fetching theme for business ID:",xe);const dt=this.firestore.collection("businesses").doc(xe),nt=dt.collection("theme").doc("themeDoc");return dt.snapshotChanges().pipe((0,Ee.s)(1),(0,he.n)(Nt=>Nt.payload.exists?nt.get().pipe((0,he.n)(Mt=>Mt.exists?(Mt.data(),nt.valueChanges()):(0,ue.H)(nt.set(this.defaultTheme)).pipe((0,he.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),nt.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,we.W)(Nt=>(console.error("Error fetching theme:",Nt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,s.of)(this.defaultTheme))))}updateColors(xe,dt){const nt=this.firestore.collection("businesses").doc(xe).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+xe+" theme service updateColors: ",dt),nt.set(dt,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),dt.themeFileName&&this.applyThemeFile(dt.themeFileName)}).catch(Nt=>{throw console.error("Theme Service: - Error updating colors:",Nt),new Error(Nt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(xe){return this.loadCss(`assets/themes/${xe}`)}loadCss(xe){return new Promise((dt,nt)=>{console.log("Load css from  file:",xe);const Nt=document.createElement("link");Nt.rel="stylesheet",Nt.href=xe,Nt.onload=()=>{console.log(`Loaded theme: ${xe}`),dt()},Nt.onerror=Mt=>{console.error(`Failed to load theme: ${xe}`,Mt),nt(Mt)},document.head.appendChild(Nt)})}static{this.\u0275fac=function(dt){return new(dt||J)(Ae.KVO(Le.Qe))}}static{this.\u0275prov=Ae.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},8704:(mn,Ze,V)=>{V.d(Ze,{N:()=>Ae});var o=V(6354),ue=V(9437),s=V(7673),Ee=V(7705),he=V(6340),we=V(8721);let Ae=(()=>{class Le{constructor(J,de){this.firestore=J,this.storage=de,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(J){const de=J&&J.trim()?J:this.defaultBusinessId;return this.firestore.collection("businesses").doc(de).snapshotChanges().pipe((0,o.T)(xe=>{const dt=xe.payload.data(),nt=xe.payload.id;if(dt){const{id:Nt,testimonials:Mt=[],...Gt}=dt;return{id:nt,testimonials:Mt.map(yn=>({...yn,photoURL:yn.photoURL&&yn.photoURL.trim()?yn.photoURL:this.defaultImage})),...Gt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(J){return this.storage.ref(J).getDownloadURL().pipe((0,ue.W)(de=>(console.error("Error fetching photo URL:",de),(0,s.of)(""))))}getEmployeesByBusinessId(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).get().pipe((0,o.T)(de=>{if(de.exists){const xe=de.data();return xe&&xe.employees?xe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(de=>(console.error("Error fetching employees:",de),(0,s.of)([]))))}getBusinessGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessUploadedImagesById(J,de){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection(de).valueChanges()}checkImageExists(J){return this.storage.refFromURL(J).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(de){return new(de||Le)(Ee.KVO(he.Qe),Ee.KVO(we.ap))}}static{this.\u0275prov=Ee.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},9888:(mn,Ze,V)=>{var o={};V.r(o),V.d(o,{afterMain:()=>M,afterRead:()=>bi,afterWrite:()=>ge,applyStyles:()=>Be,arrow:()=>Xi,auto:()=>_r,basePlacements:()=>Yn,beforeMain:()=>Ct,beforeRead:()=>Kr,beforeWrite:()=>k,bottom:()=>rn,clippingParents:()=>ft,computeStyles:()=>xs,createPopper:()=>Ii,createPopperBase:()=>Xn,createPopperLite:()=>Bi,detectOverflow:()=>qi,end:()=>Qe,eventListeners:()=>ko,flip:()=>pr,hide:()=>zi,left:()=>Hn,main:()=>$,modifierPhases:()=>ct,offset:()=>ss,placements:()=>zn,popper:()=>Pe,popperGenerator:()=>Wn,popperOffsets:()=>ar,preventOverflow:()=>Z,read:()=>Or,reference:()=>Pt,right:()=>Ar,start:()=>ci,top:()=>hi,variationPlacements:()=>Yt,viewport:()=>se,write:()=>ne});var ue=V(345),s=V(7705),Ee=V(1626),he=V(6814),we=V(4856),Ae=V(8704),Le=V(6861),Ue=V(923),J=V(177),de=V(7673),xe=V(6354),dt=V(5558),nt=V(9437);let Nt=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-section-tile"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s()()),2&y&&(s.R7$(2),s.JRh(w.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return _})();function Mt(_,d){if(1&_&&(s.j41(0,"div",5),s.nrm(1,"img",6),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h4"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()()),2&_){const l=d.$implicit;s.R7$(1),s.FS9("alt",l.name),s.Y8G("src",l.photoURL,s.B4B),s.R7$(2),s.JRh(l.name),s.R7$(2),s.JRh(l.role),s.R7$(2),s.JRh(l.bio)}}function Gt(_,d){if(1&_&&(s.j41(0,"div",1),s.nrm(1,"app-section-tile",2),s.j41(2,"div",3),s.DNE(3,Mt,8,5,"div",4),s.nI1(4,"async"),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("title","Meet the Team"),s.R7$(2),s.Y8G("ngForOf",s.bMT(4,2,l.employees$))}}let Lt=(()=>{class _{constructor(l,y){this.route=l,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,xe.T)(l=>l.get("id")||""),(0,dt.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,nt.W)(l=>(console.error("Error fetching employees:",l),(0,de.of)([]))))}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,w){1&y&&s.DNE(0,Gt,5,4,"div",0),2&y&&s.Y8G("ngIf",w.employees$)},dependencies:[J.Sq,J.bT,Nt,J.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return _})();var yn=V(4593),Ge=V(491);let _e=(()=>{class _{constructor(l,y){this.route=l,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s()()()),2&y&&(s.xc7("background-image",w.backgroundImage),s.R7$(3),s.JRh(w.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return _})(),it=(()=>{class _{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"div",3)(4,"p",4),s.EFF(5),s.k0s(),s.j41(6,"p",5),s.EFF(7),s.k0s()()()()),2&y&&(s.R7$(2),s.FS9("src",w.imageURL,s.B4B),s.R7$(3),s.SpI('" ',w.text,'"'),s.R7$(2),s.SpI("\u2013 ",w.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return _})();function et(_,d){if(1&_&&(s.qex(0),s.j41(1,"button",3),s.EFF(2),s.k0s(),s.bVm()),2&_){const l=s.XpG();s.R7$(2),s.JRh(l.buttonText)}}function lt(_,d){if(1&_&&(s.j41(0,"a",4),s.EFF(1),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.JRh(l.buttonText)}}const Ot=function(_,d){return{"background-color":_,color:d}};let Ut=(()=>{class _{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,w){if(1&y&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2),s.k0s(),s.DNE(3,et,3,1,"ng-container",1),s.DNE(4,lt,2,1,"ng-template",null,2,s.C5r),s.k0s()),2&y){const B=s.sdS(5);s.Y8G("ngStyle",s.l_i(4,Ot,w.bgColor,w.textColor)),s.R7$(2),s.JRh(w.text),s.R7$(1),s.Y8G("ngIf",w.isButton)("ngIfElse",B)}},dependencies:[J.bT,J.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return _})();function Ie(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"About Us"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),s.k0s()()()(),s.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),s.EFF(12,"Our Story"),s.k0s()(),s.nrm(13,"div",11),s.k0s(),s.j41(14,"section",12)(15,"div",13),s.nrm(16,"img",14),s.j41(17,"div",9)(18,"h2",10),s.EFF(19,"Our Mission"),s.k0s()(),s.nrm(20,"div",11),s.k0s(),s.j41(21,"div",15),s.nrm(22,"img",14),s.j41(23,"div",9)(24,"h2",10),s.EFF(25,"Our Vision"),s.k0s()(),s.nrm(26,"div",11),s.k0s()(),s.j41(27,"section",16),s.nrm(28,"app-meet-the-team",17),s.k0s()(),s.j41(29,"div",18)(30,"div",19)(31,"h2"),s.EFF(32,"Come Meet Our Family"),s.k0s(),s.j41(33,"p"),s.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),s.k0s(),s.j41(35,"button",20),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact())}),s.EFF(36," Schedule a Visit "),s.k0s()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(13),s.Y8G("innerHTML",l.business.businessStory,s.npT),s.R7$(3),s.Y8G("src",l.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",s.B4B),s.R7$(4),s.Y8G("innerHTML",l.business.mission,s.npT),s.R7$(2),s.Y8G("src",l.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",s.B4B),s.R7$(4),s.Y8G("innerHTML",l.business.vision,s.npT),s.R7$(2),s.Y8G("businessId",l.business.id)}}function cn(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function In(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function sr(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",21)(3,"section",22),s.DNE(4,cn,1,3,"app-right-text",23),s.DNE(5,In,1,3,"app-left-text",23),s.k0s(),s.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(4),s.Y8G("ngIf","ae"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","ae"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Vt(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function qt(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function Jt(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.DNE(3,Vt,1,3,"app-right-text",23),s.DNE(4,qt,1,3,"app-left-text",23),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("ngIf","ehc"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","ehc"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function gt(_,d){if(1&_&&s.nrm(0,"app-right-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission)}}function Fe(_,d){if(1&_&&s.nrm(0,"app-left-text",26),2&_){const l=s.XpG(3);s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision)}}function rt(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.DNE(3,gt,1,3,"app-right-text",23),s.DNE(4,Fe,1,3,"app-left-text",23),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("ngIf","clemo"===l.business.theme.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===l.business.theme.themeType),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function ln(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"section",22),s.nrm(3,"app-right-text",26)(4,"app-left-text",26),s.k0s(),s.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("imageURL",l.business.missionImageUrl)("title",l.business.missionTitle)("content",l.business.mission),s.R7$(1),s.Y8G("imageURL",l.business.visionImageUrl)("title",l.business.visionTitle)("content",l.business.vision),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[5].name)("text",l.business.testimonials[5].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function He(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Ie,37,6,"ng-container",2),s.DNE(3,sr,9,10,"ng-container",2),s.DNE(4,Jt,8,10,"ng-container",2),s.DNE(5,rt,8,10,"ng-container",2),s.DNE(6,ln,7,14,"ng-container",3),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let Ce=(()=>{class _{constructor(l,y,w,B,ee){this.webContent=l,this.route=y,this.router=w,this.metaService=B,this.businessDataService=ee,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ae.N),s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Le.R),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(y,w){1&y&&s.DNE(0,He,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.bT,J.ux,J.e1,J.fG,Lt,yn.F,Ge.G,_e,it,Ut],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return _})();function ve(_,d){if(1&_&&(s.j41(0,"div",4),s.nrm(1,"i",5),s.j41(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()),2&_){const l=d.$implicit;s.R7$(1),s.Y8G("ngClass",l.icon),s.R7$(2),s.JRh(l.title),s.R7$(2),s.JRh(l.description)}}let Ve=(()=>{class _{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:4,vars:2,consts:[[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,w){1&y&&(s.j41(0,"section",0),s.nrm(1,"app-section-tile",1),s.j41(2,"div",2),s.DNE(3,ve,6,3,"div",3),s.k0s()()),2&y&&(s.R7$(1),s.Y8G("title","Our Services"),s.R7$(2),s.Y8G("ngForOf",w.services))},dependencies:[J.YU,J.Sq,Nt],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();function st(_,d){if(1&_&&(s.j41(0,"li")(1,"h3"),s.EFF(2),s.k0s()()),2&_){const l=d.$implicit;s.R7$(2),s.JRh(l.name)}}function Ye(_,d){if(1&_&&(s.j41(0,"li")(1,"h3"),s.EFF(2),s.k0s()()),2&_){const l=d.$implicit;s.R7$(2),s.JRh(l.name)}}function jt(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",4)(2,"div",5)(3,"h1"),s.EFF(4,"Our Services"),s.k0s(),s.j41(5,"div",6)(6,"p"),s.EFF(7,"Providing exceptional care tailored to your needs"),s.k0s()()()(),s.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),s.EFF(12,"Our Services"),s.k0s()(),s.j41(13,"ul"),s.DNE(14,st,3,1,"li",11),s.k0s()(),s.j41(15,"section",8)(16,"div",9)(17,"h2",10),s.EFF(18,"Our Benefits"),s.k0s()(),s.j41(19,"ul"),s.DNE(20,Ye,3,1,"li",11),s.k0s()(),s.j41(21,"section",12)(22,"div",9)(23,"h2",10),s.EFF(24,"Special Programs"),s.k0s()(),s.j41(25,"h3"),s.EFF(26),s.k0s()(),s.j41(27,"section",13)(28,"div",14),s.nrm(29,"img",15),s.j41(30,"div",9)(31,"h2",10),s.EFF(32,"Tours"),s.k0s()(),s.nrm(33,"div",16),s.k0s(),s.j41(34,"div",17),s.nrm(35,"img",18),s.j41(36,"div",9)(37,"h2",10),s.EFF(38,"Free Consulting"),s.k0s()(),s.nrm(39,"div",16),s.k0s()()(),s.j41(40,"div",19)(41,"div",20)(42,"h2"),s.EFF(43,"Ready to Experience Exceptional Care?"),s.k0s(),s.j41(44,"p"),s.EFF(45," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),s.k0s(),s.j41(46,"button",21),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact())}),s.EFF(47," Book a Consultation "),s.k0s()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(14),s.Y8G("ngForOf",l.business.services),s.R7$(6),s.Y8G("ngForOf",l.business.benefits),s.R7$(6),s.JRh(l.business.specialPrograms),s.R7$(7),s.Y8G("innerHTML",l.business.tours,s.npT),s.R7$(6),s.Y8G("innerHTML",l.business.freeConsulting,s.npT)}}const dr=function(){return{icon:"fas fa-dove",title:"Hospice care",description:"Compassionate, personalized end-of-life support, focusing on comfort, pain management, and emotional well-being for both the patient and their family in a peaceful, home-like environment"}},Vn=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Zn=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},Wt=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},mr=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},kr=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Bt=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Sn=function(_,d,l,y,w,B,ee){return[_,d,l,y,w,B,ee]};function Qn(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",22),s.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.sGs(17,Sn,s.lJ4(10,dr),s.lJ4(11,Vn),s.lJ4(12,Zn),s.lJ4(13,Wt),s.lJ4(14,mr),s.lJ4(15,kr),s.lJ4(16,Bt))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}const Rn=function(_,d,l,y,w,B){return[_,d,l,y,w,B]};function ti(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",22),s.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.l4e(16,Rn,s.lJ4(10,Vn),s.lJ4(11,Zn),s.lJ4(12,Wt),s.lJ4(13,mr),s.lJ4(14,kr),s.lJ4(15,Bt))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Ur(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",22),s.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.sGs(17,Sn,s.lJ4(10,dr),s.lJ4(11,Vn),s.lJ4(12,Zn),s.lJ4(13,Wt),s.lJ4(14,mr),s.lJ4(15,kr),s.lJ4(16,Bt))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function ni(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",22),s.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),s.k0s(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(3),s.Y8G("layoutType",l.business.theme.themeType)("services",s.l4e(16,Rn,s.lJ4(10,Vn),s.lJ4(11,Zn),s.lJ4(12,Wt),s.lJ4(13,mr),s.lJ4(14,kr),s.lJ4(15,Bt))),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[6].name)("text",l.business.testimonials[6].quote),s.R7$(1),s.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function er(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,jt,48,5,"ng-container",2),s.DNE(3,Qn,6,25,"ng-container",2),s.DNE(4,ti,6,23,"ng-container",2),s.DNE(5,Ur,6,25,"ng-container",2),s.DNE(6,ni,6,23,"ng-container",3),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.business.theme.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo")}}let oi=(()=>{class _{constructor(l,y,w){this.router=l,this.businessDataService=y,this.metaService=w,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.Ix),s.rXU(Ue.A),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,w){1&y&&s.DNE(0,er,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.Sq,J.bT,J.ux,J.e1,J.fG,Ve,_e,it,Ut],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return _})();var hi="top",rn="bottom",Ar="right",Hn="left",_r="auto",Yn=[hi,rn,Ar,Hn],ci="start",Qe="end",ft="clippingParents",se="viewport",Pe="popper",Pt="reference",Yt=Yn.reduce(function(_,d){return _.concat([d+"-"+ci,d+"-"+Qe])},[]),zn=[].concat(Yn,[_r]).reduce(function(_,d){return _.concat([d,d+"-"+ci,d+"-"+Qe])},[]),Kr="beforeRead",Or="read",bi="afterRead",Ct="beforeMain",$="main",M="afterMain",k="beforeWrite",ne="write",ge="afterWrite",ct=[Kr,Or,bi,Ct,$,M,k,ne,ge];function Tt(_){return _?(_.nodeName||"").toLowerCase():null}function en(_){if(null==_)return window;if("[object Window]"!==_.toString()){var d=_.ownerDocument;return d&&d.defaultView||window}return _}function un(_){return _ instanceof en(_).Element||_ instanceof Element}function Tn(_){return _ instanceof en(_).HTMLElement||_ instanceof HTMLElement}function yr(_){return!(typeof ShadowRoot>"u")&&(_ instanceof en(_).ShadowRoot||_ instanceof ShadowRoot)}const Be={name:"applyStyles",enabled:!0,phase:"write",fn:function Re(_){var d=_.state;Object.keys(d.elements).forEach(function(l){var y=d.styles[l]||{},w=d.attributes[l]||{},B=d.elements[l];!Tn(B)||!Tt(B)||(Object.assign(B.style,y),Object.keys(w).forEach(function(ee){var pe=w[ee];!1===pe?B.removeAttribute(ee):B.setAttribute(ee,!0===pe?"":pe)}))})},effect:function Me(_){var d=_.state,l={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,l.popper),d.styles=l,d.elements.arrow&&Object.assign(d.elements.arrow.style,l.arrow),function(){Object.keys(d.elements).forEach(function(y){var w=d.elements[y],B=d.attributes[y]||{},pe=Object.keys(d.styles.hasOwnProperty(y)?d.styles[y]:l[y]).reduce(function(Ne,at){return Ne[at]="",Ne},{});!Tn(w)||!Tt(w)||(Object.assign(w.style,pe),Object.keys(B).forEach(function(Ne){w.removeAttribute(Ne)}))})}},requires:["computeStyles"]};function kt(_){return _.split("-")[0]}var Xt=Math.max,bn=Math.min,fn=Math.round;function or(){var _=navigator.userAgentData;return null!=_&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function vn(){return!/^((?!chrome|android).)*safari/i.test(or())}function ri(_,d,l){void 0===d&&(d=!1),void 0===l&&(l=!1);var y=_.getBoundingClientRect(),w=1,B=1;d&&Tn(_)&&(w=_.offsetWidth>0&&fn(y.width)/_.offsetWidth||1,B=_.offsetHeight>0&&fn(y.height)/_.offsetHeight||1);var pe=(un(_)?en(_):window).visualViewport,Ne=!vn()&&l,at=(y.left+(Ne&&pe?pe.offsetLeft:0))/w,Et=(y.top+(Ne&&pe?pe.offsetTop:0))/B,sn=y.width/w,Kn=y.height/B;return{width:sn,height:Kn,top:Et,right:at+sn,bottom:Et+Kn,left:at,x:at,y:Et}}function vt(_){var d=ri(_),l=_.offsetWidth,y=_.offsetHeight;return Math.abs(d.width-l)<=1&&(l=d.width),Math.abs(d.height-y)<=1&&(y=d.height),{x:_.offsetLeft,y:_.offsetTop,width:l,height:y}}function qe(_,d){var l=d.getRootNode&&d.getRootNode();if(_.contains(d))return!0;if(l&&yr(l)){var y=d;do{if(y&&_.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function Dt(_){return en(_).getComputedStyle(_)}function pn(_){return["table","td","th"].indexOf(Tt(_))>=0}function kn(_){return((un(_)?_.ownerDocument:_.document)||window.document).documentElement}function gn(_){return"html"===Tt(_)?_:_.assignedSlot||_.parentNode||(yr(_)?_.host:null)||kn(_)}function Ln(_){return Tn(_)&&"fixed"!==Dt(_).position?_.offsetParent:null}function Fr(_){for(var d=en(_),l=Ln(_);l&&pn(l)&&"static"===Dt(l).position;)l=Ln(l);return l&&("html"===Tt(l)||"body"===Tt(l)&&"static"===Dt(l).position)?d:l||function xr(_){var d=/firefox/i.test(or());if(/Trident/i.test(or())&&Tn(_)&&"fixed"===Dt(_).position)return null;var w=gn(_);for(yr(w)&&(w=w.host);Tn(w)&&["html","body"].indexOf(Tt(w))<0;){var B=Dt(w);if("none"!==B.transform||"none"!==B.perspective||"paint"===B.contain||-1!==["transform","perspective"].indexOf(B.willChange)||d&&"filter"===B.willChange||d&&B.filter&&"none"!==B.filter)return w;w=w.parentNode}return null}(_)||d}function tr(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function wi(_,d,l){return Xt(_,bn(d,l))}function qs(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Ys(_,d){return d.reduce(function(l,y){return l[y]=_,l},{})}const Xi={name:"arrow",enabled:!0,phase:"main",fn:function wo(_){var d,l=_.state,y=_.name,w=_.options,B=l.elements.arrow,ee=l.modifiersData.popperOffsets,pe=kt(l.placement),Ne=tr(pe),Et=[Hn,Ar].indexOf(pe)>=0?"height":"width";if(B&&ee){var sn=function(d,l){return qs("number"!=typeof(d="function"==typeof d?d(Object.assign({},l.rects,{placement:l.placement})):d)?d:Ys(d,Yn))}(w.padding,l),Kn=vt(B),xn="y"===Ne?hi:Hn,jn="y"===Ne?rn:Ar,On=l.rects.reference[Et]+l.rects.reference[Ne]-ee[Ne]-l.rects.popper[Et],wr=ee[Ne]-l.rects.reference[Ne],Wr=Fr(B),di=Wr?"y"===Ne?Wr.clientHeight||0:Wr.clientWidth||0:0,Gr=di/2-Kn[Et]/2+(On/2-wr/2),zr=wi(sn[xn],Gr,di-Kn[Et]-sn[jn]);l.modifiersData[y]=((d={})[Ne]=zr,d.centerOffset=zr-Gr,d)}},effect:function li(_){var d=_.state,y=_.options.element,w=void 0===y?"[data-popper-arrow]":y;null!=w&&("string"==typeof w&&!(w=d.elements.popper.querySelector(w))||qe(d.elements.popper,w)&&(d.elements.arrow=w))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gi(_){return _.split("-")[1]}var ii={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mi(_){var d,l=_.popper,y=_.popperRect,w=_.placement,B=_.variation,ee=_.offsets,pe=_.position,Ne=_.gpuAcceleration,at=_.adaptive,Et=_.roundOffsets,sn=_.isFixed,Kn=ee.x,xn=void 0===Kn?0:Kn,jn=ee.y,On=void 0===jn?0:jn,wr="function"==typeof Et?Et({x:xn,y:On}):{x:xn,y:On};xn=wr.x,On=wr.y;var Wr=ee.hasOwnProperty("x"),di=ee.hasOwnProperty("y"),Xr=Hn,Rr=hi,Ui=window;if(at){var Gr=Fr(l),zr="clientHeight",Ni="clientWidth";Gr===en(l)&&"static"!==Dt(Gr=kn(l)).position&&"absolute"===pe&&(zr="scrollHeight",Ni="scrollWidth"),(w===hi||(w===Hn||w===Ar)&&B===Qe)&&(Rr=rn,On-=(sn&&Gr===Ui&&Ui.visualViewport?Ui.visualViewport.height:Gr[zr])-y.height,On*=Ne?1:-1),w!==Hn&&(w!==hi&&w!==rn||B!==Qe)||(Xr=Ar,xn-=(sn&&Gr===Ui&&Ui.visualViewport?Ui.visualViewport.width:Gr[Ni])-y.width,xn*=Ne?1:-1)}var Ws,No=Object.assign({position:pe},at&&ii),ca=!0===Et?function Ki(_,d){var y=_.y,w=d.devicePixelRatio||1;return{x:fn(_.x*w)/w||0,y:fn(y*w)/w||0}}({x:xn,y:On},en(l)):{x:xn,y:On};return xn=ca.x,On=ca.y,Object.assign({},No,Ne?((Ws={})[Rr]=di?"0":"",Ws[Xr]=Wr?"0":"",Ws.transform=(Ui.devicePixelRatio||1)<=1?"translate("+xn+"px, "+On+"px)":"translate3d("+xn+"px, "+On+"px, 0)",Ws):((d={})[Rr]=di?On+"px":"",d[Xr]=Wr?xn+"px":"",d.transform="",d))}const xs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Vr(_){var d=_.state,l=_.options,y=l.gpuAcceleration,w=void 0===y||y,B=l.adaptive,ee=void 0===B||B,pe=l.roundOffsets,Ne=void 0===pe||pe,at={placement:kt(d.placement),variation:Gi(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:w,isFixed:"fixed"===d.options.strategy};null!=d.modifiersData.popperOffsets&&(d.styles.popper=Object.assign({},d.styles.popper,Mi(Object.assign({},at,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ee,roundOffsets:Ne})))),null!=d.modifiersData.arrow&&(d.styles.arrow=Object.assign({},d.styles.arrow,Mi(Object.assign({},at,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ne})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Vs={passive:!0};const ko={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function fi(_){var d=_.state,l=_.instance,y=_.options,w=y.scroll,B=void 0===w||w,ee=y.resize,pe=void 0===ee||ee,Ne=en(d.elements.popper),at=[].concat(d.scrollParents.reference,d.scrollParents.popper);return B&&at.forEach(function(Et){Et.addEventListener("scroll",l.update,Vs)}),pe&&Ne.addEventListener("resize",l.update,Vs),function(){B&&at.forEach(function(Et){Et.removeEventListener("scroll",l.update,Vs)}),pe&&Ne.removeEventListener("resize",l.update,Vs)}},data:{}};var la={left:"right",right:"left",bottom:"top",top:"bottom"};function Ci(_){return _.replace(/left|right|bottom|top/g,function(d){return la[d]})}var Yo={start:"end",end:"start"};function ws(_){return _.replace(/start|end/g,function(d){return Yo[d]})}function Qr(_){var d=en(_);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function ls(_){return ri(kn(_)).left+Qr(_).scrollLeft}function us(_){var d=Dt(_);return/auto|scroll|overlay|hidden/.test(d.overflow+d.overflowY+d.overflowX)}function Lr(_){return["html","body","#document"].indexOf(Tt(_))>=0?_.ownerDocument.body:Tn(_)&&us(_)?_:Lr(gn(_))}function le(_,d){var l;void 0===d&&(d=[]);var y=Lr(_),w=y===(null==(l=_.ownerDocument)?void 0:l.body),B=en(y),ee=w?[B].concat(B.visualViewport||[],us(y)?y:[]):y,pe=d.concat(ee);return w?pe:pe.concat(le(gn(ee)))}function wt(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function tt(_,d,l){return d===se?wt(function As(_,d){var l=en(_),y=kn(_),w=l.visualViewport,B=y.clientWidth,ee=y.clientHeight,pe=0,Ne=0;if(w){B=w.width,ee=w.height;var at=vn();(at||!at&&"fixed"===d)&&(pe=w.offsetLeft,Ne=w.offsetTop)}return{width:B,height:ee,x:pe+ls(_),y:Ne}}(_,l)):un(d)?function oe(_,d){var l=ri(_,!1,"fixed"===d);return l.top=l.top+_.clientTop,l.left=l.left+_.clientLeft,l.bottom=l.top+_.clientHeight,l.right=l.left+_.clientWidth,l.width=_.clientWidth,l.height=_.clientHeight,l.x=l.left,l.y=l.top,l}(d,l):wt(function co(_){var d,l=kn(_),y=Qr(_),w=null==(d=_.ownerDocument)?void 0:d.body,B=Xt(l.scrollWidth,l.clientWidth,w?w.scrollWidth:0,w?w.clientWidth:0),ee=Xt(l.scrollHeight,l.clientHeight,w?w.scrollHeight:0,w?w.clientHeight:0),pe=-y.scrollLeft+ls(_),Ne=-y.scrollTop;return"rtl"===Dt(w||l).direction&&(pe+=Xt(l.clientWidth,w?w.clientWidth:0)-B),{width:B,height:ee,x:pe,y:Ne}}(kn(_)))}function Jr(_){var Ne,d=_.reference,l=_.element,y=_.placement,w=y?kt(y):null,B=y?Gi(y):null,ee=d.x+d.width/2-l.width/2,pe=d.y+d.height/2-l.height/2;switch(w){case hi:Ne={x:ee,y:d.y-l.height};break;case rn:Ne={x:ee,y:d.y+d.height};break;case Ar:Ne={x:d.x+d.width,y:pe};break;case Hn:Ne={x:d.x-l.width,y:pe};break;default:Ne={x:d.x,y:d.y}}var at=w?tr(w):null;if(null!=at){var Et="y"===at?"height":"width";switch(B){case ci:Ne[at]=Ne[at]-(d[Et]/2-l[Et]/2);break;case Qe:Ne[at]=Ne[at]+(d[Et]/2-l[Et]/2)}}return Ne}function qi(_,d){void 0===d&&(d={});var y=d.placement,w=void 0===y?_.placement:y,B=d.strategy,ee=void 0===B?_.strategy:B,pe=d.boundary,Ne=void 0===pe?ft:pe,at=d.rootBoundary,Et=void 0===at?se:at,sn=d.elementContext,Kn=void 0===sn?Pe:sn,xn=d.altBoundary,jn=void 0!==xn&&xn,On=d.padding,wr=void 0===On?0:On,Wr=qs("number"!=typeof wr?wr:Ys(wr,Yn)),Xr=_.rects.popper,Rr=_.elements[jn?Kn===Pe?Pt:Pe:Kn],Ui=function qr(_,d,l,y){var w="clippingParents"===d?function ot(_){var d=le(gn(_)),y=["absolute","fixed"].indexOf(Dt(_).position)>=0&&Tn(_)?Fr(_):_;return un(y)?d.filter(function(w){return un(w)&&qe(w,y)&&"body"!==Tt(w)}):[]}(_):[].concat(d),B=[].concat(w,[l]),pe=B.reduce(function(Ne,at){var Et=tt(_,at,y);return Ne.top=Xt(Et.top,Ne.top),Ne.right=bn(Et.right,Ne.right),Ne.bottom=bn(Et.bottom,Ne.bottom),Ne.left=Xt(Et.left,Ne.left),Ne},tt(_,B[0],y));return pe.width=pe.right-pe.left,pe.height=pe.bottom-pe.top,pe.x=pe.left,pe.y=pe.top,pe}(un(Rr)?Rr:Rr.contextElement||kn(_.elements.popper),Ne,Et,ee),Gr=ri(_.elements.reference),zr=Jr({reference:Gr,element:Xr,strategy:"absolute",placement:w}),Ni=wt(Object.assign({},Xr,zr)),is=Kn===Pe?Ni:Gr,es={top:Ui.top-is.top+Wr.top,bottom:is.bottom-Ui.bottom+Wr.bottom,left:Ui.left-is.left+Wr.left,right:is.right-Ui.right+Wr.right},No=_.modifiersData.offset;if(Kn===Pe&&No){var ca=No[w];Object.keys(es).forEach(function(Ws){var bu=[Ar,rn].indexOf(Ws)>=0?1:-1,Xc=[hi,rn].indexOf(Ws)>=0?"y":"x";es[Ws]+=ca[Xc]*bu})}return es}const pr={name:"flip",enabled:!0,phase:"main",fn:function wn(_){var d=_.state,l=_.options,y=_.name;if(!d.modifiersData[y]._skip){for(var w=l.mainAxis,B=void 0===w||w,ee=l.altAxis,pe=void 0===ee||ee,Ne=l.fallbackPlacements,at=l.padding,Et=l.boundary,sn=l.rootBoundary,Kn=l.altBoundary,xn=l.flipVariations,jn=void 0===xn||xn,On=l.allowedAutoPlacements,wr=d.options.placement,Wr=kt(wr),Xr=Ne||(Wr!==wr&&jn?function pi(_){if(kt(_)===_r)return[];var d=Ci(_);return[ws(_),d,ws(d)]}(wr):[Ci(wr)]),Rr=[wr].concat(Xr).reduce(function(ts,Qc){return ts.concat(kt(Qc)===_r?function ds(_,d){void 0===d&&(d={});var w=d.boundary,B=d.rootBoundary,ee=d.padding,pe=d.flipVariations,Ne=d.allowedAutoPlacements,at=void 0===Ne?zn:Ne,Et=Gi(d.placement),sn=Et?pe?Yt:Yt.filter(function(jn){return Gi(jn)===Et}):Yn,Kn=sn.filter(function(jn){return at.indexOf(jn)>=0});0===Kn.length&&(Kn=sn);var xn=Kn.reduce(function(jn,On){return jn[On]=qi(_,{placement:On,boundary:w,rootBoundary:B,padding:ee})[kt(On)],jn},{});return Object.keys(xn).sort(function(jn,On){return xn[jn]-xn[On]})}(d,{placement:Qc,boundary:Et,rootBoundary:sn,padding:at,flipVariations:jn,allowedAutoPlacements:On}):Qc)},[]),Ui=d.rects.reference,Gr=d.rects.popper,zr=new Map,Ni=!0,is=Rr[0],es=0;es<Rr.length;es++){var No=Rr[es],ca=kt(No),Ws=Gi(No)===ci,bu=[hi,rn].indexOf(ca)>=0,Xc=bu?"width":"height",Bn=qi(d,{placement:No,boundary:Et,rootBoundary:sn,altBoundary:Kn,padding:at}),rr=bu?Ws?Ar:Hn:Ws?rn:hi;Ui[Xc]>Gr[Xc]&&(rr=Ci(rr));var Pr=Ci(rr),Ei=[];if(B&&Ei.push(Bn[ca]<=0),pe&&Ei.push(Bn[rr]<=0,Bn[Pr]<=0),Ei.every(function(ts){return ts})){is=No,Ni=!1;break}zr.set(No,Ei)}if(Ni)for(var Va=function(Qc){var Ah=Rr.find(function(ao){var La=zr.get(ao);if(La)return La.slice(0,Qc).every(function(Ta){return Ta})});if(Ah)return is=Ah,"break"},To=jn?3:1;To>0&&"break"!==Va(To);To--);d.placement!==is&&(d.modifiersData[y]._skip=!0,d.placement=is,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ir(_,d,l){return void 0===l&&(l={x:0,y:0}),{top:_.top-d.height-l.y,right:_.right-d.width+l.x,bottom:_.bottom-d.height+l.y,left:_.left-d.width-l.x}}function rs(_){return[hi,Ar,rn,Hn].some(function(d){return _[d]>=0})}const zi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function hs(_){var d=_.state,l=_.name,y=d.rects.reference,w=d.rects.popper,B=d.modifiersData.preventOverflow,ee=qi(d,{elementContext:"reference"}),pe=qi(d,{altBoundary:!0}),Ne=Ir(ee,y),at=Ir(pe,w,B),Et=rs(Ne),sn=rs(at);d.modifiersData[l]={referenceClippingOffsets:Ne,popperEscapeOffsets:at,isReferenceHidden:Et,hasPopperEscaped:sn},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Et,"data-popper-escaped":sn})}},ss={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function gi(_){var d=_.state,y=_.name,w=_.options.offset,B=void 0===w?[0,0]:w,ee=zn.reduce(function(Et,sn){return Et[sn]=function Xs(_,d,l){var y=kt(_),w=[Hn,hi].indexOf(y)>=0?-1:1,B="function"==typeof l?l(Object.assign({},d,{placement:_})):l,ee=B[0],pe=B[1];return ee=ee||0,pe=(pe||0)*w,[Hn,Ar].indexOf(y)>=0?{x:pe,y:ee}:{x:ee,y:pe}}(sn,d.rects,B),Et},{}),pe=ee[d.placement],at=pe.y;null!=d.modifiersData.popperOffsets&&(d.modifiersData.popperOffsets.x+=pe.x,d.modifiersData.popperOffsets.y+=at),d.modifiersData[y]=ee}},ar={name:"popperOffsets",enabled:!0,phase:"read",fn:function Ms(_){var d=_.state;d.modifiersData[_.name]=Jr({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},Z={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ls(_){var d=_.state,l=_.options,y=_.name,w=l.mainAxis,B=void 0===w||w,ee=l.altAxis,pe=void 0!==ee&&ee,Kn=l.tether,xn=void 0===Kn||Kn,jn=l.tetherOffset,On=void 0===jn?0:jn,wr=qi(d,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Wr=kt(d.placement),di=Gi(d.placement),Xr=!di,Rr=tr(Wr),Ui=function bs(_){return"x"===_?"y":"x"}(Rr),Gr=d.modifiersData.popperOffsets,zr=d.rects.reference,Ni=d.rects.popper,is="function"==typeof On?On(Object.assign({},d.rects,{placement:d.placement})):On,es="number"==typeof is?{mainAxis:is,altAxis:is}:Object.assign({mainAxis:0,altAxis:0},is),No=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ca={x:0,y:0};if(Gr){if(B){var Ws,bu="y"===Rr?hi:Hn,Xc="y"===Rr?rn:Ar,Bn="y"===Rr?"height":"width",rr=Gr[Rr],Pr=rr+wr[bu],Ei=rr-wr[Xc],Ks=xn?-Ni[Bn]/2:0,Va=di===ci?zr[Bn]:Ni[Bn],To=di===ci?-Ni[Bn]:-zr[Bn],Ia=d.elements.arrow,ts=xn&&Ia?vt(Ia):{width:0,height:0},Qc=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ah=Qc[bu],ao=Qc[Xc],La=wi(0,zr[Bn],ts[Bn]),Ta=Xr?zr[Bn]/2-Ks-La-Ah-es.mainAxis:Va-La-Ah-es.mainAxis,Dh=Xr?-zr[Bn]/2+Ks+La+ao+es.mainAxis:To+La+ao+es.mainAxis,Cu=d.elements.arrow&&Fr(d.elements.arrow),dv=Cu?"y"===Rr?Cu.clientTop||0:Cu.clientLeft||0:0,hv=null!=(Ws=No?.[Rr])?Ws:0,m0=rr+Dh-hv,fv=wi(xn?bn(Pr,rr+Ta-hv-dv):Pr,rr,xn?Xt(Ei,m0):Ei);Gr[Rr]=fv,ca[Rr]=fv-rr}if(pe){var pv,zf=Gr[Ui],ey="y"===Ui?"height":"width",v0=zf+wr["x"===Rr?hi:Hn],E0=zf-wr["x"===Rr?rn:Ar],gv=-1!==[hi,Hn].indexOf(Wr),b0=null!=(pv=No?.[Ui])?pv:0,C0=gv?v0:zf-zr[ey]-Ni[ey]-b0+es.altAxis,I0=gv?zf+zr[ey]+Ni[ey]-b0-es.altAxis:E0,T0=xn&&gv?function ns(_,d,l){var y=wi(_,d,l);return y>l?l:y}(C0,zf,I0):wi(xn?C0:v0,zf,xn?I0:E0);Gr[Ui]=T0,ca[Ui]=T0-zf}d.modifiersData[y]=ca}},requiresIfExists:["offset"]};function Je(_,d,l){void 0===l&&(l=!1);var y=Tn(d),w=Tn(d)&&function Oe(_){var d=_.getBoundingClientRect(),l=fn(d.width)/_.offsetWidth||1,y=fn(d.height)/_.offsetHeight||1;return 1!==l||1!==y}(d),B=kn(d),ee=ri(_,w,l),pe={scrollLeft:0,scrollTop:0},Ne={x:0,y:0};return(y||!y&&!l)&&(("body"!==Tt(d)||us(B))&&(pe=function Te(_){return _!==en(_)&&Tn(_)?function X(_){return{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}}(_):Qr(_)}(d)),Tn(d)?((Ne=ri(d,!0)).x+=d.clientLeft,Ne.y+=d.clientTop):B&&(Ne.x=ls(B))),{x:ee.left+pe.scrollLeft-Ne.x,y:ee.top+pe.scrollTop-Ne.y,width:ee.width,height:ee.height}}function bt(_){var d=new Map,l=new Set,y=[];function w(B){l.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(pe){if(!l.has(pe)){var Ne=d.get(pe);Ne&&w(Ne)}}),y.push(B)}return _.forEach(function(B){d.set(B.name,B)}),_.forEach(function(B){l.has(B.name)||w(B)}),y}function Un(_){var d;return function(){return d||(d=new Promise(function(l){Promise.resolve().then(function(){d=void 0,l(_())})})),d}}var cr={placement:"bottom",modifiers:[],strategy:"absolute"};function jr(){for(var _=arguments.length,d=new Array(_),l=0;l<_;l++)d[l]=arguments[l];return!d.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function Wn(_){void 0===_&&(_={});var l=_.defaultModifiers,y=void 0===l?[]:l,w=_.defaultOptions,B=void 0===w?cr:w;return function(pe,Ne,at){void 0===at&&(at=B);var Et={placement:"bottom",orderedModifiers:[],options:Object.assign({},cr,B),modifiersData:{},elements:{reference:pe,popper:Ne},attributes:{},styles:{}},sn=[],Kn=!1,xn={state:Et,setOptions:function(Wr){var di="function"==typeof Wr?Wr(Et.options):Wr;On(),Et.options=Object.assign({},B,Et.options,di),Et.scrollParents={reference:un(pe)?le(pe):pe.contextElement?le(pe.contextElement):[],popper:le(Ne)};var Xr=function an(_){var d=bt(_);return ct.reduce(function(l,y){return l.concat(d.filter(function(w){return w.phase===y}))},[])}(function Dn(_){var d=_.reduce(function(l,y){var w=l[y.name];return l[y.name]=w?Object.assign({},w,y,{options:Object.assign({},w.options,y.options),data:Object.assign({},w.data,y.data)}):y,l},{});return Object.keys(d).map(function(l){return d[l]})}([].concat(y,Et.options.modifiers)));return Et.orderedModifiers=Xr.filter(function(Rr){return Rr.enabled}),function jn(){Et.orderedModifiers.forEach(function(wr){var di=wr.options,Rr=wr.effect;if("function"==typeof Rr){var Ui=Rr({state:Et,name:wr.name,instance:xn,options:void 0===di?{}:di});sn.push(Ui||function(){})}})}(),xn.update()},forceUpdate:function(){if(!Kn){var Wr=Et.elements,di=Wr.reference,Xr=Wr.popper;if(jr(di,Xr)){Et.rects={reference:Je(di,Fr(Xr),"fixed"===Et.options.strategy),popper:vt(Xr)},Et.reset=!1,Et.placement=Et.options.placement,Et.orderedModifiers.forEach(function(es){return Et.modifiersData[es.name]=Object.assign({},es.data)});for(var Rr=0;Rr<Et.orderedModifiers.length;Rr++)if(!0!==Et.reset){var Ui=Et.orderedModifiers[Rr],Gr=Ui.fn,zr=Ui.options;"function"==typeof Gr&&(Et=Gr({state:Et,options:void 0===zr?{}:zr,name:Ui.name,instance:xn})||Et)}else Et.reset=!1,Rr=-1}}},update:Un(function(){return new Promise(function(wr){xn.forceUpdate(),wr(Et)})}),destroy:function(){On(),Kn=!0}};if(!jr(pe,Ne))return xn;function On(){sn.forEach(function(wr){return wr()}),sn=[]}return xn.setOptions(at).then(function(wr){!Kn&&at.onFirstUpdate&&at.onFirstUpdate(wr)}),xn}}var Xn=Wn(),Ii=Wn({defaultModifiers:[ko,ar,xs,Be,ss,pr,Z,Xi,zi]}),Bi=Wn({defaultModifiers:[ko,ar,xs,Be]});const ki=new Map,Ri={set(_,d,l){ki.has(_)||ki.set(_,new Map);const y=ki.get(_);y.has(d)||0===y.size?y.set(d,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(_,d)=>ki.has(_)&&ki.get(_).get(d)||null,remove(_,d){if(!ki.has(_))return;const l=ki.get(_);l.delete(d),0===l.size&&ki.delete(_)}},Fi="transitionend",si=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(d,l)=>`#${CSS.escape(l)}`)),_),uo=_=>{_.dispatchEvent(new Event(Fi))},Rs=_=>!(!_||"object"!=typeof _)&&(typeof _.jquery<"u"&&(_=_[0]),typeof _.nodeType<"u"),go=_=>Rs(_)?_.jquery?_[0]:_:"string"==typeof _&&_.length>0?document.querySelector(si(_)):null,mo=_=>{if(!Rs(_)||0===_.getClientRects().length)return!1;const d="visible"===getComputedStyle(_).getPropertyValue("visibility"),l=_.closest("details:not([open])");if(!l)return d;if(l!==_){const y=_.closest("summary");if(y&&y.parentNode!==l||null===y)return!1}return d},Qo=_=>!(_&&_.nodeType===Node.ELEMENT_NODE&&!_.classList.contains("disabled"))||(typeof _.disabled<"u"?_.disabled:_.hasAttribute("disabled")&&"false"!==_.getAttribute("disabled")),Os=_=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof _.getRootNode){const d=_.getRootNode();return d instanceof ShadowRoot?d:null}return _ instanceof ShadowRoot?_:_.parentNode?Os(_.parentNode):null},ps=()=>{},Ua=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ua=[],Cs=()=>"rtl"===document.documentElement.dir,os=_=>{(_=>{"loading"===document.readyState?(ua.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of ua)d()}),ua.push(_)):_()})(()=>{const d=Ua();if(d){const l=_.NAME,y=d.fn[l];d.fn[l]=_.jQueryInterface,d.fn[l].Constructor=_,d.fn[l].noConflict=()=>(d.fn[l]=y,_.jQueryInterface)}})},z=(_,d=[],l=_)=>"function"==typeof _?_(...d):l,Q=(_,d,l=!0)=>{if(!l)return void z(_);const w=(_=>{if(!_)return 0;let{transitionDuration:d,transitionDelay:l}=window.getComputedStyle(_);const y=Number.parseFloat(d),w=Number.parseFloat(l);return y||w?(d=d.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(d)+Number.parseFloat(l))):0})(d)+5;let B=!1;const ee=({target:pe})=>{pe===d&&(B=!0,d.removeEventListener(Fi,ee),z(_))};d.addEventListener(Fi,ee),setTimeout(()=>{B||uo(d)},w)},L=(_,d,l,y)=>{const w=_.length;let B=_.indexOf(d);return-1===B?!l&&y?_[w-1]:_[0]:(B+=l?1:-1,y&&(B=(B+w)%w),_[Math.max(0,Math.min(B,w-1))])},ce=/[^.]*(?=\..*)\.|.*/,je=/\..*/,An=/::\d+$/,hr={};let gs=1;const Us={mouseenter:"mouseover",mouseleave:"mouseout"},ms=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _o(_,d){return d&&`${d}::${gs++}`||_.uidEvent||gs++}function Js(_){const d=_o(_);return _.uidEvent=d,hr[d]=hr[d]||{},hr[d]}function tl(_,d,l=null){return Object.values(_).find(y=>y.callable===d&&y.delegationSelector===l)}function Is(_,d,l){const y="string"==typeof d,w=y?l:d||l;let B=as(_);return ms.has(B)||(B=_),[y,w,B]}function da(_,d,l,y,w){if("string"!=typeof d||!_)return;let[B,ee,pe]=Is(d,l,y);var jn;d in Us&&(jn=ee,ee=function(On){if(!On.relatedTarget||On.relatedTarget!==On.delegateTarget&&!On.delegateTarget.contains(On.relatedTarget))return jn.call(this,On)});const Ne=Js(_),at=Ne[pe]||(Ne[pe]={}),Et=tl(at,ee,B?l:null);if(Et)return void(Et.oneOff=Et.oneOff&&w);const sn=_o(ee,d.replace(ce,"")),Kn=B?function Jo(_,d,l){return function y(w){const B=_.querySelectorAll(d);for(let{target:ee}=w;ee&&ee!==this;ee=ee.parentNode)for(const pe of B)if(pe===ee)return Zs(w,{delegateTarget:ee}),y.oneOff&&nn.off(_,w.type,d,l),l.apply(ee,[w])}}(_,l,ee):function _s(_,d){return function l(y){return Zs(y,{delegateTarget:_}),l.oneOff&&nn.off(_,y.type,d),d.apply(_,[y])}}(_,ee);Kn.delegationSelector=B?l:null,Kn.callable=ee,Kn.oneOff=w,Kn.uidEvent=sn,at[sn]=Kn,_.addEventListener(pe,Kn,B)}function Qi(_,d,l,y,w){const B=tl(d[l],y,w);B&&(_.removeEventListener(l,B,!!w),delete d[l][B.uidEvent])}function nl(_,d,l,y){const w=d[l]||{};for(const[B,ee]of Object.entries(w))B.includes(y)&&Qi(_,d,l,ee.callable,ee.delegationSelector)}function as(_){return _=_.replace(je,""),Us[_]||_}const nn={on(_,d,l,y){da(_,d,l,y,!1)},one(_,d,l,y){da(_,d,l,y,!0)},off(_,d,l,y){if("string"!=typeof d||!_)return;const[w,B,ee]=Is(d,l,y),pe=ee!==d,Ne=Js(_),at=Ne[ee]||{},Et=d.startsWith(".");if(typeof B<"u"){if(!Object.keys(at).length)return;Qi(_,Ne,ee,B,w?l:null)}else{if(Et)for(const sn of Object.keys(Ne))nl(_,Ne,sn,d.slice(1));for(const[sn,Kn]of Object.entries(at)){const xn=sn.replace(An,"");(!pe||d.includes(xn))&&Qi(_,Ne,ee,Kn.callable,Kn.delegationSelector)}}},trigger(_,d,l){if("string"!=typeof d||!_)return null;const y=Ua();let ee=null,pe=!0,Ne=!0,at=!1;d!==as(d)&&y&&(ee=y.Event(d,l),y(_).trigger(ee),pe=!ee.isPropagationStopped(),Ne=!ee.isImmediatePropagationStopped(),at=ee.isDefaultPrevented());const Et=Zs(new Event(d,{bubbles:pe,cancelable:!0}),l);return at&&Et.preventDefault(),Ne&&_.dispatchEvent(Et),Et.defaultPrevented&&ee&&ee.preventDefault(),Et}};function Zs(_,d={}){for(const[l,y]of Object.entries(d))try{_[l]=y}catch{Object.defineProperty(_,l,{configurable:!0,get:()=>y})}return _}function ha(_){if("true"===_)return!0;if("false"===_)return!1;if(_===Number(_).toString())return Number(_);if(""===_||"null"===_)return null;if("string"!=typeof _)return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function ys(_){return _.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const eo={setDataAttribute(_,d,l){_.setAttribute(`data-bs-${ys(d)}`,l)},removeDataAttribute(_,d){_.removeAttribute(`data-bs-${ys(d)}`)},getDataAttributes(_){if(!_)return{};const d={},l=Object.keys(_.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of l){let w=y.replace(/^bs/,"");w=w.charAt(0).toLowerCase()+w.slice(1,w.length),d[w]=ha(_.dataset[y])}return d},getDataAttribute:(_,d)=>ha(_.getAttribute(`data-bs-${ys(d)}`))};class Fo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,l){const y=Rs(l)?eo.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Rs(l)?eo.getDataAttributes(l):{},..."object"==typeof d?d:{}}}_typeCheckConfig(d,l=this.constructor.DefaultType){for(const[y,w]of Object.entries(l)){const B=d[y],ee=Rs(B)?"element":null==(_=B)?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(ee))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${ee}" but expected type "${w}".`)}var _}}class Ao extends Fo{constructor(d,l){super(),(d=go(d))&&(this._element=d,this._config=this._getConfig(l),Ri.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ri.remove(this._element,this.constructor.DATA_KEY),nn.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,l,y=!0){Q(d,l,y)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return Ri.get(go(d),this.DATA_KEY)}static getOrCreateInstance(d,l={}){return this.getInstance(d)||new this(d,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Tr=_=>{let d=_.getAttribute("data-bs-target");if(!d||"#"===d){let l=_.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),d=l&&"#"!==l?l.trim():null}return d?d.split(",").map(l=>si(l)).join(","):null},lr={find:(_,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,_)),findOne:(_,d=document.documentElement)=>Element.prototype.querySelector.call(d,_),children:(_,d)=>[].concat(..._.children).filter(l=>l.matches(d)),parents(_,d){const l=[];let y=_.parentNode.closest(d);for(;y;)l.push(y),y=y.parentNode.closest(d);return l},prev(_,d){let l=_.previousElementSibling;for(;l;){if(l.matches(d))return[l];l=l.previousElementSibling}return[]},next(_,d){let l=_.nextElementSibling;for(;l;){if(l.matches(d))return[l];l=l.nextElementSibling}return[]},focusableChildren(_){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(d,_).filter(l=>!Qo(l)&&mo(l))},getSelectorFromElement(_){const d=Tr(_);return d&&lr.findOne(d)?d:null},getElementFromSelector(_){const d=Tr(_);return d?lr.findOne(d):null},getMultipleElementsFromSelector(_){const d=Tr(_);return d?lr.find(d):[]}},to=(_,d="hide")=>{const y=_.NAME;nn.on(document,`click.dismiss${_.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(w){if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),Qo(this))return;const B=lr.getElementFromSelector(this)||this.closest(`.${y}`);_.getOrCreateInstance(B)[d]()})},Ll=".bs.alert",Ec=`close${Ll}`,Sh=`closed${Ll}`;class wa extends Ao{static get NAME(){return"alert"}close(){if(nn.trigger(this._element,Ec).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),nn.trigger(this._element,Sh),this.dispose()}static jQueryInterface(d){return this.each(function(){const l=wa.getOrCreateInstance(this);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d](this)}})}}to(wa,"close"),os(wa);const Ba='[data-bs-toggle="button"]';class x extends Ao{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const l=x.getOrCreateInstance(this);"toggle"===d&&l[d]()})}}nn.on(document,"click.bs.button.data-api",Ba,_=>{_.preventDefault();const d=_.target.closest(Ba);x.getOrCreateInstance(d).toggle()}),os(x);const j=".bs.swipe",q=`touchstart${j}`,Se=`touchmove${j}`,xt=`touchend${j}`,$t=`pointerdown${j}`,Jn=`pointerup${j}`,Ti={endCallback:null,leftCallback:null,rightCallback:null},Li={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Pi extends Fo{constructor(d,l){super(),this._element=d,d&&Pi.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ti}static get DefaultType(){return Li}static get NAME(){return"swipe"}dispose(){nn.off(this._element,j)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),z(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const l=d/this._deltaX;this._deltaX=0,l&&z(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(nn.on(this._element,$t,d=>this._start(d)),nn.on(this._element,Jn,d=>this._end(d)),this._element.classList.add("pointer-event")):(nn.on(this._element,q,d=>this._start(d)),nn.on(this._element,Se,d=>this._move(d)),nn.on(this._element,xt,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&("pen"===d.pointerType||"touch"===d.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Bs=".bs.carousel",Ns=".data-api",il="next",Dr="prev",Nr="left",Aa="right",ho=`slide${Bs}`,sl=`slid${Bs}`,ld=`keydown${Bs}`,ol=`mouseenter${Bs}`,Ji=`mouseleave${Bs}`,Ph=`dragstart${Bs}`,Tu=`load${Bs}${Ns}`,fa=`click${Bs}${Ns}`,Ds="carousel",na="active",vr=".active",cl=".carousel-item",Au=vr+cl,pa={ArrowLeft:Aa,ArrowRight:Nr},fd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Su={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yi extends Ao{constructor(d,l){super(d,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=lr.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ds&&this.cycle()}static get Default(){return fd}static get DefaultType(){return Su}static get NAME(){return"carousel"}next(){this._slide(il)}nextWhenVisible(){!document.hidden&&mo(this._element)&&this.next()}prev(){this._slide(Dr)}pause(){this._isSliding&&uo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void nn.one(this._element,sl,()=>this.cycle());this.cycle()}}to(d){const l=this._getItems();if(d>l.length-1||d<0)return;if(this._isSliding)return void nn.one(this._element,sl,()=>this.to(d));const y=this._getItemIndex(this._getActive());y!==d&&this._slide(d>y?il:Dr,l[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&nn.on(this._element,ld,d=>this._keydown(d)),"hover"===this._config.pause&&(nn.on(this._element,ol,()=>this.pause()),nn.on(this._element,Ji,()=>this._maybeEnableCycle())),this._config.touch&&Pi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of lr.find(".carousel-item img",this._element))nn.on(y,Ph,w=>w.preventDefault());this._swipeHelper=new Pi(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Nr)),rightCallback:()=>this._slide(this._directionToOrder(Aa)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const l=pa[d.key];l&&(d.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const l=lr.findOne(vr,this._indicatorsElement);l.classList.remove(na),l.removeAttribute("aria-current");const y=lr.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);y&&(y.classList.add(na),y.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const l=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(d,l=null){if(this._isSliding)return;const y=this._getActive(),w=d===il,B=l||L(this._getItems(),y,w,this._config.wrap);if(B===y)return;const ee=this._getItemIndex(B),pe=xn=>nn.trigger(this._element,xn,{relatedTarget:B,direction:this._orderToDirection(d),from:this._getItemIndex(y),to:ee});if(pe(ho).defaultPrevented||!y||!B)return;const at=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=B;const Et=w?"carousel-item-start":"carousel-item-end",sn=w?"carousel-item-next":"carousel-item-prev";B.classList.add(sn),y.classList.add(Et),B.classList.add(Et),this._queueCallback(()=>{B.classList.remove(Et,sn),B.classList.add(na),y.classList.remove(na,sn,Et),this._isSliding=!1,pe(sl)},y,this._isAnimated()),at&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return lr.findOne(Au,this._element)}_getItems(){return lr.find(cl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return Cs()?d===Nr?Dr:il:d===Nr?il:Dr}_orderToDirection(d){return Cs()?d===Dr?Nr:Aa:d===Dr?Aa:Nr}static jQueryInterface(d){return this.each(function(){const l=Yi.getOrCreateInstance(this,d);if("number"!=typeof d){if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}}else l.to(d)})}}nn.on(document,fa,"[data-bs-slide], [data-bs-slide-to]",function(_){const d=lr.getElementFromSelector(this);if(!d||!d.classList.contains(Ds))return;_.preventDefault();const l=Yi.getOrCreateInstance(d),y=this.getAttribute("data-bs-slide-to");return y?(l.to(y),void l._maybeEnableCycle()):"next"===eo.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),nn.on(window,Tu,()=>{const _=lr.find('[data-bs-ride="carousel"]');for(const d of _)Yi.getOrCreateInstance(d)}),os(Yi);const Qt=".bs.collapse",ra=`show${Qt}`,vs=`shown${Qt}`,$s=`hide${Qt}`,ul=`hidden${Qt}`,bc=`click${Qt}.data-api`,vo="show",ga="collapse",Cc="collapsing",$l=`:scope .${ga} .${ga}`,Sa='[data-bs-toggle="collapse"]',Do={parent:null,toggle:!0},md={parent:"(null|element)",toggle:"boolean"};class Ha extends Ao{constructor(d,l){super(d,l),this._isTransitioning=!1,this._triggerArray=[];const y=lr.find(Sa);for(const w of y){const B=lr.getSelectorFromElement(w),ee=lr.find(B).filter(pe=>pe===this._element);null!==B&&ee.length&&this._triggerArray.push(w)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Do}static get DefaultType(){return md}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(pe=>pe!==this._element).map(pe=>Ha.getOrCreateInstance(pe,{toggle:!1}))),d.length&&d[0]._isTransitioning||nn.trigger(this._element,ra).defaultPrevented)return;for(const pe of d)pe.hide();const y=this._getDimension();this._element.classList.remove(ga),this._element.classList.add(Cc),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ee=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Cc),this._element.classList.add(ga,vo),this._element.style[y]="",nn.trigger(this._element,vs)},this._element,!0),this._element.style[y]=`${this._element[ee]}px`}hide(){if(this._isTransitioning||!this._isShown()||nn.trigger(this._element,$s).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Cc),this._element.classList.remove(ga,vo);for(const w of this._triggerArray){const B=lr.getElementFromSelector(w);B&&!this._isShown(B)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Cc),this._element.classList.add(ga),nn.trigger(this._element,ul)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(vo)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=go(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Sa);for(const l of d){const y=lr.getElementFromSelector(l);y&&this._addAriaAndCollapsedClass([l],this._isShown(y))}}_getFirstLevelChildren(d){const l=lr.find($l,this._config.parent);return lr.find(d,this._config.parent).filter(y=>!l.includes(y))}_addAriaAndCollapsedClass(d,l){if(d.length)for(const y of d)y.classList.toggle("collapsed",!l),y.setAttribute("aria-expanded",l)}static jQueryInterface(d){const l={};return"string"==typeof d&&/show|hide/.test(d)&&(l.toggle=!1),this.each(function(){const y=Ha.getOrCreateInstance(this,l);if("string"==typeof d){if(typeof y[d]>"u")throw new TypeError(`No method named "${d}"`);y[d]()}})}}nn.on(document,bc,Sa,function(_){("A"===_.target.tagName||_.delegateTarget&&"A"===_.delegateTarget.tagName)&&_.preventDefault();for(const d of lr.getMultipleElementsFromSelector(this))Ha.getOrCreateInstance(d,{toggle:!1}).toggle()}),os(Ha);const Mh="dropdown",Pa=".bs.dropdown",ia=".data-api",O="ArrowUp",T="ArrowDown",H=`hide${Pa}`,ae=`hidden${Pa}`,De=`show${Pa}`,At=`shown${Pa}`,_t=`click${Pa}${ia}`,Pn=`keydown${Pa}${ia}`,Sr=`keyup${Pa}${ia}`,Er="show",Lo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Pu=`${Lo}.${Er}`,Hl=".dropdown-menu",Ga=Cs()?"top-end":"top-start",Gl=Cs()?"top-start":"top-end",xu=Cs()?"bottom-end":"bottom-start",Mu=Cs()?"bottom-start":"bottom-end",Ru=Cs()?"left-start":"right-start",_d=Cs()?"right-start":"left-start",_a={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},wc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ya extends Ao{constructor(d,l){super(d,l),this._popper=null,this._parent=this._element.parentNode,this._menu=lr.next(this._element,Hl)[0]||lr.prev(this._element,Hl)[0]||lr.findOne(Hl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _a}static get DefaultType(){return wc}static get NAME(){return Mh}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qo(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!nn.trigger(this._element,De,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))nn.on(y,"mouseover",ps);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Er),this._element.classList.add(Er),nn.trigger(this._element,At,d)}}hide(){!Qo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!nn.trigger(this._element,H,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))nn.off(y,"mouseover",ps);this._popper&&this._popper.destroy(),this._menu.classList.remove(Er),this._element.classList.remove(Er),this._element.setAttribute("aria-expanded","false"),eo.removeDataAttribute(this._menu,"popper"),nn.trigger(this._element,ae,d)}}_getConfig(d){if("object"==typeof(d=super._getConfig(d)).reference&&!Rs(d.reference)&&"function"!=typeof d.reference.getBoundingClientRect)throw new TypeError(`${Mh.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;"parent"===this._config.reference?d=this._parent:Rs(this._config.reference)?d=go(this._config.reference):"object"==typeof this._config.reference&&(d=this._config.reference);const l=this._getPopperConfig();this._popper=Ii(d,this._menu,l)}_isShown(){return this._menu.classList.contains(Er)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Ru;if(d.classList.contains("dropstart"))return _d;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return d.classList.contains("dropup")?l?Gl:Ga:l?Mu:xu}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof d?l=>d(l,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(eo.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...z(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:l}){const y=lr.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(w=>mo(w));y.length&&L(y,l,d===T,!y.includes(l)).focus()}static jQueryInterface(d){return this.each(function(){const l=ya.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}static clearMenus(d){if(2===d.button||"keyup"===d.type&&"Tab"!==d.key)return;const l=lr.find(Pu);for(const y of l){const w=ya.getInstance(y);if(!w||!1===w._config.autoClose)continue;const B=d.composedPath(),ee=B.includes(w._menu);if(B.includes(w._element)||"inside"===w._config.autoClose&&!ee||"outside"===w._config.autoClose&&ee||w._menu.contains(d.target)&&("keyup"===d.type&&"Tab"===d.key||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const pe={relatedTarget:w._element};"click"===d.type&&(pe.clickEvent=d),w._completeHide(pe)}}static dataApiKeydownHandler(d){const l=/input|textarea/i.test(d.target.tagName),y="Escape"===d.key,w=[O,T].includes(d.key);if(!w&&!y||l&&!y)return;d.preventDefault();const B=this.matches(Lo)?this:lr.prev(this,Lo)[0]||lr.next(this,Lo)[0]||lr.findOne(Lo,d.delegateTarget.parentNode),ee=ya.getOrCreateInstance(B);if(w)return d.stopPropagation(),ee.show(),void ee._selectMenuItem(d);ee._isShown()&&(d.stopPropagation(),ee.hide(),B.focus())}}nn.on(document,Pn,Lo,ya.dataApiKeydownHandler),nn.on(document,Pn,Hl,ya.dataApiKeydownHandler),nn.on(document,_t,ya.clearMenus),nn.on(document,Sr,ya.clearMenus),nn.on(document,_t,Lo,function(_){_.preventDefault(),ya.getOrCreateInstance(this).toggle()}),os(ya);const Nu="backdrop",zl=`mousedown.bs.${Nu}`,Kf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},qf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wl extends Fo{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Kf}static get DefaultType(){return qf}static get NAME(){return Nu}show(d){if(!this._config.isVisible)return void z(d);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{z(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),z(d)})):z(d)}dispose(){this._isAppended&&(nn.off(this._element,zl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=go(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),nn.on(d,zl,()=>{z(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){Q(d,this._getElement(),this._config.isAnimated)}}const za=".bs.focustrap",ku=`focusin${za}`,ac=`keydown.tab${za}`,va="backward",Fu={autofocus:!0,trapElement:null},So={autofocus:"boolean",trapElement:"element"};class Vu extends Fo{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Fu}static get DefaultType(){return So}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),nn.off(document,za),nn.on(document,ku,d=>this._handleFocusin(d)),nn.on(document,ac,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,nn.off(document,za))}_handleFocusin(d){const{trapElement:l}=this._config;if(d.target===document||d.target===l||l.contains(d.target))return;const y=lr.focusableChildren(l);0===y.length?l.focus():this._lastTabNavDirection===va?y[y.length-1].focus():y[0].focus()}_handleKeydown(d){"Tab"===d.key&&(this._lastTabNavDirection=d.shiftKey?va:"forward")}}const Dc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ss=".sticky-top",Kl="padding-right",cc="margin-right";class lc{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kl,l=>l+d),this._setElementAttributes(Dc,Kl,l=>l+d),this._setElementAttributes(Ss,cc,l=>l-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kl),this._resetElementAttributes(Dc,Kl),this._resetElementAttributes(Ss,cc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,l,y){const w=this.getWidth();this._applyManipulationCallback(d,ee=>{if(ee!==this._element&&window.innerWidth>ee.clientWidth+w)return;this._saveInitialAttribute(ee,l);const pe=window.getComputedStyle(ee).getPropertyValue(l);ee.style.setProperty(l,`${y(Number.parseFloat(pe))}px`)})}_saveInitialAttribute(d,l){const y=d.style.getPropertyValue(l);y&&eo.setDataAttribute(d,l,y)}_resetElementAttributes(d,l){this._applyManipulationCallback(d,w=>{const B=eo.getDataAttribute(w,l);null!==B?(eo.removeDataAttribute(w,l),w.style.setProperty(l,B)):w.style.removeProperty(l)})}_applyManipulationCallback(d,l){if(Rs(d))l(d);else for(const y of lr.find(d,this._element))l(y)}}const ro=".bs.modal",yg=`hide${ro}`,xa=`hidePrevented${ro}`,uc=`hidden${ro}`,dc=`show${ro}`,Uu=`shown${ro}`,Xf=`resize${ro}`,xc=`click.dismiss${ro}`,Vh=`mousedown.dismiss${ro}`,io=`keydown.dismiss${ro}`,Qf=`click${ro}.data-api`,Mc="modal-open",ql="modal-static",Uh={backdrop:!0,focus:!0,keyboard:!0},bd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ba extends Ao{constructor(d,l){super(d,l),this._dialog=lr.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lc,this._addEventListeners()}static get Default(){return Uh}static get DefaultType(){return bd}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||nn.trigger(this._element,dc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Mc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){!this._isShown||this._isTransitioning||nn.trigger(this._element,yg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){nn.off(window,ro),nn.off(this._dialog,ro),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vu({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=lr.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,nn.trigger(this._element,Uu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){nn.on(this._element,io,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),nn.on(window,Xf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),nn.on(this._element,Vh,d=>{nn.one(this._element,xc,l=>{if(this._element===d.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Mc),this._resetAdjustments(),this._scrollBar.reset(),nn.trigger(this._element,uc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(nn.trigger(this._element,xa).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(ql)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(ql),this._queueCallback(()=>{this._element.classList.remove(ql),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),y=l>0;if(y&&!d){const w=Cs()?"paddingLeft":"paddingRight";this._element.style[w]=`${l}px`}if(!y&&d){const w=Cs()?"paddingRight":"paddingLeft";this._element.style[w]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,l){return this.each(function(){const y=ba.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof y[d]>"u")throw new TypeError(`No method named "${d}"`);y[d](l)}})}}nn.on(document,Qf,'[data-bs-toggle="modal"]',function(_){const d=lr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),nn.one(d,dc,w=>{w.defaultPrevented||nn.one(d,uc,()=>{mo(this)&&this.focus()})});const l=lr.findOne(".modal.show");l&&ba.getInstance(l).hide(),ba.getOrCreateInstance(d).toggle(this)}),to(ba),os(ba);const Rc=".bs.offcanvas",Jf=".data-api",Zf=`load${Rc}${Jf}`,Eg="showing",Cd=".offcanvas.show",Hs=`show${Rc}`,Id=`shown${Rc}`,Oc=`hide${Rc}`,Td=`hidePrevented${Rc}`,jo=`hidden${Rc}`,Nc=`resize${Rc}`,wd=`click${Rc}${Jf}`,kc=`keydown.dismiss${Rc}`,Ad={backdrop:!0,keyboard:!0,scroll:!1},ep={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vc extends Ao{constructor(d,l){super(d,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ad}static get DefaultType(){return ep}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||nn.trigger(this._element,Hs,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new lc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Eg),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Eg),nn.trigger(this._element,Id,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!nn.trigger(this._element,Oc).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new lc).reset(),nn.trigger(this._element,jo)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Wl({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():nn.trigger(this._element,Td)}:null})}_initializeFocusTrap(){return new Vu({trapElement:this._element})}_addEventListeners(){nn.on(this._element,kc,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();nn.trigger(this._element,Td)}})}static jQueryInterface(d){return this.each(function(){const l=Vc.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d](this)}})}}nn.on(document,wd,'[data-bs-toggle="offcanvas"]',function(_){const d=lr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),Qo(this))return;nn.one(d,jo,()=>{mo(this)&&this.focus()});const l=lr.findOne(Cd);l&&l!==d&&Vc.getInstance(l).hide(),Vc.getOrCreateInstance(d).toggle(this)}),nn.on(window,Zf,()=>{for(const _ of lr.find(Cd))Vc.getOrCreateInstance(_).show()}),nn.on(window,Nc,()=>{for(const _ of lr.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(_).position&&Vc.getOrCreateInstance(_).hide()}),to(Vc),os(Vc);const Bo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Dd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),hc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sd=(_,d)=>{const l=_.nodeName.toLowerCase();return d.includes(l)?!Dd.has(l)||!!hc.test(_.nodeValue):d.filter(y=>y instanceof RegExp).some(y=>y.test(l))},Cg={allowList:Bo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},np={entry:"(string|element|function|null)",selector:"(string|element)"};class Lc extends Fo{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Cg}static get DefaultType(){return Bh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[w,B]of Object.entries(this._config.content))this._setContent(d,B,w);const l=d.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&l.classList.add(...y.split(" ")),l}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[l,y]of Object.entries(d))super._typeCheckConfig({selector:l,entry:y},np)}_setContent(d,l,y){const w=lr.findOne(y,d);if(w){if(!(l=this._resolvePossibleFunction(l)))return void w.remove();if(Rs(l))return void this._putElementInTemplate(go(l),w);if(this._config.html)return void(w.innerHTML=this._maybeSanitize(l));w.textContent=l}}_maybeSanitize(d){return this._config.sanitize?function tp(_,d,l){if(!_.length)return _;if(l&&"function"==typeof l)return l(_);const w=(new window.DOMParser).parseFromString(_,"text/html"),B=[].concat(...w.body.querySelectorAll("*"));for(const ee of B){const pe=ee.nodeName.toLowerCase();if(!Object.keys(d).includes(pe)){ee.remove();continue}const Ne=[].concat(...ee.attributes),at=[].concat(d["*"]||[],d[pe]||[]);for(const Et of Ne)Sd(Et,at)||ee.removeAttribute(Et.nodeName)}return w.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return z(d,[this])}_putElementInTemplate(d,l){if(this._config.html)return l.innerHTML="",void l.append(d);l.textContent=d.textContent}}const xd=new Set(["sanitize","allowList","sanitizeFn"]),Ma="fade",Ra="show",Md="hide.bs.modal",Ql="hover",pl="focus",We={AUTO:"auto",TOP:"top",RIGHT:Cs()?"left":"right",BOTTOM:"bottom",LEFT:Cs()?"right":"left"},Rt={allowList:Bo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Zt={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fn extends Ao{constructor(d,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Rt}static get DefaultType(){return Zt}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),nn.off(this._element.closest(".modal"),Md,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=nn.trigger(this._element,this.constructor.eventName("show")),y=(Os(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!y)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:B}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(B.append(w),nn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(Ra),"ontouchstart"in document.documentElement)for(const pe of[].concat(...document.body.children))nn.on(pe,"mouseover",ps);this._queueCallback(()=>{nn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!nn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ra),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))nn.off(w,"mouseover",ps);this._activeTrigger.click=!1,this._activeTrigger[pl]=!1,this._activeTrigger[Ql]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),nn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const l=this._getTemplateFactory(d).toHtml();if(!l)return null;l.classList.remove(Ma,Ra),l.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(_=>{do{_+=Math.floor(1e6*Math.random())}while(document.getElementById(_));return _})(this.constructor.NAME).toString();return l.setAttribute("id",y),this._isAnimated()&&l.classList.add(Ma),l}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Lc({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ma)}_isShown(){return this.tip&&this.tip.classList.contains(Ra)}_createPopper(d){const l=z(this._config.placement,[this,d,this._element]),y=We[l.toUpperCase()];return Ii(this._element,d,this._getPopperConfig(y))}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof d?l=>d(l,this._element):d}_resolvePossibleFunction(d){return z(d,[this._element])}_getPopperConfig(d){const l={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...l,...z(this._config.popperConfig,[l])}}_setListeners(){const d=this._config.trigger.split(" ");for(const l of d)if("click"===l)nn.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==l){const y=this.constructor.eventName(l===Ql?"mouseenter":"focusin"),w=this.constructor.eventName(l===Ql?"mouseleave":"focusout");nn.on(this._element,y,this._config.selector,B=>{const ee=this._initializeOnDelegatedTarget(B);ee._activeTrigger["focusin"===B.type?pl:Ql]=!0,ee._enter()}),nn.on(this._element,w,this._config.selector,B=>{const ee=this._initializeOnDelegatedTarget(B);ee._activeTrigger["focusout"===B.type?pl:Ql]=ee._element.contains(B.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},nn.on(this._element.closest(".modal"),Md,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,l){clearTimeout(this._timeout),this._timeout=setTimeout(d,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const l=eo.getDataAttributes(this._element);for(const y of Object.keys(l))xd.has(y)&&delete l[y];return d={...l,..."object"==typeof d&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=!1===d.container?document.body:go(d.container),"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),"number"==typeof d.title&&(d.title=d.title.toString()),"number"==typeof d.content&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[l,y]of Object.entries(this._config))this.constructor.Default[l]!==y&&(d[l]=y);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const l=Fn.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}}os(Fn);const Ca={...Fn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gl={...Fn.DefaultType,content:"(null|string|element|function)"};class Jl extends Fn{static get Default(){return Ca}static get DefaultType(){return gl}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const l=Jl.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d]()}})}}os(Jl);const Wh=".bs.scrollspy",kd=`activate${Wh}`,ip=`click${Wh}`,Zl=`load${Wh}.data-api`,Wa="active",eu="[href]",Bu=".nav-link",sp=`${Bu}, .nav-item > ${Bu}, .list-group-item`,jm={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $u extends Ao{constructor(d,l){super(d,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jm}static get DefaultType(){return Vd}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=go(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,"string"==typeof d.threshold&&(d.threshold=d.threshold.split(",").map(l=>Number.parseFloat(l))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(nn.off(this._config.target,ip),nn.on(this._config.target,ip,eu,d=>{const l=this._observableSections.get(d.target.hash);if(l){d.preventDefault();const y=this._rootElement||window,w=l.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:w,behavior:"smooth"});y.scrollTop=w}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(d){const l=ee=>this._targetLinks.get(`#${ee.target.id}`),y=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(l(ee))},w=(this._rootElement||document.documentElement).scrollTop,B=w>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=w;for(const ee of d){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ee));continue}const pe=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&pe){if(y(ee),!w)return}else!B&&!pe&&y(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=lr.find(eu,this._config.target);for(const l of d){if(!l.hash||Qo(l))continue;const y=lr.findOne(decodeURI(l.hash),this._element);mo(y)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,y))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Wa),this._activateParents(d),nn.trigger(this._element,kd,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))lr.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Wa);else for(const l of lr.parents(d,".nav, .list-group"))for(const y of lr.prev(l,sp))y.classList.add(Wa)}_clearActiveClass(d){d.classList.remove(Wa);const l=lr.find(`${eu}.${Wa}`,d);for(const y of l)y.classList.remove(Wa)}static jQueryInterface(d){return this.each(function(){const l=$u.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}})}}nn.on(window,Zl,()=>{for(const _ of lr.find('[data-bs-spy="scroll"]'))$u.getOrCreateInstance(_)}),os($u);const _l=".bs.tab",cy=`hide${_l}`,op=`hidden${_l}`,Ud=`show${_l}`,wg=`shown${_l}`,Bm=`click${_l}`,jd=`keydown${_l}`,ap=`load${_l}`,ly="ArrowLeft",$m="ArrowRight",oa="ArrowUp",qh="ArrowDown",cp="Home",Bd="End",Fs="active",lp="show",Hm=".dropdown-toggle",hp=`:not(${Hm})`,Hu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jc=`.nav-link${hp}, .list-group-item${hp}, [role="tab"]${hp}, ${Hu}`,Yh=`.${Fs}[data-bs-toggle="tab"], .${Fs}[data-bs-toggle="pill"], .${Fs}[data-bs-toggle="list"]`;class Na extends Ao{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),nn.on(this._element,jd,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const l=this._getActiveElem(),y=l?nn.trigger(l,cy,{relatedTarget:d}):null;nn.trigger(d,Ud,{relatedTarget:l}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(l,d),this._activate(d,l))}_activate(d,l){d&&(d.classList.add(Fs),this._activate(lr.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),nn.trigger(d,wg,{relatedTarget:l})):d.classList.add(lp)},d,d.classList.contains("fade")))}_deactivate(d,l){d&&(d.classList.remove(Fs),d.blur(),this._deactivate(lr.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),nn.trigger(d,op,{relatedTarget:l})):d.classList.remove(lp)},d,d.classList.contains("fade")))}_keydown(d){if(![ly,$m,oa,qh,cp,Bd].includes(d.key))return;d.stopPropagation(),d.preventDefault();const l=this._getChildren().filter(w=>!Qo(w));let y;if([cp,Bd].includes(d.key))y=l[d.key===cp?0:l.length-1];else{const w=[$m,qh].includes(d.key);y=L(l,d.target,w,!0)}y&&(y.focus({preventScroll:!0}),Na.getOrCreateInstance(y).show())}_getChildren(){return lr.find(jc,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,l){this._setAttributeIfNotExists(d,"role","tablist");for(const y of l)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const l=this._elemIsActive(d),y=this._getOuterElement(d);d.setAttribute("aria-selected",l),y!==d&&this._setAttributeIfNotExists(y,"role","presentation"),l||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const l=lr.getElementFromSelector(d);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,l){const y=this._getOuterElement(d);if(!y.classList.contains("dropdown"))return;const w=(B,ee)=>{const pe=lr.findOne(B,y);pe&&pe.classList.toggle(ee,l)};w(Hm,Fs),w(".dropdown-menu",lp),y.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(d,l,y){d.hasAttribute(l)||d.setAttribute(l,y)}_elemIsActive(d){return d.classList.contains(Fs)}_getInnerElement(d){return d.matches(jc)?d:lr.findOne(jc,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const l=Na.getOrCreateInstance(this);if("string"==typeof d){if(void 0===l[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);l[d]()}})}}nn.on(document,Bm,Hu,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),!Qo(this)&&Na.getOrCreateInstance(this).show()}),nn.on(window,ap,()=>{for(const _ of lr.find(Yh))Na.getOrCreateInstance(_)}),os(Na);const ka=".bs.toast",uy=`mouseover${ka}`,Gm=`mouseout${ka}`,Dg=`focusin${ka}`,gp=`focusout${ka}`,nu=`hide${ka}`,Hd=`hidden${ka}`,mp=`show${ka}`,Sg=`shown${ka}`,Gd="show",Qh="showing",Pg={animation:"boolean",autohide:"boolean",delay:"number"},dy={animation:!0,autohide:!0,delay:5e3};class Jh extends Ao{constructor(d,l){super(d,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return dy}static get DefaultType(){return Pg}static get NAME(){return"toast"}show(){nn.trigger(this._element,mp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Gd,Qh),this._queueCallback(()=>{this._element.classList.remove(Qh),nn.trigger(this._element,Sg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!nn.trigger(this._element,nu).defaultPrevented&&(this._element.classList.add(Qh),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Qh,Gd),nn.trigger(this._element,Hd)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gd),super.dispose()}isShown(){return this._element.classList.contains(Gd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,l){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const y=d.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){nn.on(this._element,uy,d=>this._onInteraction(d,!0)),nn.on(this._element,Gm,d=>this._onInteraction(d,!1)),nn.on(this._element,Dg,d=>this._onInteraction(d,!0)),nn.on(this._element,gp,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const l=Jh.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof l[d]>"u")throw new TypeError(`No method named "${d}"`);l[d](this)}})}}to(Jh),os(Jh);let xg=(()=>{class _{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(Ee.Qq))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var yi=V(4341);let vp=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,w){1&y&&(s.j41(0,"section",0)(1,"div",1)(2,"div",2),s.nrm(3,"i",3),s.j41(4,"p"),s.EFF(5),s.k0s()(),s.j41(6,"div",2),s.nrm(7,"i",4),s.j41(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",2),s.nrm(11,"i",5),s.j41(12,"p"),s.EFF(13),s.k0s()()()()),2&y&&(s.R7$(5),s.JRh(w.phoneNumber),s.R7$(4),s.JRh(w.address),s.R7$(4),s.JRh(w.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return _})();var Ep=V(3711);function zm(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Email"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(4),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function hy(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Fax"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(4),s.JRh(l.business.fax)}}function Mg(_,d){if(1&_&&(s.j41(0,"div",22)(1,"h3"),s.EFF(2,"Social Media"),s.k0s(),s.j41(3,"p")(4,"a",47),s.EFF(5),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(4),s.FS9("href",l.business.socialMedia,s.B4B),s.R7$(1),s.JRh(l.business.socialMedia)}}function Wm(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",13)(2,"div",14)(3,"h1"),s.EFF(4,"Contact Us"),s.k0s(),s.j41(5,"div",15)(6,"p"),s.EFF(7,"We're here to answer any questions you have"),s.k0s()()()(),s.j41(8,"div",16)(9,"section",17)(10,"div",18),s.EFF(11,"Get in Touch"),s.k0s(),s.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17,"Address"),s.k0s(),s.j41(18,"p"),s.EFF(19),s.k0s()(),s.j41(20,"div",22)(21,"h3"),s.EFF(22,"Phone"),s.k0s(),s.j41(23,"p"),s.EFF(24),s.k0s()(),s.DNE(25,zm,6,2,"div",23),s.DNE(26,hy,5,1,"div",23),s.DNE(27,Mg,6,2,"div",23),s.j41(28,"div")(29,"h3"),s.EFF(30,"Visitation Hours"),s.k0s(),s.nrm(31,"div",24),s.k0s()()(),s.j41(32,"div",25)(33,"div",26),s.nrm(34,"img",27),s.k0s()()()(),s.j41(35,"section",28)(36,"div",18),s.EFF(37,"Send Us a Message"),s.k0s(),s.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),s.EFF(42,"How can we help?"),s.k0s(),s.j41(43,"p",33),s.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),s.k0s()()(),s.j41(45,"div",34)(46,"form",35,36),s.bIt("ngSubmit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(48,"div",37)(49,"label",38),s.EFF(50,"Name"),s.k0s(),s.j41(51,"input",39),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()(),s.j41(52,"div",37)(53,"label",40),s.EFF(54,"Email"),s.k0s(),s.j41(55,"input",41),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(56,"div",37)(57,"label",42),s.EFF(58,"Message"),s.k0s(),s.j41(59,"textarea",43),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(60,"button",44),s.EFF(61,"Submit"),s.k0s()()()()(),s.nrm(62,"app-information",45)(63,"app-google-maps",46),s.k0s(),s.bVm()}if(2&_){const l=s.sdS(47),y=s.XpG(2);s.R7$(19),s.JRh(y.business.address),s.R7$(5),s.JRh(y.business.phone),s.R7$(1),s.Y8G("ngIf",y.business.email),s.R7$(1),s.Y8G("ngIf",y.business.fax),s.R7$(1),s.Y8G("ngIf",y.business.socialMedia),s.R7$(4),s.Y8G("innerHTML",y.sanitizedBusinessHours,s.npT),s.R7$(3),s.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",s.B4B),s.R7$(17),s.Y8G("ngModel",y.formData.name),s.R7$(4),s.Y8G("ngModel",y.formData.email),s.R7$(4),s.Y8G("ngModel",y.formData.message),s.R7$(1),s.Y8G("disabled",!l.form.valid),s.R7$(2),s.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),s.R7$(1),s.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Gu(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function bp(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function Km(_,d){if(1&_){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,Gu,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,bp,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Rg(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function fy(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function zd(_,d){if(1&_){const l=s.RV6();s.qex(0),s.nrm(1,"app-hero"),s.j41(2,"div",48)(3,"div",49)(4,"h2"),s.EFF(5,"Contact us"),s.k0s(),s.DNE(6,Rg,4,2,"div",50),s.j41(7,"div",51)(8,"p"),s.EFF(9),s.k0s()(),s.j41(10,"div",51)(11,"p"),s.EFF(12),s.k0s()(),s.DNE(13,fy,3,1,"div",52),s.k0s(),s.j41(14,"div",53)(15,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(16,"div",37)(17,"label",55),s.EFF(18,"Name "),s.j41(19,"span"),s.EFF(20,"(required)"),s.k0s()(),s.j41(21,"div",56)(22,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(23,"div",37)(24,"label",40),s.EFF(25,"Email "),s.j41(26,"span"),s.EFF(27,"(required)"),s.k0s()(),s.j41(28,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(29,"div",37)(30,"label",42),s.EFF(31,"Message "),s.j41(32,"span"),s.EFF(33,"(required)"),s.k0s()(),s.j41(34,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(35,"button",60),s.EFF(36,"Send"),s.k0s()()()(),s.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),s.EFF(41,"Visitation Hours"),s.k0s(),s.nrm(42,"div",24),s.k0s()(),s.j41(43,"div",61),s.nrm(44,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(6),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(8),s.Y8G("innerHTML",l.sanitizedBusinessHours,s.npT),s.R7$(2),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Og(_,d){if(1&_&&(s.j41(0,"div",51)(1,"p")(2,"a",47),s.EFF(3),s.k0s()()()),2&_){const l=s.XpG(3);s.R7$(2),s.Mz_("href","mailto:",l.business.email,"",s.B4B),s.R7$(1),s.JRh(l.business.email)}}function Cp(_,d){if(1&_&&(s.j41(0,"div",62)(1,"a",63),s.nrm(2,"i",64),s.k0s()()),2&_){const l=s.XpG(3);s.R7$(1),s.FS9("href",l.business.socialMedia,s.B4B)}}function qm(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",48)(2,"div",49)(3,"h2"),s.EFF(4,"Contact us"),s.k0s(),s.DNE(5,Og,4,2,"div",50),s.j41(6,"div",51)(7,"p"),s.EFF(8),s.k0s()(),s.j41(9,"div",51)(10,"p"),s.EFF(11),s.k0s()(),s.DNE(12,Cp,3,1,"div",52),s.k0s(),s.j41(13,"div",53)(14,"form",54),s.bIt("submit",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onSubmit())}),s.j41(15,"div",37)(16,"label",55),s.EFF(17,"Name "),s.j41(18,"span"),s.EFF(19,"(required)"),s.k0s()(),s.j41(20,"div",56)(21,"input",57),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.name=w)}),s.k0s()()(),s.j41(22,"div",37)(23,"label",40),s.EFF(24,"Email "),s.j41(25,"span"),s.EFF(26,"(required)"),s.k0s()(),s.j41(27,"input",58),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.email=w)}),s.k0s()(),s.j41(28,"div",37)(29,"label",42),s.EFF(30,"Message "),s.j41(31,"span"),s.EFF(32,"(required)"),s.k0s()(),s.j41(33,"textarea",59),s.bIt("ngModelChange",function(w){s.eBV(l);const B=s.XpG(2);return s.Njj(B.formData.message=w)}),s.k0s()(),s.j41(34,"button",60),s.EFF(35,"Send"),s.k0s()()()(),s.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),s.EFF(40,"Visitation Hours"),s.k0s(),s.j41(41,"ul")(42,"li")(43,"strong"),s.EFF(44,"Monday:"),s.k0s(),s.EFF(45," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(46,"li")(47,"strong"),s.EFF(48,"Tuesday:"),s.k0s(),s.EFF(49," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(50,"li")(51,"strong"),s.EFF(52,"Wednesday:"),s.k0s(),s.EFF(53," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(54,"li")(55,"strong"),s.EFF(56,"Thursday:"),s.k0s(),s.EFF(57," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(58,"li")(59,"strong"),s.EFF(60,"Friday:"),s.k0s(),s.EFF(61," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(62,"li")(63,"strong"),s.EFF(64,"Saturday:"),s.k0s(),s.EFF(65," 7:00am \u2013 7:00pm"),s.k0s(),s.j41(66,"li")(67,"strong"),s.EFF(68,"Sunday:"),s.k0s(),s.EFF(69," 7:00am \u2013 7:00pm"),s.k0s()()()(),s.j41(70,"div",61),s.nrm(71,"app-google-maps",46),s.k0s()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(5),s.Y8G("ngIf",l.business.email),s.R7$(3),s.JRh(l.business.phone),s.R7$(3),s.JRh(l.business.address),s.R7$(1),s.Y8G("ngIf",l.business.socialMedia),s.R7$(9),s.Y8G("ngModel",l.formData.name),s.R7$(6),s.Y8G("ngModel",l.formData.email),s.R7$(6),s.Y8G("ngModel",l.formData.message),s.R7$(38),s.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Ip(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,Wm,64,16,"ng-container",2),s.DNE(3,Km,45,10,"ng-container",2),s.DNE(4,zd,45,10,"ng-container",2),s.DNE(5,qm,72,9,"ng-container",3),s.k0s(),s.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),s.EFF(11),s.k0s(),s.nrm(12,"button",9),s.k0s(),s.j41(13,"div",10),s.EFF(14),s.k0s(),s.j41(15,"div",11)(16,"button",12),s.EFF(17,"Close"),s.k0s()()()()()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(7),s.JRh(l.modalTitle),s.R7$(3),s.SpI(" ",l.modalMessage," ")}}let Ng=(()=>{class _{constructor(l,y,w,B,ee,pe,Ne){this.sanitizer=l,this.businessDataService=y,this.webContent=w,this.route=B,this.http=ee,this.emailService=pe,this.metaService=Ne,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new ba(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const y=l.split(".");return y.length>2?y.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(ue.up),s.rXU(Ue.A),s.rXU(Ae.N),s.rXU(he.nX),s.rXU(Ee.Qq),s.rXU(xg),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,w){1&y&&s.DNE(0,Ip,18,6,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.bT,J.ux,J.e1,J.fG,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV,vp,_e,Ep.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return _})();var Tp=V(467),wp=V(8455),zu=V(214),kg=V(3739);function Zh(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function ef(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"div",5)(2,"div",6)(3,"h1"),s.EFF(4,"Our Home"),s.k0s(),s.j41(5,"div",7)(6,"p"),s.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),s.k0s()()()(),s.j41(8,"div",8)(9,"section",9)(10,"div",10),s.EFF(11,"Welcome to Our Home"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"section",11)(15,"div",10),s.EFF(16,"Explore Our Gallery"),s.k0s(),s.j41(17,"div",12),s.DNE(18,Zh,2,1,"div",13),s.k0s()(),s.j41(19,"div",14)(20,"div",15)(21,"h2"),s.EFF(22,"Come Meet Our Family"),s.k0s(),s.j41(23,"p"),s.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),s.k0s(),s.j41(25,"button",16),s.bIt("click",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.navigateToContact(w.business.id))}),s.EFF(26,"Schedule a Visit"),s.k0s()()()(),s.bVm()}if(2&_){const l=s.XpG(2);s.R7$(13),s.SpI(" ",l.business.photoGalleryText," "),s.R7$(5),s.Y8G("ngForOf",l.images)}}function Ym(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function tf(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",24),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function nf(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text",19),s.j41(3,"section",20)(4,"div",10),s.nrm(5,"app-section-tile",21),s.k0s(),s.j41(6,"div",22),s.DNE(7,Ym,2,1,"div",13),s.k0s()(),s.j41(8,"section",20)(9,"div",10),s.nrm(10,"app-section-tile",21),s.k0s(),s.j41(11,"div",22),s.DNE(12,tf,2,1,"div",13),s.k0s()(),s.nrm(13,"app-testimonial-image",23),s.bVm()),2&_){const l=s.XpG(2);s.R7$(2),s.Y8G("content",l.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),s.R7$(3),s.Y8G("title","Gallery"),s.R7$(2),s.Y8G("ngForOf",l.images),s.R7$(3),s.Y8G("title","Lifestyle Images"),s.R7$(2),s.Y8G("ngForOf",l.lifeStyleImages),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[5].quote)}}function Fg(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function Xm(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",24),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function Vg(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text",19),s.j41(3,"section",11)(4,"div",10),s.nrm(5,"app-section-tile",21),s.k0s(),s.j41(6,"div",12),s.DNE(7,Fg,2,1,"div",13),s.k0s()(),s.j41(8,"section",11)(9,"div",10),s.nrm(10,"app-section-tile",21),s.k0s(),s.j41(11,"div",12),s.DNE(12,Xm,2,1,"div",13),s.k0s()(),s.nrm(13,"app-testimonial-image",23),s.bVm()),2&_){const l=s.XpG(2);s.R7$(2),s.Y8G("content",l.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),s.R7$(3),s.Y8G("title","Gallery"),s.R7$(2),s.Y8G("ngForOf",l.images),s.R7$(3),s.Y8G("title","Lifestyle Images"),s.R7$(2),s.Y8G("ngForOf",l.lifeStyleImages),s.R7$(1),s.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[4].quote)}}function py(_,d){if(1&_){const l=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){const B=s.eBV(l).$implicit,ee=s.XpG(3);return s.Njj(ee.onImageClick(B.url))}),s.nrm(1,"img",18),s.k0s()}if(2&_){const l=d.$implicit;s.R7$(1),s.Y8G("src",l.url,s.B4B)}}function Lg(_,d){if(1&_&&(s.qex(0),s.nrm(1,"app-hero")(2,"app-center-text"),s.j41(3,"section",11)(4,"div",10)(5,"h2"),s.EFF(6,"Explore Our Gallery"),s.k0s()(),s.j41(7,"div",12),s.DNE(8,py,2,1,"div",13),s.k0s()(),s.bVm()),2&_){const l=s.XpG(2);s.R7$(8),s.Y8G("ngForOf",l.images)}}function Ap(_,d){if(1&_){const l=s.RV6();s.j41(0,"app-image-viewer-modal",25),s.bIt("closeModal",function(){s.eBV(l);const w=s.XpG(2);return s.Njj(w.onCloseModal())}),s.k0s()}if(2&_){const l=s.XpG(2);s.Y8G("imageUrl",l.selectedImageUrl)}}function Dp(_,d){if(1&_&&(s.j41(0,"div")(1,"div",1),s.DNE(2,ef,27,2,"ng-container",2),s.DNE(3,nf,14,10,"ng-container",2),s.DNE(4,Vg,14,10,"ng-container",2),s.DNE(5,Lg,9,1,"ng-container",3),s.DNE(6,Ap,1,1,"app-image-viewer-modal",4),s.k0s()()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngSwitch",l.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(2),s.Y8G("ngIf",l.selectedImageUrl)}}let yl=(()=>{class _{constructor(l,y,w,B,ee){this.businessDataService=l,this.route=y,this.webContent=w,this.metaService=B,this.router=ee,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:w,target:B})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,w).pipe((0,dt.n)(ee=>{const pe=ee.map(function(){var Ne=(0,Tp.A)(function*(at){return(yield l.webContent.checkImageExists(at.url))?at:null});return function(at){return Ne.apply(this,arguments)}}());return(0,wp.H)(Promise.all(pe))}),(0,xe.T)(ee=>ee.filter(pe=>null!==pe))).subscribe(ee=>{this[B]=ee})})}onImageClick(l){this.selectedImageUrl=l}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ue.A),s.rXU(he.nX),s.rXU(Ae.N),s.rXU(Le.R),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,w){1&y&&s.DNE(0,Dp,7,5,"div",0),2&y&&s.Y8G("ngIf",w.business)},dependencies:[J.Sq,J.bT,J.ux,J.e1,J.fG,zu.W,kg.W,_e,it,Nt],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return _})();var rf=V(4796);function ru(_,d){if(1&_&&(s.j41(0,"div",11),s.EFF(1),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.JRh(l.errorMessage)}}let Qm=(()=>{class _{constructor(l,y){this.authService=l,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(rf.u),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,w){1&y&&(s.j41(0,"div",0)(1,"div",1)(2,"h2",2),s.EFF(3,"Login"),s.k0s(),s.j41(4,"form",3),s.bIt("submit",function(){return w.login()}),s.j41(5,"div",4)(6,"label",5),s.EFF(7,"Email"),s.k0s(),s.j41(8,"input",6),s.bIt("ngModelChange",function(ee){return w.email=ee}),s.k0s()(),s.j41(9,"div",4)(10,"label",7),s.EFF(11,"Password"),s.k0s(),s.j41(12,"input",8),s.bIt("ngModelChange",function(ee){return w.password=ee}),s.k0s()(),s.j41(13,"button",9),s.EFF(14,"Login"),s.k0s(),s.DNE(15,ru,2,1,"div",10),s.k0s()()()),2&y&&(s.R7$(8),s.Y8G("ngModel",w.email),s.R7$(4),s.Y8G("ngModel",w.password),s.R7$(3),s.Y8G("ngIf",w.errorMessage))},dependencies:[J.bT,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return _})();var Ug=V(1985),vl=V(6340);let jg=(()=>{class _{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,y){const w=this.afs.createId(),B=this.afs.collection(`${this.basePath}/${y}/intake`).doc(w);return new Ug.c(ee=>{B.set(l).then(()=>{ee.next(l),ee.complete()}).catch(pe=>{console.error("Error saving intake form data",pe),ee.error(pe)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,xe.T)(y=>y.map(w=>{const B=w.payload.doc.data();return{id:w.payload.doc.id,...B}})))}getIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).valueChanges().pipe((0,xe.T)(w=>w||void 0))}updateIntakeForm(l,y,w){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).update(w)}deleteIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(vl.Qe))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function $g(_,d){if(1&_&&(s.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),s.EFF(3),s.k0s()(),s.j41(4,"div",6)(5,"p"),s.EFF(6),s.k0s()()()),2&_){const l=d.$implicit;s.R7$(3),s.SpI('"',l.quote,'"'),s.R7$(3),s.JRh(l.name)}}function Wd(_,d){if(1&_&&(s.j41(0,"div",2),s.DNE(1,$g,7,2,"div",3),s.k0s()),2&_){const l=s.XpG();s.R7$(1),s.Y8G("ngForOf",l.testimonials)}}const sf=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:we.B},{path:"about-us",component:Ce},{path:"services",component:oi},{path:"contact-us",component:Ng},{path:"gallery",component:yl},{path:"login",component:Qm},{path:"resident-form",component:(()=>{class _{constructor(l,y,w,B,ee){this.fb=l,this.intakeService=y,this.businessDataService=w,this.emailService=B,this.metaService=ee,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",yi.k0.required],email:["",[yi.k0.required,yi.k0.email]],phoneNumber:["",yi.k0.required],referralSource:["",yi.k0.required],relationToResident:[""],residentName:["",yi.k0.required],age:["",yi.k0.required],gender:["",yi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(w=>{console.log("Intake form saved successfully!",w)},w=>{console.error("Error saving intake form:",w)});const y={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(w=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},w=>{console.error("Error sending email",w),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(yi.ok),s.rXU(jg),s.rXU(Ue.A),s.rXU(xg),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,w){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"form",0),s.bIt("ngSubmit",function(){return w.onSubmit()}),s.j41(2,"div",1)(3,"h2"),s.EFF(4,"Personal Information"),s.k0s(),s.j41(5,"label",2),s.EFF(6,"Name *"),s.k0s(),s.nrm(7,"input",3),s.j41(8,"label",4),s.EFF(9,"Email *"),s.k0s(),s.nrm(10,"input",5),s.j41(11,"label",6),s.EFF(12,"Phone number *"),s.k0s(),s.nrm(13,"input",7),s.k0s(),s.j41(14,"div",1)(15,"h2"),s.EFF(16,"Referral Source"),s.k0s(),s.j41(17,"label",8),s.EFF(18,"How did you find out about us? *"),s.k0s(),s.j41(19,"select",9)(20,"option",10),s.EFF(21,"Google"),s.k0s(),s.j41(22,"option",11),s.EFF(23,"Facebook"),s.k0s(),s.j41(24,"option",12),s.EFF(25,"Placement Agency"),s.k0s(),s.j41(26,"option",13),s.EFF(27,"Friends and/or Family"),s.k0s(),s.j41(28,"option",14),s.EFF(29,"Other"),s.k0s()(),s.j41(30,"label",15),s.EFF(31,"What is your relation to the resident? *"),s.k0s(),s.nrm(32,"input",16),s.k0s(),s.j41(33,"div",1)(34,"h2"),s.EFF(35,"Resident Information"),s.k0s(),s.j41(36,"label",17),s.EFF(37,"Resident's name *"),s.k0s(),s.nrm(38,"input",18),s.j41(39,"label",19),s.EFF(40,"Age *"),s.k0s(),s.nrm(41,"input",20),s.j41(42,"label",21),s.EFF(43,"Gender *"),s.k0s(),s.j41(44,"select",22)(45,"option",23),s.EFF(46,"Male"),s.k0s(),s.j41(47,"option",24),s.EFF(48,"Female"),s.k0s(),s.j41(49,"option",25),s.EFF(50,"Prefer not to say"),s.k0s(),s.j41(51,"option",14),s.EFF(52,"Other"),s.k0s()()(),s.j41(53,"div",1)(54,"h2"),s.EFF(55,"Medical History"),s.k0s(),s.j41(56,"label",26),s.EFF(57,"Relevant medical and surgical history *"),s.k0s(),s.nrm(58,"textarea",27),s.j41(59,"label",28),s.EFF(60,"Height *"),s.k0s(),s.nrm(61,"input",29),s.j41(62,"label",30),s.EFF(63,"Weight *"),s.k0s(),s.nrm(64,"input",31),s.j41(65,"label",32),s.EFF(66,"Reason for moving to an adult family home *"),s.k0s(),s.nrm(67,"textarea",33),s.j41(68,"label",34),s.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),s.k0s(),s.j41(70,"select",35)(71,"option",36),s.EFF(72,"Yes"),s.k0s(),s.j41(73,"option",37),s.EFF(74,"No"),s.k0s()()(),s.j41(75,"div",1)(76,"h2"),s.EFF(77,"Care Levels"),s.k0s(),s.j41(78,"label",38),s.EFF(79,"Eating *"),s.k0s(),s.j41(80,"select",39)(81,"option",40),s.EFF(82,"Independent"),s.k0s(),s.j41(83,"option",41),s.EFF(84,"Needing Assistance"),s.k0s(),s.j41(85,"option",42),s.EFF(86,"Dependent"),s.k0s()(),s.j41(87,"label",43),s.EFF(88,"Personal Hygiene *"),s.k0s(),s.j41(89,"select",44)(90,"option",40),s.EFF(91,"Independent"),s.k0s(),s.j41(92,"option",41),s.EFF(93,"Needing Assistance"),s.k0s(),s.j41(94,"option",42),s.EFF(95,"Dependent"),s.k0s()(),s.j41(96,"label",45),s.EFF(97,"Bathing *"),s.k0s(),s.j41(98,"select",46)(99,"option",40),s.EFF(100,"Independent"),s.k0s(),s.j41(101,"option",41),s.EFF(102,"Needing Assistance"),s.k0s(),s.j41(103,"option",42),s.EFF(104,"Dependent"),s.k0s()(),s.j41(105,"label",47),s.EFF(106,"Toileting *"),s.k0s(),s.j41(107,"select",48)(108,"option",40),s.EFF(109,"Independent"),s.k0s(),s.j41(110,"option",41),s.EFF(111,"Needing Assistance"),s.k0s(),s.j41(112,"option",42),s.EFF(113,"Dependent"),s.k0s()(),s.j41(114,"label",49),s.EFF(115,"Mobility *"),s.k0s(),s.j41(116,"select",50)(117,"option",40),s.EFF(118,"Independent"),s.k0s(),s.j41(119,"option",41),s.EFF(120,"Needing Assistance"),s.k0s(),s.j41(121,"option",42),s.EFF(122,"Dependent"),s.k0s()(),s.j41(123,"label",51),s.EFF(124,"Transfers *"),s.k0s(),s.j41(125,"select",52)(126,"option",40),s.EFF(127,"Independent"),s.k0s(),s.j41(128,"option",41),s.EFF(129,"Needing Assistance"),s.k0s(),s.j41(130,"option",42),s.EFF(131,"Dependent"),s.k0s()(),s.j41(132,"label",53),s.EFF(133,"Medication Assistance *"),s.k0s(),s.j41(134,"select",54)(135,"option",36),s.EFF(136,"Yes"),s.k0s(),s.j41(137,"option",37),s.EFF(138,"No"),s.k0s()()(),s.j41(139,"div",1)(140,"h2"),s.EFF(141,"Other Medical Information"),s.k0s(),s.j41(142,"label",55),s.EFF(143,"Memory Issues *"),s.k0s(),s.j41(144,"select",56)(145,"option",36),s.EFF(146,"Yes"),s.k0s(),s.j41(147,"option",37),s.EFF(148,"No"),s.k0s()(),s.j41(149,"label",57),s.EFF(150,"Behavior"),s.k0s(),s.nrm(151,"textarea",58),s.j41(152,"label",59),s.EFF(153,"Skin Condition"),s.k0s(),s.nrm(154,"textarea",60),s.j41(155,"label",61),s.EFF(156,"Other information you want us to know"),s.k0s(),s.nrm(157,"textarea",62),s.k0s(),s.j41(158,"div",1)(159,"h2"),s.EFF(160,"Living Situation"),s.k0s(),s.j41(161,"label",63),s.EFF(162,"Current living situation *"),s.k0s(),s.j41(163,"select",64)(164,"option",65),s.EFF(165,"Own Home"),s.k0s(),s.j41(166,"option",66),s.EFF(167,"Relative's Home"),s.k0s(),s.j41(168,"option",67),s.EFF(169,"Hospital"),s.k0s(),s.j41(170,"option",68),s.EFF(171,"Adult Family Home"),s.k0s(),s.j41(172,"option",69),s.EFF(173,"Senior Living"),s.k0s(),s.j41(174,"option",14),s.EFF(175,"Other"),s.k0s()()(),s.j41(176,"div",1)(177,"label",70),s.EFF(178,"Target move in date *"),s.k0s(),s.nrm(179,"input",71),s.k0s(),s.j41(180,"div",1)(181,"label",72),s.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),s.k0s(),s.j41(183,"select",73)(184,"option",36),s.EFF(185,"Yes"),s.k0s(),s.j41(186,"option",37),s.EFF(187,"No"),s.k0s()()(),s.j41(188,"div",1)(189,"label",74),s.EFF(190,"Do you have any questions for us?"),s.k0s(),s.nrm(191,"textarea",75),s.k0s(),s.j41(192,"button",76),s.EFF(193,"Submit"),s.k0s()()),2&y&&(s.R7$(1),s.Y8G("formGroup",w.intakeForm),s.R7$(191),s.Y8G("disabled",w.intakeForm.invalid))},dependencies:[yi.qT,yi.xH,yi.y7,yi.me,yi.Q0,yi.wz,yi.BC,yi.cb,yi.j4,yi.JD,_e],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return _})()},{path:"testimonials",component:(()=>{class _{constructor(l,y){this.businessDataService=l,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(Ue.A),s.rXU(Le.R))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,w){1&y&&(s.nrm(0,"app-hero"),s.j41(1,"div",0),s.DNE(2,Wd,2,1,"div",1),s.k0s()),2&y&&(s.R7$(2),s.Y8G("ngIf",w.testimonials.length>0))},dependencies:[J.Sq,J.bT,_e],styles:[".testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(800px,1fr));gap:50px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background-color:var(--card-bg-color, #f9f9f9);border:1px solid #ddd;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:10px;font-size:2rem}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--text-secondary-color, #555)}"]})}}return _})()},{path:"login",component:Qm},{path:"admin",loadChildren:()=>V.e(655).then(V.bind(V,9655)).then(_=>_.AdminModule)},{path:":id",component:we.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Jm=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_})}static{this.\u0275inj=s.G2t({imports:[he.iI.forRoot(sf),he.iI]})}}return _})();var Kd=V(5009);function Zm(_,d){if(1&_&&s.nrm(0,"img",10),2&_){const l=s.XpG();s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const El=function(_){return{"clemo-shrink":_}},gy=function(){return["/home"]},Hg=function(_){return{id:_}},e_=function(_){return{"clemo-show":_}};let Gg=(()=>{class _{constructor(l,y,w){this.route=l,this.router=y,this.businessDataService=w,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(w=>{w||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-expandable-navigation"]],hostBindings:function(y,w){1&y&&s.bIt("scroll",function(){return w.onWindowScroll()},!1,s.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,w){1&y&&(s.j41(0,"nav",0)(1,"div",1)(2,"a",2),s.DNE(3,Zm,1,1,"img",3),s.k0s(),s.j41(4,"button",4),s.bIt("click",function(){return w.toggleMenu()}),s.nrm(5,"span",5),s.k0s(),s.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),s.bIt("click",function(){return w.navigateTo("home")}),s.EFF(10,"Home"),s.k0s()(),s.j41(11,"li",8)(12,"span",9),s.bIt("click",function(){return w.navigateTo("about-us")}),s.EFF(13,"About Us"),s.k0s()(),s.j41(14,"li",8)(15,"span",9),s.bIt("click",function(){return w.navigateTo("services")}),s.EFF(16,"Services"),s.k0s()(),s.j41(17,"li",8)(18,"span",9),s.bIt("click",function(){return w.navigateTo("gallery")}),s.EFF(19,"Our Home"),s.k0s()(),s.j41(20,"li",8)(21,"span",9),s.bIt("click",function(){return w.navigateTo("resident-form")}),s.EFF(22,"Resident Form"),s.k0s()(),s.j41(23,"li",8)(24,"span",9),s.bIt("click",function(){return w.navigateTo("contact-us")}),s.EFF(25,"Contact"),s.k0s()()()()()()),2&y&&(s.Y8G("ngClass",s.eq3(5,El,w.isShrunk)),s.R7$(2),s.Y8G("routerLink",s.lJ4(7,gy))("queryParams",s.eq3(8,Hg,w.businessId)),s.R7$(1),s.Y8G("ngIf",null==w.business?null:w.business.logoImage),s.R7$(3),s.Y8G("ngClass",s.eq3(10,e_,w.menuOpen)))},dependencies:[J.YU,J.bT,he.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:#fff;position:absolute;top:70px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}}']})}}return _})();function t_(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const Ka=function(){return["/home"]},qa=function(_){return{id:_}},qd=function(_){return{"open-bar1":_}},Pp=function(_){return{"open-bar2":_}},Yd=function(_){return{"open-bar3":_}},Wu=function(_){return{active:_}};function zg(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),s.DNE(5,t_,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(7,Ka))("queryParams",s.eq3(8,qa,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(10,qd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(12,Pp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Yd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Wu,l.menuOpen))}}function my(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}const bl=function(){return["/contact-us"]};function _y(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,my,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,Ka))("queryParams",s.eq3(10,qa,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,qd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Pp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Yd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,Wu,l.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,bl))("queryParams",s.eq3(21,qa,l.businessId))}}function Wg(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function n_(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,Wg,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"Our Home"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("testimonials"))}),s.EFF(20,"Testimonials"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(22,"Contact"),s.k0s(),s.j41(23,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(24,"Resident Form"),s.k0s()(),s.j41(25,"div",4)(26,"a",5)(27,"button",15),s.EFF(28,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,Ka))("queryParams",s.eq3(10,qa,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,qd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Pp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Yd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,Wu,l.menuOpen)),s.R7$(16),s.Y8G("routerLink",s.lJ4(20,bl))("queryParams",s.eq3(21,qa,l.businessId))}}function Xd(_,d){1&_&&(s.qex(0),s.nrm(1,"app-expandable-navigation"),s.bVm())}function af(_,d){if(1&_&&s.nrm(0,"img",13),2&_){const l=s.XpG(2);s.Y8G("src",null==l.business?null:l.business.logoImage,s.B4B)}}function Ya(_,d){if(1&_){const l=s.RV6();s.qex(0),s.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),s.DNE(5,af,1,1,"img",6),s.k0s()(),s.j41(6,"div",7),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.toggleMenu())}),s.nrm(7,"div",8)(8,"div",9)(9,"div",10),s.k0s(),s.j41(10,"ul",11)(11,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("home"))}),s.EFF(12,"Home"),s.k0s(),s.j41(13,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("services"))}),s.EFF(14,"Services"),s.k0s(),s.j41(15,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("about-us"))}),s.EFF(16,"About Us"),s.k0s(),s.j41(17,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("gallery"))}),s.EFF(18,"gallery"),s.k0s(),s.j41(19,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("contact-us"))}),s.EFF(20,"Contact"),s.k0s(),s.j41(21,"li",12),s.bIt("click",function(){s.eBV(l);const w=s.XpG();return s.Njj(w.navigateTo("resident-form"))}),s.EFF(22,"Intake Form"),s.k0s()(),s.j41(23,"div",4)(24,"a",5)(25,"button",15),s.EFF(26,"Schedule a Visit"),s.k0s()()()()(),s.bVm()}if(2&_){const l=s.XpG();s.R7$(4),s.Y8G("routerLink",s.lJ4(9,Ka))("queryParams",s.eq3(10,qa,l.businessId)),s.R7$(1),s.Y8G("ngIf",null==l.business?null:l.business.logoImage),s.R7$(2),s.Y8G("ngClass",s.eq3(12,qd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(14,Pp,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(16,Yd,l.menuOpen)),s.R7$(1),s.Y8G("ngClass",s.eq3(18,Wu,l.menuOpen)),s.R7$(14),s.Y8G("routerLink",s.lJ4(20,bl))("queryParams",s.eq3(21,qa,l.businessId))}}let cf=(()=>{class _{constructor(l,y,w){this.route=l,this.router=y,this.businessDataService=w,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(w=>{w||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(he.Ix),s.rXU(Ue.A))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,w){1&y&&(s.j41(0,"div",0),s.DNE(1,zg,21,18,"ng-container",1),s.DNE(2,_y,29,23,"ng-container",1),s.DNE(3,n_,29,23,"ng-container",1),s.DNE(4,Xd,2,0,"ng-container",1),s.DNE(5,Ya,27,23,"ng-container",1),s.k0s()),2&y&&(s.Y8G("ngSwitch",w.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","ehc"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","demo"))},dependencies:[J.YU,J.bT,J.ux,J.e1,he.Wk,Gg],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return _})();function r_(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function i_(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",12)(2,"div",13)(3,"div",14),s.nrm(4,"hr",15),s.j41(5,"h2",16),s.EFF(6),s.k0s(),s.nrm(7,"hr",15),s.k0s(),s.j41(8,"div",17)(9,"div",18)(10,"h3",19),s.EFF(11,"Owner:"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s()(),s.j41(14,"div",18)(15,"h3",19),s.EFF(16,"Location:"),s.k0s(),s.j41(17,"p"),s.EFF(18),s.k0s()(),s.j41(19,"div",18)(20,"h3",19),s.EFF(21,"Provider:"),s.k0s(),s.j41(22,"p"),s.EFF(23),s.k0s(),s.j41(24,"p"),s.EFF(25,"Email: "),s.j41(26,"a",11),s.EFF(27),s.k0s()(),s.j41(28,"p"),s.EFF(29,"Phone: "),s.j41(30,"a",11),s.EFF(31),s.k0s()()()(),s.j41(32,"div",20)(33,"p"),s.EFF(34),s.k0s()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(6),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.JRh(null==l.business?null:l.business.providerName),s.R7$(5),s.JRh(null==l.business?null:l.business.address),s.R7$(5),s.JRh(null==l.business?null:l.business.providerName),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.email),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function s_(_,d){if(1&_&&(s.qex(0),s.j41(1,"footer",4)(2,"div",5)(3,"h2",6),s.EFF(4),s.k0s(),s.nrm(5,"hr",7),s.j41(6,"div",8)(7,"div",9)(8,"h3",10),s.EFF(9,"Location:"),s.k0s(),s.j41(10,"address"),s.EFF(11),s.k0s()(),s.j41(12,"div",9)(13,"h3",10),s.EFF(14),s.k0s(),s.j41(15,"p"),s.EFF(16,"Email: "),s.j41(17,"a",11),s.EFF(18),s.k0s()(),s.j41(19,"p"),s.EFF(20,"Phone: "),s.j41(21,"a",11),s.EFF(22),s.k0s()()(),s.j41(23,"div",9)(24,"h3",10),s.EFF(25),s.k0s(),s.j41(26,"p"),s.EFF(27,"Email: "),s.j41(28,"a",11),s.EFF(29),s.k0s()(),s.j41(30,"p"),s.EFF(31,"Phone: "),s.j41(32,"a",11),s.EFF(33),s.k0s()()()()()(),s.bVm()),2&_){const l=s.XpG();s.R7$(4),s.JRh(null==l.business?null:l.business.businessName),s.R7$(7),s.SpI(" ",null==l.business?null:l.business.address," "),s.R7$(3),s.SpI("Provider:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone),s.R7$(3),s.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),s.R7$(3),s.Mz_("href","mailto:",null==l.business?null:l.business.email,"",s.B4B),s.R7$(1),s.SpI(" ",null==l.business?null:l.business.email,""),s.R7$(3),s.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",s.B4B),s.R7$(1),s.JRh(null==l.business?null:l.business.phone)}}function o_(_,d){if(1&_&&(s.j41(0,"div",21)(1,"h1",22),s.EFF(2,"Debugger:"),s.k0s(),s.j41(3,"div",23)(4,"div",24)(5,"span",25),s.EFF(6,"Theme File:"),s.k0s(),s.j41(7,"span",26),s.EFF(8),s.k0s()(),s.j41(9,"div",24)(10,"span",25),s.EFF(11,"Business ID:"),s.k0s(),s.j41(12,"span",26),s.EFF(13),s.k0s()(),s.j41(14,"div",24)(15,"span",25),s.EFF(16,"Business Name:"),s.k0s(),s.j41(17,"span",26),s.EFF(18),s.k0s()()()()),2&_){const l=s.XpG();s.R7$(8),s.JRh(l.themeFileName),s.R7$(5),s.JRh(null==l.business?null:l.business.id),s.R7$(5),s.JRh(null==l.business?null:l.business.businessName)}}let a_=(()=>{class _{constructor(l,y,w,B,ee,pe){this.route=l,this.webContentService=y,this.authService=w,this.themeService=B,this.businessDataService=ee,this.router=pe,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N),s.rXU(rf.u),s.rXU(Kd.F),s.rXU(Ue.A),s.rXU(he.Ix))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,w){1&y&&(s.j41(0,"div",0),s.DNE(1,r_,34,12,"ng-container",1),s.DNE(2,i_,35,10,"ng-container",1),s.DNE(3,s_,34,12,"ng-container",2),s.k0s(),s.DNE(4,o_,19,3,"div",3),s.nI1(5,"async")),2&y&&(s.Y8G("ngSwitch",w.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(2),s.Y8G("ngIf",s.bMT(5,4,w.isAuthenticated$)))},dependencies:[J.bT,J.ux,J.e1,J.fG,J.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return _})(),yy=(()=>{class _{constructor(l,y,w,B,ee){this.route=l,this.webContent=y,this.metaService=w,this.router=B,this.themeService=ee,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(y){return new(y||_)(s.rXU(he.nX),s.rXU(Ae.N),s.rXU(Le.R),s.rXU(he.Ix),s.rXU(Kd.F))}}static{this.\u0275cmp=s.VBU({type:_,selectors:[["app-root"]],decls:3,vars:0,template:function(y,w){1&y&&s.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[he.n3,cf,a_]})}}return _})();const Qd_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Xa=V(2214),fo=V(5407);class iu{constructor(d){return d}}class Jd{constructor(){return(0,Xa.Dk)()}}const xp=new s.nKC("angularfire2._apps"),Kg={provide:iu,useFactory:function Zd(_){return _&&1===_.length?_[0]:new iu((0,Xa.Sx)())},deps:[[new s.Xx1,xp]]},qg={provide:Jd,deps:[[new s.Xx1,xp]]};function Cl(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new iu(y)}}let Mp=(()=>{class _{constructor(l){(0,Xa.KO)("angularfire",fo.xv.full,"core"),(0,Xa.KO)("angularfire",fo.xv.full,"app"),(0,Xa.KO)("angular",s.xvI.full,l.toString())}static \u0275fac=function(y){return new(y||_)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[Kg,qg]})}return _})();function Yg(_,...d){return{ngModule:Mp,providers:[{provide:xp,useFactory:Cl(_),multi:!0,deps:[s.SKi,s.zZn,fo.u0,...d]}]}}const Ey=(0,fo.S3)(Xa.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class Il{constructor(){return(0,fo.CA)("auth")}}var C_=V(9583);class pf{constructor(d){return d}}const gf="firestore",au=new s.nKC("angularfire2.firestore-instances");function oh(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new pf(y)}}const im={provide:class My{constructor(){return(0,fo.CA)(gf)}},deps:[[new s.Xx1,au]]},Qu={provide:pf,useFactory:function I_(_,d){const l=(0,fo.lR)(gf,_,d);return l&&new pf(l)},deps:[[new s.Xx1,au],iu]};let T_=(()=>{class _{constructor(){(0,Xa.KO)("angularfire",fo.xv.full,"fst")}static \u0275fac=function(y){return new(y||_)};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[Qu,im]})}return _})();function Up(_,...d){return{ngModule:T_,providers:[{provide:au,useFactory:oh(_),multi:!0,deps:[s.SKi,s.zZn,fo.u0,Jd,[new s.Xx1,Il],[new s.Xx1,fo.Jv],...d]}]}}const jy=(0,fo.S3)(C_.aU,!0);var lm=V(9253),M_=V(8721),K0=V(1977),um=V(4535);class dm{constructor(d){return d}}const R_="storage",hm=new s.nKC("angularfire2.storage-instances");function Xy(_){return(d,l)=>{const y=d.runOutsideAngular(()=>_(l));return new dm(y)}}const Kp={provide:class O_{constructor(){return(0,fo.CA)(R_)}},deps:[[new s.Xx1,hm]]},Pl={provide:dm,useFactory:function Zr(_,d){const l=(0,fo.lR)(R_,_,d);return l&&new dm(l)},deps:[[new s.Xx1,hm],iu]};let u=(()=>{class _{constructor(){(0,Xa.KO)("angularfire",fo.xv.full,"gcs")}static \u0275fac=function(y){return new(y||_)};static \u0275mod=s.$C({type:_});static \u0275inj=s.G2t({providers:[Pl,Kp]})}return _})();function e(_,...d){return{ngModule:u,providers:[{provide:hm,useFactory:Xy(_),multi:!0,deps:[s.SKi,s.zZn,fo.u0,Jd,[new s.Xx1,Il],[new s.Xx1,fo.Jv],...d]}]}}const ie=(0,fo.S3)(um.c7,!0);var ur=V(3012);let Hr=(()=>{class _{constructor(l,y,w){this.http=l,this.themeService=y,this.businessService=w,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((y,w)=>{this.themeService.getBusinessTheme(l).subscribe({next:B=>{this.themeService.applyThemeFile(B?B.themeFileName:"default.css").then(()=>y()).catch(pe=>{console.error("Error applying theme file:",pe),y()}),this.themeService.getThemeColors(l).subscribe(pe=>{this.applyTheme(pe),y()},pe=>{console.error("Error loading theme:",pe),y()})},error:B=>{console.error("Error loading business theme:",B),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(ee=>{console.error("Error applying default theme file:",ee),y()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(Ee.Qq),s.KVO(Kd.F),s.KVO(ur.u))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var fr=V(9969);function ut(_){return new s.wOt(3e3,!1)}function Qa(_){switch(_.length){case 0:return new fr.sf;case 1:return _[0];default:return new fr.ui(_)}}function Zp(_,d,l=new Map,y=new Map){const w=[],B=[];let ee=-1,pe=null;if(d.forEach(Ne=>{const at=Ne.get("offset"),Et=at==ee,sn=Et&&pe||new Map;Ne.forEach((Kn,xn)=>{let jn=xn,On=Kn;if("offset"!==xn)switch(jn=_.normalizePropertyName(jn,w),On){case fr.FX:On=l.get(xn);break;case fr.kp:On=y.get(xn);break;default:On=_.normalizeStyleValue(xn,jn,On,w)}sn.set(jn,On)}),Et||B.push(sn),pe=sn,ee=at}),w.length)throw function Ef(_){return new s.wOt(3502,!1)}();return B}function dh(_,d,l,y){switch(d){case"start":_.onStart(()=>y(l&&Co(l,"start",_)));break;case"done":_.onDone(()=>y(l&&Co(l,"done",_)));break;case"destroy":_.onDestroy(()=>y(l&&Co(l,"destroy",_)))}}function Co(_,d,l){const B=so(_.element,_.triggerName,_.fromState,_.toState,d||_.phaseName,l.totalTime??_.totalTime,!!l.disabled),ee=_._data;return null!=ee&&(B._data=ee),B}function so(_,d,l,y,w="",B=0,ee){return{element:_,triggerName:d,fromState:l,toState:y,phaseName:w,totalTime:B,disabled:!!ee}}function oo(_,d,l){let y=_.get(d);return y||_.set(d,y=l),y}function eg(_){const d=_.indexOf(":");return[_.substring(1,d),_.slice(d+1)]}const Cf=(()=>typeof document>"u"?null:document.documentElement)();function U_(_){const d=_.parentNode||_.host||null;return d===Cf?null:d}let Ml=null,tg=!1;function Tf(_,d){for(;d;){if(d===_)return!0;d=U_(d)}return!1}function ed(_,d,l){if(l)return Array.from(_.querySelectorAll(d));const y=_.querySelector(d);return y?[y]:[]}let td=(()=>{class _{validateStyleProperty(l){return function _m(_){Ml||(Ml=function j_(){return typeof document<"u"?document.body:null}()||{},tg=!!Ml.style&&"WebkitAppearance"in Ml.style);let d=!0;return Ml.style&&!function If(_){return"ebkit"==_.substring(1,6)}(_)&&(d=_ in Ml.style,!d&&tg&&(d="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in Ml.style)),d}(l)}matchesElement(l,y){return!1}containsElement(l,y){return Tf(l,y)}getParentElement(l){return U_(l)}query(l,y,w){return ed(l,y,w)}computeStyle(l,y,w){return w||""}animate(l,y,w,B,ee,pe=[],Ne){return new fr.sf(w,B)}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})(),hh=(()=>{class _{static{this.NOOP=new td}}return _})();const ym=1e3,ph="ng-enter",wf="ng-leave",fu="ng-trigger",Af=".ng-trigger",Go="ng-animating",ng=".ng-animating";function Fa(_){if("number"==typeof _)return _;const d=_.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:nd(parseFloat(d[1]),d[2])}function nd(_,d){return"s"===d?_*ym:_}function Df(_,d,l){return _.hasOwnProperty("duration")?_:function vm(_,d,l){let w,B=0,ee="";if("string"==typeof _){const pe=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return d.push(ut()),{duration:0,delay:0,easing:""};w=nd(parseFloat(pe[1]),pe[2]);const Ne=pe[3];null!=Ne&&(B=nd(parseFloat(Ne),pe[4]));const at=pe[5];at&&(ee=at)}else w=_;if(!l){let pe=!1,Ne=d.length;w<0&&(d.push(function ke(){return new s.wOt(3100,!1)}()),pe=!0),B<0&&(d.push(function Ke(){return new s.wOt(3101,!1)}()),pe=!0),pe&&d.splice(Ne,0,ut())}return{duration:w,delay:B,easing:ee}}(_,d,l)}function Hc(_,d={}){return Object.keys(_).forEach(l=>{d[l]=_[l]}),d}function Sf(_){const d=new Map;return Object.keys(_).forEach(l=>{d.set(l,_[l])}),d}function Rl(_,d=new Map,l){if(l)for(let[y,w]of l)d.set(y,w);for(let[y,w]of _)d.set(y,w);return d}function Ja(_,d,l){d.forEach((y,w)=>{const B=ig(w);l&&!l.has(w)&&l.set(w,_.style[B]),_.style[B]=y})}function Gc(_,d){d.forEach((l,y)=>{const w=ig(y);_.style[w]=""})}function Za(_){return Array.isArray(_)?1==_.length?_[0]:(0,fr.K2)(_):_}const xf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mf(_){let d=[];if("string"==typeof _){let l;for(;l=xf.exec(_);)d.push(l[1]);xf.lastIndex=0}return d}function rd(_,d,l){const y=_.toString(),w=y.replace(xf,(B,ee)=>{let pe=d[ee];return null==pe&&(l.push(function mt(_){return new s.wOt(3003,!1)}()),pe=""),pe.toString()});return w==y?_:w}function rg(_){const d=[];let l=_.next();for(;!l.done;)d.push(l.value),l=_.next();return d}const Em=/-+([a-z0-9])/g;function ig(_){return _.replace(Em,(...d)=>d[1].toUpperCase())}function xo(_,d,l){switch(d.type){case 7:return _.visitTrigger(d,l);case 0:return _.visitState(d,l);case 1:return _.visitTransition(d,l);case 2:return _.visitSequence(d,l);case 3:return _.visitGroup(d,l);case 4:return _.visitAnimate(d,l);case 5:return _.visitKeyframes(d,l);case 6:return _.visitStyle(d,l);case 8:return _.visitReference(d,l);case 9:return _.visitAnimateChild(d,l);case 10:return _.visitAnimateRef(d,l);case 11:return _.visitQuery(d,l);case 12:return _.visitStagger(d,l);default:throw function St(_){return new s.wOt(3004,!1)}()}}function zc(_,d){return window.getComputedStyle(_)[d]}const Mo="*";function sg(_,d){const l=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(y=>function sd(_,d,l){if(":"==_[0]){const Ne=function gh(_,d){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,y)=>parseFloat(y)>parseFloat(l);case":decrement":return(l,y)=>parseFloat(y)<parseFloat(l);default:return d.push(function Zu(_){return new s.wOt(3016,!1)}()),"* => *"}}(_,l);if("function"==typeof Ne)return void d.push(Ne);_=Ne}const y=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return l.push(function Bc(_){return new s.wOt(3015,!1)}()),d;const w=y[1],B=y[2],ee=y[3];d.push(pu(w,ee));"<"==B[0]&&!(w==Mo&&ee==Mo)&&d.push(pu(ee,w))}(y,l,d)):l.push(_),l}const Nl=new Set(["true","1"]),Wc=new Set(["false","0"]);function pu(_,d){const l=Nl.has(_)||Wc.has(_),y=Nl.has(d)||Wc.has(d);return(w,B)=>{let ee=_==Mo||_==w,pe=d==Mo||d==B;return!ee&&l&&"boolean"==typeof w&&(ee=w?Nl.has(_):Wc.has(_)),!pe&&y&&"boolean"==typeof B&&(pe=B?Nl.has(d):Wc.has(d)),ee&&pe}}const ec=new RegExp("s*:selfs*,?","g");function Wo(_,d,l,y){return new kf(_).build(d,l,y)}class kf{constructor(d){this._driver=d}build(d,l,y){const w=new Ff(l);return this._resetContextStyleTimingState(w),xo(this,Za(d),w)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,l){let y=l.queryCount=0,w=l.depCount=0;const B=[],ee=[];return"@"==d.name.charAt(0)&&l.errors.push(function xl(){return new s.wOt(3006,!1)}()),d.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(l),0==pe.type){const Ne=pe,at=Ne.name;at.toString().split(/\s*,\s*/).forEach(Et=>{Ne.name=Et,B.push(this.visitState(Ne,l))}),Ne.name=at}else if(1==pe.type){const Ne=this.visitTransition(pe,l);y+=Ne.queryCount,w+=Ne.depCount,ee.push(Ne)}else l.errors.push(function yf(){return new s.wOt(3007,!1)}())}),{type:7,name:d.name,states:B,transitions:ee,queryCount:y,depCount:w,options:null}}visitState(d,l){const y=this.visitStyle(d.styles,l),w=d.options&&d.options.params||null;if(y.containsDynamicStyles){const B=new Set,ee=w||{};y.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(Ne=>{Mf(Ne).forEach(at=>{ee.hasOwnProperty(at)||B.add(at)})})}),B.size&&(rg(B.values()),l.errors.push(function Qy(_,d){return new s.wOt(3008,!1)}()))}return{type:0,name:d.name,style:y,options:w?{params:w}:null}}visitTransition(d,l){l.queryCount=0,l.depCount=0;const y=xo(this,Za(d.animation),l);return{type:1,matchers:sg(d.expr,l.errors),animation:y,queryCount:l.queryCount,depCount:l.depCount,options:gu(d.options)}}visitSequence(d,l){return{type:2,steps:d.steps.map(y=>xo(this,y,l)),options:gu(d.options)}}visitGroup(d,l){const y=l.currentTime;let w=0;const B=d.steps.map(ee=>{l.currentTime=y;const pe=xo(this,ee,l);return w=Math.max(w,l.currentTime),pe});return l.currentTime=w,{type:3,steps:B,options:gu(d.options)}}visitAnimate(d,l){const y=function _h(_,d){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return Vf(Df(_,d).duration,0,"");const l=_;if(l.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=Vf(0,0,"");return B.dynamic=!0,B.strValue=l,B}const w=Df(l,d);return Vf(w.duration,w.delay,w.easing)}(d.timings,l.errors);l.currentAnimateTimings=y;let w,B=d.styles?d.styles:(0,fr.iF)({});if(5==B.type)w=this.visitKeyframes(B,l);else{let ee=d.styles,pe=!1;if(!ee){pe=!0;const at={};y.easing&&(at.easing=y.easing),ee=(0,fr.iF)(at)}l.currentTime+=y.duration+y.delay;const Ne=this.visitStyle(ee,l);Ne.isEmptyStep=pe,w=Ne}return l.currentAnimateTimings=null,{type:4,timings:y,style:w,options:null}}visitStyle(d,l){const y=this._makeStyleAst(d,l);return this._validateStyleAst(y,l),y}_makeStyleAst(d,l){const y=[],w=Array.isArray(d.styles)?d.styles:[d.styles];for(let pe of w)"string"==typeof pe?pe===fr.kp?y.push(pe):l.errors.push(new s.wOt(3002,!1)):y.push(Sf(pe));let B=!1,ee=null;return y.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(ee=pe.get("easing"),pe.delete("easing")),!B))for(let Ne of pe.values())if(Ne.toString().indexOf("{{")>=0){B=!0;break}}),{type:6,styles:y,easing:ee,offset:d.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(d,l){const y=l.currentAnimateTimings;let w=l.currentTime,B=l.currentTime;y&&B>0&&(B-=y.duration+y.delay),d.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((pe,Ne)=>{const at=l.collectedStyles.get(l.currentQuerySelector),Et=at.get(Ne);let sn=!0;Et&&(B!=w&&B>=Et.startTime&&w<=Et.endTime&&(l.errors.push(function fm(_,d,l,y,w){return new s.wOt(3010,!1)}()),sn=!1),B=Et.startTime),sn&&at.set(Ne,{startTime:B,endTime:w}),l.options&&function B_(_,d,l){const y=d.params||{},w=Mf(_);w.length&&w.forEach(B=>{y.hasOwnProperty(B)||l.push(function ht(_){return new s.wOt(3001,!1)}())})}(pe,l.options,l.errors)})})}visitKeyframes(d,l){const y={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Yp(){return new s.wOt(3011,!1)}()),y;let B=0;const ee=[];let pe=!1,Ne=!1,at=0;const Et=d.steps.map(Wr=>{const di=this._makeStyleAst(Wr,l);let Xr=null!=di.offset?di.offset:function mh(_){if("string"==typeof _)return null;let d=null;if(Array.isArray(_))_.forEach(l=>{if(l instanceof Map&&l.has("offset")){const y=l;d=parseFloat(y.get("offset")),y.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const l=_;d=parseFloat(l.get("offset")),l.delete("offset")}return d}(di.styles),Rr=0;return null!=Xr&&(B++,Rr=di.offset=Xr),Ne=Ne||Rr<0||Rr>1,pe=pe||Rr<at,at=Rr,ee.push(Rr),di});Ne&&l.errors.push(function Jy(){return new s.wOt(3012,!1)}()),pe&&l.errors.push(function du(){return new s.wOt(3200,!1)}());const sn=d.steps.length;let Kn=0;B>0&&B<sn?l.errors.push(function Ho(){return new s.wOt(3202,!1)}()):0==B&&(Kn=1/(sn-1));const xn=sn-1,jn=l.currentTime,On=l.currentAnimateTimings,wr=On.duration;return Et.forEach((Wr,di)=>{const Xr=Kn>0?di==xn?1:Kn*di:ee[di],Rr=Xr*wr;l.currentTime=jn+On.delay+Rr,On.duration=Rr,this._validateStyleAst(Wr,l),Wr.offset=Xr,y.styles.push(Wr)}),y}visitReference(d,l){return{type:8,animation:xo(this,Za(d.animation),l),options:gu(d.options)}}visitAnimateChild(d,l){return l.depCount++,{type:9,options:gu(d.options)}}visitAnimateRef(d,l){return{type:10,animation:this.visitReference(d.animation,l),options:gu(d.options)}}visitQuery(d,l){const y=l.currentQuerySelector,w=d.options||{};l.queryCount++,l.currentQuery=d;const[B,ee]=function Cm(_){const d=!!_.split(/\s*,\s*/).find(l=>":self"==l);return d&&(_=_.replace(ec,"")),_=_.replace(/@\*/g,Af).replace(/@\w+/g,l=>Af+"-"+l.slice(1)).replace(/:animating/g,ng),[_,d]}(d.selector);l.currentQuerySelector=y.length?y+" "+B:B,oo(l.collectedStyles,l.currentQuerySelector,new Map);const pe=xo(this,Za(d.animation),l);return l.currentQuery=null,l.currentQuerySelector=y,{type:11,selector:B,limit:w.limit||0,optional:!!w.optional,includeSelf:ee,animation:pe,originalSelector:d.selector,options:gu(d.options)}}visitStagger(d,l){l.currentQuery||l.errors.push(function Zy(){return new s.wOt(3013,!1)}());const y="full"===d.timings?{duration:0,delay:0,easing:"full"}:Df(d.timings,l.errors,!0);return{type:12,animation:xo(this,Za(d.animation),l),timings:y,options:null}}}class Ff{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gu(_){return _?(_=Hc(_)).params&&(_.params=function cs(_){return _?Hc(_):null}(_.params)):_={},_}function Vf(_,d,l){return{duration:_,delay:d,easing:l}}function og(_,d,l,y,w,B,ee=null,pe=!1){return{type:1,element:_,keyframes:d,preStyleProps:l,postStyleProps:y,duration:w,delay:B,totalTime:w+B,easing:ee,subTimeline:pe}}class yh{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,l){let y=this._map.get(d);y||this._map.set(d,y=[]),y.push(...l)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const ag=new RegExp(":enter","g"),G_=new RegExp(":leave","g");function Im(_,d,l,y,w,B=new Map,ee=new Map,pe,Ne,at=[]){return(new z_).buildKeyframes(_,d,l,y,w,B,ee,pe,Ne,at)}class z_{buildKeyframes(d,l,y,w,B,ee,pe,Ne,at,Et=[]){at=at||new yh;const sn=new Tm(d,l,at,w,B,Et,[]);sn.options=Ne;const Kn=Ne.delay?Fa(Ne.delay):0;sn.currentTimeline.delayNextStep(Kn),sn.currentTimeline.setStyles([ee],null,sn.errors,Ne),xo(this,y,sn);const xn=sn.timelines.filter(jn=>jn.containsAnimation());if(xn.length&&pe.size){let jn;for(let On=xn.length-1;On>=0;On--){const wr=xn[On];if(wr.element===l){jn=wr;break}}jn&&!jn.allowOnlyTimelineStyles()&&jn.setStyles([pe],null,sn.errors,Ne)}return xn.length?xn.map(jn=>jn.buildKeyframes()):[og(l,[],[],[],0,Kn,"",!1)]}visitTrigger(d,l){}visitState(d,l){}visitTransition(d,l){}visitAnimateChild(d,l){const y=l.subInstructions.get(l.element);if(y){const w=l.createSubContext(d.options),B=l.currentTimeline.currentTime,ee=this._visitSubInstructions(y,w,w.options);B!=ee&&l.transformIntoNewTimeline(ee)}l.previousNode=d}visitAnimateRef(d,l){const y=l.createSubContext(d.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],l,y),this.visitReference(d.animation,y),l.transformIntoNewTimeline(y.currentTimeline.currentTime),l.previousNode=d}_applyAnimationRefDelays(d,l,y){for(const w of d){const B=w?.delay;if(B){const ee="number"==typeof B?B:Fa(rd(B,w?.params??{},l.errors));y.delayNextStep(ee)}}}_visitSubInstructions(d,l,y){let B=l.currentTimeline.currentTime;const ee=null!=y.duration?Fa(y.duration):null,pe=null!=y.delay?Fa(y.delay):null;return 0!==ee&&d.forEach(Ne=>{const at=l.appendInstructionToTimeline(Ne,ee,pe);B=Math.max(B,at.duration+at.delay)}),B}visitReference(d,l){l.updateOptions(d.options,!0),xo(this,d.animation,l),l.previousNode=d}visitSequence(d,l){const y=l.subContextCount;let w=l;const B=d.options;if(B&&(B.params||B.delay)&&(w=l.createSubContext(B),w.transformIntoNewTimeline(),null!=B.delay)){6==w.previousNode.type&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=_u);const ee=Fa(B.delay);w.delayNextStep(ee)}d.steps.length&&(d.steps.forEach(ee=>xo(this,ee,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>y&&w.transformIntoNewTimeline()),l.previousNode=d}visitGroup(d,l){const y=[];let w=l.currentTimeline.currentTime;const B=d.options&&d.options.delay?Fa(d.options.delay):0;d.steps.forEach(ee=>{const pe=l.createSubContext(d.options);B&&pe.delayNextStep(B),xo(this,ee,pe),w=Math.max(w,pe.currentTimeline.currentTime),y.push(pe.currentTimeline)}),y.forEach(ee=>l.currentTimeline.mergeTimelineCollectedStyles(ee)),l.transformIntoNewTimeline(w),l.previousNode=d}_visitTiming(d,l){if(d.dynamic){const y=d.strValue;return Df(l.params?rd(y,l.params,l.errors):y,l.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,l){const y=l.currentAnimateTimings=this._visitTiming(d.timings,l),w=l.currentTimeline;y.delay&&(l.incrementTime(y.delay),w.snapshotCurrentStyles());const B=d.style;5==B.type?this.visitKeyframes(B,l):(l.incrementTime(y.duration),this.visitStyle(B,l),w.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=d}visitStyle(d,l){const y=l.currentTimeline,w=l.currentAnimateTimings;!w&&y.hasCurrentStyleProperties()&&y.forwardFrame();const B=w&&w.easing||d.easing;d.isEmptyStep?y.applyEmptyStep(B):y.setStyles(d.styles,B,l.errors,l.options),l.previousNode=d}visitKeyframes(d,l){const y=l.currentAnimateTimings,w=l.currentTimeline.duration,B=y.duration,pe=l.createSubContext().currentTimeline;pe.easing=y.easing,d.styles.forEach(Ne=>{pe.forwardTime((Ne.offset||0)*B),pe.setStyles(Ne.styles,Ne.easing,l.errors,l.options),pe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(pe),l.transformIntoNewTimeline(w+B),l.previousNode=d}visitQuery(d,l){const y=l.currentTimeline.currentTime,w=d.options||{},B=w.delay?Fa(w.delay):0;B&&(6===l.previousNode.type||0==y&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=_u);let ee=y;const pe=l.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!w.optional,l.errors);l.currentQueryTotal=pe.length;let Ne=null;pe.forEach((at,Et)=>{l.currentQueryIndex=Et;const sn=l.createSubContext(d.options,at);B&&sn.delayNextStep(B),at===l.element&&(Ne=sn.currentTimeline),xo(this,d.animation,sn),sn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,sn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ee),Ne&&(l.currentTimeline.mergeTimelineCollectedStyles(Ne),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=d}visitStagger(d,l){const y=l.parentContext,w=l.currentTimeline,B=d.timings,ee=Math.abs(B.duration),pe=ee*(l.currentQueryTotal-1);let Ne=ee*l.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":Ne=pe-Ne;break;case"full":Ne=y.currentStaggerTime}const Et=l.currentTimeline;Ne&&Et.delayNextStep(Ne);const sn=Et.currentTime;xo(this,d.animation,l),l.previousNode=d,y.currentStaggerTime=w.currentTime-sn+(w.startTime-y.currentTimeline.startTime)}}const _u={};class Tm{constructor(d,l,y,w,B,ee,pe,Ne){this._driver=d,this.element=l,this.subInstructions=y,this._enterClassName=w,this._leaveClassName=B,this.errors=ee,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_u,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new cg(this._driver,l,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,l){if(!d)return;const y=d;let w=this.options;null!=y.duration&&(w.duration=Fa(y.duration)),null!=y.delay&&(w.delay=Fa(y.delay));const B=y.params;if(B){let ee=w.params;ee||(ee=this.options.params={}),Object.keys(B).forEach(pe=>{(!l||!ee.hasOwnProperty(pe))&&(ee[pe]=rd(B[pe],ee,this.errors))})}}_copyOptions(){const d={};if(this.options){const l=this.options.params;if(l){const y=d.params={};Object.keys(l).forEach(w=>{y[w]=l[w]})}}return d}createSubContext(d=null,l,y){const w=l||this.element,B=new Tm(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,y||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(d),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(d){return this.previousNode=_u,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,l,y){const w={duration:l??d.duration,delay:this.currentTimeline.currentTime+(y??0)+d.delay,easing:""},B=new sv(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,w,d.stretchStartingKeyframe);return this.timelines.push(B),w}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,l,y,w,B,ee){let pe=[];if(w&&pe.push(this.element),d.length>0){d=(d=d.replace(ag,"."+this._enterClassName)).replace(G_,"."+this._leaveClassName);let at=this._driver.query(this.element,d,1!=y);0!==y&&(at=y<0?at.slice(at.length+y,at.length):at.slice(0,y)),pe.push(...at)}return!B&&0==pe.length&&ee.push(function vf(_){return new s.wOt(3014,!1)}()),pe}}class cg{constructor(d,l,y,w){this._driver=d,this.element=l,this.startTime=y,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+d),l&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,l){return this.applyStylesToKeyframe(),new cg(this._driver,d,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,l){this._localTimelineStyles.set(d,l),this._globalTimelineStyles.set(d,l),this._styleSummary.set(d,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[l,y]of this._globalTimelineStyles)this._backFill.set(l,y||fr.kp),this._currentKeyframe.set(l,fr.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,l,y,w){l&&this._previousKeyframe.set("easing",l);const B=w&&w.params||{},ee=function Lf(_,d){const l=new Map;let y;return _.forEach(w=>{if("*"===w){y=y||d.keys();for(let B of y)l.set(B,fr.kp)}else Rl(w,l)}),l}(d,this._globalTimelineStyles);for(let[pe,Ne]of ee){const at=rd(Ne,B,y);this._pendingStyles.set(pe,at),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??fr.kp),this._updateStyle(pe,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,l)=>{this._currentKeyframe.set(l,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,d)}))}snapshotCurrentStyles(){for(let[d,l]of this._localTimelineStyles)this._pendingStyles.set(d,l),this._updateStyle(d,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let l in this._currentKeyframe)d.push(l);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((l,y)=>{const w=this._styleSummary.get(y);(!w||l.time>w.time)&&this._updateStyle(y,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,l=new Set,y=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((pe,Ne)=>{const at=Rl(pe,new Map,this._backFill);at.forEach((Et,sn)=>{Et===fr.FX?d.add(sn):Et===fr.kp&&l.add(sn)}),y||at.set("offset",Ne/this.duration),w.push(at)});const B=d.size?rg(d.values()):[],ee=l.size?rg(l.values()):[];if(y){const pe=w[0],Ne=new Map(pe);pe.set("offset",0),Ne.set("offset",1),w=[pe,Ne]}return og(this.element,w,B,ee,this.duration,this.startTime,this.easing,!1)}}class sv extends cg{constructor(d,l,y,w,B,ee,pe=!1){super(d,l,ee.delay),this.keyframes=y,this.preStyleProps=w,this.postStyleProps=B,this._stretchStartingKeyframe=pe,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:l,duration:y,easing:w}=this.timings;if(this._stretchStartingKeyframe&&l){const B=[],ee=y+l,pe=l/ee,Ne=Rl(d[0]);Ne.set("offset",0),B.push(Ne);const at=Rl(d[0]);at.set("offset",_c(pe)),B.push(at);const Et=d.length-1;for(let sn=1;sn<=Et;sn++){let Kn=Rl(d[sn]);const xn=Kn.get("offset");Kn.set("offset",_c((l+xn*y)/ee)),B.push(Kn)}y=ee,l=0,w="",d=B}return og(this.element,d,this.preStyleProps,this.postStyleProps,y,l,w,!0)}}function _c(_,d=3){const l=Math.pow(10,d-1);return Math.round(_*l)/l}class qc{}const vh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Eh extends qc{normalizePropertyName(d,l){return ig(d)}normalizeStyleValue(d,l,y,w){let B="";const ee=y.toString().trim();if(vh.has(l)&&0!==y&&"0"!==y)if("number"==typeof y)B="px";else{const pe=y.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&w.push(function ze(_,d){return new s.wOt(3005,!1)}())}return ee+B}}function bh(_,d,l,y,w,B,ee,pe,Ne,at,Et,sn,Kn){return{type:0,element:_,triggerName:d,isRemovalTransition:w,fromState:l,fromStyles:B,toState:y,toStyles:ee,timelines:pe,queriedElements:Ne,preStyleProps:at,postStyleProps:Et,totalTime:sn,errors:Kn}}const yu={};class ug{constructor(d,l,y){this._triggerName=d,this.ast=l,this._stateStyles=y}match(d,l,y,w){return function ov(_,d,l,y,w){return _.some(B=>B(d,l,y,w))}(this.ast.matchers,d,l,y,w)}buildStyles(d,l,y){let w=this._stateStyles.get("*");return void 0!==d&&(w=this._stateStyles.get(d?.toString())||w),w?w.buildStyles(l,y):new Map}build(d,l,y,w,B,ee,pe,Ne,at,Et){const sn=[],Kn=this.ast.options&&this.ast.options.params||yu,jn=this.buildStyles(y,pe&&pe.params||yu,sn),On=Ne&&Ne.params||yu,wr=this.buildStyles(w,On,sn),Wr=new Set,di=new Map,Xr=new Map,Rr="void"===w,Ui={params:av(On,Kn),delay:this.ast.options?.delay},Gr=Et?[]:Im(d,l,this.ast.animation,B,ee,jn,wr,Ui,at,sn);let zr=0;if(Gr.forEach(is=>{zr=Math.max(is.duration+is.delay,zr)}),sn.length)return bh(l,this._triggerName,y,w,Rr,jn,wr,[],[],di,Xr,zr,sn);Gr.forEach(is=>{const es=is.element,No=oo(di,es,new Set);is.preStyleProps.forEach(Ws=>No.add(Ws));const ca=oo(Xr,es,new Set);is.postStyleProps.forEach(Ws=>ca.add(Ws)),es!==l&&Wr.add(es)});const Ni=rg(Wr.values());return bh(l,this._triggerName,y,w,Rr,jn,wr,Gr,Ni,di,Xr,zr)}}function av(_,d){const l=Hc(d);for(const y in _)_.hasOwnProperty(y)&&null!=_[y]&&(l[y]=_[y]);return l}class dg{constructor(d,l,y){this.styles=d,this.defaultParams=l,this.normalizer=y}buildStyles(d,l){const y=new Map,w=Hc(this.defaultParams);return Object.keys(d).forEach(B=>{const ee=d[B];null!==ee&&(w[B]=ee)}),this.styles.styles.forEach(B=>{"string"!=typeof B&&B.forEach((ee,pe)=>{ee&&(ee=rd(ee,w,l));const Ne=this.normalizer.normalizePropertyName(pe,l);ee=this.normalizer.normalizeStyleValue(pe,Ne,ee,l),y.set(pe,ee)})}),y}}class jf{constructor(d,l,y){this.name=d,this.ast=l,this._normalizer=y,this.transitionFactories=[],this.states=new Map,l.states.forEach(w=>{this.states.set(w.name,new dg(w.style,w.options&&w.options.params||{},y))}),Am(this.states,"true","1"),Am(this.states,"false","0"),l.transitions.forEach(w=>{this.transitionFactories.push(new ug(d,w,this.states))}),this.fallbackTransition=function wm(_,d,l){return new ug(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,pe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,l,y,w){return this.transitionFactories.find(ee=>ee.match(d,l,y,w))||null}matchStyles(d,l,y){return this.fallbackTransition.buildStyles(d,l,y)}}function Am(_,d,l){_.has(d)?_.has(l)||_.set(l,_.get(d)):_.has(l)&&_.set(d,_.get(l))}const kl=new yh;class hg{constructor(d,l,y){this.bodyNode=d,this._driver=l,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,l){const y=[],B=Wo(this._driver,l,y,[]);if(y.length)throw function Qp(_){return new s.wOt(3503,!1)}();this._animations.set(d,B)}_buildPlayer(d,l,y){const w=d.element,B=Zp(this._normalizer,d.keyframes,l,y);return this._driver.animate(w,B,d.duration,d.delay,d.easing,[],!0)}create(d,l,y={}){const w=[],B=this._animations.get(d);let ee;const pe=new Map;if(B?(ee=Im(this._driver,l,B,ph,wf,new Map,new Map,y,kl,w),ee.forEach(Et=>{const sn=oo(pe,Et.element,new Map);Et.postStyleProps.forEach(Kn=>sn.set(Kn,null))})):(w.push(function uh(){return new s.wOt(3300,!1)}()),ee=[]),w.length)throw function bf(_){return new s.wOt(3504,!1)}();pe.forEach((Et,sn)=>{Et.forEach((Kn,xn)=>{Et.set(xn,this._driver.computeStyle(sn,xn,fr.kp))})});const at=Qa(ee.map(Et=>{const sn=pe.get(Et.element);return this._buildPlayer(Et,new Map,sn)}));return this._playersById.set(d,at),at.onDestroy(()=>this.destroy(d)),this.players.push(at),at}destroy(d){const l=this._getPlayer(d);l.destroy(),this._playersById.delete(d);const y=this.players.indexOf(l);y>=0&&this.players.splice(y,1)}_getPlayer(d){const l=this._playersById.get(d);if(!l)throw function F_(_){return new s.wOt(3301,!1)}();return l}listen(d,l,y,w){const B=so(l,"","","");return dh(this._getPlayer(d),y,B,w),()=>{}}command(d,l,y,w){if("register"==y)return void this.register(d,w[0]);if("create"==y)return void this.create(d,l,w[0]||{});const B=this._getPlayer(d);switch(y){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(d)}}}const K_="ng-animate-queued",fg="ng-animate-disabled",$f=[],q_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},aa="__ng_removed";class Hf{get params(){return this.options.params}constructor(d,l=""){this.namespaceId=l;const y=d&&d.hasOwnProperty("value");if(this.value=function xm(_){return _??null}(y?d.value:d),y){const B=Hc(d);delete B.value,this.options=B}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const l=d.params;if(l){const y=this.options.params;Object.keys(l).forEach(w=>{null==y[w]&&(y[w]=l[w])})}}}const vu="void",ad=new Hf(vu);class Pm{constructor(d,l,y){this.id=d,this.hostElement=l,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Ro(l,this._hostClassName)}listen(d,l,y,w){if(!this._triggers.has(l))throw function pm(_,d){return new s.wOt(3302,!1)}();if(null==y||0==y.length)throw function gm(_){return new s.wOt(3303,!1)}();if(!function X_(_){return"start"==_||"done"==_}(y))throw function V_(_,d){return new s.wOt(3400,!1)}();const B=oo(this._elementListeners,d,[]),ee={name:l,phase:y,callback:w};B.push(ee);const pe=oo(this._engine.statesByElement,d,new Map);return pe.has(l)||(Ro(d,fu),Ro(d,fu+"-"+l),pe.set(l,ad)),()=>{this._engine.afterFlush(()=>{const Ne=B.indexOf(ee);Ne>=0&&B.splice(Ne,1),this._triggers.has(l)||pe.delete(l)})}}register(d,l){return!this._triggers.has(d)&&(this._triggers.set(d,l),!0)}_getTrigger(d){const l=this._triggers.get(d);if(!l)throw function mm(_){return new s.wOt(3401,!1)}();return l}trigger(d,l,y,w=!0){const B=this._getTrigger(l),ee=new Fl(this.id,l,d);let pe=this._engine.statesByElement.get(d);pe||(Ro(d,fu),Ro(d,fu+"-"+l),this._engine.statesByElement.set(d,pe=new Map));let Ne=pe.get(l);const at=new Hf(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&Ne&&at.absorbOptions(Ne.options),pe.set(l,at),Ne||(Ne=ad),at.value!==vu&&Ne.value===at.value){if(!function E(_,d){const l=Object.keys(_),y=Object.keys(d);if(l.length!=y.length)return!1;for(let w=0;w<l.length;w++){const B=l[w];if(!d.hasOwnProperty(B)||_[B]!==d[B])return!1}return!0}(Ne.params,at.params)){const On=[],wr=B.matchStyles(Ne.value,Ne.params,On),Wr=B.matchStyles(at.value,at.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{Gc(d,wr),Ja(d,Wr)})}return}const Kn=oo(this._engine.playersByElement,d,[]);Kn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==l&&On.queued&&On.destroy()});let xn=B.matchTransition(Ne.value,at.value,d,at.params),jn=!1;if(!xn){if(!w)return;xn=B.fallbackTransition,jn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:l,transition:xn,fromState:Ne,toState:at,player:ee,isFallbackTransition:jn}),jn||(Ro(d,K_),ee.onStart(()=>{po(d,K_)})),ee.onDone(()=>{let On=this.players.indexOf(ee);On>=0&&this.players.splice(On,1);const wr=this._engine.playersByElement.get(d);if(wr){let Wr=wr.indexOf(ee);Wr>=0&&wr.splice(Wr,1)}}),this.players.push(ee),Kn.push(ee),ee}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(l=>l.delete(d)),this._elementListeners.forEach((l,y)=>{this._elementListeners.set(y,l.filter(w=>w.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const l=this._engine.playersByElement.get(d);l&&(l.forEach(y=>y.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,l){const y=this._engine.driver.query(d,Af,!0);y.forEach(w=>{if(w[aa])return;const B=this._engine.fetchNamespacesByElement(w);B.size?B.forEach(ee=>ee.triggerLeaveAnimation(w,l,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(d,l,y,w){const B=this._engine.statesByElement.get(d),ee=new Map;if(B){const pe=[];if(B.forEach((Ne,at)=>{if(ee.set(at,Ne.value),this._triggers.has(at)){const Et=this.trigger(d,at,vu,w);Et&&pe.push(Et)}}),pe.length)return this._engine.markElementAsRemoved(this.id,d,!0,l,ee),y&&Qa(pe).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const l=this._elementListeners.get(d),y=this._engine.statesByElement.get(d);if(l&&y){const w=new Set;l.forEach(B=>{const ee=B.name;if(w.has(ee))return;w.add(ee);const Ne=this._triggers.get(ee).fallbackTransition,at=y.get(ee)||ad,Et=new Hf(vu),sn=new Fl(this.id,ee,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ee,transition:Ne,fromState:at,toState:Et,player:sn,isFallbackTransition:!0})})}}removeNode(d,l){const y=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,l),this.triggerLeaveAnimation(d,l,!0))return;let w=!1;if(y.totalAnimations){const B=y.players.length?y.playersByQueriedElement.get(d):[];if(B&&B.length)w=!0;else{let ee=d;for(;ee=ee.parentNode;)if(y.statesByElement.get(ee)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(d),w)y.markElementAsRemoved(this.id,d,!1,l);else{const B=d[aa];(!B||B===q_)&&(y.afterFlush(()=>this.clearElementCache(d)),y.destroyInnerAnimations(d),y._onRemovalComplete(d,l))}}insertNode(d,l){Ro(d,this._hostClassName)}drainQueuedTransitions(d){const l=[];return this._queue.forEach(y=>{const w=y.player;if(w.destroyed)return;const B=y.element,ee=this._elementListeners.get(B);ee&&ee.forEach(pe=>{if(pe.name==y.triggerName){const Ne=so(B,y.triggerName,y.fromState.value,y.toState.value);Ne._data=d,dh(y.player,pe.phase,Ne,pe.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):l.push(y)}),this._queue=[],l.sort((y,w)=>{const B=y.transition.ast.depCount,ee=w.transition.ast.depCount;return 0==B||0==ee?B-ee:this._engine.driver.containsElement(y.element,w.element)?1:-1})}destroy(d){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class Gf{_onRemovalComplete(d,l){this.onRemovalComplete(d,l)}constructor(d,l,y){this.bodyNode=d,this.driver=l,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(w,B)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(l=>{l.players.forEach(y=>{y.queued&&d.push(y)})}),d}createNamespace(d,l){const y=new Pm(d,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(y,l):(this.newHostElements.set(l,y),this.collectEnterElement(l)),this._namespaceLookup[d]=y}_balanceNamespaceList(d,l){const y=this._namespaceList,w=this.namespacesByHostElement;if(y.length-1>=0){let ee=!1,pe=this.driver.getParentElement(l);for(;pe;){const Ne=w.get(pe);if(Ne){const at=y.indexOf(Ne);y.splice(at+1,0,d),ee=!0;break}pe=this.driver.getParentElement(pe)}ee||y.unshift(d)}else y.push(d);return w.set(l,d),d}register(d,l){let y=this._namespaceLookup[d];return y||(y=this.createNamespace(d,l)),y}registerTrigger(d,l,y){let w=this._namespaceLookup[d];w&&w.register(l,y)&&this.totalAnimations++}destroy(d,l){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(d);this.namespacesByHostElement.delete(y.hostElement);const w=this._namespaceList.indexOf(y);w>=0&&this._namespaceList.splice(w,1),y.destroy(l),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const l=new Set,y=this.statesByElement.get(d);if(y)for(let w of y.values())if(w.namespaceId){const B=this._fetchNamespace(w.namespaceId);B&&l.add(B)}return l}trigger(d,l,y,w){if(Yc(l)){const B=this._fetchNamespace(d);if(B)return B.trigger(l,y,w),!0}return!1}insertNode(d,l,y,w){if(!Yc(l))return;const B=l[aa];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(l);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(d){const ee=this._fetchNamespace(d);ee&&ee.insertNode(l,y)}w&&this.collectEnterElement(l)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,l){l?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Ro(d,fg)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),po(d,fg))}removeNode(d,l,y){if(Yc(l)){const w=d?this._fetchNamespace(d):null;w?w.removeNode(l,y):this.markElementAsRemoved(d,l,!1,y);const B=this.namespacesByHostElement.get(l);B&&B.id!==d&&B.removeNode(l,y)}else this._onRemovalComplete(l,y)}markElementAsRemoved(d,l,y,w,B){this.collectedLeaveElements.push(l),l[aa]={namespaceId:d,setForRemoval:w,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:B}}listen(d,l,y,w,B){return Yc(l)?this._fetchNamespace(d).listen(l,y,w,B):()=>{}}_buildInstruction(d,l,y,w,B){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,y,w,d.fromState.options,d.toState.options,l,B)}destroyInnerAnimations(d){let l=this.driver.query(d,Af,!0);l.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(d,ng,!0),l.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(d){const l=this.playersByElement.get(d);l&&l.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(d){const l=this.playersByQueriedElement.get(d);l&&l.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return Qa(this.players).onDone(()=>d());d()})}processLeaveNode(d){const l=d[aa];if(l&&l.setForRemoval){if(d[aa]=q_,l.namespaceId){this.destroyInnerAnimations(d);const y=this._fetchNamespace(l.namespaceId);y&&y.clearElementCache(d)}this._onRemovalComplete(d,l.setForRemoval)}d.classList?.contains(fg)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(d=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,w)=>this._balanceNamespaceList(y,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Ro(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{l=this._flushAnimations(y,d)}finally{for(let w=0;w<y.length;w++)y[w]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],l.length?Qa(l).onDone(()=>{y.forEach(w=>w())}):y.forEach(w=>w())}}reportError(d){throw function Jp(_){return new s.wOt(3402,!1)}()}_flushAnimations(d,l){const y=new yh,w=[],B=new Map,ee=[],pe=new Map,Ne=new Map,at=new Map,Et=new Set;this.disabledNodes.forEach(Bn=>{Et.add(Bn);const rr=this.driver.query(Bn,".ng-animate-queued",!0);for(let Pr=0;Pr<rr.length;Pr++)Et.add(rr[Pr])});const sn=this.bodyNode,Kn=Array.from(this.statesByElement.keys()),xn=Th(Kn,this.collectedEnterElements),jn=new Map;let On=0;xn.forEach((Bn,rr)=>{const Pr=ph+On++;jn.set(rr,Pr),Bn.forEach(Ei=>Ro(Ei,Pr))});const wr=[],Wr=new Set,di=new Set;for(let Bn=0;Bn<this.collectedLeaveElements.length;Bn++){const rr=this.collectedLeaveElements[Bn],Pr=rr[aa];Pr&&Pr.setForRemoval&&(wr.push(rr),Wr.add(rr),Pr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(Ei=>Wr.add(Ei)):di.add(rr))}const Xr=new Map,Rr=Th(Kn,Array.from(Wr));Rr.forEach((Bn,rr)=>{const Pr=wf+On++;Xr.set(rr,Pr),Bn.forEach(Ei=>Ro(Ei,Pr))}),d.push(()=>{xn.forEach((Bn,rr)=>{const Pr=jn.get(rr);Bn.forEach(Ei=>po(Ei,Pr))}),Rr.forEach((Bn,rr)=>{const Pr=Xr.get(rr);Bn.forEach(Ei=>po(Ei,Pr))}),wr.forEach(Bn=>{this.processLeaveNode(Bn)})});const Ui=[],Gr=[];for(let Bn=this._namespaceList.length-1;Bn>=0;Bn--)this._namespaceList[Bn].drainQueuedTransitions(l).forEach(Pr=>{const Ei=Pr.player,Ks=Pr.element;if(Ui.push(Ei),this.collectedEnterElements.length){const ao=Ks[aa];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(Pr.triggerName)){const La=ao.previousTriggersValues.get(Pr.triggerName),Ta=this.statesByElement.get(Pr.element);if(Ta&&Ta.has(Pr.triggerName)){const Dh=Ta.get(Pr.triggerName);Dh.value=La,Ta.set(Pr.triggerName,Dh)}}return void Ei.destroy()}}const Va=!sn||!this.driver.containsElement(sn,Ks),To=Xr.get(Ks),Ia=jn.get(Ks),ts=this._buildInstruction(Pr,y,Ia,To,Va);if(ts.errors&&ts.errors.length)return void Gr.push(ts);if(Va)return Ei.onStart(()=>Gc(Ks,ts.fromStyles)),Ei.onDestroy(()=>Ja(Ks,ts.toStyles)),void w.push(Ei);if(Pr.isFallbackTransition)return Ei.onStart(()=>Gc(Ks,ts.fromStyles)),Ei.onDestroy(()=>Ja(Ks,ts.toStyles)),void w.push(Ei);const Qc=[];ts.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||Qc.push(ao)}),ts.timelines=Qc,y.append(Ks,ts.timelines),ee.push({instruction:ts,player:Ei,element:Ks}),ts.queriedElements.forEach(ao=>oo(pe,ao,[]).push(Ei)),ts.preStyleProps.forEach((ao,La)=>{if(ao.size){let Ta=Ne.get(La);Ta||Ne.set(La,Ta=new Set),ao.forEach((Dh,Cu)=>Ta.add(Cu))}}),ts.postStyleProps.forEach((ao,La)=>{let Ta=at.get(La);Ta||at.set(La,Ta=new Set),ao.forEach((Dh,Cu)=>Ta.add(Cu))})});if(Gr.length){const Bn=[];Gr.forEach(rr=>{Bn.push(function L_(_,d){return new s.wOt(3505,!1)}())}),Ui.forEach(rr=>rr.destroy()),this.reportError(Bn)}const zr=new Map,Ni=new Map;ee.forEach(Bn=>{const rr=Bn.element;y.has(rr)&&(Ni.set(rr,rr),this._beforeAnimationBuild(Bn.player.namespaceId,Bn.instruction,zr))}),w.forEach(Bn=>{const rr=Bn.element;this._getPreviousPlayers(rr,!1,Bn.namespaceId,Bn.triggerName,null).forEach(Ei=>{oo(zr,rr,[]).push(Ei),Ei.destroy()})});const is=wr.filter(Bn=>U(Bn,Ne,at)),es=new Map;Ih(es,this.driver,di,at,fr.kp).forEach(Bn=>{U(Bn,Ne,at)&&is.push(Bn)});const ca=new Map;xn.forEach((Bn,rr)=>{Ih(ca,this.driver,new Set(Bn),Ne,fr.FX)}),is.forEach(Bn=>{const rr=es.get(Bn),Pr=ca.get(Bn);es.set(Bn,new Map([...rr?.entries()??[],...Pr?.entries()??[]]))});const Ws=[],bu=[],Xc={};ee.forEach(Bn=>{const{element:rr,player:Pr,instruction:Ei}=Bn;if(y.has(rr)){if(Et.has(rr))return Pr.onDestroy(()=>Ja(rr,Ei.toStyles)),Pr.disabled=!0,Pr.overrideTotalTime(Ei.totalTime),void w.push(Pr);let Ks=Xc;if(Ni.size>1){let To=rr;const Ia=[];for(;To=To.parentNode;){const ts=Ni.get(To);if(ts){Ks=ts;break}Ia.push(To)}Ia.forEach(ts=>Ni.set(ts,Ks))}const Va=this._buildAnimation(Pr.namespaceId,Ei,zr,B,ca,es);if(Pr.setRealPlayer(Va),Ks===Xc)Ws.push(Pr);else{const To=this.playersByElement.get(Ks);To&&To.length&&(Pr.parentPlayer=Qa(To)),w.push(Pr)}}else Gc(rr,Ei.fromStyles),Pr.onDestroy(()=>Ja(rr,Ei.toStyles)),bu.push(Pr),Et.has(rr)&&w.push(Pr)}),bu.forEach(Bn=>{const rr=B.get(Bn.element);if(rr&&rr.length){const Pr=Qa(rr);Bn.setRealPlayer(Pr)}}),w.forEach(Bn=>{Bn.parentPlayer?Bn.syncPlayerEvents(Bn.parentPlayer):Bn.destroy()});for(let Bn=0;Bn<wr.length;Bn++){const rr=wr[Bn],Pr=rr[aa];if(po(rr,wf),Pr&&Pr.hasAnimation)continue;let Ei=[];if(pe.size){let Va=pe.get(rr);Va&&Va.length&&Ei.push(...Va);let To=this.driver.query(rr,ng,!0);for(let Ia=0;Ia<To.length;Ia++){let ts=pe.get(To[Ia]);ts&&ts.length&&Ei.push(...ts)}}const Ks=Ei.filter(Va=>!Va.destroyed);Ks.length?Q_(this,rr,Ks):this.processLeaveNode(rr)}return wr.length=0,Ws.forEach(Bn=>{this.players.push(Bn),Bn.onDone(()=>{Bn.destroy();const rr=this.players.indexOf(Bn);this.players.splice(rr,1)}),Bn.play()}),Ws}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,l,y,w,B){let ee=[];if(l){const pe=this.playersByQueriedElement.get(d);pe&&(ee=pe)}else{const pe=this.playersByElement.get(d);if(pe){const Ne=!B||B==vu;pe.forEach(at=>{at.queued||!Ne&&at.triggerName!=w||ee.push(at)})}}return(y||w)&&(ee=ee.filter(pe=>!(y&&y!=pe.namespaceId||w&&w!=pe.triggerName))),ee}_beforeAnimationBuild(d,l,y){const B=l.element,ee=l.isRemovalTransition?void 0:d,pe=l.isRemovalTransition?void 0:l.triggerName;for(const Ne of l.timelines){const at=Ne.element,Et=at!==B,sn=oo(y,at,[]);this._getPreviousPlayers(at,Et,ee,pe,l.toState).forEach(xn=>{const jn=xn.getRealPlayer();jn.beforeDestroy&&jn.beforeDestroy(),xn.destroy(),sn.push(xn)})}Gc(B,l.fromStyles)}_buildAnimation(d,l,y,w,B,ee){const pe=l.triggerName,Ne=l.element,at=[],Et=new Set,sn=new Set,Kn=l.timelines.map(jn=>{const On=jn.element;Et.add(On);const wr=On[aa];if(wr&&wr.removedBeforeQueried)return new fr.sf(jn.duration,jn.delay);const Wr=On!==Ne,di=function J_(_){const d=[];return Eu(_,d),d}((y.get(On)||$f).map(zr=>zr.getRealPlayer())).filter(zr=>!!zr.element&&zr.element===On),Xr=B.get(On),Rr=ee.get(On),Ui=Zp(this._normalizer,jn.keyframes,Xr,Rr),Gr=this._buildPlayer(jn,Ui,di);if(jn.subTimeline&&w&&sn.add(On),Wr){const zr=new Fl(d,pe,On);zr.setRealPlayer(Gr),at.push(zr)}return Gr});at.forEach(jn=>{oo(this.playersByQueriedElement,jn.element,[]).push(jn),jn.onDone(()=>function pg(_,d,l){let y=_.get(d);if(y){if(y.length){const w=y.indexOf(l);y.splice(w,1)}0==y.length&&_.delete(d)}return y}(this.playersByQueriedElement,jn.element,jn))}),Et.forEach(jn=>Ro(jn,Go));const xn=Qa(Kn);return xn.onDestroy(()=>{Et.forEach(jn=>po(jn,Go)),Ja(Ne,l.toStyles)}),sn.forEach(jn=>{oo(w,jn,[]).push(xn)}),xn}_buildPlayer(d,l,y){return l.length>0?this.driver.animate(d.element,l,d.duration,d.delay,d.easing,y):new fr.sf(d.duration,d.delay)}}class Fl{constructor(d,l,y){this.namespaceId=d,this.triggerName=l,this.element=y,this._player=new fr.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((l,y)=>{l.forEach(w=>dh(d,y,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const l=this._player;l.triggerCallback&&d.onStart(()=>l.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,l){oo(this._queuedCallbacks,d,[]).push(l)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const l=this._player;l.triggerCallback&&l.triggerCallback(d)}}function Yc(_){return _&&1===_.nodeType}function Mm(_,d){const l=_.style.display;return _.style.display=d??"none",l}function Ih(_,d,l,y,w){const B=[];l.forEach(Ne=>B.push(Mm(Ne)));const ee=[];y.forEach((Ne,at)=>{const Et=new Map;Ne.forEach(sn=>{const Kn=d.computeStyle(at,sn,w);Et.set(sn,Kn),(!Kn||0==Kn.length)&&(at[aa]=Y_,ee.push(at))}),_.set(at,Et)});let pe=0;return l.forEach(Ne=>Mm(Ne,B[pe++])),ee}function Th(_,d){const l=new Map;if(_.forEach(pe=>l.set(pe,[])),0==d.length)return l;const w=new Set(d),B=new Map;function ee(pe){if(!pe)return 1;let Ne=B.get(pe);if(Ne)return Ne;const at=pe.parentNode;return Ne=l.has(at)?at:w.has(at)?1:ee(at),B.set(pe,Ne),Ne}return d.forEach(pe=>{const Ne=ee(pe);1!==Ne&&l.get(Ne).push(pe)}),l}function Ro(_,d){_.classList?.add(d)}function po(_,d){_.classList?.remove(d)}function Q_(_,d,l){Qa(l).onDone(()=>_.processLeaveNode(d))}function Eu(_,d){for(let l=0;l<_.length;l++){const y=_[l];y instanceof fr.ui?Eu(y.players,d):d.push(y)}}function U(_,d,l){const y=l.get(_);if(!y)return!1;let w=d.get(_);return w?y.forEach(B=>w.add(B)):d.set(_,y),l.delete(_),!0}class K{constructor(d,l,y){this.bodyNode=d,this._driver=l,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(w,B)=>{},this._transitionEngine=new Gf(d,l,y),this._timelineEngine=new hg(d,l,y),this._transitionEngine.onRemovalComplete=(w,B)=>this.onRemovalComplete(w,B)}registerTrigger(d,l,y,w,B){const ee=d+"-"+w;let pe=this._triggerCache[ee];if(!pe){const Ne=[],Et=Wo(this._driver,B,Ne,[]);if(Ne.length)throw function Xp(_,d){return new s.wOt(3404,!1)}();pe=function Uf(_,d,l){return new jf(_,d,l)}(w,Et,this._normalizer),this._triggerCache[ee]=pe}this._transitionEngine.registerTrigger(l,w,pe)}register(d,l){this._transitionEngine.register(d,l)}destroy(d,l){this._transitionEngine.destroy(d,l)}onInsert(d,l,y,w){this._transitionEngine.insertNode(d,l,y,w)}onRemove(d,l,y){this._transitionEngine.removeNode(d,l,y)}disableAnimations(d,l){this._transitionEngine.markElementAsDisabled(d,l)}process(d,l,y,w){if("@"==y.charAt(0)){const[B,ee]=eg(y);this._timelineEngine.command(B,l,ee,w)}else this._transitionEngine.trigger(d,l,y,w)}listen(d,l,y,w,B){if("@"==y.charAt(0)){const[ee,pe]=eg(y);return this._timelineEngine.listen(ee,l,pe,B)}return this._transitionEngine.listen(d,l,y,w,B)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let yt=(()=>{class _{static{this.initialStylesByElement=new WeakMap}constructor(l,y,w){this._element=l,this._startStyles=y,this._endStyles=w,this._state=0;let B=_.initialStylesByElement.get(l);B||_.initialStylesByElement.set(l,B=new Map),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&Ja(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ja(this._element,this._initialStyles),this._endStyles&&(Ja(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(Gc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gc(this._element,this._endStyles),this._endStyles=null),Ja(this._element,this._initialStyles),this._state=3)}}return _})();function Ft(_){let d=null;return _.forEach((l,y)=>{(function Nn(_){return"display"===_||"position"===_})(y)&&(d=d||new Map,d.set(y,l))}),d}class Zi{constructor(d,l,y,w){this.element=d,this.keyframes=l,this.options=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const l=[];return d.forEach(y=>{l.push(Object.fromEntries(y))}),l}_triggerWebAnimation(d,l,y){return d.animate(this._convertKeyframesToObject(l),y)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,w)=>{"offset"!==w&&d.set(w,this._finished?y:zc(this.element,w))}),this.currentSnapshot=d}triggerCallback(d){const l="start"===d?this._onStartFns:this._onDoneFns;l.forEach(y=>y()),l.length=0}}class Io{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,l){return!1}containsElement(d,l){return Tf(d,l)}getParentElement(d){return U_(d)}query(d,l,y){return ed(d,l,y)}computeStyle(d,l,y){return window.getComputedStyle(d)[l]}animate(d,l,y,w,B,ee=[]){const Ne={duration:y,delay:w,fill:0==w?"both":"forwards"};B&&(Ne.easing=B);const at=new Map,Et=ee.filter(xn=>xn instanceof Zi);(function Rf(_,d){return 0===_||0===d})(y,w)&&Et.forEach(xn=>{xn.currentSnapshot.forEach((jn,On)=>at.set(On,jn))});let sn=function rv(_){return _.length?_[0]instanceof Map?_:_.map(d=>Sf(d)):[]}(l).map(xn=>Rl(xn));sn=function bm(_,d,l){if(l.size&&d.length){let y=d[0],w=[];if(l.forEach((B,ee)=>{y.has(ee)||w.push(ee),y.set(ee,B)}),w.length)for(let B=1;B<d.length;B++){let ee=d[B];w.forEach(pe=>ee.set(pe,zc(_,pe)))}}return d}(d,sn,at);const Kn=function me(_,d){let l=null,y=null;return Array.isArray(d)&&d.length?(l=Ft(d[0]),d.length>1&&(y=Ft(d[d.length-1]))):d instanceof Map&&(l=Ft(d)),l||y?new yt(_,l,y):null}(d,sn);return new Zi(d,sn,Ne,Kn)}}let $i=(()=>{class _ extends fr.S6{constructor(l,y){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(y.body,{id:"0",encapsulation:s.gXe.None,styles:[],data:{animation:[]}})}build(l){const y=this._nextAnimationId.toString();this._nextAnimationId++;const w=Array.isArray(l)?(0,fr.K2)(l):l;return Vl(this._renderer,null,y,"register",[w]),new Ko(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(s._9s),s.KVO(J.qQ))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})();class Ko extends fr.Ro{constructor(d,l){super(),this._id=d,this._renderer=l}create(d,l){return new qo(this._id,d,l||{},this._renderer)}}class qo{constructor(d,l,y,w){this.id=d,this.element=l,this._renderer=w,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(d,l){return this._renderer.listen(this.element,`@@${this.id}:${d}`,l)}_command(d,...l){return Vl(this._renderer,this.element,this.id,d,l)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vl(_,d,l,y,w){return _.setProperty(d,`@@${l}:${y}`,w)}const wh="@.disabled";let gg=(()=>{class _{constructor(l,y,w){this.delegate=l,this.engine=y,this._zone=w,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(B,ee)=>{const pe=ee?.parentNode(B);pe&&ee.removeChild(pe,B)}}createRenderer(l,y){const B=this.delegate.createRenderer(l,y);if(!(l&&y&&y.data&&y.data.animation)){let Et=this._rendererCache.get(B);return Et||(Et=new cv("",B,this.engine,()=>this._rendererCache.delete(B)),this._rendererCache.set(B,Et)),Et}const ee=y.id,pe=y.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,l);const Ne=Et=>{Array.isArray(Et)?Et.forEach(Ne):this.engine.registerTrigger(ee,pe,l,Et.name,Et)};return y.data.animation.forEach(Ne),new c0(this,pe,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,y,w){l>=0&&l<this._microtaskId?this._zone.run(()=>y(w)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(B=>{const[ee,pe]=B;ee(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,w]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(s._9s),s.KVO(K),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})();class cv{constructor(d,l,y,w){this.namespaceId=d,this.delegate=l,this.engine=y,this._onDestroy=w}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,l){return this.delegate.createElement(d,l)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,l){this.delegate.appendChild(d,l),this.engine.onInsert(this.namespaceId,l,d,!1)}insertBefore(d,l,y,w=!0){this.delegate.insertBefore(d,l,y),this.engine.onInsert(this.namespaceId,l,d,w)}removeChild(d,l,y){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(d,l){return this.delegate.selectRootElement(d,l)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,l,y,w){this.delegate.setAttribute(d,l,y,w)}removeAttribute(d,l,y){this.delegate.removeAttribute(d,l,y)}addClass(d,l){this.delegate.addClass(d,l)}removeClass(d,l){this.delegate.removeClass(d,l)}setStyle(d,l,y,w){this.delegate.setStyle(d,l,y,w)}removeStyle(d,l,y){this.delegate.removeStyle(d,l,y)}setProperty(d,l,y){"@"==l.charAt(0)&&l==wh?this.disableAnimations(d,!!y):this.delegate.setProperty(d,l,y)}setValue(d,l){this.delegate.setValue(d,l)}listen(d,l,y){return this.delegate.listen(d,l,y)}disableAnimations(d,l){this.engine.disableAnimations(d,l)}}class c0 extends cv{constructor(d,l,y,w,B){super(l,y,w,B),this.factory=d,this.namespaceId=l}setProperty(d,l,y){"@"==l.charAt(0)?"."==l.charAt(1)&&l==wh?this.disableAnimations(d,y=void 0===y||!!y):this.engine.process(this.namespaceId,d,l.slice(1),y):this.delegate.setProperty(d,l,y)}listen(d,l,y){if("@"==l.charAt(0)){const w=function l0(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(d);let B=l.slice(1),ee="";return"@"!=B.charAt(0)&&([B,ee]=function u0(_){const d=_.indexOf(".");return[_.substring(0,d),_.slice(d+1)]}(B)),this.engine.listen(this.namespaceId,w,B,ee,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,y,pe)})}return this.delegate.listen(d,l,y)}}const cd=[{provide:fr.S6,useClass:$i},{provide:qc,useFactory:function h0(){return new Eh}},{provide:K,useClass:(()=>{class _ extends K{constructor(l,y,w,B){super(l.body,y,w)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||_)(s.KVO(J.qQ),s.KVO(hh),s.KVO(qc),s.KVO(s.o8S))}}static{this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}}return _})()},{provide:s._9s,useFactory:function Z_(_,d,l){return new gg(_,d,l)},deps:[ue.B7,K,s.SKi]}],lv=[{provide:hh,useFactory:()=>new Io},{provide:s.bc$,useValue:"BrowserAnimations"},...cd],f0=[{provide:hh,useClass:td},{provide:s.bc$,useValue:"NoopAnimations"},...cd];let uv=(()=>{class _{static withConfig(l){return{ngModule:_,providers:l.disableAnimations?f0:lv}}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_})}static{this.\u0275inj=s.G2t({providers:lv,imports:[ue.Bb]})}}return _})();const Rm={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function VE(_,d,l){return()=>{const y=window.location.hostname,w=new URL(window.location.href);let B=Rm[y]||w.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+B+" - hostname: "+y),_.loadTheme(B)}}function LE(_,d,l){const y=window.location.hostname,w=new URL(window.location.href);let B=Rm[y]||w.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+B+" - hostname: "+y),()=>{_.loadBusinessData(B).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(ee=>{console.error("Error loading business data:",ee)})}}let q0=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275mod=s.$C({type:_,bootstrap:[yy]})}static{this.\u0275inj=s.G2t({providers:[{provide:s.hnV,useFactory:VE,deps:[Hr,J.aZ,he.Ix],multi:!0},{provide:s.hnV,useFactory:LE,deps:[Ue.A,J.aZ,he.Ix],multi:!0}],imports:[ue.Bb,he.iI,Jm,vl.cM,M_.y5,K0.X8,lm.bf.initializeApp(Qd_firebase),Yg(()=>Ey(Qd_firebase)),Up(()=>jy()),e(()=>ie()),yi.X1,yi.YN,Ee.q1,uv]})}}return _})();ue.sG().bootstrapModule(q0).catch(_=>console.error(_))},4412:(mn,Ze,V)=>{V.d(Ze,{t:()=>ue});var o=V(1413);class ue extends o.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const he=super._subscribe(Ee);return!he.closed&&Ee.next(this._value),he}getValue(){const{hasError:Ee,thrownError:he,_value:we}=this;if(Ee)throw he;return this._throwIfClosed(),we}next(Ee){super.next(this._value=Ee)}}},1985:(mn,Ze,V)=>{V.d(Ze,{c:()=>Le});var o=V(7707),ue=V(8359),s=V(3494),Ee=V(1203),he=V(1026),we=V(8071),Ae=V(9786);let Le=(()=>{class xe{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Nt=new xe;return Nt.source=this,Nt.operator=nt,Nt}subscribe(nt,Nt,Mt){const Gt=function de(xe){return xe&&xe instanceof o.vU||function J(xe){return xe&&(0,we.T)(xe.next)&&(0,we.T)(xe.error)&&(0,we.T)(xe.complete)}(xe)&&(0,ue.Uv)(xe)}(nt)?nt:new o.Ms(nt,Nt,Mt);return(0,Ae.Y)(()=>{const{operator:Lt,source:yn}=this;Gt.add(Lt?Lt.call(Gt,yn):yn?this._subscribe(Gt):this._trySubscribe(Gt))}),Gt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Nt){nt.error(Nt)}}forEach(nt,Nt){return new(Nt=Ue(Nt))((Mt,Gt)=>{const Lt=new o.Ms({next:yn=>{try{nt(yn)}catch(Ge){Gt(Ge),Lt.unsubscribe()}},error:Gt,complete:Mt});this.subscribe(Lt)})}_subscribe(nt){var Nt;return null===(Nt=this.source)||void 0===Nt?void 0:Nt.subscribe(nt)}[s.s](){return this}pipe(...nt){return(0,Ee.m)(nt)(this)}toPromise(nt){return new(nt=Ue(nt))((Nt,Mt)=>{let Gt;this.subscribe(Lt=>Gt=Lt,Lt=>Mt(Lt),()=>Nt(Gt))})}}return xe.create=dt=>new xe(dt),xe})();function Ue(xe){var dt;return null!==(dt=xe??he.$.Promise)&&void 0!==dt?dt:Promise}},1413:(mn,Ze,V)=>{V.d(Ze,{B:()=>Ae});var o=V(1985),ue=V(8359);const Ee=(0,V(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=V(7908),we=V(9786);let Ae=(()=>{class Ue extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const xe=new Le(this,this);return xe.operator=de,xe}_throwIfClosed(){if(this.closed)throw new Ee}next(de){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(de)}})}error(de){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:xe}=this;for(;xe.length;)xe.shift().error(de)}})}complete(){(0,we.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:xe,isStopped:dt,observers:nt}=this;return xe||dt?ue.Kn:(this.currentObservers=null,nt.push(de),new ue.yU(()=>{this.currentObservers=null,(0,he.o)(nt,de)}))}_checkFinalizedStatuses(de){const{hasError:xe,thrownError:dt,isStopped:nt}=this;xe?de.error(dt):nt&&de.complete()}asObservable(){const de=new o.c;return de.source=this,de}}return Ue.create=(J,de)=>new Le(J,de),Ue})();class Le extends Ae{constructor(J,de){super(),this.destination=J,this.source=de}next(J){var de,xe;null===(xe=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===xe||xe.call(de,J)}error(J){var de,xe;null===(xe=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===xe||xe.call(de,J)}complete(){var J,de;null===(de=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===de||de.call(J)}_subscribe(J){var de,xe;return null!==(xe=null===(de=this.source)||void 0===de?void 0:de.subscribe(J))&&void 0!==xe?xe:ue.Kn}}},7707:(mn,Ze,V)=>{V.d(Ze,{Ms:()=>Mt,vU:()=>xe});var o=V(8071),ue=V(8359),s=V(1026),Ee=V(5334),he=V(5343);const we=Ue("C",void 0,void 0);function Ue(_e,it,et){return{kind:_e,value:it,error:et}}var J=V(9270),de=V(9786);class xe extends ue.yU{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,ue.Uv)(it)&&it.add(this)):this.destination=Ge}static create(it,et,lt){return new Mt(it,et,lt)}next(it){this.isStopped?yn(function Le(_e){return Ue("N",_e,void 0)}(it),this):this._next(it)}error(it){this.isStopped?yn(function Ae(_e){return Ue("E",void 0,_e)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?yn(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function nt(_e,it){return dt.call(_e,it)}class Nt{constructor(it){this.partialObserver=it}next(it){const{partialObserver:et}=this;if(et.next)try{et.next(it)}catch(lt){Gt(lt)}}error(it){const{partialObserver:et}=this;if(et.error)try{et.error(it)}catch(lt){Gt(lt)}else Gt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(et){Gt(et)}}}class Mt extends xe{constructor(it,et,lt){let Ot;if(super(),(0,o.T)(it)||!it)Ot={next:it??void 0,error:et??void 0,complete:lt??void 0};else{let Ut;this&&s.$.useDeprecatedNextContext?(Ut=Object.create(it),Ut.unsubscribe=()=>this.unsubscribe(),Ot={next:it.next&&nt(it.next,Ut),error:it.error&&nt(it.error,Ut),complete:it.complete&&nt(it.complete,Ut)}):Ot=it}this.destination=new Nt(Ot)}}function Gt(_e){s.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(_e):(0,Ee.m)(_e)}function yn(_e,it){const{onStoppedNotification:et}=s.$;et&&J.f.setTimeout(()=>et(_e,it))}const Ge={closed:!0,next:he.l,error:function Lt(_e){throw _e},complete:he.l}},8359:(mn,Ze,V)=>{V.d(Ze,{Kn:()=>we,yU:()=>he,Uv:()=>Ae});var o=V(8071);const s=(0,V(1853).L)(Ue=>function(de){Ue(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((xe,dt)=>`${dt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ee=V(7908);class he{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const nt of de)nt.remove(this);else de.remove(this);const{initialTeardown:xe}=this;if((0,o.T)(xe))try{xe()}catch(nt){J=nt instanceof s?nt.errors:[nt]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const nt of dt)try{Le(nt)}catch(Nt){J=J??[],Nt instanceof s?J=[...J,...Nt.errors]:J.push(Nt)}}if(J)throw new s(J)}}add(J){var de;if(J&&J!==this)if(this.closed)Le(J);else{if(J instanceof he){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(J)}}_hasParent(J){const{_parentage:de}=this;return de===J||Array.isArray(de)&&de.includes(J)}_addParent(J){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(J),de):de?[de,J]:J}_removeParent(J){const{_parentage:de}=this;de===J?this._parentage=null:Array.isArray(de)&&(0,Ee.o)(de,J)}remove(J){const{_finalizers:de}=this;de&&(0,Ee.o)(de,J),J instanceof he&&J._removeParent(this)}}he.EMPTY=(()=>{const Ue=new he;return Ue.closed=!0,Ue})();const we=he.EMPTY;function Ae(Ue){return Ue instanceof he||Ue&&"closed"in Ue&&(0,o.T)(Ue.remove)&&(0,o.T)(Ue.add)&&(0,o.T)(Ue.unsubscribe)}function Le(Ue){(0,o.T)(Ue)?Ue():Ue.unsubscribe()}},1026:(mn,Ze,V)=>{V.d(Ze,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(mn,Ze,V)=>{V.d(Ze,{x:()=>he});var o=V(6365),s=V(3794),Ee=V(8455);function he(...we){return function ue(){return(0,o.U)(1)}()((0,Ee.H)(we,(0,s.lI)(we)))}},983:(mn,Ze,V)=>{V.d(Ze,{w:()=>ue});const ue=new(V(1985).c)(he=>he.complete())},8455:(mn,Ze,V)=>{V.d(Ze,{H:()=>it});var o=V(8750),ue=V(941),s=V(6745),we=V(1985),Le=V(4761),Ue=V(8071),J=V(5225);function xe(et,lt){if(!et)throw new Error("Iterable cannot be null");return new we.c(Ot=>{(0,J.N)(Ot,lt,()=>{const Ut=et[Symbol.asyncIterator]();(0,J.N)(Ot,lt,()=>{Ut.next().then(Ie=>{Ie.done?Ot.complete():Ot.next(Ie.value)})},0,!0)})})}var dt=V(5055),nt=V(9858),Nt=V(7441),Mt=V(5397),Gt=V(7953),Lt=V(591),yn=V(5196);function it(et,lt){return lt?function _e(et,lt){if(null!=et){if((0,dt.l)(et))return function Ee(et,lt){return(0,o.Tg)(et).pipe((0,s._)(lt),(0,ue.Q)(lt))}(et,lt);if((0,Nt.X)(et))return function Ae(et,lt){return new we.c(Ot=>{let Ut=0;return lt.schedule(function(){Ut===et.length?Ot.complete():(Ot.next(et[Ut++]),Ot.closed||this.schedule())})})}(et,lt);if((0,nt.y)(et))return function he(et,lt){return(0,o.Tg)(et).pipe((0,s._)(lt),(0,ue.Q)(lt))}(et,lt);if((0,Gt.T)(et))return xe(et,lt);if((0,Mt.x)(et))return function de(et,lt){return new we.c(Ot=>{let Ut;return(0,J.N)(Ot,lt,()=>{Ut=et[Le.l](),(0,J.N)(Ot,lt,()=>{let Ie,cn;try{({value:Ie,done:cn}=Ut.next())}catch(In){return void Ot.error(In)}cn?Ot.complete():Ot.next(Ie)},0,!0)}),()=>(0,Ue.T)(Ut?.return)&&Ut.return()})}(et,lt);if((0,yn.U)(et))return function Ge(et,lt){return xe((0,yn.C)(et),lt)}(et,lt)}throw(0,Lt.L)(et)}(et,lt):(0,o.Tg)(et)}},8750:(mn,Ze,V)=>{V.d(Ze,{Tg:()=>dt});var o=V(1635),ue=V(7441),s=V(9858),Ee=V(1985),he=V(5055),we=V(7953),Ae=V(591),Le=V(5397),Ue=V(5196),J=V(8071),de=V(5334),xe=V(3494);function dt(_e){if(_e instanceof Ee.c)return _e;if(null!=_e){if((0,he.l)(_e))return function nt(_e){return new Ee.c(it=>{const et=_e[xe.s]();if((0,J.T)(et.subscribe))return et.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,ue.X)(_e))return function Nt(_e){return new Ee.c(it=>{for(let et=0;et<_e.length&&!it.closed;et++)it.next(_e[et]);it.complete()})}(_e);if((0,s.y)(_e))return function Mt(_e){return new Ee.c(it=>{_e.then(et=>{it.closed||(it.next(et),it.complete())},et=>it.error(et)).then(null,de.m)})}(_e);if((0,we.T)(_e))return Lt(_e);if((0,Le.x)(_e))return function Gt(_e){return new Ee.c(it=>{for(const et of _e)if(it.next(et),it.closed)return;it.complete()})}(_e);if((0,Ue.U)(_e))return function yn(_e){return Lt((0,Ue.C)(_e))}(_e)}throw(0,Ae.L)(_e)}function Lt(_e){return new Ee.c(it=>{(function Ge(_e,it){var et,lt,Ot,Ut;return(0,o.sH)(this,void 0,void 0,function*(){try{for(et=(0,o.xN)(_e);!(lt=yield et.next()).done;)if(it.next(lt.value),it.closed)return}catch(Ie){Ot={error:Ie}}finally{try{lt&&!lt.done&&(Ut=et.return)&&(yield Ut.call(et))}finally{if(Ot)throw Ot.error}}it.complete()})})(_e,it).catch(et=>it.error(et))})}},7786:(mn,Ze,V)=>{V.d(Ze,{h:()=>we});var o=V(6365),ue=V(8750),s=V(983),Ee=V(3794),he=V(8455);function we(...Ae){const Le=(0,Ee.lI)(Ae),Ue=(0,Ee.R0)(Ae,1/0),J=Ae;return J.length?1===J.length?(0,ue.Tg)(J[0]):(0,o.U)(Ue)((0,he.H)(J,Le)):s.w}},7673:(mn,Ze,V)=>{V.d(Ze,{of:()=>s});var o=V(3794),ue=V(8455);function s(...Ee){const he=(0,o.lI)(Ee);return(0,ue.H)(Ee,he)}},8810:(mn,Ze,V)=>{V.d(Ze,{$:()=>s});var o=V(1985),ue=V(8071);function s(Ee,he){const we=(0,ue.T)(Ee)?Ee:()=>Ee,Ae=Le=>Le.error(we());return new o.c(he?Le=>he.schedule(Ae,0,Le):Ae)}},4360:(mn,Ze,V)=>{V.d(Ze,{_:()=>ue});var o=V(7707);function ue(Ee,he,we,Ae,Le){return new s(Ee,he,we,Ae,Le)}class s extends o.vU{constructor(he,we,Ae,Le,Ue,J){super(he),this.onFinalize=Ue,this.shouldUnsubscribe=J,this._next=we?function(de){try{we(de)}catch(xe){he.error(xe)}}:super._next,this._error=Le?function(de){try{Le(de)}catch(xe){he.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(de){he.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(mn,Ze,V)=>{V.d(Ze,{W:()=>Ee});var o=V(8750),ue=V(4360),s=V(9974);function Ee(he){return(0,s.N)((we,Ae)=>{let J,Le=null,Ue=!1;Le=we.subscribe((0,ue._)(Ae,void 0,void 0,de=>{J=(0,o.Tg)(he(de,Ee(he)(we))),Le?(Le.unsubscribe(),Le=null,J.subscribe(Ae)):Ue=!0})),Ue&&(Le.unsubscribe(),Le=null,J.subscribe(Ae))})}},274:(mn,Ze,V)=>{V.d(Ze,{H:()=>s});var o=V(1397),ue=V(8071);function s(Ee,he){return(0,ue.T)(he)?(0,o.Z)(Ee,he,1):(0,o.Z)(Ee,1)}},9901:(mn,Ze,V)=>{V.d(Ze,{U:()=>s});var o=V(9974),ue=V(4360);function s(Ee){return(0,o.N)((he,we)=>{let Ae=!1;he.subscribe((0,ue._)(we,Le=>{Ae=!0,we.next(Le)},()=>{Ae||we.next(Ee),we.complete()}))})}},3294:(mn,Ze,V)=>{V.d(Ze,{F:()=>Ee});var o=V(3669),ue=V(9974),s=V(4360);function Ee(we,Ae=o.D){return we=we??he,(0,ue.N)((Le,Ue)=>{let J,de=!0;Le.subscribe((0,s._)(Ue,xe=>{const dt=Ae(xe);(de||!we(J,dt))&&(de=!1,J=dt,Ue.next(xe))}))})}function he(we,Ae){return we===Ae}},5964:(mn,Ze,V)=>{V.d(Ze,{p:()=>s});var o=V(9974),ue=V(4360);function s(Ee,he){return(0,o.N)((we,Ae)=>{let Le=0;we.subscribe((0,ue._)(Ae,Ue=>Ee.call(he,Ue,Le++)&&Ae.next(Ue)))})}},980:(mn,Ze,V)=>{V.d(Ze,{j:()=>ue});var o=V(9974);function ue(s){return(0,o.N)((Ee,he)=>{try{Ee.subscribe(he)}finally{he.add(s)}})}},1594:(mn,Ze,V)=>{V.d(Ze,{$:()=>Ae});var o=V(9350),ue=V(5964),s=V(6697),Ee=V(9901),he=V(3774),we=V(3669);function Ae(Le,Ue){const J=arguments.length>=2;return de=>de.pipe(Le?(0,ue.p)((xe,dt)=>Le(xe,dt,de)):we.D,(0,s.s)(1),J?(0,Ee.U)(Ue):(0,he.v)(()=>new o.G))}},6354:(mn,Ze,V)=>{V.d(Ze,{T:()=>s});var o=V(9974),ue=V(4360);function s(Ee,he){return(0,o.N)((we,Ae)=>{let Le=0;we.subscribe((0,ue._)(Ae,Ue=>{Ae.next(Ee.call(he,Ue,Le++))}))})}},6365:(mn,Ze,V)=>{V.d(Ze,{U:()=>s});var o=V(1397),ue=V(3669);function s(Ee=1/0){return(0,o.Z)(ue.D,Ee)}},1397:(mn,Ze,V)=>{V.d(Ze,{Z:()=>Le});var o=V(6354),ue=V(8750),s=V(9974),Ee=V(5225),he=V(4360),Ae=V(8071);function Le(Ue,J,de=1/0){return(0,Ae.T)(J)?Le((xe,dt)=>(0,o.T)((nt,Nt)=>J(xe,nt,dt,Nt))((0,ue.Tg)(Ue(xe,dt))),de):("number"==typeof J&&(de=J),(0,s.N)((xe,dt)=>function we(Ue,J,de,xe,dt,nt,Nt,Mt){const Gt=[];let Lt=0,yn=0,Ge=!1;const _e=()=>{Ge&&!Gt.length&&!Lt&&J.complete()},it=lt=>Lt<xe?et(lt):Gt.push(lt),et=lt=>{nt&&J.next(lt),Lt++;let Ot=!1;(0,ue.Tg)(de(lt,yn++)).subscribe((0,he._)(J,Ut=>{dt?.(Ut),nt?it(Ut):J.next(Ut)},()=>{Ot=!0},void 0,()=>{if(Ot)try{for(Lt--;Gt.length&&Lt<xe;){const Ut=Gt.shift();Nt?(0,Ee.N)(J,Nt,()=>et(Ut)):et(Ut)}_e()}catch(Ut){J.error(Ut)}}))};return Ue.subscribe((0,he._)(J,it,()=>{Ge=!0,_e()})),()=>{Mt?.()}}(xe,dt,Ue,de)))}},941:(mn,Ze,V)=>{V.d(Ze,{Q:()=>Ee});var o=V(5225),ue=V(9974),s=V(4360);function Ee(he,we=0){return(0,ue.N)((Ae,Le)=>{Ae.subscribe((0,s._)(Le,Ue=>(0,o.N)(Le,he,()=>Le.next(Ue),we),()=>(0,o.N)(Le,he,()=>Le.complete(),we),Ue=>(0,o.N)(Le,he,()=>Le.error(Ue),we)))})}},2816:(mn,Ze,V)=>{V.d(Ze,{S:()=>Ee});var o=V(9974),ue=V(4360);function Ee(he,we){return(0,o.N)(function s(he,we,Ae,Le,Ue){return(J,de)=>{let xe=Ae,dt=we,nt=0;J.subscribe((0,ue._)(de,Nt=>{const Mt=nt++;dt=xe?he(dt,Nt,Mt):(xe=!0,Nt),Le&&de.next(dt)},Ue&&(()=>{xe&&de.next(dt),de.complete()})))}}(he,we,arguments.length>=2,!0))}},7647:(mn,Ze,V)=>{V.d(Ze,{u:()=>he});var o=V(8750),ue=V(1413),s=V(7707),Ee=V(9974);function he(Ae={}){const{connector:Le=(()=>new ue.B),resetOnError:Ue=!0,resetOnComplete:J=!0,resetOnRefCountZero:de=!0}=Ae;return xe=>{let dt,nt,Nt,Mt=0,Gt=!1,Lt=!1;const yn=()=>{nt?.unsubscribe(),nt=void 0},Ge=()=>{yn(),dt=Nt=void 0,Gt=Lt=!1},_e=()=>{const it=dt;Ge(),it?.unsubscribe()};return(0,Ee.N)((it,et)=>{Mt++,!Lt&&!Gt&&yn();const lt=Nt=Nt??Le();et.add(()=>{Mt--,0===Mt&&!Lt&&!Gt&&(nt=we(_e,de))}),lt.subscribe(et),!dt&&Mt>0&&(dt=new s.Ms({next:Ot=>lt.next(Ot),error:Ot=>{Lt=!0,yn(),nt=we(Ge,Ue,Ot),lt.error(Ot)},complete:()=>{Gt=!0,yn(),nt=we(Ge,J),lt.complete()}}),(0,o.Tg)(it).subscribe(dt))})(xe)}}function we(Ae,Le,...Ue){if(!0===Le)return void Ae();if(!1===Le)return;const J=new s.Ms({next:()=>{J.unsubscribe(),Ae()}});return(0,o.Tg)(Le(...Ue)).subscribe(J)}},9172:(mn,Ze,V)=>{V.d(Ze,{Z:()=>Ee});var o=V(8793),ue=V(3794),s=V(9974);function Ee(...he){const we=(0,ue.lI)(he);return(0,s.N)((Ae,Le)=>{(we?(0,o.x)(he,Ae,we):(0,o.x)(he,Ae)).subscribe(Le)})}},6745:(mn,Ze,V)=>{V.d(Ze,{_:()=>ue});var o=V(9974);function ue(s,Ee=0){return(0,o.N)((he,we)=>{we.add(s.schedule(()=>he.subscribe(we),Ee))})}},5558:(mn,Ze,V)=>{V.d(Ze,{n:()=>Ee});var o=V(8750),ue=V(9974),s=V(4360);function Ee(he,we){return(0,ue.N)((Ae,Le)=>{let Ue=null,J=0,de=!1;const xe=()=>de&&!Ue&&Le.complete();Ae.subscribe((0,s._)(Le,dt=>{Ue?.unsubscribe();let nt=0;const Nt=J++;(0,o.Tg)(he(dt,Nt)).subscribe(Ue=(0,s._)(Le,Mt=>Le.next(we?we(dt,Mt,Nt,nt++):Mt),()=>{Ue=null,xe()}))},()=>{de=!0,xe()}))})}},6697:(mn,Ze,V)=>{V.d(Ze,{s:()=>Ee});var o=V(983),ue=V(9974),s=V(4360);function Ee(he){return he<=0?()=>o.w:(0,ue.N)((we,Ae)=>{let Le=0;we.subscribe((0,s._)(Ae,Ue=>{++Le<=he&&(Ae.next(Ue),he<=Le&&Ae.complete())}))})}},8141:(mn,Ze,V)=>{V.d(Ze,{M:()=>he});var o=V(8071),ue=V(9974),s=V(4360),Ee=V(3669);function he(we,Ae,Le){const Ue=(0,o.T)(we)||Ae||Le?{next:we,error:Ae,complete:Le}:we;return Ue?(0,ue.N)((J,de)=>{var xe;null===(xe=Ue.subscribe)||void 0===xe||xe.call(Ue);let dt=!0;J.subscribe((0,s._)(de,nt=>{var Nt;null===(Nt=Ue.next)||void 0===Nt||Nt.call(Ue,nt),de.next(nt)},()=>{var nt;dt=!1,null===(nt=Ue.complete)||void 0===nt||nt.call(Ue),de.complete()},nt=>{var Nt;dt=!1,null===(Nt=Ue.error)||void 0===Nt||Nt.call(Ue,nt),de.error(nt)},()=>{var nt,Nt;dt&&(null===(nt=Ue.unsubscribe)||void 0===nt||nt.call(Ue)),null===(Nt=Ue.finalize)||void 0===Nt||Nt.call(Ue)}))}):Ee.D}},3774:(mn,Ze,V)=>{V.d(Ze,{v:()=>Ee});var o=V(9350),ue=V(9974),s=V(4360);function Ee(we=he){return(0,ue.N)((Ae,Le)=>{let Ue=!1;Ae.subscribe((0,s._)(Le,J=>{Ue=!0,Le.next(J)},()=>Ue?Le.complete():Le.error(we())))})}function he(){return new o.G}},6780:(mn,Ze,V)=>{V.d(Ze,{R:()=>he});var o=V(8359);class ue extends o.yU{constructor(Ae,Le){super()}schedule(Ae,Le=0){return this}}const s={setInterval(we,Ae,...Le){const{delegate:Ue}=s;return Ue?.setInterval?Ue.setInterval(we,Ae,...Le):setInterval(we,Ae,...Le)},clearInterval(we){const{delegate:Ae}=s;return(Ae?.clearInterval||clearInterval)(we)},delegate:void 0};var Ee=V(7908);class he extends ue{constructor(Ae,Le){super(Ae,Le),this.scheduler=Ae,this.work=Le,this.pending=!1}schedule(Ae,Le=0){var Ue;if(this.closed)return this;this.state=Ae;const J=this.id,de=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(de,J,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(de,this.id,Le),this}requestAsyncId(Ae,Le,Ue=0){return s.setInterval(Ae.flush.bind(Ae,this),Ue)}recycleAsyncId(Ae,Le,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Le;null!=Le&&s.clearInterval(Le)}execute(Ae,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Ae,Le);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Le){let J,Ue=!1;try{this.work(Ae)}catch(de){Ue=!0,J=de||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Le}=this,{actions:Ue}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.o)(Ue,this),null!=Ae&&(this.id=this.recycleAsyncId(Le,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(mn,Ze,V)=>{V.d(Ze,{q:()=>s});var o=V(6129);class ue{constructor(he,we=ue.now){this.schedulerActionCtor=he,this.now=we}schedule(he,we=0,Ae){return new this.schedulerActionCtor(this,he).schedule(Ae,we)}}ue.now=o.U.now;class s extends ue{constructor(he,we=ue.now){super(he,we),this.actions=[],this._active=!1}flush(he){const{actions:we}=this;if(this._active)return void we.push(he);let Ae;this._active=!0;do{if(Ae=he.execute(he.state,he.delay))break}while(he=we.shift());if(this._active=!1,Ae){for(;he=we.shift();)he.unsubscribe();throw Ae}}}},3236:(mn,Ze,V)=>{V.d(Ze,{E:()=>s});var o=V(6780);const s=new(V(9687).q)(o.R)},6129:(mn,Ze,V)=>{V.d(Ze,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(mn,Ze,V)=>{V.d(Ze,{f:()=>o});const o={setTimeout(ue,s,...Ee){const{delegate:he}=o;return he?.setTimeout?he.setTimeout(ue,s,...Ee):setTimeout(ue,s,...Ee)},clearTimeout(ue){const{delegate:s}=o;return(s?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(mn,Ze,V)=>{V.d(Ze,{l:()=>ue});const ue=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(mn,Ze,V)=>{V.d(Ze,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(mn,Ze,V)=>{V.d(Ze,{G:()=>ue});const ue=(0,V(1853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(mn,Ze,V)=>{V.d(Ze,{R0:()=>we,ms:()=>Ee,lI:()=>he});var o=V(8071);function s(Ae){return Ae[Ae.length-1]}function Ee(Ae){return(0,o.T)(s(Ae))?Ae.pop():void 0}function he(Ae){return function ue(Ae){return Ae&&(0,o.T)(Ae.schedule)}(s(Ae))?Ae.pop():void 0}function we(Ae,Le){return"number"==typeof s(Ae)?Ae.pop():Le}},3073:(mn,Ze,V)=>{V.d(Ze,{D:()=>he});const{isArray:o}=Array,{getPrototypeOf:ue,prototype:s,keys:Ee}=Object;function he(Ae){if(1===Ae.length){const Le=Ae[0];if(o(Le))return{args:Le,keys:null};if(function we(Ae){return Ae&&"object"==typeof Ae&&ue(Ae)===s}(Le)){const Ue=Ee(Le);return{args:Ue.map(J=>Le[J]),keys:Ue}}}return{args:Ae,keys:null}}},7908:(mn,Ze,V)=>{function o(ue,s){if(ue){const Ee=ue.indexOf(s);0<=Ee&&ue.splice(Ee,1)}}V.d(Ze,{o:()=>o})},1853:(mn,Ze,V)=>{function o(ue){const Ee=ue(he=>{Error.call(he),he.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}V.d(Ze,{L:()=>o})},8496:(mn,Ze,V)=>{function o(ue,s){return ue.reduce((Ee,he,we)=>(Ee[he]=s[we],Ee),{})}V.d(Ze,{e:()=>o})},9786:(mn,Ze,V)=>{V.d(Ze,{Y:()=>s,l:()=>Ee});var o=V(1026);let ue=null;function s(he){if(o.$.useDeprecatedSynchronousErrorHandling){const we=!ue;if(we&&(ue={errorThrown:!1,error:null}),he(),we){const{errorThrown:Ae,error:Le}=ue;if(ue=null,Ae)throw Le}}else he()}function Ee(he){o.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=he)}},5225:(mn,Ze,V)=>{function o(ue,s,Ee,he=0,we=!1){const Ae=s.schedule(function(){Ee(),we?ue.add(this.schedule(null,he)):this.unsubscribe()},he);if(ue.add(Ae),!we)return Ae}V.d(Ze,{N:()=>o})},3669:(mn,Ze,V)=>{function o(ue){return ue}V.d(Ze,{D:()=>o})},7441:(mn,Ze,V)=>{V.d(Ze,{X:()=>o});const o=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(mn,Ze,V)=>{V.d(Ze,{T:()=>ue});var o=V(8071);function ue(s){return Symbol.asyncIterator&&(0,o.T)(s?.[Symbol.asyncIterator])}},8071:(mn,Ze,V)=>{function o(ue){return"function"==typeof ue}V.d(Ze,{T:()=>o})},5055:(mn,Ze,V)=>{V.d(Ze,{l:()=>s});var o=V(3494),ue=V(8071);function s(Ee){return(0,ue.T)(Ee[o.s])}},5397:(mn,Ze,V)=>{V.d(Ze,{x:()=>s});var o=V(4761),ue=V(8071);function s(Ee){return(0,ue.T)(Ee?.[o.l])}},9858:(mn,Ze,V)=>{V.d(Ze,{y:()=>ue});var o=V(8071);function ue(s){return(0,o.T)(s?.then)}},5196:(mn,Ze,V)=>{V.d(Ze,{C:()=>s,U:()=>Ee});var o=V(1635),ue=V(8071);function s(he){return(0,o.AQ)(this,arguments,function*(){const Ae=he.getReader();try{for(;;){const{value:Le,done:Ue}=yield(0,o.N3)(Ae.read());if(Ue)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Le)}}finally{Ae.releaseLock()}})}function Ee(he){return(0,ue.T)(he?.getReader)}},9974:(mn,Ze,V)=>{V.d(Ze,{N:()=>s,S:()=>ue});var o=V(8071);function ue(Ee){return(0,o.T)(Ee?.lift)}function s(Ee){return he=>{if(ue(he))return he.lift(function(we){try{return Ee(we,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(mn,Ze,V)=>{V.d(Ze,{I:()=>Ee});var o=V(6354);const{isArray:ue}=Array;function Ee(he){return(0,o.T)(we=>function s(he,we){return ue(we)?he(...we):he(we)}(he,we))}},5343:(mn,Ze,V)=>{function o(){}V.d(Ze,{l:()=>o})},1203:(mn,Ze,V)=>{V.d(Ze,{F:()=>ue,m:()=>s});var o=V(3669);function ue(...Ee){return s(Ee)}function s(Ee){return 0===Ee.length?o.D:1===Ee.length?Ee[0]:function(we){return Ee.reduce((Ae,Le)=>Le(Ae),we)}}},5334:(mn,Ze,V)=>{V.d(Ze,{m:()=>s});var o=V(1026),ue=V(9270);function s(Ee){ue.f.setTimeout(()=>{const{onUnhandledError:he}=o.$;if(!he)throw Ee;he(Ee)})}},591:(mn,Ze,V)=>{function o(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ze,{L:()=>o})},9969:(mn,Ze,V)=>{V.d(Ze,{FX:()=>yn,K2:()=>Ae,Ro:()=>ue,S6:()=>o,hZ:()=>Ee,i0:()=>he,iF:()=>Le,kY:()=>de,kp:()=>s,sf:()=>Gt,ui:()=>Lt});class o{}class ue{}const s="*";function Ee(Ge,_e){return{type:7,name:Ge,definitions:_e,options:{}}}function he(Ge,_e=null){return{type:4,styles:_e,timings:Ge}}function Ae(Ge,_e=null){return{type:2,steps:Ge,options:_e}}function Le(Ge){return{type:6,styles:Ge,offset:null}}function de(Ge,_e,it=null){return{type:1,expr:Ge,animation:_e,options:it}}class Gt{constructor(_e=0,it=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+it}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const it="start"==_e?this._onStartFns:this._onDoneFns;it.forEach(et=>et()),it.length=0}}class Lt{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let it=0,et=0,lt=0;const Ot=this.players.length;0==Ot?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ut=>{Ut.onDone(()=>{++it==Ot&&this._onFinish()}),Ut.onDestroy(()=>{++et==Ot&&this._onDestroy()}),Ut.onStart(()=>{++lt==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((Ut,Ie)=>Math.max(Ut,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const it=_e*this.totalTime;this.players.forEach(et=>{const lt=et.totalTime?Math.min(1,it/et.totalTime):1;et.setPosition(lt)})}getPosition(){const _e=this.players.reduce((it,et)=>null===it||et.totalTime>it.totalTime?et:it,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const it="start"==_e?this._onStartFns:this._onDoneFns;it.forEach(et=>et()),it.length=0}}const yn="!"},177:(mn,Ze,V)=>{V.d(Ze,{AJ:()=>gi,B3:()=>Vr,Jj:()=>ws,MD:()=>Xs,N0:()=>Un,P9:()=>hs,QT:()=>s,Sm:()=>Nt,Sq:()=>wi,VF:()=>he,Vy:()=>Ls,Xr:()=>Oe,YU:()=>Ln,ZD:()=>Ee,_b:()=>pn,aZ:()=>Gt,bT:()=>qs,e1:()=>Xi,fG:()=>Gi,fw:()=>Mt,hb:()=>dt,hj:()=>Le,lG:()=>qi,qQ:()=>we,ux:()=>li});var o=V(7705);let ue=null;function s(){return ue}function Ee(x){ue||(ue=x)}class he{}const we=new o.nKC("DocumentToken");let Ae=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(Ue)},providedIn:"platform"})}}return x})();const Le=new o.nKC("Location Initialized");let Ue=(()=>{class x extends Ae{constructor(){super(),this._doc=(0,o.WQX)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(j){const q=s().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",j,!1),()=>q.removeEventListener("popstate",j)}onHashChange(j){const q=s().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",j,!1),()=>q.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,q,Se){this._history.pushState(j,q,Se)}replaceState(j,q,Se){this._history.replaceState(j,q,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function J(x,te){if(0==x.length)return te;if(0==te.length)return x;let j=0;return x.endsWith("/")&&j++,te.startsWith("/")&&j++,2==j?x+te.substring(1):1==j?x+te:x+"/"+te}function de(x){const te=x.match(/#|\?|$/),j=te&&te.index||x.length;return x.slice(0,j-("/"===x[j-1]?1:0))+x.slice(j)}function xe(x){return x&&"?"!==x[0]?"?"+x:x}let dt=(()=>{class x{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(Nt)},providedIn:"root"})}}return x})();const nt=new o.nKC("appBaseHref");let Nt=(()=>{class x extends dt{constructor(j,q){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return J(this._baseHref,j)}path(j=!1){const q=this._platformLocation.pathname+xe(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&j?`${q}${Se}`:q}pushState(j,q,Se,xt){const $t=this.prepareExternalUrl(Se+xe(xt));this._platformLocation.pushState(j,q,$t)}replaceState(j,q,Se,xt){const $t=this.prepareExternalUrl(Se+xe(xt));this._platformLocation.replaceState(j,q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(Ae),o.KVO(nt,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),Mt=(()=>{class x extends dt{constructor(j,q){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(j){const q=J(this._baseHref,j);return q.length>0?"#"+q:q}pushState(j,q,Se,xt){let $t=this.prepareExternalUrl(Se+xe(xt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(j,q,$t)}replaceState(j,q,Se,xt){let $t=this.prepareExternalUrl(Se+xe(xt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(j,q,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(Ae),o.KVO(nt,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac})}}return x})(),Gt=(()=>{class x{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const q=this._locationStrategy.getBaseHref();this._basePath=function _e(x){if(new RegExp("^(https?:)?//").test(x)){const[,j]=x.split(/\/\/[^\/]+/);return j}return x}(de(Ge(q))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,q=""){return this.path()==this.normalize(j+xe(q))}normalize(j){return x.stripTrailingSlash(function yn(x,te){if(!x||!te.startsWith(x))return te;const j=te.substring(x.length);return""===j||["/",";","?","#"].includes(j[0])?j:te}(this._basePath,Ge(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,q="",Se=null){this._locationStrategy.pushState(Se,"",j,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xe(q)),Se)}replaceState(j,q="",Se=null){this._locationStrategy.replaceState(Se,"",j,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xe(q)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",q){this._urlChangeListeners.forEach(Se=>Se(j,q))}subscribe(j,q,Se){return this._subject.subscribe({next:j,error:q,complete:Se})}static{this.normalizeQueryParams=xe}static{this.joinWithSlash=J}static{this.stripTrailingSlash=de}static{this.\u0275fac=function(q){return new(q||x)(o.KVO(dt))}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return function Lt(){return new Gt((0,o.KVO)(dt))}()},providedIn:"root"})}}return x})();function Ge(x){return x.replace(/\/index.html$/,"")}function pn(x,te){te=encodeURIComponent(te);for(const j of x.split(";")){const q=j.indexOf("="),[Se,xt]=-1==q?[j,""]:[j.slice(0,q),j.slice(q+1)];if(Se.trim()===te)return decodeURIComponent(xt)}return null}const kn=/\s+/,gn=[];let Ln=(()=>{class x{constructor(j,q,Se,xt){this._iterableDiffers=j,this._keyValueDiffers=q,this._ngEl=Se,this._renderer=xt,this.initialClasses=gn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(kn):gn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(kn):j}ngDoCheck(){for(const q of this.initialClasses)this._updateState(q,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const q of j)this._updateState(q,!0);else if(null!=j)for(const q of Object.keys(j))this._updateState(q,!!j[q]);this._applyStateDiff()}_updateState(j,q){const Se=this.stateMap.get(j);void 0!==Se?(Se.enabled!==q&&(Se.changed=!0,Se.enabled=q),Se.touched=!0):this.stateMap.set(j,{enabled:q,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const q=j[0],Se=j[1];Se.changed?(this._toggleClass(q,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(q,!1),this.stateMap.delete(q)),Se.touched=!1}}_toggleClass(j,q){(j=j.trim()).length>0&&j.split(kn).forEach(Se=>{q?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class tr{constructor(te,j,q,Se){this.$implicit=te,this.ngForOf=j,this.index=q,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class x{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,q,Se){this._viewContainer=j,this._template=q,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const q=this._viewContainer;j.forEachOperation((Se,xt,$t)=>{if(null==Se.previousIndex)q.createEmbeddedView(this._template,new tr(Se.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)q.remove(null===xt?void 0:xt);else if(null!==xt){const Jn=q.get(xt);q.move(Jn,$t),ns(Jn,Se)}});for(let Se=0,xt=q.length;Se<xt;Se++){const Jn=q.get(Se).context;Jn.index=Se,Jn.count=xt,Jn.ngForOf=this._ngForOf}j.forEachIdentityChange(Se=>{ns(q.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(j,q){return!0}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function ns(x,te){x.context.$implicit=te.item}let qs=(()=>{class x{constructor(j,q){this._viewContainer=j,this._context=new Ys,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Hi("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Hi("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,q){return!0}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class Ys{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(x,te){if(te&&!te.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,o.Tbb)(te)}'.`)}class wo{constructor(te,j){this._viewContainerRef=te,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let li=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const q=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const q of this._defaultViews)q.enforceState(j)}}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),Xi=(()=>{class x{constructor(j,q,Se){this.ngSwitch=Se,Se._addCase(),this._view=new wo(j,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(li,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),Gi=(()=>{class x{constructor(j,q,Se){Se._addDefault(new wo(j,q))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(li,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),Vr=(()=>{class x{constructor(j,q,Se){this._ngEl=j,this._differs=q,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,q){const[Se,xt]=j.split("."),$t=-1===Se.indexOf("-")?void 0:o.czy.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,Se,xt?`${q}${xt}`:q,$t):this._renderer.removeStyle(this._ngEl.nativeElement,Se,$t)}_applyChanges(j){j.forEachRemovedItem(q=>this._setStyle(q.key,null)),j.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),j.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function fi(x,te){return new o.wOt(2100,!1)}class ko{createSubscription(te,j){return(0,o.O8t)(()=>te.subscribe({next:j,error:q=>{throw q}}))}dispose(te){(0,o.O8t)(()=>te.unsubscribe())}}class la{createSubscription(te,j){return te.then(j,q=>{throw q})}dispose(te){}}const Ci=new la,Yo=new ko;let ws=(()=>{class x{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,q=>this._updateLatestValue(j,q))}_selectStrategy(j){if((0,o.jNT)(j))return Ci;if((0,o.zjR)(j))return Yo;throw fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,q){j===this._obj&&(this._latestValue=q,this._ref.markForCheck())}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})(),qi=(()=>{class x{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=ds}transform(j,q=ds){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const Se=this.differ.diff(j),xt=q!==this.compareFn;return Se&&(this.keyValues=[],Se.forEachItem($t=>{this.keyValues.push(function Jr(x,te){return{key:x,value:te}}($t.key,$t.currentValue))})),(Se||xt)&&(this.keyValues.sort(q),this.compareFn=q),this.keyValues}static{this.\u0275fac=function(q){return new(q||x)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function ds(x,te){const j=x.key,q=te.key;if(j===q)return 0;if(void 0===j)return 1;if(void 0===q)return-1;if(null===j)return 1;if(null===q)return-1;if("string"==typeof j&&"string"==typeof q)return j<q?-1:1;if("number"==typeof j&&"number"==typeof q)return j-q;if("boolean"==typeof j&&"boolean"==typeof q)return j<q?-1:1;const Se=String(j),xt=String(q);return Se==xt?0:Se<xt?-1:1}let hs=(()=>{class x{transform(j,q,Se){if(null==j)return null;if(!this.supports(j))throw fi();return j.slice(q,Se)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),Xs=(()=>{class x{static{this.\u0275fac=function(q){return new(q||x)}}static{this.\u0275mod=o.$C({type:x})}static{this.\u0275inj=o.G2t({})}}return x})();const gi="browser",ss="server";function Ls(x){return x===ss}let Oe=(()=>{class x{static{this.\u0275prov=(0,o.jDH)({token:x,providedIn:"root",factory:()=>new Je((0,o.KVO)(we),window)})}}return x})();class Je{constructor(te,j){this.document=te,this.window=j,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const j=function bt(x,te){const j=x.getElementById(te)||x.getElementsByName(te)[0];if(j)return j;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const q=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Se=q.currentNode;for(;Se;){const xt=Se.shadowRoot;if(xt){const $t=xt.getElementById(te)||xt.querySelector(`[name="${te}"]`);if($t)return $t}Se=q.nextNode()}}return null}(this.document,te);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const j=te.getBoundingClientRect(),q=j.left+this.window.pageXOffset,Se=j.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(q-xt[0],Se-xt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Un{}},1626:(mn,Ze,V)=>{V.d(Ze,{Qq:()=>rt,q1:()=>k});var o=V(7705),ue=V(7673),s=V(8455),Ee=V(1985),he=V(274),we=V(5964),Ae=V(6354),Le=V(980),Ue=V(5558),J=V(177);class de{}class xe{}class dt{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?"string"==typeof Me?this.lazyInit=()=>{this.headers=new Map,Me.split("\n").forEach(Be=>{const kt=Be.indexOf(":");if(kt>0){const Xt=Be.slice(0,kt),bn=Xt.toLowerCase(),fn=Be.slice(kt+1).trim();this.maybeSetNormalizedName(Xt,bn),this.headers.has(bn)?this.headers.get(bn).push(fn):this.headers.set(bn,[fn])}})}:typeof Headers<"u"&&Me instanceof Headers?(this.headers=new Map,Me.forEach((Be,kt)=>{this.setHeaderEntries(kt,Be)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Me).forEach(([Be,kt])=>{this.setHeaderEntries(Be,kt)})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const Be=this.headers.get(Me.toLowerCase());return Be&&Be.length>0?Be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,Be){return this.clone({name:Me,value:Be,op:"a"})}set(Me,Be){return this.clone({name:Me,value:Be,op:"s"})}delete(Me,Be){return this.clone({name:Me,value:Be,op:"d"})}maybeSetNormalizedName(Me,Be){this.normalizedNames.has(Be)||this.normalizedNames.set(Be,Me)}init(){this.lazyInit&&(this.lazyInit instanceof dt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(Be=>{this.headers.set(Be,Me.headers.get(Be)),this.normalizedNames.set(Be,Me.normalizedNames.get(Be))})}clone(Me){const Be=new dt;return Be.lazyInit=this.lazyInit&&this.lazyInit instanceof dt?this.lazyInit:this,Be.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),Be}applyUpdate(Me){const Be=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let kt=Me.value;if("string"==typeof kt&&(kt=[kt]),0===kt.length)return;this.maybeSetNormalizedName(Me.name,Be);const Xt=("a"===Me.op?this.headers.get(Be):void 0)||[];Xt.push(...kt),this.headers.set(Be,Xt);break;case"d":const bn=Me.value;if(bn){let fn=this.headers.get(Be);if(!fn)return;fn=fn.filter(or=>-1===bn.indexOf(or)),0===fn.length?(this.headers.delete(Be),this.normalizedNames.delete(Be)):this.headers.set(Be,fn)}else this.headers.delete(Be),this.normalizedNames.delete(Be)}}setHeaderEntries(Me,Be){const kt=(Array.isArray(Be)?Be:[Be]).map(bn=>bn.toString()),Xt=Me.toLowerCase();this.headers.set(Xt,kt),this.maybeSetNormalizedName(Me,Xt)}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(Be=>Me(this.normalizedNames.get(Be),this.headers.get(Be)))}}class Nt{encodeKey(Me){return yn(Me)}encodeValue(Me){return yn(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const Gt=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yn(Re){return encodeURIComponent(Re).replace(Gt,(Me,Be)=>Lt[Be]??Me)}function Ge(Re){return`${Re}`}class _e{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new Nt,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mt(Re,Me){const Be=new Map;return Re.length>0&&Re.replace(/^\?/,"").split("&").forEach(Xt=>{const bn=Xt.indexOf("="),[fn,or]=-1==bn?[Me.decodeKey(Xt),""]:[Me.decodeKey(Xt.slice(0,bn)),Me.decodeValue(Xt.slice(bn+1))],vn=Be.get(fn)||[];vn.push(or),Be.set(fn,vn)}),Be}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(Be=>{const kt=Me.fromObject[Be],Xt=Array.isArray(kt)?kt.map(Ge):[Ge(kt)];this.map.set(Be,Xt)})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const Be=this.map.get(Me);return Be?Be[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,Be){return this.clone({param:Me,value:Be,op:"a"})}appendAll(Me){const Be=[];return Object.keys(Me).forEach(kt=>{const Xt=Me[kt];Array.isArray(Xt)?Xt.forEach(bn=>{Be.push({param:kt,value:bn,op:"a"})}):Be.push({param:kt,value:Xt,op:"a"})}),this.clone(Be)}set(Me,Be){return this.clone({param:Me,value:Be,op:"s"})}delete(Me,Be){return this.clone({param:Me,value:Be,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const Be=this.encoder.encodeKey(Me);return this.map.get(Me).map(kt=>Be+"="+this.encoder.encodeValue(kt)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const Be=new _e({encoder:this.encoder});return Be.cloneFrom=this.cloneFrom||this,Be.updates=(this.updates||[]).concat(Me),Be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const Be=("a"===Me.op?this.map.get(Me.param):void 0)||[];Be.push(Ge(Me.value)),this.map.set(Me.param,Be);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let kt=this.map.get(Me.param)||[];const Xt=kt.indexOf(Ge(Me.value));-1!==Xt&&kt.splice(Xt,1),kt.length>0?this.map.set(Me.param,kt):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class et{constructor(){this.map=new Map}set(Me,Be){return this.map.set(Me,Be),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function Ot(Re){return typeof ArrayBuffer<"u"&&Re instanceof ArrayBuffer}function Ut(Re){return typeof Blob<"u"&&Re instanceof Blob}function Ie(Re){return typeof FormData<"u"&&Re instanceof FormData}class In{constructor(Me,Be,kt,Xt){let bn;if(this.url=Be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function lt(Re){switch(Re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xt?(this.body=void 0!==kt?kt:null,bn=Xt):bn=kt,bn&&(this.reportProgress=!!bn.reportProgress,this.withCredentials=!!bn.withCredentials,bn.responseType&&(this.responseType=bn.responseType),bn.headers&&(this.headers=bn.headers),bn.context&&(this.context=bn.context),bn.params&&(this.params=bn.params)),this.headers||(this.headers=new dt),this.context||(this.context=new et),this.params){const fn=this.params.toString();if(0===fn.length)this.urlWithParams=Be;else{const or=Be.indexOf("?");this.urlWithParams=Be+(-1===or?"?":or<Be.length-1?"&":"")+fn}}else this.params=new _e,this.urlWithParams=Be}serializeBody(){return null===this.body?null:Ot(this.body)||Ut(this.body)||Ie(this.body)||function cn(Re){return typeof URLSearchParams<"u"&&Re instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ie(this.body)?null:Ut(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){const Be=Me.method||this.method,kt=Me.url||this.url,Xt=Me.responseType||this.responseType,bn=void 0!==Me.body?Me.body:this.body,fn=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,or=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let vn=Me.headers||this.headers,ri=Me.params||this.params;const vt=Me.context??this.context;return void 0!==Me.setHeaders&&(vn=Object.keys(Me.setHeaders).reduce((qe,Dt)=>qe.set(Dt,Me.setHeaders[Dt]),vn)),Me.setParams&&(ri=Object.keys(Me.setParams).reduce((qe,Dt)=>qe.set(Dt,Me.setParams[Dt]),ri)),new In(Be,kt,bn,{params:ri,headers:vn,context:vt,reportProgress:or,responseType:Xt,withCredentials:fn})}}var sr=function(Re){return Re[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re}(sr||{});class Vt{constructor(Me,Be=200,kt="OK"){this.headers=Me.headers||new dt,this.status=void 0!==Me.status?Me.status:Be,this.statusText=Me.statusText||kt,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class qt extends Vt{constructor(Me={}){super(Me),this.type=sr.ResponseHeader}clone(Me={}){return new qt({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class Jt extends Vt{constructor(Me={}){super(Me),this.type=sr.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new Jt({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class gt extends Vt{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function Fe(Re,Me){return{body:Me,headers:Re.headers,context:Re.context,observe:Re.observe,params:Re.params,reportProgress:Re.reportProgress,responseType:Re.responseType,withCredentials:Re.withCredentials}}let rt=(()=>{class Re{constructor(Be){this.handler=Be}request(Be,kt,Xt={}){let bn;if(Be instanceof In)bn=Be;else{let vn,ri;vn=Xt.headers instanceof dt?Xt.headers:new dt(Xt.headers),Xt.params&&(ri=Xt.params instanceof _e?Xt.params:new _e({fromObject:Xt.params})),bn=new In(Be,kt,void 0!==Xt.body?Xt.body:null,{headers:vn,context:Xt.context,params:ri,reportProgress:Xt.reportProgress,responseType:Xt.responseType||"json",withCredentials:Xt.withCredentials})}const fn=(0,ue.of)(bn).pipe((0,he.H)(vn=>this.handler.handle(vn)));if(Be instanceof In||"events"===Xt.observe)return fn;const or=fn.pipe((0,we.p)(vn=>vn instanceof Jt));switch(Xt.observe||"body"){case"body":switch(bn.responseType){case"arraybuffer":return or.pipe((0,Ae.T)(vn=>{if(null!==vn.body&&!(vn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return vn.body}));case"blob":return or.pipe((0,Ae.T)(vn=>{if(null!==vn.body&&!(vn.body instanceof Blob))throw new Error("Response is not a Blob.");return vn.body}));case"text":return or.pipe((0,Ae.T)(vn=>{if(null!==vn.body&&"string"!=typeof vn.body)throw new Error("Response is not a string.");return vn.body}));default:return or.pipe((0,Ae.T)(vn=>vn.body))}case"response":return or;default:throw new Error(`Unreachable: unhandled observe type ${Xt.observe}}`)}}delete(Be,kt={}){return this.request("DELETE",Be,kt)}get(Be,kt={}){return this.request("GET",Be,kt)}head(Be,kt={}){return this.request("HEAD",Be,kt)}jsonp(Be,kt){return this.request("JSONP",Be,{params:(new _e).append(kt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Be,kt={}){return this.request("OPTIONS",Be,kt)}patch(Be,kt,Xt={}){return this.request("PATCH",Be,Fe(Xt,kt))}post(Be,kt,Xt={}){return this.request("POST",Be,Fe(Xt,kt))}put(Be,kt,Xt={}){return this.request("PUT",Be,Fe(Xt,kt))}static{this.\u0275fac=function(kt){return new(kt||Re)(o.KVO(de))}}static{this.\u0275prov=o.jDH({token:Re,factory:Re.\u0275fac})}}return Re})();function jt(Re,Me){return Me(Re)}function Mn(Re,Me){return(Be,kt)=>Me.intercept(Be,{handle:Xt=>Re(Xt,kt)})}const hn=new o.nKC(""),Vn=new o.nKC(""),tn=new o.nKC("");function Zn(){let Re=null;return(Me,Be)=>{null===Re&&(Re=((0,o.WQX)(hn,{optional:!0})??[]).reduceRight(Mn,jt));const kt=(0,o.WQX)(o.$K3),Xt=kt.add();return Re(Me,Be).pipe((0,Le.j)(()=>kt.remove(Xt)))}}let $n=(()=>{class Re extends de{constructor(Be,kt){super(),this.backend=Be,this.injector=kt,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(Be){if(null===this.chain){const Xt=Array.from(new Set([...this.injector.get(Vn),...this.injector.get(tn,[])]));this.chain=Xt.reduceRight((bn,fn)=>function dr(Re,Me,Be){return(kt,Xt)=>Be.runInContext(()=>Me(kt,bn=>Re(bn,Xt)))}(bn,fn,this.injector),jt)}const kt=this.pendingTasks.add();return this.chain(Be,Xt=>this.backend.handle(Xt)).pipe((0,Le.j)(()=>this.pendingTasks.remove(kt)))}static{this.\u0275fac=function(kt){return new(kt||Re)(o.KVO(xe),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:Re,factory:Re.\u0275fac})}}return Re})();const Ur=/^\)\]\}',?\n/;let er=(()=>{class Re{constructor(Be){this.xhrFactory=Be}handle(Be){if("JSONP"===Be.method)throw new o.wOt(-2800,!1);const kt=this.xhrFactory;return(kt.\u0275loadImpl?(0,s.H)(kt.\u0275loadImpl()):(0,ue.of)(null)).pipe((0,Ue.n)(()=>new Ee.c(bn=>{const fn=kt.build();if(fn.open(Be.method,Be.urlWithParams),Be.withCredentials&&(fn.withCredentials=!0),Be.headers.forEach((gn,Ln)=>fn.setRequestHeader(gn,Ln.join(","))),Be.headers.has("Accept")||fn.setRequestHeader("Accept","application/json, text/plain, */*"),!Be.headers.has("Content-Type")){const gn=Be.detectContentTypeHeader();null!==gn&&fn.setRequestHeader("Content-Type",gn)}if(Be.responseType){const gn=Be.responseType.toLowerCase();fn.responseType="json"!==gn?gn:"text"}const or=Be.serializeBody();let vn=null;const ri=()=>{if(null!==vn)return vn;const gn=fn.statusText||"OK",Ln=new dt(fn.getAllResponseHeaders()),xr=function ni(Re){return"responseURL"in Re&&Re.responseURL?Re.responseURL:/^X-Request-URL:/m.test(Re.getAllResponseHeaders())?Re.getResponseHeader("X-Request-URL"):null}(fn)||Be.url;return vn=new qt({headers:Ln,status:fn.status,statusText:gn,url:xr}),vn},vt=()=>{let{headers:gn,status:Ln,statusText:xr,url:Fr}=ri(),tr=null;204!==Ln&&(tr=typeof fn.response>"u"?fn.responseText:fn.response),0===Ln&&(Ln=tr?200:0);let wi=Ln>=200&&Ln<300;if("json"===Be.responseType&&"string"==typeof tr){const ns=tr;tr=tr.replace(Ur,"");try{tr=""!==tr?JSON.parse(tr):null}catch(ji){tr=ns,wi&&(wi=!1,tr={error:ji,text:tr})}}wi?(bn.next(new Jt({body:tr,headers:gn,status:Ln,statusText:xr,url:Fr||void 0})),bn.complete()):bn.error(new gt({error:tr,headers:gn,status:Ln,statusText:xr,url:Fr||void 0}))},qe=gn=>{const{url:Ln}=ri(),xr=new gt({error:gn,status:fn.status||0,statusText:fn.statusText||"Unknown Error",url:Ln||void 0});bn.error(xr)};let Dt=!1;const pn=gn=>{Dt||(bn.next(ri()),Dt=!0);let Ln={type:sr.DownloadProgress,loaded:gn.loaded};gn.lengthComputable&&(Ln.total=gn.total),"text"===Be.responseType&&fn.responseText&&(Ln.partialText=fn.responseText),bn.next(Ln)},kn=gn=>{let Ln={type:sr.UploadProgress,loaded:gn.loaded};gn.lengthComputable&&(Ln.total=gn.total),bn.next(Ln)};return fn.addEventListener("load",vt),fn.addEventListener("error",qe),fn.addEventListener("timeout",qe),fn.addEventListener("abort",qe),Be.reportProgress&&(fn.addEventListener("progress",pn),null!==or&&fn.upload&&fn.upload.addEventListener("progress",kn)),fn.send(or),bn.next({type:sr.Sent}),()=>{fn.removeEventListener("error",qe),fn.removeEventListener("abort",qe),fn.removeEventListener("load",vt),fn.removeEventListener("timeout",qe),Be.reportProgress&&(fn.removeEventListener("progress",pn),null!==or&&fn.upload&&fn.upload.removeEventListener("progress",kn)),fn.readyState!==fn.DONE&&fn.abort()}})))}static{this.\u0275fac=function(kt){return new(kt||Re)(o.KVO(J.N0))}}static{this.\u0275prov=o.jDH({token:Re,factory:Re.\u0275fac})}}return Re})();const oi=new o.nKC("XSRF_ENABLED"),rn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class _r{}let Yn=(()=>{class Re{constructor(Be,kt,Xt){this.doc=Be,this.platform=kt,this.cookieName=Xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Be=this.doc.cookie||"";return Be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,J._b)(Be,this.cookieName),this.lastCookieString=Be),this.lastToken}static{this.\u0275fac=function(kt){return new(kt||Re)(o.KVO(J.qQ),o.KVO(o.Agw),o.KVO(rn))}}static{this.\u0275prov=o.jDH({token:Re,factory:Re.\u0275fac})}}return Re})();function ci(Re,Me){const Be=Re.url.toLowerCase();if(!(0,o.WQX)(oi)||"GET"===Re.method||"HEAD"===Re.method||Be.startsWith("http://")||Be.startsWith("https://"))return Me(Re);const kt=(0,o.WQX)(_r).getToken(),Xt=(0,o.WQX)(Hn);return null!=kt&&!Re.headers.has(Xt)&&(Re=Re.clone({headers:Re.headers.set(Xt,kt)})),Me(Re)}var ft=function(Re){return Re[Re.Interceptors=0]="Interceptors",Re[Re.LegacyInterceptors=1]="LegacyInterceptors",Re[Re.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Re[Re.NoXsrfProtection=3]="NoXsrfProtection",Re[Re.JsonpSupport=4]="JsonpSupport",Re[Re.RequestsMadeViaParent=5]="RequestsMadeViaParent",Re[Re.Fetch=6]="Fetch",Re}(ft||{});function se(Re,Me){return{\u0275kind:Re,\u0275providers:Me}}function Pe(...Re){const Me=[rt,er,$n,{provide:de,useExisting:$n},{provide:xe,useExisting:er},{provide:Vn,useValue:ci,multi:!0},{provide:oi,useValue:!0},{provide:_r,useClass:Yn}];for(const Be of Re)Me.push(...Be.\u0275providers);return(0,o.EmA)(Me)}const Yt=new o.nKC("LEGACY_INTERCEPTOR_FN");let k=(()=>{class Re{static{this.\u0275fac=function(kt){return new(kt||Re)}}static{this.\u0275mod=o.$C({type:Re})}static{this.\u0275inj=o.G2t({providers:[Pe(se(ft.LegacyInterceptors,[{provide:Yt,useFactory:Zn},{provide:Vn,useExisting:Yt,multi:!0}]))]})}}return Re})()},7705:(mn,Ze,V)=>{V.d(Ze,{$C:()=>Qr,$GK:()=>Sn,$K3:()=>RC,$MX:()=>af,AVh:()=>di,Agw:()=>__,B4B:()=>Xg,BIS:()=>Vv,BMQ:()=>sg,C4Q:()=>Iv,C5r:()=>fC,Co$:()=>Ab,DNE:()=>Bf,EFF:()=>Ah,EJ8:()=>us,EmA:()=>th,FS9:()=>Vl,FsC:()=>co,G2t:()=>tn,GBs:()=>aC,GFd:()=>ig,H3F:()=>MC,H5H:()=>Y0,H8p:()=>Op,HJs:()=>W1,HbH:()=>Ui,Hbi:()=>O1,JRh:()=>Dh,JZv:()=>er,Jv_:()=>wb,KH2:()=>ny,KVO:()=>Tt,Kcf:()=>Pp,L39:()=>G1,LfX:()=>$n,Lme:()=>dv,MKu:()=>PE,Mz_:()=>Oo,NEm:()=>l1,NYb:()=>s1,Njj:()=>vs,O8t:()=>xt,OA$:()=>Mr,Ocv:()=>Nw,Ol2:()=>Sb,PLl:()=>Fv,QTQ:()=>u,Ql9:()=>Vw,QuC:()=>oe,R7$:()=>Xy,RV6:()=>Eu,Rfq:()=>Nt,RxE:()=>Oy,SKi:()=>Po,SpI:()=>Cu,TL$:()=>$g,Tbb:()=>xe,UyX:()=>Wu,VBU:()=>la,Vns:()=>Nm,Vt3:()=>vm,WHO:()=>FC,WPN:()=>eh,WQX:()=>un,XpG:()=>Io,Xx1:()=>Ra,Y8G:()=>vu,Z63:()=>Il,ZF7:()=>qa,_9s:()=>$p,_q3:()=>SE,aKT:()=>ah,aNF:()=>Pb,bIt:()=>K,bMT:()=>Kb,bVm:()=>Th,bc$:()=>Fp,bkB:()=>Sl,brH:()=>qb,c1b:()=>M0,cWb:()=>Yd,czy:()=>Ld,e01:()=>VC,e5t:()=>my,eBV:()=>ra,eq3:()=>Vb,eu8:()=>Ro,fpN:()=>R1,gRc:()=>y1,gXe:()=>fn,giA:()=>LC,h9k:()=>Mp,hnV:()=>xC,iLQ:()=>CE,j41:()=>Gf,jDH:()=>hn,jNT:()=>E,k0s:()=>Fl,kS0:()=>Ed,kdw:()=>Xl,l4e:()=>Ub,lJ4:()=>Fb,lNU:()=>Ge,l_i:()=>Lb,lsd:()=>lC,mGM:()=>oC,mq5:()=>QE,n$t:()=>Cy,nI1:()=>Wb,nKC:()=>rn,naY:()=>_1,npT:()=>c_,nrm:()=>pg,o8S:()=>oy,oH4:()=>$C,osQ:()=>zg,plB:()=>hE,qex:()=>Ih,rXU:()=>Pl,rcV:()=>Ka,sFG:()=>jv,sGs:()=>jb,sZ2:()=>Sy,sdS:()=>Hf,tSv:()=>Hy,uvJ:()=>Oi,w6W:()=>wT,wOt:()=>_e,wni:()=>cC,xGo:()=>Mc,xc7:()=>Wr,xe9:()=>O0,xvI:()=>Ny,zZn:()=>wl,zcH:()=>mc,zjR:()=>U});var o=V(1413),ue=V(8359),s=V(1985),Ee=V(7786),he=V(4412),we=V(7673),Ae=V(7647),Le=V(5558),Ue=V(3294);function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function de(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function dt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const nt=J({__forward_ref__:J});function Nt(t){return t.__forward_ref__=Nt,t.toString=function(){return xe(this())},t}function Mt(t){return Gt(t)?t():t}function Gt(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===Nt}function Lt(t){return t&&!!t.\u0275providers}const Ge="https://g.co/ng/security#xss";class _e extends Error{constructor(n,i){super(function it(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function et(t){return"string"==typeof t?t:null==t?"":String(t)}function cn(t,n){throw new _e(-201,!1)}function st(t,n){null==t&&function Ye(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function hn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zn(t){return Wt(t,_n)||Wt(t,ir)}function $n(t){return null!==Zn(t)}function Wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function mr(t){return t&&(t.hasOwnProperty(kr)||t.hasOwnProperty(Bt))?t[kr]:null}const _n=J({\u0275prov:J}),kr=J({\u0275inj:J}),ir=J({ngInjectableDef:J}),Bt=J({ngInjectorDef:J});var Sn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Sn||{});let Qn;function ti(t){const n=Qn;return Qn=t,n}function Ur(t,n,i){const c=Zn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&Sn.Optional?null:void 0!==n?n:void cn(xe(t))}const er=globalThis;class rn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=hn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zn={},Kr="__NG_DI_FLAG__",Or="ngTempTokenPath",Ct=/\n/gm,M="__source";let k;function ge(t){const n=k;return k=t,n}function ct(t,n=Sn.Default){if(void 0===k)throw new _e(-203,!1);return null===k?Ur(t,void 0,n):k.get(t,n&Sn.Optional?null:void 0,n)}function Tt(t,n=Sn.Default){return(function Rn(){return Qn}()||ct)(Mt(t),n)}function un(t,n=Sn.Default){return Tt(t,Tn(n))}function Tn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yr(t){const n=[];for(let i=0;i<t.length;i++){const c=Mt(t[i]);if(Array.isArray(c)){if(0===c.length)throw new _e(900,!1);let f,p=Sn.Default;for(let C=0;C<c.length;C++){const A=c[C],R=Me(A);"number"==typeof R?-1===R?f=A.token:p|=R:f=A}n.push(Tt(f,p))}else n.push(Tt(c))}return n}function Re(t,n){return t[Kr]=n,t.prototype[Kr]=n,t}function Me(t){return t[Kr]}function Xt(t){return{toString:t}.toString()}var bn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bn||{}),fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{});const or={},vn=[],ri=J({\u0275cmp:J}),vt=J({\u0275dir:J}),qe=J({\u0275pipe:J}),Dt=J({\u0275mod:J}),pn=J({\u0275fac:J}),kn=J({__NG_ELEMENT_ID__:J}),gn=J({__NG_ENV_ID__:J});function Ln(t,n,i){let c=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const p=n.length;if(f+p===c||t.charCodeAt(f+p)<=32)return f}i=f+1}}function xr(t,n,i){let c=0;for(;c<i.length;){const f=i[c];if("number"==typeof f){if(0!==f)break;c++;const p=i[c++],C=i[c++],A=i[c++];t.setAttribute(n,C,A,p)}else{const p=f,C=i[++c];tr(p)?t.setProperty(n,p,C):t.setAttribute(n,p,C),c++}}return c}function Fr(t){return 3===t||4===t||6===t}function tr(t){return 64===t.charCodeAt(0)}function wi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?i=f:0===i||ns(t,i,f,null,-1===i||2===i?n[++c]:null)}}return t}function ns(t,n,i,c,f){let p=0,C=t.length;if(-1===n)C=-1;else for(;p<t.length;){const A=t[p++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=p-1;break}}}for(;p<t.length;){const A=t[p];if("number"==typeof A)break;if(A===i){if(null===c)return void(null!==f&&(t[p+1]=f));if(c===t[p+1])return void(t[p+2]=f)}p++,null!==c&&p++,null!==f&&p++}-1!==C&&(t.splice(C,0,n),p=C+1),t.splice(p++,0,i),null!==c&&t.splice(p++,0,c),null!==f&&t.splice(p++,0,f)}const ji="ng-template";function qs(t,n,i){let c=0,f=!0;for(;c<t.length;){let p=t[c++];if("string"==typeof p&&f){const C=t[c++];if(i&&"class"===p&&-1!==Ln(C.toLowerCase(),n,0))return!0}else{if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(f=!1)}}return!1}function Ys(t){return 4===t.type&&t.value!==ji}function Hi(t,n,i){return n===(4!==t.type||i?t.value:ji)}function wo(t,n,i){let c=4;const f=t.attrs||[],p=function Ki(t){for(let n=0;n<t.length;n++)if(Fr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&c){if(c=2|1&c,""!==R&&!Hi(t,R,i)||""===R&&1===n.length){if(li(c))return!1;C=!0}}else{const G=8&c?R:n[++A];if(8&c&&null!==t.attrs){if(!qs(t.attrs,G,i)){if(li(c))return!1;C=!0}continue}const be=Xi(8&c?"class":R,f,Ys(t),i);if(-1===be){if(li(c))return!1;C=!0;continue}if(""!==G){let Xe;Xe=be>p?"":f[be+1].toLowerCase();const pt=8&c?Xe:null;if(pt&&-1!==Ln(pt,G,0)||2&c&&G!==Xe){if(li(c))return!1;C=!0}}}}else{if(!C&&!li(c)&&!li(R))return!1;if(C&&li(R))continue;C=!1,c=R|1&c}}return li(c)||C}function li(t){return 0==(1&t)}function Xi(t,n,i,c){if(null===n)return-1;let f=0;if(c||!i){let p=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)p=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=p?1:2}return-1}return function Mi(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function Gi(t,n,i=!1){for(let c=0;c<n.length;c++)if(wo(t,n[c],i))return!0;return!1}function xs(t,n){return t?":not("+n.trim()+")":n}function Vs(t){let n=t[0],i=1,c=2,f="",p=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&c){const A=t[++i];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!li(C)&&(n+=xs(p,f),f=""),c=C,p=p||!li(c);i++}return""!==f&&(n+=xs(p,f)),n}function la(t){return Xt(()=>{const n=ot(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||vn,_:null,schemas:t.schemas||null,tView:null,id:""};qr(i);const c=t.dependencies;return i.directiveDefs=Jr(c,!1),i.pipeDefs=Jr(c,!0),i.id=function ds(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of i)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Yo(t){return Lr(t)||le(t)}function ws(t){return null!==t}function Qr(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||vn,declarations:t.declarations||vn,imports:t.imports||vn,exports:t.exports||vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function As(t,n){if(null==t)return or;const i={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),i[f]=c,n&&(n[f]=p)}return i}function co(t){return Xt(()=>{const n=ot(t);return qr(n),n})}function us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lr(t){return t[ri]||null}function le(t){return t[vt]||null}function wt(t){return t[qe]||null}function oe(t){const n=Lr(t)||le(t)||wt(t);return null!==n&&n.standalone}function tt(t,n){const i=t[Dt]||null;if(!i&&!0===n)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return i}function ot(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||or,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:As(t.inputs,n),outputs:As(t.outputs)}}function qr(t){t.features?.forEach(n=>n(t))}function Jr(t,n){if(!t)return null;const i=n?wt:Yo;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(ws)}const pi=0,wn=1,pr=2,Ir=3,rs=4,hs=5,zi=6,Xs=7,gi=8,ss=9,Ms=10,ar=11,bs=12,Ls=13,Z=14,X=15,Te=16,Oe=17,Je=18,bt=19,an=20,Un=21,Dn=22,cr=23,jr=24,Wn=25,gr=1,Ii=2,mi=7,ki=9,Br=11;function Fi(t){return Array.isArray(t)&&"object"==typeof t[gr]}function si(t){return Array.isArray(t)&&!0===t[gr]}function Xo(t){return 0!=(4&t.flags)}function fs(t){return t.componentOffset>-1}function lo(t){return 1==(1&t.flags)}function uo(t){return!!t.template}function Rs(t){return 0!=(512&t[pr])}function Js(t,n){return t.hasOwnProperty(pn)?t[pn]:null}let Is=null,da=!1;function Qi(t){const n=Is;return Is=t,n}const nl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function nn(t){if(!to(t)||t.dirty){if(!t.producerMustRecompute(t)&&!rl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ys(t){t.dirty=!0,function Zs(t){if(void 0===t.liveConsumerNode)return;const n=da;da=!0;try{for(const i of t.liveConsumerNode)i.dirty||ys(i)}finally{da=n}}(t),t.consumerMarkedDirty?.(t)}function eo(t){return t&&(t.nextProducerIndex=0),Qi(t)}function Fo(t,n){if(Qi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(to(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)lr(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rl(t){Zo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(nn(i),c!==i.version))return!0}return!1}function Ao(t){if(Zo(t),to(t))for(let n=0;n<t.producerNode.length;n++)lr(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lr(t,n){if(function vc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Zo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)lr(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Zo(f),f.producerIndexOfThis[c]=n}}function to(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ea=null;function xt(t){const n=Qi(null);try{return t()}finally{Qi(n)}}const Jn=()=>{},ai=(()=>({...nl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Jn}))();class _i{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Mr(){return Ti}function Ti(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pi),Li}function Li(){const t=js(this),n=t?.current;if(n){const i=t.previous;if(i===or)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Pi(t,n,i,c){const f=this.declaredInputs[i],p=js(t)||function Bs(t,n){return t[yo]=n}(t,{previous:or,current:null}),C=p.current||(p.current={}),A=p.previous,R=A[f];C[f]=new _i(R&&R.currentValue,n,A===or),t[c]=n}Mr.ngInherit=!0;const yo="__ngSimpleChanges__";function js(t){return t[yo]||null}const Ts=function(t,n,i){};function Dr(t){for(;Array.isArray(t);)t=t[pi];return t}function Aa(t,n){return Dr(n[t])}function ho(t,n){return Dr(n[t.index])}function ld(t,n){return t.data[n]}function ol(t,n){return t[n]}function Ji(t,n){const i=n[t];return Fi(i)?i:i[pi]}function Ds(t,n){return null==n?null:t[n]}function na(t){t[Oe]=0}function al(t){1024&t[pr]||(t[pr]|=1024,dd(t,1))}function ud(t){1024&t[pr]&&(t[pr]&=-1025,dd(t,-1))}function dd(t,n){let i=t[Ir];if(null===i)return;i[hs]+=n;let c=i;for(i=i[Ir];null!==i&&(1===n&&1===c[hs]||-1===n&&0===c[hs]);)i[hs]+=n,c=i,i=i[Ir]}const vr={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Du(){return vr.bindingsEnabled}function Qt(){return vr.lFrame.lView}function $r(){return vr.lFrame.tView}function ra(t){return vr.lFrame.contextLView=t,t[gi]}function vs(t){return vr.lFrame.contextLView=null,t}function $s(){let t=ul();for(;null!==t&&64===t.type;)t=t.parent;return t}function ul(){return vr.lFrame.currentTNode}function vo(t,n){const i=vr.lFrame;i.currentTNode=t,i.isParent=n}function ga(){return vr.lFrame.isParent}function Cc(){vr.lFrame.isParent=!1}function no(){const t=vr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Sa(){return vr.lFrame.bindingIndex++}function Do(t){const n=vr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Mh(t,n){const i=vr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Pa(n)}function Pa(t){vr.lFrame.currentDirectiveIndex=t}function Ic(){return vr.lFrame.currentQueryIndex}function D(t){vr.lFrame.currentQueryIndex=t}function O(t){const n=t[wn];return 2===n.type?n.declTNode:1===n.type?t[zi]:null}function T(t,n,i){if(i&Sn.SkipSelf){let f=n,p=t;for(;!(f=f.parent,null!==f||i&Sn.Host||(f=O(p),null===f||(p=p[Z],10&f.type))););if(null===f)return!1;n=f,t=p}const c=vr.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function N(t){const n=H(),i=t[wn];vr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function H(){const t=vr.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function De(){const t=vr.lFrame;return vr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const At=De;function _t(){const t=De();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return vr.lFrame.selectedIndex}function Yr(t){vr.lFrame.selectedIndex=t}function Di(){const t=vr.lFrame;return ld(t.tView,t.selectedIndex)}let Hl=!0;function oc(){return Hl}function ma(t){Hl=t}function Ga(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const p=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:re}=p;C&&(t.contentHooks??=[]).push(-i,C),A&&((t.contentHooks??=[]).push(i,A),(t.contentCheckHooks??=[]).push(i,A)),R&&(t.viewHooks??=[]).push(-i,R),G&&((t.viewHooks??=[]).push(i,G),(t.viewCheckHooks??=[]).push(i,G)),null!=re&&(t.destroyHooks??=[]).push(i,re)}}function Gl(t,n,i){Ru(t,n,3,i)}function xu(t,n,i,c){(3&t[pr])===i&&Ru(t,n,i,c)}function Mu(t,n){let i=t[pr];(3&i)===n&&(i&=8191,i+=1,t[pr]=i)}function Ru(t,n,i,c){const p=c??-1,C=n.length-1;let A=0;for(let R=void 0!==c?65535&t[Oe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=c&&A>=c)break}else n[R]<0&&(t[Oe]+=65536),(A<p||-1==p)&&(Ou(t,i,n,R),t[Oe]=(4294901760&t[Oe])+R+2),R++}function _d(t,n){Ts(4,t,n);const i=Qi(null);try{n.call(t)}finally{Qi(i),Ts(5,t,n)}}function Ou(t,n,i,c){const f=i[c]<0,p=i[c+1],A=t[f?-i[c]:i[c]];f?t[pr]>>13<t[Oe]>>16&&(3&t[pr])===n&&(t[pr]+=8192,_d(A,p)):_d(A,p)}const Uo=-1;class _a{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Wl(t){return t!==Uo}function Ac(t){return 32767&t}function za(t,n){let i=function Nh(t){return t>>16}(t),c=n;for(;i>0;)c=c[Z],i--;return c}let ku=!0;function ac(t){const n=ku;return ku=t,n}const kh=255,va=5;let Fu=0;const So={};function Dc(t,n){const i=Kl(t,n);if(-1!==i)return i;const c=n[wn];c.firstCreatePass&&(t.injectorIndex=n.length,Ss(c.data,t),Ss(n,null),Ss(c.blueprint,null));const f=cc(t,n),p=t.injectorIndex;if(Wl(f)){const C=Ac(f),A=za(f,n),R=A[wn].data;for(let G=0;G<8;G++)n[p+G]=A[C+G]|R[C+G]}return n[p+8]=f,p}function Ss(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Kl(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function cc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,f=n;for(;null!==f;){if(c=ql(f),null===c)return Uo;if(i++,f=f[Z],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return Uo}function lc(t,n,i){!function Vu(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(kn)&&(c=i[kn]),null==c&&(c=i[kn]=Fu++);const f=c&kh;n.data[t+(f>>va)]|=1<<f}(t,n,i)}function Sc(t,n,i){if(i&Sn.Optional||void 0!==t)return t;cn()}function ro(t,n,i,c){if(i&Sn.Optional&&void 0===c&&(c=null),!(i&(Sn.Self|Sn.Host))){const f=t[ss],p=ti(void 0);try{return f?f.get(n,c,i&Sn.Optional):Ur(n,c,i&Sn.Optional)}finally{ti(p)}}return Sc(c,0,i)}function Lu(t,n,i,c=Sn.Default,f){if(null!==t){if(2048&n[pr]&&!(c&Sn.Self)){const C=function Lh(t,n,i,c,f){let p=t,C=n;for(;null!==p&&null!==C&&2048&C[pr]&&!(512&C[pr]);){const A=Pc(p,C,i,c|Sn.Self,So);if(A!==So)return A;let R=p.parent;if(!R){const G=C[an];if(G){const re=G.get(i,So,c);if(re!==So)return re}R=ql(C),C=C[Z]}p=R}return f}(t,n,i,c,So);if(C!==So)return C}const p=Pc(t,n,i,c,So);if(p!==So)return p}return ro(n,i,c,f)}function Pc(t,n,i,c,f){const p=function dc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(kn)?t[kn]:void 0;return"number"==typeof n?n>=0?n&kh:Qf:n}(i);if("function"==typeof p){if(!T(n,t,c))return c&Sn.Host?Sc(f,0,c):ro(n,i,c,f);try{let C;if(C=p(c),null!=C||c&Sn.Optional)return C;cn()}finally{At()}}else if("number"==typeof p){let C=null,A=Kl(t,n),R=Uo,G=c&Sn.Host?n[X][zi]:null;for((-1===A||c&Sn.SkipSelf)&&(R=-1===A?cc(t,n):n[A+8],R!==Uo&&Xf(c,!1)?(C=n[wn],A=Ac(R),n=za(R,n)):A=-1);-1!==A;){const re=n[wn];if(Uu(p,A,re.data)){const be=yg(A,n,i,C,c,G);if(be!==So)return be}R=n[A+8],R!==Uo&&Xf(c,n[wn].data[A+8]===G)&&Uu(p,A,n)?(C=re,A=Ac(R),n=za(R,n)):A=-1}}return f}function yg(t,n,i,c,f,p){const C=n[wn],A=C.data[t+8],re=xa(A,C,i,null==c?fs(A)&&ku:c!=C&&0!=(3&A.type),f&Sn.Host&&p===A);return null!==re?uc(n,C,re,A):So}function xa(t,n,i,c,f){const p=t.providerIndexes,C=n.data,A=1048575&p,R=t.directiveStart,re=p>>20,Xe=f?A+re:t.directiveEnd;for(let pt=c?A:A+re;pt<Xe;pt++){const Ht=C[pt];if(pt<R&&i===Ht||pt>=R&&Ht.type===i)return pt}if(f){const pt=C[R];if(pt&&uo(pt)&&pt.type===i)return R}return null}function uc(t,n,i,c){let f=t[i];const p=n.data;if(function wc(t){return t instanceof _a}(f)){const C=f;C.resolving&&function Ot(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${i}`)}(function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():et(t)}(p[i]));const A=ac(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?ti(C.injectImpl):null;T(t,c,Sn.Default);try{f=t[i]=C.factory(void 0,p,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Oh(t,n,i){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:p}=n.type.prototype;if(c){const C=Ti(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}f&&(i.preOrderHooks??=[]).push(0-t,f),p&&((i.preOrderHooks??=[]).push(t,p),(i.preOrderCheckHooks??=[]).push(t,p))}(i,p[i],n)}finally{null!==G&&ti(G),ac(A),C.resolving=!1,At()}}return f}function Uu(t,n,i){return!!(i[n+(t>>va)]&1<<t)}function Xf(t,n){return!(t&Sn.Self||t&Sn.Host&&n)}class io{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Lu(this._tNode,this._lView,n,Tn(c),i)}}function Qf(){return new io($s(),Qt())}function Mc(t){return Xt(()=>{const n=t.prototype.constructor,i=n[pn]||vd(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const p=f[pn]||vd(f);if(p&&p!==i)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function vd(t){return Gt(t)?()=>{const n=vd(Mt(t));return n&&n()}:Js(t)}function ql(t){const n=t[wn],i=n.type;return 2===i?n.declTNode:1===i?t[zi]:null}function Ed(t){return function Fh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let f=0;for(;f<c;){const p=i[f];if(Fr(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<c&&"string"==typeof i[f];)f++;else{if(p===n)return i[f+1];f+=2}}}return null}($s(),t)}const sa="__parameters__";function ba(t,n,i){return Xt(()=>{const c=function bd(t){return function(...i){if(t){const c=t(...i);for(const f in c)this[f]=c[f]}}}(n);function f(...p){if(this instanceof f)return c.apply(this,p),this;const C=new f(...p);return A.annotation=C,A;function A(R,G,re){const be=R.hasOwnProperty(sa)?R[sa]:Object.defineProperty(R,sa,{value:[]})[sa];for(;be.length<=re;)be.push(null);return(be[re]=be[re]||[]).push(C),R}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Nc(t,n){t.forEach(i=>Array.isArray(i)?Nc(i,n):n(i))}function wd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function kc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Bo(t,n,i){let c=hc(t,n);return c>=0?t[1|c]=i:(c=~c,function Vc(t,n,i,c){let f=t.length;if(f==n)t.push(i,c);else if(1===f)t.push(c,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Dd(t,n){const i=hc(t,n);if(i>=0)return t[1|i]}function hc(t,n){return function tp(t,n,i){let c=0,f=t.length>>i;for(;f!==c;){const p=c+(f-c>>1),C=t[p<<i];if(n===C)return p<<i;C>n?f=p:c=p+1}return~(f<<i)}(t,n,1)}const Ra=Re(ba("Optional"),8),Xl=Re(ba("SkipSelf"),4);function Vd(t){return 128==(128&t.flags)}var Ld=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ld||{});const Av=/^>|^->|<!--|-->|--!>|<!-$/g,_l=/(<|>)/g,cy="\u200b$1\u200b";const Ud=new Map;let wg=0;const Bd="__ngContext__";function Fs(t,n){Fi(n)?(t[Bd]=n[bt],function jd(t){Ud.set(t[bt],t)}(n)):t[Bd]=n}let Yh;function Na(t,n){return Yh(t,n)}function Xh(t){const n=t[Ir];return si(n)?n[Ir]:n}function Gm(t){return gp(t[bs])}function Dg(t){return gp(t[rs])}function gp(t){for(;null!==t&&!si(t);)t=t[rs];return t}function nu(t,n,i,c,f){if(null!=c){let p,C=!1;si(c)?p=c:Fi(c)&&(C=!0,c=c[pi]);const A=Dr(c);0===t&&null!==i?null==f?bp(n,i,A):Gu(n,i,A,f||null,!0):1===t&&null!==i?Gu(n,i,A,f||null,!0):2===t?function ef(t,n,i){const c=zd(t,n);c&&function Rg(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,A,C):3===t&&n.destroyNode(A),null!=p&&function Vg(t,n,i,c,f){const p=i[mi];p!==Dr(i)&&nu(n,t,c,p,f);for(let A=Br;A<i.length;A++){const R=i[A];nf(R[wn],R,t,n,c,p)}}(n,t,p,i,f)}}function Sg(t,n){return t.createComment(function op(t){return t.replace(Av,n=>n.replace(_l,cy))}(n))}function _p(t,n,i){return t.createElement(n,i)}function xg(t,n){const i=t[ki],c=i.indexOf(n);ud(n),i.splice(c,1)}function yi(t,n){if(t.length<=Br)return;const i=Br+n,c=t[i];if(c){const f=c[Te];null!==f&&f!==t&&xg(f,c),n>0&&(t[i-1][rs]=c[rs]);const p=kc(t,Br+n);!function yp(t,n){nf(t,n,n[ar],2,null,null),n[pi]=null,n[zi]=null}(c[wn],c);const C=p[Je];null!==C&&C.detachView(p[wn]),c[Ir]=null,c[rs]=null,c[pr]&=-129}return c}function vp(t,n){if(!(256&n[pr])){const i=n[ar];n[cr]&&Ao(n[cr]),n[jr]&&Ao(n[jr]),i.destroyNode&&nf(t,n,i,3,null,null),function Pg(t){let n=t[bs];if(!n)return Ep(t[wn],t);for(;n;){let i=null;if(Fi(n))i=n[bs];else{const c=n[Br];c&&(i=c)}if(!i){for(;n&&!n[rs]&&n!==t;)Fi(n)&&Ep(n[wn],n),n=n[Ir];null===n&&(n=t),Fi(n)&&Ep(n[wn],n),i=n&&n[rs]}n=i}}(n)}}function Ep(t,n){if(!(256&n[pr])){n[pr]&=-129,n[pr]|=256,function hy(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const f=n[i[c]];if(!(f instanceof _a)){const p=i[c+1];if(Array.isArray(p))for(let C=0;C<p.length;C+=2){const A=f[p[C]],R=p[C+1];Ts(4,A,R);try{R.call(A)}finally{Ts(5,A,R)}}else{Ts(4,f,p);try{p.call(f)}finally{Ts(5,f,p)}}}}}(t,n),function zm(t,n){const i=t.cleanup,c=n[Xs];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const C=i[p+3];C>=0?c[C]():c[-C].unsubscribe(),p+=2}else i[p].call(c[i[p+1]]);null!==c&&(n[Xs]=null);const f=n[Un];if(null!==f){n[Un]=null;for(let p=0;p<f.length;p++)(0,f[p])()}}(t,n),1===n[wn].type&&n[ar].destroy();const i=n[Te];if(null!==i&&si(n[Ir])){i!==n[Ir]&&xg(i,n);const c=n[Je];null!==c&&c.detachView(t)}!function ly(t){Ud.delete(t[bt])}(n)}}function Mg(t,n,i){return function Wm(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[pi];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:p}=t.data[c.directiveStart+f];if(p===fn.None||p===fn.Emulated)return null}return ho(c,i)}}(t,n.parent,i)}function Gu(t,n,i,c,f){t.insertBefore(n,i,c,f)}function bp(t,n,i){t.appendChild(n,i)}function Km(t,n,i,c,f){null!==c?Gu(t,n,i,c,f):bp(t,n,i)}function zd(t,n){return t.parentNode(n)}let Ng,yl,Bg,Sp,Ip=function qm(t,n,i){return 40&t.type?ho(t,i):null};function wp(t,n,i,c){const f=Mg(t,c,n),p=n[ar],A=function Cp(t,n,i){return Ip(t,n,i)}(c.parent||n[zi],c,n);if(null!=f)if(Array.isArray(i))for(let R=0;R<i.length;R++)Km(p,f,i[R],A,!1);else Km(p,f,i,A,!1);void 0!==Ng&&Ng(p,c,n,i,f)}function zu(t,n){if(null!==n){const i=n.type;if(3&i)return ho(n,t);if(4&i)return Zh(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return zu(t,c);{const f=t[n.index];return si(f)?Zh(-1,f):Dr(f)}}if(32&i)return Na(n,t)()||Dr(t[n.index]);{const c=kg(t,n);return null!==c?Array.isArray(c)?c[0]:zu(Xh(t[X]),c):zu(t,n.next)}}return null}function kg(t,n){return null!==n?t[X][zi].projection[n.projection]:null}function Zh(t,n){const i=Br+t+1;if(i<n.length){const c=n[i],f=c[wn].firstChild;if(null!==f)return zu(c,f)}return n[mi]}function tf(t,n,i,c,f,p,C){for(;null!=i;){const A=c[i.index],R=i.type;if(C&&0===n&&(A&&Fs(Dr(A),c),i.flags|=2),32!=(32&i.flags))if(8&R)tf(t,n,i.child,c,f,p,!1),nu(n,t,f,A,p);else if(32&R){const G=Na(i,c);let re;for(;re=G();)nu(n,t,f,re,p);nu(n,t,f,A,p)}else 16&R?Xm(t,n,c,i,f,p):nu(n,t,f,A,p);i=C?i.projectionNext:i.next}}function nf(t,n,i,c,f,p){tf(i,c,t.firstChild,n,f,p,!1)}function Xm(t,n,i,c,f,p){const C=i[X],R=C[zi].projection[c.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)nu(n,t,f,R[G],p);else{let G=R;const re=C[Ir];Vd(c)&&(G.flags|=128),tf(t,n,G,re,f,p,!0)}}function Ap(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Dp(t,n,i){const{mergedAttrs:c,classes:f,styles:p}=i;null!==c&&xr(t,n,c),null!==f&&Ap(t,n,f),null!==p&&function Lg(t,n,i){t.setAttribute(n,"style",i)}(t,n,p)}function ru(t){return function rf(){if(void 0===yl&&(yl=null,er.trustedTypes))try{yl=er.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yl}()?.createHTML(t)||t}function $g(t){Bg=t}function Wd(){if(void 0!==Bg)return Bg;if(typeof document<"u")return document;throw new _e(210,!1)}function sf(){if(void 0===Sp&&(Sp=null,er.trustedTypes))try{Sp=er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sp}function Jm(t){return sf()?.createHTML(t)||t}function Zm(t){return sf()?.createScriptURL(t)||t}class El{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}class gy extends El{getTypeName(){return"HTML"}}class Hg extends El{getTypeName(){return"Style"}}class e_ extends El{getTypeName(){return"Script"}}class Gg extends El{getTypeName(){return"URL"}}class t_ extends El{getTypeName(){return"ResourceURL"}}function Ka(t){return t instanceof El?t.changingThisBreaksApplicationSecurity:t}function qa(t,n){const i=function qd(t){return t instanceof El&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ge})`)}return i===n}function Pp(t){return new gy(t)}function Yd(t){return new Hg(t)}function Wu(t){return new e_(t)}function zg(t){return new Gg(t)}function my(t){return new t_(t)}class _y{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(ru(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Wg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=ru(n),i}}const Xd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function af(t){return(t=String(t)).match(Xd)?t:"unsafe:"+t}function Ya(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function cf(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const r_=Ya("area,br,col,hr,img,wbr"),i_=Ya("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),s_=Ya("rp,rt"),Qd=cf(r_,cf(i_,Ya("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cf(s_,Ya("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cf(s_,i_)),Xa=Ya("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jd=cf(Xa,Ya("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ya("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vy=Ya("script,style,template");class Zd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Qd.hasOwnProperty(i))return this.sanitizedSomething=!0,!vy.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let f=0;f<c.length;f++){const p=c.item(f),C=p.name,A=C.toLowerCase();if(!Jd.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=p.value;Xa[A]&&(R=af(R)),this.buf.push(" ",C,'="',qg(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Qd.hasOwnProperty(i)&&!r_.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(qg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const xp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kg=/([^\#-~ |!])/g;function qg(t){return t.replace(/&/g,"&amp;").replace(xp,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Kg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cl;function Mp(t,n){let i=null;try{Cl=Cl||function bl(t){const n=new Wg(t);return function n_(){try{return!!(new window.DOMParser).parseFromString(ru(""),"text/html")}catch{return!1}}()?new _y(n):n}(t);let c=n?String(n):"";i=Cl.getInertBodyElement(c);let f=5,p=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=p,p=i.innerHTML,i=Cl.getInertBodyElement(c)}while(c!==p);return ru((new Zd).sanitizeChildren(Yg(i)||i))}finally{if(i){const c=Yg(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yg(t){return"content"in t&&function Dv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var eh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(eh||{});function c_(t){const n=su();return n?Jm(n.sanitize(eh.HTML,t)||""):qa(t,"HTML")?Jm(Ka(t)):Mp(Wd(),et(t))}function Xg(t){const n=su();return n?n.sanitize(eh.URL,t)||"":qa(t,"URL")?Ka(t):af(et(t))}function by(t){const n=su();if(n)return Zm(n.sanitize(eh.RESOURCE_URL,t)||"");if(qa(t,"ResourceURL"))return Zm(Ka(t));throw new _e(904,!1)}function Cy(t,n,i){return function Mv(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?by:Xg}(n,i)(t)}function su(){const t=Qt();return t&&t[Ms].sanitizer}const Il=new rn("ENVIRONMENT_INITIALIZER"),u_=new rn("INJECTOR",-1),lf=new rn("INJECTOR_DEF_TYPES");class Rp{get(n,i=zn){if(i===zn){const c=new Error(`NullInjectorError: No provider for ${xe(n)}!`);throw c.name="NullInjectorError",c}return i}}function th(t){return{\u0275providers:t}}function Si(...t){return{\u0275providers:d_(0,t),\u0275fromNgModule:!0}}function d_(t,...n){const i=[],c=new Set;let f;const p=C=>{i.push(C)};return Nc(n,C=>{const A=C;Ku(A,p,[],c)&&(f||=[],f.push(A))}),void 0!==f&&Qg(f,p),i}function Qg(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:f}=t[i];bo(f,p=>{n(p,c)})}}function Ku(t,n,i,c){if(!(t=Mt(t)))return!1;let f=null,p=mr(t);const C=!p&&Lr(t);if(p||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(p=mr(R),!p)return!1;f=R}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)Ku(G,n,i,c)}}else{if(!p)return!1;{if(null!=p.imports&&!A){let G;c.add(f);try{Nc(p.imports,re=>{Ku(re,n,i,c)&&(G||=[],G.push(re))})}finally{}void 0!==G&&Qg(G,n)}if(!A){const G=Js(f)||(()=>new f);n({provide:f,useFactory:G,deps:vn},f),n({provide:lf,useValue:f,multi:!0},f),n({provide:Il,useValue:()=>Tt(f),multi:!0},f)}const R=p.providers;if(null!=R&&!A){const G=t;bo(R,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function bo(t,n){for(let i of t)Lt(i)&&(i=i.\u0275providers),Array.isArray(i)?bo(i,n):n(i)}const Gs=J({provide:String,useValue:J});function pc(t){return null!==t&&"object"==typeof t&&Gs in t}function qu(t){return"function"==typeof t}const Op=new rn("Set Injector scope."),Np={},h_={};let f_;function Jg(){return void 0===f_&&(f_=new Rp),f_}class Oi{}class kp extends Oi{get destroyed(){return this._destroyed}constructor(n,i,c,f){super(),this.parent=i,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m_(n,C=>this.processProvider(C)),this.records.set(u_,uf(void 0,this)),f.has("environment")&&this.records.set(Oi,uf(void 0,this));const p=this.records.get(Op);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(lf.multi,vn,Sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=ge(this),c=ti(void 0);try{return n()}finally{ge(i),ti(c)}}get(n,i=zn,c=Sn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(gn))return n[gn](this);c=Tn(c);const p=ge(this),C=ti(void 0);try{if(!(c&Sn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function Nv(t){return"function"==typeof t||"object"==typeof t&&t instanceof rn}(n)&&Zn(n);R=G&&this.injectableDefInScope(G)?uf(p_(n),Np):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(c&Sn.Self?Jg():this.parent).get(n,i=c&Sn.Optional&&i===zn?null:i)}catch(A){if("NullInjectorError"===A.name){if((A[Or]=A[Or]||[]).unshift(xe(n)),p)throw A;return function Be(t,n,i,c){const f=t[Or];throw n[M]&&f.unshift(n[M]),t.message=function kt(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=xe(n);if(Array.isArray(n))f=n.map(xe).join(" -> ");else if("object"==typeof n){let p=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];p.push(C+":"+("string"==typeof A?JSON.stringify(A):xe(A)))}f=`{${p.join(", ")}}`}return`${i}${c?"("+c+")":""}[${f}]: ${t.replace(Ct,"\n  ")}`}("\n"+t.message,f,i,c),t.ngTokenPath=f,t[Or]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{ti(C),ge(p)}}resolveInjectorInitializers(){const n=ge(this),i=ti(void 0);try{const f=this.get(Il.multi,vn,Sn.Self);for(const p of f)p()}finally{ge(n),ti(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(xe(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(n){let i=qu(n=Mt(n))?n:Mt(n&&n.provide);const c=function wy(t){return pc(t)?uf(void 0,t.useValue):uf(Ay(t),Np)}(n);if(qu(n)||!0!==n.multi)this.records.get(i);else{let f=this.records.get(i);f||(f=uf(void 0,Np,!0),f.factory=()=>yr(f.multi),this.records.set(i,f)),i=n,f.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Np&&(i.value=h_,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Dy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Mt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function p_(t){const n=Zn(t),i=null!==n?n.factory:Js(t);if(null!==i)return i;if(t instanceof rn)throw new _e(204,!1);if(t instanceof Function)return function Ps(t){const n=t.length;if(n>0)throw function Fc(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new _e(204,!1);const i=function zt(t){return t&&(t[_n]||t[ir])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new _e(204,!1)}function Ay(t,n,i){let c;if(qu(t)){const f=Mt(t);return Js(f)||p_(f)}if(pc(t))c=()=>Mt(t.useValue);else if(function Ty(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...yr(t.deps||[]));else if(function Iy(t){return!(!t||!t.useExisting)}(t))c=()=>Tt(Mt(t.useExisting));else{const f=Mt(t&&(t.useClass||t.provide));if(!function g_(t){return!!t.deps}(t))return Js(f)||p_(f);c=()=>new f(...yr(t.deps))}return c}function uf(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function m_(t,n){for(const i of t)Array.isArray(i)?m_(i,n):i&&Lt(i)?m_(i.\u0275providers,n):n(i)}const Sy=new rn("AppId",{providedIn:"root",factory:()=>kv}),kv="ng",Fv=new rn("Platform Initializer"),__=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fp=new rn("AnimationModuleType"),Vv=new rn("CSP nonce",{providedIn:"root",factory:()=>Wd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rm=(t,n,i)=>null;function ou(t,n,i=!1){return rm(t,n,i)}class T_{}class Up{}class Lv{resolveComponentFactory(n){throw function jp(t){const n=Error(`No component factory found for ${xe(t)}.`);return n.ngComponent=t,n}(n)}}let cu=(()=>{class t{static{this.NULL=new Lv}}return t})();function B0(){return Bp($s(),Qt())}function Bp(t,n){return new ah(ho(t,n))}let ah=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=B0}}return t})();function Uv(t){return t instanceof ah?t.nativeElement:t}class $p{}let jv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Bv(){const t=Qt(),i=Ji($s().index,t);return(Fi(i)?i:t)[ar]}()}}return t})(),om=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Oy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Ny=new Oy("16.2.12"),mf={};function Hv(t,n=null,i=null,c){const f=Ly(t,n,i,c);return f.resolveInjectorInitializers(),f}function Ly(t,n=null,i=null,c,f=new Set){const p=[i||vn,Si(t)];return c=c||("object"==typeof t?void 0:xe(t)),new kp(p,n||Jg(),c||null,f)}let wl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=zn}static{this.NULL=new Rp}static create(i,c){if(Array.isArray(i))return Hv({name:""},c,i,"");{const f=i.name??"";return Hv({name:f},i.parent,i.providers,f)}}static{this.\u0275prov=hn({token:t,providedIn:"any",factory:()=>Tt(u_)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function lu(t){return t.ngOriginalError}class mc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&lu(n);for(;i&&lu(i);)i=lu(i);return i||null}}function Dl(t){return n=>{setTimeout(t,void 0,n)}}const Sl=class Kv extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let f=n,p=i||(()=>null),C=c;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),p=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(p=Dl(p),f&&(f=Dl(f)),C&&(C=Dl(C)));const A=super.subscribe({next:f,error:p,complete:C});return n instanceof ue.yU&&n.add(A),A}};function Uy(...t){}class Po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sl(!1),this.onMicrotaskEmpty=new Sl(!1),this.onStable=new Sl(!1),this.onError=new Sl(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&i,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function qv(){const t="function"==typeof er.requestAnimationFrame;let n=er[t?"requestAnimationFrame":"setTimeout"],i=er[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=i[Zone.__symbol__("OriginalDelegate")];f&&(i=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Xv(t){const n=()=>{!function Yv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(er,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,P_(t),t.isCheckStableRunning=!0,S_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),P_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,f,p,C,A)=>{if(function Jv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return i.invokeTask(f,p,C,A);try{return By(t),i.invokeTask(f,p,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),ch(t)}},onInvoke:(i,c,f,p,C,A,R)=>{try{return By(t),i.invoke(f,p,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),ch(t)}},onHasTask:(i,c,f,p)=>{i.hasTask(f,p),c===f&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,P_(t),S_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,c,f,p)=>(i.handleError(f,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new _e(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,f){const p=this._inner,C=p.scheduleEventTask("NgZoneEvent: "+f,n,jy,Uy,Uy);try{return p.runTask(C,i,c)}finally{p.cancelTask(C)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const jy={};function S_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function P_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function By(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ch(t){t._nesting--,S_(t)}class x_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sl,this.onMicrotaskEmpty=new Sl,this.onStable=new Sl,this.onError=new Sl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,f){return n.apply(i,c)}}const Qv=new rn("",{providedIn:"root",factory:$y});function $y(){const t=un(Po);let n=!0;const i=new s.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new s.c(f=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Po.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),C.unsubscribe()}});return(0,Ee.h)(i,c.pipe((0,Ae.u)()))}function Hy(t){return t.ownerDocument.defaultView}function Ju(t){return t instanceof Function?t():t}let Ky=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function zp(t){for(;t;){t[pr]|=64;const n=Xh(t);if(Rs(t)&&!n)return t;t=n}return null}const qy=new rn("",{providedIn:"root",factory:()=>!1});let um=null;function dm(t,n){return t[n]??hm()}function R_(t,n){const i=hm();i.producerNode?.length&&(t[n]=um,i.lView=t,um=N_())}const O_={...nl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zp(t.lView)},lView:null};function N_(){return Object.create(O_)}function hm(){return um??=N_(),um}const Zr={};function Xy(t){Kp($r(),Qt(),Er()+t,!1)}function Kp(t,n,i,c){if(!c)if(3==(3&n[pr])){const p=t.preOrderCheckHooks;null!==p&&Gl(n,p,i)}else{const p=t.preOrderHooks;null!==p&&xu(n,p,0,i)}Yr(i)}function Pl(t,n=Sn.Default){const i=Qt();return null===i?Tt(t,n):Lu($s(),i,Mt(t),n)}function u(){throw new Error("invalid")}function r(t,n,i,c,f,p,C,A,R,G,re){const be=n.blueprint.slice();return be[pi]=f,be[pr]=140|c,(null!==G||t&&2048&t[pr])&&(be[pr]|=2048),na(be),be[Ir]=be[Z]=t,be[gi]=i,be[Ms]=C||t&&t[Ms],be[ar]=A||t&&t[ar],be[ss]=R||t&&t[ss]||null,be[zi]=p,be[bt]=function Bm(){return wg++}(),be[Dn]=re,be[an]=G,be[X]=2==n.type?t[X]:be,be}function a(t,n,i,c,f){let p=t.data[n];if(null===p)p=function h(t,n,i,c,f){const p=ul(),C=ga(),R=t.data[n]=function ur(t,n,i,c,f,p){let C=n?n.injectorIndex:-1,A=0;return function pa(){return null!==vr.skipHydrationRootTNode}()&&(A|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?p:p&&p.parent,i,n,c,f);return null===t.firstChild&&(t.firstChild=R),null!==p&&(C?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(t,n,i,c,f),function md(){return vr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=c,p.attrs=f;const C=function bc(){const t=vr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===C?-1:C.injectorIndex}return vo(p,!0),p}function m(t,n,i,c){if(0===i)return-1;const f=n.length;for(let p=0;p<i;p++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,i,c,f){const p=dm(n,cr),C=Er(),A=2&c;try{Yr(-1),A&&n.length>Wn&&Kp(t,n,Wn,!1),Ts(A?2:0,f);const G=A?p:null,re=eo(G);try{null!==G&&(G.dirty=!1),i(c,f)}finally{Fo(G,re)}}finally{A&&null===n[cr]&&R_(n,cr),Yr(C),Ts(A?3:1,f)}}function P(t,n,i){if(Xo(n)){const c=Qi(null);try{const p=n.directiveEnd;for(let C=n.directiveStart;C<p;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,i[C],C)}}finally{Qi(c)}}}function F(t,n,i){Du()&&(function Qy(t,n,i,c){const f=i.directiveStart,p=i.directiveEnd;fs(i)&&function vf(t,n,i){const c=ho(n,t),f=ie(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const A=uh(t,r(t,f,null,C,c,n,null,t[Ms].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=A}(n,i,t.data[f+i.componentOffset]),t.firstCreatePass||Dc(i,n),Fs(c,n);const C=i.initialInputs;for(let A=f;A<p;A++){const R=t.data[A],G=uc(n,t,A,i);Fs(G,n),null!==C&&ev(0,A-f,G,R,0,C),uo(R)&&(Ji(i.index,n)[gi]=uc(n,t,A,i))}}(t,n,i,ho(i,n)),64==(64&i.flags)&&lh(t,n,i))}function W(t,n,i=ho){const c=n.localNames;if(null!==c){let f=n.index+1;for(let p=0;p<c.length;p+=2){const C=c[p+1],A=-1===C?i(n,t):t[C];t[f++]=A}}}function ie(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,i,c,f,p,C,A,R,G,re){const be=Wn+c,Xe=be+f,pt=function $e(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:Zr);return i}(be,Xe),Ht="function"==typeof G?G():G;return pt[wn]={type:t,blueprint:pt,template:i,queries:null,viewQuery:A,declTNode:n,data:pt.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Ht,incompleteFirstPass:!1,ssrId:re}}let En=t=>null;function Hr(t,n,i,c){for(let f in t)if(t.hasOwnProperty(f)){i=null===i?{}:i;const p=t[f];null===c?fr(i,n,f,p):c.hasOwnProperty(f)&&fr(i,n,c[f],p)}return i}function fr(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function ke(t,n,i,c,f,p,C,A){const R=ho(n,i);let re,G=n.inputs;!A&&null!=G&&(re=G[c])?(Jp(t,i,re,c,f),fs(n)&&function Ke(t,n){const i=Ji(n,t);16&i[pr]||(i[pr]|=64)}(i,n.index)):3&n.type&&(c=function ut(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,n.value||"",c):f,p.setProperty(R,c,f))}function St(t,n,i,c){if(Du()){const f=null===c?null:{"":-1},p=function fm(t,n){const i=t.directiveRegistry;let c=null,f=null;if(i)for(let p=0;p<i.length;p++){const C=i[p];if(Gi(n,C.selectors,!1))if(c||(c=[]),uo(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),Yp(t,n,A.length)}else c.unshift(C),Yp(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,i);let C,A;null===p?C=A=null:[C,A]=p,null!==C&&ze(t,n,i,C,f,A),f&&function Jy(t,n,i){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const p=i[n[f+1]];if(null==p)throw new _e(-301,!1);c.push(n[f],p)}}}(i,c,f)}i.mergedAttrs=wi(i.mergedAttrs,i.attrs)}function ze(t,n,i,c,f,p){for(let G=0;G<c.length;G++)lc(Dc(i,n),t,c[G].type);!function Ho(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let G=0;G<c.length;G++){const re=c[G];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,R=m(t,n,c.length,null);for(let G=0;G<c.length;G++){const re=c[G];i.mergedAttrs=wi(i.mergedAttrs,re.hostAttrs),Zy(t,i,n,R,re),du(R,re,f),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const be=re.type.prototype;!C&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!A&&(be.ngOnChanges||be.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),A=!0),R++}!function vi(t,n,i){const f=n.directiveEnd,p=t.data,C=n.attrs,A=[];let R=null,G=null;for(let re=n.directiveStart;re<f;re++){const be=p[re],Xe=i?i.get(be):null,Ht=Xe?Xe.outputs:null;R=Hr(be.inputs,re,R,Xe?Xe.inputs:null),G=Hr(be.outputs,re,G,Ht);const Cn=null===R||null===C||Ys(n)?null:Xp(R,re,C);A.push(Cn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,i,p)}function lh(t,n,i){const c=i.directiveStart,f=i.directiveEnd,p=i.index,C=function Rh(){return vr.lFrame.currentDirectiveIndex}();try{Yr(p);for(let A=c;A<f;A++){const R=t.data[A],G=n[A];Pa(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&qp(R,G)}}finally{Yr(-1),Pa(C)}}function qp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Yp(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function du(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;uo(n)&&(i[""]=t)}}function Zy(t,n,i,c,f){t.data[c]=f;const p=f.factory||(f.factory=Js(f.type)),C=new _a(p,uo(f),Pl);t.blueprint[c]=C,i[c]=C,function xl(t,n,i,c,f){const p=f.hostBindings;if(p){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function yf(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=A&&C.push(A),C.push(i,c,p)}}(t,n,c,m(t,i,f.hostVars,Zr),f)}function Bc(t,n,i,c,f,p){const C=ho(t,n);!function Zu(t,n,i,c,f,p,C){if(null==p)t.removeAttribute(n,f,i);else{const A=null==C?et(p):C(p,c||"",f);t.setAttribute(n,f,A,i)}}(n[ar],C,p,t.value,i,c,f)}function ev(t,n,i,c,f,p){const C=p[n];if(null!==C)for(let A=0;A<C.length;)k_(c,i,C[A++],C[A++],C[A++])}function k_(t,n,i,c,f){const p=Qi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(n,f)),null!==t.setInput?t.setInput(n,f,i,c):n[c]=f}finally{Qi(p)}}function Xp(t,n,i){let c=null,f=0;for(;f<i.length;){const p=i[f];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===c&&(c=[]);const C=t[p];for(let A=0;A<C.length;A+=2)if(C[A]===n){c.push(p,C[A+1],i[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Ef(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Qp(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const p=i[c+1];if(-1!==p){const C=t.data[p];D(i[c]),C.contentQueries(2,n[p],p)}}}function uh(t,n){return t[bs]?t[Ls][rs]=n:t[bs]=n,t[Ls]=n,n}function bf(t,n,i){D(0);const c=Qi(null);try{n(t,i)}finally{Qi(c)}}function pm(t){return t[Xs]||(t[Xs]=[])}function gm(t){return t.cleanup||(t.cleanup=[])}function mm(t,n){const i=t[ss],c=i?i.get(mc,null):null;c&&c.handleError(n)}function Jp(t,n,i,c,f){for(let p=0;p<i.length;){const C=i[p++],A=i[p++];k_(t.data[C],n[C],c,A,f)}}function $c(t,n,i){const c=Aa(n,t);!function mp(t,n,i){t.setValue(n,i)}(t[ar],c,i)}function L_(t,n){const i=Ji(n,t),c=i[wn];!function tv(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const f=i[pi];null!==f&&null===i[Dn]&&(i[Dn]=ou(f,i[ss])),Qa(c,i,i[gi])}function Qa(t,n,i){N(n);try{const c=t.viewQuery;null!==c&&bf(1,c,i);const f=t.template;null!==f&&b(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Qp(t,n),t.staticViewQueries&&bf(2,t.viewQuery,i);const p=t.components;null!==p&&function Zp(t,n){for(let i=0;i<n.length;i++)L_(t,n[i])}(n,p)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[pr]&=-5,_t()}}let dh=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,f){const p=typeof Zone>"u"?null:Zone.current,C=function $t(t,n,i){const c=Object.create(ai);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>ys(c),run:()=>{if(c.dirty=!1,c.hasRun&&!rl(c))return;c.hasRun=!0;const C=eo(c);try{c.cleanupFn(),c.cleanupFn=Jn,c.fn(f)}finally{Fo(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(i,G=>{this.all.has(G)&&this.queue.set(G,p)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function so(t,n,i){let c=i?t.styles:null,f=i?t.classes:null,p=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?p=A:1==p?f=dt(f,A):2==p&&(c=dt(c,A+": "+n[++C]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=f:t.classesWithoutHost=f}function oo(t,n,i,c,f=!1){for(;null!==i;){const p=n[i.index];null!==p&&c.push(Dr(p)),si(p)&&eg(p,c);const C=i.type;if(8&C)oo(t,n,i.child,c);else if(32&C){const A=Na(i,n);let R;for(;R=A();)c.push(R)}else if(16&C){const A=kg(n,i);if(Array.isArray(A))c.push(...A);else{const R=Xh(n[X]);oo(R[wn],R,A,c,!0)}}i=f?i.projectionNext:i.next}return c}function eg(t,n){for(let i=Br;i<t.length;i++){const c=t[i],f=c[wn].firstChild;null!==f&&oo(c[wn],c,f,n)}t[mi]!==t[pi]&&n.push(t[mi])}function Cf(t,n,i,c=!0){const f=n[Ms],p=f.rendererFactory,C=f.afterRenderEventManager;p.begin?.(),C?.begin();try{Ml(t,n,t.template,i)}catch(R){throw c&&mm(n,R),R}finally{p.end?.(),f.effectManager?.flush(),C?.end()}}function Ml(t,n,i,c){const f=n[pr];if(256!=(256&f)){n[Ms].effectManager?.flush(),N(n);try{na(n),function $a(t){return vr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&b(t,n,i,2,c);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&Gl(n,G,null)}else{const G=t.preOrderHooks;null!==G&&xu(n,G,0,null),Mu(n,0)}if(function _m(t){for(let n=Gm(t);null!==n;n=Dg(n)){if(!n[Ii])continue;const i=n[ki];for(let c=0;c<i.length;c++){al(i[c])}}}(n),tg(n,2),null!==t.contentQueries&&Qp(t,n),C){const G=t.contentCheckHooks;null!==G&&Gl(n,G)}else{const G=t.contentHooks;null!==G&&xu(n,G,1),Mu(n,1)}!function e(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=dm(n,jr);try{for(let f=0;f<i.length;f++){const p=i[f];if(p<0)Yr(~p);else{const C=p,A=i[++f],R=i[++f];Mh(A,C),c.dirty=!1;const G=eo(c);try{R(2,n[C])}finally{Fo(c,G)}}}}finally{null===n[jr]&&R_(n,jr),Yr(-1)}}(t,n);const A=t.components;null!==A&&Tf(n,A,0);const R=t.viewQuery;if(null!==R&&bf(2,R,c),C){const G=t.viewCheckHooks;null!==G&&Gl(n,G)}else{const G=t.viewHooks;null!==G&&xu(n,G,2),Mu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[pr]&=-73,ud(n)}finally{_t()}}}function tg(t,n){for(let i=Gm(t);null!==i;i=Dg(i))for(let c=Br;c<i.length;c++)j_(i[c],n)}function o0(t,n,i){j_(Ji(n,t),i)}function j_(t,n){if(!function Tu(t){return 128==(128&t[pr])}(t))return;const i=t[wn],c=t[pr];if(80&c&&0===n||1024&c||2===n)Ml(i,t,i.template,t[gi]);else if(t[hs]>0){tg(t,1);const f=i.components;null!==f&&Tf(t,f,1)}}function Tf(t,n,i){for(let c=0;c<n.length;c++)o0(t,n[c],i)}class ed{get rootNodes(){const n=this._lView,i=n[wn];return oo(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gi]}set context(n){this._lView[gi]=n}get destroyed(){return 256==(256&this._lView[pr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ir];if(si(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(yi(n,c),kc(i,c))}this._attachedToViewContainer=!1}vp(this._lView[wn],this._lView)}onDestroy(n){!function hd(t,n){if(256==(256&t[pr]))throw new _e(911,!1);null===t[Un]&&(t[Un]=[]),t[Un].push(n)}(this._lView,n)}markForCheck(){zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[pr]&=-129}reattach(){this._lView[pr]|=128}detectChanges(){Cf(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qh(t,n){nf(t,n,n[ar],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=n}}class nv extends ed{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Cf(n[wn],n,n[gi],!1)}checkNoChanges(){}get context(){return null}}class td extends cu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Lr(n);return new fh(i,this.ngModule)}}function hh(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class hu{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=Tn(c);const f=this.injector.get(n,mf,c);return f!==mf||i===mf?f:this.parentInjector.get(n,i,c)}}class fh extends Up{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=hh(n.inputs);if(null!==i)for(const f of c)i.hasOwnProperty(f.propName)&&(f.transform=i[f.propName]);return c}get outputs(){return hh(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function fi(t){return t.map(Vs).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,f){let p=(f=f||this.ngModule)instanceof Oi?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const C=p?new hu(n,p):n,A=C.get($p,null);if(null===A)throw new _e(407,!1);const be={rendererFactory:A,sanitizer:C.get(om,null),effectManager:C.get(dh,null),afterRenderEventManager:C.get(Ky,null)},Xe=A.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Ht=c?function It(t,n,i,c){const p=c.get(qy,!1)||i===fn.ShadowDom,C=t.selectRootElement(n,p);return function Kt(t){En(t)}(C),C}(Xe,c,this.componentDef.encapsulation,C):_p(Xe,pt,function ym(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(pt)),Cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let on=null;null!==Ht&&(on=ou(Ht,C,!0));const ei=ye(0,null,null,1,0,null,null,null,null,null,null),xi=r(null,ei,null,Cr,null,null,be,Xe,C,null,on);let Es,el;N(xi);try{const Wf=this.componentDef;let ay,ME=null;Wf.findHostDirectiveDefs?(ay=[],ME=new Map,Wf.findHostDirectiveDefs(Wf,ay,ME),ay.push(Wf)):ay=[Wf];const K1=function wf(t,n){const i=t[wn],c=Wn;return t[c]=n,a(i,c,2,"#host",null)}(xi,Ht),q1=function fu(t,n,i,c,f,p,C){const A=f[wn];!function Af(t,n,i,c){for(const f of t)n.mergedAttrs=wi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(so(n,n.mergedAttrs,!0),null!==i&&Dp(c,i,n))}(c,t,n,C);let R=null;null!==n&&(R=ou(n,f[ss]));const G=p.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const be=r(f,ie(i),null,re,f[t.index],t,p,G,null,null,R);return A.firstCreatePass&&Yp(A,t,c.length-1),uh(f,be),f[t.index]=be}(K1,Ht,Wf,ay,xi,be,Xe);el=ld(ei,Wn),Ht&&function ng(t,n,i,c){if(c)xr(t,i,["ng-version",Ny.full]);else{const{attrs:f,classes:p}=function ko(t){const n=[],i=[];let c=1,f=2;for(;c<t.length;){let p=t[c];if("string"==typeof p)2===f?""!==p&&n.push(p,t[++c]):8===f&&i.push(p);else{if(!li(f))break;f=p}c++}return{attrs:n,classes:i}}(n.selectors[0]);f&&xr(t,i,f),p&&p.length>0&&Ap(t,i,p.join(" "))}}(Xe,Wf,Ht,c),void 0!==i&&function Fa(t,n,i){const c=t.projection=[];for(let f=0;f<n.length;f++){const p=i[f];c.push(null!=p?Array.from(p):null)}}(el,this.ngContentSelectors,i),Es=function Go(t,n,i,c,f,p){const C=$s(),A=f[wn],R=ho(C,f);ze(A,f,C,i,null,c);for(let re=0;re<i.length;re++)Fs(uc(f,A,C.directiveStart+re,C),f);lh(A,f,C),R&&Fs(R,f);const G=uc(f,A,C.directiveStart+C.componentOffset,C);if(t[gi]=f[gi]=G,null!==p)for(const re of p)re(G,n);return P(A,C,t),G}(q1,Wf,ay,ME,xi,[nd]),Qa(ei,xi,null)}finally{_t()}return new ph(this.componentType,Es,Bp(el,xi),xi,el)}}class ph extends T_{constructor(n,i,c,f,p){super(),this.location=c,this._rootLView=f,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new nv(f),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;Jp(p[wn],p,f,n,i),this.previousInputValues.set(n,i),zp(Ji(this._tNode.index,p))}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function nd(){const t=$s();Ga(Qt()[wn],t)}function vm(t){let n=function Df(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let f;if(uo(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _e(903,!1);f=n.\u0275dir}if(f){if(i){c.push(f);const C=t;C.inputs=Sf(t.inputs),C.inputTransforms=Sf(t.inputTransforms),C.declaredInputs=Sf(t.declaredInputs),C.outputs=Sf(t.outputs);const A=f.hostBindings;A&&Rl(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&rv(t,R),G&&Pf(t,G),de(t.inputs,f.inputs),de(t.declaredInputs,f.declaredInputs),de(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),de(C.inputTransforms,f.inputTransforms)),uo(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let C=0;C<p.length;C++){const A=p[C];A&&A.ngInherit&&A(t),A===vm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Hc(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=wi(f.hostAttrs,i=wi(i,f.hostAttrs))}}(c)}function Sf(t){return t===or?{}:t===vn?[]:t}function rv(t,n){const i=t.viewQuery;t.viewQuery=i?(c,f)=>{n(c,f),i(c,f)}:n}function Pf(t,n){const i=t.contentQueries;t.contentQueries=i?(c,f,p)=>{n(c,f,p),i(c,f,p)}:n}function Rl(t,n){const i=t.hostBindings;t.hostBindings=i?(c,f)=>{n(c,f),i(c,f)}:n}function ig(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(i[c]=f[2])}t.inputTransforms=i}function Rf(t){return!!zc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ol(t,n,i){return t[n]=i}function Of(t,n){return t[n]}function zo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function id(t,n,i,c){const f=zo(t,n,i);return zo(t,n+1,c)||f}function Nf(t,n,i,c,f){const p=id(t,n,i,c);return zo(t,n+2,f)||p}function Mo(t,n,i,c,f,p){const C=id(t,n,i,c);return id(t,n+2,f,p)||C}function sg(t,n,i,c){const f=Qt();return zo(f,Sa(),n)&&($r(),Bc(Di(),f,t,n,i,c)),sg}function gh(t,n,i,c){return zo(t,Sa(),i)?n+et(i)+c:Zr}function Nl(t,n,i,c,f,p){const A=id(t,function Eo(){return vr.lFrame.bindingIndex}(),i,f);return Do(2),A?n+et(i)+c+et(f)+p:Zr}function Bf(t,n,i,c,f,p,C,A){const R=Qt(),G=$r(),re=t+Wn,be=G.firstCreatePass?function Dm(t,n,i,c,f,p,C,A,R){const G=n.consts,re=a(n,t,4,C||null,Ds(G,A));St(n,i,re,Ds(G,R)),Ga(n,re);const be=re.tView=ye(2,re,c,f,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),be.queries=n.queries.embeddedTView(re)),re}(re,G,R,n,i,c,f,p,C):G.data[re];vo(be,!1);const Xe=Sm(G,R,be,t);oc()&&wp(G,R,Xe,be),Fs(Xe,R),uh(R,R[re]=Ef(Xe,R,Xe,be)),lo(be)&&F(G,R,be),null!=C&&W(R,be,A)}let Sm=function $f(t,n,i,c){return ma(!0),n[ar].createComment("")};function Hf(t){return ol(function gd(){return vr.lFrame.contextLView}(),Wn+t)}function vu(t,n,i){const c=Qt();return zo(c,Sa(),n)&&ke($r(),Di(),c,t,n,c[ar],i,!1),vu}function ad(t,n,i,c,f){const C=f?"class":"style";Jp(t,i,n.inputs[C],C,c)}function Gf(t,n,i,c){const f=Qt(),p=$r(),C=Wn+t,A=f[ar],R=p.firstCreatePass?function Pm(t,n,i,c,f,p){const C=n.consts,R=a(n,t,2,c,Ds(C,f));return St(n,i,R,Ds(C,p)),null!==R.attrs&&so(R,R.attrs,!1),null!==R.mergedAttrs&&so(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,p,f,n,i,c):p.data[C],G=xm(p,f,R,A,n,t);f[C]=G;const re=lo(R);return vo(R,!0),Dp(A,G,R),32!=(32&R.flags)&&oc()&&wp(p,f,G,R),0===function Da(){return vr.lFrame.elementDepthCount}()&&Fs(G,f),function Bl(){vr.lFrame.elementDepthCount++}(),re&&(F(p,f,R),P(p,R,f)),null!==c&&W(f,R),Gf}function Fl(){let t=$s();ga()?Cc():(t=t.parent,vo(t,!1));const n=t;(function fd(t){return vr.skipHydrationRootTNode===t})(n)&&function pd(){vr.skipHydrationRootTNode=null}(),function xh(){vr.lFrame.elementDepthCount--}();const i=$r();return i.firstCreatePass&&(Ga(i,t),Xo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function yd(t){return 0!=(8&t.flags)}(n)&&ad(i,n,Qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function zl(t){return 0!=(16&t.flags)}(n)&&ad(i,n,Qt(),n.stylesWithoutHost,!1),Fl}function pg(t,n,i,c){return Gf(t,n,i,c),Fl(),pg}let xm=(t,n,i,c,f,p)=>(ma(!0),_p(c,f,function Pu(){return vr.lFrame.currentNamespace}()));function Ih(t,n,i){const c=Qt(),f=$r(),p=t+Wn,C=f.firstCreatePass?function Mm(t,n,i,c,f){const p=n.consts,C=Ds(p,c),A=a(n,t,8,"ng-container",C);return null!==C&&so(A,C,!0),St(n,i,A,Ds(p,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(p,f,c,n,i):f.data[p];vo(C,!0);const A=po(f,c,C,t);return c[p]=A,oc()&&wp(f,c,A,C),Fs(A,c),lo(C)&&(F(f,c,C),P(f,C,c)),null!=i&&W(c,C),Ih}function Th(){let t=$s();const n=$r();return ga()?Cc():(t=t.parent,vo(t,!1)),n.firstCreatePass&&(Ga(n,t),Xo(t)&&n.queries.elementEnd(t)),Th}function Ro(t,n,i){return Ih(t,n,i),Th(),Ro}let po=(t,n,i,c)=>(ma(!0),Sg(n[ar],""));function Eu(){return Qt()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function K(t,n,i,c){const f=Qt(),p=$r(),C=$s();return function Ft(t,n,i,c,f,p,C){const A=lo(c),G=t.firstCreatePass&&gm(t),re=n[gi],be=pm(n);let Xe=!0;if(3&c.type||C){const Cn=ho(c,n),qn=C?C(Cn):Cn,Cr=be.length,on=C?xi=>C(Dr(xi[c.index])):c.index;let ei=null;if(!C&&A&&(ei=function yt(t,n,i,c){const f=t.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const C=f[p];if(C===i&&f[p+1]===c){const A=n[Xs],R=f[p+2];return A.length>R?A[R]:null}"string"==typeof C&&(p+=2)}return null}(t,n,f,c.index)),null!==ei)(ei.__ngLastListenerFn__||ei).__ngNextListenerFn__=p,ei.__ngLastListenerFn__=p,Xe=!1;else{p=Zi(c,n,re,p,!1);const xi=i.listen(qn,f,p);be.push(p,xi),G&&G.push(f,on,Cr,Cr+1)}}else p=Zi(c,n,re,p,!1);const pt=c.outputs;let Ht;if(Xe&&null!==pt&&(Ht=pt[f])){const Cn=Ht.length;if(Cn)for(let qn=0;qn<Cn;qn+=2){const Es=n[Ht[qn]][Ht[qn+1]].subscribe(p),el=be.length;be.push(p,Es),G&&G.push(f,c.index,el,-(el+1))}}}(p,f,f[ar],C,t,n,c),K}function Nn(t,n,i,c){try{return Ts(6,n,i),!1!==i(c)}catch(f){return mm(t,f),!1}finally{Ts(7,n,i)}}function Zi(t,n,i,c,f){return function p(C){if(C===Function)return c;zp(t.componentOffset>-1?Ji(t.index,n):n);let R=Nn(n,i,c,C),G=p.__ngNextListenerFn__;for(;G;)R=Nn(n,i,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function Io(t=1){return function Pn(t){return(vr.lFrame.contextLView=function Sr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,vr.lFrame.contextLView))[gi]}(t)}function Vl(t,n,i){return Oo(t,"",n,"",i),Vl}function Oo(t,n,i,c,f){const p=Qt(),C=gh(p,n,i,c);return C!==Zr&&ke($r(),Di(),p,t,C,p[ar],f,!1),Oo}function Z_(t,n){return t<<17|n<<2}function cd(t){return t>>17&32767}function uv(t){return 2|t}function mg(t){return(131068&t)>>2}function p0(t,n){return-131069&t|n<<2}function Rm(t){return 1|t}function _(t,n,i,c,f){const p=t[i+1],C=null===n;let A=c?cd(p):mg(p),R=!1;for(;0!==A&&(!1===R||C);){const re=t[A+1];d(t[A],n)&&(R=!0,t[A+1]=c?Rm(re):uv(re)),A=c?cd(re):mg(re)}R&&(t[i+1]=c?uv(p):Rm(p))}function d(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&hc(t,n)>=0}const l={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function y(t){return t.substring(l.key,l.keyEnd)}function ee(t,n){const i=l.textEnd;return i===n?-1:(n=l.keyEnd=function sn(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,l.key=n,i),Et(t,n,i))}function Et(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Wr(t,n,i){return zr(t,n,i,!1),Wr}function di(t,n){return zr(t,n,null,!0),di}function Ui(t){!function Ni(t,n,i,c){const f=$r(),p=Do(2);f.firstUpdatePass&&es(f,null,p,c);const C=Qt();if(i!==Zr&&zo(C,p,i)){const A=f.data[Er()];if(Qc(A,c)&&!is(f,p)){let R=c?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(i=dt(R,i||"")),ad(f,A,C,i,c)}else!function Ks(t,n,i,c,f,p,C,A){f===Zr&&(f=vn);let R=0,G=0,re=0<f.length?f[0]:null,be=0<p.length?p[0]:null;for(;null!==re||null!==be;){const Xe=R<f.length?f[R+1]:void 0,pt=G<p.length?p[G+1]:void 0;let Cn,Ht=null;re===be?(R+=2,G+=2,Xe!==pt&&(Ht=be,Cn=pt)):null===be||null!==re&&re<be?(R+=2,Ht=re):(G+=2,Ht=be,Cn=pt),null!==Ht&&Va(t,n,i,c,Ht,Cn,C,A),re=R<f.length?f[R]:null,be=G<p.length?p[G]:null}}(f,A,C,C[ar],C[p+1],C[p+1]=function rr(t,n,i){if(null==i||""===i)return vn;const c=[],f=Ka(i);if(Array.isArray(f))for(let p=0;p<f.length;p++)t(c,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&t(c,p,f[p]);else"string"==typeof f&&n(c,f);return c}(t,n,i),c,p)}}(Ei,Gr,t,!0)}function Gr(t,n){for(let i=function B(t){return function at(t){l.key=0,l.keyEnd=0,l.value=0,l.valueEnd=0,l.textEnd=t.length}(t),ee(t,Et(t,0,l.textEnd))}(n);i>=0;i=ee(n,i))Bo(t,y(n),!0)}function zr(t,n,i,c){const f=Qt(),p=$r(),C=Do(2);p.firstUpdatePass&&es(p,t,C,c),n!==Zr&&zo(f,C,n)&&Va(p,p.data[Er()],f,f[ar],t,f[C+1]=function ts(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=xe(Ka(t)))),t}(n,i),c,C)}function is(t,n){return n>=t.expandoStartIndex}function es(t,n,i,c){const f=t.data;if(null===f[i+1]){const p=f[Er()],C=is(t,i);Qc(p,c)&&null===n&&!C&&(n=!1),n=function No(t,n,i,c){const f=function ia(t){const n=vr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(i=Bn(i=Xc(null,t,n,i,c),n.attrs,c),p=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(i=Xc(f,t,n,i,c),null===p){let R=function ca(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==mg(c))return t[cd(c)]}(t,n,c);void 0!==R&&Array.isArray(R)&&(R=Xc(null,t,n,R[1],c),R=Bn(R,n.attrs,c),function Ws(t,n,i,c){t[cd(i?n.classBindings:n.styleBindings)]=c}(t,n,c,R))}else p=function bu(t,n,i){let c;const f=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<f;p++)c=Bn(c,t[p].hostAttrs,i);return Bn(c,n.attrs,i)}(t,n,c)}return void 0!==p&&(c?n.residualClasses=p:n.residualStyles=p),i}(f,p,n,c),function UE(t,n,i,c,f,p){let C=p?n.classBindings:n.styleBindings,A=cd(C),R=mg(C);t[c]=i;let re,G=!1;if(Array.isArray(i)?(re=i[1],(null===re||hc(i,re)>0)&&(G=!0)):re=i,f)if(0!==R){const Xe=cd(t[A+1]);t[c+1]=Z_(Xe,A),0!==Xe&&(t[Xe+1]=p0(t[Xe+1],c)),t[A+1]=function f0(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=Z_(A,0),0!==A&&(t[A+1]=p0(t[A+1],c)),A=c;else t[c+1]=Z_(R,0),0===A?A=c:t[R+1]=p0(t[R+1],c),R=c;G&&(t[c+1]=uv(t[c+1])),_(t,re,c,!0),_(t,re,c,!1),function q0(t,n,i,c,f){const p=f?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&hc(p,n)>=0&&(i[c+1]=Rm(i[c+1]))}(n,re,t,c,p),C=Z_(A,R),p?n.classBindings=C:n.styleBindings=C}(f,p,n,i,C,c)}}function Xc(t,n,i,c,f){let p=null;const C=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<C&&(p=n[A],c=Bn(c,p.hostAttrs,f),p!==t);)A++;return null!==t&&(i.directiveStylingLast=A),c}function Bn(t,n,i){const c=i?1:2;let f=-1;if(null!==n)for(let p=0;p<n.length;p++){const C=n[p];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bo(t,C,!!i||n[++p]))}return void 0===t?null:t}function Ei(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&Bo(t,c,i)}function Va(t,n,i,c,f,p,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],re=function FE(t){return 1==(1&t)}(G)?To(R,n,i,f,mg(G),C):void 0;Ia(re)||(Ia(p)||function lv(t){return 2==(2&t)}(G)&&(p=To(R,null,i,f,A,C)),function py(t,n,i,c,f){if(n)f?t.addClass(i,c):t.removeClass(i,c);else{let p=-1===c.indexOf("-")?void 0:Ld.DashCase;null==f?t.removeStyle(i,c,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=Ld.Important),t.setStyle(i,c,f,p))}}(c,C,Aa(Er(),i),f,p))}function To(t,n,i,c,f,p){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),re=G?R[1]:R,be=null===re;let Xe=i[f+1];Xe===Zr&&(Xe=be?vn:void 0);let pt=be?Dd(Xe,c):re===c?Xe:void 0;if(G&&!Ia(pt)&&(pt=Dd(R,c)),Ia(pt)&&(A=pt,C))return A;const Ht=t[f+1];f=C?cd(Ht):mg(Ht)}if(null!==n){let R=p?n.residualClasses:n.residualStyles;null!=R&&(A=Dd(R,c))}return A}function Ia(t){return void 0!==t}function Qc(t,n){return 0!=(t.flags&(n?8:16))}function Ah(t,n=""){const i=Qt(),c=$r(),f=t+Wn,p=c.firstCreatePass?a(c,f,1,n,null):c.data[f],C=ao(c,i,p,n,t);i[f]=C,oc()&&wp(c,i,C,p),vo(p,!1)}let ao=(t,n,i,c,f)=>(ma(!0),function Hd(t,n){return t.createText(n)}(n[ar],c));function Dh(t){return Cu("",t,""),Dh}function Cu(t,n,i){const c=Qt(),f=gh(c,t,n,i);return f!==Zr&&$c(c,Er(),f),Cu}function dv(t,n,i,c,f){const p=Qt(),C=Nl(p,t,n,i,c,f);return C!==Zr&&$c(p,Er(),C),dv}const Om=void 0;var wI=["en",[["a","p"],["AM","PM"],Om],[["AM","PM"],Om,Om],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Om,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Om,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Om,"{1} 'at' {0}",Om],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TI(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let ty={};function Y0(t){const n=function AI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=JE(n);if(i)return i;const c=n.split("-")[0];if(i=JE(c),i)return i;if("en"===c)return wI;throw new _e(701,!1)}function QE(t){return Y0(t)[ny.PluralCase]}function JE(t){return t in ty||(ty[t]=er.ng&&er.ng.common&&er.ng.common.locales&&er.ng.common.locales[t]),ty[t]}var ny=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ny||{});const ry="en-US";let ZE=ry;function J0(t,n,i,c,f){if(t=Mt(t),Array.isArray(t))for(let p=0;p<t.length;p++)J0(t[p],n,i,c,f);else{const p=$r(),C=Qt(),A=$s();let R=qu(t)?t:Mt(t.provide);const G=Ay(t),re=1048575&A.providerIndexes,be=A.directiveStart,Xe=A.providerIndexes>>20;if(qu(t)||!t.multi){const pt=new _a(G,f,Pl),Ht=eE(R,n,f?re:re+Xe,be);-1===Ht?(lc(Dc(A,C),p,R),Z0(p,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(pt),C.push(pt)):(i[Ht]=pt,C[Ht]=pt)}else{const pt=eE(R,n,re+Xe,be),Ht=eE(R,n,re,re+Xe),qn=Ht>=0&&i[Ht];if(f&&!qn||!f&&!(pt>=0&&i[pt])){lc(Dc(A,C),p,R);const Cr=function TT(t,n,i,c,f){const p=new _a(t,i,Pl);return p.multi=[],p.index=n,p.componentProviders=0,Tb(p,f,c&&!i),p}(f?IT:CT,i.length,f,c,G);!f&&qn&&(i[Ht].providerFactory=Cr),Z0(p,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),i.push(Cr),C.push(Cr)}else Z0(p,t,pt>-1?pt:Ht,Tb(i[f?Ht:pt],G,!f&&c));!f&&c&&qn&&i[Ht].componentProviders++}}}function Z0(t,n,i,c){const f=qu(n),p=function Ov(t){return!!t.useClass}(n);if(f||p){const R=(p?Mt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(i);-1===re?G.push(i,[c,R]):G[re+1].push(c,R)}else G.push(i,R)}}}function Tb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function eE(t,n,i,c){for(let f=i;f<c;f++)if(n[f]===t)return f;return-1}function CT(t,n,i,c){return tE(this.multi,[])}function IT(t,n,i,c){const f=this.multi;let p;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=uc(i,i[wn],this.providerFactory.index,c);p=A.slice(0,C),tE(f,p);for(let R=C;R<A.length;R++)p.push(A[R])}else p=[],tE(f,p);return p}function tE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function wb(t,n=[]){return i=>{i.providersResolver=(c,f)=>function bT(t,n,i){const c=$r();if(c.firstCreatePass){const f=uo(t);J0(i,c.data,c.blueprint,f,!0),J0(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class Nm{}class Ab{}function wT(t,n){return new nE(t,n??null,[])}class nE extends Nm{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new td(this);const f=tt(n);this._bootstrapComponents=Ju(f.bootstrap),this._r3Injector=Ly(n,i,[{provide:Nm,useValue:this},{provide:cu,useValue:this.componentFactoryResolver},...c],xe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rE extends Ab{constructor(n){super(),this.moduleType=n}create(n){return new nE(this.moduleType,n,[])}}class Db extends Nm{constructor(n){super(),this.componentFactoryResolver=new td(this),this.instance=null;const i=new kp([...n.providers,{provide:Nm,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],n.parent||Jg(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Sb(t,n,i=null){return new Db({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let DT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=d_(0,i.type),f=c.length>0?Sb([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,f)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=hn({token:t,providedIn:"environment",factory:()=>new t(Tt(Oi))})}}return t})();function Pb(t){t.getStandaloneInjector=n=>n.get(DT).getOrCreateStandaloneInjector(t)}function Fb(t,n,i){const c=no()+t,f=Qt();return f[c]===Zr?Ol(f,c,i?n.call(i):n()):Of(f,c)}function Vb(t,n,i,c){return Bb(Qt(),no(),t,n,i,c)}function Lb(t,n,i,c,f){return function $b(t,n,i,c,f,p,C){const A=n+i;return id(t,A,f,p)?Ol(t,A+2,C?c.call(C,f,p):c(f,p)):bv(t,A+2)}(Qt(),no(),t,n,i,c,f)}function Ub(t,n,i,c,f,p,C,A,R){const G=no()+t,re=Qt(),be=Mo(re,G,i,c,f,p);return id(re,G+4,C,A)||be?Ol(re,G+6,R?n.call(R,i,c,f,p,C,A):n(i,c,f,p,C,A)):Of(re,G+6)}function jb(t,n,i,c,f,p,C,A,R,G){const re=no()+t,be=Qt();let Xe=Mo(be,re,i,c,f,p);return Nf(be,re+4,C,A,R)||Xe?Ol(be,re+7,G?n.call(G,i,c,f,p,C,A,R):n(i,c,f,p,C,A,R)):Of(be,re+7)}function bv(t,n){const i=t[n];return i===Zr?void 0:i}function Bb(t,n,i,c,f,p){const C=n+i;return zo(t,C,f)?Ol(t,C+1,p?c.call(p,f):c(f)):bv(t,C+1)}function Wb(t,n){const i=$r();let c;const f=t+Wn;i.firstCreatePass?(c=function BT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[f]=c,c.onDestroy&&(i.destroyHooks??=[]).push(f,c.onDestroy)):c=i.data[f];const p=c.factory||(c.factory=Js(c.type)),A=ti(Pl);try{const R=ac(!1),G=p();return ac(R),function aa(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Qt(),f,G),G}finally{ti(A)}}function Kb(t,n,i){const c=t+Wn,f=Qt(),p=ol(f,c);return Cv(f,c)?Bb(f,no(),n,p.transform,i,p):p.transform(i)}function qb(t,n,i,c,f){const p=t+Wn,C=Qt(),A=ol(C,p);return Cv(C,p)?function Hb(t,n,i,c,f,p,C,A){const R=n+i;return Nf(t,R,f,p,C)?Ol(t,R+3,A?c.call(A,f,p,C):c(f,p,C)):bv(t,R+3)}(C,no(),n,A.transform,i,c,f,A):A.transform(i,c,f)}function Cv(t,n){return t[wn].data[n].pure}function zT(){return this._results[Symbol.iterator]()}class sE{get changes(){return this._changes||(this._changes=new Sl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=sE.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=zT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const f=function jo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Td(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],p=n[c];if(i&&(f=i(f),p=i(p)),p!==f)return!1}return!0}(c._results,f,i))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KT(t,n,i,c=!0){const f=n[wn];if(function dy(t,n,i,c){const f=Br+c,p=i.length;c>0&&(i[f-1][rs]=n),c<p-Br?(n[rs]=i[f],wd(i,Br+c,n)):(i.push(n),n[rs]=null),n[Ir]=i;const C=n[Te];null!==C&&i!==C&&function Jh(t,n){const i=t[ki];n[X]!==n[Ir][Ir][X]&&(t[Ii]=!0),null===i?t[ki]=[n]:i.push(n)}(C,n);const A=n[Je];null!==A&&A.insertView(t),n[pr]|=128}(f,n,t,i),c){const p=Zh(i,t),C=n[ar],A=zd(C,t[mi]);null!==A&&function Gd(t,n,i,c,f,p){c[pi]=f,c[zi]=n,nf(t,c,i,1,f,p)}(f,t[zi],C,n,A,p)}}let Iv=(()=>{class t{static{this.__NG_ELEMENT_ID__=XT}}return t})();const qT=Iv,YT=class extends qT{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const f=function WT(t,n,i,c){const f=n.tView,A=r(t,f,i,4096&t[pr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Te]=t[n.index];const G=t[Je];return null!==G&&(A[Je]=G.createEmbeddedView(f)),Qa(f,A,i),A}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new ed(f)}};function XT(){return P0($s(),Qt())}function P0(t,n){return 4&t.type?new YT(n,t,Bp(t,n)):null}let M0=(()=>{class t{static{this.__NG_ELEMENT_ID__=nw}}return t})();function nw(){return tC($s(),Qt())}const rw=M0,Zb=class extends rw{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Bp(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const n=cc(this._hostTNode,this._hostLView);if(Wl(n)){const i=za(n,this._hostLView),c=Ac(n);return new io(i[wn].data[c+8],i)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=eC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(n,i,c){let f,p;"number"==typeof c?f=c:null!=c&&(f=c.index,p=c.injector);const A=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(A,f,false),A}createComponent(n,i,c,f,p){const C=n&&!function Oc(t){return"function"==typeof t}(n);let A;if(C)A=i;else{const Cn=i||{};A=Cn.index,c=Cn.injector,f=Cn.projectableNodes,p=Cn.environmentInjector||Cn.ngModuleRef}const R=C?n:new fh(Lr(n)),G=c||this.parentInjector;if(!p&&null==R.ngModule){const qn=(C?G:this.parentInjector).get(Oi,null);qn&&(p=qn)}Lr(R.componentType??{});const pt=R.create(G,f,null,p);return this.insertImpl(pt.hostView,A,false),pt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const f=n._lView;if(function fa(t){return si(t[Ir])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[Ir],re=new Zb(G,G[zi],G[Ir]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(i),A=this._lContainer;return KT(A,f,C,!c),n.attachToViewContainerRef(),wd(oE(A),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=eC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=yi(this._lContainer,i);c&&(kc(oE(this._lContainer),i),vp(c[wn],c))}detach(n){const i=this._adjustIndex(n,-1),c=yi(this._lContainer,i);return c&&null!=kc(oE(this._lContainer),i)?new ed(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function eC(t){return t[8]}function oE(t){return t[8]||(t[8]=[])}function tC(t,n){let i;const c=n[t.index];return si(c)?i=c:(i=Ef(c,n,null,t),n[t.index]=i,uh(n,i)),nC(i,n,t,c),new Zb(i,t,n)}let nC=function rC(t,n,i,c){if(t[mi])return;let f;f=8&i.type?Dr(c):function iw(t,n){const i=t[ar],c=i.createComment(""),f=ho(n,t);return Gu(i,zd(i,f),c,function Og(t,n){return t.nextSibling(n)}(i,f),!1),c}(n,i),t[mi]=f};class aE{constructor(n){this.queryList=n,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class cE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let p=0;p<c;p++){const C=i.getByIndex(p);f.push(this.queries[C.indexInDeclarationView].clone())}return new cE(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==hC(n,i).matches&&this.queries[i].setDirty()}}class iC{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class lE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const f=null!==i?i.length:0,p=this.getByIndex(c).embeddedTView(n,f);p&&(p.indexInDeclarationView=c,null!==i?i.push(p):i=[p])}return null!==i?new lE(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new uE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const p=c[f];this.matchTNodeWithReadOption(n,i,aw(i,p)),this.matchTNodeWithReadOption(n,i,xa(i,n,p,!1,!1))}else c===Iv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,xa(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===ah||f===M0||f===Iv&&4&i.type)this.addMatch(i.index,-2);else{const p=xa(i,n,f,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function aw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function lw(t,n,i,c){return-1===i?function cw(t,n){return 11&t.type?Bp(t,n):4&t.type?P0(t,n):null}(n,t):-2===i?function uw(t,n,i){return i===ah?Bp(n,t):i===Iv?P0(n,t):i===M0?tC(n,t):void 0}(t,n,c):uc(t,t[wn],i,n)}function sC(t,n,i,c){const f=n[Je].queries[c];if(null===f.matches){const p=t.data,C=i.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:lw(n,p[G],C[R+1],i.metadata.read))}f.matches=A}return f.matches}function dE(t,n,i,c){const f=t.queries.getByIndex(i),p=f.matches;if(null!==p){const C=sC(t,n,f,i);for(let A=0;A<p.length;A+=2){const R=p[A];if(R>0)c.push(C[A/2]);else{const G=p[A+1],re=n[-R];for(let be=Br;be<re.length;be++){const Xe=re[be];Xe[Te]===Xe[Ir]&&dE(Xe[wn],Xe,G,c)}if(null!==re[ki]){const be=re[ki];for(let Xe=0;Xe<be.length;Xe++){const pt=be[Xe];dE(pt[wn],pt,G,c)}}}}}return c}function oC(t){const n=Qt(),i=$r(),c=Ic();D(c+1);const f=hC(i,c);if(t.dirty&&function Ph(t){return 4==(4&t[pr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const p=f.crossesNgTemplate?dE(i,n,c,[]):sC(i,n,f,c);t.reset(p,Uv),t.notifyOnChanges()}return!0}return!1}function aC(t,n,i){const c=$r();c.firstCreatePass&&(dC(c,new iC(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),uC(c,Qt(),n)}function cC(t,n,i,c){const f=$r();if(f.firstCreatePass){const p=$s();dC(f,new iC(n,i,c),p.index),function hw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}uC(f,Qt(),i)}function lC(){return function dw(t,n){return t[Je].queries[n].queryList}(Qt(),Ic())}function uC(t,n,i){const c=new sE(4==(4&i));(function br(t,n,i,c){const f=pm(n);f.push(i),t.firstCreatePass&&gm(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[Je]&&(n[Je]=new cE),n[Je].queries.push(new aE(c))}function dC(t,n,i){null===t.queries&&(t.queries=new lE),t.queries.track(new uE(n,i))}function hC(t,n){return t.queries.getByIndex(n)}function fC(t,n){return P0(t,n)}function hE(t){return!!tt(t)}const xC=new rn("Application Initializer");let _E=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=un(xC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const f of this.appInits){const p=f();if(E(p))i.push(p);else if(U(p)){const C=new Promise((A,R)=>{p.subscribe({complete:A,error:R})});i.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(f=>{this.reject(f)}),0===i.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const O0=new rn("LocaleId",{providedIn:"root",factory:()=>un(O0,Sn.Optional|Sn.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||ry}()}),Nw=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let RC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Fw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Vw=(()=>{class t{compileModuleSync(i){return new rE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),p=Ju(tt(i).declarations).reduce((C,A)=>{const R=Lr(A);return R&&C.push(new fh(R)),C},[]);return new Fw(c,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const FC=new rn(""),VC=new rn("");let EE,s1=(()=>{class t{constructor(i,c,f){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EE||(function o1(t){EE=t}(f),f.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,f){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==p),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:f})}whenStable(i,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Tt(Po),Tt(LC),Tt(VC))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac})}}return t})(),LC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return EE?.findTestabilityInTree(this,i,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),_g=null;const UC=new rn("AllowMultipleToken"),bE=new rn("PlatformDestroyListeners"),CE=new rn("appBootstrapListener");class l1{constructor(n,i){this.name=n,this.token=i}}function $C(t,n,i=[]){const c=`Platform: ${n}`,f=new rn(c);return(p=[])=>{let C=IE();if(!C||C.injector.get(UC,!1)){const A=[...i,...p,{provide:f,useValue:!0}];t?t(A):function u1(t){if(_g&&!_g.get(UC,!1))throw new _e(400,!1);(function jC(){!function ja(t){ea=t}(()=>{throw new _e(600,!1)})})(),_g=t;const n=t.get(GC);(function BC(t){t.get(Fv,null)?.forEach(i=>i())})(t)}(function HC(t=[],n){return wl.create({name:n,providers:[{provide:Op,useValue:"platform"},{provide:bE,useValue:new Set([()=>_g=null])},...t]})}(A,c))}return function h1(t){const n=IE();if(!n)throw new _e(401,!1);return n}()}}function IE(){return _g?.get(GC)??null}let GC=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const f=function f1(t="zone.js",n){return"noop"===t?new x_:"zone.js"===t?new Po(n):t}(c?.ngZone,function zC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const p=function AT(t,n,i){return new nE(t,n,i)}(i.moduleType,this.injector,function XC(t){return[{provide:Po,useFactory:t},{provide:Il,multi:!0,useFactory:()=>{const n=un(g1,{optional:!0});return()=>n.initialize()}},{provide:YC,useFactory:p1},{provide:Qv,useFactory:$y}]}(()=>f)),C=p.injector.get(mc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});p.onDestroy(()=>{k0(this._modules,p),A.unsubscribe()})}),function WC(t,n,i){try{const c=i();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=p.injector.get(_E);return A.runInitializers(),A.donePromise.then(()=>(function eb(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(ZE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(O0,ry)||ry),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,c=[]){const f=KC({},c);return function a1(t,n,i){const c=new rE(i);return Promise.resolve(c)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(i){const c=i.injector.get(oy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new _e(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(bE,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Tt(wl))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function KC(t,n){return Array.isArray(n)?n.reduce(KC,t):{...t,...n}}let oy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=un(YC),this.zoneIsStable=un(Qv),this.componentTypes=[],this.components=[],this.isStable=un(RC).hasPendingTasks.pipe((0,Le.n)(i=>i?(0,we.of)(!1):this.zoneIsStable),(0,Ue.F)(),(0,Ae.u)()),this._injector=un(Oi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const f=i instanceof Up;if(!this._injector.get(_E).done)throw!f&&oe(i),new _e(405,!1);let C;C=f?i:this._injector.get(cu).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const A=function c1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Nm),G=C.create(wl.NULL,[],c||C.selector,A),re=G.location.nativeElement,be=G.injector.get(FC,null);return be?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),k0(this.components,G),be?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;k0(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(CE,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>k0(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new _e(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function k0(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const YC=new rn("",{providedIn:"root",factory:()=>un(mc).handleError.bind(void 0)});function p1(){const t=un(Po),n=un(mc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let g1=(()=>{class t{constructor(){this.zone=un(Po),this.applicationRef=un(oy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _1(){return!1}let y1=(()=>{class t{static{this.__NG_ELEMENT_ID__=v1}}return t})();function v1(t){return function E1(t,n,i){if(fs(t)&&!i){const c=Ji(t.index,n);return new ed(c,c)}return 47&t.type?new ed(n[X],n):null}($s(),Qt(),16==(16&t))}class tI{constructor(){}supports(n){return Rf(n)}create(n){return new w1(n)}}const T1=(t,n)=>n;class w1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||T1}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,f=0,p=null;for(;i||c;){const C=!c||i&&i.currentIndex<rI(c,f,p)?i:c,A=rI(C,f,p),R=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(i=i._next,null==C.previousIndex)f++;else{p||(p=[]);const G=A-f,re=R-f;if(G!=re){for(let Xe=0;Xe<G;Xe++){const pt=Xe<p.length?p[Xe]:p[Xe]=0,Ht=pt+Xe;re<=Ht&&Ht<G&&(p[Xe]=pt+1)}p[C.previousIndex]=re-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Rf(n))throw new _e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,p,C,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)p=n[A],C=this._trackByFn(A,p),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,p,C,A)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,C,A),c=!0),i=i._next}else f=0,function xo(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,A=>{C=this._trackByFn(f,A),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,A,C,f)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,C,f),c=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,f){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,f)):n=this._addAfter(new A1(i,c),p,f),n}_verifyReinsertion(n,i,c,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?n=this._reinsertAfter(p,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,p=n._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new nI),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class A1{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class nI{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new D1,this.map.set(i,c)),c.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rI(t,n,i){const c=t.previousIndex;if(null===c)return c;let f=0;return i&&c<i.length&&(f=i[c]),c+n+f}class iI{constructor(){}supports(n){return n instanceof Map||zc(n)}create(){return new S1}}class S1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||zc(n)))throw new _e(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(f,c);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const p=f._prev,C=f._next;return p&&(p._next=C),C&&(C._prev=p),f._next=null,f._prev=null,f}const c=new P1(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class P1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sI(){return new SE([new tI])}let SE=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:sI})}constructor(i){this.factories=i}static create(i,c){if(null!=c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||sI()),deps:[[t,new Xl,new Ra]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(null!=c)return c;throw new _e(901,!1)}}return t})();function oI(){return new PE([new iI])}let PE=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:oI})}constructor(i){this.factories=i}static create(i,c){if(c){const f=c.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||oI()),deps:[[t,new Xl,new Ra]]}}find(i){const c=this.factories.find(f=>f.supports(i));if(c)return c;throw new _e(901,!1)}}return t})();const R1=$C(null,"core",[]);let O1=(()=>{class t{constructor(i){}static{this.\u0275fac=function(c){return new(c||t)(Tt(oy))}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=tn({})}}return t})();function G1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function W1(t){const n=Lr(t);if(!n)return null;const i=new fh(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(mn,Ze,V)=>{V.d(Ze,{DS:()=>qt,X8:()=>Jt,$z:()=>cn,UB:()=>sr,yy:()=>Ut,ZP:()=>Ie,AU:()=>In,CP:()=>Ot,gF:()=>Vt}),V(2438);var ue=V(177),s=V(7705),Ee=V(5407),he=V(9253),we=V(1413),Ae=V(7673),Le=V(1985),Ue=V(8455),J=V(7786),de=V(941),xe=V(5558),dt=V(6354),nt=V(6129);class Nt extends we.B{constructor(Fe=1/0,rt=1/0,ln=nt.U){super(),this._bufferSize=Fe,this._windowTime=rt,this._timestampProvider=ln,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=rt===1/0,this._bufferSize=Math.max(1,Fe),this._windowTime=Math.max(1,rt)}next(Fe){const{isStopped:rt,_buffer:ln,_infiniteTimeWindow:He,_timestampProvider:Ce,_windowTime:ve}=this;rt||(ln.push(Fe),!He&&ln.push(Ce.now()+ve)),this._trimBuffer(),super.next(Fe)}_subscribe(Fe){this._throwIfClosed(),this._trimBuffer();const rt=this._innerSubscribe(Fe),{_infiniteTimeWindow:ln,_buffer:He}=this,Ce=He.slice();for(let ve=0;ve<Ce.length&&!Fe.closed;ve+=ln?1:2)Fe.next(Ce[ve]);return this._checkFinalizedStatuses(Fe),rt}_trimBuffer(){const{_bufferSize:Fe,_timestampProvider:rt,_buffer:ln,_infiniteTimeWindow:He}=this,Ce=(He?1:2)*Fe;if(Fe<1/0&&Ce<ln.length&&ln.splice(0,ln.length-Ce),!He){const ve=rt.now();let Ve=0;for(let st=1;st<ln.length&&ln[st]<=ve;st+=2)Ve=st;Ve&&ln.splice(0,Ve+1)}}}var Mt=V(7647);function Gt(gt,Fe,rt){let ln,He=!1;return gt&&"object"==typeof gt?({bufferSize:ln=1/0,windowTime:Fe=1/0,refCount:He=!1,scheduler:rt}=gt):ln=gt??1/0,(0,Mt.u)({connector:()=>new Nt(ln,Fe,rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:He})}var Lt=V(1594),yn=V(8071);function Ge(gt,Fe){return(0,yn.T)(Fe)?(0,xe.n)(()=>gt,Fe):(0,xe.n)(()=>gt)}var _e=V(6745),it=V(5964),et=V(7935);const Ot=new s.nKC("angularfire2.auth.use-emulator"),Ut=new s.nKC("angularfire2.auth.settings"),Ie=new s.nKC("angularfire2.auth.tenant-id"),cn=new s.nKC("angularfire2.auth.langugage-code"),In=new s.nKC("angularfire2.auth.use-device-language"),sr=new s.nKC("angularfire.auth.persistence"),Vt=(gt,Fe,rt,ln,He,Ce,ve,Ve)=>(0,he.BM)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const st=Fe.runOutsideAngular(()=>gt.auth());if(rt&&st.useEmulator(...rt),ln&&(st.tenantId=ln),st.languageCode=He,Ce&&st.useDeviceLanguage(),ve)for(const[Ye,jt]of Object.entries(ve))st.settings[Ye]=jt;return Ve&&st.setPersistence(Ve),st},[rt,ln,He,Ce,ve,Ve]);let qt=(()=>{class gt{authState;idToken;user;idTokenResult;credential;constructor(rt,ln,He,Ce,ve,Ve,st,Ye,jt,Mn,dr,hn){const Vn=new we.B,tn=(0,Ae.of)(void 0).pipe((0,de.Q)(ve.outsideAngular),(0,xe.n)(()=>Ce.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,dt.T)(()=>(0,he.iB)(rt,Ce,ln)),(0,dt.T)(Zn=>Vt(Zn,Ce,Ve,Ye,jt,Mn,st,dr)),Gt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(He))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{tn.pipe((0,Lt.$)()).subscribe();const Zn=tn.pipe((0,xe.n)(zt=>zt.getRedirectResult().then(mr=>mr,()=>null)),Ee.U0,Gt({bufferSize:1,refCount:!1})),$n=tn.pipe((0,xe.n)(zt=>new Le.c(mr=>({unsubscribe:Ce.runOutsideAngular(()=>zt.onAuthStateChanged(_n=>mr.next(_n),_n=>mr.error(_n),()=>mr.complete()))})))),Wt=tn.pipe((0,xe.n)(zt=>new Le.c(mr=>({unsubscribe:Ce.runOutsideAngular(()=>zt.onIdTokenChanged(_n=>mr.next(_n),_n=>mr.error(_n),()=>mr.complete()))}))));this.authState=Zn.pipe(Ge($n),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular)),this.user=Zn.pipe(Ge(Wt),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular)),this.idToken=this.user.pipe((0,xe.n)(zt=>zt?(0,Ue.H)(zt.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,xe.n)(zt=>zt?(0,Ue.H)(zt.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,J.h)(Zn,Vn,this.authState.pipe((0,it.p)(zt=>!zt))).pipe((0,dt.T)(zt=>zt?.user?zt:null),(0,_e._)(ve.outsideAngular),(0,de.Q)(ve.insideAngular))}return(0,he.Gt)(this,tn,Ce,{spy:{apply:(Zn,$n,Wt)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&Wt.then(zt=>Vn.next(zt))}}})}static \u0275fac=function(ln){return new(ln||gt)(s.KVO(he.rx),s.KVO(he.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Ee.u0),s.KVO(Ot,8),s.KVO(Ut,8),s.KVO(Ie,8),s.KVO(cn,8),s.KVO(In,8),s.KVO(sr,8),s.KVO(Ee.Jv,8))};static \u0275prov=s.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),Jt=(()=>{class gt{constructor(){et.A.registerVersion("angularfire",Ee.xv.full,"auth-compat")}static \u0275fac=function(ln){return new(ln||gt)};static \u0275mod=s.$C({type:gt});static \u0275inj=s.G2t({providers:[qt]})}return gt})()},6340:(mn,Ze,V)=>{V.d(Ze,{Qe:()=>ci,cM:()=>Qe});var o=V(177),ue=V(7705),s=V(5407),Ee=V(9253),he=V(1977),we=V(3236),Ae=V(1985),Le=V(8455),Ue=V(7673),J=V(9172),de=V(9974),xe=V(4360);function dt(){return(0,de.N)((ft,se)=>{let Pe,Pt=!1;ft.subscribe((0,xe._)(se,Yt=>{const zn=Pe;Pe=Yt,Pt&&se.next([zn,Yt]),Pt=!0}))})}var nt=V(6354),Nt=V(2816),Mt=V(3294),Gt=V(5964),yn=(V(2438),V(3345)),Ge=V(9583),_e=V(1076),it=V(1362);function Ot(ft,se){if(void 0===se)return{merge:!1};if(void 0!==se.mergeFields&&void 0!==se.merge)throw new Ge.W6("invalid-argument",`Invalid options passed to function ${ft}(): You cannot specify both "merge" and "mergeFields".`);return se}function Ut(){if(typeof Uint8Array>"u")throw new Ge.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,Ge.qG)())throw new Ge.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class cn{constructor(se){this._delegate=se}static fromBase64String(se){return Ie(),new cn(Ge.Ix.fromBase64String(se))}static fromUint8Array(se){return Ut(),new cn(Ge.Ix.fromUint8Array(se))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(se){return this._delegate.isEqual(se._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function In(ft){return function sr(ft,se){if("object"!=typeof ft||null===ft)return!1;const Pe=ft;for(const Pt of se)if(Pt in Pe&&"function"==typeof Pe[Pt])return!0;return!1}(ft,["next","error","complete"])}class Vt{enableIndexedDbPersistence(se,Pe){return(0,Ge.ol)(se._delegate,{forceOwnership:Pe})}enableMultiTabIndexedDbPersistence(se){return(0,Ge.Q5)(se._delegate)}clearIndexedDbPersistence(se){return(0,Ge.me)(se._delegate)}}class qt{constructor(se,Pe,Pt){this._delegate=Pe,this._persistenceProvider=Pt,this.INTERNAL={delete:()=>this.terminate()},se instanceof Ge.cm||(this._appCompat=se)}get _databaseId(){return this._delegate._databaseId}settings(se){const Pe=this._delegate._getSettings();!se.merge&&Pe.host!==se.host&&(0,Ge.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),se.merge&&delete(se=Object.assign(Object.assign({},Pe),se)).merge,this._delegate._setSettings(se)}useEmulator(se,Pe,Pt={}){(0,Ge.vN)(this._delegate,se,Pe,Pt)}enableNetwork(){return(0,Ge.Os)(this._delegate)}disableNetwork(){return(0,Ge.LA)(this._delegate)}enablePersistence(se){let Pe=!1,Pt=!1;return se&&(Pe=!!se.synchronizeTabs,Pt=!!se.experimentalForceOwningTab,(0,Ge.c8)("synchronizeTabs",Pe,"experimentalForceOwningTab",Pt)),Pe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Pt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.iB)(this._delegate)}onSnapshotsInSync(se){return(0,Ge.FC)(this._delegate,se)}get app(){if(!this._appCompat)throw new Ge.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(se){try{return new hn(this,(0,Ge.rJ)(this._delegate,se))}catch(Pe){throw Ce(Pe,"collection()","Firestore.collection()")}}doc(se){try{return new He(this,(0,Ge.H9)(this._delegate,se))}catch(Pe){throw Ce(Pe,"doc()","Firestore.doc()")}}collectionGroup(se){try{return new jt(this,(0,Ge.Cs)(this._delegate,se))}catch(Pe){throw Ce(Pe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(se){return(0,Ge.c4)(this._delegate,Pe=>se(new Fe(this,Pe)))}batch(){return(0,Ge.Ws)(this._delegate),new rt(new Ge.GA(this._delegate,se=>(0,Ge.z6)(this._delegate,se)))}loadBundle(se){return(0,Ge.po)(this._delegate,se)}namedQuery(se){return(0,Ge.St)(this._delegate,se).then(Pe=>Pe?new jt(this,Pe):null)}}class Jt extends Ge.fS{constructor(se){super(),this.firestore=se}convertBytes(se){return new cn(new Ge.Ix(se))}convertReference(se){const Pe=this.convertDocumentKey(se,this.firestore._databaseId);return He.forKey(Pe,this.firestore,null)}}class Fe{constructor(se,Pe){this._firestore=se,this._delegate=Pe,this._userDataWriter=new Jt(se)}get(se){const Pe=Vn(se);return this._delegate.get(Pe).then(Pt=>new st(this._firestore,new Ge.Wq(this._firestore._delegate,this._userDataWriter,Pt._key,Pt._document,Pt.metadata,Pe.converter)))}set(se,Pe,Pt){const Yt=Vn(se);return Pt?(Ot("Transaction.set",Pt),this._delegate.set(Yt,Pe,Pt)):this._delegate.set(Yt,Pe),this}update(se,Pe,Pt,...Yt){const zn=Vn(se);return 2===arguments.length?this._delegate.update(zn,Pe):this._delegate.update(zn,Pe,Pt,...Yt),this}delete(se){const Pe=Vn(se);return this._delegate.delete(Pe),this}}class rt{constructor(se){this._delegate=se}set(se,Pe,Pt){const Yt=Vn(se);return Pt?(Ot("WriteBatch.set",Pt),this._delegate.set(Yt,Pe,Pt)):this._delegate.set(Yt,Pe),this}update(se,Pe,Pt,...Yt){const zn=Vn(se);return 2===arguments.length?this._delegate.update(zn,Pe):this._delegate.update(zn,Pe,Pt,...Yt),this}delete(se){const Pe=Vn(se);return this._delegate.delete(Pe),this}commit(){return this._delegate.commit()}}class ln{constructor(se,Pe,Pt){this._firestore=se,this._userDataWriter=Pe,this._delegate=Pt}fromFirestore(se,Pe){const Pt=new Ge.YQ(this._firestore._delegate,this._userDataWriter,se._key,se._document,se.metadata,null);return this._delegate.fromFirestore(new Ye(this._firestore,Pt),Pe??{})}toFirestore(se,Pe){return Pe?this._delegate.toFirestore(se,Pe):this._delegate.toFirestore(se)}static getInstance(se,Pe){const Pt=ln.INSTANCES;let Yt=Pt.get(se);Yt||(Yt=new WeakMap,Pt.set(se,Yt));let zn=Yt.get(Pe);return zn||(zn=new ln(se,new Jt(se),Pe),Yt.set(Pe,zn)),zn}}ln.INSTANCES=new WeakMap;class He{constructor(se,Pe){this.firestore=se,this._delegate=Pe,this._userDataWriter=new Jt(se)}static forPath(se,Pe,Pt){if(se.length%2!=0)throw new Ge.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${se.canonicalString()} has ${se.length}`);return new He(Pe,new Ge.T1(Pe._delegate,Pt,new Ge.K$(se)))}static forKey(se,Pe,Pt){return new He(Pe,new Ge.T1(Pe._delegate,Pt,se))}get id(){return this._delegate.id}get parent(){return new hn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(se){try{return new hn(this.firestore,(0,Ge.rJ)(this._delegate,se))}catch(Pe){throw Ce(Pe,"collection()","DocumentReference.collection()")}}isEqual(se){return(se=(0,_e.Ku)(se))instanceof Ge.T1&&(0,Ge.yx)(this._delegate,se)}set(se,Pe){Pe=Ot("DocumentReference.set",Pe);try{return Pe?(0,Ge.BN)(this._delegate,se,Pe):(0,Ge.BN)(this._delegate,se)}catch(Pt){throw Ce(Pt,"setDoc()","DocumentReference.set()")}}update(se,Pe,...Pt){try{return 1===arguments.length?(0,Ge.mZ)(this._delegate,se):(0,Ge.mZ)(this._delegate,se,Pe,...Pt)}catch(Yt){throw Ce(Yt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.kd)(this._delegate)}onSnapshot(...se){const Pe=ve(se),Pt=Ve(se,Yt=>new st(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,Yt._key,Yt._document,Yt.metadata,this._delegate.converter)));return(0,Ge.aQ)(this._delegate,Pe,Pt)}get(se){let Pe;return Pe="cache"===se?.source?(0,Ge.nY)(this._delegate):"server"===se?.source?(0,Ge._e)(this._delegate):(0,Ge.x7)(this._delegate),Pe.then(Pt=>new st(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,Pt._key,Pt._document,Pt.metadata,this._delegate.converter)))}withConverter(se){return new He(this.firestore,this._delegate.withConverter(se?ln.getInstance(this.firestore,se):null))}}function Ce(ft,se,Pe){return ft.message=ft.message.replace(se,Pe),ft}function ve(ft){for(const se of ft)if("object"==typeof se&&!In(se))return se;return{}}function Ve(ft,se){var Pe,Pt;let Yt;return Yt=In(ft[0])?ft[0]:In(ft[1])?ft[1]:"function"==typeof ft[0]?{next:ft[0],error:ft[1],complete:ft[2]}:{next:ft[1],error:ft[2],complete:ft[3]},{next:zn=>{Yt.next&&Yt.next(se(zn))},error:null===(Pe=Yt.error)||void 0===Pe?void 0:Pe.bind(Yt),complete:null===(Pt=Yt.complete)||void 0===Pt?void 0:Pt.bind(Yt)}}class st{constructor(se,Pe){this._firestore=se,this._delegate=Pe}get ref(){return new He(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(se){return this._delegate.data(se)}get(se,Pe){return this._delegate.get(se,Pe)}isEqual(se){return(0,Ge.lN)(this._delegate,se._delegate)}}class Ye extends st{data(se){const Pe=this._delegate.data(se);return this._delegate._converter||(0,Ge.bI)(void 0!==Pe,"Document in a QueryDocumentSnapshot should exist"),Pe}}class jt{constructor(se,Pe){this.firestore=se,this._delegate=Pe,this._userDataWriter=new Jt(se)}where(se,Pe,Pt){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge._M)(se,Pe,Pt)))}catch(Yt){throw Ce(Yt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(se,Pe){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.My)(se,Pe)))}catch(Pt){throw Ce(Pt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.AB)(se)))}catch(Pe){throw Ce(Pe,"limit()","Query.limit()")}}limitToLast(se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.$1)(se)))}catch(Pe){throw Ce(Pe,"limitToLast()","Query.limitToLast()")}}startAt(...se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.EO)(...se)))}catch(Pe){throw Ce(Pe,"startAt()","Query.startAt()")}}startAfter(...se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.HM)(...se)))}catch(Pe){throw Ce(Pe,"startAfter()","Query.startAfter()")}}endBefore(...se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.rf)(...se)))}catch(Pe){throw Ce(Pe,"endBefore()","Query.endBefore()")}}endAt(...se){try{return new jt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.FD)(...se)))}catch(Pe){throw Ce(Pe,"endAt()","Query.endAt()")}}isEqual(se){return(0,Ge.B)(this._delegate,se._delegate)}get(se){let Pe;return Pe="cache"===se?.source?(0,Ge.kU)(this._delegate):"server"===se?.source?(0,Ge.Rr)(this._delegate):(0,Ge.GG)(this._delegate),Pe.then(Pt=>new dr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Pt._snapshot)))}onSnapshot(...se){const Pe=ve(se),Pt=Ve(se,Yt=>new dr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Yt._snapshot)));return(0,Ge.aQ)(this._delegate,Pe,Pt)}withConverter(se){return new jt(this.firestore,this._delegate.withConverter(se?ln.getInstance(this.firestore,se):null))}}class Mn{constructor(se,Pe){this._firestore=se,this._delegate=Pe}get type(){return this._delegate.type}get doc(){return new Ye(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dr{constructor(se,Pe){this._firestore=se,this._delegate=Pe}get query(){return new jt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(se=>new Ye(this._firestore,se))}docChanges(se){return this._delegate.docChanges(se).map(Pe=>new Mn(this._firestore,Pe))}forEach(se,Pe){this._delegate.forEach(Pt=>{se.call(Pe,new Ye(this._firestore,Pt))})}isEqual(se){return(0,Ge.lN)(this._delegate,se._delegate)}}class hn extends jt{constructor(se,Pe){super(se,Pe),this.firestore=se,this._delegate=Pe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const se=this._delegate.parent;return se?new He(this.firestore,se):null}doc(se){try{return new He(this.firestore,void 0===se?(0,Ge.H9)(this._delegate):(0,Ge.H9)(this._delegate,se))}catch(Pe){throw Ce(Pe,"doc()","CollectionReference.doc()")}}add(se){return(0,Ge.gS)(this._delegate,se).then(Pe=>new He(this.firestore,Pe))}isEqual(se){return(0,Ge.yx)(this._delegate,se._delegate)}withConverter(se){return new hn(this.firestore,this._delegate.withConverter(se?ln.getInstance(this.firestore,se):null))}}function Vn(ft){return(0,Ge.lo)(ft,Ge.T1)}class tn{constructor(...se){this._delegate=new Ge.uY(...se)}static documentId(){return new tn(Ge.FA.keyField().canonicalString())}isEqual(se){return(se=(0,_e.Ku)(se))instanceof Ge.uY&&this._delegate._internalPath.isEqual(se._internalPath)}}class Zn{constructor(se){this._delegate=se}static serverTimestamp(){const se=(0,Ge.O5)();return se._methodName="FieldValue.serverTimestamp",new Zn(se)}static delete(){const se=(0,Ge.CL)();return se._methodName="FieldValue.delete",new Zn(se)}static arrayUnion(...se){const Pe=(0,Ge.hq)(...se);return Pe._methodName="FieldValue.arrayUnion",new Zn(Pe)}static arrayRemove(...se){const Pe=(0,Ge.C3)(...se);return Pe._methodName="FieldValue.arrayRemove",new Zn(Pe)}static increment(se){const Pe=(0,Ge.GV)(se);return Pe._methodName="FieldValue.increment",new Zn(Pe)}isEqual(se){return this._delegate.isEqual(se._delegate)}}const $n={Firestore:qt,GeoPoint:Ge.Ci,Timestamp:Ge.Dc,Blob:cn,Transaction:Fe,WriteBatch:rt,DocumentReference:He,DocumentSnapshot:st,Query:jt,QueryDocumentSnapshot:Ye,QuerySnapshot:dr,CollectionReference:hn,FieldPath:tn,FieldValue:Zn,setLogLevel:function gt(ft){(0,Ge.He)(ft)},CACHE_SIZE_UNLIMITED:Ge.H6};!function zt(ft){(function Wt(ft,se){ft.INTERNAL.registerComponent(new it.uA("firestore-compat",Pe=>{const Pt=Pe.getProvider("app-compat").getImmediate(),Yt=Pe.getProvider("firestore").getImmediate();return se(Pt,Yt)},"PUBLIC").setServiceProps(Object.assign({},$n)))})(ft,(se,Pe)=>new qt(se,Pe,new Vt)),ft.registerVersion("@firebase/firestore-compat","0.3.38")}(yn.A);var mr=V(7935);function kr(ft,se){return function _n(ft,se=we.E){return new Ae.c(Pe=>{let Pt;return null!=se?se.schedule(()=>{Pt=ft.onSnapshot({includeMetadataChanges:!0},Pe)}):Pt=ft.onSnapshot({includeMetadataChanges:!0},Pe),()=>{Pt?.()}})}(ft,se)}function Bt(ft,se){return kr(ft,se).pipe((0,nt.T)(Pe=>({payload:Pe,type:"query"})))}class Sn{ref;afs;constructor(se,Pe){this.ref=se,this.afs=Pe}set(se,Pe){return this.ref.set(se,Pe)}update(se){return this.ref.update(se)}delete(){return this.ref.delete()}collection(se,Pe){const Pt=this.ref.collection(se),{ref:Yt,query:zn}=Yn(Pt,Pe);return new oi(Yt,zn,this.afs)}snapshotChanges(){return function ir(ft,se){return kr(ft,se).pipe((0,J.Z)(void 0),dt(),(0,nt.T)(Pe=>{const[Pt,Yt]=Pe;return Yt.exists?Pt?.exists?{payload:Yt,type:"modified"}:{payload:Yt,type:"added"}:{payload:Yt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(se={}){return this.snapshotChanges().pipe((0,nt.T)(({payload:Pe})=>se.idField?{...Pe.data(),[se.idField]:Pe.id}:Pe.data()))}get(se){return(0,Le.H)(this.ref.get(se)).pipe(s.U0)}}function Qn(ft,se){return Bt(ft,se).pipe((0,J.Z)(void 0),dt(),(0,nt.T)(Pe=>{const[Pt,Yt]=Pe,zn=Yt.payload.docChanges(),Kr=zn.map(Or=>({type:Or.type,payload:Or}));return Pt&&JSON.stringify(Pt.payload.metadata)!==JSON.stringify(Yt.payload.metadata)&&Yt.payload.docs.forEach((Or,bi)=>{const Ct=zn.find(M=>M.doc.ref.isEqual(Or.ref)),$=Pt?.payload.docs.find(M=>M.ref.isEqual(Or.ref));Ct&&JSON.stringify(Ct.doc.metadata)===JSON.stringify(Or.metadata)||!Ct&&$&&JSON.stringify($.metadata)===JSON.stringify(Or.metadata)||Kr.push({type:"modified",payload:{oldIndex:bi,newIndex:bi,type:"modified",doc:Or}})}),Kr}))}function Rn(ft,se,Pe){return Qn(ft,Pe).pipe((0,Nt.S)((Pt,Yt)=>function ti(ft,se,Pe){return se.forEach(Pt=>{Pe.indexOf(Pt.type)>-1&&(ft=function ni(ft,se){switch(se.type){case"added":if(!ft[se.newIndex]||!ft[se.newIndex].doc.ref.isEqual(se.doc.ref))return Ur(ft,se.newIndex,0,se);break;case"modified":if(null==ft[se.oldIndex]||ft[se.oldIndex].doc.ref.isEqual(se.doc.ref)){if(se.oldIndex!==se.newIndex){const Pe=ft.slice();return Pe.splice(se.oldIndex,1),Pe.splice(se.newIndex,0,se),Pe}return Ur(ft,se.newIndex,1,se)}break;case"removed":if(ft[se.oldIndex]&&ft[se.oldIndex].doc.ref.isEqual(se.doc.ref))return Ur(ft,se.oldIndex,1)}return ft}(ft,Pt))}),ft}(Pt,Yt.map(zn=>zn.payload),se),[]),(0,Mt.F)(),(0,nt.T)(Pt=>Pt.map(Yt=>({type:Yt.type,payload:Yt}))))}function Ur(ft,se,Pe,...Pt){const Yt=ft.slice();return Yt.splice(se,Pe,...Pt),Yt}function er(ft){return(!ft||0===ft.length)&&(ft=["added","removed","modified"]),ft}class oi{ref;query;afs;constructor(se,Pe,Pt){this.ref=se,this.query=Pe,this.afs=Pt}stateChanges(se){let Pe=Qn(this.query,this.afs.schedulers.outsideAngular);return se&&se.length>0&&(Pe=Pe.pipe((0,nt.T)(Pt=>Pt.filter(Yt=>se.indexOf(Yt.type)>-1)))),Pe.pipe((0,J.Z)(void 0),dt(),(0,Gt.p)(([Pt,Yt])=>Yt.length>0||!Pt),(0,nt.T)(([,Pt])=>Pt),s.U0)}auditTrail(se){return this.stateChanges(se).pipe((0,Nt.S)((Pe,Pt)=>[...Pe,...Pt],[]))}snapshotChanges(se){const Pe=er(se);return Rn(this.query,Pe,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(se={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(Pe=>Pe.payload.docs.map(Pt=>se.idField?{...Pt.data(),[se.idField]:Pt.id}:Pt.data())),s.U0)}get(se){return(0,Le.H)(this.query.get(se)).pipe(s.U0)}add(se){return this.ref.add(se)}doc(se){return new Sn(this.ref.doc(se),this.afs)}}class hi{query;afs;constructor(se,Pe){this.query=se,this.afs=Pe}stateChanges(se){return se&&0!==se.length?Qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(Pe=>Pe.filter(Pt=>se.indexOf(Pt.type)>-1)),(0,Gt.p)(Pe=>Pe.length>0),s.U0):Qn(this.query,this.afs.schedulers.outsideAngular).pipe(s.U0)}auditTrail(se){return this.stateChanges(se).pipe((0,Nt.S)((Pe,Pt)=>[...Pe,...Pt],[]))}snapshotChanges(se){const Pe=er(se);return Rn(this.query,Pe,this.afs.schedulers.outsideAngular).pipe(s.U0)}valueChanges(se={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.T)(Pt=>Pt.payload.docs.map(Yt=>se.idField?{[se.idField]:Yt.id,...Yt.data()}:Yt.data())),s.U0)}get(se){return(0,Le.H)(this.query.get(se)).pipe(s.U0)}}const rn=new ue.nKC("angularfire2.enableFirestorePersistence"),Ar=new ue.nKC("angularfire2.firestore.persistenceSettings"),Hn=new ue.nKC("angularfire2.firestore.settings"),_r=new ue.nKC("angularfire2.firestore.use-emulator");function Yn(ft,se=(Pe=>Pe)){return{query:se(ft),ref:ft}}let ci=(()=>{class ft{schedulers;firestore;persistenceEnabled$;constructor(Pe,Pt,Yt,zn,Kr,Or,bi,Ct,$,M,k,ne,ge,ct,Tt,en,un){this.schedulers=bi;const Tn=(0,Ee.iB)(Pe,Or,Pt),yr=$;M&&(0,he.gF)(Tn,Or,k,ge,ct,Tt,ne,en),[this.firestore,this.persistenceEnabled$]=(0,Ee.BM)(`${Tn.name}.firestore`,"AngularFirestore",Tn.name,()=>{const Re=Or.runOutsideAngular(()=>Tn.firestore());if(zn&&Re.settings(zn),yr&&Re.useEmulator(...yr),Yt&&!(0,o.Vy)(Kr)){const Me=()=>{try{return(0,Le.H)(Re.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),(0,Ue.of)(!1)}};return[Re,Or.runOutsideAngular(Me)]}return[Re,(0,Ue.of)(!1)]},[zn,yr,Yt])}collection(Pe,Pt){let Yt;Yt="string"==typeof Pe?this.firestore.collection(Pe):Pe;const{ref:zn,query:Kr}=Yn(Yt,Pt),Or=this.schedulers.ngZone.run(()=>zn);return new oi(Or,Kr,this)}collectionGroup(Pe,Pt){const Yt=Pt||(Kr=>Kr),zn=this.firestore.collectionGroup(Pe);return new hi(Yt(zn),this)}doc(Pe){let Pt;Pt="string"==typeof Pe?this.firestore.doc(Pe):Pe;const Yt=this.schedulers.ngZone.run(()=>Pt);return new Sn(Yt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Pt){return new(Pt||ft)(ue.KVO(Ee.rx),ue.KVO(Ee.uP,8),ue.KVO(rn,8),ue.KVO(Hn,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(s.u0),ue.KVO(Ar,8),ue.KVO(_r,8),ue.KVO(he.DS,8),ue.KVO(he.CP,8),ue.KVO(he.yy,8),ue.KVO(he.ZP,8),ue.KVO(he.$z,8),ue.KVO(he.AU,8),ue.KVO(he.UB,8),ue.KVO(s.Jv,8))};static \u0275prov=ue.jDH({token:ft,factory:ft.\u0275fac,providedIn:"any"})}return ft})(),Qe=(()=>{class ft{constructor(){mr.A.registerVersion("angularfire",s.xv.full,"fst-compat")}static enablePersistence(Pe){return{ngModule:ft,providers:[{provide:rn,useValue:!0},{provide:Ar,useValue:Pe}]}}static \u0275fac=function(Pt){return new(Pt||ft)};static \u0275mod=ue.$C({type:ft});static \u0275inj=ue.G2t({providers:[ci]})}return ft})()},8721:(mn,Ze,V)=>{V.d(Ze,{ap:()=>Fe,y5:()=>He});var o=V(5407),ue=V(1985),s=V(7673),Ee=V(8455),he=V(3236),we=V(9974),Ae=V(4360),Ue=V(6354),J=V(5558),de=V(7705),xe=V(9253),dt=V(3345),nt=V(4535),Nt=V(1362);class Mt{constructor(ve,Ve,st){this._delegate=ve,this.task=Ve,this.ref=st}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gt{constructor(ve,Ve){this._delegate=ve,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Mt(this._delegate.snapshot,this,this._ref)}then(ve,Ve){return this._delegate.then(st=>{if(ve)return ve(new Mt(st,this,this._ref))},Ve)}on(ve,Ve,st,Ye){let jt;return Ve&&(jt="function"==typeof Ve?Mn=>Ve(new Mt(Mn,this,this._ref)):{next:Ve.next?Mn=>Ve.next(new Mt(Mn,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(ve,jt,st||void 0,Ye||void 0)}}class Lt{constructor(ve,Ve){this._delegate=ve,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(ve=>new yn(ve,this._service))}get items(){return this._delegate.items.map(ve=>new yn(ve,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yn{constructor(ve,Ve){this._delegate=ve,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ve){const Ve=(0,nt.Mp)(this._delegate,ve);return new yn(Ve,this.storage)}get root(){return new yn(this._delegate.root,this.storage)}get parent(){const ve=this._delegate.parent;return null==ve?null:new yn(ve,this.storage)}put(ve,Ve){return this._throwIfRoot("put"),new Gt((0,nt.bp)(this._delegate,ve,Ve),this)}putString(ve,Ve=nt.nw.RAW,st){this._throwIfRoot("putString");const Ye=(0,nt.ZH)(Ve,ve),jt=Object.assign({},st);return null==jt.contentType&&null!=Ye.contentType&&(jt.contentType=Ye.contentType),new Gt(new nt.UC(this._delegate,new nt.Mx(Ye.data,!0),jt),this)}listAll(){return(0,nt._w)(this._delegate).then(ve=>new Lt(ve,this.storage))}list(ve){return(0,nt.p_)(this._delegate,ve||void 0).then(Ve=>new Lt(Ve,this.storage))}getMetadata(){return(0,nt.yb)(this._delegate)}updateMetadata(ve){return(0,nt.D5)(this._delegate,ve)}getDownloadURL(){return(0,nt.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,nt.XR)(this._delegate)}_throwIfRoot(ve){if(""===this._delegate._location.path)throw(0,nt.UY)(ve)}}class Ge{constructor(ve,Ve){this.app=ve,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ve){if(_e(ve))throw(0,nt.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new yn((0,nt.KR)(this._delegate,ve),this)}refFromURL(ve){if(!_e(ve))throw(0,nt.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nt.TZ.makeFromUrl(ve,this._delegate.host)}catch{throw(0,nt.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new yn((0,nt.KR)(this._delegate,ve),this)}setMaxUploadRetryTime(ve){this._delegate.maxUploadRetryTime=ve}setMaxOperationRetryTime(ve){this._delegate.maxOperationRetryTime=ve}useEmulator(ve,Ve,st={}){(0,nt.nb)(this._delegate,ve,Ve,st)}}function _e(Ce){return/^[A-Za-z]+:\/\//.test(Ce)}function Ot(Ce,{instanceIdentifier:ve}){const Ve=Ce.getProvider("app-compat").getImmediate(),st=Ce.getProvider("storage").getImmediate({identifier:ve});return new Ge(Ve,st)}!function Ut(Ce){const ve={TaskState:nt.Ad,TaskEvent:nt.xc,StringFormat:nt.nw,Storage:Ge,Reference:yn};Ce.INTERNAL.registerComponent(new Nt.uA("storage-compat",Ot,"PUBLIC").setServiceProps(ve).setMultipleInstances(!0)),Ce.registerVersion("@firebase/storage-compat","0.3.12")}(dt.A);var Ie=V(7935);function In(Ce){const ve=function cn(Ce){return new ue.c(ve=>{const Ve=Mn=>ve.next(Mn);Ve(Ce.snapshot);const jt=Ce.on("state_changed",Ve);return Ce.then(Mn=>{Ve(Mn),ve.complete()},Mn=>{Ve(Ce.snapshot),(Mn=>{ve.error(Mn)})(Mn)}),function(){jt()}}).pipe(function Le(Ce,ve=he.E){return(0,we.N)((Ve,st)=>{let Ye=null,jt=null,Mn=null;const dr=()=>{if(Ye){Ye.unsubscribe(),Ye=null;const Vn=jt;jt=null,st.next(Vn)}};function hn(){const Vn=Mn+Ce,tn=ve.now();if(tn<Vn)return Ye=this.schedule(void 0,Vn-tn),void st.add(Ye);dr()}Ve.subscribe((0,Ae._)(st,Vn=>{jt=Vn,Mn=ve.now(),Ye||(Ye=ve.schedule(hn,Ce),st.add(Ye))},()=>{dr(),st.complete()},void 0,()=>{jt=Ye=null}))})}(0))}(Ce);return{task:Ce,then:Ce.then.bind(Ce),catch:Ce.catch.bind(Ce),pause:Ce.pause.bind(Ce),cancel:Ce.cancel.bind(Ce),resume:Ce.resume.bind(Ce),snapshotChanges:()=>ve,percentageChanges:()=>ve.pipe((0,Ue.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function sr(Ce){return{getDownloadURL:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ce.getDownloadURL()),o.U0),getMetadata:()=>(0,s.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ce.getMetadata()),o.U0),delete:()=>(0,Ee.H)(Ce.delete()),child:ve=>sr(Ce.child(ve)),updateMetadata:ve=>(0,Ee.H)(Ce.updateMetadata(ve)),put:(ve,Ve)=>In(Ce.put(ve,Ve)),putString:(ve,Ve,st)=>In(Ce.putString(ve,Ve,st)),list:ve=>(0,Ee.H)(Ce.list(ve)),listAll:()=>(0,Ee.H)(Ce.listAll())}}const Vt=new de.nKC("angularfire2.storageBucket"),qt=new de.nKC("angularfire2.storage.maxUploadRetryTime"),Jt=new de.nKC("angularfire2.storage.maxOperationRetryTime"),gt=new de.nKC("angularfire2.storage.use-emulator");let Fe=(()=>{class Ce{storage;constructor(Ve,st,Ye,jt,Mn,dr,hn,Vn,tn,Zn){const $n=(0,xe.iB)(Ve,Mn,st);this.storage=(0,xe.BM)(`${$n.name}.storage.${Ye}`,"AngularFireStorage",$n.name,()=>{const Wt=Mn.runOutsideAngular(()=>$n.storage(Ye||void 0)),zt=tn;return zt&&Wt.useEmulator(...zt),hn&&Wt.setMaxUploadRetryTime(hn),Vn&&Wt.setMaxOperationRetryTime(Vn),Wt},[hn,Vn])}ref(Ve){return sr(this.storage.ref(Ve))}refFromURL(Ve){return sr(this.storage.refFromURL(Ve))}upload(Ve,st,Ye){return sr(this.storage.ref(Ve)).put(st,Ye)}static \u0275fac=function(st){return new(st||Ce)(de.KVO(xe.rx),de.KVO(xe.uP,8),de.KVO(Vt,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(o.u0),de.KVO(qt,8),de.KVO(Jt,8),de.KVO(gt,8),de.KVO(o.Jv,8))};static \u0275prov=de.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"any"})}return Ce})(),ln=(()=>{class Ce{static \u0275fac=function(st){return new(st||Ce)};static \u0275mod=de.$C({type:Ce});static \u0275inj=de.G2t({})}return Ce})(),He=(()=>{class Ce{constructor(){Ie.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(st){return new(st||Ce)};static \u0275mod=de.$C({type:Ce});static \u0275inj=de.G2t({providers:[Fe],imports:[ln]})}return Ce})()},9253:(mn,Ze,V)=>{V.d(Ze,{BM:()=>nt,Gt:()=>he,bf:()=>dt,e7:()=>we,iB:()=>J,rx:()=>Le,uP:()=>Ue});var o=V(7705),ue=V(5407),s=V(7935);const Ee=["ngOnDestroy"],he=(Lt,yn,Ge,_e={})=>new Proxy(Lt,{get:(it,et)=>Ge.runOutsideAngular(()=>{if(Lt[et])return _e?.spy?.get&&_e.spy.get(et,Lt[et]),Lt[et];if(Ee.indexOf(et)>-1)return()=>{};const lt=yn.toPromise().then(Ot=>{const Ut=Ot?.[et];return"function"==typeof Ut?Ut.bind(Ot):Ut?.then?Ut.then(Ie=>Ge.run(()=>Ie)):Ge.run(()=>Ut)});return new Proxy(()=>{},{get:(Ot,Ut)=>lt[Ut],apply:(Ot,Ut,Ie)=>lt.then(cn=>{const In=cn?.(...Ie);return _e?.spy?.apply&&_e.spy.apply(et,Ie,In),In})})})}),we=(Lt,yn)=>{yn.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(_e=>{Object.defineProperty(Lt.prototype,_e,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,_e))})})};class Ae{constructor(yn){return yn}}const Le=new o.nKC("angularfire2.app.options"),Ue=new o.nKC("angularfire2.app.name");function J(Lt,yn,Ge){const it="object"==typeof Ge&&Ge||{};it.name=it.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const lt=s.A.apps.filter(Ot=>Ot&&Ot.name===it.name)[0]||yn.runOutsideAngular(()=>s.A.initializeApp(Lt,it));try{if(JSON.stringify(Lt)!==JSON.stringify(lt.options)){const Ot=!!module.hot;de("error",`${lt.name} Firebase App already initialized with different options${Ot?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(lt)}const de=(Lt,...yn)=>{(0,o.naY)()&&typeof console<"u"&&console[Lt](...yn)},xe={provide:Ae,useFactory:J,deps:[Le,o.SKi,[new o.Xx1,Ue]]};let dt=(()=>{class Lt{static initializeApp(Ge,_e){return{ngModule:Lt,providers:[{provide:Le,useValue:Ge},{provide:Ue,useValue:_e}]}}constructor(Ge){s.A.registerVersion("angularfire",ue.xv.full,"core"),s.A.registerVersion("angularfire",ue.xv.full,"app-compat"),s.A.registerVersion("angular",o.xvI.full,Ge.toString())}static \u0275fac=function(_e){return new(_e||Lt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Lt});static \u0275inj=o.G2t({providers:[xe]})}return Lt})();function nt(Lt,yn,Ge,_e,it){const[,et,lt]=globalThis.\u0275AngularfireInstanceCache.find(Ot=>Ot[0]===Lt)||[];if(et)return function Nt(Lt,yn){try{return Lt.toString()===yn.toString()}catch{return Lt===yn}}(it,lt)||(Gt("error",`${yn} was already initialized on the ${Ge} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),Gt("warn",{is:it,was:lt})),et;{const Ot=_e();return globalThis.\u0275AngularfireInstanceCache.push([Lt,Ot,it]),Ot}}const Mt=typeof module<"u"&&!!module.hot,Gt=(Lt,...yn)=>{(0,o.naY)()&&typeof console<"u"&&console[Lt](...yn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(mn,Ze,V)=>{V.d(Ze,{xv:()=>nt,U0:()=>In,Oe:()=>Ie,u0:()=>et,Jv:()=>Lt,CA:()=>Gt,lR:()=>Mt,S3:()=>qt});var o=V(7705),ue=V(2214),s=V(6780),he=V(9687);const Ae=new class we extends he.q{}(class Ee extends s.R{constructor(gt,Fe){super(gt,Fe),this.scheduler=gt,this.work=Fe}schedule(gt,Fe=0){return Fe>0?super.schedule(gt,Fe):(this.delay=Fe,this.state=gt,this.scheduler.flush(this),this)}execute(gt,Fe){return Fe>0||this.closed?super.execute(gt,Fe):this._execute(gt,Fe)}requestAsyncId(gt,Fe,rt=0){return null!=rt&&rt>0||null==rt&&this.delay>0?super.requestAsyncId(gt,Fe,rt):(gt.flush(this),0)}});var Ue=V(3236),J=V(1985),de=V(8141),xe=V(941),dt=V(6745);const nt=new o.RxE("ANGULARFIRE2_VERSION");function Mt(Jt,gt,Fe){if(gt){if(1===gt.length)return gt[0];const He=gt.filter(Ce=>Ce.app===Fe);if(1===He.length)return He[0]}return Fe.container.getProvider(Jt).getImmediate({optional:!0})}const Gt=(Jt,gt)=>{const Fe=gt?[gt]:(0,ue.Dk)(),rt=[];return Fe.forEach(ln=>{ln.container.getProvider(Jt).instances.forEach(Ce=>{rt.includes(Ce)||rt.push(Ce)})}),rt};class Lt{constructor(){return Gt(yn)}}const yn="app-check";function Ge(){}class _e{zone;delegate;constructor(gt,Fe=Ae){this.zone=gt,this.delegate=Fe}now(){return this.delegate.now()}schedule(gt,Fe,rt){const ln=this.zone;return this.delegate.schedule(function(Ce){ln.runGuarded(()=>{gt.apply(this,[Ce])})},Fe,rt)}}class it{zone;task=null;constructor(gt){this.zone=gt}call(gt,Fe){const rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),Fe.pipe((0,de.M)({next:rt,complete:rt,error:rt})).subscribe(gt).add(rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let et=(()=>{class Jt{ngZone;outsideAngular;insideAngular;constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new _e(Zone.current)),this.insideAngular=Fe.run(()=>new _e(Zone.current,Ue.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(rt){return new(rt||Jt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();function lt(){const Jt=globalThis.\u0275AngularFireScheduler;if(!Jt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Jt}function Ut(Jt){return lt().ngZone.run(()=>Jt())}function Ie(Jt){return Jt.pipe((0,xe.Q)(lt().outsideAngular))}function In(Jt){return function sr(Jt){return function(Fe){return(Fe=Fe.lift(new it(Jt.ngZone))).pipe((0,dt._)(Jt.outsideAngular),(0,xe.Q)(Jt.insideAngular))}}(lt())(Jt)}const Vt=(Jt,gt)=>function(){const rt=arguments;return gt&&setTimeout(()=>{"scheduled"===gt.state&&gt.invoke()},10),Ut(()=>Jt.apply(void 0,rt))},qt=(Jt,gt)=>function(){let Fe;const rt=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof rt[He]&&(gt&&(Fe||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge))),rt[He]=Vt(rt[He],Fe));const ln=function Ot(Jt){return lt().ngZone.runOutsideAngular(()=>Jt())}(()=>Jt.apply(this,rt));if(!gt){if(ln instanceof J.c){const He=lt();return ln.pipe((0,dt._)(He.outsideAngular),(0,xe.Q)(He.insideAngular))}return Ut(()=>ln)}return ln instanceof J.c?ln.pipe(In):ln instanceof Promise?Ut(()=>new Promise((He,Ce)=>ln.then(ve=>Ut(()=>He(ve)),ve=>Ut(()=>Ce(ve))))):"function"==typeof ln&&Fe?function(){return setTimeout(()=>{Fe&&"scheduled"===Fe.state&&Fe.invoke()},10),ln.apply(this,arguments)}:Ut(()=>ln)}},4341:(mn,Ze,V)=>{V.d(Ze,{Zm:()=>Gt,me:()=>_e,v8:()=>hs,ok:()=>Qs,JD:()=>gi,j4:()=>wn,$R:()=>Ir,YN:()=>Cs,BC:()=>Qn,cb:()=>Rn,cV:()=>Xi,vS:()=>ls,xH:()=>Ls,Q0:()=>us,Fm:()=>tt,X1:()=>os,YS:()=>mi,wz:()=>bs,k0:()=>Ie,qT:()=>As,y7:()=>bt});var o=V(7705),ue=V(177),s=V(8455),Ee=V(1985),he=V(3073),we=V(8750),Ae=V(3794),Le=V(4360),Ue=V(6450),J=V(8496),xe=V(6354);let dt=(()=>{class z{constructor(L,ce){this._renderer=L,this._elementRef=ce,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(L,ce){this._renderer.setProperty(this._elementRef.nativeElement,L,ce)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:z})}}return z})(),nt=(()=>{class z extends dt{static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const Nt=new o.nKC("NgValueAccessor"),Mt={provide:Nt,useExisting:(0,o.Rfq)(()=>Gt),multi:!0};let Gt=(()=>{class z extends nt{writeValue(L){this.setProperty("checked",L)}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,je){1&ce&&o.bIt("change",function(hr){return je.onChange(hr.target.checked)})("blur",function(){return je.onTouched()})},features:[o.Jv_([Mt]),o.Vt3]})}}return z})();const Lt={provide:Nt,useExisting:(0,o.Rfq)(()=>_e),multi:!0},Ge=new o.nKC("CompositionEventMode");let _e=(()=>{class z extends dt{constructor(L,ce,je){super(L,ce),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yn(){const z=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Ge,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,je){1&ce&&o.bIt("input",function(hr){return je._handleInput(hr.target.value)})("blur",function(){return je.onTouched()})("compositionstart",function(){return je._compositionStart()})("compositionend",function(hr){return je._compositionEnd(hr.target.value)})},features:[o.Jv_([Lt]),o.Vt3]})}}return z})();function it(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function et(z){return null!=z&&"number"==typeof z.length}const lt=new o.nKC("NgValidators"),Ot=new o.nKC("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(Q){return function cn(z){return Q=>{if(it(Q.value)||it(z))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L<z?{min:{min:z,actual:Q.value}}:null}}(Q)}static max(Q){return function In(z){return Q=>{if(it(Q.value)||it(z))return null;const L=parseFloat(Q.value);return!isNaN(L)&&L>z?{max:{max:z,actual:Q.value}}:null}}(Q)}static required(Q){return sr(Q)}static requiredTrue(Q){return function Vt(z){return!0===z.value?null:{required:!0}}(Q)}static email(Q){return function qt(z){return it(z.value)||Ut.test(z.value)?null:{email:!0}}(Q)}static minLength(Q){return function Jt(z){return Q=>it(Q.value)||!et(Q.value)?null:Q.value.length<z?{minlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function gt(z){return Q=>et(Q.value)&&Q.value.length>z?{maxlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function Fe(z){if(!z)return rt;let Q,L;return"string"==typeof z?(L="","^"!==z.charAt(0)&&(L+="^"),L+=z,"$"!==z.charAt(z.length-1)&&(L+="$"),Q=new RegExp(L)):(L=z.toString(),Q=z),ce=>{if(it(ce.value))return null;const je=ce.value;return Q.test(je)?null:{pattern:{requiredPattern:L,actualValue:je}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Ye(Q)}static composeAsync(Q){return Mn(Q)}}function sr(z){return it(z.value)?{required:!0}:null}function rt(z){return null}function ln(z){return null!=z}function He(z){return(0,o.jNT)(z)?(0,s.H)(z):z}function Ce(z){let Q={};return z.forEach(L=>{Q=null!=L?{...Q,...L}:Q}),0===Object.keys(Q).length?null:Q}function ve(z,Q){return Q.map(L=>L(z))}function st(z){return z.map(Q=>function Ve(z){return!z.validate}(Q)?Q:L=>Q.validate(L))}function Ye(z){if(!z)return null;const Q=z.filter(ln);return 0==Q.length?null:function(L){return Ce(ve(L,Q))}}function jt(z){return null!=z?Ye(st(z)):null}function Mn(z){if(!z)return null;const Q=z.filter(ln);return 0==Q.length?null:function(L){return function de(...z){const Q=(0,Ae.ms)(z),{args:L,keys:ce}=(0,he.D)(z),je=new Ee.c(An=>{const{length:hr}=L;if(!hr)return void An.complete();const gs=new Array(hr);let Us=hr,ms=hr;for(let _o=0;_o<hr;_o++){let Js=!1;(0,we.Tg)(L[_o]).subscribe((0,Le._)(An,_s=>{Js||(Js=!0,ms--),gs[_o]=_s},()=>Us--,void 0,()=>{(!Us||!Js)&&(ms||An.next(ce?(0,J.e)(ce,gs):gs),An.complete())}))}});return Q?je.pipe((0,Ue.I)(Q)):je}(ve(L,Q).map(He)).pipe((0,xe.T)(Ce))}}function dr(z){return null!=z?Mn(st(z)):null}function hn(z,Q){return null===z?[Q]:Array.isArray(z)?[...z,Q]:[z,Q]}function Vn(z){return z._rawValidators}function tn(z){return z._rawAsyncValidators}function Zn(z){return z?Array.isArray(z)?z:[z]:[]}function $n(z,Q){return Array.isArray(z)?z.includes(Q):z===Q}function Wt(z,Q){const L=Zn(Q);return Zn(z).forEach(je=>{$n(L,je)||L.push(je)}),L}function zt(z,Q){return Zn(Q).filter(L=>!$n(z,L))}class mr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,L){return!!this.control&&this.control.hasError(Q,L)}getError(Q,L){return this.control?this.control.getError(Q,L):null}}class _n extends mr{get formDirective(){return null}get path(){return null}}class kr extends mr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qn=(()=>{class z extends ir{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(kr,2))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,je){2&ce&&o.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)},features:[o.Vt3]})}}return z})(),Rn=(()=>{class z extends ir{constructor(L){super(L)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(_n,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,je){2&ce&&o.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)("ng-submitted",je.isSubmitted)},features:[o.Vt3]})}}return z})();const Yt="VALID",zn="INVALID",Kr="PENDING",Or="DISABLED";function bi(z){return(k(z)?z.validators:z)||null}function $(z,Q){return(k(Q)?Q.asyncValidators:z)||null}function k(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function ne(z,Q,L){const ce=z.controls;if(!(Q?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[L])throw new o.wOt(1001,"")}function ge(z,Q,L){z._forEachChild((ce,je)=>{if(void 0===L[je])throw new o.wOt(1002,"")})}class ct{constructor(Q,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Yt}get invalid(){return this.status===zn}get pending(){return this.status==Kr}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(Wt(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(Wt(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(zt(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(zt(Q,this._rawAsyncValidators))}hasValidator(Q){return $n(this._rawValidators,Q)}hasAsyncValidator(Q){return $n(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Kr,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Or,this.errors=null,this._forEachChild(ce=>{ce.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(Q={}){const L=this._parentMarkedDirty(Q.onlySelf);this.status=Yt,this._forEachChild(ce=>{ce.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:L}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===Kr)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Kr,this._hasOwnPendingAsyncValidator=!0;const L=He(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,L={}){this.errors=Q,this._updateControlsErrors(!1!==L.emitEvent)}get(Q){let L=Q;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ce,je)=>ce&&ce._find(je),this)}getError(Q,L){const ce=L?this.get(L):this;return ce&&ce.errors?ce.errors[Q]:null}hasError(Q,L){return!!this.getError(Q,L)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kr)?Kr:this._anyControlsHaveStatus(zn)?zn:Yt}_anyControlsHaveStatus(Q){return this._anyControls(L=>L.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){k(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function Ct(z){return Array.isArray(z)?jt(z):z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function M(z){return Array.isArray(z)?dr(z):z||null}(this._rawAsyncValidators)}}class Tt extends ct{constructor(Q,L,ce){super(bi(L),$(ce,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,L){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(Q,L,ce={}){this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(Q,L={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(Q,L,ce={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],L&&this.registerControl(Q,L),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,L={}){ge(this,0,Q),Object.keys(Q).forEach(ce=>{ne(this,!0,ce),this.controls[ce].setValue(Q[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Object.keys(Q).forEach(ce=>{const je=this.controls[ce];je&&je.patchValue(Q[ce],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q={},L={}){this._forEachChild((ce,je)=>{ce.reset(Q?Q[je]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(Q,L,ce)=>(Q[ce]=L.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(L,ce)=>!!ce._syncPendingControls()||L);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(L=>{const ce=this.controls[L];ce&&Q(ce,L)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[L,ce]of Object.entries(this.controls))if(this.contains(L)&&Q(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ce,je)=>((ce.enabled||this.disabled)&&(L[je]=ce.value),L))}_reduceChildren(Q,L){let ce=Q;return this._forEachChild((je,An)=>{ce=L(ce,je,An)}),ce}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Tn extends Tt{}const Re=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Me}),Me="always";function Be(z,Q){return[...Q.path,z]}function kt(z,Q,L=Me){or(z,Q),Q.valueAccessor.writeValue(z.value),(z.disabled||"always"===L)&&Q.valueAccessor.setDisabledState?.(z.disabled),function ri(z,Q){Q.valueAccessor.registerOnChange(L=>{z._pendingValue=L,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&qe(z,Q)})}(z,Q),function Dt(z,Q){const L=(ce,je)=>{Q.valueAccessor.writeValue(ce),je&&Q.viewToModelUpdate(ce)};z.registerOnChange(L),Q._registerOnDestroy(()=>{z._unregisterOnChange(L)})}(z,Q),function vt(z,Q){Q.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&qe(z,Q),"submit"!==z.updateOn&&z.markAsTouched()})}(z,Q),function fn(z,Q){if(Q.valueAccessor.setDisabledState){const L=ce=>{Q.valueAccessor.setDisabledState(ce)};z.registerOnDisabledChange(L),Q._registerOnDestroy(()=>{z._unregisterOnDisabledChange(L)})}}(z,Q)}function Xt(z,Q,L=!0){const ce=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(ce),Q.valueAccessor.registerOnTouched(ce)),vn(z,Q),z&&(Q._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function bn(z,Q){z.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(Q)})}function or(z,Q){const L=Vn(z);null!==Q.validator?z.setValidators(hn(L,Q.validator)):"function"==typeof L&&z.setValidators([L]);const ce=tn(z);null!==Q.asyncValidator?z.setAsyncValidators(hn(ce,Q.asyncValidator)):"function"==typeof ce&&z.setAsyncValidators([ce]);const je=()=>z.updateValueAndValidity();bn(Q._rawValidators,je),bn(Q._rawAsyncValidators,je)}function vn(z,Q){let L=!1;if(null!==z){if(null!==Q.validator){const je=Vn(z);if(Array.isArray(je)&&je.length>0){const An=je.filter(hr=>hr!==Q.validator);An.length!==je.length&&(L=!0,z.setValidators(An))}}if(null!==Q.asyncValidator){const je=tn(z);if(Array.isArray(je)&&je.length>0){const An=je.filter(hr=>hr!==Q.asyncValidator);An.length!==je.length&&(L=!0,z.setAsyncValidators(An))}}}const ce=()=>{};return bn(Q._rawValidators,ce),bn(Q._rawAsyncValidators,ce),L}function qe(z,Q){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function pn(z,Q){or(z,Q)}function wi(z,Q){if(!z.hasOwnProperty("model"))return!1;const L=z.model;return!!L.isFirstChange()||!Object.is(Q,L.currentValue)}function ji(z,Q){z._syncPendingControls(),Q.forEach(L=>{const ce=L.control;"submit"===ce.updateOn&&ce._pendingChange&&(L.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function qs(z,Q){if(!Q)return null;let L,ce,je;return Array.isArray(Q),Q.forEach(An=>{An.constructor===_e?L=An:function ns(z){return Object.getPrototypeOf(z.constructor)===nt}(An)?ce=An:je=An}),je||ce||L||null}const wo={provide:_n,useExisting:(0,o.Rfq)(()=>Xi)},li=(()=>Promise.resolve())();let Xi=(()=>{class z extends _n{constructor(L,ce,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Tt({},jt(L),dr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){li.then(()=>{const ce=this._findContainer(L.path);L.control=ce.registerControl(L.name,L.control),kt(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){li.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){li.then(()=>{const ce=this._findContainer(L.path),je=new Tt({});pn(je,L),ce.registerControl(L.name,je),je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){li.then(()=>{const ce=this._findContainer(L.path);ce&&ce.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ce){li.then(()=>{this.form.get(L.path).setValue(ce)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,ji(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(lt,10),o.rXU(Ot,10),o.rXU(Re,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,je){1&ce&&o.bIt("submit",function(hr){return je.onSubmit(hr)})("reset",function(){return je.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([wo]),o.Vt3]})}}return z})();function Gi(z,Q){const L=z.indexOf(Q);L>-1&&z.splice(L,1)}function ii(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Ki=class extends ct{constructor(Q=null,L,ce){super(bi(L),$(ce,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=ii(Q)?Q.value:Q)}setValue(Q,L={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(Q,L={}){this.setValue(Q,L)}reset(Q=this.defaultValue,L={}){this._applyFormState(Q),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Gi(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Gi(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){ii(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let xs=(()=>{class z extends _n{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Be(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const ws={provide:kr,useExisting:(0,o.Rfq)(()=>ls)},Qr=(()=>Promise.resolve())();let ls=(()=>{class z extends kr{constructor(L,ce,je,An,hr,gs){super(),this._changeDetectorRef=hr,this.callSetDisabledState=gs,this.control=new Ki,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=L,this._setValidators(ce),this._setAsyncValidators(je),this.valueAccessor=qs(0,An)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ce=L.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),wi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Qr.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ce=L.isDisabled.currentValue,je=0!==ce&&(0,o.L39)(ce);Qr.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?Be(L,this._parent):[L]}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(_n,9),o.rXU(lt,10),o.rXU(Ot,10),o.rXU(Nt,10),o.rXU(o.gRc,8),o.rXU(Re,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([ws]),o.Vt3,o.OA$]})}}return z})(),As=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return z})();const co={provide:Nt,useExisting:(0,o.Rfq)(()=>us),multi:!0};let us=(()=>{class z extends nt{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ce=>{L(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,je){1&ce&&o.bIt("input",function(hr){return je.onChange(hr.target.value)})("blur",function(){return je.onTouched()})},features:[o.Jv_([co]),o.Vt3]})}}return z})();const Lr={provide:Nt,useExisting:(0,o.Rfq)(()=>tt),multi:!0};let wt=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({})}}return z})(),oe=(()=>{class z{constructor(){this._accessors=[]}add(L,ce){this._accessors.push([L,ce])}remove(L){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===L)return void this._accessors.splice(ce,1)}select(L){this._accessors.forEach(ce=>{this._isSameGroup(ce,L)&&ce[1]!==L&&ce[1].fireUncheck(L.value)})}_isSameGroup(L,ce){return!!L[0].control&&L[0]._parent===ce._control._parent&&L[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:wt})}}return z})(),tt=(()=>{class z extends nt{constructor(L,ce,je,An){super(L,ce),this._registry=je,this._injector=An,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(Re,{optional:!0})??Me}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}setDisabledState(L){(this.setDisabledStateFired||L||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",L),this.setDisabledStateFired=!0}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(oe),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,je){1&ce&&o.bIt("change",function(){return je.onChange()})("blur",function(){return je.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Lr]),o.Vt3]})}}return z})();const Jr=new o.nKC("NgModelWithFormControlWarning"),pi={provide:_n,useExisting:(0,o.Rfq)(()=>wn)};let wn=(()=>{class z extends _n{constructor(L,ce,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(L),this._setAsyncValidators(ce)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ce=this.form.get(L.path);return kt(ce,L,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ce}getControl(L){return this.form.get(L.path)}removeControl(L){Xt(L.control||null,L,!1),function Ys(z,Q){const L=z.indexOf(Q);L>-1&&z.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ce){this.form.get(L.path).setValue(ce)}onSubmit(L){return this.submitted=!0,ji(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ce=L.control,je=this.form.get(L.path);ce!==je&&(Xt(ce||null,L),(z=>z instanceof Ki)(je)&&(kt(je,L,this.callSetDisabledState),L.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ce=this.form.get(L.path);pn(ce,L),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ce=this.form.get(L.path);ce&&function kn(z,Q){return vn(z,Q)}(ce,L)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){or(this.form,this),this._oldForm&&vn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(lt,10),o.rXU(Ot,10),o.rXU(Re,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(ce,je){1&ce&&o.bIt("submit",function(hr){return je.onSubmit(hr)})("reset",function(){return je.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([pi]),o.Vt3,o.OA$]})}}return z})();const pr={provide:_n,useExisting:(0,o.Rfq)(()=>Ir)};let Ir=(()=>{class z extends xs{constructor(L,ce,je){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(je)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(_n,13),o.rXU(lt,10),o.rXU(Ot,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([pr]),o.Vt3]})}}return z})();const rs={provide:_n,useExisting:(0,o.Rfq)(()=>hs)};let hs=(()=>{class z extends _n{constructor(L,ce,je){super(),this.name=null,this._parent=L,this._setValidators(ce),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Be(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(_n,13),o.rXU(lt,10),o.rXU(Ot,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([rs]),o.Vt3]})}}return z})();function zi(z){return!(z instanceof Ir||z instanceof wn||z instanceof hs)}const Xs={provide:kr,useExisting:(0,o.Rfq)(()=>gi)};let gi=(()=>{class z extends kr{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ce,je,An,hr){super(),this._ngModelWarningConfig=hr,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ce),this._setAsyncValidators(je),this.valueAccessor=qs(0,An)}ngOnChanges(L){this._added||this._setUpControl(),wi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Be(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(_n,13),o.rXU(lt,10),o.rXU(Ot,10),o.rXU(Nt,10),o.rXU(Jr,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Xs]),o.Vt3,o.OA$]})}}return z})();const ss={provide:Nt,useExisting:(0,o.Rfq)(()=>bs),multi:!0};function Ms(z,Q){return null==z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let bs=(()=>{class z extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const je=Ms(this._getOptionId(L),L);this.setProperty("value",je)}registerOnChange(L){this.onChange=ce=>{this.value=this._getOptionValue(ce),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),L))return ce;return null}_getOptionValue(L){const ce=function ar(z){return z.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce):L}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,je){1&ce&&o.bIt("change",function(hr){return je.onChange(hr.target.value)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([ss]),o.Vt3]})}}return z})(),Ls=(()=>{class z{constructor(L,ce,je){this._element=L,this._renderer=ce,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Ms(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(bs,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})();const Z={provide:Nt,useExisting:(0,o.Rfq)(()=>Je),multi:!0};function X(z,Q){return null==z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let Je=(()=>{class z extends nt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ce;if(this.value=L,Array.isArray(L)){const je=L.map(An=>this._getOptionId(An));ce=(An,hr)=>{An._setSelected(je.indexOf(hr.toString())>-1)}}else ce=(je,An)=>{je._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(L){this.onChange=ce=>{const je=[],An=ce.selectedOptions;if(void 0!==An){const hr=An;for(let gs=0;gs<hr.length;gs++){const ms=this._getOptionValue(hr[gs].value);je.push(ms)}}else{const hr=ce.options;for(let gs=0;gs<hr.length;gs++){const Us=hr[gs];if(Us.selected){const ms=this._getOptionValue(Us.value);je.push(ms)}}}this.value=je,L(je)}}_registerOption(L){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,L),ce}_getOptionId(L){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,L))return ce;return null}_getOptionValue(L){const ce=function Te(z){return z.split(":")[0]}(L);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:L}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,je){1&ce&&o.bIt("change",function(hr){return je.onChange(hr.target)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return z})(),bt=(()=>{class z{constructor(L,ce,je){this._element=L,this._renderer=ce,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(X(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(X(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Je,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})(),Dn=(()=>{class z{constructor(){this._validator=rt}ngOnChanges(L){if(this.inputName in L){const ce=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):rt,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275dir=o.FsC({type:z,features:[o.OA$]})}}return z})();const gr={provide:lt,useExisting:(0,o.Rfq)(()=>mi),multi:!0};let mi=(()=>{class z extends Dn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=L=>sr}enabled(L){return L}static{this.\u0275fac=function(){let L;return function(je){return(L||(L=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,je){2&ce&&o.BMQ("required",je._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([gr]),o.Vt3]})}}return z})(),go=(()=>{class z{static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[wt]})}}return z})();class mo extends ct{constructor(Q,L,ce){super(bi(L),$(ce,L)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,L={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(Q,L,ce={}){this.controls.splice(Q,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(Q,L={}){let ce=this._adjustIndex(Q);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(Q,L,ce={}){let je=this._adjustIndex(Q);je<0&&(je=0),this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),this.controls.splice(je,1),L&&(this.controls.splice(je,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,L={}){ge(this,0,Q),Q.forEach((ce,je)=>{ne(this,!1,je),this.at(je).setValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(Q,L={}){null!=Q&&(Q.forEach((ce,je)=>{this.at(je)&&this.at(je).patchValue(ce,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(Q=[],L={}){this._forEachChild((ce,je)=>{ce.reset(Q[je],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((L,ce)=>!!ce._syncPendingControls()||L,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((L,ce)=>{Q(L,ce)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(L=>L.enabled&&Q(L))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function ps(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Qs=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new z;return L.useNonNullable=!0,L}group(L,ce=null){const je=this._reduceControls(L);let An={};return ps(ce)?An=ce:null!==ce&&(An.validators=ce.validator,An.asyncValidators=ce.asyncValidator),new Tt(je,An)}record(L,ce=null){const je=this._reduceControls(L);return new Tn(je,ce)}control(L,ce,je){let An={};return this.useNonNullable?(ps(ce)?An=ce:(An.validators=ce,An.asyncValidators=je),new Ki(L,{...An,nonNullable:!0})):new Ki(L,ce,je)}array(L,ce,je){const An=L.map(hr=>this._createControl(hr));return new mo(An,ce,je)}_reduceControls(L){const ce={};return Object.keys(L).forEach(je=>{ce[je]=this._createControl(L[je])}),ce}_createControl(L){return L instanceof Ki||L instanceof ct?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Cs=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:Re,useValue:L.callSetDisabledState??Me}]}}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[go]})}}return z})(),os=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:Jr,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Re,useValue:L.callSetDisabledState??Me}]}}static{this.\u0275fac=function(ce){return new(ce||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[go]})}}return z})()},345:(mn,Ze,V)=>{V.d(Ze,{B7:()=>Ut,Bb:()=>$n,W8:()=>zt,hE:()=>kr,sG:()=>hn,up:()=>ci});var o=V(7705),ue=V(177);class s extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends s{static makeCurrent(){(0,ue.ZD)(new Ee)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function we(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==M?null:function Le(Ct){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",Ct);const $=Ae.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let Ae,he=null,J=(()=>{class Ct{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const de=new o.nKC("EventManagerPlugins");let xe=(()=>{class Ct{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(ne=>{ne.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,ne){return this._findPluginFor(k).addEventListener(M,k,ne)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(ge=>ge.supports(M)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(de),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class dt{constructor($){this._doc=$}}const nt="ng-app-id";let Nt=(()=>{class Ct{constructor(M,k,ne,ge={}){this.doc=M,this.appId=k,this.nonce=ne,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(ge),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(ne=>ne.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(ne=>{null!=ne.textContent&&k.set(ne.textContent,ne)}),k}return null}changeUsageCount(M,k){const ne=this.styleRef;if(ne.has(M)){const ge=ne.get(M);return ge.usage+=k,ge.usage}return ne.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const ne=this.styleNodesInDOM,ge=ne?.get(k);if(ge?.parentNode===M)return ne.delete(k),ge.removeAttribute(nt),ge;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=k,this.platformIsServer&&ct.setAttribute(nt,this.appId),ct}}addStyleToHost(M,k){const ne=this.getStyleElement(M,k);M.appendChild(ne);const ge=this.styleRef,ct=ge.get(k)?.elements;ct?ct.push(ne):ge.set(k,{elements:[ne],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gt=/%COMP%/g,it=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ot(Ct,$){return $.map(M=>M.replace(Gt,Ct))}let Ut=(()=>{class Ct{constructor(M,k,ne,ge,ct,Tt,en,un=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=ne,this.removeStylesOnCompDestroy=ge,this.doc=ct,this.platformId=Tt,this.ngZone=en,this.nonce=un,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(Tt),this.defaultRenderer=new Ie(M,ct,en,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const ne=this.getOrCreateRenderer(M,k);return ne instanceof Jt?ne.applyToHost(M):ne instanceof qt&&ne.applyStyles(),ne}getOrCreateRenderer(M,k){const ne=this.rendererByCompId;let ge=ne.get(k.id);if(!ge){const ct=this.doc,Tt=this.ngZone,en=this.eventManager,un=this.sharedStylesHost,Tn=this.removeStylesOnCompDestroy,yr=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:ge=new Jt(en,un,k,this.appId,Tn,ct,Tt,yr);break;case o.gXe.ShadowDom:return new Vt(en,un,M,k,ct,Tt,this.nonce,yr);default:ge=new qt(en,un,k,Tn,ct,Tt,yr)}ne.set(k.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(xe),o.KVO(Nt),o.KVO(o.sZ2),o.KVO(it),o.KVO(ue.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class Ie{constructor($,M,k,ne){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(Mt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(sr($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(sr($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new o.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,ne){if(ne){M=ne+":"+M;const ge=Mt[ne];ge?$.setAttributeNS(ge,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const ne=Mt[k];ne?$.removeAttributeNS(ne,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,ne){ne&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,k,ne&o.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function sr(Ct){return"TEMPLATE"===Ct.tagName&&void 0!==Ct.content}class Vt extends Ie{constructor($,M,k,ne,ge,ct,Tt,en){super($,ge,ct,en),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const un=Ot(ne.id,ne.styles);for(const Tn of un){const yr=document.createElement("style");Tt&&yr.setAttribute("nonce",Tt),yr.textContent=Tn,this.shadowRoot.appendChild(yr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qt extends Ie{constructor($,M,k,ne,ge,ct,Tt,en){super($,ge,ct,Tt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ne,this.styles=en?Ot(en,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jt extends qt{constructor($,M,k,ne,ge,ct,Tt,en){const un=ne+"-"+k.id;super($,M,k,ge,ct,Tt,en,un),this.contentAttr=function et(Ct){return"_ngcontent-%COMP%".replace(Gt,Ct)}(un),this.hostAttr=function lt(Ct){return"_nghost-%COMP%".replace(Gt,Ct)}(un)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let gt=(()=>{class Ct extends dt{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,ne){return M.addEventListener(k,ne,!1),()=>this.removeEventListener(M,k,ne)}removeEventListener(M,k,ne){return M.removeEventListener(k,ne)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const Fe=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={alt:Ct=>Ct.altKey,control:Ct=>Ct.ctrlKey,meta:Ct=>Ct.metaKey,shift:Ct=>Ct.shiftKey};let He=(()=>{class Ct extends dt{constructor(M){super(M)}supports(M){return null!=Ct.parseEventName(M)}addEventListener(M,k,ne){const ge=Ct.parseEventName(k),ct=Ct.eventCallback(ge.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(M,ge.domEventName,ct))}static parseEventName(M){const k=M.toLowerCase().split("."),ne=k.shift();if(0===k.length||"keydown"!==ne&&"keyup"!==ne)return null;const ge=Ct._normalizeKey(k.pop());let ct="",Tt=k.indexOf("code");if(Tt>-1&&(k.splice(Tt,1),ct="code."),Fe.forEach(un=>{const Tn=k.indexOf(un);Tn>-1&&(k.splice(Tn,1),ct+=un+".")}),ct+=ge,0!=k.length||0===ge.length)return null;const en={};return en.domEventName=ne,en.fullKey=ct,en}static matchEventFullKeyCode(M,k){let ne=rt[M.key]||M.key,ge="";return k.indexOf("code.")>-1&&(ne=M.code,ge="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),Fe.forEach(ct=>{ct!==ne&&(0,ln[ct])(M)&&(ge+=ct+".")}),ge+=ne,ge===k)}static eventCallback(M,k,ne){return ge=>{Ct.matchEventFullKeyCode(ge,M)&&ne.runGuarded(()=>k(ge))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const hn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:ue.AJ},{provide:o.PLl,useValue:function Ye(){Ee.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function Mn(){return(0,o.TL$)(document),document},deps:[]}]),Vn=new o.nKC(""),tn=[{provide:o.e01,useClass:class Ue{addToWindow($){o.JZv.getAngularTestability=(k,ne=!0)=>{const ge=$.findTestabilityInTree(k,ne);if(null==ge)throw new o.wOt(5103,!1);return ge},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const ne=o.JZv.getAllAngularTestabilities();let ge=ne.length,ct=!1;const Tt=function(en){ct=ct||en,ge--,0==ge&&k(ct)};ne.forEach(en=>{en.whenStable(Tt)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,ue.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Zn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function jt(){return new o.zcH},deps:[]},{provide:de,useClass:gt,multi:!0,deps:[ue.qQ,o.SKi,o.Agw]},{provide:de,useClass:He,multi:!0,deps:[ue.qQ]},Ut,Nt,xe,{provide:o._9s,useExisting:Ut},{provide:ue.N0,useClass:J,deps:[]},[]];let $n=(()=>{class Ct{constructor(M){}static withServerTransition(M){return{ngModule:Ct,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(Vn,12))}}static{this.\u0275mod=o.$C({type:Ct})}static{this.\u0275inj=o.G2t({providers:[...Zn,...tn],imports:[ue.MD,o.Hbi]})}}return Ct})(),zt=(()=>{class Ct{constructor(M){this._doc=M,this._dom=(0,ue.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((ne,ge)=>(ge&&ne.push(this._getOrCreateElement(ge,k)),ne),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const ne=this.getTag(k);return ne?this._setMetaElementAttributes(M,ne):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const ct=this._parseSelector(M),Tt=this.getTags(ct).filter(en=>this._containsAttributes(M,en))[0];if(void 0!==Tt)return Tt}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(ne=>k.setAttribute(this._getMetaKeyMap(ne),M[ne])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(ne=>k.getAttribute(this._getMetaKeyMap(ne))===M[ne])}_getMetaKeyMap(M){return mr[M]||M}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let ne=null;return ne=k?new k:function Wt(){return new zt((0,o.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return Ct})();const mr={httpEquiv:"http-equiv"};let kr=(()=>{class Ct{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let ne=null;return ne=k?new k:function _n(){return new kr((0,o.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return Ct})();typeof window<"u"&&window;let ci=(()=>{class Ct{static{this.\u0275fac=function(k){return new(k||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let ne=null;return ne=k?new(k||Ct):o.KVO(ft),ne},providedIn:"root"})}}return Ct})(),ft=(()=>{class Ct extends ci{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let ne=null;return ne=k?new k:function Qe(Ct){return new ft(Ct.get(ue.qQ))}(o.KVO(o.zZn)),ne},providedIn:"root"})}}return Ct})()},6814:(mn,Ze,V)=>{V.d(Ze,{nX:()=>Ir,Ix:()=>Ji,Wk:()=>fa,iI:()=>$l,n3:()=>bs});var o=V(7705),ue=V(1985),s=V(8071),he=V(8455),we=V(7673),Ae=V(4412),Le=V(3073),Ue=V(3669),J=V(6450),de=V(3794),xe=V(8496),dt=V(4360),nt=V(5225);function Nt(...D){const O=(0,de.lI)(D),T=(0,de.ms)(D),{args:N,keys:H}=(0,Le.D)(D);if(0===N.length)return(0,he.H)([],O);const ae=new ue.c(function Mt(D,O,T=Ue.D){return N=>{Gt(O,()=>{const{length:H}=D,ae=new Array(H);let De=H,At=H;for(let _t=0;_t<H;_t++)Gt(O,()=>{const Pn=(0,he.H)(D[_t],O);let Sr=!1;Pn.subscribe((0,dt._)(N,Er=>{ae[_t]=Er,Sr||(Sr=!0,At--),At||N.next(T(ae.slice()))},()=>{--De||N.complete()}))},N)},N)}}(N,O,H?De=>(0,xe.e)(H,De):Ue.D));return T?ae.pipe((0,J.I)(T)):ae}function Gt(D,O,T){D?(0,nt.N)(T,D,O):O()}var Lt=V(9350),yn=V(8793),Ge=V(8750);function _e(D){return new ue.c(O=>{(0,Ge.Tg)(D()).subscribe(O)})}var it=V(1203),et=V(8810),lt=V(983),Ot=V(8359),Ut=V(9974);function Ie(){return(0,Ut.N)((D,O)=>{let T=null;D._refCount++;const N=(0,dt._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(T=null);const H=D._connection,ae=T;T=null,H&&(!ae||H===ae)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(T=D.connect())})}class cn extends ue.c{constructor(O,T){super(),this.source=O,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Ut.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ot.yU;const T=this.getSubject();O.add(this.source.subscribe((0,dt._)(T,void 0,()=>{this._teardown(),T.complete()},N=>{this._teardown(),T.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ot.yU.EMPTY)}return O}refCount(){return Ie()(this)}}var In=V(1413),sr=V(177),Vt=V(6354),qt=V(5558),Jt=V(6697),gt=V(9172),Fe=V(5964),rt=V(1397),ln=V(1594),He=V(274),Ce=V(8141),ve=V(9437),Ve=V(2816),st=V(9901);function Ye(D){return D<=0?()=>lt.w:(0,Ut.N)((O,T)=>{let N=[];O.subscribe((0,dt._)(T,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)T.next(H);T.complete()},void 0,()=>{N=null}))})}var jt=V(3774),hn=V(980),Vn=V(5343),Zn=V(6365),$n=V(345);const Wt="primary",zt=Symbol("RouteTitle");class mr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function _n(D){return new mr(D)}function kr(D,O,T){const N=T.path.split("/");if(N.length>D.length||"full"===T.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ae=0;ae<N.length;ae++){const De=N[ae],At=D[ae];if(De.startsWith(":"))H[De.substring(1)]=At;else if(De!==At.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Bt(D,O){const T=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!T||!N||T.length!=N.length)return!1;let H;for(let ae=0;ae<T.length;ae++)if(H=T[ae],!Sn(D[H],O[H]))return!1;return!0}function Sn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const T=[...D].sort(),N=[...O].sort();return T.every((H,ae)=>N[ae]===H)}return D===O}function Qn(D){return D.length>0?D[D.length-1]:null}function Rn(D){return function Ee(D){return!!D&&(D instanceof ue.c||(0,s.T)(D.lift)&&(0,s.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,he.H)(Promise.resolve(D)):(0,we.of)(D)}const ti={exact:function oi(D,O,T){if(!ft(D.segments,O.segments)||!Hn(D.segments,O.segments,T)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!oi(D.children[N],O.children[N],T))return!1;return!0},subset:rn},Ur={exact:function er(D,O){return Bt(D,O)},subset:function hi(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(T=>Sn(D[T],O[T]))},ignored:()=>!0};function ni(D,O,T){return ti[T.paths](D.root,O.root,T.matrixParams)&&Ur[T.queryParams](D.queryParams,O.queryParams)&&!("exact"===T.fragment&&D.fragment!==O.fragment)}function rn(D,O,T){return Ar(D,O,O.segments,T)}function Ar(D,O,T,N){if(D.segments.length>T.length){const H=D.segments.slice(0,T.length);return!(!ft(H,T)||O.hasChildren()||!Hn(H,T,N))}if(D.segments.length===T.length){if(!ft(D.segments,T)||!Hn(D.segments,T,N))return!1;for(const H in O.children)if(!D.children[H]||!rn(D.children[H],O.children[H],N))return!1;return!0}{const H=T.slice(0,D.segments.length),ae=T.slice(D.segments.length);return!!(ft(D.segments,H)&&Hn(D.segments,H,N)&&D.children[Wt])&&Ar(D.children[Wt],O,ae,N)}}function Hn(D,O,T){return O.every((N,H)=>Ur[T](D[H].parameters,N.parameters))}class _r{constructor(O=new Yn([],{}),T={},N=null){this.root=O,this.queryParams=T,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class Yn{constructor(O,T){this.segments=O,this.children=T,this.parent=null,Object.values(T).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zn(this)}}class ci{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return ne(this)}}function ft(D,O){return D.length===O.length&&D.every((T,N)=>T.path===O[N].path)}let Pe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new Pt},providedIn:"root"})}}return D})();class Pt{parse(O){const T=new kt(O);return new _r(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Kr(O.root,!0)}`,N=function ct(D){const O=Object.keys(D).map(T=>{const N=D[T];return Array.isArray(N)?N.map(H=>`${bi(T)}=${bi(H)}`).join("&"):`${bi(T)}=${bi(N)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${N}${"string"==typeof O.fragment?`#${function Ct(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Yt=new Pt;function zn(D){return D.segments.map(O=>ne(O)).join("/")}function Kr(D,O){if(!D.hasChildren())return zn(D);if(O){const T=D.children[Wt]?Kr(D.children[Wt],!1):"",N=[];return Object.entries(D.children).forEach(([H,ae])=>{H!==Wt&&N.push(`${H}:${Kr(ae,!1)}`)}),N.length>0?`${T}(${N.join("//")})`:T}{const T=function se(D,O){let T=[];return Object.entries(D.children).forEach(([N,H])=>{N===Wt&&(T=T.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Wt&&(T=T.concat(O(H,N)))}),T}(D,(N,H)=>H===Wt?[Kr(D.children[Wt],!1)]:[`${H}:${Kr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Wt]?`${zn(D)}/${T[0]}`:`${zn(D)}/(${T.join("//")})`}}function Or(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bi(D){return Or(D).replace(/%3B/gi,";")}function $(D){return Or(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function ne(D){return`${$(D.path)}${function ge(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const Tt=/^[^\/()?;#]+/;function en(D){const O=D.match(Tt);return O?O[0]:""}const un=/^[^\/()?;=#]+/,yr=/^[^=?&#]+/,Me=/^[^&#]+/;class kt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(N[Wt]=new Yn(O,T)),N}parseSegment(){const O=en(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new ci(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=function Tn(D){const O=D.match(un);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let N="";if(this.consumeOptional("=")){const H=en(this.remaining);H&&(N=H,this.capture(N))}O[M(T)]=M(N)}parseQueryParam(O){const T=function Re(D){const O=D.match(yr);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let N="";if(this.consumeOptional("=")){const De=function Be(D){const O=D.match(Me);return O?O[0]:""}(this.remaining);De&&(N=De,this.capture(N))}const H=k(T),ae=k(N);if(O.hasOwnProperty(H)){let De=O[H];Array.isArray(De)||(De=[De],O[H]=De),De.push(ae)}else O[H]=ae}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=en(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Wt);const De=this.parseChildren();T[ae]=1===Object.keys(De).length?De[Wt]:new Yn([],De),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Xt(D){return D.segments.length>0?new Yn([],{[Wt]:D}):D}function bn(D){const O={};for(const N of Object.keys(D.children)){const ae=bn(D.children[N]);if(N===Wt&&0===ae.segments.length&&ae.hasChildren())for(const[De,At]of Object.entries(ae.children))O[De]=At;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function fn(D){if(1===D.numberOfChildren&&D.children[Wt]){const O=D.children[Wt];return new Yn(D.segments.concat(O.segments),O.children)}return D}(new Yn(D.segments,O))}function or(D){return D instanceof _r}function ri(D){let O;const H=Xt(function T(ae){const De={};for(const _t of ae.children){const Pn=T(_t);De[_t.outlet]=Pn}const At=new Yn(ae.url,De);return ae===D&&(O=At),At}(D.root));return O??H}function vt(D,O,T,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return pn(H,H,H,T,N);const ae=function Ln(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new gn(!0,0,D);let O=0,T=!1;const N=D.reduce((H,ae,De)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const At={};return Object.entries(ae.outlets).forEach(([_t,Pn])=>{At[_t]="string"==typeof Pn?Pn.split("/"):Pn}),[...H,{outlets:At}]}if(ae.segmentPath)return[...H,ae.segmentPath]}return"string"!=typeof ae?[...H,ae]:0===De?(ae.split("/").forEach((At,_t)=>{0==_t&&"."===At||(0==_t&&""===At?T=!0:".."===At?O++:""!=At&&H.push(At))}),H):[...H,ae]},[]);return new gn(T,O,N)}(O);if(ae.toRoot())return pn(H,H,new Yn([],{}),T,N);const De=function Fr(D,O,T){if(D.isAbsolute)return new xr(O,!0,0);if(!T)return new xr(O,!1,NaN);if(null===T.parent)return new xr(T,!0,0);const N=qe(D.commands[0])?0:1;return function tr(D,O,T){let N=D,H=O,ae=T;for(;ae>H;){if(ae-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new xr(N,!1,H-ae)}(T,T.segments.length-1+N,D.numberOfDoubleDots)}(ae,H,D),At=De.processChildren?ji(De.segmentGroup,De.index,ae.commands):ns(De.segmentGroup,De.index,ae.commands);return pn(H,De.segmentGroup,At,T,N)}function qe(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Dt(D){return"object"==typeof D&&null!=D&&D.outlets}function pn(D,O,T,N,H){let De,ae={};N&&Object.entries(N).forEach(([_t,Pn])=>{ae[_t]=Array.isArray(Pn)?Pn.map(Sr=>`${Sr}`):`${Pn}`}),De=D===O?T:kn(D,O,T);const At=Xt(bn(De));return new _r(At,ae,H)}function kn(D,O,T){const N={};return Object.entries(D.children).forEach(([H,ae])=>{N[H]=ae===O?T:kn(ae,O,T)}),new Yn(D.segments,N)}class gn{constructor(O,T,N){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=N,O&&N.length>0&&qe(N[0]))throw new o.wOt(4003,!1);const H=N.find(Dt);if(H&&H!==Qn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(O,T,N){this.segmentGroup=O,this.processChildren=T,this.index=N}}function ns(D,O,T){if(D||(D=new Yn([],{})),0===D.segments.length&&D.hasChildren())return ji(D,O,T);const N=function qs(D,O,T){let N=0,H=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=T.length)return ae;const De=D.segments[H],At=T[N];if(Dt(At))break;const _t=`${At}`,Pn=N<T.length-1?T[N+1]:null;if(H>0&&void 0===_t)break;if(_t&&Pn&&"object"==typeof Pn&&void 0===Pn.outlets){if(!li(_t,Pn,De))return ae;N+=2}else{if(!li(_t,{},De))return ae;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,T),H=T.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new Yn(D.segments.slice(0,N.pathIndex),{});return ae.children[Wt]=new Yn(D.segments.slice(N.pathIndex),D.children),ji(ae,0,H)}return N.match&&0===H.length?new Yn(D.segments,{}):N.match&&!D.hasChildren()?Ys(D,O,T):N.match?ji(D,0,H):Ys(D,O,T)}function ji(D,O,T){if(0===T.length)return new Yn(D.segments,{});{const N=function wi(D){return Dt(D[0])?D[0].outlets:{[Wt]:D}}(T),H={};if(Object.keys(N).some(ae=>ae!==Wt)&&D.children[Wt]&&1===D.numberOfChildren&&0===D.children[Wt].segments.length){const ae=ji(D.children[Wt],O,T);return new Yn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(H[ae]=ns(D.children[ae],O,De))}),Object.entries(D.children).forEach(([ae,De])=>{void 0===N[ae]&&(H[ae]=De)}),new Yn(D.segments,H)}}function Ys(D,O,T){const N=D.segments.slice(0,O);let H=0;for(;H<T.length;){const ae=T[H];if(Dt(ae)){const _t=Hi(ae.outlets);return new Yn(N,_t)}if(0===H&&qe(T[0])){N.push(new ci(D.segments[O].path,wo(T[0]))),H++;continue}const De=Dt(ae)?ae.outlets[Wt]:`${ae}`,At=H<T.length-1?T[H+1]:null;De&&At&&qe(At)?(N.push(new ci(De,wo(At))),H+=2):(N.push(new ci(De,{})),H++)}return new Yn(N,{})}function Hi(D){const O={};return Object.entries(D).forEach(([T,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[T]=Ys(new Yn([],{}),0,N))}),O}function wo(D){const O={};return Object.entries(D).forEach(([T,N])=>O[T]=`${N}`),O}function li(D,O,T){return D==T.path&&Bt(O,T.parameters)}const Xi="imperative";class Gi{constructor(O,T){this.id=O,this.url=T}}class ii extends Gi{constructor(O,T,N="imperative",H=null){super(O,T),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends Gi{constructor(O,T,N){super(O,T),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends Gi{constructor(O,T,N,H){super(O,T),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vr extends Gi{constructor(O,T,N,H){super(O,T),this.reason=N,this.code=H,this.type=16}}class xs extends Gi{constructor(O,T,N,H){super(O,T),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vs extends Gi{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends Gi{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends Gi{constructor(O,T,N,H,ae){super(O,T),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class la extends Gi{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends Gi{constructor(O,T,N,H){super(O,T),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yo{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ws{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(O,T,N){this.routerEvent=O,this.position=T,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lr{}class le{constructor(O){this.url=O}}class oe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tt,this.attachRef=null}}let tt=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(T,N){const H=this.getOrCreateContext(T);H.outlet=N,this.contexts.set(T,H)}onChildOutletDestroyed(T){const N=this.getContext(T);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let N=this.getContext(T);return N||(N=new oe,this.contexts.set(T,N)),N}getContext(T){return this.contexts.get(T)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class ot{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=qr(O,this._root);return T?T.children.map(N=>N.value):[]}firstChild(O){const T=qr(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=Jr(O,this._root);return T.length<2?[]:T[T.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return Jr(O,this._root).map(T=>T.value)}}function qr(D,O){if(D===O.value)return O;for(const T of O.children){const N=qr(D,T);if(N)return N}return null}function Jr(D,O){if(D===O.value)return[O];for(const T of O.children){const N=Jr(D,T);if(N.length)return N.unshift(O),N}return[]}class qi{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function ds(D){const O={};return D&&D.children.forEach(T=>O[T.value.outlet]=T),O}class pi extends ot{constructor(O,T){super(O),this.snapshot=T,gi(this,O)}toString(){return this.snapshot.toString()}}function wn(D,O){const T=function pr(D,O){const De=new zi([],{},{},"",{},Wt,O,null,{});return new Xs("",new qi(De,[]))}(0,O),N=new Ae.t([new ci("",{})]),H=new Ae.t({}),ae=new Ae.t({}),De=new Ae.t({}),At=new Ae.t(""),_t=new Ir(N,H,De,At,ae,Wt,O,T.root);return _t.snapshot=T.root,new pi(new qi(_t,[]),T)}class Ir{constructor(O,T,N,H,ae,De,At,_t){this.urlSubject=O,this.paramsSubject=T,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ae,this.outlet=De,this.component=At,this._futureSnapshot=_t,this.title=this.dataSubject?.pipe((0,Vt.T)(Pn=>Pn[zt]))??(0,we.of)(void 0),this.url=O,this.params=T,this.queryParams=N,this.fragment=H,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.T)(O=>_n(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.T)(O=>_n(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rs(D,O="emptyOnly"){const T=D.pathFromRoot;let N=0;if("always"!==O)for(N=T.length-1;N>=1;){const H=T[N],ae=T[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ae.component)break;N--}}return function hs(D){return D.reduce((O,T)=>({params:{...O.params,...T.params},data:{...O.data,...T.data},resolve:{...T.data,...O.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(N))}class zi{get title(){return this.data?.[zt]}constructor(O,T,N,H,ae,De,At,_t,Pn){this.url=O,this.params=T,this.queryParams=N,this.fragment=H,this.data=ae,this.outlet=De,this.component=At,this.routeConfig=_t,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xs extends ot{constructor(O,T){super(T),this.url=O,gi(this,T)}toString(){return ss(this._root)}}function gi(D,O){O.value._routerState=D,O.children.forEach(T=>gi(D,T))}function ss(D){const O=D.children.length>0?` { ${D.children.map(ss).join(", ")} } `:"";return`${D.value}${O}`}function Ms(D){if(D.snapshot){const O=D.snapshot,T=D._futureSnapshot;D.snapshot=T,Bt(O.queryParams,T.queryParams)||D.queryParamsSubject.next(T.queryParams),O.fragment!==T.fragment&&D.fragmentSubject.next(T.fragment),Bt(O.params,T.params)||D.paramsSubject.next(T.params),function ir(D,O){if(D.length!==O.length)return!1;for(let T=0;T<D.length;++T)if(!Bt(D[T],O[T]))return!1;return!0}(O.url,T.url)||D.urlSubject.next(T.url),Bt(O.data,T.data)||D.dataSubject.next(T.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function ar(D,O){const T=Bt(D.params,O.params)&&function Qe(D,O){return ft(D,O)&&D.every((T,N)=>Bt(T.parameters,O[N].parameters))}(D.url,O.url);return T&&!(!D.parent!=!O.parent)&&(!D.parent||ar(D.parent,O.parent))}let bs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(tt),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:N,previousValue:H}=T.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,N){this.activated=T,this._activatedRoute=N,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=T;const H=this.location,De=T.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,_t=new Ls(T,At,H.injector);this.activated=H.createComponent(De,{index:H.length,injector:_t,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class Ls{constructor(O,T,N){this.route=O,this.childContexts=T,this.parent=N}get(O,T){return O===Ir?this.route:O===tt?this.childContexts:this.parent.get(O,T)}}const Z=new o.nKC("");let X=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:N}=T,H=Nt([N.queryParams,N.params,N.data]).pipe((0,qt.n)(([ae,De,At],_t)=>(At={...ae,...De,...At},0===_t?(0,we.of)(At):Promise.resolve(At)))).subscribe(ae=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(T);const De=(0,o.HJs)(N.component);if(De)for(const{templateName:At}of De.inputs)T.activatedComponentRef.setInput(At,ae[At]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Oe(D,O,T){if(T&&D.shouldReuseRoute(O.value,T.value.snapshot)){const N=T.value;N._futureSnapshot=O.value;const H=function Je(D,O,T){return O.children.map(N=>{for(const H of T.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Oe(D,N,H);return Oe(D,N)})}(D,O,T);return new qi(N,H)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const De=ae.route;return De.value._futureSnapshot=O.value,De.children=O.children.map(At=>Oe(D,At)),De}}const N=function bt(D){return new Ir(new Ae.t(D.url),new Ae.t(D.params),new Ae.t(D.queryParams),new Ae.t(D.fragment),new Ae.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ae=>Oe(D,ae));return new qi(N,H)}}const an="ngNavigationCancelingError";function Un(D,O){const{redirectTo:T,navigationBehaviorOptions:N}=or(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=Dn(!1,0,O);return H.url=T,H.navigationBehaviorOptions=N,H}function Dn(D,O,T){const N=new Error("NavigationCancelingError: "+(D||""));return N[an]=!0,N.cancellationCode=O,T&&(N.url=T),N}function jr(D){return D&&D[an]}let Wn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[bs],encapsulation:2})}}return D})();function Fi(D){const O=D.children&&D.children.map(Fi),T=O?{...D,children:O}:{...D};return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Wt&&(T.component=Wn),T}function si(D){return D.outlet||Wt}function fs(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const T=O.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Rs{constructor(O,T,N,H,ae){this.routeReuseStrategy=O,this.futureState=T,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ae}activate(O){const T=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,N,O),Ms(this.futureState.root),this.activateChildRoutes(T,N,O)}deactivateChildRoutes(O,T,N){const H=ds(T);O.children.forEach(ae=>{const De=ae.value.outlet;this.deactivateRoutes(ae,H[De],N),delete H[De]}),Object.values(H).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,T,N){const H=O.value,ae=T?T.value:null;if(H===ae)if(H.component){const De=N.getContext(H.outlet);De&&this.deactivateChildRoutes(O,T,De.children)}else this.deactivateChildRoutes(O,T,N);else ae&&this.deactivateRouteAndItsChildren(T,N)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const N=T.getContext(O.value.outlet),H=N&&O.value.component?N.children:T,ae=ds(O);for(const De of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[De],H);if(N&&N.outlet){const De=N.outlet.detach(),At=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:De,route:O,contexts:At})}}deactivateRouteAndOutlet(O,T){const N=T.getContext(O.value.outlet),H=N&&O.value.component?N.children:T,ae=ds(O);for(const De of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[De],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,T,N){const H=ds(T);O.children.forEach(ae=>{this.activateRoutes(ae,H[ae.value.outlet],N),this.forwardEvent(new co(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new ls(O.value.snapshot))}activateRoutes(O,T,N){const H=O.value,ae=T?T.value:null;if(Ms(H),H===ae)if(H.component){const De=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,T,De.children)}else this.activateChildRoutes(O,T,N);else if(H.component){const De=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const At=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),De.children.onOutletReAttached(At.contexts),De.attachRef=At.componentRef,De.route=At.route.value,De.outlet&&De.outlet.attach(At.componentRef,At.route.value),Ms(At.route.value),this.activateChildRoutes(O,null,De.children)}else{const At=fs(H.snapshot);De.attachRef=null,De.route=H,De.injector=At,De.outlet&&De.outlet.activateWith(H,De.injector),this.activateChildRoutes(O,null,De.children)}}else this.activateChildRoutes(O,null,N)}}class go{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class mo{constructor(O,T){this.component=O,this.route=T}}function Qo(D,O,T){const N=D._root;return Qs(N,O?O._root:null,T,[N.value])}function ps(D,O){const T=Symbol(),N=O.get(D,T);return N===T?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Qs(D,O,T,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ds(O);return D.children.forEach(De=>{(function Ua(D,O,T,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,De=O?O.value:null,At=T?T.getContext(D.value.outlet):null;if(De&&ae.routeConfig===De.routeConfig){const _t=function ua(D,O,T){if("function"==typeof T)return T(D,O);switch(T){case"pathParamsChange":return!ft(D.url,O.url);case"pathParamsOrQueryParamsChange":return!ft(D.url,O.url)||!Bt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ar(D,O)||!Bt(D.queryParams,O.queryParams);default:return!ar(D,O)}}(De,ae,ae.routeConfig.runGuardsAndResolvers);_t?H.canActivateChecks.push(new go(N)):(ae.data=De.data,ae._resolvedData=De._resolvedData),Qs(D,O,ae.component?At?At.children:null:T,N,H),_t&&At&&At.outlet&&At.outlet.isActivated&&H.canDeactivateChecks.push(new mo(At.outlet.component,De))}else De&&Vi(O,At,H),H.canActivateChecks.push(new go(N)),Qs(D,null,ae.component?At?At.children:null:T,N,H)})(De,ae[De.value.outlet],T,N.concat([De.value]),H),delete ae[De.value.outlet]}),Object.entries(ae).forEach(([De,At])=>Vi(At,T.getContext(De),H)),H}function Vi(D,O,T){const N=ds(D),H=D.value;Object.entries(N).forEach(([ae,De])=>{Vi(De,H.component?O?O.children.getContext(ae):null:O,T)}),T.canDeactivateChecks.push(new mo(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function Cs(D){return"function"==typeof D}function gs(D){return D instanceof Lt.G||"EmptyError"===D?.name}const Us=Symbol("INITIAL_VALUE");function ms(){return(0,qt.n)(D=>Nt(D.map(O=>O.pipe((0,Jt.s)(1),(0,gt.Z)(Us)))).pipe((0,Vt.T)(O=>{for(const T of O)if(!0!==T){if(T===Us)return Us;if(!1===T||T instanceof _r)return T}return!0}),(0,Fe.p)(O=>O!==Us),(0,Jt.s)(1)))}function as(D){return(0,it.F)((0,Ce.M)(O=>{if(or(O))throw Un(0,O)}),(0,Vt.T)(O=>!0===O))}class Zs{constructor(O){this.segmentGroup=O||null}}class ha{constructor(O){this.urlTree=O}}function ys(D){return(0,et.$)(new Zs(D))}function eo(D){return(0,et.$)(new ha(D))}class Ao{constructor(O,T){this.urlSerializer=O,this.urlTree=T}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,T){let N=[],H=T.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,we.of)(N);if(H.numberOfChildren>1||!H.children[Wt])return(0,et.$)(new o.wOt(4e3,!1));H=H.children[Wt]}}applyRedirectCommands(O,T,N){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,N)}applyRedirectCreateUrlTree(O,T,N,H){const ae=this.createSegmentGroup(O,T.root,N,H);return new _r(ae,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const N={};return Object.entries(O).forEach(([H,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const At=ae.substring(1);N[H]=T[At]}else N[H]=ae}),N}createSegmentGroup(O,T,N,H){const ae=this.createSegments(O,T.segments,N,H);let De={};return Object.entries(T.children).forEach(([At,_t])=>{De[At]=this.createSegmentGroup(O,_t,N,H)}),new Yn(ae,De)}createSegments(O,T,N,H){return T.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,H):this.findOrReturn(ae,N))}findPosParam(O,T,N){const H=N[T.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,T){let N=0;for(const H of T){if(H.path===O.path)return T.splice(N),H;N++}return O}}const Tr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lr(D,O,T,N,H){const ae=to(D,O,T);return ae.matched?(N=function Xn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function nn(D,O,T,N){const H=O.canMatch;if(!H||0===H.length)return(0,we.of)(!0);const ae=H.map(De=>{const At=ps(De,D);return Rn(function je(D){return D&&Cs(D.canMatch)}(At)?At.canMatch(O,T):D.runInContext(()=>At(O,T)))});return(0,we.of)(ae).pipe(ms(),as())}(N,O,T).pipe((0,Vt.T)(De=>!0===De?ae:{...Tr}))):(0,we.of)(ae)}function to(D,O,T){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||T.length>0)?{...Tr}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const H=(O.matcher||kr)(T,D,O);if(!H)return{...Tr};const ae={};Object.entries(H.posParams??{}).forEach(([At,_t])=>{ae[At]=_t.path});const De=H.consumed.length>0?{...ae,...H.consumed[H.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:H.consumed,remainingSegments:T.slice(H.consumed.length),parameters:De,positionalParamSegments:H.posParams??{}}}function Zo(D,O,T,N){return T.length>0&&function Ec(D,O,T){return T.some(N=>tc(D,O,N)&&si(N)!==Wt)}(D,T,N)?{segmentGroup:new Yn(O,Ll(N,new Yn(T,D.children))),slicedSegments:[]}:0===T.length&&function Sh(D,O,T){return T.some(N=>tc(D,O,N))}(D,T,N)?{segmentGroup:new Yn(D.segments,vc(D,0,T,N,D.children)),slicedSegments:T}:{segmentGroup:new Yn(D.segments,D.children),slicedSegments:T}}function vc(D,O,T,N,H){const ae={};for(const De of N)if(tc(D,T,De)&&!H[si(De)]){const At=new Yn([],{});ae[si(De)]=At}return{...H,...ae}}function Ll(D,O){const T={};T[Wt]=O;for(const N of D)if(""===N.path&&si(N)!==Wt){const H=new Yn([],{});T[si(N)]=H}return T}function tc(D,O,T){return(!(D.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}class Ul{constructor(O,T,N,H,ae,De,At){this.injector=O,this.configLoader=T,this.rootComponentType=N,this.config=H,this.urlTree=ae,this.paramsInheritanceStrategy=De,this.urlSerializer=At,this.allowRedirects=!0,this.applyRedirects=new Ao(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Zo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Wt).pipe((0,ve.W)(T=>{if(T instanceof ha)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof Zs?this.noMatchError(T):T}),(0,Vt.T)(T=>{const N=new zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),H=new qi(N,T),ae=new Xs("",H),De=function vn(D,O,T=null,N=null){return vt(ri(D),O,T,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(ae._root),{state:ae,tree:De}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Wt).pipe((0,ve.W)(N=>{throw N instanceof Zs?this.noMatchError(N):N}))}inheritParamsAndData(O){const T=O.value,N=rs(T,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,T,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,T,N):this.processSegment(O,T,N,N.segments,H,!0)}processChildren(O,T,N){const H=[];for(const ae of Object.keys(N.children))"primary"===ae?H.unshift(ae):H.push(ae);return(0,he.H)(H).pipe((0,He.H)(ae=>{const De=N.children[ae],At=function Xo(D,O){const T=D.filter(N=>si(N)===O);return T.push(...D.filter(N=>si(N)!==O)),T}(T,ae);return this.processSegmentGroup(O,At,De,ae)}),(0,Ve.S)((ae,De)=>(ae.push(...De),ae)),(0,st.U)(null),function Mn(D,O){const T=arguments.length>=2;return N=>N.pipe(D?(0,Fe.p)((H,ae)=>D(H,ae,N)):Ue.D,Ye(1),T?(0,st.U)(O):(0,jt.v)(()=>new Lt.G))}(),(0,rt.Z)(ae=>{if(null===ae)return ys(N);const De=rc(ae);return function ja(D){D.sort((O,T)=>O.value.outlet===Wt?-1:T.value.outlet===Wt?1:O.value.outlet.localeCompare(T.value.outlet))}(De),(0,we.of)(De)}))}processSegment(O,T,N,H,ae,De){return(0,he.H)(T).pipe((0,He.H)(At=>this.processSegmentAgainstRoute(At._injector??O,T,At,N,H,ae,De).pipe((0,ve.W)(_t=>{if(_t instanceof Zs)return(0,we.of)(null);throw _t}))),(0,ln.$)(At=>!!At),(0,ve.W)(At=>{if(gs(At))return function wa(D,O,T){return 0===O.length&&!D.children[T]}(N,H,ae)?(0,we.of)([]):ys(N);throw At}))}processSegmentAgainstRoute(O,T,N,H,ae,De,At){return function Iu(D,O,T,N){return!!(si(D)===N||N!==Wt&&tc(O,T,D))&&("**"===D.path||to(O,D,T).matched)}(N,H,ae,De)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ae,De,At):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,T,N,ae,De):ys(H):ys(H)}expandSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,De):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,N,H){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?eo(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,rt.Z)(De=>{const At=new Yn(De,{});return this.processSegment(O,T,At,De,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,N,H,ae,De){const{matched:At,consumedSegments:_t,remainingSegments:Pn,positionalParamSegments:Sr}=to(T,H,ae);if(!At)return ys(T);const Er=this.applyRedirects.applyRedirectCommands(_t,H.redirectTo,Sr);return H.redirectTo.startsWith("/")?eo(Er):this.applyRedirects.lineralizeSegments(H,Er).pipe((0,rt.Z)(Yr=>this.processSegment(O,N,T,Yr.concat(Pn),De,!1)))}matchSegmentAgainstRoute(O,T,N,H,ae,De){let At;if("**"===N.path){const _t=H.length>0?Qn(H).parameters:{},Pn=new zi(H,_t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(N),si(N),N.component??N._loadedComponent??null,N,x(N));At=(0,we.of)({snapshot:Pn,consumedSegments:[],remainingSegments:[]}),T.children={}}else At=lr(T,N,H,O).pipe((0,Vt.T)(({matched:_t,consumedSegments:Pn,remainingSegments:Sr,parameters:Er})=>_t?{snapshot:new zi(Pn,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(N),si(N),N.component??N._loadedComponent??null,N,x(N)),consumedSegments:Pn,remainingSegments:Sr}:null));return At.pipe((0,qt.n)(_t=>null===_t?ys(T):this.getChildConfig(O=N._injector??O,N,H).pipe((0,qt.n)(({routes:Pn})=>{const Sr=N._loadedInjector??O,{snapshot:Er,consumedSegments:Yr,remainingSegments:Di}=_t,{segmentGroup:sc,slicedSegments:Tc}=Zo(T,Yr,Di,Pn);if(0===Tc.length&&sc.hasChildren())return this.processChildren(Sr,Pn,sc).pipe((0,Vt.T)(Lo=>null===Lo?null:[new qi(Er,Lo)]));if(0===Pn.length&&0===Tc.length)return(0,we.of)([new qi(Er,[])]);const dl=si(N)===ae;return this.processSegment(Sr,Pn,sc,Tc,dl?Wt:ae,!0).pipe((0,Vt.T)(Lo=>[new qi(Er,Lo)]))}))))}getChildConfig(O,T,N){return T.children?(0,we.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,we.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function nl(D,O,T,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,we.of)(!0);const ae=H.map(De=>{const At=ps(De,D);return Rn(function z(D){return D&&Cs(D.canLoad)}(At)?At.canLoad(O,T):D.runInContext(()=>At(O,T)))});return(0,we.of)(ae).pipe(ms(),as())}(O,T,N).pipe((0,rt.Z)(H=>H?this.configLoader.loadChildren(O,T).pipe((0,Ce.M)(ae=>{T._loadedRoutes=ae.routes,T._loadedInjector=ae.injector})):function rl(D){return(0,et.$)(Dn(!1,3))}())):(0,we.of)({routes:[],injector:O})}}function nc(D){const O=D.value.routeConfig;return O&&""===O.path}function rc(D){const O=[],T=new Set;for(const N of D){if(!nc(N)){O.push(N);continue}const H=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==H?(H.children.push(...N.children),T.add(H)):O.push(N)}for(const N of T){const H=rc(N.children);O.push(new qi(N.value,H))}return O.filter(N=>!T.has(N))}function jl(D){return D.data||{}}function x(D){return D.resolve||{}}function Jn(D){return"string"==typeof D.title||null===D.title}function ai(D){return(0,qt.n)(O=>{const T=D(O);return T?(0,he.H)(T).pipe((0,Vt.T)(()=>O)):(0,we.of)(O)})}const Ai=new o.nKC("ROUTES");let _i=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,we.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const N=Rn(T.loadComponent()).pipe((0,Vt.T)(Li),(0,Ce.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ae}),(0,hn.j)(()=>{this.componentLoaders.delete(T)})),H=new cn(N,()=>new In.B).pipe(Ie());return this.componentLoaders.set(T,H),H}loadChildren(T,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,we.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function Mr(D,O,T,N){return Rn(D.loadChildren()).pipe((0,Vt.T)(Li),(0,rt.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,we.of)(H):(0,he.H)(O.compileModuleAsync(H))),(0,Vt.T)(H=>{N&&N(D);let ae,De,At=!1;return Array.isArray(H)?(De=H,!0):(ae=H.create(T).injector,De=ae.get(Ai,[],{optional:!0,self:!0}).flat()),{routes:De.map(Fi),injector:ae}}))}(N,this.compiler,T,this.onLoadEndListener).pipe((0,hn.j)(()=>{this.childrenLoaders.delete(N)})),De=new cn(ae,()=>new In.B).pipe(Ie());return this.childrenLoaders.set(N,De),De}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Li(D){return function Ti(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Pi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new In.B,this.transitionAbortSubject=new In.B,this.configLoader=(0,o.WQX)(_i),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Pe),this.rootContexts=(0,o.WQX)(tt),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new ws(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Yo(H))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:N})}setupNavigations(T,N,H){return this.transitions=new Ae.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:T.urlHandlingStrategy.extract(N),urlAfterRedirects:T.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Fe.p)(ae=>0!==ae.id),(0,Vt.T)(ae=>({...ae,extractedUrl:T.urlHandlingStrategy.extract(ae.rawUrl)})),(0,qt.n)(ae=>{this.currentTransition=ae;let De=!1,At=!1;return(0,we.of)(ae).pipe((0,Ce.M)(_t=>{this.currentNavigation={id:_t.id,initialUrl:_t.rawUrl,extractedUrl:_t.extractedUrl,trigger:_t.source,extras:_t.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qt.n)(_t=>{const Pn=_t.currentBrowserUrl.toString(),Sr=!T.navigated||_t.extractedUrl.toString()!==Pn||Pn!==_t.currentUrlTree.toString();if(!Sr&&"reload"!==(_t.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const Yr="";return this.events.next(new Vr(_t.id,this.urlSerializer.serialize(_t.rawUrl),Yr,0)),_t.resolve(null),lt.w}if(T.urlHandlingStrategy.shouldProcessUrl(_t.rawUrl))return(0,we.of)(_t).pipe((0,qt.n)(Yr=>{const Di=this.transitions?.getValue();return this.events.next(new ii(Yr.id,this.urlSerializer.serialize(Yr.extractedUrl),Yr.source,Yr.restoredState)),Di!==this.transitions?.getValue()?lt.w:Promise.resolve(Yr)}),function te(D,O,T,N,H,ae){return(0,rt.Z)(De=>function ea(D,O,T,N,H,ae,De="emptyOnly"){return new Ul(D,O,T,N,H,De,ae).recognize()}(D,O,T,N,De.extractedUrl,H,ae).pipe((0,Vt.T)(({state:At,tree:_t})=>({...De,targetSnapshot:At,urlAfterRedirects:_t}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Ce.M)(Yr=>{ae.targetSnapshot=Yr.targetSnapshot,ae.urlAfterRedirects=Yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yr.urlAfterRedirects};const Di=new Vs(Yr.id,this.urlSerializer.serialize(Yr.extractedUrl),this.urlSerializer.serialize(Yr.urlAfterRedirects),Yr.targetSnapshot);this.events.next(Di)}));if(Sr&&T.urlHandlingStrategy.shouldProcessUrl(_t.currentRawUrl)){const{id:Yr,extractedUrl:Di,source:sc,restoredState:Tc,extras:dl}=_t,Lo=new ii(Yr,this.urlSerializer.serialize(Di),sc,Tc);this.events.next(Lo);const Pu=wn(0,this.rootComponentType).snapshot;return this.currentTransition=ae={..._t,targetSnapshot:Pu,urlAfterRedirects:Di,extras:{...dl,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(ae)}{const Yr="";return this.events.next(new Vr(_t.id,this.urlSerializer.serialize(_t.extractedUrl),Yr,1)),_t.resolve(null),lt.w}}),(0,Ce.M)(_t=>{const Pn=new fi(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects),_t.targetSnapshot);this.events.next(Pn)}),(0,Vt.T)(_t=>(this.currentTransition=ae={..._t,guards:Qo(_t.targetSnapshot,_t.currentSnapshot,this.rootContexts)},ae)),function _o(D,O){return(0,rt.Z)(T=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ae,canDeactivateChecks:De}}=T;return 0===De.length&&0===ae.length?(0,we.of)({...T,guardsResult:!0}):function Js(D,O,T,N){return(0,he.H)(D).pipe((0,rt.Z)(H=>function Qi(D,O,T,N,H){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,we.of)(!0);const De=ae.map(At=>{const _t=fs(O)??H,Pn=ps(At,_t);return Rn(function ce(D){return D&&Cs(D.canDeactivate)}(Pn)?Pn.canDeactivate(D,O,T,N):_t.runInContext(()=>Pn(D,O,T,N))).pipe((0,ln.$)())});return(0,we.of)(De).pipe(ms())}(H.component,H.route,T,O,N)),(0,ln.$)(H=>!0!==H,!0))}(De,N,H,D).pipe((0,rt.Z)(At=>At&&function os(D){return"boolean"==typeof D}(At)?function _s(D,O,T,N){return(0,he.H)(O).pipe((0,He.H)(H=>(0,yn.x)(function tl(D,O){return null!==D&&O&&O(new Qr(D)),(0,we.of)(!0)}(H.route.parent,N),function Jo(D,O){return null!==D&&O&&O(new As(D)),(0,we.of)(!0)}(H.route,N),function da(D,O,T){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(De=>function Os(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(De)).filter(De=>null!==De).map(De=>_e(()=>{const At=De.guards.map(_t=>{const Pn=fs(De.node)??T,Sr=ps(_t,Pn);return Rn(function L(D){return D&&Cs(D.canActivateChild)}(Sr)?Sr.canActivateChild(N,D):Pn.runInContext(()=>Sr(N,D))).pipe((0,ln.$)())});return(0,we.of)(At).pipe(ms())}));return(0,we.of)(ae).pipe(ms())}(D,H.path,T),function Is(D,O,T){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,we.of)(!0);const H=N.map(ae=>_e(()=>{const De=fs(O)??T,At=ps(ae,De);return Rn(function Q(D){return D&&Cs(D.canActivate)}(At)?At.canActivate(O,D):De.runInContext(()=>At(O,D))).pipe((0,ln.$)())}));return(0,we.of)(H).pipe(ms())}(D,H.route,T))),(0,ln.$)(H=>!0!==H,!0))}(N,ae,D,O):(0,we.of)(At)),(0,Vt.T)(At=>({...T,guardsResult:At})))})}(this.environmentInjector,_t=>this.events.next(_t)),(0,Ce.M)(_t=>{if(ae.guardsResult=_t.guardsResult,or(_t.guardsResult))throw Un(0,_t.guardsResult);const Pn=new ko(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects),_t.targetSnapshot,!!_t.guardsResult);this.events.next(Pn)}),(0,Fe.p)(_t=>!!_t.guardsResult||(this.cancelNavigationTransition(_t,"",3),!1)),ai(_t=>{if(_t.guards.canActivateChecks.length)return(0,we.of)(_t).pipe((0,Ce.M)(Pn=>{const Sr=new la(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Sr)}),(0,qt.n)(Pn=>{let Sr=!1;return(0,we.of)(Pn).pipe(function j(D,O){return(0,rt.Z)(T=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=T;if(!H.length)return(0,we.of)(T);let ae=0;return(0,he.H)(H).pipe((0,He.H)(De=>function q(D,O,T,N){const H=D.routeConfig,ae=D._resolve;return void 0!==H?.title&&!Jn(H)&&(ae[zt]=H.title),function Se(D,O,T,N){const H=function xt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,we.of)({});const ae={};return(0,he.H)(H).pipe((0,rt.Z)(De=>function $t(D,O,T,N){const H=fs(O)??N,ae=ps(D,H);return Rn(ae.resolve?ae.resolve(O,T):H.runInContext(()=>ae(O,T)))}(D[De],O,T,N).pipe((0,ln.$)(),(0,Ce.M)(At=>{ae[De]=At}))),Ye(1),function dr(D){return(0,Vt.T)(()=>D)}(ae),(0,ve.W)(De=>gs(De)?lt.w:(0,et.$)(De)))}(ae,D,O,N).pipe((0,Vt.T)(De=>(D._resolvedData=De,D.data=rs(D,T).resolve,H&&Jn(H)&&(D.data[zt]=H.title),null)))}(De.route,N,D,O)),(0,Ce.M)(()=>ae++),Ye(1),(0,rt.Z)(De=>ae===H.length?(0,we.of)(T):lt.w))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Ce.M)({next:()=>Sr=!0,complete:()=>{Sr||this.cancelNavigationTransition(Pn,"",2)}}))}),(0,Ce.M)(Pn=>{const Sr=new Ci(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Sr)}))}),ai(_t=>{const Pn=Sr=>{const Er=[];Sr.routeConfig?.loadComponent&&!Sr.routeConfig._loadedComponent&&Er.push(this.configLoader.loadComponent(Sr.routeConfig).pipe((0,Ce.M)(Yr=>{Sr.component=Yr}),(0,Vt.T)(()=>{})));for(const Yr of Sr.children)Er.push(...Pn(Yr));return Er};return Nt(Pn(_t.targetSnapshot.root)).pipe((0,st.U)(),(0,Jt.s)(1))}),ai(()=>this.afterPreactivation()),(0,Vt.T)(_t=>{const Pn=function Te(D,O,T){const N=Oe(D,O._root,T?T._root:void 0);return new pi(N,O)}(T.routeReuseStrategy,_t.targetSnapshot,_t.currentRouterState);return this.currentTransition=ae={..._t,targetRouterState:Pn},ae}),(0,Ce.M)(()=>{this.events.next(new Lr)}),((D,O,T,N)=>(0,Vt.T)(H=>(new Rs(O,H.targetRouterState,H.currentRouterState,T,N).activate(D),H)))(this.rootContexts,T.routeReuseStrategy,_t=>this.events.next(_t),this.inputBindingEnabled),(0,Jt.s)(1),(0,Ce.M)({next:_t=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(_t.id,this.urlSerializer.serialize(_t.extractedUrl),this.urlSerializer.serialize(_t.urlAfterRedirects))),T.titleStrategy?.updateTitle(_t.targetRouterState.snapshot),_t.resolve(!0)},complete:()=>{De=!0}}),function tn(D){return(0,Ut.N)((O,T)=>{(0,Ge.Tg)(D).subscribe((0,dt._)(T,()=>T.complete(),Vn.l)),!T.closed&&O.subscribe(T)})}(this.transitionAbortSubject.pipe((0,Ce.M)(_t=>{throw _t}))),(0,hn.j)(()=>{De||At||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,ve.W)(_t=>{if(At=!0,jr(_t))this.events.next(new Mi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),_t.message,_t.cancellationCode)),function cr(D){return jr(D)&&or(D.url)}(_t)?this.events.next(new le(_t.url)):ae.resolve(!1);else{this.events.next(new xs(ae.id,this.urlSerializer.serialize(ae.extractedUrl),_t,ae.targetSnapshot??void 0));try{ae.resolve(T.errorHandler(_t))}catch(Pn){ae.reject(Pn)}}return lt.w}))}))}cancelNavigationTransition(T,N,H){const ae=new Mi(T.id,this.urlSerializer.serialize(T.extractedUrl),N,H);this.events.next(ae),T.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function yo(D){return D!==Xi}let js=(()=>{class D{buildTitle(T){let N,H=T.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ae=>ae.outlet===Wt);return N}getResolvedTitleForRoute(T){return T.data[zt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Bs)},providedIn:"root"})}}return D})(),Bs=(()=>{class D extends js{constructor(T){super(),this.title=T}updateTitle(T){const N=this.buildTitle(T);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO($n.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Ns=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ts)},providedIn:"root"})}}return D})();class ta{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}let Ts=(()=>{class D extends ta{static{this.\u0275fac=function(){let T;return function(H){return(T||(T=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Vo=new o.nKC("",{providedIn:"root",factory:()=>({})});let il=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Dr)},providedIn:"root"})}}return D})(),Dr=(()=>{class D{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,N){return T}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Nr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Nr||{});function Aa(D,O){D.events.pipe((0,Fe.p)(T=>T instanceof Ki||T instanceof Mi||T instanceof xs||T instanceof Vr),(0,Vt.T)(T=>T instanceof Ki||T instanceof Vr?Nr.COMPLETE:T instanceof Mi&&(0===T.code||1===T.code)?Nr.REDIRECTING:Nr.FAILED),(0,Fe.p)(T=>T!==Nr.REDIRECTING),(0,Jt.s)(1)).subscribe(()=>{O()})}function ho(D){throw D}function sl(D,O,T){return O.parse("/")}const ld={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new In.B,this.options=(0,o.WQX)(Vo,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||ho,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(il),this.routeReuseStrategy=(0,o.WQX)(Ns),this.titleStrategy=(0,o.WQX)(js),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(Ai,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Pi),this.urlSerializer=(0,o.WQX)(Pe),this.location=(0,o.WQX)(sr.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new Ot.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Tu(N)&&this._events.next(N));if(N instanceof ii)yo(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Vr)this.rawUrlTree=H.rawUrl;else if(N instanceof Vs){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ae,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof Lr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Mi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof le){const ae=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),De={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yo(H.source)};this.scheduleNavigation(ae,Xi,null,De,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof xs&&this.restoreHistory(H,!0),N instanceof Ki&&(this.navigated=!0),Tu(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xi,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const N="popstate"===T.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,N,T.state)},0)}))}navigateToSyncWithBrowser(T,N,H){const ae={replaceUrl:!0},De=H?.navigationId?H:null;if(H){const _t={...H};delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(ae.state=_t)}const At=this.parseUrl(T);this.scheduleNavigation(At,N,De,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,N={}){const{relativeTo:H,queryParams:ae,fragment:De,queryParamsHandling:At,preserveFragment:_t}=N,Pn=_t?this.currentUrlTree.fragment:De;let Er,Sr=null;switch(At){case"merge":Sr={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Sr=this.currentUrlTree.queryParams;break;default:Sr=ae||null}null!==Sr&&(Sr=this.removeEmptyProps(Sr));try{Er=ri(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Er=this.currentUrlTree.root}return vt(Er,T,Sr,Pn??null)}navigateByUrl(T,N={skipLocationChange:!1}){const H=or(T)?T:this.parseUrl(T),ae=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ae,Xi,null,N)}navigate(T,N={skipLocationChange:!1}){return function Ph(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,N),N)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let N;try{N=this.urlSerializer.parse(T)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,T)}return N}isActive(T,N){let H;if(H=!0===N?{...ld}:!1===N?{...ol}:N,or(T))return ni(this.currentUrlTree,T,H);const ae=this.parseUrl(T);return ni(this.currentUrlTree,ae,H)}removeEmptyProps(T){return Object.keys(T).reduce((N,H)=>{const ae=T[H];return null!=ae&&(N[H]=ae),N},{})}scheduleNavigation(T,N,H,ae,De){if(this.disposed)return Promise.resolve(!1);let At,_t,Pn;De?(At=De.resolve,_t=De.reject,Pn=De.promise):Pn=new Promise((Er,Yr)=>{At=Er,_t=Yr});const Sr=this.pendingTasks.add();return Aa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Sr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:ae,resolve:At,reject:_t,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(Er=>Promise.reject(Er))}setBrowserUrl(T,N){const H=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const De={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",De)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ae)}}restoreHistory(T,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,N){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:N}:{navigationId:T}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Tu(D){return!(D instanceof Lr||D instanceof le)}let fa=(()=>{class D{constructor(T,N,H,ae,De,At){this.router=T,this.route=N,this.tabIndexAttribute=H,this.renderer=ae,this.el=De,this.locationStrategy=At,this.href=null,this.commands=null,this.onChanges=new In.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _t=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_t||"area"===_t,this.isAnchorElement?this.subscription=T.events.subscribe(Pn=>{Pn instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,N,H,ae,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||N||H||ae||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,N){const H=this.renderer,ae=this.el.nativeElement;null!==N?H.setAttribute(ae,T,N):H.removeAttribute(ae,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Ji),o.rXU(Ir),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(sr.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(De){return H.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})();class al{}let hd=(()=>{class D{constructor(T,N,H,ae,De){this.router=T,this.injector=H,this.preloadingStrategy=ae,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.p)(T=>T instanceof Ki),(0,He.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,N){const H=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,o.Ol2)(ae.providers,T,`Route: ${ae.path}`));const De=ae._injector??T,At=ae._loadedInjector??De;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&H.push(this.preloadConfig(De,ae)),(ae.children||ae._loadedRoutes)&&H.push(this.processRoutes(At,ae.children??ae._loadedRoutes))}return(0,he.H)(H).pipe((0,Zn.U)())}preloadConfig(T,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(T,N):(0,we.of)(null);const ae=H.pipe((0,rt.Z)(De=>null===De?(0,we.of)(void 0):(N._loadedRoutes=De.routes,N._loadedInjector=De.injector,this.processRoutes(De.injector??T,De.routes))));if(N.loadComponent&&!N._loadedComponent){const De=this.loader.loadComponent(N);return(0,he.H)([ae,De]).pipe((0,Zn.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Ji),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(al),o.KVO(_i))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const wu=new o.nKC("");let vr=(()=>{class D{constructor(T,N,H,ae,De={}){this.urlSerializer=T,this.transitions=N,this.viewportScroller=H,this.zone=ae,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ki?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Vr&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof us&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new us(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Da(D,O){return{\u0275kind:D,\u0275providers:O}}function fd(){const D=(0,o.WQX)(o.zZn);return O=>{const T=D.get(o.o8S);if(O!==T.components[0])return;const N=D.get(Ji),H=D.get(Su);1===D.get(Yi)&&N.initialNavigation(),D.get($r,null,o.$GK.Optional)?.setUpPreloading(),D.get(wu,null,o.$GK.Optional)?.init(),N.resetRootComponentType(T.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Su=new o.nKC("",{factory:()=>new In.B}),Yi=new o.nKC("",{providedIn:"root",factory:()=>1}),$r=new o.nKC("");function ra(D){return Da(0,[{provide:$r,useExisting:hd},{provide:al,useExisting:D}])}const ga=new o.nKC("ROUTER_FORROOT_GUARD"),Cc=[sr.aZ,{provide:Pe,useClass:Pt},Ji,tt,{provide:Ir,useFactory:function Au(D){return D.routerState.root},deps:[Ji]},_i,[]];function gd(){return new o.NEm("Router",Ji)}let $l=(()=>{class D{constructor(T){}static forRoot(T,N){return{ngModule:D,providers:[Cc,[],{provide:Ai,multi:!0,useValue:T},{provide:ga,useFactory:$a,deps:[[Ji,new o.Xx1,new o.kdw]]},{provide:Vo,useValue:N||{}},N?.useHash?{provide:sr.hb,useClass:sr.fw}:{provide:sr.hb,useClass:sr.Sm},{provide:wu,useFactory:()=>{const D=(0,o.WQX)(sr.Xr),O=(0,o.WQX)(o.SKi),T=(0,o.WQX)(Vo),N=(0,o.WQX)(Pi),H=(0,o.WQX)(Pe);return T.scrollOffset&&D.setOffset(T.scrollOffset),new vr(H,N,D,O,T)}},N?.preloadingStrategy?ra(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:gd},N?.initialNavigation?Sa(N):[],N?.bindToComponentInputs?Da(8,[X,{provide:Z,useExisting:X}]).\u0275providers:[],[{provide:Do,useFactory:fd},{provide:o.iLQ,multi:!0,useExisting:Do}]]}}static forChild(T){return{ngModule:D,providers:[{provide:Ai,multi:!0,useValue:T}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(ga,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function $a(D){return"guarded"}function Sa(D){return["disabled"===D.initialNavigation?Da(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Ji);return()=>{O.setUpLocationChangeListener()}}},{provide:Yi,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Da(2,[{provide:Yi,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const T=O.get(sr.hj,Promise.resolve());return()=>T.then(()=>new Promise(N=>{const H=O.get(Ji),ae=O.get(Su);Aa(H,()=>{N(!0)}),O.get(Pi).afterPreactivation=()=>(N(!0),ae.closed?(0,we.of)(void 0):ae),H.initialNavigation()}))}}]).\u0275providers:[]]}const Do=new o.nKC("")},3345:(mn,Ze,V)=>{V.d(Ze,{A:()=>Nt});var o=V(1076),ue=V(1362),s=V(7852),Ee=V(8041);class he{constructor(Gt,Lt){this._delegate=Gt,this.firebase=Lt,(0,s._addComponent)(Gt,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Gt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Gt){this._delegate.automaticDataCollectionEnabled=Gt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Gt=>{this._delegate.checkDestroyed(),Gt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(Gt,Lt=s._DEFAULT_ENTRY_NAME){var yn;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Gt);return!Ge.isInitialized()&&"EXPLICIT"===(null===(yn=Ge.getComponent())||void 0===yn?void 0:yn.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Lt})}_removeServiceInstance(Gt,Lt=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Gt).clearInstance(Lt)}_addComponent(Gt){(0,s._addComponent)(this._delegate,Gt)}_addOrOverwriteComponent(Gt){(0,s._addOrOverwriteComponent)(this._delegate,Gt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ue(){const Mt=function Le(Mt){const Gt={},Lt={__esModule:!0,initializeApp:function _e(Ot,Ut={}){const Ie=s.initializeApp(Ot,Ut);if((0,o.gR)(Gt,Ie.name))return Gt[Ie.name];const cn=new Mt(Ie,Lt);return Gt[Ie.name]=cn,cn},app:Ge,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function et(Ot){const Ut=Ot.name,Ie=Ut.replace("-compat","");if(s._registerComponent(Ot)&&"PUBLIC"===Ot.type){const cn=(In=Ge())=>{if("function"!=typeof In[Ie])throw Ae.create("invalid-app-argument",{appName:Ut});return In[Ie]()};void 0!==Ot.serviceProps&&(0,o.zw)(cn,Ot.serviceProps),Lt[Ie]=cn,Mt.prototype[Ie]=function(...In){return this._getService.bind(this,Ut).apply(this,Ot.multipleInstances?In:[])}}return"PUBLIC"===Ot.type?Lt[Ie]:null},removeApp:function yn(Ot){delete Gt[Ot]},useAsService:function lt(Ot,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:s}};function Ge(Ot){if(!(0,o.gR)(Gt,Ot=Ot||s._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Ot});return Gt[Ot]}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function it(){return Object.keys(Gt).map(Ot=>Gt[Ot])}}),Ge.App=Mt,Lt}(he);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function Gt(Lt){(0,o.zw)(Mt,Lt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),Mt}(),de=new Ee.Vy("@firebase/app-compat");try{const Mt=(0,o.mS)();if(void 0!==Mt.firebase){de.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Gt=Mt.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&de.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Nt=J;!function nt(Mt){(0,s.registerVersion)("@firebase/app-compat","0.2.43",Mt)}()},7852:(mn,Ze,V)=>{V.r(Ze),V.d(Ze,{FirebaseError:()=>Ee.g,SDK_VERSION:()=>Pt,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>oi,_addOrOverwriteComponent:()=>hi,_apps:()=>Ur,_clearComponents:()=>ci,_components:()=>er,_getProvider:()=>Ar,_isFirebaseApp:()=>_r,_isFirebaseServerApp:()=>Yn,_registerComponent:()=>rn,_removeServiceInstance:()=>Hn,_serverApps:()=>ni,deleteApp:()=>bi,getApp:()=>Kr,getApps:()=>Or,initializeApp:()=>Yt,initializeServerApp:()=>zn,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var o=V(467),ue=V(1362),s=V(8041),Ee=V(1076);const he=(vt,qe)=>qe.some(Dt=>vt instanceof Dt);let we,Ae;const J=new WeakMap,de=new WeakMap,xe=new WeakMap,dt=new WeakMap,nt=new WeakMap;let Gt={get(vt,qe,Dt){if(vt instanceof IDBTransaction){if("done"===qe)return de.get(vt);if("objectStoreNames"===qe)return vt.objectStoreNames||xe.get(vt);if("store"===qe)return Dt.objectStoreNames[1]?void 0:Dt.objectStore(Dt.objectStoreNames[0])}return _e(vt[qe])},set:(vt,qe,Dt)=>(vt[qe]=Dt,!0),has:(vt,qe)=>vt instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in vt};function Ge(vt){return"function"==typeof vt?function yn(vt){return vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vt)?function(...qe){return vt.apply(it(this),qe),_e(J.get(this))}:function(...qe){return _e(vt.apply(it(this),qe))}:function(qe,...Dt){const pn=vt.call(it(this),qe,...Dt);return xe.set(pn,qe.sort?qe.sort():[qe]),_e(pn)}}(vt):(vt instanceof IDBTransaction&&function Mt(vt){if(de.has(vt))return;const qe=new Promise((Dt,pn)=>{const kn=()=>{vt.removeEventListener("complete",gn),vt.removeEventListener("error",Ln),vt.removeEventListener("abort",Ln)},gn=()=>{Dt(),kn()},Ln=()=>{pn(vt.error||new DOMException("AbortError","AbortError")),kn()};vt.addEventListener("complete",gn),vt.addEventListener("error",Ln),vt.addEventListener("abort",Ln)});de.set(vt,qe)}(vt),he(vt,function Le(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vt,Gt):vt)}function _e(vt){if(vt instanceof IDBRequest)return function Nt(vt){const qe=new Promise((Dt,pn)=>{const kn=()=>{vt.removeEventListener("success",gn),vt.removeEventListener("error",Ln)},gn=()=>{Dt(_e(vt.result)),kn()},Ln=()=>{pn(vt.error),kn()};vt.addEventListener("success",gn),vt.addEventListener("error",Ln)});return qe.then(Dt=>{Dt instanceof IDBCursor&&J.set(Dt,vt)}).catch(()=>{}),nt.set(qe,vt),qe}(vt);if(dt.has(vt))return dt.get(vt);const qe=Ge(vt);return qe!==vt&&(dt.set(vt,qe),nt.set(qe,vt)),qe}const it=vt=>nt.get(vt),Ot=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Ie=new Map;function cn(vt,qe){if(!(vt instanceof IDBDatabase)||qe in vt||"string"!=typeof qe)return;if(Ie.get(qe))return Ie.get(qe);const Dt=qe.replace(/FromIndex$/,""),pn=qe!==Dt,kn=Ut.includes(Dt);if(!(Dt in(pn?IDBIndex:IDBObjectStore).prototype)||!kn&&!Ot.includes(Dt))return;const gn=function(){var Ln=(0,o.A)(function*(xr,...Fr){const tr=this.transaction(xr,kn?"readwrite":"readonly");let wi=tr.store;return pn&&(wi=wi.index(Fr.shift())),(yield Promise.all([wi[Dt](...Fr),kn&&tr.done]))[0]});return function(Fr){return Ln.apply(this,arguments)}}();return Ie.set(qe,gn),gn}!function Lt(vt){Gt=vt(Gt)}(vt=>({...vt,get:(qe,Dt,pn)=>cn(qe,Dt)||vt.get(qe,Dt,pn),has:(qe,Dt)=>!!cn(qe,Dt)||vt.has(qe,Dt)}));class In{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(Dt=>{if(function sr(vt){const qe=vt.getComponent();return"VERSION"===qe?.type}(Dt)){const pn=Dt.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(Dt=>Dt).join(" ")}}const Vt="@firebase/app",qt="0.10.13",Jt=new s.Vy("@firebase/app"),Rn="[DEFAULT]",ti={[Vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ur=new Map,ni=new Map,er=new Map;function oi(vt,qe){try{vt.container.addComponent(qe)}catch(Dt){Jt.debug(`Component ${qe.name} failed to register with FirebaseApp ${vt.name}`,Dt)}}function hi(vt,qe){vt.container.addOrOverwriteComponent(qe)}function rn(vt){const qe=vt.name;if(er.has(qe))return Jt.debug(`There were multiple attempts to register component ${qe}.`),!1;er.set(qe,vt);for(const Dt of Ur.values())oi(Dt,vt);for(const Dt of ni.values())oi(Dt,vt);return!0}function Ar(vt,qe){const Dt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return Dt&&Dt.triggerHeartbeat(),vt.container.getProvider(qe)}function Hn(vt,qe,Dt=Rn){Ar(vt,qe).clearInstance(Dt)}function _r(vt){return void 0!==vt.options}function Yn(vt){return void 0!==vt.settings}function ci(){er.clear()}const ft=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class se{constructor(qe,Dt,pn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},Dt),this._name=Dt.name,this._automaticDataCollectionEnabled=Dt.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}class Pe extends se{constructor(qe,Dt,pn,kn){const gn=void 0!==Dt.automaticDataCollectionEnabled&&Dt.automaticDataCollectionEnabled,Ln={name:pn,automaticDataCollectionEnabled:gn};super(void 0!==qe.apiKey?qe:qe.options,Ln,kn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:gn},Dt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Dt.releaseOnDeref=void 0,$(Vt,qt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(qe){this.isDeleted||(this._refCount++,void 0!==qe&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(qe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ft.create("server-app-deleted")}}const Pt="10.14.1";function Yt(vt,qe={}){let Dt=vt;"object"!=typeof qe&&(qe={name:qe});const pn=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},qe),kn=pn.name;if("string"!=typeof kn||!kn)throw ft.create("bad-app-name",{appName:String(kn)});if(Dt||(Dt=(0,Ee.T9)()),!Dt)throw ft.create("no-options");const gn=Ur.get(kn);if(gn){if((0,Ee.bD)(Dt,gn.options)&&(0,Ee.bD)(pn,gn.config))return gn;throw ft.create("duplicate-app",{appName:kn})}const Ln=new ue.h1(kn);for(const Fr of er.values())Ln.addComponent(Fr);const xr=new se(Dt,pn,Ln);return Ur.set(kn,xr),xr}function zn(vt,qe){if((0,Ee.Bd)()&&!(0,Ee.p7)())throw ft.create("invalid-server-app-environment");let Dt;void 0===qe.automaticDataCollectionEnabled&&(qe.automaticDataCollectionEnabled=!1),Dt=_r(vt)?vt.options:vt;const pn=Object.assign(Object.assign({},qe),Dt);if(void 0!==pn.releaseOnDeref&&delete pn.releaseOnDeref,void 0!==qe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ft.create("finalization-registry-not-supported",{});const gn=""+(tr=JSON.stringify(pn),[...tr].reduce((wi,ns)=>Math.imul(31,wi)+ns.charCodeAt(0)|0,0)),Ln=ni.get(gn);var tr;if(Ln)return Ln.incRefCount(qe.releaseOnDeref),Ln;const xr=new ue.h1(gn);for(const tr of er.values())xr.addComponent(tr);const Fr=new Pe(Dt,qe,gn,xr);return ni.set(gn,Fr),Fr}function Kr(vt=Rn){const qe=Ur.get(vt);if(!qe&&vt===Rn&&(0,Ee.T9)())return Yt();if(!qe)throw ft.create("no-app",{appName:vt});return qe}function Or(){return Array.from(Ur.values())}function bi(vt){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.A)(function*(vt){let qe=!1;const Dt=vt.name;Ur.has(Dt)?(qe=!0,Ur.delete(Dt)):ni.has(Dt)&&vt.decRefCount()<=0&&(ni.delete(Dt),qe=!0),qe&&(yield Promise.all(vt.container.getProviders().map(pn=>pn.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function $(vt,qe,Dt){var pn;let kn=null!==(pn=ti[vt])&&void 0!==pn?pn:vt;Dt&&(kn+=`-${Dt}`);const gn=kn.match(/\s|\//),Ln=qe.match(/\s|\//);if(gn||Ln){const xr=[`Unable to register library "${kn}" with version "${qe}":`];return gn&&xr.push(`library name "${kn}" contains illegal characters (whitespace or "/")`),gn&&Ln&&xr.push("and"),Ln&&xr.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void Jt.warn(xr.join(" "))}rn(new ue.uA(`${kn}-version`,()=>({library:kn,version:qe}),"VERSION"))}function M(vt,qe){if(null!==vt&&"function"!=typeof vt)throw ft.create("invalid-log-argument");(0,s.Ey)(vt,qe)}function k(vt){(0,s.He)(vt)}const ne="firebase-heartbeat-database",ge=1,ct="firebase-heartbeat-store";let Tt=null;function en(){return Tt||(Tt=function et(vt,qe,{blocked:Dt,upgrade:pn,blocking:kn,terminated:gn}={}){const Ln=indexedDB.open(vt,qe),xr=_e(Ln);return pn&&Ln.addEventListener("upgradeneeded",Fr=>{pn(_e(Ln.result),Fr.oldVersion,Fr.newVersion,_e(Ln.transaction),Fr)}),Dt&&Ln.addEventListener("blocked",Fr=>Dt(Fr.oldVersion,Fr.newVersion,Fr)),xr.then(Fr=>{gn&&Fr.addEventListener("close",()=>gn()),kn&&Fr.addEventListener("versionchange",tr=>kn(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),xr}(ne,ge,{upgrade:(vt,qe)=>{if(0===qe)try{vt.createObjectStore(ct)}catch(Dt){console.warn(Dt)}}}).catch(vt=>{throw ft.create("idb-open",{originalErrorMessage:vt.message})})),Tt}function Tn(){return(Tn=(0,o.A)(function*(vt){try{const Dt=(yield en()).transaction(ct),pn=yield Dt.objectStore(ct).get(Me(vt));return yield Dt.done,pn}catch(qe){if(qe instanceof Ee.g)Jt.warn(qe.message);else{const Dt=ft.create("idb-get",{originalErrorMessage:qe?.message});Jt.warn(Dt.message)}}})).apply(this,arguments)}function yr(vt,qe){return Re.apply(this,arguments)}function Re(){return(Re=(0,o.A)(function*(vt,qe){try{const pn=(yield en()).transaction(ct,"readwrite");yield pn.objectStore(ct).put(qe,Me(vt)),yield pn.done}catch(Dt){if(Dt instanceof Ee.g)Jt.warn(Dt.message);else{const pn=ft.create("idb-set",{originalErrorMessage:Dt?.message});Jt.warn(pn.message)}}})).apply(this,arguments)}function Me(vt){return`${vt.name}!${vt.options.appId}`}class Xt{constructor(qe){this.container=qe,this._heartbeatsCache=null;const Dt=this.container.getProvider("app").getImmediate();this._storage=new or(Dt),this._heartbeatsCachePromise=this._storage.read().then(pn=>(this._heartbeatsCache=pn,pn))}triggerHeartbeat(){var qe=this;return(0,o.A)(function*(){var Dt,pn;try{const gn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=bn();return null==(null===(Dt=qe._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise,null==(null===(pn=qe._heartbeatsCache)||void 0===pn?void 0:pn.heartbeats))||qe._heartbeatsCache.lastSentHeartbeatDate===Ln||qe._heartbeatsCache.heartbeats.some(xr=>xr.date===Ln)?void 0:(qe._heartbeatsCache.heartbeats.push({date:Ln,agent:gn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(xr=>{const Fr=new Date(xr.date).valueOf();return Date.now()-Fr<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache))}catch(kn){Jt.warn(kn)}})()}getHeartbeatsHeader(){var qe=this;return(0,o.A)(function*(){var Dt;try{if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(Dt=qe._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const pn=bn(),{heartbeatsToSend:kn,unsentEntries:gn}=function fn(vt,qe=1024){const Dt=[];let pn=vt.slice();for(const kn of vt){const gn=Dt.find(Ln=>Ln.agent===kn.agent);if(gn){if(gn.dates.push(kn.date),vn(Dt)>qe){gn.dates.pop();break}}else if(Dt.push({agent:kn.agent,dates:[kn.date]}),vn(Dt)>qe){Dt.pop();break}pn=pn.slice(1)}return{heartbeatsToSend:Dt,unsentEntries:pn}}(qe._heartbeatsCache.heartbeats),Ln=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:kn}));return qe._heartbeatsCache.lastSentHeartbeatDate=pn,gn.length>0?(qe._heartbeatsCache.heartbeats=gn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),Ln}catch(pn){return Jt.warn(pn),""}})()}}function bn(){return(new Date).toISOString().substring(0,10)}class or{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,o.A)(function*(){if(yield qe._canUseIndexedDBPromise){const pn=yield function un(vt){return Tn.apply(this,arguments)}(qe.app);return pn?.heartbeats?pn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(qe){var Dt=this;return(0,o.A)(function*(){var pn;if(yield Dt._canUseIndexedDBPromise){const gn=yield Dt.read();return yr(Dt.app,{lastSentHeartbeatDate:null!==(pn=qe.lastSentHeartbeatDate)&&void 0!==pn?pn:gn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var Dt=this;return(0,o.A)(function*(){var pn;if(yield Dt._canUseIndexedDBPromise){const gn=yield Dt.read();return yr(Dt.app,{lastSentHeartbeatDate:null!==(pn=qe.lastSentHeartbeatDate)&&void 0!==pn?pn:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...qe.heartbeats]})}})()}}function vn(vt){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:vt})).length}!function ri(vt){rn(new ue.uA("platform-logger",qe=>new In(qe),"PRIVATE")),rn(new ue.uA("heartbeat",qe=>new Xt(qe),"PRIVATE")),$(Vt,qt,vt),$(Vt,qt,"esm2017"),$("fire-js","")}("")},1362:(mn,Ze,V)=>{V.d(Ze,{h1:()=>Le,uA:()=>s});var o=V(467),ue=V(1076);class s{constructor(J,de,xe){this.name=J,this.instanceFactory=de,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ee="[DEFAULT]";class he{constructor(J,de){this.name=J,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const de=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(de)){const xe=new ue.cY;if(this.instancesDeferred.set(de,xe),this.isInitialized(de)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:de});dt&&xe.resolve(dt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(J){var de;const xe=this.normalizeInstanceIdentifier(J?.identifier),dt=null!==(de=J?.optional)&&void 0!==de&&de;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(nt){if(dt)return null;throw nt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ae(Ue){return"EAGER"===Ue.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[de,xe]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(de);try{const nt=this.getOrInitializeService({instanceIdentifier:dt});xe.resolve(nt)}catch{}}}}clearInstance(J=Ee){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,o.A)(function*(){const de=Array.from(J.instances.values());yield Promise.all([...de.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...de.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ee){return this.instances.has(J)}getOptions(J=Ee){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:de={}}=J,xe=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:xe,options:de});for(const[nt,Nt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(nt)&&Nt.resolve(dt);return dt}onInit(J,de){var xe;const dt=this.normalizeInstanceIdentifier(de),nt=null!==(xe=this.onInitCallbacks.get(dt))&&void 0!==xe?xe:new Set;nt.add(J),this.onInitCallbacks.set(dt,nt);const Nt=this.instances.get(dt);return Nt&&J(Nt,dt),()=>{nt.delete(J)}}invokeOnInitCallbacks(J,de){const xe=this.onInitCallbacks.get(de);if(xe)for(const dt of xe)try{dt(J,de)}catch{}}getOrInitializeService({instanceIdentifier:J,options:de={}}){let xe=this.instances.get(J);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=J,Ue===Ee?void 0:Ue),options:de}),this.instances.set(J,xe),this.instancesOptions.set(J,de),this.invokeOnInitCallbacks(xe,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,xe)}catch{}var Ue;return xe||null}normalizeInstanceIdentifier(J=Ee){return this.component?this.component.multipleInstances?J:Ee:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const de=this.getProvider(J.name);if(de.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);de.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const de=new he(J,this);return this.providers.set(J,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(mn,Ze,V)=>{V.d(Ze,{$b:()=>ue,Ey:()=>Ue,He:()=>Le,Vy:()=>Ae});const o=[];var ue=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(ue||{});const s={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Ee=ue.INFO,he={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},we=(J,de,...xe)=>{if(de<J.logLevel)return;const dt=(new Date).toISOString(),nt=he[de];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[nt](`[${dt}]  ${J.name}:`,...xe)};class Ae{constructor(de){this.name=de,this._logLevel=Ee,this._logHandler=we,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in ue))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?s[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...de),this._logHandler(this,ue.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...de),this._logHandler(this,ue.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...de),this._logHandler(this,ue.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...de),this._logHandler(this,ue.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...de),this._logHandler(this,ue.ERROR,...de)}}function Le(J){o.forEach(de=>{de.setLogLevel(J)})}function Ue(J,de){for(const xe of o){let dt=null;de&&de.level&&(dt=s[de.level]),xe.userLogHandler=null===J?null:(nt,Nt,...Mt)=>{const Gt=Mt.map(Lt=>{if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(Lt=>Lt).join(" ");Nt>=(dt??nt.logLevel)&&J({level:ue[Nt].toLowerCase(),message:Gt,args:Mt,type:nt.name})}}}},2214:(mn,Ze,V)=>{V.d(Ze,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=V(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(mn,Ze,V)=>{V.d(Ze,{A:()=>o.A});var o=V(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(mn,Ze,V)=>{var o=V(467),ue=V(3345),s=V(5504),Ee=V(1076),Ae=(V(7852),V(8041),V(1362));function Le(){return window}function de(){return de=(0,o.A)(function*($,M,k){var ne;const{BuildInfo:ge}=Le();(0,s.au)(M.sessionId,"AuthEvent did not contain a session ID");const ct=yield function Lt($){return yn.apply(this,arguments)}(M.sessionId),Tt={};return(0,s.av)()?Tt.ibi=ge.packageName:(0,s.aw)()?Tt.apn=ge.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),ge.displayName&&(Tt.appDisplayName=ge.displayName),Tt.sessionId=ct,(0,s.ay)($,k,M.type,void 0,null!==(ne=M.eventId)&&void 0!==ne?ne:void 0,Tt)}),de.apply(this,arguments)}function dt(){return(dt=(0,o.A)(function*($){const{BuildInfo:M}=Le(),k={};(0,s.av)()?k.iosBundleId=M.packageName:(0,s.aw)()?k.androidPackageName=M.packageName:(0,s.ax)($,"operation-not-supported-in-this-environment"),yield(0,s.az)($,k)})).apply(this,arguments)}function Mt(){return(Mt=(0,o.A)(function*($,M,k){const{cordova:ne}=Le();let ge=()=>{};try{yield new Promise((ct,Tt)=>{let en=null;function un(){var Re;ct();const Me=null===(Re=ne.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof Me&&Me(),"function"==typeof k?.close&&k.close()}function Tn(){en||(en=window.setTimeout(()=>{Tt((0,s.aB)($,"redirect-cancelled-by-user"))},2e3))}function yr(){"visible"===document?.visibilityState&&Tn()}M.addPassiveListener(un),document.addEventListener("resume",Tn,!1),(0,s.aw)()&&document.addEventListener("visibilitychange",yr,!1),ge=()=>{M.removePassiveListener(un),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",yr,!1),en&&window.clearTimeout(en)}})}finally{ge()}})).apply(this,arguments)}function yn(){return(yn=(0,o.A)(function*($){const M=function Ge($){if((0,s.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let ne=0;ne<$.length;ne++)k[ne]=$.charCodeAt(ne);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends s.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function Ot($){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,o.A)(function*($){const M=yield In()._get(sr($));return M&&(yield In()._remove(sr($))),M})).apply(this,arguments)}function cn(){const $=[];for(let k=0;k<20;k++){const ne=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return $.join("")}function In(){return(0,s.aE)(s.b)}function sr($){return(0,s.aF)("authEvent",$.config.apiKey,$.name)}function Jt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Ee.I9)(k.join("?"))}const rt=class Fe{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var k=this;return(0,o.A)(function*(){const ne=M._key();let ge=k.eventManagers.get(ne);return ge||(ge=new it(M),k.eventManagers.set(ne,ge),k.attachCallbackListeners(M,ge)),ge})()}_openPopup(M){(0,s.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ne,ge){var ct=this;return(0,o.A)(function*(){!function Gt($){var M,k,ne,ge,ct,Tt,en,un,Tn,yr;const Re=Le();(0,s.aC)("function"==typeof(null===(M=Re?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aC)(typeof(null===(k=Re?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aC)("function"==typeof(null===(ct=null===(ge=null===(ne=Re?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===ct?void 0:ct.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(un=null===(en=null===(Tt=Re?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===en?void 0:en.browsertab)||void 0===un?void 0:un.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aC)("function"==typeof(null===(yr=null===(Tn=Re?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===yr?void 0:yr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Tt=yield ct._initialize(M);yield Tt.initialized(),Tt.resetRedirect(),(0,s.aI)(),yield ct._originValidation(M);const en=function et($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:cn(),postBody:null,tenantId:$.tenantId,error:(0,s.aB)($,"no-auth-event")}}(M,ne,ge);yield function lt($,M){return In()._set(sr($),M)}(M,en);const un=yield function J($,M,k){return de.apply(this,arguments)}(M,en,k),Tn=yield function nt($){const{cordova:M}=Le();return new Promise(k=>{M.plugins.browsertab.isAvailable(ne=>{let ge=null;ne?M.plugins.browsertab.openUrl($):ge=M.InAppBrowser.open($,(0,s.aA)()?"_blank":"_system","location=yes"),k(ge)})})}(un);return function Nt($,M,k){return Mt.apply(this,arguments)}(M,Tt,Tn)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function xe($){return dt.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ne,handleOpenURL:ge,BuildInfo:ct}=Le(),Tt=setTimeout((0,o.A)(function*(){yield Ot(M),k.onEvent(ln())}),500),en=function(){var yr=(0,o.A)(function*(Re){clearTimeout(Tt);const Me=yield Ot(M);let Be=null;Me&&Re?.url&&(Be=function Ie($,M){var k,ne;const ge=function qt($){const M=Jt($),k=M.link?decodeURIComponent(M.link):void 0,ne=Jt(k).link,ge=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Jt(ge).link||ge||ne||k||$}(M);if(ge.includes("/__/auth/callback")){const ct=Jt(ge),Tt=ct.firebaseError?function Vt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,en=null===(ne=null===(k=Tt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ne?void 0:ne[1],un=en?(0,s.aB)(en):null;return un?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:ge,postBody:null}}return null}(Me,Re.url)),k.onEvent(Be||ln())});return function(Me){return yr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,en);const un=ge,Tn=`${ct.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var yr=(0,o.A)(function*(Re){if(Re.toLowerCase().startsWith(Tn)&&en({url:Re}),"function"==typeof un)try{un(Re)}catch(Me){console.error(Me)}});return function(Re){return yr.apply(this,arguments)}}()}};function ln(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aB)("no-auth-event")}}function st(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function jt($=(0,Ee.ZQ)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function tn(){try{const $=self.localStorage,M=s.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Vn($=(0,Ee.ZQ)()){return function dr(){return(0,Ee.lT)()&&11===document?.documentMode}()||function hn($=(0,Ee.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Ee.zW)()}catch{return Zn()&&(0,Ee.zW)()}return!1}function Zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function Ye(){return"http:"===st()||"https:"===st()}()||(0,Ee.sr)()||jt())&&!function Mn(){return(0,Ee.lV)()||(0,Ee.Ll)()}()&&tn()&&!Zn()}function Wt(){return jt()&&typeof document<"u"}function mr(){return(mr=(0,o.A)(function*(){return!!Wt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const kr={LOCAL:"local",NONE:"none",SESSION:"session"},ir=s.aC,Bt="persistence";function Qn($){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,o.A)(function*($){yield $._initializationPromise;const M=Ur(),k=s.aF(Bt,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function Ur(){var $;try{return(null===($=function _n(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ni=s.aC;class er{constructor(){this.browserResolver=s.aE(s.k),this.cordovaResolver=s.aE(rt),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aG,this._overrideRedirectResult=s.aH}_initialize(M){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ne,ge){var ct=this;return(0,o.A)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(M,k,ne,ge)})()}_openRedirect(M,k,ne,ge){var ct=this;return(0,o.A)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(M,k,ne,ge)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ni(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const k=yield function zt(){return mr.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function oi($){return $.unwrap()}function rn($){return Hn($)}function Hn($){const{_tokenResponse:M}=$ instanceof Ee.g?$.customData:$;if(!M)return null;if(!($ instanceof Ee.g)&&"temporaryProof"in M&&"phoneNumber"in M)return s.P.credentialFromResult($);const k=M.providerId;if(!k||k===s.p.PASSWORD)return null;let ne;switch(k){case s.p.GOOGLE:ne=s.X;break;case s.p.FACEBOOK:ne=s.W;break;case s.p.GITHUB:ne=s.Y;break;case s.p.TWITTER:ne=s.$;break;default:const{oauthIdToken:ge,oauthAccessToken:ct,oauthTokenSecret:Tt,pendingToken:en,nonce:un}=M;return ct||Tt||ge||en?en?k.startsWith("saml.")?s.aQ._create(k,en):s.N._fromParams({providerId:k,signInMethod:k,pendingToken:en,idToken:ge,accessToken:ct}):new s.Z(k).credential({idToken:ge,accessToken:ct,rawNonce:un}):null}return $ instanceof Ee.g?ne.credentialFromError($):ne.credentialFromResult($)}function _r($,M){return M.catch(k=>{throw k instanceof Ee.g&&function Ar($,M){var k;const ne=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new Qe($,s.as($,M));else if(ne){const ge=Hn(M),ct=M;ge&&(ct.credential=ge,ct.tenantId=ne.tenantId||void 0,ct.email=ne.email||void 0,ct.phoneNumber=ne.phoneNumber||void 0)}}($,k),k}).then(k=>{const ge=k.user;return{operationType:k.operationType,credential:rn(k),additionalUserInfo:s.aq(k),user:ft.getOrCreate(ge)}})}function Yn($,M){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:ne=>_r($,k.confirm(ne))}})).apply(this,arguments)}class Qe{constructor(M,k){this.resolver=k,this.auth=function hi($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return _r(oi(this.auth),this.resolver.resolveSignIn(M))}}class ft{constructor(M){this._delegate=M,this.multiFactor=s.at(M)}static getOrCreate(M){return ft.USER_MAP.has(M)||ft.USER_MAP.set(M,new ft(M)),ft.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,o.A)(function*(){return _r(k.auth,s.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ne=this;return(0,o.A)(function*(){return Yn(ne.auth,s.l(ne._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,o.A)(function*(){return _r(k.auth,s.d(k._delegate,M,er))})()}linkWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Qn(s.aJ(k.auth)),s.g(k._delegate,M,er)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,o.A)(function*(){return _r(k.auth,s.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return Yn(this.auth,s.r(this._delegate,M,k))}reauthenticateWithPopup(M){return _r(this.auth,s.e(this._delegate,M,er))}reauthenticateWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Qn(s.aJ(k.auth)),s.h(k._delegate,M,er)})()}sendEmailVerification(M){return s.ag(this._delegate,M)}unlink(M){var k=this;return(0,o.A)(function*(){return yield s.ap(k._delegate,M),k})()}updateEmail(M){return s.al(this._delegate,M)}updatePassword(M){return s.am(this._delegate,M)}updatePhoneNumber(M){return s.u(this._delegate,M)}updateProfile(M){return s.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return s.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ft.USER_MAP=new WeakMap;const se=s.aC;let Pe=(()=>{class ${constructor(k,ne){if(this.app=k,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=k.options;se(ge,"invalid-api-key",{appName:k.name}),se(ge,"invalid-api-key",{appName:k.name});const ct=typeof window<"u"?er:void 0;this._delegate=ne.initialize({options:{persistence:Yt(ge,k.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ne){s.K(this._delegate,k,ne)}applyActionCode(k){return s.a7(this._delegate,k)}checkActionCode(k){return s.a8(this._delegate,k)}confirmPasswordReset(k,ne){return s.a6(this._delegate,k,ne)}createUserWithEmailAndPassword(k,ne){var ge=this;return(0,o.A)(function*(){return _r(ge._delegate,s.aa(ge._delegate,k,ne))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return s.af(this._delegate,k)}isSignInWithEmailLink(k){return s.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){se($n(),k._delegate,"operation-not-supported-in-this-environment");const ne=yield s.j(k._delegate,er);return ne?_r(k._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function He($,M){(0,s.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ne,ge){const{next:ct,error:Tt,complete:en}=Pt(k,ne,ge);return this._delegate.onAuthStateChanged(ct,Tt,en)}onIdTokenChanged(k,ne,ge){const{next:ct,error:Tt,complete:en}=Pt(k,ne,ge);return this._delegate.onIdTokenChanged(ct,Tt,en)}sendSignInLinkToEmail(k,ne){return s.ac(this._delegate,k,ne)}sendPasswordResetEmail(k,ne){return s.a5(this._delegate,k,ne||void 0)}setPersistence(k){var ne=this;return(0,o.A)(function*(){let ge;switch(function Sn($,M){ir(Object.values(kr).includes(M),$,"invalid-persistence-type"),(0,Ee.lV)()?ir(M!==kr.SESSION,$,"unsupported-persistence-type"):(0,Ee.Ll)()?ir(M===kr.NONE,$,"unsupported-persistence-type"):Zn()?ir(M===kr.NONE||M===kr.LOCAL&&(0,Ee.zW)(),$,"unsupported-persistence-type"):ir(M===kr.NONE||tn(),$,"unsupported-persistence-type")}(ne._delegate,k),k){case kr.SESSION:ge=s.a;break;case kr.LOCAL:ge=(yield s.aE(s.i)._isAvailable())?s.i:s.b;break;case kr.NONE:ge=s.U;break;default:return s.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return _r(this._delegate,s.a0(this._delegate))}signInWithCredential(k){return _r(this._delegate,s.a1(this._delegate,k))}signInWithCustomToken(k){return _r(this._delegate,s.a4(this._delegate,k))}signInWithEmailAndPassword(k,ne){return _r(this._delegate,s.ab(this._delegate,k,ne))}signInWithEmailLink(k,ne){return _r(this._delegate,s.ae(this._delegate,k,ne))}signInWithPhoneNumber(k,ne){return Yn(this._delegate,s.s(this._delegate,k,ne))}signInWithPopup(k){var ne=this;return(0,o.A)(function*(){return se($n(),ne._delegate,"operation-not-supported-in-this-environment"),_r(ne._delegate,s.c(ne._delegate,k,er))})()}signInWithRedirect(k){var ne=this;return(0,o.A)(function*(){return se($n(),ne._delegate,"operation-not-supported-in-this-environment"),yield Qn(ne._delegate),s.f(ne._delegate,k,er)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return s.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=kr,$})();function Pt($,M,k){let ne=$;"function"!=typeof $&&({next:ne,error:M,complete:k}=$);const ge=ne;return{next:Tt=>ge(Tt&&ft.getOrCreate(Tt)),error:M,complete:k}}function Yt($,M){const k=function ti($,M){const k=Ur();if(!k)return[];const ne=s.aF(Bt,$,M);switch(k.getItem(ne)){case kr.NONE:return[s.U];case kr.LOCAL:return[s.i,s.a];case kr.SESSION:return[s.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(s.i)&&k.push(s.i),typeof window<"u")for(const ne of[s.b,s.a])k.includes(ne)||k.push(ne);return k.includes(s.U)||k.push(s.U),k}class zn{constructor(){this.providerId="phone",this._delegate=new s.P(oi(ue.A.auth()))}static credential(M,k){return s.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}zn.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,zn.PROVIDER_ID=s.P.PROVIDER_ID;const Kr=s.aC;class Or{constructor(M,k,ne=ue.A.app()){var ge;Kr(null===(ge=ne.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new s.R(ne.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ct($){$.INTERNAL.registerComponent(new Ae.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ne=M.getProvider("auth");return new Pe(k,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.V,FacebookAuthProvider:s.W,GithubAuthProvider:s.Y,GoogleAuthProvider:s.X,OAuthProvider:s.Z,SAMLAuthProvider:s._,PhoneAuthProvider:zn,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:Or,TwitterAuthProvider:s.$,Auth:Pe,AuthCredential:s.L,Error:Ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(mn,Ze,V)=>{function o(s,Ee,he,we,Ae,Le,Ue){try{var J=s[Le](Ue),de=J.value}catch(xe){return void he(xe)}J.done?Ee(de):Promise.resolve(de).then(we,Ae)}function ue(s){return function(){var Ee=this,he=arguments;return new Promise(function(we,Ae){var Le=s.apply(Ee,he);function Ue(de){o(Le,we,Ae,Ue,J,"next",de)}function J(de){o(Le,we,Ae,Ue,J,"throw",de)}Ue(void 0)})}}V.d(Ze,{A:()=>ue})},1635:(mn,Ze,V)=>{function Ee(He,Ce){var ve={};for(var Ve in He)Object.prototype.hasOwnProperty.call(He,Ve)&&Ce.indexOf(Ve)<0&&(ve[Ve]=He[Ve]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(Ve=Object.getOwnPropertySymbols(He);st<Ve.length;st++)Ce.indexOf(Ve[st])<0&&Object.prototype.propertyIsEnumerable.call(He,Ve[st])&&(ve[Ve[st]]=He[Ve[st]])}return ve}function xe(He,Ce,ve,Ve){return new(ve||(ve=Promise))(function(Ye,jt){function Mn(Vn){try{hn(Ve.next(Vn))}catch(tn){jt(tn)}}function dr(Vn){try{hn(Ve.throw(Vn))}catch(tn){jt(tn)}}function hn(Vn){Vn.done?Ye(Vn.value):function st(Ye){return Ye instanceof ve?Ye:new ve(function(jt){jt(Ye)})}(Vn.value).then(Mn,dr)}hn((Ve=Ve.apply(He,Ce||[])).next())})}function _e(He){return this instanceof _e?(this.v=He,this):new _e(He)}function it(He,Ce,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ve=ve.apply(He,Ce||[]),Ye=[];return st=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mn("next"),Mn("throw"),Mn("return",function jt($n){return function(Wt){return Promise.resolve(Wt).then($n,tn)}}),st[Symbol.asyncIterator]=function(){return this},st;function Mn($n,Wt){Ve[$n]&&(st[$n]=function(zt){return new Promise(function(mr,_n){Ye.push([$n,zt,mr,_n])>1||dr($n,zt)})},Wt&&(st[$n]=Wt(st[$n])))}function dr($n,Wt){try{!function hn($n){$n.value instanceof _e?Promise.resolve($n.value.v).then(Vn,tn):Zn(Ye[0][2],$n)}(Ve[$n](Wt))}catch(zt){Zn(Ye[0][3],zt)}}function Vn($n){dr("next",$n)}function tn($n){dr("throw",$n)}function Zn($n,Wt){$n(Wt),Ye.shift(),Ye.length&&dr(Ye[0][0],Ye[0][1])}}function lt(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ce=He[Symbol.asyncIterator];return Ce?Ce.call(He):(He=function Mt(He){var Ce="function"==typeof Symbol&&Symbol.iterator,ve=Ce&&He[Ce],Ve=0;if(ve)return ve.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&Ve>=He.length&&(He=void 0),{value:He&&He[Ve++],done:!He}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),ve={},Ve("next"),Ve("throw"),Ve("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Ve(Ye){ve[Ye]=He[Ye]&&function(jt){return new Promise(function(Mn,dr){!function st(Ye,jt,Mn,dr){Promise.resolve(dr).then(function(hn){Ye({value:hn,done:Mn})},jt)}(Mn,dr,(jt=He[Ye](jt)).done,jt.value)})}}}V.d(Ze,{AQ:()=>it,N3:()=>_e,Tt:()=>Ee,sH:()=>xe,xN:()=>lt}),"function"==typeof SuppressedError&&SuppressedError}},mn=>{mn(mn.s=9888)}]);