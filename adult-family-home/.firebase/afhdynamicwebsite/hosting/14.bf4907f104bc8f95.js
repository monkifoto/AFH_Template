"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[14],{9014:(se,Z,u)=>{u.r(Z),u.d(Z,{AdminModule:()=>ne});var p=u(6814),l=u(95),d=u(518),e=u(5879),U=u(7213),b=u(7398),h=u(7104),f=u(778);let y=(()=>{class n{constructor(o,t){this.afs=o,this.storage=t,this.basePath="businesses"}createBusiness(o){console.log("Business Created");const t=this.afs.createId();return this.afs.doc(`${this.basePath}/${t}`).set({...o,id:t}),this.afs.doc(`${this.basePath}/${t}`).valueChanges()}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,b.U)(o=>o.map(t=>{const i=t.payload.doc.data(),s=t.payload.doc.id,{id:r,...c}=i;return{id:s,...c}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,o=>o.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).valueChanges()}updateBusiness(o,t){return this.afs.doc(`${this.basePath}/${o}`).update(t)}deleteBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).delete()}uploadFile(o,t){return this.storage.upload(o,t)}getDownloadURL(o){return this.storage.ref(o).getDownloadURL()}static#e=this.\u0275fac=function(t){return new(t||n)(e.LFG(h.ST),e.LFG(f.Q1))};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T=function(){return["/home/"]},P=function(n){return{id:n}};function M(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",6),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"button",7),e.NdJ("click",function(){const s=e.CHM(o).$implicit,r=e.oxw();return e.KtG(r.editBusiness(s.id))}),e._uU(10,"Edit"),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){const s=e.CHM(o).$implicit,r=e.oxw();return e.KtG(r.deleteBusiness(s.id))}),e._uU(12,"Delete"),e.qZA()()()}if(2&n){const o=a.$implicit;e.xp6(2),e.Q6J("routerLink",e.DdM(5,T))("queryParams",e.VKq(6,P,o.id)),e.xp6(1),e.hij(" ",o.id," "),e.xp6(2),e.Oqu(o.businessName),e.xp6(2),e.Oqu(o.isActive)}}let k=(()=>{class n{constructor(o,t){this.businessService=o,this.router=t,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(o=>{this.businesses=o,console.log(o)}):this.businessService.getAllBusinesses().subscribe(o=>{this.businesses=o,console.log(o)})}editBusiness(o){this.router.navigate(["/admin/edit-business",o])}deleteBusiness(o){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(o,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(t=>console.error("Error deleting business",t))}addNewBusiness(){this.router.navigate(["/admin/new"])}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(d.F0))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-list"]],decls:21,vars:2,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Business List"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return i.addNewBusiness()}),e._uU(4,"Add New Business"),e.qZA(),e.TgZ(5,"label",2),e._uU(6,"Show Active Only"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(r){return i.showActiveOnly=r})("change",function(){return i.loadBusinesses()}),e.qZA(),e.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"ID"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Active"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Actions"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,M,13,8,"tr",5),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",i.showActiveOnly),e.xp6(13),e.Q6J("ngForOf",i.businesses))},dependencies:[p.sg,d.rH,l.Wl,l.JJ,l.On],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var O=u(2333);let F=(()=>{class n{constructor(o,t){this.router=o,this.authService=t}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(O.e))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Admin Dashboard"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return i.loadBusinessList()}),e._uU(5,"View Business List"),e.qZA(),e.TgZ(6,"button",2),e.NdJ("click",function(){return i.logout()}),e._uU(7,"Logout"),e.qZA()()(),e._UZ(8,"router-outlet"))},dependencies:[d.lC],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:40px;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var m=u(4716),w=u(5592);let C=(()=>{class n{constructor(o,t){this.storage=o,this.firestore=t}uploadFile(o,t,i){let s;switch(i){case"testimonail":s=`businesses/${t}/testimonail/${o.name}`;break;case"employee":s=`businesses/${t}/employee/${o.name}`;break;case"business":s=`businesses/${t}/business/${o.name}`;break;default:s=`businesses/${t}/gallery/${o.name}`}const r=this.storage.ref(s),c=this.storage.upload(s,o);return{uploadProgress:c.percentageChanges().pipe((0,b.U)(g=>g??0)),downloadUrl:new w.y(g=>{c.snapshotChanges().pipe((0,m.x)(()=>{r.getDownloadURL().subscribe(A=>{this.firestore.collection("businesses").doc(t).collection(i).add({url:A}),g.next(A),g.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(t){return new(t||n)(e.LFG(f.Q1),e.LFG(h.ST))};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"li")(1,"button",43),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeUniqueService(s))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e._uU(7),e.qZA()}if(2&n){const o=a.$implicit;let t,i;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value),e.xp6(2),e.hij("",null==(i=o.get("description"))?null:i.value," ")}}function B(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"li")(1,"button",43),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeWhyChoose(s))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e._uU(7),e.qZA()}if(2&n){const o=a.$implicit;let t,i;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value),e.xp6(2),e.hij("",null==(i=o.get("description"))?null:i.value," ")}}function S(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function I(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function E(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function J(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function G(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div",105)(1,"div",15)(2,"label",106),e._uU(3," Name"),e.qZA(),e._UZ(4,"input",107),e.qZA(),e.TgZ(5,"div",15)(6,"label",108),e._uU(7,"Quote"),e.qZA(),e._UZ(8,"textarea",109),e.qZA(),e.TgZ(9,"div",15)(10,"label",110),e._uU(11,"Photo"),e.qZA(),e.TgZ(12,"input",111),e.NdJ("change",function(i){const r=e.CHM(o).index,c=e.oxw();return e.KtG(c.onTestimonialFileChange(i,r))}),e.qZA(),e.YNc(13,J,4,3,"ng-container",54),e.ALo(14,"async"),e.qZA(),e.TgZ(15,"button",43),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeTestimonial(s))}),e._uU(16,"Remove Testimonial"),e.qZA()()}if(2&n){const o=a.index,t=e.oxw();e.Q6J("formGroupName",o),e.xp6(13),e.Q6J("ngIf",e.lcZ(14,2,t.uploadProgress["testimonial"+o]))}}function L(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"li")(1,"button",43),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeService(s))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA()()}if(2&n){const o=a.$implicit;let t;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value)}}function D(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"li")(1,"button",43),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeBenefit(s))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA()()}if(2&n){const o=a.$implicit;let t;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value)}}function Q(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function Y(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",119),e.qZA()),2&n){const o=e.oxw().$implicit;let t;e.xp6(1),e.Q6J("src",null==(t=o.get("photoURL"))?null:t.value,e.LSH)}}function H(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div",112)(1,"div",15)(2,"label",113),e._uU(3,"Employee Name"),e.qZA(),e._UZ(4,"input",114),e.qZA(),e.TgZ(5,"div",15)(6,"label",113),e._uU(7,"Role"),e.qZA(),e._UZ(8,"input",115),e.qZA(),e.TgZ(9,"div",15)(10,"label",113),e._uU(11,"Bio"),e.qZA(),e._UZ(12,"textarea",116),e.qZA(),e.TgZ(13,"div",15)(14,"label",113),e._uU(15,"Photo"),e.qZA(),e.TgZ(16,"input",117),e.NdJ("change",function(i){const r=e.CHM(o).index,c=e.oxw();return e.KtG(c.onEmployeeFileChange(i,r))}),e.qZA(),e.YNc(17,Q,4,3,"ng-container",54),e.ALo(18,"async"),e.qZA(),e.YNc(19,Y,2,1,"div",54),e.TgZ(20,"button",118),e.NdJ("click",function(){const s=e.CHM(o).index,r=e.oxw();return e.KtG(r.removeEmployee(s))}),e._uU(21,"Remove Employee"),e.qZA()()}if(2&n){const o=a.$implicit,t=a.index,i=e.oxw();let s;e.Q6J("formGroupName",t),e.xp6(2),e.MGl("for","employeeName-",t,""),e.xp6(2),e.MGl("id","employeeName-",t,""),e.xp6(2),e.MGl("for","employeeRole-",t,""),e.xp6(2),e.MGl("id","employeeRole-",t,""),e.xp6(2),e.MGl("for","employeeBio-",t,""),e.xp6(2),e.MGl("id","employeeBio-",t,""),e.xp6(2),e.MGl("for","employeePhoto-",t,""),e.xp6(2),e.MGl("id","employeePhoto-",t,""),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,i.uploadProgress["employee_"+t])),e.xp6(2),e.Q6J("ngIf",null==(s=o.get("photoURL"))?null:s.value)}}const R=function(){return["/admin/gallery-upload"]},$=function(n){return{id:n}};let _=(()=>{class n{constructor(o,t,i,s,r){this.fb=o,this.businessService=t,this.uploadService=i,this.route=s,this.router=r,this.uploadProgress={},this.confirmationMessage="",this.showConfirmation=!1}ngOnInit(){this.initializeForm(),this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),console.log("Business ID:",this.businessId),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({tagline:[""],businessURL:[""],keyWords:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],targetAudience:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[""],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),businessName:["",l.kI.required],address:[""],phone:[""],fax:[""],email:["",l.kI.required],businessHours:[""],socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:[""],teamValues:[""],contactFormDetails:[""],mapDirections:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]}),this.uniqueServiceForm=this.fb.group({name:[""],description:[""]}),this.whyChooseForm=this.fb.group({name:[""],description:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}addTestimonial(){const o=this.fb.group({id:[""],name:[""],quote:[""],photoURL:[""]});this.testimonials().push(o)}removeTestimonial(o){this.testimonials().removeAt(o)}addService(){this.serviceForm.valid&&(this.services().push(this.fb.group(this.serviceForm.value)),this.serviceForm.reset())}removeService(o){this.services().removeAt(o)}addBenefit(){this.benefitsForm.valid&&(this.benefits().push(this.fb.group(this.benefitsForm.value)),this.benefitsForm.reset())}removeBenefit(o){this.benefits().removeAt(o)}addUniqueService(){this.uniqueServiceForm.valid&&(this.uniqueService().push(this.fb.group(this.uniqueServiceForm.value)),this.uniqueServiceForm.reset())}removeUniqueService(o){this.uniqueService().removeAt(o)}addWhyChoose(){this.whyChooseForm.valid&&(this.whyChoose().push(this.fb.group(this.whyChooseForm.value)),this.whyChooseForm.reset())}removeWhyChoose(o){this.whyChoose().removeAt(o)}onEmployeeFileChange(o,t){const i=o.target.files[0];if(i){const{uploadProgress:s,downloadUrl:r}=this.uploadService.uploadFile(i,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=s,r.pipe((0,m.x)(()=>{r.subscribe(c=>{this.employees().at(t).patchValue({photoURL:c})})})).subscribe()}}onTestimonialFileChange(o,t){const i=o.target.files[0];if(i){const{uploadProgress:s,downloadUrl:r}=this.uploadService.uploadFile(i,this.businessId,"testimonail");this.uploadProgress[`testimonails_${t}`]=s,r.pipe((0,m.x)(()=>{r.subscribe(c=>{this.testimonials().at(t).patchValue({photoURL:c})})})).subscribe()}}onFileChange(o,t){const i=o.target.files[0];if(i){let s;s="photoGallery"===t||"testimonial"===t?"gallery":"logoImage"===t||"facilityImages"===t||"lifestyleImages"===t?"business":"employee";const{uploadProgress:r,downloadUrl:c}=this.uploadService.uploadFile(i,this.businessId,s);this.uploadProgress[t]=r,c.pipe((0,m.x)(()=>{c.subscribe(v=>{this.businessForm.patchValue({[t]:v})})})).subscribe()}}loadDefaultData(){this.businessForm=this.fb.group({businessName:["Careful Living AFH",l.kI.required],keyWords:[""],businessURL:[""],tagline:["Caring with compassion"],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors."],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met."],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland"],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff."],targetAudience:["Seniors in need of assisted living services, families looking for quality care for their loved ones."],services:this.fb.array([]),specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests."],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder."],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist."],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:this.fb.array([]),address:["1234 Care St, Compassion City, ST 12345"],phone:["(123) 456-7890"],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",l.kI.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm"],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion."],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities."],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",l.kI.required],serviceBenefits:this.fb.array([]),contactFormDetails:["Name, Email, Phone, Message"],mapDirections:["Included map and directions to our facility."],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([]),isActive:!0})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(o=>{o?(console.log("Business data:",o),this.populateForm(o)):console.error("Business not found")},o=>{console.error("Error loading business data:",o)})}populateForm(o){this.businessForm.patchValue(o),this.employees().clear(),(o.employees??[]).forEach(t=>{const i=this.fb.group({id:[t.id],name:[t.name],role:[t.role],bio:[t.bio],photoURL:[t.photoURL]});this.employees().push(i)}),this.testimonials().clear(),(o.testimonials??[]).forEach(t=>{const i=this.fb.group({id:[t.id],name:[t.name],quote:[t.quote],photoURL:[t.photoURL]});this.testimonials().push(i)}),this.services().clear(),(o.services??[]).forEach(t=>{const i=this.fb.group({name:[t.name]});this.services().push(i)}),this.benefits().clear(),(o.benefits??[]).forEach(t=>{const i=this.fb.group({name:[t.name]});this.benefits().push(i)}),this.uniqueService().clear(),(o.uniqueService??[]).forEach(t=>{const i=this.fb.group({name:[t.name],description:[t.description]});this.uniqueService().push(i)}),this.whyChoose().clear(),(o.whyChoose??[]).forEach(t=>{const i=this.fb.group({name:[t.name],description:[t.description]});this.whyChoose().push(i)})}onSubmit(){if(console.log("submit click"),this.businessForm.valid){const o=this.businessForm.value;console.log("form valid"),this.businessId?this.businessService.updateBusiness(this.businessId,o).then(()=>console.error("Business details updated successfully!")).catch(t=>console.error("Error updating business details",t)):(console.log("Submit else"),this.businessService.createBusiness(o).subscribe(t=>{this.business=t,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,console.log("Business Created with ID: ",this.business?.id),this.business&&this.business.id?this.businessService.updateBusiness(this.business.id,o).then(()=>console.error("Business details updated successfully!")).catch(i=>console.error("Error updating business details",i)):console.error("Business ID is undefined.")}))}else console.log("Business Form  is not valid!")}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(o){o.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(y),e.Y36(C),e.Y36(d.gz),e.Y36(d.F0))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-business"]],decls:260,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","certifications"],["id","certifications","formControlName","certifications",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],[3,"formGroup"],["for","benefitName"],["formControlName","name","id","uniqueSericeName","placeholder","Unique Serice Name ",1,"form-control"],["formControlName","description","id","uniqueSericeDescription","placeholder","Unique Service Description ",1,"form-control"],["type","button",3,"click"],[4,"ngFor","ngForOf"],["formControlName","name","id","whyChooseName","placeholder","Enter Reason ",1,"form-control"],["formControlName","description","id","whyChooseDescription","placeholder","Reason Description ",1,"form-control"],["for","businessStory"],["id","businessStory","formControlName","businessStory",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","facilityImages"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["formArrayName","testimonials"],[3,"formGroupName",4,"ngFor","ngForOf"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage",1,"form-control"],["for","keyServicesHighlights"],["id","keyServicesHighlights","formControlName","keyServicesHighlights",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","teamValues"],["id","teamValues","formControlName","teamValues",1,"form-control"],["for","mission"],["id","mission","formControlName","mission",1,"form-control"],["for","vision"],["id","vision","formControlName","vision",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],["formControlName","name","id","benefitName","placeholder","Enter Benefit name",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],["for","mapDirections"],["id","mapDirections","formControlName","mapDirections",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit"],[1,"progress"],[1,"progress-bar"],[3,"formGroupName"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Business Information"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(4,"ul",2)(5,"li",3)(6,"button",4),e._uU(7,"Basic Information"),e.qZA()(),e.TgZ(8,"li",3)(9,"button",5),e._uU(10,"Our Excellence"),e.qZA()(),e.TgZ(11,"li",3)(12,"button",6),e._uU(13,"Employee Profiles"),e.qZA()(),e.TgZ(14,"li",3)(15,"button",7),e._uU(16,"Photos"),e.qZA()(),e.TgZ(17,"li",3)(18,"button",8),e._uU(19,"Media & Reviews"),e.qZA()(),e.TgZ(20,"li",3)(21,"button",9),e._uU(22,"Home Page"),e.qZA()(),e.TgZ(23,"li",3)(24,"button",10),e._uU(25,"About Us"),e.qZA()(),e.TgZ(26,"li",3)(27,"button",11),e._uU(28,"Services Page"),e.qZA()(),e.TgZ(29,"li",3)(30,"button",12),e._uU(31,"Contact Us Page"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"h2"),e._uU(35,"Business Information"),e.qZA(),e.TgZ(36,"div",15)(37,"label",16),e._uU(38,"Business Name"),e.qZA(),e._UZ(39,"input",17),e.qZA(),e.TgZ(40,"div",15)(41,"label",18),e._uU(42,"Tagline"),e.qZA(),e._UZ(43,"input",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",20),e._uU(46,"Address"),e.qZA(),e._UZ(47,"textarea",21),e.qZA(),e.TgZ(48,"div",15)(49,"label",22),e._uU(50,"Phone"),e.qZA(),e._UZ(51,"input",23),e.qZA(),e.TgZ(52,"div",15)(53,"label",24),e._uU(54,"Fax"),e.qZA(),e._UZ(55,"input",25),e.qZA(),e.TgZ(56,"div",15)(57,"label",26),e._uU(58,"Email"),e.qZA(),e._UZ(59,"input",27),e.qZA(),e.TgZ(60,"div",15)(61,"label",28),e._uU(62,"Web Address"),e.qZA(),e._UZ(63,"input",29),e.qZA(),e.TgZ(64,"div",15)(65,"label",30),e._uU(66,"Business Hours"),e.qZA(),e._UZ(67,"textarea",31),e.qZA(),e.TgZ(68,"div",15)(69,"label",32),e._uU(70,"Key Words"),e.qZA(),e._UZ(71,"textarea",33),e.qZA()(),e.TgZ(72,"div",34)(73,"h2"),e._uU(74,"Certifications"),e.qZA(),e.TgZ(75,"div",15)(76,"label",35),e._uU(77,"Certifications"),e.qZA(),e._UZ(78,"textarea",36),e.qZA(),e.TgZ(79,"h2"),e._uU(80,"Target Audience"),e.qZA(),e.TgZ(81,"div",15)(82,"label",37),e._uU(83,"Target Audience"),e.qZA(),e._UZ(84,"textarea",38),e.qZA(),e.TgZ(85,"h2"),e._uU(86,"Unique Features"),e.qZA(),e.TgZ(87,"div",39)(88,"div",15)(89,"label",40),e._uU(90,"Unique Serivces"),e.qZA(),e._UZ(91,"input",41)(92,"input",42),e.qZA(),e.TgZ(93,"button",43),e.NdJ("click",function(){return i.addUniqueService()}),e._uU(94,"Add Unique Service"),e.qZA()(),e.TgZ(95,"ul"),e.YNc(96,N,8,2,"li",44),e.qZA(),e.TgZ(97,"h2"),e._uU(98,"Why Us Reasons"),e.qZA(),e.TgZ(99,"div",39)(100,"div",15)(101,"label",40),e._uU(102,"Why Choose Us Reasons"),e.qZA(),e._UZ(103,"input",45)(104,"input",46),e.qZA(),e.TgZ(105,"button",43),e.NdJ("click",function(){return i.addWhyChoose()}),e._uU(106,"Add Reason"),e.qZA()(),e.TgZ(107,"ul"),e.YNc(108,B,8,2,"li",44),e.qZA(),e.TgZ(109,"h2"),e._uU(110,"Business Story and Motivation"),e.qZA(),e.TgZ(111,"div",15)(112,"label",47),e._uU(113,"Business Story"),e.qZA(),e._UZ(114,"textarea",48),e.qZA(),e.TgZ(115,"div",15)(116,"label",49),e._uU(117,"Motivation"),e.qZA(),e._UZ(118,"textarea",50),e.qZA()(),e.TgZ(119,"div",51)(120,"h2"),e._uU(121,"Content and Photos"),e.qZA(),e.TgZ(122,"div",15)(123,"label",52),e._uU(124,"Logo Image"),e.qZA(),e.TgZ(125,"input",53),e.NdJ("change",function(r){return i.onFileChange(r,"logoImage")}),e.qZA(),e.YNc(126,S,4,3,"ng-container",54),e.ALo(127,"async"),e.qZA(),e.TgZ(128,"h2"),e._uU(129,"Facility and Lifestyle Images"),e.qZA(),e.TgZ(130,"div",15)(131,"label",55),e._uU(132,"Facility Images"),e.qZA(),e.TgZ(133,"input",56),e.NdJ("change",function(r){return i.onFileChange(r,"facilityImages")}),e.qZA(),e.YNc(134,I,4,3,"ng-container",54),e.ALo(135,"async"),e.qZA(),e.TgZ(136,"div",15)(137,"label",57),e._uU(138,"Lifestyle Images"),e.qZA(),e.TgZ(139,"input",58),e.NdJ("change",function(r){return i.onFileChange(r,"lifestyleImages")}),e.qZA(),e.YNc(140,E,4,3,"ng-container",54),e.ALo(141,"async"),e.qZA(),e.TgZ(142,"h2"),e._uU(143,"Additional Content"),e.qZA(),e.TgZ(144,"div",15)(145,"label",59),e._uU(146,"Photo Gallery:"),e.qZA(),e._UZ(147,"textarea",60),e.qZA(),e.TgZ(148,"h2"),e._uU(149,"Gallery Photos"),e.qZA(),e.TgZ(150,"div",15)(151,"label",59),e._uU(152,"Photo Gallery:"),e.qZA(),e.TgZ(153,"a",61),e._uU(154," Upload Photos to Gallery "),e.qZA()()(),e.TgZ(155,"div",62)(156,"h2"),e._uU(157,"Social Media, Reviews "),e.qZA(),e.TgZ(158,"div",15)(159,"label",63),e._uU(160,"Social Media"),e.qZA(),e._UZ(161,"textarea",64),e.qZA(),e.TgZ(162,"div",15)(163,"label",65),e._uU(164,"Media Features"),e.qZA(),e._UZ(165,"textarea",66),e.qZA(),e.TgZ(166,"div",15)(167,"label",67),e._uU(168,"Ratings"),e.qZA(),e._UZ(169,"textarea",68),e.qZA(),e.TgZ(170,"h2"),e._uU(171,"Testimonials"),e.qZA(),e.TgZ(172,"div",15)(173,"label",69),e._uU(174,"Testimonials"),e.qZA(),e.TgZ(175,"div",70),e.YNc(176,G,17,4,"div",71),e.qZA(),e.TgZ(177,"button",43),e.NdJ("click",function(){return i.addTestimonial()}),e._uU(178,"Add Testimonial"),e.qZA()()(),e.TgZ(179,"div",72)(180,"h2"),e._uU(181,"Home Page"),e.qZA(),e.TgZ(182,"div",15)(183,"label",73),e._uU(184,"Welcome Message"),e.qZA(),e._UZ(185,"textarea",74),e.qZA(),e.TgZ(186,"div",15)(187,"label",75),e._uU(188,"Key Services and Highlights"),e.qZA(),e._UZ(189,"textarea",76),e.qZA()(),e.TgZ(190,"div",77)(191,"h2"),e._uU(192,"About Us Page"),e.qZA(),e.TgZ(193,"div",15)(194,"label",78),e._uU(195,"Our Story"),e.qZA(),e._UZ(196,"textarea",79),e.qZA(),e.TgZ(197,"div",15)(198,"label",80),e._uU(199,"Our Mission"),e.qZA(),e._UZ(200,"textarea",81),e.qZA(),e.TgZ(201,"div",15)(202,"label",82),e._uU(203,"Our Vision"),e.qZA(),e._UZ(204,"textarea",83),e.qZA()(),e.TgZ(205,"div",84)(206,"h2"),e._uU(207,"Services Page"),e.qZA(),e.TgZ(208,"h2"),e._uU(209,"Services and Offerings"),e.qZA(),e.TgZ(210,"div",39)(211,"div",15)(212,"label",85),e._uU(213,"Service Name"),e.qZA(),e._UZ(214,"input",86),e.qZA(),e.TgZ(215,"button",43),e.NdJ("click",function(){return i.addService()}),e._uU(216,"Add Service"),e.qZA()(),e.TgZ(217,"ul"),e.YNc(218,L,6,1,"li",44),e.qZA(),e.TgZ(219,"div",39)(220,"div",15)(221,"label",40),e._uU(222,"Benefit Name"),e.qZA(),e._UZ(223,"input",87),e.qZA(),e.TgZ(224,"button",43),e.NdJ("click",function(){return i.addBenefit()}),e._uU(225,"Add Benefit"),e.qZA()(),e.TgZ(226,"ul"),e.YNc(227,D,6,1,"li",44),e.qZA(),e.TgZ(228,"div",15)(229,"label",88),e._uU(230,"Special Programs"),e.qZA(),e._UZ(231,"textarea",89),e.qZA(),e.TgZ(232,"div",15)(233,"label",90),e._uU(234,"Tours"),e.qZA(),e._UZ(235,"textarea",91),e.qZA(),e.TgZ(236,"div",15)(237,"label",92),e._uU(238,"Free Consulting"),e.qZA(),e._UZ(239,"textarea",93),e.qZA()(),e.TgZ(240,"div",94)(241,"h2"),e._uU(242,"Contact Us Page"),e.qZA(),e.TgZ(243,"div",15)(244,"label",95),e._uU(245,"Contact Form Details"),e.qZA(),e._UZ(246,"textarea",96),e.qZA(),e.TgZ(247,"div",15)(248,"label",97),e._uU(249,"Map and Directions"),e.qZA(),e._UZ(250,"textarea",98),e.qZA()(),e.TgZ(251,"div",99)(252,"h2"),e._uU(253,"Employee Profiles"),e.qZA(),e.TgZ(254,"div",100),e.YNc(255,H,22,13,"div",101),e.qZA(),e.TgZ(256,"button",43),e.NdJ("click",function(){return i.addEmployee()}),e._uU(257,"Add Employee"),e.qZA()()(),e.TgZ(258,"button",102),e._uU(259,"Submit"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.businessForm),e.xp6(84),e.Q6J("formGroup",i.uniqueServiceForm),e.xp6(9),e.Q6J("ngForOf",i.uniqueService().controls),e.xp6(3),e.Q6J("formGroup",i.whyChooseForm),e.xp6(9),e.Q6J("ngForOf",i.whyChoose().controls),e.xp6(18),e.Q6J("ngIf",e.lcZ(127,16,i.uploadProgress.logoImage)),e.xp6(8),e.Q6J("ngIf",e.lcZ(135,18,i.uploadProgress.facilityImages)),e.xp6(6),e.Q6J("ngIf",e.lcZ(141,20,i.uploadProgress.lifestyleImages)),e.xp6(13),e.Q6J("routerLink",e.DdM(22,R))("queryParams",e.VKq(23,$,i.businessId)),e.xp6(23),e.Q6J("ngForOf",i.testimonials().controls),e.xp6(34),e.Q6J("formGroup",i.serviceForm),e.xp6(8),e.Q6J("ngForOf",i.services().controls),e.xp6(1),e.Q6J("formGroup",i.benefitsForm),e.xp6(8),e.Q6J("ngForOf",i.benefits().controls),e.xp6(28),e.Q6J("ngForOf",i.employees().controls))},dependencies:[p.sg,p.O5,d.rH,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.x0,l.CE,p.Ov],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background-color:var(--background-color);border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color);border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--buttong-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#dddada;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:var(--primary-color);text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:var(--button-color);color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--button-hover-color);color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--primary-color);border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:var(--primary-color)}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();function z(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"Drag and drop images here, or click to select files"),e.qZA())}function W(n,a){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const o=a.$implicit;e.xp6(1),e.Oqu(o.name)}}function K(n,a){if(1&n&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Files to be uploaded:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,W,2,1,"li",4),e.qZA()()),2&n){const o=e.oxw();e.xp6(4),e.Q6J("ngForOf",o.filesToUpload)}}function j(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",6)(2,"div",7),e._uU(3),e.qZA()()()),2&n){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function V(n,a){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.qZA()),2&n){const o=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.s9C("alt",o.key),e.Q6J("src",t.uploadedImages[o.key],e.LSH)}}function X(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,j,4,3,"div",2),e.ALo(2,"async"),e.YNc(3,V,2,2,"div",5),e.qZA()),2&n){const o=a.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.uploadProgress[o.key])),e.xp6(2),e.Q6J("ngIf",t.uploadedImages[o.key])}}let x=(()=>{class n{constructor(o,t,i,s){this.storage=o,this.firestore=t,this.uploadService=i,this.route=s,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[]}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id})}uploadFiles(o){const t=o.target.files;for(let i of t){const{uploadProgress:s,downloadUrl:r}=this.uploadService.uploadFile(i,this.businessId,"gallery");this.uploadProgress[i.name]=s,r.subscribe(c=>{this.uploadedImages[i.name]=c})}}onDragOver(o){o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="copy"}onDragLeave(o){o.preventDefault(),o.stopPropagation()}onDrop(o){o.preventDefault(),o.stopPropagation();const t=Array.from(o.dataTransfer.files);this.filesToUpload=t,this.uploadFiles({target:{files:t}})}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(f.Q1),e.Y36(h.ST),e.Y36(C),e.Y36(d.gz))};static#o=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:7,vars:5,consts:[[1,"upload-container"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("dragover",function(r){return i.onDragOver(r)})("dragleave",function(r){return i.onDragLeave(r)})("drop",function(r){return i.onDrop(r)}),e.YNc(2,z,2,0,"p",2),e.TgZ(3,"input",3),e.NdJ("change",function(r){return i.uploadFiles(r)}),e.qZA()(),e.YNc(4,K,5,1,"div",2),e.YNc(5,X,4,4,"div",4),e.ALo(6,"keyvalue"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.filesToUpload.length),e.xp6(2),e.Q6J("ngIf",i.filesToUpload.length>0),e.xp6(1),e.Q6J("ngForOf",e.lcZ(6,3,i.uploadedImages)))},dependencies:[p.sg,p.O5,p.Ov,p.Nd],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}"]})}return n})();const oe=[{path:"",component:F,canActivate:[(n,a)=>{const o=(0,e.f3M)(U.zQ),t=(0,e.f3M)(d.F0);return o.authState.pipe((0,b.U)(i=>(console.log("User:",i),console.log("Router State:",a),!!i||(t.navigate(["/login"],{queryParams:{returnUrl:a.url}}),!1))))}],children:[{path:"businessList",component:k},{path:"new",component:_},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:x},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:x},{path:":id",component:u(9730).O}]}];let te=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(oe),d.Bz]})}return n})(),ne=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[p.ez,te,l.u5]})}return n})()}}]);