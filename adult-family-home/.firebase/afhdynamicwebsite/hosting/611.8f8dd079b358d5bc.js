"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[611],{6611:(Me,E,u)=>{u.r(E),u.d(E,{AdminModule:()=>Ie});var d=u(177),a=u(4341),m=u(6814),e=u(7705),B=u(1977),f=u(6354),F=u(6340),_=u(8721);let j=(()=>{class n{constructor(o,t){this.afs=o,this.storage=t,this.basePath="businesses",this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}createBusiness(o){console.log("Business Created");const t=this.afs.createId();return this.afs.doc(`${this.basePath}/${t}`).set({...o,id:t}),this.afs.doc(`${this.basePath}/${t}`).valueChanges()}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,f.T)(o=>o.map(t=>{const r=t.payload.doc.data(),s=t.payload.doc.id,{id:i,...c}=r;return{id:s,...c}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,o=>o.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(o){return this.getBusinessData(o)}getBusinessData(o){const t=o&&o.trim()?o:this.defaultBusinessId;return this.afs.collection("businesses").doc(t).snapshotChanges().pipe((0,f.T)(r=>{const s=r.payload.data(),i=r.payload.id;if(s){const{id:c,...g}=s;return{id:i,...g}}}))}updateBusiness(o,t){return this.afs.doc(`${this.basePath}/${o}`).update(t)}deleteBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).delete()}uploadFile(o,t){return this.storage.upload(o,t)}getDownloadURL(o){return this.storage.ref(o).getDownloadURL()}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(F.Qe),e.KVO(_.ap))};static#o=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N=function(){return["/home/"]},G=function(n){return{id:n}};function w(n,l){if(1&n){const o=e.RV6();e.j41(0,"tr")(1,"td")(2,"a",6),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"button",7),e.bIt("click",function(){const s=e.eBV(o).$implicit,i=e.XpG();return e.Njj(i.editBusiness(s.id))}),e.EFF(10,"Edit"),e.k0s(),e.j41(11,"button",8),e.bIt("click",function(){const s=e.eBV(o).$implicit,i=e.XpG();return e.Njj(i.deleteBusiness(s.id))}),e.EFF(12,"Delete"),e.k0s()()()}if(2&n){const o=l.$implicit;e.R7$(2),e.Y8G("routerLink",e.lJ4(5,N))("queryParams",e.eq3(6,G,o.id)),e.R7$(1),e.SpI(" ",o.id," "),e.R7$(2),e.JRh(o.businessName),e.R7$(2),e.JRh(o.isActive)}}let R=(()=>{class n{constructor(o,t){this.businessService=o,this.router=t,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(o=>{this.businesses=o}):this.businessService.getAllBusinesses().subscribe(o=>{this.businesses=o})}editBusiness(o){this.router.navigate(["/admin/edit-business",o])}deleteBusiness(o){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(o,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(t=>console.error("Error deleting business",t))}addNewBusiness(){this.router.navigate(["/admin/new"])}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(j),e.rXU(m.Ix))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-list"]],decls:21,vars:2,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Business List"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return r.addNewBusiness()}),e.EFF(4,"Add New Business"),e.k0s(),e.j41(5,"label",2),e.EFF(6,"Show Active Only"),e.k0s(),e.j41(7,"input",3),e.bIt("ngModelChange",function(i){return r.showActiveOnly=i})("change",function(){return r.loadBusinesses()}),e.k0s(),e.j41(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Name"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Active"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Actions"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,w,13,8,"tr",5),e.k0s()()()),2&t&&(e.R7$(7),e.Y8G("ngModel",r.showActiveOnly),e.R7$(13),e.Y8G("ngForOf",r.businesses))},dependencies:[d.Sq,m.Wk,a.Zm,a.BC,a.vS],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var T=u(4796);let U=(()=>{class n{constructor(o,t){this.router=o,this.authService=t}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(m.Ix),e.rXU(T.u))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],[3,"click"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Admin Dashboard"),e.k0s(),e.j41(3,"div",1)(4,"button",2),e.bIt("click",function(){return r.loadBusinessList()}),e.EFF(5,"View Business List"),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return r.logout()}),e.EFF(7,"Logout"),e.k0s()()(),e.nrm(8,"router-outlet"))},dependencies:[m.n3],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:40px;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();var C=u(980),$=u(1985);let I=(()=>{class n{constructor(o,t){this.storage=o,this.firestore=t}uploadFile(o,t,r){let s;switch(r){case"testimonail":s=`businesses/${t}/testimonail/${o.name}`;break;case"employee":s=`businesses/${t}/employee/${o.name}`;break;case"business":s=`businesses/${t}/business/${o.name}`;break;case"heroImages":s=`businesses/${t}/heroImages/${o.name}`;break;default:s=`businesses/${t}/gallery/${o.name}`}const i=this.storage.ref(s),c=this.storage.upload(s,o);return{uploadProgress:c.percentageChanges().pipe((0,f.T)(b=>b??0)),downloadUrl:new $.c(b=>{c.snapshotChanges().pipe((0,C.j)(()=>{i.getDownloadURL().subscribe(h=>{this.firestore.collection("businesses").doc(t).collection(r).add({url:h}),b.next(h),b.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(_.ap),e.KVO(F.Qe))};static#o=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S=(()=>{class n{ngOnInit(){}ngOnChanges(o){}static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-basic-info"]],inputs:{form:"form"},features:[e.OA$],decls:43,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"]],template:function(t,r){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Business Name"),e.k0s(),e.nrm(6,"input",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Provider Name"),e.k0s(),e.nrm(10,"input",5),e.k0s(),e.j41(11,"div",1)(12,"label",6),e.EFF(13,"Tagline"),e.k0s(),e.nrm(14,"input",7),e.k0s(),e.j41(15,"div",1)(16,"label",8),e.EFF(17,"Address"),e.k0s(),e.nrm(18,"textarea",9),e.k0s(),e.j41(19,"div",1)(20,"label",10),e.EFF(21,"Phone"),e.k0s(),e.nrm(22,"input",11),e.k0s(),e.j41(23,"div",1)(24,"label",12),e.EFF(25,"Fax"),e.k0s(),e.nrm(26,"input",13),e.k0s(),e.j41(27,"div",1)(28,"label",14),e.EFF(29,"Email"),e.k0s(),e.nrm(30,"input",15),e.k0s(),e.j41(31,"div",1)(32,"label",16),e.EFF(33,"Web Address"),e.k0s(),e.nrm(34,"input",17),e.k0s(),e.j41(35,"div",1)(36,"label",18),e.EFF(37,"Business Hours"),e.k0s(),e.nrm(38,"textarea",19),e.k0s(),e.j41(39,"div",1)(40,"label",20),e.EFF(41,"Key Words"),e.k0s(),e.nrm(42,"textarea",21),e.k0s()()),2&t&&e.Y8G("formGroup",r.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})(),A=(()=>{class n{ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-home-page"]],inputs:{form:"form"},decls:11,vars:1,consts:[[3,"formGroup"],[1,"form-group"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage",1,"form-control"],["for","keyServicesHighlights"],["id","keyServicesHighlights","formControlName","keyServicesHighlights",1,"form-control"]],template:function(t,r){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Home Page"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Welcome Message"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Key Services and Highlights"),e.k0s(),e.nrm(10,"textarea",5),e.k0s()()),2&t&&e.Y8G("formGroup",r.form)},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})();function D(n,l){if(1&n){const o=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",15)(3,"input",16),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.addUniqueService())}),e.EFF(5,"Save Unique Service"),e.k0s()()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("formGroup",o.newUniqueServiceForm)}}function q(n,l){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",4),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeUniqueService(s))}),e.EFF(2,"X"),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&n){const o=l.$implicit;let t,r;e.R7$(4),e.JRh(null==(t=o.get("name"))?null:t.value),e.R7$(2),e.SpI(" ",null==(r=o.get("description"))?null:r.value," ")}}function Y(n,l){if(1&n){const o=e.RV6();e.j41(0,"div")(1,"div",0),e.nrm(2,"input",17)(3,"input",18),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.addWhyChoose())}),e.EFF(5,"Save Reason"),e.k0s()()}if(2&n){const o=e.XpG();e.R7$(1),e.Y8G("formGroup",o.newWhyChooseForm)}}function V(n,l){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",4),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeWhyChoose(s))}),e.EFF(2,"X"),e.k0s(),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.EFF(6),e.k0s()}if(2&n){const o=l.$implicit;let t,r;e.R7$(4),e.JRh(null==(t=o.get("name"))?null:t.value),e.R7$(2),e.SpI(" ",null==(r=o.get("description"))?null:r.value," ")}}let L=(()=>{class n{constructor(o){this.fb=o,this.showUniqueServiceForm=!1,this.showWhyChooseForm=!1}ngOnInit(){this.newUniqueServiceForm=this.fb.group({name:[""],description:[""]}),this.newWhyChooseForm=this.fb.group({name:[""],description:[""]})}get uniqueServices(){return this.form.get("uniqueService")}get whyChoose(){return this.form.get("whyChoose")}toggleUniqueServiceForm(){this.showUniqueServiceForm=!this.showUniqueServiceForm}toggleWhyChooseForm(){this.showWhyChooseForm=!this.showWhyChooseForm}addUniqueService(){const o=this.fb.group(this.newUniqueServiceForm.value);this.uniqueServices.push(o),this.newUniqueServiceForm.reset(),this.showUniqueServiceForm=!1}addWhyChoose(){const o=this.fb.group(this.newWhyChooseForm.value);this.whyChoose.push(o),this.newWhyChooseForm.reset(),this.showWhyChooseForm=!1}removeUniqueService(o){this.uniqueServices.removeAt(o)}removeWhyChoose(o){this.whyChoose.removeAt(o)}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(a.ok))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-about-us-page"]],inputs:{form:"form"},decls:39,vars:5,consts:[[3,"formGroup"],[1,"form-group"],["for","certifications"],["id","certifications","formControlName","certifications",1,"form-control"],["type","button",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["for","businessStory"],["id","businessStory","formControlName","businessStory",1,"form-control"],["for","mission"],["id","mission","formControlName","mission",1,"form-control"],["for","vision"],["id","vision","formControlName","vision",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["formControlName","name","placeholder","Unique Service Name",1,"form-control"],["formControlName","description","placeholder","Unique Service Description",1,"form-control"],["formControlName","name","placeholder","Reason Name",1,"form-control"],["formControlName","description","placeholder","Reason Description",1,"form-control"]],template:function(t,r){1&t&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Certifications"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Certifications"),e.k0s(),e.nrm(6,"textarea",3),e.k0s(),e.j41(7,"h2"),e.EFF(8,"Unique Features"),e.k0s(),e.j41(9,"button",4),e.bIt("click",function(){return r.toggleUniqueServiceForm()}),e.EFF(10,"Add Unique Service"),e.k0s(),e.DNE(11,D,6,1,"div",5),e.j41(12,"ul"),e.DNE(13,q,7,2,"li",6),e.k0s(),e.j41(14,"h2"),e.EFF(15,"Why Us Reasons"),e.k0s(),e.j41(16,"button",4),e.bIt("click",function(){return r.toggleWhyChooseForm()}),e.EFF(17,"Add Why Choose Us Reason"),e.k0s(),e.DNE(18,Y,6,1,"div",5),e.j41(19,"ul"),e.DNE(20,V,7,2,"li",6),e.k0s(),e.j41(21,"h2"),e.EFF(22,"About Us Page"),e.k0s(),e.j41(23,"div",1)(24,"label",7),e.EFF(25,"Our Story"),e.k0s(),e.nrm(26,"textarea",8),e.k0s(),e.j41(27,"div",1)(28,"label",9),e.EFF(29,"Our Mission"),e.k0s(),e.nrm(30,"textarea",10),e.k0s(),e.j41(31,"div",1)(32,"label",11),e.EFF(33,"Our Vision"),e.k0s(),e.nrm(34,"textarea",12),e.k0s(),e.j41(35,"div",1)(36,"label",13),e.EFF(37,"Motivation"),e.k0s(),e.nrm(38,"textarea",14),e.k0s()()),2&t&&(e.Y8G("formGroup",r.form),e.R7$(11),e.Y8G("ngIf",r.showUniqueServiceForm),e.R7$(2),e.Y8G("ngForOf",r.uniqueServices.controls),e.R7$(5),e.Y8G("ngIf",r.showWhyChooseForm),e.R7$(2),e.Y8G("ngForOf",r.whyChoose.controls))},dependencies:[d.Sq,d.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}"]})}return n})();var X=u(6697),H=u(5009);const p=function(n){return{invalid:n}};function W(n,l){if(1&n){const o=e.RV6();e.j41(0,"div")(1,"form",2),e.bIt("ngSubmit",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.onSubmit())}),e.j41(2,"div",3)(3,"label",4),e.EFF(4,"Background Color"),e.k0s(),e.nrm(5,"input",5)(6,"input",6),e.k0s(),e.j41(7,"div",3)(8,"label",7),e.EFF(9,"Dark Background Color"),e.k0s(),e.nrm(10,"input",8)(11,"input",9),e.k0s(),e.j41(12,"div",3)(13,"label",10),e.EFF(14,"Primary Color"),e.k0s(),e.nrm(15,"input",11)(16,"input",12),e.k0s(),e.j41(17,"div",3)(18,"label",13),e.EFF(19,"Secondary Color"),e.k0s(),e.nrm(20,"input",14)(21,"input",15),e.k0s(),e.j41(22,"div",3)(23,"label",16),e.EFF(24,"Accent Color"),e.k0s(),e.nrm(25,"input",17)(26,"input",18),e.k0s(),e.j41(27,"div",3)(28,"label",19),e.EFF(29,"Button Color"),e.k0s(),e.nrm(30,"input",20)(31,"input",21),e.k0s(),e.j41(32,"div",3)(33,"label",22),e.EFF(34,"Button Hover Color"),e.k0s(),e.nrm(35,"input",23)(36,"input",24),e.k0s(),e.j41(37,"div",3)(38,"label",25),e.EFF(39,"Text Color"),e.k0s(),e.nrm(40,"input",26)(41,"input",27),e.k0s(),e.j41(42,"div",3)(43,"label",28),e.EFF(44,"Navigation Background Color"),e.k0s(),e.nrm(45,"input",29)(46,"input",30),e.k0s(),e.j41(47,"div",3)(48,"label",31),e.EFF(49,"Navigation Text Color"),e.k0s(),e.nrm(50,"input",32)(51,"input",33),e.k0s(),e.j41(52,"div",3)(53,"label",34),e.EFF(54,"Navigation Active Background"),e.k0s(),e.nrm(55,"input",35)(56,"input",36),e.k0s(),e.j41(57,"div",3)(58,"label",37),e.EFF(59,"Navigation Active Text"),e.k0s(),e.nrm(60,"input",38)(61,"input",39),e.k0s(),e.j41(62,"button",40),e.EFF(63,"Save Changes"),e.k0s(),e.j41(64,"button",41),e.bIt("click",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.resetToDefault())}),e.EFF(65,"Reset to Default"),e.k0s()()()}if(2&n){const o=e.XpG();let t,r,s,i,c,g,v,b,h,y,x,P;e.R7$(1),e.Y8G("formGroup",o.themeForm),e.R7$(5),e.Y8G("ngClass",e.eq3(13,p,null==(t=o.themeForm.get("backgroundColor"))||null==t.errors?null:t.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(15,p,null==(r=o.themeForm.get("backgroundColor"))||null==r.errors?null:r.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(17,p,null==(s=o.themeForm.get("backgroundColor"))||null==s.errors?null:s.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(19,p,null==(i=o.themeForm.get("secondaryColor"))||null==i.errors?null:i.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(21,p,null==(c=o.themeForm.get("accentColor"))||null==c.errors?null:c.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(23,p,null==(g=o.themeForm.get("buttonColor"))||null==g.errors?null:g.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(25,p,null==(v=o.themeForm.get("buttonHoverColor"))||null==v.errors?null:v.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(27,p,null==(b=o.themeForm.get("textColor"))||null==b.errors?null:b.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(29,p,null==(h=o.themeForm.get("navBackgroundColor"))||null==h.errors?null:h.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(31,p,null==(y=o.themeForm.get("navTextColor"))||null==y.errors?null:y.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(33,p,null==(x=o.themeForm.get("navActiveBackground"))||null==x.errors?null:x.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(35,p,null==(P=o.themeForm.get("navActiveText"))||null==P.errors?null:P.errors.invalidHex))}}let z=(()=>{class n{constructor(o,t,r,s){this.themeService=o,this.route=t,this.fb=r,this.router=s}ngOnInit(){this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),this.businessId&&(this.themeColors$=this.themeService.getThemeColors(this.businessId),this.themeForm=this.fb.group({backgroundColor:["",[a.k0.required,this.hexValidator]],darkBackgroundColor:["",[a.k0.required,this.hexValidator]],primaryColor:["",[a.k0.required,this.hexValidator]],secondaryColor:["",[a.k0.required,this.hexValidator]],accentColor:["",[a.k0.required,this.hexValidator]],buttonColor:["",[a.k0.required,this.hexValidator]],buttonHoverColor:["",[a.k0.required,this.hexValidator]],textColor:["",[a.k0.required,this.hexValidator]],navBackgroundColor:["",[a.k0.required,this.hexValidator]],navTextColor:["",[a.k0.required,this.hexValidator]],navActiveBackground:["",[a.k0.required,this.hexValidator]],navActiveText:["",[a.k0.required,this.hexValidator]]}),this.themeColors$.pipe((0,X.s)(1)).subscribe(t=>{this.themeForm.patchValue(t)}))})}hexValidator(o){return/^#([0-9A-F]{3}){1,2}$/i.test(o.value)?null:{invalidHex:!0}}onSubmit(){this.themeForm.valid&&this.themeService.updateColors(this.businessId,this.themeForm.value).then(()=>{console.log("Colors updated successfully")}).catch(t=>{console.error("Error updating colors:",t)})}resetToDefault(){this.themeService.resetToDefaultColors().subscribe(o=>{this.themeForm.patchValue(o)})}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(H.F),e.rXU(m.nX),e.rXU(a.ok),e.rXU(m.Ix))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-color-admin"]],decls:4,vars:1,consts:[[1,"theme-admin-container"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"color-picker"],["for","backgroundColor"],["type","color","id","backgroundColor","formControlName","backgroundColor"],["type","text","formControlName","backgroundColor",1,"hex-input",3,"ngClass"],["for","darkBackgroundColor"],["type","color","id","darkBackgroundColor","formControlName","darkBackgroundColor"],["type","text","formControlName","darkBackgroundColor",1,"hex-input",3,"ngClass"],["for","primaryColor"],["type","color","id","primaryColor","formControlName","primaryColor"],["type","text","formControlName","primaryColor",1,"hex-input",3,"ngClass"],["for","secondaryColor"],["type","color","id","secondaryColor","formControlName","secondaryColor"],["type","text","formControlName","secondaryColor",1,"hex-input",3,"ngClass"],["for","accentColor"],["type","color","id","accentColor","formControlName","accentColor"],["type","text","formControlName","accentColor",1,"hex-input",3,"ngClass"],["for","buttonColor"],["type","color","id","buttonColor","formControlName","buttonColor"],["type","text","formControlName","buttonColor",1,"hex-input",3,"ngClass"],["for","buttonHoverColor"],["type","color","id","buttonHoverColor","formControlName","buttonHoverColor"],["type","text","formControlName","buttonHoverColor",1,"hex-input",3,"ngClass"],["for","textColor"],["type","color","id","textColor","formControlName","textColor"],["type","text","formControlName","textColor",1,"hex-input",3,"ngClass"],["for","navBackgroundColor"],["type","color","id","navBackgroundColor","formControlName","navBackgroundColor"],["type","text","formControlName","navBackgroundColor",1,"hex-input",3,"ngClass"],["for","navTextColor"],["type","color","id","navTextColor","formControlName","navTextColor"],["type","text","formControlName","navTextColor",1,"hex-input",3,"ngClass"],["for","navActiveBackground"],["type","color","id","navActiveBackground","formControlName","navActiveBackground"],["type","text","formControlName","navActiveBackground",1,"hex-input",3,"ngClass"],["for","navActiveText"],["type","color","id","navActiveText","formControlName","navActiveText"],["type","text","formControlName","navActiveText",1,"hex-input",3,"ngClass"],["type","submit"],["type","button",3,"click"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Edit Theme Colors"),e.k0s(),e.DNE(3,W,66,37,"div",1),e.k0s()),2&t&&(e.R7$(3),e.Y8G("ngIf",r.themeForm))},dependencies:[d.YU,d.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],styles:[".theme-admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.color-picker[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:350px}input[type=color][_ngcontent-%COMP%]{width:50px;height:30px;border:none;margin-right:10px}.hex-input[_ngcontent-%COMP%]{width:100px;padding:5px;border:1px solid #ccc}button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}return n})();function J(n,l){if(1&n&&(e.qex(0),e.j41(1,"div",69)(2,"div",70),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function K(n,l){if(1&n&&(e.j41(0,"div",71),e.nrm(1,"img",72),e.k0s()),2&n){const o=e.XpG();e.R7$(1),e.Y8G("src",null==o.business?null:o.business.logoImage,e.B4B)}}function Q(n,l){1&n&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No logo image available."),e.k0s()())}function Z(n,l){if(1&n&&(e.qex(0),e.j41(1,"div",69)(2,"div",70),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function ee(n,l){if(1&n&&e.nrm(0,"img",73),2&n){const o=e.XpG();e.Y8G("src",null==o.business?null:o.business.facilityImages,e.B4B)}}function oe(n,l){if(1&n&&(e.qex(0),e.j41(1,"div",69)(2,"div",70),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function te(n,l){if(1&n&&e.nrm(0,"img",74),2&n){const o=e.XpG();e.Y8G("src",null==o.business?null:o.business.lifestyleImages,e.B4B)}}function ne(n,l){if(1&n&&(e.qex(0),e.j41(1,"div",69)(2,"div",70),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function re(n,l){if(1&n){const o=e.RV6();e.j41(0,"div",75)(1,"div",17)(2,"label",76),e.EFF(3," Name"),e.k0s(),e.nrm(4,"input",77),e.k0s(),e.j41(5,"div",17)(6,"label",78),e.EFF(7,"Quote"),e.k0s(),e.nrm(8,"textarea",79),e.k0s(),e.j41(9,"div",17)(10,"label",80),e.EFF(11,"Photo"),e.k0s(),e.j41(12,"input",81),e.bIt("change",function(r){const i=e.eBV(o).index,c=e.XpG();return e.Njj(c.onTestimonialFileChange(r,i))}),e.k0s(),e.DNE(13,ne,4,3,"ng-container",20),e.nI1(14,"async"),e.k0s(),e.j41(15,"button",43),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeTestimonial(s))}),e.EFF(16,"Remove Testimonial"),e.k0s()()}if(2&n){const o=l.index,t=e.XpG();e.Y8G("formGroupName",o),e.R7$(13),e.Y8G("ngIf",e.bMT(14,2,t.uploadProgress["testimonial"+o]))}}function se(n,l){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",43),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeService(s))}),e.EFF(2,"X"),e.k0s(),e.EFF(3," \xa0 "),e.j41(4,"strong"),e.EFF(5),e.k0s()()}if(2&n){const o=l.$implicit;let t;e.R7$(5),e.JRh(null==(t=o.get("name"))?null:t.value)}}function ie(n,l){if(1&n){const o=e.RV6();e.j41(0,"li")(1,"button",43),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeBenefit(s))}),e.EFF(2,"X"),e.k0s(),e.EFF(3," \xa0 "),e.j41(4,"strong"),e.EFF(5),e.k0s()()}if(2&n){const o=l.$implicit;let t;e.R7$(5),e.JRh(null==(t=o.get("name"))?null:t.value)}}function ae(n,l){if(1&n&&(e.qex(0),e.j41(1,"div",69)(2,"div",70),e.EFF(3),e.k0s()(),e.bVm()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function le(n,l){if(1&n&&(e.j41(0,"div"),e.nrm(1,"img",89),e.k0s()),2&n){const o=e.XpG().$implicit;let t;e.R7$(1),e.Y8G("src",null==(t=o.get("photoURL"))?null:t.value,e.B4B)}}function ce(n,l){if(1&n){const o=e.RV6();e.j41(0,"div",82)(1,"div",17)(2,"label",83),e.EFF(3,"Employee Name"),e.k0s(),e.nrm(4,"input",84),e.k0s(),e.j41(5,"div",17)(6,"label",83),e.EFF(7,"Role"),e.k0s(),e.nrm(8,"input",85),e.k0s(),e.j41(9,"div",17)(10,"label",83),e.EFF(11,"Bio"),e.k0s(),e.nrm(12,"textarea",86),e.k0s(),e.j41(13,"div",17)(14,"label",83),e.EFF(15,"Photo"),e.k0s(),e.j41(16,"input",87),e.bIt("change",function(r){const i=e.eBV(o).index,c=e.XpG();return e.Njj(c.onEmployeeFileChange(r,i))}),e.k0s(),e.DNE(17,ae,4,3,"ng-container",20),e.nI1(18,"async"),e.k0s(),e.DNE(19,le,2,1,"div",20),e.j41(20,"button",88),e.bIt("click",function(){const s=e.eBV(o).index,i=e.XpG();return e.Njj(i.removeEmployee(s))}),e.EFF(21,"Remove Employee"),e.k0s()()}if(2&n){const o=l.$implicit,t=l.index,r=e.XpG();let s;e.Y8G("formGroupName",t),e.R7$(2),e.Mz_("for","employeeName-",t,""),e.R7$(2),e.Mz_("id","employeeName-",t,""),e.R7$(2),e.Mz_("for","employeeRole-",t,""),e.R7$(2),e.Mz_("id","employeeRole-",t,""),e.R7$(2),e.Mz_("for","employeeBio-",t,""),e.R7$(2),e.Mz_("id","employeeBio-",t,""),e.R7$(2),e.Mz_("for","employeePhoto-",t,""),e.R7$(2),e.Mz_("id","employeePhoto-",t,""),e.R7$(1),e.Y8G("ngIf",e.bMT(18,11,r.uploadProgress["employee_"+t])),e.R7$(2),e.Y8G("ngIf",null==(s=o.get("photoURL"))?null:s.value)}}const ue=function(){return["/admin/gallery-upload"]},de=function(n){return{id:n}};let k=(()=>{class n{constructor(o,t,r,s,i,c){this.fb=o,this.businessService=t,this.uploadService=r,this.storage=s,this.route=i,this.router=c,this.uploadProgress={},this.confirmationMessage="",this.showConfirmation=!1,this.uploads=[],this.initializeForm()}ngOnInit(){this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({businessName:["",a.k0.required],address:[""],phone:[""],fax:[""],email:["",a.k0.required],businessHours:[""],tagline:[""],businessURL:[""],providerName:[""],keyWords:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[null],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:[""],teamValues:[""],contactFormDetails:[""],mapIframeUrl:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}addTestimonial(){const o=this.fb.group({id:[""],name:[""],quote:[""],photoURL:[""]});this.testimonials().push(o)}removeTestimonial(o){this.testimonials().removeAt(o)}addService(){this.serviceForm.valid&&(this.services().push(this.fb.group(this.serviceForm.value)),this.serviceForm.reset())}removeService(o){this.services().removeAt(o)}addBenefit(){this.benefitsForm.valid&&(this.benefits().push(this.fb.group(this.benefitsForm.value)),this.benefitsForm.reset())}removeBenefit(o){this.benefits().removeAt(o)}onEmployeeFileChange(o,t){const r=o.target.files[0];if(r){const{uploadProgress:s,downloadUrl:i}=this.uploadService.uploadFile(r,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=s,i.pipe((0,C.j)(()=>{i.subscribe(c=>{this.employees().at(t).patchValue({photoURL:c})})})).subscribe()}}onTestimonialFileChange(o,t){const r=o.target.files[0];if(r){const{uploadProgress:s,downloadUrl:i}=this.uploadService.uploadFile(r,this.businessId,"testimonail");this.uploadProgress[`testimonails_${t}`]=s,i.pipe((0,C.j)(()=>{i.subscribe(c=>{this.testimonials().at(t).patchValue({photoURL:c})})})).subscribe()}}onFileChange(o,t){const r=o.target.files[0];if(r){let s;s="photoGallery"===t?"gallery":"testimonial"===t||"logoImage"===t||"facilityImages"===t||"lifestyleImages"===t?"business":"heroImages"===t?"heroImages":"employee";const{uploadProgress:i,downloadUrl:c}=this.uploadService.uploadFile(r,this.businessId,s);this.uploadProgress[t]=i,c.pipe((0,C.j)(()=>{c.subscribe(g=>{this.businessForm.patchValue({[t]:g})})})).subscribe()}}loadDefaultData(){this.businessForm=this.fb.group({businessName:["Careful Living AFH",a.k0.required],keyWords:[""],businessURL:[""],providerName:["Provider Name"],tagline:["Caring with compassion"],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors."],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met."],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland"],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff."],services:this.fb.array([]),specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests."],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder."],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist."],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:this.fb.array([]),address:["1234 Care St, Compassion City, ST 12345"],phone:["(123) 456-7890"],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",a.k0.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm"],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion."],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities."],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",a.k0.required],serviceBenefits:this.fb.array([]),contactFormDetails:["Name, Email, Phone, Message"],mapIframeUrl:[""],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([]),isActive:!0})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(o=>{o?(this.populateForm(o),o.logoImage&&this.isFirebaseStoragePath(o.logoImage)&&this.storage.refFromURL(o.logoImage).getDownloadURL().subscribe(t=>{o.logoImage=t})):console.error("Business not found")},o=>{console.error("Error loading business data:",o)})}isFirebaseStoragePath(o){return o.startsWith("gs://")||o.includes("firebasestorage.googleapis.com")}populateForm(o){console.log("Logo Image:",o.logoImage),console.log("Lifestyle Images:",o.lifestyleImages),this.businessForm.patchValue(o),this.businessForm.contains("logoImage")||this.businessForm.addControl("logoImage",this.fb.control(null)),this.employees().clear(),(o.employees??[]).forEach(t=>{const r=this.fb.group({id:[t.id],name:[t.name],role:[t.role],bio:[t.bio],photoURL:[t.photoURL]});this.employees().push(r)}),this.testimonials().clear(),(o.testimonials??[]).forEach(t=>{const r=this.fb.group({id:[t.id],name:[t.name],quote:[t.quote],photoURL:[t.photoURL]});this.testimonials().push(r)}),this.services().clear(),(o.services??[]).forEach(t=>{const r=this.fb.group({name:[t.name]});this.services().push(r)}),this.benefits().clear(),(o.benefits??[]).forEach(t=>{const r=this.fb.group({name:[t.name]});this.benefits().push(r)}),this.uniqueService().clear(),(o.uniqueService??[]).forEach(t=>{const r=this.fb.group({name:[t.name],description:[t.description]});this.uniqueService().push(r)}),this.whyChoose().clear(),(o.whyChoose??[]).forEach(t=>{const r=this.fb.group({name:[t.name],description:[t.description]});this.whyChoose().push(r)})}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}onSubmit(){if(this.businessForm.valid){const o=this.businessForm.value;console.log("form valid, this is the form",this.businessForm),this.businessId?this.businessService.updateBusiness(this.businessId,o).then(()=>console.error("Business details updated successfully!")).catch(t=>console.error("Error updating business details",t)):this.businessService.createBusiness(o).subscribe(t=>{this.business=t,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,this.business&&this.business.id?this.businessService.updateBusiness(this.business.id,o).then(()=>console.error("Business details updated successfully!")).catch(r=>console.error("Error updating business details",r)):console.error("Business ID is undefined.")})}}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(o){o.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(a.ok),e.rXU(j),e.rXU(I),e.rXU(_.ap),e.rXU(m.nX),e.rXU(m.Ix))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-business"]],decls:162,vars:28,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","color-theme-tab","data-bs-toggle","tab","data-bs-target","#color-theme","type","button","role","tab","aria-controls","color-theme","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[3,"form"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],[1,"form-group"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["class","existing-logo",4,"ngIf"],["for","facilityImages"],["type","file","id","facilityImages",1,"form-control",3,"change"],[1,"existing-facility-images"],["class","facilityImage","alt","facilityImages",3,"src",4,"ngIf"],["for","lifestyleImages"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],[1,"existing-lifestyle-images"],["class","lifestyleImages","alt","Lifestyle Image",3,"src",4,"ngIf"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["formArrayName","testimonials"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],[3,"formGroup"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],[4,"ngFor","ngForOf"],["for","benefitName"],["formControlName","name","id","benefitName","placeholder","Enter Benefit name",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],["for","mapIframeUrl"],["id","mapIframeUrl","formControlName","mapIframeUrl",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["id","color-theme","role","tabpanel","aria-labelledby","color-theme-tab",1,"tab-pane","fade"],["type","submit"],[1,"progress"],[1,"progress-bar"],[1,"existing-logo"],["alt","Business Logo",1,"logoImage",3,"src"],["alt","facilityImages",1,"facilityImage",3,"src"],["alt","Lifestyle Image",1,"lifestyleImages",3,"src"],[3,"formGroupName"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(4,"ul",2)(5,"li",3)(6,"button",4),e.EFF(7,"Basic Information"),e.k0s()(),e.j41(8,"li",3)(9,"button",5),e.EFF(10,"Home Page"),e.k0s()(),e.j41(11,"li",3)(12,"button",6),e.EFF(13,"Services Page"),e.k0s()(),e.j41(14,"li",3)(15,"button",7),e.EFF(16,"About Us"),e.k0s()(),e.j41(17,"li",3)(18,"button",8),e.EFF(19,"Photos"),e.k0s()(),e.j41(20,"li",3)(21,"button",9),e.EFF(22,"Media & Reviews"),e.k0s()(),e.j41(23,"li",3)(24,"button",10),e.EFF(25,"Contact Us"),e.k0s()(),e.j41(26,"li",3)(27,"button",11),e.EFF(28,"Employee Profiles"),e.k0s()(),e.j41(29,"li",3)(30,"button",12),e.EFF(31,"Color Theme"),e.k0s()()(),e.j41(32,"div",13)(33,"div",14),e.nrm(34,"app-basic-info",15),e.k0s(),e.j41(35,"div",16)(36,"h2"),e.EFF(37,"Content and Photos"),e.k0s(),e.j41(38,"div",17)(39,"label",18),e.EFF(40,"Logo Image"),e.k0s(),e.j41(41,"input",19),e.bIt("change",function(i){return r.onFileChange(i,"logoImage")}),e.k0s(),e.DNE(42,J,4,3,"ng-container",20),e.nI1(43,"async"),e.DNE(44,K,2,1,"div",21),e.DNE(45,Q,3,0,"div",20),e.k0s(),e.j41(46,"h2"),e.EFF(47,"Facility and Lifestyle Images"),e.k0s(),e.j41(48,"div",17)(49,"label",22),e.EFF(50,"Facility Images"),e.k0s(),e.j41(51,"input",23),e.bIt("change",function(i){return r.onFileChange(i,"facilityImages")}),e.k0s(),e.DNE(52,Z,4,3,"ng-container",20),e.nI1(53,"async"),e.j41(54,"div",24),e.DNE(55,ee,1,1,"img",25),e.k0s()(),e.j41(56,"div",17)(57,"label",26),e.EFF(58,"Lifestyle Images"),e.k0s(),e.j41(59,"input",27),e.bIt("change",function(i){return r.onFileChange(i,"lifestyleImages")}),e.k0s(),e.DNE(60,oe,4,3,"ng-container",20),e.nI1(61,"async"),e.j41(62,"div",28),e.DNE(63,te,1,1,"img",29),e.k0s()(),e.j41(64,"h2"),e.EFF(65,"Gallery Description"),e.k0s(),e.j41(66,"div",17)(67,"label",30),e.EFF(68,"Photo Gallery:"),e.k0s(),e.nrm(69,"textarea",31),e.k0s(),e.j41(70,"h2"),e.EFF(71,"Gallery Photos"),e.k0s(),e.j41(72,"div",17)(73,"label",30),e.EFF(74,"Photo Gallery:"),e.k0s(),e.j41(75,"a",32),e.EFF(76," Upload Photos to Gallery "),e.k0s()()(),e.j41(77,"div",33)(78,"h2"),e.EFF(79,"Social Media, Reviews "),e.k0s(),e.j41(80,"div",17)(81,"label",34),e.EFF(82,"Social Media"),e.k0s(),e.nrm(83,"textarea",35),e.k0s(),e.j41(84,"div",17)(85,"label",36),e.EFF(86,"Media Features"),e.k0s(),e.nrm(87,"textarea",37),e.k0s(),e.j41(88,"div",17)(89,"label",38),e.EFF(90,"Ratings"),e.k0s(),e.nrm(91,"textarea",39),e.k0s(),e.j41(92,"h2"),e.EFF(93,"Testimonials"),e.k0s(),e.j41(94,"div",17)(95,"label",40),e.EFF(96,"Testimonials"),e.k0s(),e.j41(97,"div",41),e.DNE(98,re,17,4,"div",42),e.k0s(),e.j41(99,"button",43),e.bIt("click",function(){return r.addTestimonial()}),e.EFF(100,"Add Testimonial"),e.k0s()()(),e.j41(101,"div",44),e.nrm(102,"app-home-page",15),e.k0s(),e.j41(103,"div",45),e.nrm(104,"app-about-us-page",15),e.k0s(),e.j41(105,"div",46)(106,"h2"),e.EFF(107,"Services Page"),e.k0s(),e.j41(108,"h2"),e.EFF(109,"Services and Offerings"),e.k0s(),e.j41(110,"div",47)(111,"div",17)(112,"label",48),e.EFF(113,"Service Name"),e.k0s(),e.nrm(114,"input",49),e.k0s(),e.j41(115,"button",43),e.bIt("click",function(){return r.addService()}),e.EFF(116,"Add Service"),e.k0s()(),e.j41(117,"ul"),e.DNE(118,se,6,1,"li",50),e.k0s(),e.j41(119,"div",47)(120,"div",17)(121,"label",51),e.EFF(122,"Benefit Name"),e.k0s(),e.nrm(123,"input",52),e.k0s(),e.j41(124,"button",43),e.bIt("click",function(){return r.addBenefit()}),e.EFF(125,"Add Benefit"),e.k0s()(),e.j41(126,"ul"),e.DNE(127,ie,6,1,"li",50),e.k0s(),e.j41(128,"div",17)(129,"label",53),e.EFF(130,"Special Programs"),e.k0s(),e.nrm(131,"textarea",54),e.k0s(),e.j41(132,"div",17)(133,"label",55),e.EFF(134,"Tours"),e.k0s(),e.nrm(135,"textarea",56),e.k0s(),e.j41(136,"div",17)(137,"label",57),e.EFF(138,"Free Consulting"),e.k0s(),e.nrm(139,"textarea",58),e.k0s()(),e.j41(140,"div",59)(141,"h2"),e.EFF(142,"Contact Us Page"),e.k0s(),e.j41(143,"div",17)(144,"label",60),e.EFF(145,"Contact Form Details"),e.k0s(),e.nrm(146,"textarea",61),e.k0s(),e.j41(147,"div",17)(148,"label",62),e.EFF(149,"Google Map"),e.k0s(),e.nrm(150,"textarea",63),e.k0s()(),e.j41(151,"div",64)(152,"h2"),e.EFF(153,"Employee Profiles"),e.k0s(),e.j41(154,"div",65),e.DNE(155,ce,22,13,"div",66),e.k0s(),e.j41(156,"button",43),e.bIt("click",function(){return r.addEmployee()}),e.EFF(157,"Add Employee"),e.k0s()(),e.j41(158,"div",67),e.nrm(159,"app-color-admin"),e.k0s()(),e.j41(160,"button",68),e.EFF(161,"Save"),e.k0s()()()),2&t&&(e.R7$(3),e.Y8G("formGroup",r.businessForm),e.R7$(31),e.Y8G("form",r.businessForm),e.R7$(8),e.Y8G("ngIf",e.bMT(43,19,r.uploadProgress.logoImage)),e.R7$(2),e.Y8G("ngIf",null==r.business?null:r.business.logoImage),e.R7$(1),e.Y8G("ngIf",!(null!=r.business&&r.business.logoImage)),e.R7$(7),e.Y8G("ngIf",e.bMT(53,21,r.uploadProgress.facilityImages)),e.R7$(3),e.Y8G("ngIf",null==r.business?null:r.business.facilityImages),e.R7$(5),e.Y8G("ngIf",e.bMT(61,23,r.uploadProgress.lifestyleImages)),e.R7$(3),e.Y8G("ngIf",null==r.business?null:r.business.lifestyleImages),e.R7$(12),e.Y8G("routerLink",e.lJ4(25,ue))("queryParams",e.eq3(26,de,r.businessId)),e.R7$(23),e.Y8G("ngForOf",r.testimonials().controls),e.R7$(4),e.Y8G("form",r.businessForm),e.R7$(2),e.Y8G("form",r.businessForm),e.R7$(6),e.Y8G("formGroup",r.serviceForm),e.R7$(8),e.Y8G("ngForOf",r.services().controls),e.R7$(1),e.Y8G("formGroup",r.benefitsForm),e.R7$(8),e.Y8G("ngForOf",r.benefits().controls),e.R7$(28),e.Y8G("ngForOf",r.employees().controls))},dependencies:[d.Sq,d.bT,m.Wk,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,S,A,L,z,d.Jj],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}h2[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background-color:var(--background-color);border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color);border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--buttong-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#dddada;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:var(--primary-color);text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px;margin-left:5px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:var(--button-color);color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:5px 10px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--button-hover-color);color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--primary-color);border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:var(--primary-color)}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();var me=u(467),pe=u(8455),ge=u(5558),be=u(8704),he=u(214);function fe(n,l){1&n&&(e.j41(0,"p"),e.EFF(1,"Drag and drop images here, or click to select files"),e.k0s())}function ve(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const o=l.$implicit;e.R7$(1),e.JRh(o.name)}}function _e(n,l){if(1&n&&(e.j41(0,"div")(1,"h3"),e.EFF(2,"Files to be uploaded:"),e.k0s(),e.j41(3,"ul"),e.DNE(4,ve,2,1,"li",10),e.k0s()()),2&n){const o=e.XpG();e.R7$(4),e.Y8G("ngForOf",o.filesToUpload)}}function Ce(n,l){if(1&n&&(e.j41(0,"div")(1,"div",17)(2,"div",18),e.EFF(3),e.k0s()()()),2&n){const o=l.ngIf;e.R7$(2),e.xc7("width",o+"%"),e.R7$(1),e.SpI("",o,"%")}}function Fe(n,l){if(1&n&&(e.j41(0,"div",19),e.nrm(1,"img",20),e.k0s()),2&n){const o=e.XpG().$implicit,t=e.XpG();e.R7$(1),e.FS9("alt",o.key),e.Y8G("src",t.uploadedImages[o.key],e.B4B)}}function ke(n,l){if(1&n&&(e.j41(0,"div"),e.DNE(1,Ce,4,3,"div",8),e.nI1(2,"async"),e.DNE(3,Fe,2,2,"div",16),e.k0s()),2&n){const o=l.$implicit,t=e.XpG();e.R7$(1),e.Y8G("ngIf",e.bMT(2,2,t.uploadProgress[o.key])),e.R7$(2),e.Y8G("ngIf",t.uploadedImages[o.key])}}function ye(n,l){if(1&n){const o=e.RV6();e.j41(0,"div",21),e.bIt("click",function(){const s=e.eBV(o).$implicit,i=e.XpG();return e.Njj(i.onImageClick(s.url))}),e.nrm(1,"img",22),e.k0s()}if(2&n){const o=l.$implicit;e.R7$(1),e.Y8G("src",o.url,e.B4B)}}function xe(n,l){if(1&n){const o=e.RV6();e.j41(0,"app-image-viewer-modal",23),e.bIt("closeModal",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.onCloseModal())}),e.k0s()}if(2&n){const o=e.XpG();e.Y8G("imageUrl",o.selectedImageUrl)}}let M=(()=>{class n{constructor(o,t,r,s,i){this.storage=o,this.firestore=t,this.uploadService=r,this.route=s,this.webContent=i,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[],this.uploadLocation="gallery",this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id,this.loadImages()})}uploadFiles(o){const t=o.target.files;for(let r of t){const{uploadProgress:s,downloadUrl:i}=this.uploadService.uploadFile(r,this.businessId,this.uploadLocation);this.uploadProgress[r.name]=s,i.subscribe(c=>{this.uploadedImages[r.name]=c})}}onDragOver(o){o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="copy"}onDragLeave(o){o.preventDefault(),o.stopPropagation()}onDrop(o){o.preventDefault(),o.stopPropagation();const t=Array.from(o.dataTransfer.files);this.filesToUpload=t,this.uploadFiles({target:{files:t}})}loadImages(){var o=this;this.webContent.getBusinessUploadedImagesById(this.businessId,this.uploadLocation).pipe((0,ge.n)(t=>{const r=t.map(function(){var s=(0,me.A)(function*(i){return(yield o.webContent.checkImageExists(i.url))?i:null});return function(i){return s.apply(this,arguments)}}());return(0,pe.H)(Promise.all(r))}),(0,f.T)(t=>t.filter(r=>null!==r))).subscribe(t=>{this.images=t})}onImageClick(o){this.selectedImageUrl=o}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(_.ap),e.rXU(F.Qe),e.rXU(I),e.rXU(m.nX),e.rXU(be.N))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:25,vars:8,consts:[[1,"upload-container"],[1,"upload-location"],["for","uploadLocation"],["id","uploadLocation",3,"ngModel","ngModelChange","change"],["value","gallery"],["value","heroImages"],["value","lifestyle"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(t,r){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Please upload photos to individual galleryies: Gallery, Hero Images, Lifestyle"),e.k0s(),e.j41(4,"label",2),e.EFF(5,"Select Upload Location:"),e.k0s(),e.j41(6,"select",3),e.bIt("ngModelChange",function(i){return r.uploadLocation=i})("change",function(){return r.loadImages()}),e.j41(7,"option",4),e.EFF(8,"Gallery"),e.k0s(),e.j41(9,"option",5),e.EFF(10,"Hero Images"),e.k0s(),e.j41(11,"option",6),e.EFF(12,"Lifestyle"),e.k0s()()(),e.j41(13,"div",7),e.bIt("dragover",function(i){return r.onDragOver(i)})("dragleave",function(i){return r.onDragLeave(i)})("drop",function(i){return r.onDrop(i)}),e.DNE(14,fe,2,0,"p",8),e.j41(15,"input",9),e.bIt("change",function(i){return r.uploadFiles(i)}),e.k0s()(),e.DNE(16,_e,5,1,"div",8),e.DNE(17,ke,4,4,"div",10),e.nI1(18,"keyvalue"),e.k0s(),e.j41(19,"section",11)(20,"div",12),e.EFF(21,"Explore Our Gallery"),e.k0s(),e.j41(22,"div",13),e.DNE(23,ye,2,1,"div",14),e.k0s()(),e.DNE(24,xe,1,1,"app-image-viewer-modal",15)),2&t&&(e.R7$(6),e.Y8G("ngModel",r.uploadLocation),e.R7$(8),e.Y8G("ngIf",!r.filesToUpload.length),e.R7$(2),e.Y8G("ngIf",r.filesToUpload.length>0),e.R7$(1),e.Y8G("ngForOf",e.bMT(18,6,r.uploadedImages)),e.R7$(6),e.Y8G("ngForOf",r.images),e.R7$(1),e.Y8G("ngIf",r.selectedImageUrl))},dependencies:[d.Sq,d.bT,a.xH,a.y7,a.wz,a.BC,a.vS,he.W,d.Jj,d.lG],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return n})();const Ee=[{path:"",component:U,canActivate:[(n,l)=>{const o=(0,e.WQX)(B.DS),t=(0,e.WQX)(m.Ix);return o.authState.pipe((0,f.T)(r=>!!r||(t.navigate(["/login"],{queryParams:{returnUrl:l.url}}),!1)))}],children:[{path:"businessList",component:R},{path:"new",component:k},{path:"edit-business/:id",component:k},{path:"gallery-upload",component:M},{path:"edit-business/:id",component:k},{path:"gallery-upload",component:M},{path:":id",component:u(9616).B}]}];let je=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[m.iI.forChild(Ee),m.iI]})}return n})(),Ie=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#o=this.\u0275mod=e.$C({type:n});static#t=this.\u0275inj=e.G2t({imports:[d.MD,je,a.YN]})}return n})()}}]);