"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[179],{35:(go,Qn,Ke)=>{Ke.d(Qn,{$:()=>vm,A:()=>we,G:()=>kt,K:()=>Ah,L:()=>$s,N:()=>eo,P:()=>Wm,R:()=>zm,U:()=>et,V:()=>Sa,W:()=>Jc,X:()=>Vh,Y:()=>Lh,Z:()=>Tt,_:()=>Vu,a:()=>ka,a0:()=>Im,a1:()=>ol,a2:()=>ar,a3:()=>wm,a4:()=>Cm,a5:()=>Tm,a6:()=>al,a7:()=>tE,a8:()=>Oe,a9:()=>gn,aA:()=>$c,aB:()=>jt,aC:()=>pe,aD:()=>bo,aE:()=>Pe,aF:()=>Pt,aG:()=>Il,aH:()=>Jm,aI:()=>vE,aJ:()=>fn,aN:()=>Fa,aQ:()=>Kr,aa:()=>Lu,ab:()=>Ra,ac:()=>Bn,ad:()=>xa,ae:()=>ot,af:()=>jn,ag:()=>Ma,ah:()=>Uu,ak:()=>Bu,al:()=>vt,am:()=>VA,ap:()=>eE,aq:()=>kr,as:()=>$A,at:()=>xm,au:()=>Yt,av:()=>Bs,aw:()=>Qe,ax:()=>yt,ay:()=>Dl,az:()=>r_,b:()=>iE,c:()=>Zm,d:()=>Xe,e:()=>Km,f:()=>xt,g:()=>Io,h:()=>mr,i:()=>sE,j:()=>IE,k:()=>l_,l:()=>yo,m:()=>JA,p:()=>on,r:()=>Gm,s:()=>cf,u:()=>Yr});var R=Ke(861),De=Ke(534),k=Ke(58),He=Ke(879),Ot=Ke(582),vn=Ke(537);const on={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const kt=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Yn=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new He.Yd("@firebase/auth");function In(p,...c){nt.logLevel<=He.in.ERROR&&nt.error(`Auth (${De.SDK_VERSION}): ${p}`,...c)}function yt(p,...c){throw Rn(p,...c)}function jt(p,...c){return Rn(p,...c)}function Wr(p,c,d){const g=Object.assign(Object.assign({},Yn()),{[c]:d});return new k.LL("auth","Firebase",g).create(c,{appName:p.name})}function Lt(p){return Wr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lt(p,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&yt(p,"argument-error"),Wr(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rn(p,...c){if("string"!=typeof p){const d=c[0],g=[...c.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return bt.create(p,...c)}function pe(p,c,...d){if(!p)throw Rn(c,...d)}function cn(p){const c="INTERNAL ASSERTION FAILED: "+p;throw In(c),new Error(c)}function Yt(p,c){p||cn(c)}function En(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function hi(){return"http:"===fi()||"https:"===fi()}function fi(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Ni{constructor(c,d){this.shortDelay=c,this.longDelay=d,Yt(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function st(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hi()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(p,c){Yt(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class re{static initialize(c,d,g){this.fetchImpl=c,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Ni(3e4,6e4);function he(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function ie(p,c,d,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,R.Z)(function*(p,c,d,g,v={}){return wt(p,v,(0,R.Z)(function*(){let T={},$={};g&&("GET"===c?$=g:T={body:JSON.stringify(g)});const X=(0,k.xO)(Object.assign({key:p.config.apiKey},$)).slice(1),ge=yield p._getAdditionalHeaders();return ge["Content-Type"]="application/json",p.languageCode&&(ge["X-Firebase-Locale"]=p.languageCode),re.fetch()(ln(p,p.config.apiHost,d,X),Object.assign({method:c,headers:ge,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function wt(p,c,d){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,R.Z)(function*(p,c,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},se),c);try{const v=new Ft(p),T=yield Promise.race([d(),v.promise]);v.clearNetworkTimeout();const $=yield T.json();if("needConfirmation"in $)throw Jt(p,"account-exists-with-different-credential",$);if(T.ok&&!("errorMessage"in $))return $;{const X=T.ok?$.errorMessage:$.error.message,[ge,Ve]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ge)throw Jt(p,"credential-already-in-use",$);if("EMAIL_EXISTS"===ge)throw Jt(p,"email-already-in-use",$);if("USER_DISABLED"===ge)throw Jt(p,"user-disabled",$);const We=g[ge]||ge.toLowerCase().replace(/[_\s]+/g,"-");if(Ve)throw Wr(p,We,Ve);yt(p,We)}}catch(v){if(v instanceof k.ZR)throw v;yt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function $e(p,c,d,g){return St.apply(this,arguments)}function St(){return(St=(0,R.Z)(function*(p,c,d,g,v={}){const T=yield ie(p,c,d,g,v);return"mfaPendingCredential"in T&&yt(p,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function ln(p,c,d,g){const v=`${c}${d}?${g}`;return p.config.emulator?te(p.config,v):`${p.config.apiScheme}://${v}`}function pi(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ft{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(jt(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jt(p,c,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const v=jt(p,c,g);return v.customData._tokenResponse=d,v}function xn(p){return void 0!==p&&void 0!==p.getResponse}function Jn(p){return void 0!==p&&void 0!==p.enterprise}class pr{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return pi(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ji(){return(Ji=(0,R.Z)(function*(p){return(yield ie(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vt(p,c){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,R.Z)(function*(p,c){return ie(p,"GET","/v2/recaptchaConfig",he(p,c))})).apply(this,arguments)}function No(){return(No=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Rr(p,c){return xr.apply(this,arguments)}function xr(){return(xr=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function bn(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Cr(){return(Cr=(0,R.Z)(function*(p,c=!1){const d=(0,k.m9)(p),g=yield d.getIdToken(c),v=ns(g);pe(v&&v.exp&&v.auth_time&&v.iat,d.auth,"internal-error");const T="object"==typeof v.firebase?v.firebase:void 0,$=T?.sign_in_provider;return{claims:v,token:g,authTime:bn(Ln(v.auth_time)),issuedAtTime:bn(Ln(v.iat)),expirationTime:bn(Ln(v.exp)),signInProvider:$||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function Ln(p){return 1e3*Number(p)}function ns(p){const[c,d,g]=p.split(".");if(void 0===c||void 0===d||void 0===g)return In("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,k.tV)(d);return v?JSON.parse(v):(In("Failed to decode base64 JWT payload"),null)}catch(v){return In("Caught error parsing JWT payload as JSON",v?.toString()),null}}function Oo(p){const c=ns(p);return pe(c,"internal-error"),pe(typeof c.exp<"u","internal-error"),pe(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function Xt(p,c){return ki.apply(this,arguments)}function ki(){return(ki=(0,R.Z)(function*(p,c,d=!1){if(d)return c;try{return yield c}catch(g){throw g instanceof k.ZR&&function ko({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Un{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(c);this.timerId=setTimeout((0,R.Z)(function*(){yield d.iteration()}),g)}iteration(){var c=this;return(0,R.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class or{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wn(p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,R.Z)(function*(p){var c;const d=p.auth,g=yield p.getIdToken(),v=yield Xt(p,Rr(d,{idToken:g}));pe(v?.users.length,d,"internal-error");const T=v.users[0];p._notifyReloadListener(T);const $=null!==(c=T.providerUserInfo)&&void 0!==c&&c.length?os(T.providerUserInfo):[],X=function is(p,c){return[...p.filter(g=>!c.some(v=>v.providerId===g.providerId)),...c]}(p.providerData,$),We=!!p.isAnonymous&&!(p.email&&T.passwordHash||X?.length),It={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:X,metadata:new or(T.createdAt,T.lastLoginAt),isAnonymous:We};Object.assign(p,It)})).apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(p){const c=(0,k.m9)(p);yield wn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function os(p){return p.map(c=>{var{providerId:d}=c,g=(0,Ot._T)(c,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function U(){return(U=(0,R.Z)(function*(p,c){const d=yield wt(p,{},(0,R.Z)(function*(){const g=(0,k.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:v,apiKey:T}=p.config,$=ln(p,v,"/v1/token",`key=${T}`),X=yield p._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",re.fetch()($,{method:"POST",headers:X,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function C(){return(C=(0,R.Z)(function*(p,c){return ie(p,"POST","/v2/accounts:revokeToken",he(p,c))})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){pe(c.idToken,"internal-error"),pe(typeof c.idToken<"u","internal-error"),pe(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):Oo(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}updateFromIdToken(c){pe(0!==c.length,"internal-error");const d=Oo(c);this.updateTokensAndExpiration(c,null,d)}getToken(c,d=!1){var g=this;return(0,R.Z)(function*(){return d||!g.accessToken||g.isExpired?(pe(g.refreshToken,c,"user-token-expired"),g.refreshToken?(yield g.refresh(c,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var g=this;return(0,R.Z)(function*(){const{accessToken:v,refreshToken:T,expiresIn:$}=yield function Vo(p,c){return U.apply(this,arguments)}(c,d);g.updateTokensAndExpiration(v,T,Number($))})()}updateTokensAndExpiration(c,d,g){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(c,d){const{refreshToken:g,accessToken:v,expirationTime:T}=d,$=new A;return g&&(pe("string"==typeof g,"internal-error",{appName:c}),$.refreshToken=g),v&&(pe("string"==typeof v,"internal-error",{appName:c}),$.accessToken=v),T&&(pe("number"==typeof T,"internal-error",{appName:c}),$.expirationTime=T),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return cn("not implemented")}}function w(p,c){pe("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class V{constructor(c){var{uid:d,auth:g,stsTokenManager:v}=c,T=(0,Ot._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new or(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,R.Z)(function*(){const g=yield Xt(d,d.stsTokenManager.getToken(d.auth,c));return pe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(c){return function sn(p){return Cr.apply(this,arguments)}(this,c)}reload(){return function Fo(p){return rs.apply(this,arguments)}(this)}_assign(c){this!==c&&(pe(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new V(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var g=this;return(0,R.Z)(function*(){let v=!1;c.idToken&&c.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(c),v=!0),d&&(yield wn(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var c=this;return(0,R.Z)(function*(){if((0,De._isFirebaseServerApp)(c.auth.app))return Promise.reject(Lt(c.auth));const d=yield c.getIdToken();return yield Xt(c,function ts(p,c){return No.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var g,v,T,$,X,ge,Ve,We;const It=null!==(g=d.displayName)&&void 0!==g?g:void 0,yr=null!==(v=d.email)&&void 0!==v?v:void 0,Jr=null!==(T=d.phoneNumber)&&void 0!==T?T:void 0,Rl=null!==($=d.photoURL)&&void 0!==$?$:void 0,Rf=null!==(X=d.tenantId)&&void 0!==X?X:void 0,xl=null!==(ge=d._redirectEventId)&&void 0!==ge?ge:void 0,$a=null!==(Ve=d.createdAt)&&void 0!==Ve?Ve:void 0,h_=null!==(We=d.lastLoginAt)&&void 0!==We?We:void 0,{uid:vr,emailVerified:f_,isAnonymous:dr,providerData:Qu,stsTokenManager:p_}=d;pe(vr&&p_,c,"internal-error");const g_=A.fromJSON(this.name,p_);pe("string"==typeof vr,c,"internal-error"),w(It,c.name),w(yr,c.name),pe("boolean"==typeof f_,c,"internal-error"),pe("boolean"==typeof dr,c,"internal-error"),w(Jr,c.name),w(Rl,c.name),w(Rf,c.name),w(xl,c.name),w($a,c.name),w(h_,c.name);const Ha=new V({uid:vr,auth:c,email:yr,emailVerified:f_,displayName:It,isAnonymous:dr,photoURL:Rl,phoneNumber:Jr,tenantId:Rf,stsTokenManager:g_,createdAt:$a,lastLoginAt:h_});return Qu&&Array.isArray(Qu)&&(Ha.providerData=Qu.map(za=>Object.assign({},za))),xl&&(Ha._redirectEventId=xl),Ha}static _fromIdTokenResponse(c,d,g=!1){return(0,R.Z)(function*(){const v=new A;v.updateFromServerResponse(d);const T=new V({uid:d.localId,auth:c,stsTokenManager:v,isAnonymous:g});return yield wn(T),T})()}static _fromGetAccountInfoResponse(c,d,g){return(0,R.Z)(function*(){const v=d.users[0];pe(void 0!==v.localId,"internal-error");const T=void 0!==v.providerUserInfo?os(v.providerUserInfo):[],$=!(v.email&&v.passwordHash||T?.length),X=new A;X.updateFromIdToken(g);const ge=new V({uid:v.localId,auth:c,stsTokenManager:X,isAnonymous:$}),Ve={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:T,metadata:new or(v.createdAt,v.lastLoginAt),isAnonymous:!(v.email&&v.passwordHash||T?.length)};return Object.assign(ge,Ve),ge})()}}const de=new Map;function Pe(p){Yt(p instanceof Function,"Expected a class definition");let c=de.get(p);return c?(Yt(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,de.set(p,c),c)}const et=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(d,g){var v=this;return(0,R.Z)(function*(){v.storage[d]=g})()}_get(d){var g=this;return(0,R.Z)(function*(){const v=g.storage[d];return void 0===v?null:v})()}_remove(d){var g=this;return(0,R.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function Pt(p,c,d){return`firebase:${p}:${c}:${d}`}class Re{constructor(c,d,g){this.persistence=c,this.auth=d,this.userKey=g;const{config:v,name:T}=this.auth;this.fullUserKey=Pt(this.userKey,v.apiKey,T),this.fullPersistenceKey=Pt("persistence",v.apiKey,T),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,R.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?V._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,R.Z)(function*(){if(d.persistence===c)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,g="authUser"){return(0,R.Z)(function*(){if(!d.length)return new Re(Pe(et),c,g);const v=(yield Promise.all(d.map(function(){var Ve=(0,R.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Ve.apply(this,arguments)}}()))).filter(Ve=>Ve);let T=v[0]||Pe(et);const $=Pt(g,c.config.apiKey,c.name);let X=null;for(const Ve of d)try{const We=yield Ve._get($);if(We){const It=V._fromJSON(c,We);Ve!==T&&(X=It),T=Ve;break}}catch{}const ge=v.filter(Ve=>Ve._shouldAllowMigration);return T._shouldAllowMigration&&ge.length?(T=ge[0],X&&(yield T._set($,X.toJSON())),yield Promise.all(d.map(function(){var Ve=(0,R.Z)(function*(We){if(We!==T)try{yield We._remove($)}catch{}});return function(We){return Ve.apply(this,arguments)}}())),new Re(T,c,g)):new Re(T,c,g)})()}}function $t(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(zt(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(qe(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Ta(c))return"Blackberry";if(Da(c))return"Webos";if(sr(c))return"Safari";if((c.includes("chrome/")||Us(c))&&!c.includes("edge/"))return"Chrome";if(Qe(c))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function qe(p=(0,k.z$)()){return/firefox\//i.test(p)}function sr(p=(0,k.z$)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Us(p=(0,k.z$)()){return/crios\//i.test(p)}function zt(p=(0,k.z$)()){return/iemobile/i.test(p)}function Qe(p=(0,k.z$)()){return/android/i.test(p)}function Ta(p=(0,k.z$)()){return/blackberry/i.test(p)}function Da(p=(0,k.z$)()){return/webos/i.test(p)}function Bs(p=(0,k.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function $c(p=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Y(p=(0,k.z$)()){return Bs(p)||Qe(p)||Da(p)||Ta(p)||/windows phone/i.test(p)||zt(p)}function rt(p,c=[]){let d;switch(p){case"Browser":d=$t((0,k.z$)());break;case"Worker":d=`${$t((0,k.z$)())}-${p}`;break;default:d=p}const g=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${De.SDK_VERSION}/${g}`}class dt{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const g=T=>new Promise(($,X)=>{try{$(c(T))}catch(ge){X(ge)}});g.onAbort=d,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,R.Z)(function*(){if(d.auth.currentUser===c)return;const g=[];try{for(const v of d.queue)yield v(c),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const T of g)try{T()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function Zt(){return(Zt=(0,R.Z)(function*(p,c={}){return ie(p,"GET","/v2/passwordPolicy",he(p,c))})).apply(this,arguments)}class Fi{constructor(c){var d,g,v,T;const $=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=$.minPasswordLength)&&void 0!==d?d:6,$.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=$.maxPasswordLength),void 0!==$.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=$.containsLowercaseCharacter),void 0!==$.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=$.containsUppercaseCharacter),void 0!==$.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=$.containsNumericCharacter),void 0!==$.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=$.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=c.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(T=c.forceUpgradeOnSignin)&&void 0!==T&&T,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,g,v,T,$,X;const ge={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,ge),this.validatePasswordCharacterOptions(c,ge),ge.isValid&&(ge.isValid=null===(d=ge.meetsMinPasswordLength)||void 0===d||d),ge.isValid&&(ge.isValid=null===(g=ge.meetsMaxPasswordLength)||void 0===g||g),ge.isValid&&(ge.isValid=null===(v=ge.containsLowercaseLetter)||void 0===v||v),ge.isValid&&(ge.isValid=null===(T=ge.containsUppercaseLetter)||void 0===T||T),ge.isValid&&(ge.isValid=null===($=ge.containsNumericCharacter)||void 0===$||$),ge.isValid&&(ge.isValid=null===(X=ge.containsNonAlphanumericCharacter)||void 0===X||X),ge}validatePasswordLengthOptions(c,d){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=c.length>=g),v&&(d.meetsMaxPasswordLength=c.length<=v)}validatePasswordCharacterOptions(c,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let v=0;v<c.length;v++)g=c.charAt(v),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(c,d,g,v,T){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=T))}}class js{constructor(c,d,g,v){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(c,d){var g=this;return d&&(this._popupRedirectResolver=Pe(d)),this._initializationPromise=this.queue((0,R.Z)(function*(){var v,T;if(!g._deleted&&(g.persistenceManager=yield Re.create(g,c),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(T=g.currentUser)||void 0===T?void 0:T.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,R.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(c){var d=this;return(0,R.Z)(function*(){try{const g=yield Rr(d,{idToken:c}),v=yield V._fromGetAccountInfoResponse(d,g,c);yield d.directlySetCurrentUser(v)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var d=this;return(0,R.Z)(function*(){var g;if((0,De._isFirebaseServerApp)(d.app)){const X=d.app.settings.authIdToken;return X?new Promise(ge=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(X).then(ge,ge))}):d.directlySetCurrentUser(null)}const v=yield d.assertedPersistence.getCurrentUser();let T=v,$=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const X=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ge=T?._redirectEventId,Ve=yield d.tryRedirectSignIn(c);(!X||X===ge)&&Ve?.user&&(T=Ve.user,$=!0)}if(!T)return d.directlySetCurrentUser(null);if(!T._redirectEventId){if($)try{yield d.beforeStateQueue.runMiddleware(T)}catch(X){T=v,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(X))}return T?d.reloadAndSetCurrentUserOrClear(T):d.directlySetCurrentUser(null)}return pe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===T._redirectEventId?d.directlySetCurrentUser(T):d.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(c){var d=this;return(0,R.Z)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,R.Z)(function*(){try{yield wn(c)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function xo(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,R.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,R.Z)(function*(){if((0,De._isFirebaseServerApp)(d.app))return Promise.reject(Lt(d));const g=c?(0,k.m9)(c):null;return g&&pe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(c,d=!1){var g=this;return(0,R.Z)(function*(){if(!g._deleted)return c&&pe(g.tenantId===c.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(c)),g.queue((0,R.Z)(function*(){yield g.directlySetCurrentUser(c),g.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,R.Z)(function*(){return(0,De._isFirebaseServerApp)(c.app)?Promise.reject(Lt(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var d=this;return(0,De._isFirebaseServerApp)(this.app)?Promise.reject(Lt(this)):this.queue((0,R.Z)(function*(){yield d.assertedPersistence.setPersistence(Pe(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,R.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,R.Z)(function*(){const d=yield function mt(p){return Zt.apply(this,arguments)}(c),g=new Fi(d);null===c.tenantId?c._projectPasswordPolicy=g:c._tenantPasswordPolicies[c.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new k.LL("auth","Firebase",c())}onAuthStateChanged(c,d,g){return this.registerStateListener(this.authStateSubscription,c,d,g)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,g){return this.registerStateListener(this.idTokenSubscription,c,d,g)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const g=this.onAuthStateChanged(()=>{g(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,R.Z)(function*(){if(d.currentUser){const g=yield d.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:g};null!=d.tenantId&&(v.tenantId=d.tenantId),yield function L(p,c){return C.apply(this,arguments)}(d,v)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var g=this;return(0,R.Z)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(d);return null===c?v.removeCurrentUser():v.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,R.Z)(function*(){if(!d.redirectPersistenceManager){const g=c&&Pe(c)||d._popupRedirectResolver;pe(g,d,"argument-error"),d.redirectPersistenceManager=yield Re.create(d,[Pe(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,R.Z)(function*(){var g,v;return d._isInitialized&&(yield d.queue((0,R.Z)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===c?d._currentUser:(null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,R.Z)(function*(){if(c===d.currentUser)return d.queue((0,R.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,g,v){if(this._deleted)return()=>{};const T="function"==typeof d?d:d.next.bind(d);let $=!1;const X=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(X,this,"internal-error"),X.then(()=>{$||T(this.currentUser)}),"function"==typeof d){const ge=c.addObserver(d,g,v);return()=>{$=!0,ge()}}{const ge=c.addObserver(d);return()=>{$=!0,ge()}}}directlySetCurrentUser(c){var d=this;return(0,R.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,R.Z)(function*(){var d;const g={"X-Client-Version":c.clientVersion};c.app.options.appId&&(g["X-Firebase-gmpid"]=c.app.options.appId);const v=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const T=yield c._getAppCheckToken();return T&&(g["X-Firebase-AppCheck"]=T),g})()}_getAppCheckToken(){var c=this;return(0,R.Z)(function*(){var d;const g=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function ir(p,...c){nt.logLevel<=He.in.WARN&&nt.warn(`Auth (${De.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function fn(p){return(0,k.m9)(p)}class ss{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,k.ne)(d=>this.observer=d)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hc={loadJS:()=>(0,R.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cm(p){return Hc.loadJS(p)}function lm(p){return`__${p}${Math.floor(1e6*Math.random())}`}class Ye{constructor(c){this.type="recaptcha-enterprise",this.auth=fn(c)}verify(c="verify",d=!1){var g=this;return(0,R.Z)(function*(){function T(){return T=(0,R.Z)(function*(X){if(!d){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var ge=(0,R.Z)(function*(Ve,We){Vt(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(It=>{if(void 0!==It.recaptchaKey){const yr=new pr(It);return null==X.tenantId?X._agentRecaptchaConfig=yr:X._tenantRecaptchaConfigs[X.tenantId]=yr,Ve(yr.siteKey)}We(new Error("recaptcha Enterprise site key undefined"))}).catch(It=>{We(It)})});return function(Ve,We){return ge.apply(this,arguments)}}())}),T.apply(this,arguments)}function $(X,ge,Ve){const We=window.grecaptcha;Jn(We)?We.enterprise.ready(()=>{We.enterprise.execute(X,{action:c}).then(It=>{ge(It)}).catch(()=>{ge("NO_RECAPTCHA")})}):Ve(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,ge)=>{(function v(X){return T.apply(this,arguments)})(g.auth).then(Ve=>{if(!d&&Jn(window.grecaptcha))$(Ve,X,ge);else{if(typeof window>"u")return void ge(new Error("RecaptchaVerifier is only supported in browser"));let We=function ZI(){return Hc.recaptchaEnterpriseScript}();0!==We.length&&(We+=Ve),cm(We).then(()=>{$(Ve,X,ge)}).catch(It=>{ge(It)})}}).catch(Ve=>{ge(Ve)})})})()}}function KI(p,c,d){return dm.apply(this,arguments)}function dm(){return(dm=(0,R.Z)(function*(p,c,d,g=!1){const v=new Ye(p);let T;try{T=yield v.verify(d)}catch{T=yield v.verify(d,!0)}const $=Object.assign({},c);return Object.assign($,g?{captchaResp:T}:{captchaResponse:T}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}function zc(p,c,d,g){return je.apply(this,arguments)}function je(){return je=(0,R.Z)(function*(p,c,d,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const T=yield KI(p,c,d,"getOobCode"===d);return g(p,T)}return g(p,c).catch(function(){var T=(0,R.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const X=yield KI(p,c,d,"getOobCode"===d);return g(p,X)}return Promise.reject($)});return function($){return T.apply(this,arguments)}}())}),je.apply(this,arguments)}function Ah(p,c,d){const g=fn(p);pe(g._canInitEmulator,g,"emulator-config-failed"),pe(/^https?:\/\//.test(c),g,"invalid-emulator-scheme");const v=!!d?.disableWarnings,T=hm(c),{host:$,port:X}=function Gc(p){const c=hm(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const T=v[1];return{host:T,port:Ru(g.substr(T.length+1))}}{const[T,$]=g.split(":");return{host:T,port:Ru($)}}}(c);g.config.emulator={url:`${T}//${$}${null===X?"":`:${X}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:$,port:X,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Sh(){function p(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function hm(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function Ru(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class $s{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return cn("not implemented")}_getIdTokenResponse(c){return cn("not implemented")}_linkToIdToken(c,d){return cn("not implemented")}_getReauthenticationResolver(c){return cn("not implemented")}}function fm(p,c){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:resetPassword",he(p,c))})).apply(this,arguments)}function Wc(){return(Wc=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Zr(p,c){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Kt(){return(Kt=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:update",he(p,c))})).apply(this,arguments)}function OA(p,c){return pm.apply(this,arguments)}function pm(){return(pm=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithPassword",he(p,c))})).apply(this,arguments)}function Ce(p,c){return xu.apply(this,arguments)}function xu(){return(xu=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:sendOobCode",he(p,c))})).apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(p,c){return Ce(p,c)})).apply(this,arguments)}function xh(p,c){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,R.Z)(function*(p,c){return Ce(p,c)})).apply(this,arguments)}function Nh(p,c){return gm.apply(this,arguments)}function gm(){return(gm=(0,R.Z)(function*(p,c){return Ce(p,c)})).apply(this,arguments)}function mm(){return(mm=(0,R.Z)(function*(p,c){return Ce(p,c)})).apply(this,arguments)}function _m(){return(_m=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithEmailLink",he(p,c))})).apply(this,arguments)}function Nu(){return(Nu=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithEmailLink",he(p,c))})).apply(this,arguments)}class as extends $s{constructor(c,d,g,v=null){super("password",g),this._email=c,this._password=d,this._tenantId=v}static _fromEmailAndPassword(c,d){return new as(c,d,"password")}static _fromEmailAndCode(c,d,g=null){return new as(c,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,R.Z)(function*(){switch(d.signInMethod){case"password":return zc(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",OA);case"emailLink":return function FA(p,c){return _m.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:yt(c,"internal-error")}})()}_linkToIdToken(c,d){var g=this;return(0,R.Z)(function*(){switch(g.signInMethod){case"password":return zc(c,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zr);case"emailLink":return function Mu(p,c){return Nu.apply(this,arguments)}(c,{idToken:d,email:g._email,oobCode:g._password});default:yt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Lo(p,c){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithIdp",he(p,c))})).apply(this,arguments)}class eo extends $s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new eo(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):yt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:v}=d,T=(0,Ot._T)(d,["providerId","signInMethod"]);if(!g||!v)return null;const $=new eo(g,v);return $.idToken=T.idToken||void 0,$.accessToken=T.accessToken||void 0,$.secret=T.secret,$.nonce=T.nonce,$.pendingToken=T.pendingToken||null,$}_getIdTokenResponse(c){return Lo(c,this.buildRequest())}_linkToIdToken(c,d){const g=this.buildRequest();return g.idToken=d,Lo(c,g)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Lo(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,k.xO)(d)}return c}}function kh(){return(kh=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:sendVerificationCode",he(p,c))})).apply(this,arguments)}function Fh(){return(Fh=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithPhoneNumber",he(p,c))})).apply(this,arguments)}function Qc(){return(Qc=(0,R.Z)(function*(p,c){const d=yield $e(p,"POST","/v1/accounts:signInWithPhoneNumber",he(p,c));if(d.temporaryProof)throw Jt(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const ke={USER_NOT_FOUND:"user-not-found"};function Ou(){return(Ou=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithPhoneNumber",he(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ke)})).apply(this,arguments)}class to extends $s{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new to({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new to({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function us(p,c){return Fh.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function ve(p,c){return Qc.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Yc(p,c){return Ou.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:g,verificationCode:v}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:g,code:v}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:g,phoneNumber:v,temporaryProof:T}=c;return g||d||v||T?new to({verificationId:d,verificationCode:g,phoneNumber:v,temporaryProof:T}):null}}class ku{constructor(c){var d,g,v,T,$,X;const ge=(0,k.zd)((0,k.pd)(c)),Ve=null!==(d=ge.apiKey)&&void 0!==d?d:null,We=null!==(g=ge.oobCode)&&void 0!==g?g:null,It=function JI(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=ge.mode)&&void 0!==v?v:null);pe(Ve&&We&&It,"argument-error"),this.apiKey=Ve,this.operation=It,this.code=We,this.continueUrl=null!==(T=ge.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==($=ge.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(X=ge.tenantId)&&void 0!==X?X:null}static parseLink(c){const d=function XI(p){const c=(0,k.zd)((0,k.pd)(p)).link,d=c?(0,k.zd)((0,k.pd)(c)).deep_link_id:null,g=(0,k.zd)((0,k.pd)(p)).deep_link_id;return(g?(0,k.zd)((0,k.pd)(g)).link:null)||g||d||c||p}(c);try{return new ku(d)}catch{return null}}}let Sa=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return as._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const v=ku.parseLink(g);return pe(v,"argument-error"),as._fromEmailAndCode(d,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Xn{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Nr extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Tt extends Nr{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return pe("providerId"in d&&"signInMethod"in d,"argument-error"),eo._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return pe(c.idToken||c.accessToken,"argument-error"),eo._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Tt.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Tt.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:T,nonce:$,providerId:X}=c;if(!g&&!v&&!d&&!T||!X)return null;try{return new Tt(X)._credential({idToken:d,accessToken:g,nonce:$,pendingToken:T})}catch{return null}}}let Jc=(()=>{class p extends Nr{constructor(){super("facebook.com")}static credential(d){return eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Vh=(()=>{class p extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:v}=d;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Lh=(()=>{class p extends Nr{constructor(){super("github.com")}static credential(d){return eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Kr extends $s{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return Lo(c,this.buildRequest())}_linkToIdToken(c,d){const g=this.buildRequest();return g.idToken=d,Lo(c,g)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Lo(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:v,pendingToken:T}=d;return g&&v&&T&&g===v?new Kr(g,T):null}static _create(c,d){return new Kr(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vu extends Xn{constructor(c){pe(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Vu.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Vu.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=Kr.fromJSON(c);return pe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:g}=c;if(!d||!g)return null;try{return Kr._create(g,d)}catch{return null}}}let vm=(()=>{class p extends Nr{constructor(){super("twitter.com")}static credential(d,g){return eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=d;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Xc(p,c){return el.apply(this,arguments)}function el(){return(el=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signUp",he(p,c))})).apply(this,arguments)}class mi{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,g,v=!1){return(0,R.Z)(function*(){const T=yield V._fromIdTokenResponse(c,g,v),$=Pa(g);return new mi({user:T,providerId:$,_tokenResponse:g,operationType:d})})()}static _forOperation(c,d,g){return(0,R.Z)(function*(){yield c._updateTokensIfNecessary(g,!0);const v=Pa(g);return new mi({user:c,providerId:v,_tokenResponse:g,operationType:d})})()}}function Pa(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Im(p){return tl.apply(this,arguments)}function tl(){return(tl=(0,R.Z)(function*(p){var c;if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const d=fn(p);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new mi({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield Xc(d,{returnSecureToken:!0}),v=yield mi._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(v.user),v})).apply(this,arguments)}class nl extends k.ZR{constructor(c,d,g,v){var T;super(d.code,d.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,nl.prototype),this.customData={appName:c.name,tenantId:null!==(T=c.tenantId)&&void 0!==T?T:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(c,d,g,v){return new nl(c,d,g,v)}}function Uh(p,c,d,g){return("reauthenticate"===c?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?nl._fromErrorAndOperation(p,T,c,g):T})}function Em(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function eE(p,c){return _i.apply(this,arguments)}function _i(){return _i=(0,R.Z)(function*(p,c){const d=(0,k.m9)(p);yield il(!0,d,c);const{providerUserInfo:g}=yield function gi(p,c){return Xi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),v=Em(g||[]);return d.providerData=d.providerData.filter(T=>v.has(T.providerId)),v.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),_i.apply(this,arguments)}function Bh(p,c){return rl.apply(this,arguments)}function rl(){return(rl=(0,R.Z)(function*(p,c,d=!1){const g=yield Xt(p,c._linkToIdToken(p.auth,yield p.getIdToken()),d);return mi._forOperation(p,"link",g)})).apply(this,arguments)}function il(p,c,d){return jh.apply(this,arguments)}function jh(){return(jh=(0,R.Z)(function*(p,c,d){yield wn(c);const v=!1===p?"provider-already-linked":"no-such-provider";pe(Em(c.providerData).has(d)===p,c.auth,v)})).apply(this,arguments)}function bm(p,c){return $h.apply(this,arguments)}function $h(){return($h=(0,R.Z)(function*(p,c,d=!1){const{auth:g}=p;if((0,De._isFirebaseServerApp)(g.app))return Promise.reject(Lt(g));const v="reauthenticate";try{const T=yield Xt(p,Uh(g,v,c,p),d);pe(T.idToken,g,"internal-error");const $=ns(T.idToken);pe($,g,"internal-error");const{sub:X}=$;return pe(p.uid===X,g,"user-mismatch"),mi._forOperation(p,v,T)}catch(T){throw"auth/user-not-found"===T?.code&&yt(g,"user-mismatch"),T}})).apply(this,arguments)}function Hh(p,c){return zh.apply(this,arguments)}function zh(){return(zh=(0,R.Z)(function*(p,c,d=!1){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g="signIn",v=yield Uh(p,g,c),T=yield mi._fromIdTokenResponse(p,g,v);return d||(yield p._updateCurrentUser(T.user)),T})).apply(this,arguments)}function ol(p,c){return qh.apply(this,arguments)}function qh(){return(qh=(0,R.Z)(function*(p,c){return Hh(fn(p),c)})).apply(this,arguments)}function ar(p,c){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,R.Z)(function*(p,c){const d=(0,k.m9)(p);return yield il(!1,d,c.providerId),Bh(d,c)})).apply(this,arguments)}function wm(p,c){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,R.Z)(function*(p,c){return bm((0,k.m9)(p),c)})).apply(this,arguments)}function Zh(){return(Zh=(0,R.Z)(function*(p,c){return $e(p,"POST","/v1/accounts:signInWithCustomToken",he(p,c))})).apply(this,arguments)}function Cm(p,c){return Je.apply(this,arguments)}function Je(){return Je=(0,R.Z)(function*(p,c){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const d=fn(p),g=yield function qn(p,c){return Zh.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),v=yield mi._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(v.user),v}),Je.apply(this,arguments)}class ur{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Dt._fromServerResponse(c,d):"totpInfo"in d?er._fromServerResponse(c,d):yt(c,"internal-error")}}class Dt extends ur{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Dt(d)}}class er extends ur{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new er(d)}}function cr(p,c,d){var g;pe((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),pe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(pe(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(pe(d.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function ls(p){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*(p){const c=fn(p);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Tm(p,c,d){return sl.apply(this,arguments)}function sl(){return(sl=(0,R.Z)(function*(p,c,d){const g=fn(p),v={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&cr(g,v,d),yield zc(g,v,"getOobCode",xh)})).apply(this,arguments)}function al(p,c,d){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,R.Z)(function*(p,c,d){yield fm((0,k.m9)(p),{oobCode:c,newPassword:d}).catch(function(){var g=(0,R.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&ls(p),v});return function(v){return g.apply(this,arguments)}}())}),Kh.apply(this,arguments)}function tE(p,c){return pn.apply(this,arguments)}function pn(){return pn=(0,R.Z)(function*(p,c){yield function NA(p,c){return Kt.apply(this,arguments)}((0,k.m9)(p),{oobCode:c})}),pn.apply(this,arguments)}function Oe(p,c){return it.apply(this,arguments)}function it(){return(it=(0,R.Z)(function*(p,c){const d=(0,k.m9)(p),g=yield fm(d,{oobCode:c}),v=g.requestType;switch(pe(v,d,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(g.mfaInfo,d,"internal-error");default:pe(g.email,d,"internal-error")}let T=null;return g.mfaInfo&&(T=ur._fromServerResponse(fn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:T},operation:v}})).apply(this,arguments)}function gn(p,c){return yi.apply(this,arguments)}function yi(){return(yi=(0,R.Z)(function*(p,c){const{data:d}=yield Oe((0,k.m9)(p),c);return d.email})).apply(this,arguments)}function Lu(p,c,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,R.Z)(function*(p,c,d){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g=fn(p),$=yield zc(g,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xc).catch(ge=>{throw"auth/password-does-not-meet-requirements"===ge.code&&ls(p),ge}),X=yield mi._fromIdTokenResponse(g,"signIn",$);return yield g._updateCurrentUser(X.user),X})).apply(this,arguments)}function Ra(p,c,d){return(0,De._isFirebaseServerApp)(p.app)?Promise.reject(Lt(p)):ol((0,k.m9)(p),Sa.credential(c,d)).catch(function(){var g=(0,R.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&ls(p),v});return function(v){return g.apply(this,arguments)}}())}function Bn(p,c,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,R.Z)(function*(p,c,d){const g=fn(p),v={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function T($,X){pe(X.handleCodeInApp,g,"argument-error"),X&&cr(g,$,X)})(v,d),yield zc(g,v,"getOobCode",Nh)})).apply(this,arguments)}function xa(p,c){const d=ku.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}function ot(p,c,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,R.Z)(function*(p,c,d){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g=(0,k.m9)(p),v=Sa.credentialWithLink(c,d||En());return pe(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),ol(g,v)})).apply(this,arguments)}function ds(){return(ds=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:createAuthUri",he(p,c))})).apply(this,arguments)}function jn(p,c){return zs.apply(this,arguments)}function zs(){return zs=(0,R.Z)(function*(p,c){const g={identifier:c,continueUri:hi()?En():"http://localhost"},{signinMethods:v}=yield function Dm(p,c){return ds.apply(this,arguments)}((0,k.m9)(p),g);return v||[]}),zs.apply(this,arguments)}function Ma(p,c){return Li.apply(this,arguments)}function Li(){return Li=(0,R.Z)(function*(p,c){const d=(0,k.m9)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&cr(d.auth,v,c);const{email:T}=yield function Rh(p,c){return Kc.apply(this,arguments)}(d.auth,v);T!==p.email&&(yield p.reload())}),Li.apply(this,arguments)}function Uu(p,c,d){return ul.apply(this,arguments)}function ul(){return ul=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};d&&cr(g.auth,T,d);const{email:$}=yield function kA(p,c){return mm.apply(this,arguments)}(g.auth,T);$!==p.email&&(yield p.reload())}),ul.apply(this,arguments)}function no(){return(no=(0,R.Z)(function*(p,c){return ie(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Bu(p,c){return qs.apply(this,arguments)}function qs(){return qs=(0,R.Z)(function*(p,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const g=(0,k.m9)(p),T={idToken:yield g.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},$=yield Xt(g,function hs(p,c){return no.apply(this,arguments)}(g.auth,T));g.displayName=$.displayName||null,g.photoURL=$.photoUrl||null;const X=g.providerData.find(({providerId:ge})=>"password"===ge);X&&(X.displayName=g.displayName,X.photoURL=g.photoURL),yield g._updateTokensIfNecessary($)}),qs.apply(this,arguments)}function vt(p,c){const d=(0,k.m9)(p);return(0,De._isFirebaseServerApp)(d.auth.app)?Promise.reject(Lt(d.auth)):cl(d,c,null)}function VA(p,c){return cl((0,k.m9)(p),null,c)}function cl(p,c,d){return ll.apply(this,arguments)}function ll(){return ll=(0,R.Z)(function*(p,c,d){const{auth:g}=p,T={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(T.email=c),d&&(T.password=d);const $=yield Xt(p,function Ph(p,c){return Wc.apply(this,arguments)}(g,T));yield p._updateTokensIfNecessary($,!0)}),ll.apply(this,arguments)}class Uo{constructor(c,d,g={}){this.isNewUser=c,this.providerId=d,this.profile=g}}class Gs extends Uo{constructor(c,d,g,v){super(c,d,g),this.username=v}}class ju extends Uo{constructor(c,d){super(c,"facebook.com",d)}}class gr extends Gs{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class LA extends Uo{constructor(c,d){super(c,"google.com",d)}}class Qr extends Gs{constructor(c,d,g){super(c,"twitter.com",d,g)}}function kr(p){const{user:c,_tokenResponse:d}=p;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function _o(p){var c,d;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},T=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const $=null===(d=null===(c=ns(p.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if($)return new Uo(T,"anonymous"!==$&&"custom"!==$?$:null)}if(!g)return null;switch(g){case"facebook.com":return new ju(T,v);case"github.com":return new gr(T,v);case"google.com":return new LA(T,v);case"twitter.com":return new Qr(T,v,p.screenName||null);case"custom":case"anonymous":return new Uo(T,null);default:return new Uo(T,g,v)}}(d)}class Oa{constructor(c,d,g){this.type=c,this.credential=d,this.user=g}static _fromIdtoken(c,d){return new Oa("enroll",c,d)}static _fromMfaPendingCredential(c){return new Oa("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,g;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Oa._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(g=c.multiFactorSession)&&void 0!==g&&g.idToken)return Oa._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Pm{constructor(c,d,g){this.session=c,this.hints=d,this.signInResolver=g}static _fromError(c,d){const g=fn(c),v=d.customData._serverResponse,T=(v.mfaInfo||[]).map(X=>ur._fromServerResponse(g,X));pe(v.mfaPendingCredential,g,"internal-error");const $=Oa._fromMfaPendingCredential(v.mfaPendingCredential);return new Pm($,T,function(){var X=(0,R.Z)(function*(ge){const Ve=yield ge._process(g,$);delete v.mfaInfo,delete v.mfaPendingCredential;const We=Object.assign(Object.assign({},v),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(d.operationType){case"signIn":const It=yield mi._fromIdTokenResponse(g,d.operationType,We);return yield g._updateCurrentUser(It.user),It;case"reauthenticate":return pe(d.user,g,"internal-error"),mi._forOperation(d.user,d.operationType,We);default:yt(g,"internal-error")}});return function(ge){return X.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,R.Z)(function*(){return d.signInResolver(c)})()}}function $A(p,c){var d;const g=(0,k.m9)(p),v=c;return pe(c.customData.operationType,g,"argument-error"),pe(null===(d=v.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Pm._fromError(g,v)}class Rm{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>ur._fromServerResponse(c.auth,g)))})}static _fromUser(c){return new Rm(c)}getSession(){var c=this;return(0,R.Z)(function*(){return Oa._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var g=this;return(0,R.Z)(function*(){const v=c,T=yield g.getSession(),$=yield Xt(g.user,v._process(g.user.auth,T,d));return yield g.user._updateTokensIfNecessary($),g.user.reload()})()}unenroll(c){var d=this;return(0,R.Z)(function*(){const g="string"==typeof c?c:c.uid,v=yield d.user.getIdToken();try{const T=yield Xt(d.user,function GA(p,c){return ie(p,"POST","/v2/accounts/mfaEnrollment:withdraw",he(p,c))}(d.user.auth,{idToken:v,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:$})=>$!==g),yield d.user._updateTokensIfNecessary(T),yield d.user.reload()}catch(T){throw T}})()}}const dl=new WeakMap;function xm(p){const c=(0,k.m9)(p);return dl.has(c)||dl.set(c,Rm._fromUser(c)),dl.get(c)}const Jh="__sak";class rE{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const iE=(()=>{class p extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function WA(){const p=(0,k.z$)();return sr(p)||Bs(p)}()&&function Ee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Y(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),T=this.localCache[g];v!==T&&d(g,T,v)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((X,ge,Ve)=>{this.notifyListeners(X,Ve)});const v=d.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(v);if(d.newValue!==X)null!==d.newValue?this.storage.setItem(v,d.newValue):this.storage.removeItem(v);else if(this.localCache[v]===d.newValue&&!g)return}const T=()=>{const X=this.storage.getItem(v);!g&&this.localCache[v]===X||this.notifyListeners(v,X)},$=this.storage.getItem(v);!function G(){return(0,k.w1)()&&10===document.documentMode}()||$===d.newValue||d.newValue===d.oldValue?T():setTimeout(T,10)}notifyListeners(d,g){this.localCache[d]=g;const v=this.listeners[d];if(v)for(const T of Array.from(v))T(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var v=()=>super._set,T=this;return(0,R.Z)(function*(){yield v().call(T,d,g),T.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,v=this;return(0,R.Z)(function*(){const T=yield g().call(v,d);return v.localCache[d]=JSON.stringify(T),T})()}_remove(d){var g=()=>super._remove,v=this;return(0,R.Z)(function*(){yield g().call(v,d),delete v.localCache[d]})()}}return p.type="LOCAL",p})(),ka=(()=>{class p extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let Mm=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(T=>T.isListeningto(d));if(g)return g;const v=new p(d);return this.receivers.push(v),v}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,R.Z)(function*(){const v=d,{eventId:T,eventType:$,data:X}=v.data,ge=g.handlersMap[$];if(!ge?.size)return;v.ports[0].postMessage({status:"ack",eventId:T,eventType:$});const Ve=Array.from(ge).map(function(){var It=(0,R.Z)(function*(yr){return yr(v.origin,X)});return function(yr){return It.apply(this,arguments)}}()),We=yield function Ui(p){return Promise.all(p.map(function(){var c=(0,R.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return c.apply(this,arguments)}}()))}(Ve);v.ports[0].postMessage({status:"done",eventId:T,eventType:$,response:We})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Fa(p="",c=10){let d="";for(let g=0;g<c;g++)d+=Math.floor(10*Math.random());return p+d}class Nm{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,g=50){var v=this;return(0,R.Z)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let $,X;return new Promise((ge,Ve)=>{const We=Fa("",20);T.port1.start();const It=setTimeout(()=>{Ve(new Error("unsupported_event"))},g);X={messageChannel:T,onMessage(yr){const Jr=yr;if(Jr.data.eventId===We)switch(Jr.data.status){case"ack":clearTimeout(It),$=setTimeout(()=>{Ve(new Error("timeout"))},3e3);break;case"done":clearTimeout($),ge(Jr.data.response);break;default:clearTimeout(It),clearTimeout($),Ve(new Error("invalid_response"))}}},v.handlers.add(X),T.port1.addEventListener("message",X.onMessage),v.target.postMessage({eventType:c,eventId:We,data:d},[T.port2])}).finally(()=>{X&&v.removeMessageHandler(X)})})()}}function $n(){return window}function hl(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function $u(){return($u=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tf="firebaseLocalStorageDb",ps="firebaseLocalStorage",Zs="fbase_key";class Va{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function nf(p,c){return p.transaction([ps],c?"readwrite":"readonly").objectStore(ps)}function Fm(){const p=indexedDB.open(tf,1);return new Promise((c,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(ps,{keyPath:Zs})}catch(v){d(v)}}),p.addEventListener("success",(0,R.Z)(function*(){const g=p.result;g.objectStoreNames.contains(ps)?c(g):(g.close(),yield function ZA(){const p=indexedDB.deleteDatabase(tf);return new Va(p).toPromise()}(),c(yield Fm()))}))})}function Vm(p,c,d){return rf.apply(this,arguments)}function rf(){return(rf=(0,R.Z)(function*(p,c,d){const g=nf(p,!0).put({[Zs]:c,value:d});return new Va(g).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,R.Z)(function*(p,c){const d=nf(p,!1).get(c),g=yield new Va(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function gl(p,c){const d=nf(p,!0).delete(c);return new Va(d).toPromise()}const sE=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,R.Z)(function*(){return d.db||(d.db=yield Fm()),d.db})()}_withRetries(d){var g=this;return(0,R.Z)(function*(){let v=0;for(;;)try{const T=yield g._openDb();return yield d(T)}catch(T){if(v++>3)throw T;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,R.Z)(function*(){return hl()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,R.Z)(function*(){d.receiver=Mm._getInstance(function km(){return hl()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,R.Z)(function*(v,T){return{keyProcessed:(yield d._poll()).includes(T.key)}});return function(v,T){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,R.Z)(function*(v,T){return["keyChanged"]});return function(v,T){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,R.Z)(function*(){var g,v;if(d.activeServiceWorker=yield function ef(){return $u.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Nm(d.activeServiceWorker);const T=yield d.sender._send("ping",{},800);T&&null!==(g=T[0])&&void 0!==g&&g.fulfilled&&null!==(v=T[0])&&void 0!==v&&v.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,R.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Om(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Fm();return yield Vm(d,Jh,"1"),yield gl(d,Jh),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,R.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var v=this;return(0,R.Z)(function*(){return v._withPendingWrite((0,R.Z)(function*(){return yield v._withRetries(T=>Vm(T,d,g)),v.localCache[d]=g,v.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,R.Z)(function*(){const v=yield g._withRetries(T=>function KA(p,c){return pl.apply(this,arguments)}(T,d));return g.localCache[d]=v,v})()}_remove(d){var g=this;return(0,R.Z)(function*(){return g._withPendingWrite((0,R.Z)(function*(){return yield g._withRetries(v=>gl(v,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,R.Z)(function*(){const g=yield d._withRetries($=>{const X=nf($,!1).getAll();return new Va(X).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const v=[],T=new Set;if(0!==g.length)for(const{fbase_key:$,value:X}of g)T.add($),JSON.stringify(d.localCache[$])!==JSON.stringify(X)&&(d.notifyListeners($,X),v.push($));for(const $ of Object.keys(d.localCache))d.localCache[$]&&!T.has($)&&(d.notifyListeners($,null),v.push($));return v})()}notifyListeners(d,g){this.localCache[d]=g;const v=this.listeners[d];if(v)for(const T of Array.from(v))T(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),ml=1e12;class Bm{constructor(c){this.auth=c,this.counter=ml,this._widgets=new Map}render(c,d){const g=this.counter;return this._widgets.set(g,new lE(c,this.auth.name,d||{})),this.counter++,g}reset(c){var d;const g=c||ml;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(c){var d;return(null===(d=this._widgets.get(c||ml))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,R.Z)(function*(){var g;return null===(g=d._widgets.get(c||ml))||void 0===g||g.execute(),""})()}}class lE{constructor(c,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof c?document.getElementById(c):c;pe(v,"argument-error",{appName:d}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function jm(p){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const af=lm("rcb"),QA=new Ni(3e4,6e4);class dE{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=$n().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return pe(function Bi(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&xn($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((g,v)=>{const T=$n().setTimeout(()=>{v(jt(c,"network-request-failed"))},QA.get());$n()[af]=()=>{$n().clearTimeout(T),delete $n()[af];const X=$n().grecaptcha;if(!X||!xn(X))return void v(jt(c,"internal-error"));const ge=X.render;X.render=(Ve,We)=>{const It=ge(Ve,We);return this.counter++,It},this.hostLanguage=d,g(X)},cm(`${function PA(){return Hc.recaptchaV2Script}()}?${(0,k.xO)({onload:af,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(T),v(jt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=$n().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $m{load(c){return(0,R.Z)(function*(){return new Bm(c)})()}clearedOneInstance(){}}const Hm="recaptcha",hE={theme:"light",type:"image"};class zm{constructor(c,d,g=Object.assign({},hE)){this.parameters=g,this.type=Hm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(c),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof d?document.getElementById(d):d;pe(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $m:new dE,this.validateStartingState()}verify(){var c=this;return(0,R.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),g=c.getAssertedRecaptcha();return g.getResponse(d)||new Promise(T=>{const $=X=>{X&&(c.tokenChangeListeners.delete($),T(X))};c.tokenChangeListeners.add($),c.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof c)c(d);else if("string"==typeof c){const g=$n()[c];"function"==typeof g&&g(d)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,R.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,R.Z)(function*(){pe(hi()&&!hl(),c.auth,"internal-error"),yield function qm(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Mo(p){return Ji.apply(this,arguments)}(c.auth);pe(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class uf{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=to._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function cf(p,c,d){return lf.apply(this,arguments)}function lf(){return(lf=(0,R.Z)(function*(p,c,d){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g=fn(p),v=yield La(g,c,(0,k.m9)(d));return new uf(v,T=>ol(g,T))})).apply(this,arguments)}function yo(p,c,d){return _l.apply(this,arguments)}function _l(){return(_l=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);yield il(!1,g,"phone");const v=yield La(g.auth,c,(0,k.m9)(d));return new uf(v,T=>ar(g,T))})).apply(this,arguments)}function Gm(p,c,d){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);if((0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(Lt(g.auth));const v=yield La(g.auth,c,(0,k.m9)(d));return new uf(v,T=>wm(g,T))})).apply(this,arguments)}function La(p,c,d){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,R.Z)(function*(p,c,d){var g;const v=yield d.verify();try{let T;if(pe("string"==typeof v,p,"argument-error"),pe(d.type===Hm,p,"argument-error"),T="string"==typeof c?{phoneNumber:c}:c,"session"in T){const $=T.session;if("phoneNumber"in T)return pe("enroll"===$.type,p,"internal-error"),(yield function HA(p,c){return ie(p,"POST","/v2/accounts/mfaEnrollment:start",he(p,c))}(p,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{pe("signin"===$.type,p,"internal-error");const X=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return pe(X,p,"missing-multi-factor-info"),(yield function aE(p,c){return ie(p,"POST","/v2/accounts/mfaSignIn:start",he(p,c))}(p,{mfaPendingCredential:$.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function Aa(p,c){return kh.apply(this,arguments)}(p,{phoneNumber:T.phoneNumber,recaptchaToken:v});return $}}finally{d._reset()}}),Ua.apply(this,arguments)}function Yr(p,c){return df.apply(this,arguments)}function df(){return(df=(0,R.Z)(function*(p,c){const d=(0,k.m9)(p);if((0,De._isFirebaseServerApp)(d.auth.app))return Promise.reject(Lt(d.auth));yield Bh(d,c)})).apply(this,arguments)}let Wm=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=fn(d)}verifyPhoneNumber(d,g){return La(this.auth,d,(0,k.m9)(g))}static credential(d,g){return to._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:v}=d;return g&&v?to._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function ji(p,c){return c?Pe(c):(pe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Fr extends $s{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Lo(c,this._buildIdpRequest())}_linkToIdToken(c,d){return Lo(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return Lo(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function fE(p){return Hh(p.auth,new Fr(p),p.bypassAuthState)}function pE(p){const{auth:c,user:d}=p;return pe(d,c,"internal-error"),bm(d,new Fr(p),p.bypassAuthState)}function gE(p){return vo.apply(this,arguments)}function vo(){return(vo=(0,R.Z)(function*(p){const{auth:c,user:d}=p;return pe(d,c,"internal-error"),Bh(d,new Fr(p),p.bypassAuthState)})).apply(this,arguments)}class hf{constructor(c,d,g,v,T=!1){this.auth=c,this.resolver=g,this.user=v,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,R.Z)(function*(g,v){c.pendingPromise={resolve:g,reject:v};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(T){c.reject(T)}});return function(g,v){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,R.Z)(function*(){const{urlResponse:g,sessionId:v,postBody:T,tenantId:$,error:X,type:ge}=c;if(X)return void d.reject(X);const Ve={auth:d.auth,requestUri:g,sessionId:v,tenantId:$||void 0,postBody:T||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ge)(Ve))}catch(We){d.reject(We)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return fE;case"linkViaPopup":case"linkViaRedirect":return gE;case"reauthViaPopup":case"reauthViaRedirect":return pE;default:yt(this.auth,"internal-error")}}resolve(c){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mE=new Ni(2e3,1e4);function Zm(p,c,d){return yl.apply(this,arguments)}function yl(){return(yl=(0,R.Z)(function*(p,c,d){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(jt(p,"operation-not-supported-in-this-environment"));const g=fn(p);lt(p,c,Xn);const v=ji(g,d);return new Qm(g,"signInViaPopup",c,v).executeNotNull()})).apply(this,arguments)}function Km(p,c,d){return ff.apply(this,arguments)}function ff(){return(ff=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);if((0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(jt(g.auth,"operation-not-supported-in-this-environment"));lt(g.auth,c,Xn);const v=ji(g.auth,d);return new Qm(g.auth,"reauthViaPopup",c,v,g).executeNotNull()})).apply(this,arguments)}function Xe(p,c,d){return vl.apply(this,arguments)}function vl(){return(vl=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);lt(g.auth,c,Xn);const v=ji(g.auth,d);return new Qm(g.auth,"linkViaPopup",c,v,g).executeNotNull()})).apply(this,arguments)}let Qm=(()=>{class p extends hf{constructor(d,g,v,T,$){super(d,g,T,$),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,R.Z)(function*(){const g=yield d.execute();return pe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,R.Z)(function*(){Yt(1===d.filter.length,"Popup operations only handle one event");const g=Fa();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(v=>{d.reject(v)}),d.resolver._isIframeWebStorageSupported(d.auth,v=>{v||d.reject(jt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,mE.get())};d()}}return p.currentPopupAction=null,p})();const _E="pendingRedirect",Hu=new Map;class yE extends hf{constructor(c,d,g=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,R.Z)(function*(){let g=Hu.get(d.auth._key());if(!g){try{const T=(yield function Ym(p,c){return gs.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;g=()=>Promise.resolve(T)}catch(v){g=()=>Promise.reject(v)}Hu.set(d.auth._key(),g)}return d.bypassAuthState||Hu.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,g=this;return(0,R.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(g,c);if("unknown"!==c.type){if(c.eventId){const v=yield g.auth._redirectUserForId(c.eventId);if(v)return g.user=v,d().call(g,c);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function gs(){return(gs=(0,R.Z)(function*(p,c){const d=me(c),g=Xm(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(d));return yield g._remove(d),v})).apply(this,arguments)}function pf(p,c){return gf.apply(this,arguments)}function gf(){return(gf=(0,R.Z)(function*(p,c){return Xm(p)._set(me(c),"true")})).apply(this,arguments)}function vE(){Hu.clear()}function Jm(p,c){Hu.set(p._key(),c)}function Xm(p){return Pe(p._redirectPersistence)}function me(p){return Pt(_E,p.config.apiKey,p.name)}function xt(p,c,d){return function Ii(p,c,d){return Vr.apply(this,arguments)}(p,c,d)}function Vr(){return(Vr=(0,R.Z)(function*(p,c,d){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g=fn(p);lt(p,c,Xn),yield g._initializationPromise;const v=ji(g,d);return yield pf(v,g),v._openRedirect(g,c,"signInViaRedirect")})).apply(this,arguments)}function mr(p,c,d){return function e_(p,c,d){return Ks.apply(this,arguments)}(p,c,d)}function Ks(){return(Ks=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);if(lt(g.auth,c,Xn),(0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(Lt(g.auth));yield g.auth._initializationPromise;const v=ji(g.auth,d);yield pf(v,g.auth);const T=yield Eo(g);return v._openRedirect(g.auth,c,"reauthViaRedirect",T)})).apply(this,arguments)}function Io(p,c,d){return function mf(p,c,d){return zu.apply(this,arguments)}(p,c,d)}function zu(){return(zu=(0,R.Z)(function*(p,c,d){const g=(0,k.m9)(p);lt(g.auth,c,Xn),yield g.auth._initializationPromise;const v=ji(g.auth,d);yield il(!1,g,c.providerId),yield pf(v,g.auth);const T=yield Eo(g);return v._openRedirect(g.auth,c,"linkViaRedirect",T)})).apply(this,arguments)}function IE(p,c){return t_.apply(this,arguments)}function t_(){return(t_=(0,R.Z)(function*(p,c){return yield fn(p)._initializationPromise,Il(p,c,!1)})).apply(this,arguments)}function Il(p,c){return _r.apply(this,arguments)}function _r(){return(_r=(0,R.Z)(function*(p,c,d=!1){if((0,De._isFirebaseServerApp)(p.app))return Promise.reject(Lt(p));const g=fn(p),v=ji(g,c),$=yield new yE(g,v,d).execute();return $&&!d&&(delete $.user._redirectEventId,yield g._persistUserIfCurrent($.user),yield g._setRedirectUser(null,c)),$})).apply(this,arguments)}function Eo(p){return El.apply(this,arguments)}function El(){return(El=(0,R.Z)(function*(p){const c=Fa(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class bo{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(c,g)&&(d=!0,this.sendToConsumer(c,g),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function EE(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _f(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var g;if(c.error&&!_f(c)){const v=(null===(g=c.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(jt(this.auth,v))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const g=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&g}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(c))}saveEventToCache(c){this.cachedEventUids.add(n_(c)),this.lastProcessedEventTime=Date.now()}}function n_(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function _f({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function r_(p){return qu.apply(this,arguments)}function qu(){return(qu=(0,R.Z)(function*(p,c={}){return ie(p,"GET","/v1/projects",c)})).apply(this,arguments)}const yf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i_=/^https?/;function If(){return(If=(0,R.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield r_(p);for(const d of c)try{if(o_(d))return}catch{}yt(p,"unauthorized-domain")})).apply(this,arguments)}function o_(p){const c=En(),{protocol:d,hostname:g}=new URL(c);if(p.startsWith("chrome-extension://")){const $=new URL(p);return""===$.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&$.hostname===g}if(!i_.test(d))return!1;if(yf.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const Ef=new Ni(3e4,6e4);function bf(){const p=$n().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Gu=null;const wf=new Ni(5e3,15e3),bE="__/auth/iframe",wE="emulator/auth/iframe",Lr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tn(p){const c=p.config;pe(c.authDomain,p,"auth-domain-config-required");const d=c.emulator?te(c,wE):`https://${p.config.authDomain}/${bE}`,g={apiKey:c.apiKey,appName:p.name,v:De.SDK_VERSION},v=Qs.get(p.config.apiHost);v&&(g.eid=v);const T=p._getFrameworks();return T.length&&(g.fw=T.join(",")),`${d}?${(0,k.xO)(g).slice(1)}`}function Cf(){return Cf=(0,R.Z)(function*(p){const c=yield function a_(p){return Gu=Gu||function s_(p){return new Promise((c,d)=>{var g,v,T;function $(){bf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{bf(),d(jt(p,"network-request-failed"))},timeout:Ef.get()})}if(null!==(v=null===(g=$n().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)c(gapi.iframes.getContext());else{if(null===(T=$n().gapi)||void 0===T||!T.load){const X=lm("iframefcb");return $n()[X]=()=>{gapi.load?$():d(jt(p,"network-request-failed"))},cm(`${function RA(){return Hc.gapiScript}()}?onload=${X}`).catch(ge=>d(ge))}$()}}).catch(c=>{throw Gu=null,c})}(p),Gu}(p),d=$n().gapi;return pe(d,p,"internal-error"),c.open({where:document.body,url:Tn(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lr,dontclear:!0},g=>new Promise(function(){var v=(0,R.Z)(function*(T,$){yield g.restyle({setHideOnLeave:!1});const X=jt(p,"network-request-failed"),ge=$n().setTimeout(()=>{$(X)},wf.get());function Ve(){$n().clearTimeout(ge),T(g)}g.ping(Ve).then(Ve,()=>{$(X)})});return function(T,$){return v.apply(this,arguments)}}()))}),Cf.apply(this,arguments)}const TE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bo{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cl="__/auth/handler",Tl="emulator/auth/handler",Tf=encodeURIComponent("fac");function Dl(p,c,d,g,v,T){return Al.apply(this,arguments)}function Al(){return(Al=(0,R.Z)(function*(p,c,d,g,v,T){pe(p.config.authDomain,p,"auth-domain-config-required"),pe(p.config.apiKey,p,"invalid-api-key");const $={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:De.SDK_VERSION,eventId:v};if(c instanceof Xn){c.setDefaultLanguage(p.languageCode),$.providerId=c.providerId||"",(0,k.xb)(c.getCustomParameters())||($.customParameters=JSON.stringify(c.getCustomParameters()));for(const[We,It]of Object.entries(T||{}))$[We]=It}if(c instanceof Nr){const We=c.getScopes().filter(It=>""!==It);We.length>0&&($.scopes=We.join(","))}p.tenantId&&($.tid=p.tenantId);const X=$;for(const We of Object.keys(X))void 0===X[We]&&delete X[We];const ge=yield p._getAppCheckToken(),Ve=ge?`#${Tf}=${encodeURIComponent(ge)}`:"";return`${function SE({config:p}){return p.emulator?te(p,Tl):`https://${p.authDomain}/${Cl}`}(p)}?${(0,k.xO)(X).slice(1)}${Ve}`})).apply(this,arguments)}const ms="webStorageSupport",l_=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=Il,this._overrideRedirectResult=Jm}_openPopup(c,d,g,v){var T=this;return(0,R.Z)(function*(){var $;Yt(null===($=T.eventManagers[c._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const X=yield Dl(c,d,g,En(),v);return function AE(p,c,d,g=500,v=600){const T=Math.max((window.screen.availHeight-v)/2,0).toString(),$=Math.max((window.screen.availWidth-g)/2,0).toString();let X="";const ge=Object.assign(Object.assign({},TE),{width:g.toString(),height:v.toString(),top:T,left:$}),Ve=(0,k.z$)().toLowerCase();d&&(X=Us(Ve)?"_blank":d),qe(Ve)&&(c=c||"http://localhost",ge.scrollbars="yes");const We=Object.entries(ge).reduce((yr,[Jr,Rl])=>`${yr}${Jr}=${Rl},`,"");if(function F(p=(0,k.z$)()){var c;return Bs(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ve)&&"_self"!==X)return function wl(p,c){const d=document.createElement("a");d.href=p,d.target=c;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(c||"",X),new Bo(null);const It=window.open(c||"",X,We);pe(It,p,"popup-blocked");try{It.focus()}catch{}return new Bo(It)}(c,X,Fa())})()}_openRedirect(c,d,g,v){var T=this;return(0,R.Z)(function*(){return yield T._originValidation(c),function Xh(p){$n().location.href=p}(yield Dl(c,d,g,En(),v)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:v,promise:T}=this.eventManagers[d];return v?Promise.resolve(v):(Yt(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(c);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(c){var d=this;return(0,R.Z)(function*(){const g=yield function CE(p){return Cf.apply(this,arguments)}(c),v=new bo(c);return g.register("authEvent",T=>(pe(T?.authEvent,c,"invalid-auth-event"),{status:v.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:v},d.iframes[c._key()]=g,v})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(ms,{type:ms},v=>{var T;const $=null===(T=v?.[0])||void 0===T?void 0:T[ms];void 0!==$&&d(!!$),yt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function vf(p){return If.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Y()||sr()||Bs()}};class YA{constructor(c){this.factorId=c}_process(c,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,g);case"signin":return this._finalizeSignIn(c,d.credential);default:return cn("unexpected MultiFactorSessionType")}}}class Zu extends YA{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Zu(c)}_finalizeEnroll(c,d,g){return function zA(p,c){return ie(p,"POST","/v2/accounts/mfaEnrollment:finalize",he(p,c))}(c,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Lm(p,c){return ie(p,"POST","/v2/accounts/mfaSignIn:finalize",he(p,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let JA=(()=>{class p{constructor(){}static assertion(d){return Zu._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Sl="@firebase/auth";class RE{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,R.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(g=>{c(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,k.Pz)("authIdTokenMaxAge"),function SA(p){Hc=p}({loadJS:p=>new Promise((c,d)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=c,g.onerror=v=>{const T=jt("internal-error");T.customData=v,d(T)},g.type="text/javascript",g.charset="UTF-8",function wo(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Sf(p){(0,De._registerComponent)(new vn.wA("auth",(c,{options:d})=>{const g=c.getProvider("app").getImmediate(),v=c.getProvider("heartbeat"),T=c.getProvider("app-check-internal"),{apiKey:$,authDomain:X}=g.options;pe($&&!$.includes(":"),"invalid-api-key",{appName:g.name});const ge={apiKey:$,authDomain:X,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rt(p)},Ve=new js(g,v,T,ge);return function QI(p,c){const d=c?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Pe);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(g,c?.popupRedirectResolver)}(Ve,d),Ve},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,g)=>{c.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new vn.wA("auth-internal",c=>{const d=fn(c.getProvider("auth").getImmediate());return new RE(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(Sl,"1.7.4",function Ku(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,De.registerVersion)(Sl,"1.7.4","esm2017")}("Browser")},58:(go,Qn,Ke)=>{Ke.d(Qn,{BH:()=>Wr,G6:()=>Ni,L:()=>Rt,LL:()=>ie,P0:()=>In,Pz:()=>jt,Sg:()=>Lt,UG:()=>pe,ZB:()=>ze,ZR:()=>he,aH:()=>yt,b$:()=>En,eu:()=>re,hl:()=>te,jU:()=>cn,m9:()=>Vo,ne:()=>Rr,pd:()=>gi,r3:()=>xn,ru:()=>Yt,tV:()=>fe,uI:()=>Rn,vZ:()=>Ji,w1:()=>fi,xO:()=>ts,xb:()=>pr,z$:()=>lt,zd:()=>No});const He=function(U){const L=[];let C=0;for(let A=0;A<U.length;A++){let w=U.charCodeAt(A);w<128?L[C++]=w:w<2048?(L[C++]=w>>6|192,L[C++]=63&w|128):55296==(64512&w)&&A+1<U.length&&56320==(64512&U.charCodeAt(A+1))?(w=65536+((1023&w)<<10)+(1023&U.charCodeAt(++A)),L[C++]=w>>18|240,L[C++]=w>>12&63|128,L[C++]=w>>6&63|128,L[C++]=63&w|128):(L[C++]=w>>12|224,L[C++]=w>>6&63|128,L[C++]=63&w|128)}return L},vn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let w=0;w<U.length;w+=3){const V=U[w],de=w+1<U.length,Pe=de?U[w+1]:0,Le=w+2<U.length,et=Le?U[w+2]:0;let $t=(15&Pe)<<2|et>>6,qe=63&et;Le||(qe=64,de||($t=64)),A.push(C[V>>2],C[(3&V)<<4|Pe>>4],C[$t],C[qe])}return A.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(He(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let C=0,A=0;for(;C<U.length;){const w=U[C++];if(w<128)L[A++]=String.fromCharCode(w);else if(w>191&&w<224){const V=U[C++];L[A++]=String.fromCharCode((31&w)<<6|63&V)}else if(w>239&&w<365){const Le=((7&w)<<18|(63&U[C++])<<12|(63&U[C++])<<6|63&U[C++])-65536;L[A++]=String.fromCharCode(55296+(Le>>10)),L[A++]=String.fromCharCode(56320+(1023&Le))}else{const V=U[C++],de=U[C++];L[A++]=String.fromCharCode((15&w)<<12|(63&V)<<6|63&de)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const C=L?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let w=0;w<U.length;){const V=C[U.charAt(w++)],Pe=w<U.length?C[U.charAt(w)]:0;++w;const et=w<U.length?C[U.charAt(w)]:64;++w;const Re=w<U.length?C[U.charAt(w)]:64;if(++w,null==V||null==Pe||null==et||null==Re)throw new Vn;A.push(V<<2|Pe>>4),64!==et&&(A.push(Pe<<4&240|et>>2),64!==Re&&A.push(et<<6&192|Re))}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Vn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rt=function(U){return function(U){const L=He(U);return vn.encodeByteArray(L,!0)}(U).replace(/\./g,"")},fe=function(U){try{return vn.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function ze(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const C in L)!L.hasOwnProperty(C)||!ct(C)||(U[C]=ze(U[C],L[C]));return U}function ct(U){return"__proto__"!==U}const nt=()=>{try{return function kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=U&&fe(U[1]);return L&&JSON.parse(L)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},In=U=>{const L=(U=>{var L,C;return null===(C=null===(L=nt())||void 0===L?void 0:L.emulatorHosts)||void 0===C?void 0:C[U]})(U);if(!L)return;const C=L.lastIndexOf(":");if(C<=0||C+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const A=parseInt(L.substring(C+1),10);return"["===L[0]?[L.substring(1,C-1),A]:[L.substring(0,C),A]},yt=()=>{var U;return null===(U=nt())||void 0===U?void 0:U.config},jt=U=>{var L;return null===(L=nt())||void 0===L?void 0:L[`_${U}`]};class Wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,C)=>{this.resolve=L,this.reject=C})}wrapCallback(L){return(C,A)=>{C?this.reject(C):this.resolve(A),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(C):L(C,A))}}}function Lt(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const A=L||"demo-project",w=U.iat||0,V=U.sub||U.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${A}`,aud:A,iat:w,exp:w+3600,auth_time:w,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Rt(JSON.stringify({alg:"none",type:"JWT"})),Rt(JSON.stringify(de)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function pe(){var U;const L=null===(U=nt())||void 0===U?void 0:U.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function cn(){return"object"==typeof self&&self.self===self}function Yt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function En(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fi(){const U=lt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ni(){return!pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((U,L)=>{try{let C=!0;const A="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(A);w.onsuccess=()=>{w.result.close(),C||self.indexedDB.deleteDatabase(A),U(!0)},w.onupgradeneeded=()=>{C=!1},w.onerror=()=>{var V;L((null===(V=w.error)||void 0===V?void 0:V.message)||"")}}catch(C){L(C)}})}class he extends Error{constructor(L,C,A){super(C),this.code=L,this.customData=A,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ie.prototype.create)}}class ie{constructor(L,C,A){this.service=L,this.serviceName=C,this.errors=A}create(L,...C){const A=C[0]||{},w=`${this.service}/${L}`,V=this.errors[L],de=V?function xe(U,L){return U.replace(wt,(C,A)=>{const w=L[A];return null!=w?String(w):`<${A}?>`})}(V,A):"Error";return new he(w,`${this.serviceName}: ${de} (${w}).`,A)}}const wt=/\{\$([^}]+)}/g;function xn(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function pr(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function Ji(U,L){if(U===L)return!0;const C=Object.keys(U),A=Object.keys(L);for(const w of C){if(!A.includes(w))return!1;const V=U[w],de=L[w];if(Vt(V)&&Vt(de)){if(!Ji(V,de))return!1}else if(V!==de)return!1}for(const w of A)if(!C.includes(w))return!1;return!0}function Vt(U){return null!==U&&"object"==typeof U}function ts(U){const L=[];for(const[C,A]of Object.entries(U))Array.isArray(A)?A.forEach(w=>{L.push(encodeURIComponent(C)+"="+encodeURIComponent(w))}):L.push(encodeURIComponent(C)+"="+encodeURIComponent(A));return L.length?"&"+L.join("&"):""}function No(U){const L={};return U.replace(/^\?/,"").split("&").forEach(A=>{if(A){const[w,V]=A.split("=");L[decodeURIComponent(w)]=decodeURIComponent(V)}}),L}function gi(U){const L=U.indexOf("?");if(!L)return"";const C=U.indexOf("#",L);return U.substring(L,C>0?C:void 0)}function Rr(U,L){const C=new xr(U,L);return C.subscribe.bind(C)}class xr{constructor(L,C){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=C,this.task.then(()=>{L(this)}).catch(A=>{this.error(A)})}next(L){this.forEachObserver(C=>{C.next(L)})}error(L){this.forEachObserver(C=>{C.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,C,A){let w;if(void 0===L&&void 0===C&&void 0===A)throw new Error("Missing Observer.");w=function Mr(U,L){if("object"!=typeof U||null===U)return!1;for(const C of L)if(C in U&&"function"==typeof U[C])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:C,complete:A},void 0===w.next&&(w.next=sn),void 0===w.error&&(w.error=sn),void 0===w.complete&&(w.complete=sn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),V}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let C=0;C<this.observers.length;C++)this.sendOne(C,L)}sendOne(L,C){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{C(this.observers[L])}catch(A){typeof console<"u"&&console.error&&console.error(A)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function Vo(U){return U&&U._delegate?U._delegate:U}},770:(go,Qn,Ke)=>{function R(n){return"function"==typeof n}function De(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=De(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function He(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ot{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(o){e=o instanceof k?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{on(o)}catch(s){e=e??[],s instanceof k?e=[...e,...s.errors]:e.push(s)}}if(e)throw new k(e)}}add(e){var t;if(e&&e!==this)if(this.closed)on(e);else{if(e instanceof Ot){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&He(t,e)}remove(e){const{_finalizers:t}=this;t&&He(t,e),e instanceof Ot&&e._removeParent(this)}}Ot.EMPTY=(()=>{const n=new Ot;return n.closed=!0,n})();const vn=Ot.EMPTY;function Vn(n){return n instanceof Ot||n&&"closed"in n&&R(n.remove)&&R(n.add)&&R(n.unsubscribe)}function on(n){R(n)?n():n.unsubscribe()}const Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fe={setTimeout(n,e,...t){const{delegate:r}=fe;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=fe;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function we(n){fe.setTimeout(()=>{const{onUnhandledError:e}=Rt;if(!e)throw n;e(n)})}function ze(){}const ct=bt("C",void 0,void 0);function bt(n,e,t){return{kind:n,value:e,error:t}}let tt=null;function nt(n){if(Rt.useDeprecatedSynchronousErrorHandling){const e=!tt;if(e&&(tt={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=tt;if(tt=null,t)throw r}}else n()}class In extends Ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vn(e)&&e.add(this)):this.destination=cn}static create(e,t,r){return new Lt(e,t,r)}next(e){this.isStopped?pe(function Yn(n){return bt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?pe(function kt(n){return bt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pe(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function jt(n,e){return yt.call(n,e)}class Wr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){lt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){lt(r)}else lt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lt(t)}}}class Lt extends In{constructor(e,t,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jt(e.next,o),error:e.error&&jt(e.error,o),complete:e.complete&&jt(e.complete,o)}):i=e}this.destination=new Wr(i)}}function lt(n){Rt.useDeprecatedSynchronousErrorHandling?function ir(n){Rt.useDeprecatedSynchronousErrorHandling&&tt&&(tt.errorThrown=!0,tt.error=n)}(n):we(n)}function pe(n,e){const{onStoppedNotification:t}=Rt;t&&fe.setTimeout(()=>t(n,e))}const cn={closed:!0,next:ze,error:function Rn(n){throw n},complete:ze},Yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function En(n){return n}function fi(n){return 0===n.length?En:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let st=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function te(n){return n&&n instanceof In||function Ni(n){return n&&R(n.next)&&R(n.error)&&R(n.complete)}(n)&&Vn(n)}(t)?t:new Lt(t,r,i);return nt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=xo(r))((i,o)=>{const s=new Lt({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yt](){return this}pipe(...t){return fi(t)(this)}toPromise(t){return new(t=xo(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function xo(n){var e;return null!==(e=n??Rt.Promise)&&void 0!==e?e:Promise}const re=De(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let se=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ce(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new re}next(t){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?vn:(this.currentObservers=null,o.push(t),new Ot(()=>{this.currentObservers=null,He(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new st;return t.source=this,t}}return n.create=(e,t)=>new ce(e,t),n})();class ce extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:vn}}function he(n){return R(n?.lift)}function ie(n){return e=>{if(he(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,r,i){return new wt(n,e,t,r,i)}class wt extends In{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return ie((t,r)=>{let i=0;t.subscribe(xe(r,o=>{r.next(n.call(e,o,i++))}))})}var $e=Ke(582);const St=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ln(n){return R(n?.then)}function pi(n){return R(n[Yt])}function Ft(n){return Symbol.asyncIterator&&R(n?.[Symbol.asyncIterator])}function Jt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jn=function xn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pr(n){return R(n?.[Jn])}function Mo(n){return(0,$e.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,$e.qq)(t.read());if(i)return yield(0,$e.qq)(void 0);yield yield(0,$e.qq)(r)}}finally{t.releaseLock()}})}function Ji(n){return R(n?.getReader)}function Vt(n){if(n instanceof st)return n;if(null!=n){if(pi(n))return function Oi(n){return new st(e=>{const t=n[Yt]();if(R(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(St(n))return function ts(n){return new st(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ln(n))return function No(n){return new st(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,we)})}(n);if(Ft(n))return Xi(n);if(pr(n))return function gi(n){return new st(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ji(n))return function Rr(n){return Xi(Mo(n))}(n)}throw Jt(n)}function Xi(n){return new st(e=>{(function xr(n,e){var t,r,i,o;return(0,$e.mG)(this,void 0,void 0,function*(){try{for(t=(0,$e.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function bn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function sn(n,e,t=1/0){return R(e)?sn((r,i)=>Ne((o,s)=>e(r,o,i,s))(Vt(n(r,i))),t):("number"==typeof e&&(t=e),ie((r,i)=>function Mr(n,e,t,r,i,o,s,a){const u=[];let l=0,f=0,m=!1;const y=()=>{m&&!u.length&&!l&&e.complete()},E=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let M=!1;Vt(t(x,f++)).subscribe(xe(e,W=>{i?.(W),o?E(W):e.next(W)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){const W=u.shift();s?bn(e,s,()=>S(W)):S(W)}y()}catch(W){e.error(W)}}))};return n.subscribe(xe(e,E,()=>{m=!0,y()})),()=>{a?.()}}(r,i,n,t)))}function Cr(n=1/0){return sn(En,n)}const Ln=new st(n=>n.complete());function ki(n){return n[n.length-1]}function ko(n){return R(ki(n))?n.pop():void 0}function Un(n){return function Xt(n){return n&&R(n.schedule)}(ki(n))?n.pop():void 0}function wn(n,e=0){return ie((t,r)=>{t.subscribe(xe(r,i=>bn(r,n,()=>r.next(i),e),()=>bn(r,n,()=>r.complete(),e),i=>bn(r,n,()=>r.error(i),e)))})}function Tr(n,e=0){return ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Vo(n,e){if(!n)throw new Error("Iterable cannot be null");return new st(t=>{bn(t,e,()=>{const r=n[Symbol.asyncIterator]();bn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function C(n,e){return e?function L(n,e){if(null!=n){if(pi(n))return function Fo(n,e){return Vt(n).pipe(Tr(e),wn(e))}(n,e);if(St(n))return function is(n,e){return new st(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ln(n))return function rs(n,e){return Vt(n).pipe(Tr(e),wn(e))}(n,e);if(Ft(n))return Vo(n,e);if(pr(n))return function os(n,e){return new st(t=>{let r;return bn(t,e,()=>{r=n[Jn](),bn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(n,e);if(Ji(n))return function U(n,e){return Vo(Mo(n),e)}(n,e)}throw Jt(n)}(n,e):Vt(n)}function A(...n){const e=Un(n),t=function or(n,e){return"number"==typeof ki(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Vt(r[0]):Cr(t)(C(r,e)):Ln}class w extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function V(...n){return C(n,Un(n))}function de(n={}){const{connector:e=(()=>new se),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,f=!1,m=!1;const y=()=>{a?.unsubscribe(),a=void 0},E=()=>{y(),s=u=void 0,f=m=!1},S=()=>{const x=s;E(),x?.unsubscribe()};return ie((x,M)=>{l++,!m&&!f&&y();const W=u=u??e();M.add(()=>{l--,0===l&&!m&&!f&&(a=Pe(S,i))}),W.subscribe(M),!s&&l>0&&(s=new Lt({next:H=>W.next(H),error:H=>{m=!0,y(),a=Pe(E,t,H),W.error(H)},complete:()=>{f=!0,y(),a=Pe(E,r),W.complete()}}),Vt(x).subscribe(s))})(o)}}function Pe(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Lt({next:()=>{r.unsubscribe(),n()}});return Vt(e(...t)).subscribe(r)}function Le(n,e){return ie((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(xe(r,u=>{i?.unsubscribe();let l=0;const f=o++;Vt(n(u,f)).subscribe(i=xe(r,m=>r.next(e?e(u,m,f,l++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function et(n,e=En){return n=n??Pt,ie((t,r)=>{let i,o=!0;t.subscribe(xe(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function Pt(n,e){return n===e}function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function $t(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function sr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Us=Re({__forward_ref__:Re});function zt(n){return n.__forward_ref__=zt,n.toString=function(){return qe(this())},n}function Qe(n){return Ta(n)?n():n}function Ta(n){return"function"==typeof n&&n.hasOwnProperty(Us)&&n.__forward_ref__===zt}function Da(n){return n&&!!n.\u0275providers}const $c="https://g.co/ng/security#xss";class F extends Error{constructor(e,t){super(function G(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function Zt(n,e){throw new F(-201,!1)}function Vi(n,e){null==n&&function Ye(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function qc(n){return Ah(n,Ru)||Ah(n,$s)}function Ah(n,e){return n.hasOwnProperty(e)?n[e]:null}function Gc(n){return n&&(n.hasOwnProperty(Sh)||n.hasOwnProperty(fm))?n[Sh]:null}const Ru=Re({\u0275prov:Re}),Sh=Re({\u0275inj:Re}),$s=Re({ngInjectableDef:Re}),fm=Re({ngInjectorDef:Re});var _t=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_t||{});let Ph;function Zr(n){const e=Ph;return Ph=n,e}function Zc(n,e,t){const r=qc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&_t.Optional?null:void 0!==e?e:void Zt(qe(n))}const Kt=globalThis;class Ce{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mu={},Nu="__NG_DI_FLAG__",as="ngTempTokenPath",Oh=/\n/gm,eo="__source";let Aa;function us(n){const e=Aa;return Aa=n,e}function Fh(n,e=_t.Default){if(void 0===Aa)throw new F(-203,!1);return null===Aa?Zc(n,void 0,e):Aa.get(n,e&_t.Optional?null:void 0,e)}function ve(n,e=_t.Default){return(function Wc(){return Ph}()||Fh)(Qe(n),e)}function ke(n,e=_t.Default){return ve(n,Yc(e))}function Yc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ou(n){const e=[];for(let t=0;t<n.length;t++){const r=Qe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new F(900,!1);let i,o=_t.Default;for(let s=0;s<r.length;s++){const a=r[s],u=JI(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ve(i,o))}else e.push(ve(r))}return e}function to(n,e){return n[Nu]=e,n.prototype[Nu]=e,n}function JI(n){return n[Nu]}function cs(n){return{toString:n}.toString()}var Sa=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Sa||{}),Xn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xn||{});const Nr={},Tt=[],Jc=Re({\u0275cmp:Re}),Vh=Re({\u0275dir:Re}),Lh=Re({\u0275pipe:Re}),ym=Re({\u0275mod:Re}),Kr=Re({\u0275fac:Re}),Fu=Re({__NG_ELEMENT_ID__:Re}),Vu=Re({__NG_ENV_ID__:Re});function vm(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Xc(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];mi(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function el(n){return 3===n||4===n||6===n}function mi(n){return 64===n.charCodeAt(0)}function Pa(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Im(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Im(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const tl="ng-template";function nl(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==vm(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Uh(n){return 4===n.type&&n.value!==tl}function Em(n,e,t){return e===(4!==n.type||t?n.value:tl)}function eE(n,e,t){let r=4;const i=n.attrs||[],o=function jh(n){for(let e=0;e<n.length;e++)if(el(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Em(n,u,t)||""===u&&1===e.length){if(_i(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!nl(n.attrs,l,t)){if(_i(r))return!1;s=!0}continue}const m=Bh(8&r?"class":u,i,Uh(n),t);if(-1===m){if(_i(r))return!1;s=!0;continue}if(""!==l){let y;y=m>o?"":i[m+1].toLowerCase();const E=8&r?y:null;if(E&&-1!==vm(E,l,0)||2&r&&l!==y){if(_i(r))return!1;s=!0}}}}else{if(!s&&!_i(r)&&!_i(u))return!1;if(s&&_i(u))continue;s=!1,r=u|1&r}}return _i(r)||s}function _i(n){return 0==(1&n)}function Bh(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function bm(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rl(n,e,t=!1){for(let r=0;r<e.length;r++)if(eE(n,e[r],t))return!0;return!1}function Hh(n,e){return n?":not("+e.trim()+")":e}function zh(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!_i(s)&&(e+=Hh(o,i),i=""),r=s,o=o||!_i(r);t++}return""!==i&&(e+=Hh(o,i)),e}function ar(n){return cs(()=>{const e=Tm(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Sa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xn.Emulated,styles:n.styles||Tt,_:null,schemas:n.schemas||null,tView:null,id:""};sl(t);const r=n.dependencies;return t.directiveDefs=al(r,!1),t.pipeDefs=al(r,!0),t.id=function tE(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function wm(n){return Dt(n)||er(n)}function Wh(n){return null!==n}function qn(n){return cs(()=>({type:n.type,bootstrap:n.bootstrap||Tt,declarations:n.declarations||Tt,imports:n.imports||Tt,exports:n.exports||Tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cm(n,e){if(null==n)return Nr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Je(n){return cs(()=>{const e=Tm(n);return sl(e),e})}function ur(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Dt(n){return n[Jc]||null}function er(n){return n[Vh]||null}function cr(n){return n[Lh]||null}function Or(n,e){const t=n[ym]||null;if(!t&&!0===e)throw new Error(`Type ${qe(n)} does not have '\u0275mod' property.`);return t}function Tm(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Nr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Tt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cm(n.inputs,e),outputs:Cm(n.outputs)}}function sl(n){n.features?.forEach(e=>e(n))}function al(n,e){if(!n)return null;const t=e?cr:wm;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Wh)}const pn=0,Oe=1,it=2,gn=3,yi=4,Lu=5,lr=6,Ra=7,Bn=8,mo=9,xa=10,ot=11,Hs=12,Dm=13,ds=14,jn=15,zs=16,Ma=17,Li=18,Uu=19,ul=20,hs=21,no=22,Bu=23,qs=24,vt=25,cl=1,ll=2,_o=7,Gs=9,gr=11;function Qr(n){return Array.isArray(n)&&"object"==typeof n[cl]}function kr(n){return Array.isArray(n)&&!0===n[cl]}function Am(n){return 0!=(4&n.flags)}function Na(n){return n.componentOffset>-1}function Qh(n){return 1==(1&n.flags)}function vi(n){return!!n.template}function Yh(n){return 0!=(512&n[it])}function Ws(n,e){return n.hasOwnProperty(Kr)?n[Kr]:null}let Dr=null,ka=!1;function Ui(n){const e=Dr;return Dr=n,e}const Mm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Nm(n){if(!ps(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Om(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function hl(n){n.dirty=!0,function $n(n){if(void 0===n.liveConsumerNode)return;const e=ka;ka=!0;try{for(const t of n.liveConsumerNode)t.dirty||hl(t)}finally{ka=e}}(n),n.consumerMarkedDirty?.(n)}function ef(n){return n&&(n.nextProducerIndex=0),Ui(n)}function $u(n,e){if(Ui(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ps(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)fl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Om(n){Zs(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Nm(t),r!==t.version))return!0}return!1}function km(n){if(Zs(n),ps(n))for(let e=0;e<n.producerNode.length;e++)fl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function fl(n,e){if(function Va(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Zs(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)fl(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Zs(i),i.producerIndexOfThis[r]=e}}function ps(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let pl=null;function Bm(n){const e=Ui(null);try{return n()}finally{Ui(e)}}const jm=()=>{},af=(()=>({...Mm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:jm}))();class dE{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bi(){return $m}function $m(n){return n.type.prototype.ngOnChanges&&(n.setInput=hE),Hm}function Hm(){const n=qm(this),e=n?.current;if(e){const t=n.previous;if(t===Nr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hE(n,e,t,r){const i=this.declaredInputs[t],o=qm(n)||function uf(n,e){return n[zm]=e}(n,{previous:Nr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new dE(u&&u.currentValue,e,a===Nr),n[r]=e}Bi.ngInherit=!0;const zm="__ngSimpleChanges__";function qm(n){return n[zm]||null}const yo=function(n,e,t){};function Qt(n){for(;Array.isArray(n);)n=n[pn];return n}function Ua(n,e){return Qt(e[n])}function Yr(n,e){return Qt(e[n.index])}function Wm(n,e){return n.data[e]}function ji(n,e){return n[e]}function Fr(n,e){const t=e[n];return Qr(t)?t:t[pn]}function vo(n,e){return null==e?null:n[e]}function hf(n){n[Ma]=0}function mE(n){1024&n[it]||(n[it]|=1024,yl(n,1))}function Zm(n){1024&n[it]&&(n[it]&=-1025,yl(n,-1))}function yl(n,e){let t=n[gn];if(null===t)return;t[Lu]+=e;let r=t;for(t=t[gn];null!==t&&(1===e&&1===r[Lu]||-1===e&&0===r[Lu]);)t[Lu]+=e,r=t,t=t[gn]}const Xe={lFrame:s_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ym(){return Xe.bindingsEnabled}function me(){return Xe.lFrame.lView}function xt(){return Xe.lFrame.tView}function Ii(n){return Xe.lFrame.contextLView=n,n[Bn]}function Vr(n){return Xe.lFrame.contextLView=null,n}function mr(){let n=e_();for(;null!==n&&64===n.type;)n=n.parent;return n}function e_(){return Xe.lFrame.currentTNode}function Io(n,e){const t=Xe.lFrame;t.currentTNode=n,t.isParent=e}function mf(){return Xe.lFrame.isParent}function zu(){Xe.lFrame.isParent=!1}function _r(){const n=Xe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ba(){return Xe.lFrame.bindingIndex++}function EE(n,e){const t=Xe.lFrame;t.bindingIndex=t.bindingRootIndex=n,qu(e)}function qu(n){Xe.lFrame.currentDirectiveIndex=n}function vf(n){Xe.lFrame.currentQueryIndex=n}function If(n){const e=n[Oe];return 2===e.type?e.declTNode:1===e.type?n[lr]:null}function o_(n,e,t){if(t&_t.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&_t.Host||(i=If(o),null===i||(o=o[ds],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Xe.lFrame=bf();return r.currentTNode=e,r.lView=n,!0}function Ef(n){const e=bf(),t=n[Oe];Xe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bf(){const n=Xe.lFrame,e=null===n?null:n.child;return null===e?s_(n):e}function s_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Gu(){const n=Xe.lFrame;return Xe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const a_=Gu;function wf(){const n=Gu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lr(){return Xe.lFrame.selectedIndex}function Qs(n){Xe.lFrame.selectedIndex=n}function Tn(){const n=Xe.lFrame;return Wm(n.tView,n.selectedIndex)}let c_=!0;function bl(){return c_}function Bo(n){c_=n}function wl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Cl(n,e,t){Dl(n,e,3,t)}function Tl(n,e,t,r){(3&n[it])===t&&Dl(n,e,t,r)}function Tf(n,e){let t=n[it];(3&t)===e&&(t&=8191,t+=1,n[it]=t)}function Dl(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Ma]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Ma]+=65536),(a<o||-1==o)&&(SE(n,t,e,u),n[Ma]=(4294901760&n[Ma])+u+2),u++}function Al(n,e){yo(4,n,e);const t=Ui(null);try{e.call(n)}finally{Ui(t),yo(5,n,e)}}function SE(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[it]>>13<n[Ma]>>16&&(3&n[it])===e&&(n[it]+=8192,Al(a,o)):Al(a,o)}const ms=-1;class Wu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Sl(n){return n!==ms}function ja(n){return 32767&n}function Ku(n,e){let t=function RE(n){return n>>16}(n),r=e;for(;t>0;)r=r[ds],t--;return r}let Sf=!0;function Pl(n){const e=Sf;return Sf=n,e}const Pf=255,d_=5;let tS=0;const wo={};function c(n,e){const t=g(n,e);if(-1!==t)return t;const r=e[Oe];r.firstCreatePass&&(n.injectorIndex=e.length,d(r.data,n),d(e,null),d(r.blueprint,null));const i=v(n,e),o=n.injectorIndex;if(Sl(i)){const s=ja(i),a=Ku(i,e),u=a[Oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function d(n,e){n.push(0,0,0,0,0,0,0,0,e)}function g(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function v(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=g_(i),null===r)return ms;if(t++,i=i[ds],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ms}function T(n,e,t){!function p(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fu)&&(r=t[Fu]),null==r&&(r=t[Fu]=tS++);const i=r&Pf;e.data[n+(i>>d_)]|=1<<i}(n,e,t)}function X(n,e,t){if(t&_t.Optional||void 0!==n)return n;Zt()}function ge(n,e,t,r){if(t&_t.Optional&&void 0===r&&(r=null),!(t&(_t.Self|_t.Host))){const i=n[mo],o=Zr(void 0);try{return i?i.get(e,r,t&_t.Optional):Zc(e,r,t&_t.Optional)}finally{Zr(o)}}return X(r,0,t)}function Ve(n,e,t,r=_t.Default,i){if(null!==n){if(2048&e[it]&&!(r&_t.Self)){const s=function p_(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=We(o,s,t,r|_t.Self,wo);if(a!==wo)return a;let u=o.parent;if(!u){const l=s[ul];if(l){const f=l.get(t,wo,r);if(f!==wo)return f}u=g_(s),s=s[ds]}o=u}return i}(n,e,t,r,wo);if(s!==wo)return s}const o=We(n,e,t,r,wo);if(o!==wo)return o}return ge(e,t,r,i)}function We(n,e,t,r,i){const o=function Rl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fu)?n[Fu]:void 0;return"number"==typeof e?e>=0?e&Pf:f_:e}(t);if("function"==typeof o){if(!o_(e,n,r))return r&_t.Host?X(i,0,r):ge(e,t,r,i);try{let s;if(s=o(r),null!=s||r&_t.Optional)return s;Zt()}finally{a_()}}else if("number"==typeof o){let s=null,a=g(n,e),u=ms,l=r&_t.Host?e[jn][lr]:null;for((-1===a||r&_t.SkipSelf)&&(u=-1===a?v(n,e):e[a+8],u!==ms&&xl(r,!1)?(s=e[Oe],a=ja(u),e=Ku(u,e)):a=-1);-1!==a;){const f=e[Oe];if(Rf(o,a,f.data)){const m=It(a,e,t,s,r,l);if(m!==wo)return m}u=e[a+8],u!==ms&&xl(r,e[Oe].data[a+8]===l)&&Rf(o,a,e)?(s=f,a=ja(u),e=Ku(u,e)):a=-1}}return i}function It(n,e,t,r,i,o){const s=e[Oe],a=s.data[n+8],f=function yr(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,f=o>>20,y=i?a+f:n.directiveEnd;for(let E=r?a:a+f;E<y;E++){const S=s[E];if(E<u&&t===S||E>=u&&S.type===t)return E}if(i){const E=s[u];if(E&&vi(E)&&E.type===t)return u}return null}(a,s,t,null==r?Na(a)&&Sf:r!=s&&0!=(3&a.type),i&_t.Host&&o===a);return null!==f?Jr(e,s,f,a):wo}function Jr(n,e,t,r){let i=n[t];const o=e.data;if(function l_(n){return n instanceof Wu}(i)){const s=i;s.resolving&&function rt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(o[t]));const a=Pl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Zr(s.injectImpl):null;o_(n,r,_t.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function AE(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$m(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Zr(l),Pl(a),s.resolving=!1,a_()}}return i}function Rf(n,e,t){return!!(t[e+(n>>d_)]&1<<n)}function xl(n,e){return!(n&_t.Self||n&_t.Host&&e)}class vr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ve(this._tNode,this._lView,e,Yc(r),t)}}function f_(){return new vr(mr(),me())}function dr(n){return cs(()=>{const e=n.prototype.constructor,t=e[Kr]||Qu(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Kr]||Qu(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qu(n){return Ta(n)?()=>{const e=Qu(Qe(n));return e&&e()}:Ws(n)}function g_(n){const e=n[Oe],t=e.type;return 2===t?e.declTNode:1===t?n[lr]:null}const Ml="__parameters__";function Ol(n,e,t){return cs(()=>{const r=function xE(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,f){const m=u.hasOwnProperty(Ml)?u[Ml]:Object.defineProperty(u,Ml,{value:[]})[Ml];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Fl(n,e){n.forEach(t=>Array.isArray(t)?Fl(t,e):e(t))}function rS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function m_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ro(n,e,t){let r=Vl(n,e);return r>=0?n[1|r]=t:(r=~r,function fj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ME(n,e){const t=Vl(n,e);if(t>=0)return n[1|t]}function Vl(n,e){return function iS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Ur=to(Ol("Optional"),8),y_=to(Ol("SkipSelf"),4);function w_(n){return 128==(128&n.flags)}var qa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(qa||{});const Oj=/^>|^->|<!--|-->|--!>|<!-$/g,kj=/(<|>)/g,Fj="\u200b$1\u200b";const VE=new Map;let Vj=0;const UE="__ngContext__";function Xr(n,e){Qr(e)?(n[UE]=e[Uu],function Uj(n){VE.set(n[Uu],n)}(e)):n[UE]=e}let BE;function jE(n,e){return BE(n,e)}function kf(n){const e=n[gn];return kr(e)?e[gn]:e}function CS(n){return DS(n[Hs])}function TS(n){return DS(n[yi])}function DS(n){for(;null!==n&&!kr(n);)n=n[yi];return n}function Bl(n,e,t,r,i){if(null!=r){let o,s=!1;kr(r)?o=r:Qr(r)&&(s=!0,r=r[pn]);const a=Qt(r);0===n&&null!==t?null==i?RS(e,t,a):Yu(e,t,a,i||null,!0):1===n&&null!==t?Yu(e,t,a,i||null,!0):2===n?function R_(n,e,t){const r=S_(n,e);r&&function i$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function a$(n,e,t,r,i){const o=t[_o];o!==Qt(t)&&Bl(e,n,r,o,i);for(let a=gr;a<t.length;a++){const u=t[a];Vf(u[Oe],u,n,e,r,o)}}(e,n,o,t,i)}}function $E(n,e){return n.createComment(function mS(n){return n.replace(Oj,e=>e.replace(kj,Fj))}(e))}function D_(n,e,t){return n.createElement(e,t)}function SS(n,e){const t=n[Gs],r=t.indexOf(e);Zm(e),t.splice(r,1)}function A_(n,e){if(n.length<=gr)return;const t=gr+e,r=n[t];if(r){const i=r[zs];null!==i&&i!==n&&SS(i,r),e>0&&(n[t-1][yi]=r[yi]);const o=m_(n,gr+e);!function Qj(n,e){Vf(n,e,e[ot],2,null,null),e[pn]=null,e[lr]=null}(r[Oe],r);const s=o[Li];null!==s&&s.detachView(o[Oe]),r[gn]=null,r[yi]=null,r[it]&=-129}return r}function HE(n,e){if(!(256&e[it])){const t=e[ot];e[Bu]&&km(e[Bu]),e[qs]&&km(e[qs]),t.destroyNode&&Vf(n,e,t,3,null,null),function Xj(n){let e=n[Hs];if(!e)return zE(n[Oe],n);for(;e;){let t=null;if(Qr(e))t=e[Hs];else{const r=e[gr];r&&(t=r)}if(!t){for(;e&&!e[yi]&&e!==n;)Qr(e)&&zE(e[Oe],e),e=e[gn];null===e&&(e=n),Qr(e)&&zE(e[Oe],e),t=e&&e[yi]}e=t}}(e)}}function zE(n,e){if(!(256&e[it])){e[it]&=-129,e[it]|=256,function r$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Wu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];yo(4,a,u);try{u.call(a)}finally{yo(5,a,u)}}else{yo(4,i,o);try{o.call(i)}finally{yo(5,i,o)}}}}}(n,e),function n$(n,e){const t=n.cleanup,r=e[Ra];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Ra]=null);const i=e[hs];if(null!==i){e[hs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[Oe].type&&e[ot].destroy();const t=e[zs];if(null!==t&&kr(e[gn])){t!==e[gn]&&SS(t,e);const r=e[Li];null!==r&&r.detachView(n)}!function Bj(n){VE.delete(n[Uu])}(e)}}function qE(n,e,t){return function PS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[pn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Xn.None||o===Xn.Emulated)return null}return Yr(r,t)}}(n,e.parent,t)}function Yu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RS(n,e,t){n.appendChild(e,t)}function xS(n,e,t,r,i){null!==r?Yu(n,e,t,r,i):RS(n,e,t)}function S_(n,e){return n.parentNode(e)}let GE,x_,QE,M_,OS=function NS(n,e,t){return 40&n.type?Yr(n,t):null};function P_(n,e,t,r){const i=qE(n,r,e),o=e[ot],a=function MS(n,e,t){return OS(n,e,t)}(r.parent||e[lr],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)xS(o,i,t[u],a,!1);else xS(o,i,t,a,!1);void 0!==GE&&GE(o,r,e,t,i)}function Ff(n,e){if(null!==e){const t=e.type;if(3&t)return Yr(e,n);if(4&t)return WE(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ff(n,r);{const i=n[e.index];return kr(i)?WE(-1,i):Qt(i)}}if(32&t)return jE(e,n)()||Qt(n[e.index]);{const r=FS(n,e);return null!==r?Array.isArray(r)?r[0]:Ff(kf(n[jn]),r):Ff(n,e.next)}}return null}function FS(n,e){return null!==e?n[jn][lr].projection[e.projection]:null}function WE(n,e){const t=gr+n+1;if(t<e.length){const r=e[t],i=r[Oe].firstChild;if(null!==i)return Ff(r,i)}return e[_o]}function ZE(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Xr(Qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)ZE(n,e,t.child,r,i,o,!1),Bl(e,n,i,a,o);else if(32&u){const l=jE(t,r);let f;for(;f=l();)Bl(e,n,i,f,o);Bl(e,n,i,a,o)}else 16&u?LS(n,e,r,t,i,o):Bl(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Vf(n,e,t,r,i,o){ZE(t,r,n.firstChild,e,i,o,!1)}function LS(n,e,t,r,i,o){const s=t[jn],u=s[lr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Bl(e,n,i,u[l],o);else{let l=u;const f=s[gn];w_(r)&&(l.flags|=128),ZE(n,e,l,f,i,o,!0)}}function US(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function BS(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Xc(n,e,r),null!==i&&US(n,e,i),null!==o&&function c$(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function jl(n){return function KE(){if(void 0===x_&&(x_=null,Kt.trustedTypes))try{x_=Kt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return x_}()?.createHTML(n)||n}function $l(){if(void 0!==QE)return QE;if(typeof document<"u")return document;throw new F(210,!1)}function YE(){if(void 0===M_&&(M_=null,Kt.trustedTypes))try{M_=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return M_}function jS(n){return YE()?.createHTML(n)||n}function HS(n){return YE()?.createScriptURL(n)||n}class zS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$c})`}}function Ga(n){return n instanceof zS?n.changingThisBreaksApplicationSecurity:n}function Lf(n,e){const t=function v$(n){return n instanceof zS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${$c})`)}return t===e}class I${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class E${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=jl(e),t}}const w$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function JE(n){return(n=String(n)).match(w$)?n:"unsafe:"+n}function Ys(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Uf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const GS=Ys("area,br,col,hr,img,wbr"),WS=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ZS=Ys("rp,rt"),XE=Uf(GS,Uf(WS,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uf(ZS,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uf(ZS,WS)),eb=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KS=Uf(eb,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C$=Ys("script,style,template");class T${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!XE.hasOwnProperty(t))return this.sanitizedSomething=!0,!C$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!KS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;eb[a]&&(u=JE(u)),this.buf.push(" ",s,'="',QS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();XE.hasOwnProperty(t)&&!GS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(QS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const D$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A$=/([^\#-~ |!])/g;function QS(n){return n.replace(/&/g,"&amp;").replace(D$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(A$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let N_;function tb(n){return"content"in n&&function P$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Hl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hl||{});function Wa(n){const e=Bf();return e?jS(e.sanitize(Hl.HTML,n)||""):Lf(n,"HTML")?jS(Ga(n)):function S$(n,e){let t=null;try{N_=N_||function qS(n){const e=new E$(n);return function b$(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch{return!1}}()?new I$(e):e}(n);let r=e?String(e):"";t=N_.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=N_.getInertBodyElement(r)}while(r!==o);return jl((new T$).sanitizeChildren(tb(t)||t))}finally{if(t){const r=tb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}($l(),Y(n))}function Hi(n){const e=Bf();return e?e.sanitize(Hl.URL,n)||"":Lf(n,"URL")?Ga(n):JE(Y(n))}function YS(n){const e=Bf();if(e)return HS(e.sanitize(Hl.RESOURCE_URL,n)||"");if(Lf(n,"ResourceURL"))return HS(Ga(n));throw new F(904,!1)}function Bf(){const n=me();return n&&n[xa].sanitizer}const jf=new Ce("ENVIRONMENT_INITIALIZER"),XS=new Ce("INJECTOR",-1),e1=new Ce("INJECTOR_DEF_TYPES");class nb{get(e,t=Mu){if(t===Mu){const r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return t}}function k$(...n){return{\u0275providers:t1(0,n),\u0275fromNgModule:!0}}function t1(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Fl(e,s=>{const a=s;O_(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&n1(i,o),t}function n1(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];ib(i,o=>{e(o,r)})}}function O_(n,e,t,r){if(!(n=Qe(n)))return!1;let i=null,o=Gc(n);const s=!o&&Dt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Gc(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)O_(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Fl(o.imports,f=>{O_(f,e,t,r)&&(l||=[],l.push(f))})}finally{}void 0!==l&&n1(l,e)}if(!a){const l=Ws(i)||(()=>new i);e({provide:i,useFactory:l,deps:Tt},i),e({provide:e1,useValue:i,multi:!0},i),e({provide:jf,useValue:()=>ve(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=n;ib(u,f=>{e(f,l)})}}}return i!==n&&void 0!==n.providers}function ib(n,e){for(let t of n)Da(t)&&(t=t.\u0275providers),Array.isArray(t)?ib(t,e):e(t)}const F$=Re({provide:String,useValue:Re});function ob(n){return null!==n&&"object"==typeof n&&F$ in n}function Ju(n){return"function"==typeof n}const sb=new Ce("Set Injector scope."),k_={},L$={};let ab;function F_(){return void 0===ab&&(ab=new nb),ab}class io{}class zl extends io{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cb(e,s=>this.processProvider(s)),this.records.set(XS,ql(void 0,this)),i.has("environment")&&this.records.set(io,ql(void 0,this));const o=this.records.get(sb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(e1.multi,Tt,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=us(this),r=Zr(void 0);try{return e()}finally{us(t),Zr(r)}}get(e,t=Mu,r=_t.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Vu))return e[Vu](this);r=Yc(r);const o=us(this),s=Zr(void 0);try{if(!(r&_t.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function H$(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ce}(e)&&qc(e);u=l&&this.injectableDefInScope(l)?ql(ub(e),k_):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&_t.Self?F_():this.parent).get(e,t=r&_t.Optional&&t===Mu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[as]=a[as]||[]).unshift(qe(e)),o)throw a;return function XI(n,e,t,r){const i=n[as];throw e[eo]&&i.unshift(e[eo]),n.message=function ku(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Oh,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[as]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Zr(s),us(o)}}resolveInjectorInitializers(){const e=us(this),t=Zr(void 0);try{const i=this.get(jf.multi,Tt,_t.Self);for(const o of i)o()}finally{us(e),Zr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Ju(e=Qe(e))?e:Qe(e&&e.provide);const r=function B$(n){return ob(n)?ql(void 0,n.useValue):ql(o1(n),k_)}(e);if(Ju(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ql(void 0,k_,!0),i.factory=()=>Ou(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===k_&&(t.value=L$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function $$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Qe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ub(n){const e=qc(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof Ce)throw new F(204,!1);if(n instanceof Function)return function U$(n){const e=n.length;if(e>0)throw function Mf(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new F(204,!1);const t=function hm(n){return n&&(n[Ru]||n[$s])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function o1(n,e,t){let r;if(Ju(n)){const i=Qe(n);return Ws(i)||ub(i)}if(ob(n))r=()=>Qe(n.useValue);else if(function i1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ou(n.deps||[]));else if(function r1(n){return!(!n||!n.useExisting)}(n))r=()=>ve(Qe(n.useExisting));else{const i=Qe(n&&(n.useClass||n.provide));if(!function j$(n){return!!n.deps}(n))return Ws(i)||ub(i);r=()=>new i(...Ou(n.deps))}return r}function ql(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cb(n,e){for(const t of n)Array.isArray(t)?cb(t,e):t&&Da(t)?cb(t.\u0275providers,e):e(t)}const V_=new Ce("AppId",{providedIn:"root",factory:()=>z$}),z$="ng",s1=new Ce("Platform Initializer"),To=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),a1=new Ce("CSP nonce",{providedIn:"root",factory:()=>$l().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let u1=(n,e,t)=>null;function _b(n,e,t=!1){return u1(n,e,t)}class e4{}class d1{}class n4{resolveComponentFactory(e){throw function t4(n){const e=Error(`No component factory found for ${qe(n)}.`);return e.ngComponent=n,e}(e)}}let H_=(()=>{class n{static#e=this.NULL=new n4}return n})();function r4(){return Zl(mr(),me())}function Zl(n,e){return new oo(Yr(n,e))}let oo=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=r4}return n})();class f1{}let Js=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function o4(){const n=me(),t=Fr(mr().index,n);return(Qr(t)?t:n)[ot]}()}return n})(),s4=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>null})}return n})();class Kl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ib=new Kl("16.2.12"),Eb={};function _1(n,e=null,t=null,r){const i=y1(n,e,t,r);return i.resolveInjectorInitializers(),i}function y1(n,e=null,t=null,r,i=new Set){const o=[t||Tt,k$(n)];return r=r||("object"==typeof n?void 0:qe(n)),new zl(o,e||F_(),r||null,i)}let ei=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Mu;static#t=this.NULL=new nb;static create(t,r){if(Array.isArray(t))return _1({name:""},r,t,"");{const i=t.name??"";return _1({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=je({token:n,providedIn:"any",factory:()=>ve(XS)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function wb(n){return n.ngOriginalError}class Xs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wb(e);for(;t&&wb(t);)t=wb(t);return t||null}}function Tb(n){return e=>{setTimeout(n,void 0,e)}}const Hn=class f4 extends se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Tb(o),i&&(i=Tb(i)),s&&(s=Tb(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ot&&e.add(a),a}};function I1(...n){}class Ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hn(!1),this.onMicrotaskEmpty=new Hn(!1),this.onStable=new Hn(!1),this.onError=new Hn(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function p4(){const n="function"==typeof Kt.requestAnimationFrame;let e=Kt[n?"requestAnimationFrame":"setTimeout"],t=Kt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function _4(n){const e=()=>{!function m4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Kt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ab(n),n.isCheckStableRunning=!0,Db(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ab(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function v4(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return E1(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),b1(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return E1(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),b1(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Ab(n),Db(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ut.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(Ut.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,g4,I1,I1);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const g4={};function Db(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ab(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function E1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b1(n){n._nesting--,Db(n)}class y4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hn,this.onMicrotaskEmpty=new Hn,this.onStable=new Hn,this.onError=new Hn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const w1=new Ce("",{providedIn:"root",factory:C1});function C1(){const n=ke(Ut);let e=!0;return A(new st(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new st(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ut.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ut.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(de()))}function ea(n){return n instanceof Function?n():n}let Sb=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})();function zf(n){for(;n;){n[it]|=64;const e=kf(n);if(Yh(n)&&!e)return n;n=e}return null}const P1=new Ce("",{providedIn:"root",factory:()=>!1});let q_=null;function N1(n,e){return n[e]??F1()}function O1(n,e){const t=F1();t.producerNode?.length&&(n[e]=q_,t.lView=n,q_=k1())}const P4={...Mm,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{zf(n.lView)},lView:null};function k1(){return Object.create(P4)}function F1(){return q_??=k1(),q_}const ht={};function ye(n){V1(xt(),me(),Lr()+n,!1)}function V1(n,e,t,r){if(!r)if(3==(3&e[it])){const o=n.preOrderCheckHooks;null!==o&&Cl(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Tl(e,o,0,t)}Qs(t)}function ue(n,e=_t.Default){const t=me();return null===t?ve(n,e):Ve(mr(),t,Qe(n),e)}function G_(n,e,t,r,i,o,s,a,u,l,f){const m=e.blueprint.slice();return m[pn]=i,m[it]=140|r,(null!==l||n&&2048&n[it])&&(m[it]|=2048),hf(m),m[gn]=m[ds]=n,m[Bn]=t,m[xa]=s||n&&n[xa],m[ot]=a||n&&n[ot],m[mo]=u||n&&n[mo]||null,m[lr]=o,m[Uu]=function Lj(){return Vj++}(),m[no]=f,m[ul]=l,m[jn]=2==e.type?n[jn]:m,m}function Jl(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Pb(n,e,t,r,i){const o=e_(),s=mf(),u=n.data[e]=function V4(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function gs(){return null!==Xe.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function n_(){return Xe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ks(){const n=Xe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Io(o,!0),o}function qf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function U1(n,e,t,r,i){const o=N1(e,Bu),s=Lr(),a=2&r;try{Qs(-1),a&&e.length>vt&&V1(n,e,vt,!1),yo(a?2:0,i);const l=a?o:null,f=ef(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{$u(l,f)}}finally{a&&null===e[Bu]&&O1(e,Bu),Qs(s),yo(a?3:1,i)}}function Rb(n,e,t){if(Am(e)){const r=Ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Ui(r)}}}function xb(n,e,t){Ym()&&(function z4(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Na(t)&&function Y4(n,e,t){const r=Yr(e,n),i=B1(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=W_(n,G_(n,i,null,s,r,e,null,n[xa].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||c(t,e),Xr(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],l=Jr(e,n,a,t);Xr(l,e),null!==s&&J4(0,a-i,l,u,0,s),vi(u)&&(Fr(t.index,e)[Bn]=Jr(e,n,a,t))}}(n,e,t,Yr(t,e)),64==(64&t.flags)&&q1(n,e,t))}function Mb(n,e,t=Yr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function B1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Nb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Nb(n,e,t,r,i,o,s,a,u,l,f){const m=vt+r,y=m+i,E=function x4(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ht);return t}(m,y),S="function"==typeof l?l():l;return E[Oe]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}let j1=n=>null;function $1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?H1(t,e,i,o):r.hasOwnProperty(i)&&H1(t,e,r[i],o)}return t}function H1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function so(n,e,t,r,i,o,s,a){const u=Yr(e,t);let f,l=e.inputs;!a&&null!=l&&(f=l[r])?(Lb(n,t,f,r,i),Na(e)&&function B4(n,e){const t=Fr(e,n);16&t[it]||(t[it]|=64)}(t,e.index)):3&e.type&&(r=function U4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function Ob(n,e,t,r){if(Ym()){const i=null===r?null:{"":-1},o=function G4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(rl(e,s.selectors,!1))if(r||(r=[]),vi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),kb(n,e,a.length)}else r.unshift(s),kb(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&z1(n,e,t,s,i,a),i&&function W4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new F(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Pa(t.mergedAttrs,t.attrs)}function z1(n,e,t,r,i,o){for(let l=0;l<r.length;l++)T(c(t,e),n,r[l].type);!function K4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,u=qf(n,e,r.length,null);for(let l=0;l<r.length;l++){const f=r[l];t.mergedAttrs=Pa(t.mergedAttrs,f.hostAttrs),Q4(n,t,e,u,f),Z4(u,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function L4(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,l=null;for(let f=e.directiveStart;f<i;f++){const m=o[f],y=t?t.get(m):null,S=y?y.outputs:null;u=$1(m.inputs,f,u,y?y.inputs:null),l=$1(m.outputs,f,l,S);const x=null===u||null===s||Uh(e)?null:X4(u,f,s);a.push(x)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,o)}function q1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function r_(){return Xe.lFrame.currentDirectiveIndex}();try{Qs(o);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];qu(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&q4(u,l)}}finally{Qs(-1),qu(s)}}function q4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function kb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Z4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vi(e)&&(t[""]=n)}}function Q4(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ws(i.type)),s=new Wu(o,vi(i),ue);n.blueprint[r]=s,t[r]=s,function $4(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function H4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,qf(n,t,i.hostVars,ht),i)}function _s(n,e,t,r,i,o){const s=Yr(n,e);!function Fb(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Y(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[ot],s,o,n.value,t,r,i)}function J4(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)G1(r,t,s[a++],s[a++],s[a++])}function G1(n,e,t,r,i){const o=Ui(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Ui(o)}}function X4(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function W1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function Z1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];vf(t[r]),s.contentQueries(2,e[o],o)}}}function W_(n,e){return n[Hs]?n[Dm][yi]=e:n[Hs]=e,n[Dm]=e,e}function Vb(n,e,t){vf(0);const r=Ui(null);try{e(n,t)}finally{Ui(r)}}function J1(n,e){const t=n[mo],r=t?t.get(Xs,null):null;r&&r.handleError(e)}function Lb(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];G1(n.data[s],e[s],r,a,i)}}function e3(n,e){const t=Fr(e,n),r=t[Oe];!function t3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[pn];null!==i&&null===t[no]&&(t[no]=_b(i,t[mo])),Ub(r,t,t[Bn])}function Ub(n,e,t){Ef(e);try{const r=n.viewQuery;null!==r&&Vb(1,r,t);const i=n.template;null!==i&&U1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Z1(n,e),n.staticViewQueries&&Vb(2,n.viewQuery,t);const o=n.components;null!==o&&function n3(n,e){for(let t=0;t<e.length;t++)e3(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[it]&=-5,wf()}}let X1=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function lE(n,e,t){const r=Object.create(af);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>hl(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Om(r))return;r.hasRun=!0;const s=ef(r);try{r.cleanupFn(),r.cleanupFn=jm,r.fn(i)}finally{$u(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})();function Z_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=sr(i,a):2==o&&(r=sr(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Gf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(Qt(o)),kr(o)&&eP(o,r);const s=t.type;if(8&s)Gf(n,e,t.child,r);else if(32&s){const a=jE(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=FS(e,t);if(Array.isArray(a))r.push(...a);else{const u=kf(e[jn]);Gf(u[Oe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eP(n,e){for(let t=gr;t<n.length;t++){const r=n[t],i=r[Oe].firstChild;null!==i&&Gf(r[Oe],r,i,e)}n[_o]!==n[pn]&&e.push(n[_o])}function K_(n,e,t,r=!0){const i=e[xa],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{tP(n,e,n.template,t)}catch(u){throw r&&J1(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function tP(n,e,t,r){const i=e[it];if(256!=(256&i)){e[xa].effectManager?.flush(),Ef(e);try{hf(e),function El(n){return Xe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&U1(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&Cl(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Tl(e,l,0,null),Tf(e,0)}if(function o3(n){for(let e=CS(n);null!==e;e=TS(e)){if(!e[ll])continue;const t=e[Gs];for(let r=0;r<t.length;r++){mE(t[r])}}}(e),nP(e,2),null!==n.contentQueries&&Z1(n,e),s){const l=n.contentCheckHooks;null!==l&&Cl(e,l)}else{const l=n.contentHooks;null!==l&&Tl(e,l,1),Tf(e,1)}!function R4(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=N1(e,qs);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Qs(~o);else{const s=o,a=t[++i],u=t[++i];EE(a,s),r.dirty=!1;const l=ef(r);try{u(2,e[s])}finally{$u(r,l)}}}}finally{null===e[qs]&&O1(e,qs),Qs(-1)}}(n,e);const a=n.components;null!==a&&iP(e,a,0);const u=n.viewQuery;if(null!==u&&Vb(2,u,r),s){const l=n.viewCheckHooks;null!==l&&Cl(e,l)}else{const l=n.viewHooks;null!==l&&Tl(e,l,2),Tf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[it]&=-73,Zm(e)}finally{wf()}}}function nP(n,e){for(let t=CS(n);null!==t;t=TS(t))for(let r=gr;r<t.length;r++)rP(t[r],e)}function s3(n,e,t){rP(Fr(e,n),t)}function rP(n,e){if(!function pE(n){return 128==(128&n[it])}(n))return;const t=n[Oe],r=n[it];if(80&r&&0===e||1024&r||2===e)tP(t,n,t.template,n[Bn]);else if(n[Lu]>0){nP(n,1);const i=t.components;null!==i&&iP(n,i,1)}}function iP(n,e,t){for(let r=0;r<e.length;r++)s3(n,e[r],t)}class Wf{get rootNodes(){const e=this._lView,t=e[Oe];return Gf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(e){this._lView[Bn]=e}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gn];if(kr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(A_(e,r),m_(t,r))}this._attachedToViewContainer=!1}HE(this._lView[Oe],this._lView)}onDestroy(e){!function Km(n,e){if(256==(256&n[it]))throw new F(911,!1);null===n[hs]&&(n[hs]=[]),n[hs].push(e)}(this._lView,e)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){this._lView[it]|=128}detectChanges(){K_(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jj(n,e){Vf(n,e,e[ot],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class a3 extends Wf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;K_(e[Oe],e,e[Bn],!1)}checkNoChanges(){}get context(){return null}}class oP extends H_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Dt(e);return new Zf(t,this.ngModule)}}function sP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class c3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Yc(r);const i=this.injector.get(e,Eb,r);return i!==Eb||t===Eb?i:this.parentInjector.get(e,t,r)}}class Zf extends d1{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=sP(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return sP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function ol(n){return n.map(zh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof io?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new c3(e,o):e,a=s.get(f1,null);if(null===a)throw new F(407,!1);const m={rendererFactory:a,sanitizer:s.get(s4,null),effectManager:s.get(X1,null),afterRenderEventManager:s.get(Sb,null)},y=a.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?function M4(n,e,t,r){const o=r.get(P1,!1)||t===Xn.ShadowDom,s=n.selectRootElement(e,o);return function N4(n){j1(n)}(s),s}(y,r,this.componentDef.encapsulation,s):D_(y,E,function u3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(E)),W=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let H=null;null!==S&&(H=_b(S,s,!0));const K=Nb(0,null,null,1,0,null,null,null,null,null,null),ae=G_(null,K,null,W,null,null,m,y,s,null,H);let Te,Be;Ef(ae);try{const z=this.componentDef;let N,B=null;z.findHostDirectiveDefs?(N=[],B=new Map,z.findHostDirectiveDefs(z,N,B),N.push(z)):N=[z];const q=function d3(n,e){const t=n[Oe],r=vt;return n[r]=e,Jl(t,r,2,"#host",null)}(ae,S),Z=function h3(n,e,t,r,i,o,s){const a=i[Oe];!function f3(n,e,t,r){for(const i of n)e.mergedAttrs=Pa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Z_(e,e.mergedAttrs,!0),null!==t&&BS(r,t,e))}(r,n,e,s);let u=null;null!==e&&(u=_b(e,i[mo]));const l=o.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const m=G_(i,B1(t),null,f,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&kb(a,n,r.length-1),W_(i,m),i[n.index]=m}(q,S,z,N,ae,m,y);Be=Wm(K,vt),S&&function g3(n,e,t,r){if(r)Xc(n,t,["ng-version",Ib.full]);else{const{attrs:i,classes:o}=function qh(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!_i(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Xc(n,t,i),o&&o.length>0&&US(n,t,o.join(" "))}}(y,z,S,r),void 0!==t&&function m3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Be,this.ngContentSelectors,t),Te=function p3(n,e,t,r,i,o){const s=mr(),a=i[Oe],u=Yr(s,i);z1(a,i,s,t,null,r);for(let f=0;f<t.length;f++)Xr(Jr(i,a,s.directiveStart+f,s),i);q1(a,i,s),u&&Xr(u,i);const l=Jr(i,a,s.directiveStart+s.componentOffset,s);if(n[Bn]=i[Bn]=l,null!==o)for(const f of o)f(l,e);return Rb(a,s,n),l}(Z,z,N,B,ae,[_3]),Ub(K,ae,null)}finally{wf()}return new l3(this.componentType,Te,Zl(Be,ae),ae,Be)}}class l3 extends e4{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new a3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Lb(o[Oe],o,i,e,t),this.previousInputValues.set(e,t),zf(Fr(this._tNode.index,o))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _3(){const n=mr();wl(me()[Oe],n)}function en(n){let e=function aP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(vi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Q_(n.inputs),s.inputTransforms=Q_(n.inputTransforms),s.declaredInputs=Q_(n.declaredInputs),s.outputs=Q_(n.outputs);const a=i.hostBindings;a&&E3(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&v3(n,u),l&&I3(n,l),$t(n.inputs,i.inputs),$t(n.declaredInputs,i.declaredInputs),$t(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),$t(s.inputTransforms,i.inputTransforms)),vi(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===en&&(t=!1)}}e=Object.getPrototypeOf(e)}!function y3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pa(i.hostAttrs,t=Pa(t,i.hostAttrs))}}(r)}function Q_(n){return n===Nr?{}:n===Tt?[]:n}function v3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function I3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function E3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function dP(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Y_(n){return!!Bb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Bb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ys(n,e,t){return n[e]=t}function ti(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function jo(n,e,t,r){const i=me();return ti(i,Ba(),e)&&(xt(),_s(Tn(),i,n,e,t,r)),jo}function ed(n,e,t,r){return ti(n,Ba(),t)?e+Y(t)+r:ht}function At(n,e,t,r,i,o,s,a){const u=me(),l=xt(),f=n+vt,m=l.firstCreatePass?function G3(n,e,t,r,i,o,s,a,u){const l=e.consts,f=Jl(e,n,4,s||null,vo(l,a));Ob(e,t,f,vo(l,u)),wl(e,f);const m=f.tView=Nb(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}(f,l,u,e,t,r,i,o,s):l.data[f];Io(m,!1);const y=CP(l,u,m,n);bl()&&P_(l,u,y,m),Xr(y,u),W_(u,u[f]=W1(y,u,y,m)),Qh(m)&&xb(l,u,m),null!=s&&Mb(u,m,a)}let CP=function TP(n,e,t,r){return Bo(!0),e[ot].createComment("")};function Fe(n,e,t){const r=me();return ti(r,Ba(),e)&&so(xt(),Tn(),r,n,e,r[ot],t,!1),Fe}function Gb(n,e,t,r,i){const s=i?"class":"style";Lb(n,t,e.inputs[s],s,r)}function P(n,e,t,r){const i=me(),o=xt(),s=vt+n,a=i[ot],u=o.firstCreatePass?function Q3(n,e,t,r,i,o){const s=e.consts,u=Jl(e,n,2,r,vo(s,i));return Ob(e,t,u,vo(s,o)),null!==u.attrs&&Z_(u,u.attrs,!1),null!==u.mergedAttrs&&Z_(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],l=AP(o,i,u,a,e,n);i[s]=l;const f=Qh(u);return Io(u,!0),BS(a,l,u),32!=(32&u.flags)&&bl()&&P_(o,i,l,u),0===function _E(){return Xe.lFrame.elementDepthCount}()&&Xr(l,i),function Hu(){Xe.lFrame.elementDepthCount++}(),f&&(xb(o,i,u),Rb(o,u,i)),null!==r&&Mb(i,u),P}function b(){let n=mr();mf()?zu():(n=n.parent,Io(n,!1));const e=n;(function pf(n){return Xe.skipHydrationRootTNode===n})(e)&&function Xm(){Xe.skipHydrationRootTNode=null}(),function yE(){Xe.lFrame.elementDepthCount--}();const t=xt();return t.firstCreatePass&&(wl(t,n),Am(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XA(n){return 0!=(8&n.flags)}(e)&&Gb(t,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Df(n){return 0!=(16&n.flags)}(e)&&Gb(t,e,me(),e.stylesWithoutHost,!1),b}function Ie(n,e,t,r){return P(n,e,t,r),b(),Ie}let AP=(n,e,t,r,i,o)=>(Bo(!0),D_(r,i,function u_(){return Xe.lFrame.currentNamespace}()));function $o(n,e,t){const r=me(),i=xt(),o=n+vt,s=i.firstCreatePass?function X3(n,e,t,r,i){const o=e.consts,s=vo(o,r),a=Jl(e,n,8,"ng-container",s);return null!==s&&Z_(a,s,!0),Ob(e,t,a,vo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Io(s,!0);const a=PP(i,r,s,n);return r[o]=a,bl()&&P_(i,r,a,s),Xr(a,r),Qh(s)&&(xb(i,r,s),Rb(i,s,r)),null!=t&&Mb(r,s),$o}function Ho(){let n=mr();const e=xt();return mf()?zu():(n=n.parent,Io(n,!1)),e.firstCreatePass&&(wl(e,n),Am(n)&&e.queries.elementEnd(n)),Ho}let PP=(n,e,t,r)=>(Bo(!0),$E(e[ot],""));function ec(){return me()}function Xf(n){return!!n&&"function"==typeof n.then}function RP(n){return!!n&&"function"==typeof n.subscribe}function at(n,e,t,r){const i=me(),o=xt(),s=mr();return function MP(n,e,t,r,i,o,s){const a=Qh(r),l=n.firstCreatePass&&function Q1(n){return n.cleanup||(n.cleanup=[])}(n),f=e[Bn],m=function K1(n){return n[Ra]||(n[Ra]=[])}(e);let y=!0;if(3&r.type||s){const x=Yr(r,e),M=s?s(x):x,W=m.length,H=s?ae=>s(Qt(ae[r.index])):r.index;let K=null;if(!s&&a&&(K=function nH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Ra],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,y=!1;else{o=OP(r,e,f,o,!1);const ae=t.listen(M,i,o);m.push(o,ae),l&&l.push(i,H,W,W+1)}}else o=OP(r,e,f,o,!1);const E=r.outputs;let S;if(y&&null!==E&&(S=E[i])){const x=S.length;if(x)for(let M=0;M<x;M+=2){const Te=e[S[M]][S[M+1]].subscribe(o),Be=m.length;m.push(o,Te),l&&l.push(i,r.index,Be,-(Be+1))}}}(o,i,i[ot],s,n,e,r),at}function NP(n,e,t,r){try{return yo(6,e,t),!1!==t(r)}catch(i){return J1(n,i),!1}finally{yo(7,e,t)}}function OP(n,e,t,r,i){return function o(s){if(s===Function)return r;zf(n.componentOffset>-1?Fr(n.index,e):e);let u=NP(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=NP(e,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function qt(n=1){return function bE(n){return(Xe.lFrame.contextLView=function wE(n,e){for(;n>0;)e=e[ds],n--;return e}(n,Xe.lFrame.contextLView))[Bn]}(n)}function ep(n,e,t){return ao(n,"",e,"",t),ep}function ao(n,e,t,r,i){const o=me(),s=ed(o,e,t,r);return s!==ht&&so(xt(),Tn(),o,n,s,o[ot],i,!1),ao}function ny(n,e){return n<<17|e<<2}function Za(n){return n>>17&32767}function Wb(n){return 2|n}function tc(n){return(131068&n)>>2}function Zb(n,e){return-131069&n|e<<2}function Kb(n){return 1|n}function HP(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Za(o):tc(o),u=!1;for(;0!==a&&(!1===u||s);){const f=n[a+1];dH(n[a],e)&&(u=!0,n[a+1]=r?Kb(f):Wb(f)),a=r?Za(f):tc(f)}u&&(n[t+1]=r?Wb(o):Kb(o))}function dH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Vl(n,e)>=0}function zo(n,e,t){return qo(n,e,t,!1),zo}function cd(n,e){return qo(n,e,null,!0),cd}function qo(n,e,t,r){const i=me(),o=xt(),s=function bo(n){const e=Xe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function YP(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Lr()],s=function QP(n,e){return e>=n.expandoStartIndex}(n,t);(function tR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function IH(n,e,t,r){const i=function yf(n){const e=Xe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=tp(t=Qb(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Qb(i,n,e,t,r),null===o){let u=function EH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==tc(r))return n[Za(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Qb(null,n,e,u[1],r),u=tp(u,e.attrs,r),function bH(n,e,t,r){n[Za(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function wH(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=tp(r,n[o].hostAttrs,t);return tp(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function cH(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Za(s),u=tc(s);n[r]=t;let f,l=!1;if(Array.isArray(t)?(f=t[1],(null===f||Vl(t,f)>0)&&(l=!0)):f=t,i)if(0!==u){const y=Za(n[a+1]);n[r+1]=ny(y,a),0!==y&&(n[y+1]=Zb(n[y+1],r)),n[a+1]=function aH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ny(a,0),0!==a&&(n[a+1]=Zb(n[a+1],r)),a=r;else n[r+1]=ny(u,0),0===a?a=r:n[u+1]=Zb(n[u+1],r),u=r;l&&(n[r+1]=Wb(n[r+1])),HP(n,f,r,!0),HP(n,f,r,!1),function lH(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Vl(o,e)>=0&&(t[r+1]=Kb(t[r+1]))}(e,f,n,r,o),s=ny(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==ht&&ti(i,s,e)&&function XP(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],f=function uH(n){return 1==(1&n)}(l)?eR(u,e,t,i,tc(l),s):void 0;ry(f)||(ry(o)||function sH(n){return 2==(2&n)}(l)&&(o=eR(u,null,t,i,a,s)),function u$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:qa.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qa.Important),n.setStyle(t,r,i,o))}}(r,s,Ua(Lr(),t),i,o))}(o,o.data[Lr()],i,i[ot],n,i[s+1]=function AH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=qe(Ga(n)))),n}(e,t),r,s)}function Qb(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=tp(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function tp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ro(n,s,!!t||e[++o]))}return void 0===n?null:n}function eR(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),f=l?u[1]:u,m=null===f;let y=t[i+1];y===ht&&(y=m?Tt:void 0);let E=m?ME(y,r):f===r?y:void 0;if(l&&!ry(E)&&(E=ME(u,r)),ry(E)&&(a=E,s))return a;const S=n[i+1];i=s?Za(S):tc(S)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ME(u,r))}return a}function ry(n){return void 0!==n}function O(n,e=""){const t=me(),r=xt(),i=n+vt,o=r.firstCreatePass?Jl(r,i,1,e,null):r.data[i],s=nR(r,t,o,e,n);t[i]=s,bl()&&P_(r,t,s,o),Io(o,!1)}let nR=(n,e,t,r,i)=>(Bo(!0),function T_(n,e){return n.createText(e)}(e[ot],r));function Br(n){return Ei("",n,""),Br}function Ei(n,e,t){const r=me(),i=ed(r,n,e,t);return i!==ht&&function ta(n,e,t){const r=Ua(e,n);!function AS(n,e,t){n.setValue(e,t)}(n[ot],r,t)}(r,Lr(),i),Ei}const dd="en-US";let CR=dd;function Xb(n,e,t,r,i){if(n=Qe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xb(n[o],e,t,r,i);else{const o=xt(),s=me(),a=mr();let u=Ju(n)?n:Qe(n.provide);const l=o1(n),f=1048575&a.providerIndexes,m=a.directiveStart,y=a.providerIndexes>>20;if(Ju(n)||!n.multi){const E=new Wu(l,i,ue),S=tw(u,e,i?f:f+y,m);-1===S?(T(c(a,s),o,u),ew(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)):(t[S]=E,s[S]=E)}else{const E=tw(u,e,f+y,m),S=tw(u,e,f,f+y),M=S>=0&&t[S];if(i&&!M||!i&&!(E>=0&&t[E])){T(c(a,s),o,u);const W=function Zz(n,e,t,r,i){const o=new Wu(n,t,ue);return o.multi=[],o.index=e,o.componentProviders=0,KR(o,i,r&&!t),o}(i?Wz:Gz,t.length,i,r,l);!i&&M&&(t[S].providerFactory=W),ew(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),s.push(W)}else ew(o,n,E>-1?E:S,KR(t[i?S:E],l,!i&&r));!i&&r&&M&&t[S].componentProviders++}}}function ew(n,e,t,r){const i=Ju(e),o=function V$(n){return!!n.useClass}(e);if(i||o){const u=(o?Qe(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=l.indexOf(t);-1===f?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function KR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Gz(n,e,t,r){return nw(this.multi,[])}function Wz(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Jr(t,t[Oe],this.providerFactory.index,r);o=a.slice(0,s),nw(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],nw(i,o);return o}function nw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Mn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function qz(n,e,t){const r=xt();if(r.firstCreatePass){const i=vi(n);Xb(t,r.data,r.blueprint,i,!0),Xb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class rc{}class QR{}class rw extends rc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oP(this);const i=Or(e);this._bootstrapComponents=ea(i.bootstrap),this._r3Injector=y1(e,t,[{provide:rc,useValue:this},{provide:H_,useValue:this.componentFactoryResolver},...r],qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class iw extends QR{constructor(e){super(),this.moduleType=e}create(e){return new rw(this.moduleType,e,[])}}class YR extends rc{constructor(e){super(),this.componentFactoryResolver=new oP(this),this.instance=null;const t=new zl([...e.providers,{provide:rc,useValue:this},{provide:H_,useValue:this.componentFactoryResolver}],e.parent||F_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ow(n,e,t=null){return new YR({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Yz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=t1(0,t.type),i=r.length>0?ow([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=je({token:n,providedIn:"environment",factory:()=>new n(ve(io))})}return n})();function JR(n){n.getStandaloneInjector=e=>e.get(Yz).getOrCreateStandaloneInjector(n)}function aw(n,e,t){const r=_r()+n,i=me();return i[r]===ht?ys(i,r,t?e.call(t):e()):function Kf(n,e){return n[e]}(i,r)}function ic(n,e,t,r){return ox(me(),_r(),n,e,t,r)}function ox(n,e,t,r,i,o){const s=e+t;return ti(n,s,i)?ys(n,s+1,o?r.call(o,i):r(i)):function ap(n,e){const t=n[e];return t===ht?void 0:t}(n,s+1)}function qi(n,e){const t=xt();let r;const i=n+vt;t.firstCreatePass?(r=function p9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ws(r.type)),a=Zr(ue);try{const u=Pl(!1),l=o();return Pl(u),function K3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,me(),i,l),l}finally{Zr(a)}}function Gi(n,e,t){const r=n+vt,i=me(),o=ji(i,r);return function up(n,e){return n[Oe].data[e].pure}(i,r)?ox(i,_r(),e,o.transform,t,o):o.transform(t)}function E9(n,e,t,r=!0){const i=e[Oe];if(function e$(n,e,t,r){const i=gr+r,o=t.length;r>0&&(t[i-1][yi]=e),r<o-gr?(e[yi]=t[i],rS(t,gr+r,e)):(t.push(e),e[yi]=null),e[gn]=t;const s=e[zs];null!==s&&t!==s&&function t$(n,e){const t=n[Gs];e[jn]!==e[gn][gn][jn]&&(n[ll]=!0),null===t?n[Gs]=[e]:t.push(e)}(s,e);const a=e[Li];null!==a&&a.insertView(n),e[it]|=128}(i,e,n,t),r){const o=WE(t,n),s=e[ot],a=S_(s,n[_o]);null!==a&&function Yj(n,e,t,r,i,o){r[pn]=i,r[lr]=e,Vf(n,r,t,1,i,o)}(i,n[lr],s,e,a,o)}}Symbol;let na=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=C9}return n})();const b9=na,w9=class extends b9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function I9(n,e,t,r){const i=e.tView,a=G_(n,i,t,4096&n[it]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[zs]=n[e.index];const l=n[Li];return null!==l&&(a[Li]=l.createEmbeddedView(i)),Ub(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Wf(i)}};function C9(){return function uy(n,e){return 4&n.type?new w9(e,n,Zl(n,e)):null}(mr(),me())}let Wo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=R9}return n})();function R9(){return function mx(n,e){let t;const r=e[n.index];return kr(r)?t=r:(t=W1(r,e,null,n),e[n.index]=t,W_(e,t)),_x(t,e,n,r),new px(t,n,e)}(mr(),me())}const x9=Wo,px=class extends x9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const e=v(this._hostTNode,this._hostLView);if(Sl(e)){const t=Ku(e,this._hostLView),r=ja(e);return new vr(t[Oe].data[r+8],t)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=gx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-gr}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function xf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const u=s?e:new Zf(Dt(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const M=(s?l:this.parentInjector).get(io,null);M&&(o=M)}Dt(u.componentType??{});const E=u.create(l,i,null,o);return this.insertImpl(E.hostView,a,false),E}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function gE(n){return kr(n[gn])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[gn],f=new px(l,l[lr],l[gn]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return E9(a,i,s,!r),e.attachToViewContainerRef(),rS(cw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=gx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=A_(this._lContainer,t);r&&(m_(cw(this._lContainer),t),HE(r[Oe],r))}detach(e){const t=this._adjustIndex(e,-1),r=A_(this._lContainer,t);return r&&null!=m_(cw(this._lContainer),t)?new Wf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function gx(n){return n[8]}function cw(n){return n[8]||(n[8]=[])}let _x=function yx(n,e,t,r){if(n[_o])return;let i;i=8&t.type?Qt(r):function M9(n,e){const t=n[ot],r=t.createComment(""),i=Yr(e,n);return Yu(t,S_(t,i),r,function o$(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[_o]=i};const Iw=new Ce("Application Initializer");let Ew=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ke(Iw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Xf(o))t.push(o);else if(RP(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hx=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ra=new Ce("LocaleId",{providedIn:"root",factory:()=>ke(ra,_t.Optional|_t.SkipSelf)||function c5(){return typeof $localize<"u"&&$localize.locale||dd}()});let dy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class h5{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let zx=(()=>{class n{compileModuleSync(t){return new iw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ea(Or(t).declarations).reduce((s,a)=>{const u=Dt(a);return u&&s.push(new Zf(u)),s},[]);return new h5(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zx=new Ce(""),fy=new Ce("");let Dw,Cw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dw||(function O5(n){Dw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ut.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ut),ve(Tw),ve(fy))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})(),Tw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Dw?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ka=null;const Kx=new Ce("AllowMultipleToken"),Aw=new Ce("PlatformDestroyListeners"),Sw=new Ce("appBootstrapListener");class Yx{constructor(e,t){this.name=e,this.token=t}}function Xx(n,e,t=[]){const r=`Platform: ${e}`,i=new Ce(r);return(o=[])=>{let s=Pw();if(!s||s.injector.get(Kx,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function V5(n){if(Ka&&!Ka.get(Kx,!1))throw new F(400,!1);(function Qx(){!function oE(n){pl=n}(()=>{throw new F(600,!1)})})(),Ka=n;const e=n.get(tM);(function Jx(n){n.get(s1,null)?.forEach(t=>t())})(n)}(function eM(n=[],e){return ei.create({name:e,providers:[{provide:sb,useValue:"platform"},{provide:Aw,useValue:new Set([()=>Ka=null])},...n]})}(a,r))}return function U5(n){const e=Pw();if(!e)throw new F(401,!1);return e}()}}function Pw(){return Ka?.get(tM)??null}let tM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function B5(n="zone.js",e){return"noop"===n?new y4:"zone.js"===n?new Ut(e):n}(r?.ngZone,function nM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Qz(n,e,t){return new rw(n,e,t)}(t.moduleType,this.injector,function aM(n){return[{provide:Ut,useFactory:n},{provide:jf,multi:!0,useFactory:()=>{const e=ke($5,{optional:!0});return()=>e.initialize()}},{provide:sM,useFactory:j5},{provide:w1,useFactory:C1}]}(()=>i)),s=o.injector.get(Xs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{py(this._modules,o),a.unsubscribe()})}),function rM(n,e,t){try{const r=t();return Xf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ew);return a.runInitializers(),a.donePromise.then(()=>(function TR(n){Vi(n,"Expected localeId to be defined"),"string"==typeof n&&(CR=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ra,dd)||dd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=iM({},r);return function k5(n,e,t){const r=new iw(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(pd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Aw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(ve(ei))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function iM(n,e){return Array.isArray(e)?e.reduce(iM,n):{...n,...e}}let pd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(sM),this.zoneIsStable=ke(w1),this.componentTypes=[],this.components=[],this.isStable=ke(dy).hasPendingTasks.pipe(Le(t=>t?V(!1):this.zoneIsStable),et(),de()),this._injector=ke(io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof d1;if(!this._injector.get(Ew).done)throw!i&&function ls(n){const e=Dt(n)||er(n)||cr(n);return null!==e&&e.standalone}(t),new F(405,!1);let s;s=i?t:this._injector.get(H_).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function F5(n){return n.isBoundToModule}(s)?void 0:this._injector.get(rc),l=s.create(ei.NULL,[],r||s.selector,a),f=l.location.nativeElement,m=l.injector.get(Zx,null);return m?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),py(this.components,l),m?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;py(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Sw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>py(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function py(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const sM=new Ce("",{providedIn:"root",factory:()=>ke(Xs).handleError.bind(void 0)});function j5(){const n=ke(Ut),e=ke(Xs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let $5=(()=>{class n{constructor(){this.zone=ke(Ut),this.applicationRef=ke(pd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let gy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=z5}return n})();function z5(n){return function q5(n,e,t){if(Na(n)&&!t){const r=Fr(n.index,e);return new Wf(r,r)}return 47&n.type?new Wf(e[jn],e):null}(mr(),me(),16==(16&n))}class hM{constructor(){}supports(e){return Y_(e)}create(e){return new Y5(e)}}const Q5=(n,e)=>e;class Y5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Q5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<pM(r,i,o)?t:r,a=pM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){const E=y<o.length?o[y]:o[y]=0,S=E+y;f<=S&&S<l&&(o[y]=E+1)}o[s.previousIndex]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Y_(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function S3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new J5(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new fM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class J5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class fM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new X5,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class gM{constructor(){}supports(e){return e instanceof Map||Bb(e)}create(){return new eq}}class eq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Bb(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new tq(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class tq{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mM(){return new yy([new hM])}let yy=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:mM});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mM()),deps:[[n,new y_,new Ur]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new F(901,!1)}}return n})();function _M(){return new dp([new gM])}let dp=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:_M});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_M()),deps:[[n,new y_,new Ur]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new F(901,!1)}}return n})();const iq=Xx(null,"core",[]);let oq=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(ve(pd))};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({})}return n})();function gd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let kw=null;function Qa(){return kw}class vq{}const uo=new Ce("DocumentToken");let Fw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return ke(Eq)},providedIn:"platform"})}return n})();const Iq=new Ce("Location Initialized");let Eq=(()=>{class n extends Fw{constructor(){super(),this._doc=ke(uo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qa().getBaseHref(this._doc)}onPopState(t){const r=Qa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Qa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Vw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function DM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ia(n){return n&&"?"!==n[0]?"?"+n:n}let sc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return ke(SM)},providedIn:"root"})}return n})();const AM=new Ce("appBaseHref");let SM=(()=>{class n extends sc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ke(uo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ia(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ia(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ia(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Fw),ve(AM,8))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bq=(()=>{class n extends sc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Vw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ia(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ia(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Fw),ve(AM,8))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})(),Lw=(()=>{class n{constructor(t){this._subject=new Hn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Tq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(DM(PM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ia(r))}normalize(t){return n.stripTrailingSlash(function Cq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,PM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ia(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ia(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ia;static#t=this.joinWithSlash=Vw;static#n=this.stripTrailingSlash=DM;static#r=this.\u0275fac=function(r){return new(r||n)(ve(sc))};static#i=this.\u0275prov=je({token:n,factory:function(){return function wq(){return new Lw(ve(sc))}()},providedIn:"root"})}return n})();function PM(n){return n.replace(/\/index.html$/,"")}function LM(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const Zw=/\s+/,UM=[];let BM=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=UM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Zw):UM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Zw):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Zw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(yy),ue(dp),ue(oo),ue(Js))};static#t=this.\u0275dir=Je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class l6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Es=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new l6(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),$M(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$M(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Wo),ue(na),ue(yy))};static#t=this.\u0275dir=Je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function $M(n,e){n.context.$implicit=e.item}let Ko=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new d6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){HM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){HM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Wo),ue(na))};static#t=this.\u0275dir=Je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class d6{constructor(){this.$implicit=null,this.ngIf=null}}function HM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${qe(e)}'.`)}class p6{createSubscription(e,t){return Bm(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Bm(()=>e.unsubscribe())}}class g6{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const m6=new g6,_6=new p6;let ac=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Xf(t))return m6;if(RP(t))return _6;throw function Qo(n,e){return new F(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(ue(gy,16))};static#t=this.\u0275pipe=ur({name:"async",type:n,pure:!1,standalone:!0})}return n})(),qM=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=GM}transform(t,r=GM){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(function R6(n,e){return{key:n,value:e}}(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||n)(ue(dp,16))};static#t=this.\u0275pipe=ur({name:"keyvalue",type:n,pure:!1,standalone:!0})}return n})();function GM(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),o=String(r);return i==o?0:i<o?-1:1}let O6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({})}return n})();function Ry(n){return"server"===n}let L6=(()=>{class n{static#e=this.\u0275prov=je({token:n,providedIn:"root",factory:()=>new U6(ve(uo),window)})}return n})();class U6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function B6(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ZM{}class cG extends vq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t0 extends cG{static makeCurrent(){!function yq(n){kw||(kw=n)}(new t0)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lG(){return gp=gp||document.querySelector("base"),gp?gp.getAttribute("href"):null}();return null==t?null:function dG(n){Ny=Ny||document.createElement("a"),Ny.setAttribute("href",n);const e=Ny.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LM(document.cookie,e)}}let Ny,gp=null,fG=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const n0=new Ce("EventManagerPlugins");let XM=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(ve(n0),ve(Ut))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();class eN{constructor(e){this._doc=e}}const r0="ng-app-id";let tN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ry(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${r0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(r0),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(r0,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(uo),ve(V_),ve(a1,8),ve(To))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const o0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s0=/%COMP%/g,_G=new Ce("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function rN(n,e){return e.map(t=>t.replace(s0,n))}let iN=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ry(a),this.defaultRenderer=new a0(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xn.ShadowDom&&(r={...r,encapsulation:Xn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof sN?i.applyToHost(t):i instanceof u0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Xn.Emulated:o=new sN(u,l,r,this.appId,f,s,a,m);break;case Xn.ShadowDom:return new EG(u,l,t,r,s,a,this.nonce,m);default:o=new u0(u,l,r,f,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(ve(XM),ve(tN),ve(V_),ve(_G),ve(uo),ve(To),ve(Ut),ve(a1))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();class a0{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(o0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(oN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=o0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=o0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qa.DashCase|qa.Important)?e.style.setProperty(t,r,i&qa.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Qa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function oN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class EG extends a0{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=rN(i.id,i.styles);for(const f of l){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class u0 extends a0{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?rN(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sN extends u0{constructor(e,t,r,i,o,s,a,u){const l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=function yG(n){return"_ngcontent-%COMP%".replace(s0,n)}(l),this.hostAttr=function vG(n){return"_nghost-%COMP%".replace(s0,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let bG=(()=>{class n extends eN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(uo))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const aN=["alt","control","meta","shift"],wG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let TG=(()=>{class n extends eN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qa().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),aN.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=wG[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aN.forEach(s=>{s!==i&&(0,CG[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(ve(uo))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const PG=Xx(iq,"browser",[{provide:To,useValue:"browser"},{provide:s1,useValue:function DG(){t0.makeCurrent()},multi:!0},{provide:uo,useFactory:function SG(){return function f$(n){QE=n}(document),document},deps:[]}]),RG=new Ce(""),lN=[{provide:fy,useClass:class hG{addToWindow(e){Kt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new F(5103,!1);return o},Kt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Kt.getAllAngularRootElements=()=>e.getAllRootElements(),Kt.frameworkStabilizers||(Kt.frameworkStabilizers=[]),Kt.frameworkStabilizers.push(r=>{const i=Kt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Qa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Zx,useClass:Cw,deps:[Ut,Tw,fy]},{provide:Cw,useClass:Cw,deps:[Ut,Tw,fy]}],dN=[{provide:sb,useValue:"root"},{provide:Xs,useFactory:function AG(){return new Xs},deps:[]},{provide:n0,useClass:bG,multi:!0,deps:[uo,Ut,To]},{provide:n0,useClass:TG,multi:!0,deps:[uo]},iN,tN,XM,{provide:f1,useExisting:iN},{provide:ZM,useClass:fG,deps:[]},[]];let xG=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:V_,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ve(RG,12))};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({providers:[...dN,...lN],imports:[O6,oq]})}return n})(),hN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(ve(uo))};static#t=this.\u0275prov=je({token:n,factory:function(r){let i=null;return i=r?new r:function NG(){return new hN(ve(uo))}(),i},providedIn:"root"})}return n})();function _d(n,e){return R(e)?sn(n,e,1):sn(n,1)}function Po(n,e){return ie((t,r)=>{let i=0;t.subscribe(xe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function bs(n){return ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}typeof window<"u"&&window;class Oy{}class ky{}class ws{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ws;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ws?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LG{encodeKey(e){return mN(e)}encodeValue(e){return mN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const BG=/%(\d[a-f0-9])/gi,jG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mN(n){return encodeURIComponent(n).replace(BG,(e,t)=>jG[t]??e)}function Fy(n){return`${n}`}class Ja{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function UG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Fy):[Fy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ja({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Fy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Fy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $G{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _N(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yN(n){return typeof Blob<"u"&&n instanceof Blob}function vN(n){return typeof FormData<"u"&&n instanceof FormData}class mp{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function HG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ws),this.context||(this.context=new $G),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ja,this.urlWithParams=t}serializeBody(){return null===this.body?null:_N(this.body)||yN(this.body)||vN(this.body)||function zG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vN(this.body)?null:yN(this.body)?this.body.type||null:_N(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),l)),new mp(t,r,o,{params:l,headers:u,context:f,reportProgress:a,responseType:i,withCredentials:s})}}var yd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yd||{});class l0{constructor(e,t=200,r="OK"){this.headers=e.headers||new ws,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class d0 extends l0{constructor(e={}){super(e),this.type=yd.ResponseHeader}clone(e={}){return new d0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vd extends l0{constructor(e={}){super(e),this.type=yd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IN extends l0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function h0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let EN=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof mp)o=t;else{let u,l;u=i.headers instanceof ws?i.headers:new ws(i.headers),i.params&&(l=i.params instanceof Ja?i.params:new Ja({fromObject:i.params})),o=new mp(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=V(o).pipe(_d(u=>this.handler.handle(u)));if(t instanceof mp||"events"===i.observe)return s;const a=s.pipe(Po(u=>u instanceof vd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ne(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ja).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,h0(i,r))}post(t,r,i={}){return this.request("POST",t,h0(i,r))}put(t,r,i={}){return this.request("PUT",t,h0(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Oy))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();function CN(n,e){return e(n)}function GG(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const ZG=new Ce(""),_p=new Ce(""),TN=new Ce("");function KG(){let n=null;return(e,t)=>{null===n&&(n=(ke(ZG,{optional:!0})??[]).reduceRight(GG,CN));const r=ke(dy),i=r.add();return n(e,t).pipe(bs(()=>r.remove(i)))}}let DN=(()=>{class n extends Oy{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ke(dy)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(_p),...this.injector.get(TN,[])]));this.chain=i.reduceRight((o,s)=>function WG(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),CN)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(bs(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(ky),ve(io))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const XG=/^\)\]\}',?\n/;let SN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new F(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?C(r.\u0275loadImpl()):V(null)).pipe(Le(()=>new st(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,M)=>s.setRequestHeader(x,M.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&s.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();s.responseType="json"!==x?x:"text"}const a=t.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const x=s.statusText||"OK",M=new ws(s.getAllResponseHeaders()),W=function e8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return u=new d0({headers:M,status:s.status,statusText:x,url:W}),u},f=()=>{let{headers:x,status:M,statusText:W,url:H}=l(),K=null;204!==M&&(K=typeof s.response>"u"?s.responseText:s.response),0===M&&(M=K?200:0);let ae=M>=200&&M<300;if("json"===t.responseType&&"string"==typeof K){const Te=K;K=K.replace(XG,"");try{K=""!==K?JSON.parse(K):null}catch(Be){K=Te,ae&&(ae=!1,K={error:Be,text:K})}}ae?(o.next(new vd({body:K,headers:x,status:M,statusText:W,url:H||void 0})),o.complete()):o.error(new IN({error:K,headers:x,status:M,statusText:W,url:H||void 0}))},m=x=>{const{url:M}=l(),W=new IN({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(W)};let y=!1;const E=x=>{y||(o.next(l()),y=!0);let M={type:yd.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),"text"===t.responseType&&s.responseText&&(M.partialText=s.responseText),o.next(M)},S=x=>{let M={type:yd.UploadProgress,loaded:x.loaded};x.lengthComputable&&(M.total=x.total),o.next(M)};return s.addEventListener("load",f),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",E),null!==a&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:yd.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",f),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",E),null!==a&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(ZM))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();const f0=new Ce("XSRF_ENABLED"),PN=new Ce("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),RN=new Ce("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xN{}let r8=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=LM(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(ve(uo),ve(To),ve(PN))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();function i8(n,e){const t=n.url.toLowerCase();if(!ke(f0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ke(xN).getToken(),i=ke(RN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Xa=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Xa||{});function o8(...n){const e=[EN,SN,DN,{provide:Oy,useExisting:DN},{provide:ky,useExisting:SN},{provide:_p,useValue:i8,multi:!0},{provide:f0,useValue:!0},{provide:xN,useClass:r8}];for(const t of n)e.push(...t.\u0275providers);return function rb(n){return{\u0275providers:n}}(e)}const MN=new Ce("LEGACY_INTERCEPTOR_FN");function s8(){return function uc(n,e){return{\u0275kind:n,\u0275providers:e}}(Xa.LegacyInterceptors,[{provide:MN,useFactory:KG},{provide:_p,useExisting:MN,multi:!0}])}let a8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({providers:[o8(s8())]})}return n})();const{isArray:p8}=Array,{getPrototypeOf:g8,prototype:m8,keys:_8}=Object;function NN(n){if(1===n.length){const e=n[0];if(p8(e))return{args:e,keys:null};if(function y8(n){return n&&"object"==typeof n&&g8(n)===m8}(e)){const t=_8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:v8}=Array;function ON(n){return Ne(e=>function I8(n,e){return v8(e)?n(...e):n(e)}(n,e))}function kN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function p0(...n){const e=Un(n),t=ko(n),{args:r,keys:i}=NN(n);if(0===r.length)return C([],e);const o=new st(function E8(n,e,t=En){return r=>{FN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)FN(e,()=>{const l=C(n[u],e);let f=!1;l.subscribe(xe(r,m=>{o[u]=m,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>kN(i,s):En));return t?o.pipe(ON(t)):o}function FN(n,e,t){n?bn(t,n,e):e()}const Ly=De(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function g0(...n){return function b8(){return Cr(1)}()(C(n,Un(n)))}function VN(n){return new st(e=>{Vt(n()).subscribe(e)})}function yp(n,e){const t=R(n)?n:()=>n,r=i=>i.error(t());return new st(e?i=>e.schedule(r,0,i):r)}function m0(){return ie((n,e)=>{let t=null;n._refCount++;const r=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class LN extends st{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,he(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ot;const t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ot.EMPTY)}return e}refCount(){return m0()(this)}}function Id(n){return n<=0?()=>Ln:ie((e,t)=>{let r=0;e.subscribe(xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uy(...n){const e=Un(n);return ie((t,r)=>{(e?g0(n,t,e):g0(n,t)).subscribe(r)})}function By(n){return ie((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function UN(n=w8){return ie((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function w8(){return new Ly}function eu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Po((i,o)=>n(i,o,r)):En,Id(1),t?By(e):UN(()=>new Ly))}function jr(n,e,t){const r=R(n)||e||t?{next:n,error:e,complete:t}:n;return r?ie((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(xe(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):En}function Cs(n){return ie((e,t)=>{let o,r=null,i=!1;r=e.subscribe(xe(t,void 0,void 0,s=>{o=Vt(n(s,Cs(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function jy(n,e){return ie(function C8(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(xe(s,f=>{const m=l++;u=a?n(u,f,m):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}function _0(n){return n<=0?()=>Ln:ie((e,t)=>{let r=[];e.subscribe(xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const pt="primary",vp=Symbol("RouteTitle");class S8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ed(n){return new S8(n)}function P8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!BN(n[i],e[i]))return!1;return!0}function BN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function jN(n){return n.length>0?n[n.length-1]:null}function tu(n){return function f8(n){return!!n&&(n instanceof st||R(n.lift)&&R(n.subscribe))}(n)?n:Xf(n)?C(Promise.resolve(n)):V(n)}const x8={exact:function zN(n,e,t){if(!cc(n.segments,e.segments)||!$y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zN(n.children[r],e.children[r],t))return!1;return!0},subset:qN},$N={exact:function M8(n,e){return Ts(n,e)},subset:function N8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>BN(n[t],e[t]))},ignored:()=>!0};function HN(n,e,t){return x8[t.paths](n.root,e.root,t.matrixParams)&&$N[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qN(n,e,t){return GN(n,e,e.segments,t)}function GN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!cc(i,t)||e.hasChildren()||!$y(i,t,r))}if(n.segments.length===t.length){if(!cc(n.segments,t)||!$y(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!qN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(cc(n.segments,i)&&$y(n.segments,i,r)&&n.children[pt])&&GN(n.children[pt],e,o,r)}}function $y(n,e,t){return e.every((r,i)=>$N[t](n[i].parameters,r.parameters))}class bd{constructor(e=new tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ed(this.queryParams)),this._queryParamMap}toString(){return F8.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hy(this)}}class Ip{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ed(this.parameters)),this._parameterMap}toString(){return KN(this)}}function cc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ep=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return new y0},providedIn:"root"})}return n})();class y0{parse(e){const t=new W8(e);return new bd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bp(e.root,!0)}`,r=function U8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zy(t)}=${zy(i)}`).join("&"):`${zy(t)}=${zy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function V8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const F8=new y0;function Hy(n){return n.segments.map(e=>KN(e)).join("/")}function bp(n,e){if(!n.hasChildren())return Hy(n);if(e){const t=n.children[pt]?bp(n.children[pt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pt&&r.push(`${i}:${bp(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function k8(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===pt?[bp(n.children[pt],!1)]:[`${i}:${bp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${Hy(n)}/${t[0]}`:`${Hy(n)}/(${t.join("//")})`}}function WN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zy(n){return WN(n).replace(/%3B/gi,";")}function v0(n){return WN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qy(n){return decodeURIComponent(n)}function ZN(n){return qy(n.replace(/\+/g,"%20"))}function KN(n){return`${v0(n.path)}${function L8(n){return Object.keys(n).map(e=>`;${v0(e)}=${v0(n[e])}`).join("")}(n.parameters)}`}const B8=/^[^\/()?;#]+/;function I0(n){const e=n.match(B8);return e?e[0]:""}const j8=/^[^\/()?;=#]+/,H8=/^[^=?&#]+/,q8=/^[^&#]+/;class W8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pt]=new tn(e,t)),r}parseSegment(){const e=I0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Ip(qy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function $8(n){const e=n.match(j8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=I0(this.remaining);i&&(r=i,this.capture(r))}e[qy(t)]=qy(r)}parseQueryParam(e){const t=function z8(n){const e=n.match(H8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function G8(n){const e=n.match(q8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=ZN(t),o=ZN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=I0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[pt]:new tn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function QN(n){return n.segments.length>0?new tn([],{[pt]:n}):n}function YN(n){const e={};for(const r of Object.keys(n.children)){const o=YN(n.children[r]);if(r===pt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Z8(n){if(1===n.numberOfChildren&&n.children[pt]){const e=n.children[pt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function lc(n){return n instanceof bd}function JN(n){let e;const i=QN(function t(o){const s={};for(const u of o.children){const l=t(u);s[u.outlet]=l}const a=new tn(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function XN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return E0(i,i,i,t,r);const o=function Q8(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new tO(t,e,r)}(e);if(o.toRoot())return E0(i,i,new tn([],{}),t,r);const s=function Y8(n,e,t){if(n.isAbsolute)return new Wy(e,!0,0);if(!t)return new Wy(e,!1,NaN);if(null===t.parent)return new Wy(t,!0,0);const r=Gy(n.commands[0])?0:1;return function J8(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Wy(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Cp(s.segmentGroup,s.index,o.commands):nO(s.segmentGroup,s.index,o.commands);return E0(i,s.segmentGroup,a,t,r)}function Gy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wp(n){return"object"==typeof n&&null!=n&&n.outlets}function E0(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),s=n===e?t:eO(n,e,t);const a=QN(YN(s));return new bd(a,o,i)}function eO(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:eO(o,e,t)}),new tn(n.segments,r)}class tO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gy(r[0]))throw new F(4003,!1);const i=r.find(wp);if(i&&i!==jN(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nO(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Cp(n,e,t);const r=function eW(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(wp(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!iO(u,l,s))return o;r+=2}else{if(!iO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new tn(n.segments.slice(0,r.pathIndex),{});return o.children[pt]=new tn(n.segments.slice(r.pathIndex),n.children),Cp(o,0,i)}return r.match&&0===i.length?new tn(n.segments,{}):r.match&&!n.hasChildren()?b0(n,e,t):r.match?Cp(n,0,i):b0(n,e,t)}function Cp(n,e,t){if(0===t.length)return new tn(n.segments,{});{const r=function X8(n){return wp(n[0])?n[0].outlets:{[pt]:n}}(t),i={};if(Object.keys(r).some(o=>o!==pt)&&n.children[pt]&&1===n.numberOfChildren&&0===n.children[pt].segments.length){const o=Cp(n.children[pt],e,t);return new tn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=nO(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new tn(n.segments,i)}}function b0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(wp(o)){const u=tW(o.outlets);return new tn(r,u)}if(0===i&&Gy(t[0])){r.push(new Ip(n.segments[e].path,rO(t[0]))),i++;continue}const s=wp(o)?o.outlets[pt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Gy(a)?(r.push(new Ip(s,rO(a))),i+=2):(r.push(new Ip(s,{})),i++)}return new tn(r,{})}function tW(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=b0(new tn([],{}),0,r))}),e}function rO(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function iO(n,e,t){return n==t.path&&Ts(e,t.parameters)}const Tp="imperative";class Ds{constructor(e,t){this.id=e,this.url=t}}class Zy extends Ds{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nu extends Ds{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dp extends Ds{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wd extends Ds{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Ky extends Ds{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oO extends Ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nW extends Ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rW extends Ds{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iW extends Ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oW extends Ds{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class w0{}class C0{constructor(e){this.url=e}}class hW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ap,this.attachRef=null}}let Ap=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=T0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=T0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=D0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D0(e,this._root).map(t=>t.value)}}function T0(n,e){if(n===e.value)return e;for(const t of e.children){const r=T0(n,t);if(r)return r}return null}function D0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=D0(n,t);if(r.length)return r.unshift(e),r}return[]}class aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uO extends aO{constructor(e,t){super(e),this.snapshot=t,A0(this,e)}toString(){return this.snapshot.toString()}}function cO(n,e){const t=function fW(n,e){const s=new Qy([],{},{},"",{},pt,e,null,{});return new dO("",new aa(s,[]))}(0,e),r=new w([new Ip("",{})]),i=new w({}),o=new w({}),s=new w({}),a=new w(""),u=new $r(r,i,s,a,o,pt,e,t.root);return u.snapshot=t.root,new uO(new aa(u,[]),t)}class $r{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(l=>l[vp]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>Ed(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>Ed(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function pW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qy{get title(){return this.data?.[vp]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ed(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ed(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dO extends aO{constructor(e,t){super(t),this.url=e,A0(this,t)}toString(){return hO(this._root)}}function A0(n,e){e.value._routerState=n,e.children.forEach(t=>A0(n,t))}function hO(n){const e=n.children.length>0?` { ${n.children.map(hO).join(", ")} } `:"";return`${n.value}${e}`}function S0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ts(e.params,t.params)||n.paramsSubject.next(t.params),function R8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ts(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function P0(n,e){const t=Ts(n.params,e.params)&&function O8(n,e){return cc(n,e)&&n.every((t,r)=>Ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||P0(n.parent,e.parent))}let R0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new Hn,this.deactivateEvents=new Hn,this.attachEvents=new Hn,this.detachEvents=new Hn,this.parentContexts=ke(Ap),this.location=ke(Wo),this.changeDetector=ke(gy),this.environmentInjector=ke(io),this.inputBinder=ke(Yy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new gW(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bi]})}return n})();class gW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$r?this.route:e===Ap?this.childContexts:this.parent.get(e,t)}}const Yy=new Ce("");let fO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=p0([r.queryParams,r.params,r.data]).pipe(Le(([o,s,a],u)=>(a={...o,...s,...a},0===u?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function _q(n){const e=Dt(n);if(!e)return null;const t=new Zf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();function Sp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _W(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sp(n,r,i);return Sp(n,r)})}(n,e,t);return new aa(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Sp(n,a)),s}}const r=function yW(n){return new $r(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Sp(n,o));return new aa(r,i)}}const x0="ngNavigationCancelingError";function pO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=lc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gO(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gO(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[x0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mO(n){return n&&n[x0]}let _O=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ar({type:n,selectors:[["ng-component"]],standalone:!0,features:[JR],decls:1,vars:0,template:function(r,i){1&r&&Ie(0,"router-outlet")},dependencies:[R0],encapsulation:2})}return n})();function M0(n){const e=n.children&&n.children.map(M0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pt&&(t.component=_O),t}function Yo(n){return n.outlet||pt}function Pp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class DW{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),S0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Cd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Cd(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dW(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(S0(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),S0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Pp(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class yO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jy{constructor(e,t){this.component=e,this.route=t}}function AW(n,e,t){const r=n._root;return Rp(r,e?e._root:null,t,[r.value])}function Td(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function QI(n){return null!==qc(n)}(n)?e.get(n):n:r}function Rp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cd(e);return n.children.forEach(s=>{(function PW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function RW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cc(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!P0(n,e)||!Ts(n.queryParams,e.queryParams);default:return!P0(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yO(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rp(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jy(a.outlet.component,s))}else s&&xp(e,a,i),i.canActivateChecks.push(new yO(r)),Rp(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xp(a,t.getContext(s),i)),i}function xp(n,e,t){const r=Cd(n),i=n.value;Object.entries(r).forEach(([o,s])=>{xp(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Jy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Mp(n){return"function"==typeof n}function vO(n){return n instanceof Ly||"EmptyError"===n?.name}const Xy=Symbol("INITIAL_VALUE");function Dd(){return Le(n=>p0(n.map(e=>e.pipe(Id(1),Uy(Xy)))).pipe(Ne(e=>{for(const t of e)if(!0!==t){if(t===Xy)return Xy;if(!1===t||t instanceof bd)return t}return!0}),Po(e=>e!==Xy),Id(1)))}function IO(n){return function hi(...n){return fi(n)}(jr(e=>{if(lc(e))throw pO(0,e)}),Ne(e=>!0===e))}class ev{constructor(e){this.segmentGroup=e||null}}class EO{constructor(e){this.urlTree=e}}function Ad(n){return yp(new ev(n))}function bO(n){return yp(new EO(n))}class QW{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new F(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[pt])return yp(new F(4e3,!1));i=i.children[pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new bd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new tn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const N0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YW(n,e,t,r,i){const o=O0(n,e,t);return o.matched?(r=function IW(n,e){return n.providers&&!n._injector&&(n._injector=ow(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function WW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?V(i.map(s=>{const a=Td(s,n);return tu(function FW(n){return n&&Mp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Dd(),IO()):V(!0)}(r,e,t).pipe(Ne(s=>!0===s?o:{...N0}))):V(o)}function O0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...N0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||P8)(t,n,e);if(!i)return{...N0};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wO(n,e,t,r){return t.length>0&&function e7(n,e,t){return t.some(r=>tv(n,e,r)&&Yo(r)!==pt)}(n,t,r)?{segmentGroup:new tn(e,XW(r,new tn(t,n.children))),slicedSegments:[]}:0===t.length&&function t7(n,e,t){return t.some(r=>tv(n,e,r))}(n,t,r)?{segmentGroup:new tn(n.segments,JW(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new tn(n.segments,n.children),slicedSegments:t}}function JW(n,e,t,r,i){const o={};for(const s of r)if(tv(n,t,s)&&!i[Yo(s)]){const a=new tn([],{});o[Yo(s)]=a}return{...i,...o}}function XW(n,e){const t={};t[pt]=e;for(const r of n)if(""===r.path&&Yo(r)!==pt){const i=new tn([],{});t[Yo(r)]=i}return t}function tv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class o7{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new QW(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,!1)}recognize(){const e=wO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pt).pipe(Cs(t=>{if(t instanceof EO)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ev?this.noMatchError(t):t}),Ne(t=>{const r=new Qy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,{}),i=new aa(r,t),o=new dO("",i),s=function K8(n,e,t=null,r=null){return XN(JN(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,pt).pipe(Cs(r=>{throw r instanceof ev?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=lO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return C(i).pipe(_d(o=>{const s=r.children[o],a=function CW(n,e){const t=n.filter(r=>Yo(r)===e);return t.push(...n.filter(r=>Yo(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),jy((o,s)=>(o.push(...s),o)),By(null),function T8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Po((i,o)=>n(i,o,r)):En,_0(1),t?By(e):UN(()=>new Ly))}(),sn(o=>{if(null===o)return Ad(r);const s=CO(o);return function s7(n){n.sort((e,t)=>e.value.outlet===pt?-1:t.value.outlet===pt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),V(s)}))}processSegment(e,t,r,i,o,s){return C(t).pipe(_d(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Cs(u=>{if(u instanceof ev)return V(null);throw u}))),eu(a=>!!a),Cs(a=>{if(vO(a))return function r7(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?V([]):Ad(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function n7(n,e,t,r){return!!(Yo(n)===r||r!==pt&&tv(e,t,n))&&("**"===n.path||O0(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ad(i):Ad(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bO(o):this.applyRedirects.lineralizeSegments(r,o).pipe(sn(s=>{const a=new tn(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:f}=O0(t,i,o);if(!a)return Ad(t);const m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?bO(m):this.applyRedirects.lineralizeSegments(i,m).pipe(sn(y=>this.processSegment(e,r,t,y.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?jN(i).parameters:{};a=V({snapshot:new Qy(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TO(r),Yo(r),r.component??r._loadedComponent??null,r,DO(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=YW(t,r,i,e).pipe(Ne(({matched:u,consumedSegments:l,remainingSegments:f,parameters:m})=>u?{snapshot:new Qy(l,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TO(r),Yo(r),r.component??r._loadedComponent??null,r,DO(r)),consumedSegments:l,remainingSegments:f}:null));return a.pipe(Le(u=>null===u?Ad(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Le(({routes:l})=>{const f=r._loadedInjector??e,{snapshot:m,consumedSegments:y,remainingSegments:E}=u,{segmentGroup:S,slicedSegments:x}=wO(t,y,E,l);if(0===x.length&&S.hasChildren())return this.processChildren(f,l,S).pipe(Ne(W=>null===W?null:[new aa(m,W)]));if(0===l.length&&0===x.length)return V([new aa(m,[])]);const M=Yo(r)===o;return this.processSegment(f,l,S,x,M?pt:o,!0).pipe(Ne(W=>[new aa(m,W)]))}))))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?V({routes:t._loadedRoutes,injector:t._loadedInjector}):function GW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(s=>{const a=Td(s,n);return tu(function MW(n){return n&&Mp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Dd(),IO())}(e,t,r).pipe(sn(i=>i?this.configLoader.loadChildren(e,t).pipe(jr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function KW(n){return yp(gO(!1,3))}())):V({routes:[],injector:e})}}function a7(n){const e=n.value.routeConfig;return e&&""===e.path}function CO(n){const e=[],t=new Set;for(const r of n){if(!a7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=CO(r.children);e.push(new aa(r.value,i))}return e.filter(r=>!t.has(r))}function TO(n){return n.data||{}}function DO(n){return n.resolve||{}}function AO(n){return"string"==typeof n.title||null===n.title}function k0(n){return Le(e=>{const t=n(e);return t?C(t).pipe(Ne(()=>e)):V(e)})}const Sd=new Ce("ROUTES");let F0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ke(zx)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=tu(t.loadComponent()).pipe(Ne(SO),jr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bs(()=>{this.componentLoaders.delete(t)})),i=new LN(r,()=>new se).pipe(m0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function p7(n,e,t,r){return tu(n.loadChildren()).pipe(Ne(SO),sn(i=>i instanceof QR||Array.isArray(i)?V(i):C(e.compileModuleAsync(i))),Ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Sd,[],{optional:!0,self:!0}).flat()),{routes:s.map(M0),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(bs(()=>{this.childrenLoaders.delete(r)})),s=new LN(o,()=>new se).pipe(m0());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SO(n){return function g7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let nv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=ke(F0),this.environmentInjector=ke(io),this.urlSerializer=ke(Ep),this.rootContexts=ke(Ap),this.inputBindingEnabled=null!==ke(Yy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new aW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new sW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new w({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Po(o=>0!==o.id),Ne(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{this.currentTransition=o;let s=!1,a=!1;return V(o).pipe(jr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Le(u=>{const l=u.currentBrowserUrl.toString(),f=!t.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!f&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new wd(u.id,this.urlSerializer.serialize(u.rawUrl),y,0)),u.resolve(null),Ln}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return V(u).pipe(Le(y=>{const E=this.transitions?.getValue();return this.events.next(new Zy(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions?.getValue()?Ln:Promise.resolve(y)}),function u7(n,e,t,r,i,o){return sn(s=>function i7(n,e,t,r,i,o,s="emptyOnly"){return new o7(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Ne(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),jr(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const E=new oO(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:y,extractedUrl:E,source:S,restoredState:x,extras:M}=u,W=new Zy(y,this.urlSerializer.serialize(E),S,x);this.events.next(W);const H=cO(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:H,urlAfterRedirects:E,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},V(o)}{const y="";return this.events.next(new wd(u.id,this.urlSerializer.serialize(u.extractedUrl),y,1)),u.resolve(null),Ln}}),jr(u=>{const l=new nW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ne(u=>(this.currentTransition=o={...u,guards:AW(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function LW(n,e){return sn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?V({...t,guardsResult:!0}):function UW(n,e,t,r){return C(n).pipe(sn(i=>function qW(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?V(o.map(a=>{const u=Pp(e)??i,l=Td(a,u);return tu(function kW(n){return n&&Mp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(eu())})).pipe(Dd()):V(!0)}(i.component,i.route,t,e,r)),eu(i=>!0!==i,!0))}(s,r,i,n).pipe(sn(a=>a&&function xW(n){return"boolean"==typeof n}(a)?function BW(n,e,t,r){return C(e).pipe(_d(i=>g0(function $W(n,e){return null!==n&&e&&e(new uW(n)),V(!0)}(i.route.parent,r),function jW(n,e){return null!==n&&e&&e(new lW(n)),V(!0)}(i.route,r),function zW(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function SW(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>VN(()=>V(s.guards.map(u=>{const l=Pp(s.node)??t,f=Td(u,l);return tu(function OW(n){return n&&Mp(n.canActivateChild)}(f)?f.canActivateChild(r,n):l.runInContext(()=>f(r,n))).pipe(eu())})).pipe(Dd())));return V(o).pipe(Dd())}(n,i.path,t),function HW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(o=>VN(()=>{const s=Pp(e)??t,a=Td(o,s);return tu(function NW(n){return n&&Mp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(eu())}));return V(i).pipe(Dd())}(n,i.route,t))),eu(i=>!0!==i,!0))}(r,o,n,e):V(a)),Ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),jr(u=>{if(o.guardsResult=u.guardsResult,lc(u.guardsResult))throw pO(0,u.guardsResult);const l=new rW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Po(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),k0(u=>{if(u.guards.canActivateChecks.length)return V(u).pipe(jr(l=>{const f=new iW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Le(l=>{let f=!1;return V(l).pipe(function c7(n,e){return sn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=0;return C(i).pipe(_d(s=>function l7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!AO(i)&&(o[vp]=i.title),function d7(n,e,t,r){const i=function h7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return V({});const o={};return C(i).pipe(sn(s=>function f7(n,e,t,r){const i=Pp(e)??r,o=Td(n,i);return tu(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(eu(),jr(a=>{o[s]=a}))),_0(1),function D8(n){return Ne(()=>n)}(o),Cs(s=>vO(s)?Ln:yp(s)))}(o,n,e,r).pipe(Ne(s=>(n._resolvedData=s,n.data=lO(n,t).resolve,i&&AO(i)&&(n.data[vp]=i.title),null)))}(s.route,r,n,e)),jr(()=>o++),_0(1),sn(s=>o===i.length?V(t):Ln))})}(t.paramsInheritanceStrategy,this.environmentInjector),jr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",2)}}))}),jr(l=>{const f=new oW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),k0(u=>{const l=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(jr(y=>{f.component=y}),Ne(()=>{})));for(const y of f.children)m.push(...l(y));return m};return p0(l(u.targetSnapshot.root)).pipe(By(),Id(1))}),k0(()=>this.afterPreactivation()),Ne(u=>{const l=function mW(n,e,t){const r=Sp(n,e._root,t?t._root:void 0);return new uO(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),jr(()=>{this.events.next(new w0)}),((n,e,t,r)=>Ne(i=>(new DW(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Id(1),jr({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function A8(n){return ie((e,t)=>{Vt(n).subscribe(xe(t,()=>t.complete(),ze)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(jr(u=>{throw u}))),bs(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Cs(u=>{if(a=!0,mO(u))this.events.next(new Dp(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function vW(n){return mO(n)&&lc(n.url)}(u)?this.events.next(new C0(u.url)):o.resolve(!1);else{this.events.next(new Ky(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){o.reject(l)}}return Ln}))}))}cancelNavigationTransition(t,r,i){const o=new Dp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PO(n){return n!==Tp}let RO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pt);return r}getResolvedTitleForRoute(t){return t.data[vp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return ke(m7)},providedIn:"root"})}return n})(),m7=(()=>{class n extends RO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(hN))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return ke(v7)},providedIn:"root"})}return n})();class y7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let v7=(()=>{class n extends y7{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=dr(n)))(i||n)}}();static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rv=new Ce("",{providedIn:"root",factory:()=>({})});let I7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:function(){return ke(E7)},providedIn:"root"})}return n})(),E7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Np=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Np||{});function xO(n,e){n.events.pipe(Po(t=>t instanceof nu||t instanceof Dp||t instanceof Ky||t instanceof wd),Ne(t=>t instanceof nu||t instanceof wd?Np.COMPLETE:t instanceof Dp&&(0===t.code||1===t.code)?Np.REDIRECTING:Np.FAILED),Po(t=>t!==Np.REDIRECTING),Id(1)).subscribe(()=>{e()})}function b7(n){throw n}function w7(n,e,t){return e.parse("/")}const C7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ke(Hx),this.isNgZoneEnabled=!1,this._events=new se,this.options=ke(rv,{optional:!0})||{},this.pendingTasks=ke(dy),this.errorHandler=this.options.errorHandler||b7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||w7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ke(I7),this.routeReuseStrategy=ke(_7),this.titleStrategy=ke(RO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ke(Sd,{optional:!0})?.flat()??[],this.navigationTransitions=ke(nv),this.urlSerializer=ke(Ep),this.location=ke(Lw),this.componentInputBindingEnabled=!!ke(Yy,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=ke(Ut)instanceof Ut&&Ut.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(MO(r)&&this._events.next(r));if(r instanceof Zy)PO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof wd)this.rawUrlTree=i.rawUrl;else if(r instanceof oO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof w0)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Dp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof C0){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PO(i.source)};this.scheduleNavigation(o,Tp,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ky&&this.restoreHistory(i,!0),r instanceof nu&&(this.navigated=!0),MO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(M0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let m,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{m=JN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return XN(m,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=lc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Tp,null,r)}navigate(t,r={skipLocationChange:!1}){return function D7(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new F(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...C7}:!1===r?{...T7}:r,lc(t))return HN(this.currentUrlTree,t,i);const o=this.parseUrl(t);return HN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((m,y)=>{a=m,u=y});const f=this.pendingTasks.add();return xO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MO(n){return!(n instanceof w0||n instanceof C0)}let Op=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof nu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function JS(n,e,t){return function O$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?YS:Hi}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Zi),ue($r),function Ha(n){return function $(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(el(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(mr(),n)}("tabindex"),ue(Js),ue(oo),ue(sc))};static#t=this.\u0275dir=Je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&at("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&jo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gd],skipLocationChange:["skipLocationChange","skipLocationChange",gd],replaceUrl:["replaceUrl","replaceUrl",gd],routerLink:"routerLink"},standalone:!0,features:[dP,Bi]})}return n})();class NO{}let P7=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Po(t=>t instanceof nu),_d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ow(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return C(i).pipe(Cr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):V(null);const o=i.pipe(sn(s=>null===s?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?C([o,this.loader.loadComponent(r)]).pipe(Cr()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Zi),ve(zx),ve(io),ve(NO),ve(F0))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const V0=new Ce("");let OO=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nu?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function L1(){throw new Error("invalid")}()};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac})}return n})();function ua(n,e){return{\u0275kind:n,\u0275providers:e}}function FO(){const n=ke(ei);return e=>{const t=n.get(pd);if(e!==t.components[0])return;const r=n.get(Zi),i=n.get(VO);1===n.get(L0)&&r.initialNavigation(),n.get(LO,null,_t.Optional)?.setUpPreloading(),n.get(V0,null,_t.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const VO=new Ce("",{factory:()=>new se}),L0=new Ce("",{providedIn:"root",factory:()=>1}),LO=new Ce("");function N7(n){return ua(0,[{provide:LO,useExisting:P7},{provide:NO,useExisting:n}])}const UO=new Ce("ROUTER_FORROOT_GUARD"),k7=[Lw,{provide:Ep,useClass:y0},Zi,Ap,{provide:$r,useFactory:function kO(n){return n.routerState.root},deps:[Zi]},F0,[]];function F7(){return new Yx("Router",Zi)}let U0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[k7,[],{provide:Sd,multi:!0,useValue:t},{provide:UO,useFactory:B7,deps:[[Zi,new Ur,new y_]]},{provide:rv,useValue:r||{}},r?.useHash?{provide:sc,useClass:bq}:{provide:sc,useClass:SM},{provide:V0,useFactory:()=>{const n=ke(L6),e=ke(Ut),t=ke(rv),r=ke(nv),i=ke(Ep);return t.scrollOffset&&n.setOffset(t.scrollOffset),new OO(i,r,n,e,t)}},r?.preloadingStrategy?N7(r.preloadingStrategy).\u0275providers:[],{provide:Yx,multi:!0,useFactory:F7},r?.initialNavigation?j7(r):[],r?.bindToComponentInputs?ua(8,[fO,{provide:Yy,useExisting:fO}]).\u0275providers:[],[{provide:BO,useFactory:FO},{provide:Sw,multi:!0,useExisting:BO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Sd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ve(UO,8))};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({})}return n})();function B7(n){return"guarded"}function j7(n){return["disabled"===n.initialNavigation?ua(3,[{provide:Iw,multi:!0,useFactory:()=>{const e=ke(Zi);return()=>{e.setUpLocationChangeListener()}}},{provide:L0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ua(2,[{provide:L0,useValue:0},{provide:Iw,multi:!0,deps:[ei],useFactory:e=>{const t=e.get(Iq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Zi),o=e.get(VO);xO(i,()=>{r(!0)}),e.get(nv).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const BO=new Ce("");var Wn=Ke(534);(0,Wn.registerVersion)("firebase","10.12.2","app");class q7 extends Ot{constructor(e,t){super()}schedule(e,t=0){return this}}const iv={setInterval(n,e,...t){const{delegate:r}=iv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=iv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class jO extends q7{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return iv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&iv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,He(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const B0={now:()=>(B0.delegate||Date).now(),delegate:void 0};class kp{constructor(e,t=kp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}kp.now=B0.now;class $O extends kp{constructor(e,t=kp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Z7=new class W7 extends $O{}(class G7 extends jO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),j0=new $O(jO),ca=new Kl("ANGULARFIRE2_VERSION");function $0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const ov=(n,e)=>{const t=e?[e]:(0,Wn.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Fp{constructor(){return ov(K7)}}const K7="app-check";function Pd(){}class HO{zone;delegate;constructor(e,t=Z7){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Q7{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pd,{},Pd,Pd)),t.pipe(jr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rd=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new HO(Zone.current)),this.insideAngular=t.run(()=>new HO(Zone.current,j0)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ve(Ut))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function dc(n){return xd().ngZone.run(()=>n())}function zO(n){return n.pipe(wn(xd().outsideAngular))}function Ti(n){return function J7(n){return function(t){return(t=t.lift(new Q7(n.ngZone))).pipe(Tr(n.outsideAngular),wn(n.insideAngular))}}(xd())(n)}const X7=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),dc(()=>n.apply(void 0,r))},H0=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=dc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pd,{},Pd,Pd))),r[o]=X7(r[o],t));const i=function Y7(n){return xd().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof st){const o=xd();return i.pipe(Tr(o.outsideAngular),wn(o.insideAngular))}return dc(()=>i)}return i instanceof st?i.pipe(Ti):i instanceof Promise?dc(()=>new Promise((o,s)=>i.then(a=>dc(()=>o(a)),a=>dc(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:dc(()=>i)};var Jo=Ke(106);Jo.Z.registerVersion("firebase","10.12.2","app-compat");const nZ=["ngOnDestroy"];class qO{constructor(e){return e}}const Vp=new Ce("angularfire2.app.options"),Lp=new Ce("angularfire2.app.name");function sv(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const s=Jo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Jo.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;oZ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qO(s)}const oZ=(n,...e)=>{},sZ={provide:qO,useFactory:sv,deps:[Vp,Ut,[new Ur,Lp]]};let aZ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Vp,useValue:t},{provide:Lp,useValue:r}]}}constructor(t){Jo.Z.registerVersion("angularfire",ca.full,"core"),Jo.Z.registerVersion("angularfire",ca.full,"app-compat"),Jo.Z.registerVersion("angular",Ib.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ve(To))};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[sZ]})}return n})();function z0(n,e,t,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function uZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,s)||(GO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${cZ?" You may need to reload as Firebase is not HMR aware.":""}`),GO("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const cZ=typeof module<"u"&&!!module.hot,GO=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ke(365);class lZ extends se{constructor(e=1/0,t=1/0,r=B0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}function WO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,de({connector:()=>new lZ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ZO(n,e){return R(e)?Le(()=>n,e):Le(()=>n)}const KO=new Ce("angularfire2.auth.use-emulator"),QO=new Ce("angularfire2.auth.settings"),YO=new Ce("angularfire2.auth.tenant-id"),JO=new Ce("angularfire2.auth.langugage-code"),XO=new Ce("angularfire2.auth.use-device-language"),ek=new Ce("angularfire.auth.persistence"),tk=(n,e,t,r,i,o,s,a)=>z0(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(const[l,f]of Object.entries(s))u.settings[l]=f;return a&&u.setPersistence(a),u},[t,r,i,o,s,a]);let q0=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,u,l,f,m,y,E){const S=new se,x=V(void 0).pipe(wn(s.outsideAngular),Le(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ke.bind(Ke,365)))),Ne(()=>sv(t,o,r)),Ne(M=>tk(M,o,a,l,f,m,u,y)),WO({bufferSize:1,refCount:!1}));if(Ry(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{x.pipe(eu()).subscribe();const M=x.pipe(Le(K=>K.getRedirectResult().then(ae=>ae,()=>null)),Ti,WO({bufferSize:1,refCount:!1})),W=x.pipe(Le(K=>new st(ae=>({unsubscribe:o.runOutsideAngular(()=>K.onAuthStateChanged(Te=>ae.next(Te),Te=>ae.error(Te),()=>ae.complete()))})))),H=x.pipe(Le(K=>new st(ae=>({unsubscribe:o.runOutsideAngular(()=>K.onIdTokenChanged(Te=>ae.next(Te),Te=>ae.error(Te),()=>ae.complete()))}))));this.authState=M.pipe(ZO(W),Tr(s.outsideAngular),wn(s.insideAngular)),this.user=M.pipe(ZO(H),Tr(s.outsideAngular),wn(s.insideAngular)),this.idToken=this.user.pipe(Le(K=>K?C(K.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(Le(K=>K?C(K.getIdTokenResult()):V(null))),this.credential=A(M,S,this.authState.pipe(Po(K=>!K))).pipe(Ne(K=>K?.user?K:null),Tr(s.outsideAngular),wn(s.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(nZ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const u=a?.[o];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(f=>{const m=f?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,m),m})})})}))(this,x,o,{spy:{apply:(M,W,H)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&H.then(K=>S.next(K))}}})}static \u0275fac=function(r){return new(r||n)(ve(Vp),ve(Lp,8),ve(To),ve(Ut),ve(Rd),ve(KO,8),ve(QO,8),ve(YO,8),ve(JO,8),ve(XO,8),ve(ek,8),ve(Fp,8))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),hZ=(()=>{class n{constructor(){Jo.Z.registerVersion("angularfire",ca.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[q0]})}return n})();function G0(){return ie((n,e)=>{let t,r=!1;n.subscribe(xe(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var hc,ik,le=Ke(861),av=Ke(537),As=Ke(879),ft=Ke(58),nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rk={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(z,N,B){B||(B=0);var q=Array(16);if("string"==typeof N)for(var Z=0;16>Z;++Z)q[Z]=N.charCodeAt(B++)|N.charCodeAt(B++)<<8|N.charCodeAt(B++)<<16|N.charCodeAt(B++)<<24;else for(Z=0;16>Z;++Z)q[Z]=N[B++]|N[B++]<<8|N[B++]<<16|N[B++]<<24;var ee=z.g[3],j=(N=z.g[0])+(ee^(B=z.g[1])&((Z=z.g[2])^ee))+q[0]+3614090360&4294967295;j=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=(B=(Z=(ee=(N=B+(j<<7&4294967295|j>>>25))+((j=ee+(Z^N&(B^Z))+q[1]+3905402710&4294967295)<<12&4294967295|j>>>20))+((j=Z+(B^ee&(N^B))+q[2]+606105819&4294967295)<<17&4294967295|j>>>15))+((j=B+(N^Z&(ee^N))+q[3]+3250441966&4294967295)<<22&4294967295|j>>>10))+((j=N+(ee^B&(Z^ee))+q[4]+4118548399&4294967295)<<7&4294967295|j>>>25))+((j=ee+(Z^N&(B^Z))+q[5]+1200080426&4294967295)<<12&4294967295|j>>>20))+((j=Z+(B^ee&(N^B))+q[6]+2821735955&4294967295)<<17&4294967295|j>>>15))+((j=B+(N^Z&(ee^N))+q[7]+4249261313&4294967295)<<22&4294967295|j>>>10))+((j=N+(ee^B&(Z^ee))+q[8]+1770035416&4294967295)<<7&4294967295|j>>>25))+((j=ee+(Z^N&(B^Z))+q[9]+2336552879&4294967295)<<12&4294967295|j>>>20))+((j=Z+(B^ee&(N^B))+q[10]+4294925233&4294967295)<<17&4294967295|j>>>15))+((j=B+(N^Z&(ee^N))+q[11]+2304563134&4294967295)<<22&4294967295|j>>>10))+((j=N+(ee^B&(Z^ee))+q[12]+1804603682&4294967295)<<7&4294967295|j>>>25))+((j=ee+(Z^N&(B^Z))+q[13]+4254626195&4294967295)<<12&4294967295|j>>>20))+((j=Z+(B^ee&(N^B))+q[14]+2792965006&4294967295)<<17&4294967295|j>>>15))+((j=B+(N^Z&(ee^N))+q[15]+1236535329&4294967295)<<22&4294967295|j>>>10))+((j=N+(Z^ee&(B^Z))+q[1]+4129170786&4294967295)<<5&4294967295|j>>>27))+((j=ee+(B^Z&(N^B))+q[6]+3225465664&4294967295)<<9&4294967295|j>>>23))+((j=Z+(N^B&(ee^N))+q[11]+643717713&4294967295)<<14&4294967295|j>>>18))+((j=B+(ee^N&(Z^ee))+q[0]+3921069994&4294967295)<<20&4294967295|j>>>12))+((j=N+(Z^ee&(B^Z))+q[5]+3593408605&4294967295)<<5&4294967295|j>>>27))+((j=ee+(B^Z&(N^B))+q[10]+38016083&4294967295)<<9&4294967295|j>>>23))+((j=Z+(N^B&(ee^N))+q[15]+3634488961&4294967295)<<14&4294967295|j>>>18))+((j=B+(ee^N&(Z^ee))+q[4]+3889429448&4294967295)<<20&4294967295|j>>>12))+((j=N+(Z^ee&(B^Z))+q[9]+568446438&4294967295)<<5&4294967295|j>>>27))+((j=ee+(B^Z&(N^B))+q[14]+3275163606&4294967295)<<9&4294967295|j>>>23))+((j=Z+(N^B&(ee^N))+q[3]+4107603335&4294967295)<<14&4294967295|j>>>18))+((j=B+(ee^N&(Z^ee))+q[8]+1163531501&4294967295)<<20&4294967295|j>>>12))+((j=N+(Z^ee&(B^Z))+q[13]+2850285829&4294967295)<<5&4294967295|j>>>27))+((j=ee+(B^Z&(N^B))+q[2]+4243563512&4294967295)<<9&4294967295|j>>>23))+((j=Z+(N^B&(ee^N))+q[7]+1735328473&4294967295)<<14&4294967295|j>>>18))+((j=B+(ee^N&(Z^ee))+q[12]+2368359562&4294967295)<<20&4294967295|j>>>12))+((j=N+(B^Z^ee)+q[5]+4294588738&4294967295)<<4&4294967295|j>>>28))+((j=ee+(N^B^Z)+q[8]+2272392833&4294967295)<<11&4294967295|j>>>21))+((j=Z+(ee^N^B)+q[11]+1839030562&4294967295)<<16&4294967295|j>>>16))+((j=B+(Z^ee^N)+q[14]+4259657740&4294967295)<<23&4294967295|j>>>9))+((j=N+(B^Z^ee)+q[1]+2763975236&4294967295)<<4&4294967295|j>>>28))+((j=ee+(N^B^Z)+q[4]+1272893353&4294967295)<<11&4294967295|j>>>21))+((j=Z+(ee^N^B)+q[7]+4139469664&4294967295)<<16&4294967295|j>>>16))+((j=B+(Z^ee^N)+q[10]+3200236656&4294967295)<<23&4294967295|j>>>9))+((j=N+(B^Z^ee)+q[13]+681279174&4294967295)<<4&4294967295|j>>>28))+((j=ee+(N^B^Z)+q[0]+3936430074&4294967295)<<11&4294967295|j>>>21))+((j=Z+(ee^N^B)+q[3]+3572445317&4294967295)<<16&4294967295|j>>>16))+((j=B+(Z^ee^N)+q[6]+76029189&4294967295)<<23&4294967295|j>>>9))+((j=N+(B^Z^ee)+q[9]+3654602809&4294967295)<<4&4294967295|j>>>28))+((j=ee+(N^B^Z)+q[12]+3873151461&4294967295)<<11&4294967295|j>>>21))+((j=Z+(ee^N^B)+q[15]+530742520&4294967295)<<16&4294967295|j>>>16))+((j=B+(Z^ee^N)+q[2]+3299628645&4294967295)<<23&4294967295|j>>>9))+((j=N+(Z^(B|~ee))+q[0]+4096336452&4294967295)<<6&4294967295|j>>>26))+((j=ee+(B^(N|~Z))+q[7]+1126891415&4294967295)<<10&4294967295|j>>>22))+((j=Z+(N^(ee|~B))+q[14]+2878612391&4294967295)<<15&4294967295|j>>>17))+((j=B+(ee^(Z|~N))+q[5]+4237533241&4294967295)<<21&4294967295|j>>>11))+((j=N+(Z^(B|~ee))+q[12]+1700485571&4294967295)<<6&4294967295|j>>>26))+((j=ee+(B^(N|~Z))+q[3]+2399980690&4294967295)<<10&4294967295|j>>>22))+((j=Z+(N^(ee|~B))+q[10]+4293915773&4294967295)<<15&4294967295|j>>>17))+((j=B+(ee^(Z|~N))+q[1]+2240044497&4294967295)<<21&4294967295|j>>>11))+((j=N+(Z^(B|~ee))+q[8]+1873313359&4294967295)<<6&4294967295|j>>>26))+((j=ee+(B^(N|~Z))+q[15]+4264355552&4294967295)<<10&4294967295|j>>>22))+((j=Z+(N^(ee|~B))+q[6]+2734768916&4294967295)<<15&4294967295|j>>>17))+((j=B+(ee^(Z|~N))+q[13]+1309151649&4294967295)<<21&4294967295|j>>>11))+((ee=(N=B+((j=N+(Z^(B|~ee))+q[4]+4149444226&4294967295)<<6&4294967295|j>>>26))+((j=ee+(B^(N|~Z))+q[11]+3174756917&4294967295)<<10&4294967295|j>>>22))^((Z=ee+((j=Z+(N^(ee|~B))+q[2]+718787259&4294967295)<<15&4294967295|j>>>17))|~N))+q[9]+3951481745&4294967295,z.g[0]=z.g[0]+N&4294967295,z.g[1]=z.g[1]+(Z+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+Z&4294967295,z.g[3]=z.g[3]+ee&4294967295}function s(z,N){this.h=N;for(var B=[],q=!0,Z=z.length-1;0<=Z;Z--){var ee=0|z[Z];q&&ee==N||(B[Z]=ee,q=!1)}this.g=B}(function e(z,N){function B(){}B.prototype=N.prototype,z.D=N.prototype,z.prototype=new B,z.prototype.constructor=z,z.C=function(q,Z,ee){for(var j=Array(arguments.length-2),ba=2;ba<arguments.length;ba++)j[ba-2]=arguments[ba];return N.prototype[Z].apply(q,j)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(z,N){void 0===N&&(N=z.length);for(var B=N-this.blockSize,q=this.B,Z=this.h,ee=0;ee<N;){if(0==Z)for(;ee<=B;)i(this,z,ee),ee+=this.blockSize;if("string"==typeof z){for(;ee<N;)if(q[Z++]=z.charCodeAt(ee++),Z==this.blockSize){i(this,q),Z=0;break}}else for(;ee<N;)if(q[Z++]=z[ee++],Z==this.blockSize){i(this,q),Z=0;break}}this.h=Z,this.o+=N},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var N=1;N<z.length-8;++N)z[N]=0;var B=8*this.o;for(N=z.length-8;N<z.length;++N)z[N]=255&B,B/=256;for(this.u(z),z=Array(16),N=B=0;4>N;++N)for(var q=0;32>q;q+=8)z[B++]=this.g[N]>>>q&255;return z};var a={};function u(z){return-128<=z&&128>z?function o(z,N){var B=a;return Object.prototype.hasOwnProperty.call(B,z)?B[z]:B[z]=N(z)}(z,function(N){return new s([0|N],0>N?-1:0)}):new s([0|z],0>z?-1:0)}function l(z){if(isNaN(z)||!isFinite(z))return m;if(0>z)return M(l(-z));for(var N=[],B=1,q=0;z>=B;q++)N[q]=z/B|0,B*=4294967296;return new s(N,0)}var m=u(0),y=u(1),E=u(16777216);function S(z){if(0!=z.h)return!1;for(var N=0;N<z.g.length;N++)if(0!=z.g[N])return!1;return!0}function x(z){return-1==z.h}function M(z){for(var N=z.g.length,B=[],q=0;q<N;q++)B[q]=~z.g[q];return new s(B,~z.h).add(y)}function W(z,N){return z.add(M(N))}function H(z,N){for(;(65535&z[N])!=z[N];)z[N+1]+=z[N]>>>16,z[N]&=65535,N++}function K(z,N){this.g=z,this.h=N}function ae(z,N){if(S(N))throw Error("division by zero");if(S(z))return new K(m,m);if(x(z))return N=ae(M(z),N),new K(M(N.g),M(N.h));if(x(N))return N=ae(z,M(N)),new K(M(N.g),N.h);if(30<z.g.length){if(x(z)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var B=y,q=N;0>=q.l(z);)B=Te(B),q=Te(q);var Z=Be(B,1),ee=Be(q,1);for(q=Be(q,2),B=Be(B,2);!S(q);){var j=ee.add(q);0>=j.l(z)&&(Z=Z.add(B),ee=j),q=Be(q,1),B=Be(B,1)}return N=W(z,Z.j(N)),new K(Z,N)}for(Z=m;0<=z.l(N);){for(B=Math.max(1,Math.floor(z.m()/N.m())),q=48>=(q=Math.ceil(Math.log(B)/Math.LN2))?1:Math.pow(2,q-48),j=(ee=l(B)).j(N);x(j)||0<j.l(z);)j=(ee=l(B-=q)).j(N);S(ee)&&(ee=y),Z=Z.add(ee),z=W(z,j)}return new K(Z,z)}function Te(z){for(var N=z.g.length+1,B=[],q=0;q<N;q++)B[q]=z.i(q)<<1|z.i(q-1)>>>31;return new s(B,z.h)}function Be(z,N){var B=N>>5;N%=32;for(var q=z.g.length-B,Z=[],ee=0;ee<q;ee++)Z[ee]=0<N?z.i(ee+B)>>>N|z.i(ee+B+1)<<32-N:z.i(ee+B);return new s(Z,z.h)}(n=s.prototype).m=function(){if(x(this))return-M(this).m();for(var z=0,N=1,B=0;B<this.g.length;B++){var q=this.i(B);z+=(0<=q?q:4294967296+q)*N,N*=4294967296}return z},n.toString=function(z){if(2>(z=z||10)||36<z)throw Error("radix out of range: "+z);if(S(this))return"0";if(x(this))return"-"+M(this).toString(z);for(var N=l(Math.pow(z,6)),B=this,q="";;){var Z=ae(B,N).g,ee=((0<(B=W(B,Z.j(N))).g.length?B.g[0]:B.h)>>>0).toString(z);if(S(B=Z))return ee+q;for(;6>ee.length;)ee="0"+ee;q=ee+q}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h},n.l=function(z){return x(z=W(this,z))?-1:S(z)?0:1},n.abs=function(){return x(this)?M(this):this},n.add=function(z){for(var N=Math.max(this.g.length,z.g.length),B=[],q=0,Z=0;Z<=N;Z++){var ee=q+(65535&this.i(Z))+(65535&z.i(Z)),j=(ee>>>16)+(this.i(Z)>>>16)+(z.i(Z)>>>16);q=j>>>16,B[Z]=(j&=65535)<<16|(ee&=65535)}return new s(B,-2147483648&B[B.length-1]?-1:0)},n.j=function(z){if(S(this)||S(z))return m;if(x(this))return x(z)?M(this).j(M(z)):M(M(this).j(z));if(x(z))return M(this.j(M(z)));if(0>this.l(E)&&0>z.l(E))return l(this.m()*z.m());for(var N=this.g.length+z.g.length,B=[],q=0;q<2*N;q++)B[q]=0;for(q=0;q<this.g.length;q++)for(var Z=0;Z<z.g.length;Z++){var ee=this.i(q)>>>16,j=65535&this.i(q),ba=z.i(Z)>>>16,zg=65535&z.i(Z);B[2*q+2*Z]+=j*zg,H(B,2*q+2*Z),B[2*q+2*Z+1]+=ee*zg,H(B,2*q+2*Z+1),B[2*q+2*Z+1]+=j*ba,H(B,2*q+2*Z+1),B[2*q+2*Z+2]+=ee*ba,H(B,2*q+2*Z+2)}for(q=0;q<N;q++)B[q]=B[2*q+1]<<16|B[2*q];for(q=N;q<2*N;q++)B[q]=0;return new s(B,0)},n.A=function(z){return ae(this,z).h},n.and=function(z){for(var N=Math.max(this.g.length,z.g.length),B=[],q=0;q<N;q++)B[q]=this.i(q)&z.i(q);return new s(B,this.h&z.h)},n.or=function(z){for(var N=Math.max(this.g.length,z.g.length),B=[],q=0;q<N;q++)B[q]=this.i(q)|z.i(q);return new s(B,this.h|z.h)},n.xor=function(z){for(var N=Math.max(this.g.length,z.g.length),B=[],q=0;q<N;q++)B[q]=this.i(q)^z.i(q);return new s(B,this.h^z.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ik=rk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function f(z,N){if(0==z.length)throw Error("number format error: empty string");if(2>(N=N||10)||36<N)throw Error("radix out of range: "+N);if("-"==z.charAt(0))return M(f(z.substring(1),N));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=l(Math.pow(N,8)),q=m,Z=0;Z<z.length;Z+=8){var ee=Math.min(8,z.length-Z),j=parseInt(z.substring(Z,Z+ee),N);8>ee?(ee=l(Math.pow(N,ee)),q=q.j(ee).add(l(j))):q=(q=q.j(B)).add(l(j))}return q},hc=rk.Integer=s}).apply(typeof nk<"u"?nk:typeof self<"u"?self:typeof window<"u"?window:{});var ok,sk,Up,ak,cv,W0,uk,ck,lk,uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,_,I){return h==Array.prototype||h==Object.prototype||(h[_]=I.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof uv&&uv];for(var _=0;_<h.length;++_){var I=h[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function i(h,_){if(_)e:{var I=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in I))break e;I=I[Q]}(_=_(D=I[h=h[h.length-1]]))!=D&&null!=_&&e(I,h,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(h){return h||function(){return function o(h,_){h instanceof String&&(h+="");var I=0,D=!1,Q={next:function(){if(!D&&I<h.length){var oe=I++;return{value:_(oe,h[oe]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}(this,function(_,I){return I})}});var s=s||{},a=this||self;function u(h){var _=typeof h;return"array"==(_="object"!=_?_:h?Array.isArray(h)?"array":_:"null")||"object"==_&&"number"==typeof h.length}function l(h){var _=typeof h;return"object"==_&&null!=h||"function"==_}function f(h,_,I){return h.call.apply(h.bind,arguments)}function m(h,_,I){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),h.apply(_,Q)}}return function(){return h.apply(_,arguments)}}function y(h,_,I){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:m).apply(null,arguments)}function E(h,_){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function S(h,_){function I(){}I.prototype=_.prototype,h.aa=_.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(D,Q,oe){for(var Se=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)Se[hn-2]=arguments[hn];return _.prototype[Q].apply(D,Se)}}function x(h){const _=h.length;if(0<_){const I=Array(_);for(let D=0;D<_;D++)I[D]=h[D];return I}return[]}function M(h,_){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(u(D)){const Q=h.length||0,oe=D.length||0;h.length=Q+oe;for(let Se=0;Se<oe;Se++)h[Q+Se]=D[Se]}else h.push(D)}}function H(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var Te=!(-1==K().indexOf("Gecko")||-1!=K().toLowerCase().indexOf("webkit")&&-1==K().indexOf("Edge")||-1!=K().indexOf("Trident")||-1!=K().indexOf("MSIE")||-1!=K().indexOf("Edge"));function Be(h,_,I){for(const D in h)_.call(I,h[D],D,h)}function N(h){const _={};for(const I in h)_[I]=h[I];return _}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(h,_){let I,D;for(let Q=1;Q<arguments.length;Q++){for(I in D=arguments[Q],D)h[I]=D[I];for(let oe=0;oe<B.length;oe++)I=B[oe],Object.prototype.hasOwnProperty.call(D,I)&&(h[I]=D[I])}}function Z(h){var _=1;h=h.split(":");const I=[];for(;0<_&&h.length;)I.push(h.shift()),_--;return h.length&&I.push(h.join(":")),I}function ee(h){a.setTimeout(()=>{throw h},0)}function j(){var h=rA;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}var zg=new class W{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new ere,h=>h.reset());class ere{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let qg,Gg=!1,rA=new class ba{constructor(){this.h=this.g=null}add(_,I){const D=zg.get();D.set(_,I),this.h?this.h.next=D:this.g=D,this.h=D}},eB=()=>{const h=a.Promise.resolve(void 0);qg=()=>{h.then(tre)}};var tre=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(I){ee(I)}var _=zg;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}Gg=!1};function Du(){this.s=this.s,this.C=this.C}function ui(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}Du.prototype.s=!1,Du.prototype.ma=function(){this.s||(this.s=!0,this.N())},Du.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ui.prototype.h=function(){this.defaultPrevented=!0};var nre=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return h}();function Wg(h,_){if(ui.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(Te){e:{try{ae(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else"mouseover"==I?_=h.fromElement:"mouseout"==I&&(_=h.toElement);this.relatedTarget=_,D?(this.clientX=void 0!==D.clientX?D.clientX:D.pageX,this.clientY=void 0!==D.clientY?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:rre[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Wg.aa.h.call(this)}}S(Wg,ui);var rre={2:"touch",3:"pen",4:"mouse"};Wg.prototype.h=function(){Wg.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Zg="closure_listenable_"+(1e6*Math.random()|0),ire=0;function ore(h,_,I,D,Q){this.listener=h,this.proxy=null,this.src=_,this.type=I,this.capture=!!D,this.ha=Q,this.key=++ire,this.da=this.fa=!1}function xI(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function MI(h){this.src=h,this.g={},this.h=0}function iA(h,_){var I=_.type;if(I in h.g){var oe,D=h.g[I],Q=Array.prototype.indexOf.call(D,_,void 0);(oe=0<=Q)&&Array.prototype.splice.call(D,Q,1),oe&&(xI(_),0==h.g[I].length&&(delete h.g[I],h.h--))}}function oA(h,_,I,D){for(var Q=0;Q<h.length;++Q){var oe=h[Q];if(!oe.da&&oe.listener==_&&oe.capture==!!I&&oe.ha==D)return Q}return-1}MI.prototype.add=function(h,_,I,D,Q){var oe=h.toString();(h=this.g[oe])||(h=this.g[oe]=[],this.h++);var Se=oA(h,_,D,Q);return-1<Se?(_=h[Se],I||(_.fa=!1)):((_=new ore(_,this.src,oe,!!D,Q)).fa=I,h.push(_)),_};var sA="closure_lm_"+(1e6*Math.random()|0),aA={};function tB(h,_,I,D,Q){if(D&&D.once)return rB(h,_,I,D,Q);if(Array.isArray(_)){for(var oe=0;oe<_.length;oe++)tB(h,_[oe],I,D,Q);return null}return I=dA(I),h&&h[Zg]?h.K(_,I,l(D)?!!D.capture:!!D,Q):nB(h,_,I,!1,D,Q)}function nB(h,_,I,D,Q,oe){if(!_)throw Error("Invalid event type");var Se=l(Q)?!!Q.capture:!!Q,hn=cA(h);if(hn||(h[sA]=hn=new MI(h)),(I=hn.add(_,I,D,Se,oe)).proxy)return I;if(D=function sre(){const _=are;return function h(I){return _.call(h.src,h.listener,I)}}(),I.proxy=D,D.src=h,D.listener=I,h.addEventListener)nre||(Q=Se),void 0===Q&&(Q=!1),h.addEventListener(_.toString(),D,Q);else if(h.attachEvent)h.attachEvent(oB(_.toString()),D);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(D)}return I}function rB(h,_,I,D,Q){if(Array.isArray(_)){for(var oe=0;oe<_.length;oe++)rB(h,_[oe],I,D,Q);return null}return I=dA(I),h&&h[Zg]?h.L(_,I,l(D)?!!D.capture:!!D,Q):nB(h,_,I,!0,D,Q)}function iB(h,_,I,D,Q){if(Array.isArray(_))for(var oe=0;oe<_.length;oe++)iB(h,_[oe],I,D,Q);else D=l(D)?!!D.capture:!!D,I=dA(I),h&&h[Zg]?(h=h.i,(_=String(_).toString())in h.g&&-1<(I=oA(oe=h.g[_],I,D,Q))&&(xI(oe[I]),Array.prototype.splice.call(oe,I,1),0==oe.length&&(delete h.g[_],h.h--))):h&&(h=cA(h))&&(_=h.g[_.toString()],h=-1,_&&(h=oA(_,I,D,Q)),(I=-1<h?_[h]:null)&&uA(I))}function uA(h){if("number"!=typeof h&&h&&!h.da){var _=h.src;if(_&&_[Zg])iA(_.i,h);else{var I=h.type,D=h.proxy;_.removeEventListener?_.removeEventListener(I,D,h.capture):_.detachEvent?_.detachEvent(oB(I),D):_.addListener&&_.removeListener&&_.removeListener(D),(I=cA(_))?(iA(I,h),0==I.h&&(I.src=null,_[sA]=null)):xI(h)}}}function oB(h){return h in aA?aA[h]:aA[h]="on"+h}function are(h,_){if(h.da)h=!0;else{_=new Wg(_,this);var I=h.listener,D=h.ha||h.src;h.fa&&uA(h),h=I.call(D,_)}return h}function cA(h){return(h=h[sA])instanceof MI?h:null}var lA="__closure_events_fn_"+(1e9*Math.random()>>>0);function dA(h){return"function"==typeof h?h:(h[lA]||(h[lA]=function(_){return h.handleEvent(_)}),h[lA])}function ci(){Du.call(this),this.i=new MI(this),this.M=this,this.F=null}function xi(h,_){var I,D=h.F;if(D)for(I=[];D;D=D.F)I.push(D);if(h=h.M,D=_.type||_,"string"==typeof _)_=new ui(_,h);else if(_ instanceof ui)_.target=_.target||h;else{var Q=_;q(_=new ui(D,h),Q)}if(Q=!0,I)for(var oe=I.length-1;0<=oe;oe--){var Se=_.g=I[oe];Q=NI(Se,D,!0,_)&&Q}if(Q=NI(Se=_.g=h,D,!0,_)&&Q,Q=NI(Se,D,!1,_)&&Q,I)for(oe=0;oe<I.length;oe++)Q=NI(Se=_.g=I[oe],D,!1,_)&&Q}function NI(h,_,I,D){if(!(_=h.i.g[String(_)]))return!0;_=_.concat();for(var Q=!0,oe=0;oe<_.length;++oe){var Se=_[oe];if(Se&&!Se.da&&Se.capture==I){var hn=Se.listener,Gr=Se.ha||Se.src;Se.fa&&iA(h.i,Se),Q=!1!==hn.call(Gr,D)&&Q}}return Q&&!D.defaultPrevented}function sB(h,_,I){if("function"==typeof h)I&&(h=y(h,I));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=y(h.handleEvent,h)}return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function aB(h){h.g=sB(()=>{h.g=null,h.i&&(h.i=!1,aB(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}S(ci,Du),ci.prototype[Zg]=!0,ci.prototype.removeEventListener=function(h,_,I,D){iB(this,h,_,I,D)},ci.prototype.N=function(){if(ci.aa.N.call(this),this.i){var _,h=this.i;for(_ in h.g){for(var I=h.g[_],D=0;D<I.length;D++)xI(I[D]);delete h.g[_],h.h--}}this.F=null},ci.prototype.K=function(h,_,I,D){return this.i.add(String(h),_,!1,I,D)},ci.prototype.L=function(h,_,I,D){return this.i.add(String(h),_,!0,I,D)};class ure extends Du{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:aB(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kg(h){Du.call(this),this.h=h,this.g={}}S(Kg,Du);var uB=[];function cB(h){Be(h.g,function(_,I){this.g.hasOwnProperty(I)&&uA(_)},h),h.g={}}Kg.prototype.N=function(){Kg.aa.N.call(this),cB(this)},Kg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hA=a.JSON.stringify,cre=a.JSON.parse,lre=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function fA(){}function dB(){}fA.prototype.h=null;var Qg={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pA(){ui.call(this,"d")}function gA(){ui.call(this,"c")}S(pA,ui),S(gA,ui);var Lc={},hB=null;function OI(){return hB=hB||new ci}function fB(h){ui.call(this,Lc.La,h)}function Yg(h){const _=OI();xi(_,new fB(_))}function pB(h,_){ui.call(this,Lc.STAT_EVENT,h),this.stat=_}function Mi(h){const _=OI();xi(_,new pB(_,h))}function gB(h,_){ui.call(this,Lc.Ma,h),this.size=_}function Jg(h,_){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function Xg(){this.g=!0}function wh(h,_,I,D){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+function pre(h,_){if(!h.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I)for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var D=I[h];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var oe=Q[0];if("noop"!=oe&&"stop"!=oe&&"close"!=oe)for(var Se=1;Se<Q.length;Se++)Q[Se]=""}}}return hA(I)}catch{return _}}(h,I)+(D?" "+D:"")})}Lc.La="serverreachability",S(fB,ui),Lc.STAT_EVENT="statevent",S(pB,ui),Lc.Ma="timingevent",S(gB,ui),Xg.prototype.xa=function(){this.g=!1},Xg.prototype.info=function(){};var mA,kI={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mB={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function FI(){}function Au(h,_,I,D){this.j=h,this.i=_,this.l=I,this.R=D||1,this.U=new Kg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _B}function _B(){this.i=null,this.g="",this.h=!1}S(FI,fA),FI.prototype.g=function(){return new XMLHttpRequest},FI.prototype.i=function(){return{}},mA=new FI;var yB={},_A={};function yA(h,_,I){h.L=1,h.v=BI(wa(_)),h.m=I,h.P=!0,vB(h,null)}function vB(h,_){h.F=Date.now(),VI(h),h.A=wa(h.v);var I=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),NB(I.i,"t",D),h.C=0,I=h.j.J,h.h=new _B,h.g=YB(h.j,I?_:null,!h.m),0<h.O&&(h.M=new ure(y(h.Y,h,h.g),h.O)),_=h.U,I=h.g,D=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(uB[0]=Q.toString()),Q=uB);for(var oe=0;oe<Q.length;oe++){var Se=tB(I,Q[oe],D||_.handleEvent,!1,_.h||_);if(!Se)break;_.g[Se.key]=Se}_=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Yg(),function dre(h,_,I,D,Q,oe){h.info(function(){if(h.g)if(oe)for(var Se="",hn=oe.split("&"),Gr=0;Gr<hn.length;Gr++){var Ht=hn[Gr].split("=");if(1<Ht.length){var li=Ht[0];Ht=Ht[1];var di=li.split("_");Se=2<=di.length&&"type"==di[1]?Se+(li+"=")+Ht+"&":Se+(li+"=redacted&")}}else Se=null;else Se=oe;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+_+"\n"+I+"\n"+Se})}(h.i,h.u,h.A,h.l,h.R,h.m)}function IB(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function gre(h,_){var I=h.C,D=_.indexOf("\n",I);return-1==D?_A:(I=Number(_.substring(I,D)),isNaN(I)?yB:(D+=1)+I>_.length?_A:(_=_.slice(D,D+I),h.C=D+I,_))}function VI(h){h.S=Date.now()+h.I,EB(h,h.I)}function EB(h,_){if(null!=h.B)throw Error("WatchDog timer not null");h.B=Jg(y(h.ba,h),_)}function vA(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function em(h){0==h.j.G||h.J||WB(h.j,h)}function Uc(h){vA(h);var _=h.M;_&&"function"==typeof _.ma&&_.ma(),h.M=null,cB(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function IA(h,_){try{var I=h.j;if(0!=I.G&&(I.g==h||EA(I.h,h)))if(!h.K&&EA(I.h,h)&&3==I.G){try{var D=I.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&3==D.length){var Q=D;if(0==Q[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<h.F))break e;qI(I),HI(I)}TA(I),Mi(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&0==I.v&&!I.C&&(I.C=Jg(y(I.Za,I),6e3));if(1>=CB(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else jc(I,11)}else if((h.K||I.g==h)&&qI(I),!H(_))for(Q=I.Da.g.parse(_),_=0;_<Q.length;_++){let Ht=Q[_];if(I.T=Ht[0],Ht=Ht[1],2==I.G)if("c"==Ht[0]){I.K=Ht[1],I.ia=Ht[2];const li=Ht[3];null!=li&&(I.la=li,I.j.info("VER="+I.la));const di=Ht[4];null!=di&&(I.Aa=di,I.j.info("SVER="+I.Aa));const Dh=Ht[5];null!=Dh&&"number"==typeof Dh&&0<Dh&&(I.L=D=1.5*Dh,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const es=h.g;if(es){const WI=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(WI){var oe=D.h;oe.g||-1==WI.indexOf("spdy")&&-1==WI.indexOf("quic")&&-1==WI.indexOf("h2")||(oe.j=oe.l,oe.g=new Set,oe.h&&(bA(oe,oe.h),oe.h=null))}if(D.D){const AA=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;AA&&(D.ya=AA,Pn(D.I,D.D,AA))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms"));var Se=h;if((D=I).qa=QB(D,D.J?D.ia:null,D.W),Se.K){TB(D.h,Se);var hn=Se,Gr=D.L;Gr&&(hn.I=Gr),hn.B&&(vA(hn),VI(hn)),D.g=Se}else qB(D);0<I.i.length&&zI(I)}else"stop"!=Ht[0]&&"close"!=Ht[0]||jc(I,7);else 3==I.G&&("stop"==Ht[0]||"close"==Ht[0]?"stop"==Ht[0]?jc(I,7):CA(I):"noop"!=Ht[0]&&I.l&&I.l.ta(Ht),I.v=0)}Yg()}catch{}}function bB(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wB(h){return!!h.h||!!h.g&&h.g.size>=h.j}function CB(h){return h.h?1:h.g?h.g.size:0}function EA(h,_){return h.h?h.h==_:!!h.g&&h.g.has(_)}function bA(h,_){h.g?h.g.add(_):h.h=_}function TB(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}function DB(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let _=h.i;for(const I of h.g.values())_=_.concat(I.D);return _}return x(h.i)}function AB(h,_){if(h.forEach&&"function"==typeof h.forEach)h.forEach(_,void 0);else if(u(h)||"string"==typeof h)Array.prototype.forEach.call(h,_,void 0);else for(var I=function yre(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||"string"==typeof h){var _=[];h=h.length;for(var I=0;I<h;I++)_.push(I);return _}_=[],I=0;for(const D in h)_[I++]=D;return _}}}(h),D=function _re(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(u(h)){for(var _=[],I=h.length,D=0;D<I;D++)_.push(h[D]);return _}for(D in _=[],I=0,h)_[I++]=h[D];return _}(h),Q=D.length,oe=0;oe<Q;oe++)_.call(void 0,D[oe],I&&I[oe],h)}Au.prototype.ca=function(h){h=h.target;const _=this.M;_&&3==Ca(h)?_.j():this.Y(h)},Au.prototype.Y=function(h){try{if(h==this.g)e:{const di=Ca(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>di)&&(3!=di||this.g&&(this.h.h||this.g.oa()||BB(this.g)))){this.J||4!=di||7==_||Yg(),vA(this);var I=this.g.Z();this.X=I;t:if(IB(this)){var D=BB(this.g);h="";var Q=D.length,oe=4==Ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uc(this),em(this);var Se="";break t}this.h.i=new a.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,h+=this.h.i.decode(D[_],{stream:!(oe&&_==Q-1)});D.length=0,this.h.g+=h,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=200==I,function hre(h,_,I,D,Q,oe,Se){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+_+"\n"+I+"\n"+oe+" "+Se})}(this.i,this.u,this.A,this.l,this.R,di,I),this.o){if(this.T&&!this.K){t:{if(this.g){var hn,Gr=this.g;if((hn=Gr.g?Gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(hn)){var Ht=hn;break t}}Ht=null}if(!(I=Ht)){this.o=!1,this.s=3,Mi(12),Uc(this),em(this);break e}wh(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IA(this,I)}if(this.P){let es;for(I=!0;!this.J&&this.C<Se.length;){if(es=gre(this,Se),es==_A){4==di&&(this.s=4,Mi(14),I=!1),wh(this.i,this.l,null,"[Incomplete Response]");break}if(es==yB){this.s=4,Mi(15),wh(this.i,this.l,Se,"[Invalid Chunk]"),I=!1;break}wh(this.i,this.l,es,null),IA(this,es)}if(IB(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=di||0!=Se.length||this.h.h||(this.s=1,Mi(16),I=!1),this.o=this.o&&I,I){if(0<Se.length&&!this.W){this.W=!0;var li=this.j;li.g==this&&li.ba&&!li.M&&(li.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),DA(li),li.M=!0,Mi(11))}}else wh(this.i,this.l,Se,"[Invalid Chunked Response]"),Uc(this),em(this)}else wh(this.i,this.l,Se,null),IA(this,Se);4==di&&Uc(this),this.o&&!this.J&&(4==di?WB(this.j,this):(this.o=!1,VI(this)))}else(function Mre(h){const _={};h=(h.g&&2<=Ca(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let D=0;D<h.length;D++){if(H(h[D]))continue;var I=Z(h[D]);const Q=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const oe=_[Q]||[];_[Q]=oe,oe.push(I)}!function z(h,_){for(const I in h)_.call(void 0,h[I],I,h)}(_,function(D){return D.join(", ")})})(this.g),400==I&&0<Se.indexOf("Unknown SID")?(this.s=3,Mi(12)):(this.s=0,Mi(13)),Uc(this),em(this)}}}catch{}},Au.prototype.cancel=function(){this.J=!0,Uc(this)},Au.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function fre(h,_){h.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(Yg(),Mi(17)),Uc(this),this.s=2,em(this)):EB(this,this.S-h)},bB.prototype.cancel=function(){if(this.i=DB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var SB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Bc){this.h=h.h,LI(this,h.j),this.o=h.o,this.g=h.g,UI(this,h.s),this.l=h.l;var _=h.i,I=new rm;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),PB(this,I),this.m=h.m}else h&&(_=String(h).match(SB))?(this.h=!1,LI(this,_[1]||"",!0),this.o=tm(_[2]||""),this.g=tm(_[3]||"",!0),UI(this,_[4]),this.l=tm(_[5]||"",!0),PB(this,_[6]||"",!0),this.m=tm(_[7]||"")):(this.h=!1,this.i=new rm(null,this.h))}function wa(h){return new Bc(h)}function LI(h,_,I){h.j=I?tm(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function UI(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function PB(h,_,I){_ instanceof rm?(h.i=_,function Tre(h,_){_&&!h.j&&(Su(h),h.i=null,h.g.forEach(function(I,D){var Q=D.toLowerCase();D!=Q&&(xB(this,D),NB(this,Q,I))},h)),h.j=_}(h.i,h.h)):(I||(_=nm(_,wre)),h.i=new rm(_,h.h))}function Pn(h,_,I){h.i.set(_,I)}function BI(h){return Pn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function tm(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function nm(h,_,I){return"string"==typeof h?(h=encodeURI(h).replace(_,Ire),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ire(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Bc.prototype.toString=function(){var h=[],_=this.j;_&&h.push(nm(_,RB,!0),":");var I=this.g;return(I||"file"==_)&&(h.push("//"),(_=this.o)&&h.push(nm(_,RB,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&h.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&h.push("/"),h.push(nm(I,"/"==I.charAt(0)?bre:Ere,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",nm(I,Cre)),h.join("")};var h,RB=/[#\/\?@]/g,Ere=/[#\?:]/g,bre=/[#\?]/g,wre=/[#\?@]/g,Cre=/#/g;function rm(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Su(h){h.g||(h.g=new Map,h.h=0,h.i&&function vre(h,_){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var D=h[I].indexOf("="),Q=null;if(0<=D){var oe=h[I].substring(0,D);Q=h[I].substring(D+1)}else oe=h[I];_(oe,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}(h.i,function(_,I){h.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}function xB(h,_){Su(h),_=Ch(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function MB(h,_){return Su(h),_=Ch(h,_),h.g.has(_)}function NB(h,_,I){xB(h,_),0<I.length&&(h.i=null,h.g.set(Ch(h,_),x(I)),h.h+=I.length)}function Ch(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Pu(h,_,I,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(I)}catch{}}function Sre(){this.g=new lre}function Pre(h,_,I){const D=I||"";try{AB(h,function(Q,oe){let Se=Q;l(Q)&&(Se=hA(Q)),_.push(D+oe+"="+encodeURIComponent(Se))})}catch(Q){throw _.push(D+"type="+encodeURIComponent("_badmap")),Q}}function im(h){this.l=h.Ub||null,this.j=h.eb||!1}function jI(h,_){ci.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function OB(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function om(h){h.readyState=4,h.l=null,h.j=null,h.v=null,sm(h)}function sm(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function kB(h){let _="";return Be(h,function(I,D){_+=D,_+=":",_+=I,_+="\r\n"}),_}function wA(h,_,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=kB(I),"string"==typeof h?null!=I&&encodeURIComponent(String(I)):Pn(h,_,I))}function Kn(h){ci.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=rm.prototype).add=function(h,_){Su(this),this.i=null,h=Ch(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(_),this.h+=1,this},n.forEach=function(h,_){Su(this),this.g.forEach(function(I,D){I.forEach(function(Q){h.call(_,Q,D,this)},this)},this)},n.na=function(){Su(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let D=0;D<_.length;D++){const Q=h[D];for(let oe=0;oe<Q.length;oe++)I.push(_[D])}return I},n.V=function(h){Su(this);let _=[];if("string"==typeof h)MB(this,h)&&(_=_.concat(this.g.get(Ch(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)_=_.concat(h[I])}return _},n.set=function(h,_){return Su(this),this.i=null,MB(this,h=Ch(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h&&0<(h=this.V(h)).length?String(h[0]):_},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var D=_[I];const oe=encodeURIComponent(String(D)),Se=this.V(D);for(D=0;D<Se.length;D++){var Q=oe;""!==Se[D]&&(Q+="="+encodeURIComponent(String(Se[D]))),h.push(Q)}}return this.i=h.join("&")},S(im,fA),im.prototype.g=function(){return new jI(this.l,this.j)},im.prototype.i=(h={},function(){return h}),S(jI,ci),(n=jI.prototype).open=function(h,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,sm(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,om(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sm(this)),this.g&&(this.readyState=3,sm(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OB(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?om(this):sm(this),3==this.readyState&&OB(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,om(this))},n.Qa=function(h){this.g&&(this.response=h,om(this))},n.ga=function(){this.g&&om(this)},n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var I=_.next();!I.done;)h.push((I=I.value)[0]+": "+I[1]),I=_.next();return h.join("\r\n")},Object.defineProperty(jI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),S(Kn,ci);var Rre=/^https?$/i,xre=["POST","PUT"];function FB(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,VB(h),$I(h)}function VB(h){h.A||(h.A=!0,xi(h,"complete"),xi(h,"error"))}function LB(h){if(h.h&&typeof s<"u"&&(!h.v[1]||4!=Ca(h)||2!=h.Z()))if(h.u&&4==Ca(h))sB(h.Ea,0,h);else if(xi(h,"readystatechange"),4==Ca(h)){h.h=!1;try{const Se=h.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var D;if(D=0===Se){var Q=String(h.D).match(SB)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),D=!Rre.test(Q?Q.toLowerCase():"")}I=D}if(I)xi(h,"complete"),xi(h,"success");else{h.m=6;try{var oe=2<Ca(h)?h.g.statusText:""}catch{oe=""}h.l=oe+" ["+h.Z()+"]",VB(h)}}finally{$I(h)}}}function $I(h,_){if(h.g){UB(h);const I=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||xi(h,"ready");try{I.onreadystatechange=D}catch{}}}function UB(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function Ca(h){return h.g?h.g.readyState:0}function BB(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function am(h,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||_}function jB(h){this.Aa=0,this.i=[],this.j=new Xg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=am("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=am("baseRetryDelayMs",5e3,h),this.cb=am("retryDelaySeedMs",1e4,h),this.Wa=am("forwardChannelMaxRetries",2,h),this.wa=am("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bB(h&&h.concurrentRequestLimit),this.Da=new Sre,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function CA(h){if($B(h),3==h.G){var _=h.U++,I=wa(h.I);if(Pn(I,"SID",h.K),Pn(I,"RID",_),Pn(I,"TYPE","terminate"),um(h,I),(_=new Au(h,h.j,_)).L=2,_.v=BI(wa(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=_.v,I=!0),I||(_.g=YB(_.j,null),_.g.ea(_.v)),_.F=Date.now(),VI(_)}KB(h)}function HI(h){h.g&&(DA(h),h.g.cancel(),h.g=null)}function $B(h){HI(h),h.u&&(a.clearTimeout(h.u),h.u=null),qI(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function zI(h){if(!wB(h.h)&&!h.s){h.s=!0;var _=h.Ga;qg||eB(),Gg||(qg(),Gg=!0),rA.add(_,h),h.B=0}}function HB(h,_){var I;I=_?_.l:h.U++;const D=wa(h.I);Pn(D,"SID",h.K),Pn(D,"RID",I),Pn(D,"AID",h.T),um(h,D),h.m&&h.o&&wA(D,h.m,h.o),I=new Au(h,h.j,I,h.B+1),null===h.m&&(I.H=h.o),_&&(h.i=_.D.concat(h.i)),_=zB(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),bA(h.h,I),yA(I,D,_)}function um(h,_){h.H&&Be(h.H,function(I,D){Pn(_,D,I)}),h.l&&AB({},function(I,D){Pn(_,D,I)})}function zB(h,_,I){I=Math.min(h.i.length,I);var D=h.l?y(h.l.Na,h.l,h):null;e:{var Q=h.i;let oe=-1;for(;;){const Se=["count="+I];-1==oe?0<I?(oe=Q[0].g,Se.push("ofs="+oe)):oe=0:Se.push("ofs="+oe);let hn=!0;for(let Gr=0;Gr<I;Gr++){let Ht=Q[Gr].g;const li=Q[Gr].map;if(Ht-=oe,0>Ht)oe=Math.max(0,Q[Gr].g-100),hn=!1;else try{Pre(li,Se,"req"+Ht+"_")}catch{D&&D(li)}}if(hn){D=Se.join("&");break e}}}return h=h.i.splice(0,I),_.D=h,D}function qB(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;qg||eB(),Gg||(qg(),Gg=!0),rA.add(_,h),h.v=0}}function TA(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=Jg(y(h.Fa,h),ZB(h,h.v)),h.v++,0))}function DA(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function GB(h){h.g=new Au(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var _=wa(h.qa);Pn(_,"RID","rpc"),Pn(_,"SID",h.K),Pn(_,"AID",h.T),Pn(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Pn(_,"TO",h.ja),Pn(_,"TYPE","xmlhttp"),um(h,_),h.m&&h.o&&wA(_,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=BI(wa(_)),I.m=null,I.P=!0,vB(I,h)}function qI(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function WB(h,_){var I=null;if(h.g==_){qI(h),DA(h),h.g=null;var D=2}else{if(!EA(h.h,_))return;I=_.D,TB(h.h,_),D=1}if(0!=h.G)if(_.o)if(1==D){I=_.m?_.m.length:0,_=Date.now()-_.F;var Q=h.B;xi(D=OI(),new gB(D,I)),zI(h)}else qB(h);else if(3==(Q=_.s)||0==Q&&0<_.X||!(1==D&&function Nre(h,_){return!(CB(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=_.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=Jg(y(h.Ga,h,_),ZB(h,h.B)),h.B++,0)))}(h,_)||2==D&&TA(h)))switch(I&&0<I.length&&(_=h.h,_.i=_.i.concat(I)),Q){case 1:jc(h,5);break;case 4:jc(h,10);break;case 3:jc(h,6);break;default:jc(h,2)}}function ZB(h,_){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*_}function jc(h,_){if(h.j.info("Error code "+_),2==_){var I=y(h.fb,h),D=h.Xa;const Q=!D;D=new Bc(D||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||LI(D,"https"),BI(D),Q?function Dre(h,_){const I=new Xg;if(a.Image){const D=new Image;D.onload=E(Pu,I,"TestLoadImage: loaded",!0,_,D),D.onerror=E(Pu,I,"TestLoadImage: error",!1,_,D),D.onabort=E(Pu,I,"TestLoadImage: abort",!1,_,D),D.ontimeout=E(Pu,I,"TestLoadImage: timeout",!1,_,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else _(!1)}(D.toString(),I):function Are(h,_){new Xg;const D=new AbortController,Q=setTimeout(()=>{D.abort(),Pu(0,0,!1,_)},1e4);fetch(h,{signal:D.signal}).then(oe=>{clearTimeout(Q),Pu(0,0,!!oe.ok,_)}).catch(()=>{clearTimeout(Q),Pu(0,0,!1,_)})}(D.toString(),I)}else Mi(2);h.G=0,h.l&&h.l.sa(_),KB(h),$B(h)}function KB(h){if(h.G=0,h.ka=[],h.l){const _=DB(h.h);(0!=_.length||0!=h.i.length)&&(M(h.ka,_),M(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function QB(h,_,I){var D=I instanceof Bc?wa(I):new Bc(I);if(""!=D.g)_&&(D.g=_+"."+D.g),UI(D,D.s);else{var Q=a.location;D=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var oe=new Bc(null);D&&LI(oe,D),_&&(oe.g=_),Q&&UI(oe,Q),I&&(oe.l=I),D=oe}return _=h.ya,(I=h.D)&&_&&Pn(D,I,_),Pn(D,"VER",h.la),um(h,D),D}function YB(h,_,I){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new Kn(h.Ca&&!h.pa?new im({eb:I}):h.pa)).Ha(h.J),_}function JB(){}function GI(){}function po(h,_){ci.call(this),this.g=new jB(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!H(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,null!==(h=this.h)&&_ in h&&_ in(h=this.h)&&delete h[_]),this.j=new Th(this)}function XB(h){pA.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const I in _){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,_=null!==_&&h in _?_[h]:void 0),this.data=_}else this.data=h}function ej(){gA.call(this),this.status=1}function Th(h){this.g=h}(n=Kn.prototype).Ha=function(h){this.J=h},n.ea=function(h,_,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mA.g(),this.v=function lB(h){return h.h||(h.h=h.i())}(this.o?this.o:mA),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(oe){return void FB(this,oe)}if(h=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)I.set(Q,D[Q]);else{if("function"!=typeof D.keys||"function"!=typeof D.get)throw Error("Unknown input type for opt_headers: "+String(D));for(const oe of D.keys())I.set(oe,D.get(oe))}D=Array.from(I.keys()).find(oe=>"content-type"==oe.toLowerCase()),Q=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xre,_,void 0))||D||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Se]of I)this.g.setRequestHeader(oe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UB(this),this.u=!0,this.g.send(h),this.u=!1}catch(oe){FB(this,oe)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,xi(this,"complete"),xi(this,"abort"),$I(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$I(this,!0)),Kn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?LB(this):this.bb())},n.bb=function(){LB(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ca(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&0==_.indexOf(h)&&(_=_.substring(h.length)),cre(_)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=jB.prototype).la=8,n.G=1,n.connect=function(h,_,I,D){Mi(0),this.W=h,this.H=_||{},I&&void 0!==D&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=QB(this,null,this.W),zI(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Au(this,this.j,h);let oe=this.o;if(this.S&&(oe?(oe=N(oe),q(oe,this.S)):oe=this.S),null!==this.m||this.O||(Q.H=oe,oe=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){var D=this.i[I];if(void 0===(D="__data__"in D.map&&"string"==typeof(D=D.map.__data__)?D.length:void 0))break;if(4096<(_+=D)){_=I;break e}if(4096===_||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=zB(this,Q,_),Pn(I=wa(this.I),"RID",h),Pn(I,"CVER",22),this.D&&Pn(I,"X-HTTP-Session-Id",this.D),um(this,I),oe&&(this.O?_="headers="+encodeURIComponent(String(kB(oe)))+"&"+_:this.m&&wA(I,this.m,oe)),bA(this.h,Q),this.Ua&&Pn(I,"TYPE","init"),this.P?(Pn(I,"$req",_),Pn(I,"SID","null"),Q.T=!0,yA(Q,I,null)):yA(Q,I,_),this.G=2}}else 3==this.G&&(h?HB(this,h):0==this.i.length||wB(this.h)||HB(this))},n.Fa=function(){if(this.u=null,GB(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jg(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mi(10),HI(this),GB(this))},n.Za=function(){null!=this.C&&(this.C=null,HI(this),TA(this),Mi(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Mi(2)):(this.j.info("Failed to ping google.com"),Mi(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=JB.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},GI.prototype.g=function(h,_){return new po(h,_)},S(po,ci),po.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},po.prototype.close=function(){CA(this.g)},po.prototype.o=function(h){var _=this.g;if("string"==typeof h){var I={};I.__data__=h,h=I}else this.u&&((I={}).__data__=hA(h),h=I);_.i.push(new class{constructor(h,_){this.g=h,this.map=_}}(_.Ya++,h)),3==_.G&&zI(_)},po.prototype.N=function(){this.g.l=null,delete this.j,CA(this.g),delete this.g,po.aa.N.call(this)},S(XB,pA),S(ej,gA),S(Th,JB),Th.prototype.ua=function(){xi(this.g,"a")},Th.prototype.ta=function(h){xi(this.g,new XB(h))},Th.prototype.sa=function(h){xi(this.g,new ej)},Th.prototype.ra=function(){xi(this.g,"b")},GI.prototype.createWebChannel=GI.prototype.g,po.prototype.send=po.prototype.o,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,lk=la.createWebChannelTransport=function(){return new GI},ck=la.getStatEventTarget=function(){return OI()},uk=la.Event=Lc,W0=la.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kI.NO_ERROR=0,kI.TIMEOUT=8,kI.HTTP_ERROR=6,cv=la.ErrorCode=kI,mB.COMPLETE="complete",ak=la.EventType=mB,dB.EventType=Qg,Qg.OPEN="a",Qg.CLOSE="b",Qg.ERROR="c",Qg.MESSAGE="d",ci.prototype.listen=ci.prototype.K,Up=la.WebChannel=dB,sk=la.FetchXmlHttpFactory=im,Kn.prototype.listenOnce=Kn.prototype.L,Kn.prototype.getLastError=Kn.prototype.Ka,Kn.prototype.getLastErrorCode=Kn.prototype.Ba,Kn.prototype.getStatus=Kn.prototype.Z,Kn.prototype.getResponseJson=Kn.prototype.Oa,Kn.prototype.getResponseText=Kn.prototype.oa,Kn.prototype.send=Kn.prototype.ea,Kn.prototype.setWithCredentials=Kn.prototype.Ha,ok=la.XhrIo=Kn}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});const dk="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let Md="10.12.1";const ru=new As.Yd("@firebase/firestore");function Nd(){return ru.logLevel}function be(n,...e){if(ru.logLevel<=As.in.DEBUG){const t=e.map(Z0);ru.debug(`Firestore (${Md}): ${n}`,...t)}}function nr(n,...e){if(ru.logLevel<=As.in.ERROR){const t=e.map(Z0);ru.error(`Firestore (${Md}): ${n}`,...t)}}function Ki(n,...e){if(ru.logLevel<=As.in.WARN){const t=e.map(Z0);ru.warn(`Firestore (${Md}): ${n}`,...t)}}function Z0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ue(n="Unexpected state"){const e=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: `+n;throw nr(e),new Error(e)}function Ge(n,e){n||Ue()}function Ae(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class mZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _Z{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new br,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,le.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new br)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge("string"==typeof r.accessToken),new hk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(null===e||"string"==typeof e),new Ar(e)}}class yZ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vZ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new yZ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge("string"==typeof t.token),this.R=t.token,new fk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function EZ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class pk{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=EZ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ut(n,e){return n<e?-1:n>e?1:0}function Od(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gk(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Nn(0,0))}static max(){return new Ze(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ue(),void 0===r?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends Bp{construct(e,t,r){return new Mt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const bZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Bp{construct(e,t,r){return new Dn(e,t,r)}static isValidIdentifier(e){return bZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Mt.fromString(e))}static fromName(e){return new Me(Mt.fromString(e).popFirst(5))}static empty(){return new Me(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Mt(e.slice()))}}class kd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function K0(n){return n.fields.find(e=>2===e.kind)}function fc(n){return n.fields.filter(e=>2!==e.kind)}kd.UNKNOWN_ID=-1;class pc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Fd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Fd(0,lo.min())}}function mk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new lo(i,Me.empty(),e)}function _k(n){return new lo(n.readTime,n.key,-1)}class lo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new lo(Ze.min(),Me.empty(),-1)}static max(){return new lo(Ze.max(),Me.empty(),-1)}}function Q0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Me.comparator(n.documentKey,e.documentKey),0!==t?t:ut(n.largestBatchId,e.largestBatchId))}const yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function iu(n){return Y0.apply(this,arguments)}function Y0(){return(Y0=(0,le.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==yk)throw n;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(i=>i?J.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new J((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new J((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class lv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new br,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new jp(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=J0(r.target.error);this.V.reject(new jp(e,i))}}static open(e,t,r,i){try{return new lv(t,e.transaction(i,r))}catch(o){throw new jp(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DZ(t)}}class Ss{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Ss.S((0,ft.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),gc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ft.hl)())return!1;if(Ss.C())return!0;const e=(0,ft.z$)(),t=Ss.S(e),r=0<t&&t<10,i=Ik(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,le.Z)(function*(){return t.db||(be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new jp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new _e(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new jp(e,a))},o.onupgradeneeded=s=>{be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,le.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.M(e);const u=lv.open(o.db,e,s?"readonly":"readwrite",r),l=i(u).next(f=>(u.g(),f)).catch(f=>(u.abort(f),J.reject(f))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,f="FirebaseError"!==l.name&&a<3;if(be("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),o.close(),!f)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ik(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class TZ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return gc(this.B.delete())}}class jp extends _e{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ou(n){return"IndexedDbTransactionError"===n.name}class DZ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gc(r)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),gc(this.store.add(e))}get(e){return gc(this.store.get(e)).next(t=>(void 0===t&&(t=null),be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),gc(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),gc(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new J((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,u)=>{s.push(u)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new J((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new J((r,i)=>{t.onerror=o=>{const s=J0(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new J((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new TZ(a),l=t(a.primaryKey,a.value,u);if(l instanceof J){const f=l.catch(m=>(u.done(),J.reject(m)));r.push(f)}u.isDone?i():null===u.K?a.continue():a.continue(u.K)}}).next(()=>J.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gc(n){return new J((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=J0(r.target.error);t(i)}})}let Ek=!1;function J0(n){const e=Ss.S((0,ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ek||(Ek=!0,setTimeout(()=>{throw r},0)),r}}return n}class AZ{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,le.Z)(function*(){t.task=null;try{be("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){ou(r)?be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield iu(r)}yield t.X(6e4)}))}}class SZ{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,le.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,o=!0;return J.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return be("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(be("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=_k(o);Q0(s,r)>0&&(r=s)}),new lo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ho=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function $p(n){return null==n}function Hp(n){return 0===n&&1/n==-1/0}function bk(n){return"number"==typeof n&&Number.isInteger(n)&&!Hp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wk(e)),e=PZ(n.get(t),e);return wk(e)}function PZ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function wk(n){return n+"\x01\x01"}function Ps(n){const e=n.length;if(Ge(e>=2),2===e)return Ge("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ue(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:Ue()}o=s+2}return new Mt(r)}const Ck=["userId","batchId"];function dv(n,e){return[n,ni(e)]}function Tk(n,e,t){return[n,ni(e),t]}const RZ={},xZ=["prefixPath","collectionGroup","readTime","documentId"],MZ=["prefixPath","collectionGroup","documentId"],NZ=["collectionGroup","readTime","prefixPath","documentId"],OZ=["canonicalId","targetId"],kZ=["targetId","path"],FZ=["path","targetId"],VZ=["collectionId","parent"],LZ=["indexId","uid"],UZ=["uid","sequenceNumber"],BZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jZ=["indexId","uid","orderedDocumentKey"],$Z=["userId","collectionPath","documentId"],HZ=["userId","collectionPath","largestBatchId"],zZ=["userId","collectionGroup","largestBatchId"],Dk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qZ=[...Dk,"documentOverlays"],Ak=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sk=Ak,Pk=[...Sk,"indexConfiguration","indexState","indexEntries"],GZ=Pk;class X0 extends vk{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Sr(n,e){const t=Ae(n);return Ss.F(t._e,e)}function Rk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function su(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yn{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hv(this.root,e,this.comparator,!1)}getReverseIterator(){return new hv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hv(this.root,e,this.comparator,!0)}}class hv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=o??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Hr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nk(this.data.getIterator())}getIteratorFrom(e){return new Nk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class Nk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vd(n){return n.hasNext()?n.getNext():void 0}class Qi{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Qi([])}unionWith(e){let t=new an(Dn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Od(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ok("Invalid base64 string: "+o):o}}(e);return new wr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const ZZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(Ge(!!n),"string"==typeof n){let e=0;const t=ZZ.exec(n);if(Ge(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ha(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function fv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function pv(n){const e=n.mapValue.fields.__previous_value__;return fv(e)?pv(e):e}function zp(n){const e=da(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class KZ{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gv={nullValue:"NULL_VALUE"};function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fv(n)?4:Lk(n)?9007199254740991:10:Ue()}function Rs(n,e){if(n===e)return!0;const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zp(n).isEqual(zp(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=da(i.timestampValue),a=da(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ha(n.bytesValue).isEqual(ha(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Zn(i.geoPointValue.latitude)===Zn(o.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Zn(i.integerValue)===Zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Zn(i.doubleValue),a=Zn(o.doubleValue);return s===a?Hp(s)===Hp(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Od(n.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Rk(s)!==Rk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Rs(s[u],a[u])))return!1;return!0}(n,e);default:return Ue()}var o}function qp(n,e){return void 0!==(n.values||[]).find(t=>Rs(t,e))}function lu(n,e){if(n===e)return 0;const t=cu(n),r=cu(e);if(t!==r)return ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ut(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Zn(o.integerValue||o.doubleValue),u=Zn(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return kk(n.timestampValue,e.timestampValue);case 4:return kk(zp(n),zp(e));case 5:return ut(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ha(o),u=ha(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const f=ut(a[l],u[l]);if(0!==f)return f}return ut(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ut(Zn(o.latitude),Zn(s.latitude));return 0!==a?a:ut(Zn(o.longitude),Zn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const f=lu(a[l],u[l]);if(f)return f}return ut(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uu.mapValue&&s===uu.mapValue)return 0;if(o===uu.mapValue)return 1;if(s===uu.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const y=ut(u[m],f[m]);if(0!==y)return y;const E=lu(a[u[m]],l[f[m]]);if(0!==E)return E}return ut(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function kk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ut(n,e);const t=da(n),r=da(e),i=ut(t.seconds,r.seconds);return 0!==i?i:ut(t.nanos,r.nanos)}function Ld(n){return eC(n)}function eC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=da(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ha(n.bytesValue).toBase64():"referenceValue"in n?Me.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=eC(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${eC(t.fields[s])}`;return i+"}"}(n.mapValue):Ue()}function mc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tC(n){return!!n&&"integerValue"in n}function Gp(n){return!!n&&"arrayValue"in n}function Fk(n){return!!n&&"nullValue"in n}function Vk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _v(n){return!!n&&"mapValue"in n}function Wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return su(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function QZ(n){return"nullValue"in n?gv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mc(au.empty(),Me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ue()}function YZ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mc(au.empty(),Me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uu:Ue()}function Uk(n,e){const t=lu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Bk(n,e){const t=lu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_v(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wp(t)}setAll(e){let t=Dn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Wp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());_v(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_v(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){su(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zr(Wp(this.value))}}function jk(n){const e=[];return su(n.fields,(t,r)=>{const i=new Dn([t]);if(_v(r)){const o=jk(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Qi(e)}class An{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new An(e,0,Ze.min(),Ze.min(),Ze.min(),zr.empty(),0)}static newFoundDocument(e,t,r,i){return new An(e,1,t,Ze.min(),r,i,0)}static newNoDocument(e,t){return new An(e,2,t,Ze.min(),Ze.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Ze.min(),Ze.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class du{constructor(e,t){this.position=e,this.inclusive=t}}function $k(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?Me.comparator(Me.fromName(s.referenceValue),t.key):lu(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Hk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rs(n.position[t],e.position[t]))return!1;return!0}class Zp{constructor(e,t="asc"){this.field=e,this.dir=t}}function JZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zk{}class Nt extends zk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new XZ(e,t,r):"array-contains"===t?new nK(e,r):"in"===t?new Qk(e,r):"not-in"===t?new rK(e,r):"array-contains-any"===t?new iK(e,r):new Nt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new eK(e,r):new tK(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lu(t,this.value)):null!==t&&cu(this.value)===cu(t)&&this.matchesComparison(lu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends zk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new nn(e,t)}matches(e){return Ud(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ud(n){return"and"===n.op}function nC(n){return"or"===n.op}function rC(n){return qk(n)&&Ud(n)}function qk(n){for(const e of n.filters)if(e instanceof nn)return!1;return!0}function iC(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+Ld(n.value);if(rC(n))return n.filters.map(e=>iC(e)).join(",");{const e=n.filters.map(t=>iC(t)).join(",");return`${n.op}(${e})`}}function Gk(n,e){return n instanceof Nt?(r=n,(i=e)instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Rs(r.value,i.value)):n instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Gk(s,i.filters[a]),!0)}(n,e):void Ue();var r,i}function Wk(n,e){const t=n.filters.concat(e);return nn.create(t,n.op)}function Zk(n){return n instanceof Nt?`${(t=n).field.canonicalString()} ${t.op} ${Ld(t.value)}`:n instanceof nn?function(t){return t.op.toString()+" {"+t.getFilters().map(Zk).join(" ,")+"}"}(n):"Filter";var t}class XZ extends Nt{constructor(e,t,r){super(e,t,r),this.key=Me.fromName(r.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class eK extends Nt{constructor(e,t){super(e,"in",t),this.keys=Kk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tK extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=Kk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Me.fromName(r.referenceValue))}class nK extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gp(t)&&qp(t.arrayValue,this.value)}}class Qk extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qp(this.value.arrayValue,t)}}class rK extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qp(this.value.arrayValue,t)}}class iK extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qp(this.value.arrayValue,r))}}class oK{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function oC(n,e=null,t=[],r=[],i=null,o=null,s=null){return new oK(n,e,t,r,i,o,s)}function _c(n){const e=Ae(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),$p(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ld(r)).join(",")),e.ue=t}return e.ue}function Kp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Gk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hk(n.startAt,e.startAt)&&Hk(n.endAt,e.endAt)}function yv(n){return Me.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vv(n,e){return n.filters.filter(t=>t instanceof Nt&&t.field.isEqual(e))}function Yk(n,e,t){let r=gv,i=!0;for(const o of vv(n,e)){let s=gv,a=!0;switch(o.op){case"<":case"<=":s=QZ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=gv}Uk({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Uk({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function Jk(n,e,t){let r=uu,i=!0;for(const o of vv(n,e)){let s=uu,a=!0;switch(o.op){case">=":case">":s=YZ(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uu}Bk({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];Bk({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class fa{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function Xk(n,e,t,r,i,o,s,a){return new fa(n,e,t,r,i,o,s,a)}function Bd(n){return new fa(n)}function eF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sC(n){return null!==n.collectionGroup}function jd(n){const e=Ae(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(Dn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Zp(o,r))}),t.has(Dn.keyField().canonicalString())||e.ce.push(new Zp(Dn.keyField(),r))}return e.ce}function ri(n){const e=Ae(n);return e.le||(e.le=function nF(n,e){if("F"===n.limitType)return oC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Zp(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new du(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new du(n.startAt.position,n.startAt.inclusive):null;return oC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,jd(n))),e.le}function aC(n,e){const t=n.filters.concat([e]);return new fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Iv(n,e,t){return new fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qp(n,e){return Kp(ri(n),ri(e))&&n.limitType===e.limitType}function rF(n){return`${_c(ri(n))}|lt:${n.limitType}`}function $d(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Zk(i)).join(", ")}]`),$p(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ld(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ld(i)).join(",")),`Target(${r})`}(ri(n))}; limitType=${n.limitType})`}function Yp(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of jd(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const l=$k(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,jd(r),i)||r.endAt&&!function(s,a,u){const l=$k(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,jd(r),i)));var r,i}function iF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oF(n){return(e,t)=>{let r=!1;for(const i of jd(n)){const o=sK(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function sK(n,e,t){const r=n.field.isKeyField()?Me.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?lu(u,l):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Mk(this.inner)}size(){return this.innerSize}}const aK=new yn(Me.comparator);function Yi(){return aK}const sF=new yn(Me.comparator);function Jp(...n){let e=sF;for(const t of n)e=e.insert(t.key,t);return e}function aF(n){let e=sF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xs(){return Xp()}function uF(){return Xp()}function Xp(){return new pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const uK=new yn(Me.comparator),cK=new an(Me.comparator);function gt(...n){let e=cK;for(const t of n)e=e.add(t);return e}const lK=new an(ut);function uC(){return lK}function cF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function lF(n){return{integerValue:""+n}}function dF(n,e){return bk(e)?lF(e):cF(n,e)}class Ev{constructor(){this._=void 0}}function dK(n,e,t){return n instanceof Hd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fv(o)&&(o=pv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof yc?fF(n,e):n instanceof vc?pF(n,e):function(i,o){const s=hF(i,o),a=gF(s)+gF(i.Pe);return tC(s)&&tC(i.Pe)?lF(a):cF(i.serializer,a)}(n,e)}function hK(n,e,t){return n instanceof yc?fF(n,e):n instanceof vc?pF(n,e):t}function hF(n,e){return n instanceof zd?tC(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Hd extends Ev{}class yc extends Ev{constructor(e){super(),this.elements=e}}function fF(n,e){const t=mF(e);for(const r of n.elements)t.some(i=>Rs(i,r))||t.push(r);return{arrayValue:{values:t}}}class vc extends Ev{constructor(e){super(),this.elements=e}}function pF(n,e){let t=mF(e);for(const r of n.elements)t=t.filter(i=>!Rs(i,r));return{arrayValue:{values:t}}}class zd extends Ev{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gF(n){return Zn(n.integerValue||n.doubleValue)}function mF(n){return Gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eg{constructor(e,t){this.field=e,this.transform=t}}class pK{constructor(e,t){this.version=e,this.transformResults=t}}class On{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wv{}function _F(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gd(n.key,On.none()):new qd(n.key,n.data,On.none());{const t=n.data,r=zr.empty();let i=new an(Dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ga(n.key,r,new Qi(i.toArray()),On.none())}}function gK(n,e,t){n instanceof qd?function(i,o,s){const a=i.value.clone(),u=IF(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ga?function(i,o,s){if(!bv(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=IF(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(vF(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tg(n,e,t,r){return n instanceof qd?function(o,s,a,u){if(!bv(o.precondition,s))return a;const l=o.value.clone(),f=EF(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ga?function(o,s,a,u){if(!bv(o.precondition,s))return a;const l=EF(o.fieldTransforms,u,s),f=s.data;return f.setAll(vF(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,bv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function mK(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=hF(r.transform,i||null);null!=o&&(null===t&&(t=zr.empty()),t.set(r.field,o))}return t||null}function yF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Od(r,i,(o,s)=>function fK(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof yc&&i instanceof yc||r instanceof vc&&i instanceof vc?Od(r.elements,i.elements,Rs):r instanceof zd&&i instanceof zd?Rs(r.Pe,i.Pe):r instanceof Hd&&i instanceof Hd);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class qd extends wv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ga extends wv{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function IF(n,e,t){const r=new Map;Ge(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hK(s,a,t[i]))}return r}function EF(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,dK(o,s,e))}return r}class Gd extends wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gK(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=_F(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&Od(this.mutations,e.mutations,(t,r)=>yF(t,r))&&Od(this.baseMutations,e.baseMutations,(t,r)=>yF(t,r))}}class dC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ge(e.mutations.length===r.length);let i=uK;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new dC(e,t,r,i)}}class hC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _K{constructor(e,t){this.count=e,this.unchangedNames=t}}var fr,Bt;function wF(n){switch(n){default:return Ue();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function CF(n){if(void 0===n)return nr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case fr.OK:return ne.OK;case fr.CANCELLED:return ne.CANCELLED;case fr.UNKNOWN:return ne.UNKNOWN;case fr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case fr.INTERNAL:return ne.INTERNAL;case fr.UNAVAILABLE:return ne.UNAVAILABLE;case fr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case fr.NOT_FOUND:return ne.NOT_FOUND;case fr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case fr.ABORTED:return ne.ABORTED;case fr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case fr.DATA_LOSS:return ne.DATA_LOSS;default:return Ue()}}(Bt=fr||(fr={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function TF(){return new TextEncoder}const yK=new hc([4294967295,4294967295],0);function DF(n){const e=TF().encode(n),t=new ik;return t.update(e),new Uint8Array(t.digest())}function AF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hc([t,r],0),new hc([i,o],0)]}class fC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ng(`Invalid padding: ${t}`);if(r<0)throw new ng(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ng(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ng(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=hc.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(hc.fromNumber(r)));return 1===i.compare(yK)&&(i=new hc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=DF(e),[r,i]=AF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new fC(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=DF(e),[r,i]=AF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ng extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rg{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ig.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rg(Ze.min(),i,new yn(ut),Yi(),gt())}}class ig{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ig(r,t,gt(),gt(),gt())}}class Tv{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class SF{constructor(e,t){this.targetId=e,this.me=t}}class PF{constructor(e,t,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RF{constructor(){this.fe=0,this.ge=MF(),this.pe=wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=gt(),t=gt(),r=gt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new ig(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=MF()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vK{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yi(),this.qe=xF(),this.Qe=new yn(ut)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(yv(o))if(0===r){const s=new Me(o.path);this.Ue(t,s,An.newNoDocument(s,Ze.min()))}else Ge(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=ha(r).toUint8Array()}catch(u){if(u instanceof Ok)return Ki("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new fC(s,i,o)}catch(u){return Ki(u instanceof ng?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&yv(a.target)){const u=new Me(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,An.newNoDocument(u,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=gt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new rg(e,t,this.Qe,this.ke,r);return this.ke=Yi(),this.qe=xF(),this.Qe=new yn(ut),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new RF,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new an(ut),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||be("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new RF),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xF(){return new yn(Me.comparator)}function MF(){return new yn(Me.comparator)}const IK={asc:"ASCENDING",desc:"DESCENDING"},EK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bK={and:"AND",or:"OR"};class wK{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pC(n,e){return n.useProto3Json||$p(e)?e:{value:e}}function Wd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CK(n,e){return Wd(n,e.toTimestamp())}function rr(n){return Ge(!!n),Ze.fromTimestamp(function(t){const r=da(t);return new Nn(r.seconds,r.nanos)}(n))}function gC(n,e){return mC(n,e).canonicalString()}function mC(n,e){const t=(i=n,new Mt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function OF(n){const e=Mt.fromString(n);return Ge(qF(e)),e}function og(n,e){return gC(n.databaseId,e.path)}function Ms(n,e){const t=OF(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(VF(t))}function kF(n,e){return gC(n.databaseId,e)}function FF(n){const e=OF(n);return 4===e.length?Mt.emptyPath():VF(e)}function _C(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VF(n){return Ge(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function LF(n,e,t){return{name:og(n,e),fields:t.value.mapValue.fields}}function UF(n,e,t){const r=Ms(n,e.name),i=rr(e.updateTime),o=e.createTime?rr(e.createTime):Ze.min(),s=new zr({mapValue:{fields:e.fields}}),a=An.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function sg(n,e){let t;if(e instanceof qd)t={update:LF(n,e.key,e.value)};else if(e instanceof Gd)t={delete:og(n,e.key)};else if(e instanceof ga)t={update:LF(n,e.key,e.data),updateMask:MK(e.fieldMask)};else{if(!(e instanceof cC))return Ue();t={verify:og(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:CK(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ue()),t;var o}function yC(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?On.updateTime(rr(o.updateTime)):void 0!==o.exists?On.exists(o.exists):On.none():On.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let u=null;"setToServerValue"in a?(Ge("REQUEST_TIME"===a.setToServerValue),u=new Hd):"appendMissingElements"in a?u=new yc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new vc(a.removeAllFromArray.values||[]):"increment"in a?u=new zd(s,a.increment):Ue();const l=Dn.fromServerFormat(a.fieldPath);return new eg(l,u)}(n,i)):[];var o;if(e.update){const i=Ms(n,e.update.name),o=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Qi((e.updateMask.fieldPaths||[]).map(f=>Dn.fromServerFormat(f)));return new ga(i,o,s,t,r)}return new qd(i,o,t,r)}if(e.delete){const i=Ms(n,e.delete);return new Gd(i,t)}if(e.verify){const i=Ms(n,e.verify);return new cC(i,t)}return Ue()}function BF(n,e){return{documents:[kF(n,e.path)]}}function Dv(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kF(n,i);const o=function(l){if(0!==l.length)return zF(nn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(f=>{return{field:hu((y=f).field),direction:PK(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=pC(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i};var l}function $F(n){let e=FF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ge(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(m){const y=HF(m);return y instanceof nn&&rC(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(y=>{return new Zp(Zd((S=y).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,$p(y)?null:y}(t.limit));let u=null;var m;t.startAt&&(u=new du((m=t.startAt).values||[],!!m.before));let l=null;return t.endAt&&(l=function(m){return new du(m.values||[],!m.before)}(t.endAt)),Xk(e,i,s,o,a,"F",u,l)}function HF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zd(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zd(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zd(t.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zd(t.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):void 0!==n.fieldFilter?Nt.create(Zd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return nn.create(t.compositeFilter.filters.map(r=>HF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue();var t}function PK(n){return IK[n]}function RK(n){return EK[n]}function xK(n){return bK[n]}function hu(n){return{fieldPath:n.canonicalString()}}function Zd(n){return Dn.fromServerFormat(n.fieldPath)}function zF(n){return n instanceof Nt?function(t){if("=="===t.op){if(Vk(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NAN"}};if(Fk(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vk(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NAN"}};if(Fk(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(t.field),op:RK(t.op),value:t.value}}}(n):n instanceof nn?function(t){const r=t.getFilters().map(i=>zF(i));return 1===r.length?r[0]:{compositeFilter:{op:xK(t.op),filters:r}}}(n):Ue()}function MK(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ma{constructor(e,t,r,i,o=Ze.min(),s=Ze.min(),a=wr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GF{constructor(e){this.ct=e}}function WF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Av(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:og(o=n.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Wd(o,s.version.toTimestamp()),createTime:Wd(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ic(e.version)};else{if(!e.isUnknownDocument())return Ue();r.unknownDocument={path:t.path.toArray(),version:Ic(e.version)}}var o,s;return r}function Av(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ic(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ec(n){const e=new Nn(n.seconds,n.nanoseconds);return Ze.fromTimestamp(e)}function bc(n,e){const t=(e.baseMutations||[]).map(o=>yC(n.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>yC(n.ct,o)),i=Nn.fromMillis(e.localWriteTimeMs);return new lC(e.batchId,i,t,r)}function ag(n){const e=Ec(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ec(n.lastLimboFreeSnapshotVersion):Ze.min();let r;return r=void 0!==n.query.documents?(Ge(1===(o=n.query).documents.length),ri(Bd(FF(o.documents[0])))):function(o){return ri($F(o))}(n.query),new ma(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,wr.fromBase64String(n.resumeToken));var o}function ZF(n,e){const t=Ic(e.snapshotVersion),r=Ic(e.lastLimboFreeSnapshotVersion);let i;i=yv(e.target)?BF(n.ct,e.target):Dv(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_c(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vC(n){const e=$F({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Iv(e,e.limit,"L"):e}function IC(n,e){return new hC(e.largestBatchId,yC(n.ct,e.overlayMutation))}function KF(n,e){const t=e.path.lastSegment();return[n,ni(e.path.popLast()),t]}function QF(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ic(r.readTime),documentKey:ni(r.documentKey.path),largestBatchId:r.largestBatchId}}class OK{getBundleMetadata(e,t){return YF(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ec(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return YF(e).put({bundleId:(i=t).id,createTime:Ic(rr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return JF(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:vC(o.bundledQuery),readTime:Ec(o.readTime)};var o})}saveNamedQuery(e,t){return JF(e).put({name:(i=t).name,readTime:Ic(rr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function YF(n){return Sr(n,"bundles")}function JF(n){return Sr(n,"namedQueries")}class Sv{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new Sv(e,t.uid||"")}getOverlay(e,t){return ug(e).get(KF(this.userId,t)).next(r=>r?IC(this.serializer,r):null)}getOverlays(e,t){const r=xs();return J.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new hC(t,s);i.push(this.ht(e,a))}),J.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(ni(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(ug(e).j("collectionPathOverlayIndex",a))}),J.waitFor(o)}getOverlaysForCollection(e,t,r){const i=xs(),o=ni(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ug(e).U("collectionPathOverlayIndex",s).next(a=>{for(const u of a){const l=IC(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=xs();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ug(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,f)=>{const m=IC(this.serializer,l);o.size()<i||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):f.done()}).next(()=>o)}ht(e,t){return ug(e).put(function(i,o,s){const[a,u,l]=KF(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:sg(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function ug(n){return Sr(n,"documentOverlays")}class wc{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Hp(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=da(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ha(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?Lk(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ue()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),Me.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function kK(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function XF(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=kK(255&r[o]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}wc.bt=new wc;class FK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=XF(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=XF(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class VK{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class LK{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class cg{constructor(){this.Gt=new FK,this.zt=new VK(this.Gt),this.jt=new LK(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Cc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Cc(this.indexId,this.documentKey,this.arrayValue,r)}}function fu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=eV(n.arrayValue,e.arrayValue),0!==t?t:(t=eV(n.directionalValue,e.directionalValue),0!==t?t:Me.comparator(n.documentKey,e.documentKey)))}function eV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tV{constructor(e){this.Yt=new an((t,r)=>Dn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ge(e.collectionGroup===this.collectionId),this.en)return!1;const t=K0(e);if(void 0!==t&&!this.nn(t))return!1;const r=fc(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[o];if(!this.rn(a,u)||!this.sn(this.Zt[s++],u))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new an(Dn.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new pc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new pc(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new pc(r.field,"asc"===r.dir?0:1)));return new kd(kd.UNKNOWN_ID,this.collectionId,t,Fd.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function nV(n){var e,t;if(Ge(n instanceof Nt||n instanceof nn),n instanceof Nt){if(n instanceof Qk){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Nt.create(n.field,"==",o)))||[];return nn.create(i,"or")}return n}const r=n.filters.map(i=>nV(i));return nn.create(r,n.op)}function UK(n){if(0===n.getFilters().length)return[];const e=wC(nV(n));return Ge(rV(e)),EC(e)||bC(e)?[e]:e.getFilters()}function EC(n){return n instanceof Nt}function bC(n){return n instanceof nn&&rC(n)}function rV(n){return EC(n)||bC(n)||function(t){if(t instanceof nn&&nC(t)){for(const r of t.getFilters())if(!EC(r)&&!bC(r))return!1;return!0}return!1}(n)}function wC(n){if(Ge(n instanceof Nt||n instanceof nn),n instanceof Nt)return n;if(1===n.filters.length)return wC(n.filters[0]);const e=n.filters.map(r=>wC(r));let t=nn.create(e,n.op);return t=Pv(t),rV(t)?t:(Ge(t instanceof nn),Ge(Ud(t)),Ge(t.filters.length>1),t.filters.reduce((r,i)=>CC(r,i)))}function CC(n,e){let t;return Ge(n instanceof Nt||n instanceof nn),Ge(e instanceof Nt||e instanceof nn),t=n instanceof Nt?e instanceof Nt?nn.create([n,e],"and"):iV(n,e):e instanceof Nt?iV(e,n):function(i,o){if(Ge(i.filters.length>0&&o.filters.length>0),Ud(i)&&Ud(o))return Wk(i,o.getFilters());const s=nC(i)?i:o,a=nC(i)?o:i,u=s.filters.map(l=>CC(l,a));return nn.create(u,"or")}(n,e),Pv(t)}function iV(n,e){if(Ud(e))return Wk(e,n.getFilters());{const t=e.filters.map(r=>CC(n,r));return nn.create(t,"or")}}function Pv(n){if(Ge(n instanceof Nt||n instanceof nn),n instanceof Nt)return n;const e=n.getFilters();if(1===e.length)return Pv(e[0]);if(qk(n))return n;const t=e.map(i=>Pv(i)),r=[];return t.forEach(i=>{i instanceof Nt?r.push(i):i instanceof nn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:nn.create(r,n.op)}class BK{constructor(){this._n=new TC}addToCollectionParentIndex(e,t){return this._n.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(lo.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class TC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new an(Mt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(Mt.comparator)).toArray()}}const Rv=new Uint8Array(0);class jK{constructor(e,t){this.databaseId=t,this.an=new TC,this.un=new pa(r=>_c(r),(r,i)=>Kp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const o={collectionId:r,parent:ni(i)};return oV(e).put(o)}return J.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gk(t),""],!1,!0);return oV(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(Ps(s.parent))}return r})}addFieldIndex(e,t){const r=lg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const o=r.add(i);if(t.indexState){const s=Qd(e);return o.next(a=>{s.put(QF(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=lg(e),i=Qd(e),o=Kd(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=lg(e),r=Kd(e),i=Qd(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return J.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new tV(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Kd(e);let i=!0;const o=new Map;return J.forEach(this.cn(t),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=gt();const a=[];return J.forEach(o,(u,l)=>{var K;be("IndexedDbIndexManager",`Using index ${K=u,`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map(ae=>`${ae.fieldPath}:${ae.kind}`).join(",")}`} to execute ${_c(t)}`);const f=function(K,ae){const Te=K0(ae);if(void 0===Te)return null;for(const Be of vv(K,Te.fieldPath))switch(Be.op){case"array-contains-any":return Be.value.arrayValue.values||[];case"array-contains":return[Be.value]}return null}(l,u),m=function(K,ae){const Te=new Map;for(const Be of fc(ae))for(const z of vv(K,Be.fieldPath))switch(z.op){case"==":case"in":Te.set(Be.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return Te.set(Be.fieldPath.canonicalString(),z.value),Array.from(Te.values())}return null}(l,u),y=function(K,ae){const Te=[];let Be=!0;for(const z of fc(ae)){const N=0===z.kind?Yk(K,z.fieldPath,K.startAt):Jk(K,z.fieldPath,K.startAt);Te.push(N.value),Be&&(Be=N.inclusive)}return new du(Te,Be)}(l,u),E=function(K,ae){const Te=[];let Be=!0;for(const z of fc(ae)){const N=0===z.kind?Jk(K,z.fieldPath,K.endAt):Yk(K,z.fieldPath,K.endAt);Te.push(N.value),Be&&(Be=N.inclusive)}return new du(Te,Be)}(l,u),S=this.hn(u,l,y),x=this.hn(u,l,E),M=this.Pn(u,l,m),W=this.In(u.indexId,f,S,y.inclusive,x,E.inclusive,M);return J.forEach(W,H=>r.G(H,t.limit).next(K=>{K.forEach(ae=>{const Te=Me.fromSegments(ae.documentKey);s.has(Te)||(s=s.add(Te),a.push(Te))})}))}).next(()=>a)}return J.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:UK(nn.create(e.filters,"and")).map(r=>oC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,o,s,a){const u=(null!=t?t.length:1)*Math.max(r.length,o.length),l=u/(null!=t?t.length:1),f=[];for(let m=0;m<u;++m){const y=t?this.Tn(t[m/l]):Rv,E=this.En(e,y,r[m%l],i),S=this.dn(e,y,o[m%l],s),x=a.map(M=>this.En(e,y,M,!0));f.push(...this.createRange(E,S,x))}return f}En(e,t,r,i){const o=new Cc(e,Me.empty(),t,r);return i?o:o.Jt()}dn(e,t,r,i){const o=new Cc(e,Me.empty(),t,r);return i?o.Jt():o}ln(e,t){const r=new tV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return J.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(u){let l=new an(Dn.comparator),f=!1;for(const m of u.filters)for(const y of m.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:l=l.add(y.field));for(const m of u.orderBy)m.field.isKeyField()||(l=l.add(m.field));return l.size+(f?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}An(e,t){const r=new cg;for(const i of fc(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);wc.bt.Pt(o,s)}return r.Wt()}Tn(e){const t=new cg;return wc.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new cg;return wc.bt.Pt(mc(this.databaseId,t),r.Ht(function(o){const s=fc(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(null===r)return[];let i=[];i.push(new cg);let o=0;for(const s of fc(e)){const a=r[o++];for(const u of i)if(this.Vn(t,s.fieldPath)&&Gp(a))i=this.mn(i,s,a);else{const l=u.Ht(s.kind);wc.bt.Pt(a,l)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new cg;u.seed(a.Wt()),wc.bt.Pt(s,u.Ht(t.kind)),o.push(u)}return o}Vn(e,t){return!!e.filters.find(r=>r instanceof Nt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lg(e),i=Qd(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return J.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(f,m){const y=m?new Fd(m.sequenceNumber,new lo(Ec(m.readTime),new Me(Ps(m.documentKey)),m.largestBatchId)):Fd.empty(),E=f.fields.map(([S,x])=>new pc(Dn.fromServerFormat(S),x));return new kd(f.indexId,f.collectionGroup,E,y)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:ut(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lg(e),o=Qd(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>J.forEach(a,u=>o.put(QF(u.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return J.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?J.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),J.forEach(a,u=>this.pn(e,i,u).next(l=>{const f=this.yn(o,u);return l.isEqual(f)?J.resolve():this.wn(e,o,u,l,f)}))))})}Sn(e,t,r,i){return Kd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return Kd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=Kd(e);let o=new an(fu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(s,a)=>{o=o.add(new Cc(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,t){let r=new an(fu);const i=this.An(t,e);if(null==i)return r;const o=K0(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Gp(s))for(const a of s.arrayValue.values||[])r=r.add(new Cc(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new Cc(t.indexId,e.key,Rv,i));return r}wn(e,t,r,i,o){be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(u,l,f,m,y){const E=u.getIterator(),S=l.getIterator();let x=Vd(E),M=Vd(S);for(;x||M;){let W=!1,H=!1;if(x&&M){const K=f(x,M);K<0?H=!0:K>0&&(W=!0)}else null!=x?H=!0:W=!0;W?(m(M),M=Vd(S)):H?(y(x),x=Vd(E)):(x=Vd(E),M=Vd(S))}}(i,o,fu,a=>{s.push(this.Sn(e,t,r,a))},a=>{s.push(this.bn(e,t,r,a))}),J.waitFor(s)}gn(e){let t=1;return Qd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>fu(s,a)).filter((s,a,u)=>!a||0!==fu(s,u[a-1]));const i=[];i.push(e);for(const s of r){const a=fu(s,e),u=fu(s,t);if(0===a)i[0]=e.Jt();else if(a>0&&u<0)i.push(s),i.push(s.Jt());else if(u>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Rv,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Rv,[]]))}return o}Dn(e,t){return fu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sV)}getMinOffset(e,t){return J.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||Ue())).next(sV)}}function oV(n){return Sr(n,"collectionParents")}function Kd(n){return Sr(n,"indexEntries")}function lg(n){return Sr(n,"indexConfiguration")}function Qd(n){return Sr(n,"indexState")}function sV(n){Ge(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Q0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new lo(e.readTime,e.documentKey,t)}const aV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const u=r.J({range:s},(f,m,y)=>(a++,y.delete()));o.push(u.next(()=>{Ge(1===a)}));const l=[];for(const f of t.mutations){const m=Tk(e,f.key.path,t.batchId);o.push(i.delete(m)),l.push(f.key)}return J.waitFor(o).next(()=>l)}function xv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ue();e=n.noDocument}return JSON.stringify(e).length}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class Mv{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){Ge(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Mv(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pu(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Yd(e),s=pu(e);return s.add({}).next(a=>{Ge("number"==typeof a);const u=new lC(a,t,r,i),l=function(E,S,x){const M=x.baseMutations.map(H=>sg(E.ct,H)),W=x.mutations.map(H=>sg(E.ct,H));return{userId:S,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:M,mutations:W}}(this.serializer,this.userId,u),f=[];let m=new an((y,E)=>ut(y.canonicalString(),E.canonicalString()));for(const y of i){const E=Tk(this.userId,y.key.path,a);m=m.add(y.key.path.popLast()),f.push(s.put(l)),f.push(o.put(E,RZ))}return m.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Cn[a]=u.keys()}),J.waitFor(f).next(()=>u)})}lookupMutationBatch(e,t){return pu(e).get(t).next(r=>r?(Ge(r.userId===this.userId),bc(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?J.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return pu(e).J({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(Ge(a.batchId>=r),o=bc(this.serializer,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pu(e).U("userMutationsIndex",t).next(r=>r.map(i=>bc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=dv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Yd(e).J({range:i},(s,a,u)=>{const[l,f,m]=s,y=Ps(f);if(l===this.userId&&t.path.isEqual(y))return pu(e).get(m).next(E=>{if(!E)throw Ue();Ge(E.userId===this.userId),o.push(bc(this.serializer,E))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(ut);const i=[];return t.forEach(o=>{const s=dv(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=Yd(e).J({range:a},(l,f,m)=>{const[y,E,S]=l,x=Ps(E);y===this.userId&&o.path.isEqual(x)?r=r.add(S):m.done()});i.push(u)}),J.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=dv(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new an(ut);return Yd(e).J({range:s},(u,l,f)=>{const[m,y,E]=u,S=Ps(y);m===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(E)):f.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(pu(e).get(o).next(s=>{if(null===s)throw Ue();Ge(s.userId===this.userId),r.push(bc(this.serializer,s))}))}),J.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return uV(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),J.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return J.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Yd(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=Ps(o[1]);i.push(u)}else a.done()}).next(()=>{Ge(0===i.length)})})}containsKey(e,t){return cV(e,this.userId,t)}xn(e){return lV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cV(n,e,t){const r=dv(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Yd(n).J({range:o,H:!0},(a,u,l)=>{const[f,m,y]=a;f===e&&m===i&&(s=!0),l.done()}).next(()=>s)}function pu(n){return Sr(n,"mutations")}function Yd(n){return Sr(n,"documentMutations")}function lV(n){return Sr(n,"mutationQueues")}class Tc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Tc(0)}static Ln(){return new Tc(-1)}}class $K{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Tc(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Ze.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jd(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Ge(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Jd(e).J((s,a)=>{const u=ag(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>J.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Jd(e).J((r,i)=>{const o=ag(i);t(o)})}Bn(e){return dV(e).get("targetGlobalKey").next(t=>(Ge(null!==t),t))}kn(e,t){return dV(e).put("targetGlobalKey",t)}qn(e,t){return Jd(e).put(ZF(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_c(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Jd(e).J({range:i,index:"queryTargetsIndex"},(s,a,u)=>{const l=ag(a);Kp(t,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=gu(e);return t.forEach(s=>{const a=ni(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),J.waitFor(i)}removeMatchingKeys(e,t,r){const i=gu(e);return J.forEach(t,o=>{const s=ni(o.path);return J.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=gu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=gu(e);let o=gt();return i.J({range:r,H:!0},(s,a,u)=>{const l=Ps(s[1]),f=new Me(l);o=o.add(f)}).next(()=>o)}containsKey(e,t){const r=ni(t.path),i=IDBKeyRange.bound([r],[gk(r)],!1,!0);let o=0;return gu(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],u,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}ot(e,t){return Jd(e).get(t).next(r=>r?ag(r):null)}}function Jd(n){return Sr(n,"targets")}function dV(n){return Sr(n,"targetGlobal")}function gu(n){return Sr(n,"targetDocuments")}function hV([n,e],[t,r]){const i=ut(n,t);return 0===i?ut(e,r):i}class HK{constructor(e){this.Kn=e,this.buffer=new an(hV),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,le.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ou(r)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield iu(r)}yield t.zn(3e5)}))}}class zK{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return J.resolve(ho.oe);const r=new HK(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(aV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aV):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,o,s,a,u,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(l=Date.now(),Nd()<=As.in.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-f}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${m} documents in `+(l-u)+`ms\nTotal Duration: ${l-f}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}class qK{constructor(e,t){this.db=e,this.garbageCollector=function pV(n,e){return new zK(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return Nv(e,r)}removeReference(e,t,r){return Nv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nv(e,t)}er(e,t){return function(i,o){let s=!1;return lV(i).Y(a=>cV(i,a,o).next(u=>(u&&(s=!0),J.resolve(!u)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=t){const u=this.er(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ze.min()),gu(e).delete([0,ni(s.path)])))});i.push(u)}}).next(()=>J.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nv(e,t)}Xn(e,t){const r=gu(e);let i,o=ho.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:l})=>{0===s?(o!==ho.oe&&t(new Me(Ps(i)),o),o=l,i=u):o=ho.oe}).next(()=>{o!==ho.oe&&t(new Me(Ps(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nv(n,e){return gu(n).put((i=n.currentSequenceNumber,{targetId:0,path:ni(e.path),sequenceNumber:i}));var i}class gV{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Dc(e).put(r)}removeEntry(e,t,r){return Dc(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Av(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return Dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dg(t))},(i,o)=>{r=this.nr(t,o)}).next(()=>r)}rr(e,t){let r={size:0,document:An.newInvalidDocument(t)};return Dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dg(t))},(i,o)=>{r={document:this.nr(t,o),size:xv(o)}}).next(()=>r)}getEntries(e,t){let r=Yi();return this.ir(e,t,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,t){let r=Yi(),i=new yn(Me.comparator);return this.ir(e,t,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,xv(s))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return J.resolve();let i=new an(vV);t.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(dg(i.first()),dg(i.last())),s=i.getIterator();let a=s.getNext();return Dc(e).J({index:"documentKeyIndex",range:o},(u,l,f)=>{const m=Me.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&vV(a,m)<0;)r(a,null),a=s.getNext();a&&a.isEqual(m)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?f.$(dg(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Av(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dc(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let f=Yi();for(const m of l){const y=this.nr(Me.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);y.isFoundDocument()&&(Yp(t,y)||i.has(y.key))&&(f=f.insert(y.key,y))}return f})}getAllFromCollectionGroup(e,t,r,i){let o=Yi();const s=yV(t,r),a=yV(t,lo.max());return Dc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,l,f)=>{const m=this.nr(Me.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(m.key,m),o.size===i&&f.done()}).next(()=>o)}newChangeBuffer(e){return new WK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _V(e).get("remoteDocumentGlobalKey").next(t=>(Ge(!!t),t))}tr(e,t){return _V(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=function NK(n,e){let t;if(e.document)t=UF(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Me.fromSegments(e.noDocument.path),i=Ec(e.noDocument.readTime);t=An.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ue();{const r=Me.fromSegments(e.unknownDocument.path),i=Ec(e.unknownDocument.version);t=An.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Nn(i[0],i[1]);return Ze.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ze.min()))return r}return An.newInvalidDocument(e)}}function mV(n){return new GK(n)}class WK extends gV{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new pa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new an((o,s)=>ut(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(t.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=WF(this.ar.serializer,s);i=i.add(o.path.popLast());const l=xv(u);r+=l-a.size,t.push(this.ar.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=WF(this.ar.serializer,s.convertToNoDocument(Ze.min()));t.push(this.ar.addEntry(e,o,u))}}),i.forEach(o=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.ar.updateMetadata(e,r)),J.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function _V(n){return Sr(n,"remoteDocumentGlobal")}function Dc(n){return Sr(n,"remoteDocumentsV14")}function dg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yV(n,e){const t=e.documentKey.path.toArray();return[n,Av(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ut(t[o],r[o]),i)return i;return i=ut(t.length,r.length),i||(i=ut(t[t.length-2],r[r.length-2]),i||ut(t[t.length-1],r[r.length-1]))}class ZK{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&tg(r.mutation,i,Qi.empty(),Nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=gt()){const i=xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Jp();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Yi();const s=Xp(),a=Xp();return t.forEach((u,l)=>{const f=r.get(l.key);i.has(l.key)&&(void 0===f||f.mutation instanceof ga)?o=o.insert(l.key,l):void 0!==f?(s.set(l.key,f.mutation.getFieldMask()),tg(f.mutation,l,f.mutation.getFieldMask(),Nn.now())):s.set(l.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var m;return a.set(l,new ZK(f,null!==(m=s.get(l))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Xp();let i=new yn((s,a)=>s-a),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let f=r.get(u)||Qi.empty();f=a.applyToLocalView(l,f),r.set(u,f);const m=(i.get(a.batchId)||gt()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,f=u.value,m=uF();f.forEach(y=>{if(!o.has(y)){const E=_F(t.get(y),r.get(y));null!==E&&m.set(y,E),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,m))}return J.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Me.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):J.resolve(xs());let a=-1,u=o;return s.next(l=>J.forEach(l,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(f)?J.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,gt())).next(f=>({batchId:a,changes:aF(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(r=>{let i=Jp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Jp();return this.indexManager.getCollectionParents(e,o).next(a=>J.forEach(a,u=>{const l=(m=t,y=u.child(o),new fa(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{const f=l.getKey();null===s.get(f)&&(s=s.insert(f,An.newInvalidDocument(f)))});let a=Jp();return s.forEach((u,l)=>{const f=o.get(u);void 0!==f&&tg(f.mutation,l,Qi.empty(),Nn.now()),Yp(t,l)&&(a=a.insert(u,l))}),a})}}class KK{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return J.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:rr(i.createTime)}),J.resolve();var i}getNamedQuery(e,t){return J.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:vC(i.bundledQuery),readTime:rr(i.readTime)}),J.resolve();var i}}class QK{constructor(){this.overlays=new yn(Me.comparator),this.hr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xs();return J.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=xs(),o=t.length+1,s=new Me(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yn((l,f)=>l-f);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);null===f&&(f=xs(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=xs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return J.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hC(t,r));let o=this.hr.get(t);void 0===o&&(o=gt(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}class DC{constructor(){this.Pr=new an(Pr.Ir),this.Tr=new an(Pr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Pr(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Pr(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new Me(new Mt([])),r=new Pr(t,e),i=new Pr(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Me(new Mt([])),r=new Pr(t,e),i=new Pr(t,e+1);let o=gt();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Pr(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Me.comparator(e.key,t.key)||ut(e.pr,t.pr)}static Er(e,t){return ut(e.pr,t.pr)||Me.comparator(e.key,t.key)}}class YK{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new an(Pr.Ir)}checkEmpty(e){return J.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++;const s=new lC(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Pr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,t){return J.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pr(t,0),i=new Pr(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(ut);return t.forEach(i=>{const o=new Pr(i,0),s=new Pr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),J.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const s=new Pr(new Me(o),0);let a=new an(ut);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),J.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ge(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return J.forEach(t.mutations,i=>{const o=new Pr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Pr(t,0),i=this.wr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return J.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JK{constructor(e){this.vr=e,this.docs=new yn(Me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Yi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Yi();const s=t.path,a=new Me(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Q0(_k(f),r)<=0||(i.has(f.key)||Yp(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ue()}Fr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XK(this)}getSize(e){return J.resolve(this.size)}}class XK extends gV{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class eQ{constructor(e){this.persistence=e,this.Mr=new pa(t=>_c(t),Kp),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Or=0,this.Nr=new DC,this.targetCount=0,this.Lr=Tc.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),J.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.qn(t),J.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.Nr.containsKey(t))}}class AC{constructor(e,t){this.Br={},this.overlays={},this.kr=new ho(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new eQ(this),this.indexManager=new BK,this.remoteDocumentCache=new JK(r=>this.referenceDelegate.Kr(r)),this.serializer=new GF(t),this.$r=new KK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QK,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new YK(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new tQ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return J.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class tQ extends vk{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.zr=new DC,this.jr=null}static Hr(e){return new Ov(e)}get Jr(){if(this.jr)return this.jr;throw Ue()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),J.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,r=>{const i=Me.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,Ze.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return J.or([()=>J.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class nQ{constructor(e){this.serializer=e}O(e,t,r,i){const o=new lv("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0}),u.createObjectStore("documentMutations"),EV(e),function(u){u.createObjectStore("remoteDocuments")}(e));let s=J.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),EV(e)),s=s.next(()=>function(u){const l=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ze.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",f)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(u,l){return l.store("mutations").U().next(f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0});const m=l.store("mutations"),y=f.map(E=>m.put(E));return J.waitFor(y)})}(e,o))),s=s.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:$Z});l.createIndex("collectionPathOverlayIndex",HZ,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",zZ,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:xZ});l.createIndex("documentKeyIndex",MZ),l.createIndex("collectionGroupIndex",NZ)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:LZ}).createIndex("sequenceNumberIndex",UZ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:BZ}).createIndex("documentKeyIndex",jZ,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s}ei(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=xv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>J.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>J.forEach(a,u=>{Ge(u.userId===o.userId);const l=bc(this.serializer,u);return uV(e,o.userId,l).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const u=new Mt(s),l=[0,ni(u)];o.push(t.get(l).next(f=>f?J.resolve():t.put({targetId:0,path:ni(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>J.waitFor(o))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:VZ});const r=t.store("collectionParents"),i=new TC,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:ni(u)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const u=new Mt(s);return o(u.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,u],l)=>{const f=Ps(a);return o(f.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,i)=>{const o=ag(i),s=ZF(this.serializer,o);return t.put(s)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),u=(m=s,m.document?new Me(Mt.fromString(m.document.name).popFirst(5)):m.noDocument?Me.fromSegments(m.noDocument.path):m.unknownDocument?Me.fromSegments(m.unknownDocument.path):Ue()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;i.push(a.put(l))}).next(()=>J.waitFor(i))}si(e,t){const r=t.store("mutations"),i=mV(this.serializer),o=new AC(Ov.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(u=>{var l;let f=null!==(l=a.get(u.userId))&&void 0!==l?l:gt();bc(this.serializer,u).keys().forEach(m=>f=f.add(m)),a.set(u.userId,f)}),J.forEach(a,(u,l)=>{const f=new Ar(l),m=Sv.lt(this.serializer,f),y=o.getIndexManager(f),E=Mv.lt(f,this.serializer,y,o.referenceDelegate);return new IV(i,E,m,y).recalculateAndSaveOverlaysForDocumentKeys(new X0(t,ho.oe),u).next()})})}}function EV(n){n.createObjectStore("targetDocuments",{keyPath:kZ}).createIndex("documentTargetsIndex",FZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",OZ,{unique:!0}),n.createObjectStore("targetGlobal")}const SC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PC{constructor(e,t,r,i,o,s,a,u,l,f,m=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=f,this.ui=m,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=y=>Promise.resolve(),!PC.D())throw new _e(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qK(this,i),this.Ti=t+"main",this.serializer=new GF(u),this.Ei=new Ss(this.Ti,this.ui,new nQ(this.serializer)),this.Qr=new $K(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mV(this.serializer),this.$r=new OK,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(ne.FAILED_PRECONDITION,SC);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ho(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var r=(0,le.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var t=(0,le.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,le.Z)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ou(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return hg(e).get("owner").next(t=>J.resolve(this.Si(t)))}bi(e){return Fv(e).delete(this.clientId)}Di(){var e=this;return(0,le.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Sr(r,"clientMetadata");return i.U().next(o=>{const s=e.vi(o,18e5),a=o.filter(u=>-1===s.indexOf(u));return J.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of t)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?J.resolve(!0):hg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new _e(ne.FAILED_PRECONDITION,SC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fv(e).U().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,le.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new X0(t,ho.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Fv(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return Mv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jK(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Sv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=16===(u=this.ui)?GZ:15===u?Pk:14===u?Sk:13===u?Ak:12===u?qZ:11===u?Dk:void Ue();var u;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new X0(a,this.kr?this.kr.next():ho.oe),"readwrite-primary"===t?this.gi(s).next(u=>!!u||this.pi(s)).next(u=>{if(!u)throw nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _e(ne.FAILED_PRECONDITION,yk);return r(s)}).next(u=>this.wi(s).next(()=>u)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return hg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(ne.FAILED_PRECONDITION,SC)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hg(e).put("owner",t)}static D(){return Ss.D()}yi(e){const t=hg(e);return t.get("owner").next(r=>this.Si(r)?(be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):J.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t||e>r&&(nr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ft.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){nr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hg(n){return Sr(n,"owner")}function Fv(n){return Sr(n,"clientMetadata")}function RC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class xC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=gt(),i=gt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xC(e,t.fromCache,r,i)}}class rQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ft.G6)()?8:Ik((0,ft.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new rQ;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Nd()<=As.in.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",$d(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(Nd()<=As.in.DEBUG&&be("QueryEngine","Query:",$d(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Nd()<=As.in.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",$d(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):J.resolve())}ji(e,t){if(eF(t))return J.resolve(null);let r=ri(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Iv(t,null,"F"),r=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=gt(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(t,a);return this.Xi(t,l,s,u.readTime)?this.ji(e,Iv(t,null,"F")):this.es(e,l,t,u)}))})))}Hi(e,t,r,i){return eF(t)||i.isEqual(Ze.min())?J.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?J.resolve(null):(Nd()<=As.in.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$d(t)),this.es(e,s,t,mk(i,-1)).next(a=>a))})}Zi(e,t){let r=new an(oF(e));return t.forEach((i,o)=>{Yp(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return Nd()<=As.in.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",$d(t)),this.zi.getDocumentsMatchingQuery(e,t,lo.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class iQ{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new yn(ut),this.rs=new pa(o=>_c(o),Kp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function wV(n,e,t,r){return new iQ(n,e,t,r)}function CV(n,e){return MC.apply(this,arguments)}function MC(){return(MC=(0,le.Z)(function*(n,e){const t=Ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=gt();for(const l of i){s.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}for(const l of o){a.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function TV(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function DV(n,e,t){let r=gt(),i=gt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Yi();return t.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ze.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}function aQ(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xd(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new ma(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function eh(n,e,t){return NC.apply(this,arguments)}function NC(){return(NC=(0,le.Z)(function*(n,e,t){const r=Ae(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ou(s))throw s;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function Vv(n,e,t){const r=Ae(n);let i=Ze.min(),o=gt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){const m=Ae(u),y=m.rs.get(f);return void 0!==y?J.resolve(m.ns.get(y)):m.Qr.getTargetData(l,f)}(r,s,ri(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:Ze.min(),t?o:gt())).next(a=>(PV(r,iF(e),a),{documents:a,hs:o})))}function AV(n,e){const t=Ae(n),r=Ae(t.Qr),i=t.ns.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function SV(n,e){const t=Ae(n),r=t.ss.get(e)||Ze.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.os.getAllFromCollectionGroup(i,e,mk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(PV(t,e,i),i))}function PV(n,e,t){let r=n.ss.get(e)||Ze.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}function OC(){return(OC=(0,le.Z)(function*(n,e,t,r){const i=Ae(n);let o=gt(),s=Yi();for(const l of t){const f=e.Ps(l.metadata.name);l.document&&(o=o.add(f));const m=e.Is(l);m.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(f,m)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=yield Xd(i,(f=r,ri(Bd(Mt.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>DV(l,a,s).next(f=>(a.apply(l),f)).next(f=>i.Qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Qr.addMatchingKeys(l,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,f.cs,f.ls)).next(()=>f.cs)))})).apply(this,arguments)}function cQ(n,e){return kC.apply(this,arguments)}function kC(){return(kC=(0,le.Z)(function*(n,e,t=gt()){const r=yield Xd(n,ri(vC(e.bundledQuery))),i=Ae(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=rr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(wr.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,t,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})})).apply(this,arguments)}function RV(n,e){return`firestore_clients_${n}_${e}`}function xV(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function FC(n,e){return`firestore_targets_${n}_${e}`}class Lv{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new _e(i.error.code,i.error.message))),s?new Lv(e,t,i.state,o):(nr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new _e(r.error.code,r.error.message))),o?new fg(e,r.state,i):(nr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=uC();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=bk(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Uv(e,o):(nr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class VC{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new VC(t.clientId,t.onlineState):(nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class LC{constructor(){this.activeTargetIds=uC()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UC{constructor(e,t,r,i,o){this.window=e,this.oi=t,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new yn(ut),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=RV(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new LC),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,le.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Vs)continue;const o=e.getItem(RV(e.persistenceKey,i));if(o){const s=Uv.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(FC(this.persistenceKey,e));if(r){const i=fg.Es(e,r);i&&(t=i.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FC(this.persistenceKey,e))}updateQueryState(e,t,r){this.qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return be("SharedClientState","READ",e,t),t}setItem(e,t){be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,le.Z)(function*(){if(t.started){if(null!==r.key)if(t.bs.test(r.key)){if(null==r.newValue){const i=t.$s(r.key);return t.Us(i,null)}{const i=t.Ws(r.key,r.newValue);if(i)return t.Us(i.clientId,i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.Gs(r.key,r.newValue);if(i)return t.zs(i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.js(r.key,r.newValue);if(i)return t.Hs(i)}}else if(r.key===t.vs){if(null!==r.newValue){const i=t.xs(r.newValue);if(i)return t.Os(i)}}else if(r.key===t.Ss){const i=function(s){let a=ho.oe;if(null!=s)try{const u=JSON.parse(s);Ge("number"==typeof u),a=u}catch(u){nr("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==ho.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Fs){const i=t.Js(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Ys(o)))}}else t.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,r){const i=new Lv(this.currentUser,e,t,r),o=xV(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const t=xV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,r){const i=FC(this.persistenceKey,e),o=new fg(e,t,r);this.setItem(i,o.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const r=this.$s(e);return Uv.Es(r,t)}Gs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return Lv.Es(new Ar(void 0!==r[2]?r[2]:null),i,t)}js(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return fg.Es(i,t)}xs(e){return VC.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,le.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=uC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class MV{constructor(){this.no=new LC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new LC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lQ{io(e){}shutdown(){}}class NV{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bv=null;function BC(){return null===Bv?Bv=268435456+Math.round(2147483648*Math.random()):Bv++,"0x"+Bv.toString(16)}const dQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hQ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const oi="WebChannelConnection";class fQ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=BC(),u=this.vo(t,r.toUriEncodedString());be("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(t,u,l,i).then(f=>(be("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Ki("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Md,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){return`${this.wo}/v1/${r}:${dQ[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=BC();return new Promise((s,a)=>{const u=new ok;u.setWithCredentials(!0),u.listenOnce(ak.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cv.NO_ERROR:const f=u.getResponseJson();be(oi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case cv.TIMEOUT:be(oi,`RPC '${e}' ${o} timed out`),a(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case cv.HTTP_ERROR:const m=u.getStatus();if(be(oi,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y?.error;if(E&&E.status&&E.message){const S=function(M){const W=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN}(E.status);a(new _e(S,E.message))}else a(new _e(ne.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{be(oi,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);be(oi,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Oo(e,t,r){const i=BC(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lk(),a=ck(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new sk({})),this.Fo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=o.join("");be(oi,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=s.createWebChannel(f,u);let y=!1,E=!1;const S=new hQ({lo:M=>{E?be(oi,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(be(oi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),be(oi,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},ho:()=>m.close()}),x=(M,W,H)=>{M.listen(W,K=>{try{H(K)}catch(ae){setTimeout(()=>{throw ae},0)}})};return x(m,Up.EventType.OPEN,()=>{E||(be(oi,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),x(m,Up.EventType.CLOSE,()=>{E||(E=!0,be(oi,`RPC '${e}' stream ${i} transport closed`),S.po())}),x(m,Up.EventType.ERROR,M=>{E||(E=!0,Ki(oi,`RPC '${e}' stream ${i} transport errored:`,M),S.po(new _e(ne.UNAVAILABLE,"The operation could not be completed")))}),x(m,Up.EventType.MESSAGE,M=>{var W;if(!E){const H=M.data[0];Ge(!!H);const ae=H.error||(null===(W=H[0])||void 0===W?void 0:W.error);if(ae){be(oi,`RPC '${e}' stream ${i} received error:`,ae);const Te=ae.status;let Be=function(B){const q=fr[B];if(void 0!==q)return CF(q)}(Te),z=ae.message;void 0===Be&&(Be=ne.INTERNAL,z="Unknown error status: "+Te+" with message "+ae.message),E=!0,S.po(new _e(Be,z)),m.close()}else be(oi,`RPC '${e}' stream ${i} received:`,H),S.yo(H)}}),x(a,uk.STAT_EVENT,M=>{M.stat===W0.PROXY?be(oi,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===W0.NOPROXY&&be(oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function OV(){return typeof window<"u"?window:null}function jv(){return typeof document<"u"?document:null}function pg(n){return new wK(n,!0)}class jC{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class kV{constructor(e,t,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new jC(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,le.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,le.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var r=this;return(0,le.Z)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new _e(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o((0,le.Z)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pQ extends kV{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function DK(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ue(),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Ge(void 0===f||"string"==typeof f),wr.fromBase64String(f||"")):(Ge(void 0===f||f instanceof Buffer||f instanceof Uint8Array),wr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const f=void 0===l.code?ne.UNKNOWN:CF(l.code);return new _e(f,l.message||"")}(s);t=new PF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ms(n,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):Ze.min(),a=new zr({mapValue:{fields:r.document.fields}}),u=An.newFoundDocument(i,o,s,a);t=new Tv(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ms(n,r.document),o=r.readTime?rr(r.readTime):Ze.min(),s=An.newNoDocument(i,o);t=new Tv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ms(n,r.document);t=new Tv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ue();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new _K(i,o);t=new SF(r.targetId,s)}}var l;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ze.min():s.readTime?rr(s.readTime):Ze.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=_C(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=yv(u)?{documents:BF(o,u)}:{query:Dv(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NF(o,s.resumeToken);const l=pC(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ze.min())>0){a.readTime=Wd(o,s.snapshotVersion.toTimestamp());const l=pC(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function SK(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=_C(this.serializer),t.removeTarget=e,this.i_(t)}}class gQ extends kV{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function AK(n,e){return n&&n.length>0?(Ge(void 0!==e),n.map(t=>function(i,o){let s=rr(i.updateTime?i.updateTime:o);return s.isEqual(Ze.min())&&(s=rr(o)),new pK(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.A_(r,t)}return Ge(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=_C(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sg(this.serializer,r))};this.i_(t)}}class mQ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,mC(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ne.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,mC(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ne.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _Q{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(nr(t),this.y_=!1):be("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class yQ{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget((0,le.Z)(function*(){var u;mu(s)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,le.Z)(function*(f){const m=Ae(f);m.M_.add(4),yield th(m),m.N_.set("Unknown"),m.M_.delete(4),yield gg(m)}),function l(f){return u.apply(this,arguments)})(s))}))}),this.N_=new _Q(r,i)}}function gg(n){return $C.apply(this,arguments)}function $C(){return($C=(0,le.Z)(function*(n){if(mu(n))for(const e of n.x_)yield e(!0)})).apply(this,arguments)}function th(n){return HC.apply(this,arguments)}function HC(){return(HC=(0,le.Z)(function*(n){for(const e of n.x_)yield e(!1)})).apply(this,arguments)}function $v(n,e){const t=Ae(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),GC(t)?qC(t):ih(t).Xo()&&zC(t,e))}function nh(n,e){const t=Ae(n),r=ih(t);t.F_.delete(e),r.Xo()&&FV(t,e),0===t.F_.size&&(r.Xo()?r.n_():mu(t)&&t.N_.set("Unknown"))}function zC(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ih(n).P_(e)}function FV(n,e){n.L_.xe(e),ih(n).I_(e)}function qC(n){n.L_=new vK({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ih(n).start(),n.N_.w_()}function GC(n){return mu(n)&&!ih(n).Zo()&&n.F_.size>0}function mu(n){return 0===Ae(n).M_.size}function VV(n){n.L_=void 0}function vQ(n){return WC.apply(this,arguments)}function WC(){return(WC=(0,le.Z)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function IQ(n){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,le.Z)(function*(n){n.F_.forEach((e,t)=>{zC(n,e)})})).apply(this,arguments)}function EQ(n,e){return KC.apply(this,arguments)}function KC(){return(KC=(0,le.Z)(function*(n,e){VV(n),GC(n)?(n.N_.D_(e),qC(n)):n.N_.set("Unknown")})).apply(this,arguments)}function bQ(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,le.Z)(function*(n,e,t){if(n.N_.set("Online"),e instanceof PF&&2===e.state&&e.cause)try{yield(r=(0,le.Z)(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.F_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.F_.delete(u),o.L_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hv(n,r)}else if(e instanceof Tv?n.L_.Ke(e):e instanceof SF?n.L_.He(e):n.L_.We(e),!t.isEqual(Ze.min()))try{const r=yield TV(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.F_.get(l);f&&o.F_.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const f=o.F_.get(u);if(!f)return;o.F_.set(u,f.withResumeToken(wr.EMPTY_BYTE_STRING,f.snapshotVersion)),FV(o,u);const m=new ma(f.target,u,l,f.sequenceNumber);zC(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){be("RemoteStore","Failed to raise snapshot:",r),yield Hv(n,r)}var r}),QC.apply(this,arguments)}function Hv(n,e,t){return YC.apply(this,arguments)}function YC(){return(YC=(0,le.Z)(function*(n,e,t){if(!ou(e))throw e;n.M_.add(1),yield th(n),n.N_.set("Offline"),t||(t=()=>TV(n.localStore)),n.asyncQueue.enqueueRetryable((0,le.Z)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield gg(n)}))})).apply(this,arguments)}function LV(n,e){return e().catch(t=>Hv(n,t,e))}function rh(n){return JC.apply(this,arguments)}function JC(){return(JC=(0,le.Z)(function*(n){const e=Ae(n),t=_u(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;wQ(e);)try{const i=yield aQ(e.localStore,r);if(null===i){0===e.v_.length&&t.n_();break}r=i.batchId,CQ(e,i)}catch(i){yield Hv(e,i)}UV(e)&&BV(e)})).apply(this,arguments)}function wQ(n){return mu(n)&&n.v_.length<10}function CQ(n,e){n.v_.push(e);const t=_u(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function UV(n){return mu(n)&&!_u(n).Zo()&&n.v_.length>0}function BV(n){_u(n).start()}function TQ(n){return XC.apply(this,arguments)}function XC(){return(XC=(0,le.Z)(function*(n){_u(n).V_()})).apply(this,arguments)}function DQ(n){return eT.apply(this,arguments)}function eT(){return(eT=(0,le.Z)(function*(n){const e=_u(n);for(const t of n.v_)e.d_(t.mutations)})).apply(this,arguments)}function AQ(n,e,t){return tT.apply(this,arguments)}function tT(){return(tT=(0,le.Z)(function*(n,e,t){const r=n.v_.shift(),i=dC.from(r,e,t);yield LV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rh(n)})).apply(this,arguments)}function SQ(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,le.Z)(function*(n,e){var t;e&&_u(n).E_&&(yield(t=(0,le.Z)(function*(i,o){if(wF(a=o.code)&&a!==ne.ABORTED){const s=i.v_.shift();_u(i).t_(),yield LV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield rh(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),UV(n)&&BV(n)}),nT.apply(this,arguments)}function jV(n,e){return rT.apply(this,arguments)}function rT(){return(rT=(0,le.Z)(function*(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=mu(t);t.M_.add(3),yield th(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield gg(t)})).apply(this,arguments)}function iT(n,e){return oT.apply(this,arguments)}function oT(){return(oT=(0,le.Z)(function*(n,e){const t=Ae(n);e?(t.M_.delete(2),yield gg(t)):e||(t.M_.add(2),yield th(t),t.N_.set("Unknown"))})).apply(this,arguments)}function ih(n){return n.B_||(n.B_=function(t,r,i){const o=Ae(t);return o.f_(),new pQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:vQ.bind(null,n),To:IQ.bind(null,n),Ao:EQ.bind(null,n),h_:bQ.bind(null,n)}),n.x_.push(function(){var e=(0,le.Z)(function*(t){t?(n.B_.t_(),GC(n)?qC(n):n.N_.set("Unknown")):(yield n.B_.stop(),VV(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function _u(n){return n.k_||(n.k_=function(t,r,i){const o=Ae(t);return o.f_(),new gQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:TQ.bind(null,n),Ao:SQ.bind(null,n),R_:DQ.bind(null,n),A_:AQ.bind(null,n)}),n.x_.push(function(){var e=(0,le.Z)(function*(t){t?(n.k_.t_(),yield rh(n)):(yield n.k_.stop(),n.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class sT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new sT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oh(n,e){if(nr("AsyncQueue",`${e}: ${n}`),ou(n))return new _e(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class sh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Me.comparator(t.key,r.key):(t,r)=>Me.comparator(t.key,r.key),this.keyedMap=Jp(),this.sortedSet=new yn(this.comparator)}static emptySet(e){return new sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $V{constructor(){this.q_=new yn(Me.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ue():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ah{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new ah(e,t,sh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PQ{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class RQ{constructor(){this.queries=new pa(e=>rF(e),Qp),this.onlineState="Unknown",this.z_=new Set}}function aT(n,e){return uT.apply(this,arguments)}function uT(){return(uT=(0,le.Z)(function*(n,e){const t=Ae(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new PQ,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield t.onListen(i,!0);break;case 1:o.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=oh(s,`Initialization of query '${$d(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&dT(t)})).apply(this,arguments)}function cT(n,e){return lT.apply(this,arguments)}function lT(){return(lT=(0,le.Z)(function*(n,e){const t=Ae(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function xQ(n,e){const t=Ae(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&dT(t)}function MQ(n,e,t){const r=Ae(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function dT(n){n.z_.forEach(e=>{e.next()})}var hT,HV;(HV=hT||(hT={})).J_="default",HV.Cache="cache";class fT{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ah(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hT.Cache}}class NQ{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class zV{constructor(e){this.serializer=e}Ps(e){return Ms(this.serializer,e)}Is(e){return e.metadata.exists?UF(this.serializer,e.document,!1):An.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return rr(e)}}class OQ{constructor(e,t,r){this.oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qV(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const r=Mt.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,r=new zV(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(t.get(s)||gt()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,le.Z)(function*(){const t=yield function uQ(n,e,t,r){return OC.apply(this,arguments)}(e.localStore,new zV(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield cQ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function qV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GV{constructor(e){this.key=e}}class WV{constructor(e){this.key=e}}class ZV{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=gt(),this.mutatedKeys=gt(),this.Ia=oF(e),this.Ta=new sh(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new $V,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),E=Yp(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;y&&E?y.data.isEqual(E.data)?S!==x&&(r.track({type:3,doc:E}),M=!0):this.Ra(y,E)||(r.track({type:2,doc:E}),M=!0,(u&&this.Ia(E,u)>0||l&&this.Ia(E,l)<0)&&(a=!0)):!y&&E?(r.track({type:0,doc:E}),M=!0):y&&!E&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(a=!0)),M&&(E?(s=s.add(E),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const f="F"===this.query.limitType?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((f,m)=>function(E,S){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return x(E)-x(S)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,0!==s.length||l?{snapshot:new ah(this.query,e.Ta,o,s,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new $V,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=gt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new WV(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new GV(r))}),t}pa(e){this.la=e.hs,this.Pa=gt();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return ah.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class kQ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FQ{constructor(e){this.key=e,this.wa=!1}}class VQ{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new pa(a=>rF(a),Qp),this.Da=new Map,this.Ca=new Set,this.va=new yn(Me.comparator),this.Fa=new Map,this.Ma=new DC,this.xa={},this.Oa=new Map,this.Na=Tc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function LQ(n,e){return pT.apply(this,arguments)}function pT(){return(pT=(0,le.Z)(function*(n,e,t=!0){const r=zv(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield KV(r,e,t,!0),i})).apply(this,arguments)}function UQ(n,e){return gT.apply(this,arguments)}function gT(){return(gT=(0,le.Z)(function*(n,e){const t=zv(n);yield KV(t,e,!0,!1)})).apply(this,arguments)}function KV(n,e,t,r){return mT.apply(this,arguments)}function mT(){return(mT=(0,le.Z)(function*(n,e,t,r){const i=yield Xd(n.localStore,ri(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield _T(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&$v(n.remoteStore,i),a})).apply(this,arguments)}function _T(n,e,t,r,i){return yT.apply(this,arguments)}function yT(){return yT=(0,le.Z)(function*(n,e,t,r,i){n.Ba=(m,y,E)=>{return(S=(0,le.Z)(function*(M,W,H,K){let ae=W.view.da(H);ae.Xi&&(ae=yield Vv(M.localStore,W.query,!1).then(({documents:N})=>W.view.da(N,ae)));const Te=K&&K.targetChanges.get(W.targetId),Be=K&&null!=K.targetMismatches.get(W.targetId),z=W.view.applyChanges(ae,M.isPrimaryClient,Te,Be);return PT(M,W.targetId,z.fa),z.snapshot}),function x(M,W,H,K){return S.apply(this,arguments)})(n,m,y,E);var S};const o=yield Vv(n.localStore,e,!0),s=new ZV(e,o.hs),a=s.da(o.documents),u=ig.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,u);PT(n,t,l.fa);const f=new kQ(e,t,s);return n.ba.set(e,f),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),l.snapshot}),yT.apply(this,arguments)}function BQ(n,e,t){return vT.apply(this,arguments)}function vT(){return(vT=(0,le.Z)(function*(n,e,t){const r=Ae(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Qp(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield eh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&nh(r.remoteStore,i.targetId),uh(r,i.targetId)}).catch(iu))):(uh(r,i.targetId),yield eh(r.localStore,i.targetId,!0))})).apply(this,arguments)}function jQ(n,e){return IT.apply(this,arguments)}function IT(){return(IT=(0,le.Z)(function*(n,e){const t=Ae(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nh(t.remoteStore,r.targetId))})).apply(this,arguments)}function ET(){return(ET=(0,le.Z)(function*(n,e,t){const r=BT(n);try{const i=yield function(s,a){const u=Ae(s),l=Nn.now(),f=a.reduce((E,S)=>E.add(S.key),gt());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Yi(),x=gt();return u.os.getEntries(E,f).next(M=>{S=M,S.forEach((W,H)=>{H.isValidDocument()||(x=x.add(W))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,S)).next(M=>{m=M;const W=[];for(const H of a){const K=mK(H,m.get(H.key).overlayedDocument);null!=K&&W.push(new ga(H.key,K,jk(K.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(E,l,W,a)}).next(M=>{y=M;const W=M.applyToLocalDocumentSet(m,x);return u.documentOverlayCache.saveOverlays(E,M.batchId,W)})}).then(()=>({batchId:y.batchId,changes:aF(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.xa[s.currentUser.toKey()];l||(l=new yn(ut)),l=l.insert(a,u),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _a(r,i.changes),yield rh(r.remoteStore)}catch(i){const o=oh(i,"Failed to persist write");t.reject(o)}})).apply(this,arguments)}function QV(n,e){return bT.apply(this,arguments)}function bT(){return(bT=(0,le.Z)(function*(n,e){const t=Ae(n);try{const r=yield function sQ(n,e){const t=Ae(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(t.Qr.removeMatchingKeys(o,f.removedDocuments,m).next(()=>t.Qr.addMatchingKeys(o,f.addedDocuments,m)));let E=y.withSequenceNumber(o.currentSequenceNumber);var x,M,W;null!==e.targetMismatches.get(m)?E=E.withResumeToken(wr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(m,E),M=E,W=f,(0===(x=y).resumeToken.approximateByteSize()||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(o,E))});let u=Yi(),l=gt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(DV(o,s,e.documentUpdates).next(f=>{u=f.cs,l=f.ls})),!r.isEqual(Ze.min())){const f=t.Qr.getLastRemoteSnapshotVersion(o).next(m=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.ns=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Ge(s.wa):i.removedDocuments.size>0&&(Ge(s.wa),s.wa=!1))}),yield _a(t,r,e)}catch(r){yield iu(r)}})).apply(this,arguments)}function YV(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ae(s);u.onlineState=a;let l=!1;u.queries.forEach((f,m)=>{for(const y of m.U_)y.j_(a)&&(l=!0)}),l&&dT(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HQ(n,e,t){return wT.apply(this,arguments)}function wT(){return(wT=(0,le.Z)(function*(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new yn(Me.comparator);s=s.insert(o,An.newNoDocument(o,Ze.min()));const a=gt().add(o),u=new rg(Ze.min(),new Map,new yn(ut),s,a);yield QV(r,u),r.va=r.va.remove(o),r.Fa.delete(e),RT(r)}else yield eh(r.localStore,e,!1).then(()=>uh(r,e,t)).catch(iu)})).apply(this,arguments)}function zQ(n,e){return CT.apply(this,arguments)}function CT(){return(CT=(0,le.Z)(function*(n,e){const t=Ae(n),r=e.batch.batchId;try{const i=yield function oQ(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){const m=l.batch,y=m.keys();let E=J.resolve();return y.forEach(S=>{E=E.next(()=>f.getEntry(u,S)).next(x=>{const M=l.docVersions.get(S);Ge(null!==M),x.version.compareTo(M)<0&&(m.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),f.addEntry(x)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=gt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);ST(t,r,null),AT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _a(t,i)}catch(i){yield iu(i)}})).apply(this,arguments)}function qQ(n,e,t){return TT.apply(this,arguments)}function TT(){return(TT=(0,le.Z)(function*(n,e,t){const r=Ae(n);try{const i=yield function(s,a){const u=Ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(m=>(Ge(null!==m),f=m.keys(),u.mutationQueue.removeMutationBatch(l,m))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);ST(r,e,t),AT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _a(r,i)}catch(i){yield iu(i)}})).apply(this,arguments)}function DT(){return(DT=(0,le.Z)(function*(n,e){const t=Ae(n);mu(t.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Ae(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Oa.get(r)||[];i.push(e),t.Oa.set(r,i)}catch(r){const i=oh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function AT(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function ST(n,e,t){const r=Ae(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function uh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||JV(n,r)})}function JV(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(nh(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),RT(n))}function PT(n,e,t){for(const r of t)r instanceof GV?(n.Ma.addReference(r.key,e),WQ(n,r)):r instanceof WV?(be("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||JV(n,r.key)):Ue()}function WQ(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(be("SyncEngine","New document in limbo: "+t),n.Ca.add(r),RT(n))}function RT(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new Me(Mt.fromString(e)),r=n.Na.next();n.Fa.set(r,new FQ(t)),n.va=n.va.insert(t,r),$v(n.remoteStore,new ma(ri(Bd(t.path)),r,"TargetPurposeLimboResolution",ho.oe))}}function _a(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=(0,le.Z)(function*(n,e,t){const r=Ae(n),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l&&!l.fromCache?"current":"not-current"),l){i.push(l);const f=xC.Ki(u.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.Sa.h_(i),yield(a=(0,le.Z)(function*(l,f){const m=Ae(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>J.forEach(f,E=>J.forEach(E.qi,S=>m.persistence.referenceDelegate.addReference(y,E.targetId,S)).next(()=>J.forEach(E.Qi,S=>m.persistence.referenceDelegate.removeReference(y,E.targetId,S)))))}catch(y){if(!ou(y))throw y;be("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const E=y.targetId;if(!y.fromCache){const S=m.ns.get(E),M=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);m.ns=m.ns.insert(E,M)}}}),function u(l,f){return a.apply(this,arguments)})(r.localStore,o))}),xT.apply(this,arguments)}function ZQ(n,e){return MT.apply(this,arguments)}function MT(){return(MT=(0,le.Z)(function*(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=yield CV(t.localStore,e);t.currentUser=e,(o=t).Oa.forEach(a=>{a.forEach(u=>{u.reject(new _e(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _a(t,r.us)}var o})).apply(this,arguments)}function KQ(n,e){const t=Ae(n),r=t.Fa.get(e);if(r&&r.wa)return gt().add(r.key);{let i=gt();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function QQ(n,e){return NT.apply(this,arguments)}function NT(){return(NT=(0,le.Z)(function*(n,e){const t=Ae(n),r=yield Vv(t.localStore,e.query,!0),i=e.view.pa(r);return t.isPrimaryClient&&PT(t,e.targetId,i.fa),i})).apply(this,arguments)}function YQ(n,e){return OT.apply(this,arguments)}function OT(){return(OT=(0,le.Z)(function*(n,e){const t=Ae(n);return SV(t.localStore,e).then(r=>_a(t,r))})).apply(this,arguments)}function JQ(n,e,t,r){return kT.apply(this,arguments)}function kT(){return(kT=(0,le.Z)(function*(n,e,t,r){const i=Ae(n),o=yield function(a,u){const l=Ae(a),f=Ae(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",m=>f.vn(m,u).next(y=>y?l.localDocuments.getDocuments(m,y):J.resolve(null)))}(i.localStore,e);var u;null!==o?("pending"===t?yield rh(i.remoteStore):"acknowledged"===t||"rejected"===t?(ST(i,e,r||null),AT(i,e),u=e,Ae(Ae(i.localStore).mutationQueue).Mn(u)):Ue(),yield _a(i,o)):be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function FT(){return(FT=(0,le.Z)(function*(n,e){const t=Ae(n);if(zv(t),BT(t),!0===e&&!0!==t.La){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield XV(t,r.toArray());t.La=!0,yield iT(t.remoteStore,!0);for(const o of i)$v(t.remoteStore,o)}else if(!1===e&&!1!==t.La){const r=[];let i=Promise.resolve();t.Da.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(uh(t,s),eh(t.localStore,s,!0))),nh(t.remoteStore,s)}),yield i,yield XV(t,r),function(s){const a=Ae(s);a.Fa.forEach((u,l)=>{nh(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new yn(Me.comparator)}(t),t.La=!1,yield iT(t.remoteStore,!1)}})).apply(this,arguments)}function XV(n,e,t){return VT.apply(this,arguments)}function VT(){return(VT=(0,le.Z)(function*(n,e,t){const r=Ae(n),i=[],o=[];for(const s of e){let a;const u=r.Da.get(s);if(u&&0!==u.length){a=yield Xd(r.localStore,ri(u[0]));for(const l of u){const f=r.ba.get(l),m=yield QQ(r,f);m.snapshot&&o.push(m.snapshot)}}else{const l=yield AV(r.localStore,s);a=yield Xd(r.localStore,l),yield _T(r,e2(l),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})).apply(this,arguments)}function e2(n){return Xk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eY(n){return t=Ae(n).localStore,Ae(Ae(t).persistence).Bi();var t}function tY(n,e,t,r){return LT.apply(this,arguments)}function LT(){return(LT=(0,le.Z)(function*(n,e,t,r){const i=Ae(n);if(i.La)return void be("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield SV(i.localStore,iF(o[0])),a=rg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,wr.EMPTY_BYTE_STRING);yield _a(i,s,a);break}case"rejected":yield eh(i.localStore,e,!0),uh(i,e,r);break;default:Ue()}})).apply(this,arguments)}function nY(n,e,t){return UT.apply(this,arguments)}function UT(){return(UT=(0,le.Z)(function*(n,e,t){const r=zv(n);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){be("SyncEngine","Adding an already active target "+i);continue}const o=yield AV(r.localStore,i),s=yield Xd(r.localStore,o);yield _T(r,e2(o),s.targetId,!1,s.resumeToken),$v(r.remoteStore,s)}for(const i of t)r.Da.has(i)&&(yield eh(r.localStore,i,!1).then(()=>{nh(r.remoteStore,i),uh(r,i)}).catch(iu))}})).apply(this,arguments)}function zv(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HQ.bind(null,e),e.Sa.h_=xQ.bind(null,e.eventManager),e.Sa.ka=MQ.bind(null,e.eventManager),e}function BT(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qQ.bind(null,e),e}class mg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,le.Z)(function*(){t.serializer=pg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wV(this.persistence,new bV,e.initialUser,this.serializer)}createPersistence(e){return new AC(Ov.Hr,this.serializer)}createSharedClientState(e){return new MV}terminate(){var e=this;return(0,le.Z)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jT extends mg{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,le.Z)(function*(){yield t().call(r,e),yield r.Qa.initialize(r,e),yield BT(r.Qa.syncEngine),yield rh(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return wV(this.persistence,new bV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new SZ(t,this.persistence);return new AZ(e.asyncQueue,r)}createPersistence(e){const t=RC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new PC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OV(),jv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new MV}}class t2 extends jT{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,le.Z)(function*(){yield t().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof UC&&(r.sharedClientState.syncEngine={Zs:JQ.bind(null,i),Xs:tY.bind(null,i),eo:nY.bind(null,i),Bi:eY.bind(null,i),Ys:YQ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,le.Z)(function*(s){yield function XQ(n,e){return FT.apply(this,arguments)}(r.Qa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=OV();if(!UC.D(t))throw new _e(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=RC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ch{initialize(e,t){var r=this;return(0,le.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ZQ.bind(null,r.syncEngine),yield iT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RQ}createDatastore(e){const t=pg(e.databaseInfo.databaseId),r=new fQ(e.databaseInfo);return new mQ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>YV(this.syncEngine,t,0),a=NV.D()?new NV:new lQ,new yQ(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,l,f){const m=new VQ(i,o,s,a,u,l);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,le.Z)(function*(){var t,r;yield(r=(0,le.Z)(function*(o){const s=Ae(o);be("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield th(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function n2(n,e=10240){let t=0;return{read:()=>(0,le.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,le.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oY{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new br,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,le.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,le.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,le.Z)(function*(){const t=yield e.za();if(null===t)return null;const r=e.Wa.decode(t),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const o=yield e.Ha(i);return new NQ(JSON.parse(o),t.length+i)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,le.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ha(e){var t=this;return(0,le.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const r=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,le.Z)(function*(){const t=yield e.Ua.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class sY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,le.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new _e(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,le.Z)(function*(s,a){const u=Ae(s),l={documents:a.map(E=>og(u.serializer,E))},f=yield u.xo("BatchGetDocuments",u.serializer.databaseId,Mt.emptyPath(),l,a.length),m=new Map;f.forEach(E=>{const S=function TK(n,e){return"found"in e?function(r,i){Ge(!!i.found);const o=Ms(r,i.found.name),s=rr(i.found.updateTime),a=i.found.createTime?rr(i.found.createTime):Ze.min(),u=new zr({mapValue:{fields:i.found.fields}});return An.newFoundDocument(o,s,a,u)}(n,e):"missing"in e?function(r,i){Ge(!!i.missing),Ge(!!i.readTime);const o=Ms(r,i.missing),s=rr(i.readTime);return An.newNoDocument(o,s)}(n,e):Ue()}(u.serializer,E);m.set(S.key.toString(),S)});const y=[];return a.forEach(E=>{const S=m.get(E.toString());Ge(!!S),y.push(S)}),y}),function o(s,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,le.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Me.fromPath(i);e.mutations.push(new cC(o,e.precondition(o)))}),yield(r=(0,le.Z)(function*(o,s){const a=Ae(o),u={writes:s.map(l=>sg(a.serializer,l))};yield a.Co("Commit",a.serializer.databaseId,Mt.emptyPath(),u)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ue();t=Ze.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ze.min())?On.exists(!1):On.updateTime(t):On.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ze.min()))throw new _e(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(t)}return On.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aY{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new jC(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,le.Z)(function*(){const t=new sY(e.datastore),r=e.tu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.nu(o)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const t=this.updateFunction(e);return!$p(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wF(t)}return!1}}class uY{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=pk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,le.Z)(function*(a){be("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=oh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Gv(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,le.Z)(function*(o){r.isEqual(o)||(yield CV(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),$T.apply(this,arguments)}function HT(n,e){return zT.apply(this,arguments)}function zT(){return(zT=(0,le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qT(n);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jV(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function r2(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qT(n){return GT.apply(this,arguments)}function GT(){return(GT=(0,le.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!r2(t))throw t;Ki("Error using user provided cache. Falling back to memory cache: "+t),yield Gv(n,new mg)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield Gv(n,new mg);return n._offlineComponents})).apply(this,arguments)}function Wv(n){return WT.apply(this,arguments)}function WT(){return(WT=(0,le.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield HT(n,n._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield HT(n,new ch))),n._onlineComponents})).apply(this,arguments)}function i2(n){return qT(n).then(e=>e.persistence)}function lh(n){return qT(n).then(e=>e.localStore)}function o2(n){return Wv(n).then(e=>e.remoteStore)}function ZT(n){return Wv(n).then(e=>e.syncEngine)}function dh(n){return KT.apply(this,arguments)}function KT(){return(KT=(0,le.Z)(function*(n){const e=yield Wv(n),t=e.eventManager;return t.onListen=LQ.bind(null,e.syncEngine),t.onUnlisten=BQ.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UQ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jQ.bind(null,e.syncEngine),t})).apply(this,arguments)}function a2(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,u,l){const f=new qv({next:y=>{s.enqueueAndForget(()=>cT(o,m));const E=y.docs.has(a);!E&&y.fromCache?l.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&"server"===u.source?l.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),m=new fT(Bd(a.path),f,{includeMetadataChanges:!0,ra:!0});return aT(o,m)}(yield dh(n),n.asyncQueue,e,t,r)})),r.promise}function u2(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,u,l){const f=new qv({next:y=>{s.enqueueAndForget(()=>cT(o,m)),y.fromCache&&"server"===u.source?l.reject(new _e(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),m=new fT(a,f,{includeMetadataChanges:!0,ra:!0});return aT(o,m)}(yield dh(n),n.asyncQueue,e,t,r)})),r.promise}function c2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const l2=new Map;function QT(n,e,t){if(!t)throw new _e(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function d2(n,e,t,r){if(!0===e&&!0===r)throw new _e(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h2(n){if(!Me.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function f2(n){if(Me.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ue()}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zv(n);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function p2(n,e){if(e<=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=c2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new gZ;switch(r.type){case"firstParty":return new vZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=l2.get(t);r&&(be("ComponentProvider","Removing Datastore"),l2.delete(t),r.terminate())}(this),Promise.resolve()}}function m2(n,e,t,r={}){var i;const o=(n=Et(n,_g))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ar.MOCK_USER;else{a=(0,ft.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ar(l)}n._authCredentials=new mZ(new hk(a,u))}}class qr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Ns extends qr{constructor(e,t,r){super(e,t,Bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Me(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function _2(n,e,...t){if(n=(0,ft.m9)(n),QT("collection","path",e),n instanceof _g){const r=Mt.fromString(e,...t);return f2(r),new Ns(n,null,r)}{if(!(n instanceof Sn||n instanceof Ns))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return f2(r),new Ns(n.firestore,null,r)}}function Kv(n,e,...t){if(n=(0,ft.m9)(n),1===arguments.length&&(e=pk.newId()),QT("doc","path",e),n instanceof _g){const r=Mt.fromString(e,...t);return h2(r),new Sn(n,null,new Me(r))}{if(!(n instanceof Sn||n instanceof Ns))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return h2(r),new Sn(n.firestore,n instanceof Ns?n.converter:null,new Me(r))}}function y2(n,e){return n=(0,ft.m9)(n),e=(0,ft.m9)(e),(n instanceof Sn||n instanceof Ns)&&(e instanceof Sn||e instanceof Ns)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YT(n,e){return n=(0,ft.m9)(n),e=(0,ft.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&Qp(n._query,e._query)&&n.converter===e.converter}class EY{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new jC(this,"async_queue_retry"),this.hu=()=>{const t=jv();t&&be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=jv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new br;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,le.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!ou(t))throw t;be("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,nr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=sT.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Ue()}verifyOperationInProgress(){}du(){var e=this;return(0,le.Z)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function JT(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class bY{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class un extends _g{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new EY,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||v2(this),this._firestoreClient.terminate()}}function CY(n,e){const t="object"==typeof n?n:(0,Wn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Wn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,ft.P0)("firestore");o&&m2(i,...o)}return i}function kn(n){return n._firestoreClient||v2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function v2(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KZ(n._databaseId,u,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,c2(f.experimentalLongPollingOptions),f.useFetchStreams));var u,f;n._firestoreClient=new uY(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function I2(n,e,t){const r=new br;return n.asyncQueue.enqueue((0,le.Z)(function*(){try{yield Gv(n,t),yield HT(n,e),r.resolve()}catch(i){const o=i;if(!r2(o))throw o;Ki("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function E2(n){if(n._initialized||n._terminated)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(wr.fromBase64String(e))}catch(t){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Os(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ac{constructor(e){this._methodName=e}}class Qv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}const OY=/^__.*__$/;class kY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new qd(e,this.data,t,this.fieldTransforms)}}class b2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function w2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Yv{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return eI(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(w2(this.fu)&&OY.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class FY{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pg(e)}Fu(e,t,r,i=!1){return new Yv({fu:e,methodName:t,vu:r,path:Dn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sc(n){const e=n._freezeSettings(),t=pg(n._databaseId);return new FY(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jv(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);oD("Data must be an object, but it was:",s,r);const a=D2(r,s);let u,l;if(o.merge)u=new Qi(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const y=Ig(e,m,t);if(!s.contains(y))throw new _e(ne.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);S2(f,y)||f.push(y)}u=new Qi(f),l=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,l=s.fieldTransforms;return new kY(new zr(a),u,l)}class vg extends Ac{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vg}}function C2(n,e,t){return new Yv({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class XT extends Ac{_toFieldTransform(e){return new eg(e.path,new Hd)}isEqual(e){return e instanceof XT}}class eD extends Ac{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=C2(this,e,!0),r=this.Mu.map(o=>Pc(o,t)),i=new yc(r);return new eg(e.path,i)}isEqual(e){return e instanceof eD&&(0,ft.vZ)(this.Mu,e.Mu)}}class tD extends Ac{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=C2(this,e,!0),r=this.Mu.map(o=>Pc(o,t)),i=new vc(r);return new eg(e.path,i)}isEqual(e){return e instanceof tD&&(0,ft.vZ)(this.Mu,e.Mu)}}class nD extends Ac{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new zd(e.serializer,dF(e.serializer,this.xu));return new eg(e.path,t)}isEqual(e){return e instanceof nD&&this.xu===e.xu}}function rD(n,e,t,r){const i=n.Fu(1,e,t);oD("Data must be an object, but it was:",i,r);const o=[],s=zr.empty();su(r,(u,l)=>{const f=Xv(e,u,t);l=(0,ft.m9)(l);const m=i.Su(f);if(l instanceof vg)o.push(f);else{const y=Pc(l,m);null!=y&&(o.push(f),s.set(f,y))}});const a=new Qi(o);return new b2(s,a,i.fieldTransforms)}function iD(n,e,t,r,i,o){const s=n.Fu(1,e,t),a=[Ig(e,r,t)],u=[i];if(o.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(Ig(e,o[y])),u.push(o[y+1]);const l=[],f=zr.empty();for(let y=a.length-1;y>=0;--y)if(!S2(l,a[y])){const E=a[y];let S=u[y];S=(0,ft.m9)(S);const x=s.Su(E);if(S instanceof vg)l.push(E);else{const M=Pc(S,x);null!=M&&(l.push(E),f.set(E,M))}}const m=new Qi(l);return new b2(f,m,s.fieldTransforms)}function T2(n,e,t,r=!1){return Pc(t,n.Fu(r?4:3,e))}function Pc(n,e){if(A2(n=(0,ft.m9)(n)))return oD("Unsupported field value:",e,n),D2(n,e);if(n instanceof Ac)return function(r,i){if(!w2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Pc(a,i.bu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=(0,ft.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return dF(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Nn.fromDate(r);return{timestampValue:Wd(i.serializer,o)}}if(r instanceof Nn){const o=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wd(i.serializer,o)}}if(r instanceof Qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Os)return{bytesValue:NF(i.serializer,r._byteString)};if(r instanceof Sn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Zv(r)}`)}(n,e)}function D2(n,e){const t={};return Mk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(n,(r,i)=>{const o=Pc(i,e.pu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function A2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof Qv||n instanceof Os||n instanceof Sn||n instanceof Ac)}function oD(n,e,t){if(!A2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Zv(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function Ig(n,e,t){if((e=(0,ft.m9)(e))instanceof ya)return e._internalPath;if("string"==typeof e)return Xv(n,e);throw eI("Field path arguments must be of type string or ",n,!1,void 0,t)}const VY=new RegExp("[~\\*/\\[\\]]");function Xv(n,e,t){if(e.search(VY)>=0)throw eI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ya(...e.split("."))._internalPath}catch{throw eI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eI(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new _e(ne.INVALID_ARGUMENT,a+n+u)}function S2(n,e){return n.some(t=>t.isEqual(e))}class Eg{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LY extends Eg{data(){return super.data()}}function tI(n,e){return"string"==typeof e?Xv(n,e):e instanceof ya?e._internalPath:e._delegate._internalPath}function P2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sD{}class bg extends sD{}function yu(n,e,...t){let r=[];e instanceof sD&&r.push(e),r=r.concat(t),function(o){const s=o.filter(u=>u instanceof hh).length,a=o.filter(u=>u instanceof wg).length;if(s>1||s>0&&a>0)throw new _e(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wg extends bg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wg(e,t,r)}_apply(e){const t=this._parse(e);return N2(e._query,t),new qr(e.firestore,e.converter,aC(e._query,t))}_parse(e){const t=Sc(e.firestore);return function(o,s,a,u,l,f,m){let y;if(l.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){M2(m,f);const E=[];for(const S of m)E.push(x2(u,o,S));y={arrayValue:{values:E}}}else y=x2(u,o,m)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||M2(m,f),y=T2(a,"where",m,"in"===f||"not-in"===f);return Nt.create(l,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hh extends sD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:nn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)N2(s,u),s=aC(s,u)}(e._query,t),new qr(e.firestore,e.converter,aC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aD extends bg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aD(e,t)}_apply(e){const t=function(i,o,s){if(null!==i.startAt)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zp(o,s)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class nI extends bg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new nI(e,t,r)}_apply(e){return new qr(e.firestore,e.converter,Iv(e._query,this._limit,this._limitType))}}class rI extends bg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rI(e,t,r)}_apply(e){const t=R2(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(o=t,new fa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class iI extends bg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iI(e,t,r)}_apply(e){const t=R2(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(o=t,new fa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function R2(n,e,t,r){if(t[0]=(0,ft.m9)(t[0]),t[0]instanceof Eg)return function(o,s,a,u,l){if(!u)throw new _e(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const m of jd(o))if(m.field.isKeyField())f.push(mc(s,u.key));else{const y=u.data.field(m.field);if(fv(y))throw new _e(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const E=m.field.canonicalString();throw new _e(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}f.push(y)}return new du(f,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Sc(n.firestore);return function(s,a,u,l,f,m){const y=s.explicitOrderBy;if(f.length>y.length)throw new _e(ne.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let S=0;S<f.length;S++){const x=f[S];if(y[S].field.isKeyField()){if("string"!=typeof x)throw new _e(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof x}`);if(!sC(s)&&-1!==x.indexOf("/"))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${x}' contains a slash.`);const M=s.path.child(Mt.fromString(x));if(!Me.isDocumentKey(M))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const W=new Me(M);E.push(mc(a,W))}else{const M=T2(u,l,x);E.push(M)}}return new du(E,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function x2(n,e,t){if("string"==typeof(t=(0,ft.m9)(t))){if(""===t)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&-1!==t.indexOf("/"))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mt.fromString(t));if(!Me.isDocumentKey(r))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mc(n,new Me(r))}if(t instanceof Sn)return mc(n,t._key);throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zv(t)}.`)}function M2(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N2(n,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uD{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return su(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new Qv(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zp(e));default:return null}}convertTimestamp(e){const t=da(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mt.fromString(e);Ge(qF(r));const i=new au(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return i.isEqual(t)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function oI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class WY extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends Eg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cg extends va{data(e={}){return super.data(e)}}class vu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cg(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Cg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new Cg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,f=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:KY(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function k2(n,e){return n instanceof va&&e instanceof va?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vu&&e instanceof vu&&n._firestore===e._firestore&&YT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Iu extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function F2(n,e,t){n=Et(n,Sn);const r=Et(n.firestore,un),i=oI(n.converter,e,t);return fh(r,[Jv(Sc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,On.none())])}function V2(n,e,t,...r){n=Et(n,Sn);const i=Et(n.firestore,un),o=Sc(i);let s;return s="string"==typeof(e=(0,ft.m9)(e))||e instanceof ya?iD(o,"updateDoc",n._key,e,t,r):rD(o,"updateDoc",n._key,e),fh(i,[s.toMutation(n._key,On.exists(!0))])}function L2(n,...e){var t,r,i;n=(0,ft.m9)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||JT(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(JT(e[s])){const m=e[s];e[s]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[s+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[s+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let u,l,f;if(n instanceof Sn)l=Et(n.firestore,un),f=Bd(n._key.path),u={next:m=>{e[s]&&e[s](cD(l,n,m))},error:e[s+1],complete:e[s+2]};else{const m=Et(n,qr);l=Et(m.firestore,un),f=m._query;const y=new Iu(l);u={next:E=>{e[s]&&e[s](new vu(l,y,m,E))},error:e[s+1],complete:e[s+2]},P2(n._query)}return function(y,E,S,x){const M=new qv(x),W=new fT(E,M,S);return y.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return aT(yield dh(y),W)})),()=>{M.$a(),y.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return cT(yield dh(y),W)}))}}(kn(l),f,a,u)}function fh(n,e){return function(r,i){const o=new br;return r.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function $Q(n,e,t){return ET.apply(this,arguments)}(yield ZT(r),i,o)})),o.promise}(kn(n),e)}function cD(n,e,t){const r=t.docs.get(e._key),i=new Iu(n);return new va(n,i,e._key,r,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}const fJ={maxAttempts:5};class U2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sc(e)}set(e,t,r){this._verifyNotCommitted();const i=Eu(e,this._firestore),o=oI(i.converter,t,r),s=Jv(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,On.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Eu(e,this._firestore);let s;return s="string"==typeof(t=(0,ft.m9)(t))||t instanceof ya?iD(this._dataReader,"WriteBatch.update",o._key,t,r,i):rD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new Gd(t._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(n,e){if((n=(0,ft.m9)(n)).firestore!==e)throw new _e(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class pJ extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Sc(t)}get(t){const r=Eu(t,this._firestore),i=new WY(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Ue();const s=o[0];if(s.isFoundDocument())return new Eg(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Eg(this._firestore,i,r._key,null,r.converter);throw Ue()})}set(t,r,i){const o=Eu(t,this._firestore),s=oI(o.converter,r,i),a=Jv(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){const s=Eu(t,this._firestore);let a;return a="string"==typeof(r=(0,ft.m9)(r))||r instanceof ya?iD(this._dataReader,"Transaction.update",s._key,r,i,o):rD(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){const r=Eu(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Eu(e,this._firestore),r=new Iu(this._firestore);return super.get(e).then(i=>new va(this._firestore,r,t._key,i._document,new Rc(!1,!1),t.converter))}}function dD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function H2(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function z2(){if(!function WZ(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Md=Wn.SDK_VERSION,(0,Wn._registerComponent)(new av.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new un(new _Z(r.getProvider("auth-internal")),new IZ(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(dk,"4.6.3",e),(0,Wn.registerVersion)(dk,"4.6.3","esm2017")}();class Tg{constructor(e){this._delegate=e}static fromBase64String(e){return z2(),new Tg(Os.fromBase64String(e))}static fromUint8Array(e){return H2(),new Tg(Os.fromUint8Array(e))}toBase64(){return z2(),this._delegate.toBase64()}toUint8Array(){return H2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hD(n){return function CJ(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class TJ{enableIndexedDbPersistence(e,t){return function TY(n,e){E2(n=Et(n,un));const t=kn(n);if(t._uninitializedComponentsProvider)throw new _e(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new ch;return I2(t,i,new jT(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function DY(n){E2(n=Et(n,un));const e=kn(n);if(e._uninitializedComponentsProvider)throw new _e(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new ch;return I2(e,r,new t2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function AY(n){if(n._initialized&&!n._terminated)throw new _e(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{yield(t=(0,le.Z)(function*(i){if(!Ss.D())return Promise.resolve();const o=i+"main";yield Ss.delete(o)}),function r(i){return t.apply(this,arguments)})(RC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class q2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof au||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){m2(this._delegate,e,t,r)}enableNetwork(){return function PY(n){return function cY(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield i2(n),t=yield o2(n);return e.setNetworkEnabled(!0),function(i){const o=Ae(i);return o.M_.delete(0),gg(o)}(t)}))}(kn(n=Et(n,un)))}(this._delegate)}disableNetwork(){return function RY(n){return function lY(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const e=yield i2(n),t=yield o2(n);return e.setNetworkEnabled(!1),(r=(0,le.Z)(function*(o){const s=Ae(o);s.M_.add(0),yield th(s),s.N_.set("Offline")}),function i(o){return r.apply(this,arguments)})(t);var r}))}(kn(n=Et(n,un)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,d2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SY(n){return function(t){const r=new br;return t.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function GQ(n,e){return DT.apply(this,arguments)}(yield ZT(t),r)})),r.promise}(kn(n=Et(n,un)))}(this._delegate)}onSnapshotsInSync(e){return function iJ(n,e){return function pY(n,e){const t=new qv(e);return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return i=yield dh(n),o=t,Ae(i).z_.add(o),void o.next();var i,o})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return i=yield dh(n),o=t,void Ae(i).z_.delete(o);var i,o}))}}(kn(n=Et(n,un)),JT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ph(this,_2(this._delegate,e))}catch(t){throw Di(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ro(this,Kv(this._delegate,e))}catch(t){throw Di(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ai(this,function IY(n,e){if(n=Et(n,_g),QT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(r=e,new fa(Mt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Di(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gJ(n,e,t){n=Et(n,un);const r=Object.assign(Object.assign({},fJ),t);return function(o){if(o.maxAttempts<1)throw new _e(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const u=new br;return o.asyncQueue.enqueueAndForget((0,le.Z)(function*(){const l=yield function s2(n){return Wv(n).then(e=>e.datastore)}(o);new aY(o.asyncQueue,l,a,s,u).Xa()})),u.promise}(kn(n),i=>e(new pJ(n,i)),r)}(this._delegate,t=>e(new G2(this,t)))}batch(){return kn(this._delegate),new W2(new U2(this._delegate,e=>fh(this._delegate,e)))}loadBundle(e){return function xY(n,e){const t=kn(n=Et(n,un)),r=new bY;return function gY(n,e,t,r){const i=function(s,a){let u;return u="string"==typeof s?TF().encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return n2(f,m);if(f instanceof ArrayBuffer)return n2(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new oY(f,a);var f}(t,pg(e));n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){!function rY(n,e,t){const r=Ae(n);var i;(i=(0,le.Z)(function*(s,a,u){try{const l=yield a.getMetadata();if(yield function(S,x){const M=Ae(S),W=rr(x.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",H=>M.$r.getBundleMetadata(H,x.id)).then(H=>!!H&&H.createTime.compareTo(W)>=0)}(s.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(S=l).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);u._updateProgress(qV(l));const f=new OQ(l,s.localStore,a.serializer);let m=yield a.qa();for(;m;){const E=yield f._a(m);E&&u._updateProgress(E),m=yield a.qa()}const y=yield f.complete();return yield _a(s,y.ca,void 0),yield function(S,x){const M=Ae(S);return M.persistence.runTransaction("Save bundle","readwrite",W=>M.$r.saveBundleMetadata(W,x))}(s.localStore,l),u._completeWith(y.progress),Promise.resolve(y.ua)}catch(l){return Ki("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var S}),function o(s,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ZT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function MY(n,e){return function mY(n,e){return n.asyncQueue.enqueue((0,le.Z)(function*(){return function(r,i){const o=Ae(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield lh(n),e)}))}(kn(n=Et(n,un)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ai(this,t):null)}}class aI extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tg(new Os(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ro.forKey(t,this.firestore,null)}}class G2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}get(e){const t=Mc(e);return this._delegate.get(t).then(r=>new Dg(this._firestore,new va(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Mc(e);return r?(dD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Mc(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}}class W2{constructor(e){this._delegate=e}set(e,t,r){const i=Mc(e);return r?(dD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Mc(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ag(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=xc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new xc(e,new aI(e),t),i.set(t,o)),o}}xc.INSTANCES=new WeakMap;class Ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ro(t,new Sn(t._delegate,r,new Me(e)))}static forKey(e,t,r){return new Ro(t,new Sn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ph(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ph(this.firestore,_2(this._delegate,e))}catch(t){throw Di(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ft.m9)(e))instanceof Sn&&y2(this._delegate,e)}set(e,t){t=dD("DocumentReference.set",t);try{return t?F2(this._delegate,e,t):F2(this._delegate,e)}catch(r){throw Di(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?V2(this._delegate,e):V2(this._delegate,e,t,...r)}catch(i){throw Di(i,"updateDoc()","DocumentReference.update()")}}delete(){return function nJ(n){return fh(Et(n.firestore,un),[new Gd(n._key,On.none())])}(this._delegate)}onSnapshot(...e){const t=Z2(e),r=K2(e,i=>new Dg(this.firestore,new va(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return L2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function YY(n){n=Et(n,Sn);const e=Et(n.firestore,un),t=kn(e),r=new Iu(e);return function dY(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(r=(0,le.Z)(function*(o,s,a){try{const u=yield function(f,m){const y=Ae(f);return y.persistence.runTransaction("read document","readonly",E=>y.localDocuments.getDocument(E,m))}(o,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new _e(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=oh(u,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield lh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new va(e,r,n._key,i,new Rc(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function JY(n){n=Et(n,Sn);const e=Et(n.firestore,un);return a2(kn(e),n._key,{source:"server"}).then(t=>cD(e,n,t))}(this._delegate):function QY(n){n=Et(n,Sn);const e=Et(n.firestore,un);return a2(kn(e),n._key).then(t=>cD(e,n,t))}(this._delegate),t.then(r=>new Dg(this.firestore,new va(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ro(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}function Di(n,e,t){return n.message=n.message.replace(e,t),n}function Z2(n){for(const e of n)if("object"==typeof e&&!hD(e))return e;return{}}function K2(n,e){var t,r;let i;return i=hD(n[0])?n[0]:hD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Dg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ro(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return k2(this._delegate,e._delegate)}}class Ag extends Dg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function pZ(n,e){n||Ue()}(void 0!==t),t}}class Ai{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}where(e,t,r){try{return new Ai(this.firestore,yu(this._delegate,function UY(n,e,t){const r=e,i=tI("where",n);return wg._create(i,r,t)}(e,t,r)))}catch(i){throw Di(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ai(this.firestore,yu(this._delegate,function BY(n,e="asc"){const t=e,r=tI("orderBy",n);return aD._create(r,t)}(e,t)))}catch(r){throw Di(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ai(this.firestore,yu(this._delegate,function jY(n){return p2("limit",n),nI._create("limit",n,"F")}(e)))}catch(t){throw Di(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ai(this.firestore,yu(this._delegate,function $Y(n){return p2("limitToLast",n),nI._create("limitToLast",n,"L")}(e)))}catch(t){throw Di(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ai(this.firestore,yu(this._delegate,function HY(...n){return rI._create("startAt",n,!0)}(...e)))}catch(t){throw Di(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ai(this.firestore,yu(this._delegate,function zY(...n){return rI._create("startAfter",n,!1)}(...e)))}catch(t){throw Di(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ai(this.firestore,yu(this._delegate,function qY(...n){return iI._create("endBefore",n,!1)}(...e)))}catch(t){throw Di(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ai(this.firestore,yu(this._delegate,function GY(...n){return iI._create("endAt",n,!0)}(...e)))}catch(t){throw Di(t,"endAt()","Query.endAt()")}}isEqual(e){return YT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function eJ(n){n=Et(n,qr);const e=Et(n.firestore,un),t=kn(e),r=new Iu(e);return function hY(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(r=(0,le.Z)(function*(o,s,a){try{const u=yield Vv(o,s,!0),l=new ZV(s,u.hs),f=l.da(u.documents),m=l.applyChanges(f,!1);a.resolve(m.snapshot)}catch(u){const l=oh(u,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield lh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new vu(e,r,n,i))}(this._delegate):"server"===e?.source?function tJ(n){n=Et(n,qr);const e=Et(n.firestore,un),t=kn(e),r=new Iu(e);return u2(t,n._query,{source:"server"}).then(i=>new vu(e,r,n,i))}(this._delegate):function XY(n){n=Et(n,qr);const e=Et(n.firestore,un),t=kn(e),r=new Iu(e);return P2(n._query),u2(t,n._query).then(i=>new vu(e,r,n,i))}(this._delegate),t.then(r=>new fD(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Z2(e),r=K2(e,i=>new fD(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return L2(this._delegate,t,r)}withConverter(e){return new Ai(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}class AJ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ag(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ai(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ag(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AJ(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ag(this._firestore,r))})}isEqual(e){return k2(this._delegate,e._delegate)}}class ph extends Ai{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ro(this.firestore,e):null}doc(e){try{return new Ro(this.firestore,void 0===e?Kv(this._delegate):Kv(this._delegate,e))}catch(t){throw Di(t,"doc()","CollectionReference.doc()")}}add(e){return function rJ(n,e){const t=Et(n.firestore,un),r=Kv(n),i=oI(n.converter,e);return fh(t,[Jv(Sc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ro(this.firestore,t))}isEqual(e){return y2(this._delegate,e._delegate)}withConverter(e){return new ph(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}function Mc(n){return Et(n,Sn)}class pD{constructor(...e){this._delegate=new ya(...e)}static documentId(){return new pD(Dn.keyField().canonicalString())}isEqual(e){return(e=(0,ft.m9)(e))instanceof ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class Nc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _J(){return new XT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Nc(e)}static delete(){const e=function mJ(){return new vg("deleteField")}();return e._methodName="FieldValue.delete",new Nc(e)}static arrayUnion(...e){const t=function yJ(...n){return new eD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Nc(t)}static arrayRemove(...e){const t=function vJ(...n){return new tD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Nc(t)}static increment(e){const t=function IJ(n){return new nD("increment",n)}(e);return t._methodName="FieldValue.increment",new Nc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SJ={Firestore:q2,GeoPoint:Qv,Timestamp:Nn,Blob:Tg,Transaction:G2,WriteBatch:W2,DocumentReference:Ro,DocumentSnapshot:Dg,Query:Ai,QueryDocumentSnapshot:Ag,QuerySnapshot:fD,CollectionReference:ph,FieldPath:pD,FieldValue:Nc,setLogLevel:function DJ(n){!function fZ(n){ru.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Q2(n,e){return function xJ(n,e=j0){return new st(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function gD(n,e){return Q2(n,e).pipe(Ne(t=>({payload:t,type:"query"})))}!function RJ(n){(function PJ(n,e){n.INTERNAL.registerComponent(new av.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},SJ)))})(n,(e,t)=>new q2(e,t,new TJ)),n.registerVersion("@firebase/firestore-compat","0.3.32")}(Jo.Z);class Y2{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=rL(r,t);return new eL(i,o,this.afs)}snapshotChanges(){return function MJ(n,e){return Q2(n,e).pipe(Uy(void 0),G0(),Ne(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return this.snapshotChanges().pipe(Ne(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return C(this.ref.get(e)).pipe(Ti)}}function uI(n,e){return gD(n,e).pipe(Uy(void 0),G0(),Ne(t=>{const[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=o.find(m=>m.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function J2(n,e,t){return uI(n,t).pipe(jy((r,i)=>function NJ(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function OJ(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),et(),Ne(r=>r.map(i=>({type:i.type,payload:i}))))}function mD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function X2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eL{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ne(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Uy(void 0),G0(),Po(([r,i])=>i.length>0||!r),Ne(([,r])=>r),Ti)}auditTrail(e){return this.stateChanges(e).pipe(jy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=X2(e);return J2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return gD(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Ti)}get(e){return C(this.query.get(e)).pipe(Ti)}add(e){return this.ref.add(e)}doc(e){return new Y2(this.ref.doc(e),this.afs)}}class kJ{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uI(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(t=>t.filter(r=>e.indexOf(r.type)>-1)),Po(t=>t.length>0),Ti):uI(this.query,this.afs.schedulers.outsideAngular).pipe(Ti)}auditTrail(e){return this.stateChanges(e).pipe(jy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=X2(e);return J2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti)}valueChanges(e={}){return gD(this.query,this.afs.schedulers.outsideAngular).pipe(Ne(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Ti)}get(e){return C(this.query.get(e)).pipe(Ti)}}const tL=new Ce("angularfire2.enableFirestorePersistence"),nL=new Ce("angularfire2.firestore.persistenceSettings"),FJ=new Ce("angularfire2.firestore.settings"),VJ=new Ce("angularfire2.firestore.use-emulator");function rL(n,e=(t=>t)){return{query:e(n),ref:n}}let Sg=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,u,l,f,m,y,E,S,x,M,W,H){this.schedulers=u;const K=sv(t,a,r),ae=f;m&&tk(K,a,y,S,x,M,E,W),[this.firestore,this.persistenceEnabled$]=z0(`${K.name}.firestore`,"AngularFirestore",K.name,()=>{const Te=a.runOutsideAngular(()=>K.firestore());if(o&&Te.settings(o),ae&&Te.useEmulator(...ae),i&&!Ry(s)){const Be=()=>{try{return C(Te.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(z){return typeof console<"u"&&console.warn(z),V(!1)}};return[Te,a.runOutsideAngular(Be)]}return[Te,V(!1)]},[o,ae,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=rL(i,r),a=this.schedulers.ngZone.run(()=>o);return new eL(a,s,this)}collectionGroup(t,r){const i=r||(s=>s),o=this.firestore.collectionGroup(t);return new kJ(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Y2(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ve(Vp),ve(Lp,8),ve(tL,8),ve(FJ,8),ve(To),ve(Ut),ve(Rd),ve(nL,8),ve(VJ,8),ve(q0,8),ve(KO,8),ve(QO,8),ve(YO,8),ve(JO,8),ve(XO,8),ve(ek,8),ve(Fp,8))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),LJ=(()=>{class n{constructor(){Jo.Z.registerVersion("angularfire",ca.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tL,useValue:!0},{provide:nL,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[Sg]})}return n})();const iL="firebasestorage.googleapis.com",oL="storageBucket";class zn extends ft.ZR{constructor(e,t,r=0){super(_D(e),`Firebase Storage: ${t} (${_D(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _D(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Fn||{});function _D(n){return"storage/"+n}function yD(){return new zn(Fn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sL(){return new zn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aL(){return new zn(Fn.CANCELED,"User canceled the upload/download.")}function uL(){return new zn(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gh(n){return new zn(Fn.INVALID_ARGUMENT,n)}function cL(){return new zn(Fn.APP_DELETED,"The Firebase app was deleted.")}function lL(n){return new zn(Fn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pg(n,e){return new zn(Fn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Rg(n){throw new zn(Fn.INTERNAL_ERROR,"Internal error: "+n)}class si{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=si.makeFromUrl(e,t)}catch{return new si(e,"")}if(""===r.path)return r;throw function KJ(n){return new zn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(ae){ae.path_=decodeURIComponent(ae.path)}const m=t.replace(/[.]/g,"\\."),K=[{regex:a,indices:{bucket:1,path:3},postModify:function o(ae){"/"===ae.path.charAt(ae.path.length-1)&&(ae.path_=ae.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${m}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===iL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let ae=0;ae<K.length;ae++){const Te=K[ae],Be=Te.regex.exec(e);if(Be){let N=Be[Te.indices.path];N||(N=""),r=new si(Be[Te.indices.bucket],N),Te.postModify(r);break}}if(null==r)throw function ZJ(n){return new zn(Fn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class eX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cI(n){return"string"==typeof n||n instanceof String}function dL(n){return vD()&&n instanceof Blob}function vD(){return typeof Blob<"u"}function ID(n,e,t,r){if(r<e)throw gh(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gh(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ia(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function hL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var mh=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(mh||{});function fL(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}class sX{constructor(e,t,r,i,o,s,a,u,l,f,m,y=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function rX(n){return void 0!==n}(u)?o():o(u)}catch(u){s(u)}else if(null!==a){const u=yD();u.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,u):u)}else s(i.canceled?this.appDelete_?cL():aL():sL())};this.canceled_?t(0,new lI(!1,null,!0)):this.backoffId_=function tX(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return 2===a}let l=!1;function f(...M){l||(l=!0,e.apply(null,M))}function m(M){i=setTimeout(()=>{i=null,n(E,u())},M)}function y(){o&&clearTimeout(o)}function E(M,...W){if(l)return void y();if(M)return y(),void f.call(null,M,...W);if(u()||s)return y(),void f.call(null,M,...W);let K;r<64&&(r*=2),1===a?(a=2,K=0):K=1e3*(r+Math.random()),m(K)}let S=!1;function x(M){S||(S=!0,y(),!l&&(null!==i?(M||(a=2),clearTimeout(i),m(0)):M||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,x(!0)},t),x}((r,i)=>{if(i)return void r(!1,new lI(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===mh.NO_ERROR,u=o.getStatus();if(!a||fL(u,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===mh.ABORT;return void r(!1,new lI(!1,null,f))}const l=-1!==this.successCodes_.indexOf(u);r(!0,new lI(l,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nX(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function fX(...n){const e=function hX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(vD())return new Blob(n);throw new zn(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ED{constructor(e,t){this.data=e,this.contentType=t||null}}function bD(n,e){switch(n){case fo.RAW:return new ED(pL(e));case fo.BASE64:case fo.BASE64URL:return new ED(gL(n,e));case fo.DATA_URL:return new ED(function _X(n){const e=new mL(n);return e.base64?gL(fo.BASE64,e.rest):function mX(n){let e;try{e=decodeURIComponent(n)}catch{throw Pg(fo.DATA_URL,"Malformed data URL.")}return pL(e)}(e.rest)}(e),function yX(n){return new mL(n).contentType}(e))}throw yD()}function pL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gL(n,e){switch(n){case fo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Pg(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Pg(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function gX(n){if(typeof atob>"u")throw function XJ(n){return new zn(Fn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Pg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class mL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Pg(fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function vX(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ks{constructor(e,t){let r=0,i="";dL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(dL(this.data_)){const i=function pX(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new ks(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ks(r,!0)}}static getBlob(...e){if(vD()){const t=e.map(r=>r instanceof ks?r.data_:r);return new ks(fX.apply(null,t))}{const t=e.map(s=>cI(s)?bD(fo.RAW,s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ks(i,!0)}}uploadData(){return this.data_}}function wD(n){let e;try{e=JSON.parse(n)}catch{return null}return function oX(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _L(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function bX(n,e){return e}class Si{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||bX}}let dI=null;function xg(){if(dI)return dI;const n=[];n.push(new Si("bucket")),n.push(new Si("generation")),n.push(new Si("metageneration")),n.push(new Si("name","fullPath",!0));const t=new Si("name");t.xform=function e(o,s){return function wX(n){return!cI(n)||n.length<2?n:_L(n)}(s)},n.push(t);const i=new Si("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},n.push(i),n.push(new Si("timeCreated")),n.push(new Si("updated")),n.push(new Si("md5Hash",null,!0)),n.push(new Si("cacheControl",null,!0)),n.push(new Si("contentDisposition",null,!0)),n.push(new Si("contentEncoding",null,!0)),n.push(new Si("contentLanguage",null,!0)),n.push(new Si("contentType",null,!0)),n.push(new Si("metadata","customMetadata",!0)),dI=n,dI}function yL(n,e,t){const r=wD(e);return null===r?null:function TX(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const s=t[o];r[s.local]=s.xform(r,e[s.server])}return function CX(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new si(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function CD(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const vL="prefixes",IL="items";class Fs{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vs(n){if(!n)throw yD()}function hI(n,e){return function t(r,i){const o=yL(n,i,e);return Vs(null!==o),o}}function _h(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function GJ(){return new zn(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function qJ(){return new zn(Fn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function zJ(n){return new zn(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function WJ(n){return new zn(Fn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Mg(n){const e=_h(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function HJ(n){return new zn(Fn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function EL(n,e,t){const i=Ia(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Fs(i,"GET",hI(n,t),s);return a.errorHandler=Mg(e),a}function xX(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Ia(e.bucketOnlyServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Fs(a,"GET",function PX(n,e){return function t(r,i){const o=function SX(n,e,t){const r=wD(t);return null===r?null:function AX(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[vL])for(const i of t[vL]){const o=i.replace(/\/$/,""),s=n._makeStorageReference(new si(e,o));r.prefixes.push(s)}if(t[IL])for(const i of t[IL]){const o=n._makeStorageReference(new si(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Vs(null!==o),o}}(n,e.bucket),l);return f.urlParams=o,f.errorHandler=_h(e),f}function wL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function kX(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class fI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function TD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Vs(!1)}return Vs(!!t&&-1!==(e||["active"]).indexOf(t)),t}const UX={STATE_CHANGED:"state_changed"},Pi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DD(n){switch(n){case"running":case"pausing":case"canceling":return Pi.RUNNING;case"paused":return Pi.PAUSED;case"success":return Pi.SUCCESS;case"canceled":return Pi.CANCELED;default:return Pi.ERROR}}class BX{constructor(e,t,r){if(function iX(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function yh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let DL=null;class jX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Rg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class $X extends jX{initXhr(){this.xhr_.responseType="text"}}function Xo(){return DL?DL():new $X}class AL{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=xg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Fn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(fL(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=sL()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Fn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function FX(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s=wL(e,r,i),a={name:s.fullPath},u=Ia(o,n.host,n._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},m=CD(s,t),S=new Fs(u,"POST",function E(x){let M;TD(x);try{M=x.getResponseHeader("X-Goog-Upload-URL")}catch{Vs(!1)}return Vs(cI(M)),M},n.maxUploadRetryTime);return S.urlParams=a,S.headers=f,S.body=m,S.errorHandler=_h(e),S}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function VX(n,e,t,r){const u=new Fs(t,"POST",function o(l){const f=TD(l,["active","final"]);let m=null;try{m=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vs(!1)}m||Vs(!1);const y=Number(m);return Vs(!isNaN(y)),new fI(y,r.size(),"final"===f)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=_h(e),u}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Xo,t,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new fI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function LX(n,e,t,r,i,o,s,a){const u=new fI(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function YJ(){return new zn(Fn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=u.total-u.current;let f=l;i>0&&(f=Math.min(f,i));const m=u.current;let E="";E=0===f?"finalize":l===f?"upload, finalize":"upload";const S={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${u.current}`},x=r.slice(m,m+f);if(null===x)throw uL();const K=new Fs(t,"POST",function M(ae,Te){const Be=TD(ae,["active","final"]),z=u.current+f,N=r.size();let B;return B="final"===Be?hI(e,o)(ae,Te):null,new fI(z,N,"final"===Be,B)},e.maxUploadRetryTime);return K.headers=S,K.body=x.uploadData(),K.progressCallback=a||null,K.errorHandler=_h(n),K}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Xo,i,o,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=EL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function CL(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let K="";for(let ae=0;ae<2;ae++)K+=Math.random().toString().slice(2);return K}();s["Content-Type"]="multipart/related; boundary="+u;const l=wL(e,r,i),f=CD(l,t),E=ks.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+f+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===E)throw uL();const S={name:l.fullPath},x=Ia(o,n.host,n._protocol),W=n.maxUploadRetryTime,H=new Fs(x,"POST",hI(n,t),W);return H.urlParams=S,H.headers=s,H.body=E.uploadData(),H.errorHandler=_h(e),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xo,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=aL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=DD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new BX(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(DD(this._state)){case Pi.SUCCESS:yh(this._resolve.bind(null,this.snapshot))();break;case Pi.CANCELED:case Pi.ERROR:yh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(DD(this._state)){case Pi.RUNNING:case Pi.PAUSED:e.next&&yh(e.next.bind(e,this.snapshot))();break;case Pi.SUCCESS:e.complete&&yh(e.complete.bind(e))();break;default:e.error&&yh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Oc{constructor(e,t){this._service=e,this._location=t instanceof si?t:si.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oc(e,t)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _L(this._location.path)}get storage(){return this._service}get parent(){const e=function IX(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new si(this._location.bucket,e);return new Oc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw lL(e)}}function PL(n,e,t){return AD.apply(this,arguments)}function AD(){return(AD=(0,le.Z)(function*(n,e,t){const i=yield RL(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield PL(n,e,i.nextPageToken))})).apply(this,arguments)}function RL(n,e){null!=e&&"number"==typeof e.maxResults&&ID("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=xX(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Xo)}function eee(n){n._throwIfRoot("getDownloadURL");const e=function MX(n,e,t){const i=Ia(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Fs(i,"GET",function RX(n,e){return function t(r,i){const o=yL(n,i,e);return Vs(null!==o),function DX(n,e,t,r){const i=wD(e);if(null===i||!cI(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const m=n.fullPath;return Ia("/b/"+s(n.bucket)+"/o/"+s(m),t,r)+hL({alt:"media",token:l})})[0]}(o,i,n.host,n._protocol)}}(n,t),s);return a.errorHandler=Mg(e),a}(n.storage,n._location,xg());return n.storage.makeRequestWithTokens(e,Xo).then(t=>{if(null===t)throw function JJ(){return new zn(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function xL(n,e){const t=function EX(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new si(n._location.bucket,t);return new Oc(n.storage,r)}function ML(n,e){if(n instanceof SD){const t=n;if(null==t._bucket)throw function QJ(){return new zn(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oL+"' property when initializing the app?")}();const r=new Oc(t,t._bucket);return null!=e?ML(r,e):r}return void 0!==e?xL(n,e):n}function iee(n,e){if(e&&function nee(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof SD)return function ree(n,e){return new Oc(n,e)}(n,e);throw gh("To use ref(service, url), the first argument must be a Storage instance.")}return ML(n,e)}function NL(n,e){const t=e?.[oL];return null==t?null:si.makeFromBucketSpec(t,n)}class SD{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=iL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?si.makeFromBucketSpec(i,this._host):NL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?si.makeFromBucketSpec(this._url,e):NL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ID("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ID("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,le.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,le.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oc(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new eX(cL());{const s=function dX(n,e,t,r,i,o,s=!0){const a=hL(n.urlParams),u=n.url+a,l=Object.assign({},n.headers);return function cX(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function aX(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function uX(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function lX(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new sX(u,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,le.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const OL="@firebase/storage",FL="storage";function VL(n,e){return iee(n=(0,ft.m9)(n),e)}function pee(n=(0,Wn.getApp)(),e){n=(0,ft.m9)(n);const r=(0,Wn._getProvider)(n,FL).getImmediate({identifier:e}),i=(0,ft.P0)("storage");return i&&LL(r,...i),r}function LL(n,e,t,r={}){!function oee(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,ft.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function gee(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new SD(t,r,i,e,Wn.SDK_VERSION)}!function mee(){(0,Wn._registerComponent)(new av.wA(FL,gee,"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(OL,"0.12.5",""),(0,Wn.registerVersion)(OL,"0.12.5","esm2017")}();class pI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new pI(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(o="function"==typeof t?s=>t(new pI(s,this,this._ref)):{next:t.next?s=>t.next(new pI(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class BL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ea(e,this._service))}get items(){return this._delegate.items.map(e=>new Ea(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ea{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function fee(n,e){return xL(n,e)}(this._delegate,e);return new Ea(t,this.storage)}get root(){return new Ea(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ea(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new UL(function see(n,e,t){return function KX(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new AL(n,new ks(e),t)}(n=(0,ft.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=fo.RAW,r){this._throwIfRoot("putString");const i=bD(t,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new UL(new AL(this._delegate,new ks(i.data,!0),o),this)}listAll(){return function lee(n){return function YX(n){const e={prefixes:[],items:[]};return PL(n,e).then(()=>e)}(n=(0,ft.m9)(n))}(this._delegate).then(e=>new BL(e,this.storage))}list(e){return function cee(n,e){return RL(n=(0,ft.m9)(n),e)}(this._delegate,e||void 0).then(t=>new BL(t,this.storage))}getMetadata(){return function aee(n){return function JX(n){n._throwIfRoot("getMetadata");const e=EL(n.storage,n._location,xg());return n.storage.makeRequestWithTokens(e,Xo)}(n=(0,ft.m9)(n))}(this._delegate)}updateMetadata(e){return function uee(n,e){return function XX(n,e){n._throwIfRoot("updateMetadata");const t=function NX(n,e,t,r){const o=Ia(e.fullServerUrl(),n.host,n._protocol),a=CD(t,r),l=n.maxOperationRetryTime,f=new Fs(o,"PATCH",hI(n,r),l);return f.headers={"Content-Type":"application/json; charset=utf-8"},f.body=a,f.errorHandler=Mg(e),f}(n.storage,n._location,e,xg());return n.storage.makeRequestWithTokens(t,Xo)}(n=(0,ft.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function dee(n){return eee(n=(0,ft.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hee(n){return function tee(n){n._throwIfRoot("deleteObject");const e=function OX(n,e){const r=Ia(e.fullServerUrl(),n.host,n._protocol),a=new Fs(r,"DELETE",function s(u,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Mg(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xo)}(n=(0,ft.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lL(e)}}class jL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if($L(e))throw gh("ref() expected a child path but got a URL, use refFromURL instead.");return new Ea(VL(this._delegate,e),this)}refFromURL(e){if(!$L(e))throw gh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{si.makeFromUrl(e,this._delegate.host)}catch{throw gh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ea(VL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){LL(this._delegate,e,t,r)}}function $L(n){return/^[A-Za-z]+:\/\//.test(n)}function Iee(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new jL(t,r)}function HL(n){const e=function bee(n){return new st(e=>{const t=s=>e.next(s);t(n.snapshot);const o=n.on("state_changed",t);return n.then(s=>{t(s),e.complete()},s=>{t(n.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function UJ(n,e=j0){return ie((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function u(){const l=s+n,f=e.now();if(f<l)return i=this.schedule(void 0,l-f),void r.add(i);a()}t.subscribe(xe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Ne(t=>t.bytesTransferred/t.totalBytes*100))}}function gI(n){return{getDownloadURL:()=>V(void 0).pipe(zO,Le(()=>n.getDownloadURL()),Ti),getMetadata:()=>V(void 0).pipe(zO,Le(()=>n.getMetadata()),Ti),delete:()=>C(n.delete()),child:e=>gI(n.child(e)),updateMetadata:e=>C(n.updateMetadata(e)),put:(e,t)=>HL(n.put(e,t)),putString:(e,t,r)=>HL(n.putString(e,t,r)),list:e=>C(n.list(e)),listAll:()=>C(n.listAll())}}!function Eee(n){const e={TaskState:Pi,TaskEvent:UX,StringFormat:fo,Storage:jL,Reference:Ea};n.INTERNAL.registerComponent(new av.wA("storage-compat",Iee,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.8")}(Jo.Z);const wee=new Ce("angularfire2.storageBucket"),Cee=new Ce("angularfire2.storage.maxUploadRetryTime"),Tee=new Ce("angularfire2.storage.maxOperationRetryTime"),Dee=new Ce("angularfire2.storage.use-emulator");let Ng=(()=>{class n{storage;constructor(t,r,i,o,s,a,u,l,f,m){const y=sv(t,s,r);this.storage=z0(`${y.name}.storage.${i}`,"AngularFireStorage",y.name,()=>{const E=s.runOutsideAngular(()=>y.storage(i||void 0)),S=f;return S&&E.useEmulator(...S),u&&E.setMaxUploadRetryTime(u),l&&E.setMaxOperationRetryTime(l),E},[u,l])}ref(t){return gI(this.storage.ref(t))}refFromURL(t){return gI(this.storage.refFromURL(t))}upload(t,r,i){return gI(this.storage.ref(t)).put(r,i)}static \u0275fac=function(r){return new(r||n)(ve(Vp),ve(Lp,8),ve(wee,8),ve(To),ve(Ut),ve(Rd),ve(Cee,8),ve(Tee,8),ve(Dee,8),ve(Fp,8))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Aee=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({})}return n})(),See=(()=>{class n{constructor(){Jo.Z.registerVersion("angularfire",ca.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[Ng],imports:[Aee]})}return n})(),bu=(()=>{class n{constructor(t,r){this.firestore=t,this.storage=r,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(t){return t||(t=this.defaultBusinessId),this.firestore.collection("businesses").doc(t).snapshotChanges().pipe(Ne(r=>{const i=r.payload.data(),o=r.payload.id;if(i){const{id:s,...a}=i;return{id:o,...a}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(t){return this.storage.ref(t).getDownloadURL().pipe(Cs(r=>(console.error("Error fetching photo URL:",r),V(""))))}getEmployeesByBusinessId(t){return console.log("Fetching employees for business ID:",t),this.firestore.collection("businesses").doc(t).get().pipe(Ne(r=>{if(r.exists){const i=r.data();return i&&i.employees?(console.log("Fetched employees:",i.employees),i.employees):(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),Cs(r=>(console.error("Error fetching employees:",r),V([]))))}getBusinessGalleryImagesById(t){return this.firestore.collection("businesses").doc(t).collection("gallery").valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Sg),ve(Ng))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pee(n,e){if(1&n&&Ie(0,"button",11),2&n){const t=e.index;cd("active",0===t),jo("data-bs-slide-to",t)("aria-current",0===t?"true":null)("aria-label","Slide "+(t+1))}}function Ree(n,e){if(1&n&&(P(0,"div",12),Ie(1,"img",13),P(2,"div",14)(3,"h1"),O(4,"Welcome to "),Ie(5,"br"),O(6),b(),P(7,"div",15),Ie(8,"br"),P(9,"p"),O(10),b()(),P(11,"button",16),O(12," Schedule an appointment "),b()()()),2&n){const t=e.$implicit,r=e.index,i=qt(2);cd("active",0===r),ye(1),Fe("src",t,Hi),ye(5),Ei(" ",i.business.businessName,""),ye(4),Br(i.business.tagline)}}function xee(n,e){if(1&n&&(P(0,"div",1)(1,"div",2),At(2,Pee,1,5,"button",3),b(),P(3,"div",4),At(4,Ree,13,5,"div",5),b(),P(5,"button",6),Ie(6,"span",7),P(7,"span",8),O(8,"Previous"),b()(),P(9,"button",9),Ie(10,"span",10),P(11,"span",8),O(12,"Next"),b()()()),2&n){const t=qt();ye(2),Fe("ngForOf",t.business.heroImages),ye(2),Fe("ngForOf",t.business.heroImages)}}let Mee=(()=>{class n{ngOnInit(){this.fetchBusinessData()}fetchBusinessData(){this.business={businessName:"#1 Helping Hand AFH",tagline:"We\u2019re Family, Not Just Care.",heroImages:["../../../assets/sharedAssets/istockphoto-804432288-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-613308420-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-918529390-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg","../../../assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-hero-carousel"]],inputs:{businessID:"businessID"},decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn"]],template:function(r,i){1&r&&At(0,xee,13,2,"div",0),2&r&&Fe("ngIf",i.business)},dependencies:[Es,Ko],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--accent-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return n})();function Nee(n,e){if(1&n&&(P(0,"div",8),Ie(1,"div",9),b()),2&n){const t=e.$implicit;ye(1),Fe("innerHTML",t,Wa)}}function Oee(n,e){if(1&n&&(P(0,"div",8),Ie(1,"div",9),b()),2&n){const t=e.$implicit;ye(1),Fe("innerHTML",t,Wa)}}let PD=(()=>{class n{constructor(t,r){this.webContent=t,this.route=r,this.business={businessName:"",tagline:"",uniqueService:"",whyChoose:"",businessStory:"",motivation:"",mission:"",vision:"",certifications:"",targetAudience:"",services:"",specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:"",address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",serviceBenefits:"",pricingStructure:"",contactFormDetails:"",mapDirections:"",photoGallery:"",employees:[],id:"",faqs:"",blogNews:"",mapIframe:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.webContent.getBusinessData(t.id).subscribe(i=>{i&&(this.business=i)})})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(bu),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-home"]],decls:19,vars:3,consts:[[3,"businessID"],[1,"intro-section"],[1,"left"],[1,"right"],[1,"features-container"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"",3,"innerHTML"]],template:function(r,i){1&r&&(Ie(0,"app-hero-carousel",0),P(1,"div",1)(2,"div",2)(3,"h1"),O(4,"A Home of Exceptional Care"),b()(),P(5,"div",3)(6,"p"),O(7,"#1 Helping Hand AFH was founded in June 2021 with a deep passion for helping the elderly live their best lives. Our journey began with a simple idea: to create a home-like environment where seniors can thrive and feel loved."),b()()(),P(8,"div",4)(9,"div",5)(10,"h2"),O(11,"Our Unique Features"),b(),P(12,"div",6),At(13,Nee,2,1,"div",7),b()(),P(14,"div",5)(15,"h2"),O(16,"Why Choose Us"),b(),P(17,"div",6),At(18,Oee,2,1,"div",7),b()()()),2&r&&(Fe("businessID",i.business.id),ye(13),Fe("ngForOf",i.business.uniqueService.split("|")),ye(5),Fe("ngForOf",i.business.whyChoose.split("|")))},dependencies:[Es,Mee],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background:#f9f9f9;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return n})();function kee(n,e){if(1&n&&(P(0,"div",3),Ie(1,"img",4),P(2,"h3"),O(3),b(),P(4,"h4"),O(5),b(),P(6,"p"),O(7),b()()),2&n){const t=e.$implicit;ye(1),ep("alt",t.name),Fe("src",t.photoURL,Hi),ye(2),Br(t.name),ye(2),Br(t.role),ye(2),Br(t.bio)}}let Fee=(()=>{class n{constructor(t,r){this.route=t,this.employeeService=r}ngOnInit(){this.employees$=this.route.queryParamMap.pipe(Ne(t=>t.get("id")||""),Le(t=>{if(!t)throw new Error("Business ID is required");return this.employeeService.getEmployeesByBusinessId(t)}),Cs(t=>(console.error("Error fetching employees:",t),V([]))))}static#e=this.\u0275fac=function(r){return new(r||n)(ue($r),ue(bu))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:6,vars:3,consts:[[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"h2"),O(2,"Meet the Team"),b(),P(3,"div",1),At(4,kee,8,5,"div",2),qi(5,"async"),b()()),2&r&&(ye(4),Fe("ngForOf",Gi(5,1,i.employees$)))},dependencies:[Es,ac],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background:#f9f9f9;text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return n})();function Vee(n,e){if(1&n&&(P(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),O(4,"About Us"),b(),P(5,"div",3)(6,"p"),O(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),b()()()(),P(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),O(12,"Our Story"),b()(),Ie(13,"div",8),b(),P(14,"section",9)(15,"div",10),Ie(16,"img",11),P(17,"div",6)(18,"h2",7),O(19,"Our Mission"),b()(),Ie(20,"div",8),b(),P(21,"div",12),Ie(22,"img",11),P(23,"div",6)(24,"h2",7),O(25,"Our Vision"),b()(),Ie(26,"div",8),b()(),P(27,"section",13),Ie(28,"app-meet-the-team",14),b()()()),2&n){const t=qt();ye(13),Fe("innerHTML",t.business.businessStory,Wa),ye(3),Fe("src",t.business.lifestyleImages,Hi),ye(4),Fe("innerHTML",t.business.mission,Wa),ye(2),Fe("src",t.business.facilityImages,Hi),ye(4),Fe("innerHTML",t.business.vision,Wa),ye(2),Fe("businessId",t.business.id)}}let Lee=(()=>{class n{constructor(t,r){this.webContent=t,this.route=r}ngOnInit(){this.route.queryParams.subscribe(t=>{this.webContent.getBusinessData(t.id).subscribe(i=>{i&&(this.business=i)})})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(bu),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"]],template:function(r,i){1&r&&At(0,Vee,29,6,"div",0),2&r&&Fe("ngIf",i.business)},dependencies:[Ko,Fee],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background:#f9f9f9;padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;z-index:1;display:inline-block;padding:10px 20px;width:400px;background-color:#fff;box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:#ff6f61;transform:translate(-50%);z-index:2}']})}return n})();function Uee(n,e){if(1&n&&(P(0,"li")(1,"h3"),O(2),b()()),2&n){const t=e.$implicit;ye(2),Br(t)}}function Bee(n,e){if(1&n&&(P(0,"li")(1,"h3"),O(2),b()()),2&n){const t=e.$implicit;ye(2),Br(t)}}function jee(n,e){if(1&n&&(P(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),O(4,"Our Services"),b(),P(5,"div",3)(6,"p"),O(7,"Providing exceptional care tailored to your needs"),b()()()(),P(8,"div",4)(9,"section",5),Ie(10,"img",6),P(11,"h2"),O(12,"Our Comprehensive Services"),b(),P(13,"ul"),At(14,Uee,3,1,"li",7),b()(),P(15,"section",5),Ie(16,"img",6),P(17,"h2"),O(18,"Our Benefits"),b(),P(19,"ul"),At(20,Bee,3,1,"li",7),b()(),P(21,"section",8)(22,"h2"),O(23,"Special Programs"),b(),P(24,"h3"),O(25),b()(),P(26,"section",9)(27,"div",10),Ie(28,"img",11),P(29,"div",12)(30,"h2",13),O(31,"Tours"),b()(),Ie(32,"div",14),b(),P(33,"div",15),Ie(34,"img",16),P(35,"div",12)(36,"h2",13),O(37,"Free Consulting"),b()(),Ie(38,"div",14),b()()()()),2&n){const t=qt();ye(14),Fe("ngForOf",t.business.services.split(",")),ye(6),Fe("ngForOf",t.business.serviceBenefits.split(",")),ye(5),Br(t.business.specialPrograms),ye(7),Fe("innerHTML",t.business.tours,Wa),ye(6),Fe("innerHTML",t.business.freeConsulting,Wa)}}let $ee=(()=>{class n{constructor(t,r){this.webContent=t,this.route=r}ngOnInit(){this.route.queryParams.subscribe(t=>{this.webContent.getBusinessData(t.id).subscribe(i=>{i&&(this.business=i)})})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(bu),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"]],template:function(r,i){1&r&&At(0,jee,39,5,"div",0),2&r&&Fe("ngIf",i.business)},dependencies:[Es,Ko],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background:white;padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background:#f9f9f9;padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;z-index:1;display:inline-block;padding:10px 20px;background-color:#fff;box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:#ff6f61;transform:translate(-50%);z-index:2}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}']})}return n})(),zL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Js),ue(oo))};static#t=this.\u0275dir=Je({type:n})}return n})(),kc=(()=>{class n extends zL{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=dr(n)))(i||n)}}();static#t=this.\u0275dir=Je({type:n,features:[en]})}return n})();const Ls=new Ce("NgValueAccessor"),qee={provide:Ls,useExisting:zt(()=>vh),multi:!0},Wee=new Ce("CompositionEventMode");let vh=(()=>{class n extends zL{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gee(){const n=Qa()?Qa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Js),ue(oo),ue(Wee,8))};static#t=this.\u0275dir=Je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&at("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Mn([qee]),en]})}return n})();function wu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function GL(n){return null!=n&&"number"==typeof n.length}const ai=new Ce("NgValidators"),Cu=new Ce("NgAsyncValidators"),Zee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rn{static min(e){return function WL(n){return e=>{if(wu(e.value)||wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ZL(n){return e=>{if(wu(e.value)||wu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return KL(e)}static requiredTrue(e){return function QL(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function YL(n){return wu(n.value)||Zee.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function JL(n){return e=>wu(e.value)||!GL(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function XL(n){return e=>GL(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function eU(n){if(!n)return mI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return sU(e)}static composeAsync(e){return aU(e)}}function KL(n){return wu(n.value)?{required:!0}:null}function mI(n){return null}function tU(n){return null!=n}function nU(n){return Xf(n)?C(n):n}function rU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function iU(n,e){return e.map(t=>t(n))}function oU(n){return n.map(e=>function Kee(n){return!n.validate}(e)?e:t=>e.validate(t))}function sU(n){if(!n)return null;const e=n.filter(tU);return 0==e.length?null:function(t){return rU(iU(t,e))}}function RD(n){return null!=n?sU(oU(n)):null}function aU(n){if(!n)return null;const e=n.filter(tU);return 0==e.length?null:function(t){return function Hee(...n){const e=ko(n),{args:t,keys:r}=NN(n),i=new st(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let f=0;f<s;f++){let m=!1;Vt(t[f]).subscribe(xe(o,y=>{m||(m=!0,l--),a[f]=y},()=>u--,void 0,()=>{(!u||!m)&&(l||o.next(r?kN(r,a):a),o.complete())}))}});return e?i.pipe(ON(e)):i}(iU(t,e).map(nU)).pipe(Ne(rU))}}function xD(n){return null!=n?aU(oU(n)):null}function uU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cU(n){return n._rawValidators}function lU(n){return n._rawAsyncValidators}function MD(n){return n?Array.isArray(n)?n:[n]:[]}function _I(n,e){return Array.isArray(n)?n.includes(e):n===e}function dU(n,e){const t=MD(e);return MD(n).forEach(i=>{_I(t,i)||t.push(i)}),t}function hU(n,e){return MD(e).filter(t=>!_I(n,t))}class fU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=RD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ri extends fU{get formDirective(){return null}get path(){return null}}class Tu extends fU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yI=(()=>{class n extends pU{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Tu,2))};static#t=this.\u0275dir=Je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&cd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[en]})}return n})(),vI=(()=>{class n extends pU{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Ri,10))};static#t=this.\u0275dir=Je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&cd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[en]})}return n})();const Og="VALID",EI="INVALID",Ih="PENDING",kg="DISABLED";function kD(n){return(bI(n)?n.validators:n)||null}function FD(n,e){return(bI(e)?e.asyncValidators:n)||null}function bI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function mU(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function _U(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new F(1002,"")})}class wI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Og}get invalid(){return this.status===EI}get pending(){return this.status==Ih}get disabled(){return this.status===kg}get enabled(){return this.status!==kg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hU(e,this._rawAsyncValidators))}hasValidator(e){return _I(this._rawValidators,e)}hasAsyncValidator(e){return _I(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ih,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Og,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Og||this.status===Ih)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kg:Og}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ih,this._hasOwnPendingAsyncValidator=!0;const t=nU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Hn,this.statusChanges=new Hn}_calculateStatus(){return this._allControlsDisabled()?kg:this.errors?EI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ih)?Ih:this._anyControlsHaveStatus(EI)?EI:Og}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Xee(n){return Array.isArray(n)?RD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ete(n){return Array.isArray(n)?xD(n):n||null}(this._rawAsyncValidators)}}class Fg extends wI{constructor(e,t,r){super(kD(t),FD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_U(this,0,e),Object.keys(e).forEach(r=>{mU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class yU extends Fg{}const Fc=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>Vg}),Vg="always";function CI(n,e){return[...e.path,n]}function Lg(n,e,t=Vg){VD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function nte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vU(n,e)})}(n,e),function ite(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tte(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function TI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),AI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function DI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function VD(n,e){const t=cU(n);null!==e.validator?n.setValidators(uU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=lU(n);null!==e.asyncValidator?n.setAsyncValidators(uU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();DI(e._rawValidators,i),DI(e._rawAsyncValidators,i)}function AI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=cU(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=lU(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return DI(e._rawValidators,r),DI(e._rawAsyncValidators,r),t}function vU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IU(n,e){VD(n,e)}function UD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function EU(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===vh?t=o:function ate(n){return Object.getPrototypeOf(n.constructor)===kc}(o)?r=o:i=o}),i||r||t||null}const cte={provide:Ri,useExisting:zt(()=>SI)},Ug=(()=>Promise.resolve())();let SI=(()=>{class n extends Ri{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Hn,this.form=new Fg({},RD(t),xD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ug.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Lg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ug.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ug.then(()=>{const r=this._findContainer(t.path),i=new Fg({});IU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ug.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ug.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,EU(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(ue(ai,10),ue(Cu,10),ue(Fc,8))};static#t=this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&at("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([cte]),en]})}return n})();function bU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Bg=class extends wI{constructor(e=null,t,r){super(kD(t),FD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let CU=(()=>{class n extends Ri{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return CI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=dr(n)))(i||n)}}();static#t=this.\u0275dir=Je({type:n,features:[en]})}return n})();const hte={provide:Tu,useExisting:zt(()=>jD)},DU=(()=>Promise.resolve())();let jD=(()=>{class n extends Tu{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Bg,this._registered=!1,this.name="",this.update=new Hn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BD(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),UD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){DU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&gd(r);DU.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?CI(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Ri,9),ue(ai,10),ue(Cu,10),ue(Ls,10),ue(gy,8),ue(Fc,8))};static#t=this.\u0275dir=Je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mn([hte]),en,Bi]})}return n})(),PI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),SU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({})}return n})();const $D=new Ce("NgModelWithFormControlWarning"),yte={provide:Ri,useExisting:zt(()=>jg)};let jg=(()=>{class n extends Ri{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Hn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(AI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){TI(t.control||null,t,!1),function ute(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,EU(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(TI(r||null,t),(n=>n instanceof Bg)(i)&&(Lg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);IU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ote(n,e){return AI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){VD(this.form,this),this._oldForm&&AI(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(ue(ai,10),ue(Cu,10),ue(Fc,8))};static#t=this.\u0275dir=Je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&at("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([yte]),en,Bi]})}return n})();const vte={provide:Ri,useExisting:zt(()=>$g)};let $g=(()=>{class n extends CU{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){MU(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Ri,13),ue(ai,10),ue(Cu,10))};static#t=this.\u0275dir=Je({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Mn([vte]),en]})}return n})();const Ite={provide:Ri,useExisting:zt(()=>Hg)};let Hg=(()=>{class n extends Ri{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return CI(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){MU(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Ri,13),ue(ai,10),ue(Cu,10))};static#t=this.\u0275dir=Je({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Mn([Ite]),en]})}return n})();function MU(n){return!(n instanceof $g||n instanceof jg||n instanceof Hg)}const Ete={provide:Tu,useExisting:zt(()=>RI)};let RI=(()=>{class n extends Tu{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Hn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BD(0,o)}ngOnChanges(t){this._added||this._setUpControl(),UD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return CI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(ue(Ri,13),ue(ai,10),ue(Cu,10),ue(Ls,10),ue($D,8))};static#n=this.\u0275dir=Je({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mn([Ete]),en,Bi]})}return n})(),Vc=(()=>{class n{constructor(){this._validator=mI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Je({type:n,features:[Bi]})}return n})();const Rte={provide:ai,useExisting:zt(()=>Eh),multi:!0};let Eh=(()=>{class n extends Vc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gd,this.createValidator=t=>KL}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=dr(n)))(i||n)}}();static#t=this.\u0275dir=Je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&jo("required",i._enabled?"":null)},inputs:{required:"required"},features:[Mn([Rte]),en]})}return n})(),zU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({imports:[SU]})}return n})();class qU extends wI{constructor(e,t,r){super(kD(t),FD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_U(this,0,e),e.forEach((r,i)=>{mU(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function GU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let WU=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return GU(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Fg(i,o)}record(t,r=null){const i=this._reduceControls(t);return new yU(i,r)}control(t,r,i){let o={};return this.useNonNullable?(GU(r)?o=r:(o.validators=r,o.asyncValidators=i),new Bg(t,{...o,nonNullable:!0})):new Bg(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new qU(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Bg||t instanceof wI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fc,useValue:t.callSetDisabledState??Vg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({imports:[zU]})}return n})(),Vte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$D,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fc,useValue:t.callSetDisabledState??Vg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({imports:[zU]})}return n})();function Lte(n,e){if(1&n&&(P(0,"div",7)(1,"h3"),O(2,"Email"),b(),P(3,"p")(4,"a",23),O(5),b()()()),2&n){const t=qt(2);ye(4),ao("href","mailto:",t.business.email,"",Hi),ye(1),Br(t.business.email)}}function Ute(n,e){if(1&n&&(P(0,"div",7)(1,"h3"),O(2,"Fax"),b(),P(3,"p"),O(4),b()()),2&n){const t=qt(2);ye(4),Br(t.business.fax)}}function Bte(n,e){if(1&n&&(P(0,"div",7)(1,"h3"),O(2,"Social Media"),b(),P(3,"p")(4,"a",23),O(5),b()()()),2&n){const t=qt(2);ye(4),ep("href",t.business.socialMedia,Hi),ye(1),Br(t.business.socialMedia)}}function jte(n,e){if(1&n){const t=ec();P(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),O(4,"Contact Us"),b(),P(5,"div",3)(6,"p"),O(7,"We're here to answer any questions you have"),b()()()(),P(8,"div",4)(9,"section",5)(10,"h2"),O(11,"Get in Touch"),b(),P(12,"div",6)(13,"div",7)(14,"h3"),O(15,"Address"),b(),P(16,"p"),O(17),b()(),P(18,"div",7)(19,"h3"),O(20,"Phone"),b(),P(21,"p"),O(22),b()(),At(23,Lte,6,2,"div",8),At(24,Ute,5,1,"div",8),At(25,Bte,6,2,"div",8),P(26,"div")(27,"h3"),O(28,"Visitation Hours"),b(),P(29,"ul")(30,"li")(31,"strong"),O(32,"Monday:"),b(),O(33," 7.30am\u20135pm"),b(),P(34,"li")(35,"strong"),O(36,"Tuesday:"),b(),O(37," 7.30am\u20135pm"),b(),P(38,"li")(39,"strong"),O(40,"Wednesday:"),b(),O(41," 7.30am\u20135pm"),b(),P(42,"li")(43,"strong"),O(44,"Thursday:"),b(),O(45," 7.30am\u20135pm"),b(),P(46,"li")(47,"strong"),O(48,"Friday:"),b(),O(49," 7.30am\u20135pm"),b(),P(50,"li")(51,"strong"),O(52,"Saturday:"),b(),O(53,"Closed"),b(),P(54,"li")(55,"strong"),O(56,"Sunday:"),b(),O(57,"Closed"),b()()()()(),P(58,"section",9)(59,"h2"),O(60,"Send Us a Message"),b(),P(61,"form",10,11),at("ngSubmit",function(){return Ii(t),Vr(qt().onSubmit())}),P(63,"div",12)(64,"label",13),O(65,"Name"),b(),P(66,"input",14),at("ngModelChange",function(i){return Ii(t),Vr(qt().formData.name=i)}),b()(),P(67,"div",12)(68,"label",15),O(69,"Email"),b(),P(70,"input",16),at("ngModelChange",function(i){return Ii(t),Vr(qt().formData.email=i)}),b()(),P(71,"div",12)(72,"label",17),O(73,"Message"),b(),P(74,"textarea",18),at("ngModelChange",function(i){return Ii(t),Vr(qt().formData.message=i)}),b()(),P(75,"button",19),O(76,"Submit"),b()()(),P(77,"section",20)(78,"h2"),O(79,"Find Us Here"),b(),P(80,"div",21),Ie(81,"iframe",22),b()()()()}if(2&n){const t=function DP(n){return ji(function IE(){return Xe.lFrame.contextLView}(),vt+n)}(62),r=qt();ye(17),Br(r.business.address),ye(5),Br(r.business.phone),ye(1),Fe("ngIf",r.business.email),ye(1),Fe("ngIf",r.business.fax),ye(1),Fe("ngIf",r.business.socialMedia),ye(41),Fe("ngModel",r.formData.name),ye(4),Fe("ngModel",r.formData.email),ye(4),Fe("ngModel",r.formData.message),ye(1),Fe("disabled",!t.form.valid)}}let $te=(()=>{class n{constructor(t,r,i){this.webContent=t,this.route=r,this.http=i,this.formData={name:"",email:"",message:""}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.webContent.getBusinessData(t.id).subscribe(i=>{i&&(this.business=i)})})}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(t=>console.log("Email sent successfully",t),t=>console.error("Error sending email",t))}static#e=this.\u0275fac=function(r){return new(r||n)(ue(bu),ue($r),ue(EN))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"contact-form"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[1,"map-section"],[1,"map-container"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7460.530516506536!2d-122.18471088983462!3d47.54600478154801!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x549069117965856f%3A0xa36b023f16c07440!2s11805%20SE%2064th%20St%2C%20Bellevue%2C%20WA%2098006!5e0!3m2!1sen!2sus!4v1719851446084!5m2!1sen!2sus","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[3,"href"]],template:function(r,i){1&r&&At(0,jte,82,9,"div",0),2&r&&Fe("ngIf",i.business)},dependencies:[Ko,PI,vh,yI,vI,Eh,jD,SI],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background:#f9f9f9;border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return n})(),qD=(()=>{class n{constructor(t,r){this.afs=t,this.storage=r,this.basePath="businesses"}createBusiness(t){console.log("Business Created");const r=this.afs.createId();return this.afs.doc(`${this.basePath}/${r}`).set({...t,id:r})}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe(Ne(t=>t.map(r=>{const i=r.payload.doc.data(),o=r.payload.doc.id,{id:s,...a}=i;return{id:o,...a}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,t=>t.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(t){return this.afs.doc(`${this.basePath}/${t}`).valueChanges()}updateBusiness(t,r){return this.afs.doc(`${this.basePath}/${t}`).update(r)}deleteBusiness(t){return this.afs.doc(`${this.basePath}/${t}`).delete()}uploadFile(t,r){return this.storage.upload(t,r)}getDownloadURL(t){return this.storage.ref(t).getDownloadURL()}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Sg),ve(Ng))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GD=(()=>{class n{constructor(t,r){this.storage=t,this.firestore=r}uploadFile(t,r,i){let o;switch(i){case"employee":o=`businesses/${r}/employee/${t.name}`;break;case"business":o=`businesses/${r}/business/${t.name}`;break;default:o=`businesses/${r}/gallery/${t.name}`}const s=this.storage.ref(o),a=this.storage.upload(o,t);return{uploadProgress:a.percentageChanges().pipe(Ne(f=>f??0)),downloadUrl:new st(f=>{a.snapshotChanges().pipe(bs(()=>{s.getDownloadURL().subscribe(m=>{this.firestore.collection("businesses").doc(r).collection(i).add({url:m}),f.next(m),f.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ng),ve(Sg))};static#t=this.\u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hte(n,e){if(1&n&&($o(0),P(1,"div",111)(2,"div",112),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function zte(n,e){if(1&n&&($o(0),P(1,"div",111)(2,"div",112),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function qte(n,e){if(1&n&&($o(0),P(1,"div",111)(2,"div",112),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function Gte(n,e){if(1&n&&($o(0),P(1,"div",111)(2,"div",112),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function Wte(n,e){if(1&n){const t=ec();P(0,"div",113)(1,"div",19)(2,"label",114),O(3,"Employee Name"),b(),Ie(4,"input",115),b(),P(5,"div",19)(6,"label",116),O(7,"Role"),b(),Ie(8,"input",117),b(),P(9,"div",19)(10,"label",118),O(11,"Bio"),b(),Ie(12,"textarea",119),b(),P(13,"div",19)(14,"label",120),O(15,"Photo"),b(),P(16,"input",121),at("change",function(i){const s=Ii(t).index;return Vr(qt().onEmployeeFileChange(i,s))}),b(),At(17,Gte,4,3,"ng-container",56),qi(18,"async"),b(),P(19,"button",109),at("click",function(){const o=Ii(t).index;return Vr(qt().removeEmployee(o))}),O(20,"Remove Employee"),b()()}if(2&n){const t=e.index,r=qt();Fe("formGroupName",t),ye(17),Fe("ngIf",Gi(18,2,r.uploadProgress["employee_"+t]))}}let WD=(()=>{class n{constructor(t,r,i,o){this.fb=t,this.businessService=r,this.uploadService=i,this.route=o,this.uploadProgress={}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id}),this.businessForm=this.fb.group({businessName:["Careful Living AFH",rn.required],tagline:["Caring with compassion"],uniqueService:["Personalized 24/7 care"],whyChoose:["We provide personalized care tailored to each resident's needs."],businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors.",rn.required],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met.",rn.required],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland",rn.required],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff.",rn.required],targetAudience:["Seniors in need of assisted living services, families looking for quality care for their loved ones."],services:["24-hour supervision and assistance , Medication management , Vital signs monitoring , Assistance with daily living activities such as dressing, bathing, grooming , Partial or full incontinence care support , Assistance with walking, transferring and eating , Three nutritious home-cooked meals and snacks daily , Special diets , Laundry and housekeeping , Personalized activities programs , Entertainment provided by outside vendors",rn.required],specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests.",rn.required],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder.",rn.required],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist.",rn.required],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:['John Doe\'s family: "Amazing care!"'],address:["1234 Care St, Compassion City, ST 12345",rn.required],phone:["(123) 456-7890",rn.required],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",rn.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm",rn.required],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion.",rn.required],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities.",rn.required],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",rn.required],serviceBenefits:["Private rooms with private or shared bathrooms , Each room is equipped with calling system, phone, cable TV, internet , Handicap accessible , Spacious open floor plan with high ceiling , Harwood floors , Smoke alarm system , Security system , Covered deck , Emergency call buttons , Generator",rn.required],pricingStructure:["Contact us for pricing details.",rn.required],contactFormDetails:["Name, Email, Phone, Message",rn.required],mapDirections:["Included map and directions to our facility."],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([])})}employees(){return this.businessForm.get("employees")}addEmployee(){const t=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(t)}removeEmployee(t){this.employees().removeAt(t)}onEmployeeFileChange(t,r){const i=t.target.files[0];if(i){const{uploadProgress:o,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"employee");this.uploadProgress[`employee_${r}`]=o,s.pipe(bs(()=>{s.subscribe(a=>{this.employees().at(r).patchValue({photoURL:a})})})).subscribe()}}onFileChange(t,r){const i=t.target.files[0];if(i){let o;o="photoGallery"===r?"gallery":"logoImage"===r||"ownerImagesBios"===r||"staffImagesBios"===r?"business":"employee";const{uploadProgress:s,downloadUrl:a}=this.uploadService.uploadFile(i,this.businessId,o);this.uploadProgress[r]=s,a.pipe(bs(()=>{a.subscribe(u=>{const l=this.businessForm.get(r)?.value;Array.isArray(l)?this.businessForm.patchValue({[r]:[...l,u]}):this.businessForm.patchValue({[r]:u})})})).subscribe()}}onSubmit(){if(console.log("Submit Click",this.businessForm.valid),this.businessForm.valid){const t=this.businessForm.value;console.log(t),this.businessService.createBusiness(t).then(()=>alert("Business details saved successfully!")).catch(r=>console.error("Error saving business details",r))}}preventDefault(t){t.preventDefault()}static#e=this.\u0275fac=function(r){return new(r||n)(ue(WU),ue(qD),ue(GD),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-business-question-form"]],decls:246,vars:11,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","certifications-tab","data-bs-toggle","tab","data-bs-target","#certifications","type","button","role","tab","aria-controls","certifications","aria-selected","false",1,"nav-link"],["id","services-offerings-tab","data-bs-toggle","tab","data-bs-target","#services-offerings","type","button","role","tab","aria-controls","services-offerings","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-info-tab","data-bs-toggle","tab","data-bs-target","#contact-info","type","button","role","tab","aria-controls","contact-info","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","additional-content-tab","data-bs-toggle","tab","data-bs-target","#additional-content","type","button","role","tab","aria-controls","additional-content","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","uniqueService"],["id","uniqueService","formControlName","uniqueService",1,"form-control"],["for","whyChoose"],["id","whyChoose","formControlName","whyChoose",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","businessStory",1,"required"],["id","businessStory","formControlName","businessStory","required","",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["for","mission",1,"required"],["id","mission","formControlName","mission","required","",1,"form-control"],["for","vision",1,"required"],["id","vision","formControlName","vision","required","",1,"form-control"],["id","certifications","role","tabpanel","aria-labelledby","certifications-tab",1,"tab-pane","fade"],["for","certifications",1,"required"],["id","certifications","formControlName","certifications","required","",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],["id","services-offerings","role","tabpanel","aria-labelledby","services-offerings-tab",1,"tab-pane","fade"],["for","services",1,"required"],["id","services","formControlName","services","required","",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","websiteGoals",1,"required"],["id","websiteGoals","formControlName","websiteGoals","required","",1,"form-control"],["for","logoImage",1,"required"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","ownerImagesBios",1,"required"],["id","ownerImagesBios","formControlName","ownerImagesBios","required","",1,"form-control"],["for","staffImagesBios",1,"required"],["id","staffImagesBios","formControlName","staffImagesBios","required","",1,"form-control"],["for","facilityImages",1,"required"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages",1,"required"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["id","testimonials","formControlName","testimonials",1,"form-control"],["id","contact-info","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade"],["for","address",1,"required"],["id","address","formControlName","address","required","",1,"form-control"],["for","phone",1,"required"],["id","phone","formControlName","phone","required","",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessHours",1,"required"],["id","businessHours","formControlName","businessHours","required","",1,"form-control"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage","required","",1,"form-control"],["for","keyServicesHighlights",1,"required"],["id","keyServicesHighlights","formControlName","keyServicesHighlights","required","",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","teamValues",1,"required"],["id","teamValues","formControlName","teamValues","required","",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceBenefits",1,"required"],["id","serviceBenefits","formControlName","serviceBenefits","required","",1,"form-control"],["for","pricingStructure",1,"required"],["id","pricingStructure","formControlName","pricingStructure","required","",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails",1,"required"],["id","contactFormDetails","formControlName","contactFormDetails","required","",1,"form-control"],["for","mapDirections"],["id","mapDirections","formControlName","mapDirections",1,"form-control"],["id","additional-content","role","tabpanel","aria-labelledby","additional-content-tab",1,"tab-pane","fade"],["for","photoGallery"],["formControlName","photoGallery",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[1,"progress"],[1,"progress-bar"],[3,"formGroupName"],["for","employeeName"],["id","employeeName","formControlName","name",1,"form-control"],["for","employeeRole"],["id","employeeRole","formControlName","role",1,"form-control"],["for","employeeBio"],["id","employeeBio","formControlName","bio",1,"form-control"],["for","employeePhoto"],["type","file","id","employeePhoto",1,"form-control",3,"change"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"form",1),at("ngSubmit",function(){return i.onSubmit()}),P(2,"ul",2)(3,"li",3)(4,"button",4),O(5,"Basic Information"),b()(),P(6,"li",3)(7,"button",5),O(8,"Story & Mission"),b()(),P(9,"li",3)(10,"button",6),O(11,"Certifications"),b()(),P(12,"li",3)(13,"button",7),O(14,"Services & Offerings"),b()(),P(15,"li",3)(16,"button",8),O(17,"Content & Photos"),b()(),P(18,"li",3)(19,"button",9),O(20,"Media & Reviews"),b()(),P(21,"li",3)(22,"button",10),O(23,"Contact Information"),b()(),P(24,"li",3)(25,"button",11),O(26,"Home Page"),b()(),P(27,"li",3)(28,"button",12),O(29,"About Us"),b()(),P(30,"li",3)(31,"button",13),O(32,"Services Page"),b()(),P(33,"li",3)(34,"button",14),O(35,"Contact Us Page"),b()(),P(36,"li",3)(37,"button",15),O(38,"Additional Content"),b()(),P(39,"li",3)(40,"button",16),O(41,"Employee Profiles"),b()()(),P(42,"div",17)(43,"div",18)(44,"h2"),O(45,"Basic Information"),b(),P(46,"div",19)(47,"label",20),O(48,"Business Name"),b(),Ie(49,"input",21),b(),P(50,"div",19)(51,"label",22),O(52,"Tagline"),b(),Ie(53,"input",23),b(),P(54,"div",19)(55,"label",24),O(56,"Unique Service"),b(),Ie(57,"input",25),b(),P(58,"div",19)(59,"label",26),O(60,"Why Choose Us"),b(),Ie(61,"input",27),b()(),P(62,"div",28)(63,"h2"),O(64,"Business Story and Mission"),b(),P(65,"div",19)(66,"label",29),O(67,"Business Story"),b(),Ie(68,"textarea",30),b(),P(69,"div",19)(70,"label",31),O(71,"Motivation"),b(),Ie(72,"textarea",32),b(),P(73,"div",19)(74,"label",33),O(75,"Mission"),b(),Ie(76,"textarea",34),b(),P(77,"div",19)(78,"label",35),O(79,"Vision"),b(),Ie(80,"textarea",36),b()(),P(81,"div",37)(82,"h2"),O(83,"Certifications and Target Audience"),b(),P(84,"div",19)(85,"label",38),O(86,"Certifications"),b(),Ie(87,"textarea",39),b(),P(88,"div",19)(89,"label",40),O(90,"Target Audience"),b(),Ie(91,"textarea",41),b()(),P(92,"div",42)(93,"h2"),O(94,"Services and Offerings"),b(),P(95,"div",19)(96,"label",43),O(97,"Services"),b(),Ie(98,"textarea",44),b(),P(99,"div",19)(100,"label",45),O(101,"Special Programs"),b(),Ie(102,"textarea",46),b(),P(103,"div",19)(104,"label",47),O(105,"Tours"),b(),Ie(106,"textarea",48),b(),P(107,"div",19)(108,"label",49),O(109,"Free Consulting"),b(),Ie(110,"textarea",50),b()(),P(111,"div",51)(112,"h2"),O(113,"Website Goals"),b(),P(114,"div",19)(115,"label",52),O(116,"Website Goals"),b(),Ie(117,"textarea",53),b(),P(118,"h2"),O(119,"Content and Photos"),b(),P(120,"div",19)(121,"label",54),O(122,"Logo Image"),b(),P(123,"input",55),at("change",function(s){return i.onFileChange(s,"logoImage")}),b(),At(124,Hte,4,3,"ng-container",56),qi(125,"async"),b(),P(126,"div",19)(127,"label",57),O(128,"Owner Images and Bios"),b(),Ie(129,"textarea",58),b(),P(130,"div",19)(131,"label",59),O(132,"Staff Images and Bios"),b(),Ie(133,"textarea",60),b(),P(134,"h2"),O(135,"Facility and Lifestyle Images"),b(),P(136,"div",19)(137,"label",61),O(138,"Facility Images"),b(),P(139,"input",62),at("change",function(s){return i.onFileChange(s,"facilityImages")}),b(),At(140,zte,4,3,"ng-container",56),qi(141,"async"),b(),P(142,"div",19)(143,"label",63),O(144,"Lifestyle Images"),b(),P(145,"input",64),at("change",function(s){return i.onFileChange(s,"lifestyleImages")}),b(),At(146,qte,4,3,"ng-container",56),qi(147,"async"),b()(),P(148,"div",65)(149,"h2"),O(150,"Media and Reviews"),b(),P(151,"div",19)(152,"label",66),O(153,"Media Features"),b(),Ie(154,"textarea",67),b(),P(155,"div",19)(156,"label",68),O(157,"Ratings"),b(),Ie(158,"textarea",69),b(),P(159,"div",19)(160,"label",70),O(161,"Testimonials"),b(),Ie(162,"textarea",71),b()(),P(163,"div",72)(164,"h2"),O(165,"Contact Information"),b(),P(166,"div",19)(167,"label",73),O(168,"Address"),b(),Ie(169,"textarea",74),b(),P(170,"div",19)(171,"label",75),O(172,"Phone"),b(),Ie(173,"input",76),b(),P(174,"div",19)(175,"label",77),O(176,"Fax"),b(),Ie(177,"input",78),b(),P(178,"div",19)(179,"label",79),O(180,"Email"),b(),Ie(181,"input",80),b(),P(182,"div",19)(183,"label",81),O(184,"Business Hours"),b(),Ie(185,"textarea",82),b(),P(186,"div",19)(187,"label",83),O(188,"Social Media"),b(),Ie(189,"textarea",84),b()(),P(190,"div",85)(191,"h2"),O(192,"Home Page"),b(),P(193,"div",19)(194,"label",86),O(195,"Welcome Message"),b(),Ie(196,"textarea",87),b(),P(197,"div",19)(198,"label",88),O(199,"Key Services and Highlights"),b(),Ie(200,"textarea",89),b()(),P(201,"div",90)(202,"h2"),O(203,"About Us Page"),b(),P(204,"div",19)(205,"label",91),O(206,"Team and Values"),b(),Ie(207,"textarea",92),b()(),P(208,"div",93)(209,"h2"),O(210,"Services Page"),b(),P(211,"div",19)(212,"label",94),O(213,"Service Benefits"),b(),Ie(214,"textarea",95),b(),P(215,"div",19)(216,"label",96),O(217,"Pricing Structure"),b(),Ie(218,"textarea",97),b()(),P(219,"div",98)(220,"h2"),O(221,"Contact Us Page"),b(),P(222,"div",19)(223,"label",99),O(224,"Contact Form Details"),b(),Ie(225,"textarea",100),b(),P(226,"div",19)(227,"label",101),O(228,"Map and Directions"),b(),Ie(229,"textarea",102),b()(),P(230,"div",103)(231,"h2"),O(232,"Additional Content"),b(),P(233,"div",19)(234,"label",104),O(235,"Photo Gallery:"),b(),Ie(236,"textarea",105),b()(),P(237,"div",106)(238,"h2"),O(239,"Employee Profiles"),b(),P(240,"div",107),At(241,Wte,21,4,"div",108),b(),P(242,"button",109),at("click",function(){return i.addEmployee()}),O(243,"Add Employee"),b()()(),P(244,"button",110),O(245,"Submit"),b()()()),2&r&&(ye(1),Fe("formGroup",i.businessForm),ye(123),Fe("ngIf",Gi(125,5,i.uploadProgress.logoImage)),ye(16),Fe("ngIf",Gi(141,7,i.uploadProgress.facilityImages)),ye(6),Fe("ngIf",Gi(147,9,i.uploadProgress.lifestyleImages)),ye(95),Fe("ngForOf",i.employees().controls))},dependencies:[Es,Ko,PI,vh,yI,vI,Eh,jg,RI,$g,Hg,ac],styles:['.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{padding:3px}.form-group[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar[_ngcontent-%COMP%]{height:20px;background-color:#4caf50;text-align:center;color:#fff;border-radius:4px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#fff;color:#2f4f4f;border:solid 1px darkslategrey;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#f08080}.form-group[_ngcontent-%COMP%]   label.required[_ngcontent-%COMP%]:after{content:" *";color:red;margin-left:5px}textarea[_ngcontent-%COMP%]{height:15em;resize:vertical;padding:8px;font-size:1rem;line-height:1.5;border:1px solid #ced4da;border-radius:4px;box-sizing:border-box}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #aeaeae}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#e6e6e6;color:#282828;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#6f6f6f;color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:#fff}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c82333}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();const Zte=function(){return["/"]},Kte=function(n){return{id:n}};function Qte(n,e){if(1&n){const t=ec();P(0,"tr")(1,"td")(2,"a",4),O(3),b()(),P(4,"td"),O(5),b(),P(6,"td")(7,"button",5),at("click",function(){const o=Ii(t).$implicit;return Vr(qt().editBusiness(o.id))}),O(8,"Edit"),b(),P(9,"button",6),at("click",function(){const o=Ii(t).$implicit;return Vr(qt().deleteBusiness(o.id))}),O(10,"Delete"),b()()()}if(2&n){const t=e.$implicit;ye(2),Fe("routerLink",aw(4,Zte))("queryParams",ic(5,Kte,t.id)),ye(1),Br(t.id),ye(2),Br(t.businessName)}}let ZU=(()=>{class n{constructor(t,r){this.businessService=t,this.router=r,this.businesses=[]}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.businessService.getActiveBusinesses().subscribe(t=>{this.businesses=t,console.log(t)})}editBusiness(t){this.router.navigate(["/edit-business",t])}deleteBusiness(t){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(t,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(r=>console.error("Error deleting business",r))}addNewBusiness(){this.router.navigate(["/new-business"])}static#e=this.\u0275fac=function(r){return new(r||n)(ue(qD),ue(Zi))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-business-list"]],decls:18,vars:1,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"h1"),O(2,"Business List"),b(),P(3,"button",1),at("click",function(){return i.addNewBusiness()}),O(4,"Add New Business"),b(),P(5,"h1"),O(6,"Showing only isActive = true"),b(),P(7,"table",2)(8,"thead")(9,"tr")(10,"th"),O(11,"ID"),b(),P(12,"th"),O(13,"Name"),b(),P(14,"th"),O(15,"Actions"),b()()(),P(16,"tbody"),At(17,Qte,11,7,"tr",3),b()()()),2&r&&(ye(17),Fe("ngForOf",i.businesses))},dependencies:[Es,Op],styles:[".business-list-container[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.add-business-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.business-id-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;font-size:14px;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.edit-button[_ngcontent-%COMP%]:hover{background-color:#218838}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return n})();function Yte(n,e){if(1&n&&($o(0),P(1,"div",112)(2,"div",113),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function Jte(n,e){if(1&n&&($o(0),P(1,"div",112)(2,"div",113),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function Xte(n,e){if(1&n&&($o(0),P(1,"div",112)(2,"div",113),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function ene(n,e){if(1&n&&($o(0),P(1,"div",112)(2,"div",113),O(3),b()(),Ho()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function tne(n,e){if(1&n&&(P(0,"div"),Ie(1,"img",121),b()),2&n){const t=qt().$implicit;let r;ye(1),Fe("src",null==(r=t.get("photoURL"))?null:r.value,Hi)}}function nne(n,e){if(1&n){const t=ec();P(0,"div",114)(1,"div",19)(2,"label",115),O(3,"Employee Name"),b(),Ie(4,"input",116),b(),P(5,"div",19)(6,"label",115),O(7,"Role"),b(),Ie(8,"input",117),b(),P(9,"div",19)(10,"label",115),O(11,"Bio"),b(),Ie(12,"textarea",118),b(),P(13,"div",19)(14,"label",115),O(15,"Photo"),b(),P(16,"input",119),at("change",function(i){const s=Ii(t).index;return Vr(qt().onEmployeeFileChange(i,s))}),b(),At(17,ene,4,3,"ng-container",56),qi(18,"async"),b(),At(19,tne,2,1,"div",56),P(20,"button",120),at("click",function(){const o=Ii(t).index;return Vr(qt().removeEmployee(o))}),O(21,"Remove Employee"),b()()}if(2&n){const t=e.$implicit,r=e.index,i=qt();let o;Fe("formGroupName",r),ye(2),ao("for","employeeName-",r,""),ye(2),ao("id","employeeName-",r,""),ye(2),ao("for","employeeRole-",r,""),ye(2),ao("id","employeeRole-",r,""),ye(2),ao("for","employeeBio-",r,""),ye(2),ao("id","employeeBio-",r,""),ye(2),ao("for","employeePhoto-",r,""),ye(2),ao("id","employeePhoto-",r,""),ye(1),Fe("ngIf",Gi(18,11,i.uploadProgress["employee_"+r])),ye(2),Fe("ngIf",null==(o=t.get("photoURL"))?null:o.value)}}const rne=function(){return["/gallery-upload"]},ine=function(n){return{id:n}};let KU=(()=>{class n{constructor(t,r,i,o){this.fb=t,this.businessService=r,this.uploadService=i,this.route=o,this.uploadProgress={}}ngOnInit(){this.initializeForm(),this.route.paramMap.subscribe(t=>{this.businessId=t.get("id"),console.log("Business ID:",this.businessId),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({tagline:[""],uniqueService:[""],whyChoose:[""],businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],targetAudience:[""],services:[""],specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[""],ownerImagesBios:[""],staffImagesBios:[""],mediaFeatures:[""],ratings:[""],testimonials:[""],businessName:["",rn.required],address:["",rn.required],phone:["",rn.required],fax:[""],email:["",rn.required],businessHours:["",rn.required],socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:["",rn.required],teamValues:["",rn.required],serviceBenefits:["",rn.required],pricingStructure:["",rn.required],contactFormDetails:["",rn.required],mapDirections:[""],photoGallery:[""],employees:this.fb.array([])})}employees(){return this.businessForm.get("employees")}addEmployee(){const t=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(t)}removeEmployee(t){this.employees().removeAt(t)}onEmployeeFileChange(t,r){const i=t.target.files[0];if(i){const{uploadProgress:o,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"employee");this.uploadProgress[`employee_${r}`]=o,s.pipe(bs(()=>{s.subscribe(a=>{this.employees().at(r).patchValue({photoURL:a})})})).subscribe()}}onFileChange(t,r){const i=t.target.files[0];if(i){let o;o="photoGallery"===r?"gallery":"logoImage"===r||"facilityImages"===r||"lifestyleImages"===r?"business":"employee";const{uploadProgress:s,downloadUrl:a}=this.uploadService.uploadFile(i,this.businessId,o);this.uploadProgress[r]=s,a.pipe(bs(()=>{a.subscribe(u=>{this.businessForm.patchValue({[r]:u})})})).subscribe()}}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(t=>{t?(console.log("Business data:",t),this.populateForm(t)):console.error("Business not found")},t=>{console.error("Error loading business data:",t)})}populateForm(t){this.businessForm.patchValue(t),this.employees().clear(),(t.employees??[]).forEach(r=>{const i=this.fb.group({id:[r.id],name:[r.name],role:[r.role],bio:[r.bio],photoURL:[r.photoURL]});this.employees().push(i)})}onSubmit(){this.businessForm.valid&&this.businessId&&this.businessService.updateBusiness(this.businessId,this.businessForm.value).then(()=>alert("Business details updated successfully!")).catch(r=>console.error("Error updating business details",r))}static#e=this.\u0275fac=function(r){return new(r||n)(ue(WU),ue(qD),ue(GD),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-edit-business"]],decls:255,vars:16,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","certifications-tab","data-bs-toggle","tab","data-bs-target","#certifications","type","button","role","tab","aria-controls","certifications","aria-selected","false",1,"nav-link"],["id","services-offerings-tab","data-bs-toggle","tab","data-bs-target","#services-offerings","type","button","role","tab","aria-controls","services-offerings","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-info-tab","data-bs-toggle","tab","data-bs-target","#contact-info","type","button","role","tab","aria-controls","contact-info","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","additional-content-tab","data-bs-toggle","tab","data-bs-target","#additional-content","type","button","role","tab","aria-controls","additional-content","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","uniqueService"],["id","uniqueService","formControlName","uniqueService",1,"form-control"],["for","whyChoose"],["id","whyChoose","formControlName","whyChoose",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","businessStory",1,"required"],["id","businessStory","formControlName","businessStory","required","",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["for","mission",1,"required"],["id","mission","formControlName","mission","required","",1,"form-control"],["for","vision",1,"required"],["id","vision","formControlName","vision","required","",1,"form-control"],["id","certifications","role","tabpanel","aria-labelledby","certifications-tab",1,"tab-pane","fade"],["for","certifications",1,"required"],["id","certifications","formControlName","certifications","required","",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],["id","services-offerings","role","tabpanel","aria-labelledby","services-offerings-tab",1,"tab-pane","fade"],["for","services",1,"required"],["id","services","formControlName","services","required","",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","websiteGoals",1,"required"],["id","websiteGoals","formControlName","websiteGoals","required","",1,"form-control"],["for","logoImage",1,"required"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","ownerImagesBios",1,"required"],["id","ownerImagesBios","formControlName","ownerImagesBios","required","",1,"form-control"],["for","staffImagesBios",1,"required"],["id","staffImagesBios","formControlName","staffImagesBios","required","",1,"form-control"],["for","facilityImages",1,"required"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages",1,"required"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["id","testimonials","formControlName","testimonials",1,"form-control"],["id","contact-info","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade"],["for","address",1,"required"],["id","address","formControlName","address","required","",1,"form-control"],["for","phone",1,"required"],["id","phone","formControlName","phone","required","",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessHours",1,"required"],["id","businessHours","formControlName","businessHours","required","",1,"form-control"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage","required","",1,"form-control"],["for","keyServicesHighlights",1,"required"],["id","keyServicesHighlights","formControlName","keyServicesHighlights","required","",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","teamValues",1,"required"],["id","teamValues","formControlName","teamValues","required","",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceBenefits",1,"required"],["id","serviceBenefits","formControlName","serviceBenefits","required","",1,"form-control"],["for","pricingStructure",1,"required"],["id","pricingStructure","formControlName","pricingStructure","required","",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails",1,"required"],["id","contactFormDetails","formControlName","contactFormDetails","required","",1,"form-control"],["for","mapDirections"],["id","mapDirections","formControlName","mapDirections",1,"form-control"],["id","additional-content","role","tabpanel","aria-labelledby","additional-content-tab",1,"tab-pane","fade"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[1,"progress"],[1,"progress-bar"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"h1"),O(2,"Edit Business Information"),b(),P(3,"form",1),at("ngSubmit",function(){return i.onSubmit()}),P(4,"ul",2)(5,"li",3)(6,"button",4),O(7,"Basic Information"),b()(),P(8,"li",3)(9,"button",5),O(10,"Story & Mission"),b()(),P(11,"li",3)(12,"button",6),O(13,"Certifications"),b()(),P(14,"li",3)(15,"button",7),O(16,"Services & Offerings"),b()(),P(17,"li",3)(18,"button",8),O(19,"Content & Photos"),b()(),P(20,"li",3)(21,"button",9),O(22,"Media & Reviews"),b()(),P(23,"li",3)(24,"button",10),O(25,"Contact Information"),b()(),P(26,"li",3)(27,"button",11),O(28,"Home Page"),b()(),P(29,"li",3)(30,"button",12),O(31,"About Us"),b()(),P(32,"li",3)(33,"button",13),O(34,"Services Page"),b()(),P(35,"li",3)(36,"button",14),O(37,"Contact Us Page"),b()(),P(38,"li",3)(39,"button",15),O(40,"Additional Content & Gallery Photos"),b()(),P(41,"li",3)(42,"button",16),O(43,"Employee Profiles"),b()()(),P(44,"div",17)(45,"div",18)(46,"h2"),O(47,"Basic Information"),b(),P(48,"div",19)(49,"label",20),O(50,"Business Name"),b(),Ie(51,"input",21),b(),P(52,"div",19)(53,"label",22),O(54,"Tagline"),b(),Ie(55,"input",23),b(),P(56,"div",19)(57,"label",24),O(58,"Unique Service"),b(),Ie(59,"input",25),b(),P(60,"div",19)(61,"label",26),O(62,"Why Choose Us"),b(),Ie(63,"input",27),b()(),P(64,"div",28)(65,"h2"),O(66,"Business Story and Mission"),b(),P(67,"div",19)(68,"label",29),O(69,"Business Story"),b(),Ie(70,"textarea",30),b(),P(71,"div",19)(72,"label",31),O(73,"Motivation"),b(),Ie(74,"textarea",32),b(),P(75,"div",19)(76,"label",33),O(77,"Mission"),b(),Ie(78,"textarea",34),b(),P(79,"div",19)(80,"label",35),O(81,"Vision"),b(),Ie(82,"textarea",36),b()(),P(83,"div",37)(84,"h2"),O(85,"Certifications and Target Audience"),b(),P(86,"div",19)(87,"label",38),O(88,"Certifications"),b(),Ie(89,"textarea",39),b(),P(90,"div",19)(91,"label",40),O(92,"Target Audience"),b(),Ie(93,"textarea",41),b()(),P(94,"div",42)(95,"h2"),O(96,"Services and Offerings"),b(),P(97,"div",19)(98,"label",43),O(99,"Services"),b(),Ie(100,"textarea",44),b(),P(101,"div",19)(102,"label",45),O(103,"Special Programs"),b(),Ie(104,"textarea",46),b(),P(105,"div",19)(106,"label",47),O(107,"Tours"),b(),Ie(108,"textarea",48),b(),P(109,"div",19)(110,"label",49),O(111,"Free Consulting"),b(),Ie(112,"textarea",50),b()(),P(113,"div",51)(114,"h2"),O(115,"Website Goals"),b(),P(116,"div",19)(117,"label",52),O(118,"Website Goals"),b(),Ie(119,"textarea",53),b(),P(120,"h2"),O(121,"Content and Photos"),b(),P(122,"div",19)(123,"label",54),O(124,"Logo Image"),b(),P(125,"input",55),at("change",function(s){return i.onFileChange(s,"logoImage")}),b(),At(126,Yte,4,3,"ng-container",56),qi(127,"async"),b(),P(128,"div",19)(129,"label",57),O(130,"Owner Images and Bios"),b(),Ie(131,"textarea",58),b(),P(132,"div",19)(133,"label",59),O(134,"Staff Images and Bios"),b(),Ie(135,"textarea",60),b(),P(136,"h2"),O(137,"Facility and Lifestyle Images"),b(),P(138,"div",19)(139,"label",61),O(140,"Facility Images"),b(),P(141,"input",62),at("change",function(s){return i.onFileChange(s,"facilityImages")}),b(),At(142,Jte,4,3,"ng-container",56),qi(143,"async"),b(),P(144,"div",19)(145,"label",63),O(146,"Lifestyle Images"),b(),P(147,"input",64),at("change",function(s){return i.onFileChange(s,"lifestyleImages")}),b(),At(148,Xte,4,3,"ng-container",56),qi(149,"async"),b()(),P(150,"div",65)(151,"h2"),O(152,"Media and Reviews"),b(),P(153,"div",19)(154,"label",66),O(155,"Media Features"),b(),Ie(156,"textarea",67),b(),P(157,"div",19)(158,"label",68),O(159,"Ratings"),b(),Ie(160,"textarea",69),b(),P(161,"div",19)(162,"label",70),O(163,"Testimonials"),b(),Ie(164,"textarea",71),b()(),P(165,"div",72)(166,"h2"),O(167,"Contact Information"),b(),P(168,"div",19)(169,"label",73),O(170,"Address"),b(),Ie(171,"textarea",74),b(),P(172,"div",19)(173,"label",75),O(174,"Phone"),b(),Ie(175,"input",76),b(),P(176,"div",19)(177,"label",77),O(178,"Fax"),b(),Ie(179,"input",78),b(),P(180,"div",19)(181,"label",79),O(182,"Email"),b(),Ie(183,"input",80),b(),P(184,"div",19)(185,"label",81),O(186,"Business Hours"),b(),Ie(187,"textarea",82),b(),P(188,"div",19)(189,"label",83),O(190,"Social Media"),b(),Ie(191,"textarea",84),b()(),P(192,"div",85)(193,"h2"),O(194,"Home Page"),b(),P(195,"div",19)(196,"label",86),O(197,"Welcome Message"),b(),Ie(198,"textarea",87),b(),P(199,"div",19)(200,"label",88),O(201,"Key Services and Highlights"),b(),Ie(202,"textarea",89),b()(),P(203,"div",90)(204,"h2"),O(205,"About Us Page"),b(),P(206,"div",19)(207,"label",91),O(208,"Team and Values"),b(),Ie(209,"textarea",92),b()(),P(210,"div",93)(211,"h2"),O(212,"Services Page"),b(),P(213,"div",19)(214,"label",94),O(215,"Service Benefits"),b(),Ie(216,"textarea",95),b(),P(217,"div",19)(218,"label",96),O(219,"Pricing Structure"),b(),Ie(220,"textarea",97),b()(),P(221,"div",98)(222,"h2"),O(223,"Contact Us Page"),b(),P(224,"div",19)(225,"label",99),O(226,"Contact Form Details"),b(),Ie(227,"textarea",100),b(),P(228,"div",19)(229,"label",101),O(230,"Map and Directions"),b(),Ie(231,"textarea",102),b()(),P(232,"div",103)(233,"h2"),O(234,"Additional Content"),b(),P(235,"div",19)(236,"label",104),O(237,"Photo Gallery:"),b(),Ie(238,"textarea",105),b(),P(239,"h2"),O(240,"Gallery Photos"),b(),P(241,"div",19)(242,"label",104),O(243,"Photo Gallery:"),b(),P(244,"a",106),O(245," Upload Photos to Gallery "),b()()(),P(246,"div",107)(247,"h2"),O(248,"Employee Profiles"),b(),P(249,"div",108),At(250,nne,22,13,"div",109),b(),P(251,"button",110),at("click",function(){return i.addEmployee()}),O(252,"Add Employee"),b()()(),P(253,"button",111),O(254,"Submit"),b()()()),2&r&&(ye(3),Fe("formGroup",i.businessForm),ye(123),Fe("ngIf",Gi(127,7,i.uploadProgress.logoImage)),ye(16),Fe("ngIf",Gi(143,9,i.uploadProgress.facilityImages)),ye(6),Fe("ngIf",Gi(149,11,i.uploadProgress.lifestyleImages)),ye(96),Fe("routerLink",aw(13,rne))("queryParams",ic(14,ine,i.businessId)),ye(6),Fe("ngForOf",i.employees().controls))},dependencies:[Es,Ko,Op,PI,vh,yI,vI,Eh,jg,RI,$g,Hg,ac],styles:['.container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:#c0392b}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:#3498db;color:#fff;border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:#2ecc71;color:#fff;border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#27ae60}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#f3f3f3;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#3498db;text-align:center;line-height:10px;color:#fff}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}.container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid #007bff;padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:#fff;text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e9ecef;border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:#fff}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c82333}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return n})();function one(n,e){1&n&&(P(0,"p"),O(1,"Drag and drop images here, or click to select files"),b())}function sne(n,e){if(1&n&&(P(0,"li"),O(1),b()),2&n){const t=e.$implicit;ye(1),Br(t.name)}}function ane(n,e){if(1&n&&(P(0,"div")(1,"h3"),O(2,"Files to be uploaded:"),b(),P(3,"ul"),At(4,sne,2,1,"li",4),b()()),2&n){const t=qt();ye(4),Fe("ngForOf",t.filesToUpload)}}function une(n,e){if(1&n&&(P(0,"div")(1,"div",6)(2,"div",7),O(3),b()()()),2&n){const t=e.ngIf;ye(2),zo("width",t+"%"),ye(1),Ei("",t,"%")}}function cne(n,e){if(1&n&&(P(0,"div",8),Ie(1,"img",9),b()),2&n){const t=qt().$implicit,r=qt();ye(1),ep("alt",t.key),Fe("src",r.uploadedImages[t.key],Hi)}}function lne(n,e){if(1&n&&(P(0,"div"),At(1,une,4,3,"div",2),qi(2,"async"),At(3,cne,2,2,"div",5),b()),2&n){const t=e.$implicit,r=qt();ye(1),Fe("ngIf",Gi(2,2,r.uploadProgress[t.key])),ye(2),Fe("ngIf",r.uploadedImages[t.key])}}let dne=(()=>{class n{constructor(t,r,i,o){this.storage=t,this.firestore=r,this.uploadService=i,this.route=o,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id})}uploadFiles(t){const r=t.target.files;for(let i of r){const{uploadProgress:o,downloadUrl:s}=this.uploadService.uploadFile(i,this.businessId,"gallery");this.uploadProgress[i.name]=o,s.subscribe(a=>{this.uploadedImages[i.name]=a})}}onDragOver(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy"}onDragLeave(t){t.preventDefault(),t.stopPropagation()}onDrop(t){t.preventDefault(),t.stopPropagation();const r=Array.from(t.dataTransfer.files);this.filesToUpload=r,this.uploadFiles({target:{files:r}})}static#e=this.\u0275fac=function(r){return new(r||n)(ue(Ng),ue(Sg),ue(GD),ue($r))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:7,vars:5,consts:[[1,"upload-container"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"]],template:function(r,i){1&r&&(P(0,"div",0)(1,"div",1),at("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.onDrop(s)}),At(2,one,2,0,"p",2),P(3,"input",3),at("change",function(s){return i.uploadFiles(s)}),b()(),At(4,ane,5,1,"div",2),At(5,lne,4,4,"div",4),qi(6,"keyvalue"),b()),2&r&&(ye(2),Fe("ngIf",!i.filesToUpload.length),ye(2),Fe("ngIf",i.filesToUpload.length>0),ye(1),Fe("ngForOf",Gi(6,3,i.uploadedImages)))},dependencies:[Es,Ko,ac,qM],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}"]})}return n})(),hne=(()=>{class n{constructor(){this.closeModal=new Hn}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(r,i){1&r&&(P(0,"div",0),at("click",function(){return i.close()}),P(1,"div",1),at("click",function(s){return s.stopPropagation()}),P(2,"span",2),at("click",function(){return i.close()}),O(3,"\xd7"),b(),Ie(4,"img",3),b()()),2&r&&(ye(4),Fe("src",i.imageUrl,Hi))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:24px;cursor:pointer;color:#333}"]})}return n})();function fne(n,e){if(1&n){const t=ec();P(0,"div",9),at("click",function(){const o=Ii(t).$implicit;return Vr(qt(2).onImageClick(o.url))}),Ie(1,"img",10),b()}if(2&n){const t=e.$implicit;ye(1),Fe("src",t.url,Hi)}}function pne(n,e){if(1&n){const t=ec();P(0,"app-image-viewer-modal",11),at("closeModal",function(){return Ii(t),Vr(qt(2).onCloseModal())}),b()}2&n&&Fe("imageUrl",qt(2).selectedImageUrl)}function gne(n,e){if(1&n&&(P(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),O(4,"Our Home"),b(),P(5,"div",3)(6,"p"),O(7,"Feel at Home: A Peek into Our Caring Environment"),b()()()(),P(8,"div",4)(9,"div",5),O(10,"We understand the importance of providing a home-like setting for our elderly residents. Our adult care home has been specifically designed to provide a comfortable and secure environment for our residents to thrive. The layout of our home is one-of-a-kind with 5 private bedrooms, 3 bathrooms, and an open-concept living space. Our home is also equipped with air conditioning to provide a comfortable atmosphere for our residents. We strive to provide the best care and support to our residents in every aspect of their lives."),b(),P(11,"div",6),At(12,fne,2,1,"div",7),qi(13,"async"),b()(),At(14,pne,1,1,"app-image-viewer-modal",8),b()),2&n){const t=qt();ye(12),Fe("ngForOf",Gi(13,2,t.images$)),ye(2),Fe("ngIf",t.selectedImageUrl)}}const mne=[{path:"",component:PD},{path:"home",component:PD},{path:"about-us",component:Lee},{path:"services",component:$ee},{path:"contact-us",component:$te},{path:"gallery",component:(()=>{class n{constructor(t,r){this.route=t,this.webContent=r,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id,this.loadImages()}),this.webContent.getBusinessData(this.businessId).subscribe(t=>{t&&(this.business=t)})}loadImages(){this.businessId&&(this.images$=this.webContent.getBusinessGalleryImagesById(this.businessId))}onImageClick(t){this.selectedImageUrl=t}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(r){return new(r||n)(ue($r),ue(bu))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"homeDescription"],[1,"gallery"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(r,i){1&r&&At(0,gne,15,4,"div",0),2&r&&Fe("ngIf",i.business)},dependencies:[Es,Ko,hne,ac],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:#fff;font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px;background:#f9f9f9;padding:20px;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px;transition:transform .2s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:40px}"]})}return n})()},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"bqs",component:WD},{path:"bls",component:ZU},{path:"business/new",component:WD},{path:"business/edit/:id",component:KU},{path:"businessList",component:ZU},{path:"new-business",component:WD},{path:"edit-business/:id",component:KU},{path:"gallery-upload",component:dne},{path:":id",component:PD}];let _ne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n});static#n=this.\u0275inj=Cn({imports:[U0.forRoot(mne),U0]})}return n})();function yne(n,e){if(1&n&&Ie(0,"img",14),2&n){const t=qt();Fe("src",null==t.business?null:t.business.logoImage,Hi)}}const vne=function(n){return{"open-bar1":n}},Ine=function(n){return{"open-bar2":n}},Ene=function(n){return{"open-bar3":n}},bne=function(n){return{active:n}};let wne=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.content=i,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id||"",this.content.getBusinessData(this.businessId).subscribe(r=>{this.business=r})})}navigateTo(t){const r=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${t}`],{queryParams:r}).then(i=>{i||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(r){return new(r||n)(ue($r),ue(Zi),ue(bu))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-navigation"]],decls:26,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"number"],[1,"text"],[1,"top"],[1,"bottom"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(r,i){1&r&&(P(0,"nav",0)(1,"div",1)(2,"div",2),At(3,yne,1,1,"img",3),P(4,"span",4),O(5,"#1"),b(),P(6,"div",5)(7,"div",6),O(8,"HELPING HAND"),b(),P(9,"div",7),O(10,"ADULT FAMILY HOME"),b()()(),P(11,"div",8),at("click",function(){return i.toggleMenu()}),Ie(12,"div",9)(13,"div",10)(14,"div",11),b(),P(15,"ul",12)(16,"li",13),at("click",function(){return i.navigateTo("home")}),O(17,"Home"),b(),P(18,"li",13),at("click",function(){return i.navigateTo("services")}),O(19,"Services"),b(),P(20,"li",13),at("click",function(){return i.navigateTo("about-us")}),O(21,"About Us"),b(),P(22,"li",13),at("click",function(){return i.navigateTo("gallery")}),O(23,"gallery"),b(),P(24,"li",13),at("click",function(){return i.navigateTo("contact-us")}),O(25,"Contact"),b()()()()),2&r&&(ye(3),Fe("ngIf",null==i.business?null:i.business.logoImage),ye(9),Fe("ngClass",ic(5,vne,i.menuOpen)),ye(1),Fe("ngClass",ic(7,Ine,i.menuOpen)),ye(1),Fe("ngClass",ic(9,Ene,i.menuOpen)),ye(1),Fe("ngClass",ic(11,bne,i.menuOpen)))},dependencies:[BM,Ko],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:#fff}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:#fff}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return n})();function Cne(n,e){if(1&n&&(P(0,"p")(1,"span"),O(2),b(),O(3," | "),P(4,"span"),O(5,"Email: "),P(6,"a",4),O(7),b()()()),2&n){const t=e.ngIf;ye(2),Ei("Phone: ",t.phone,""),ye(4),ao("href","mailto:",t.email,"",Hi),ye(1),Ei(" ",t.email,"")}}let Tne=(()=>{class n{constructor(t,r){this.route=t,this.webContentService=r}ngOnInit(){this.route.queryParams.subscribe(t=>{const r=t.id||this.webContentService.getDefaultBusinessData();console.log("footer param",r),this.business$=this.webContentService.getDefaultBusinessData(),console.log(this.business$)})}static#e=this.\u0275fac=function(r){return new(r||n)(ue($r),ue(bu))};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-footer"]],decls:8,vars:3,consts:[[1,"footer"],[1,"footer-content"],["href","https://www.monkifoto.com","target","_blank"],[4,"ngIf"],[3,"href"]],template:function(r,i){1&r&&(P(0,"footer",0)(1,"div",1)(2,"p"),O(3,"\xa9 2024 #1 Helping Hand AFH. All Rights Reserved. Design by "),P(4,"a",2),O(5,"Monkifoto"),b()(),At(6,Cne,8,3,"p",3),qi(7,"async"),b()()),2&r&&(ye(6),Fe("ngIf",Gi(7,1,i.business$)))},dependencies:[Ko,ac],styles:[".footer[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;background-color:#333;color:#fff;text-align:center;padding:10px 0}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}a[_ngcontent-%COMP%]{color:#fff}"]})}return n})(),Dne=(()=>{class n{constructor(){this.title="adult-family-home"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ar({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Ie(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[R0,wne,Tne]})}return n})();const QU_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};class bh{constructor(e){return e}}class ZD{constructor(){return(0,Wn.getApps)()}}const KD=new Ce("angularfire2._apps"),Sne={provide:bh,useFactory:function Ane(n){return n&&1===n.length?n[0]:new bh((0,Wn.getApp)())},deps:[[new Ur,KD]]},Pne={provide:ZD,deps:[[new Ur,KD]]};function Rne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bh(r)}}let xne=(()=>{class n{constructor(t){(0,Wn.registerVersion)("angularfire",ca.full,"core"),(0,Wn.registerVersion)("angularfire",ca.full,"app"),(0,Wn.registerVersion)("angular",Ib.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ve(To))};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[Sne,Pne]})}return n})();function Mne(n,...e){return{ngModule:xne,providers:[{provide:KD,useFactory:Rne(n),multi:!0,deps:[Ut,ei,Rd,...e]}]}}const Nne=H0(Wn.initializeApp,!0);Ke(35);class YD{constructor(){return ov("auth")}}class XD{constructor(e){return e}}const JU="firestore",eA=new Ce("angularfire2.firestore-instances");function Une(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new XD(r)}}const Bne={provide:class Vne{constructor(){return ov(JU)}},deps:[[new Ur,eA]]},jne={provide:XD,useFactory:function Lne(n,e){const t=$0(JU,n,e);return t&&new XD(t)},deps:[[new Ur,eA],bh]};let $ne=(()=>{class n{constructor(){(0,Wn.registerVersion)("angularfire",ca.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[jne,Bne]})}return n})();function Hne(n,...e){return{ngModule:$ne,providers:[{provide:eA,useFactory:Une(n),multi:!0,deps:[Ut,ei,Rd,ZD,[new Ur,YD],[new Ur,Fp],...e]}]}}const zne=H0(CY,!0);class tA{constructor(e){return e}}const XU="storage",nA=new Ce("angularfire2.storage-instances");function Wne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new tA(r)}}const Zne={provide:class qne{constructor(){return ov(XU)}},deps:[[new Ur,nA]]},Kne={provide:tA,useFactory:function Gne(n,e){const t=$0(XU,n,e);return t&&new tA(t)},deps:[[new Ur,nA],bh]};let Qne=(()=>{class n{constructor(){(0,Wn.registerVersion)("angularfire",ca.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Cn({providers:[Kne,Zne]})}return n})();function Yne(n,...e){return{ngModule:Qne,providers:[{provide:nA,useFactory:Wne(n),multi:!0,deps:[Ut,ei,Rd,ZD,[new Ur,YD],[new Ur,Fp],...e]}]}}const Jne=H0(pee,!0);let Xne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=qn({type:n,bootstrap:[Dne]});static#n=this.\u0275inj=Cn({imports:[xG,U0,_ne,LJ,See,hZ,aZ.initializeApp(QU_firebase),Mne(()=>Nne(QU_firebase)),Hne(()=>zne()),Yne(()=>Jne()),Vte,Fte,a8]})}return n})();PG().bootstrapModule(Xne).catch(n=>console.error(n))},106:(go,Qn,Ke)=>{Ke.d(Qn,{Z:()=>Yn});var R=Ke(58),De=Ke(537),k=Ke(534),He=Ke(879);class Ot{constructor(tt,nt){this._delegate=tt,this.firebase=nt,(0,k._addComponent)(tt,new De.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(tt,nt=k._DEFAULT_ENTRY_NAME){var ir;this._delegate.checkDestroyed();const In=this._delegate.container.getProvider(tt);return!In.isInitialized()&&"EXPLICIT"===(null===(ir=In.getComponent())||void 0===ir?void 0:ir.instantiationMode)&&In.initialize(),In.getImmediate({identifier:nt})}_removeServiceInstance(tt,nt=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(nt)}_addComponent(tt){(0,k._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,k._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Vn=new R.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Rt(){const bt=function on(bt){const tt={},nt={__esModule:!0,initializeApp:function yt(lt,Rn={}){const pe=k.initializeApp(lt,Rn);if((0,R.r3)(tt,pe.name))return tt[pe.name];const cn=new bt(pe,nt);return tt[pe.name]=cn,cn},app:In,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Wr(lt){const Rn=lt.name,pe=Rn.replace("-compat","");if(k._registerComponent(lt)&&"PUBLIC"===lt.type){const cn=(Yt=In())=>{if("function"!=typeof Yt[pe])throw Vn.create("invalid-app-argument",{appName:Rn});return Yt[pe]()};void 0!==lt.serviceProps&&(0,R.ZB)(cn,lt.serviceProps),nt[pe]=cn,bt.prototype[pe]=function(...Yt){return this._getService.bind(this,Rn).apply(this,lt.multipleInstances?Yt:[])}}return"PUBLIC"===lt.type?nt[pe]:null},removeApp:function ir(lt){delete tt[lt]},useAsService:function Lt(lt,Rn){return"serverAuth"===Rn?null:Rn},modularAPIs:k}};function In(lt){if(!(0,R.r3)(tt,lt=lt||k._DEFAULT_ENTRY_NAME))throw Vn.create("no-app",{appName:lt});return tt[lt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function jt(){return Object.keys(tt).map(lt=>tt[lt])}}),In.App=bt,nt}(Ot);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:Rt,extendNamespace:function tt(nt){(0,R.ZB)(bt,nt)},createSubscribe:R.ne,ErrorFactory:R.LL,deepExtend:R.ZB}),bt}(),we=new He.Yd("@firebase/app-compat");if((0,R.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Yn=fe;!function kt(bt){(0,k.registerVersion)("@firebase/app-compat","0.2.35",bt)}()},534:(go,Qn,Ke)=>{Ke.r(Qn),Ke.d(Qn,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>Tr,_DEFAULT_ENTRY_NAME:()=>gi,_addComponent:()=>Mr,_addOrOverwriteComponent:()=>sn,_apps:()=>Rr,_clearComponents:()=>ki,_components:()=>bn,_getProvider:()=>Ln,_isFirebaseApp:()=>Oo,_isFirebaseServerApp:()=>Xt,_registerComponent:()=>Cr,_removeServiceInstance:()=>ns,_serverApps:()=>xr,deleteApp:()=>Vo,getApp:()=>is,getApps:()=>os,initializeApp:()=>Fo,initializeServerApp:()=>rs,onLog:()=>C,registerVersion:()=>L,setLogLevel:()=>A});var R=Ke(861),De=Ke(537),k=Ke(879),He=Ke(58);const Ot=(F,G)=>G.some(Y=>F instanceof Y);let vn,Vn;const fe=new WeakMap,we=new WeakMap,ze=new WeakMap,ct=new WeakMap,kt=new WeakMap;let tt={get(F,G,Y){if(F instanceof IDBTransaction){if("done"===G)return we.get(F);if("objectStoreNames"===G)return F.objectStoreNames||ze.get(F);if("store"===G)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return yt(F[G])},set:(F,G,Y)=>(F[G]=Y,!0),has:(F,G)=>F instanceof IDBTransaction&&("done"===G||"store"===G)||G in F};function In(F){return"function"==typeof F?function ir(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rt(){return Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...G){return F.apply(jt(this),G),yt(fe.get(this))}:function(...G){return yt(F.apply(jt(this),G))}:function(G,...Y){const Ee=F.call(jt(this),G,...Y);return ze.set(Ee,G.sort?G.sort():[G]),yt(Ee)}}(F):(F instanceof IDBTransaction&&function bt(F){if(we.has(F))return;const G=new Promise((Y,Ee)=>{const rt=()=>{F.removeEventListener("complete",dt),F.removeEventListener("error",mt),F.removeEventListener("abort",mt)},dt=()=>{Y(),rt()},mt=()=>{Ee(F.error||new DOMException("AbortError","AbortError")),rt()};F.addEventListener("complete",dt),F.addEventListener("error",mt),F.addEventListener("abort",mt)});we.set(F,G)}(F),Ot(F,function on(){return vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,tt):F)}function yt(F){if(F instanceof IDBRequest)return function Yn(F){const G=new Promise((Y,Ee)=>{const rt=()=>{F.removeEventListener("success",dt),F.removeEventListener("error",mt)},dt=()=>{Y(yt(F.result)),rt()},mt=()=>{Ee(F.error),rt()};F.addEventListener("success",dt),F.addEventListener("error",mt)});return G.then(Y=>{Y instanceof IDBCursor&&fe.set(Y,F)}).catch(()=>{}),kt.set(G,F),G}(F);if(ct.has(F))return ct.get(F);const G=In(F);return G!==F&&(ct.set(F,G),kt.set(G,F)),G}const jt=F=>kt.get(F),lt=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],pe=new Map;function cn(F,G){if(!(F instanceof IDBDatabase)||G in F||"string"!=typeof G)return;if(pe.get(G))return pe.get(G);const Y=G.replace(/FromIndex$/,""),Ee=G!==Y,rt=Rn.includes(Y);if(!(Y in(Ee?IDBIndex:IDBObjectStore).prototype)||!rt&&!lt.includes(Y))return;const dt=function(){var mt=(0,R.Z)(function*(Zt,...Ct){const Fi=this.transaction(Zt,rt?"readwrite":"readonly");let js=Fi.store;return Ee&&(js=js.index(Ct.shift())),(yield Promise.all([js[Y](...Ct),rt&&Fi.done]))[0]});return function(Ct){return mt.apply(this,arguments)}}();return pe.set(G,dt),dt}!function nt(F){tt=F(tt)}(F=>({...F,get:(G,Y,Ee)=>cn(G,Y)||F.get(G,Y,Ee),has:(G,Y)=>!!cn(G,Y)||F.has(G,Y)}));class Yt{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function En(F){const G=F.getComponent();return"VERSION"===G?.type}(Y)){const Ee=Y.getImmediate();return`${Ee.library}/${Ee.version}`}return null}).filter(Y=>Y).join(" ")}}const hi="@firebase/app",fi="0.10.5",st=new k.Yd("@firebase/app"),gi="[DEFAULT]",Xi={[hi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Rr=new Map,xr=new Map,bn=new Map;function Mr(F,G){try{F.container.addComponent(G)}catch(Y){st.debug(`Component ${G.name} failed to register with FirebaseApp ${F.name}`,Y)}}function sn(F,G){F.container.addOrOverwriteComponent(G)}function Cr(F){const G=F.name;if(bn.has(G))return st.debug(`There were multiple attempts to register component ${G}.`),!1;bn.set(G,F);for(const Y of Rr.values())Mr(Y,F);for(const Y of xr.values())Mr(Y,F);return!0}function Ln(F,G){const Y=F.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),F.container.getProvider(G)}function ns(F,G,Y=gi){Ln(F,G).clearInstance(Y)}function Oo(F){return void 0!==F.options}function Xt(F){return void 0!==F.settings}function ki(){bn.clear()}const Un=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class or{constructor(G,Y,Ee){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Ee,this.container.addComponent(new De.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}class wn extends or{constructor(G,Y,Ee,rt){const dt=void 0!==Y.automaticDataCollectionEnabled&&Y.automaticDataCollectionEnabled,mt={name:Ee,automaticDataCollectionEnabled:dt};super(void 0!==G.apiKey?G:G.options,mt,rt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:dt},Y),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Y.releaseOnDeref=void 0,L(hi,fi,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(G){this.isDeleted||(this._refCount++,void 0!==G&&this._finalizationRegistry.register(G,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Vo(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Un.create("server-app-deleted")}}const Tr="10.12.2";function Fo(F,G={}){let Y=F;"object"!=typeof G&&(G={name:G});const Ee=Object.assign({name:gi,automaticDataCollectionEnabled:!1},G),rt=Ee.name;if("string"!=typeof rt||!rt)throw Un.create("bad-app-name",{appName:String(rt)});if(Y||(Y=(0,He.aH)()),!Y)throw Un.create("no-options");const dt=Rr.get(rt);if(dt){if((0,He.vZ)(Y,dt.options)&&(0,He.vZ)(Ee,dt.config))return dt;throw Un.create("duplicate-app",{appName:rt})}const mt=new De.H0(rt);for(const Ct of bn.values())mt.addComponent(Ct);const Zt=new or(Y,Ee,mt);return Rr.set(rt,Zt),Zt}function rs(F,G){if((0,He.jU)())throw Un.create("invalid-server-app-environment");let Y;void 0===G.automaticDataCollectionEnabled&&(G.automaticDataCollectionEnabled=!1),Y=Oo(F)?F.options:F;const Ee=Object.assign(Object.assign({},G),Y);if(void 0!==Ee.releaseOnDeref&&delete Ee.releaseOnDeref,void 0!==G.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Un.create("finalization-registry-not-supported",{});const dt=""+(Fi=JSON.stringify(Ee),[...Fi].reduce((js,fn)=>Math.imul(31,js)+fn.charCodeAt(0)|0,0)),mt=xr.get(dt);var Fi;if(mt)return mt.incRefCount(G.releaseOnDeref),mt;const Zt=new De.H0(dt);for(const Fi of bn.values())Zt.addComponent(Fi);const Ct=new wn(Y,G,dt,Zt);return xr.set(dt,Ct),Ct}function is(F=gi){const G=Rr.get(F);if(!G&&F===gi&&(0,He.aH)())return Fo();if(!G)throw Un.create("no-app",{appName:F});return G}function os(){return Array.from(Rr.values())}function Vo(F){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*(F){let G=!1;const Y=F.name;Rr.has(Y)?(G=!0,Rr.delete(Y)):xr.has(Y)&&F.decRefCount()<=0&&(xr.delete(Y),G=!0),G&&(yield Promise.all(F.container.getProviders().map(Ee=>Ee.delete())),F.isDeleted=!0)})).apply(this,arguments)}function L(F,G,Y){var Ee;let rt=null!==(Ee=Xi[F])&&void 0!==Ee?Ee:F;Y&&(rt+=`-${Y}`);const dt=rt.match(/\s|\//),mt=G.match(/\s|\//);if(dt||mt){const Zt=[`Unable to register library "${rt}" with version "${G}":`];return dt&&Zt.push(`library name "${rt}" contains illegal characters (whitespace or "/")`),dt&&mt&&Zt.push("and"),mt&&Zt.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void st.warn(Zt.join(" "))}Cr(new De.wA(`${rt}-version`,()=>({library:rt,version:G}),"VERSION"))}function C(F,G){if(null!==F&&"function"!=typeof F)throw Un.create("invalid-log-argument");(0,k.Am)(F,G)}function A(F){(0,k.Ub)(F)}const w="firebase-heartbeat-database",V=1,de="firebase-heartbeat-store";let Pe=null;function Le(){return Pe||(Pe=function Wr(F,G,{blocked:Y,upgrade:Ee,blocking:rt,terminated:dt}={}){const mt=indexedDB.open(F,G),Zt=yt(mt);return Ee&&mt.addEventListener("upgradeneeded",Ct=>{Ee(yt(mt.result),Ct.oldVersion,Ct.newVersion,yt(mt.transaction),Ct)}),Y&&mt.addEventListener("blocked",Ct=>Y(Ct.oldVersion,Ct.newVersion,Ct)),Zt.then(Ct=>{dt&&Ct.addEventListener("close",()=>dt()),rt&&Ct.addEventListener("versionchange",Fi=>rt(Fi.oldVersion,Fi.newVersion,Fi))}).catch(()=>{}),Zt}(w,V,{upgrade:(F,G)=>{if(0===G)try{F.createObjectStore(de)}catch(Y){console.warn(Y)}}}).catch(F=>{throw Un.create("idb-open",{originalErrorMessage:F.message})})),Pe}function Pt(){return(Pt=(0,R.Z)(function*(F){try{const Y=(yield Le()).transaction(de),Ee=yield Y.objectStore(de).get(qe(F));return yield Y.done,Ee}catch(G){if(G instanceof He.ZR)st.warn(G.message);else{const Y=Un.create("idb-get",{originalErrorMessage:G?.message});st.warn(Y.message)}}})).apply(this,arguments)}function Re(F,G){return $t.apply(this,arguments)}function $t(){return($t=(0,R.Z)(function*(F,G){try{const Ee=(yield Le()).transaction(de,"readwrite");yield Ee.objectStore(de).put(G,qe(F)),yield Ee.done}catch(Y){if(Y instanceof He.ZR)st.warn(Y.message);else{const Ee=Un.create("idb-set",{originalErrorMessage:Y?.message});st.warn(Ee.message)}}})).apply(this,arguments)}function qe(F){return`${F.name}!${F.options.appId}`}class zt{constructor(G){this.container=G,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new Da(Y),this._heartbeatsCachePromise=this._storage.read().then(Ee=>(this._heartbeatsCache=Ee,Ee))}triggerHeartbeat(){var G=this;return(0,R.Z)(function*(){var Y,Ee;const dt=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Qe();if((null!=(null===(Y=G._heartbeatsCache)||void 0===Y?void 0:Y.heartbeats)||(G._heartbeatsCache=yield G._heartbeatsCachePromise,null!=(null===(Ee=G._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)))&&G._heartbeatsCache.lastSentHeartbeatDate!==mt&&!G._heartbeatsCache.heartbeats.some(Zt=>Zt.date===mt))return G._heartbeatsCache.heartbeats.push({date:mt,agent:dt}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(Zt=>{const Ct=new Date(Zt.date).valueOf();return Date.now()-Ct<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,R.Z)(function*(){var Y;if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null==(null===(Y=G._heartbeatsCache)||void 0===Y?void 0:Y.heartbeats)||0===G._heartbeatsCache.heartbeats.length)return"";const Ee=Qe(),{heartbeatsToSend:rt,unsentEntries:dt}=function Ta(F,G=1024){const Y=[];let Ee=F.slice();for(const rt of F){const dt=Y.find(mt=>mt.agent===rt.agent);if(dt){if(dt.dates.push(rt.date),Bs(Y)>G){dt.dates.pop();break}}else if(Y.push({agent:rt.agent,dates:[rt.date]}),Bs(Y)>G){Y.pop();break}Ee=Ee.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Ee}}(G._heartbeatsCache.heartbeats),mt=(0,He.L)(JSON.stringify({version:2,heartbeats:rt}));return G._heartbeatsCache.lastSentHeartbeatDate=Ee,dt.length>0?(G._heartbeatsCache.heartbeats=dt,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),mt})()}}function Qe(){return(new Date).toISOString().substring(0,10)}class Da{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,R.Z)(function*(){if(yield G._canUseIndexedDBPromise){const Ee=yield function et(F){return Pt.apply(this,arguments)}(G.app);return Ee?.heartbeats?Ee:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(G){var Y=this;return(0,R.Z)(function*(){var Ee;if(yield Y._canUseIndexedDBPromise){const dt=yield Y.read();return Re(Y.app,{lastSentHeartbeatDate:null!==(Ee=G.lastSentHeartbeatDate)&&void 0!==Ee?Ee:dt.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var Y=this;return(0,R.Z)(function*(){var Ee;if(yield Y._canUseIndexedDBPromise){const dt=yield Y.read();return Re(Y.app,{lastSentHeartbeatDate:null!==(Ee=G.lastSentHeartbeatDate)&&void 0!==Ee?Ee:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...G.heartbeats]})}})()}}function Bs(F){return(0,He.L)(JSON.stringify({version:2,heartbeats:F})).length}!function $c(F){Cr(new De.wA("platform-logger",G=>new Yt(G),"PRIVATE")),Cr(new De.wA("heartbeat",G=>new zt(G),"PRIVATE")),L(hi,fi,F),L(hi,fi,"esm2017"),L("fire-js","")}("")},537:(go,Qn,Ke)=>{Ke.d(Qn,{H0:()=>on,wA:()=>k});var R=Ke(861),De=Ke(58);class k{constructor(fe,we,ze){this.name=fe,this.instanceFactory=we,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const He="[DEFAULT]";class Ot{constructor(fe,we){this.name=fe,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const we=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(we)){const ze=new De.BH;if(this.instancesDeferred.set(we,ze),this.isInitialized(we)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:we});ct&&ze.resolve(ct)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(fe){var we;const ze=this.normalizeInstanceIdentifier(fe?.identifier),ct=null!==(we=fe?.optional)&&void 0!==we&&we;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(kt){if(ct)return null;throw kt}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Vn(Rt){return"EAGER"===Rt.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[we,ze]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(we);try{const kt=this.getOrInitializeService({instanceIdentifier:ct});ze.resolve(kt)}catch{}}}}clearInstance(fe=He){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,R.Z)(function*(){const we=Array.from(fe.instances.values());yield Promise.all([...we.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...we.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=He){return this.instances.has(fe)}getOptions(fe=He){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:we={}}=fe,ze=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:ze,options:we});for(const[kt,Yn]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(kt)&&Yn.resolve(ct);return ct}onInit(fe,we){var ze;const ct=this.normalizeInstanceIdentifier(we),kt=null!==(ze=this.onInitCallbacks.get(ct))&&void 0!==ze?ze:new Set;kt.add(fe),this.onInitCallbacks.set(ct,kt);const Yn=this.instances.get(ct);return Yn&&fe(Yn,ct),()=>{kt.delete(fe)}}invokeOnInitCallbacks(fe,we){const ze=this.onInitCallbacks.get(we);if(ze)for(const ct of ze)try{ct(fe,we)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:we={}}){let ze=this.instances.get(fe);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Rt=fe,Rt===He?void 0:Rt),options:we}),this.instances.set(fe,ze),this.instancesOptions.set(fe,we),this.invokeOnInitCallbacks(ze,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,ze)}catch{}var Rt;return ze||null}normalizeInstanceIdentifier(fe=He){return this.component?this.component.multipleInstances?fe:He:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class on{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const we=this.getProvider(fe.name);if(we.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);we.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const we=new Ot(fe,this);return this.providers.set(fe,we),we}getProviders(){return Array.from(this.providers.values())}}},879:(go,Qn,Ke)=>{Ke.d(Qn,{Am:()=>Rt,Ub:()=>on,Yd:()=>Vn,in:()=>De});const R=[];var De=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(De||{});const k={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},He=De.INFO,Ot={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},vn=(fe,we,...ze)=>{if(we<fe.logLevel)return;const ct=(new Date).toISOString(),kt=Ot[we];if(!kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[kt](`[${ct}]  ${fe.name}:`,...ze)};class Vn{constructor(we){this.name=we,this._logLevel=He,this._logHandler=vn,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in De))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?k[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...we),this._logHandler(this,De.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...we),this._logHandler(this,De.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,De.INFO,...we),this._logHandler(this,De.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,De.WARN,...we),this._logHandler(this,De.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...we),this._logHandler(this,De.ERROR,...we)}}function on(fe){R.forEach(we=>{we.setLogLevel(fe)})}function Rt(fe,we){for(const ze of R){let ct=null;we&&we.level&&(ct=k[we.level]),ze.userLogHandler=null===fe?null:(kt,Yn,...bt)=>{const tt=bt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Yn>=(ct??kt.logLevel)&&fe({level:De[Yn].toLowerCase(),message:tt,args:bt,type:kt.name})}}}},365:(go,Qn,Ke)=>{Ke.r(Qn);var R=Ke(861),De=Ke(106),k=Ke(35),He=Ke(58),Vn=(Ke(534),Ke(879),Ke(537));function on(){return window}function we(){return we=(0,R.Z)(function*(C,A,w){var V;const{BuildInfo:de}=on();(0,k.au)(A.sessionId,"AuthEvent did not contain a session ID");const Pe=yield function nt(C){return ir.apply(this,arguments)}(A.sessionId),Le={};return(0,k.av)()?Le.ibi=de.packageName:(0,k.aw)()?Le.apn=de.packageName:(0,k.ax)(C,"operation-not-supported-in-this-environment"),de.displayName&&(Le.appDisplayName=de.displayName),Le.sessionId=Pe,(0,k.ay)(C,w,A.type,void 0,null!==(V=A.eventId)&&void 0!==V?V:void 0,Le)}),we.apply(this,arguments)}function ct(){return(ct=(0,R.Z)(function*(C){const{BuildInfo:A}=on(),w={};(0,k.av)()?w.iosBundleId=A.packageName:(0,k.aw)()?w.androidPackageName=A.packageName:(0,k.ax)(C,"operation-not-supported-in-this-environment"),yield(0,k.az)(C,w)})).apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(C,A,w){const{cordova:V}=on();let de=()=>{};try{yield new Promise((Pe,Le)=>{let et=null;function Pt(){var qe;Pe();const sr=null===(qe=V.plugins.browsertab)||void 0===qe?void 0:qe.close;"function"==typeof sr&&sr(),"function"==typeof w?.close&&w.close()}function Re(){et||(et=window.setTimeout(()=>{Le((0,k.aB)(C,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===document?.visibilityState&&Re()}A.addPassiveListener(Pt),document.addEventListener("resume",Re,!1),(0,k.aw)()&&document.addEventListener("visibilitychange",$t,!1),de=()=>{A.removePassiveListener(Pt),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",$t,!1),et&&window.clearTimeout(et)}})}finally{de()}})).apply(this,arguments)}function ir(){return(ir=(0,R.Z)(function*(C){const A=function In(C){if((0,k.au)(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const A=new ArrayBuffer(C.length),w=new Uint8Array(A);for(let V=0;V<C.length;V++)w[V]=C.charCodeAt(V);return w}(C),w=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(w)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jt extends k.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(A)),super.onEvent(A)}initialized(){var A=this;return(0,R.Z)(function*(){yield A.initPromise})()}}function lt(C){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*(C){const A=yield Yt()._get(En(C));return A&&(yield Yt()._remove(En(C))),A})).apply(this,arguments)}function cn(){const C=[];for(let w=0;w<20;w++){const V=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return C.join("")}function Yt(){return(0,k.aE)(k.b)}function En(C){return(0,k.aF)("authEvent",C.config.apiKey,C.name)}function st(C){if(!C?.includes("?"))return{};const[A,...w]=C.split("?");return(0,He.zd)(w.join("?"))}const te=class Ni{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(A){var w=this;return(0,R.Z)(function*(){const V=A._key();let de=w.eventManagers.get(V);return de||(de=new jt(A),w.eventManagers.set(V,de),w.attachCallbackListeners(A,de)),de})()}_openPopup(A){(0,k.ax)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,w,V,de){var Pe=this;return(0,R.Z)(function*(){!function tt(C){var A,w,V,de,Pe,Le,et,Pt,Re,$t;const qe=on();(0,k.aC)("function"==typeof(null===(A=qe?.universalLinks)||void 0===A?void 0:A.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aC)(typeof(null===(w=qe?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aC)("function"==typeof(null===(Pe=null===(de=null===(V=qe?.cordova)||void 0===V?void 0:V.plugins)||void 0===de?void 0:de.browsertab)||void 0===Pe?void 0:Pe.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(Pt=null===(et=null===(Le=qe?.cordova)||void 0===Le?void 0:Le.plugins)||void 0===et?void 0:et.browsertab)||void 0===Pt?void 0:Pt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===($t=null===(Re=qe?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===$t?void 0:$t.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const Le=yield Pe._initialize(A);yield Le.initialized(),Le.resetRedirect(),(0,k.aI)(),yield Pe._originValidation(A);const et=function Wr(C,A,w=null){return{type:A,eventId:w,urlResponse:null,sessionId:cn(),postBody:null,tenantId:C.tenantId,error:(0,k.aB)(C,"no-auth-event")}}(A,V,de);yield function Lt(C,A){return Yt()._set(En(C),A)}(A,et);const Pt=yield function fe(C,A,w){return we.apply(this,arguments)}(A,et,w),Re=yield function kt(C){const{cordova:A}=on();return new Promise(w=>{A.plugins.browsertab.isAvailable(V=>{let de=null;V?A.plugins.browsertab.openUrl(C):de=A.InAppBrowser.open(C,(0,k.aA)()?"_blank":"_system","location=yes"),w(de)})})}(Pt);return function Yn(C,A,w){return bt.apply(this,arguments)}(A,Le,Re)})()}_isIframeWebStorageSupported(A,w){throw new Error("Method not implemented.")}_originValidation(A){const w=A._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function ze(C){return ct.apply(this,arguments)}(A)),this.originValidationPromises[w]}attachCallbackListeners(A,w){const{universalLinks:V,handleOpenURL:de,BuildInfo:Pe}=on(),Le=setTimeout((0,R.Z)(function*(){yield lt(A),w.onEvent(re())}),500),et=function(){var $t=(0,R.Z)(function*(qe){clearTimeout(Le);const sr=yield lt(A);let Us=null;sr&&qe?.url&&(Us=function pe(C,A){var w,V;const de=function fi(C){const A=st(C),w=A.link?decodeURIComponent(A.link):void 0,V=st(w).link,de=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return st(de).link||de||V||w||C}(A);if(de.includes("/__/auth/callback")){const Pe=st(de),Le=Pe.firebaseError?function hi(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(Pe.firebaseError)):null,et=null===(V=null===(w=Le?.code)||void 0===w?void 0:w.split("auth/"))||void 0===V?void 0:V[1],Pt=et?(0,k.aB)(et):null;return Pt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:de,postBody:null}}return null}(sr,qe.url)),w.onEvent(Us||re())});return function(sr){return $t.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,et);const Pt=de,Re=`${Pe.packageName.toLowerCase()}://`;on().handleOpenURL=function(){var $t=(0,R.Z)(function*(qe){if(qe.toLowerCase().startsWith(Re)&&et({url:qe}),"function"==typeof Pt)try{Pt(qe)}catch(sr){console.error(sr)}});return function(qe){return $t.apply(this,arguments)}}()}};function re(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aB)("no-auth-event")}}function xe(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function Ne(C=(0,He.z$)()){return!("file:"!==xe()&&"ionic:"!==xe()&&"capacitor:"!==xe()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ft(){try{const C=self.localStorage,A=k.aN();if(C)return C.setItem(A,"1"),C.removeItem(A),!function pi(C=(0,He.z$)()){return function St(){return(0,He.w1)()&&11===document?.documentMode}()||function ln(C=(0,He.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,He.hl)()}catch{return Jt()&&(0,He.hl)()}return!1}function Jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function wt(){return"http:"===xe()||"https:"===xe()}()||(0,He.ru)()||Ne())&&!function $e(){return(0,He.b$)()||(0,He.UG)()}()&&Ft()&&!Jt()}function Jn(){return Ne()&&typeof document<"u"}function Mo(){return(Mo=(0,R.Z)(function*(){return!!Jn()&&new Promise(C=>{const A=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(A),C(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},Oi=k.aC,ts="persistence";function gi(C){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(C){yield C._initializationPromise;const A=xr(),w=k.aF(ts,C.config.apiKey,C.name);A&&A.setItem(w,C._getPersistence())})).apply(this,arguments)}function xr(){var C;try{return(null===(C=function Ji(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const bn=k.aC;class Mr{constructor(){this.browserResolver=k.aE(k.k),this.cordovaResolver=k.aE(te),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(A){var w=this;return(0,R.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,w,V,de){var Pe=this;return(0,R.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openPopup(A,w,V,de)})()}_openRedirect(A,w,V,de){var Pe=this;return(0,R.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openRedirect(A,w,V,de)})()}_isIframeWebStorageSupported(A,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,w)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,R.Z)(function*(){if(A.underlyingResolver)return;const w=yield function pr(){return Mo.apply(this,arguments)}();A.underlyingResolver=w?A.cordovaResolver:A.browserResolver})()}}function sn(C){return C.unwrap()}function Ln(C){return Oo(C)}function Oo(C){const{_tokenResponse:A}=C instanceof He.ZR?C.customData:C;if(!A)return null;if(!(C instanceof He.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return k.P.credentialFromResult(C);const w=A.providerId;if(!w||w===k.p.PASSWORD)return null;let V;switch(w){case k.p.GOOGLE:V=k.X;break;case k.p.FACEBOOK:V=k.W;break;case k.p.GITHUB:V=k.Y;break;case k.p.TWITTER:V=k.$;break;default:const{oauthIdToken:de,oauthAccessToken:Pe,oauthTokenSecret:Le,pendingToken:et,nonce:Pt}=A;return Pe||Le||de||et?et?w.startsWith("saml.")?k.aQ._create(w,et):k.N._fromParams({providerId:w,signInMethod:w,pendingToken:et,idToken:de,accessToken:Pe}):new k.Z(w).credential({idToken:de,accessToken:Pe,rawNonce:Pt}):null}return C instanceof He.ZR?V.credentialFromError(C):V.credentialFromResult(C)}function Xt(C,A){return A.catch(w=>{throw w instanceof He.ZR&&function ns(C,A){var w;const V=null===(w=A.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===A?.code)A.resolver=new Un(C,k.as(C,A));else if(V){const de=Oo(A),Pe=A;de&&(Pe.credential=de,Pe.tenantId=V.tenantId||void 0,Pe.email=V.email||void 0,Pe.phoneNumber=V.phoneNumber||void 0)}}(C,w),w}).then(w=>{const de=w.user;return{operationType:w.operationType,credential:Ln(w),additionalUserInfo:k.aq(w),user:or.getOrCreate(de)}})}function ki(C,A){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(C,A){const w=yield A;return{verificationId:w.verificationId,confirm:V=>Xt(C,w.confirm(V))}})).apply(this,arguments)}class Un{constructor(A,w){this.resolver=w,this.auth=function Cr(C){return C.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Xt(sn(this.auth),this.resolver.resolveSignIn(A))}}class or{constructor(A){this._delegate=A,this.multiFactor=k.at(A)}static getOrCreate(A){return or.USER_MAP.has(A)||or.USER_MAP.set(A,new or(A)),or.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var w=this;return(0,R.Z)(function*(){return Xt(w.auth,k.a2(w._delegate,A))})()}linkWithPhoneNumber(A,w){var V=this;return(0,R.Z)(function*(){return ki(V.auth,k.l(V._delegate,A,w))})()}linkWithPopup(A){var w=this;return(0,R.Z)(function*(){return Xt(w.auth,k.d(w._delegate,A,Mr))})()}linkWithRedirect(A){var w=this;return(0,R.Z)(function*(){return yield gi(k.aJ(w.auth)),k.g(w._delegate,A,Mr)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var w=this;return(0,R.Z)(function*(){return Xt(w.auth,k.a3(w._delegate,A))})()}reauthenticateWithPhoneNumber(A,w){return ki(this.auth,k.r(this._delegate,A,w))}reauthenticateWithPopup(A){return Xt(this.auth,k.e(this._delegate,A,Mr))}reauthenticateWithRedirect(A){var w=this;return(0,R.Z)(function*(){return yield gi(k.aJ(w.auth)),k.h(w._delegate,A,Mr)})()}sendEmailVerification(A){return k.ag(this._delegate,A)}unlink(A){var w=this;return(0,R.Z)(function*(){return yield k.ap(w._delegate,A),w})()}updateEmail(A){return k.al(this._delegate,A)}updatePassword(A){return k.am(this._delegate,A)}updatePhoneNumber(A){return k.u(this._delegate,A)}updateProfile(A){return k.ak(this._delegate,A)}verifyBeforeUpdateEmail(A,w){return k.ah(this._delegate,A,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}or.USER_MAP=new WeakMap;const wn=k.aC;let Tr=(()=>{class C{constructor(w,V){if(this.app=w,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=w.options;wn(de,"invalid-api-key",{appName:w.name}),wn(de,"invalid-api-key",{appName:w.name});const Pe=typeof window<"u"?Mr:void 0;this._delegate=V.initialize({options:{persistence:rs(de,w.name),popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(k.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,V){k.K(this._delegate,w,V)}applyActionCode(w){return k.a7(this._delegate,w)}checkActionCode(w){return k.a8(this._delegate,w)}confirmPasswordReset(w,V){return k.a6(this._delegate,w,V)}createUserWithEmailAndPassword(w,V){var de=this;return(0,R.Z)(function*(){return Xt(de._delegate,k.aa(de._delegate,w,V))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return k.af(this._delegate,w)}isSignInWithEmailLink(w){return k.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,R.Z)(function*(){wn(xn(),w._delegate,"operation-not-supported-in-this-environment");const V=yield k.j(w._delegate,Mr);return V?Xt(w._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function se(C,A){(0,k.aJ)(C)._logFramework(A)}(this._delegate,w)}onAuthStateChanged(w,V,de){const{next:Pe,error:Le,complete:et}=Fo(w,V,de);return this._delegate.onAuthStateChanged(Pe,Le,et)}onIdTokenChanged(w,V,de){const{next:Pe,error:Le,complete:et}=Fo(w,V,de);return this._delegate.onIdTokenChanged(Pe,Le,et)}sendSignInLinkToEmail(w,V){return k.ac(this._delegate,w,V)}sendPasswordResetEmail(w,V){return k.a5(this._delegate,w,V||void 0)}setPersistence(w){var V=this;return(0,R.Z)(function*(){let de;switch(function No(C,A){Oi(Object.values(Vt).includes(A),C,"invalid-persistence-type"),(0,He.b$)()?Oi(A!==Vt.SESSION,C,"unsupported-persistence-type"):(0,He.UG)()?Oi(A===Vt.NONE,C,"unsupported-persistence-type"):Jt()?Oi(A===Vt.NONE||A===Vt.LOCAL&&(0,He.hl)(),C,"unsupported-persistence-type"):Oi(A===Vt.NONE||Ft(),C,"unsupported-persistence-type")}(V._delegate,w),w){case Vt.SESSION:de=k.a;break;case Vt.LOCAL:de=(yield k.aE(k.i)._isAvailable())?k.i:k.b;break;case Vt.NONE:de=k.U;break;default:return k.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Xt(this._delegate,k.a0(this._delegate))}signInWithCredential(w){return Xt(this._delegate,k.a1(this._delegate,w))}signInWithCustomToken(w){return Xt(this._delegate,k.a4(this._delegate,w))}signInWithEmailAndPassword(w,V){return Xt(this._delegate,k.ab(this._delegate,w,V))}signInWithEmailLink(w,V){return Xt(this._delegate,k.ae(this._delegate,w,V))}signInWithPhoneNumber(w,V){return ki(this._delegate,k.s(this._delegate,w,V))}signInWithPopup(w){var V=this;return(0,R.Z)(function*(){return wn(xn(),V._delegate,"operation-not-supported-in-this-environment"),Xt(V._delegate,k.c(V._delegate,w,Mr))})()}signInWithRedirect(w){var V=this;return(0,R.Z)(function*(){return wn(xn(),V._delegate,"operation-not-supported-in-this-environment"),yield gi(V._delegate),k.f(V._delegate,w,Mr)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return k.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Vt,C})();function Fo(C,A,w){let V=C;"function"!=typeof C&&({next:V,error:A,complete:w}=C);const de=V;return{next:Le=>de(Le&&or.getOrCreate(Le)),error:A,complete:w}}function rs(C,A){const w=function Rr(C,A){const w=xr();if(!w)return[];const V=k.aF(ts,C,A);switch(w.getItem(V)){case Vt.NONE:return[k.U];case Vt.LOCAL:return[k.i,k.a];case Vt.SESSION:return[k.a];default:return[]}}(C,A);if(typeof self<"u"&&!w.includes(k.i)&&w.push(k.i),typeof window<"u")for(const V of[k.b,k.a])w.includes(V)||w.push(V);return w.includes(k.U)||w.push(k.U),w}class is{constructor(){this.providerId="phone",this._delegate=new k.P(sn(De.Z.auth()))}static credential(A,w){return k.P.credential(A,w)}verifyPhoneNumber(A,w){return this._delegate.verifyPhoneNumber(A,w)}unwrap(){return this._delegate}}is.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,is.PROVIDER_ID=k.P.PROVIDER_ID;const os=k.aC;class Vo{constructor(A,w,V=De.Z.app()){var de;os(null===(de=V.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new k.R(V.auth(),A,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function L(C){C.INTERNAL.registerComponent(new Vn.wA("auth-compat",A=>{const w=A.getProvider("app-compat").getImmediate(),V=A.getProvider("auth");return new Tr(w,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.V,FacebookAuthProvider:k.W,GithubAuthProvider:k.Y,GoogleAuthProvider:k.X,OAuthProvider:k.Z,SAMLAuthProvider:k._,PhoneAuthProvider:is,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Vo,TwitterAuthProvider:k.$,Auth:Tr,AuthCredential:k.L,Error:He.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.5.9")}(De.Z)},861:(go,Qn,Ke)=>{function R(k,He,Ot,vn,Vn,on,Rt){try{var fe=k[on](Rt),we=fe.value}catch(ze){return void Ot(ze)}fe.done?He(we):Promise.resolve(we).then(vn,Vn)}function De(k){return function(){var He=this,Ot=arguments;return new Promise(function(vn,Vn){var on=k.apply(He,Ot);function Rt(we){R(on,vn,Vn,Rt,fe,"next",we)}function fe(we){R(on,vn,Vn,Rt,fe,"throw",we)}Rt(void 0)})}}Ke.d(Qn,{Z:()=>De})},582:(go,Qn,Ke)=>{function He(te,re){var se={};for(var ce in te)Object.prototype.hasOwnProperty.call(te,ce)&&re.indexOf(ce)<0&&(se[ce]=te[ce]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ce=Object.getOwnPropertySymbols(te);he<ce.length;he++)re.indexOf(ce[he])<0&&Object.prototype.propertyIsEnumerable.call(te,ce[he])&&(se[ce[he]]=te[ce[he]])}return se}function ze(te,re,se,ce){return new(se||(se=Promise))(function(ie,xe){function wt(St){try{$e(ce.next(St))}catch(ln){xe(ln)}}function Ne(St){try{$e(ce.throw(St))}catch(ln){xe(ln)}}function $e(St){St.done?ie(St.value):function he(ie){return ie instanceof se?ie:new se(function(xe){xe(ie)})}(St.value).then(wt,Ne)}$e((ce=ce.apply(te,re||[])).next())})}function yt(te){return this instanceof yt?(this.v=te,this):new yt(te)}function jt(te,re,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ce=se.apply(te,re||[]),ie=[];return he={},wt("next"),wt("throw"),wt("return",function xe(Ft){return function(Jt){return Promise.resolve(Jt).then(Ft,ln)}}),he[Symbol.asyncIterator]=function(){return this},he;function wt(Ft,Jt){ce[Ft]&&(he[Ft]=function(xn){return new Promise(function(Jn,pr){ie.push([Ft,xn,Jn,pr])>1||Ne(Ft,xn)})},Jt&&(he[Ft]=Jt(he[Ft])))}function Ne(Ft,Jt){try{!function $e(Ft){Ft.value instanceof yt?Promise.resolve(Ft.value.v).then(St,ln):pi(ie[0][2],Ft)}(ce[Ft](Jt))}catch(xn){pi(ie[0][3],xn)}}function St(Ft){Ne("next",Ft)}function ln(Ft){Ne("throw",Ft)}function pi(Ft,Jt){Ft(Jt),ie.shift(),ie.length&&Ne(ie[0][0],ie[0][1])}}function Lt(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,re=te[Symbol.asyncIterator];return re?re.call(te):(te=function bt(te){var re="function"==typeof Symbol&&Symbol.iterator,se=re&&te[re],ce=0;if(se)return se.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ce>=te.length&&(te=void 0),{value:te&&te[ce++],done:!te}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),se={},ce("next"),ce("throw"),ce("return"),se[Symbol.asyncIterator]=function(){return this},se);function ce(ie){se[ie]=te[ie]&&function(xe){return new Promise(function(wt,Ne){!function he(ie,xe,wt,Ne){Promise.resolve(Ne).then(function($e){ie({value:$e,done:wt})},xe)}(wt,Ne,(xe=te[ie](xe)).done,xe.value)})}}}Ke.d(Qn,{FC:()=>jt,KL:()=>Lt,_T:()=>He,mG:()=>ze,qq:()=>yt}),"function"==typeof SuppressedError&&SuppressedError}},go=>{go(go.s=770)}]);