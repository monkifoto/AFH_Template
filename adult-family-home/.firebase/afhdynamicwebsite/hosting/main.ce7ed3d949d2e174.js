"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(en,Qe,B)=>{B.d(Qe,{$:()=>Cs,A:()=>he,G:()=>Ke,K:()=>Ci,L:()=>ds,N:()=>Ae,P:()=>$f,R:()=>Da,U:()=>rn,V:()=>Gi,W:()=>gr,X:()=>Xs,Y:()=>Ki,Z:()=>Kr,_:()=>Is,a:()=>Ot,a0:()=>wo,a1:()=>Ao,a2:()=>$s,a3:()=>Dl,a4:()=>ec,a5:()=>Tu,a6:()=>Ta,a7:()=>po,a8:()=>$a,a9:()=>io,aA:()=>Yn,aB:()=>Ye,aC:()=>Ce,aD:()=>zc,aE:()=>ht,aF:()=>Gt,aG:()=>jd,aH:()=>Lh,aI:()=>yo,aJ:()=>lr,aN:()=>za,aQ:()=>as,aa:()=>so,ab:()=>wu,ac:()=>go,ad:()=>Au,ae:()=>pa,af:()=>S,ag:()=>U,ah:()=>be,ak:()=>Tr,al:()=>kr,am:()=>ur,ap:()=>z,aq:()=>Zs,as:()=>Su,at:()=>Pu,au:()=>Yt,av:()=>Zr,aw:()=>Gr,ax:()=>Le,ay:()=>Ma,az:()=>zd,b:()=>Mo,c:()=>tu,d:()=>jf,e:()=>xu,f:()=>Sa,g:()=>Uh,h:()=>$c,i:()=>O,j:()=>Hf,k:()=>Kd,l:()=>ma,m:()=>Kc,p:()=>Ve,r:()=>Lc,s:()=>Ol,u:()=>Ou});var l=B(467),de=B(7852),m=B(1076),De=B(8041),Ee=B(1635),Pe=B(1362);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},It=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new m.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new De.Vy("@firebase/auth");function We(C,...f){Ct.logLevel<=De.$b.ERROR&&Ct.error(`Auth (${de.SDK_VERSION}): ${C}`,...f)}function Le(C,...f){throw Dt(C,...f)}function Ye(C,...f){return Dt(C,...f)}function ze(C,f,_){const A=Object.assign(Object.assign({},It()),{[f]:_});return new m.FA("auth","Firebase",A).create(f,{appName:C.name})}function qe(C){return ze(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ft(C,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&Le(C,"argument-error"),ze(C,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(C,...f){if("string"!=typeof C){const _=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(_,...A)}return pt.create(C,...f)}function Ce(C,f,..._){if(!C)throw Dt(f,..._)}function $t(C){const f="INTERNAL ASSERTION FAILED: "+C;throw We(f),new Error(f)}function Yt(C,f){C||$t(f)}function Wn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function vt(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class pe{constructor(f,_){this.shortDelay=f,this.longDelay=_,Yt(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,m.jZ)()||(0,m.lV)()}get(){return function Ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,m.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(C,f){Yt(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class me{static initialize(f,_,A){this.fetchImpl=f,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ge=new pe(3e4,6e4);function we(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function Fe(C,f,_,A){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.A)(function*(C,f,_,A,K={}){return mt(C,K,(0,l.A)(function*(){let ae={},ke={};A&&("GET"===f?ke=A:ae={body:JSON.stringify(A)});const st=(0,m.Am)(Object.assign({key:C.config.apiKey},ke)).slice(1),xt=yield C._getAdditionalHeaders();return xt["Content-Type"]="application/json",C.languageCode&&(xt["X-Firebase-Locale"]=C.languageCode),me.fetch()(fn(C,C.config.apiHost,_,st),Object.assign({method:f,headers:xt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function mt(C,f,_){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.A)(function*(C,f,_){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},Se),f);try{const K=new Nt(C),ae=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const ke=yield ae.json();if("needConfirmation"in ke)throw gn(C,"account-exists-with-different-credential",ke);if(ae.ok&&!("errorMessage"in ke))return ke;{const st=ae.ok?ke.errorMessage:ke.error.message,[xt,vn]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw gn(C,"credential-already-in-use",ke);if("EMAIL_EXISTS"===xt)throw gn(C,"email-already-in-use",ke);if("USER_DISABLED"===xt)throw gn(C,"user-disabled",ke);const Ln=A[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw ze(C,Ln,vn);Le(C,Ln)}}catch(K){if(K instanceof m.g)throw K;Le(C,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Kt(C,f,_,A){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.A)(function*(C,f,_,A,K={}){const ae=yield Fe(C,f,_,A,K);return"mfaPendingCredential"in ae&&Le(C,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function fn(C,f,_,A){const K=`${f}${_}?${A}`;return C.config.emulator?ue(C.config,K):`${C.config.apiScheme}://${K}`}function or(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(Ye(this.auth,"network-request-failed")),ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(C,f,_){const A={appName:C.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=Ye(C,f,A);return K.customData._tokenResponse=_,K}function On(C){return void 0!==C&&void 0!==C.getResponse}function Vt(C){return void 0!==C&&void 0!==C.enterprise}class St{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===f)return or(_.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function nn(){return(nn=(0,l.A)(function*(C){return(yield Fe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fr(C,f){return $n.apply(this,arguments)}function $n(){return($n=(0,l.A)(function*(C,f){return Fe(C,"GET","/v2/recaptchaConfig",we(C,f))})).apply(this,arguments)}function un(){return(un=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function pn(){return(pn=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ar(C,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Xr(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Yi(){return(Yi=(0,l.A)(function*(C,f=!1){const _=(0,m.Ku)(C),A=yield _.getIdToken(f),K=Jr(A);Ce(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const ae="object"==typeof K.firebase?K.firebase:void 0,ke=ae?.sign_in_provider;return{claims:K,token:A,authTime:Xr(Qt(K.auth_time)),issuedAtTime:Xr(Qt(K.iat)),expirationTime:Xr(Qt(K.exp)),signInProvider:ke||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function Qt(C){return 1e3*Number(C)}function Jr(C){const[f,_,A]=C.split(".");if(void 0===f||void 0===_||void 0===A)return We("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,m.u)(_);return K?JSON.parse(K):(We("Failed to decode base64 JWT payload"),null)}catch(K){return We("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Hn(C){const f=Jr(C);return Ce(f,"internal-error"),Ce(typeof f.exp<"u","internal-error"),Ce(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function cr(C,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.A)(function*(C,f,_=!1){if(_)return f;try{return yield f}catch(A){throw A instanceof m.g&&function mi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}class $e{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,l.A)(function*(){yield _.iteration()}),A)}iteration(){var f=this;return(0,l.A)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class at{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(C){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.A)(function*(C){var f;const _=C.auth,A=yield C.getIdToken(),K=yield cr(C,ar(_,{idToken:A}));Ce(K?.users.length,_,"internal-error");const ae=K.users[0];C._notifyReloadListener(ae);const ke=null!==(f=ae.providerUserInfo)&&void 0!==f&&f.length?Dr(ae.providerUserInfo):[],st=function Tn(C,f){return[...C.filter(A=>!f.some(K=>K.providerId===A.providerId)),...f]}(C.providerData,ke),Ln=!!C.isAnonymous&&!(C.email&&ae.passwordHash||st?.length),Vr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:st,metadata:new at(ae.createdAt,ae.lastLoginAt),isAnonymous:Ln};Object.assign(C,Vr)})).apply(this,arguments)}function Lt(){return(Lt=(0,l.A)(function*(C){const f=(0,m.Ku)(C);yield oe(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Dr(C){return C.map(f=>{var{providerId:_}=f,A=(0,Ee.Tt)(f,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Re(){return(Re=(0,l.A)(function*(C,f){const _=yield mt(C,{},(0,l.A)(function*(){const A=(0,m.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:K,apiKey:ae}=C.config,ke=fn(C,K,"/v1/token",`key=${ae}`),st=yield C._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(ke,{method:"POST",headers:st,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,l.A)(function*(C,f){return Fe(C,"POST","/v2/accounts:revokeToken",we(C,f))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ce(f.idToken,"internal-error"),Ce(typeof f.idToken<"u","internal-error"),Ce(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):Hn(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}updateFromIdToken(f){Ce(0!==f.length,"internal-error");const _=Hn(f);this.updateTokensAndExpiration(f,null,_)}getToken(f,_=!1){var A=this;return(0,l.A)(function*(){return _||!A.accessToken||A.isExpired?(Ce(A.refreshToken,f,"user-token-expired"),A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var A=this;return(0,l.A)(function*(){const{accessToken:K,refreshToken:ae,expiresIn:ke}=yield function nr(C,f){return Re.apply(this,arguments)}(f,_);A.updateTokensAndExpiration(K,ae,Number(ke))})()}updateTokensAndExpiration(f,_,A){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,_){const{refreshToken:A,accessToken:K,expirationTime:ae}=_,ke=new V;return A&&(Ce("string"==typeof A,"internal-error",{appName:f}),ke.refreshToken=A),K&&(Ce("string"==typeof K,"internal-error",{appName:f}),ke.accessToken=K),ae&&(Ce("number"==typeof ae,"internal-error",{appName:f}),ke.expirationTime=ae),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return $t("not implemented")}}function F(C,f){Ce("string"==typeof C||typeof C>"u","internal-error",{appName:f})}class le{constructor(f){var{uid:_,auth:A,stsTokenManager:K}=f,ae=(0,Ee.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new at(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,l.A)(function*(){const A=yield cr(_,_.stsTokenManager.getToken(_.auth,f));return Ce(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(f){return function Yr(C){return Yi.apply(this,arguments)}(this,f)}reload(){return function it(C){return Lt.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ce(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new le(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var A=this;return(0,l.A)(function*(){let K=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),K=!0),_&&(yield oe(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,l.A)(function*(){if((0,de._isFirebaseServerApp)(f.auth.app))return Promise.reject(qe(f.auth));const _=yield f.getIdToken();return yield cr(f,function Rt(C,f){return un.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var A,K,ae,ke,st,xt,vn,Ln;const Vr=null!==(A=_.displayName)&&void 0!==A?A:void 0,ko=null!==(K=_.email)&&void 0!==K?K:void 0,ou=null!==(ae=_.phoneNumber)&&void 0!==ae?ae:void 0,au=null!==(ke=_.photoURL)&&void 0!==ke?ke:void 0,Fo=null!==(st=_.tenantId)&&void 0!==st?st:void 0,gc=null!==(xt=_._redirectEventId)&&void 0!==xt?xt:void 0,Ql=null!==(vn=_.createdAt)&&void 0!==vn?vn:void 0,ju=null!==(Ln=_.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Hu,emailVerified:Jd,isAnonymous:zh,providerData:Xl,stsTokenManager:Zd}=_;Ce(Hu&&Zd,f,"internal-error");const uu=V.fromJSON(this.name,Zd);Ce("string"==typeof Hu,f,"internal-error"),F(Vr,f.name),F(ko,f.name),Ce("boolean"==typeof Jd,f,"internal-error"),Ce("boolean"==typeof zh,f,"internal-error"),F(ou,f.name),F(au,f.name),F(Fo,f.name),F(gc,f.name),F(Ql,f.name),F(ju,f.name);const zu=new le({uid:Hu,auth:f,email:ko,emailVerified:Jd,displayName:Vr,isAnonymous:zh,photoURL:au,phoneNumber:ou,tenantId:Fo,stsTokenManager:uu,createdAt:Ql,lastLoginAt:ju});return Xl&&Array.isArray(Xl)&&(zu.providerData=Xl.map(Yl=>Object.assign({},Yl))),gc&&(zu._redirectEventId=gc),zu}static _fromIdTokenResponse(f,_,A=!1){return(0,l.A)(function*(){const K=new V;K.updateFromServerResponse(_);const ae=new le({uid:_.localId,auth:f,stsTokenManager:K,isAnonymous:A});return yield oe(ae),ae})()}static _fromGetAccountInfoResponse(f,_,A){return(0,l.A)(function*(){const K=_.users[0];Ce(void 0!==K.localId,"internal-error");const ae=void 0!==K.providerUserInfo?Dr(K.providerUserInfo):[],ke=!(K.email&&K.passwordHash||ae?.length),st=new V;st.updateFromIdToken(A);const xt=new le({uid:K.localId,auth:f,stsTokenManager:st,isAnonymous:ke}),vn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:ae,metadata:new at(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||ae?.length)};return Object.assign(xt,vn),xt})()}}const Ne=new Map;function ht(C){Yt(C instanceof Function,"Expected a class definition");let f=Ne.get(C);return f?(Yt(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,Ne.set(C,f),f)}const rn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(_,A){var K=this;return(0,l.A)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,l.A)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,l.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return C.type="NONE",C})();function Gt(C,f,_){return`firebase:${C}:${f}:${_}`}class Xt{constructor(f,_,A){this.persistence=f,this.auth=_,this.userKey=A;const{config:K,name:ae}=this.auth;this.fullUserKey=Gt(this.userKey,K.apiKey,ae),this.fullPersistenceKey=Gt("persistence",K.apiKey,ae),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.A)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?le._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,l.A)(function*(){if(_.persistence===f)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,A="authUser"){return(0,l.A)(function*(){if(!_.length)return new Xt(ht(rn),f,A);const K=(yield Promise.all(_.map(function(){var vn=(0,l.A)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ae=K[0]||ht(rn);const ke=Gt(A,f.config.apiKey,f.name);let st=null;for(const vn of _)try{const Ln=yield vn._get(ke);if(Ln){const Vr=le._fromJSON(f,Ln);vn!==ae&&(st=Vr),ae=vn;break}}catch{}const xt=K.filter(vn=>vn._shouldAllowMigration);return ae._shouldAllowMigration&&xt.length?(ae=xt[0],st&&(yield ae._set(ke,st.toJSON())),yield Promise.all(_.map(function(){var vn=(0,l.A)(function*(Ln){if(Ln!==ae)try{yield Ln._remove(ke)}catch{}});return function(Ln){return vn.apply(this,arguments)}}())),new Xt(ae,f,A)):new Xt(ae,f,A)})()}}function Xn(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Us(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(_n(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(zi(f))return"Blackberry";if(ls(f))return"Webos";if(si(f))return"Safari";if((f.includes("chrome/")||xr(f))&&!f.includes("edge/"))return"Chrome";if(Gr(f))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function _n(C=(0,m.ZQ)()){return/firefox\//i.test(C)}function si(C=(0,m.ZQ)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function xr(C=(0,m.ZQ)()){return/crios\//i.test(C)}function Us(C=(0,m.ZQ)()){return/iemobile/i.test(C)}function Gr(C=(0,m.ZQ)()){return/android/i.test(C)}function zi(C=(0,m.ZQ)()){return/blackberry/i.test(C)}function ls(C=(0,m.ZQ)()){return/webos/i.test(C)}function Zr(C=(0,m.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Yn(C=(0,m.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function _t(C=(0,m.ZQ)()){return Zr(C)||Gr(C)||ls(C)||zi(C)||/windows phone/i.test(C)||Us(C)}function bn(C,f=[]){let _;switch(C){case"Browser":_=Xn((0,m.ZQ)());break;case"Worker":_=`${Xn((0,m.ZQ)())}-${C}`;break;default:_=C}const A=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${A}`}class Mn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const A=ae=>new Promise((ke,st)=>{try{ke(f(ae))}catch(xt){st(xt)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,l.A)(function*(){if(_.auth.currentUser===f)return;const A=[];try{for(const K of _.queue)yield K(f),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const ae of A)try{ae()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function Gn(){return(Gn=(0,l.A)(function*(C,f={}){return Fe(C,"GET","/v2/passwordPolicy",we(C,f))})).apply(this,arguments)}class Rr{constructor(f){var _,A,K,ae;const ke=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=ke.minPasswordLength)&&void 0!==_?_:6,ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ke.maxPasswordLength),void 0!==ke.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ke.containsLowercaseCharacter),void 0!==ke.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ke.containsUppercaseCharacter),void 0!==ke.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ke.containsNumericCharacter),void 0!==ke.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ke.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(A=f.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(ae=f.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=f.schemaVersion}validatePassword(f){var _,A,K,ae,ke,st;const xt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,xt),this.validatePasswordCharacterOptions(f,xt),xt.isValid&&(xt.isValid=null===(_=xt.meetsMinPasswordLength)||void 0===_||_),xt.isValid&&(xt.isValid=null===(A=xt.meetsMaxPasswordLength)||void 0===A||A),xt.isValid&&(xt.isValid=null===(K=xt.containsLowercaseLetter)||void 0===K||K),xt.isValid&&(xt.isValid=null===(ae=xt.containsUppercaseLetter)||void 0===ae||ae),xt.isValid&&(xt.isValid=null===(ke=xt.containsNumericCharacter)||void 0===ke||ke),xt.isValid&&(xt.isValid=null===(st=xt.containsNonAlphanumericCharacter)||void 0===st||st),xt}validatePasswordLengthOptions(f,_){const A=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=f.length>=A),K&&(_.meetsMaxPasswordLength=f.length<=K)}validatePasswordCharacterOptions(f,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<f.length;K++)A=f.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(f,_,A,K,ae){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ae))}}class oi{constructor(f,_,A,K){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new Mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(f,_){var A=this;return _&&(this._popupRedirectResolver=ht(_)),this._initializationPromise=this.queue((0,l.A)(function*(){var K,ae;if(!A._deleted&&(A.persistenceManager=yield Xt.create(A,f),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(ae=A.currentUser)||void 0===ae?void 0:ae.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.A)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(f){var _=this;return(0,l.A)(function*(){try{const A=yield ar(_,{idToken:f}),K=yield le._fromGetAccountInfoResponse(_,A,f);yield _.directlySetCurrentUser(K)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var _=this;return(0,l.A)(function*(){var A;if((0,de._isFirebaseServerApp)(_.app)){const st=_.app.settings.authIdToken;return st?new Promise(xt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(st).then(xt,xt))}):_.directlySetCurrentUser(null)}const K=yield _.assertedPersistence.getCurrentUser();let ae=K,ke=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const st=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,xt=ae?._redirectEventId,vn=yield _.tryRedirectSignIn(f);(!st||st===xt)&&vn?.user&&(ae=vn.user,ke=!0)}if(!ae)return _.directlySetCurrentUser(null);if(!ae._redirectEventId){if(ke)try{yield _.beforeStateQueue.runMiddleware(ae)}catch(st){ae=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(st))}return ae?_.reloadAndSetCurrentUserOrClear(ae):_.directlySetCurrentUser(null)}return Ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ae._redirectEventId?_.directlySetCurrentUser(ae):_.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(f){var _=this;return(0,l.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,l.A)(function*(){try{yield oe(f)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,l.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,l.A)(function*(){if((0,de._isFirebaseServerApp)(_.app))return Promise.reject(qe(_));const A=f?(0,m.Ku)(f):null;return A&&Ce(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(f,_=!1){var A=this;return(0,l.A)(function*(){if(!A._deleted)return f&&Ce(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,l.A)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.A)(function*(){return(0,de._isFirebaseServerApp)(f.app)?Promise.reject(qe(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var _=this;return(0,de._isFirebaseServerApp)(this.app)?Promise.reject(qe(this)):this.queue((0,l.A)(function*(){yield _.assertedPersistence.setPersistence(ht(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var _=this;return(0,l.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.A)(function*(){const _=yield function wn(C){return Gn.apply(this,arguments)}(f),A=new Rr(_);null===f.tenantId?f._projectPasswordPolicy=A:f._tenantPasswordPolicies[f.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new m.FA("auth","Firebase",f())}onAuthStateChanged(f,_,A){return this.registerStateListener(this.authStateSubscription,f,_,A)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,A){return this.registerStateListener(this.idTokenSubscription,f,_,A)}authStateReady(){return new Promise((f,_)=>{if(this.currentUser)f();else{const A=this.onAuthStateChanged(()=>{A(),f()},_)}})}revokeAccessToken(f){var _=this;return(0,l.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:A};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function te(C,f){return H.apply(this,arguments)}(_,K)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var A=this;return(0,l.A)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===f?K.removeCurrentUser():K.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,l.A)(function*(){if(!_.redirectPersistenceManager){const A=f&&ht(f)||_._popupRedirectResolver;Ce(A,_,"argument-error"),_.redirectPersistenceManager=yield Xt.create(_,[ht(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,l.A)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,l.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===f?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,l.A)(function*(){if(f===_.currentUser)return _.queue((0,l.A)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,A,K){if(this._deleted)return()=>{};const ae="function"==typeof _?_:_.next.bind(_);let ke=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(st,this,"internal-error"),st.then(()=>{ke||ae(this.currentUser)}),"function"==typeof _){const xt=f.addObserver(_,A,K);return()=>{ke=!0,xt()}}{const xt=f.addObserver(_);return()=>{ke=!0,xt()}}}directlySetCurrentUser(f){var _=this;return(0,l.A)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.A)(function*(){var _;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const K=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const ae=yield f._getAppCheckToken();return ae&&(A["X-Firebase-AppCheck"]=ae),A})()}_getAppCheckToken(){var f=this;return(0,l.A)(function*(){var _;const A=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function on(C,...f){Ct.logLevel<=De.$b.WARN&&Ct.warn(`Auth (${de.SDK_VERSION}): ${C}`,...f)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function lr(C){return(0,m.Ku)(C)}class ys{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,m.tD)(_=>this.observer=_)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ei={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ri(C){return ei.loadJS(C)}function Di(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Sr{constructor(f){this.type="recaptcha-enterprise",this.auth=lr(f)}verify(f="verify",_=!1){var A=this;return(0,l.A)(function*(){function ae(){return ae=(0,l.A)(function*(st){if(!_){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var xt=(0,l.A)(function*(vn,Ln){fr(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vr=>{if(void 0!==Vr.recaptchaKey){const ko=new St(Vr);return null==st.tenantId?st._agentRecaptchaConfig=ko:st._tenantRecaptchaConfigs[st.tenantId]=ko,vn(ko.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Vr=>{Ln(Vr)})});return function(vn,Ln){return xt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function ke(st,xt,vn){const Ln=window.grecaptcha;Vt(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(st,{action:f}).then(Vr=>{xt(Vr)}).catch(()=>{xt("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,xt)=>{(function K(st){return ae.apply(this,arguments)})(A.auth).then(vn=>{if(!_&&Vt(window.grecaptcha))ke(vn,st,xt);else{if(typeof window>"u")return void xt(new Error("RecaptchaVerifier is only supported in browser"));let Ln=function Ui(){return ei.recaptchaEnterpriseScript}();0!==Ln.length&&(Ln+=vn),ri(Ln).then(()=>{ke(vn,st,xt)}).catch(Vr=>{xt(Vr)})}}).catch(vn=>{xt(vn)})})})()}}function Pr(C,f,_){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.A)(function*(C,f,_,A=!1){const K=new Sr(C);let ae;try{ae=yield K.verify(_)}catch{ae=yield K.verify(_,!0)}const ke=Object.assign({},f);return Object.assign(ke,A?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke})).apply(this,arguments)}function Wi(C,f,_,A){return xi.apply(this,arguments)}function xi(){return xi=(0,l.A)(function*(C,f,_,A){var K;if(null!==(K=C._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield Pr(C,f,_,"getOobCode"===_);return A(C,ae)}return A(C,f).catch(function(){var ae=(0,l.A)(function*(ke){if("auth/missing-recaptcha-token"===ke.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const st=yield Pr(C,f,_,"getOobCode"===_);return A(C,st)}return Promise.reject(ke)});return function(ke){return ae.apply(this,arguments)}}())}),xi.apply(this,arguments)}function Ci(C,f,_){const A=lr(C);Ce(A._canInitEmulator,A,"emulator-config-failed"),Ce(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const K=!!_?.disableWarnings,ae=dr(f),{host:ke,port:st}=function wi(C){const f=dr(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const ae=K[1];return{host:ae,port:Si(A.substr(ae.length+1))}}{const[ae,ke]=A.split(":");return{host:ae,port:Si(ke)}}}(f);A.config.emulator={url:`${ae}//${ke}${null===st?"":`:${st}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ke,port:st,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function qs(){function C(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function dr(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function Si(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}class ds{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return $t("not implemented")}_getIdTokenResponse(f){return $t("not implemented")}_linkToIdToken(f,_){return $t("not implemented")}_getReauthenticationResolver(f){return $t("not implemented")}}function bo(C,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:resetPassword",we(C,f))})).apply(this,arguments)}function jr(){return(jr=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ni(C,f){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Zi(){return(Zi=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:update",we(C,f))})).apply(this,arguments)}function is(C,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithPassword",we(C,f))})).apply(this,arguments)}function es(C,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:sendOobCode",we(C,f))})).apply(this,arguments)}function Sn(){return(Sn=(0,l.A)(function*(C,f){return es(C,f)})).apply(this,arguments)}function Jn(C,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.A)(function*(C,f){return es(C,f)})).apply(this,arguments)}function Qs(C,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.A)(function*(C,f){return es(C,f)})).apply(this,arguments)}function br(){return(br=(0,l.A)(function*(C,f){return es(C,f)})).apply(this,arguments)}function Es(){return(Es=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithEmailLink",we(C,f))})).apply(this,arguments)}function os(){return(os=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithEmailLink",we(C,f))})).apply(this,arguments)}class ai extends ds{constructor(f,_,A,K=null){super("password",A),this._email=f,this._password=_,this._tenantId=K}static _fromEmailAndPassword(f,_){return new ai(f,_,"password")}static _fromEmailAndCode(f,_,A=null){return new ai(f,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,l.A)(function*(){switch(_.signInMethod){case"password":return Wi(f,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",is);case"emailLink":return function Ms(C,f){return Es.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Le(f,"internal-error")}})()}_linkToIdToken(f,_){var A=this;return(0,l.A)(function*(){switch(A.signInMethod){case"password":return Wi(f,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ni);case"emailLink":return function Vn(C,f){return os.apply(this,arguments)}(f,{idToken:_,email:A._email,oobCode:A._password});default:Le(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Y(C,f){return G.apply(this,arguments)}function G(){return(G=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithIdp",we(C,f))})).apply(this,arguments)}class Ae extends ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new Ae(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):Le("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:K}=_,ae=(0,Ee.Tt)(_,["providerId","signInMethod"]);if(!A||!K)return null;const ke=new Ae(A,K);return ke.idToken=ae.idToken||void 0,ke.accessToken=ae.accessToken||void 0,ke.secret=ae.secret,ke.nonce=ae.nonce,ke.pendingToken=ae.pendingToken||null,ke}_getIdTokenResponse(f){return Y(f,this.buildRequest())}_linkToIdToken(f,_){const A=this.buildRequest();return A.idToken=_,Y(f,A)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Y(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,m.Am)(_)}return f}}function dt(){return(dt=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:sendVerificationCode",we(C,f))})).apply(this,arguments)}function cn(){return(cn=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",we(C,f))})).apply(this,arguments)}function Zt(){return(Zt=(0,l.A)(function*(C,f){const _=yield Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",we(C,f));if(_.temporaryProof)throw gn(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",we(C,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class Br extends ds{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new Br({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new Br({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function jt(C,f){return cn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function At(C,f){return Zt.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function yn(C,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:ae}=f;return A||_||K||ae?new Br({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:ae}):null}}class $r{constructor(f){var _,A,K,ae,ke,st;const xt=(0,m.I9)((0,m.hp)(f)),vn=null!==(_=xt.apiKey)&&void 0!==_?_:null,Ln=null!==(A=xt.oobCode)&&void 0!==A?A:null,Vr=function ci(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=xt.mode)&&void 0!==K?K:null);Ce(vn&&Ln&&Vr,"argument-error"),this.apiKey=vn,this.operation=Vr,this.code=Ln,this.continueUrl=null!==(ae=xt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(ke=xt.languageCode)&&void 0!==ke?ke:null,this.tenantId=null!==(st=xt.tenantId)&&void 0!==st?st:null}static parseLink(f){const _=function ni(C){const f=(0,m.I9)((0,m.hp)(C)).link,_=f?(0,m.I9)((0,m.hp)(f)).deep_link_id:null,A=(0,m.I9)((0,m.hp)(C)).deep_link_id;return(A?(0,m.I9)((0,m.hp)(A)).link:null)||A||_||f||C}(f);try{return new $r(_)}catch{return null}}}let Gi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,A){return ai._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=$r.parseLink(A);return Ce(K,"argument-error"),ai._fromEmailAndCode(_,K.code,K.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ir{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class li extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Kr extends li{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return Ce("providerId"in _&&"signInMethod"in _,"argument-error"),Ae._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ce(f.idToken||f.accessToken,"argument-error"),Ae._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Kr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Kr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:ae,nonce:ke,providerId:st}=f;if(!A&&!K&&!_&&!ae||!st)return null;try{return new Kr(st)._credential({idToken:_,accessToken:A,nonce:ke,pendingToken:ae})}catch{return null}}}let gr=(()=>{class C extends li{constructor(){super("facebook.com")}static credential(_){return Ae._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Xs=(()=>{class C extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Ae._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ki=(()=>{class C extends li{constructor(){super("github.com")}static credential(_){return Ae._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class as extends ds{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return Y(f,this.buildRequest())}_linkToIdToken(f,_){const A=this.buildRequest();return A.idToken=_,Y(f,A)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Y(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:K,pendingToken:ae}=_;return A&&K&&ae&&A===K?new as(A,ae):null}static _create(f,_){return new as(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends ir{constructor(f){Ce(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Is.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Is.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=as.fromJSON(f);return Ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:A}=f;if(!_||!A)return null;try{return as._create(A,_)}catch{return null}}}let Cs=(()=>{class C extends li{constructor(){super("twitter.com")}static credential(_,A){return Ae._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return C.credential(A,K)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Va(C,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signUp",we(C,f))})).apply(this,arguments)}class ki{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,A,K=!1){return(0,l.A)(function*(){const ae=yield le._fromIdTokenResponse(f,A,K),ke=To(A);return new ki({user:ae,providerId:ke,_tokenResponse:A,operationType:_})})()}static _forOperation(f,_,A){return(0,l.A)(function*(){yield f._updateTokensIfNecessary(A,!0);const K=To(A);return new ki({user:f,providerId:K,_tokenResponse:A,operationType:_})})()}}function To(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function wo(C){return La.apply(this,arguments)}function La(){return(La=(0,l.A)(function*(C){var f;if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const _=lr(C);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new ki({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Va(_,{returnSecureToken:!0}),K=yield ki._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Nr extends m.g{constructor(f,_,A,K){var ae;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Nr.prototype),this.customData={appName:f.name,tenantId:null!==(ae=f.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,_,A,K){return new Nr(f,_,A,K)}}function Wo(C,f,_,A){return("reauthenticate"===f?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Nr._fromErrorAndOperation(C,ae,f,A):ae})}function Ua(C){return new Set(C.map(({providerId:f})=>f).filter(f=>!!f))}function z(C,f){return Q.apply(this,arguments)}function Q(){return Q=(0,l.A)(function*(C,f){const _=(0,m.Ku)(C);yield Oe(!0,_,f);const{providerUserInfo:A}=yield function Cn(C,f){return pn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),K=Ua(A||[]);return _.providerData=_.providerData.filter(ae=>K.has(ae.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Q.apply(this,arguments)}function x(C,f){return se.apply(this,arguments)}function se(){return(se=(0,l.A)(function*(C,f,_=!1){const A=yield cr(C,f._linkToIdToken(C.auth,yield C.getIdToken()),_);return ki._forOperation(C,"link",A)})).apply(this,arguments)}function Oe(C,f,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.A)(function*(C,f,_){yield oe(f);const K=!1===C?"provider-already-linked":"no-such-provider";Ce(Ua(f.providerData).has(_)===C,f.auth,K)})).apply(this,arguments)}function Nn(C,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.A)(function*(C,f,_=!1){const{auth:A}=C;if((0,de._isFirebaseServerApp)(A.app))return Promise.reject(qe(A));const K="reauthenticate";try{const ae=yield cr(C,Wo(A,K,f,C),_);Ce(ae.idToken,A,"internal-error");const ke=Jr(ae.idToken);Ce(ke,A,"internal-error");const{sub:st}=ke;return Ce(C.uid===st,A,"user-mismatch"),ki._forOperation(C,K,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&Le(A,"user-mismatch"),ae}})).apply(this,arguments)}function hs(C,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.A)(function*(C,f,_=!1){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A="signIn",K=yield Wo(C,A,f),ae=yield ki._fromIdTokenResponse(C,A,K);return _||(yield C._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Ao(C,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.A)(function*(C,f){return hs(lr(C),f)})).apply(this,arguments)}function $s(C,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.A)(function*(C,f){const _=(0,m.Ku)(C);return yield Oe(!1,_,f.providerId),x(_,f)})).apply(this,arguments)}function Dl(C,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.A)(function*(C,f){return Nn((0,m.Ku)(C),f)})).apply(this,arguments)}function Mi(){return(Mi=(0,l.A)(function*(C,f){return Kt(C,"POST","/v1/accounts:signInWithCustomToken",we(C,f))})).apply(this,arguments)}function ec(C,f){return js.apply(this,arguments)}function js(){return js=(0,l.A)(function*(C,f){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const _=lr(C),A=yield function ea(C,f){return Mi.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),K=yield ki._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K}),js.apply(this,arguments)}class Do{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Ys._fromServerResponse(f,_):"totpInfo"in _?ba._fromServerResponse(f,_):Le(f,"internal-error")}}class Ys extends Do{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Ys(_)}}class ba extends Do{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new ba(_)}}function fs(C,f,_){var A;Ce((null===(A=_.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),Ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ce(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(Ce(_.android.packageName.length>0,C,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function qn(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.A)(function*(C){const f=lr(C);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Tu(C,f,_){return da.apply(this,arguments)}function da(){return(da=(0,l.A)(function*(C,f,_){const A=lr(C),K={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};_&&fs(A,K,_),yield Wi(A,K,"getOobCode",Jn)})).apply(this,arguments)}function Ta(C,f,_){return ha.apply(this,arguments)}function ha(){return ha=(0,l.A)(function*(C,f,_){yield bo((0,m.Ku)(C),{oobCode:f,newPassword:_}).catch(function(){var A=(0,l.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&qn(C),K});return function(K){return A.apply(this,arguments)}}())}),ha.apply(this,arguments)}function po(C,f){return Go.apply(this,arguments)}function Go(){return Go=(0,l.A)(function*(C,f){yield function Rs(C,f){return Zi.apply(this,arguments)}((0,m.Ku)(C),{oobCode:f})}),Go.apply(this,arguments)}function $a(C,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.A)(function*(C,f){const _=(0,m.Ku)(C),A=yield bo(_,{oobCode:f}),K=A.requestType;switch(Ce(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(A.mfaInfo,_,"internal-error");default:Ce(A.email,_,"internal-error")}let ae=null;return A.mfaInfo&&(ae=Do._fromServerResponse(lr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ae},operation:K}})).apply(this,arguments)}function io(C,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.A)(function*(C,f){const{data:_}=yield $a((0,m.Ku)(C),f);return _.email})).apply(this,arguments)}function so(C,f,_){return So.apply(this,arguments)}function So(){return(So=(0,l.A)(function*(C,f,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A=lr(C),ke=yield Wi(A,{returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Va).catch(xt=>{throw"auth/password-does-not-meet-requirements"===xt.code&&qn(C),xt}),st=yield ki._fromIdTokenResponse(A,"signIn",ke);return yield A._updateCurrentUser(st.user),st})).apply(this,arguments)}function wu(C,f,_){return(0,de._isFirebaseServerApp)(C.app)?Promise.reject(qe(C)):Ao((0,m.Ku)(C),Gi.credential(f,_)).catch(function(){var A=(0,l.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&qn(C),K});return function(K){return A.apply(this,arguments)}}())}function go(C,f,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.A)(function*(C,f,_){const A=lr(C),K={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ae(ke,st){Ce(st.handleCodeInApp,A,"argument-error"),st&&fs(A,ke,st)})(K,_),yield Wi(A,K,"getOobCode",Qs)})).apply(this,arguments)}function Au(C,f){const _=$r.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function pa(C,f,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(C,f,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A=(0,m.Ku)(C),K=Gi.credentialWithLink(f,_||Wn());return Ce(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Ao(A,K)})).apply(this,arguments)}function mr(){return(mr=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:createAuthUri",we(C,f))})).apply(this,arguments)}function S(C,f){return ee.apply(this,arguments)}function ee(){return ee=(0,l.A)(function*(C,f){const A={identifier:f,continueUri:vt()?Wn():"http://localhost"},{signinMethods:K}=yield function zs(C,f){return mr.apply(this,arguments)}((0,m.Ku)(C),A);return K||[]}),ee.apply(this,arguments)}function U(C,f){return X.apply(this,arguments)}function X(){return X=(0,l.A)(function*(C,f){const _=(0,m.Ku)(C),K={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};f&&fs(_.auth,K,f);const{email:ae}=yield function qt(C,f){return Sn.apply(this,arguments)}(_.auth,K);ae!==C.email&&(yield C.reload())}),X.apply(this,arguments)}function be(C,f,_){return ot.apply(this,arguments)}function ot(){return ot=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:f};_&&fs(A.auth,ae,_);const{email:ke}=yield function ss(C,f){return br.apply(this,arguments)}(A.auth,ae);ke!==C.email&&(yield C.reload())}),ot.apply(this,arguments)}function hn(){return(hn=(0,l.A)(function*(C,f){return Fe(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tr(C,f){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,l.A)(function*(C,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const A=(0,m.Ku)(C),ae={idToken:yield A.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},ke=yield cr(A,function bt(C,f){return hn.apply(this,arguments)}(A.auth,ae));A.displayName=ke.displayName||null,A.photoURL=ke.photoUrl||null;const st=A.providerData.find(({providerId:xt})=>"password"===xt);st&&(st.displayName=A.displayName,st.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ke)}),Mr.apply(this,arguments)}function kr(C,f){const _=(0,m.Ku)(C);return(0,de._isFirebaseServerApp)(_.auth.app)?Promise.reject(qe(_.auth)):ii(_,f,null)}function ur(C,f){return ii((0,m.Ku)(C),null,f)}function ii(C,f,_){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,l.A)(function*(C,f,_){const{auth:A}=C,ae={idToken:yield C.getIdToken(),returnSecureToken:!0};f&&(ae.email=f),_&&(ae.password=_);const ke=yield cr(C,function Er(C,f){return jr.apply(this,arguments)}(A,ae));yield C._updateTokensIfNecessary(ke,!0)}),Wr.apply(this,arguments)}class ts{constructor(f,_,A={}){this.isNewUser=f,this.providerId=_,this.profile=A}}class ps extends ts{constructor(f,_,A,K){super(f,_,A),this.username=K}}class ta extends ts{constructor(f,_){super(f,"facebook.com",_)}}class Ns extends ps{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Et extends ts{constructor(f,_){super(f,"google.com",_)}}class Un extends ps{constructor(f,_,A){super(f,"twitter.com",_,A)}}function Zs(C){const{user:f,_tokenResponse:_}=C;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function bi(C){var f,_;if(!C)return null;const{providerId:A}=C,K=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ae=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&C?.idToken){const ke=null===(_=null===(f=Jr(C.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(ke)return new ts(ae,"anonymous"!==ke&&"custom"!==ke?ke:null)}if(!A)return null;switch(A){case"facebook.com":return new ta(ae,K);case"github.com":return new Ns(ae,K);case"google.com":return new Et(ae,K);case"twitter.com":return new Un(ae,K,C.screenName||null);case"custom":case"anonymous":return new ts(ae,null);default:return new ts(ae,A,K)}}(_)}class na{constructor(f,_,A){this.type=f,this.credential=_,this.user=A}static _fromIdtoken(f,_){return new na("enroll",f,_)}static _fromMfaPendingCredential(f){return new na("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,A;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return na._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(A=f.multiFactorSession)&&void 0!==A&&A.idToken)return na._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ic{constructor(f,_,A){this.session=f,this.hints=_,this.signInResolver=A}static _fromError(f,_){const A=lr(f),K=_.customData._serverResponse,ae=(K.mfaInfo||[]).map(st=>Do._fromServerResponse(A,st));Ce(K.mfaPendingCredential,A,"internal-error");const ke=na._fromMfaPendingCredential(K.mfaPendingCredential);return new ic(ke,ae,function(){var st=(0,l.A)(function*(xt){const vn=yield xt._process(A,ke);delete K.mfaInfo,delete K.mfaPendingCredential;const Ln=Object.assign(Object.assign({},K),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(_.operationType){case"signIn":const Vr=yield ki._fromIdTokenResponse(A,_.operationType,Ln);return yield A._updateCurrentUser(Vr.user),Vr;case"reauthenticate":return Ce(_.user,A,"internal-error"),ki._forOperation(_.user,_.operationType,Ln);default:Le(A,"internal-error")}});return function(xt){return st.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,l.A)(function*(){return _.signInResolver(f)})()}}function Su(C,f){var _;const A=(0,m.Ku)(C),K=f;return Ce(f.customData.operationType,A,"argument-error"),Ce(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),ic._fromError(A,K)}class ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>Do._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new ja(f)}getSession(){var f=this;return(0,l.A)(function*(){return na._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,_){var A=this;return(0,l.A)(function*(){const K=f,ae=yield A.getSession(),ke=yield cr(A.user,K._process(A.user.auth,ae,_));return yield A.user._updateTokensIfNecessary(ke),A.user.reload()})()}unenroll(f){var _=this;return(0,l.A)(function*(){const A="string"==typeof f?f:f.uid,K=yield _.user.getIdToken();try{const ae=yield cr(_.user,function Ld(C,f){return Fe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",we(C,f))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ke})=>ke!==A),yield _.user._updateTokensIfNecessary(ae),yield _.user.reload()}catch(ae){throw ae}})()}}const ks=new WeakMap;function Pu(C){const f=(0,m.Ku)(C);return ks.has(f)||ks.set(f,ja._fromUser(f)),ks.get(f)}const Oc="__sak";class yi{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mo=(()=>{class C extends yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aa(){const C=(0,m.ZQ)();return si(C)||Zr(C)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_t(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),ae=this.localCache[A];K!==ae&&_(A,ae,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((st,xt,vn)=>{this.notifyListeners(st,vn)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(K);if(_.newValue!==st)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const ae=()=>{const st=this.storage.getItem(K);!A&&this.localCache[K]===st||this.notifyListeners(K,st)},ke=this.storage.getItem(K);!function Ge(){return(0,m.lT)()&&10===document.documentMode}()||ke===_.newValue||_.newValue===_.oldValue?ae():setTimeout(ae,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const ae of Array.from(K))ae(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,ae=this;return(0,l.A)(function*(){yield K().call(ae,_,A),ae.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,l.A)(function*(){const ae=yield A().call(K,_);return K.localCache[_]=JSON.stringify(ae),ae})()}_remove(_){var A=()=>super._remove,K=this;return(0,l.A)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return C.type="LOCAL",C})(),Ot=(()=>{class C extends yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return C.type="SESSION",C})();let Nc=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(ae=>ae.isListeningto(_));if(A)return A;const K=new C(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,l.A)(function*(){const K=_,{eventId:ae,eventType:ke,data:st}=K.data,xt=A.handlersMap[ke];if(!xt?.size)return;K.ports[0].postMessage({status:"ack",eventId:ae,eventType:ke});const vn=Array.from(xt).map(function(){var Vr=(0,l.A)(function*(ko){return ko(K.origin,st)});return function(ko){return Vr.apply(this,arguments)}}()),Ln=yield function Or(C){return Promise.all(C.map(function(){var f=(0,l.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return f.apply(this,arguments)}}()))}(vn);K.ports[0].postMessage({status:"done",eventId:ae,eventType:ke,response:Ln})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function za(C="",f=10){let _="";for(let A=0;A<f;A++)_+=Math.floor(10*Math.random());return C+_}class bs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,A=50){var K=this;return(0,l.A)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let ke,st;return new Promise((xt,vn)=>{const Ln=za("",20);ae.port1.start();const Vr=setTimeout(()=>{vn(new Error("unsupported_event"))},A);st={messageChannel:ae,onMessage(ko){const ou=ko;if(ou.data.eventId===Ln)switch(ou.data.status){case"ack":clearTimeout(Vr),ke=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ke),xt(ou.data.response);break;default:clearTimeout(Vr),clearTimeout(ke),vn(new Error("invalid_response"))}}},K.handlers.add(st),ae.port1.addEventListener("message",st.onMessage),K.target.postMessage({eventType:f,eventId:Ln,data:_},[ae.port2])}).finally(()=>{st&&K.removeMessageHandler(st)})})()}}function Fi(){return window}function eo(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function Wa(){return(Wa=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oc="firebaseLocalStorageDb",Ts="firebaseLocalStorage",ra="fbase_key";class ao{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function uo(C,f){return C.transaction([Ts],f?"readwrite":"readonly").objectStore(Ts)}function Ko(){const C=indexedDB.open(oc,1);return new Promise((f,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(Ts,{keyPath:ra})}catch(K){_(K)}}),C.addEventListener("success",(0,l.A)(function*(){const A=C.result;A.objectStoreNames.contains(Ts)?f(A):(A.close(),yield function Fc(){const C=indexedDB.deleteDatabase(oc);return new ao(C).toPromise()}(),f(yield Ko()))}))})}function Ga(C,f,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,l.A)(function*(C,f,_){const A=uo(C,!0).put({[ra]:f,value:_});return new ao(A).toPromise()})).apply(this,arguments)}function Mu(){return(Mu=(0,l.A)(function*(C,f){const _=uo(C,!1).get(f),A=yield new ao(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function qo(C,f){const _=uo(C,!0).delete(f);return new ao(_).toPromise()}const O=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.A)(function*(){return _.db||(_.db=yield Ko()),_.db})()}_withRetries(_){var A=this;return(0,l.A)(function*(){let K=0;for(;;)try{const ae=yield A._openDb();return yield _(ae)}catch(ae){if(K++>3)throw ae;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.A)(function*(){return eo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.A)(function*(){_.receiver=Nc._getInstance(function kc(){return eo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,l.A)(function*(K,ae){return{keyProcessed:(yield _._poll()).includes(ae.key)}});return function(K,ae){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,l.A)(function*(K,ae){return["keyChanged"]});return function(K,ae){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.A)(function*(){var A,K;if(_.activeServiceWorker=yield function oo(){return Wa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new bs(_.activeServiceWorker);const ae=yield _.sender._send("ping",{},800);ae&&null!==(A=ae[0])&&void 0!==A&&A.fulfilled&&null!==(K=ae[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,l.A)(function*(){if(A.sender&&A.activeServiceWorker&&function Rl(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const _=yield Ko();return yield Ga(_,Oc,"1"),yield qo(_,Oc),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,l.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,l.A)(function*(){return K._withPendingWrite((0,l.A)(function*(){return yield K._withRetries(ae=>Ga(ae,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,l.A)(function*(){const K=yield A._withRetries(ae=>function Ml(C,f){return Mu.apply(this,arguments)}(ae,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,l.A)(function*(){return A._withPendingWrite((0,l.A)(function*(){return yield A._withRetries(K=>qo(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.A)(function*(){const A=yield _._withRetries(ke=>{const st=uo(ke,!1).getAll();return new ao(st).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],ae=new Set;if(0!==A.length)for(const{fbase_key:ke,value:st}of A)ae.add(ke),JSON.stringify(_.localCache[ke])!==JSON.stringify(st)&&(_.notifyListeners(ke,st),K.push(ke));for(const ke of Object.keys(_.localCache))_.localCache[ke]&&!ae.has(ke)&&(_.notifyListeners(ke,null),K.push(ke));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const ae of Array.from(K))ae(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),an=1e12;class sr{constructor(f){this.auth=f,this.counter=an,this._widgets=new Map}render(f,_){const A=this.counter;return this._widgets.set(A,new _r(f,this.auth.name,_||{})),this.counter++,A}reset(f){var _;const A=f||an;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(f){var _;return(null===(_=this._widgets.get(f||an))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,l.A)(function*(){var A;return null===(A=_._widgets.get(f||an))||void 0===A||A.execute(),""})()}}class _r{constructor(f,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof f?document.getElementById(f):f;Ce(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ir(C){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qr=Di("rcb"),Ka=new pe(3e4,6e4);class qa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Fi().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return Ce(function Qa(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&On(Fi().grecaptcha)?Promise.resolve(Fi().grecaptcha):new Promise((A,K)=>{const ae=Fi().setTimeout(()=>{K(Ye(f,"network-request-failed"))},Ka.get());Fi()[qr]=()=>{Fi().clearTimeout(ae),delete Fi()[qr];const st=Fi().grecaptcha;if(!st||!On(st))return void K(Ye(f,"internal-error"));const xt=st.render;st.render=(vn,Ln)=>{const Vr=xt(vn,Ln);return this.counter++,Vr},this.hostLanguage=_,A(st)},ri(`${function jo(){return ei.recaptchaV2Script}()}?${(0,m.Am)({onload:qr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ae),K(Ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=Fi().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class to{load(f){return(0,l.A)(function*(){return new sr(f)})()}clearedOneInstance(){}}const ia="recaptcha",Bf={theme:"light",type:"image"};class Da{constructor(f,_,A=Object.assign({},Bf)){this.parameters=A,this.type=ia,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(f),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;Ce(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new to:new qa,this.validateStartingState()}verify(){var f=this;return(0,l.A)(function*(){f.assertNotDestroyed();const _=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(_)||new Promise(ae=>{const ke=st=>{st&&(f.tokenChangeListeners.delete(ke),ae(st))};f.tokenChangeListeners.add(ke),f.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof f)f(_);else if("string"==typeof f){const A=Fi()[f];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.A)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.A)(function*(){Ce(vt()&&!eo(),f.auth,"internal-error"),yield function Xa(){let C=null;return new Promise(f=>{"complete"!==document.readyState?(C=()=>f(),window.addEventListener("load",C)):f()}).catch(f=>{throw C&&window.removeEventListener("load",C),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Ur(C){return nn.apply(this,arguments)}(f.auth);Ce(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bd{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=Br._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Ol(C,f,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.A)(function*(C,f,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A=lr(C),K=yield Ya(A,f,(0,m.Ku)(_));return new Bd(K,ae=>Ao(A,ae))})).apply(this,arguments)}function ma(C,f,_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);yield Oe(!1,A,"phone");const K=yield Ya(A.auth,f,(0,m.Ku)(_));return new Bd(K,ae=>$s(A,ae))})).apply(this,arguments)}function Lc(C,f,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);if((0,de._isFirebaseServerApp)(A.auth.app))return Promise.reject(qe(A.auth));const K=yield Ya(A.auth,f,(0,m.Ku)(_));return new Bd(K,ae=>Dl(A,ae))})).apply(this,arguments)}function Ya(C,f,_){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,l.A)(function*(C,f,_){var A;const K=yield _.verify();try{let ae;if(Ce("string"==typeof K,C,"argument-error"),Ce(_.type===ia,C,"argument-error"),ae="string"==typeof f?{phoneNumber:f}:f,"session"in ae){const ke=ae.session;if("phoneNumber"in ae)return Ce("enroll"===ke.type,C,"internal-error"),(yield function Sl(C,f){return Fe(C,"POST","/v2/accounts/mfaEnrollment:start",we(C,f))}(C,{idToken:ke.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Ce("signin"===ke.type,C,"internal-error");const st=(null===(A=ae.multiFactorHint)||void 0===A?void 0:A.uid)||ae.multiFactorUid;return Ce(st,C,"missing-multi-factor-info"),(yield function $(C,f){return Fe(C,"POST","/v2/accounts/mfaSignIn:start",we(C,f))}(C,{mfaPendingCredential:ke.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ke}=yield function He(C,f){return dt.apply(this,arguments)}(C,{phoneNumber:ae.phoneNumber,recaptchaToken:K});return ke}}finally{_._reset()}}),Ja.apply(this,arguments)}function Ou(C,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.A)(function*(C,f){const _=(0,m.Ku)(C);if((0,de._isFirebaseServerApp)(_.auth.app))return Promise.reject(qe(_.auth));yield x(_,f)})).apply(this,arguments)}let $f=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=lr(_)}verifyPhoneNumber(_,A){return Ya(this.auth,_,(0,m.Ku)(A))}static credential(_,A){return Br._fromVerification(_,A)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?Br._fromTokenResponse(A,K):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function sa(C,f){return f?ht(f):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class xl extends ds{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Y(f,this._buildIdpRequest())}_linkToIdToken(f,_){return Y(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return Y(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Nl(C){return hs(C.auth,new xl(C),C.bypassAuthState)}function kl(C){const{auth:f,user:_}=C;return Ce(_,f,"internal-error"),Nn(_,new xl(C),C.bypassAuthState)}function ig(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.A)(function*(C){const{auth:f,user:_}=C;return Ce(_,f,"internal-error"),x(_,new xl(C),C.bypassAuthState)})).apply(this,arguments)}class eu{constructor(f,_,A,K,ae=!1){this.auth=f,this.resolver=A,this.user=K,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,l.A)(function*(A,K){f.pendingPromise={resolve:A,reject:K};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ae){f.reject(ae)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,l.A)(function*(){const{urlResponse:A,sessionId:K,postBody:ae,tenantId:ke,error:st,type:xt}=f;if(st)return void _.reject(st);const vn={auth:_.auth,requestUri:A,sessionId:K,tenantId:ke||void 0,postBody:ae||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(xt)(vn))}catch(Ln){_.reject(Ln)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return ig;case"reauthViaPopup":case"reauthViaRedirect":return kl;default:Le(this.auth,"internal-error")}}resolve(f){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fl=new pe(2e3,1e4);function tu(C,f,_){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.A)(function*(C,f,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(Ye(C,"operation-not-supported-in-this-environment"));const A=lr(C);ft(C,f,ir);const K=sa(A,_);return new ws(A,"signInViaPopup",f,K).executeNotNull()})).apply(this,arguments)}function xu(C,f,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);if((0,de._isFirebaseServerApp)(A.auth.app))return Promise.reject(Ye(A.auth,"operation-not-supported-in-this-environment"));ft(A.auth,f,ir);const K=sa(A.auth,_);return new ws(A.auth,"reauthViaPopup",f,K,A).executeNotNull()})).apply(this,arguments)}function jf(C,f,_){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);ft(A.auth,f,ir);const K=sa(A.auth,_);return new ws(A.auth,"linkViaPopup",f,K,A).executeNotNull()})).apply(this,arguments)}let ws=(()=>{class C extends eu{constructor(_,A,K,ae,ke){super(_,A,ae,ke),this.provider=K,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.A)(function*(){const A=yield _.execute();return Ce(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,l.A)(function*(){Yt(1===_.filter.length,"Popup operations only handle one event");const A=za();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(Ye(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Fl.get())};_()}}return C.currentPopupAction=null,C})();const Vh="pendingRedirect",Ws=new Map;class Vl extends eu{constructor(f,_,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,l.A)(function*(){let A=Ws.get(_.auth._key());if(!A){try{const ae=(yield function Bc(C,f){return Oo.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;A=()=>Promise.resolve(ae)}catch(K){A=()=>Promise.reject(K)}Ws.set(_.auth._key(),A)}return _.bypassAuthState||Ws.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,A=this;return(0,l.A)(function*(){if("signInViaRedirect"===f.type)return _().call(A,f);if("unknown"!==f.type){if(f.eventId){const K=yield A.auth._redirectUserForId(f.eventId);if(K)return A.user=K,_().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function Oo(){return(Oo=(0,l.A)(function*(C,f){const _=Ll(f),A=nu(C);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function ya(C,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.A)(function*(C,f){return nu(C)._set(Ll(f),"true")})).apply(this,arguments)}function yo(){Ws.clear()}function Lh(C,f){Ws.set(C._key(),f)}function nu(C){return ht(C._redirectPersistence)}function Ll(C){return Gt(Vh,C.config.apiKey,C.name)}function Sa(C,f,_){return function $d(C,f,_){return Pa.apply(this,arguments)}(C,f,_)}function Pa(){return(Pa=(0,l.A)(function*(C,f,_){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A=lr(C);ft(C,f,ir),yield A._initializationPromise;const K=sa(A,_);return yield ya(K,A),K._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function $c(C,f,_){return function va(C,f,_){return Ul.apply(this,arguments)}(C,f,_)}function Ul(){return(Ul=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);if(ft(A.auth,f,ir),(0,de._isFirebaseServerApp)(A.auth.app))return Promise.reject(qe(A.auth));yield A.auth._initializationPromise;const K=sa(A.auth,_);yield ya(K,A.auth);const ae=yield Ea(A);return K._openRedirect(A.auth,f,"reauthViaRedirect",ae)})).apply(this,arguments)}function Uh(C,f,_){return function jc(C,f,_){return ru.apply(this,arguments)}(C,f,_)}function ru(){return(ru=(0,l.A)(function*(C,f,_){const A=(0,m.Ku)(C);ft(A.auth,f,ir),yield A.auth._initializationPromise;const K=sa(A.auth,_);yield Oe(!1,A,f.providerId),yield ya(K,A.auth);const ae=yield Ea(A);return K._openRedirect(A.auth,f,"linkViaRedirect",ae)})).apply(this,arguments)}function Hf(C,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.A)(function*(C,f){return yield lr(C)._initializationPromise,jd(C,f,!1)})).apply(this,arguments)}function jd(C,f){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.A)(function*(C,f,_=!1){if((0,de._isFirebaseServerApp)(C.app))return Promise.reject(qe(C));const A=lr(C),K=sa(A,f),ke=yield new Vl(A,K,_).execute();return ke&&!_&&(delete ke.user._redirectEventId,yield A._persistUserIfCurrent(ke.user),yield A._setRedirectUser(null,f)),ke})).apply(this,arguments)}function Ea(C){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.A)(function*(C){const f=za(`${C.uid}:::`);return C._redirectEventId=f,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),f})).apply(this,arguments)}class zc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(_=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Vu(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gs(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var A;if(f.error&&!Gs(f)){const K=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(Ye(this.auth,K))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const A=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fu(f))}saveEventToCache(f){this.cachedEventUids.add(Fu(f)),this.lastProcessedEventTime=Date.now()}}function Fu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function Gs({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===f?.code}function zd(C){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.A)(function*(C,f={}){return Fe(C,"GET","/v1/projects",f)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sg=/^https?/;function Wd(){return(Wd=(0,l.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield zd(C);for(const _ of f)try{if(og(_))return}catch{}Le(C,"unauthorized-domain")})).apply(this,arguments)}function og(C){const f=Wn(),{protocol:_,hostname:A}=new URL(f);if(C.startsWith("chrome-extension://")){const ke=new URL(C);return""===ke.hostname&&""===A?"chrome-extension:"===_&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&ke.hostname===A}if(!sg.test(_))return!1;if($i.test(C))return A===C;const K=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const Wf=new pe(3e4,6e4);function Bl(){const C=Fi().___jsl;if(C?.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let uc=null;const Bh=new pe(5e3,15e3),$l="__/auth/iframe",us="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(C){const f=C.config;Ce(f.authDomain,C,"auth-domain-config-required");const _=f.emulator?ue(f,us):`https://${C.config.authDomain}/${$l}`,A={apiKey:f.apiKey,appName:C.name,v:de.SDK_VERSION},K=Ra.get(C.config.apiHost);K&&(A.eid=K);const ae=C._getFrameworks();return ae.length&&(A.fw=ae.join(",")),`${_}?${(0,m.Am)(A).slice(1)}`}function oa(){return oa=(0,l.A)(function*(C){const f=yield function cc(C){return uc=uc||function Gd(C){return new Promise((f,_)=>{var A,K,ae;function ke(){Bl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bl(),_(Ye(C,"network-request-failed"))},timeout:Wf.get()})}if(null!==(K=null===(A=Fi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)f(gapi.iframes.getContext());else{if(null===(ae=Fi().gapi)||void 0===ae||!ae.load){const st=Di("iframefcb");return Fi()[st]=()=>{gapi.load?ke():_(Ye(C,"network-request-failed"))},ri(`${function _i(){return ei.gapiScript}()}?onload=${st}`).catch(xt=>_(xt))}ke()}}).catch(f=>{throw uc=null,f})}(C),uc}(C),_=Fi().gapi;return Ce(_,C,"internal-error"),f.open({where:document.body,url:jl(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},A=>new Promise(function(){var K=(0,l.A)(function*(ae,ke){yield A.restyle({setHideOnLeave:!1});const st=Ye(C,"network-request-failed"),xt=Fi().setTimeout(()=>{ke(st)},Bh.get());function vn(){Fi().clearTimeout(xt),ae(A)}A.ping(vn).then(vn,()=>{ke(st)})});return function(ae,ke){return K.apply(this,arguments)}}()))}),oa.apply(this,arguments)}const Hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $h{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zl="__/auth/handler",Lu="emulator/auth/handler",hc=encodeURIComponent("fac");function Ma(C,f,_,A,K,ae){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.A)(function*(C,f,_,A,K,ae){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const ke={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:A,v:de.SDK_VERSION,eventId:K};if(f instanceof ir){f.setDefaultLanguage(C.languageCode),ke.providerId=f.providerId||"",(0,m.Im)(f.getCustomParameters())||(ke.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ln,Vr]of Object.entries(ae||{}))ke[Ln]=Vr}if(f instanceof li){const Ln=f.getScopes().filter(Vr=>""!==Vr);Ln.length>0&&(ke.scopes=Ln.join(","))}C.tenantId&&(ke.tid=C.tenantId);const st=ke;for(const Ln of Object.keys(st))void 0===st[Ln]&&delete st[Ln];const xt=yield C._getAppCheckToken(),vn=xt?`#${hc}=${encodeURIComponent(xt)}`:"";return`${function Wl({config:C}){return C.emulator?ue(C,Lu):`https://${C.authDomain}/${zl}`}(C)}?${(0,m.Am)(st).slice(1)}${vn}`})).apply(this,arguments)}const Gl="webStorageSupport",Kd=class jh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ot,this._completeRedirectFn=jd,this._overrideRedirectResult=Lh}_openPopup(f,_,A,K){var ae=this;return(0,l.A)(function*(){var ke;Yt(null===(ke=ae.eventManagers[f._key()])||void 0===ke?void 0:ke.manager,"_initialize() not called before _openPopup()");const st=yield Ma(f,_,A,Wn(),K);return function Kf(C,f,_,A=500,K=600){const ae=Math.max((window.screen.availHeight-K)/2,0).toString(),ke=Math.max((window.screen.availWidth-A)/2,0).toString();let st="";const xt=Object.assign(Object.assign({},Hl),{width:A.toString(),height:K.toString(),top:ae,left:ke}),vn=(0,m.ZQ)().toLowerCase();_&&(st=xr(vn)?"_blank":_),_n(vn)&&(f=f||"http://localhost",xt.scrollbars="yes");const Ln=Object.entries(xt).reduce((ko,[ou,au])=>`${ko}${ou}=${au},`,"");if(function nt(C=(0,m.ZQ)()){var f;return Zr(C)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(vn)&&"_self"!==st)return function No(C,f){const _=document.createElement("a");_.href=C,_.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(f||"",st),new $h(null);const Vr=window.open(f||"",st,Ln);Ce(Vr,C,"popup-blocked");try{Vr.focus()}catch{}return new $h(Vr)}(f,st,za())})()}_openRedirect(f,_,A,K){var ae=this;return(0,l.A)(function*(){return yield ae._originValidation(f),function Ru(C){Fi().location.href=C}(yield Ma(f,_,A,Wn(),K)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:K,promise:ae}=this.eventManagers[_];return K?Promise.resolve(K):(Yt(ae,"If manager is not set, promise should be"),ae)}const A=this.initAndGetManager(f);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(f){var _=this;return(0,l.A)(function*(){const A=yield function co(C){return oa.apply(this,arguments)}(f),K=new zc(f);return A.register("authEvent",ae=>(Ce(ae?.authEvent,f,"invalid-auth-event"),{status:K.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:K},_.iframes[f._key()]=A,K})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Gl,{type:Gl},K=>{var ae;const ke=null===(ae=K?.[0])||void 0===ae?void 0:ae[Gl];void 0!==ke&&_(!!ke),Le(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zf(C){return Wd.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return _t()||si()||Zr()}};class qd{constructor(f){this.factorId=f}_process(f,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,A);case"signin":return this._finalizeSignIn(f,_.credential);default:return $t("unexpected MultiFactorSessionType")}}}class Uu extends qd{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Uu(f)}_finalizeEnroll(f,_,A){return function Vd(C,f){return Fe(C,"POST","/v2/accounts/mfaEnrollment:finalize",we(C,f))}(f,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function re(C,f){return Fe(C,"POST","/v2/accounts/mfaSignIn:finalize",we(C,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class C{constructor(){}static assertion(_){return Uu._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var qc="@firebase/auth";class fc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,l.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(A=>{f(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,m.XA)("authIdTokenMaxAge"),function vs(C){ei=C}({loadJS:C=>new Promise((f,_)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=f,A.onerror=K=>{const ae=Ye("internal-error");ae.customData=K,_(ae)},A.type="text/javascript",A.charset="UTF-8",function Yd(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ql(C){(0,de._registerComponent)(new Pe.uA("auth",(f,{options:_})=>{const A=f.getProvider("app").getImmediate(),K=f.getProvider("heartbeat"),ae=f.getProvider("app-check-internal"),{apiKey:ke,authDomain:st}=A.options;Ce(ke&&!ke.includes(":"),"invalid-api-key",{appName:A.name});const xt={apiKey:ke,authDomain:st,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(C)},vn=new oi(A,K,ae,xt);return function ca(C,f){const _=f?.persistence||[],A=(Array.isArray(_)?_:[_]).map(ht);f?.errorMap&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(A,f?.popupRedirectResolver)}(vn,_),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,A)=>{f.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new Pe.uA("auth-internal",f=>{const _=lr(f.getProvider("auth").getImmediate());return new fc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(qc,"1.7.4",function Yo(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,de.registerVersion)(qc,"1.7.4","esm2017")}("Browser")},9583:(en,Qe,B)=>{B.d(Qe,{fS:()=>Ym,Ix:()=>ol,H6:()=>pd,T1:()=>Ds,Wq:()=>bd,uY:()=>vc,W6:()=>ue,Ci:()=>Ng,YQ:()=>Lp,NJ:()=>ll,Dc:()=>Vt,GA:()=>wd,cm:()=>Fn,K$:()=>Rt,FA:()=>$n,lo:()=>wr,bI:()=>Ft,qG:()=>Ho,qi:()=>Yt,c8:()=>yf,gS:()=>n_,C3:()=>Bp,hq:()=>Af,me:()=>xg,rJ:()=>Lm,Cs:()=>wp,vN:()=>Tp,kd:()=>_u,CL:()=>u_,LA:()=>$m,H9:()=>z_,ol:()=>Pp,Q5:()=>Qu,Os:()=>G_,FD:()=>ny,rf:()=>qm,Ws:()=>cs,z6:()=>gs,x7:()=>t_,nY:()=>Hg,_e:()=>dl,GG:()=>Up,kU:()=>iy,Rr:()=>sy,aU:()=>Dp,GV:()=>c_,AB:()=>ty,$1:()=>Np,po:()=>K_,St:()=>q_,aQ:()=>ay,FC:()=>hv,My:()=>Km,P:()=>Gm,B:()=>Mg,yx:()=>Rg,c4:()=>a_,O5:()=>Kg,BN:()=>oy,He:()=>Dt,lN:()=>mu,HM:()=>Tf,EO:()=>Ch,mZ:()=>zg,iB:()=>W_,_M:()=>Lg});var Ve,je,l=B(467),de=B(7852),m=B(1362),De=B(8041),Ee=B(1076),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(E,d,g){g||(g=0);var D=Array(16);if("string"==typeof d)for(var L=0;16>L;++L)D[L]=d.charCodeAt(g++)|d.charCodeAt(g++)<<8|d.charCodeAt(g++)<<16|d.charCodeAt(g++)<<24;else for(L=0;16>L;++L)D[L]=d[g++]|d[g++]<<8|d[g++]<<16|d[g++]<<24;var Z=E.g[3],J=(d=E.g[0])+(Z^(g=E.g[1])&((L=E.g[2])^Z))+D[0]+3614090360&4294967295;J=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=(g=(L=(Z=(d=g+(J<<7&4294967295|J>>>25))+((J=Z+(L^d&(g^L))+D[1]+3905402710&4294967295)<<12&4294967295|J>>>20))+((J=L+(g^Z&(d^g))+D[2]+606105819&4294967295)<<17&4294967295|J>>>15))+((J=g+(d^L&(Z^d))+D[3]+3250441966&4294967295)<<22&4294967295|J>>>10))+((J=d+(Z^g&(L^Z))+D[4]+4118548399&4294967295)<<7&4294967295|J>>>25))+((J=Z+(L^d&(g^L))+D[5]+1200080426&4294967295)<<12&4294967295|J>>>20))+((J=L+(g^Z&(d^g))+D[6]+2821735955&4294967295)<<17&4294967295|J>>>15))+((J=g+(d^L&(Z^d))+D[7]+4249261313&4294967295)<<22&4294967295|J>>>10))+((J=d+(Z^g&(L^Z))+D[8]+1770035416&4294967295)<<7&4294967295|J>>>25))+((J=Z+(L^d&(g^L))+D[9]+2336552879&4294967295)<<12&4294967295|J>>>20))+((J=L+(g^Z&(d^g))+D[10]+4294925233&4294967295)<<17&4294967295|J>>>15))+((J=g+(d^L&(Z^d))+D[11]+2304563134&4294967295)<<22&4294967295|J>>>10))+((J=d+(Z^g&(L^Z))+D[12]+1804603682&4294967295)<<7&4294967295|J>>>25))+((J=Z+(L^d&(g^L))+D[13]+4254626195&4294967295)<<12&4294967295|J>>>20))+((J=L+(g^Z&(d^g))+D[14]+2792965006&4294967295)<<17&4294967295|J>>>15))+((J=g+(d^L&(Z^d))+D[15]+1236535329&4294967295)<<22&4294967295|J>>>10))+((J=d+(L^Z&(g^L))+D[1]+4129170786&4294967295)<<5&4294967295|J>>>27))+((J=Z+(g^L&(d^g))+D[6]+3225465664&4294967295)<<9&4294967295|J>>>23))+((J=L+(d^g&(Z^d))+D[11]+643717713&4294967295)<<14&4294967295|J>>>18))+((J=g+(Z^d&(L^Z))+D[0]+3921069994&4294967295)<<20&4294967295|J>>>12))+((J=d+(L^Z&(g^L))+D[5]+3593408605&4294967295)<<5&4294967295|J>>>27))+((J=Z+(g^L&(d^g))+D[10]+38016083&4294967295)<<9&4294967295|J>>>23))+((J=L+(d^g&(Z^d))+D[15]+3634488961&4294967295)<<14&4294967295|J>>>18))+((J=g+(Z^d&(L^Z))+D[4]+3889429448&4294967295)<<20&4294967295|J>>>12))+((J=d+(L^Z&(g^L))+D[9]+568446438&4294967295)<<5&4294967295|J>>>27))+((J=Z+(g^L&(d^g))+D[14]+3275163606&4294967295)<<9&4294967295|J>>>23))+((J=L+(d^g&(Z^d))+D[3]+4107603335&4294967295)<<14&4294967295|J>>>18))+((J=g+(Z^d&(L^Z))+D[8]+1163531501&4294967295)<<20&4294967295|J>>>12))+((J=d+(L^Z&(g^L))+D[13]+2850285829&4294967295)<<5&4294967295|J>>>27))+((J=Z+(g^L&(d^g))+D[2]+4243563512&4294967295)<<9&4294967295|J>>>23))+((J=L+(d^g&(Z^d))+D[7]+1735328473&4294967295)<<14&4294967295|J>>>18))+((J=g+(Z^d&(L^Z))+D[12]+2368359562&4294967295)<<20&4294967295|J>>>12))+((J=d+(g^L^Z)+D[5]+4294588738&4294967295)<<4&4294967295|J>>>28))+((J=Z+(d^g^L)+D[8]+2272392833&4294967295)<<11&4294967295|J>>>21))+((J=L+(Z^d^g)+D[11]+1839030562&4294967295)<<16&4294967295|J>>>16))+((J=g+(L^Z^d)+D[14]+4259657740&4294967295)<<23&4294967295|J>>>9))+((J=d+(g^L^Z)+D[1]+2763975236&4294967295)<<4&4294967295|J>>>28))+((J=Z+(d^g^L)+D[4]+1272893353&4294967295)<<11&4294967295|J>>>21))+((J=L+(Z^d^g)+D[7]+4139469664&4294967295)<<16&4294967295|J>>>16))+((J=g+(L^Z^d)+D[10]+3200236656&4294967295)<<23&4294967295|J>>>9))+((J=d+(g^L^Z)+D[13]+681279174&4294967295)<<4&4294967295|J>>>28))+((J=Z+(d^g^L)+D[0]+3936430074&4294967295)<<11&4294967295|J>>>21))+((J=L+(Z^d^g)+D[3]+3572445317&4294967295)<<16&4294967295|J>>>16))+((J=g+(L^Z^d)+D[6]+76029189&4294967295)<<23&4294967295|J>>>9))+((J=d+(g^L^Z)+D[9]+3654602809&4294967295)<<4&4294967295|J>>>28))+((J=Z+(d^g^L)+D[12]+3873151461&4294967295)<<11&4294967295|J>>>21))+((J=L+(Z^d^g)+D[15]+530742520&4294967295)<<16&4294967295|J>>>16))+((J=g+(L^Z^d)+D[2]+3299628645&4294967295)<<23&4294967295|J>>>9))+((J=d+(L^(g|~Z))+D[0]+4096336452&4294967295)<<6&4294967295|J>>>26))+((J=Z+(g^(d|~L))+D[7]+1126891415&4294967295)<<10&4294967295|J>>>22))+((J=L+(d^(Z|~g))+D[14]+2878612391&4294967295)<<15&4294967295|J>>>17))+((J=g+(Z^(L|~d))+D[5]+4237533241&4294967295)<<21&4294967295|J>>>11))+((J=d+(L^(g|~Z))+D[12]+1700485571&4294967295)<<6&4294967295|J>>>26))+((J=Z+(g^(d|~L))+D[3]+2399980690&4294967295)<<10&4294967295|J>>>22))+((J=L+(d^(Z|~g))+D[10]+4293915773&4294967295)<<15&4294967295|J>>>17))+((J=g+(Z^(L|~d))+D[1]+2240044497&4294967295)<<21&4294967295|J>>>11))+((J=d+(L^(g|~Z))+D[8]+1873313359&4294967295)<<6&4294967295|J>>>26))+((J=Z+(g^(d|~L))+D[15]+4264355552&4294967295)<<10&4294967295|J>>>22))+((J=L+(d^(Z|~g))+D[6]+2734768916&4294967295)<<15&4294967295|J>>>17))+((J=g+(Z^(L|~d))+D[13]+1309151649&4294967295)<<21&4294967295|J>>>11))+((Z=(d=g+((J=d+(L^(g|~Z))+D[4]+4149444226&4294967295)<<6&4294967295|J>>>26))+((J=Z+(g^(d|~L))+D[11]+3174756917&4294967295)<<10&4294967295|J>>>22))^((L=Z+((J=L+(d^(Z|~g))+D[2]+718787259&4294967295)<<15&4294967295|J>>>17))|~d))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+d&4294967295,E.g[1]=E.g[1]+(L+(J<<21&4294967295|J>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+Z&4294967295}function v(E,d){this.h=d;for(var g=[],D=!0,L=E.length-1;0<=L;L--){var Z=0|E[L];D&&Z==d||(g[L]=Z,D=!1)}this.g=g}(function e(E,d){function g(){}g.prototype=d.prototype,E.D=d.prototype,E.prototype=new g,E.prototype.constructor=E,E.C=function(D,L,Z){for(var J=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)J[ut-2]=arguments[ut];return d.prototype[L].apply(D,J)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(E,d){void 0===d&&(d=E.length);for(var g=d-this.blockSize,D=this.B,L=this.h,Z=0;Z<d;){if(0==L)for(;Z<=g;)u(this,E,Z),Z+=this.blockSize;if("string"==typeof E){for(;Z<d;)if(D[L++]=E.charCodeAt(Z++),L==this.blockSize){u(this,D),L=0;break}}else for(;Z<d;)if(D[L++]=E[Z++],L==this.blockSize){u(this,D),L=0;break}}this.h=L,this.o+=d},s.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var d=1;d<E.length-8;++d)E[d]=0;var g=8*this.o;for(d=E.length-8;d<E.length;++d)E[d]=255&g,g/=256;for(this.u(E),E=Array(16),d=g=0;4>d;++d)for(var D=0;32>D;D+=8)E[g++]=this.g[d]>>>D&255;return E};var P={};function N(E){return-128<=E&&128>E?function p(E,d){var g=P;return Object.prototype.hasOwnProperty.call(g,E)?g[E]:g[E]=d(E)}(E,function(d){return new v([0|d],0>d?-1:0)}):new v([0|E],0>E?-1:0)}function W(E){if(isNaN(E)||!isFinite(E))return _e;if(0>E)return Ut(W(-E));for(var d=[],g=1,D=0;E>=g;D++)d[D]=E/g|0,g*=4294967296;return new v(d,0)}var _e=N(0),xe=N(1),et=N(16777216);function Mt(E){if(0!=E.h)return!1;for(var d=0;d<E.g.length;d++)if(0!=E.g[d])return!1;return!0}function Wt(E){return-1==E.h}function Ut(E){for(var d=E.g.length,g=[],D=0;D<d;D++)g[D]=~E.g[D];return new v(g,~E.h).add(xe)}function An(E,d){return E.add(Ut(d))}function jn(E,d){for(;(65535&E[d])!=E[d];)E[d+1]+=E[d]>>>16,E[d]&=65535,d++}function Rn(E,d){this.g=E,this.h=d}function Cr(E,d){if(Mt(d))throw Error("division by zero");if(Mt(E))return new Rn(_e,_e);if(Wt(E))return d=Cr(Ut(E),d),new Rn(Ut(d.g),Ut(d.h));if(Wt(d))return d=Cr(E,Ut(d)),new Rn(Ut(d.g),d.h);if(30<E.g.length){if(Wt(E)||Wt(d))throw Error("slowDivide_ only works with positive integers.");for(var g=xe,D=d;0>=D.l(E);)g=vi(g),D=vi(D);var L=Lr(g,1),Z=Lr(D,1);for(D=Lr(D,2),g=Lr(g,2);!Mt(D);){var J=Z.add(D);0>=J.l(E)&&(L=L.add(g),Z=J),D=Lr(D,1),g=Lr(g,1)}return d=An(E,L.j(d)),new Rn(L,d)}for(L=_e;0<=E.l(d);){for(g=Math.max(1,Math.floor(E.m()/d.m())),D=48>=(D=Math.ceil(Math.log(g)/Math.LN2))?1:Math.pow(2,D-48),J=(Z=W(g)).j(d);Wt(J)||0<J.l(E);)J=(Z=W(g-=D)).j(d);Mt(Z)&&(Z=xe),L=L.add(Z),E=An(E,J)}return new Rn(L,E)}function vi(E){for(var d=E.g.length+1,g=[],D=0;D<d;D++)g[D]=E.i(D)<<1|E.i(D-1)>>>31;return new v(g,E.h)}function Lr(E,d){var g=d>>5;d%=32;for(var D=E.g.length-g,L=[],Z=0;Z<D;Z++)L[Z]=0<d?E.i(Z+g)>>>d|E.i(Z+g+1)<<32-d:E.i(Z+g);return new v(L,E.h)}(a=v.prototype).m=function(){if(Wt(this))return-Ut(this).m();for(var E=0,d=1,g=0;g<this.g.length;g++){var D=this.i(g);E+=(0<=D?D:4294967296+D)*d,d*=4294967296}return E},a.toString=function(E){if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if(Mt(this))return"0";if(Wt(this))return"-"+Ut(this).toString(E);for(var d=W(Math.pow(E,6)),g=this,D="";;){var L=Cr(g,d).g,Z=((0<(g=An(g,L.j(d))).g.length?g.g[0]:g.h)>>>0).toString(E);if(Mt(g=L))return Z+D;for(;6>Z.length;)Z="0"+Z;D=Z+D}},a.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h},a.l=function(E){return Wt(E=An(this,E))?-1:Mt(E)?0:1},a.abs=function(){return Wt(this)?Ut(this):this},a.add=function(E){for(var d=Math.max(this.g.length,E.g.length),g=[],D=0,L=0;L<=d;L++){var Z=D+(65535&this.i(L))+(65535&E.i(L)),J=(Z>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);D=J>>>16,g[L]=(J&=65535)<<16|(Z&=65535)}return new v(g,-2147483648&g[g.length-1]?-1:0)},a.j=function(E){if(Mt(this)||Mt(E))return _e;if(Wt(this))return Wt(E)?Ut(this).j(Ut(E)):Ut(Ut(this).j(E));if(Wt(E))return Ut(this.j(Ut(E)));if(0>this.l(et)&&0>E.l(et))return W(this.m()*E.m());for(var d=this.g.length+E.g.length,g=[],D=0;D<2*d;D++)g[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<E.g.length;L++){var Z=this.i(D)>>>16,J=65535&this.i(D),ut=E.i(L)>>>16,gt=65535&E.i(L);g[2*D+2*L]+=J*gt,jn(g,2*D+2*L),g[2*D+2*L+1]+=Z*gt,jn(g,2*D+2*L+1),g[2*D+2*L+1]+=J*ut,jn(g,2*D+2*L+1),g[2*D+2*L+2]+=Z*ut,jn(g,2*D+2*L+2)}for(D=0;D<d;D++)g[D]=g[2*D+1]<<16|g[2*D];for(D=d;D<2*d;D++)g[D]=0;return new v(g,0)},a.A=function(E){return Cr(this,E).h},a.and=function(E){for(var d=Math.max(this.g.length,E.g.length),g=[],D=0;D<d;D++)g[D]=this.i(D)&E.i(D);return new v(g,this.h&E.h)},a.or=function(E){for(var d=Math.max(this.g.length,E.g.length),g=[],D=0;D<d;D++)g[D]=this.i(D)|E.i(D);return new v(g,this.h|E.h)},a.xor=function(E){for(var d=Math.max(this.g.length,E.g.length),g=[],D=0;D<d;D++)g[D]=this.i(D)^E.i(D);return new v(g,this.h^E.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,je=Ue.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=W,v.fromString=function ie(E,d){if(0==E.length)throw Error("number format error: empty string");if(2>(d=d||10)||36<d)throw Error("radix out of range: "+d);if("-"==E.charAt(0))return Ut(ie(E.substring(1),d));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=W(Math.pow(d,8)),D=_e,L=0;L<E.length;L+=8){var Z=Math.min(8,E.length-L),J=parseInt(E.substring(L,L+Z),d);8>Z?(Z=W(Math.pow(d,Z)),D=D.j(Z).add(W(J))):D=(D=D.j(g)).add(W(J))}return D},Ve=Ue.Integer=v}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});var Me,ct,Ke,It,pt,kt,Ct,on,We,ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,k,q){return y==Array.prototype||y==Object.prototype||(y[k]=q.value),y},s=function r(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ce&&ce];for(var k=0;k<y.length;++k){var q=y[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(y,k){if(k)e:{var q=s;y=y.split(".");for(var fe=0;fe<y.length-1;fe++){var Ze=y[fe];if(!(Ze in q))break e;q=q[Ze]}(k=k(fe=q[y=y[y.length-1]]))!=fe&&null!=k&&e(q,y,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(y){return y||function(){return function p(y,k){y instanceof String&&(y+="");var q=0,fe=!1,Ze={next:function(){if(!fe&&q<y.length){var yt=q++;return{value:k(yt,y[yt]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Ze[Symbol.iterator]=function(){return Ze},Ze}(this,function(k,q){return q})}});var v=v||{},P=this||self;function N(y){var k=typeof y;return"array"==(k="object"!=k?k:y?Array.isArray(y)?"array":k:"null")||"object"==k&&"number"==typeof y.length}function W(y){var k=typeof y;return"object"==k&&null!=y||"function"==k}function ie(y,k,q){return y.call.apply(y.bind,arguments)}function _e(y,k,q){if(!y)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ze,fe),y.apply(k,Ze)}}return function(){return y.apply(k,arguments)}}function xe(y,k,q){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:_e).apply(null,arguments)}function et(y,k){var q=Array.prototype.slice.call(arguments,1);return function(){var fe=q.slice();return fe.push.apply(fe,arguments),y.apply(this,fe)}}function Mt(y,k){function q(){}q.prototype=k.prototype,y.aa=k.prototype,y.prototype=new q,y.prototype.constructor=y,y.Qb=function(fe,Ze,yt){for(var dn=Array(arguments.length-2),Hi=2;Hi<arguments.length;Hi++)dn[Hi-2]=arguments[Hi];return k.prototype[Ze].apply(fe,dn)}}function Wt(y){const k=y.length;if(0<k){const q=Array(k);for(let fe=0;fe<k;fe++)q[fe]=y[fe];return q}return[]}function Ut(y,k){for(let q=1;q<arguments.length;q++){const fe=arguments[q];if(N(fe)){const Ze=y.length||0,yt=fe.length||0;y.length=Ze+yt;for(let dn=0;dn<yt;dn++)y[Ze+dn]=fe[dn]}else y.push(fe)}}function jn(y){return/^[\s\xa0]*$/.test(y)}function Rn(){var y=P.navigator;return y&&(y=y.userAgent)?y:""}function Cr(y){return Cr[" "](y),y}Cr[" "]=function(){};var vi=!(-1==Rn().indexOf("Gecko")||-1!=Rn().toLowerCase().indexOf("webkit")&&-1==Rn().indexOf("Edge")||-1!=Rn().indexOf("Trident")||-1!=Rn().indexOf("MSIE")||-1!=Rn().indexOf("Edge"));function Lr(y,k,q){for(const fe in y)k.call(q,y[fe],fe,y)}function d(y){const k={};for(const q in y)k[q]=y[q];return k}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(y,k){let q,fe;for(let Ze=1;Ze<arguments.length;Ze++){for(q in fe=arguments[Ze],fe)y[q]=fe[q];for(let yt=0;yt<g.length;yt++)q=g[yt],Object.prototype.hasOwnProperty.call(fe,q)&&(y[q]=fe[q])}}function L(y){var k=1;y=y.split(":");const q=[];for(;0<k&&y.length;)q.push(y.shift()),k--;return y.length&&q.push(y.join(":")),q}function Z(y){P.setTimeout(()=>{throw y},0)}function J(){var y=er;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}var gt=new class An{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new sn,y=>y.reset());class sn{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,Bn=!1,er=new class ut{constructor(){this.h=this.g=null}add(k,q){const fe=gt.get();fe.set(k,q),this.h?this.h.next=fe:this.g=fe,this.h=fe}},tr=()=>{const y=P.Promise.resolve(void 0);Ht=()=>{y.then(di)}};var di=()=>{for(var y;y=J();){try{y.h.call(y.g)}catch(q){Z(q)}var k=gt;k.j(y),100>k.h&&(k.h++,y.next=k.g,k.g=y)}Bn=!1};function En(){this.s=this.s,this.C=this.C}function In(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}En.prototype.s=!1,En.prototype.ma=function(){this.s||(this.s=!0,this.N())},En.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},In.prototype.h=function(){this.defaultPrevented=!0};var hi=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const q=()=>{};P.addEventListener("test",q,k),P.removeEventListener("test",q,k)}catch{}return y}();function Ti(y,k){if(In.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var q=this.type=y.type,fe=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget){if(vi){e:{try{Cr(k.nodeName);var Ze=!0;break e}catch{}Ze=!1}Ze||(k=null)}}else"mouseover"==q?k=y.fromElement:"mouseout"==q&&(k=y.toElement);this.relatedTarget=k,fe?(this.clientX=void 0!==fe.clientX?fe.clientX:fe.pageX,this.clientY=void 0!==fe.clientY?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:Qr[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Ti.aa.h.call(this)}}Mt(Ti,In);var Qr={2:"touch",3:"pen",4:"mouse"};Ti.prototype.h=function(){Ti.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var yr="closure_listenable_"+(1e6*Math.random()|0),fi=0;function gi(y,k,q,fe,Ze){this.listener=y,this.proxy=null,this.src=k,this.type=q,this.capture=!!fe,this.ha=Ze,this.key=++fi,this.da=this.fa=!1}function ji(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ss(y){this.src=y,this.g={},this.h=0}function Ls(y,k){var q=k.type;if(q in y.g){var yt,fe=y.g[q],Ze=Array.prototype.indexOf.call(fe,k,void 0);(yt=0<=Ze)&&Array.prototype.splice.call(fe,Ze,1),yt&&(ji(k),0==y.g[q].length&&(delete y.g[q],y.h--))}}function Ps(y,k,q,fe){for(var Ze=0;Ze<y.length;++Ze){var yt=y[Ze];if(!yt.da&&yt.listener==k&&yt.capture==!!q&&yt.ha==fe)return Ze}return-1}Ss.prototype.add=function(y,k,q,fe,Ze){var yt=y.toString();(y=this.g[yt])||(y=this.g[yt]=[],this.h++);var dn=Ps(y,k,fe,Ze);return-1<dn?(k=y[dn],q||(k.fa=!1)):((k=new gi(k,this.src,yt,!!fe,Ze)).fa=q,y.push(k)),k};var Li="closure_lm_"+(1e6*Math.random()|0),Vo={};function vo(y,k,q,fe,Ze){if(fe&&fe.once)return Lo(y,k,q,fe,Ze);if(Array.isArray(k)){for(var yt=0;yt<k.length;yt++)vo(y,k[yt],q,fe,Ze);return null}return q=pl(q),y&&y[yr]?y.K(k,q,W(fe)?!!fe.capture:!!fe,Ze):Yu(y,k,q,!1,fe,Ze)}function Yu(y,k,q,fe,Ze,yt){if(!k)throw Error("Invalid event type");var dn=W(Ze)?!!Ze.capture:!!Ze,Hi=Ad(y);if(Hi||(y[Li]=Hi=new Ss(y)),(q=Hi.add(k,q,fe,dn,yt)).proxy)return q;if(fe=function fl(){const k=jp;return function y(q){return k.call(y.src,y.listener,q)}}(),q.proxy=fe,fe.src=y,fe.listener=q,y.addEventListener)hi||(Ze=dn),void 0===Ze&&(Ze=!1),y.addEventListener(k.toString(),fe,Ze);else if(y.attachEvent)y.attachEvent(yu(k.toString()),fe);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(fe)}return q}function Lo(y,k,q,fe,Ze){if(Array.isArray(k)){for(var yt=0;yt<k.length;yt++)Lo(y,k[yt],q,fe,Ze);return null}return q=pl(q),y&&y[yr]?y.L(k,q,W(fe)?!!fe.capture:!!fe,Ze):Yu(y,k,q,!0,fe,Ze)}function aa(y,k,q,fe,Ze){if(Array.isArray(k))for(var yt=0;yt<k.length;yt++)aa(y,k[yt],q,fe,Ze);else fe=W(fe)?!!fe.capture:!!fe,q=pl(q),y&&y[yr]?(y=y.i,(k=String(k).toString())in y.g&&-1<(q=Ps(yt=y.g[k],q,fe,Ze))&&(ji(yt[q]),Array.prototype.splice.call(yt,q,1),0==yt.length&&(delete y.g[k],y.h--))):y&&(y=Ad(y))&&(k=y.g[k.toString()],y=-1,k&&(y=Ps(k,q,fe,Ze)),(q=-1<y?k[y]:null)&&Ju(q))}function Ju(y){if("number"!=typeof y&&y&&!y.da){var k=y.src;if(k&&k[yr])Ls(k.i,y);else{var q=y.type,fe=y.proxy;k.removeEventListener?k.removeEventListener(q,fe,y.capture):k.detachEvent?k.detachEvent(yu(q),fe):k.addListener&&k.removeListener&&k.removeListener(fe),(q=Ad(k))?(Ls(q,y),0==q.h&&(q.src=null,k[Li]=null)):ji(y)}}}function yu(y){return y in Vo?Vo[y]:Vo[y]="on"+y}function jp(y,k){if(y.da)y=!0;else{k=new Ti(k,this);var q=y.listener,fe=y.ha||y.src;y.fa&&Ju(y),y=q.call(fe,k)}return y}function Ad(y){return(y=y[Li])instanceof Ss?y:null}var Tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(y){return"function"==typeof y?y:(y[Tc]||(y[Tc]=function(k){return y.handleEvent(k)}),y[Tc])}function ms(){En.call(this),this.i=new Ss(this),this.M=this,this.F=null}function rs(y,k){var q,fe=y.F;if(fe)for(q=[];fe;fe=fe.F)q.push(fe);if(y=y.M,fe=k.type||k,"string"==typeof k)k=new In(k,y);else if(k instanceof In)k.target=k.target||y;else{var Ze=k;D(k=new In(fe,y),Ze)}if(Ze=!0,q)for(var yt=q.length-1;0<=yt;yt--){var dn=k.g=q[yt];Ze=Eo(dn,fe,!0,k)&&Ze}if(Ze=Eo(dn=k.g=y,fe,!0,k)&&Ze,Ze=Eo(dn,fe,!1,k)&&Ze,q)for(yt=0;yt<q.length;yt++)Ze=Eo(dn=k.g=q[yt],fe,!1,k)&&Ze}function Eo(y,k,q,fe){if(!(k=y.i.g[String(k)]))return!0;k=k.concat();for(var Ze=!0,yt=0;yt<k.length;++yt){var dn=k[yt];if(dn&&!dn.da&&dn.capture==q){var Hi=dn.listener,fo=dn.ha||dn.src;dn.fa&&Ls(y.i,dn),Ze=!1!==Hi.call(fo,fe)&&Ze}}return Ze&&!fe.defaultPrevented}function wh(y,k,q){if("function"==typeof y)q&&(y=xe(y,q));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=xe(y.handleEvent,y)}return 2147483647<Number(k)?-1:P.setTimeout(y,k||0)}function wc(y){y.g=wh(()=>{y.g=null,y.i&&(y.i=!1,wc(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}Mt(ms,En),ms.prototype[yr]=!0,ms.prototype.removeEventListener=function(y,k,q,fe){aa(this,y,k,q,fe)},ms.prototype.N=function(){if(ms.aa.N.call(this),this.i){var k,y=this.i;for(k in y.g){for(var q=y.g[k],fe=0;fe<q.length;fe++)ji(q[fe]);delete y.g[k],y.h--}}this.F=null},ms.prototype.K=function(y,k,q,fe){return this.i.add(String(y),k,!1,q,fe)},ms.prototype.L=function(y,k,q,fe){return this.i.add(String(y),k,!0,q,fe)};class Ah extends En{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dh(y){En.call(this),this.h=y,this.g={}}Mt(Dh,En);var Sh=[];function Qg(y){Lr(y.g,function(k,q){this.g.hasOwnProperty(q)&&Ju(k)},y),y.g={}}Dh.prototype.N=function(){Dh.aa.N.call(this),Qg(this)},Dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gl=P.JSON.stringify,Ph=P.JSON.parse,Xg=class{stringify(y){return P.JSON.stringify(y,void 0)}parse(y){return P.JSON.parse(y,void 0)}};function ml(){}function Jg(){}ml.prototype.h=null;var Dd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vu(){In.call(this,"d")}function Sd(){In.call(this,"c")}Mt(vu,In),Mt(Sd,In);var Ac={},Df=null;function _l(){return Df=Df||new ms}function yl(y){In.call(this,Ac.La,y)}function Pd(y){const k=_l();rs(k,new yl(k))}function Sf(y,k){In.call(this,Ac.STAT_EVENT,y),this.stat=k}function ho(y){const k=_l();rs(k,new Sf(k,y))}function yy(y,k){In.call(this,Ac.Ma,y),this.size=k}function Hp(y,k){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){y()},k)}function vl(){this.g=!0}function Pf(y,k,q,fe){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Iv(y,k){if(!y.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(y=0;y<q.length;y++)if(Array.isArray(q[y])){var fe=q[y];if(!(2>fe.length)){var Ze=fe[1];if(Array.isArray(Ze)&&!(1>Ze.length)){var yt=Ze[0];if("noop"!=yt&&"stop"!=yt&&"close"!=yt)for(var dn=1;dn<Ze.length;dn++)Ze[dn]=""}}}return gl(q)}catch{return k}}(y,q)+(fe?" "+fe:"")})}Ac.La="serverreachability",Mt(yl,In),Ac.STAT_EVENT="statevent",Mt(Sf,In),Ac.Ma="timingevent",Mt(yy,In),vl.prototype.xa=function(){this.g=!1},vl.prototype.info=function(){};var p_,Zg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function zp(){}function Dc(y,k,q,fe){this.j=y,this.i=k,this.l=q,this.R=fe||1,this.U=new Dh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ey}function Ey(){this.i=null,this.g="",this.h=!1}Mt(zp,ml),zp.prototype.g=function(){return new XMLHttpRequest},zp.prototype.i=function(){return{}},p_=new zp;var Wp={},g_={};function m_(y,k,q){y.L=1,y.v=Cl(Zu(k)),y.m=q,y.P=!0,Iy(y,null)}function Iy(y,k){y.F=Date.now(),em(y),y.A=Zu(y.v);var q=y.A,fe=y.R;Array.isArray(fe)||(fe=[String(fe)]),C_(q.i,"t",fe),y.C=0,q=y.j.J,y.h=new Ey,y.g=jy(y.j,q?k:null,!y.m),0<y.O&&(y.M=new Ah(xe(y.Y,y,y.g),y.O)),k=y.U,q=y.g,fe=y.ca;var Ze="readystatechange";Array.isArray(Ze)||(Ze&&(Sh[0]=Ze.toString()),Ze=Sh);for(var yt=0;yt<Ze.length;yt++){var dn=vo(q,Ze[yt],fe||k.handleEvent,!1,k.h||k);if(!dn)break;k.g[dn.key]=dn}k=y.H?d(y.H):{},y.m?(y.u||(y.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,k)):(y.u="GET",y.g.ea(y.A,y.u,null,k)),Pd(),function yv(y,k,q,fe,Ze,yt){y.info(function(){if(y.g)if(yt)for(var dn="",Hi=yt.split("&"),fo=0;fo<Hi.length;fo++){var Ei=Hi[fo].split("=");if(1<Ei.length){var Co=Ei[0];Ei=Ei[1];var Bo=Co.split("_");dn=2<=Bo.length&&"type"==Bo[1]?dn+(Co+"=")+Ei+"&":dn+(Co+"=redacted&")}}else dn=null;else dn=yt;return"XMLHTTP REQ ("+fe+") [attempt "+Ze+"]: "+k+"\n"+q+"\n"+dn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function Cy(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function Cv(y,k){var q=y.C,fe=k.indexOf("\n",q);return-1==fe?g_:(q=Number(k.substring(q,fe)),isNaN(q)?Wp:(fe+=1)+q>k.length?g_:(k=k.slice(fe,fe+q),y.C=fe+q,k))}function em(y){y.S=Date.now()+y.I,by(y,y.I)}function by(y,k){if(null!=y.B)throw Error("WatchDog timer not null");y.B=Hp(xe(y.ba,y),k)}function tm(y){y.B&&(P.clearTimeout(y.B),y.B=null)}function Rf(y){0==y.j.G||y.J||By(y.j,y)}function Rh(y){tm(y);var k=y.M;k&&"function"==typeof k.ma&&k.ma(),y.M=null,Qg(y.U),y.g&&(k=y.g,y.g=null,k.abort(),k.ma())}function Ty(y,k){try{var q=y.j;if(0!=q.G&&(q.g==y||y_(q.h,y)))if(!y.K&&y_(q.h,y)&&3==q.G){try{var fe=q.Da.g.parse(k)}catch{fe=null}if(Array.isArray(fe)&&3==fe.length){var Ze=fe;if(0==Ze[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<y.F))break e;cm(q),w_(q)}am(q),ho(18)}}else q.za=Ze[1],0<q.za-q.T&&37500>Ze[2]&&q.F&&0==q.v&&!q.C&&(q.C=Hp(xe(q.Za,q),6e3));if(1>=Gp(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Nd(q,11)}else if((y.K||q.g==y)&&cm(q),!jn(k))for(Ze=q.Da.g.parse(k),k=0;k<Ze.length;k++){let Ei=Ze[k];if(q.T=Ei[0],Ei=Ei[1],2==q.G)if("c"==Ei[0]){q.K=Ei[1],q.ia=Ei[2];const Co=Ei[3];null!=Co&&(q.la=Co,q.j.info("VER="+q.la));const Bo=Ei[4];null!=Bo&&(q.Aa=Bo,q.j.info("SVER="+q.Aa));const Vf=Ei[5];null!=Vf&&"number"==typeof Vf&&0<Vf&&(q.L=fe=1.5*Vf,q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=q;const Eu=y.g;if(Eu){const Zp=Eu.g?Eu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zp){var yt=fe.h;yt.g||-1==Zp.indexOf("spdy")&&-1==Zp.indexOf("quic")&&-1==Zp.indexOf("h2")||(yt.j=yt.l,yt.g=new Set,yt.h&&(v_(yt,yt.h),yt.h=null))}if(fe.D){const hm=Eu.g?Eu.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(fe.ya=hm,Oi(fe.I,fe.D,hm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-y.F,q.j.info("Handshake RTT: "+q.R+"ms"));var dn=y;if((fe=q).qa=dm(fe,fe.J?fe.ia:null,fe.W),dn.K){nm(fe.h,dn);var Hi=dn,fo=fe.L;fo&&(Hi.I=fo),Hi.B&&(tm(Hi),em(Hi)),fe.g=dn}else Uy(fe);0<q.i.length&&om(q)}else"stop"!=Ei[0]&&"close"!=Ei[0]||Nd(q,7);else 3==q.G&&("stop"==Ei[0]||"close"==Ei[0]?"stop"==Ei[0]?Nd(q,7):Nf(q):"noop"!=Ei[0]&&q.l&&q.l.ta(Ei),q.v=0)}Pd()}catch{}}function __(y){this.l=y||10,y=P.PerformanceNavigationTiming?0<(y=P.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bv(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Gp(y){return y.h?1:y.g?y.g.size:0}function y_(y,k){return y.h?y.h==k:!!y.g&&y.g.has(k)}function v_(y,k){y.g?y.g.add(k):y.h=k}function nm(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}function Ay(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let k=y.i;for(const q of y.g.values())k=k.concat(q.D);return k}return Wt(y.i)}function Uo(y,k){if(y.forEach&&"function"==typeof y.forEach)y.forEach(k,void 0);else if(N(y)||"string"==typeof y)Array.prototype.forEach.call(y,k,void 0);else for(var q=function Kp(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(N(y)||"string"==typeof y){var k=[];y=y.length;for(var q=0;q<y;q++)k.push(q);return k}k=[],q=0;for(const fe in y)k[q++]=fe;return k}}}(y),fe=function Sc(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(N(y)){for(var k=[],q=y.length,fe=0;fe<q;fe++)k.push(y[fe]);return k}for(fe in k=[],q=0,y)k[q++]=y[fe];return k}(y),Ze=fe.length,yt=0;yt<Ze;yt++)k.call(void 0,fe[yt],q&&q[yt],y)}Dc.prototype.ca=function(y){y=y.target;const k=this.M;k&&3==Tl(y)?k.j():this.Y(y)},Dc.prototype.Y=function(y){try{if(y==this.g)e:{const Bo=Tl(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Bo)&&(3!=Bo||this.g&&(this.h.h||this.g.oa()||ky(this.g)))){this.J||4!=Bo||7==k||Pd(),tm(this);var q=this.g.Z();this.X=q;t:if(Cy(this)){var fe=ky(this.g);y="";var Ze=fe.length,yt=4==Tl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rh(this),Rf(this);var dn="";break t}this.h.i=new P.TextDecoder}for(k=0;k<Ze;k++)this.h.h=!0,y+=this.h.i.decode(fe[k],{stream:!(yt&&k==Ze-1)});fe.length=0,this.h.g+=y,this.C=0,dn=this.h.g}else dn=this.g.oa();if(this.o=200==q,function vv(y,k,q,fe,Ze,yt,dn){y.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Ze+"]: "+k+"\n"+q+"\n"+yt+" "+dn})}(this.i,this.u,this.A,this.l,this.R,Bo,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Hi,fo=this.g;if((Hi=fo.g?fo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jn(Hi)){var Ei=Hi;break t}}Ei=null}if(!(q=Ei)){this.o=!1,this.s=3,ho(12),Rh(this),Rf(this);break e}Pf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ty(this,q)}if(this.P){let Eu;for(q=!0;!this.J&&this.C<dn.length;){if(Eu=Cv(this,dn),Eu==g_){4==Bo&&(this.s=4,ho(14),q=!1),Pf(this.i,this.l,null,"[Incomplete Response]");break}if(Eu==Wp){this.s=4,ho(15),Pf(this.i,this.l,dn,"[Invalid Chunk]"),q=!1;break}Pf(this.i,this.l,Eu,null),Ty(this,Eu)}if(Cy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Bo||0!=dn.length||this.h.h||(this.s=1,ho(16),q=!1),this.o=this.o&&q,q){if(0<dn.length&&!this.W){this.W=!0;var Co=this.j;Co.g==this&&Co.ba&&!Co.M&&(Co.j.info("Great, no buffering proxy detected. Bytes received: "+dn.length),um(Co),Co.M=!0,ho(11))}}else Pf(this.i,this.l,dn,"[Invalid Chunked Response]"),Rh(this),Rf(this)}else Pf(this.i,this.l,dn,null),Ty(this,dn);4==Bo&&Rh(this),this.o&&!this.J&&(4==Bo?By(this.j,this):(this.o=!1,em(this)))}else(function Av(y){const k={};y=(y.g&&2<=Tl(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let fe=0;fe<y.length;fe++){if(jn(y[fe]))continue;var q=L(y[fe]);const Ze=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const yt=k[Ze]||[];k[Ze]=yt,yt.push(q)}!function E(y,k){for(const q in y)k.call(void 0,y[q],q,y)}(k,function(fe){return fe.join(", ")})})(this.g),400==q&&0<dn.indexOf("Unknown SID")?(this.s=3,ho(12)):(this.s=0,ho(13)),Rh(this),Rf(this)}}}catch{}},Dc.prototype.cancel=function(){this.J=!0,Rh(this)},Dc.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function Ev(y,k){y.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Pd(),ho(17)),Rh(this),this.s=2,Rf(this)):by(this,this.S-y)},__.prototype.cancel=function(){if(this.i=Ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var Rd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Io){this.h=y.h,El(this,y.j),this.o=y.o,this.g=y.g,Il(this,y.s),this.l=y.l;var k=y.i,q=new Of;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),Mh(this,q),this.m=y.m}else y&&(k=String(y).match(Rd))?(this.h=!1,El(this,k[1]||"",!0),this.o=Pc(k[2]||""),this.g=Pc(k[3]||"",!0),Il(this,k[4]),this.l=Pc(k[5]||"",!0),Mh(this,k[6]||"",!0),this.m=Pc(k[7]||"")):(this.h=!1,this.i=new Of(null,this.h))}function Zu(y){return new Io(y)}function El(y,k,q){y.j=q?Pc(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function Il(y,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);y.s=k}else y.s=null}function Mh(y,k,q){k instanceof Of?(y.i=k,function Tv(y,k){k&&!y.j&&(bl(y),y.i=null,y.g.forEach(function(q,fe){var Ze=fe.toLowerCase();fe!=Ze&&(E_(this,fe),C_(this,Ze,q))},y)),y.j=k}(y.i,y.h)):(q||(k=Rc(k,Py)),y.i=new Of(k,y.h))}function Oi(y,k,q){y.i.set(k,q)}function Cl(y){return Oi(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Pc(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Rc(y,k,q){return"string"==typeof y?(y=encodeURI(y).replace(k,Mf),q&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mf(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}Io.prototype.toString=function(){var y=[],k=this.j;k&&y.push(Rc(k,Oh,!0),":");var q=this.g;return(q||"file"==k)&&(y.push("//"),(k=this.o)&&y.push(Rc(k,Oh,!0),"@"),y.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&y.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&y.push("/"),y.push(Rc(q,"/"==q.charAt(0)?Sy:Dy,!0))),(q=this.i.toString())&&y.push("?",q),(q=this.m)&&y.push("#",Rc(q,Ry)),y.join("")};var y,Oh=/[#\/\?@]/g,Dy=/[#\?:]/g,Sy=/[#\?]/g,Py=/[#\?@]/g,Ry=/#/g;function Of(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function bl(y){y.g||(y.g=new Map,y.h=0,y.i&&function rm(y,k){if(y){y=y.split("&");for(var q=0;q<y.length;q++){var fe=y[q].indexOf("="),Ze=null;if(0<=fe){var yt=y[q].substring(0,fe);Ze=y[q].substring(fe+1)}else yt=y[q];k(yt,Ze?decodeURIComponent(Ze.replace(/\+/g," ")):"")}}}(y.i,function(k,q){y.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function E_(y,k){bl(y),k=Md(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function I_(y,k){return bl(y),k=Md(y,k),y.g.has(k)}function C_(y,k,q){E_(y,k),0<q.length&&(y.i=null,y.g.set(Md(y,k),Wt(q)),y.h+=q.length)}function Md(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function Od(y,k,q,fe,Ze){try{Ze&&(Ze.onload=null,Ze.onerror=null,Ze.onabort=null,Ze.ontimeout=null),fe(q)}catch{}}function wv(){this.g=new Xg}function IE(y,k,q){const fe=q||"";try{Uo(y,function(Ze,yt){let dn=Ze;W(Ze)&&(dn=gl(Ze)),k.push(fe+yt+"="+encodeURIComponent(dn))})}catch(Ze){throw k.push(fe+"type="+encodeURIComponent("_badmap")),Ze}}function qp(y){this.l=y.Ub||null,this.j=y.eb||!1}function b_(y,k){ms.call(this),this.D=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function My(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function Qp(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Xp(y)}function Xp(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function im(y){let k="";return Lr(y,function(q,fe){k+=fe,k+=":",k+=q,k+="\r\n"}),k}function xh(y,k,q){e:{for(fe in q){var fe=!1;break e}fe=!0}fe||(q=im(q),"string"==typeof y?null!=q&&encodeURIComponent(String(q)):Oi(y,k,q))}function _s(y){ms.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Of.prototype).add=function(y,k){bl(this),this.i=null,y=Md(this,y);var q=this.g.get(y);return q||this.g.set(y,q=[]),q.push(k),this.h+=1,this},a.forEach=function(y,k){bl(this),this.g.forEach(function(q,fe){q.forEach(function(Ze){y.call(k,Ze,fe,this)},this)},this)},a.na=function(){bl(this);const y=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let fe=0;fe<k.length;fe++){const Ze=y[fe];for(let yt=0;yt<Ze.length;yt++)q.push(k[fe])}return q},a.V=function(y){bl(this);let k=[];if("string"==typeof y)I_(this,y)&&(k=k.concat(this.g.get(Md(this,y))));else{y=Array.from(this.g.values());for(let q=0;q<y.length;q++)k=k.concat(y[q])}return k},a.set=function(y,k){return bl(this),this.i=null,I_(this,y=Md(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},a.get=function(y,k){return y&&0<(y=this.V(y)).length?String(y[0]):k},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var fe=k[q];const yt=encodeURIComponent(String(fe)),dn=this.V(fe);for(fe=0;fe<dn.length;fe++){var Ze=yt;""!==dn[fe]&&(Ze+="="+encodeURIComponent(String(dn[fe]))),y.push(Ze)}}return this.i=y.join("&")},Mt(qp,ml),qp.prototype.g=function(){return new b_(this.l,this.j)},qp.prototype.i=(y={},function(){return y}),Mt(b_,ms),(a=b_.prototype).open=function(y,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=k,this.readyState=1,Xp(this)},a.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(k.body=y),(this.D||P).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qp(this)),this.readyState=0},a.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Xp(this)),this.g&&(this.readyState=3,Xp(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;My(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?Qp(this):Xp(this),3==this.readyState&&My(this)}},a.Ra=function(y){this.g&&(this.response=this.responseText=y,Qp(this))},a.Qa=function(y){this.g&&(this.response=y,Qp(this))},a.ga=function(){this.g&&Qp(this)},a.setRequestHeader=function(y,k){this.u.append(y,k)},a.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var q=k.next();!q.done;)y.push((q=q.value)[0]+": "+q[1]),q=k.next();return y.join("\r\n")},Object.defineProperty(b_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),Mt(_s,ms);var sm=/^https?$/i,Oy=["POST","PUT"];function xf(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.m=5,T_(y),xd(y)}function T_(y){y.A||(y.A=!0,rs(y,"complete"),rs(y,"error"))}function xy(y){if(y.h&&typeof v<"u"&&(!y.v[1]||4!=Tl(y)||2!=y.Z()))if(y.u&&4==Tl(y))wh(y.Ea,0,y);else if(rs(y,"readystatechange"),4==Tl(y)){y.h=!1;try{const dn=y.Z();e:switch(dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var fe;if(fe=0===dn){var Ze=String(y.D).match(Rd)[1]||null;!Ze&&P.self&&P.self.location&&(Ze=P.self.location.protocol.slice(0,-1)),fe=!sm.test(Ze?Ze.toLowerCase():"")}q=fe}if(q)rs(y,"complete"),rs(y,"success");else{y.m=6;try{var yt=2<Tl(y)?y.g.statusText:""}catch{yt=""}y.l=yt+" ["+y.Z()+"]",T_(y)}}finally{xd(y)}}}function xd(y,k){if(y.g){Ny(y);const q=y.g,fe=y.v[0]?()=>{}:null;y.g=null,y.v=null,k||rs(y,"ready");try{q.onreadystatechange=fe}catch{}}}function Ny(y){y.I&&(P.clearTimeout(y.I),y.I=null)}function Tl(y){return y.g?y.g.readyState:0}function ky(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Nh(y,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[y]||k}function Yp(y){this.Aa=0,this.i=[],this.j=new vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nh("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nh("baseRetryDelayMs",5e3,y),this.cb=Nh("retryDelaySeedMs",1e4,y),this.Wa=Nh("forwardChannelMaxRetries",2,y),this.wa=Nh("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new __(y&&y.concurrentRequestLimit),this.Da=new wv,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Nf(y){if(Fy(y),3==y.G){var k=y.U++,q=Zu(y.I);if(Oi(q,"SID",y.K),Oi(q,"RID",k),Oi(q,"TYPE","terminate"),kf(y,q),(k=new Dc(y,y.j,k)).L=2,k.v=Cl(Zu(q)),q=!1,P.navigator&&P.navigator.sendBeacon)try{q=P.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&P.Image&&((new Image).src=k.v,q=!0),q||(k.g=jy(k.j,null),k.g.ea(k.v)),k.F=Date.now(),em(k)}lm(y)}function w_(y){y.g&&(um(y),y.g.cancel(),y.g=null)}function Fy(y){w_(y),y.u&&(P.clearTimeout(y.u),y.u=null),cm(y),y.h.cancel(),y.s&&("number"==typeof y.s&&P.clearTimeout(y.s),y.s=null)}function om(y){if(!bv(y.h)&&!y.s){y.s=!0;var k=y.Ga;Ht||tr(),Bn||(Ht(),Bn=!0),er.add(k,y),y.B=0}}function Vy(y,k){var q;q=k?k.l:y.U++;const fe=Zu(y.I);Oi(fe,"SID",y.K),Oi(fe,"RID",q),Oi(fe,"AID",y.T),kf(y,fe),y.m&&y.o&&xh(fe,y.m,y.o),q=new Dc(y,y.j,q,y.B+1),null===y.m&&(q.H=y.o),k&&(y.i=k.D.concat(y.i)),k=Ly(y,q,1e3),q.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),v_(y.h,q),m_(q,fe,k)}function kf(y,k){y.H&&Lr(y.H,function(q,fe){Oi(k,fe,q)}),y.l&&Uo({},function(q,fe){Oi(k,fe,q)})}function Ly(y,k,q){q=Math.min(y.i.length,q);var fe=y.l?xe(y.l.Na,y.l,y):null;e:{var Ze=y.i;let yt=-1;for(;;){const dn=["count="+q];-1==yt?0<q?(yt=Ze[0].g,dn.push("ofs="+yt)):yt=0:dn.push("ofs="+yt);let Hi=!0;for(let fo=0;fo<q;fo++){let Ei=Ze[fo].g;const Co=Ze[fo].map;if(Ei-=yt,0>Ei)yt=Math.max(0,Ze[fo].g-100),Hi=!1;else try{IE(Co,dn,"req"+Ei+"_")}catch{fe&&fe(Co)}}if(Hi){fe=dn.join("&");break e}}}return y=y.i.splice(0,q),k.D=y,fe}function Uy(y){if(!y.g&&!y.u){y.Y=1;var k=y.Fa;Ht||tr(),Bn||(Ht(),Bn=!0),er.add(k,y),y.v=0}}function am(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=Hp(xe(y.Fa,y),$y(y,y.v)),y.v++,0))}function um(y){null!=y.A&&(P.clearTimeout(y.A),y.A=null)}function D_(y){y.g=new Dc(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var k=Zu(y.qa);Oi(k,"RID","rpc"),Oi(k,"SID",y.K),Oi(k,"AID",y.T),Oi(k,"CI",y.F?"0":"1"),!y.F&&y.ja&&Oi(k,"TO",y.ja),Oi(k,"TYPE","xmlhttp"),kf(y,k),y.m&&y.o&&xh(k,y.m,y.o),y.L&&(y.g.I=y.L);var q=y.g;y=y.ia,q.L=1,q.v=Cl(Zu(k)),q.m=null,q.P=!0,Iy(q,y)}function cm(y){null!=y.C&&(P.clearTimeout(y.C),y.C=null)}function By(y,k){var q=null;if(y.g==k){cm(y),um(y),y.g=null;var fe=2}else{if(!y_(y.h,k))return;q=k.D,nm(y.h,k),fe=1}if(0!=y.G)if(k.o)if(1==fe){q=k.m?k.m.length:0,k=Date.now()-k.F;var Ze=y.B;rs(fe=_l(),new yy(fe,q)),om(y)}else Uy(y);else if(3==(Ze=k.s)||0==Ze&&0<k.X||!(1==fe&&function A_(y,k){return!(Gp(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=k.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=Hp(xe(y.Ga,y,k),$y(y,y.B)),y.B++,0)))}(y,k)||2==fe&&am(y)))switch(q&&0<q.length&&(k=y.h,k.i=k.i.concat(q)),Ze){case 1:Nd(y,5);break;case 4:Nd(y,10);break;case 3:Nd(y,6);break;default:Nd(y,2)}}function $y(y,k){let q=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(q*=2),q*k}function Nd(y,k){if(y.j.info("Error code "+k),2==k){var q=xe(y.fb,y),fe=y.Xa;const Ze=!fe;fe=new Io(fe||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||El(fe,"https"),Cl(fe),Ze?function vE(y,k){const q=new vl;if(P.Image){const fe=new Image;fe.onload=et(Od,q,"TestLoadImage: loaded",!0,k,fe),fe.onerror=et(Od,q,"TestLoadImage: error",!1,k,fe),fe.onabort=et(Od,q,"TestLoadImage: abort",!1,k,fe),fe.ontimeout=et(Od,q,"TestLoadImage: timeout",!1,k,fe),P.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=y}else k(!1)}(fe.toString(),q):function EE(y,k){new vl;const fe=new AbortController,Ze=setTimeout(()=>{fe.abort(),Od(0,0,!1,k)},1e4);fetch(y,{signal:fe.signal}).then(yt=>{clearTimeout(Ze),Od(0,0,!!yt.ok,k)}).catch(()=>{clearTimeout(Ze),Od(0,0,!1,k)})}(fe.toString(),q)}else ho(2);y.G=0,y.l&&y.l.sa(k),lm(y),Fy(y)}function lm(y){if(y.G=0,y.ka=[],y.l){const k=Ay(y.h);(0!=k.length||0!=y.i.length)&&(Ut(y.ka,k),Ut(y.ka,y.i),y.h.i.length=0,Wt(y.i),y.i.length=0),y.l.ra()}}function dm(y,k,q){var fe=q instanceof Io?Zu(q):new Io(q);if(""!=fe.g)k&&(fe.g=k+"."+fe.g),Il(fe,fe.s);else{var Ze=P.location;fe=Ze.protocol,k=k?k+"."+Ze.hostname:Ze.hostname,Ze=+Ze.port;var yt=new Io(null);fe&&El(yt,fe),k&&(yt.g=k),Ze&&Il(yt,Ze),q&&(yt.l=q),fe=yt}return k=y.ya,(q=y.D)&&k&&Oi(fe,q,k),Oi(fe,"VER",y.la),kf(y,fe),fe}function jy(y,k,q){if(k&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new _s(y.Ca&&!y.pa?new qp({eb:q}):y.pa)).Ha(y.J),k}function Jp(){}function kh(){}function ua(y,k){ms.call(this),this.g=new Yp(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(y?y["X-WebChannel-Client-Profile"]=k.va:y={"X-WebChannel-Client-Profile":k.va}),this.g.S=y,(y=k&&k.Sb)&&!jn(y)&&(this.g.m=y),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!jn(k)&&(this.g.D=k,null!==(y=this.h)&&k in y&&k in(y=this.h)&&delete y[k]),this.j=new Ff(this)}function S_(y){vu.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const q in k){y=q;break e}y=void 0}(this.i=y)&&(y=this.i,k=null!==k&&y in k?k[y]:void 0),this.data=k}else this.data=y}function Hy(){Sd.call(this),this.status=1}function Ff(y){this.g=y}(a=_s.prototype).Ha=function(y){this.J=y},a.ea=function(y,k,q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():p_.g(),this.v=function Yg(y){return y.h||(y.h=y.i())}(this.o?this.o:p_),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(yt){return void xf(this,yt)}if(y=q||"",q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Ze in fe)q.set(Ze,fe[Ze]);else{if("function"!=typeof fe.keys||"function"!=typeof fe.get)throw Error("Unknown input type for opt_headers: "+String(fe));for(const yt of fe.keys())q.set(yt,fe.get(yt))}fe=Array.from(q.keys()).find(yt=>"content-type"==yt.toLowerCase()),Ze=P.FormData&&y instanceof P.FormData,!(0<=Array.prototype.indexOf.call(Oy,k,void 0))||fe||Ze||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,dn]of q)this.g.setRequestHeader(yt,dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ny(this),this.u=!0,this.g.send(y),this.u=!1}catch(yt){xf(this,yt)}},a.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,rs(this,"complete"),rs(this,"abort"),xd(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xd(this,!0)),_s.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xy(this):this.bb())},a.bb=function(){xy(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Tl(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(y){if(this.g){var k=this.g.responseText;return y&&0==k.indexOf(y)&&(k=k.substring(y.length)),Ph(k)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Yp.prototype).la=8,a.G=1,a.connect=function(y,k,q,fe){ho(0),this.W=y,this.H=k||{},q&&void 0!==fe&&(this.H.OSID=q,this.H.OAID=fe),this.F=this.X,this.I=dm(this,null,this.W),om(this)},a.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Ze=new Dc(this,this.j,y);let yt=this.o;if(this.S&&(yt?(yt=d(yt),D(yt,this.S)):yt=this.S),null!==this.m||this.O||(Ze.H=yt,yt=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){var fe=this.i[q];if(void 0===(fe="__data__"in fe.map&&"string"==typeof(fe=fe.map.__data__)?fe.length:void 0))break;if(4096<(k+=fe)){k=q;break e}if(4096===k||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=Ly(this,Ze,k),Oi(q=Zu(this.I),"RID",y),Oi(q,"CVER",22),this.D&&Oi(q,"X-HTTP-Session-Id",this.D),kf(this,q),yt&&(this.O?k="headers="+encodeURIComponent(String(im(yt)))+"&"+k:this.m&&xh(q,this.m,yt)),v_(this.h,Ze),this.Ua&&Oi(q,"TYPE","init"),this.P?(Oi(q,"$req",k),Oi(q,"SID","null"),Ze.T=!0,m_(Ze,q,null)):m_(Ze,q,k),this.G=2}}else 3==this.G&&(y?Vy(this,y):0==this.i.length||bv(this.h)||Vy(this))},a.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Hp(xe(this.ab,this),y)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ho(10),w_(this),D_(this))},a.Za=function(){null!=this.C&&(this.C=null,w_(this),am(this),ho(19))},a.fb=function(y){y?(this.j.info("Successfully pinged google.com"),ho(2)):(this.j.info("Failed to ping google.com"),ho(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=Jp.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},kh.prototype.g=function(y,k){return new ua(y,k)},Mt(ua,ms),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){Nf(this.g)},ua.prototype.o=function(y){var k=this.g;if("string"==typeof y){var q={};q.__data__=y,y=q}else this.u&&((q={}).__data__=gl(y),y=q);k.i.push(new class{constructor(y,k){this.g=y,this.map=k}}(k.Ya++,y)),3==k.G&&om(k)},ua.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,ua.aa.N.call(this)},Mt(S_,vu),Mt(Hy,Sd),Mt(Ff,Jp),Ff.prototype.ua=function(){rs(this.g,"a")},Ff.prototype.ta=function(y){rs(this.g,new S_(y))},Ff.prototype.sa=function(y){rs(this.g,new Hy)},Ff.prototype.ra=function(){rs(this.g,"b")},kh.prototype.createWebChannel=kh.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,We=he.createWebChannelTransport=function(){return new kh},on=he.getStatEventTarget=function(){return _l()},Ct=he.Event=Ac,kt=he.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zg.NO_ERROR=0,Zg.TIMEOUT=8,Zg.HTTP_ERROR=6,pt=he.ErrorCode=Zg,vy.COMPLETE="complete",It=he.EventType=vy,Jg.EventType=Dd,Dd.OPEN="a",Dd.CLOSE="b",Dd.ERROR="c",Dd.MESSAGE="d",ms.prototype.listen=ms.prototype.K,Ke=he.WebChannel=Jg,ct=he.FetchXmlHttpFactory=qp,_s.prototype.listenOnce=_s.prototype.L,_s.prototype.getLastError=_s.prototype.Ka,_s.prototype.getLastErrorCode=_s.prototype.Ba,_s.prototype.getStatus=_s.prototype.Z,_s.prototype.getResponseJson=_s.prototype.Oa,_s.prototype.getResponseText=_s.prototype.oa,_s.prototype.send=_s.prototype.ea,_s.prototype.setWithCredentials=_s.prototype.Ha,Me=he.XhrIo=_s}).apply(typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{});const Le="@firebase/firestore";class Ye{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let ze="10.12.1";const qe=new De.Vy("@firebase/firestore");function ft(){return qe.logLevel}function Dt(a){qe.setLogLevel(a)}function Ce(a,...e){if(qe.logLevel<=De.$b.DEBUG){const r=e.map(Wn);qe.debug(`Firestore (${ze}): ${a}`,...r)}}function $t(a,...e){if(qe.logLevel<=De.$b.ERROR){const r=e.map(Wn);qe.error(`Firestore (${ze}): ${a}`,...r)}}function Yt(a,...e){if(qe.logLevel<=De.$b.WARN){const r=e.map(Wn);qe.warn(`Firestore (${ze}): ${a}`,...r)}}function Wn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function vt(a="Unexpected state"){const e=`FIRESTORE (${ze}) INTERNAL ASSERTION FAILED: `+a;throw $t(e),new Error(e)}function Pt(a,e){a||vt()}function Ft(a,e){a||vt()}function Je(a,e){return a}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ee.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class me{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Se{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ye.UNAUTHENTICATED))}shutdown(){}}class we{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const p=W=>this.i!==u?(u=this.i,r(W)):Promise.resolve();let v=new me;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new me,e.enqueueRetryable(()=>p(this.currentUser))};const P=()=>{const W=v;e.enqueueRetryable((0,l.A)(function*(){yield W.promise,yield p(s.currentUser)}))},N=W=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new me)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt("string"==typeof s.accessToken),new Se(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Ye(e)}}class lt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new lt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=p=>{null!=p.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.R;return this.R=p.token,Ce("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const u=p=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Pt("string"==typeof r.token),this.R=r.token,new tn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fn(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class or{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=fn(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function Nt(a,e){return a<e?-1:a>e?1:0}function gn(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}function On(a){return a+"\0"}class Vt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ue(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ue(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ue(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Vt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Vt(0,0))}static max(){return new St(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ur{constructor(e,r,s){void 0===r?r=0:r>e.length&&vt(),void 0===s?s=e.length-r:s>e.length-r&&vt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Ur.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const p=e.get(u),v=r.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class nn extends Ur{construct(e,r,s){return new nn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(pe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new nn(r)}static emptyPath(){return new nn([])}}const fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Ur{construct(e,r,s){return new $n(e,r,s)}static isValidIdentifier(e){return fr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const p=()=>{if(0===s.length)throw new ue(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let v=!1;for(;u<e.length;){const P=e[u];if("\\"===P){if(u+1===e.length)throw new ue(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ue(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,u+=2}else"`"===P?(v=!v,u++):"."!==P||v?(s+=P,u++):(p(),u++)}if(p(),v)throw new ue(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(r)}static emptyPath(){return new $n([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(nn.fromString(e))}static fromName(e){return new Rt(nn.fromString(e).popFirst(5))}static empty(){return new Rt(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return nn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new nn(e.slice()))}}class un{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Cn(a){return a.fields.find(e=>2===e.kind)}function pn(a){return a.fields.filter(e=>2!==e.kind)}un.UNKNOWN_ID=-1;class vr{constructor(e,r){this.fieldPath=e,this.kind=r}}class xn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new xn(0,Qt.min())}}function Yr(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=St.fromTimestamp(1e9===s?new Vt(r+1,0):new Vt(r,s));return new Qt(u,Rt.empty(),e)}function Yi(a){return new Qt(a.readTime,a.key,-1)}class Qt{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Qt(St.min(),Rt.empty(),-1)}static max(){return new Qt(St.max(),Rt.empty(),-1)}}function Jr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Rt.comparator(a.documentKey,e.documentKey),0!==r?r:Nt(a.largestBatchId,e.largestBatchId))}const Hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dn(a){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(a){if(a.code!==pe.FAILED_PRECONDITION||a.message!==Hn)throw a;Ce("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):$e.reject(r)}static resolve(e){return new $e((r,s)=>{r(e)})}static reject(e){return new $e((r,s)=>{s(e)})}static waitFor(e){return new $e((r,s)=>{let u=0,p=0,v=!1;e.forEach(P=>{++u,P.next(()=>{++p,v&&p===u&&r()},N=>s(N))}),v=!0,p===u&&r()})}static or(e){let r=$e.resolve(!1);for(const s of e)r=r.next(u=>u?$e.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,p)=>{s.push(r.call(this,u,p))}),this.waitFor(s)}static mapArray(e,r){return new $e((s,u)=>{const p=e.length,v=new Array(p);let P=0;for(let N=0;N<p;N++){const W=N;r(e[W]).next(ie=>{v[W]=ie,++P,P===p&&s(v)},ie=>u(ie))}})}static doWhile(e,r){return new $e((s,u)=>{const p=()=>{!0===e()?r().next(()=>{p()},u):s()};p()})}}class at{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new me,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Lt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=te(s.target.error);this.V.reject(new Lt(e,u))}}static open(e,r,s,u){try{return new at(r,e.transaction(u,s))}catch(p){throw new Lt(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Dr(r)}}class oe{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===oe.S((0,Ee.ZQ)())&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ce("SimpleDb","Removing database:",e),nr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.zW)())return!1;if(oe.C())return!0;const e=(0,Ee.ZQ)(),r=oe.S(e),s=0<r&&r<10,u=Te(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,l.A)(function*(){return r.db||(Ce("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=v=>{s(v.target.result)},p.onblocked=()=>{u(new Lt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const P=v.target.error;u("VersionError"===P.name?new ue(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new ue(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Lt(e,P))},p.onupgradeneeded=v=>{Ce("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.p.O(v.target.result,p.transaction,v.oldVersion,r.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var p=this;return(0,l.A)(function*(){const v="readonly"===r;let P=0;for(;;){++P;try{p.db=yield p.M(e);const N=at.open(p.db,e,v?"readonly":"readwrite",s),W=u(N).next(ie=>(N.g(),ie)).catch(ie=>(N.abort(ie),$e.reject(ie))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,ie="FirebaseError"!==W.name&&P<3;if(Ce("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ie),p.close(),!ie)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Te(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class it{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nr(this.B.delete())}}class Lt extends ue{constructor(e,r){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Tn(a){return"IndexedDbTransactionError"===a.name}class Dr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ce("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),nr(s)}add(e){return Ce("SimpleDb","ADD",this.store.name,e,e),nr(this.store.add(e))}get(e){return nr(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ce("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ce("SimpleDb","DELETE",this.store.name,e),nr(this.store.delete(e))}count(){return Ce("SimpleDb","COUNT",this.store.name),nr(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new $e((v,P)=>{p.onerror=N=>{P(N.target.error)},p.onsuccess=N=>{v(N.target.result)}})}{const p=this.cursor(s),v=[];return this.W(p,(P,N)=>{v.push(N)}).next(()=>v)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new $e((u,p)=>{s.onerror=v=>{p(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(e,r){Ce("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(p,v,P)=>P.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new $e((s,u)=>{r.onerror=p=>{const v=te(p.target.error);u(v)},r.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(P=>{P?v.continue():s()}):s()}})}W(e,r){const s=[];return new $e((u,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const P=v.target.result;if(!P)return void u();const N=new it(P),W=r(P.primaryKey,P.value,N);if(W instanceof $e){const ie=W.catch(_e=>(N.done(),$e.reject(_e)));s.push(ie)}N.isDone?u():null===N.K?P.continue():P.continue(N.K)}}).next(()=>$e.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function nr(a){return new $e((e,r)=>{a.onsuccess=s=>{e(s.target.result)},a.onerror=s=>{const u=te(s.target.error);r(u)}})}let Re=!1;function te(a){const e=oe.S((0,Ee.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Re||(Re=!0,setTimeout(()=>{throw s},0)),s}}return a}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ce("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.A)(function*(){r.task=null;try{Ce("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Tn(s)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Dn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,l.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,p=!0;return $e.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!s.has(v))return Ce("IndexBackfiller",`Processing collection: ${v}`),this.ne(e,v,u).next(P=>{u-=P,s.add(v)});p=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(p=>{const v=p.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.re(u,p)).next(P=>(Ce("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>v.size)}))}re(e,r){let s=e;return r.changes.forEach((u,p)=>{const v=Yi(p);Jr(v,s)>0&&(s=v)}),new Qt(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function le(a){return null==a}function Ne(a){return 0===a&&1/a==-1/0}function ht(a){return"number"==typeof a&&Number.isInteger(a)&&!Ne(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function wt(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Gt(e)),e=rn(a.get(r),e);return Gt(e)}function rn(a,e){let r=e;const s=a.length;for(let u=0;u<s;u++){const p=a.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function Gt(a){return a+"\x01\x01"}function Xt(a){const e=a.length;if(Pt(e>=2),2===e)return Pt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),nn.emptyPath();const r=e-2,s=[];let u="";for(let p=0;p<e;){const v=a.indexOf("\x01",p);switch((v<0||v>r)&&vt(),a.charAt(v+1)){case"\x01":const P=a.substring(p,v);let N;0===u.length?N=P:(u+=P,N=u,u=""),s.push(N);break;case"\x10":u+=a.substring(p,v),u+="\0";break;case"\x11":u+=a.substring(p,v+1);break;default:vt()}p=v+2}return new nn(s)}const Xn=["userId","batchId"];function _n(a,e){return[a,wt(e)]}function si(a,e,r){return[a,wt(e),r]}const xr={},Us=["prefixPath","collectionGroup","readTime","documentId"],Gr=["prefixPath","collectionGroup","documentId"],zi=["collectionGroup","readTime","prefixPath","documentId"],ls=["canonicalId","targetId"],Zr=["targetId","path"],Yn=["path","targetId"],nt=["collectionId","parent"],Ge=["indexId","uid"],_t=["uid","sequenceNumber"],Jt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bn=["indexId","uid","orderedDocumentKey"],Mn=["userId","collectionPath","documentId"],wn=["userId","collectionPath","largestBatchId"],Gn=["userId","collectionGroup","largestBatchId"],Kn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rr=[...Kn,"documentOverlays"],oi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lr=oi,ys=[...lr,"indexConfiguration","indexState","indexEntries"],ei=ys;class vs extends cr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ri(a,e){const r=Je(a);return oe.F(r._e,e)}function jo(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ui(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Di(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||Sr.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ks(this.root,e,this.comparator,!0)}}class Ks{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?s(e.key,r):1,r&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,r,s,u,p){this.key=e,this.value=r,this.color=s??Sr.RED,this.left=u??Sr.EMPTY,this.right=p??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,p){return new Sr(e??this.key,r??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const p=s(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Sr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1,Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,r,s,u,p){return this}insert(e,r,s){return new Sr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bs(this.data.getIterator())}getIteratorFrom(e){return new Bs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pr(this.comparator);return r.data=e,r}}class Bs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wi(a){return a.hasNext()?a.getNext():void 0}class xi{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new xi([])}unionWith(e){let r=new Pr($n.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new xi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return gn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Ji extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ho(){return typeof atob<"u"}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Ji("Invalid base64 string: "+p):p}}(e);return new Ii(r)}static fromUint8Array(e){const r=function(u){let p="";for(let v=0;v<u.length;++v)p+=String.fromCharCode(u[v]);return p}(e);return new Ii(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const ca=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(a){if(Pt(!!a),"string"==typeof a){let e=0;const r=ca.exec(a);if(Pt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dr(a.seconds),nanos:dr(a.nanos)}}function dr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function wi(a){return"string"==typeof a?Ii.fromBase64String(a):Ii.fromUint8Array(a)}function Si(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function qs(a){const e=a.mapValue.fields.__previous_value__;return Si(e)?qs(e):e}function ds(a){const e=Ci(a.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}class bo{constructor(e,r,s,u,p,v,P,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=P,this.longPollingOptions=N,this.useFetchStreams=W}}class Fn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Fn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fn&&e.projectId===this.projectId&&e.database===this.database}}const Er={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jr={nullValue:"NULL_VALUE"};function Ni(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Si(a)?4:br(a)?9007199254740991:10:vt()}function pr(a,e){if(a===e)return!0;const r=Ni(a);if(r!==Ni(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ds(a).isEqual(ds(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const v=Ci(u.timestampValue),P=Ci(p.timestampValue);return v.seconds===P.seconds&&v.nanos===P.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return p=e,wi(a.bytesValue).isEqual(wi(p.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,p){return dr(u.geoPointValue.latitude)===dr(p.geoPointValue.latitude)&&dr(u.geoPointValue.longitude)===dr(p.geoPointValue.longitude)}(a,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return dr(u.integerValue)===dr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const v=dr(u.doubleValue),P=dr(p.doubleValue);return v===P?Ne(v)===Ne(P):isNaN(v)&&isNaN(P)}return!1}(a,e);case 9:return gn(a.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(u,p){const v=u.mapValue.fields||{},P=p.mapValue.fields||{};if(jo(v)!==jo(P))return!1;for(const N in v)if(v.hasOwnProperty(N)&&(void 0===P[N]||!pr(v[N],P[N])))return!1;return!0}(a,e);default:return vt()}var p}function Rs(a,e){return void 0!==(a.values||[]).find(r=>pr(r,e))}function Zi(a,e){if(a===e)return 0;const r=Ni(a),s=Ni(e);if(r!==s)return Nt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,e.booleanValue);case 2:return function(p,v){const P=dr(p.integerValue||p.doubleValue),N=dr(v.integerValue||v.doubleValue);return P<N?-1:P>N?1:P===N?0:isNaN(P)?isNaN(N)?0:-1:1}(a,e);case 3:return is(a.timestampValue,e.timestampValue);case 4:return is(ds(a),ds(e));case 5:return Nt(a.stringValue,e.stringValue);case 6:return function(p,v){const P=wi(p),N=wi(v);return P.compareTo(N)}(a.bytesValue,e.bytesValue);case 7:return function(p,v){const P=p.split("/"),N=v.split("/");for(let W=0;W<P.length&&W<N.length;W++){const ie=Nt(P[W],N[W]);if(0!==ie)return ie}return Nt(P.length,N.length)}(a.referenceValue,e.referenceValue);case 8:return function(p,v){const P=Nt(dr(p.latitude),dr(v.latitude));return 0!==P?P:Nt(dr(p.longitude),dr(v.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(p,v){const P=p.values||[],N=v.values||[];for(let W=0;W<P.length&&W<N.length;++W){const ie=Zi(P[W],N[W]);if(ie)return ie}return Nt(P.length,N.length)}(a.arrayValue,e.arrayValue);case 10:return function(p,v){if(p===Er.mapValue&&v===Er.mapValue)return 0;if(p===Er.mapValue)return 1;if(v===Er.mapValue)return-1;const P=p.fields||{},N=Object.keys(P),W=v.fields||{},ie=Object.keys(W);N.sort(),ie.sort();for(let _e=0;_e<N.length&&_e<ie.length;++_e){const xe=Nt(N[_e],ie[_e]);if(0!==xe)return xe;const et=Zi(P[N[_e]],W[ie[_e]]);if(0!==et)return et}return Nt(N.length,ie.length)}(a.mapValue,e.mapValue);default:throw vt()}}function is(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Nt(a,e);const r=Ci(a),s=Ci(e),u=Nt(r.seconds,s.seconds);return 0!==u?u:Nt(r.nanos,s.nanos)}function Pi(a){return es(a)}function es(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Ci(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?wi(a.bytesValue).toBase64():"referenceValue"in a?Rt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const p of r.values||[])u?u=!1:s+=",",s+=es(p);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const v of s)p?p=!1:u+=",",u+=`${v}:${es(r.fields[v])}`;return u+"}"}(a.mapValue):vt()}function qt(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Sn(a){return!!a&&"integerValue"in a}function Jn(a){return!!a&&"arrayValue"in a}function Ri(a){return!!a&&"nullValue"in a}function Qs(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Hr(a){return!!a&&"mapValue"in a}function ss(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ui(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ss(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ss(a.arrayValue.values[r]);return e}return Object.assign({},a)}function br(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ms(a){return"nullValue"in a?jr:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?qt(Fn.empty(),Rt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:vt()}function Es(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?qt(Fn.empty(),Rt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?Er:vt()}function Vn(a,e){const r=Zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function os(a,e){const r=Zi(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Hr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ss(r)}setAll(e){let r=$n.emptyPath(),s={},u=[];e.forEach((v,P)=>{if(!r.isImmediateParentOf(P)){const N=this.getFieldsMap(r);this.applyChanges(N,s,u),s={},u=[],r=P.popLast()}v?s[P.lastSegment()]=ss(v):u.push(P.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,s,u)}delete(e){const r=this.field(e.popLast());Hr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];Hr(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Ui(r,(u,p)=>e[u]=p);for(const u of s)delete e[u]}clone(){return new ai(ss(this.value))}}function Y(a){const e=[];return Ui(a.fields,(r,s)=>{const u=new $n([r]);if(Hr(s)){const p=Y(s.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new xi(e)}class G{constructor(e,r,s,u,p,v,P){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=p,this.data=v,this.documentState=P}static newInvalidDocument(e){return new G(e,0,St.min(),St.min(),St.min(),ai.empty(),0)}static newFoundDocument(e,r,s,u){return new G(e,1,r,St.min(),s,u,0)}static newNoDocument(e,r){return new G(e,2,r,St.min(),St.min(),ai.empty(),0)}static newUnknownDocument(e,r){return new G(e,3,r,St.min(),St.min(),ai.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof G&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new G(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ve{constructor(e,r){this.position=e,this.inclusive=r}}function Ae(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const p=e[u],v=a.position[u];if(s=p.field.isKeyField()?Rt.comparator(Rt.fromName(v.referenceValue),r.key):Zi(v,r.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function He(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!pr(a.position[r],e.position[r]))return!1;return!0}class dt{constructor(e,r="asc"){this.field=e,this.dir=r}}function jt(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class cn{}class At extends cn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Gi(e,r,s):"array-contains"===r?new gr(e,s):"in"===r?new Xs(e,s):"not-in"===r?new Ki(e,s):"array-contains-any"===r?new zo(e,s):new At(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ir(e,s):new li(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Zi(r,this.value)):null!==r&&Ni(this.value)===Ni(r)&&this.matchesComparison(Zi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends cn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Zt(e,r)}matches(e){return Zn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zn(a){return"and"===a.op}function yn(a){return"or"===a.op}function ui(a){return Br(a)&&Zn(a)}function Br(a){for(const e of a.filters)if(e instanceof Zt)return!1;return!0}function ci(a){if(a instanceof At)return a.field.canonicalString()+a.op.toString()+Pi(a.value);if(ui(a))return a.filters.map(e=>ci(e)).join(",");{const e=a.filters.map(r=>ci(r)).join(",");return`${a.op}(${e})`}}function ni(a,e){return a instanceof At?(s=a,(u=e)instanceof At&&s.op===u.op&&s.field.isEqual(u.field)&&pr(s.value,u.value)):a instanceof Zt?function(s,u){return u instanceof Zt&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,v,P)=>p&&ni(v,u.filters[P]),!0)}(a,e):void vt();var s,u}function $r(a,e){const r=a.filters.concat(e);return Zt.create(r,a.op)}function Bi(a){return a instanceof At?`${(r=a).field.canonicalString()} ${r.op} ${Pi(r.value)}`:a instanceof Zt?function(r){return r.op.toString()+" {"+r.getFilters().map(Bi).join(" ,")+"}"}(a):"Filter";var r}class Gi extends At{constructor(e,r,s){super(e,r,s),this.key=Rt.fromName(s.referenceValue)}matches(e){const r=Rt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ir extends At{constructor(e,r){super(e,"in",r),this.keys=Kr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class li extends At{constructor(e,r){super(e,"not-in",r),this.keys=Kr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Kr(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class gr extends At{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Jn(r)&&Rs(r.arrayValue,this.value)}}class Xs extends At{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Rs(this.value.arrayValue,r)}}class Ki extends At{constructor(e,r){super(e,"not-in",r)}matches(e){if(Rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Rs(this.value.arrayValue,r)}}class zo extends At{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Jn(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Rs(this.value.arrayValue,s))}}class as{constructor(e,r=null,s=[],u=[],p=null,v=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=v,this.endAt=P,this.ue=null}}function la(a,e=null,r=[],s=[],u=null,p=null,v=null){return new as(a,e,r,s,u,p,v)}function Is(a){const e=Je(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>ci(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),le(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Pi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Pi(s)).join(",")),e.ue=r}return e.ue}function Cs(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!jt(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ni(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!He(a.startAt,e.startAt)&&He(a.endAt,e.endAt)}function Va(a){return Rt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Zo(a,e){return a.filters.filter(r=>r instanceof At&&r.field.isEqual(e))}function ki(a,e,r){let s=jr,u=!0;for(const p of Zo(a,e)){let v=jr,P=!0;switch(p.op){case"<":case"<=":v=Ms(p.value);break;case"==":case"in":case">=":v=p.value;break;case">":v=p.value,P=!1;break;case"!=":case"not-in":v=jr}Vn({value:s,inclusive:u},{value:v,inclusive:P})<0&&(s=v,u=P)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const v=r.position[p];Vn({value:s,inclusive:u},{value:v,inclusive:r.inclusive})<0&&(s=v,u=r.inclusive);break}return{value:s,inclusive:u}}function To(a,e,r){let s=Er,u=!0;for(const p of Zo(a,e)){let v=Er,P=!0;switch(p.op){case">=":case">":v=Es(p.value),P=!1;break;case"==":case"in":case"<=":v=p.value;break;case"<":v=p.value,P=!1;break;case"!=":case"not-in":v=Er}os({value:s,inclusive:u},{value:v,inclusive:P})>0&&(s=v,u=P)}if(null!==r)for(let p=0;p<a.orderBy.length;++p)if(a.orderBy[p].field.isEqual(e)){const v=r.position[p];os({value:s,inclusive:u},{value:v,inclusive:r.inclusive})>0&&(s=v,u=r.inclusive);break}return{value:s,inclusive:u}}class wo{constructor(e,r=null,s=[],u=[],p=null,v="F",P=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=v,this.startAt=P,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function La(a,e,r,s,u,p,v,P){return new wo(a,e,r,s,u,p,v,P)}function Nr(a){return new wo(a)}function Wo(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Ua(a){return null!==a.collectionGroup}function z(a){const e=Je(a);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let P=new Pr($n.comparator);return v.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(P=P.add(W.field))})}),P})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new dt(p,s))}),r.has($n.keyField().canonicalString())||e.ce.push(new dt($n.keyField(),s))}return e.ce}function Q(a){const e=Je(a);return e.le||(e.le=function se(a,e){if("F"===a.limitType)return la(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new dt(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ve(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ve(a.startAt.position,a.startAt.inclusive):null;return la(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,z(a))),e.le}function Oe(a,e){const r=a.filters.concat([e]);return new wo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function ln(a,e,r){return new wo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Nn(a,e){return Cs(Q(a),Q(e))&&a.limitType===e.limitType}function qi(a){return`${Is(Q(a))}|lt:${a.limitType}`}function hs(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Bi(u)).join(", ")}]`),le(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Pi(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Pi(u)).join(",")),`Target(${s})`}(Q(a))}; limitType=${a.limitType})`}function Qi(a,e){return e.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Rt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(a,e)&&function(s,u){for(const p of z(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(a,e)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(v,P,N){const W=Ae(v,P,N);return v.inclusive?W<=0:W<0}(s.startAt,z(s),u)||s.endAt&&!function(v,P,N){const W=Ae(v,P,N);return v.inclusive?W>=0:W>0}(s.endAt,z(s),u)));var s,u}function Ao(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Os(a){return(e,r)=>{let s=!1;for(const u of z(a)){const p=$s(u,e,r);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function $s(a,e,r){const s=a.field.isKeyField()?Rt.comparator(e.key,r.key):function(p,v,P){const N=v.data.field(p),W=P.data.field(p);return null!==N&&null!==W?Zi(N,W):vt()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}class xs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(r,s)=>{for(const[u,p]of s)e(u,p)})}isEmpty(){return Di(this.inner)}size(){return this.innerSize}}const Dl=new rr(Rt.comparator);function zr(){return Dl}const ea=new rr(Rt.comparator);function Mi(...a){let e=ea;for(const r of a)e=e.insert(r.key,r);return e}function ec(a){let e=ea;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function js(){return Ys()}function Do(){return Ys()}function Ys(){return new xs(a=>a.toString(),(a,e)=>a.isEqual(e))}const ba=new rr(Rt.comparator),fs=new Pr(Rt.comparator);function qn(...a){let e=fs;for(const r of a)e=e.add(r);return e}const Ba=new Pr(Nt);function Tu(){return Ba}function da(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ne(e)?"-0":e}}function Ta(a){return{integerValue:""+a}}function ha(a,e){return ht(e)?Ta(e):da(a,e)}class po{constructor(){this._=void 0}}function Go(a,e,r){return a instanceof io?function(u,p){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Si(p)&&(p=qs(p)),p&&(v.fields.__previous_value__=p),{mapValue:v}}(r,e):a instanceof Js?so(a,e):a instanceof So?wu(a,e):function(u,p){const v=ro(u,p),P=fa(v)+fa(u.Pe);return Sn(v)&&Sn(u.Pe)?Ta(P):da(u.serializer,P)}(a,e)}function $a(a,e,r){return a instanceof Js?so(a,e):a instanceof So?wu(a,e):r}function ro(a,e){return a instanceof go?Sn(s=e)||(p=s)&&"doubleValue"in p?e:{integerValue:0}:null;var s,p}class io extends po{}class Js extends po{constructor(e){super(),this.elements=e}}function so(a,e){const r=Au(e);for(const s of a.elements)r.some(u=>pr(u,s))||r.push(s);return{arrayValue:{values:r}}}class So extends po{constructor(e){super(),this.elements=e}}function wu(a,e){let r=Au(e);for(const s of a.elements)r=r.filter(u=>!pr(u,s));return{arrayValue:{values:r}}}class go extends po{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function fa(a){return dr(a.integerValue||a.doubleValue)}function Au(a){return Jn(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class pa{constructor(e,r){this.field=e,this.transform=r}}class zs{constructor(e,r){this.version=e,this.transformResults=r}}class mr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class ee{}function U(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new ii(a.key,mr.none()):new hn(a.key,a.data,mr.none());{const r=a.data,s=ai.empty();let u=new Pr($n.comparator);for(let p of e.fields)if(!u.has(p)){let v=r.field(p);null===v&&p.length>1&&(p=p.popLast(),v=r.field(p)),null===v?s.delete(p):s.set(p,v),u=u.add(p)}return new Tr(a.key,s,new xi(u.toArray()),mr.none())}}function X(a,e,r){a instanceof hn?function(u,p,v){const P=u.value.clone(),N=kr(u.fieldTransforms,p,v.transformResults);P.setAll(N),p.convertToFoundDocument(v.version,P).setHasCommittedMutations()}(a,e,r):a instanceof Tr?function(u,p,v){if(!S(u.precondition,p))return void p.convertToUnknownDocument(v.version);const P=kr(u.fieldTransforms,p,v.transformResults),N=p.data;N.setAll(Mr(u)),N.setAll(P),p.convertToFoundDocument(v.version,N).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function be(a,e,r,s){return a instanceof hn?function(p,v,P,N){if(!S(p.precondition,v))return P;const W=p.value.clone(),ie=ur(p.fieldTransforms,N,v);return W.setAll(ie),v.convertToFoundDocument(v.version,W).setHasLocalMutations(),null}(a,e,r,s):a instanceof Tr?function(p,v,P,N){if(!S(p.precondition,v))return P;const W=ur(p.fieldTransforms,N,v),ie=v.data;return ie.setAll(Mr(p)),ie.setAll(W),v.convertToFoundDocument(v.version,ie).setHasLocalMutations(),null===P?null:P.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(_e=>_e.field))}(a,e,r,s):(P=r,S(a.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):P);var v,P}function ot(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),p=ro(s.transform,u||null);null!=p&&(null===r&&(r=ai.empty()),r.set(s.field,p))}return r||null}function bt(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&gn(s,u,(p,v)=>function Hs(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof Js&&u instanceof Js||s instanceof So&&u instanceof So?gn(s.elements,u.elements,pr):s instanceof go&&u instanceof go?pr(s.Pe,u.Pe):s instanceof io&&u instanceof io);var s,u}(p,v))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class hn extends ee{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Tr extends ee{constructor(e,r,s,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Mr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function kr(a,e,r){const s=new Map;Pt(a.length===r.length);for(let u=0;u<r.length;u++){const p=a[u],v=p.transform,P=e.data.field(p.field);s.set(p.field,$a(v,P,r[u]))}return s}function ur(a,e,r){const s=new Map;for(const u of a){const p=u.transform,v=r.data.field(u.field);s.set(u.field,Go(p,v,e))}return s}class ii extends ee{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wr extends ee{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bi{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&X(p,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=be(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=be(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Do();return this.mutations.forEach(u=>{const p=e.get(u.key),v=p.overlayedDocument;let P=this.applyToLocalView(v,p.mutatedFields);P=r.has(u.key)?null:P;const N=U(v,P);null!==N&&s.set(u.key,N),v.isValidDocument()||v.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),qn())}isEqual(e){return this.batchId===e.batchId&&gn(this.mutations,e.mutations,(r,s)=>bt(r,s))&&gn(this.baseMutations,e.baseMutations,(r,s)=>bt(r,s))}}class ts{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Pt(e.mutations.length===s.length);let u=ba;const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,s[v].version);return new ts(e,r,s,u)}}class ps{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ns{constructor(e,r){this.count=e,this.unchangedNames=r}}var Et,Un;function Zs(a){switch(a){default:return vt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function tc(a){if(void 0===a)return $t("GRPC error has no .code"),pe.UNKNOWN;switch(a){case Et.OK:return pe.OK;case Et.CANCELLED:return pe.CANCELLED;case Et.UNKNOWN:return pe.UNKNOWN;case Et.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Et.INTERNAL:return pe.INTERNAL;case Et.UNAVAILABLE:return pe.UNAVAILABLE;case Et.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Et.NOT_FOUND:return pe.NOT_FOUND;case Et.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Et.ABORTED:return pe.ABORTED;case Et.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Et.DATA_LOSS:return pe.DATA_LOSS;default:return vt()}}(Un=Et||(Et={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function Po(){return new TextEncoder}const wa=new Ve([4294967295,4294967295],0);function Ai(a){const e=Po().encode(a),r=new je;return r.update(e),new Uint8Array(r.digest())}function nc(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Ve([r,s],0),new Ve([u,p],0)]}class kn{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new mo(`Invalid padding: ${r}`);if(s<0)throw new mo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new mo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new mo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ve.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(Ve.fromNumber(s)));return 1===u.compare(wa)&&(u=new Ve([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ai(e),[s,u]=nc(r);for(let p=0;p<this.hashCount;p++){const v=this.Ee(s,u,p);if(!this.de(v))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),v=new kn(p,u,r);return s.forEach(P=>v.insert(P)),v}insert(e){if(0===this.Ie)return;const r=Ai(e),[s,u]=nc(r);for(let p=0;p<this.hashCount;p++){const v=this.Ee(s,u,p);this.Ae(v)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pi{constructor(e,r,s,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new pi(St.min(),u,new rr(Nt),zr(),qn())}}class Mc{constructor(e,r,s,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Mc(s,r,qn(),qn(),qn())}}class Du{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class rc{constructor(e,r){this.targetId=e,this.me=r}}class Ro{constructor(e,r,s=Ii.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class na{constructor(){this.fe=0,this.ge=Sl(),this.pe=Ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=qn(),r=qn(),s=qn();return this.ge.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:vt()}}),new Mc(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Sl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ic{constructor(e){this.Le=e,this.Be=new Map,this.ke=zr(),this.qe=Su(),this.Qe=new rr(Nt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const p=u.target;if(Va(p))if(0===s){const v=new Rt(p.path);this.Ue(r,v,G.newNoDocument(v,St.min()))}else Pt(1===s);else{const v=this.Ye(r);if(v!==s){const P=this.Ze(e),N=P?this.Xe(P,e,v):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=r;let v,P;try{v=wi(s).toUint8Array()}catch(N){if(N instanceof Ji)return Yt("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{P=new kn(v,u,p)}catch(N){return Yt(N instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===P.Ie?null:P}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(p=>{const v=this.Le.tt(),P=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,p,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((p,v)=>{const P=this.Je(v);if(P){if(p.current&&Va(P.target)){const N=new Rt(P.target.path);null!==this.ke.get(N)||this.it(v,N)||this.Ue(v,N,G.newNoDocument(N,e))}p.be&&(r.set(v,p.Ce()),p.ve())}});let s=qn();this.qe.forEach((p,v)=>{let P=!0;v.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(P=!1,!1)}),P&&(s=s.add(p))}),this.ke.forEach((p,v)=>v.setReadTime(e));const u=new pi(e,r,this.Qe,this.ke,s);return this.ke=zr(),this.qe=Su(),this.Qe=new rr(Nt),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new na,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pr(Nt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new na),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Su(){return new rr(Rt.comparator)}function Sl(){return new rr(Rt.comparator)}const Vd={asc:"ASCENDING",desc:"DESCENDING"},Pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qn={and:"AND",or:"OR"};class Ld{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ja(a,e){return a.useProto3Json||le(e)?e:{value:e}}function ks(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pu(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Oc(a,e){return ks(a,e.toTimestamp())}function yi(a){return Pt(!!a),St.fromTimestamp(function(r){const s=Ci(r);return new Vt(s.seconds,s.nanos)}(a))}function Aa(a,e){return sc(a,e).canonicalString()}function sc(a,e){const r=(u=a,new nn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function xc(a){const e=nn.fromString(a);return Pt(Mu(e)),e}function Ha(a,e){return Aa(a.databaseId,e.path)}function Mo(a,e){const r=xc(e);if(r.get(1)!==a.databaseId.projectId)throw new ue(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ue(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Rt(Nc(r))}function Ud(a,e){return Aa(a.databaseId,e)}function Ot(a){const e=xc(a);return 4===e.length?nn.emptyPath():Nc(e)}function Or(a){return new nn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Nc(a){return Pt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function za(a,e,r){return{name:Ha(a,e),fields:r.value.mapValue.fields}}function bs(a,e,r){const s=Mo(a,e.name),u=yi(e.updateTime),p=e.createTime?yi(e.createTime):St.min(),v=new ai({mapValue:{fields:e.fields}}),P=G.newFoundDocument(s,u,p,v);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function eo(a,e){let r;if(e instanceof hn)r={update:za(a,e.key,e.value)};else if(e instanceof ii)r={delete:Ha(a,e.key)};else if(e instanceof Tr)r={update:za(a,e.key,e.data),updateMask:Ml(e.fieldMask)};else{if(!(e instanceof Wr))return vt();r={verify:Ha(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(p,v){const P=v.transform;if(P instanceof io)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Js)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof So)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof go)return{fieldPath:v.field.canonicalString(),increment:P.Pe};throw vt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Oc(a,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:vt()),r;var p}function oo(a,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?mr.updateTime(yi(p.updateTime)):void 0!==p.exists?mr.exists(p.exists):mr.none():mr.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(v,P){let N=null;"setToServerValue"in P?(Pt("REQUEST_TIME"===P.setToServerValue),N=new io):"appendMissingElements"in P?N=new Js(P.appendMissingElements.values||[]):"removeAllFromArray"in P?N=new So(P.removeAllFromArray.values||[]):"increment"in P?N=new go(v,P.increment):vt();const W=$n.fromServerFormat(P.fieldPath);return new pa(W,N)}(a,u)):[];var p;if(e.update){const u=Mo(a,e.update.name),p=new ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new xi((e.updateMask.fieldPaths||[]).map(ie=>$n.fromServerFormat(ie)));return new Tr(u,p,v,r,s)}return new hn(u,p,r,s)}if(e.delete){const u=Mo(a,e.delete);return new ii(u,r)}if(e.verify){const u=Mo(a,e.verify);return new Wr(u,r)}return vt()}function Rl(a,e){return{documents:[Ud(a,e.path)]}}function kc(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ud(a,u);const p=function(W){if(0!==W.length)return Vc(Zt.create(W,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const v=function(W){if(0!==W.length)return W.map(ie=>{return{field:Ko((xe=ie).field),direction:ao(xe.dir)};var xe})}(e.orderBy);v&&(r.structuredQuery.orderBy=v);const P=ja(a,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:u};var W}function ns(a){let e=Ot(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Pt(1===s);const ie=r.from[0];ie.allDescendants?u=ie.collectionId:e=e.child(ie.collectionId)}let p=[];r.where&&(p=function(_e){const xe=ra(_e);return xe instanceof Zt&&ui(xe)?xe.getFilters():[xe]}(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(xe=>{return new dt(Ga((Mt=xe).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Mt.direction));var Mt}));let P=null;r.limit&&(P=function(_e){let xe;return xe="object"==typeof _e?_e.value:_e,le(xe)?null:xe}(r.limit));let N=null;var _e;r.startAt&&(N=new ve((_e=r.startAt).values||[],!!_e.before));let W=null;return r.endAt&&(W=function(_e){return new ve(_e.values||[],!_e.before)}(r.endAt)),La(e,u,v,p,P,"F",N,W)}function ra(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ga(r.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ga(r.unaryFilter.field);return At.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ga(r.unaryFilter.field);return At.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Ga(r.unaryFilter.field);return At.create(v,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(a):void 0!==a.fieldFilter?At.create(Ga((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Zt.create(r.compositeFilter.filters.map(s=>ra(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt()}}(r.compositeFilter.op))}(a):vt();var r}function ao(a){return Vd[a]}function uo(a){return Pl[a]}function Fc(a){return Qn[a]}function Ko(a){return{fieldPath:a.canonicalString()}}function Ga(a){return $n.fromServerFormat(a.fieldPath)}function Vc(a){return a instanceof At?function(r){if("=="===r.op){if(Qs(r.value))return{unaryFilter:{field:Ko(r.field),op:"IS_NAN"}};if(Ri(r.value))return{unaryFilter:{field:Ko(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Qs(r.value))return{unaryFilter:{field:Ko(r.field),op:"IS_NOT_NAN"}};if(Ri(r.value))return{unaryFilter:{field:Ko(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(r.field),op:uo(r.op),value:r.value}}}(a):a instanceof Zt?function(r){const s=r.getFilters().map(u=>Vc(u));return 1===s.length?s[0]:{compositeFilter:{op:Fc(r.op),filters:s}}}(a):vt()}function Ml(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Mu(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class qo{constructor(e,r,s,u,p=St.min(),v=St.min(),P=Ii.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=P,this.expectedCount=N}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function b(a,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:O(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ha(p=a.ct,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:ks(p,v.version.toTimestamp()),createTime:ks(p,v.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:$(e.version)};else{if(!e.isUnknownDocument())return vt();s.unknownDocument={path:r.path.toArray(),version:$(e.version)}}var p,v;return s}function O(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function $(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function re(a){const e=new Vt(a.seconds,a.nanoseconds);return St.fromTimestamp(e)}function Ie(a,e){const r=(e.baseMutations||[]).map(p=>oo(a.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>oo(a.ct,p)),u=Vt.fromMillis(e.localWriteTimeMs);return new bi(e.batchId,u,r,s)}function rt(a){const e=re(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?re(a.lastLimboFreeSnapshotVersion):St.min();let s;return s=void 0!==a.query.documents?(Pt(1===(p=a.query).documents.length),Q(Nr(Ot(p.documents[0])))):function(p){return Q(ns(p))}(a.query),new qo(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,Ii.fromBase64String(a.resumeToken));var p}function tt(a,e){const r=$(e.snapshotVersion),s=$(e.lastLimboFreeSnapshotVersion);let u;u=Va(e.target)?Rl(a.ct,e.target):kc(a.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Is(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function an(a){const e=ns({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ln(e,e.limit,"L"):e}function sr(a,e){return new ps(e.largestBatchId,oo(a.ct,e.overlayMutation))}function _r(a,e){const r=e.path.lastSegment();return[a,wt(e.path.popLast()),r]}function Ir(a,e,r,s){return{indexId:a,uid:e,sequenceNumber:r,readTime:$(s.readTime),documentKey:wt(s.documentKey.path),largestBatchId:s.largestBatchId}}class qr{getBundleMetadata(e,r){return Ka(e).get(r).next(s=>{if(s)return{id:(p=s).bundleId,createTime:re(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Ka(e).put({bundleId:(u=r).id,createTime:$(yi(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return qa(e).get(r).next(s=>{if(s)return{name:(p=s).name,query:an(p.bundledQuery),readTime:re(p.readTime)};var p})}saveNamedQuery(e,r){return qa(e).put({name:(u=r).name,readTime:$(yi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ka(a){return ri(a,"bundles")}function qa(a){return ri(a,"namedQueries")}class Qa{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Qa(e,r.uid||"")}getOverlay(e,r){return to(e).get(_r(this.userId,r)).next(s=>s?sr(this.serializer,s):null)}getOverlays(e,r){const s=js();return $e.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((p,v)=>{const P=new ps(r,v);u.push(this.ht(e,P))}),$e.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(v=>u.add(wt(v.getCollectionPath())));const p=[];return u.forEach(v=>{const P=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);p.push(to(e).j("collectionPathOverlayIndex",P))}),$e.waitFor(p)}getOverlaysForCollection(e,r,s){const u=js(),p=wt(r),v=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return to(e).U("collectionPathOverlayIndex",v).next(P=>{for(const N of P){const W=sr(this.serializer,N);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const p=js();let v;const P=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return to(e).J({index:"collectionGroupOverlayIndex",range:P},(N,W,ie)=>{const _e=sr(this.serializer,W);p.size()<u||_e.largestBatchId===v?(p.set(_e.getKey(),_e),v=_e.largestBatchId):ie.done()}).next(()=>p)}ht(e,r){return to(e).put(function(u,p,v){const[P,N,W]=_r(p,v.mutation.key);return{userId:p,collectionPath:N,documentId:W,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:eo(u.ct,v.mutation)}}(this.serializer,this.userId,r))}}function to(a){return ri(a,"documentOverlays")}class ia{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(dr(e.integerValue));else if("doubleValue"in e){const s=dr(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Ne(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Ci(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(wi(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?br(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):vt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Rt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Bf(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Da(a){const e=64-function(s){let u=0;for(let p=0;p<8;++p){const v=Bf(255&s[p]);if(u+=v,8!==v)break}return u}(a);return Math.ceil(e/8)}ia.bt=new ia;class Xa{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Da(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Da(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,p,!1),new Uint8Array(v.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Bd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Ol{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ga{constructor(){this.Gt=new Xa,this.zt=new Bd(this.Gt),this.jt=new Ol(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ma{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ma(this.indexId,this.documentKey,this.arrayValue,s)}}function Qo(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=Lc(a.arrayValue,e.arrayValue),0!==r?r:(r=Lc(a.directionalValue,e.directionalValue),0!==r?r:Rt.comparator(a.documentKey,e.documentKey)))}function Lc(a,e){for(let r=0;r<a.length&&r<e.length;++r){const s=a[r]-e[r];if(0!==s)return s}return a.length-e.length}class _a{constructor(e){this.Yt=new Pr((r,s)=>$n.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Pt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Cn(e);if(void 0!==r&&!this.nn(r))return!1;const s=pn(e);let u=new Set,p=0,v=0;for(;p<s.length&&this.nn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Yt.size>0){const P=this.Yt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const N=s[p];if(!this.rn(P,N)||!this.sn(this.Zt[v++],N))return!1}++p}for(;p<s.length;++p)if(v>=this.Zt.length||!this.sn(this.Zt[v++],s[p]))return!1;return!0}on(){if(this.en)return null;let e=new Pr($n.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new vr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new vr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new vr(s.field,"asc"===s.dir?0:1)));return new un(un.UNKNOWN_ID,this.collectionId,r,xn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ya(a){var e,r;if(Pt(a instanceof At||a instanceof Zt),a instanceof At){if(a instanceof Xs){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>At.create(a.field,"==",p)))||[];return Zt.create(u,"or")}return a}const s=a.filters.map(u=>Ya(u));return Zt.create(s,a.op)}function Ja(a){if(0===a.getFilters().length)return[];const e=sa(Ya(a));return Pt($f(e)),Ou(e)||Uc(e)?[e]:e.getFilters()}function Ou(a){return a instanceof At}function Uc(a){return a instanceof Zt&&ui(a)}function $f(a){return Ou(a)||Uc(a)||function(r){if(r instanceof Zt&&yn(r)){for(const s of r.getFilters())if(!Ou(s)&&!Uc(s))return!1;return!0}return!1}(a)}function sa(a){if(Pt(a instanceof At||a instanceof Zt),a instanceof At)return a;if(1===a.filters.length)return sa(a.filters[0]);const e=a.filters.map(s=>sa(s));let r=Zt.create(e,a.op);return r=kl(r),$f(r)?r:(Pt(r instanceof Zt),Pt(Zn(r)),Pt(r.filters.length>1),r.filters.reduce((s,u)=>xl(s,u)))}function xl(a,e){let r;return Pt(a instanceof At||a instanceof Zt),Pt(e instanceof At||e instanceof Zt),r=a instanceof At?e instanceof At?Zt.create([a,e],"and"):Nl(a,e):e instanceof At?Nl(e,a):function(u,p){if(Pt(u.filters.length>0&&p.filters.length>0),Zn(u)&&Zn(p))return $r(u,p.getFilters());const v=yn(u)?u:p,P=yn(u)?p:u,N=v.filters.map(W=>xl(W,P));return Zt.create(N,"or")}(a,e),kl(r)}function Nl(a,e){if(Zn(e))return $r(e,a.getFilters());{const r=e.filters.map(s=>xl(a,s));return Zt.create(r,"or")}}function kl(a){if(Pt(a instanceof At||a instanceof Zt),a instanceof At)return a;const e=a.getFilters();if(1===e.length)return kl(e[0]);if(Br(a))return a;const r=e.map(u=>kl(u)),s=[];return r.forEach(u=>{u instanceof At?s.push(u):u instanceof Zt&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Zt.create(s,a.op)}class ig{constructor(){this._n=new Za}addToCollectionParentIndex(e,r){return this._n.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(Qt.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(Qt.min())}updateCollectionGroup(e,r,s){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class Za{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Pr(nn.comparator),p=!u.has(s);return this.index[r]=u.add(s),p}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Pr(nn.comparator)).toArray()}}const eu=new Uint8Array(0);class Fl{constructor(e,r){this.databaseId=r,this.an=new Za,this.un=new xs(s=>Is(s),(s,u)=>Cs(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const p={collectionId:s,parent:wt(u)};return tu(e).put(p)}return $e.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[On(r),""],!1,!0);return tu(e).U(u).next(p=>{for(const v of p){if(v.collectionId!==r)break;s.push(Xt(v.parent))}return s})}addFieldIndex(e,r){const s=xu(e),u={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var P;delete u.indexId;const p=s.add(u);if(r.indexState){const v=Xo(e);return p.next(P=>{v.put(Ir(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const s=xu(e),u=Xo(e),p=_o(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=xu(e),s=_o(e),u=Xo(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return $e.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const p=new _a(s).on();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const s=_o(e);let u=!0;const p=new Map;return $e.forEach(this.cn(r),v=>this.ln(e,v).next(P=>{u&&(u=!!P),p.set(v,P)})).next(()=>{if(u){let v=qn();const P=[];return $e.forEach(p,(N,W)=>{var Rn;Ce("IndexedDbIndexManager",`Using index ${Rn=N,`id=${Rn.indexId}|cg=${Rn.collectionGroup}|f=${Rn.fields.map(Cr=>`${Cr.fieldPath}:${Cr.kind}`).join(",")}`} to execute ${Is(r)}`);const ie=function(Rn,Cr){const vi=Cn(Cr);if(void 0===vi)return null;for(const Lr of Zo(Rn,vi.fieldPath))switch(Lr.op){case"array-contains-any":return Lr.value.arrayValue.values||[];case"array-contains":return[Lr.value]}return null}(W,N),_e=function(Rn,Cr){const vi=new Map;for(const Lr of pn(Cr))for(const E of Zo(Rn,Lr.fieldPath))switch(E.op){case"==":case"in":vi.set(Lr.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return vi.set(Lr.fieldPath.canonicalString(),E.value),Array.from(vi.values())}return null}(W,N),xe=function(Rn,Cr){const vi=[];let Lr=!0;for(const E of pn(Cr)){const d=0===E.kind?ki(Rn,E.fieldPath,Rn.startAt):To(Rn,E.fieldPath,Rn.startAt);vi.push(d.value),Lr&&(Lr=d.inclusive)}return new ve(vi,Lr)}(W,N),et=function(Rn,Cr){const vi=[];let Lr=!0;for(const E of pn(Cr)){const d=0===E.kind?To(Rn,E.fieldPath,Rn.endAt):ki(Rn,E.fieldPath,Rn.endAt);vi.push(d.value),Lr&&(Lr=d.inclusive)}return new ve(vi,Lr)}(W,N),Mt=this.hn(N,W,xe),Wt=this.hn(N,W,et),Ut=this.Pn(N,W,_e),An=this.In(N.indexId,ie,Mt,xe.inclusive,Wt,et.inclusive,Ut);return $e.forEach(An,jn=>s.G(jn,r.limit).next(Rn=>{Rn.forEach(Cr=>{const vi=Rt.fromSegments(Cr.documentKey);v.has(vi)||(v=v.add(vi),P.push(vi))})}))}).next(()=>P)}return $e.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Ja(Zt.create(e.filters,"and")).map(s=>la(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,p,v,P){const N=(null!=r?r.length:1)*Math.max(s.length,p.length),W=N/(null!=r?r.length:1),ie=[];for(let _e=0;_e<N;++_e){const xe=r?this.Tn(r[_e/W]):eu,et=this.En(e,xe,s[_e%W],u),Mt=this.dn(e,xe,p[_e%W],v),Wt=P.map(Ut=>this.En(e,xe,Ut,!0));ie.push(...this.createRange(et,Mt,Wt))}return ie}En(e,r,s,u){const p=new ma(e,Rt.empty(),r,s);return u?p:p.Jt()}dn(e,r,s,u){const p=new ma(e,Rt.empty(),r,s);return u?p.Jt():p}ln(e,r){const s=new _a(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let v=null;for(const P of p)s.tn(P)&&(!v||P.fields.length>v.fields.length)&&(v=P);return v})}getIndexType(e,r){let s=2;const u=this.cn(r);return $e.forEach(u,p=>this.ln(e,p).next(v=>{v?0!==s&&v.fields.length<function(N){let W=new Pr($n.comparator),ie=!1;for(const _e of N.filters)for(const xe of _e.getFlattenedFilters())xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?ie=!0:W=W.add(xe.field));for(const _e of N.orderBy)_e.field.isKeyField()||(W=W.add(_e.field));return W.size+(ie?1:0)}(p)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new ga;for(const u of pn(e)){const p=r.data.field(u.fieldPath);if(null==p)return null;const v=s.Ht(u.kind);ia.bt.Pt(p,v)}return s.Wt()}Tn(e){const r=new ga;return ia.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new ga;return ia.bt.Pt(qt(this.databaseId,r),s.Ht(function(p){const v=pn(p);return 0===v.length?0:v[v.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new ga);let p=0;for(const v of pn(e)){const P=s[p++];for(const N of u)if(this.Vn(r,v.fieldPath)&&Jn(P))u=this.mn(u,v,P);else{const W=N.Ht(v.kind);ia.bt.Pt(P,W)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],p=[];for(const v of s.arrayValue.values||[])for(const P of u){const N=new ga;N.seed(P.Wt()),ia.bt.Pt(v,N.Ht(r.kind)),p.push(N)}return p}Vn(e,r){return!!e.filters.find(s=>s instanceof At&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=xu(e),u=Xo(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(p=>{const v=[];return $e.forEach(p,P=>u.get([P.indexId,this.uid]).next(N=>{v.push(function(ie,_e){const xe=_e?new xn(_e.sequenceNumber,new Qt(re(_e.readTime),new Rt(Xt(_e.documentKey)),_e.largestBatchId)):xn.empty(),et=ie.fields.map(([Mt,Wt])=>new vr($n.fromServerFormat(Mt),Wt));return new un(ie.indexId,ie.collectionGroup,et,xe)}(P,N))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Nt(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=xu(e),p=Xo(e);return this.gn(e).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>$e.forEach(P,N=>p.put(Ir(N.indexId,this.uid,v,s)))))}updateIndexEntries(e,r){const s=new Map;return $e.forEach(r,(u,p)=>{const v=s.get(u.collectionGroup);return(v?$e.resolve(v):this.getFieldIndexes(e,u.collectionGroup)).next(P=>(s.set(u.collectionGroup,P),$e.forEach(P,N=>this.pn(e,u,N).next(W=>{const ie=this.yn(p,N);return W.isEqual(ie)?$e.resolve():this.wn(e,p,N,W,ie)}))))})}Sn(e,r,s,u){return _o(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return _o(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=_o(e);let p=new Pr(Qo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(v,P)=>{p=p.add(new ma(s.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>p)}yn(e,r){let s=new Pr(Qo);const u=this.An(r,e);if(null==u)return s;const p=Cn(r);if(null!=p){const v=e.data.field(p.fieldPath);if(Jn(v))for(const P of v.arrayValue.values||[])s=s.add(new ma(r.indexId,e.key,this.Tn(P),u))}else s=s.add(new ma(r.indexId,e.key,eu,u));return s}wn(e,r,s,u,p){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const v=[];return function(N,W,ie,_e,xe){const et=N.getIterator(),Mt=W.getIterator();let Wt=Wi(et),Ut=Wi(Mt);for(;Wt||Ut;){let An=!1,jn=!1;if(Wt&&Ut){const Rn=ie(Wt,Ut);Rn<0?jn=!0:Rn>0&&(An=!0)}else null!=Wt?jn=!0:An=!0;An?(_e(Ut),Ut=Wi(Mt)):jn?(xe(Wt),Wt=Wi(et)):(Wt=Wi(et),Ut=Wi(Mt))}}(u,p,Qo,P=>{v.push(this.Sn(e,r,s,P))},P=>{v.push(this.bn(e,r,s,P))}),$e.waitFor(v)}gn(e){let r=1;return Xo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((v,P)=>Qo(v,P)).filter((v,P,N)=>!P||0!==Qo(v,N[P-1]));const u=[];u.push(e);for(const v of s){const P=Qo(v,e),N=Qo(v,r);if(0===P)u[0]=e.Jt();else if(P>0&&N<0)u.push(v),u.push(v.Jt());else if(N>0)break}u.push(r);const p=[];for(let v=0;v<u.length;v+=2){if(this.Dn(u[v],u[v+1]))return[];p.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,eu,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,eu,[]]))}return p}Dn(e,r){return Qo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(jf)}getMinOffset(e,r){return $e.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||vt())).next(jf)}}function tu(a){return ri(a,"collectionParents")}function _o(a){return ri(a,"indexEntries")}function xu(a){return ri(a,"indexConfiguration")}function Xo(a){return ri(a,"indexState")}function jf(a){Pt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;Jr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Qt(e.readTime,e.documentKey,r)}const ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vh(a,e,r){const s=a.store("mutations"),u=a.store("documentMutations"),p=[],v=IDBKeyRange.only(r.batchId);let P=0;const N=s.J({range:v},(ie,_e,xe)=>(P++,xe.delete()));p.push(N.next(()=>{Pt(1===P)}));const W=[];for(const ie of r.mutations){const _e=si(e,ie.key.path,r.batchId);p.push(u.delete(_e)),W.push(ie.key)}return $e.waitFor(p).next(()=>W)}function Ws(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw vt();e=a.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class Vl{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Pt(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Vl(p,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).J({index:"userMutationsIndex",range:s},(u,p,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const p=ya(e),v=Oo(e);return v.add({}).next(P=>{Pt("number"==typeof P);const N=new bi(P,r,s,u),W=function(et,Mt,Wt){const Ut=Wt.baseMutations.map(jn=>eo(et.ct,jn)),An=Wt.mutations.map(jn=>eo(et.ct,jn));return{userId:Mt,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:Ut,mutations:An}}(this.serializer,this.userId,N),ie=[];let _e=new Pr((xe,et)=>Nt(xe.canonicalString(),et.canonicalString()));for(const xe of u){const et=si(this.userId,xe.key.path,P);_e=_e.add(xe.key.path.popLast()),ie.push(v.put(W)),ie.push(p.put(et,xr))}return _e.forEach(xe=>{ie.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.Cn[P]=N.keys()}),$e.waitFor(ie).next(()=>N)})}lookupMutationBatch(e,r){return Oo(e).get(r).next(s=>s?(Pt(s.userId===this.userId),Ie(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?$e.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Oo(e).J({index:"userMutationsIndex",range:u},(v,P,N)=>{P.userId===this.userId&&(Pt(P.batchId>=s),p=Ie(this.serializer,P)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Oo(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,p,v)=>{s=p.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).U("userMutationsIndex",r).next(s=>s.map(u=>Ie(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=_n(this.userId,r.path),u=IDBKeyRange.lowerBound(s),p=[];return ya(e).J({range:u},(v,P,N)=>{const[W,ie,_e]=v,xe=Xt(ie);if(W===this.userId&&r.path.isEqual(xe))return Oo(e).get(_e).next(et=>{if(!et)throw vt();Pt(et.userId===this.userId),p.push(Ie(this.serializer,et))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(Nt);const u=[];return r.forEach(p=>{const v=_n(this.userId,p.path),P=IDBKeyRange.lowerBound(v),N=ya(e).J({range:P},(W,ie,_e)=>{const[xe,et,Mt]=W,Wt=Xt(et);xe===this.userId&&p.path.isEqual(Wt)?s=s.add(Mt):_e.done()});u.push(N)}),$e.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,p=_n(this.userId,s),v=IDBKeyRange.lowerBound(p);let P=new Pr(Nt);return ya(e).J({range:v},(N,W,ie)=>{const[_e,xe,et]=N,Mt=Xt(xe);_e===this.userId&&s.isPrefixOf(Mt)?Mt.length===u&&(P=P.add(et)):ie.done()}).next(()=>this.Fn(e,P))}Fn(e,r){const s=[],u=[];return r.forEach(p=>{u.push(Oo(e).get(p).next(v=>{if(null===v)throw vt();Pt(v.userId===this.userId),s.push(Ie(this.serializer,v))}))}),$e.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Vh(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),$e.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return $e.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return ya(e).J({range:s},(p,v,P)=>{if(p[0]===this.userId){const N=Xt(p[1]);u.push(N)}else P.done()}).next(()=>{Pt(0===u.length)})})}containsKey(e,r){return Bc(e,this.userId,r)}xn(e){return Nu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bc(a,e,r){const s=_n(e,r.path),u=s[1],p=IDBKeyRange.lowerBound(s);let v=!1;return ya(a).J({range:p,H:!0},(P,N,W)=>{const[ie,_e,xe]=P;ie===e&&_e===u&&(v=!0),W.done()}).next(()=>v)}function Oo(a){return ri(a,"mutations")}function ya(a){return ri(a,"documentMutations")}function Nu(a){return ri(a,"mutationQueues")}class yo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new yo(0)}static Ln(){return new yo(-1)}}class Lh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new yo(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>St.fromTimestamp(new Vt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>nu(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Pt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const p=[];return nu(e).J((v,P)=>{const N=rt(P);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(u++,p.push(this.removeTargetData(e,N)))}).next(()=>$e.waitFor(p)).next(()=>u)}forEachTarget(e,r){return nu(e).J((s,u)=>{const p=rt(u);r(p)})}Bn(e){return Ll(e).get("targetGlobalKey").next(r=>(Pt(null!==r),r))}kn(e,r){return Ll(e).put("targetGlobalKey",r)}qn(e,r){return nu(e).put(tt(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Is(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return nu(e).J({range:u,index:"queryTargetsIndex"},(v,P,N)=>{const W=rt(P);Cs(r,W.target)&&(p=W,N.done())}).next(()=>p)}addMatchingKeys(e,r,s){const u=[],p=Sa(e);return r.forEach(v=>{const P=wt(v.path);u.push(p.put({targetId:s,path:P})),u.push(this.referenceDelegate.addReference(e,s,v))}),$e.waitFor(u)}removeMatchingKeys(e,r,s){const u=Sa(e);return $e.forEach(r,p=>{const v=wt(p.path);return $e.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,r){const s=Sa(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Sa(e);let p=qn();return u.J({range:s,H:!0},(v,P,N)=>{const W=Xt(v[1]),ie=new Rt(W);p=p.add(ie)}).next(()=>p)}containsKey(e,r){const s=wt(r.path),u=IDBKeyRange.bound([s],[On(s)],!1,!0);let p=0;return Sa(e).J({index:"documentTargetsIndex",H:!0,range:u},([v,P],N,W)=>{0!==v&&(p++,W.done())}).next(()=>p>0)}ot(e,r){return nu(e).get(r).next(s=>s?rt(s):null)}}function nu(a){return ri(a,"targets")}function Ll(a){return ri(a,"targetGlobal")}function Sa(a){return ri(a,"targetDocuments")}function $d([a,e],[r,s]){const u=Nt(a,r);return 0===u?Nt(e,s):u}class Pa{constructor(e){this.Kn=e,this.buffer=new Pr($d),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();$d(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $c{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Tn(s)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Dn(s)}yield r.zn(3e5)}))}}class va{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return $e.resolve(F.oe);const s=new Pa(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(ac)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ac):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,p,v,P,N,W;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),u=this.params.maximumSequenceNumbersToCollect):u=_e,v=Date.now(),this.nthSequenceNumber(e,u))).next(_e=>(s=_e,P=Date.now(),this.removeTargets(e,s,r))).next(_e=>(p=_e,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(_e=>(W=Date.now(),ft()<=De.$b.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ie}ms\n\tDetermined least recently used ${u} in `+(P-v)+`ms\n\tRemoved ${p} targets in `+(N-P)+`ms\n\tRemoved ${_e} documents in `+(W-N)+`ms\nTotal Duration: ${W-ie}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:_e})))}}class Uh{constructor(e,r){this.db=e,this.garbageCollector=function Ul(a,e){return new va(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return jc(e,s)}removeReference(e,r,s){return jc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return jc(e,r)}er(e,r){return function(u,p){let v=!1;return Nu(u).Y(P=>Bc(u,P,p).next(N=>(N&&(v=!0),$e.resolve(!N)))).next(()=>v)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Xn(e,(v,P)=>{if(P<=r){const N=this.er(e,v).next(W=>{if(!W)return p++,s.getEntry(e,v).next(()=>(s.removeEntry(v,St.min()),Sa(e).delete([0,wt(v.path)])))});u.push(N)}}).next(()=>$e.waitFor(u)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return jc(e,r)}Xn(e,r){const s=Sa(e);let u,p=F.oe;return s.J({index:"documentTargetsIndex"},([v,P],{path:N,sequenceNumber:W})=>{0===v?(p!==F.oe&&r(new Rt(Xt(u)),p),p=W,u=N):p=F.oe}).next(()=>{p!==F.oe&&r(new Rt(Xt(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(a,e){return Sa(a).put((u=a.currentSequenceNumber,{targetId:0,path:wt(e.path),sequenceNumber:u}));var u}class ru{constructor(){this.changes=new xs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,G.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?$e.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ea(e).put(s)}removeEntry(e,r,s){return Ea(e).delete(function(p,v){const P=p.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],O(v),P[P.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=G.newInvalidDocument(r);return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(r))},(u,p)=>{s=this.nr(r,p)}).next(()=>s)}rr(e,r){let s={size:0,document:G.newInvalidDocument(r)};return Ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(r))},(u,p)=>{s={document:this.nr(r,p),size:Ws(p)}}).next(()=>s)}getEntries(e,r){let s=zr();return this.ir(e,r,(u,p)=>{const v=this.nr(u,p);s=s.insert(u,v)}).next(()=>s)}sr(e,r){let s=zr(),u=new rr(Rt.comparator);return this.ir(e,r,(p,v)=>{const P=this.nr(p,v);s=s.insert(p,P),u=u.insert(p,Ws(v))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return $e.resolve();let u=new Pr(zc);r.forEach(N=>u=u.add(N));const p=IDBKeyRange.bound(ku(u.first()),ku(u.last())),v=u.getIterator();let P=v.getNext();return Ea(e).J({index:"documentKeyIndex",range:p},(N,W,ie)=>{const _e=Rt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;P&&zc(P,_e)<0;)s(P,null),P=v.getNext();P&&P.isEqual(_e)&&(s(P,W),P=v.hasNext()?v.getNext():null),P?ie.$(ku(P)):ie.done()}).next(()=>{for(;P;)s(P,null),P=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,p){const v=r.path,P=[v.popLast().toArray(),v.lastSegment(),O(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(e).U(IDBKeyRange.bound(P,N,!0)).next(W=>{p?.incrementDocumentReadCount(W.length);let ie=zr();for(const _e of W){const xe=this.nr(Rt.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);xe.isFoundDocument()&&(Qi(r,xe)||u.has(xe.key))&&(ie=ie.insert(xe.key,xe))}return ie})}getAllFromCollectionGroup(e,r,s,u){let p=zr();const v=Hd(r,s),P=Hd(r,Qt.max());return Ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,P,!0)},(N,W,ie)=>{const _e=this.nr(Rt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);p=p.insert(_e.key,_e),p.size===u&&ie.done()}).next(()=>p)}newChangeBuffer(e){return new jd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Hc(e).get("remoteDocumentGlobalKey").next(r=>(Pt(!!r),r))}tr(e,r){return Hc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function R(a,e){let r;if(e.document)r=bs(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Rt.fromSegments(e.noDocument.path),u=re(e.noDocument.readTime);r=G.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const s=Rt.fromSegments(e.unknownDocument.path),u=re(e.unknownDocument.version);r=G.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const p=new Vt(u[0],u[1]);return St.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(St.min()))return s}return G.newInvalidDocument(e)}}function Fs(a){return new Hf(a)}class jd extends ru{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new xs(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Pr((p,v)=>Nt(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const P=this.ur.get(p);if(r.push(this.ar.removeEntry(e,p,P.readTime)),v.isValidDocument()){const N=b(this.ar.serializer,v);u=u.add(p.path.popLast());const W=Ws(N);s+=W-P.size,r.push(this.ar.addEntry(e,p,N))}else if(s-=P.size,this.trackRemovals){const N=b(this.ar.serializer,v.convertToNoDocument(St.min()));r.push(this.ar.addEntry(e,p,N))}}),u.forEach(p=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.ar.updateMetadata(e,s)),$e.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((p,v)=>{this.ur.set(p,{size:v,readTime:s.get(p).readTime})}),s))}}function Hc(a){return ri(a,"remoteDocumentGlobal")}function Ea(a){return ri(a,"remoteDocumentsV14")}function ku(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hd(a,e){const r=e.documentKey.path.toArray();return[a,O(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function zc(a,e){const r=a.path.toArray(),s=e.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<s.length-2;++p)if(u=Nt(r[p],s[p]),u)return u;return u=Nt(r.length,s.length),u||(u=Nt(r[r.length-2],s[s.length-2]),u||Nt(r[r.length-1],s[s.length-1]))}class Fu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Gs{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&be(s.mutation,u,xi.empty(),Vt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,qn()).next(()=>s))}getLocalViewOfDocuments(e,r,s=qn()){const u=js();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(p=>{let v=Mi();return p.forEach((P,N)=>{v=v.insert(P,N.overlayedDocument)}),v}))}getOverlayedDocuments(e,r){const s=js();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,qn()))}populateOverlays(e,r,s){const u=[];return s.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((v,P)=>{r.set(v,P)})})}computeViews(e,r,s,u){let p=zr();const v=Ys(),P=Ys();return r.forEach((N,W)=>{const ie=s.get(W.key);u.has(W.key)&&(void 0===ie||ie.mutation instanceof Tr)?p=p.insert(W.key,W):void 0!==ie?(v.set(W.key,ie.mutation.getFieldMask()),be(ie.mutation,W,ie.mutation.getFieldMask(),Vt.now())):v.set(W.key,xi.empty())}),this.recalculateAndSaveOverlays(e,p).next(N=>(N.forEach((W,ie)=>v.set(W,ie)),r.forEach((W,ie)=>{var _e;return P.set(W,new Fu(ie,null!==(_e=v.get(W))&&void 0!==_e?_e:null))}),P))}recalculateAndSaveOverlays(e,r){const s=Ys();let u=new rr((v,P)=>v-P),p=qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(v=>{for(const P of v)P.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let ie=s.get(N)||xi.empty();ie=P.applyToLocalView(W,ie),s.set(N,ie);const _e=(u.get(P.batchId)||qn()).add(N);u=u.insert(P.batchId,_e)})}).next(()=>{const v=[],P=u.getReverseIterator();for(;P.hasNext();){const N=P.getNext(),W=N.key,ie=N.value,_e=Do();ie.forEach(xe=>{if(!p.has(xe)){const et=U(r.get(xe),s.get(xe));null!==et&&_e.set(xe,et),p=p.add(xe)}}),v.push(this.documentOverlayCache.saveOverlays(e,W,_e))}return $e.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Rt.isDocumentKey((v=r).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ua(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var v}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-p.size):$e.resolve(js());let P=-1,N=p;return v.next(W=>$e.forEach(W,(ie,_e)=>(P<_e.largestBatchId&&(P=_e.largestBatchId),p.get(ie)?$e.resolve():this.remoteDocumentCache.getEntry(e,ie).next(xe=>{N=N.insert(ie,xe)}))).next(()=>this.populateOverlays(e,W,p)).next(()=>this.computeViews(e,N,W,qn())).next(ie=>({batchId:P,changes:ec(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Rt(r)).next(s=>{let u=Mi();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const p=r.collectionGroup;let v=Mi();return this.indexManager.getCollectionParents(e,p).next(P=>$e.forEach(P,N=>{const W=(_e=r,xe=N.child(p),new wo(xe,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,xe;return this.getDocumentsMatchingCollectionQuery(e,W,s,u).next(ie=>{ie.forEach((_e,xe)=>{v=v.insert(_e,xe)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,r,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,p,u))).next(v=>{p.forEach((N,W)=>{const ie=W.getKey();null===v.get(ie)&&(v=v.insert(ie,G.newInvalidDocument(ie)))});let P=Mi();return v.forEach((N,W)=>{const ie=p.get(N);void 0!==ie&&be(ie.mutation,W,xi.empty(),Vt.now()),Qi(r,W)&&(P=P.insert(N,W))}),P})}}class Vu{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return $e.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:yi(u.createTime)}),$e.resolve();var u}getNamedQuery(e,r){return $e.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:an(u.bundledQuery),readTime:yi(u.readTime)}),$e.resolve();var u}}class zd{constructor(){this.overlays=new rr(Rt.comparator),this.hr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const s=js();return $e.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,p)=>{this.ht(e,r,p)}),$e.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(s)),$e.resolve()}getOverlaysForCollection(e,r,s){const u=js(),p=r.length+1,v=new Rt(r.child("")),P=this.overlays.getIteratorFrom(v);for(;P.hasNext();){const N=P.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===p&&N.largestBatchId>s&&u.set(N.getKey(),N)}return $e.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let p=new rr((W,ie)=>W-ie);const v=this.overlays.getIterator();for(;v.hasNext();){const W=v.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let ie=p.get(W.largestBatchId);null===ie&&(ie=js(),p=p.insert(W.largestBatchId,ie)),ie.set(W.getKey(),W)}}const P=js(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,ie)=>P.set(W,ie)),!(P.size()>=u)););return $e.resolve(P)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new ps(r,s));let p=this.hr.get(r);void 0===p&&(p=qn(),this.hr.set(r,p)),this.hr.set(r,p.add(s.key))}}class iu{constructor(){this.Pr=new Pr($i.Ir),this.Tr=new Pr($i.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new $i(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new $i(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Rt(new nn([])),s=new $i(r,e),u=new $i(r,e+1),p=[];return this.Tr.forEachInRange([s,u],v=>{this.Ar(v),p.push(v.key)}),p}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Rt(new nn([])),s=new $i(r,e),u=new $i(r,e+1);let p=qn();return this.Tr.forEachInRange([s,u],v=>{p=p.add(v.key)}),p}containsKey(e){const r=new $i(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class $i{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Rt.comparator(e.key,r.key)||Nt(e.pr,r.pr)}static Er(e,r){return Nt(e.pr,r.pr)||Rt.comparator(e.key,r.key)}}class sg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Pr($i.Ir)}checkEmpty(e){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const p=this.yr;this.yr++;const v=new bi(p,r,s,u);this.mutationQueue.push(v);for(const P of u)this.wr=this.wr.add(new $i(P.key,p)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return $e.resolve(v)}lookupMutationBatch(e,r){return $e.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),p=u<0?0:u;return $e.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new $i(r,0),u=new $i(r,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([s,u],v=>{const P=this.Sr(v.pr);p.push(P)}),$e.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pr(Nt);return r.forEach(u=>{const p=new $i(u,0),v=new $i(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,v],P=>{s=s.add(P.pr)})}),$e.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let p=s;Rt.isDocumentKey(p)||(p=p.child(""));const v=new $i(new Rt(p),0);let P=new Pr(Nt);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===u&&(P=P.add(N.pr)),!0)},v),$e.resolve(this.Dr(P))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Pt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return $e.forEach(r.mutations,u=>{const p=new $i(u.key,r.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new $i(r,0),u=this.wr.firstAfterOrEqual(s);return $e.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return $e.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class zf{constructor(e){this.vr=e,this.docs=new rr(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),p=u?u.size:0,v=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return $e.resolve(s?s.document.mutableCopy():G.newInvalidDocument(r))}getEntries(e,r){let s=zr();return r.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():G.newInvalidDocument(u))}),$e.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let p=zr();const v=r.path,P=new Rt(v.child("")),N=this.docs.getIteratorFrom(P);for(;N.hasNext();){const{key:W,value:{document:ie}}=N.getNext();if(!v.isPrefixOf(W.path))break;W.path.length>v.length+1||Jr(Yi(ie),s)<=0||(u.has(ie.key)||Qi(r,ie))&&(p=p.insert(ie.key,ie.mutableCopy()))}return $e.resolve(p)}getAllFromCollectionGroup(e,r,s,u){vt()}Fr(e,r){return $e.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Wd(this)}getSize(e){return $e.resolve(this.size)}}class Wd extends ru{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),$e.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class og{constructor(e){this.persistence=e,this.Mr=new xs(r=>Is(r),Cs),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iu,this.targetCount=0,this.Lr=yo.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),$e.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new yo(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.qn(r),$e.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,s){let u=0;const p=[];return this.Mr.forEach((v,P)=>{P.sequenceNumber<=r&&null===s.get(P.targetId)&&(this.Mr.delete(v),p.push(this.removeMatchingKeysForTargetId(e,P.targetId)),u++)}),$e.waitFor(p).next(()=>u)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return $e.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),$e.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),$e.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return $e.resolve(s)}containsKey(e,r){return $e.resolve(this.Nr.containsKey(r))}}class Wf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new og(this),this.indexManager=new ig,this.remoteDocumentCache=new zf(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new Vu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new zd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new sg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ce("MemoryPersistence","Starting transaction:",e);const u=new Bl(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(p=>this.referenceDelegate.Wr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Gr(e,r){return $e.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Bl extends cr{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.zr=new iu,this.jr=null}static Hr(e){return new Gd(e)}get Jr(){if(this.jr)return this.jr;throw vt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),$e.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),$e.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.Jr.add(p.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Jr,s=>{const u=Rt.fromPath(s);return this.Yr(e,u).next(p=>{p||r.removeEntry(u,St.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return $e.or([()=>$e.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class cc{constructor(e){this.serializer=e}O(e,r,s,u){const p=new at("createOrUpgrade",r);var N;s<1&&u>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0}),N.createObjectStore("documentMutations"),Bh(e),function(N){N.createObjectStore("remoteDocuments")}(e));let v=$e.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Bh(e)),v=v.next(()=>function(N){const W=N.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",ie)}(p))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(N,W){return W.store("mutations").U().next(ie=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0});const _e=W.store("mutations"),xe=ie.map(et=>_e.put(et));return $e.waitFor(xe)})}(e,p))),v=v.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(v=v.next(()=>this.Xr(p))),s<6&&u>=6&&(v=v.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(p)))),s<7&&u>=7&&(v=v.next(()=>this.ti(p))),s<8&&u>=8&&(v=v.next(()=>this.ni(e,p))),s<9&&u>=9&&(v=v.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(v=v.next(()=>this.ri(p))),s<11&&u>=11&&(v=v.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(v=v.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:Mn});W.createIndex("collectionPathOverlayIndex",wn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Gn,{unique:!1})}(e)})),s<13&&u>=13&&(v=v.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Us});W.createIndex("documentKeyIndex",Gr),W.createIndex("collectionGroupIndex",zi)}(e)).next(()=>this.ii(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.si(e,p))),s<15&&u>=15&&(v=v.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Ge}).createIndex("sequenceNumberIndex",_t,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Jt}).createIndex("documentKeyIndex",bn,{unique:!1})}(e))),s<16&&u>=16&&(v=v.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),v}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=Ws(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>$e.forEach(u,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(P=>$e.forEach(P,N=>{Pt(N.userId===p.userId);const W=Ie(this.serializer,N);return Vh(e,p.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((v,P)=>{const N=new nn(v),W=[0,wt(N)];p.push(r.get(W).next(ie=>ie?$e.resolve():r.put({targetId:0,path:wt(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>$e.waitFor(p))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:nt});const s=r.store("collectionParents"),u=new Za,p=v=>{if(u.add(v)){const P=v.lastSegment(),N=v.popLast();return s.put({collectionId:P,parent:wt(N)})}};return r.store("remoteDocuments").J({H:!0},(v,P)=>{const N=new nn(v);return p(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([v,P,N],W)=>{const ie=Xt(P);return p(ie.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const p=rt(u),v=tt(this.serializer,p);return r.put(v)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((p,v)=>{const P=r.store("remoteDocumentsV14"),N=(_e=v,_e.document?new Rt(nn.fromString(_e.document.name).popFirst(5)):_e.noDocument?Rt.fromSegments(_e.noDocument.path):_e.unknownDocument?Rt.fromSegments(_e.unknownDocument.path):vt()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var _e;u.push(P.put(W))}).next(()=>$e.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Fs(this.serializer),p=new Wf(Gd.Hr,this.serializer.ct);return s.U().next(v=>{const P=new Map;return v.forEach(N=>{var W;let ie=null!==(W=P.get(N.userId))&&void 0!==W?W:qn();Ie(this.serializer,N).keys().forEach(_e=>ie=ie.add(_e)),P.set(N.userId,ie)}),$e.forEach(P,(N,W)=>{const ie=new Ye(W),_e=Qa.lt(this.serializer,ie),xe=p.getIndexManager(ie),et=Vl.lt(ie,this.serializer,xe,p.referenceDelegate);return new Gs(u,et,_e,xe).recalculateAndSaveOverlaysForDocumentKeys(new vs(r,F.oe),N).next()})})}}function Bh(a){a.createObjectStore("targetDocuments",{keyPath:Zr}).createIndex("documentTargetsIndex",Yn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ls,{unique:!0}),a.createObjectStore("targetGlobal")}const $l="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class us{constructor(e,r,s,u,p,v,P,N,W,ie,_e=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=p,this.window=v,this.document=P,this._i=W,this.ai=ie,this.ui=_e,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=xe=>Promise.resolve(),!us.D())throw new ue(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uh(this,u),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new oe(this.Ti,this.ui,new cc(this.serializer)),this.Qr=new Lh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fs(this.serializer),this.$r=new qr,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ie&&$t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(pe.FAILED_PRECONDITION,$l);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ra(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Tn(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Wc(e).get("owner").next(r=>$e.resolve(this.Si(r)))}bi(e){return Ra(e).delete(this.clientId)}Di(){var e=this;return(0,l.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ri(s,"clientMetadata");return u.U().next(p=>{const v=e.vi(p,18e5),P=p.filter(N=>-1===v.indexOf(N));return $e.forEach(P,N=>u.delete(N.clientId)).next(()=>P)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?$e.resolve(!0):Wc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new ue(pe.FAILED_PRECONDITION,$l);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ra(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ce("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new vs(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ra(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Vl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fl(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qa.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ce("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",p=16===(N=this.ui)?ei:15===N?ys:14===N?lr:13===N?oi:12===N?Rr:11===N?Kn:void vt();var N;let v;return this.Ei.runTransaction(e,u,p,P=>(v=new vs(P,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(v).next(N=>!!N||this.pi(v)).next(N=>{if(!N)throw $t(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ue(pe.FAILED_PRECONDITION,Hn);return s(v)}).next(N=>this.wi(v).next(()=>N)):this.ki(v).next(()=>s(v)))).then(P=>(v.raiseOnCommittedEvent(),P))}ki(e){return Wc(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ue(pe.FAILED_PRECONDITION,$l)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wc(e).put("owner",r)}static D(){return oe.D()}yi(e){const r=Wc(e);return r.get("owner").next(s=>this.Si(s)?(Ce("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):$e.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&($t(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ce("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return $t("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wc(a){return ri(a,"owner")}function Ra(a){return ri(a,"clientMetadata")}function jl(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class co{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=qn(),u=qn();for(const p of r.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new co(e,r.fromCache,s,u)}}class oa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Ee.nr)()?8:Te((0,Ee.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const p={result:null};return this.ji(e,r).next(v=>{p.result=v}).next(()=>{if(!p.result)return this.Hi(e,r,u,s).next(v=>{p.result=v})}).next(()=>{if(p.result)return;const v=new oa;return this.Ji(e,r,v).next(P=>{if(p.result=P,this.Ui)return this.Yi(e,r,v,P.size)})}).next(()=>p.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(ft()<=De.$b.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",hs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$e.resolve()):(ft()<=De.$b.DEBUG&&Ce("QueryEngine","Query:",hs(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(ft()<=De.$b.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",hs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Q(r))):$e.resolve())}ji(e,r){if(Wo(r))return $e.resolve(null);let s=Q(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=ln(r,null,"F"),s=Q(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const v=qn(...p);return this.zi.getDocuments(e,v).next(P=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,P);return this.Xi(r,W,v,N.readTime)?this.ji(e,ln(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,u){return Wo(r)||u.isEqual(St.min())?$e.resolve(null):this.zi.getDocuments(e,s).next(p=>{const v=this.Zi(r,p);return this.Xi(r,v,s,u)?$e.resolve(null):(ft()<=De.$b.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hs(r)),this.es(e,v,r,Yr(u,-1)).next(P=>P))})}Zi(e,r){let s=new Pr(Os(e));return r.forEach((u,p)=>{Qi(e,p)&&(s=s.add(p))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Ji(e,r,s){return ft()<=De.$b.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",hs(r)),this.zi.getDocumentsMatchingQuery(e,r,Qt.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(p=>(r.forEach(v=>{p=p.insert(v.key,v)}),p))}}class lc{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new rr(Nt),this.rs=new xs(p=>Is(p),Cs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gs(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function dc(a,e,r,s){return new lc(a,e,r,s)}function Gf(a,e){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.A)(function*(a,e){const r=Je(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(p=>{const v=[],P=[];let N=qn();for(const W of u){v.push(W.batchId);for(const ie of W.mutations)N=N.add(ie.key)}for(const W of p){P.push(W.batchId);for(const ie of W.mutations)N=N.add(ie.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:v,addedBatchIds:P}))})})})).apply(this,arguments)}function Kf(a){const e=Je(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function zl(a,e,r){let s=qn(),u=qn();return r.forEach(p=>s=s.add(p)),e.getEntries(a,s).next(p=>{let v=zr();return r.forEach((P,N)=>{const W=p.get(P);N.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(P)),N.isNoDocument()&&N.version.isEqual(St.min())?(e.removeEntry(P,N.readTime),v=v.insert(P,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),v=v.insert(P,N)):Ce("LocalStore","Ignoring outdated watch update for ",P,". Current version:",W.version," Watch version:",N.version)}),{cs:v,ls:u}})}function Lu(a,e){const r=Je(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hc(a,e){const r=Je(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(p=>p?(u=p,$e.resolve(u)):r.Qr.allocateTargetId(s).next(v=>(u=new qo(e,v,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ma(a,e,r){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.A)(function*(a,e,r){const s=Je(a),u=s.ns.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",p,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Tn(v))throw v;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function Wl(a,e,r){const s=Je(a);let u=St.min(),p=qn();return s.persistence.runTransaction("Execute query","readwrite",v=>function(N,W,ie){const _e=Je(N),xe=_e.rs.get(ie);return void 0!==xe?$e.resolve(_e.ns.get(xe)):_e.Qr.getTargetData(W,ie)}(s,v,Q(e)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(v,P.targetId).next(N=>{p=N})}).next(()=>s.ts.getDocumentsMatchingQuery(v,e,r?u:St.min(),r?p:qn())).next(P=>(Kd(s,Ao(e),P),{documents:P,hs:p})))}function Gl(a,e){const r=Je(a),s=Je(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,e).next(v=>v?v.target:null))}function jh(a,e){const r=Je(a),s=r.ss.get(e)||St.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Yr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Kd(r,e,u),u))}function Kd(a,e,r){let s=a.ss.get(e)||St.min();r.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),a.ss.set(e,s)}function Uu(){return(Uu=(0,l.A)(function*(a,e,r,s){const u=Je(a);let p=qn(),v=zr();for(const W of r){const ie=e.Ps(W.metadata.name);W.document&&(p=p.add(ie));const _e=e.Is(W);_e.setReadTime(e.Ts(W.metadata.readTime)),v=v.insert(ie,_e)}const P=u.os.newChangeBuffer({trackRemovals:!0}),N=yield hc(u,(ie=s,Q(Nr(nn.fromString(`__bundle__/docs/${ie}`)))));var ie;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>zl(W,P,v).next(ie=>(P.apply(W),ie)).next(ie=>u.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>u.Qr.addMatchingKeys(W,p,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,ie.cs,ie.ls)).next(()=>ie.cs)))})).apply(this,arguments)}function Kc(a,e){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.A)(function*(a,e,r=qn()){const s=yield hc(a,Q(an(e.bundledQuery))),u=Je(a);return u.persistence.runTransaction("Save named query","readwrite",p=>{const v=yi(e.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.$r.saveNamedQuery(p,e);const P=s.withResumeToken(Ii.EMPTY_BYTE_STRING,v);return u.ns=u.ns.insert(P.targetId,P),u.Qr.updateTargetData(p,P).next(()=>u.Qr.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Qr.addMatchingKeys(p,r,s.targetId)).next(()=>u.$r.saveNamedQuery(p,e))})})).apply(this,arguments)}function Bu(a,e){return`firestore_clients_${a}_${e}`}function Qd(a,e,r){let s=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Oa(a,e){return`firestore_targets_${a}_${e}`}class qc{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let p,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(p=new ue(u.error.code,u.error.message))),v?new qc(e,r,u.state,p):($t("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $u{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new ue(s.error.code,s.error.message))),p?new $u(e,s.state,u):($t("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=Tu();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=ht(s.activeTargetIds[v]),p=p.add(s.activeTargetIds[v]);return u?new fc(e,p):($t("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Yo{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Yo(r.clientId,r.onlineState):($t("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ql{constructor(){this.activeTargetIds=Tu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hh{constructor(e,r,s,u,p){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rr(Nt),this.started=!1,this.ys=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Bu(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new ql),this.bs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.A)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const p=e.getItem(Bu(e.persistenceKey,u));if(p){const v=fc.Es(u,p);v&&(e.ps=e.ps.insert(v.clientId,v))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Oa(this.persistenceKey,e));if(s){const u=$u.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Oa(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ce("SharedClientState","READ",e,r),r}setItem(e,r){Ce("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ce("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(v){let P=F.oe;if(null!=v)try{const N=JSON.parse(v);Pt("number"==typeof N),P=N}catch(N){$t("SharedClientState","Failed to read sequence number from WebStorage",N)}return P}(s.newValue);u!==F.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(p=>r.syncEngine.Ys(p)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new qc(this.currentUser,e,r,s),p=Qd(this.persistenceKey,this.currentUser,e);this.setItem(p,u.ds())}Bs(e){const r=Qd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Oa(this.persistenceKey,e),p=new $u(e,r,s);this.setItem(u,p.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return fc.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return qc.Es(new Ye(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return $u.Es(u,r)}xs(e){return Yo.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),p=this.Ns(s),v=[],P=[];return p.forEach(N=>{u.has(N)||v.push(N)}),u.forEach(N=>{p.has(N)||P.push(N)}),this.syncEngine.eo(v,P).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Tu();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Ia{constructor(){this.no=new ql,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ql,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class su{io(e){}shutdown(){}}class pc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xd=null;function Yd(){return null===Xd?Xd=268435456+Math.round(2147483648*Math.random()):Xd++,"0x"+Xd.toString(16)}const C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Do(){return!1}Co(r,s,u,p,v){const P=Yd(),N=this.vo(r,s.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${P}:`,N,u);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,p,v),this.Mo(r,N,W,u).then(ie=>(Ce("RestConnection",`Received RPC '${r}' ${P}: `,ie),ie),ie=>{throw Yt("RestConnection",`RPC '${r}' ${P} failed with error: `,ie,"url: ",N,"request:",u),ie})}xo(r,s,u,p,v,P){return this.Co(r,s,u,p,v)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,v)=>r[v]=p),u&&u.headers.forEach((p,v)=>r[v]=p)}vo(r,s){return`${this.wo}/v1/${s}:${C[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const p=Yd();return new Promise((v,P)=>{const N=new Me;N.setWithCredentials(!0),N.listenOnce(It.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case pt.NO_ERROR:const ie=N.getResponseJson();Ce(_,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(ie)),v(ie);break;case pt.TIMEOUT:Ce(_,`RPC '${e}' ${p} timed out`),P(new ue(pe.DEADLINE_EXCEEDED,"Request time out"));break;case pt.HTTP_ERROR:const _e=N.getStatus();if(Ce(_,`RPC '${e}' ${p} failed with status:`,_e,"response text:",N.getResponseText()),_e>0){let xe=N.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const et=xe?.error;if(et&&et.status&&et.message){const Mt=function(Ut){const An=Ut.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(An)>=0?An:pe.UNKNOWN}(et.status);P(new ue(Mt,et.message))}else P(new ue(pe.UNKNOWN,"Server responded with status "+N.getStatus()))}else P(new ue(pe.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ce(_,`RPC '${e}' ${p} completed.`)}});const W=JSON.stringify(u);Ce(_,`RPC '${e}' ${p} sending request:`,u),N.send(r,"POST",W,s,15)})}Oo(e,r,s){const u=Yd(),p=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=We(),P=on(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.xmlHttpFactory=new ct({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const ie=p.join("");Ce(_,`Creating RPC '${e}' stream ${u}: ${ie}`,N);const _e=v.createWebChannel(ie,N);let xe=!1,et=!1;const Mt=new f({lo:Ut=>{et?Ce(_,`Not sending because RPC '${e}' stream ${u} is closed:`,Ut):(xe||(Ce(_,`Opening RPC '${e}' stream ${u} transport.`),_e.open(),xe=!0),Ce(_,`RPC '${e}' stream ${u} sending:`,Ut),_e.send(Ut))},ho:()=>_e.close()}),Wt=(Ut,An,jn)=>{Ut.listen(An,Rn=>{try{jn(Rn)}catch(Cr){setTimeout(()=>{throw Cr},0)}})};return Wt(_e,Ke.EventType.OPEN,()=>{et||(Ce(_,`RPC '${e}' stream ${u} transport opened.`),Mt.mo())}),Wt(_e,Ke.EventType.CLOSE,()=>{et||(et=!0,Ce(_,`RPC '${e}' stream ${u} transport closed`),Mt.po())}),Wt(_e,Ke.EventType.ERROR,Ut=>{et||(et=!0,Yt(_,`RPC '${e}' stream ${u} transport errored:`,Ut),Mt.po(new ue(pe.UNAVAILABLE,"The operation could not be completed")))}),Wt(_e,Ke.EventType.MESSAGE,Ut=>{var An;if(!et){const jn=Ut.data[0];Pt(!!jn);const Cr=jn.error||(null===(An=jn[0])||void 0===An?void 0:An.error);if(Cr){Ce(_,`RPC '${e}' stream ${u} received error:`,Cr);const vi=Cr.status;let Lr=function(g){const D=Et[g];if(void 0!==D)return tc(D)}(vi),E=Cr.message;void 0===Lr&&(Lr=pe.INTERNAL,E="Unknown error status: "+vi+" with message "+Cr.message),et=!0,Mt.po(new ue(Lr,E)),_e.close()}else Ce(_,`RPC '${e}' stream ${u} received:`,jn),Mt.yo(jn)}}),Wt(P,Ct.STAT_EVENT,Ut=>{Ut.stat===kt.PROXY?Ce(_,`RPC '${e}' stream ${u} detected buffering proxy`):Ut.stat===kt.NOPROXY&&Ce(_,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Mt.fo()},0),Mt}}function K(){return typeof window<"u"?window:null}function ae(){return typeof document<"u"?document:null}function ke(a){return new Ld(a,!0)}class st{constructor(e,r,s=1e3,u=1.5,p=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&Ce("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class xt{constructor(e,r,s,u,p,v,P,N){this.oi=e,this.Go=s,this.zo=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=P,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new st(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,l.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,l.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,l.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===pe.RESOURCE_EXHAUSTED?($t(r.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===pe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new ue(pe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,l.A)(function*(){e.state=0,e.start()}))}c_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vn extends xt{constructor(e,r,s,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,v),this.serializer=p}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Ru(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:vt(),u=e.targetChange.targetIds||[],p=function(W,ie){return W.useProto3Json?(Pt(void 0===ie||"string"==typeof ie),Ii.fromBase64String(ie||"")):(Pt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Ii.fromUint8Array(ie||new Uint8Array))}(a,e.targetChange.resumeToken),v=e.targetChange.cause,P=v&&function(W){const ie=void 0===W.code?pe.UNKNOWN:tc(W.code);return new ue(ie,W.message||"")}(v);r=new Ro(s,u,p,P||null)}else if("documentChange"in e){const s=e.documentChange,u=Mo(a,s.document.name),p=yi(s.document.updateTime),v=s.document.createTime?yi(s.document.createTime):St.min(),P=new ai({mapValue:{fields:s.document.fields}}),N=G.newFoundDocument(u,p,v,P);r=new Du(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,u=Mo(a,s.document),p=s.readTime?yi(s.readTime):St.min(),v=G.newNoDocument(u,p);r=new Du([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,u=Mo(a,s.document);r=new Du([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return vt();{const s=e.filter,{count:u=0,unchangedNames:p}=s,v=new Ns(u,p);r=new rc(s.targetId,v)}}var W;return r}(this.serializer,e),s=function(p){if(!("targetChange"in p))return St.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?St.min():v.readTime?yi(v.readTime):St.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Or(this.serializer),r.addTarget=function(p,v){let P;const N=v.target;if(P=Va(N)?{documents:Rl(p,N)}:{query:kc(p,N)._t},P.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){P.resumeToken=Pu(p,v.resumeToken);const W=ja(p,v.expectedCount);null!==W&&(P.expectedCount=W)}else if(v.snapshotVersion.compareTo(St.min())>0){P.readTime=ks(p,v.snapshotVersion.toTimestamp());const W=ja(p,v.expectedCount);null!==W&&(P.expectedCount=W)}return P}(this.serializer,e);const s=function Ts(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Or(this.serializer),r.removeTarget=e,this.i_(r)}}class Ln extends xt{constructor(e,r,s,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,v),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Wa(a,e){return a&&a.length>0?(Pt(void 0!==e),a.map(r=>function(u,p){let v=yi(u.updateTime?u.updateTime:p);return v.isEqual(St.min())&&(v=yi(p)),new zs(v,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.A_(s,r)}return Pt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Or(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>eo(this.serializer,s))};this.i_(r)}}class Vr extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new ue(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.Co(e,sc(r,s),u,p,v)).catch(p=>{throw"FirebaseError"===p.name?(p.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ue(pe.UNKNOWN,p.toString())})}xo(e,r,s,u,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,P])=>this.connection.xo(e,sc(r,s),u,v,P,p)).catch(v=>{throw"FirebaseError"===v.name?(v.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new ue(pe.UNKNOWN,v.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class ko{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?($t(r),this.y_=!1):Ce("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class ou{constructor(e,r,s,u,p){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(P=>{s.enqueueAndForget((0,l.A)(function*(){var N;uu(v)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,l.A)(function*(ie){const _e=Je(ie);_e.M_.add(4),yield gc(_e),_e.N_.set("Unknown"),_e.M_.delete(4),yield au(_e)}),function W(ie){return N.apply(this,arguments)})(v))}))}),this.N_=new ko(s,u)}}function au(a){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.A)(function*(a){if(uu(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function gc(a){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.A)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function ju(a,e){const r=Je(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Zd(r)?Xl(r):td(r).Xo()&&Jd(r,e))}function Hu(a,e){const r=Je(a),s=td(r);r.F_.delete(e),s.Xo()&&zh(r,e),0===r.F_.size&&(s.Xo()?s.n_():uu(r)&&r.N_.set("Unknown"))}function Jd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}td(a).P_(e)}function zh(a,e){a.L_.xe(e),td(a).I_(e)}function Xl(a){a.L_=new ic({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),td(a).start(),a.N_.w_()}function Zd(a){return uu(a)&&!td(a).Zo()&&a.F_.size>0}function uu(a){return 0===Je(a).M_.size}function zu(a){a.L_=void 0}function Yl(a){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,l.A)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function ag(a){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.A)(function*(a){a.F_.forEach((e,r)=>{Jd(a,e)})})).apply(this,arguments)}function Zl(a,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,l.A)(function*(a,e){zu(a),Zd(a)?(a.N_.D_(e),Xl(a)):a.N_.set("Unknown")})).apply(this,arguments)}function ug(a,e,r){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,l.A)(function*(a,e,r){if(a.N_.set("Online"),e instanceof Ro&&2===e.state&&e.cause)try{yield(s=(0,l.A)(function*(p,v){const P=v.cause;for(const N of v.targetIds)p.F_.has(N)&&(yield p.remoteSyncer.rejectListen(N,P),p.F_.delete(N),p.L_.removeTarget(N))}),function u(p,v){return s.apply(this,arguments)})(a,e)}catch(s){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield mc(a,s)}else if(e instanceof Du?a.L_.Ke(e):e instanceof rc?a.L_.He(e):a.L_.We(e),!r.isEqual(St.min()))try{const s=yield Kf(a.localStore);r.compareTo(s)>=0&&(yield function(p,v){const P=p.L_.rt(v);return P.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const ie=p.F_.get(W);ie&&p.F_.set(W,ie.withResumeToken(N.resumeToken,v))}}),P.targetMismatches.forEach((N,W)=>{const ie=p.F_.get(N);if(!ie)return;p.F_.set(N,ie.withResumeToken(Ii.EMPTY_BYTE_STRING,ie.snapshotVersion)),zh(p,N);const _e=new qo(ie.target,N,W,ie.sequenceNumber);Jd(p,_e)}),p.remoteSyncer.applyRemoteEvent(P)}(a,r))}catch(s){Ce("RemoteStore","Failed to raise snapshot:",s),yield mc(a,s)}var s}),Xc.apply(this,arguments)}function mc(a,e,r){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.A)(function*(a,e,r){if(!Tn(e))throw e;a.M_.add(1),yield gc(a),a.N_.set("Offline"),r||(r=()=>Kf(a.localStore)),a.asyncQueue.enqueueRetryable((0,l.A)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield au(a)}))})).apply(this,arguments)}function Gh(a,e){return e().catch(r=>mc(a,r,e))}function ed(a){return qf.apply(this,arguments)}function qf(){return(qf=(0,l.A)(function*(a){const e=Je(a),r=Wu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;cg(e);)try{const u=yield Lu(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,Qf(e,u)}catch(u){yield mc(e,u)}lg(e)&&dg(e)})).apply(this,arguments)}function cg(a){return uu(a)&&a.v_.length<10}function Qf(a,e){a.v_.push(e);const r=Wu(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function lg(a){return uu(a)&&!Wu(a).Zo()&&a.v_.length>0}function dg(a){Wu(a).start()}function Im(a){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,l.A)(function*(a){Wu(a).V_()})).apply(this,arguments)}function Cm(a){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,l.A)(function*(a){const e=Wu(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Jo(a,e,r){return eh.apply(this,arguments)}function eh(){return(eh=(0,l.A)(function*(a,e,r){const s=a.v_.shift(),u=ts.from(s,e,r);yield Gh(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield ed(a)})).apply(this,arguments)}function hg(a,e){return th.apply(this,arguments)}function th(){return th=(0,l.A)(function*(a,e){var r;e&&Wu(a).E_&&(yield(r=(0,l.A)(function*(u,p){if(Zs(P=p.code)&&P!==pe.ABORTED){const v=u.v_.shift();Wu(u).t_(),yield Gh(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,p)),yield ed(u)}var P}),function s(u,p){return r.apply(this,arguments)})(a,e)),lg(a)&&dg(a)}),th.apply(this,arguments)}function lo(a,e){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.A)(function*(a,e){const r=Je(a);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const s=uu(r);r.M_.add(3),yield gc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield au(r)})).apply(this,arguments)}function qh(a,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,l.A)(function*(a,e){const r=Je(a);e?(r.M_.delete(2),yield au(r)):e||(r.M_.add(2),yield gc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function td(a){return a.B_||(a.B_=function(r,s,u){const p=Je(r);return p.f_(),new vn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Po:Yl.bind(null,a),To:ag.bind(null,a),Ao:Zl.bind(null,a),h_:ug.bind(null,a)}),a.x_.push(function(){var e=(0,l.A)(function*(r){r?(a.B_.t_(),Zd(a)?Xl(a):a.N_.set("Unknown")):(yield a.B_.stop(),zu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Wu(a){return a.k_||(a.k_=function(r,s,u){const p=Je(r);return p.f_(),new Ln(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:Im.bind(null,a),Ao:hg.bind(null,a),R_:Cm.bind(null,a),A_:Jo.bind(null,a)}),a.x_.push(function(){var e=(0,l.A)(function*(r){r?(a.k_.t_(),yield ed(a)):(yield a.k_.stop(),a.v_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class Yf{constructor(e,r,s,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new me,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,p){const v=Date.now()+s,P=new Yf(e,r,v,u,p);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(a,e){if($t("AsyncQueue",`${e}: ${a}`),Tn(a))return new ue(pe.UNAVAILABLE,`${e}: ${a}`);throw a}class nd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Rt.comparator(r.key,s.key):(r,s)=>Rt.comparator(r.key,s.key),this.keyedMap=Mi(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new nd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new nd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class fg{constructor(){this.q_=new rr(Rt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):vt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class _c{constructor(e,r,s,u,p,v,P,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=P,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,u,p){const v=[];return r.forEach(P=>{v.push({type:0,doc:P})}),new _c(e,r,nd.emptySet(r),v,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class bm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Jf{constructor(){this.queries=new xs(e=>qi(e),Nn),this.onlineState="Unknown",this.z_=new Set}}function rd(a,e){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,l.A)(function*(a,e){const r=Je(a);let s=3;const u=e.query;let p=r.queries.get(u);p?!p.W_()&&e.G_()&&(s=2):(p=new bm,s=e.G_()?0:1);try{switch(s){case 0:p.K_=yield r.onListen(u,!0);break;case 1:p.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(v){const P=Gu(v,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(P)}r.queries.set(u,p),p.U_.push(e),e.j_(r.onlineState),p.K_&&e.H_(p.K_)&&Yh(r)})).apply(this,arguments)}function Yc(a,e){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.A)(function*(a,e){const r=Je(a),s=e.query;let u=3;const p=r.queries.get(s);if(p){const v=p.U_.indexOf(e);v>=0&&(p.U_.splice(v,1),0===p.U_.length?u=e.G_()?0:1:!p.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Tm(a,e){const r=Je(a);let s=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const P of v.U_)P.H_(u)&&(s=!0);v.K_=u}}s&&Yh(r)}function Xh(a,e,r){const s=Je(a),u=s.queries.get(e);if(u)for(const p of u.U_)p.onError(r);s.queries.delete(e)}function Yh(a){a.z_.forEach(e=>{e.next()})}var nh,id;(id=nh||(nh={})).J_="default",id.Cache="cache";class rh{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new _c(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==nh.Cache}}class pg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Jh{constructor(e){this.serializer=e}Ps(e){return Mo(this.serializer,e)}Is(e){return e.metadata.exists?bs(this.serializer,e.document,!1):G.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return yi(e)}}class Zh{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=nn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Jh(this.serializer);for(const u of e)if(u.metadata.queries){const p=s.Ps(u.metadata.name);for(const v of u.metadata.queries){const P=(r.get(v)||qn()).add(p);r.set(v,P)}}return r}complete(){var e=this;return(0,l.A)(function*(){const r=yield function qd(a,e,r,s){return Uu.apply(this,arguments)}(e.localStore,new Jh(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield Kc(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function gg(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class mg{constructor(e){this.key=e}}class ih{constructor(e){this.key=e}}class _g{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=qn(),this.mutatedKeys=qn(),this.Ia=Os(e),this.Ta=new nd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new fg,u=r?r.Ta:this.Ta;let p=r?r.mutatedKeys:this.mutatedKeys,v=u,P=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ie,_e)=>{const xe=u.get(ie),et=Qi(this.query,_e)?_e:null,Mt=!!xe&&this.mutatedKeys.has(xe.key),Wt=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let Ut=!1;xe&&et?xe.data.isEqual(et.data)?Mt!==Wt&&(s.track({type:3,doc:et}),Ut=!0):this.Ra(xe,et)||(s.track({type:2,doc:et}),Ut=!0,(N&&this.Ia(et,N)>0||W&&this.Ia(et,W)<0)&&(P=!0)):!xe&&et?(s.track({type:0,doc:et}),Ut=!0):xe&&!et&&(s.track({type:1,doc:xe}),Ut=!0,(N||W)&&(P=!0)),Ut&&(et?(v=v.add(et),p=Wt?p.add(ie):p.delete(ie)):(v=v.delete(ie),p=p.delete(ie)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ie="F"===this.query.limitType?v.last():v.first();v=v.delete(ie.key),p=p.delete(ie.key),s.track({type:1,doc:ie})}return{Ta:v,Aa:s,Xi:P,mutatedKeys:p}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const p=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const v=e.Aa.Q_();v.sort((ie,_e)=>function(et,Mt){const Wt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return Wt(et)-Wt(Mt)}(ie.type,_e.type)||this.Ia(ie.doc,_e.doc)),this.Va(s),u=null!=u&&u;const P=r&&!u?this.ma():[],N=0===this.Pa.size&&this.current&&!u?1:0,W=N!==this.ha;return this.ha=N,0!==v.length||W?{snapshot:new _c(this.query,e.Ta,p,v,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:P}:{fa:P}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=qn(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new ih(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new mg(s))}),r}pa(e){this.la=e.hs,this.Pa=qn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return _c.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class B_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Jc{constructor(e){this.key=e,this.wa=!1}}class yg{constructor(e,r,s,u,p,v){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Sa={},this.ba=new xs(P=>qi(P),Nn),this.Da=new Map,this.Ca=new Set,this.va=new rr(Rt.comparator),this.Fa=new Map,this.Ma=new iu,this.xa={},this.Oa=new Map,this.Na=yo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function ef(a,e){return sh.apply(this,arguments)}function sh(){return(sh=(0,l.A)(function*(a,e,r=!0){const s=ff(a);let u;const p=s.ba.get(e);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ya()):u=yield vg(s,e,r,!0),u})).apply(this,arguments)}function ep(a,e){return tp.apply(this,arguments)}function tp(){return(tp=(0,l.A)(function*(a,e){const r=ff(a);yield vg(r,e,!0,!1)})).apply(this,arguments)}function vg(a,e,r,s){return oh.apply(this,arguments)}function oh(){return(oh=(0,l.A)(function*(a,e,r,s){const u=yield hc(a.localStore,Q(e)),p=u.targetId,v=r?a.sharedClientState.addLocalQueryTarget(p):"not-current";let P;return s&&(P=yield tf(a,e,p,"current"===v,u.resumeToken)),a.isPrimaryClient&&r&&ju(a.remoteStore,u),P})).apply(this,arguments)}function tf(a,e,r,s,u){return lu.apply(this,arguments)}function lu(){return lu=(0,l.A)(function*(a,e,r,s,u){a.Ba=(_e,xe,et)=>{return(Mt=(0,l.A)(function*(Ut,An,jn,Rn){let Cr=An.view.da(jn);Cr.Xi&&(Cr=yield Wl(Ut.localStore,An.query,!1).then(({documents:d})=>An.view.da(d,Cr)));const vi=Rn&&Rn.targetChanges.get(An.targetId),Lr=Rn&&null!=Rn.targetMismatches.get(An.targetId),E=An.view.applyChanges(Cr,Ut.isPrimaryClient,vi,Lr);return sp(Ut,An.targetId,E.fa),E.snapshot}),function Wt(Ut,An,jn,Rn){return Mt.apply(this,arguments)})(a,_e,xe,et);var Mt};const p=yield Wl(a.localStore,e,!0),v=new _g(e,p.hs),P=v.da(p.documents),N=Mc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),W=v.applyChanges(P,a.isPrimaryClient,N);sp(a,r,W.fa);const ie=new B_(e,r,v);return a.ba.set(e,ie),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),W.snapshot}),lu.apply(this,arguments)}function Eg(a,e,r){return ah.apply(this,arguments)}function ah(){return(ah=(0,l.A)(function*(a,e,r){const s=Je(a),u=s.ba.get(e),p=s.Da.get(u.targetId);if(p.length>1)return s.Da.set(u.targetId,p.filter(v=>!Nn(v,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ma(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Hu(s.remoteStore,u.targetId),ch(s,u.targetId)}).catch(Dn))):(ch(s,u.targetId),yield Ma(s.localStore,u.targetId,!0))})).apply(this,arguments)}function np(a,e){return rp.apply(this,arguments)}function rp(){return(rp=(0,l.A)(function*(a,e){const r=Je(a),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Hu(r.remoteStore,s.targetId))})).apply(this,arguments)}function nf(){return(nf=(0,l.A)(function*(a,e,r){const s=fp(a);try{const u=yield function(v,P){const N=Je(v),W=Vt.now(),ie=P.reduce((et,Mt)=>et.add(Mt.key),qn());let _e,xe;return N.persistence.runTransaction("Locally write mutations","readwrite",et=>{let Mt=zr(),Wt=qn();return N.os.getEntries(et,ie).next(Ut=>{Mt=Ut,Mt.forEach((An,jn)=>{jn.isValidDocument()||(Wt=Wt.add(An))})}).next(()=>N.localDocuments.getOverlayedDocuments(et,Mt)).next(Ut=>{_e=Ut;const An=[];for(const jn of P){const Rn=ot(jn,_e.get(jn.key).overlayedDocument);null!=Rn&&An.push(new Tr(jn.key,Rn,Y(Rn.value.mapValue),mr.exists(!0)))}return N.mutationQueue.addMutationBatch(et,W,An,P)}).next(Ut=>{xe=Ut;const An=Ut.applyToLocalDocumentSet(_e,Wt);return N.documentOverlayCache.saveOverlays(et,Ut.batchId,An)})}).then(()=>({batchId:xe.batchId,changes:ec(_e)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(v,P,N){let W=v.xa[v.currentUser.toKey()];W||(W=new rr(Nt)),W=W.insert(P,N),v.xa[v.currentUser.toKey()]=W}(s,u.batchId,r),yield pu(s,u.changes),yield ed(s.remoteStore)}catch(u){const p=Gu(u,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function uh(a,e){return rf.apply(this,arguments)}function rf(){return(rf=(0,l.A)(function*(a,e){const r=Je(a);try{const s=yield function No(a,e){const r=Je(a),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const P=[];e.targetChanges.forEach((ie,_e)=>{const xe=u.get(_e);if(!xe)return;P.push(r.Qr.removeMatchingKeys(p,ie.removedDocuments,_e).next(()=>r.Qr.addMatchingKeys(p,ie.addedDocuments,_e)));let et=xe.withSequenceNumber(p.currentSequenceNumber);var Wt,Ut,An;null!==e.targetMismatches.get(_e)?et=et.withResumeToken(Ii.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):ie.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(ie.resumeToken,s)),u=u.insert(_e,et),Ut=et,An=ie,(0===(Wt=xe).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&P.push(r.Qr.updateTargetData(p,et))});let N=zr(),W=qn();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(p,ie))}),P.push(zl(p,v,e.documentUpdates).next(ie=>{N=ie.cs,W=ie.ls})),!s.isEqual(St.min())){const ie=r.Qr.getLastRemoteSnapshotVersion(p).next(_e=>r.Qr.setTargetsMetadata(p,p.currentSequenceNumber,s));P.push(ie)}return $e.waitFor(P).next(()=>v.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,N,W)).next(()=>N)}).then(p=>(r.ns=u,p))}(r.localStore,e);e.targetChanges.forEach((u,p)=>{const v=r.Fa.get(p);v&&(Pt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.wa=!0:u.modifiedDocuments.size>0?Pt(v.wa):u.removedDocuments.size>0&&(Pt(v.wa),v.wa=!1))}),yield pu(r,s,e)}catch(s){yield Dn(s)}})).apply(this,arguments)}function sf(a,e,r){const s=Je(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((p,v)=>{const P=v.view.j_(e);P.snapshot&&u.push(P.snapshot)}),function(v,P){const N=Je(v);N.onlineState=P;let W=!1;N.queries.forEach((ie,_e)=>{for(const xe of _e.U_)xe.j_(P)&&(W=!0)}),W&&Yh(N)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ip(a,e,r){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.A)(function*(a,e,r){const s=Je(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),p=u&&u.key;if(p){let v=new rr(Rt.comparator);v=v.insert(p,G.newNoDocument(p,St.min()));const P=qn().add(p),N=new pi(St.min(),new Map,new rr(Nt),v,P);yield uh(s,N),s.va=s.va.remove(p),s.Fa.delete(e),op(s)}else yield Ma(s.localStore,e,!1).then(()=>ch(s,e,r)).catch(Dn)})).apply(this,arguments)}function af(a,e){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,l.A)(function*(a,e){const r=Je(a),s=e.batch.batchId;try{const u=yield function $h(a,e){const r=Je(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),p=r.os.newChangeBuffer({trackRemovals:!0});return function(P,N,W,ie){const _e=W.batch,xe=_e.keys();let et=$e.resolve();return xe.forEach(Mt=>{et=et.next(()=>ie.getEntry(N,Mt)).next(Wt=>{const Ut=W.docVersions.get(Mt);Pt(null!==Ut),Wt.version.compareTo(Ut)<0&&(_e.applyToRemoteDocument(Wt,W),Wt.isValidDocument()&&(Wt.setReadTime(W.commitVersion),ie.addEntry(Wt)))})}),et.next(()=>P.mutationQueue.removeMutationBatch(N,_e))}(r,s,e,p).next(()=>p.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let N=qn();for(let W=0;W<P.mutationResults.length;++W)P.mutationResults[W].transformResults.length>0&&(N=N.add(P.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);el(r,s,null),hu(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield pu(r,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function Ig(a,e,r){return od.apply(this,arguments)}function od(){return(od=(0,l.A)(function*(a,e,r){const s=Je(a);try{const u=yield function(v,P){const N=Je(v);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ie;return N.mutationQueue.lookupMutationBatch(W,P).next(_e=>(Pt(null!==_e),ie=_e.keys(),N.mutationQueue.removeMutationBatch(W,_e))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,ie,P)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,ie)).next(()=>N.localDocuments.getDocuments(W,ie))})}(s.localStore,e);el(s,e,r),hu(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield pu(s,u)}catch(u){yield Dn(u)}})).apply(this,arguments)}function uf(){return(uf=(0,l.A)(function*(a,e){const r=Je(a);uu(r.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const P=Je(v);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>P.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=Gu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function hu(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function el(a,e,r){const s=Je(a);let u=s.xa[s.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function ch(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||fu(a,s)})}function fu(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Hu(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),op(a))}function sp(a,e,r){for(const s of r)s instanceof mg?(a.Ma.addReference(s.key,e),wm(a,s)):s instanceof ih?(Ce("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||fu(a,s.key)):vt()}function wm(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(Ce("SyncEngine","New document in limbo: "+r),a.Ca.add(s),op(a))}function op(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new Rt(nn.fromString(e)),s=a.Na.next();a.Fa.set(s,new Jc(r)),a.va=a.va.insert(r,s),ju(a.remoteStore,new qo(Q(Nr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function pu(a,e,r){return cf.apply(this,arguments)}function cf(){return cf=(0,l.A)(function*(a,e,r){const s=Je(a),u=[],p=[],v=[];var P;s.ba.isEmpty()||(s.ba.forEach((P,N)=>{v.push(s.Ba(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,W&&!W.fromCache?"current":"not-current"),W){u.push(W);const ie=co.Ki(N.targetId,W);p.push(ie)}}))}),yield Promise.all(v),s.Sa.h_(u),yield(P=(0,l.A)(function*(W,ie){const _e=Je(W);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>$e.forEach(ie,et=>$e.forEach(et.qi,Mt=>_e.persistence.referenceDelegate.addReference(xe,et.targetId,Mt)).next(()=>$e.forEach(et.Qi,Mt=>_e.persistence.referenceDelegate.removeReference(xe,et.targetId,Mt)))))}catch(xe){if(!Tn(xe))throw xe;Ce("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of ie){const et=xe.targetId;if(!xe.fromCache){const Mt=_e.ns.get(et),Ut=Mt.withLastLimboFreeSnapshotVersion(Mt.snapshotVersion);_e.ns=_e.ns.insert(et,Ut)}}}),function N(W,ie){return P.apply(this,arguments)})(s.localStore,p))}),cf.apply(this,arguments)}function lf(a,e){return lh.apply(this,arguments)}function lh(){return(lh=(0,l.A)(function*(a,e){const r=Je(a);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const s=yield Gf(r.localStore,e);r.currentUser=e,(p=r).Oa.forEach(P=>{P.forEach(N=>{N.reject(new ue(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield pu(r,s.us)}var p})).apply(this,arguments)}function ud(a,e){const r=Je(a),s=r.Fa.get(e);if(s&&s.wa)return qn().add(s.key);{let u=qn();const p=r.Da.get(e);if(!p)return u;for(const v of p){const P=r.ba.get(v);u=u.unionWith(P.view.Ea)}return u}}function Am(a,e){return df.apply(this,arguments)}function df(){return(df=(0,l.A)(function*(a,e){const r=Je(a),s=yield Wl(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&sp(r,e.targetId,u.fa),u})).apply(this,arguments)}function ap(a,e){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.A)(function*(a,e){const r=Je(a);return jh(r.localStore,e).then(s=>pu(r,s))})).apply(this,arguments)}function up(a,e,r,s){return cp.apply(this,arguments)}function cp(){return(cp=(0,l.A)(function*(a,e,r,s){const u=Je(a),p=yield function(P,N){const W=Je(P),ie=Je(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",_e=>ie.vn(_e,N).next(xe=>xe?W.localDocuments.getDocuments(_e,xe):$e.resolve(null)))}(u.localStore,e);var N;null!==p?("pending"===r?yield ed(u.remoteStore):"acknowledged"===r||"rejected"===r?(el(u,e,s||null),hu(u,e),N=e,Je(Je(u.localStore).mutationQueue).Mn(N)):vt(),yield pu(u,p)):Ce("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function As(){return(As=(0,l.A)(function*(a,e){const r=Je(a);if(ff(r),fp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield hf(r,s.toArray());r.La=!0,yield qh(r.remoteStore,!0);for(const p of u)ju(r.remoteStore,p)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((p,v)=>{r.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(ch(r,v),Ma(r.localStore,v,!0))),Hu(r.remoteStore,v)}),yield u,yield hf(r,s),function(v){const P=Je(v);P.Fa.forEach((N,W)=>{Hu(P.remoteStore,W)}),P.Ma.mr(),P.Fa=new Map,P.va=new rr(Rt.comparator)}(r),r.La=!1,yield qh(r.remoteStore,!1)}})).apply(this,arguments)}function hf(a,e,r){return dh.apply(this,arguments)}function dh(){return(dh=(0,l.A)(function*(a,e,r){const s=Je(a),u=[],p=[];for(const v of e){let P;const N=s.Da.get(v);if(N&&0!==N.length){P=yield hc(s.localStore,Q(N[0]));for(const W of N){const ie=s.ba.get(W),_e=yield Am(s,ie);_e.snapshot&&p.push(_e.snapshot)}}else{const W=yield Gl(s.localStore,v);P=yield hc(s.localStore,W),yield tf(s,lp(W),v,!1,P.resumeToken)}u.push(P)}return s.Sa.h_(p),u})).apply(this,arguments)}function lp(a){return La(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Cg(a){return r=Je(a).localStore,Je(Je(r).persistence).Bi();var r}function tl(a,e,r,s){return dp.apply(this,arguments)}function dp(){return(dp=(0,l.A)(function*(a,e,r,s){const u=Je(a);if(u.La)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const p=u.Da.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const v=yield jh(u.localStore,Ao(p[0])),P=pi.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ii.EMPTY_BYTE_STRING);yield pu(u,v,P);break}case"rejected":yield Ma(u.localStore,e,!0),ch(u,e,s);break;default:vt()}})).apply(this,arguments)}function Dm(a,e,r){return hp.apply(this,arguments)}function hp(){return(hp=(0,l.A)(function*(a,e,r){const s=ff(a);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Ce("SyncEngine","Adding an already active target "+u);continue}const p=yield Gl(s.localStore,u),v=yield hc(s.localStore,p);yield tf(s,lp(p),v.targetId,!1,v.resumeToken),ju(s.remoteStore,v)}for(const u of r)s.Da.has(u)&&(yield Ma(s.localStore,u,!1).then(()=>{Hu(s.remoteStore,u),ch(s,u)}).catch(Dn))}})).apply(this,arguments)}function ff(a){const e=Je(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=uh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ud.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ip.bind(null,e),e.Sa.h_=Tm.bind(null,e.eventManager),e.Sa.ka=Xh.bind(null,e.eventManager),e}function fp(a){const e=Je(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=af.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ig.bind(null,e),e}class xa{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.A)(function*(){r.serializer=ke(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return dc(this.persistence,new Hl,e.initialUser,this.serializer)}createPersistence(e){return new Wf(Gd.Hr,this.serializer)}createSharedClientState(e){return new Ia}terminate(){var e=this;return(0,l.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pp extends xa{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield fp(s.Qa.syncEngine),yield ed(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return dc(this.persistence,new Hl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new $c(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new H(e.asyncQueue,s)}createPersistence(e){const r=jl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new us(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,K(),ae(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ia}}class bg extends pp{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof Hh&&(s.sharedClientState.syncEngine={Zs:up.bind(null,u),Xs:tl.bind(null,u),eo:Dm.bind(null,u),Bi:Cg.bind(null,u),Ys:ap.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var p=(0,l.A)(function*(v){yield function Ku(a,e){return As.apply(this,arguments)}(s.Qa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=K();if(!Hh.D(r))throw new ue(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hh(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class ld{initialize(e,r){var s=this;return(0,l.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>sf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=lf.bind(null,s.syncEngine),yield qh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jf}createDatastore(e){const r=ke(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Vr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,p=e.asyncQueue,v=r=>sf(this.syncEngine,r,0),P=pc.D()?new pc:new su,new ou(s,u,p,v,P);var s,u,p,v,P}createSyncEngine(e,r){return function(u,p,v,P,N,W,ie){const _e=new yg(u,p,v,P,N,W);return ie&&(_e.La=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.A)(function*(){var r,s;yield(s=(0,l.A)(function*(p){const v=Je(p);Ce("RemoteStore","RemoteStore shutting down."),v.M_.add(5),yield gc(v),v.O_.shutdown(),v.N_.set("Unknown")}),function u(p){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function gp(a,e=10240){let r=0;return{read:()=>(0,l.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Tg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new me,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,l.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,l.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,l.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const p=yield e.Ha(u);return new pg(JSON.parse(p),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,l.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,l.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,l.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Pm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new ue(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,l.A)(function*(v,P){const N=Je(v),W={documents:P.map(et=>Ha(N.serializer,et))},ie=yield N.xo("BatchGetDocuments",N.serializer.databaseId,nn.emptyPath(),W,P.length),_e=new Map;ie.forEach(et=>{const Mt=function Fi(a,e){return"found"in e?function(s,u){Pt(!!u.found);const p=Mo(s,u.found.name),v=yi(u.found.updateTime),P=u.found.createTime?yi(u.found.createTime):St.min(),N=new ai({mapValue:{fields:u.found.fields}});return G.newFoundDocument(p,v,P,N)}(a,e):"missing"in e?function(s,u){Pt(!!u.missing),Pt(!!u.readTime);const p=Mo(s,u.missing),v=yi(u.readTime);return G.newNoDocument(p,v)}(a,e):vt()}(N.serializer,et);_e.set(Mt.key.toString(),Mt)});const xe=[];return P.forEach(et=>{const Mt=_e.get(et.toString());Pt(!!Mt),xe.push(Mt)}),xe}),function p(v,P){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ii(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const p=Rt.fromPath(u);e.mutations.push(new Wr(p,e.precondition(p)))}),yield(s=(0,l.A)(function*(p,v){const P=Je(p),N={writes:v.map(W=>eo(P.serializer,W))};yield P.Co("Commit",P.serializer.databaseId,nn.emptyPath(),N)}),function u(p,v){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw vt();r=St.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new ue(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(St.min())?mr.exists(!1):mr.updateTime(r):mr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(St.min()))throw new ue(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(r)}return mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rm{constructor(e,r,s,u,p){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=p,this.Za=s.maxAttempts,this.Yo=new st(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,l.A)(function*(){const r=new Pm(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.nu(p)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!le(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Zs(r)}return!1}}class Mm{constructor(e,r,s,u){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=or.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,l.A)(function*(P){Ce("FirestoreClient","Received user=",P.uid),yield p.authCredentialListener(P),p.user=P});return function(P){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(Ce("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new me;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=Gu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function gf(a,e){return dd.apply(this,arguments)}function dd(){return dd=(0,l.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,l.A)(function*(p){s.isEqual(p)||(yield Gf(e.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),dd.apply(this,arguments)}function Na(a,e){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield hh(a);Ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>lo(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>lo(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function mp(a){return"FirebaseError"===a.name?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function hh(a){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!mp(r))throw r;Yt("Error using user provided cache. Falling back to memory cache: "+r),yield gf(a,new xa)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield gf(a,new xa);return a._offlineComponents})).apply(this,arguments)}function Vs(a){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield Na(a,a._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield Na(a,new ld))),a._onlineComponents})).apply(this,arguments)}function _p(a){return hh(a).then(e=>e.persistence)}function il(a){return hh(a).then(e=>e.localStore)}function mf(a){return Vs(a).then(e=>e.remoteStore)}function _f(a){return Vs(a).then(e=>e.syncEngine)}function sl(a){return yp.apply(this,arguments)}function yp(){return(yp=(0,l.A)(function*(a){const e=yield Vs(a),r=e.eventManager;return r.onListen=ef.bind(null,e.syncEngine),r.onUnlisten=Eg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ep.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=np.bind(null,e.syncEngine),r})).apply(this,arguments)}function wg(a,e,r={}){const s=new me;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(p,v,P,N,W){const ie=new pf({next:xe=>{v.enqueueAndForget(()=>Yc(p,_e));const et=xe.docs.has(P);!et&&xe.fromCache?W.reject(new ue(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&xe.fromCache&&N&&"server"===N.source?W.reject(new ue(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(xe)},error:xe=>W.reject(xe)}),_e=new rh(Nr(P.path),ie,{includeMetadataChanges:!0,ra:!0});return rd(p,_e)}(yield sl(a),a.asyncQueue,e,r,s)})),s.promise}function Ep(a,e,r={}){const s=new me;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(p,v,P,N,W){const ie=new pf({next:xe=>{v.enqueueAndForget(()=>Yc(p,_e)),xe.fromCache&&"server"===N.source?W.reject(new ue(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(xe)},error:xe=>W.reject(xe)}),_e=new rh(P,ie,{includeMetadataChanges:!0,ra:!0});return rd(p,_e)}(yield sl(a),a.asyncQueue,e,r,s)})),s.promise}function Vm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Ip=new Map;function fh(a,e,r){if(!r)throw new ue(pe.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function yf(a,e,r,s){if(!0===e&&!0===s)throw new ue(pe.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Sg(a){if(!Rt.isDocumentKey(a))throw new ue(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Cp(a){if(Rt.isDocumentKey(a))throw new ue(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function bp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":vt()}function wr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ue(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bp(a);throw new ue(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function ph(a,e){if(e<=0)throw new ue(pe.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class Pg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Vm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new ue(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new ue(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new ue(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new ge;switch(s.type){case"firstParty":return new mt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Ip.get(r);s&&(Ce("ComponentProvider","Removing Datastore"),Ip.delete(r),s.terminate())}(this),Promise.resolve()}}function Tp(a,e,r,s={}){var u;const p=(a=wr(a,fd))._getSettings(),v=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==v&&Yt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},p),{host:v,ssl:!1})),s.mockUserToken){let P,N;if("string"==typeof s.mockUserToken)P=s.mockUserToken,N=Ye.MOCK_USER;else{P=(0,Ee.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new ue(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ye(W)}a._authCredentials=new we(new Se(P,N))}}class no{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Ds{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ds(this.firestore,e,this._key)}}class gu extends no{constructor(e,r,s){super(e,r,Nr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ds(this.firestore,null,new Rt(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function Lm(a,e,...r){if(a=(0,Ee.Ku)(a),fh("collection","path",e),a instanceof fd){const s=nn.fromString(e,...r);return Cp(s),new gu(a,null,s)}{if(!(a instanceof Ds||a instanceof gu))throw new ue(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(nn.fromString(e,...r));return Cp(s),new gu(a.firestore,null,s)}}function wp(a,e){if(a=wr(a,fd),fh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(a,null,(s=e,new wo(nn.emptyPath(),s)));var s}function z_(a,e,...r){if(a=(0,Ee.Ku)(a),1===arguments.length&&(e=or.newId()),fh("doc","path",e),a instanceof fd){const s=nn.fromString(e,...r);return Sg(s),new Ds(a,null,new Rt(s))}{if(!(a instanceof Ds||a instanceof gu))throw new ue(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(nn.fromString(e,...r));return Sg(s),new Ds(a.firestore,a instanceof gu?a.converter:null,new Rt(s))}}function Rg(a,e){return a=(0,Ee.Ku)(a),e=(0,Ee.Ku)(e),(a instanceof Ds||a instanceof gu)&&(e instanceof Ds||e instanceof gu)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Mg(a,e){return a=(0,Ee.Ku)(a),e=(0,Ee.Ku)(e),a instanceof no&&e instanceof no&&a.firestore===e.firestore&&Nn(a._query,e._query)&&a.converter===e.converter}class Og{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new st(this,"async_queue_retry"),this.hu=()=>{const r=ae();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ae();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ae();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new me;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,l.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Tn(r))throw r;Ce("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,$t("INTERNAL UNHANDLED ERROR: ",function(v){let P=v.message||"";return v.stack&&(P=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),P}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Yf.createAndSchedule(this,e,r,s,p=>this.Eu(p));return this._u.push(u),u}Pu(){this.au&&vt()}verifyOperationInProgress(){}du(){var e=this;return(0,l.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Ap(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(a)}class Um{constructor(){this._progressObserver={},this._taskCompletionResolver=new me,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const pd=-1;class Vi extends fd{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Og,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Sp(this),this._firestoreClient.terminate()}}function Dp(a,e){const r="object"==typeof a?a:(0,de.getApp)(),s="string"==typeof a?a:e||"(default)",u=(0,de._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const p=(0,Ee.yU)("firestore");p&&Tp(u,...p)}return u}function cs(a){return a._firestoreClient||Sp(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Sp(a){var e,r,s;const u=a._freezeSettings(),p=(N=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new bo(a._databaseId,N,a._persistenceKey,(ie=u).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Vm(ie.experimentalLongPollingOptions),ie.useFetchStreams));var N,ie;a._firestoreClient=new Mm(a._authCredentials,a._appCheckCredentials,a._queue,p),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Pp(a,e){jm(a=wr(a,Vi));const r=cs(a);if(r._uninitializedComponentsProvider)throw new ue(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),u=new ld;return gd(r,u,new pp(u,s.cacheSizeBytes,e?.forceOwnership))}function Qu(a){jm(a=wr(a,Vi));const e=cs(a);if(e._uninitializedComponentsProvider)throw new ue(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new ld;return gd(e,s,new bg(s,r.cacheSizeBytes))}function gd(a,e,r){const s=new me;return a.asyncQueue.enqueue((0,l.A)(function*(){try{yield gf(a,r),yield Na(a,e),s.resolve()}catch(u){const p=u;if(!mp(p))throw p;Yt("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function xg(a){if(a._initialized&&!a._terminated)throw new ue(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new me;return a._queue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{yield(r=(0,l.A)(function*(u){if(!oe.D())return Promise.resolve();const p=u+"main";yield oe.delete(p)}),function s(u){return r.apply(this,arguments)})(jl(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function W_(a){return function(r){const s=new me;return r.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function ad(a,e){return uf.apply(this,arguments)}(yield _f(r),s)})),s.promise}(cs(a=wr(a,Vi)))}function G_(a){return function xm(a){return a.asyncQueue.enqueue((0,l.A)(function*(){const e=yield _p(a),r=yield mf(a);return e.setNetworkEnabled(!0),function(u){const p=Je(u);return p.M_.delete(0),au(p)}(r)}))}(cs(a=wr(a,Vi)))}function $m(a){return function Nm(a){return a.asyncQueue.enqueue((0,l.A)(function*(){const e=yield _p(a),r=yield mf(a);return e.setNetworkEnabled(!1),(s=(0,l.A)(function*(p){const v=Je(p);v.M_.add(0),yield gc(v),v.N_.set("Offline")}),function u(p){return s.apply(this,arguments)})(r);var s}))}(cs(a=wr(a,Vi)))}function K_(a,e){const r=cs(a=wr(a,Vi)),s=new Um;return function hd(a,e,r,s){const u=function(v,P){let N;return N="string"==typeof v?Po().encode(v):v,ie=function(ie,_e){if(ie instanceof Uint8Array)return gp(ie,void 0);if(ie instanceof ArrayBuffer)return gp(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Tg(ie,P);var ie}(r,ke(e));a.asyncQueue.enqueueAndForget((0,l.A)(function*(){!function qu(a,e,r){const s=Je(a);var u;(u=(0,l.A)(function*(v,P,N){try{const W=yield P.getMetadata();if(yield function(Mt,Wt){const Ut=Je(Mt),An=yi(Wt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",jn=>Ut.$r.getBundleMetadata(jn,Wt.id)).then(jn=>!!jn&&jn.createTime.compareTo(An)>=0)}(v.localStore,W))return yield P.close(),N._completeWith({taskState:"Success",documentsLoaded:(Mt=W).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);N._updateProgress(gg(W));const ie=new Zh(W,v.localStore,P.serializer);let _e=yield P.qa();for(;_e;){const et=yield ie._a(_e);et&&N._updateProgress(et),_e=yield P.qa()}const xe=yield ie.complete();return yield pu(v,xe.ca,void 0),yield function(Mt,Wt){const Ut=Je(Mt);return Ut.persistence.runTransaction("Save bundle","readwrite",An=>Ut.$r.saveBundleMetadata(An,Wt))}(v.localStore,W),N._completeWith(xe.progress),Promise.resolve(xe.ua)}catch(W){return Yt("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Mt}),function p(v,P,N){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield _f(a),u,s)}))}(r,a._databaseId,e,s),s}function q_(a,e){return function km(a,e){return a.asyncQueue.enqueue((0,l.A)(function*(){return function(s,u){const p=Je(s);return p.persistence.runTransaction("Get named query","readonly",v=>p.$r.getNamedQuery(v,u))}(yield il(a),e)}))}(cs(a=wr(a,Vi)),e).then(r=>r?new no(a,null,r.query):null)}function jm(a){if(a._initialized||a._terminated)throw new ue(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Ii.fromBase64String(e))}catch(r){throw new ue(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ol(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ue(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gh{constructor(e){this._methodName=e}}class Ng{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ue(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ue(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const Q_=/^__.*__$/;class X_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms):new hn(e,this.data,r,this.fieldTransforms)}}class Y_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function J_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class _d{constructor(e,r,s,u,p,v){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ed(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(J_(this.fu)&&Q_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Z_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||ke(e)}Fu(e,r,s,u=!1){return new _d({fu:e,methodName:r,vu:s,path:$n.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ec(a){const e=a._freezeSettings(),r=ke(a._databaseId);return new Z_(a._databaseId,!!e.ignoreUndefinedProperties,r)}function mh(a,e,r,s,u,p={}){const v=a.Fu(p.merge||p.mergeFields?2:0,e,r,u);kg("Data must be an object, but it was:",v,s);const P=Mp(s,v);let N,W;if(p.merge)N=new xi(v.fieldMask),W=v.fieldTransforms;else if(p.mergeFields){const ie=[];for(const _e of p.mergeFields){const xe=vd(e,_e,r);if(!v.contains(xe))throw new ue(pe.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);Fg(ie,xe)||ie.push(xe)}N=new xi(ie),W=v.fieldTransforms.filter(_e=>N.covers(_e.field))}else N=null,W=v.fieldTransforms;return new X_(new ai(P),N,W)}class Xu extends gh{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xu}}function Rp(a,e,r){return new _d({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ef extends gh{_toFieldTransform(e){return new pa(e.path,new io)}isEqual(e){return e instanceof Ef}}class yd extends gh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Rp(this,e,!0),s=this.Mu.map(p=>yh(p,r)),u=new Js(s);return new pa(e.path,u)}isEqual(e){return e instanceof yd&&(0,Ee.bD)(this.Mu,e.Mu)}}class _h extends gh{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Rp(this,e,!0),s=this.Mu.map(p=>yh(p,r)),u=new So(s);return new pa(e.path,u)}isEqual(e){return e instanceof _h&&(0,Ee.bD)(this.Mu,e.Mu)}}class al extends gh{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new go(e.serializer,ha(e.serializer,this.xu));return new pa(e.path,r)}isEqual(e){return e instanceof al&&this.xu===e.xu}}function If(a,e,r,s){const u=a.Fu(1,e,r);kg("Data must be an object, but it was:",u,s);const p=[],v=ai.empty();Ui(s,(N,W)=>{const ie=Eh(e,N,r);W=(0,Ee.Ku)(W);const _e=u.Su(ie);if(W instanceof Xu)p.push(ie);else{const xe=yh(W,_e);null!=xe&&(p.push(ie),v.set(ie,xe))}});const P=new xi(p);return new Y_(v,P,u.fieldTransforms)}function Cf(a,e,r,s,u,p){const v=a.Fu(1,e,r),P=[vd(e,s,r)],N=[u];if(p.length%2!=0)throw new ue(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<p.length;xe+=2)P.push(vd(e,p[xe])),N.push(p[xe+1]);const W=[],ie=ai.empty();for(let xe=P.length-1;xe>=0;--xe)if(!Fg(W,P[xe])){const et=P[xe];let Mt=N[xe];Mt=(0,Ee.Ku)(Mt);const Wt=v.Su(et);if(Mt instanceof Xu)W.push(et);else{const Ut=yh(Mt,Wt);null!=Ut&&(W.push(et),ie.set(et,Ut))}}const _e=new xi(W);return new Y_(ie,_e,v.fieldTransforms)}function bf(a,e,r,s=!1){return yh(r,a.Fu(s?4:3,e))}function yh(a,e){if(vh(a=(0,Ee.Ku)(a)))return kg("Unsupported field value:",e,a),Mp(a,e);if(a instanceof gh)return function(s,u){if(!J_(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const p=[];let v=0;for(const P of s){let N=yh(P,u.bu(v));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),v++}return{arrayValue:{values:p}}}(a,e)}return function(s,u){if(null===(s=(0,Ee.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ha(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Vt.fromDate(s);return{timestampValue:ks(u.serializer,p)}}if(s instanceof Vt){const p=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ks(u.serializer,p)}}if(s instanceof Ng)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ol)return{bytesValue:Pu(u.serializer,s._byteString)};if(s instanceof Ds){const p=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(p))throw u.Du(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Aa(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${bp(s)}`)}(a,e)}function Mp(a,e){const r={};return Di(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(a,(s,u)=>{const p=yh(u,e.pu(s));null!=p&&(r[s]=p)}),{mapValue:{fields:r}}}function vh(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Vt||a instanceof Ng||a instanceof ol||a instanceof Ds||a instanceof gh)}function kg(a,e,r){if(!vh(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=bp(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var u}function vd(a,e,r){if((e=(0,Ee.Ku)(e))instanceof vc)return e._internalPath;if("string"==typeof e)return Eh(a,e);throw Ed("Field path arguments must be of type string or ",a,!1,void 0,r)}const Op=new RegExp("[~\\*/\\[\\]]");function Eh(a,e,r){if(e.search(Op)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new vc(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Ed(a,e,r,s,u){const p=s&&!s.isEmpty(),v=void 0!==u;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let N="";return(p||v)&&(N+=" (found",p&&(N+=` in field ${s}`),v&&(N+=` in document ${u}`),N+=")"),new ue(pe.INVALID_ARGUMENT,P+a+N)}function Fg(a,e){return a.some(r=>r.isEqual(e))}class ul{constructor(e,r,s,u,p){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Wm extends ul{data(){return super.data()}}function xp(a,e){return"string"==typeof e?Eh(a,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function Vg(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new ue(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}class cl extends Id{}function Gm(a,e,...r){let s=[];e instanceof Id&&s.push(e),s=s.concat(r),function(p){const v=p.filter(N=>N instanceof Ic).length,P=p.filter(N=>N instanceof Ih).length;if(v>1||v>0&&P>0)throw new ue(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Ih extends cl{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Ih(e,r,s)}_apply(e){const r=this._parse(e);return jg(e._query,r),new no(e.firestore,e.converter,Oe(e._query,r))}_parse(e){const r=Ec(e.firestore);return function(p,v,P,N,W,ie,_e){let xe;if(W.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new ue(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){$g(_e,ie);const et=[];for(const Mt of _e)et.push(Xm(N,p,Mt));xe={arrayValue:{values:et}}}else xe=Xm(N,p,_e)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||$g(_e,ie),xe=bf(P,"where",_e,"in"===ie||"not-in"===ie);return At.create(W,ie,xe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Lg(a,e,r){const s=e,u=xp("where",a);return Ih._create(u,s,r)}class Ic extends Id{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ic(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Zt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,p){let v=u;const P=p.getFlattenedFilters();for(const N of P)jg(v,N),v=Oe(v,N)}(e._query,r),new no(e.firestore,e.converter,Oe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ug extends cl{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ug(e,r)}_apply(e){const r=function(u,p,v){if(null!==u.startAt)throw new ue(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ue(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dt(p,v)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(u,p){const v=u.explicitOrderBy.concat([p]);return new wo(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Km(a,e="asc"){const r=e,s=xp("orderBy",a);return Ug._create(s,r)}class Bg extends cl{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Bg(e,r,s)}_apply(e){return new no(e.firestore,e.converter,ln(e._query,this._limit,this._limitType))}}function ty(a){return ph("limit",a),Bg._create("limit",a,"F")}function Np(a){return ph("limitToLast",a),Bg._create("limitToLast",a,"L")}class kp extends cl{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new kp(e,r,s)}_apply(e){const r=Qm(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(p=r,new wo((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}function Ch(...a){return kp._create("startAt",a,!0)}function Tf(...a){return kp._create("startAfter",a,!1)}class Fp extends cl{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Fp(e,r,s)}_apply(e){const r=Qm(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(p=r,new wo((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function qm(...a){return Fp._create("endBefore",a,!1)}function ny(...a){return Fp._create("endAt",a,!0)}function Qm(a,e,r,s){if(r[0]=(0,Ee.Ku)(r[0]),r[0]instanceof ul)return function(p,v,P,N,W){if(!N)throw new ue(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ie=[];for(const _e of z(p))if(_e.field.isKeyField())ie.push(qt(v,N.key));else{const xe=N.data.field(_e.field);if(Si(xe))throw new ue(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const et=_e.field.canonicalString();throw new ue(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}ie.push(xe)}return new ve(ie,W)}(a._query,a.firestore._databaseId,e,r[0]._document,s);{const u=Ec(a.firestore);return function(v,P,N,W,ie,_e){const xe=v.explicitOrderBy;if(ie.length>xe.length)throw new ue(pe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let Mt=0;Mt<ie.length;Mt++){const Wt=ie[Mt];if(xe[Mt].field.isKeyField()){if("string"!=typeof Wt)throw new ue(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Wt}`);if(!Ua(v)&&-1!==Wt.indexOf("/"))throw new ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Wt}' contains a slash.`);const Ut=v.path.child(nn.fromString(Wt));if(!Rt.isDocumentKey(Ut))throw new ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const An=new Rt(Ut);et.push(qt(P,An))}else{const Ut=bf(N,W,Wt);et.push(Ut)}}return new ve(et,_e)}(a._query,a.firestore._databaseId,u,e,r,s)}}function Xm(a,e,r){if("string"==typeof(r=(0,Ee.Ku)(r))){if(""===r)throw new ue(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ua(e)&&-1!==r.indexOf("/"))throw new ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(nn.fromString(r));if(!Rt.isDocumentKey(s))throw new ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qt(a,new Rt(s))}if(r instanceof Ds)return qt(a,r._key);throw new ue(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(r)}.`)}function $g(a,e){if(!Array.isArray(a)||0===a.length)throw new ue(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jg(a,e){const r=function(u,p){for(const v of u)for(const P of v.getFlattenedFilters())if(p.indexOf(P.op)>=0)return P.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ue(pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Ym{convertValue(e,r="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ui(e,(u,p)=>{s[u]=this.convertValue(p,r)}),s}convertGeoPoint(e){return new Ng(dr(e.latitude),dr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=qs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ds(e));default:return null}}convertTimestamp(e){const r=Ci(e);return new Vt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=nn.fromString(e);Pt(Mu(s));const u=new Fn(s.get(1),s.get(3)),p=new Rt(s.popFirst(5));return u.isEqual(r)||$t(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function bh(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class Jm extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,r)}}class Cd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends ul{constructor(e,r,s,u,p,v){super(e,r,s,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(xp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Lp extends bd{data(e={}){return super.data(e)}}class ll{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Cd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Lp(this._firestore,this._userDataWriter,s.key,s,new Cd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ue(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new Lp(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Cd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>p||3!==P.type).map(P=>{const N=new Lp(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Cd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,ie=-1;return 0!==P.type&&(W=v.indexOf(P.doc.key),v=v.delete(P.doc.key)),1!==P.type&&(v=v.add(P.doc),ie=v.indexOf(P.doc.key)),{type:e_(P.type),doc:N,oldIndex:W,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function e_(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function mu(a,e){return a instanceof bd&&e instanceof bd?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof ll&&e instanceof ll&&a._firestore===e._firestore&&Mg(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}function t_(a){a=wr(a,Ds);const e=wr(a.firestore,Vi);return wg(cs(e),a._key).then(r=>Wg(e,a,r))}class Td extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,r)}}function Hg(a){a=wr(a,Ds);const e=wr(a.firestore,Vi),r=cs(e),s=new Td(e);return function $_(a,e){const r=new me;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(p,v,P){try{const N=yield function(ie,_e){const xe=Je(ie);return xe.persistence.runTransaction("read document","readonly",et=>xe.localDocuments.getDocument(et,_e))}(p,v);N.isFoundDocument()?P.resolve(N):N.isNoDocument()?P.resolve(null):P.reject(new ue(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=Gu(N,`Failed to get document '${v} from cache`);P.reject(W)}}),function u(p,v,P){return s.apply(this,arguments)})(yield il(a),e,r);var s})),r.promise}(r,a._key).then(u=>new bd(e,s,a._key,u,new Cd(null!==u&&u.hasLocalMutations,!0),a.converter))}function dl(a){a=wr(a,Ds);const e=wr(a.firestore,Vi);return wg(cs(e),a._key,{source:"server"}).then(r=>Wg(e,a,r))}function Up(a){a=wr(a,no);const e=wr(a.firestore,Vi),r=cs(e),s=new Td(e);return Vg(a._query),Ep(r,a._query).then(u=>new ll(e,s,a,u))}function iy(a){a=wr(a,no);const e=wr(a.firestore,Vi),r=cs(e),s=new Td(e);return function vp(a,e){const r=new me;return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(p,v,P){try{const N=yield Wl(p,v,!0),W=new _g(v,N.hs),ie=W.da(N.documents),_e=W.applyChanges(ie,!1);P.resolve(_e.snapshot)}catch(N){const W=Gu(N,`Failed to execute query '${v} against cache`);P.reject(W)}}),function u(p,v,P){return s.apply(this,arguments)})(yield il(a),e,r);var s})),r.promise}(r,a._query).then(u=>new ll(e,s,a,u))}function sy(a){a=wr(a,no);const e=wr(a.firestore,Vi),r=cs(e),s=new Td(e);return Ep(r,a._query,{source:"server"}).then(u=>new ll(e,s,a,u))}function oy(a,e,r){a=wr(a,Ds);const s=wr(a.firestore,Vi),u=bh(a.converter,e,r);return gs(s,[mh(Ec(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,mr.none())])}function zg(a,e,r,...s){a=wr(a,Ds);const u=wr(a.firestore,Vi),p=Ec(u);let v;return v="string"==typeof(e=(0,Ee.Ku)(e))||e instanceof vc?Cf(p,"updateDoc",a._key,e,r,s):If(p,"updateDoc",a._key,e),gs(u,[v.toMutation(a._key,mr.exists(!0))])}function _u(a){return gs(wr(a.firestore,Vi),[new ii(a._key,mr.none())])}function n_(a,e){const r=wr(a.firestore,Vi),s=z_(a),u=bh(a.converter,e);return gs(r,[mh(Ec(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,mr.exists(!1))]).then(()=>s)}function ay(a,...e){var r,s,u;a=(0,Ee.Ku)(a);let p={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof e[v]||Ap(e[v])||(p=e[v],v++);const P={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Ap(e[v])){const _e=e[v];e[v]=null===(r=_e.next)||void 0===r?void 0:r.bind(_e),e[v+1]=null===(s=_e.error)||void 0===s?void 0:s.bind(_e),e[v+2]=null===(u=_e.complete)||void 0===u?void 0:u.bind(_e)}let N,W,ie;if(a instanceof Ds)W=wr(a.firestore,Vi),ie=Nr(a._key.path),N={next:_e=>{e[v]&&e[v](Wg(W,a,_e))},error:e[v+1],complete:e[v+2]};else{const _e=wr(a,no);W=wr(_e.firestore,Vi),ie=_e._query;const xe=new Td(W);N={next:et=>{e[v]&&e[v](new ll(W,xe,_e,et))},error:e[v+1],complete:e[v+2]},Vg(a._query)}return function(xe,et,Mt,Wt){const Ut=new pf(Wt),An=new rh(et,Ut,Mt);return xe.asyncQueue.enqueueAndForget((0,l.A)(function*(){return rd(yield sl(xe),An)})),()=>{Ut.$a(),xe.asyncQueue.enqueueAndForget((0,l.A)(function*(){return Yc(yield sl(xe),An)}))}}(cs(W),ie,P,N)}function hv(a,e){return function j_(a,e){const r=new pf(e);return a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return u=yield sl(a),p=r,Je(u).z_.add(p),void p.next();var u,p})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,l.A)(function*(){return u=yield sl(a),p=r,void Je(u).z_.delete(p);var u,p}))}}(cs(a=wr(a,Vi)),Ap(e)?e:{next:e})}function gs(a,e){return function(s,u){const p=new me;return s.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function du(a,e,r){return nf.apply(this,arguments)}(yield _f(s),u,p)})),p.promise}(cs(a),e)}function Wg(a,e,r){const s=r.docs.get(e._key),u=new Td(a);return new bd(a,u,e._key,s,new Cd(r.hasPendingWrites,r.fromCache),e.converter)}const Cc={maxAttempts:5};class wd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ec(e)}set(e,r,s){this._verifyNotCommitted();const u=hl(e,this._firestore),p=bh(u.converter,r,s),v=mh(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,mr.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const p=hl(e,this._firestore);let v;return v="string"==typeof(r=(0,Ee.Ku)(r))||r instanceof vc?Cf(this._dataReader,"WriteBatch.update",p._key,r,s,u):If(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(v.toMutation(p._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=hl(e,this._firestore);return this._mutations=this._mutations.concat(new ii(r._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(a,e){if((a=(0,Ee.Ku)(a)).firestore!==e)throw new ue(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class py extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ec(r)}get(r){const s=hl(r,this._firestore),u=new Jm(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return vt();const v=p[0];if(v.isFoundDocument())return new ul(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new ul(this._firestore,u,s._key,null,s.converter);throw vt()})}set(r,s,u){const p=hl(r,this._firestore),v=bh(p.converter,s,u),P=mh(this._dataReader,"Transaction.set",p._key,v,null!==p.converter,u);return this._transaction.set(p._key,P),this}update(r,s,u,...p){const v=hl(r,this._firestore);let P;return P="string"==typeof(s=(0,Ee.Ku)(s))||s instanceof vc?Cf(this._dataReader,"Transaction.update",v._key,s,u,p):If(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,P),this}delete(r){const s=hl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=hl(e,this._firestore),s=new Td(this._firestore);return super.get(e).then(u=>new bd(this._firestore,s,r._key,u._document,new Cd(!1,!1),r.converter))}}function a_(a,e,r){a=wr(a,Vi);const s=Object.assign(Object.assign({},Cc),r);return function(p){if(p.maxAttempts<1)throw new ue(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,v,P){const N=new me;return p.asyncQueue.enqueueAndForget((0,l.A)(function*(){const W=yield function Om(a){return Vs(a).then(e=>e.datastore)}(p);new Rm(p.asyncQueue,W,P,v,N).Xa()})),N.promise}(cs(a),u=>e(new py(a,u)),s)}function u_(){return new Xu("deleteField")}function Kg(){return new Ef("serverTimestamp")}function Af(...a){return new yd("arrayUnion",a)}function Bp(...a){return new _h("arrayRemove",a)}function c_(a){return new al("increment",a)}!function(e,r=!0){ze=de.SDK_VERSION,(0,de._registerComponent)(new m.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const v=s.getProvider("app").getImmediate(),P=new Vi(new Fe(s.getProvider("auth-internal")),new Kt(s.getProvider("app-check-internal")),function(W,ie){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new ue(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fn(W.options.projectId,ie)}(v,u),v);return p=Object.assign({useFetchStreams:r},p),P._setSettings(p),P},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Le,"4.6.3",e),(0,de.registerVersion)(Le,"4.6.3","esm2017")}()},4535:(en,Qe,B)=>{B.d(Qe,{Ad:()=>wn,D5:()=>qt,KR:()=>Hr,Mp:()=>ss,Mx:()=>Jr,TZ:()=>Ft,UC:()=>_i,UY:()=>Wn,XR:()=>Qs,ZH:()=>pn,_w:()=>Jn,bp:()=>es,c7:()=>br,nb:()=>Ms,nw:()=>un,p_:()=>Sn,qk:()=>Ri,uj:()=>$t,xc:()=>Mn,yb:()=>hr});var l=B(467),de=B(7852),m=B(1076),De=B(1362);const Ee="firebasestorage.googleapis.com",Pe="storageBucket";class ce extends m.g{constructor(G,ve,Ae=0){super(Me(G),`Firebase Storage: ${ve} (${Me(G)})`),this.status_=Ae,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ce.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return Me(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var he=function(Y){return Y.UNKNOWN="unknown",Y.OBJECT_NOT_FOUND="object-not-found",Y.BUCKET_NOT_FOUND="bucket-not-found",Y.PROJECT_NOT_FOUND="project-not-found",Y.QUOTA_EXCEEDED="quota-exceeded",Y.UNAUTHENTICATED="unauthenticated",Y.UNAUTHORIZED="unauthorized",Y.UNAUTHORIZED_APP="unauthorized-app",Y.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Y.INVALID_CHECKSUM="invalid-checksum",Y.CANCELED="canceled",Y.INVALID_EVENT_NAME="invalid-event-name",Y.INVALID_URL="invalid-url",Y.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Y.NO_DEFAULT_BUCKET="no-default-bucket",Y.CANNOT_SLICE_BLOB="cannot-slice-blob",Y.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Y.NO_DOWNLOAD_URL="no-download-url",Y.INVALID_ARGUMENT="invalid-argument",Y.INVALID_ARGUMENT_COUNT="invalid-argument-count",Y.APP_DELETED="app-deleted",Y.INVALID_ROOT_OPERATION="invalid-root-operation",Y.INVALID_FORMAT="invalid-format",Y.INTERNAL_ERROR="internal-error",Y.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Y}(he||{});function Me(Y){return"storage/"+Y}function ct(){return new ce(he.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function on(){return new ce(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function We(){return new ce(he.CANCELED,"User canceled the upload/download.")}function qe(){return new ce(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $t(Y){return new ce(he.INVALID_ARGUMENT,Y)}function Yt(){return new ce(he.APP_DELETED,"The Firebase app was deleted.")}function Wn(Y){return new ce(he.INVALID_ROOT_OPERATION,"The operation '"+Y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vt(Y,G){return new ce(he.INVALID_FORMAT,"String does not match format '"+Y+"': "+G)}function Pt(Y){throw new ce(he.INTERNAL_ERROR,"Internal error: "+Y)}class Ft{constructor(G,ve){this.bucket=G,this.path_=ve}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,ve){let Ae;try{Ae=Ft.makeFromUrl(G,ve)}catch{return new Ft(G,"")}if(""===Ae.path)return Ae;throw function Ye(Y){return new ce(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Y+"'.")}(G)}static makeFromUrl(G,ve){let Ae=null;const He="([A-Za-z0-9.\\-_]+)",cn=new RegExp("^gs://"+He+"(/(.*))?$","i");function Zt(li){li.path_=decodeURIComponent(li.path)}const yn=ve.replace(/[.]/g,"\\."),ir=[{regex:cn,indices:{bucket:1,path:3},postModify:function dt(li){"/"===li.path.charAt(li.path.length-1)&&(li.path_=li.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yn}/v[A-Za-z0-9_]+/b/${He}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Zt},{regex:new RegExp(`^https?://${ve===Ee?"(?:storage.googleapis.com|storage.cloud.google.com)":ve}/${He}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Zt}];for(let li=0;li<ir.length;li++){const Kr=ir[li],gr=Kr.regex.exec(G);if(gr){let Ki=gr[Kr.indices.path];Ki||(Ki=""),Ae=new Ft(gr[Kr.indices.bucket],Ki),Kr.postModify(Ae);break}}if(null==Ae)throw function Le(Y){return new ce(he.INVALID_URL,"Invalid URL '"+Y+"'.")}(G);return Ae}}class Je{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function we(Y){return"string"==typeof Y||Y instanceof String}function Fe(Y){return lt()&&Y instanceof Blob}function lt(){return typeof Blob<"u"}function mt(Y,G,ve,Ae){if(Ae<G)throw $t(`Invalid value for '${Y}'. Expected ${G} or greater.`);if(Ae>ve)throw $t(`Invalid value for '${Y}'. Expected ${ve} or less.`)}function tn(Y,G,ve){let Ae=G;return null==ve&&(Ae=`https://${G}`),`${ve}://${Ae}/v0${Y}`}function Kt(Y){const G=encodeURIComponent;let ve="?";for(const Ae in Y)Y.hasOwnProperty(Ae)&&(ve=ve+(G(Ae)+"=")+G(Y[Ae])+"&");return ve=ve.slice(0,-1),ve}var Pn=function(Y){return Y[Y.NO_ERROR=0]="NO_ERROR",Y[Y.NETWORK_ERROR=1]="NETWORK_ERROR",Y[Y.ABORT=2]="ABORT",Y}(Pn||{});function fn(Y,G){const ve=Y>=500&&Y<600,He=-1!==[408,429].indexOf(Y),dt=-1!==G.indexOf(Y);return ve||He||dt}class or{constructor(G,ve,Ae,He,dt,jt,cn,At,Zt,Zn,yn,ui=!0){this.url_=G,this.method_=ve,this.headers_=Ae,this.body_=He,this.successCodes_=dt,this.additionalRetryCodes_=jt,this.callback_=cn,this.errorCallback_=At,this.timeout_=Zt,this.progressCallback_=Zn,this.connectionFactory_=yn,this.retry=ui,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Br,ci)=>{this.resolve_=Br,this.reject_=ci,this.start_()})}start_(){const ve=(Ae,He)=>{const dt=this.resolve_,jt=this.reject_,cn=He.connection;if(He.wasSuccessCode)try{const At=this.callback_(cn,cn.getResponse());!function me(Y){return void 0!==Y}(At)?dt():dt(At)}catch(At){jt(At)}else if(null!==cn){const At=ct();At.serverResponse=cn.getErrorText(),jt(this.errorCallback_?this.errorCallback_(cn,At):At)}else jt(He.canceled?this.appDelete_?Yt():We():on())};this.canceled_?ve(0,new Nt(!1,null,!0)):this.backoffId_=function pe(Y,G,ve){let Ae=1,He=null,dt=null,jt=!1,cn=0;function At(){return 2===cn}let Zt=!1;function Zn(...$r){Zt||(Zt=!0,G.apply(null,$r))}function yn($r){He=setTimeout(()=>{He=null,Y(Br,At())},$r)}function ui(){dt&&clearTimeout(dt)}function Br($r,...Bi){if(Zt)return void ui();if($r)return ui(),void Zn.call(null,$r,...Bi);if(At()||jt)return ui(),void Zn.call(null,$r,...Bi);let ir;Ae<64&&(Ae*=2),1===cn?(cn=2,ir=0):ir=1e3*(Ae+Math.random()),yn(ir)}let ci=!1;function ni($r){ci||(ci=!0,ui(),!Zt&&(null!==He?($r||(cn=2),clearTimeout(He),yn(0)):$r||(cn=1)))}return yn(0),dt=setTimeout(()=>{jt=!0,ni(!0)},ve),ni}((Ae,He)=>{if(He)return void Ae(!1,new Nt(!1,null,!0));const dt=this.connectionFactory_();this.pendingConnection_=dt;const jt=cn=>{null!==this.progressCallback_&&this.progressCallback_(cn.loaded,cn.lengthComputable?cn.total:-1)};null!==this.progressCallback_&&dt.addUploadProgressListener(jt),dt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&dt.removeUploadProgressListener(jt),this.pendingConnection_=null;const cn=dt.getErrorCode()===Pn.NO_ERROR,At=dt.getStatus();if(!cn||fn(At,this.additionalRetryCodes_)&&this.retry){const Zn=dt.getErrorCode()===Pn.ABORT;return void Ae(!1,new Nt(!1,null,Zn))}const Zt=-1!==this.successCodes_.indexOf(At);Ae(!0,new Nt(Zt,dt))})},ve,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function ue(Y){Y(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Nt{constructor(G,ve,Ae){this.wasSuccessCode=G,this.connection=ve,this.canceled=!!Ae}}function fr(...Y){const G=function nn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const ve=new G;for(let Ae=0;Ae<Y.length;Ae++)ve.append(Y[Ae]);return ve.getBlob()}if(lt())return new Blob(Y);throw new ce(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(G,ve){this.data=G,this.contentType=ve||null}}function pn(Y,G){switch(Y){case un.RAW:return new Cn(ar(G));case un.BASE64:case un.BASE64URL:return new Cn(Xr(Y,G));case un.DATA_URL:return new Cn(function Yr(Y){const G=new xn(Y);return G.base64?Xr(un.BASE64,G.rest):function vr(Y){let G;try{G=decodeURIComponent(Y)}catch{throw vt(un.DATA_URL,"Malformed data URL.")}return ar(G)}(G.rest)}(G),function Yi(Y){return new xn(Y).contentType}(G))}throw ct()}function ar(Y){const G=[];for(let ve=0;ve<Y.length;ve++){let Ae=Y.charCodeAt(ve);Ae<=127?G.push(Ae):Ae<=2047?G.push(192|Ae>>6,128|63&Ae):55296==(64512&Ae)?ve<Y.length-1&&56320==(64512&Y.charCodeAt(ve+1))?(Ae=65536|(1023&Ae)<<10|1023&Y.charCodeAt(++ve),G.push(240|Ae>>18,128|Ae>>12&63,128|Ae>>6&63,128|63&Ae)):G.push(239,191,189):56320==(64512&Ae)?G.push(239,191,189):G.push(224|Ae>>12,128|Ae>>6&63,128|63&Ae)}return new Uint8Array(G)}function Xr(Y,G){switch(Y){case un.BASE64:{const He=-1!==G.indexOf("-"),dt=-1!==G.indexOf("_");if(He||dt)throw vt(Y,"Invalid character '"+(He?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const He=-1!==G.indexOf("+"),dt=-1!==G.indexOf("/");if(He||dt)throw vt(Y,"Invalid character '"+(He?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let ve;try{ve=function Rt(Y){if(typeof atob>"u")throw function Ce(Y){return new ce(he.UNSUPPORTED_ENVIRONMENT,`${Y} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Y)}(G)}catch(He){throw He.message.includes("polyfill")?He:vt(Y,"Invalid character found")}const Ae=new Uint8Array(ve.length);for(let He=0;He<ve.length;He++)Ae[He]=ve.charCodeAt(He);return Ae}class xn{constructor(G){this.base64=!1,this.contentType=null;const ve=G.match(/^data:([^,]+)?,/);if(null===ve)throw vt(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ae=ve[1]||null;null!=Ae&&(this.base64=function Qt(Y,G){return Y.length>=G.length&&Y.substring(Y.length-G.length)===G}(Ae,";base64"),this.contentType=this.base64?Ae.substring(0,Ae.length-7):Ae),this.rest=G.substring(G.indexOf(",")+1)}}class Jr{constructor(G,ve){let Ae=0,He="";Fe(G)?(this.data_=G,Ae=G.size,He=G.type):G instanceof ArrayBuffer?(ve?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),Ae=this.data_.length):G instanceof Uint8Array&&(ve?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),Ae=G.length),this.size_=Ae,this.type_=He}size(){return this.size_}type(){return this.type_}slice(G,ve){if(Fe(this.data_)){const He=function $n(Y,G,ve){return Y.webkitSlice?Y.webkitSlice(G,ve):Y.mozSlice?Y.mozSlice(G,ve):Y.slice?Y.slice(G,ve):null}(this.data_,G,ve);return null===He?null:new Jr(He)}{const Ae=new Uint8Array(this.data_.buffer,G,ve-G);return new Jr(Ae,!0)}}static getBlob(...G){if(lt()){const ve=G.map(Ae=>Ae instanceof Jr?Ae.data_:Ae);return new Jr(fr.apply(null,ve))}{const ve=G.map(jt=>we(jt)?pn(un.RAW,jt).data:jt.data_);let Ae=0;ve.forEach(jt=>{Ae+=jt.byteLength});const He=new Uint8Array(Ae);let dt=0;return ve.forEach(jt=>{for(let cn=0;cn<jt.length;cn++)He[dt++]=jt[cn]}),new Jr(He,!0)}}uploadData(){return this.data_}}function Hn(Y){let G;try{G=JSON.parse(Y)}catch{return null}return function ge(Y){return"object"==typeof Y&&!Array.isArray(Y)}(G)?G:null}function mi(Y){const G=Y.lastIndexOf("/",Y.length-2);return-1===G?Y:Y.slice(G+1)}function $e(Y,G){return G}class at{constructor(G,ve,Ae,He){this.server=G,this.local=ve||G,this.writable=!!Ae,this.xform=He||$e}}let oe=null;function it(){if(oe)return oe;const Y=[];Y.push(new at("bucket")),Y.push(new at("generation")),Y.push(new at("metageneration")),Y.push(new at("name","fullPath",!0));const ve=new at("name");ve.xform=function G(dt,jt){return function Te(Y){return!we(Y)||Y.length<2?Y:mi(Y)}(jt)},Y.push(ve);const He=new at("size");return He.xform=function Ae(dt,jt){return void 0!==jt?Number(jt):jt},Y.push(He),Y.push(new at("timeCreated")),Y.push(new at("updated")),Y.push(new at("md5Hash",null,!0)),Y.push(new at("cacheControl",null,!0)),Y.push(new at("contentDisposition",null,!0)),Y.push(new at("contentEncoding",null,!0)),Y.push(new at("contentLanguage",null,!0)),Y.push(new at("contentType",null,!0)),Y.push(new at("metadata","customMetadata",!0)),oe=Y,oe}function Dr(Y,G,ve){const Ae=Hn(G);return null===Ae?null:function Tn(Y,G,ve){const Ae={type:"file"},He=ve.length;for(let dt=0;dt<He;dt++){const jt=ve[dt];Ae[jt.local]=jt.xform(Ae,G[jt.server])}return function Lt(Y,G){Object.defineProperty(Y,"ref",{get:function ve(){const dt=new Ft(Y.bucket,Y.fullPath);return G._makeStorageReference(dt)}})}(Ae,Y),Ae}(Y,Ae,ve)}function Re(Y,G){const ve={},Ae=G.length;for(let He=0;He<Ae;He++){const dt=G[He];dt.writable&&(ve[dt.server]=Y[dt.local])}return JSON.stringify(ve)}const te="prefixes",H="items";class le{constructor(G,ve,Ae,He){this.url=G,this.method=ve,this.handler=Ae,this.timeout=He,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ne(Y){if(!Y)throw ct()}function ht(Y,G){return function ve(Ae,He){const dt=Dr(Y,He,G);return Ne(null!==dt),dt}}function Gt(Y){return function G(ve,Ae){let He;return He=401===ve.getStatus()?ve.getErrorText().includes("Firebase App Check token is invalid")?function kt(){return new ce(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new ce(he.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ve.getStatus()?function It(Y){return new ce(he.QUOTA_EXCEEDED,"Quota for bucket '"+Y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Y.bucket):403===ve.getStatus()?function Ct(Y){return new ce(he.UNAUTHORIZED,"User does not have permission to access '"+Y+"'.")}(Y.path):Ae,He.status=ve.getStatus(),He.serverResponse=Ae.serverResponse,He}}function Xt(Y){const G=Gt(Y);return function ve(Ae,He){let dt=G(Ae,He);return 404===Ae.getStatus()&&(dt=function Ke(Y){return new ce(he.OBJECT_NOT_FOUND,"Object '"+Y+"' does not exist.")}(Y.path)),dt.serverResponse=He.serverResponse,dt}}function Xn(Y,G,ve){const He=tn(G.fullServerUrl(),Y.host,Y._protocol),jt=Y.maxOperationRetryTime,cn=new le(He,"GET",ht(Y,ve),jt);return cn.errorHandler=Xt(G),cn}function _n(Y,G,ve,Ae,He){const dt={};dt.prefix=G.isRoot?"":G.path+"/",ve&&ve.length>0&&(dt.delimiter=ve),Ae&&(dt.pageToken=Ae),He&&(dt.maxResults=He);const cn=tn(G.bucketOnlyServerUrl(),Y.host,Y._protocol),Zt=Y.maxOperationRetryTime,Zn=new le(cn,"GET",function wt(Y,G){return function ve(Ae,He){const dt=function F(Y,G,ve){const Ae=Hn(ve);return null===Ae?null:function V(Y,G,ve){const Ae={prefixes:[],items:[],nextPageToken:ve.nextPageToken};if(ve[te])for(const He of ve[te]){const dt=He.replace(/\/$/,""),jt=Y._makeStorageReference(new Ft(G,dt));Ae.prefixes.push(jt)}if(ve[H])for(const He of ve[H]){const dt=Y._makeStorageReference(new Ft(G,He.name));Ae.items.push(dt)}return Ae}(Y,G,Ae)}(Y,G,He);return Ne(null!==dt),dt}}(Y,G.bucket),Zt);return Zn.urlParams=dt,Zn.errorHandler=Gt(G),Zn}function ls(Y,G,ve){const Ae=Object.assign({},ve);return Ae.fullPath=Y.path,Ae.size=G.size(),Ae.contentType||(Ae.contentType=function zi(Y,G){return Y&&Y.contentType||G&&G.type()||"application/octet-stream"}(null,G)),Ae}class Yn{constructor(G,ve,Ae,He){this.current=G,this.total=ve,this.finalized=!!Ae,this.metadata=He||null}}function nt(Y,G){let ve=null;try{ve=Y.getResponseHeader("X-Goog-Upload-Status")}catch{Ne(!1)}return Ne(!!ve&&-1!==(G||["active"]).indexOf(ve)),ve}const Mn={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gn(Y){switch(Y){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;default:return wn.ERROR}}class Kn{constructor(G,ve,Ae){if(function Se(Y){return"function"==typeof Y}(G)||null!=ve||null!=Ae)this.next=G,this.error=ve??void 0,this.complete=Ae??void 0;else{const dt=G;this.next=dt.next,this.error=dt.error,this.complete=dt.complete}}}function Rr(Y){return(...G)=>{Promise.resolve().then(()=>Y(...G))}}let oi=null;class lr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,ve,Ae,He){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ve,G,!0),void 0!==He)for(const dt in He)He.hasOwnProperty(dt)&&this.xhr_.setRequestHeader(dt,He[dt].toString());return void 0!==Ae?this.xhr_.send(Ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}class ys extends lr{initXhr(){this.xhr_.responseType="text"}}function ei(){return oi?oi():new ys}class _i{constructor(G,ve,Ae=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=ve,this._metadata=Ae,this._mappings=it(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=He=>{if(this._request=void 0,this._chunkMultiplier=1,He._codeEquals(he.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const dt=this.isExponentialBackoffExpired();if(fn(He.status,[])){if(!dt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();He=on()}this._error=He,this._transition("error")}},this._metadataErrorHandler=He=>{this._request=void 0,He._codeEquals(he.CANCELED)?this.completeTransitions_():(this._error=He,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((He,dt)=>{this._resolve=He,this._reject=dt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const G=this._transferred;return ve=>this._updateProgress(G+ve)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ve,Ae])=>{switch(this._state){case"running":G(ve,Ae);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,ve)=>{const Ae=function Ge(Y,G,ve,Ae,He){const dt=G.bucketOnlyServerUrl(),jt=ls(G,Ae,He),cn={name:jt.fullPath},At=tn(dt,Y.host,Y._protocol),Zn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ae.size()}`,"X-Goog-Upload-Header-Content-Type":jt.contentType,"Content-Type":"application/json; charset=utf-8"},yn=Re(jt,ve),ci=new le(At,"POST",function Br(ni){let $r;nt(ni);try{$r=ni.getResponseHeader("X-Goog-Upload-URL")}catch{Ne(!1)}return Ne(we($r)),$r},Y.maxUploadRetryTime);return ci.urlParams=cn,ci.headers=Zn,ci.body=yn,ci.errorHandler=Gt(G),ci}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(Ae,ei,G,ve);this._request=He,He.getPromise().then(dt=>{this._request=void 0,this._uploadUrl=dt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((ve,Ae)=>{const He=function _t(Y,G,ve,Ae){const At=new le(ve,"POST",function dt(Zt){const Zn=nt(Zt,["active","final"]);let yn=null;try{yn=Zt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ne(!1)}yn||Ne(!1);const ui=Number(yn);return Ne(!isNaN(ui)),new Yn(ui,Ae.size(),"final"===Zn)},Y.maxUploadRetryTime);return At.headers={"X-Goog-Upload-Command":"query"},At.errorHandler=Gt(G),At}(this._ref.storage,this._ref._location,G,this._blob),dt=this._ref.storage._makeRequest(He,ei,ve,Ae);this._request=dt,dt.getPromise().then(jt=>{this._request=void 0,this._updateProgress(jt.current),this._needToFetchStatus=!1,jt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,ve=new Yn(this._transferred,this._blob.size()),Ae=this._uploadUrl;this._resolveToken((He,dt)=>{let jt;try{jt=function bn(Y,G,ve,Ae,He,dt,jt,cn){const At=new Yn(0,0);if(jt?(At.current=jt.current,At.total=jt.total):(At.current=0,At.total=Ae.size()),Ae.size()!==At.total)throw function ft(){return new ce(he.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Zt=At.total-At.current;let Zn=Zt;He>0&&(Zn=Math.min(Zn,He));const yn=At.current;let Br="";Br=0===Zn?"finalize":Zt===Zn?"upload, finalize":"upload";const ci={"X-Goog-Upload-Command":Br,"X-Goog-Upload-Offset":`${At.current}`},ni=Ae.slice(yn,yn+Zn);if(null===ni)throw qe();const ir=new le(ve,"POST",function $r(li,Kr){const gr=nt(li,["active","final"]),Xs=At.current+Zn,Ki=Ae.size();let zo;return zo="final"===gr?ht(G,dt)(li,Kr):null,new Yn(Xs,Ki,"final"===gr,zo)},G.maxUploadRetryTime);return ir.headers=ci,ir.body=ni.uploadData(),ir.progressCallback=cn||null,ir.errorHandler=Gt(Y),ir}(this._ref._location,this._ref.storage,Ae,this._blob,G,this._mappings,ve,this._makeProgressCallback())}catch(At){return this._error=At,void this._transition("error")}const cn=this._ref.storage._makeRequest(jt,ei,He,dt,!1);this._request=cn,cn.getPromise().then(At=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(At.current),At.finalized?(this._metadata=At.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,ve)=>{const Ae=Xn(this._ref.storage,this._ref._location,this._mappings),He=this._ref.storage._makeRequest(Ae,ei,G,ve);this._request=He,He.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,ve)=>{const Ae=function Zr(Y,G,ve,Ae,He){const dt=G.bucketOnlyServerUrl(),jt={"X-Goog-Upload-Protocol":"multipart"},At=function cn(){let ir="";for(let li=0;li<2;li++)ir+=Math.random().toString().slice(2);return ir}();jt["Content-Type"]="multipart/related; boundary="+At;const Zt=ls(G,Ae,He),Zn=Re(Zt,ve),Br=Jr.getBlob("--"+At+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zn+"\r\n--"+At+"\r\nContent-Type: "+Zt.contentType+"\r\n\r\n",Ae,"\r\n--"+At+"--");if(null===Br)throw qe();const ci={name:Zt.fullPath},ni=tn(dt,Y.host,Y._protocol),Bi=Y.maxUploadRetryTime,Gi=new le(ni,"POST",ht(Y,ve),Bi);return Gi.urlParams=ci,Gi.headers=jt,Gi.body=Br.uploadData(),Gi.errorHandler=Gt(G),Gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),He=this._ref.storage._makeRequest(Ae,ei,G,ve);this._request=He,He.getPromise().then(dt=>{this._request=void 0,this._metadata=dt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const ve=this._transferred;this._transferred=G,this._transferred!==ve&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ve="paused"===this._state;this._state=G,ve&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=We(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=Gn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,ve,Ae,He){const dt=new Kn(ve||void 0,Ae||void 0,He||void 0);return this._addObserver(dt),()=>{this._removeObserver(dt)}}then(G,ve){return this._promise.then(G,ve)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const ve=this._observers.indexOf(G);-1!==ve&&this._observers.splice(ve,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ve=>{this._notifyObserver(ve)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(Gn(this._state)){case wn.SUCCESS:Rr(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:Rr(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(Gn(this._state)){case wn.RUNNING:case wn.PAUSED:G.next&&Rr(G.next.bind(G,this.snapshot))();break;case wn.SUCCESS:G.complete&&Rr(G.complete.bind(G))();break;default:G.error&&Rr(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class Di{constructor(G,ve){this._service=G,this._location=ve instanceof Ft?ve:Ft.makeFromUrl(ve,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,ve){return new Di(G,ve)}get root(){const G=new Ft(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mi(this._location.path)}get storage(){return this._service}get parent(){const G=function cr(Y){if(0===Y.length)return null;const G=Y.lastIndexOf("/");return-1===G?"":Y.slice(0,G)}(this._location.path);if(null===G)return null;const ve=new Ft(this._location.bucket,G);return new Di(this._service,ve)}_throwIfRoot(G){if(""===this._location.path)throw Wn(G)}}function xi(Y,G,ve){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.A)(function*(Y,G,ve){const He=yield Ho(Y,{pageToken:ve});G.prefixes.push(...He.prefixes),G.items.push(...He.items),null!=He.nextPageToken&&(yield xi(Y,G,He.nextPageToken))})).apply(this,arguments)}function Ho(Y,G){null!=G&&"number"==typeof G.maxResults&&mt("options.maxResults",1,1e3,G.maxResults);const ve=G||{},Ae=_n(Y.storage,Y._location,"/",ve.pageToken,ve.maxResults);return Y.storage.makeRequestWithTokens(Ae,ei)}function Ci(Y){Y._throwIfRoot("getDownloadURL");const G=function xr(Y,G,ve){const He=tn(G.fullServerUrl(),Y.host,Y._protocol),jt=Y.maxOperationRetryTime,cn=new le(He,"GET",function rn(Y,G){return function ve(Ae,He){const dt=Dr(Y,He,G);return Ne(null!==dt),function nr(Y,G,ve,Ae){const He=Hn(G);if(null===He||!we(He.downloadTokens))return null;const dt=He.downloadTokens;if(0===dt.length)return null;const jt=encodeURIComponent;return dt.split(",").map(Zt=>{const yn=Y.fullPath;return tn("/b/"+jt(Y.bucket)+"/o/"+jt(yn),ve,Ae)+Kt({alt:"media",token:Zt})})[0]}(dt,He,Y.host,Y._protocol)}}(Y,ve),jt);return cn.errorHandler=Xt(G),cn}(Y.storage,Y._location,it());return Y.storage.makeRequestWithTokens(G,ei).then(ve=>{if(null===ve)throw function Dt(){return new ce(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ve})}function wi(Y,G){const ve=function Dn(Y,G){const ve=G.split("/").filter(Ae=>Ae.length>0).join("/");return 0===Y.length?ve:Y+"/"+ve}(Y._location.path,G),Ae=new Ft(Y._location.bucket,ve);return new Di(Y.storage,Ae)}function ds(Y,G){if(Y instanceof jr){const ve=Y;if(null==ve._bucket)throw function ze(){return new ce(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Pe+"' property when initializing the app?")}();const Ae=new Di(ve,ve._bucket);return null!=G?ds(Ae,G):Ae}return void 0!==G?wi(Y,G):Y}function bo(Y,G){if(G&&function Si(Y){return/^[A-Za-z]+:\/\//.test(Y)}(G)){if(Y instanceof jr)return function qs(Y,G){return new Di(Y,G)}(Y,G);throw $t("To use ref(service, url), the first argument must be a Storage instance.")}return ds(Y,G)}function Fn(Y,G){const ve=G?.[Pe];return null==ve?null:Ft.makeFromBucketSpec(ve,Y)}class jr{constructor(G,ve,Ae,He,dt){this.app=G,this._authProvider=ve,this._appCheckProvider=Ae,this._url=He,this._firebaseVersion=dt,this._bucket=null,this._host=Ee,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=He?Ft.makeFromBucketSpec(He,this._host):Fn(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?Ft.makeFromBucketSpec(this._url,G):Fn(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){mt("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){mt("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,l.A)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const ve=G._authProvider.getImmediate({optional:!0});if(ve){const Ae=yield ve.getToken();if(null!==Ae)return Ae.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,l.A)(function*(){const ve=G._appCheckProvider.getImmediate({optional:!0});return ve?(yield ve.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Di(this,G)}_makeRequest(G,ve,Ae,He,dt=!0){if(this._deleted)return new Je(Yt());{const jt=function Ur(Y,G,ve,Ae,He,dt,jt=!0){const cn=Kt(Y.urlParams),At=Y.url+cn,Zt=Object.assign({},Y.headers);return function Vt(Y,G){G&&(Y["X-Firebase-GMPID"]=G)}(Zt,G),function gn(Y,G){null!==G&&G.length>0&&(Y.Authorization="Firebase "+G)}(Zt,ve),function On(Y,G){Y["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(Zt,dt),function St(Y,G){null!==G&&(Y["X-Firebase-AppCheck"]=G)}(Zt,Ae),new or(At,Y.method,Zt,Y.body,Y.successCodes,Y.additionalRetryCodes,Y.handler,Y.errorHandler,Y.timeout,Y.progressCallback,He,jt)}(G,this._appId,Ae,He,ve,this._firebaseVersion,dt);return this._requests.add(jt),jt.getPromise().then(()=>this._requests.delete(jt),()=>this._requests.delete(jt)),jt}}makeRequestWithTokens(G,ve){var Ae=this;return(0,l.A)(function*(){const[He,dt]=yield Promise.all([Ae._getAuthToken(),Ae._getAppCheckToken()]);return Ae._makeRequest(G,ve,He,dt).getPromise()})()}}const Ni="@firebase/storage",Rs="storage";function es(Y,G,ve){return function Pr(Y,G,ve){return Y._throwIfRoot("uploadBytesResumable"),new _i(Y,new Jr(G),ve)}(Y=(0,m.Ku)(Y),G,ve)}function hr(Y){return function Ii(Y){Y._throwIfRoot("getMetadata");const G=Xn(Y.storage,Y._location,it());return Y.storage.makeRequestWithTokens(G,ei)}(Y=(0,m.Ku)(Y))}function qt(Y,G){return function ca(Y,G){Y._throwIfRoot("updateMetadata");const ve=function Us(Y,G,ve,Ae){const dt=tn(G.fullServerUrl(),Y.host,Y._protocol),cn=Re(ve,Ae),Zt=Y.maxOperationRetryTime,Zn=new le(dt,"PATCH",ht(Y,Ae),Zt);return Zn.headers={"Content-Type":"application/json; charset=utf-8"},Zn.body=cn,Zn.errorHandler=Xt(G),Zn}(Y.storage,Y._location,G,it());return Y.storage.makeRequestWithTokens(ve,ei)}(Y=(0,m.Ku)(Y),G)}function Sn(Y,G){return Ho(Y=(0,m.Ku)(Y),G)}function Jn(Y){return function Wi(Y){const G={prefixes:[],items:[]};return xi(Y,G).then(()=>G)}(Y=(0,m.Ku)(Y))}function Ri(Y){return Ci(Y=(0,m.Ku)(Y))}function Qs(Y){return function dr(Y){Y._throwIfRoot("deleteObject");const G=function Gr(Y,G){const Ae=tn(G.fullServerUrl(),Y.host,Y._protocol),cn=new le(Ae,"DELETE",function jt(At,Zt){},Y.maxOperationRetryTime);return cn.successCodes=[200,204],cn.errorHandler=Xt(G),cn}(Y.storage,Y._location);return Y.storage.makeRequestWithTokens(G,ei)}(Y=(0,m.Ku)(Y))}function Hr(Y,G){return bo(Y=(0,m.Ku)(Y),G)}function ss(Y,G){return wi(Y,G)}function br(Y=(0,de.getApp)(),G){Y=(0,m.Ku)(Y);const Ae=(0,de._getProvider)(Y,Rs).getImmediate({identifier:G}),He=(0,m.yU)("storage");return He&&Ms(Ae,...He),Ae}function Ms(Y,G,ve,Ae={}){!function Er(Y,G,ve,Ae={}){Y.host=`${G}:${ve}`,Y._protocol="http";const{mockUserToken:He}=Ae;He&&(Y._overrideAuthToken="string"==typeof He?He:(0,m.Fy)(He,Y.app.options.projectId))}(Y,G,ve,Ae)}function os(Y,{instanceIdentifier:G}){const ve=Y.getProvider("app").getImmediate(),Ae=Y.getProvider("auth-internal"),He=Y.getProvider("app-check-internal");return new jr(ve,Ae,He,G,de.SDK_VERSION)}!function ai(){(0,de._registerComponent)(new De.uA(Rs,os,"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ni,"0.12.5",""),(0,de.registerVersion)(Ni,"0.12.5","esm2017")}()},1076:(en,Qe,B)=>{B.d(Qe,{Am:()=>Rt,Bd:()=>$t,FA:()=>Fe,Fy:()=>qe,I9:()=>un,Im:()=>St,Ku:()=>nr,Ll:()=>Ce,T9:()=>Le,Uj:()=>je,XA:()=>Ye,ZQ:()=>ft,bD:()=>nn,cY:()=>ze,eX:()=>me,g:()=>we,gR:()=>On,hp:()=>Cn,jZ:()=>Dt,lT:()=>Pt,lV:()=>Wn,nr:()=>pe,sr:()=>Yt,tD:()=>ar,u:()=>ce,yU:()=>We,zW:()=>ue,zw:()=>Me});const De=function(Re){const te=[];let H=0;for(let V=0;V<Re.length;V++){let F=Re.charCodeAt(V);F<128?te[H++]=F:F<2048?(te[H++]=F>>6|192,te[H++]=63&F|128):55296==(64512&F)&&V+1<Re.length&&56320==(64512&Re.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&Re.charCodeAt(++V)),te[H++]=F>>18|240,te[H++]=F>>12&63|128,te[H++]=F>>6&63|128,te[H++]=63&F|128):(te[H++]=F>>12|224,te[H++]=F>>6&63|128,te[H++]=63&F|128)}return te},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,te){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<Re.length;F+=3){const le=Re[F],Ne=F+1<Re.length,ht=Ne?Re[F+1]:0,wt=F+2<Re.length,rn=wt?Re[F+2]:0;let Xn=(15&ht)<<2|rn>>6,_n=63&rn;wt||(_n=64,Ne||(Xn=64)),V.push(H[le>>2],H[(3&le)<<4|ht>>4],H[Xn],H[_n])}return V.join("")},encodeString(Re,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(Re):this.encodeByteArray(De(Re),te)},decodeString(Re,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(Re):function(Re){const te=[];let H=0,V=0;for(;H<Re.length;){const F=Re[H++];if(F<128)te[V++]=String.fromCharCode(F);else if(F>191&&F<224){const le=Re[H++];te[V++]=String.fromCharCode((31&F)<<6|63&le)}else if(F>239&&F<365){const wt=((7&F)<<18|(63&Re[H++])<<12|(63&Re[H++])<<6|63&Re[H++])-65536;te[V++]=String.fromCharCode(55296+(wt>>10)),te[V++]=String.fromCharCode(56320+(1023&wt))}else{const le=Re[H++],Ne=Re[H++];te[V++]=String.fromCharCode((15&F)<<12|(63&le)<<6|63&Ne)}}return te.join("")}(this.decodeStringToByteArray(Re,te))},decodeStringToByteArray(Re,te){this.init_();const H=te?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<Re.length;){const le=H[Re.charAt(F++)],ht=F<Re.length?H[Re.charAt(F)]:0;++F;const rn=F<Re.length?H[Re.charAt(F)]:64;++F;const Xt=F<Re.length?H[Re.charAt(F)]:64;if(++F,null==le||null==ht||null==rn||null==Xt)throw new Ue;V.push(le<<2|ht>>4),64!==rn&&(V.push(ht<<4&240|rn>>2),64!==Xt&&V.push(rn<<6&192|Xt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(Re){return function(Re){const te=De(Re);return Pe.encodeByteArray(te,!0)}(Re).replace(/\./g,"")},ce=function(Re){try{return Pe.decodeString(Re,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function Me(Re,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return te}for(const H in te)!te.hasOwnProperty(H)||!ct(H)||(Re[H]=Me(Re[H],te[H]));return Re}function ct(Re){return"__proto__"!==Re}const Ct=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=Re&&ce(Re[1]);return te&&JSON.parse(te)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},We=Re=>{const te=(Re=>{var te,H;return null===(H=null===(te=Ct())||void 0===te?void 0:te.emulatorHosts)||void 0===H?void 0:H[Re]})(Re);if(!te)return;const H=te.lastIndexOf(":");if(H<=0||H+1===te.length)throw new Error(`Invalid host ${te} with no separate hostname and port!`);const V=parseInt(te.substring(H+1),10);return"["===te[0]?[te.substring(1,H-1),V]:[te.substring(0,H),V]},Le=()=>{var Re;return null===(Re=Ct())||void 0===Re?void 0:Re.config},Ye=Re=>{var te;return null===(te=Ct())||void 0===te?void 0:te[`_${Re}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,H)=>{this.resolve=te,this.reject=H})}wrapCallback(te){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(H):te(H,V))}}}function qe(Re,te){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=te||"demo-project",F=Re.iat||0,le=Re.sub||Re.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Ne)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Ce(){var Re;const te=null===(Re=Ct())||void 0===Re?void 0:Re.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $t(){return"object"==typeof self&&self.self===self}function Yt(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function Wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const Re=ft();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function pe(){return!Ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((Re,te)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(V),Re(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var le;te((null===(le=F.error)||void 0===le?void 0:le.message)||"")}}catch(H){te(H)}})}class we extends Error{constructor(te,H,V){super(H),this.code=te,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(te,H,V){this.service=te,this.serviceName=H,this.errors=V}create(te,...H){const V=H[0]||{},F=`${this.service}/${te}`,le=this.errors[te],Ne=le?function lt(Re,te){return Re.replace(mt,(H,V)=>{const F=te[V];return null!=F?String(F):`<${V}?>`})}(le,V):"Error";return new we(F,`${this.serviceName}: ${Ne} (${F}).`,V)}}const mt=/\{\$([^}]+)}/g;function On(Re,te){return Object.prototype.hasOwnProperty.call(Re,te)}function St(Re){for(const te in Re)if(Object.prototype.hasOwnProperty.call(Re,te))return!1;return!0}function nn(Re,te){if(Re===te)return!0;const H=Object.keys(Re),V=Object.keys(te);for(const F of H){if(!V.includes(F))return!1;const le=Re[F],Ne=te[F];if(fr(le)&&fr(Ne)){if(!nn(le,Ne))return!1}else if(le!==Ne)return!1}for(const F of V)if(!H.includes(F))return!1;return!0}function fr(Re){return null!==Re&&"object"==typeof Re}function Rt(Re){const te=[];for(const[H,V]of Object.entries(Re))Array.isArray(V)?V.forEach(F=>{te.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):te.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return te.length?"&"+te.join("&"):""}function un(Re){const te={};return Re.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,le]=V.split("=");te[decodeURIComponent(F)]=decodeURIComponent(le)}}),te}function Cn(Re){const te=Re.indexOf("?");if(!te)return"";const H=Re.indexOf("#",te);return Re.substring(te,H>0?H:void 0)}function ar(Re,te){const H=new vr(Re,te);return H.subscribe.bind(H)}class vr{constructor(te,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{te(this)}).catch(V=>{this.error(V)})}next(te){this.forEachObserver(H=>{H.next(te)})}error(te){this.forEachObserver(H=>{H.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,H,V){let F;if(void 0===te&&void 0===H&&void 0===V)throw new Error("Missing Observer.");F=function xn(Re,te){if("object"!=typeof Re||null===Re)return!1;for(const H of te)if(H in Re&&"function"==typeof Re[H])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:H,complete:V},void 0===F.next&&(F.next=Yr),void 0===F.error&&(F.error=Yr),void 0===F.complete&&(F.complete=Yr);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),le}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,te)}sendOne(te,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{H(this.observers[te])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function nr(Re){return Re&&Re._delegate?Re._delegate:Re}},9616:(en,Qe,B)=>{B.d(Qe,{B:()=>Je});var l=B(7705),de=B(8704),m=B(4454),De=B(6861),Ee=B(177),Pe=B(467),Ue=B(5558),Ve=B(8455),je=B(6354);function ce(pe,ue){if(1&pe&&l.nrm(0,"button",11),2&pe){const me=ue.index;l.AVh("active",0===me),l.BMQ("data-bs-slide-to",me)("aria-current",0===me?"true":null)("aria-label","Slide "+(me+1))}}function he(pe,ue){if(1&pe){const me=l.RV6();l.j41(0,"div",12),l.nrm(1,"img",13),l.j41(2,"div",14)(3,"h1"),l.EFF(4,"Welcome to "),l.nrm(5,"br"),l.EFF(6),l.k0s(),l.j41(7,"div",15),l.nrm(8,"br"),l.j41(9,"p"),l.EFF(10),l.k0s()(),l.j41(11,"button",16),l.bIt("click",function(){l.eBV(me);const ge=l.XpG(2);return l.Njj(ge.navigateToContact())}),l.EFF(12," Book Consultation "),l.k0s()()()}if(2&pe){const me=ue.$implicit,Se=ue.index,ge=l.XpG(2);l.AVh("active",0===Se),l.R7$(1),l.Y8G("src",me.url,l.B4B),l.R7$(5),l.SpI(" ",ge.business.businessName,""),l.R7$(4),l.JRh(ge.business.tagline)}}function Me(pe,ue){if(1&pe&&(l.j41(0,"div",1)(1,"div",2),l.DNE(2,ce,1,5,"button",3),l.k0s(),l.j41(3,"div",4),l.DNE(4,he,13,5,"div",5),l.k0s(),l.j41(5,"button",6),l.nrm(6,"span",7),l.j41(7,"span",8),l.EFF(8,"Previous"),l.k0s()(),l.j41(9,"button",9),l.nrm(10,"span",10),l.j41(11,"span",8),l.EFF(12,"Next"),l.k0s()()()),2&pe){const me=l.XpG();l.R7$(2),l.Y8G("ngForOf",me.heroImages),l.R7$(2),l.Y8G("ngForOf",me.heroImages)}}let ct=(()=>{class pe{constructor(me,Se,ge){this.router=me,this.route=Se,this.webContentService=ge,this.heroImages=[]}ngOnInit(){this.route.queryParams.subscribe(me=>{this.businessId=me.id,this.webContentService.getBusinessData(this.businessId).subscribe(Se=>{Se&&(this.business=Se,this.loadHeroImages())})})}loadHeroImages(){var me=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ue.n)(ge=>{const we=ge.map(function(){var Fe=(0,Pe.A)(function*(lt){return(yield me.webContentService.checkImageExists(lt.url))?lt:null});return function(lt){return Fe.apply(this,arguments)}}());return(0,Ve.H)(Promise.all(we))}),(0,je.T)(ge=>ge.filter(we=>null!==we))).subscribe(ge=>{this.heroImages=ge,this.heroImages.forEach(we=>{})})}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Se){return new(Se||pe)(l.rXU(m.Ix),l.rXU(m.nX),l.rXU(de.N))};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-hero-carousel"]],decls:1,vars:1,consts:[["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],[1,"action-btn",3,"click"]],template:function(Se,ge){1&Se&&l.DNE(0,Me,13,2,"div",0),2&Se&&l.Y8G("ngIf",ge.business)},dependencies:[Ee.Sq,Ee.bT],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]{position:relative;height:800px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}"]})}return pe})();function Ke(pe,ue){if(1&pe&&(l.j41(0,"div",5)(1,"div",6),l.nrm(2,"img",7),l.k0s(),l.j41(3,"div")(4,"div",8)(5,"div",9)(6,"p"),l.EFF(7),l.k0s(),l.j41(8,"strong"),l.EFF(9),l.k0s()()()()()),2&pe){const me=ue.$implicit;l.R7$(2),l.FS9("src",me.photoURL,l.B4B),l.FS9("alt",me.name),l.R7$(5),l.SpI('" ',me.quote,' "'),l.R7$(2),l.JRh(me.name)}}let It=(()=>{class pe{static#e=this.\u0275fac=function(Se){return new(Se||pe)};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials"},decls:6,vars:1,consts:[[1,"testimonial-comp"],[1,"testimonial-heading"],[1,"section-heading"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-image"],[3,"src","alt"],[1,"testimonial-content","garamond"],[1,""]],template:function(Se,ge){1&Se&&(l.j41(0,"section",0)(1,"div",1)(2,"div",2),l.EFF(3,"Testimonials"),l.k0s()(),l.j41(4,"div",3),l.DNE(5,Ke,10,4,"div",4),l.k0s()()),2&Se&&(l.R7$(5),l.Y8G("ngForOf",ge.testimonials))},dependencies:[Ee.Sq],styles:[".testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-content[_ngcontent-%COMP%]{max-width:300px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);line-height:1.7}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-color)}"]})}return pe})();function pt(pe,ue){if(1&pe&&(l.j41(0,"div",7),l.nrm(1,"i",8),l.j41(2,"h3",9),l.EFF(3),l.k0s(),l.j41(4,"div",10)(5,"p"),l.EFF(6),l.k0s()()()),2&pe){const me=ue.$implicit;l.R7$(1),l.Y8G("ngClass",me.icon),l.R7$(2),l.JRh(me.title),l.R7$(3),l.JRh(me.description)}}let kt=(()=>{class pe{static#e=this.\u0275fac=function(Se){return new(Se||pe)};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-our-services-home"]],inputs:{services:"services"},decls:10,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"services-container"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"service-item-icon",3,"ngClass"],[1,"service-item-title"],[1,"service-item-description"]],template:function(Se,ge){1&Se&&(l.j41(0,"section",0)(1,"div",1)(2,"span",2),l.EFF(3,"Our"),l.k0s(),l.j41(4,"span",3),l.EFF(5,"Services"),l.k0s()(),l.j41(6,"h3",4),l.EFF(7,"Home Care From Trained Professionals"),l.k0s(),l.j41(8,"div",5),l.DNE(9,pt,7,3,"div",6),l.k0s()()),2&Se&&(l.R7$(9),l.Y8G("ngForOf",ge.services))},dependencies:[Ee.YU,Ee.Sq],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.service-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.service-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.service-item[_ngcontent-%COMP%]{margin-bottom:20px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}"]})}return pe})(),Ct=(()=>{class pe{constructor(me){this.router=me}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Se){return new(Se||pe)(l.rXU(m.Ix))};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-welcome"]],inputs:{welcomeMsg:"welcomeMsg",keyServicesHighlights:"keyServicesHighlights",businessName:"businessName"},decls:14,vars:3,consts:[[1,"info-container"],[1,"overlay"],[1,"content","garamond"],[1,"brand-name"],[1,"buttons"],[1,"contact-btn",3,"click"]],template:function(Se,ge){1&Se&&(l.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),l.EFF(4,"We Are "),l.j41(5,"span",3),l.EFF(6),l.k0s()(),l.j41(7,"h1"),l.EFF(8),l.k0s(),l.j41(9,"p"),l.EFF(10),l.k0s(),l.j41(11,"div",4)(12,"button",5),l.bIt("click",function(){return ge.navigateToContact()}),l.EFF(13,"Contact Us"),l.k0s()()()()()),2&Se&&(l.R7$(6),l.JRh(ge.businessName),l.R7$(2),l.JRh(ge.welcomeMsg),l.R7$(2),l.JRh(ge.keyServicesHighlights))},styles:[".info-container[_ngcontent-%COMP%]{position:relative;width:100%;height:600px;background-color:var(--background-color);color:var( --text-color)}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.learn-more-btn[_ngcontent-%COMP%], .contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}.learn-more-btn[_ngcontent-%COMP%]{background-color:#888;color:var(--button-text-color)}.contact-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--button-text-color)}"]})}return pe})(),on=(()=>{class pe{constructor(me){this.router=me}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(Se){return new(Se||pe)(l.rXU(m.Ix))};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-consultation"]],decls:10,vars:0,consts:[[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"btn-book-consultation",3,"click"]],template:function(Se,ge){1&Se&&(l.j41(0,"div",0)(1,"div",1)(2,"span",2),l.EFF(3,"Book a "),l.k0s(),l.j41(4,"span",3),l.EFF(5," Consultation"),l.k0s()(),l.j41(6,"p",4),l.EFF(7," We would love to meet you! Contact us to schedule a tour. "),l.k0s(),l.j41(8,"button",5),l.bIt("click",function(){return ge.navigateToContact()}),l.EFF(9,"Book Consultation"),l.k0s()())},styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}"]})}return pe})();function We(pe,ue){if(1&pe&&(l.j41(0,"div",8),l.nrm(1,"div",9)(2,"div",10),l.k0s()),2&pe){const me=ue.$implicit;l.R7$(1),l.Y8G("innerHTML",me.name,l.npT),l.R7$(1),l.Y8G("innerHTML",me.description,l.npT)}}let Le=(()=>{class pe{constructor(me,Se){this.webContent=me,this.route=Se}ngOnInit(){this.route.queryParams.subscribe(me=>{this.webContent.getBusinessData(me.id).subscribe(ge=>{ge&&(this.business=ge)})})}static#e=this.\u0275fac=function(Se){return new(Se||pe)(l.rXU(de.N),l.rXU(m.nX))};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-features"]],decls:11,vars:1,consts:[[1,"services-section"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],[1,"features-section"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Se,ge){1&Se&&(l.j41(0,"section",0)(1,"div",1)(2,"span",2),l.EFF(3,"Our Unique "),l.k0s(),l.j41(4,"span",3),l.EFF(5," Features"),l.k0s()(),l.j41(6,"p",4),l.EFF(7," What sets us appart. "),l.k0s(),l.j41(8,"div",5)(9,"div",6),l.DNE(10,We,3,2,"div",7),l.k0s()()()),2&Se&&(l.R7$(10),l.Y8G("ngForOf",null==ge.business?null:ge.business.uniqueService))},dependencies:[Ee.Sq],styles:[".services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.service-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return pe})();function Ye(pe,ue){if(1&pe&&(l.j41(0,"div",7)(1,"h3"),l.nrm(2,"div",8),l.k0s(),l.nrm(3,"div",9),l.k0s()),2&pe){const me=ue.$implicit;l.R7$(2),l.Y8G("innerHTML",me.name,l.npT),l.R7$(1),l.Y8G("innerHTML",me.description,l.npT)}}const ze=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},qe=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Dt=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},$t=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Wn=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Pt=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"ll the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Ft=function(pe,ue,me,Se,ge,we){return[pe,ue,me,Se,ge,we]};let Je=(()=>{class pe{constructor(me,Se,ge){this.webContent=me,this.route=Se,this.metaService=ge,this.business={businessName:"",businessURL:"",providerName:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",mission:"",vision:"",certifications:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],contactFormDetails:"",mapIframeUrl:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",isActive:!1}}ngOnInit(){this.route.queryParams.subscribe(me=>{let Se=me.id;this.metaService.getMetaData(Se).subscribe(ge=>{this.metaService.updateMetaTags(ge)}),this.webContent.getBusinessData(Se).subscribe(ge=>{ge&&(this.business=ge)})})}static#e=this.\u0275fac=function(Se){return new(Se||pe)(l.rXU(de.N),l.rXU(m.nX),l.rXU(De.R))};static#t=this.\u0275cmp=l.VBU({type:pe,selectors:[["app-home"]],decls:11,vars:19,consts:[[3,"welcomeMsg","keyServicesHighlights","businessName"],[3,"services"],[1,"features-section"],[1,"section-heading"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[3,"testimonials"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Se,ge){1&Se&&(l.nrm(0,"app-hero-carousel")(1,"app-welcome",0)(2,"app-our-services-home",1),l.j41(3,"div",2)(4,"div",3),l.EFF(5,"Why Choose Us"),l.k0s(),l.j41(6,"div",4),l.DNE(7,Ye,4,2,"div",5),l.k0s()(),l.nrm(8,"app-features")(9,"app-testimonials",6)(10,"app-consultation")),2&Se&&(l.R7$(1),l.Y8G("welcomeMsg",ge.business.welcomeMessage)("keyServicesHighlights",ge.business.keyServicesHighlights)("businessName",ge.business.businessName),l.R7$(1),l.Y8G("services",l.l4e(12,Ft,l.lJ4(6,ze),l.lJ4(7,qe),l.lJ4(8,Dt),l.lJ4(9,$t),l.lJ4(10,Wn),l.lJ4(11,Pt))),l.R7$(5),l.Y8G("ngForOf",ge.business.whyChoose),l.R7$(2),l.Y8G("testimonials",ge.business.testimonials))},dependencies:[Ee.Sq,ct,It,kt,Ct,on,Le],styles:[".container[_ngcontent-%COMP%]{padding:40px 20px}.intro-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center;max-width:1200px;margin:0 auto;padding:40px 20px;text-align:left;min-height:400px}.left[_ngcontent-%COMP%]{flex:1;margin-right:20px}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:400;margin:0}.right[_ngcontent-%COMP%]{flex:1;margin-left:20px}.right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.6;margin:0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{margin:0;text-align:center}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1024px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;background-color:var(--background-color);text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return pe})()},214:(en,Qe,B)=>{B.d(Qe,{W:()=>de});var l=B(7705);let de=(()=>{class m{constructor(){this.closeModal=new l.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(Pe){return new(Pe||m)};static#t=this.\u0275cmp=l.VBU({type:m,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Pe,Ue){1&Pe&&(l.j41(0,"div",0),l.bIt("click",function(){return Ue.close()}),l.j41(1,"div",1),l.bIt("click",function(je){return je.stopPropagation()}),l.j41(2,"button",2),l.bIt("click",function(){return Ue.close()}),l.EFF(3,"Close"),l.k0s(),l.nrm(4,"img",3),l.k0s()()),2&Pe&&(l.R7$(4),l.Y8G("src",Ue.imageUrl,l.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return m})()},4796:(en,Qe,B)=>{B.d(Qe,{u:()=>Ee});var l=B(6354),de=B(7705),m=B(1977),De=B(4454);let Ee=(()=>{class Pe{constructor(Ve,je){this.afAuth=Ve,this.router=je,this.user$=Ve.authState}login(Ve,je){return this.afAuth.signInWithEmailAndPassword(Ve,je)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,l.T)(Ve=>!!Ve))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(je){return new(je||Pe)(de.KVO(m.DS),de.KVO(De.Ix))};static#t=this.\u0275prov=de.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},6861:(en,Qe,B)=>{B.d(Qe,{R:()=>Ee});var l=B(6354),de=B(7705),m=B(345),De=B(6340);let Ee=(()=>{class Pe{constructor(Ve,je,ce){this.meta=Ve,this.title=je,this.firestore=ce,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}updateMetaTags(Ve){this.title.setTitle(Ve.title),this.meta.updateTag({name:"description",content:Ve.description}),this.meta.updateTag({name:"keywords",content:Ve.keywords}),this.meta.updateTag({property:"og:title",content:Ve.title}),this.meta.updateTag({property:"og:description",content:Ve.description})}getMetaData(Ve){return(null==Ve||""==Ve||""===Ve)&&(Ve=this.defaultBusinessId),this.firestore.collection("businesses").doc(Ve).valueChanges().pipe((0,l.T)(je=>je?{title:je.metaTitle||"Adult Family Home",description:je.metaDescription||"Best Adult Family home in Washington State",keywords:je.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function(je){return new(je||Pe)(de.KVO(m.W8),de.KVO(m.hE),de.KVO(De.Qe))};static#t=this.\u0275prov=de.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},8704:(en,Qe,B)=>{B.d(Qe,{N:()=>Ue});var l=B(6354),de=B(9437),m=B(7673),De=B(7705),Ee=B(6340),Pe=B(8721);let Ue=(()=>{class Ve{constructor(ce,he){this.firestore=ce,this.storage=he,this.defaultBusinessId="vfCMoPjAu2ROVBbKvk0D"}getBusinessData(ce){const he=ce&&ce.trim()?ce:this.defaultBusinessId;return this.firestore.collection("businesses").doc(he).snapshotChanges().pipe((0,l.T)(Me=>{const ct=Me.payload.data(),Ke=Me.payload.id;if(ct){const{id:It,...pt}=ct;return{id:Ke,...pt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ce){return this.storage.ref(ce).getDownloadURL().pipe((0,de.W)(he=>(console.error("Error fetching photo URL:",he),(0,m.of)(""))))}getEmployeesByBusinessId(ce){return(null==ce||""==ce||""===ce)&&(ce=this.defaultBusinessId),this.firestore.collection("businesses").doc(ce).get().pipe((0,l.T)(he=>{if(he.exists){const Me=he.data();return Me&&Me.employees?Me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,de.W)(he=>(console.error("Error fetching employees:",he),(0,m.of)([]))))}getBusinessGalleryImagesById(ce){return(null==ce||""==ce||""===ce)&&(ce=this.defaultBusinessId),this.firestore.collection("businesses").doc(ce).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ce,he){return(null==ce||""==ce||""===ce)&&(ce=this.defaultBusinessId),this.firestore.collection("businesses").doc(ce).collection(he).valueChanges()}checkImageExists(ce){return this.storage.refFromURL(ce).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(he){return new(he||Ve)(De.KVO(Ee.Qe),De.KVO(Pe.ap))};static#t=this.\u0275prov=De.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})()},4520:(en,Qe,B)=>{var l={};B.r(l),B.d(l,{afterMain:()=>xi,afterRead:()=>Pr,afterWrite:()=>Ii,applyStyles:()=>Fn,arrow:()=>ve,auto:()=>lr,basePlacements:()=>ys,beforeMain:()=>Bs,beforeRead:()=>Ks,beforeWrite:()=>Ji,bottom:()=>Kn,clippingParents:()=>ri,computeStyles:()=>At,createPopper:()=>Do,createPopperBase:()=>ec,createPopperLite:()=>ba,detectOverflow:()=>Cs,end:()=>vs,eventListeners:()=>yn,flip:()=>To,hide:()=>Wo,left:()=>oi,main:()=>Wi,modifierPhases:()=>ca,offset:()=>Q,placements:()=>rr,popper:()=>Ui,popperGenerator:()=>Mi,popperOffsets:()=>se,preventOverflow:()=>Nn,read:()=>Sr,reference:()=>_i,right:()=>Rr,start:()=>ei,top:()=>Gn,variationPlacements:()=>Di,viewport:()=>jo,write:()=>Ho});var de=B(345),m=B(7705),De=B(7673),Ee=B(8455),Pe=B(1985),Ue=B(274),Ve=B(5964),je=B(6354),ce=B(980),he=B(5558),Me=B(177);class ct{}class Ke{}class It{constructor(d){this.normalizedNames=new Map,this.lazyUpdate=null,d?"string"==typeof d?this.lazyInit=()=>{this.headers=new Map,d.split("\n").forEach(g=>{const D=g.indexOf(":");if(D>0){const L=g.slice(0,D),Z=L.toLowerCase(),J=g.slice(D+1).trim();this.maybeSetNormalizedName(L,Z),this.headers.has(Z)?this.headers.get(Z).push(J):this.headers.set(Z,[J])}})}:typeof Headers<"u"&&d instanceof Headers?(this.headers=new Map,d.forEach((g,D)=>{this.setHeaderEntries(D,g)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(d).forEach(([g,D])=>{this.setHeaderEntries(g,D)})}:this.headers=new Map}has(d){return this.init(),this.headers.has(d.toLowerCase())}get(d){this.init();const g=this.headers.get(d.toLowerCase());return g&&g.length>0?g[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(d){return this.init(),this.headers.get(d.toLowerCase())||null}append(d,g){return this.clone({name:d,value:g,op:"a"})}set(d,g){return this.clone({name:d,value:g,op:"s"})}delete(d,g){return this.clone({name:d,value:g,op:"d"})}maybeSetNormalizedName(d,g){this.normalizedNames.has(g)||this.normalizedNames.set(g,d)}init(){this.lazyInit&&(this.lazyInit instanceof It?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(d=>this.applyUpdate(d)),this.lazyUpdate=null))}copyFrom(d){d.init(),Array.from(d.headers.keys()).forEach(g=>{this.headers.set(g,d.headers.get(g)),this.normalizedNames.set(g,d.normalizedNames.get(g))})}clone(d){const g=new It;return g.lazyInit=this.lazyInit&&this.lazyInit instanceof It?this.lazyInit:this,g.lazyUpdate=(this.lazyUpdate||[]).concat([d]),g}applyUpdate(d){const g=d.name.toLowerCase();switch(d.op){case"a":case"s":let D=d.value;if("string"==typeof D&&(D=[D]),0===D.length)return;this.maybeSetNormalizedName(d.name,g);const L=("a"===d.op?this.headers.get(g):void 0)||[];L.push(...D),this.headers.set(g,L);break;case"d":const Z=d.value;if(Z){let J=this.headers.get(g);if(!J)return;J=J.filter(ut=>-1===Z.indexOf(ut)),0===J.length?(this.headers.delete(g),this.normalizedNames.delete(g)):this.headers.set(g,J)}else this.headers.delete(g),this.normalizedNames.delete(g)}}setHeaderEntries(d,g){const D=(Array.isArray(g)?g:[g]).map(Z=>Z.toString()),L=d.toLowerCase();this.headers.set(L,D),this.maybeSetNormalizedName(d,L)}forEach(d){this.init(),Array.from(this.normalizedNames.keys()).forEach(g=>d(this.normalizedNames.get(g),this.headers.get(g)))}}class kt{encodeKey(d){return Le(d)}encodeValue(d){return Le(d)}decodeKey(d){return decodeURIComponent(d)}decodeValue(d){return decodeURIComponent(d)}}const on=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Le(E){return encodeURIComponent(E).replace(on,(d,g)=>We[g]??d)}function Ye(E){return`${E}`}class ze{constructor(d={}){if(this.updates=null,this.cloneFrom=null,this.encoder=d.encoder||new kt,d.fromString){if(d.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ct(E,d){const g=new Map;return E.length>0&&E.replace(/^\?/,"").split("&").forEach(L=>{const Z=L.indexOf("="),[J,ut]=-1==Z?[d.decodeKey(L),""]:[d.decodeKey(L.slice(0,Z)),d.decodeValue(L.slice(Z+1))],gt=g.get(J)||[];gt.push(ut),g.set(J,gt)}),g}(d.fromString,this.encoder)}else d.fromObject?(this.map=new Map,Object.keys(d.fromObject).forEach(g=>{const D=d.fromObject[g],L=Array.isArray(D)?D.map(Ye):[Ye(D)];this.map.set(g,L)})):this.map=null}has(d){return this.init(),this.map.has(d)}get(d){this.init();const g=this.map.get(d);return g?g[0]:null}getAll(d){return this.init(),this.map.get(d)||null}keys(){return this.init(),Array.from(this.map.keys())}append(d,g){return this.clone({param:d,value:g,op:"a"})}appendAll(d){const g=[];return Object.keys(d).forEach(D=>{const L=d[D];Array.isArray(L)?L.forEach(Z=>{g.push({param:D,value:Z,op:"a"})}):g.push({param:D,value:L,op:"a"})}),this.clone(g)}set(d,g){return this.clone({param:d,value:g,op:"s"})}delete(d,g){return this.clone({param:d,value:g,op:"d"})}toString(){return this.init(),this.keys().map(d=>{const g=this.encoder.encodeKey(d);return this.map.get(d).map(D=>g+"="+this.encoder.encodeValue(D)).join("&")}).filter(d=>""!==d).join("&")}clone(d){const g=new ze({encoder:this.encoder});return g.cloneFrom=this.cloneFrom||this,g.updates=(this.updates||[]).concat(d),g}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(d=>this.map.set(d,this.cloneFrom.map.get(d))),this.updates.forEach(d=>{switch(d.op){case"a":case"s":const g=("a"===d.op?this.map.get(d.param):void 0)||[];g.push(Ye(d.value)),this.map.set(d.param,g);break;case"d":if(void 0===d.value){this.map.delete(d.param);break}{let D=this.map.get(d.param)||[];const L=D.indexOf(Ye(d.value));-1!==L&&D.splice(L,1),D.length>0?this.map.set(d.param,D):this.map.delete(d.param)}}}),this.cloneFrom=this.updates=null)}}class ft{constructor(){this.map=new Map}set(d,g){return this.map.set(d,g),this}get(d){return this.map.has(d)||this.map.set(d,d.defaultValue()),this.map.get(d)}delete(d){return this.map.delete(d),this}has(d){return this.map.has(d)}keys(){return this.map.keys()}}function Ce(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer}function $t(E){return typeof Blob<"u"&&E instanceof Blob}function Yt(E){return typeof FormData<"u"&&E instanceof FormData}class vt{constructor(d,g,D,L){let Z;if(this.url=g,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=d.toUpperCase(),function Dt(E){switch(E){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||L?(this.body=void 0!==D?D:null,Z=L):Z=D,Z&&(this.reportProgress=!!Z.reportProgress,this.withCredentials=!!Z.withCredentials,Z.responseType&&(this.responseType=Z.responseType),Z.headers&&(this.headers=Z.headers),Z.context&&(this.context=Z.context),Z.params&&(this.params=Z.params)),this.headers||(this.headers=new It),this.context||(this.context=new ft),this.params){const J=this.params.toString();if(0===J.length)this.urlWithParams=g;else{const ut=g.indexOf("?");this.urlWithParams=g+(-1===ut?"?":ut<g.length-1?"&":"")+J}}else this.params=new ze,this.urlWithParams=g}serializeBody(){return null===this.body?null:Ce(this.body)||$t(this.body)||Yt(this.body)||function Wn(E){return typeof URLSearchParams<"u"&&E instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yt(this.body)?null:$t(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(d={}){const g=d.method||this.method,D=d.url||this.url,L=d.responseType||this.responseType,Z=void 0!==d.body?d.body:this.body,J=void 0!==d.withCredentials?d.withCredentials:this.withCredentials,ut=void 0!==d.reportProgress?d.reportProgress:this.reportProgress;let gt=d.headers||this.headers,sn=d.params||this.params;const Ht=d.context??this.context;return void 0!==d.setHeaders&&(gt=Object.keys(d.setHeaders).reduce((Bn,er)=>Bn.set(er,d.setHeaders[er]),gt)),d.setParams&&(sn=Object.keys(d.setParams).reduce((Bn,er)=>Bn.set(er,d.setParams[er]),sn)),new vt(g,D,Z,{params:sn,headers:gt,context:Ht,reportProgress:ut,responseType:L,withCredentials:J})}}var Pt=function(E){return E[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E}(Pt||{});class Ft{constructor(d,g=200,D="OK"){this.headers=d.headers||new It,this.status=void 0!==d.status?d.status:g,this.statusText=d.statusText||D,this.url=d.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends Ft{constructor(d={}){super(d),this.type=Pt.ResponseHeader}clone(d={}){return new Je({headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class pe extends Ft{constructor(d={}){super(d),this.type=Pt.Response,this.body=void 0!==d.body?d.body:null}clone(d={}){return new pe({body:void 0!==d.body?d.body:this.body,headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class ue extends Ft{constructor(d){super(d,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${d.url||"(unknown url)"}`:`Http failure response for ${d.url||"(unknown url)"}: ${d.status} ${d.statusText}`,this.error=d.error||null}}function me(E,d){return{body:d,headers:E.headers,context:E.context,observe:E.observe,params:E.params,reportProgress:E.reportProgress,responseType:E.responseType,withCredentials:E.withCredentials}}let Se=(()=>{class E{constructor(g){this.handler=g}request(g,D,L={}){let Z;if(g instanceof vt)Z=g;else{let gt,sn;gt=L.headers instanceof It?L.headers:new It(L.headers),L.params&&(sn=L.params instanceof ze?L.params:new ze({fromObject:L.params})),Z=new vt(g,D,void 0!==L.body?L.body:null,{headers:gt,context:L.context,params:sn,reportProgress:L.reportProgress,responseType:L.responseType||"json",withCredentials:L.withCredentials})}const J=(0,De.of)(Z).pipe((0,Ue.H)(gt=>this.handler.handle(gt)));if(g instanceof vt||"events"===L.observe)return J;const ut=J.pipe((0,Ve.p)(gt=>gt instanceof pe));switch(L.observe||"body"){case"body":switch(Z.responseType){case"arraybuffer":return ut.pipe((0,je.T)(gt=>{if(null!==gt.body&&!(gt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gt.body}));case"blob":return ut.pipe((0,je.T)(gt=>{if(null!==gt.body&&!(gt.body instanceof Blob))throw new Error("Response is not a Blob.");return gt.body}));case"text":return ut.pipe((0,je.T)(gt=>{if(null!==gt.body&&"string"!=typeof gt.body)throw new Error("Response is not a string.");return gt.body}));default:return ut.pipe((0,je.T)(gt=>gt.body))}case"response":return ut;default:throw new Error(`Unreachable: unhandled observe type ${L.observe}}`)}}delete(g,D={}){return this.request("DELETE",g,D)}get(g,D={}){return this.request("GET",g,D)}head(g,D={}){return this.request("HEAD",g,D)}jsonp(g,D){return this.request("JSONP",g,{params:(new ze).append(D,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(g,D={}){return this.request("OPTIONS",g,D)}patch(g,D,L={}){return this.request("PATCH",g,me(L,D))}post(g,D,L={}){return this.request("POST",g,me(L,D))}put(g,D,L={}){return this.request("PUT",g,me(L,D))}static#e=this.\u0275fac=function(D){return new(D||E)(m.KVO(ct))};static#t=this.\u0275prov=m.jDH({token:E,factory:E.\u0275fac})}return E})();function Pn(E,d){return d(E)}function fn(E,d){return(g,D)=>d.intercept(g,{handle:L=>E(L,D)})}const Nt=new m.nKC(""),gn=new m.nKC(""),On=new m.nKC("");function Vt(){let E=null;return(d,g)=>{null===E&&(E=((0,m.WQX)(Nt,{optional:!0})??[]).reduceRight(fn,Pn));const D=(0,m.WQX)(m.$K3),L=D.add();return E(d,g).pipe((0,ce.j)(()=>D.remove(L)))}}let St=(()=>{class E extends ct{constructor(g,D){super(),this.backend=g,this.injector=D,this.chain=null,this.pendingTasks=(0,m.WQX)(m.$K3)}handle(g){if(null===this.chain){const L=Array.from(new Set([...this.injector.get(gn),...this.injector.get(On,[])]));this.chain=L.reduceRight((Z,J)=>function or(E,d,g){return(D,L)=>g.runInContext(()=>d(D,Z=>E(Z,L)))}(Z,J,this.injector),Pn)}const D=this.pendingTasks.add();return this.chain(g,L=>this.backend.handle(L)).pipe((0,ce.j)(()=>this.pendingTasks.remove(D)))}static#e=this.\u0275fac=function(D){return new(D||E)(m.KVO(Ke),m.KVO(m.uvJ))};static#t=this.\u0275prov=m.jDH({token:E,factory:E.\u0275fac})}return E})();const xn=/^\)\]\}',?\n/;let Yi=(()=>{class E{constructor(g){this.xhrFactory=g}handle(g){if("JSONP"===g.method)throw new m.wOt(-2800,!1);const D=this.xhrFactory;return(D.\u0275loadImpl?(0,Ee.H)(D.\u0275loadImpl()):(0,De.of)(null)).pipe((0,he.n)(()=>new Pe.c(Z=>{const J=D.build();if(J.open(g.method,g.urlWithParams),g.withCredentials&&(J.withCredentials=!0),g.headers.forEach((En,In)=>J.setRequestHeader(En,In.join(","))),g.headers.has("Accept")||J.setRequestHeader("Accept","application/json, text/plain, */*"),!g.headers.has("Content-Type")){const En=g.detectContentTypeHeader();null!==En&&J.setRequestHeader("Content-Type",En)}if(g.responseType){const En=g.responseType.toLowerCase();J.responseType="json"!==En?En:"text"}const ut=g.serializeBody();let gt=null;const sn=()=>{if(null!==gt)return gt;const En=J.statusText||"OK",In=new It(J.getAllResponseHeaders()),hi=function Yr(E){return"responseURL"in E&&E.responseURL?E.responseURL:/^X-Request-URL:/m.test(E.getAllResponseHeaders())?E.getResponseHeader("X-Request-URL"):null}(J)||g.url;return gt=new Je({headers:In,status:J.status,statusText:En,url:hi}),gt},Ht=()=>{let{headers:En,status:In,statusText:hi,url:Ti}=sn(),Qr=null;204!==In&&(Qr=typeof J.response>"u"?J.responseText:J.response),0===In&&(In=Qr?200:0);let yr=In>=200&&In<300;if("json"===g.responseType&&"string"==typeof Qr){const fi=Qr;Qr=Qr.replace(xn,"");try{Qr=""!==Qr?JSON.parse(Qr):null}catch(gi){Qr=fi,yr&&(yr=!1,Qr={error:gi,text:Qr})}}yr?(Z.next(new pe({body:Qr,headers:En,status:In,statusText:hi,url:Ti||void 0})),Z.complete()):Z.error(new ue({error:Qr,headers:En,status:In,statusText:hi,url:Ti||void 0}))},Bn=En=>{const{url:In}=sn(),hi=new ue({error:En,status:J.status||0,statusText:J.statusText||"Unknown Error",url:In||void 0});Z.error(hi)};let er=!1;const tr=En=>{er||(Z.next(sn()),er=!0);let In={type:Pt.DownloadProgress,loaded:En.loaded};En.lengthComputable&&(In.total=En.total),"text"===g.responseType&&J.responseText&&(In.partialText=J.responseText),Z.next(In)},di=En=>{let In={type:Pt.UploadProgress,loaded:En.loaded};En.lengthComputable&&(In.total=En.total),Z.next(In)};return J.addEventListener("load",Ht),J.addEventListener("error",Bn),J.addEventListener("timeout",Bn),J.addEventListener("abort",Bn),g.reportProgress&&(J.addEventListener("progress",tr),null!==ut&&J.upload&&J.upload.addEventListener("progress",di)),J.send(ut),Z.next({type:Pt.Sent}),()=>{J.removeEventListener("error",Bn),J.removeEventListener("abort",Bn),J.removeEventListener("load",Ht),J.removeEventListener("timeout",Bn),g.reportProgress&&(J.removeEventListener("progress",tr),null!==ut&&J.upload&&J.upload.removeEventListener("progress",di)),J.readyState!==J.DONE&&J.abort()}})))}static#e=this.\u0275fac=function(D){return new(D||E)(m.KVO(Me.N0))};static#t=this.\u0275prov=m.jDH({token:E,factory:E.\u0275fac})}return E})();const Qt=new m.nKC("XSRF_ENABLED"),Hn=new m.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dn=new m.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mi{}let $e=(()=>{class E{constructor(g,D,L){this.doc=g,this.platform=D,this.cookieName=L,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const g=this.doc.cookie||"";return g!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Me._b)(g,this.cookieName),this.lastCookieString=g),this.lastToken}static#e=this.\u0275fac=function(D){return new(D||E)(m.KVO(Me.qQ),m.KVO(m.Agw),m.KVO(Hn))};static#t=this.\u0275prov=m.jDH({token:E,factory:E.\u0275fac})}return E})();function at(E,d){const g=E.url.toLowerCase();if(!(0,m.WQX)(Qt)||"GET"===E.method||"HEAD"===E.method||g.startsWith("http://")||g.startsWith("https://"))return d(E);const D=(0,m.WQX)(mi).getToken(),L=(0,m.WQX)(Dn);return null!=D&&!E.headers.has(L)&&(E=E.clone({headers:E.headers.set(L,D)})),d(E)}var Te=function(E){return E[E.Interceptors=0]="Interceptors",E[E.LegacyInterceptors=1]="LegacyInterceptors",E[E.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",E[E.NoXsrfProtection=3]="NoXsrfProtection",E[E.JsonpSupport=4]="JsonpSupport",E[E.RequestsMadeViaParent=5]="RequestsMadeViaParent",E[E.Fetch=6]="Fetch",E}(Te||{});function Lt(...E){const d=[Se,Yi,St,{provide:ct,useExisting:St},{provide:Ke,useExisting:Yi},{provide:gn,useValue:at,multi:!0},{provide:Qt,useValue:!0},{provide:mi,useClass:$e}];for(const g of E)d.push(...g.\u0275providers);return(0,m.EmA)(d)}const Dr=new m.nKC("LEGACY_INTERCEPTOR_FN");function nr(){return function it(E,d){return{\u0275kind:E,\u0275providers:d}}(Te.LegacyInterceptors,[{provide:Dr,useFactory:Vt},{provide:gn,useExisting:Dr,multi:!0}])}let Ne=(()=>{class E{static#e=this.\u0275fac=function(D){return new(D||E)};static#t=this.\u0275mod=m.$C({type:E});static#n=this.\u0275inj=m.G2t({providers:[Lt(nr())]})}return E})();var xr=B(4454),Us=B(9616),Gr=B(8704),zi=B(6861),ls=B(9437);function Zr(E,d){if(1&E&&(m.j41(0,"div",4),m.nrm(1,"img",5),m.j41(2,"h3"),m.EFF(3),m.k0s(),m.j41(4,"h4"),m.EFF(5),m.k0s(),m.j41(6,"p"),m.EFF(7),m.k0s()()),2&E){const g=d.$implicit;m.R7$(1),m.FS9("alt",g.name),m.Y8G("src",g.photoURL,m.B4B),m.R7$(2),m.JRh(g.name),m.R7$(2),m.JRh(g.role),m.R7$(2),m.JRh(g.bio)}}function Yn(E,d){if(1&E&&(m.j41(0,"div",1)(1,"h2"),m.EFF(2,"Meet the Team"),m.k0s(),m.j41(3,"div",2),m.DNE(4,Zr,8,5,"div",3),m.nI1(5,"async"),m.k0s()()),2&E){const g=m.XpG();m.R7$(4),m.Y8G("ngForOf",m.bMT(5,1,g.employees$))}}let nt=(()=>{class E{constructor(g,D){this.route=g,this.employeeService=D}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,je.T)(g=>g.get("id")||""),(0,he.n)(g=>this.employeeService.getEmployeesByBusinessId(g)),(0,ls.W)(g=>(console.error("Error fetching employees:",g),(0,De.of)([]))))}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(xr.nX),m.rXU(Gr.N))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(D,L){1&D&&m.DNE(0,Yn,6,3,"div",0),2&D&&m.Y8G("ngIf",L.employees$)},dependencies:[Me.Sq,Me.bT,Me.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return E})();function Ge(E,d){if(1&E){const g=m.RV6();m.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),m.EFF(4,"About Us"),m.k0s(),m.j41(5,"div",3)(6,"p"),m.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),m.k0s()()()(),m.j41(8,"div",4)(9,"section",5)(10,"div",6)(11,"h2",7),m.EFF(12,"Our Story"),m.k0s()(),m.nrm(13,"div",8),m.k0s(),m.j41(14,"section",9)(15,"div",10),m.nrm(16,"img",11),m.j41(17,"div",6)(18,"h2",7),m.EFF(19,"Our Mission"),m.k0s()(),m.nrm(20,"div",8),m.k0s(),m.j41(21,"div",12),m.nrm(22,"img",11),m.j41(23,"div",6)(24,"h2",7),m.EFF(25,"Our Vision"),m.k0s()(),m.nrm(26,"div",8),m.k0s()(),m.j41(27,"section",13),m.nrm(28,"app-meet-the-team",14),m.k0s()(),m.j41(29,"div",15)(30,"div",16)(31,"h2"),m.EFF(32,"Come Meet Our Family"),m.k0s(),m.j41(33,"p"),m.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),m.k0s(),m.j41(35,"button",17),m.bIt("click",function(){m.eBV(g);const L=m.XpG();return m.Njj(L.navigateToContact())}),m.EFF(36,"Schedule a Visit"),m.k0s()()()()}if(2&E){const g=m.XpG();m.R7$(13),m.Y8G("innerHTML",g.business.businessStory,m.npT),m.R7$(3),m.Y8G("src",g.business.lifestyleImages,m.B4B),m.R7$(4),m.Y8G("innerHTML",g.business.mission,m.npT),m.R7$(2),m.Y8G("src",g.business.facilityImages,m.B4B),m.R7$(4),m.Y8G("innerHTML",g.business.vision,m.npT),m.R7$(2),m.Y8G("businessId",g.business.id)}}let _t=(()=>{class E{constructor(g,D,L,Z){this.webContent=g,this.route=D,this.router=L,this.metaService=Z}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id}),this.metaService.getMetaData(this.businessId).subscribe(g=>{this.metaService.updateMetaTags(g)}),this.webContent.getBusinessData(this.businessId).subscribe(g=>{g&&(this.business=g)})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(Gr.N),m.rXU(xr.nX),m.rXU(xr.Ix),m.rXU(zi.R))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],[3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(D,L){1&D&&m.DNE(0,Ge,37,6,"div",0),2&D&&m.Y8G("ngIf",L.business)},dependencies:[Me.bT,nt],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return E})();function Jt(E,d){if(1&E&&(m.j41(0,"li")(1,"h3"),m.EFF(2),m.k0s()()),2&E){const g=d.$implicit;m.R7$(2),m.JRh(g.name)}}function bn(E,d){if(1&E&&(m.j41(0,"li")(1,"h3"),m.EFF(2),m.k0s()()),2&E){const g=d.$implicit;m.R7$(2),m.JRh(g.name)}}function Mn(E,d){if(1&E){const g=m.RV6();m.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h1"),m.EFF(4,"Our Services"),m.k0s(),m.j41(5,"div",3)(6,"p"),m.EFF(7,"Providing exceptional care tailored to your needs"),m.k0s()()()(),m.j41(8,"div",4)(9,"section",5),m.nrm(10,"img",6),m.j41(11,"h2"),m.EFF(12,"Our Comprehensive Services"),m.k0s(),m.j41(13,"ul"),m.DNE(14,Jt,3,1,"li",7),m.k0s()(),m.j41(15,"section",5),m.nrm(16,"img",6),m.j41(17,"h2"),m.EFF(18,"Our Benefits"),m.k0s(),m.j41(19,"ul"),m.DNE(20,bn,3,1,"li",7),m.k0s()(),m.j41(21,"section",8)(22,"h2"),m.EFF(23,"Special Programs"),m.k0s(),m.j41(24,"h3"),m.EFF(25),m.k0s()(),m.j41(26,"section",9)(27,"div",10),m.nrm(28,"img",11),m.j41(29,"div",12)(30,"h2",13),m.EFF(31,"Tours"),m.k0s()(),m.nrm(32,"div",14),m.k0s(),m.j41(33,"div",15),m.nrm(34,"img",16),m.j41(35,"div",12)(36,"h2",13),m.EFF(37,"Free Consulting"),m.k0s()(),m.nrm(38,"div",14),m.k0s()()(),m.j41(39,"div",17)(40,"div",18)(41,"h2"),m.EFF(42,"Ready to Experience Exceptional Care?"),m.k0s(),m.j41(43,"p"),m.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),m.k0s(),m.j41(45,"button",19),m.bIt("click",function(){m.eBV(g);const L=m.XpG();return m.Njj(L.navigateToContact())}),m.EFF(46,"Book a Consultation"),m.k0s()()()()}if(2&E){const g=m.XpG();m.R7$(14),m.Y8G("ngForOf",g.business.services),m.R7$(6),m.Y8G("ngForOf",g.business.benefits),m.R7$(5),m.JRh(g.business.specialPrograms),m.R7$(7),m.Y8G("innerHTML",g.business.tours,m.npT),m.R7$(6),m.Y8G("innerHTML",g.business.freeConsulting,m.npT)}}let wn=(()=>{class E{constructor(g,D,L,Z){this.webContent=g,this.route=D,this.router=L,this.metaService=Z}navigateToContact(){this.router.navigate(["/contact-us"])}ngOnInit(){this.route.queryParams.subscribe(g=>{let D=g.id;this.metaService.getMetaData(D).subscribe(L=>{this.metaService.updateMetaTags(L)}),this.webContent.getBusinessData(D).subscribe(L=>{L&&(this.business=L)})})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(Gr.N),m.rXU(xr.nX),m.rXU(xr.Ix),m.rXU(zi.R))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"]],template:function(D,L){1&D&&m.DNE(0,Mn,47,5,"div",0),2&D&&m.Y8G("ngIf",L.business)},dependencies:[Me.Sq,Me.bT],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return E})();var Gn="top",Kn="bottom",Rr="right",oi="left",lr="auto",ys=[Gn,Kn,Rr,oi],ei="start",vs="end",ri="clippingParents",jo="viewport",Ui="popper",_i="reference",Di=ys.reduce(function(E,d){return E.concat([d+"-"+ei,d+"-"+vs])},[]),rr=[].concat(ys,[lr]).reduce(function(E,d){return E.concat([d,d+"-"+ei,d+"-"+vs])},[]),Ks="beforeRead",Sr="read",Pr="afterRead",Bs="beforeMain",Wi="main",xi="afterMain",Ji="beforeWrite",Ho="write",Ii="afterWrite",ca=[Ks,Sr,Pr,Bs,Wi,xi,Ji,Ho,Ii];function Ci(E){return E?(E.nodeName||"").toLowerCase():null}function dr(E){if(null==E)return window;if("[object Window]"!==E.toString()){var d=E.ownerDocument;return d&&d.defaultView||window}return E}function wi(E){return E instanceof dr(E).Element||E instanceof Element}function Si(E){return E instanceof dr(E).HTMLElement||E instanceof HTMLElement}function qs(E){return!(typeof ShadowRoot>"u")&&(E instanceof dr(E).ShadowRoot||E instanceof ShadowRoot)}const Fn={name:"applyStyles",enabled:!0,phase:"write",fn:function ds(E){var d=E.state;Object.keys(d.elements).forEach(function(g){var D=d.styles[g]||{},L=d.attributes[g]||{},Z=d.elements[g];!Si(Z)||!Ci(Z)||(Object.assign(Z.style,D),Object.keys(L).forEach(function(J){var ut=L[J];!1===ut?Z.removeAttribute(J):Z.setAttribute(J,!0===ut?"":ut)}))})},effect:function bo(E){var d=E.state,g={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,g.popper),d.styles=g,d.elements.arrow&&Object.assign(d.elements.arrow.style,g.arrow),function(){Object.keys(d.elements).forEach(function(D){var L=d.elements[D],Z=d.attributes[D]||{},ut=Object.keys(d.styles.hasOwnProperty(D)?d.styles[D]:g[D]).reduce(function(gt,sn){return gt[sn]="",gt},{});!Si(L)||!Ci(L)||(Object.assign(L.style,ut),Object.keys(Z).forEach(function(gt){L.removeAttribute(gt)}))})}},requires:["computeStyles"]};function Er(E){return E.split("-")[0]}var jr=Math.max,Ni=Math.min,pr=Math.round;function Rs(){var E=navigator.userAgentData;return null!=E&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Zi(){return!/^((?!chrome|android).)*safari/i.test(Rs())}function is(E,d,g){void 0===d&&(d=!1),void 0===g&&(g=!1);var D=E.getBoundingClientRect(),L=1,Z=1;d&&Si(E)&&(L=E.offsetWidth>0&&pr(D.width)/E.offsetWidth||1,Z=E.offsetHeight>0&&pr(D.height)/E.offsetHeight||1);var ut=(wi(E)?dr(E):window).visualViewport,gt=!Zi()&&g,sn=(D.left+(gt&&ut?ut.offsetLeft:0))/L,Ht=(D.top+(gt&&ut?ut.offsetTop:0))/Z,Bn=D.width/L,er=D.height/Z;return{width:Bn,height:er,top:Ht,right:sn+Bn,bottom:Ht+er,left:sn,x:sn,y:Ht}}function Pi(E){var d=is(E),g=E.offsetWidth,D=E.offsetHeight;return Math.abs(d.width-g)<=1&&(g=d.width),Math.abs(d.height-D)<=1&&(D=d.height),{x:E.offsetLeft,y:E.offsetTop,width:g,height:D}}function es(E,d){var g=d.getRootNode&&d.getRootNode();if(E.contains(d))return!0;if(g&&qs(g)){var D=d;do{if(D&&E.isSameNode(D))return!0;D=D.parentNode||D.host}while(D)}return!1}function hr(E){return dr(E).getComputedStyle(E)}function qt(E){return["table","td","th"].indexOf(Ci(E))>=0}function Sn(E){return((wi(E)?E.ownerDocument:E.document)||window.document).documentElement}function Jn(E){return"html"===Ci(E)?E:E.assignedSlot||E.parentNode||(qs(E)?E.host:null)||Sn(E)}function Ri(E){return Si(E)&&"fixed"!==hr(E).position?E.offsetParent:null}function Hr(E){for(var d=dr(E),g=Ri(E);g&&qt(g)&&"static"===hr(g).position;)g=Ri(g);return g&&("html"===Ci(g)||"body"===Ci(g)&&"static"===hr(g).position)?d:g||function Qs(E){var d=/firefox/i.test(Rs());if(/Trident/i.test(Rs())&&Si(E)&&"fixed"===hr(E).position)return null;var L=Jn(E);for(qs(L)&&(L=L.host);Si(L)&&["html","body"].indexOf(Ci(L))<0;){var Z=hr(L);if("none"!==Z.transform||"none"!==Z.perspective||"paint"===Z.contain||-1!==["transform","perspective"].indexOf(Z.willChange)||d&&"filter"===Z.willChange||d&&Z.filter&&"none"!==Z.filter)return L;L=L.parentNode}return null}(E)||d}function ss(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function br(E,d,g){return jr(E,Ni(d,g))}function Vn(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function os(E,d){return d.reduce(function(g,D){return g[D]=E,g},{})}const ve={name:"arrow",enabled:!0,phase:"main",fn:function Y(E){var d,g=E.state,D=E.name,L=E.options,Z=g.elements.arrow,J=g.modifiersData.popperOffsets,ut=Er(g.placement),gt=ss(ut),Ht=[oi,Rr].indexOf(ut)>=0?"height":"width";if(Z&&J){var Bn=function(d,g){return Vn("number"!=typeof(d="function"==typeof d?d(Object.assign({},g.rects,{placement:g.placement})):d)?d:os(d,ys))}(L.padding,g),er=Pi(Z),tr="y"===gt?Gn:oi,di="y"===gt?Kn:Rr,En=g.rects.reference[Ht]+g.rects.reference[gt]-J[gt]-g.rects.popper[Ht],In=J[gt]-g.rects.reference[gt],hi=Hr(Z),Ti=hi?"y"===gt?hi.clientHeight||0:hi.clientWidth||0:0,gi=Ti/2-er[Ht]/2+(En/2-In/2),ji=br(Bn[tr],gi,Ti-er[Ht]-Bn[di]);g.modifiersData[D]=((d={})[gt]=ji,d.centerOffset=ji-gi,d)}},effect:function G(E){var d=E.state,D=E.options.element,L=void 0===D?"[data-popper-arrow]":D;null!=L&&("string"==typeof L&&!(L=d.elements.popper.querySelector(L))||es(d.elements.popper,L)&&(d.elements.arrow=L))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ae(E){return E.split("-")[1]}var He={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jt(E){var d,g=E.popper,D=E.popperRect,L=E.placement,Z=E.variation,J=E.offsets,ut=E.position,gt=E.gpuAcceleration,sn=E.adaptive,Ht=E.roundOffsets,Bn=E.isFixed,er=J.x,tr=void 0===er?0:er,di=J.y,En=void 0===di?0:di,In="function"==typeof Ht?Ht({x:tr,y:En}):{x:tr,y:En};tr=In.x,En=In.y;var hi=J.hasOwnProperty("x"),Ti=J.hasOwnProperty("y"),Qr=oi,yr=Gn,fi=window;if(sn){var gi=Hr(g),ji="clientHeight",Ss="clientWidth";gi===dr(g)&&"static"!==hr(gi=Sn(g)).position&&"absolute"===ut&&(ji="scrollHeight",Ss="scrollWidth"),(L===Gn||(L===oi||L===Rr)&&Z===vs)&&(yr=Kn,En-=(Bn&&gi===fi&&fi.visualViewport?fi.visualViewport.height:gi[ji])-D.height,En*=gt?1:-1),L!==oi&&(L!==Gn&&L!==Kn||Z!==vs)||(Qr=Rr,tr-=(Bn&&gi===fi&&fi.visualViewport?fi.visualViewport.width:gi[Ss])-D.width,tr*=gt?1:-1)}var vo,Li=Object.assign({position:ut},sn&&He),Vo=!0===Ht?function dt(E,d){var D=E.y,L=d.devicePixelRatio||1;return{x:pr(E.x*L)/L||0,y:pr(D*L)/L||0}}({x:tr,y:En},dr(g)):{x:tr,y:En};return tr=Vo.x,En=Vo.y,Object.assign({},Li,gt?((vo={})[yr]=Ti?"0":"",vo[Qr]=hi?"0":"",vo.transform=(fi.devicePixelRatio||1)<=1?"translate("+tr+"px, "+En+"px)":"translate3d("+tr+"px, "+En+"px, 0)",vo):((d={})[yr]=Ti?En+"px":"",d[Qr]=hi?tr+"px":"",d.transform="",d))}const At={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function cn(E){var d=E.state,g=E.options,D=g.gpuAcceleration,L=void 0===D||D,Z=g.adaptive,J=void 0===Z||Z,ut=g.roundOffsets,gt=void 0===ut||ut,sn={placement:Er(d.placement),variation:Ae(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:L,isFixed:"fixed"===d.options.strategy};null!=d.modifiersData.popperOffsets&&(d.styles.popper=Object.assign({},d.styles.popper,jt(Object.assign({},sn,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:J,roundOffsets:gt})))),null!=d.modifiersData.arrow&&(d.styles.arrow=Object.assign({},d.styles.arrow,jt(Object.assign({},sn,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:gt})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Zt={passive:!0};const yn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Zn(E){var d=E.state,g=E.instance,D=E.options,L=D.scroll,Z=void 0===L||L,J=D.resize,ut=void 0===J||J,gt=dr(d.elements.popper),sn=[].concat(d.scrollParents.reference,d.scrollParents.popper);return Z&&sn.forEach(function(Ht){Ht.addEventListener("scroll",g.update,Zt)}),ut&&gt.addEventListener("resize",g.update,Zt),function(){Z&&sn.forEach(function(Ht){Ht.removeEventListener("scroll",g.update,Zt)}),ut&&gt.removeEventListener("resize",g.update,Zt)}},data:{}};var ui={left:"right",right:"left",bottom:"top",top:"bottom"};function Br(E){return E.replace(/left|right|bottom|top/g,function(d){return ui[d]})}var ci={start:"end",end:"start"};function ni(E){return E.replace(/start|end/g,function(d){return ci[d]})}function $r(E){var d=dr(E);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Bi(E){return is(Sn(E)).left+$r(E).scrollLeft}function li(E){var d=hr(E);return/auto|scroll|overlay|hidden/.test(d.overflow+d.overflowY+d.overflowX)}function Kr(E){return["html","body","#document"].indexOf(Ci(E))>=0?E.ownerDocument.body:Si(E)&&li(E)?E:Kr(Jn(E))}function gr(E,d){var g;void 0===d&&(d=[]);var D=Kr(E),L=D===(null==(g=E.ownerDocument)?void 0:g.body),Z=dr(D),J=L?[Z].concat(Z.visualViewport||[],li(D)?D:[]):D,ut=d.concat(J);return L?ut:ut.concat(gr(Jn(J)))}function Xs(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function zo(E,d,g){return d===jo?Xs(function Gi(E,d){var g=dr(E),D=Sn(E),L=g.visualViewport,Z=D.clientWidth,J=D.clientHeight,ut=0,gt=0;if(L){Z=L.width,J=L.height;var sn=Zi();(sn||!sn&&"fixed"===d)&&(ut=L.offsetLeft,gt=L.offsetTop)}return{width:Z,height:J,x:ut+Bi(E),y:gt}}(E,g)):wi(d)?function Ki(E,d){var g=is(E,!1,"fixed"===d);return g.top=g.top+E.clientTop,g.left=g.left+E.clientLeft,g.bottom=g.top+E.clientHeight,g.right=g.left+E.clientWidth,g.width=E.clientWidth,g.height=E.clientHeight,g.x=g.left,g.y=g.top,g}(d,g):Xs(function ir(E){var d,g=Sn(E),D=$r(E),L=null==(d=E.ownerDocument)?void 0:d.body,Z=jr(g.scrollWidth,g.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),J=jr(g.scrollHeight,g.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),ut=-D.scrollLeft+Bi(E),gt=-D.scrollTop;return"rtl"===hr(L||g).direction&&(ut+=jr(g.clientWidth,L?L.clientWidth:0)-Z),{width:Z,height:J,x:ut,y:gt}}(Sn(E)))}function Is(E){var gt,d=E.reference,g=E.element,D=E.placement,L=D?Er(D):null,Z=D?Ae(D):null,J=d.x+d.width/2-g.width/2,ut=d.y+d.height/2-g.height/2;switch(L){case Gn:gt={x:J,y:d.y-g.height};break;case Kn:gt={x:J,y:d.y+d.height};break;case Rr:gt={x:d.x+d.width,y:ut};break;case oi:gt={x:d.x-g.width,y:ut};break;default:gt={x:d.x,y:d.y}}var sn=L?ss(L):null;if(null!=sn){var Ht="y"===sn?"height":"width";switch(Z){case ei:gt[sn]=gt[sn]-(d[Ht]/2-g[Ht]/2);break;case vs:gt[sn]=gt[sn]+(d[Ht]/2-g[Ht]/2)}}return gt}function Cs(E,d){void 0===d&&(d={});var D=d.placement,L=void 0===D?E.placement:D,Z=d.strategy,J=void 0===Z?E.strategy:Z,ut=d.boundary,gt=void 0===ut?ri:ut,sn=d.rootBoundary,Ht=void 0===sn?jo:sn,Bn=d.elementContext,er=void 0===Bn?Ui:Bn,tr=d.altBoundary,di=void 0!==tr&&tr,En=d.padding,In=void 0===En?0:En,hi=Vn("number"!=typeof In?In:os(In,ys)),Qr=E.rects.popper,yr=E.elements[di?er===Ui?_i:Ui:er],fi=function la(E,d,g,D){var L="clippingParents"===d?function as(E){var d=gr(Jn(E)),D=["absolute","fixed"].indexOf(hr(E).position)>=0&&Si(E)?Hr(E):E;return wi(D)?d.filter(function(L){return wi(L)&&es(L,D)&&"body"!==Ci(L)}):[]}(E):[].concat(d),Z=[].concat(L,[g]),ut=Z.reduce(function(gt,sn){var Ht=zo(E,sn,D);return gt.top=jr(Ht.top,gt.top),gt.right=Ni(Ht.right,gt.right),gt.bottom=Ni(Ht.bottom,gt.bottom),gt.left=jr(Ht.left,gt.left),gt},zo(E,Z[0],D));return ut.width=ut.right-ut.left,ut.height=ut.bottom-ut.top,ut.x=ut.left,ut.y=ut.top,ut}(wi(yr)?yr:yr.contextElement||Sn(E.elements.popper),gt,Ht,J),gi=is(E.elements.reference),ji=Is({reference:gi,element:Qr,strategy:"absolute",placement:L}),Ss=Xs(Object.assign({},Qr,ji)),Ls=er===Ui?Ss:gi,Ps={top:fi.top-Ls.top+hi.top,bottom:Ls.bottom-fi.bottom+hi.bottom,left:fi.left-Ls.left+hi.left,right:Ls.right-fi.right+hi.right},Li=E.modifiersData.offset;if(er===Ui&&Li){var Vo=Li[L];Object.keys(Ps).forEach(function(vo){var Yu=[Rr,Kn].indexOf(vo)>=0?1:-1,fl=[Gn,Kn].indexOf(vo)>=0?"y":"x";Ps[vo]+=Vo[fl]*Yu})}return Ps}const To={name:"flip",enabled:!0,phase:"main",fn:function ki(E){var d=E.state,g=E.options,D=E.name;if(!d.modifiersData[D]._skip){for(var L=g.mainAxis,Z=void 0===L||L,J=g.altAxis,ut=void 0===J||J,gt=g.fallbackPlacements,sn=g.padding,Ht=g.boundary,Bn=g.rootBoundary,er=g.altBoundary,tr=g.flipVariations,di=void 0===tr||tr,En=g.allowedAutoPlacements,In=d.options.placement,hi=Er(In),Qr=gt||(hi!==In&&di?function Zo(E){if(Er(E)===lr)return[];var d=Br(E);return[ni(E),d,ni(d)]}(In):[Br(In)]),yr=[In].concat(Qr).reduce(function(ms,rs){return ms.concat(Er(rs)===lr?function Va(E,d){void 0===d&&(d={});var L=d.boundary,Z=d.rootBoundary,J=d.padding,ut=d.flipVariations,gt=d.allowedAutoPlacements,sn=void 0===gt?rr:gt,Ht=Ae(d.placement),Bn=Ht?ut?Di:Di.filter(function(di){return Ae(di)===Ht}):ys,er=Bn.filter(function(di){return sn.indexOf(di)>=0});0===er.length&&(er=Bn);var tr=er.reduce(function(di,En){return di[En]=Cs(E,{placement:En,boundary:L,rootBoundary:Z,padding:J})[Er(En)],di},{});return Object.keys(tr).sort(function(di,En){return tr[di]-tr[En]})}(d,{placement:rs,boundary:Ht,rootBoundary:Bn,padding:sn,flipVariations:di,allowedAutoPlacements:En}):rs)},[]),fi=d.rects.reference,gi=d.rects.popper,ji=new Map,Ss=!0,Ls=yr[0],Ps=0;Ps<yr.length;Ps++){var Li=yr[Ps],Vo=Er(Li),vo=Ae(Li)===ei,Yu=[Gn,Kn].indexOf(Vo)>=0,fl=Yu?"width":"height",Lo=Cs(d,{placement:Li,boundary:Ht,rootBoundary:Bn,altBoundary:er,padding:sn}),aa=Yu?vo?Rr:oi:vo?Kn:Gn;fi[fl]>gi[fl]&&(aa=Br(aa));var Ju=Br(aa),yu=[];if(Z&&yu.push(Lo[Vo]<=0),ut&&yu.push(Lo[aa]<=0,Lo[Ju]<=0),yu.every(function(ms){return ms})){Ls=Li,Ss=!1;break}ji.set(Li,yu)}if(Ss)for(var Ad=function(rs){var Eo=yr.find(function(wh){var wc=ji.get(wh);if(wc)return wc.slice(0,rs).every(function(Ah){return Ah})});if(Eo)return Ls=Eo,"break"},Tc=di?3:1;Tc>0&&"break"!==Ad(Tc);Tc--);d.placement!==Ls&&(d.modifiersData[D]._skip=!0,d.placement=Ls,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wo(E,d,g){return void 0===g&&(g={x:0,y:0}),{top:E.top-d.height-g.y,right:E.right-d.width+g.x,bottom:E.bottom-d.height+g.y,left:E.left-d.width-g.x}}function La(E){return[Gn,Rr,Kn,oi].some(function(d){return E[d]>=0})}const Wo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Nr(E){var d=E.state,g=E.name,D=d.rects.reference,L=d.rects.popper,Z=d.modifiersData.preventOverflow,J=Cs(d,{elementContext:"reference"}),ut=Cs(d,{altBoundary:!0}),gt=wo(J,D),sn=wo(ut,L,Z),Ht=La(gt),Bn=La(sn);d.modifiersData[g]={referenceClippingOffsets:gt,popperEscapeOffsets:sn,isReferenceHidden:Ht,hasPopperEscaped:Bn},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ht,"data-popper-escaped":Bn})}},Q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function z(E){var d=E.state,D=E.name,L=E.options.offset,Z=void 0===L?[0,0]:L,J=rr.reduce(function(Ht,Bn){return Ht[Bn]=function Ua(E,d,g){var D=Er(E),L=[oi,Gn].indexOf(D)>=0?-1:1,Z="function"==typeof g?g(Object.assign({},d,{placement:E})):g,J=Z[0],ut=Z[1];return J=J||0,ut=(ut||0)*L,[oi,Rr].indexOf(D)>=0?{x:ut,y:J}:{x:J,y:ut}}(Bn,d.rects,Z),Ht},{}),ut=J[d.placement],sn=ut.y;null!=d.modifiersData.popperOffsets&&(d.modifiersData.popperOffsets.x+=ut.x,d.modifiersData.popperOffsets.y+=sn),d.modifiersData[D]=J}},se={name:"popperOffsets",enabled:!0,phase:"read",fn:function x(E){var d=E.state;d.modifiersData[E.name]=Is({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},Nn={name:"preventOverflow",enabled:!0,phase:"main",fn:function ln(E){var d=E.state,g=E.options,D=E.name,L=g.mainAxis,Z=void 0===L||L,J=g.altAxis,ut=void 0!==J&&J,er=g.tether,tr=void 0===er||er,di=g.tetherOffset,En=void 0===di?0:di,In=Cs(d,{boundary:g.boundary,rootBoundary:g.rootBoundary,padding:g.padding,altBoundary:g.altBoundary}),hi=Er(d.placement),Ti=Ae(d.placement),Qr=!Ti,yr=ss(hi),fi=function Oe(E){return"x"===E?"y":"x"}(yr),gi=d.modifiersData.popperOffsets,ji=d.rects.reference,Ss=d.rects.popper,Ls="function"==typeof En?En(Object.assign({},d.rects,{placement:d.placement})):En,Ps="number"==typeof Ls?{mainAxis:Ls,altAxis:Ls}:Object.assign({mainAxis:0,altAxis:0},Ls),Li=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Vo={x:0,y:0};if(gi){if(Z){var vo,Yu="y"===yr?Gn:oi,fl="y"===yr?Kn:Rr,Lo="y"===yr?"height":"width",aa=gi[yr],Ju=aa+In[Yu],yu=aa-In[fl],jp=tr?-Ss[Lo]/2:0,Ad=Ti===ei?ji[Lo]:Ss[Lo],Tc=Ti===ei?-Ss[Lo]:-ji[Lo],pl=d.elements.arrow,ms=tr&&pl?Pi(pl):{width:0,height:0},rs=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Eo=rs[Yu],wh=rs[fl],wc=br(0,ji[Lo],ms[Lo]),Ah=Qr?ji[Lo]/2-jp-wc-Eo-Ps.mainAxis:Ad-wc-Eo-Ps.mainAxis,Dh=Qr?-ji[Lo]/2+jp+wc+wh+Ps.mainAxis:Tc+wc+wh+Ps.mainAxis,Sh=d.elements.arrow&&Hr(d.elements.arrow),Qg=Sh?"y"===yr?Sh.clientTop||0:Sh.clientLeft||0:0,gl=null!=(vo=Li?.[yr])?vo:0,Xg=aa+Dh-gl,ml=br(tr?Ni(Ju,aa+Ah-gl-Qg):Ju,aa,tr?jr(yu,Xg):yu);gi[yr]=ml,Vo[yr]=ml-aa}if(ut){var Yg,vu=gi[fi],Sd="y"===fi?"height":"width",Ac=vu+In["x"===yr?Gn:oi],Df=vu-In["x"===yr?Kn:Rr],_l=-1!==[Gn,oi].indexOf(hi),yl=null!=(Yg=Li?.[fi])?Yg:0,Pd=_l?Ac:vu-ji[Sd]-Ss[Sd]-yl+Ps.altAxis,Sf=_l?vu+ji[Sd]+Ss[Sd]-yl-Ps.altAxis:Df,ho=tr&&_l?function Ms(E,d,g){var D=br(E,d,g);return D>g?g:D}(Pd,vu,Sf):br(tr?Pd:Ac,vu,tr?Sf:Df);gi[fi]=ho,Vo[fi]=ho-vu}d.modifiersData[D]=Vo}},requiresIfExists:["offset"]};function Ao(E,d,g){void 0===g&&(g=!1);var D=Si(d),L=Si(d)&&function Qi(E){var d=E.getBoundingClientRect(),g=pr(d.width)/E.offsetWidth||1,D=pr(d.height)/E.offsetHeight||1;return 1!==g||1!==D}(d),Z=Sn(d),J=is(E,L,g),ut={scrollLeft:0,scrollTop:0},gt={x:0,y:0};return(D||!D&&!g)&&(("body"!==Ci(d)||li(Z))&&(ut=function hs(E){return E!==dr(E)&&Si(E)?function qi(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}}(E):$r(E)}(d)),Si(d)?((gt=is(d,!0)).x+=d.clientLeft,gt.y+=d.clientTop):Z&&(gt.x=Bi(Z))),{x:J.left+ut.scrollLeft-gt.x,y:J.top+ut.scrollTop-gt.y,width:J.width,height:J.height}}function Os(E){var d=new Map,g=new Set,D=[];function L(Z){g.add(Z.name),[].concat(Z.requires||[],Z.requiresIfExists||[]).forEach(function(ut){if(!g.has(ut)){var gt=d.get(ut);gt&&L(gt)}}),D.push(Z)}return E.forEach(function(Z){d.set(Z.name,Z)}),E.forEach(function(Z){g.has(Z.name)||L(Z)}),D}function xs(E){var d;return function(){return d||(d=new Promise(function(g){Promise.resolve().then(function(){d=void 0,g(E())})})),d}}var zr={placement:"bottom",modifiers:[],strategy:"absolute"};function ea(){for(var E=arguments.length,d=new Array(E),g=0;g<E;g++)d[g]=arguments[g];return!d.some(function(D){return!(D&&"function"==typeof D.getBoundingClientRect)})}function Mi(E){void 0===E&&(E={});var g=E.defaultModifiers,D=void 0===g?[]:g,L=E.defaultOptions,Z=void 0===L?zr:L;return function(ut,gt,sn){void 0===sn&&(sn=Z);var Ht={placement:"bottom",orderedModifiers:[],options:Object.assign({},zr,Z),modifiersData:{},elements:{reference:ut,popper:gt},attributes:{},styles:{}},Bn=[],er=!1,tr={state:Ht,setOptions:function(hi){var Ti="function"==typeof hi?hi(Ht.options):hi;En(),Ht.options=Object.assign({},Z,Ht.options,Ti),Ht.scrollParents={reference:wi(ut)?gr(ut):ut.contextElement?gr(ut.contextElement):[],popper:gr(gt)};var Qr=function $s(E){var d=Os(E);return ca.reduce(function(g,D){return g.concat(d.filter(function(L){return L.phase===D}))},[])}(function Dl(E){var d=E.reduce(function(g,D){var L=g[D.name];return g[D.name]=L?Object.assign({},L,D,{options:Object.assign({},L.options,D.options),data:Object.assign({},L.data,D.data)}):D,g},{});return Object.keys(d).map(function(g){return d[g]})}([].concat(D,Ht.options.modifiers)));return Ht.orderedModifiers=Qr.filter(function(yr){return yr.enabled}),function di(){Ht.orderedModifiers.forEach(function(In){var Ti=In.options,yr=In.effect;if("function"==typeof yr){var fi=yr({state:Ht,name:In.name,instance:tr,options:void 0===Ti?{}:Ti});Bn.push(fi||function(){})}})}(),tr.update()},forceUpdate:function(){if(!er){var hi=Ht.elements,Ti=hi.reference,Qr=hi.popper;if(ea(Ti,Qr)){Ht.rects={reference:Ao(Ti,Hr(Qr),"fixed"===Ht.options.strategy),popper:Pi(Qr)},Ht.reset=!1,Ht.placement=Ht.options.placement,Ht.orderedModifiers.forEach(function(Ps){return Ht.modifiersData[Ps.name]=Object.assign({},Ps.data)});for(var yr=0;yr<Ht.orderedModifiers.length;yr++)if(!0!==Ht.reset){var fi=Ht.orderedModifiers[yr],gi=fi.fn,ji=fi.options;"function"==typeof gi&&(Ht=gi({state:Ht,options:void 0===ji?{}:ji,name:fi.name,instance:tr})||Ht)}else Ht.reset=!1,yr=-1}}},update:xs(function(){return new Promise(function(In){tr.forceUpdate(),In(Ht)})}),destroy:function(){En(),er=!0}};if(!ea(ut,gt))return tr;function En(){Bn.forEach(function(In){return In()}),Bn=[]}return tr.setOptions(sn).then(function(In){!er&&sn.onFirstUpdate&&sn.onFirstUpdate(In)}),tr}}var ec=Mi(),Do=Mi({defaultModifiers:[yn,se,At,Fn,Q,To,Nn,ve,Wo]}),ba=Mi({defaultModifiers:[yn,se,At,Fn]});const fs=new Map,qn={set(E,d,g){fs.has(E)||fs.set(E,new Map);const D=fs.get(E);D.has(d)||0===D.size?D.set(d,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(D.keys())[0]}.`)},get:(E,d)=>fs.has(E)&&fs.get(E).get(d)||null,remove(E,d){if(!fs.has(E))return;const g=fs.get(E);g.delete(d),0===g.size&&fs.delete(E)}},da="transitionend",Ta=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(d,g)=>`#${CSS.escape(g)}`)),E),$a=E=>{E.dispatchEvent(new Event(da))},ro=E=>!(!E||"object"!=typeof E)&&(typeof E.jquery<"u"&&(E=E[0]),typeof E.nodeType<"u"),io=E=>ro(E)?E.jquery?E[0]:E:"string"==typeof E&&E.length>0?document.querySelector(Ta(E)):null,Js=E=>{if(!ro(E)||0===E.getClientRects().length)return!1;const d="visible"===getComputedStyle(E).getPropertyValue("visibility"),g=E.closest("details:not([open])");if(!g)return d;if(g!==E){const D=E.closest("summary");if(D&&D.parentNode!==g||null===D)return!1}return d},so=E=>!(E&&E.nodeType===Node.ELEMENT_NODE&&!E.classList.contains("disabled"))||(typeof E.disabled<"u"?E.disabled:E.hasAttribute("disabled")&&"false"!==E.getAttribute("disabled")),So=E=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof E.getRootNode){const d=E.getRootNode();return d instanceof ShadowRoot?d:null}return E instanceof ShadowRoot?E:E.parentNode?So(E.parentNode):null},wu=()=>{},fa=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Au=[],Hs=()=>"rtl"===document.documentElement.dir,zs=E=>{(E=>{"loading"===document.readyState?(Au.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of Au)d()}),Au.push(E)):E()})(()=>{const d=fa();if(d){const g=E.NAME,D=d.fn[g];d.fn[g]=E.jQueryInterface,d.fn[g].Constructor=E,d.fn[g].noConflict=()=>(d.fn[g]=D,E.jQueryInterface)}})},mr=(E,d=[],g=E)=>"function"==typeof E?E(...d):g,S=(E,d,g=!0)=>{if(!g)return void mr(E);const L=(E=>{if(!E)return 0;let{transitionDuration:d,transitionDelay:g}=window.getComputedStyle(E);const D=Number.parseFloat(d),L=Number.parseFloat(g);return D||L?(d=d.split(",")[0],g=g.split(",")[0],1e3*(Number.parseFloat(d)+Number.parseFloat(g))):0})(d)+5;let Z=!1;const J=({target:ut})=>{ut===d&&(Z=!0,d.removeEventListener(da,J),mr(E))};d.addEventListener(da,J),setTimeout(()=>{Z||$a(d)},L)},ee=(E,d,g,D)=>{const L=E.length;let Z=E.indexOf(d);return-1===Z?!g&&D?E[L-1]:E[0]:(Z+=g?1:-1,D&&(Z=(Z+L)%L),E[Math.max(0,Math.min(Z,L-1))])},U=/[^.]*(?=\..*)\.|.*/,X=/\..*/,be=/::\d+$/,ot={};let bt=1;const hn={mouseenter:"mouseover",mouseleave:"mouseout"},Tr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Mr(E,d){return d&&`${d}::${bt++}`||E.uidEvent||bt++}function kr(E){const d=Mr(E);return E.uidEvent=d,ot[d]=ot[d]||{},ot[d]}function Wr(E,d,g=null){return Object.values(E).find(D=>D.callable===d&&D.delegationSelector===g)}function bi(E,d,g){const D="string"==typeof d,L=D?g:d||g;let Z=Ns(E);return Tr.has(Z)||(Z=E),[D,L,Z]}function ts(E,d,g,D,L){if("string"!=typeof d||!E)return;let[Z,J,ut]=bi(d,g,D);var di;d in hn&&(di=J,J=function(En){if(!En.relatedTarget||En.relatedTarget!==En.delegateTarget&&!En.delegateTarget.contains(En.relatedTarget))return di.call(this,En)});const gt=kr(E),sn=gt[ut]||(gt[ut]={}),Ht=Wr(sn,J,Z?g:null);if(Ht)return void(Ht.oneOff=Ht.oneOff&&L);const Bn=Mr(J,d.replace(U,"")),er=Z?function ii(E,d,g){return function D(L){const Z=E.querySelectorAll(d);for(let{target:J}=L;J&&J!==this;J=J.parentNode)for(const ut of Z)if(ut===J)return Un(L,{delegateTarget:J}),D.oneOff&&Et.off(E,L.type,d,g),g.apply(J,[L])}}(E,g,J):function ur(E,d){return function g(D){return Un(D,{delegateTarget:E}),g.oneOff&&Et.off(E,D.type,d),d.apply(E,[D])}}(E,J);er.delegationSelector=Z?g:null,er.callable=J,er.oneOff=L,er.uidEvent=Bn,sn[Bn]=er,E.addEventListener(ut,er,Z)}function ps(E,d,g,D,L){const Z=Wr(d[g],D,L);Z&&(E.removeEventListener(g,Z,!!L),delete d[g][Z.uidEvent])}function ta(E,d,g,D){const L=d[g]||{};for(const[Z,J]of Object.entries(L))Z.includes(D)&&ps(E,d,g,J.callable,J.delegationSelector)}function Ns(E){return E=E.replace(X,""),hn[E]||E}const Et={on(E,d,g,D){ts(E,d,g,D,!1)},one(E,d,g,D){ts(E,d,g,D,!0)},off(E,d,g,D){if("string"!=typeof d||!E)return;const[L,Z,J]=bi(d,g,D),ut=J!==d,gt=kr(E),sn=gt[J]||{},Ht=d.startsWith(".");if(typeof Z<"u"){if(!Object.keys(sn).length)return;ps(E,gt,J,Z,L?g:null)}else{if(Ht)for(const Bn of Object.keys(gt))ta(E,gt,Bn,d.slice(1));for(const[Bn,er]of Object.entries(sn)){const tr=Bn.replace(be,"");(!ut||d.includes(tr))&&ps(E,gt,J,er.callable,er.delegationSelector)}}},trigger(E,d,g){if("string"!=typeof d||!E)return null;const D=fa();let J=null,ut=!0,gt=!0,sn=!1;d!==Ns(d)&&D&&(J=D.Event(d,g),D(E).trigger(J),ut=!J.isPropagationStopped(),gt=!J.isImmediatePropagationStopped(),sn=J.isDefaultPrevented());const Ht=Un(new Event(d,{bubbles:ut,cancelable:!0}),g);return sn&&Ht.preventDefault(),gt&&E.dispatchEvent(Ht),Ht.defaultPrevented&&J&&J.preventDefault(),Ht}};function Un(E,d={}){for(const[g,D]of Object.entries(d))try{E[g]=D}catch{Object.defineProperty(E,g,{configurable:!0,get:()=>D})}return E}function Zs(E){if("true"===E)return!0;if("false"===E)return!1;if(E===Number(E).toString())return Number(E);if(""===E||"null"===E)return null;if("string"!=typeof E)return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function tc(E){return E.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Fr={setDataAttribute(E,d,g){E.setAttribute(`data-bs-${tc(d)}`,g)},removeDataAttribute(E,d){E.removeAttribute(`data-bs-${tc(d)}`)},getDataAttributes(E){if(!E)return{};const d={},g=Object.keys(E.dataset).filter(D=>D.startsWith("bs")&&!D.startsWith("bsConfig"));for(const D of g){let L=D.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1,L.length),d[L]=Zs(E.dataset[D])}return d},getDataAttribute:(E,d)=>Zs(E.getAttribute(`data-bs-${tc(d)}`))};class Po{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,g){const D=ro(g)?Fr.getDataAttribute(g,"config"):{};return{...this.constructor.Default,..."object"==typeof D?D:{},...ro(g)?Fr.getDataAttributes(g):{},..."object"==typeof d?d:{}}}_typeCheckConfig(d,g=this.constructor.DefaultType){for(const[D,L]of Object.entries(g)){const Z=d[D],J=ro(Z)?"element":null==(E=Z)?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(L).test(J))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${D}" provided type "${J}" but expected type "${L}".`)}var E}}class Ai extends Po{constructor(d,g){super(),(d=io(d))&&(this._element=d,this._config=this._getConfig(g),qn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qn.remove(this._element,this.constructor.DATA_KEY),Et.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,g,D=!0){S(d,g,D)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return qn.get(io(d),this.DATA_KEY)}static getOrCreateInstance(d,g={}){return this.getInstance(d)||new this(d,"object"==typeof g?g:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const nc=E=>{let d=E.getAttribute("data-bs-target");if(!d||"#"===d){let g=E.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),d=g&&"#"!==g?g.trim():null}return d?d.split(",").map(g=>Ta(g)).join(","):null},kn={find:(E,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,E)),findOne:(E,d=document.documentElement)=>Element.prototype.querySelector.call(d,E),children:(E,d)=>[].concat(...E.children).filter(g=>g.matches(d)),parents(E,d){const g=[];let D=E.parentNode.closest(d);for(;D;)g.push(D),D=D.parentNode.closest(d);return g},prev(E,d){let g=E.previousElementSibling;for(;g;){if(g.matches(d))return[g];g=g.previousElementSibling}return[]},next(E,d){let g=E.nextElementSibling;for(;g;){if(g.matches(d))return[g];g=g.nextElementSibling}return[]},focusableChildren(E){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(d,E).filter(g=>!so(g)&&Js(g))},getSelectorFromElement(E){const d=nc(E);return d&&kn.findOne(d)?d:null},getElementFromSelector(E){const d=nc(E);return d?kn.findOne(d):null},getMultipleElementsFromSelector(E){const d=nc(E);return d?kn.find(d):[]}},mo=(E,d="hide")=>{const D=E.NAME;Et.on(document,`click.dismiss${E.EVENT_KEY}`,`[data-bs-dismiss="${D}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),so(this))return;const Z=kn.getElementFromSelector(this)||this.closest(`.${D}`);E.getOrCreateInstance(Z)[d]()})},Du=".bs.alert",rc=`close${Du}`,Ro=`closed${Du}`;class Su extends Ai{static get NAME(){return"alert"}close(){if(Et.trigger(this._element,rc).defaultPrevented)return;this._element.classList.remove("show");const g=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,g)}_destroyElement(){this._element.remove(),Et.trigger(this._element,Ro),this.dispose()}static jQueryInterface(d){return this.each(function(){const g=Su.getOrCreateInstance(this);if("string"==typeof d){if(void 0===g[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);g[d](this)}})}}mo(Su,"close"),zs(Su);const ja='[data-bs-toggle="button"]';class Pu extends Ai{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const g=Pu.getOrCreateInstance(this);"toggle"===d&&g[d]()})}}Et.on(document,"click.bs.button.data-api",ja,E=>{E.preventDefault();const d=E.target.closest(ja);Pu.getOrCreateInstance(d).toggle()}),zs(Pu);const yi=".bs.swipe",Aa=`touchstart${yi}`,sc=`touchmove${yi}`,xc=`touchend${yi}`,Ha=`pointerdown${yi}`,Mo=`pointerup${yi}`,za={endCallback:null,leftCallback:null,rightCallback:null},bs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Fi extends Po{constructor(d,g){super(),this._element=d,d&&Fi.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return za}static get DefaultType(){return bs}static get NAME(){return"swipe"}dispose(){Et.off(this._element,yi)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),mr(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const g=d/this._deltaX;this._deltaX=0,g&&mr(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Et.on(this._element,Ha,d=>this._start(d)),Et.on(this._element,Mo,d=>this._end(d)),this._element.classList.add("pointer-event")):(Et.on(this._element,Aa,d=>this._start(d)),Et.on(this._element,sc,d=>this._move(d)),Et.on(this._element,xc,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&("pen"===d.pointerType||"touch"===d.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const oo=".bs.carousel",Wa=".data-api",ns="next",Ts="prev",ra="left",ao="right",uo=`slide${oo}`,Fc=`slid${oo}`,Ko=`keydown${oo}`,Ga=`mouseenter${oo}`,Vc=`mouseleave${oo}`,Ml=`dragstart${oo}`,Mu=`load${oo}${Wa}`,qo=`click${oo}${Wa}`,w="carousel",R="active",rt=".active",tt=".carousel-item",an=rt+tt,Ka={ArrowLeft:ao,ArrowRight:ra},qa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class to extends Ai{constructor(d,g){super(d,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=kn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===w&&this.cycle()}static get Default(){return qa}static get DefaultType(){return Qa}static get NAME(){return"carousel"}next(){this._slide(ns)}nextWhenVisible(){!document.hidden&&Js(this._element)&&this.next()}prev(){this._slide(Ts)}pause(){this._isSliding&&$a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Et.one(this._element,Fc,()=>this.cycle());this.cycle()}}to(d){const g=this._getItems();if(d>g.length-1||d<0)return;if(this._isSliding)return void Et.one(this._element,Fc,()=>this.to(d));const D=this._getItemIndex(this._getActive());D!==d&&this._slide(d>D?ns:Ts,g[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&Et.on(this._element,Ko,d=>this._keydown(d)),"hover"===this._config.pause&&(Et.on(this._element,Ga,()=>this.pause()),Et.on(this._element,Vc,()=>this._maybeEnableCycle())),this._config.touch&&Fi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const D of kn.find(".carousel-item img",this._element))Et.on(D,Ml,L=>L.preventDefault());this._swipeHelper=new Fi(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ra)),rightCallback:()=>this._slide(this._directionToOrder(ao)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const g=Ka[d.key];g&&(d.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const g=kn.findOne(rt,this._indicatorsElement);g.classList.remove(R),g.removeAttribute("aria-current");const D=kn.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);D&&(D.classList.add(R),D.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const g=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(d,g=null){if(this._isSliding)return;const D=this._getActive(),L=d===ns,Z=g||ee(this._getItems(),D,L,this._config.wrap);if(Z===D)return;const J=this._getItemIndex(Z),ut=tr=>Et.trigger(this._element,tr,{relatedTarget:Z,direction:this._orderToDirection(d),from:this._getItemIndex(D),to:J});if(ut(uo).defaultPrevented||!D||!Z)return;const sn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(J),this._activeElement=Z;const Ht=L?"carousel-item-start":"carousel-item-end",Bn=L?"carousel-item-next":"carousel-item-prev";Z.classList.add(Bn),D.classList.add(Ht),Z.classList.add(Ht),this._queueCallback(()=>{Z.classList.remove(Ht,Bn),Z.classList.add(R),D.classList.remove(R,Bn,Ht),this._isSliding=!1,ut(Fc)},D,this._isAnimated()),sn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return kn.findOne(an,this._element)}_getItems(){return kn.find(tt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return Hs()?d===ra?Ts:ns:d===ra?ns:Ts}_orderToDirection(d){return Hs()?d===Ts?ra:ao:d===Ts?ao:ra}static jQueryInterface(d){return this.each(function(){const g=to.getOrCreateInstance(this,d);if("number"!=typeof d){if("string"==typeof d){if(void 0===g[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);g[d]()}}else g.to(d)})}}Et.on(document,qo,"[data-bs-slide], [data-bs-slide-to]",function(E){const d=kn.getElementFromSelector(this);if(!d||!d.classList.contains(w))return;E.preventDefault();const g=to.getOrCreateInstance(d),D=this.getAttribute("data-bs-slide-to");return D?(g.to(D),void g._maybeEnableCycle()):"next"===Fr.getDataAttribute(this,"slide")?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),Et.on(window,Mu,()=>{const E=kn.find('[data-bs-ride="carousel"]');for(const d of E)to.getOrCreateInstance(d)}),zs(to);const Da=".bs.collapse",Bd=`show${Da}`,Ol=`shown${Da}`,ga=`hide${Da}`,ma=`hidden${Da}`,Qo=`click${Da}.data-api`,Lc="show",_a="collapse",Ya="collapsing",Ou=`:scope .${_a} .${_a}`,Nl='[data-bs-toggle="collapse"]',kl={parent:null,toggle:!0},ig={parent:"(null|element)",toggle:"boolean"};class Za extends Ai{constructor(d,g){super(d,g),this._isTransitioning=!1,this._triggerArray=[];const D=kn.find(Nl);for(const L of D){const Z=kn.getSelectorFromElement(L),J=kn.find(Z).filter(ut=>ut===this._element);null!==Z&&J.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return kl}static get DefaultType(){return ig}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ut=>ut!==this._element).map(ut=>Za.getOrCreateInstance(ut,{toggle:!1}))),d.length&&d[0]._isTransitioning||Et.trigger(this._element,Bd).defaultPrevented)return;for(const ut of d)ut.hide();const D=this._getDimension();this._element.classList.remove(_a),this._element.classList.add(Ya),this._element.style[D]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const J=`scroll${D[0].toUpperCase()+D.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(_a,Lc),this._element.style[D]="",Et.trigger(this._element,Ol)},this._element,!0),this._element.style[D]=`${this._element[J]}px`}hide(){if(this._isTransitioning||!this._isShown()||Et.trigger(this._element,ga).defaultPrevented)return;const g=this._getDimension();this._element.style[g]=`${this._element.getBoundingClientRect()[g]}px`,this._element.classList.add(Ya),this._element.classList.remove(_a,Lc);for(const L of this._triggerArray){const Z=kn.getElementFromSelector(L);Z&&!this._isShown(Z)&&this._addAriaAndCollapsedClass([L],!1)}this._isTransitioning=!0,this._element.style[g]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(_a),Et.trigger(this._element,ma)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Lc)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=io(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Nl);for(const g of d){const D=kn.getElementFromSelector(g);D&&this._addAriaAndCollapsedClass([g],this._isShown(D))}}_getFirstLevelChildren(d){const g=kn.find(Ou,this._config.parent);return kn.find(d,this._config.parent).filter(D=>!g.includes(D))}_addAriaAndCollapsedClass(d,g){if(d.length)for(const D of d)D.classList.toggle("collapsed",!g),D.setAttribute("aria-expanded",g)}static jQueryInterface(d){const g={};return"string"==typeof d&&/show|hide/.test(d)&&(g.toggle=!1),this.each(function(){const D=Za.getOrCreateInstance(this,g);if("string"==typeof d){if(typeof D[d]>"u")throw new TypeError(`No method named "${d}"`);D[d]()}})}}Et.on(document,Qo,Nl,function(E){("A"===E.target.tagName||E.delegateTarget&&"A"===E.delegateTarget.tagName)&&E.preventDefault();for(const d of kn.getMultipleElementsFromSelector(this))Za.getOrCreateInstance(d,{toggle:!1}).toggle()}),zs(Za);const eu="dropdown",tu=".bs.dropdown",_o=".data-api",jf="ArrowUp",ac="ArrowDown",Vh=`hide${tu}`,Ws=`hidden${tu}`,Vl=`show${tu}`,Bc=`shown${tu}`,Oo=`click${tu}${_o}`,ya=`keydown${tu}${_o}`,Nu=`keyup${tu}${_o}`,yo="show",Pa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$c=`${Pa}.${yo}`,va=".dropdown-menu",ru=Hs()?"top-end":"top-start",Hf=Hs()?"top-start":"top-end",Fs=Hs()?"bottom-end":"bottom-start",jd=Hs()?"bottom-start":"bottom-end",Hc=Hs()?"left-start":"right-start",Ea=Hs()?"right-start":"left-start",zc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends Ai{constructor(d,g){super(d,g),this._popper=null,this._parent=this._element.parentNode,this._menu=kn.next(this._element,va)[0]||kn.prev(this._element,va)[0]||kn.findOne(va,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zc}static get DefaultType(){return Fu}static get NAME(){return eu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(so(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!Et.trigger(this._element,Vl,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const D of[].concat(...document.body.children))Et.on(D,"mouseover",wu);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(yo),this._element.classList.add(yo),Et.trigger(this._element,Bc,d)}}hide(){!so(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!Et.trigger(this._element,Vh,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))Et.off(D,"mouseover",wu);this._popper&&this._popper.destroy(),this._menu.classList.remove(yo),this._element.classList.remove(yo),this._element.setAttribute("aria-expanded","false"),Fr.removeDataAttribute(this._menu,"popper"),Et.trigger(this._element,Ws,d)}}_getConfig(d){if("object"==typeof(d=super._getConfig(d)).reference&&!ro(d.reference)&&"function"!=typeof d.reference.getBoundingClientRect)throw new TypeError(`${eu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(typeof l>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;"parent"===this._config.reference?d=this._parent:ro(this._config.reference)?d=io(this._config.reference):"object"==typeof this._config.reference&&(d=this._config.reference);const g=this._getPopperConfig();this._popper=Do(d,this._menu,g)}_isShown(){return this._menu.classList.contains(yo)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Hc;if(d.classList.contains("dropstart"))return Ea;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const g="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return d.classList.contains("dropup")?g?Hf:ru:g?jd:Fs}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(g=>Number.parseInt(g,10)):"function"==typeof d?g=>d(g,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Fr.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...mr(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:g}){const D=kn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>Js(L));D.length&&ee(D,g,d===ac,!D.includes(g)).focus()}static jQueryInterface(d){return this.each(function(){const g=Gs.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof g[d]>"u")throw new TypeError(`No method named "${d}"`);g[d]()}})}static clearMenus(d){if(2===d.button||"keyup"===d.type&&"Tab"!==d.key)return;const g=kn.find($c);for(const D of g){const L=Gs.getInstance(D);if(!L||!1===L._config.autoClose)continue;const Z=d.composedPath(),J=Z.includes(L._menu);if(Z.includes(L._element)||"inside"===L._config.autoClose&&!J||"outside"===L._config.autoClose&&J||L._menu.contains(d.target)&&("keyup"===d.type&&"Tab"===d.key||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ut={relatedTarget:L._element};"click"===d.type&&(ut.clickEvent=d),L._completeHide(ut)}}static dataApiKeydownHandler(d){const g=/input|textarea/i.test(d.target.tagName),D="Escape"===d.key,L=[jf,ac].includes(d.key);if(!L&&!D||g&&!D)return;d.preventDefault();const Z=this.matches(Pa)?this:kn.prev(this,Pa)[0]||kn.next(this,Pa)[0]||kn.findOne(Pa,d.delegateTarget.parentNode),J=Gs.getOrCreateInstance(Z);if(L)return d.stopPropagation(),J.show(),void J._selectMenuItem(d);J._isShown()&&(d.stopPropagation(),J.hide(),Z.focus())}}Et.on(document,ya,Pa,Gs.dataApiKeydownHandler),Et.on(document,ya,va,Gs.dataApiKeydownHandler),Et.on(document,Oo,Gs.clearMenus),Et.on(document,Nu,Gs.clearMenus),Et.on(document,Oo,Pa,function(E){E.preventDefault(),Gs.getOrCreateInstance(this).toggle()}),zs(Gs);const Vu="backdrop",$i=`mousedown.bs.${Vu}`,sg={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},zf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wd extends Po{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return sg}static get DefaultType(){return zf}static get NAME(){return Vu}show(d){if(!this._config.isVisible)return void mr(d);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{mr(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),mr(d)})):mr(d)}dispose(){this._isAppended&&(Et.off(this._element,$i),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=io(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),Et.on(d,$i,()=>{mr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){S(d,this._getElement(),this._config.isAnimated)}}const Bl=".bs.focustrap",Gd=`focusin${Bl}`,uc=`keydown.tab${Bl}`,$l="backward",us={autofocus:!0,trapElement:null},Wc={autofocus:"boolean",trapElement:"element"};class Ra extends Po{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return us}static get DefaultType(){return Wc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Et.off(document,Bl),Et.on(document,Gd,d=>this._handleFocusin(d)),Et.on(document,uc,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Et.off(document,Bl))}_handleFocusin(d){const{trapElement:g}=this._config;if(d.target===document||d.target===g||g.contains(d.target))return;const D=kn.focusableChildren(g);0===D.length?g.focus():this._lastTabNavDirection===$l?D[D.length-1].focus():D[0].focus()}_handleKeydown(d){"Tab"===d.key&&(this._lastTabNavDirection=d.shiftKey?$l:"forward")}}const jl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",co=".sticky-top",oa="padding-right",Hl="margin-right";class lc{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,oa,g=>g+d),this._setElementAttributes(jl,oa,g=>g+d),this._setElementAttributes(co,Hl,g=>g-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,oa),this._resetElementAttributes(jl,oa),this._resetElementAttributes(co,Hl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,g,D){const L=this.getWidth();this._applyManipulationCallback(d,J=>{if(J!==this._element&&window.innerWidth>J.clientWidth+L)return;this._saveInitialAttribute(J,g);const ut=window.getComputedStyle(J).getPropertyValue(g);J.style.setProperty(g,`${D(Number.parseFloat(ut))}px`)})}_saveInitialAttribute(d,g){const D=d.style.getPropertyValue(g);D&&Fr.setDataAttribute(d,g,D)}_resetElementAttributes(d,g){this._applyManipulationCallback(d,L=>{const Z=Fr.getDataAttribute(L,g);null!==Z?(Fr.removeDataAttribute(L,g),L.style.setProperty(g,Z)):L.style.removeProperty(g)})}_applyManipulationCallback(d,g){if(ro(d))g(d);else for(const D of kn.find(d,this._element))g(D)}}const xo=".bs.modal",No=`hide${xo}`,zl=`hidePrevented${xo}`,Lu=`hidden${xo}`,hc=`show${xo}`,Ma=`shown${xo}`,Gc=`resize${xo}`,Wl=`click.dismiss${xo}`,Gl=`mousedown.dismiss${xo}`,jh=`keydown.dismiss${xo}`,Kd=`click${xo}.data-api`,qd="modal-open",Kl="modal-static",$u={backdrop:!0,focus:!0,keyboard:!0},fc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yo extends Ai{constructor(d,g){super(d,g),this._dialog=kn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lc,this._addEventListeners()}static get Default(){return $u}static get DefaultType(){return fc}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||Et.trigger(this._element,hc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(qd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){!this._isShown||this._isTransitioning||Et.trigger(this._element,No).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Et.off(window,xo),Et.off(this._dialog,xo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ra({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=kn.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Et.trigger(this._element,Ma,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){Et.on(this._element,jh,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Et.on(window,Gc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Et.on(this._element,Gl,d=>{Et.one(this._element,Wl,g=>{if(this._element===d.target&&this._element===g.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(qd),this._resetAdjustments(),this._scrollBar.reset(),Et.trigger(this._element,Lu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Et.trigger(this._element,zl).defaultPrevented)return;const g=this._element.scrollHeight>document.documentElement.clientHeight,D=this._element.style.overflowY;"hidden"===D||this._element.classList.contains(Kl)||(g||(this._element.style.overflowY="hidden"),this._element.classList.add(Kl),this._queueCallback(()=>{this._element.classList.remove(Kl),this._queueCallback(()=>{this._element.style.overflowY=D},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),D=g>0;if(D&&!d){const L=Hs()?"paddingLeft":"paddingRight";this._element.style[L]=`${g}px`}if(!D&&d){const L=Hs()?"paddingRight":"paddingLeft";this._element.style[L]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,g){return this.each(function(){const D=Yo.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof D[d]>"u")throw new TypeError(`No method named "${d}"`);D[d](g)}})}}Et.on(document,Kd,'[data-bs-toggle="modal"]',function(E){const d=kn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),Et.one(d,hc,L=>{L.defaultPrevented||Et.one(d,Lu,()=>{Js(this)&&this.focus()})});const g=kn.findOne(".modal.show");g&&Yo.getInstance(g).hide(),Yo.getOrCreateInstance(d).toggle(this)}),mo(Yo),zs(Yo);const Ia=".bs.offcanvas",su=".data-api",pc=`load${Ia}${su}`,C="showing",f="hiding",A=".offcanvas.show",K=`show${Ia}`,ae=`shown${Ia}`,ke=`hide${Ia}`,st=`hidePrevented${Ia}`,xt=`hidden${Ia}`,vn=`resize${Ia}`,Ln=`click${Ia}${su}`,Vr=`keydown.dismiss${Ia}`,ou={backdrop:!0,keyboard:!0,scroll:!1},au={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fo extends Ai{constructor(d,g){super(d,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ou}static get DefaultType(){return au}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||Et.trigger(this._element,K,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new lc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(C),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(C),Et.trigger(this._element,ae,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&!Et.trigger(this._element,ke).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(f),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show",f),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new lc).reset(),Et.trigger(this._element,xt)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const g=!!this._config.backdrop;return new Wd({className:"offcanvas-backdrop",isVisible:g,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:g?()=>{"static"!==this._config.backdrop?this.hide():Et.trigger(this._element,st)}:null})}_initializeFocusTrap(){return new Ra({trapElement:this._element})}_addEventListeners(){Et.on(this._element,Vr,d=>{if("Escape"===d.key){if(this._config.keyboard)return void this.hide();Et.trigger(this._element,st)}})}static jQueryInterface(d){return this.each(function(){const g=Fo.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===g[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);g[d](this)}})}}Et.on(document,Ln,'[data-bs-toggle="offcanvas"]',function(E){const d=kn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),so(this))return;Et.one(d,xt,()=>{Js(this)&&this.focus()});const g=kn.findOne(A);g&&g!==d&&Fo.getInstance(g).hide(),Fo.getOrCreateInstance(d).toggle(this)}),Et.on(window,pc,()=>{for(const E of kn.find(A))Fo.getOrCreateInstance(E).show()}),Et.on(window,vn,()=>{for(const E of kn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(E).position&&Fo.getOrCreateInstance(E).hide()}),mo(Fo),zs(Fo);const Ql={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ju=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jd=(E,d)=>{const g=E.nodeName.toLowerCase();return d.includes(g)?!ju.has(g)||!!Hu.test(E.nodeValue):d.filter(D=>D instanceof RegExp).some(D=>D.test(g))},Zd={allowList:Ql,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zu={entry:"(string|element|function|null)",selector:"(string|element)"};class Yl extends Po{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Zd}static get DefaultType(){return uu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[L,Z]of Object.entries(this._config.content))this._setContent(d,Z,L);const g=d.children[0],D=this._resolvePossibleFunction(this._config.extraClass);return D&&g.classList.add(...D.split(" ")),g}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[g,D]of Object.entries(d))super._typeCheckConfig({selector:g,entry:D},zu)}_setContent(d,g,D){const L=kn.findOne(D,d);if(L){if(!(g=this._resolvePossibleFunction(g)))return void L.remove();if(ro(g))return void this._putElementInTemplate(io(g),L);if(this._config.html)return void(L.innerHTML=this._maybeSanitize(g));L.textContent=g}}_maybeSanitize(d){return this._config.sanitize?function zh(E,d,g){if(!E.length)return E;if(g&&"function"==typeof g)return g(E);const L=(new window.DOMParser).parseFromString(E,"text/html"),Z=[].concat(...L.body.querySelectorAll("*"));for(const J of Z){const ut=J.nodeName.toLowerCase();if(!Object.keys(d).includes(ut)){J.remove();continue}const gt=[].concat(...J.attributes),sn=[].concat(d["*"]||[],d[ut]||[]);for(const Ht of gt)Jd(Ht,sn)||J.removeAttribute(Ht.nodeName)}return L.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return mr(d,[this])}_putElementInTemplate(d,g){if(this._config.html)return g.innerHTML="",void g.append(d);g.textContent=d.textContent}}const ag=new Set(["sanitize","allowList","sanitizeFn"]),Jl="fade",Qc="show",mc="hide.bs.modal",cu="hover",Gh="focus",hg={AUTO:"auto",TOP:"top",RIGHT:Hs()?"left":"right",BOTTOM:"bottom",LEFT:Hs()?"right":"left"},th={allowList:Ql,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lo={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ca extends Ai{constructor(d,g){if(typeof l>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return th}static get DefaultType(){return lo}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Et.off(this._element.closest(".modal"),mc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=Et.trigger(this._element,this.constructor.eventName("show")),D=(So(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!D)return;this._disposePopper();const L=this._getTipElement();this._element.setAttribute("aria-describedby",L.getAttribute("id"));const{container:Z}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Z.append(L),Et.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(L),L.classList.add(Qc),"ontouchstart"in document.documentElement)for(const ut of[].concat(...document.body.children))Et.on(ut,"mouseover",wu);this._queueCallback(()=>{Et.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Et.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Qc),"ontouchstart"in document.documentElement)for(const L of[].concat(...document.body.children))Et.off(L,"mouseover",wu);this._activeTrigger.click=!1,this._activeTrigger[Gh]=!1,this._activeTrigger[cu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Et.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const g=this._getTemplateFactory(d).toHtml();if(!g)return null;g.classList.remove(Jl,Qc),g.classList.add(`bs-${this.constructor.NAME}-auto`);const D=(E=>{do{E+=Math.floor(1e6*Math.random())}while(document.getElementById(E));return E})(this.constructor.NAME).toString();return g.setAttribute("id",D),this._isAnimated()&&g.classList.add(Jl),g}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Yl({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Jl)}_isShown(){return this.tip&&this.tip.classList.contains(Qc)}_createPopper(d){const g=mr(this._config.placement,[this,d,this._element]),D=hg[g.toUpperCase()];return Do(this._element,d,this._getPopperConfig(D))}_getOffset(){const{offset:d}=this._config;return"string"==typeof d?d.split(",").map(g=>Number.parseInt(g,10)):"function"==typeof d?g=>d(g,this._element):d}_resolvePossibleFunction(d){return mr(d,[this._element])}_getPopperConfig(d){const g={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:D=>{this._getTipElement().setAttribute("data-popper-placement",D.state.placement)}}]};return{...g,...mr(this._config.popperConfig,[g])}}_setListeners(){const d=this._config.trigger.split(" ");for(const g of d)if("click"===g)Et.on(this._element,this.constructor.eventName("click"),this._config.selector,D=>{this._initializeOnDelegatedTarget(D).toggle()});else if("manual"!==g){const D=this.constructor.eventName(g===cu?"mouseenter":"focusin"),L=this.constructor.eventName(g===cu?"mouseleave":"focusout");Et.on(this._element,D,this._config.selector,Z=>{const J=this._initializeOnDelegatedTarget(Z);J._activeTrigger["focusin"===Z.type?Gh:cu]=!0,J._enter()}),Et.on(this._element,L,this._config.selector,Z=>{const J=this._initializeOnDelegatedTarget(Z);J._activeTrigger["focusout"===Z.type?Gh:cu]=J._element.contains(Z.relatedTarget),J._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Et.on(this._element.closest(".modal"),mc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,g){clearTimeout(this._timeout),this._timeout=setTimeout(d,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const g=Fr.getDataAttributes(this._element);for(const D of Object.keys(g))ag.has(D)&&delete g[D];return d={...g,..."object"==typeof d&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=!1===d.container?document.body:io(d.container),"number"==typeof d.delay&&(d.delay={show:d.delay,hide:d.delay}),"number"==typeof d.title&&(d.title=d.title.toString()),"number"==typeof d.content&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[g,D]of Object.entries(this._config))this.constructor.Default[g]!==D&&(d[g]=D);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const g=Ca.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof g[d]>"u")throw new TypeError(`No method named "${d}"`);g[d]()}})}}zs(Ca);const Wu={...Ca.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Yf={...Ca.DefaultType,content:"(null|string|element|function)"};class Gu extends Ca{static get Default(){return Wu}static get DefaultType(){return Yf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const g=Gu.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof g[d]>"u")throw new TypeError(`No method named "${d}"`);g[d]()}})}}zs(Gu);const _c=".bs.scrollspy",Jf=`activate${_c}`,rd=`click${_c}`,Zf=`load${_c}.data-api`,yc="active",Xh="[href]",nh=".nav-link",pg=`${nh}, .nav-item > ${nh}, .list-group-item`,gg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ih extends Ai{constructor(d,g){super(d,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gg}static get DefaultType(){return mg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=io(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,"string"==typeof d.threshold&&(d.threshold=d.threshold.split(",").map(g=>Number.parseFloat(g))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Et.off(this._config.target,rd),Et.on(this._config.target,rd,Xh,d=>{const g=this._observableSections.get(d.target.hash);if(g){d.preventDefault();const D=this._rootElement||window,L=g.offsetTop-this._element.offsetTop;if(D.scrollTo)return void D.scrollTo({top:L,behavior:"smooth"});D.scrollTop=L}}))}_getNewObserver(){return new IntersectionObserver(g=>this._observerCallback(g),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(d){const g=J=>this._targetLinks.get(`#${J.target.id}`),D=J=>{this._previousScrollData.visibleEntryTop=J.target.offsetTop,this._process(g(J))},L=(this._rootElement||document.documentElement).scrollTop,Z=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const J of d){if(!J.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(J));continue}const ut=J.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Z&&ut){if(D(J),!L)return}else!Z&&!ut&&D(J)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=kn.find(Xh,this._config.target);for(const g of d){if(!g.hash||so(g))continue;const D=kn.findOne(decodeURI(g.hash),this._element);Js(D)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,D))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(yc),this._activateParents(d),Et.trigger(this._element,Jf,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))kn.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(yc);else for(const g of kn.parents(d,".nav, .list-group"))for(const D of kn.prev(g,pg))D.classList.add(yc)}_clearActiveClass(d){d.classList.remove(yc);const g=kn.find(`${Xh}.${yc}`,d);for(const D of g)D.classList.remove(yc)}static jQueryInterface(d){return this.each(function(){const g=ih.getOrCreateInstance(this,d);if("string"==typeof d){if(void 0===g[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);g[d]()}})}}Et.on(window,Zf,()=>{for(const E of kn.find('[data-bs-spy="scroll"]'))ih.getOrCreateInstance(E)}),zs(ih);const Jc=".bs.tab",yg=`hide${Jc}`,ef=`hidden${Jc}`,sh=`show${Jc}`,ep=`shown${Jc}`,tp=`click${Jc}`,vg=`keydown${Jc}`,oh=`load${Jc}`,tf="ArrowLeft",lu="ArrowRight",Eg="ArrowUp",ah="ArrowDown",np="Home",rp="End",du="active",uh="show",sf=".dropdown-toggle",sd=`:not(${sf})`,od='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ad=`.nav-link${sd}, .list-group-item${sd}, [role="tab"]${sd}, ${od}`,uf=`.${du}[data-bs-toggle="tab"], .${du}[data-bs-toggle="pill"], .${du}[data-bs-toggle="list"]`;class hu extends Ai{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Et.on(this._element,vg,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const g=this._getActiveElem(),D=g?Et.trigger(g,yg,{relatedTarget:d}):null;Et.trigger(d,sh,{relatedTarget:g}).defaultPrevented||D&&D.defaultPrevented||(this._deactivate(g,d),this._activate(d,g))}_activate(d,g){d&&(d.classList.add(du),this._activate(kn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),Et.trigger(d,ep,{relatedTarget:g})):d.classList.add(uh)},d,d.classList.contains("fade")))}_deactivate(d,g){d&&(d.classList.remove(du),d.blur(),this._deactivate(kn.getElementFromSelector(d)),this._queueCallback(()=>{"tab"===d.getAttribute("role")?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),Et.trigger(d,ef,{relatedTarget:g})):d.classList.remove(uh)},d,d.classList.contains("fade")))}_keydown(d){if(![tf,lu,Eg,ah,np,rp].includes(d.key))return;d.stopPropagation(),d.preventDefault();const g=this._getChildren().filter(L=>!so(L));let D;if([np,rp].includes(d.key))D=g[d.key===np?0:g.length-1];else{const L=[lu,ah].includes(d.key);D=ee(g,d.target,L,!0)}D&&(D.focus({preventScroll:!0}),hu.getOrCreateInstance(D).show())}_getChildren(){return kn.find(ad,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,g){this._setAttributeIfNotExists(d,"role","tablist");for(const D of g)this._setInitialAttributesOnChild(D)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const g=this._elemIsActive(d),D=this._getOuterElement(d);d.setAttribute("aria-selected",g),D!==d&&this._setAttributeIfNotExists(D,"role","presentation"),g||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const g=kn.getElementFromSelector(d);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,g){const D=this._getOuterElement(d);if(!D.classList.contains("dropdown"))return;const L=(Z,J)=>{const ut=kn.findOne(Z,D);ut&&ut.classList.toggle(J,g)};L(sf,du),L(".dropdown-menu",uh),D.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(d,g,D){d.hasAttribute(g)||d.setAttribute(g,D)}_elemIsActive(d){return d.classList.contains(du)}_getInnerElement(d){return d.matches(ad)?d:kn.findOne(ad,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const g=hu.getOrCreateInstance(this);if("string"==typeof d){if(void 0===g[d]||d.startsWith("_")||"constructor"===d)throw new TypeError(`No method named "${d}"`);g[d]()}})}}Et.on(document,tp,od,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),!so(this)&&hu.getOrCreateInstance(this).show()}),Et.on(window,oh,()=>{for(const E of kn.find(uf))hu.getOrCreateInstance(E)}),zs(hu);const fu=".bs.toast",sp=`mouseover${fu}`,wm=`mouseout${fu}`,op=`focusin${fu}`,pu=`focusout${fu}`,cf=`hide${fu}`,lf=`hidden${fu}`,lh=`show${fu}`,ud=`shown${fu}`,ap="show",cd="showing",up={animation:"boolean",autohide:"boolean",delay:"number"},cp={animation:!0,autohide:!0,delay:5e3};class Ku extends Ai{constructor(d,g){super(d,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cp}static get DefaultType(){return up}static get NAME(){return"toast"}show(){Et.trigger(this._element,lh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ap,cd),this._queueCallback(()=>{this._element.classList.remove(cd),Et.trigger(this._element,ud),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Et.trigger(this._element,cf).defaultPrevented&&(this._element.classList.add(cd),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(cd,ap),Et.trigger(this._element,lf)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ap),super.dispose()}isShown(){return this._element.classList.contains(ap)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,g){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const D=d.relatedTarget;this._element===D||this._element.contains(D)||this._maybeScheduleHide()}_setListeners(){Et.on(this._element,sp,d=>this._onInteraction(d,!0)),Et.on(this._element,wm,d=>this._onInteraction(d,!1)),Et.on(this._element,op,d=>this._onInteraction(d,!0)),Et.on(this._element,pu,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const g=Ku.getOrCreateInstance(this,d);if("string"==typeof d){if(typeof g[d]>"u")throw new TypeError(`No method named "${d}"`);g[d](this)}})}}mo(Ku),zs(Ku);var As=B(4341);let hf=(()=>{class E{static#e=this.\u0275fac=function(D){return new(D||E)};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(D,L){1&D&&(m.j41(0,"section",0)(1,"div",1)(2,"div",2),m.nrm(3,"i",3),m.j41(4,"p"),m.EFF(5),m.k0s()(),m.j41(6,"div",2),m.nrm(7,"i",4),m.j41(8,"p"),m.EFF(9),m.k0s()(),m.j41(10,"div",2),m.nrm(11,"i",5),m.j41(12,"p"),m.EFF(13),m.k0s()()()()),2&D&&(m.R7$(5),m.JRh(L.phoneNumber),m.R7$(4),m.JRh(L.address),m.R7$(4),m.JRh(L.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();var dh=B(6340);let lp=(()=>{class E{constructor(g,D,L){this.firestore=g,this.route=D,this.sanitizer=L,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(g=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(g?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(dh.Qe),m.rXU(xr.nX),m.rXU(de.up))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(D,L){1&D&&(m.j41(0,"section",0)(1,"div",1),m.EFF(2,"Find Us Here"),m.k0s(),m.j41(3,"div",2),m.nrm(4,"div",3),m.k0s()()),2&D&&(m.R7$(4),m.Y8G("innerHTML",L.mapIframeUrl,m.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return E})();function Cg(E,d){if(1&E&&(m.j41(0,"div",19)(1,"h3"),m.EFF(2,"Email"),m.k0s(),m.j41(3,"p")(4,"a",42),m.EFF(5),m.k0s()()()),2&E){const g=m.XpG(2);m.R7$(4),m.Mz_("href","mailto:",g.business.email,"",m.B4B),m.R7$(1),m.JRh(g.business.email)}}function tl(E,d){if(1&E&&(m.j41(0,"div",19)(1,"h3"),m.EFF(2,"Fax"),m.k0s(),m.j41(3,"p"),m.EFF(4),m.k0s()()),2&E){const g=m.XpG(2);m.R7$(4),m.JRh(g.business.fax)}}function dp(E,d){if(1&E&&(m.j41(0,"div",19)(1,"h3"),m.EFF(2,"Social Media"),m.k0s(),m.j41(3,"p")(4,"a",42),m.EFF(5),m.k0s()()()),2&E){const g=m.XpG(2);m.R7$(4),m.FS9("href",g.business.socialMedia,m.B4B),m.R7$(1),m.JRh(g.business.socialMedia)}}function Dm(E,d){if(1&E){const g=m.RV6();m.j41(0,"div")(1,"div",10)(2,"div",11)(3,"h1"),m.EFF(4,"Contact Us"),m.k0s(),m.j41(5,"div",12)(6,"p"),m.EFF(7,"We're here to answer any questions you have"),m.k0s()()()(),m.j41(8,"div",13)(9,"section",14)(10,"div",15),m.EFF(11,"Get in Touch"),m.k0s(),m.j41(12,"div",16)(13,"div",17)(14,"div",18)(15,"div",19)(16,"h3"),m.EFF(17,"Address"),m.k0s(),m.j41(18,"p"),m.EFF(19),m.k0s()(),m.j41(20,"div",19)(21,"h3"),m.EFF(22,"Phone"),m.k0s(),m.j41(23,"p"),m.EFF(24),m.k0s()(),m.DNE(25,Cg,6,2,"div",20),m.DNE(26,tl,5,1,"div",20),m.DNE(27,dp,6,2,"div",20),m.j41(28,"div")(29,"h3"),m.EFF(30,"Visitation Hours"),m.k0s(),m.j41(31,"ul")(32,"li")(33,"strong"),m.EFF(34,"Monday:"),m.k0s(),m.EFF(35," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(36,"li")(37,"strong"),m.EFF(38,"Tuesday:"),m.k0s(),m.EFF(39," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(40,"li")(41,"strong"),m.EFF(42,"Wednesday:"),m.k0s(),m.EFF(43," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(44,"li")(45,"strong"),m.EFF(46,"Thursday:"),m.k0s(),m.EFF(47," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(48,"li")(49,"strong"),m.EFF(50,"Friday:"),m.k0s(),m.EFF(51," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(52,"li")(53,"strong"),m.EFF(54,"Saturday:"),m.k0s(),m.EFF(55," 7:00am \u2013 7:00pm"),m.k0s(),m.j41(56,"li")(57,"strong"),m.EFF(58,"Sunday:"),m.k0s(),m.EFF(59," 7:00am \u2013 7:00pm"),m.k0s()()()()(),m.j41(60,"div",21)(61,"div",22),m.nrm(62,"img",23),m.k0s()()()(),m.j41(63,"section",24)(64,"div",15),m.EFF(65,"Send Us a Message"),m.k0s(),m.j41(66,"div",25)(67,"div",26)(68,"div",27)(69,"h2",28),m.EFF(70,"How can we help?"),m.k0s(),m.j41(71,"p",29),m.EFF(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),m.k0s()()(),m.j41(73,"div",30)(74,"form",31,32),m.bIt("ngSubmit",function(){m.eBV(g);const L=m.XpG();return m.Njj(L.onSubmit())}),m.j41(76,"div",33)(77,"label",34),m.EFF(78,"Name"),m.k0s(),m.j41(79,"input",35),m.bIt("ngModelChange",function(L){m.eBV(g);const Z=m.XpG();return m.Njj(Z.formData.name=L)}),m.k0s()(),m.j41(80,"div",33)(81,"label",36),m.EFF(82,"Email"),m.k0s(),m.j41(83,"input",37),m.bIt("ngModelChange",function(L){m.eBV(g);const Z=m.XpG();return m.Njj(Z.formData.email=L)}),m.k0s()(),m.j41(84,"div",33)(85,"label",38),m.EFF(86,"Message"),m.k0s(),m.j41(87,"textarea",39),m.bIt("ngModelChange",function(L){m.eBV(g);const Z=m.XpG();return m.Njj(Z.formData.message=L)}),m.k0s()(),m.j41(88,"button",40),m.EFF(89,"Submit"),m.k0s()()()()(),m.nrm(90,"app-information",41)(91,"app-map-iframe"),m.k0s()()}if(2&E){const g=m.sdS(75),D=m.XpG();m.R7$(19),m.JRh(D.business.address),m.R7$(5),m.JRh(D.business.phone),m.R7$(1),m.Y8G("ngIf",D.business.email),m.R7$(1),m.Y8G("ngIf",D.business.fax),m.R7$(1),m.Y8G("ngIf",D.business.socialMedia),m.R7$(52),m.Y8G("ngModel",D.formData.name),m.R7$(4),m.Y8G("ngModel",D.formData.email),m.R7$(4),m.Y8G("ngModel",D.formData.message),m.R7$(1),m.Y8G("disabled",!g.form.valid),m.R7$(2),m.Y8G("phoneNumber",D.business.phone)("address",D.business.address)("email",D.business.email)}}let hp=(()=>{class E{constructor(g,D,L,Z){this.webContent=g,this.route=D,this.http=L,this.metaService=Z,this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}ngOnInit(){this.route.queryParams.subscribe(g=>{let D=g.id;this.metaService.getMetaData(D).subscribe(L=>{this.metaService.updateMetaTags(L)}),this.webContent.getBusinessData(D).subscribe(L=>{L&&(this.business=L)})})}ngAfterViewInit(){setTimeout(()=>{const g=document.getElementById("responseModal");g?this.responseModal=new Yo(g):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(g=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},g=>{console.error("Error sending email",g),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(Gr.N),m.rXU(xr.nX),m.rXU(Se),m.rXU(zi.R))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-contact-us"]],decls:13,vars:3,consts:[[4,"ngIf"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["src","../../../assets/sharedAssets/image_fx_.jpg","alt","Contact Image"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"]],template:function(D,L){1&D&&(m.DNE(0,Dm,92,12,"div",0),m.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),m.EFF(6),m.k0s(),m.nrm(7,"button",6),m.k0s(),m.j41(8,"div",7),m.EFF(9),m.k0s(),m.j41(10,"div",8)(11,"button",9),m.EFF(12,"Close"),m.k0s()()()()()),2&D&&(m.Y8G("ngIf",L.business),m.R7$(6),m.JRh(L.modalTitle),m.R7$(3),m.SpI(" ",L.modalMessage," "))},dependencies:[Me.bT,As.qT,As.me,As.BC,As.cb,As.YS,As.vS,As.cV,hf,lp],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(/assets/splash2.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:#4caf50;color:var(--primary-color);padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#45a049}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}"]})}return E})();var ff=B(467),fp=B(214);function qu(E,d){if(1&E){const g=m.RV6();m.j41(0,"div",14),m.bIt("click",function(){const Z=m.eBV(g).$implicit,J=m.XpG(2);return m.Njj(J.onImageClick(Z.url))}),m.nrm(1,"img",15),m.k0s()}if(2&E){const g=d.$implicit;m.R7$(1),m.Y8G("src",g.url,m.B4B)}}function xa(E,d){if(1&E){const g=m.RV6();m.j41(0,"app-image-viewer-modal",16),m.bIt("closeModal",function(){m.eBV(g);const L=m.XpG(2);return m.Njj(L.onCloseModal())}),m.k0s()}if(2&E){const g=m.XpG(2);m.Y8G("imageUrl",g.selectedImageUrl)}}function Sm(E,d){if(1&E&&(m.j41(0,"div")(1,"div",4)(2,"div",5)(3,"h1"),m.EFF(4,"Our Home"),m.k0s(),m.j41(5,"div",6)(6,"p"),m.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),m.k0s()()()(),m.j41(8,"div",7)(9,"section",8)(10,"div",9),m.EFF(11,"Welcome to Our Home"),m.k0s(),m.j41(12,"p"),m.EFF(13),m.k0s()(),m.j41(14,"section",10)(15,"div",9),m.EFF(16,"Explore Our Gallery"),m.k0s(),m.j41(17,"div",11),m.DNE(18,qu,2,1,"div",12),m.k0s()()(),m.DNE(19,xa,1,1,"app-image-viewer-modal",13),m.k0s()),2&E){const g=m.XpG();m.R7$(13),m.SpI(" ",g.business.photoGalleryText," "),m.R7$(5),m.Y8G("ngForOf",g.images),m.R7$(1),m.Y8G("ngIf",g.selectedImageUrl)}}let pp=(()=>{class E{constructor(g,D,L,Z){this.route=g,this.webContent=D,this.metaService=L,this.router=Z,this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id,this.loadImages(),this.metaService.getMetaData(this.businessId).subscribe(D=>{this.metaService.updateMetaTags(D)}),this.webContent.getBusinessData(this.businessId).subscribe(D=>{D&&(this.business=D)})})}loadImages(){var g=this;this.webContent.getBusinessGalleryImagesById(this.businessId).pipe((0,he.n)(D=>{const L=D.map(function(){var Z=(0,ff.A)(function*(J){return(yield g.webContent.checkImageExists(J.url))?J:null});return function(J){return Z.apply(this,arguments)}}());return(0,Ee.H)(Promise.all(L))}),(0,je.T)(D=>D.filter(L=>null!==L))).subscribe(D=>{this.images=D})}onImageClick(g){this.selectedImageUrl=g}onCloseModal(){this.selectedImageUrl=null}navigateToContact(){this.router.navigate(["/contact-us"])}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(xr.nX),m.rXU(Gr.N),m.rXU(zi.R),m.rXU(xr.Ix))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:9,vars:1,consts:[[4,"ngIf"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(D,L){1&D&&(m.DNE(0,Sm,20,3,"div",0),m.j41(1,"div",1)(2,"div",2)(3,"h2"),m.EFF(4,"Come Meet Our Family"),m.k0s(),m.j41(5,"p"),m.EFF(6,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),m.k0s(),m.j41(7,"button",3),m.bIt("click",function(){return L.navigateToContact()}),m.EFF(8,"Schedule a Visit"),m.k0s()()()),2&D&&m.Y8G("ngIf",L.business)},dependencies:[Me.Sq,Me.bT,fp.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}return E})();var bg=B(4796);function ld(E,d){if(1&E&&(m.j41(0,"div",11),m.EFF(1),m.k0s()),2&E){const g=m.XpG();m.R7$(1),m.JRh(g.errorMessage)}}let gp=(()=>{class E{constructor(g,D){this.authService=g,this.router=D,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(g=>{this.errorMessage=g.message})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(bg.u),m.rXU(xr.Ix))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"login-button"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(D,L){1&D&&(m.j41(0,"div",0)(1,"div",1)(2,"h2",2),m.EFF(3,"Login"),m.k0s(),m.j41(4,"form",3),m.bIt("submit",function(){return L.login()}),m.j41(5,"div",4)(6,"label",5),m.EFF(7,"Email"),m.k0s(),m.j41(8,"input",6),m.bIt("ngModelChange",function(J){return L.email=J}),m.k0s()(),m.j41(9,"div",4)(10,"label",7),m.EFF(11,"Password"),m.k0s(),m.j41(12,"input",8),m.bIt("ngModelChange",function(J){return L.password=J}),m.k0s()(),m.j41(13,"button",9),m.EFF(14,"Login"),m.k0s(),m.DNE(15,ld,2,1,"div",10),m.k0s()()()),2&D&&(m.R7$(8),m.Y8G("ngModel",L.email),m.R7$(4),m.Y8G("ngModel",L.password),m.R7$(3),m.Y8G("ngIf",L.errorMessage))},dependencies:[Me.bT,As.qT,As.me,As.BC,As.cb,As.YS,As.vS,As.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return E})();const pf=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Us.B},{path:"about-us",component:_t},{path:"services",component:wn},{path:"contact-us",component:hp},{path:"gallery",component:pp},{path:"login",component:gp},{path:"login",component:gp},{path:"admin",loadChildren:()=>B.e(756).then(B.bind(B,6756)).then(E=>E.AdminModule)},{path:":id",component:Us.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Tg=(()=>{class E{static#e=this.\u0275fac=function(D){return new(D||E)};static#t=this.\u0275mod=m.$C({type:E});static#n=this.\u0275inj=m.G2t({imports:[xr.iI.forRoot(pf),xr.iI]})}return E})();function Pm(E,d){if(1&E&&m.nrm(0,"img",11),2&E){const g=m.XpG();m.Y8G("src",null==g.business?null:g.business.logoImage,m.B4B)}}const Rm=function(E){return{"open-bar1":E}},Mm=function(E){return{"open-bar2":E}},gf=function(E){return{"open-bar3":E}},dd=function(E){return{active:E}};let Na=(()=>{class E{constructor(g,D,L){this.route=g,this.router=D,this.content=L,this.businessId="",this.menuActive=!1,this.menuOpen=!1}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id||"",this.content.getBusinessData(this.businessId).subscribe(D=>{this.business=D})})}navigateTo(g){const D=this.businessId?{id:this.businessId}:{};console.log("This Business id form query string",this.businessId),this.closeMenu(),this.router.navigate([`/${g}`],{queryParams:D}).then(L=>{L||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(xr.nX),m.rXU(xr.Ix),m.rXU(Gr.N))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-navigation"]],decls:20,vars:13,consts:[[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"click"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(D,L){1&D&&(m.j41(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),m.bIt("click",function(){return L.navigateTo("home")}),m.DNE(4,Pm,1,1,"img",4),m.k0s()(),m.j41(5,"div",5),m.bIt("click",function(){return L.toggleMenu()}),m.nrm(6,"div",6)(7,"div",7)(8,"div",8),m.k0s(),m.j41(9,"ul",9)(10,"li",10),m.bIt("click",function(){return L.navigateTo("home")}),m.EFF(11,"Home"),m.k0s(),m.j41(12,"li",10),m.bIt("click",function(){return L.navigateTo("services")}),m.EFF(13,"Services"),m.k0s(),m.j41(14,"li",10),m.bIt("click",function(){return L.navigateTo("about-us")}),m.EFF(15,"About Us"),m.k0s(),m.j41(16,"li",10),m.bIt("click",function(){return L.navigateTo("gallery")}),m.EFF(17,"gallery"),m.k0s(),m.j41(18,"li",10),m.bIt("click",function(){return L.navigateTo("contact-us")}),m.EFF(19,"Contact"),m.k0s()()()()),2&D&&(m.R7$(4),m.Y8G("ngIf",null==L.business?null:L.business.logoImage),m.R7$(2),m.Y8G("ngClass",m.eq3(5,Rm,L.menuOpen)),m.R7$(1),m.Y8G("ngClass",m.eq3(7,Mm,L.menuOpen)),m.R7$(1),m.Y8G("ngClass",m.eq3(9,gf,L.menuOpen)),m.R7$(1),m.Y8G("ngClass",m.eq3(11,dd,L.menuOpen)))},dependencies:[Me.YU,Me.bT],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:34px;font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return E})(),nl=(()=>{class E{constructor(g,D){this.route=g,this.webContentService=D}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id,this.webContentService.getBusinessData(this.businessId).subscribe(D=>{D&&(this.business=D)})})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(xr.nX),m.rXU(Gr.N))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-footer"]],decls:33,vars:12,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"]],template:function(D,L){1&D&&(m.j41(0,"footer",0)(1,"div",1)(2,"h2",2),m.EFF(3),m.k0s(),m.nrm(4,"hr",3),m.j41(5,"div",4)(6,"div",5)(7,"h3",6),m.EFF(8,"Location:"),m.k0s(),m.j41(9,"address"),m.EFF(10),m.k0s()(),m.j41(11,"div",5)(12,"h3",6),m.EFF(13),m.k0s(),m.j41(14,"p"),m.EFF(15,"Email: "),m.j41(16,"a",7),m.EFF(17),m.k0s()(),m.j41(18,"p"),m.EFF(19,"Phone: "),m.j41(20,"a",7),m.EFF(21),m.k0s()()(),m.j41(22,"div",5)(23,"h3",6),m.EFF(24),m.k0s(),m.j41(25,"p"),m.EFF(26,"Email: "),m.j41(27,"a",7),m.EFF(28),m.k0s()(),m.j41(29,"p"),m.EFF(30,"Phone: "),m.j41(31,"a",7),m.EFF(32),m.k0s()()()()()()),2&D&&(m.R7$(3),m.JRh(null==L.business?null:L.business.businessName),m.R7$(7),m.SpI(" ",null==L.business?null:L.business.address," "),m.R7$(3),m.SpI("Provider:",null==L.business?null:L.business.providerName,""),m.R7$(3),m.Mz_("href","mailto:",null==L.business?null:L.business.email,"",m.B4B),m.R7$(1),m.SpI(" ",null==L.business?null:L.business.email,""),m.R7$(3),m.Mz_("href","tel:+",null==L.business?null:L.business.phone,"",m.B4B),m.R7$(1),m.JRh(null==L.business?null:L.business.phone),m.R7$(3),m.SpI("Resident Manager:",null==L.business?null:L.business.providerName,""),m.R7$(3),m.Mz_("href","mailto:",null==L.business?null:L.business.email,"",m.B4B),m.R7$(1),m.SpI(" ",null==L.business?null:L.business.email,""),m.R7$(3),m.Mz_("href","tel:+",null==L.business?null:L.business.phone,"",m.B4B),m.R7$(1),m.JRh(null==L.business?null:L.business.phone))},styles:[".footer[_ngcontent-%COMP%]{padding:40px;text-align:center}.footer-title[_ngcontent-%COMP%]{color:var(--accent-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:1200px;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}"]})}return E})(),mp=(()=>{class E{constructor(g,D,L,Z){this.route=g,this.webContent=D,this.metaService=L,this.router=Z,this.title="adult-family-home"}ngOnInit(){this.route.queryParams.subscribe(g=>{this.businessId=g.id}),this.webContent.getBusinessData(this.businessId).subscribe(g=>{g&&(this.business=g)})}static#e=this.\u0275fac=function(D){return new(D||E)(m.rXU(xr.nX),m.rXU(Gr.N),m.rXU(zi.R),m.rXU(xr.Ix))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(D,L){1&D&&m.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[xr.n3,Na,nl]})}return E})();const hh_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var ka=B(2214),Vs=B(5407);class rl{constructor(d){return d}}class _p{constructor(){return(0,ka.Dk)()}}const _f=new m.nKC("angularfire2._apps"),Om={provide:rl,useFactory:function mf(E){return E&&1===E.length?E[0]:new rl((0,ka.Sx)())},deps:[[new m.Xx1,_f]]},sl={provide:_p,deps:[[new m.Xx1,_f]]};function yp(E){return(d,g)=>{const D=d.runOutsideAngular(()=>E(g));return new rl(D)}}let xm=(()=>{class E{constructor(g){(0,ka.KO)("angularfire",Vs.xv.full,"core"),(0,ka.KO)("angularfire",Vs.xv.full,"app"),(0,ka.KO)("angular",m.xvI.full,g.toString())}static \u0275fac=function(D){return new(D||E)(m.KVO(m.Agw))};static \u0275mod=m.$C({type:E});static \u0275inj=m.G2t({providers:[Om,sl]})}return E})();function Nm(E,...d){return{ngModule:xm,providers:[{provide:_f,useFactory:yp(E),multi:!0,deps:[m.SKi,m.zZn,Vs.u0,...d]}]}}const Ep=(0,Vs.S3)(ka.Wp,!0);B(4033),B(7852),B(1076),B(8041),B(1362);class yf{constructor(){return(0,Vs.CA)("auth")}}var vd=B(9583);class Op{constructor(d){return d}}const Eh="firestore",ul=new m.nKC("angularfire2.firestore-instances");function xp(E){return(d,g)=>{const D=d.runOutsideAngular(()=>E(g));return new Op(D)}}const Vg={provide:class Ed{constructor(){return(0,Vs.CA)(Eh)}},deps:[[new m.Xx1,ul]]},Id={provide:Op,useFactory:function Wm(E,d){const g=(0,Vs.lR)(Eh,E,d);return g&&new Op(g)},deps:[[new m.Xx1,ul],rl]};let cl=(()=>{class E{constructor(){(0,ka.KO)("angularfire",Vs.xv.full,"fst")}static \u0275fac=function(D){return new(D||E)};static \u0275mod=m.$C({type:E});static \u0275inj=m.G2t({providers:[Id,Vg]})}return E})();function Gm(E,...d){return{ngModule:cl,providers:[{provide:ul,useFactory:xp(E),multi:!0,deps:[m.SKi,m.zZn,Vs.u0,_p,[new m.Xx1,yf],[new m.Xx1,Vs.Jv],...d]}]}}const _u=(0,Vs.S3)(vd.aU,!0);var d_=B(9253),_v=B(8721),_y=B(1977),h_=B(4535);class $p{constructor(d){return d}}const qg="storage",bc=new m.nKC("angularfire2.storage-instances");function a(E){return(d,g)=>{const D=d.runOutsideAngular(()=>E(g));return new $p(D)}}const e={provide:class f_{constructor(){return(0,Vs.CA)(qg)}},deps:[[new m.Xx1,bc]]},r={provide:$p,useFactory:function Th(E,d){const g=(0,Vs.lR)(qg,E,d);return g&&new $p(g)},deps:[[new m.Xx1,bc],rl]};let s=(()=>{class E{constructor(){(0,ka.KO)("angularfire",Vs.xv.full,"gcs")}static \u0275fac=function(D){return new(D||E)};static \u0275mod=m.$C({type:E});static \u0275inj=m.G2t({providers:[r,e]})}return E})();function u(E,...d){return{ngModule:s,providers:[{provide:bc,useFactory:a(E),multi:!0,deps:[m.SKi,m.zZn,Vs.u0,_p,[new m.Xx1,yf],[new m.Xx1,Vs.Jv],...d]}]}}const et=(0,Vs.S3)(h_.c7,!0);let Lr=(()=>{class E{static#e=this.\u0275fac=function(D){return new(D||E)};static#t=this.\u0275mod=m.$C({type:E,bootstrap:[mp]});static#n=this.\u0275inj=m.G2t({imports:[de.Bb,xr.iI,Tg,dh.cM,_v.y5,_y.X8,d_.bf.initializeApp(hh_firebase),Nm(()=>Ep(hh_firebase)),Gm(()=>_u()),u(()=>et()),As.X1,As.YN,Ne]})}return E})();de.sG().bootstrapModule(Lr).catch(E=>console.error(E))},4412:(en,Qe,B)=>{B.d(Qe,{t:()=>de});var l=B(1413);class de extends l.B{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const Ee=super._subscribe(De);return!Ee.closed&&De.next(this._value),Ee}getValue(){const{hasError:De,thrownError:Ee,_value:Pe}=this;if(De)throw Ee;return this._throwIfClosed(),Pe}next(De){super.next(this._value=De)}}},1985:(en,Qe,B)=>{B.d(Qe,{c:()=>Ve});var l=B(7707),de=B(8359),m=B(3494),De=B(1203),Ee=B(1026),Pe=B(8071),Ue=B(9786);let Ve=(()=>{class Me{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const It=new Me;return It.source=this,It.operator=Ke,It}subscribe(Ke,It,pt){const kt=function he(Me){return Me&&Me instanceof l.vU||function ce(Me){return Me&&(0,Pe.T)(Me.next)&&(0,Pe.T)(Me.error)&&(0,Pe.T)(Me.complete)}(Me)&&(0,de.Uv)(Me)}(Ke)?Ke:new l.Ms(Ke,It,pt);return(0,Ue.Y)(()=>{const{operator:Ct,source:on}=this;kt.add(Ct?Ct.call(kt,on):on?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(It){Ke.error(It)}}forEach(Ke,It){return new(It=je(It))((pt,kt)=>{const Ct=new l.Ms({next:on=>{try{Ke(on)}catch(We){kt(We),Ct.unsubscribe()}},error:kt,complete:pt});this.subscribe(Ct)})}_subscribe(Ke){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(Ke)}[m.s](){return this}pipe(...Ke){return(0,De.m)(Ke)(this)}toPromise(Ke){return new(Ke=je(Ke))((It,pt)=>{let kt;this.subscribe(Ct=>kt=Ct,Ct=>pt(Ct),()=>It(kt))})}}return Me.create=ct=>new Me(ct),Me})();function je(Me){var ct;return null!==(ct=Me??Ee.$.Promise)&&void 0!==ct?ct:Promise}},1413:(en,Qe,B)=>{B.d(Qe,{B:()=>Ue});var l=B(1985),de=B(8359);const De=(0,B(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=B(7908),Pe=B(9786);let Ue=(()=>{class je extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Me=new Ve(this,this);return Me.operator=he,Me}_throwIfClosed(){if(this.closed)throw new De}next(he){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(he)}})}error(he){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Me}=this;for(;Me.length;)Me.shift().error(he)}})}complete(){(0,Pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Me,isStopped:ct,observers:Ke}=this;return Me||ct?de.Kn:(this.currentObservers=null,Ke.push(he),new de.yU(()=>{this.currentObservers=null,(0,Ee.o)(Ke,he)}))}_checkFinalizedStatuses(he){const{hasError:Me,thrownError:ct,isStopped:Ke}=this;Me?he.error(ct):Ke&&he.complete()}asObservable(){const he=new l.c;return he.source=this,he}}return je.create=(ce,he)=>new Ve(ce,he),je})();class Ve extends Ue{constructor(ce,he){super(),this.destination=ce,this.source=he}next(ce){var he,Me;null===(Me=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Me||Me.call(he,ce)}error(ce){var he,Me;null===(Me=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Me||Me.call(he,ce)}complete(){var ce,he;null===(he=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===he||he.call(ce)}_subscribe(ce){var he,Me;return null!==(Me=null===(he=this.source)||void 0===he?void 0:he.subscribe(ce))&&void 0!==Me?Me:de.Kn}}},7707:(en,Qe,B)=>{B.d(Qe,{Ms:()=>pt,vU:()=>Me});var l=B(8071),de=B(8359),m=B(1026),De=B(5334),Ee=B(5343);const Pe=je("C",void 0,void 0);function je(Le,Ye,ze){return{kind:Le,value:Ye,error:ze}}var ce=B(9270),he=B(9786);class Me extends de.yU{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,de.Uv)(Ye)&&Ye.add(this)):this.destination=We}static create(Ye,ze,qe){return new pt(Ye,ze,qe)}next(Ye){this.isStopped?on(function Ve(Le){return je("N",Le,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?on(function Ue(Le){return je("E",void 0,Le)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?on(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function Ke(Le,Ye){return ct.call(Le,Ye)}class It{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ye)}catch(qe){kt(qe)}}error(Ye){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ye)}catch(qe){kt(qe)}else kt(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(ze){kt(ze)}}}class pt extends Me{constructor(Ye,ze,qe){let ft;if(super(),(0,l.T)(Ye)||!Ye)ft={next:Ye??void 0,error:ze??void 0,complete:qe??void 0};else{let Dt;this&&m.$.useDeprecatedNextContext?(Dt=Object.create(Ye),Dt.unsubscribe=()=>this.unsubscribe(),ft={next:Ye.next&&Ke(Ye.next,Dt),error:Ye.error&&Ke(Ye.error,Dt),complete:Ye.complete&&Ke(Ye.complete,Dt)}):ft=Ye}this.destination=new It(ft)}}function kt(Le){m.$.useDeprecatedSynchronousErrorHandling?(0,he.l)(Le):(0,De.m)(Le)}function on(Le,Ye){const{onStoppedNotification:ze}=m.$;ze&&ce.f.setTimeout(()=>ze(Le,Ye))}const We={closed:!0,next:Ee.l,error:function Ct(Le){throw Le},complete:Ee.l}},8359:(en,Qe,B)=>{B.d(Qe,{Kn:()=>Pe,yU:()=>Ee,Uv:()=>Ue});var l=B(8071);const m=(0,B(1853).L)(je=>function(he){je(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Me,ct)=>`${ct+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var De=B(7908);class Ee{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const Ke of he)Ke.remove(this);else he.remove(this);const{initialTeardown:Me}=this;if((0,l.T)(Me))try{Me()}catch(Ke){ce=Ke instanceof m?Ke.errors:[Ke]}const{_finalizers:ct}=this;if(ct){this._finalizers=null;for(const Ke of ct)try{Ve(Ke)}catch(It){ce=ce??[],It instanceof m?ce=[...ce,...It.errors]:ce.push(It)}}if(ce)throw new m(ce)}}add(ce){var he;if(ce&&ce!==this)if(this.closed)Ve(ce);else{if(ce instanceof Ee){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ce)}}_hasParent(ce){const{_parentage:he}=this;return he===ce||Array.isArray(he)&&he.includes(ce)}_addParent(ce){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ce),he):he?[he,ce]:ce}_removeParent(ce){const{_parentage:he}=this;he===ce?this._parentage=null:Array.isArray(he)&&(0,De.o)(he,ce)}remove(ce){const{_finalizers:he}=this;he&&(0,De.o)(he,ce),ce instanceof Ee&&ce._removeParent(this)}}Ee.EMPTY=(()=>{const je=new Ee;return je.closed=!0,je})();const Pe=Ee.EMPTY;function Ue(je){return je instanceof Ee||je&&"closed"in je&&(0,l.T)(je.remove)&&(0,l.T)(je.add)&&(0,l.T)(je.unsubscribe)}function Ve(je){(0,l.T)(je)?je():je.unsubscribe()}},1026:(en,Qe,B)=>{B.d(Qe,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(en,Qe,B)=>{B.d(Qe,{x:()=>Ee});var l=B(6365),m=B(3794),De=B(8455);function Ee(...Pe){return function de(){return(0,l.U)(1)}()((0,De.H)(Pe,(0,m.lI)(Pe)))}},983:(en,Qe,B)=>{B.d(Qe,{w:()=>de});const de=new(B(1985).c)(Ee=>Ee.complete())},8455:(en,Qe,B)=>{B.d(Qe,{H:()=>Ye});var l=B(8750),de=B(941),m=B(6745),Pe=B(1985),Ve=B(4761),je=B(8071),ce=B(5225);function Me(ze,qe){if(!ze)throw new Error("Iterable cannot be null");return new Pe.c(ft=>{(0,ce.N)(ft,qe,()=>{const Dt=ze[Symbol.asyncIterator]();(0,ce.N)(ft,qe,()=>{Dt.next().then(Ce=>{Ce.done?ft.complete():ft.next(Ce.value)})},0,!0)})})}var ct=B(5055),Ke=B(9858),It=B(7441),pt=B(5397),kt=B(7953),Ct=B(591),on=B(5196);function Ye(ze,qe){return qe?function Le(ze,qe){if(null!=ze){if((0,ct.l)(ze))return function De(ze,qe){return(0,l.Tg)(ze).pipe((0,m._)(qe),(0,de.Q)(qe))}(ze,qe);if((0,It.X)(ze))return function Ue(ze,qe){return new Pe.c(ft=>{let Dt=0;return qe.schedule(function(){Dt===ze.length?ft.complete():(ft.next(ze[Dt++]),ft.closed||this.schedule())})})}(ze,qe);if((0,Ke.y)(ze))return function Ee(ze,qe){return(0,l.Tg)(ze).pipe((0,m._)(qe),(0,de.Q)(qe))}(ze,qe);if((0,kt.T)(ze))return Me(ze,qe);if((0,pt.x)(ze))return function he(ze,qe){return new Pe.c(ft=>{let Dt;return(0,ce.N)(ft,qe,()=>{Dt=ze[Ve.l](),(0,ce.N)(ft,qe,()=>{let Ce,$t;try{({value:Ce,done:$t}=Dt.next())}catch(Yt){return void ft.error(Yt)}$t?ft.complete():ft.next(Ce)},0,!0)}),()=>(0,je.T)(Dt?.return)&&Dt.return()})}(ze,qe);if((0,on.U)(ze))return function We(ze,qe){return Me((0,on.C)(ze),qe)}(ze,qe)}throw(0,Ct.L)(ze)}(ze,qe):(0,l.Tg)(ze)}},8750:(en,Qe,B)=>{B.d(Qe,{Tg:()=>ct});var l=B(1635),de=B(7441),m=B(9858),De=B(1985),Ee=B(5055),Pe=B(7953),Ue=B(591),Ve=B(5397),je=B(5196),ce=B(8071),he=B(5334),Me=B(3494);function ct(Le){if(Le instanceof De.c)return Le;if(null!=Le){if((0,Ee.l)(Le))return function Ke(Le){return new De.c(Ye=>{const ze=Le[Me.s]();if((0,ce.T)(ze.subscribe))return ze.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,de.X)(Le))return function It(Le){return new De.c(Ye=>{for(let ze=0;ze<Le.length&&!Ye.closed;ze++)Ye.next(Le[ze]);Ye.complete()})}(Le);if((0,m.y)(Le))return function pt(Le){return new De.c(Ye=>{Le.then(ze=>{Ye.closed||(Ye.next(ze),Ye.complete())},ze=>Ye.error(ze)).then(null,he.m)})}(Le);if((0,Pe.T)(Le))return Ct(Le);if((0,Ve.x)(Le))return function kt(Le){return new De.c(Ye=>{for(const ze of Le)if(Ye.next(ze),Ye.closed)return;Ye.complete()})}(Le);if((0,je.U)(Le))return function on(Le){return Ct((0,je.C)(Le))}(Le)}throw(0,Ue.L)(Le)}function Ct(Le){return new De.c(Ye=>{(function We(Le,Ye){var ze,qe,ft,Dt;return(0,l.sH)(this,void 0,void 0,function*(){try{for(ze=(0,l.xN)(Le);!(qe=yield ze.next()).done;)if(Ye.next(qe.value),Ye.closed)return}catch(Ce){ft={error:Ce}}finally{try{qe&&!qe.done&&(Dt=ze.return)&&(yield Dt.call(ze))}finally{if(ft)throw ft.error}}Ye.complete()})})(Le,Ye).catch(ze=>Ye.error(ze))})}},7786:(en,Qe,B)=>{B.d(Qe,{h:()=>Pe});var l=B(6365),de=B(8750),m=B(983),De=B(3794),Ee=B(8455);function Pe(...Ue){const Ve=(0,De.lI)(Ue),je=(0,De.R0)(Ue,1/0),ce=Ue;return ce.length?1===ce.length?(0,de.Tg)(ce[0]):(0,l.U)(je)((0,Ee.H)(ce,Ve)):m.w}},7673:(en,Qe,B)=>{B.d(Qe,{of:()=>m});var l=B(3794),de=B(8455);function m(...De){const Ee=(0,l.lI)(De);return(0,de.H)(De,Ee)}},4360:(en,Qe,B)=>{B.d(Qe,{_:()=>de});var l=B(7707);function de(De,Ee,Pe,Ue,Ve){return new m(De,Ee,Pe,Ue,Ve)}class m extends l.vU{constructor(Ee,Pe,Ue,Ve,je,ce){super(Ee),this.onFinalize=je,this.shouldUnsubscribe=ce,this._next=Pe?function(he){try{Pe(he)}catch(Me){Ee.error(Me)}}:super._next,this._error=Ve?function(he){try{Ve(he)}catch(Me){Ee.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(he){Ee.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},9437:(en,Qe,B)=>{B.d(Qe,{W:()=>De});var l=B(8750),de=B(4360),m=B(9974);function De(Ee){return(0,m.N)((Pe,Ue)=>{let ce,Ve=null,je=!1;Ve=Pe.subscribe((0,de._)(Ue,void 0,void 0,he=>{ce=(0,l.Tg)(Ee(he,De(Ee)(Pe))),Ve?(Ve.unsubscribe(),Ve=null,ce.subscribe(Ue)):je=!0})),je&&(Ve.unsubscribe(),Ve=null,ce.subscribe(Ue))})}},274:(en,Qe,B)=>{B.d(Qe,{H:()=>m});var l=B(1397),de=B(8071);function m(De,Ee){return(0,de.T)(Ee)?(0,l.Z)(De,Ee,1):(0,l.Z)(De,1)}},9901:(en,Qe,B)=>{B.d(Qe,{U:()=>m});var l=B(9974),de=B(4360);function m(De){return(0,l.N)((Ee,Pe)=>{let Ue=!1;Ee.subscribe((0,de._)(Pe,Ve=>{Ue=!0,Pe.next(Ve)},()=>{Ue||Pe.next(De),Pe.complete()}))})}},3294:(en,Qe,B)=>{B.d(Qe,{F:()=>De});var l=B(3669),de=B(9974),m=B(4360);function De(Pe,Ue=l.D){return Pe=Pe??Ee,(0,de.N)((Ve,je)=>{let ce,he=!0;Ve.subscribe((0,m._)(je,Me=>{const ct=Ue(Me);(he||!Pe(ce,ct))&&(he=!1,ce=ct,je.next(Me))}))})}function Ee(Pe,Ue){return Pe===Ue}},5964:(en,Qe,B)=>{B.d(Qe,{p:()=>m});var l=B(9974),de=B(4360);function m(De,Ee){return(0,l.N)((Pe,Ue)=>{let Ve=0;Pe.subscribe((0,de._)(Ue,je=>De.call(Ee,je,Ve++)&&Ue.next(je)))})}},980:(en,Qe,B)=>{B.d(Qe,{j:()=>de});var l=B(9974);function de(m){return(0,l.N)((De,Ee)=>{try{De.subscribe(Ee)}finally{Ee.add(m)}})}},1594:(en,Qe,B)=>{B.d(Qe,{$:()=>Ue});var l=B(9350),de=B(5964),m=B(6697),De=B(9901),Ee=B(3774),Pe=B(3669);function Ue(Ve,je){const ce=arguments.length>=2;return he=>he.pipe(Ve?(0,de.p)((Me,ct)=>Ve(Me,ct,he)):Pe.D,(0,m.s)(1),ce?(0,De.U)(je):(0,Ee.v)(()=>new l.G))}},6354:(en,Qe,B)=>{B.d(Qe,{T:()=>m});var l=B(9974),de=B(4360);function m(De,Ee){return(0,l.N)((Pe,Ue)=>{let Ve=0;Pe.subscribe((0,de._)(Ue,je=>{Ue.next(De.call(Ee,je,Ve++))}))})}},6365:(en,Qe,B)=>{B.d(Qe,{U:()=>m});var l=B(1397),de=B(3669);function m(De=1/0){return(0,l.Z)(de.D,De)}},1397:(en,Qe,B)=>{B.d(Qe,{Z:()=>Ve});var l=B(6354),de=B(8750),m=B(9974),De=B(5225),Ee=B(4360),Ue=B(8071);function Ve(je,ce,he=1/0){return(0,Ue.T)(ce)?Ve((Me,ct)=>(0,l.T)((Ke,It)=>ce(Me,Ke,ct,It))((0,de.Tg)(je(Me,ct))),he):("number"==typeof ce&&(he=ce),(0,m.N)((Me,ct)=>function Pe(je,ce,he,Me,ct,Ke,It,pt){const kt=[];let Ct=0,on=0,We=!1;const Le=()=>{We&&!kt.length&&!Ct&&ce.complete()},Ye=qe=>Ct<Me?ze(qe):kt.push(qe),ze=qe=>{Ke&&ce.next(qe),Ct++;let ft=!1;(0,de.Tg)(he(qe,on++)).subscribe((0,Ee._)(ce,Dt=>{ct?.(Dt),Ke?Ye(Dt):ce.next(Dt)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Ct--;kt.length&&Ct<Me;){const Dt=kt.shift();It?(0,De.N)(ce,It,()=>ze(Dt)):ze(Dt)}Le()}catch(Dt){ce.error(Dt)}}))};return je.subscribe((0,Ee._)(ce,Ye,()=>{We=!0,Le()})),()=>{pt?.()}}(Me,ct,je,he)))}},941:(en,Qe,B)=>{B.d(Qe,{Q:()=>De});var l=B(5225),de=B(9974),m=B(4360);function De(Ee,Pe=0){return(0,de.N)((Ue,Ve)=>{Ue.subscribe((0,m._)(Ve,je=>(0,l.N)(Ve,Ee,()=>Ve.next(je),Pe),()=>(0,l.N)(Ve,Ee,()=>Ve.complete(),Pe),je=>(0,l.N)(Ve,Ee,()=>Ve.error(je),Pe)))})}},2816:(en,Qe,B)=>{B.d(Qe,{S:()=>De});var l=B(9974),de=B(4360);function De(Ee,Pe){return(0,l.N)(function m(Ee,Pe,Ue,Ve,je){return(ce,he)=>{let Me=Ue,ct=Pe,Ke=0;ce.subscribe((0,de._)(he,It=>{const pt=Ke++;ct=Me?Ee(ct,It,pt):(Me=!0,It),Ve&&he.next(ct)},je&&(()=>{Me&&he.next(ct),he.complete()})))}}(Ee,Pe,arguments.length>=2,!0))}},7647:(en,Qe,B)=>{B.d(Qe,{u:()=>Ee});var l=B(8750),de=B(1413),m=B(7707),De=B(9974);function Ee(Ue={}){const{connector:Ve=(()=>new de.B),resetOnError:je=!0,resetOnComplete:ce=!0,resetOnRefCountZero:he=!0}=Ue;return Me=>{let ct,Ke,It,pt=0,kt=!1,Ct=!1;const on=()=>{Ke?.unsubscribe(),Ke=void 0},We=()=>{on(),ct=It=void 0,kt=Ct=!1},Le=()=>{const Ye=ct;We(),Ye?.unsubscribe()};return(0,De.N)((Ye,ze)=>{pt++,!Ct&&!kt&&on();const qe=It=It??Ve();ze.add(()=>{pt--,0===pt&&!Ct&&!kt&&(Ke=Pe(Le,he))}),qe.subscribe(ze),!ct&&pt>0&&(ct=new m.Ms({next:ft=>qe.next(ft),error:ft=>{Ct=!0,on(),Ke=Pe(We,je,ft),qe.error(ft)},complete:()=>{kt=!0,on(),Ke=Pe(We,ce),qe.complete()}}),(0,l.Tg)(Ye).subscribe(ct))})(Me)}}function Pe(Ue,Ve,...je){if(!0===Ve)return void Ue();if(!1===Ve)return;const ce=new m.Ms({next:()=>{ce.unsubscribe(),Ue()}});return(0,l.Tg)(Ve(...je)).subscribe(ce)}},9172:(en,Qe,B)=>{B.d(Qe,{Z:()=>De});var l=B(8793),de=B(3794),m=B(9974);function De(...Ee){const Pe=(0,de.lI)(Ee);return(0,m.N)((Ue,Ve)=>{(Pe?(0,l.x)(Ee,Ue,Pe):(0,l.x)(Ee,Ue)).subscribe(Ve)})}},6745:(en,Qe,B)=>{B.d(Qe,{_:()=>de});var l=B(9974);function de(m,De=0){return(0,l.N)((Ee,Pe)=>{Pe.add(m.schedule(()=>Ee.subscribe(Pe),De))})}},5558:(en,Qe,B)=>{B.d(Qe,{n:()=>De});var l=B(8750),de=B(9974),m=B(4360);function De(Ee,Pe){return(0,de.N)((Ue,Ve)=>{let je=null,ce=0,he=!1;const Me=()=>he&&!je&&Ve.complete();Ue.subscribe((0,m._)(Ve,ct=>{je?.unsubscribe();let Ke=0;const It=ce++;(0,l.Tg)(Ee(ct,It)).subscribe(je=(0,m._)(Ve,pt=>Ve.next(Pe?Pe(ct,pt,It,Ke++):pt),()=>{je=null,Me()}))},()=>{he=!0,Me()}))})}},6697:(en,Qe,B)=>{B.d(Qe,{s:()=>De});var l=B(983),de=B(9974),m=B(4360);function De(Ee){return Ee<=0?()=>l.w:(0,de.N)((Pe,Ue)=>{let Ve=0;Pe.subscribe((0,m._)(Ue,je=>{++Ve<=Ee&&(Ue.next(je),Ee<=Ve&&Ue.complete())}))})}},8141:(en,Qe,B)=>{B.d(Qe,{M:()=>Ee});var l=B(8071),de=B(9974),m=B(4360),De=B(3669);function Ee(Pe,Ue,Ve){const je=(0,l.T)(Pe)||Ue||Ve?{next:Pe,error:Ue,complete:Ve}:Pe;return je?(0,de.N)((ce,he)=>{var Me;null===(Me=je.subscribe)||void 0===Me||Me.call(je);let ct=!0;ce.subscribe((0,m._)(he,Ke=>{var It;null===(It=je.next)||void 0===It||It.call(je,Ke),he.next(Ke)},()=>{var Ke;ct=!1,null===(Ke=je.complete)||void 0===Ke||Ke.call(je),he.complete()},Ke=>{var It;ct=!1,null===(It=je.error)||void 0===It||It.call(je,Ke),he.error(Ke)},()=>{var Ke,It;ct&&(null===(Ke=je.unsubscribe)||void 0===Ke||Ke.call(je)),null===(It=je.finalize)||void 0===It||It.call(je)}))}):De.D}},3774:(en,Qe,B)=>{B.d(Qe,{v:()=>De});var l=B(9350),de=B(9974),m=B(4360);function De(Pe=Ee){return(0,de.N)((Ue,Ve)=>{let je=!1;Ue.subscribe((0,m._)(Ve,ce=>{je=!0,Ve.next(ce)},()=>je?Ve.complete():Ve.error(Pe())))})}function Ee(){return new l.G}},6780:(en,Qe,B)=>{B.d(Qe,{R:()=>Ee});var l=B(8359);class de extends l.yU{constructor(Ue,Ve){super()}schedule(Ue,Ve=0){return this}}const m={setInterval(Pe,Ue,...Ve){const{delegate:je}=m;return je?.setInterval?je.setInterval(Pe,Ue,...Ve):setInterval(Pe,Ue,...Ve)},clearInterval(Pe){const{delegate:Ue}=m;return(Ue?.clearInterval||clearInterval)(Pe)},delegate:void 0};var De=B(7908);class Ee extends de{constructor(Ue,Ve){super(Ue,Ve),this.scheduler=Ue,this.work=Ve,this.pending=!1}schedule(Ue,Ve=0){var je;if(this.closed)return this;this.state=Ue;const ce=this.id,he=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(he,ce,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(he,this.id,Ve),this}requestAsyncId(Ue,Ve,je=0){return m.setInterval(Ue.flush.bind(Ue,this),je)}recycleAsyncId(Ue,Ve,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Ve;null!=Ve&&m.clearInterval(Ve)}execute(Ue,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(Ue,Ve);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,Ve){let ce,je=!1;try{this.work(Ue)}catch(he){je=!0,ce=he||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:Ve}=this,{actions:je}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.o)(je,this),null!=Ue&&(this.id=this.recycleAsyncId(Ve,Ue,null)),this.delay=null,super.unsubscribe()}}}},9687:(en,Qe,B)=>{B.d(Qe,{q:()=>m});var l=B(6129);class de{constructor(Ee,Pe=de.now){this.schedulerActionCtor=Ee,this.now=Pe}schedule(Ee,Pe=0,Ue){return new this.schedulerActionCtor(this,Ee).schedule(Ue,Pe)}}de.now=l.U.now;class m extends de{constructor(Ee,Pe=de.now){super(Ee,Pe),this.actions=[],this._active=!1}flush(Ee){const{actions:Pe}=this;if(this._active)return void Pe.push(Ee);let Ue;this._active=!0;do{if(Ue=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Pe.shift());if(this._active=!1,Ue){for(;Ee=Pe.shift();)Ee.unsubscribe();throw Ue}}}},3236:(en,Qe,B)=>{B.d(Qe,{E:()=>m});var l=B(6780);const m=new(B(9687).q)(l.R)},6129:(en,Qe,B)=>{B.d(Qe,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(en,Qe,B)=>{B.d(Qe,{f:()=>l});const l={setTimeout(de,m,...De){const{delegate:Ee}=l;return Ee?.setTimeout?Ee.setTimeout(de,m,...De):setTimeout(de,m,...De)},clearTimeout(de){const{delegate:m}=l;return(m?.clearTimeout||clearTimeout)(de)},delegate:void 0}},4761:(en,Qe,B)=>{B.d(Qe,{l:()=>de});const de=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(en,Qe,B)=>{B.d(Qe,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(en,Qe,B)=>{B.d(Qe,{G:()=>de});const de=(0,B(1853).L)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(en,Qe,B)=>{B.d(Qe,{R0:()=>Pe,ms:()=>De,lI:()=>Ee});var l=B(8071);function m(Ue){return Ue[Ue.length-1]}function De(Ue){return(0,l.T)(m(Ue))?Ue.pop():void 0}function Ee(Ue){return function de(Ue){return Ue&&(0,l.T)(Ue.schedule)}(m(Ue))?Ue.pop():void 0}function Pe(Ue,Ve){return"number"==typeof m(Ue)?Ue.pop():Ve}},3073:(en,Qe,B)=>{B.d(Qe,{D:()=>Ee});const{isArray:l}=Array,{getPrototypeOf:de,prototype:m,keys:De}=Object;function Ee(Ue){if(1===Ue.length){const Ve=Ue[0];if(l(Ve))return{args:Ve,keys:null};if(function Pe(Ue){return Ue&&"object"==typeof Ue&&de(Ue)===m}(Ve)){const je=De(Ve);return{args:je.map(ce=>Ve[ce]),keys:je}}}return{args:Ue,keys:null}}},7908:(en,Qe,B)=>{function l(de,m){if(de){const De=de.indexOf(m);0<=De&&de.splice(De,1)}}B.d(Qe,{o:()=>l})},1853:(en,Qe,B)=>{function l(de){const De=de(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}B.d(Qe,{L:()=>l})},8496:(en,Qe,B)=>{function l(de,m){return de.reduce((De,Ee,Pe)=>(De[Ee]=m[Pe],De),{})}B.d(Qe,{e:()=>l})},9786:(en,Qe,B)=>{B.d(Qe,{Y:()=>m,l:()=>De});var l=B(1026);let de=null;function m(Ee){if(l.$.useDeprecatedSynchronousErrorHandling){const Pe=!de;if(Pe&&(de={errorThrown:!1,error:null}),Ee(),Pe){const{errorThrown:Ue,error:Ve}=de;if(de=null,Ue)throw Ve}}else Ee()}function De(Ee){l.$.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=Ee)}},5225:(en,Qe,B)=>{function l(de,m,De,Ee=0,Pe=!1){const Ue=m.schedule(function(){De(),Pe?de.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(de.add(Ue),!Pe)return Ue}B.d(Qe,{N:()=>l})},3669:(en,Qe,B)=>{function l(de){return de}B.d(Qe,{D:()=>l})},7441:(en,Qe,B)=>{B.d(Qe,{X:()=>l});const l=de=>de&&"number"==typeof de.length&&"function"!=typeof de},7953:(en,Qe,B)=>{B.d(Qe,{T:()=>de});var l=B(8071);function de(m){return Symbol.asyncIterator&&(0,l.T)(m?.[Symbol.asyncIterator])}},8071:(en,Qe,B)=>{function l(de){return"function"==typeof de}B.d(Qe,{T:()=>l})},5055:(en,Qe,B)=>{B.d(Qe,{l:()=>m});var l=B(3494),de=B(8071);function m(De){return(0,de.T)(De[l.s])}},5397:(en,Qe,B)=>{B.d(Qe,{x:()=>m});var l=B(4761),de=B(8071);function m(De){return(0,de.T)(De?.[l.l])}},9858:(en,Qe,B)=>{B.d(Qe,{y:()=>de});var l=B(8071);function de(m){return(0,l.T)(m?.then)}},5196:(en,Qe,B)=>{B.d(Qe,{C:()=>m,U:()=>De});var l=B(1635),de=B(8071);function m(Ee){return(0,l.AQ)(this,arguments,function*(){const Ue=Ee.getReader();try{for(;;){const{value:Ve,done:je}=yield(0,l.N3)(Ue.read());if(je)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(Ve)}}finally{Ue.releaseLock()}})}function De(Ee){return(0,de.T)(Ee?.getReader)}},9974:(en,Qe,B)=>{B.d(Qe,{N:()=>m,S:()=>de});var l=B(8071);function de(De){return(0,l.T)(De?.lift)}function m(De){return Ee=>{if(de(Ee))return Ee.lift(function(Pe){try{return De(Pe,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(en,Qe,B)=>{B.d(Qe,{I:()=>De});var l=B(6354);const{isArray:de}=Array;function De(Ee){return(0,l.T)(Pe=>function m(Ee,Pe){return de(Pe)?Ee(...Pe):Ee(Pe)}(Ee,Pe))}},5343:(en,Qe,B)=>{function l(){}B.d(Qe,{l:()=>l})},1203:(en,Qe,B)=>{B.d(Qe,{F:()=>de,m:()=>m});var l=B(3669);function de(...De){return m(De)}function m(De){return 0===De.length?l.D:1===De.length?De[0]:function(Pe){return De.reduce((Ue,Ve)=>Ve(Ue),Pe)}}},5334:(en,Qe,B)=>{B.d(Qe,{m:()=>m});var l=B(1026),de=B(9270);function m(De){de.f.setTimeout(()=>{const{onUnhandledError:Ee}=l.$;if(!Ee)throw De;Ee(De)})}},591:(en,Qe,B)=>{function l(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Qe,{L:()=>l})},177:(en,Qe,B)=>{B.d(Qe,{AJ:()=>br,Jj:()=>dr,MD:()=>ss,N0:()=>cn,QT:()=>m,Sm:()=>It,Sq:()=>lr,VF:()=>Ee,Vy:()=>ai,Xr:()=>Ae,YU:()=>Gn,ZD:()=>De,_b:()=>bn,aZ:()=>kt,bT:()=>vs,fw:()=>pt,hb:()=>ct,hj:()=>Ve,lG:()=>Pi,qQ:()=>Pe});var l=B(7705);let de=null;function m(){return de}function De(S){de||(de=S)}class Ee{}const Pe=new l.nKC("DocumentToken");let Ue=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||S)};static#t=this.\u0275prov=l.jDH({token:S,factory:function(){return(0,l.WQX)(je)},providedIn:"platform"})}return S})();const Ve=new l.nKC("Location Initialized");let je=(()=>{class S extends Ue{constructor(){super(),this._doc=(0,l.WQX)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(U){const X=m().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=m().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,be){this._history.pushState(U,X,be)}replaceState(U,X,be){this._history.replaceState(U,X,be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||S)};static#t=this.\u0275prov=l.jDH({token:S,factory:function(){return new S},providedIn:"platform"})}return S})();function ce(S,ee){if(0==S.length)return ee;if(0==ee.length)return S;let U=0;return S.endsWith("/")&&U++,ee.startsWith("/")&&U++,2==U?S+ee.substring(1):1==U?S+ee:S+"/"+ee}function he(S){const ee=S.match(/#|\?|$/),U=ee&&ee.index||S.length;return S.slice(0,U-("/"===S[U-1]?1:0))+S.slice(U)}function Me(S){return S&&"?"!==S[0]?"?"+S:S}let ct=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||S)};static#t=this.\u0275prov=l.jDH({token:S,factory:function(){return(0,l.WQX)(It)},providedIn:"root"})}return S})();const Ke=new l.nKC("appBaseHref");let It=(()=>{class S extends ct{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ce(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+Me(this._platformLocation.search),be=this._platformLocation.hash;return be&&U?`${X}${be}`:X}pushState(U,X,be,ot){const bt=this.prepareExternalUrl(be+Me(ot));this._platformLocation.pushState(U,X,bt)}replaceState(U,X,be,ot){const bt=this.prepareExternalUrl(be+Me(ot));this._platformLocation.replaceState(U,X,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||S)(l.KVO(Ue),l.KVO(Ke,8))};static#t=this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),pt=(()=>{class S extends ct{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=ce(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,be,ot){let bt=this.prepareExternalUrl(be+Me(ot));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(U,X,bt)}replaceState(U,X,be,ot){let bt=this.prepareExternalUrl(be+Me(ot));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||S)(l.KVO(Ue),l.KVO(Ke,8))};static#t=this.\u0275prov=l.jDH({token:S,factory:S.\u0275fac})}return S})(),kt=(()=>{class S{constructor(U){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function Le(S){if(new RegExp("^(https?:)?//").test(S)){const[,U]=S.split(/\/\/[^\/]+/);return U}return S}(he(We(X))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+Me(X))}normalize(U){return S.stripTrailingSlash(function on(S,ee){if(!S||!ee.startsWith(S))return ee;const U=ee.substring(S.length);return""===U||["/",";","?","#"].includes(U[0])?U:ee}(this._basePath,We(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",be=null){this._locationStrategy.pushState(be,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(X)),be)}replaceState(U,X="",be=null){this._locationStrategy.replaceState(be,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Me(X)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(be=>be(U,X))}subscribe(U,X,be){return this._subject.subscribe({next:U,error:X,complete:be})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ce;static#n=this.stripTrailingSlash=he;static#r=this.\u0275fac=function(X){return new(X||S)(l.KVO(ct))};static#i=this.\u0275prov=l.jDH({token:S,factory:function(){return function Ct(){return new kt((0,l.KVO)(ct))}()},providedIn:"root"})}return S})();function We(S){return S.replace(/\/index.html$/,"")}function bn(S,ee){ee=encodeURIComponent(ee);for(const U of S.split(";")){const X=U.indexOf("="),[be,ot]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(be.trim()===ee)return decodeURIComponent(ot)}return null}const Mn=/\s+/,wn=[];let Gn=(()=>{class S{constructor(U,X,be,ot){this._iterableDiffers=U,this._keyValueDiffers=X,this._ngEl=be,this._renderer=ot,this.initialClasses=wn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Mn):wn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Mn):U}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const X of U)this._updateState(X,!0);else if(null!=U)for(const X of Object.keys(U))this._updateState(X,!!U[X]);this._applyStateDiff()}_updateState(U,X){const be=this.stateMap.get(U);void 0!==be?(be.enabled!==X&&(be.changed=!0,be.enabled=X),be.touched=!0):this.stateMap.set(U,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const X=U[0],be=U[1];be.changed?(this._toggleClass(X,be.enabled),be.changed=!1):be.touched||(be.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),be.touched=!1}}_toggleClass(U,X){(U=U.trim()).length>0&&U.split(Mn).forEach(be=>{X?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}static#e=this.\u0275fac=function(X){return new(X||S)(l.rXU(l._q3),l.rXU(l.MKu),l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return S})();class oi{constructor(ee,U,X,be){this.$implicit=ee,this.ngForOf=U,this.index=X,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class S{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,be){this._viewContainer=U,this._template=X,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((be,ot,bt)=>{if(null==be.previousIndex)X.createEmbeddedView(this._template,new oi(be.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)X.remove(null===ot?void 0:ot);else if(null!==ot){const hn=X.get(ot);X.move(hn,bt),ys(hn,be)}});for(let be=0,ot=X.length;be<ot;be++){const hn=X.get(be).context;hn.index=be,hn.count=ot,hn.ngForOf=this._ngForOf}U.forEachIdentityChange(be=>{ys(X.get(be.currentIndex),be)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||S)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))};static#t=this.\u0275dir=l.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return S})();function ys(S,ee){S.context.$implicit=ee.item}let vs=(()=>{class S{constructor(U,X){this._viewContainer=U,this._context=new ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){jo("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){jo("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||S)(l.rXU(l.c1b),l.rXU(l.C4Q))};static#t=this.\u0275dir=l.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return S})();class ri{constructor(){this.$implicit=null,this.ngIf=null}}function jo(S,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,l.Tbb)(ee)}'.`)}class Ho{createSubscription(ee,U){return(0,l.O8t)(()=>ee.subscribe({next:U,error:X=>{throw X}}))}dispose(ee){(0,l.O8t)(()=>ee.unsubscribe())}}class Ii{createSubscription(ee,U){return ee.then(U,X=>{throw X})}dispose(ee){}}const ca=new Ii,Ci=new Ho;let dr=(()=>{class S{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,X=>this._updateLatestValue(U,X))}_selectStrategy(U){if((0,l.jNT)(U))return ca;if((0,l.zjR)(U))return Ci;throw function Ji(S,ee){return new l.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,X){U===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static#e=this.\u0275fac=function(X){return new(X||S)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:S,pure:!1,standalone:!0})}return S})(),Pi=(()=>{class S{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=es}transform(U,X=es){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const be=this.differ.diff(U),ot=X!==this.compareFn;return be&&(this.keyValues=[],be.forEachItem(bt=>{this.keyValues.push(function is(S,ee){return{key:S,value:ee}}(bt.key,bt.currentValue))})),(be||ot)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static#e=this.\u0275fac=function(X){return new(X||S)(l.rXU(l.MKu,16))};static#t=this.\u0275pipe=l.EJ8({name:"keyvalue",type:S,pure:!1,standalone:!0})}return S})();function es(S,ee){const U=S.key,X=ee.key;if(U===X)return 0;if(void 0===U)return 1;if(void 0===X)return-1;if(null===U)return 1;if(null===X)return-1;if("string"==typeof U&&"string"==typeof X)return U<X?-1:1;if("number"==typeof U&&"number"==typeof X)return U-X;if("boolean"==typeof U&&"boolean"==typeof X)return U<X?-1:1;const be=String(U),ot=String(X);return be==ot?0:be<ot?-1:1}let ss=(()=>{class S{static#e=this.\u0275fac=function(X){return new(X||S)};static#t=this.\u0275mod=l.$C({type:S});static#n=this.\u0275inj=l.G2t({})}return S})();const br="browser",Ms="server";function ai(S){return S===Ms}let Ae=(()=>{class S{static#e=this.\u0275prov=(0,l.jDH)({token:S,providedIn:"root",factory:()=>new He((0,l.KVO)(Pe),window)})}return S})();class He{constructor(ee,U){this.document=ee,this.window=U,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const U=function dt(S,ee){const U=S.getElementById(ee)||S.getElementsByName(ee)[0];if(U)return U;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const X=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let be=X.currentNode;for(;be;){const ot=be.shadowRoot;if(ot){const bt=ot.getElementById(ee)||ot.querySelector(`[name="${ee}"]`);if(bt)return bt}be=X.nextNode()}}return null}(this.document,ee);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ee){this.supportsScrolling()&&(this.window.history.scrollRestoration=ee)}scrollToElement(ee){const U=ee.getBoundingClientRect(),X=U.left+this.window.pageXOffset,be=U.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(X-ot[0],be-ot[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cn{}},7705:(en,Qe,B)=>{B.d(Qe,{$C:()=>wi,$GK:()=>un,$K3:()=>jI,$MX:()=>dd,AVh:()=>Ov,Agw:()=>zm,B4B:()=>Dg,BIS:()=>Q_,BMQ:()=>Zu,C4Q:()=>V_,Co$:()=>$0,DNE:()=>am,EFF:()=>zE,EJ8:()=>bo,EmA:()=>no,FS9:()=>Dv,FsC:()=>ds,G2t:()=>Nt,GFd:()=>__,H3F:()=>$I,H5H:()=>kv,H8p:()=>Bm,HJs:()=>HA,Hbi:()=>RA,JRh:()=>Nv,JZv:()=>xn,Jv_:()=>B0,KH2:()=>gm,KVO:()=>wt,Kcf:()=>pp,L39:()=>$A,LfX:()=>On,MKu:()=>gE,Mz_:()=>zy,NEm:()=>oA,NYb:()=>nA,Njj:()=>za,O8t:()=>ot,OA$:()=>ur,Ocv:()=>Mw,Ol2:()=>H0,PLl:()=>vc,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>Ni,R7$:()=>p,RV6:()=>Hi,Rfq:()=>It,RxE:()=>$g,SKi:()=>gs,SpI:()=>Ky,TL$:()=>cp,Tbb:()=>Me,UyX:()=>ld,VBU:()=>Ii,Vns:()=>ng,Vt3:()=>Dc,WHO:()=>GI,WPN:()=>hd,WQX:()=>Gt,XpG:()=>CE,Xx1:()=>Bu,Y8G:()=>lm,Z63:()=>ph,ZF7:()=>xa,_9s:()=>qm,_q3:()=>pE,aKT:()=>Tf,aNF:()=>z0,bIt:()=>Co,bMT:()=>oI,bVm:()=>q,bkB:()=>_u,c1b:()=>ev,cWb:()=>bg,czy:()=>cu,e01:()=>KI,e5t:()=>pf,eBV:()=>Nc,eq3:()=>J0,fpN:()=>PA,gRc:()=>gA,gXe:()=>ls,giA:()=>qI,h9k:()=>Ep,hnV:()=>BI,iLQ:()=>uE,j41:()=>Jp,jDH:()=>fn,jNT:()=>fo,k0s:()=>kh,kS0:()=>zc,kdw:()=>Oa,l4e:()=>Z0,lJ4:()=>Y0,lNU:()=>We,lsd:()=>EI,mGM:()=>yI,mq5:()=>h0,n$t:()=>Sg,nI1:()=>sI,nKC:()=>Qt,naY:()=>pA,npT:()=>km,nrm:()=>ua,o8S:()=>vm,oH4:()=>JI,osQ:()=>gp,plB:()=>Jv,qex:()=>k,rXU:()=>P,rcV:()=>qu,sFG:()=>ny,sZ2:()=>Hm,sdS:()=>Nd,uvJ:()=>Qu,w6W:()=>_T,wOt:()=>Le,wni:()=>vI,xGo:()=>Hc,xc7:()=>Mv,xe9:()=>nv,xvI:()=>jg,zZn:()=>mu,zcH:()=>dl,zjR:()=>Ei});var l=B(1413),de=B(8359),m=B(1985),De=B(7786),Ee=B(4412),Pe=B(7673),Ue=B(7647),Ve=B(5558),je=B(3294);function ce(t){for(let n in t)if(t[n]===ce)return n;throw Error("Could not find renamed property on target object.")}function he(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ct(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ke=ce({__forward_ref__:ce});function It(t){return t.__forward_ref__=It,t.toString=function(){return Me(this())},t}function pt(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(Ke)&&t.__forward_ref__===It}function Ct(t){return t&&!!t.\u0275providers}const We="https://g.co/ng/security#xss";class Le extends Error{constructor(n,i){super(function Ye(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function $t(t,n){throw new Le(-201,!1)}function lt(t,n){null==t&&function mt(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function fn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gn(t){return Vt(t,nn)||Vt(t,$n)}function On(t){return null!==gn(t)}function Vt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ur(t){return t&&(t.hasOwnProperty(fr)||t.hasOwnProperty(Rt))?t[fr]:null}const nn=ce({\u0275prov:ce}),fr=ce({\u0275inj:ce}),$n=ce({ngInjectableDef:ce}),Rt=ce({ngInjectorDef:ce});var un=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(un||{});let Cn;function ar(t){const n=Cn;return Cn=t,n}function vr(t,n,i){const o=gn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&un.Optional?null:void 0!==n?n:void $t(Me(t))}const xn=globalThis;class Qt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=fn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tn={},Dr="__NG_DI_FLAG__",nr="ngTempTokenPath",te=/\n/gm,V="__source";let F;function Ne(t){const n=F;return F=t,n}function ht(t,n=un.Default){if(void 0===F)throw new Le(-203,!1);return null===F?vr(t,void 0,n):F.get(t,n&un.Optional?null:void 0,n)}function wt(t,n=un.Default){return(function pn(){return Cn}()||ht)(pt(t),n)}function Gt(t,n=un.Default){return wt(t,Xt(n))}function Xt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xn(t){const n=[];for(let i=0;i<t.length;i++){const o=pt(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Le(900,!1);let c,h=un.Default;for(let I=0;I<o.length;I++){const T=o[I],M=si(T);"number"==typeof M?-1===M?c=T.token:h|=M:c=T}n.push(wt(c,h))}else n.push(wt(o))}return n}function _n(t,n){return t[Dr]=n,t.prototype[Dr]=n,t}function si(t){return t[Dr]}function Gr(t){return{toString:t}.toString()}var zi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zi||{}),ls=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ls||{});const Zr={},Yn=[],nt=ce({\u0275cmp:ce}),Ge=ce({\u0275dir:ce}),_t=ce({\u0275pipe:ce}),Jt=ce({\u0275mod:ce}),bn=ce({\u0275fac:ce}),Mn=ce({__NG_ELEMENT_ID__:ce}),wn=ce({__NG_ENV_ID__:ce});function Gn(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===o||t.charCodeAt(c+h)<=32)return c}i=c+1}}function Kn(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const h=i[o++],I=i[o++],T=i[o++];t.setAttribute(n,I,T,h)}else{const h=c,I=i[++o];oi(h)?t.setProperty(n,h,I):t.setAttribute(n,h,I),o++}}return o}function Rr(t){return 3===t||4===t||6===t}function oi(t){return 64===t.charCodeAt(0)}function lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||ys(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function ys(t,n,i,o,c){let h=0,I=t.length;if(-1===n)I=-1;else for(;h<t.length;){const T=t[h++];if("number"==typeof T){if(T===n){I=-1;break}if(T>n){I=h-1;break}}}for(;h<t.length;){const T=t[h];if("number"==typeof T)break;if(T===i){if(null===o)return void(null!==c&&(t[h+1]=c));if(o===t[h+1])return void(t[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==I&&(t.splice(I,0,n),h=I+1),t.splice(h++,0,i),null!==o&&t.splice(h++,0,o),null!==c&&t.splice(h++,0,c)}const ei="ng-template";function vs(t,n,i){let o=0,c=!0;for(;o<t.length;){let h=t[o++];if("string"==typeof h&&c){const I=t[o++];if(i&&"class"===h&&-1!==Gn(I.toLowerCase(),n,0))return!0}else{if(1===h){for(;o<t.length&&"string"==typeof(h=t[o++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function jo(t,n,i){return n===(4!==t.type||i?t.value:ei)}function Ui(t,n,i){let o=4;const c=t.attrs||[],h=function Sr(t){for(let n=0;n<t.length;n++)if(Rr(t[n]))return n;return t.length}(c);let I=!1;for(let T=0;T<n.length;T++){const M=n[T];if("number"!=typeof M){if(!I)if(4&o){if(o=2|1&o,""!==M&&!jo(t,M,i)||""===M&&1===n.length){if(_i(o))return!1;I=!0}}else{const j=8&o?M:n[++T];if(8&o&&null!==t.attrs){if(!vs(t.attrs,j,i)){if(_i(o))return!1;I=!0}continue}const ye=Di(8&o?"class":M,c,ri(t),i);if(-1===ye){if(_i(o))return!1;I=!0;continue}if(""!==j){let Be;Be=ye>h?"":c[ye+1].toLowerCase();const Xe=8&o?Be:null;if(Xe&&-1!==Gn(Xe,j,0)||2&o&&j!==Be){if(_i(o))return!1;I=!0}}}}else{if(!I&&!_i(o)&&!_i(M))return!1;if(I&&_i(M))continue;I=!1,o=M|1&o}}return _i(o)||I}function _i(t){return 0==(1&t)}function Di(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let h=!1;for(;c<n.length;){const I=n[c];if(I===t)return c;if(3===I||6===I)h=!0;else{if(1===I||2===I){let T=n[++c];for(;"string"==typeof T;)T=n[++c];continue}if(4===I)break;if(0===I){c+=4;continue}}c+=h?1:2}return-1}return function Pr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function rr(t,n,i=!1){for(let o=0;o<n.length;o++)if(Ui(t,n[o],i))return!0;return!1}function Wi(t,n){return t?":not("+n.trim()+")":n}function xi(t){let n=t[0],i=1,o=2,c="",h=!1;for(;i<t.length;){let I=t[i];if("string"==typeof I)if(2&o){const T=t[++i];c+="["+I+(T.length>0?'="'+T+'"':"")+"]"}else 8&o?c+="."+I:4&o&&(c+=" "+I);else""!==c&&!_i(I)&&(n+=Wi(h,c),c=""),o=I,h=h||!_i(o);i++}return""!==c&&(n+=Wi(h,c)),n}function Ii(t){return Gr(()=>{const n=Rs(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ls.Emulated,styles:t.styles||Yn,_:null,schemas:t.schemas||null,tView:null,id:""};Zi(i);const o=t.dependencies;return i.directiveDefs=is(o,!1),i.pipeDefs=is(o,!0),i.id=function es(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ci(t){return Fn(t)||Er(t)}function dr(t){return null!==t}function wi(t){return Gr(()=>({type:t.type,bootstrap:t.bootstrap||Yn,declarations:t.declarations||Yn,imports:t.imports||Yn,exports:t.exports||Yn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qs(t,n){if(null==t)return Zr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=o,n&&(n[c]=h)}return i}function ds(t){return Gr(()=>{const n=Rs(t);return Zi(n),n})}function bo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[nt]||null}function Er(t){return t[Ge]||null}function jr(t){return t[_t]||null}function Ni(t){const n=Fn(t)||Er(t)||jr(t);return null!==n&&n.standalone}function pr(t,n){const i=t[Jt]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function Rs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Zr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Yn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qs(t.inputs,n),outputs:qs(t.outputs)}}function Zi(t){t.features?.forEach(n=>n(t))}function is(t,n){if(!t)return null;const i=n?jr:Ci;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(dr)}const hr=0,qt=1,Sn=2,Jn=3,Ri=4,Qs=5,Hr=6,ss=7,br=8,Ms=9,Es=10,Vn=11,os=12,ai=13,Y=14,G=15,ve=16,Ae=17,He=18,dt=19,jt=20,cn=21,At=22,Zt=23,Zn=24,yn=25,Br=1,ci=2,ni=7,Bi=9,ir=11;function Kr(t){return Array.isArray(t)&&"object"==typeof t[Br]}function gr(t){return Array.isArray(t)&&!0===t[Br]}function Xs(t){return 0!=(4&t.flags)}function Ki(t){return t.componentOffset>-1}function zo(t){return 1==(1&t.flags)}function as(t){return!!t.template}function la(t){return 0!=(512&t[Sn])}function Os(t,n){return t.hasOwnProperty(bn)?t[bn]:null}let zr=null,ea=!1;function Mi(t){const n=zr;return zr=t,n}const ec={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Do(t){if(!po(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Tu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function fs(t){t.dirty=!0,function Ys(t){if(void 0===t.liveConsumerNode)return;const n=ea;ea=!0;try{for(const i of t.liveConsumerNode)i.dirty||fs(i)}finally{ea=n}}(t),t.consumerMarkedDirty?.(t)}function qn(t){return t&&(t.nextProducerIndex=0),Mi(t)}function Ba(t,n){if(Mi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(po(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ha(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tu(t){Go(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Do(i),o!==i.version))return!0}return!1}function da(t){if(Go(t),po(t))for(let n=0;n<t.producerNode.length;n++)ha(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ha(t,n){if(function $a(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Go(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)ha(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];Go(c),c.producerIndexOfThis[o]=n}}function po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Go(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let go=null;function ot(t){const n=Mi(null);try{return t()}finally{Mi(n)}}const hn=()=>{},Tr=(()=>({...ec,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:hn}))();class kr{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function ur(){return ii}function ii(t){return t.type.prototype.ngOnChanges&&(t.setInput=bi),Wr}function Wr(){const t=ps(this),n=t?.current;if(n){const i=t.previous;if(i===Zr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function bi(t,n,i,o){const c=this.declaredInputs[i],h=ps(t)||function ta(t,n){return t[ts]=n}(t,{previous:Zr,current:null}),I=h.current||(h.current={}),T=h.previous,M=T[c];I[c]=new kr(M&&M.currentValue,n,T===Zr),t[o]=n}ur.ngInherit=!0;const ts="__ngSimpleChanges__";function ps(t){return t[ts]||null}const Un=function(t,n,i){};function Fr(t){for(;Array.isArray(t);)t=t[hr];return t}function wa(t,n){return Fr(n[t])}function Ai(t,n){return Fr(n[t.index])}function kn(t,n){return t.data[n]}function mo(t,n){return t[n]}function pi(t,n){const i=n[t];return Kr(i)?i:i[hr]}function Ro(t,n){return null==n?null:t[n]}function na(t){t[Ae]=0}function ic(t){1024&t[Sn]||(t[Sn]|=1024,Sl(t,1))}function Su(t){1024&t[Sn]&&(t[Sn]&=-1025,Sl(t,-1))}function Sl(t,n){let i=t[Jn];if(null===i)return;i[Qs]+=n;let o=i;for(i=i[Jn];null!==i&&(1===n&&1===o[Qs]||-1===n&&0===o[Qs]);)i[Qs]+=n,o=i,i=i[Jn]}const Qn={lFrame:re(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yi(){return Qn.bindingsEnabled}function Ot(){return Qn.lFrame.lView}function Or(){return Qn.lFrame.tView}function Nc(t){return Qn.lFrame.contextLView=t,t[br]}function za(t){return Qn.lFrame.contextLView=null,t}function bs(){let t=Fi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fi(){return Qn.lFrame.currentTNode}function eo(t,n){const i=Qn.lFrame;i.currentTNode=t,i.isParent=n}function oo(){return Qn.lFrame.isParent}function Wa(){Qn.lFrame.isParent=!1}function ns(){const t=Qn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ao(){return Qn.lFrame.bindingIndex++}function Ga(t,n){const i=Qn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ml(n)}function Ml(t){Qn.lFrame.currentDirectiveIndex=t}function qo(){return Qn.lFrame.currentQueryIndex}function w(t){Qn.lFrame.currentQueryIndex=t}function R(t){const n=t[qt];return 2===n.type?n.declTNode:1===n.type?t[Hr]:null}function b(t,n,i){if(i&un.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&un.Host||(c=R(h),null===c||(h=h[Y],10&c.type))););if(null===c)return!1;n=c,t=h}const o=Qn.lFrame=$();return o.currentTNode=n,o.lView=t,!0}function O(t){const n=$(),i=t[qt];Qn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function $(){const t=Qn.lFrame,n=null===t?null:t.child;return null===n?re(t):n}function re(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ie(){const t=Qn.lFrame;return Qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rt=Ie;function tt(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _r(){return Qn.lFrame.selectedIndex}function Ir(t){Qn.lFrame.selectedIndex=t}function qr(){const t=Qn.lFrame;return kn(t.tView,t.selectedIndex)}let Bf=!0;function Da(){return Bf}function Xa(t){Bf=t}function Ol(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:T,ngAfterViewInit:M,ngAfterViewChecked:j,ngOnDestroy:ne}=h;I&&(t.contentHooks??=[]).push(-i,I),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),M&&(t.viewHooks??=[]).push(-i,M),j&&((t.viewHooks??=[]).push(i,j),(t.viewCheckHooks??=[]).push(i,j)),null!=ne&&(t.destroyHooks??=[]).push(i,ne)}}function ga(t,n,i){Lc(t,n,3,i)}function ma(t,n,i,o){(3&t[Sn])===i&&Lc(t,n,i,o)}function Qo(t,n){let i=t[Sn];(3&i)===n&&(i&=8191,i+=1,t[Sn]=i)}function Lc(t,n,i,o){const h=o??-1,I=n.length-1;let T=0;for(let M=void 0!==o?65535&t[Ae]:0;M<I;M++)if("number"==typeof n[M+1]){if(T=n[M],null!=o&&T>=o)break}else n[M]<0&&(t[Ae]+=65536),(T<h||-1==h)&&(Ya(t,i,n,M),t[Ae]=(4294901760&t[Ae])+M+2),M++}function _a(t,n){Un(4,t,n);const i=Mi(null);try{n.call(t)}finally{Mi(i),Un(5,t,n)}}function Ya(t,n,i,o){const c=i[o]<0,h=i[o+1],T=t[c?-i[o]:i[o]];c?t[Sn]>>13<t[Ae]>>16&&(3&t[Sn])===n&&(t[Sn]+=8192,_a(T,h)):_a(T,h)}const Ja=-1;class Ou{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function eu(t){return t!==Ja}function Fl(t){return 32767&t}function _o(t,n){let i=function tu(t){return t>>16}(t),o=n;for(;i>0;)o=o[Y],i--;return o}let xu=!0;function Xo(t){const n=xu;return xu=t,n}const ac=255,ws=5;let Vh=0;const Ws={};function Bc(t,n){const i=ya(t,n);if(-1!==i)return i;const o=n[qt];o.firstCreatePass&&(t.injectorIndex=n.length,Oo(o.data,t),Oo(n,null),Oo(o.blueprint,null));const c=Nu(t,n),h=t.injectorIndex;if(eu(c)){const I=Fl(c),T=_o(c,n),M=T[qt].data;for(let j=0;j<8;j++)n[h+j]=T[I+j]|M[I+j]}return n[h+8]=c,h}function Oo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ya(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Nu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Hd(c),null===o)return Ja;if(i++,c=c[Y],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Ja}function yo(t,n,i){!function Vl(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Mn)&&(o=i[Mn]),null==o&&(o=i[Mn]=Vh++);const c=o&ac;n.data[t+(c>>ws)]|=1<<c}(t,n,i)}function nu(t,n,i){if(i&un.Optional||void 0!==t)return t;$t()}function Ll(t,n,i,o){if(i&un.Optional&&void 0===o&&(o=null),!(i&(un.Self|un.Host))){const c=t[Ms],h=ar(void 0);try{return c?c.get(n,o,i&un.Optional):vr(n,o,i&un.Optional)}finally{ar(h)}}return nu(o,0,i)}function Sa(t,n,i,o=un.Default,c){if(null!==t){if(2048&n[Sn]&&!(o&un.Self)){const I=function ku(t,n,i,o,c){let h=t,I=n;for(;null!==h&&null!==I&&2048&I[Sn]&&!(512&I[Sn]);){const T=$d(h,I,i,o|un.Self,Ws);if(T!==Ws)return T;let M=h.parent;if(!M){const j=I[jt];if(j){const ne=j.get(i,Ws,o);if(ne!==Ws)return ne}M=Hd(I),I=I[Y]}h=M}return c}(t,n,i,o,Ws);if(I!==Ws)return I}const h=$d(t,n,i,o,Ws);if(h!==Ws)return h}return Ll(n,i,o,c)}function $d(t,n,i,o,c){const h=function Ul(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Mn)?t[Mn]:void 0;return"number"==typeof n?n>=0?n&ac:jd:n}(i);if("function"==typeof h){if(!b(n,t,o))return o&un.Host?nu(c,0,o):Ll(n,i,o,c);try{let I;if(I=h(o),null!=I||o&un.Optional)return I;$t()}finally{rt()}}else if("number"==typeof h){let I=null,T=ya(t,n),M=Ja,j=o&un.Host?n[G][Hr]:null;for((-1===T||o&un.SkipSelf)&&(M=-1===T?Nu(t,n):n[T+8],M!==Ja&&jc(o,!1)?(I=n[qt],T=Fl(M),n=_o(M,n)):T=-1);-1!==T;){const ne=n[qt];if(Uh(h,T,ne.data)){const ye=Pa(T,n,i,I,o,j);if(ye!==Ws)return ye}M=n[T+8],M!==Ja&&jc(o,n[qt].data[T+8]===j)&&Uh(h,T,n)?(I=ne,T=Fl(M),n=_o(M,n)):T=-1}}return c}function Pa(t,n,i,o,c,h){const I=n[qt],T=I.data[t+8],ne=$c(T,I,i,null==o?Ki(T)&&xu:o!=I&&0!=(3&T.type),c&un.Host&&h===T);return null!==ne?va(n,I,ne,T):Ws}function $c(t,n,i,o,c){const h=t.providerIndexes,I=n.data,T=1048575&h,M=t.directiveStart,ne=h>>20,Be=c?T+ne:t.directiveEnd;for(let Xe=o?T:T+ne;Xe<Be;Xe++){const Tt=I[Xe];if(Xe<M&&i===Tt||Xe>=M&&Tt.type===i)return Xe}if(c){const Xe=I[M];if(Xe&&as(Xe)&&Xe.type===i)return M}return null}function va(t,n,i,o){let c=t[i];const h=n.data;if(function Uc(t){return t instanceof Ou}(c)){const I=c;I.resolving&&function ft(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Le(-200,`Circular dependency in DI detected for ${t}${i}`)}(function qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}(h[i]));const T=Xo(I.canSeeViewProviders);I.resolving=!0;const j=I.injectImpl?ar(I.injectImpl):null;b(t,o,un.Default);try{c=t[i]=I.factory(void 0,h,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Bd(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(o){const I=ii(n);(i.preOrderHooks??=[]).push(t,I),(i.preOrderCheckHooks??=[]).push(t,I)}c&&(i.preOrderHooks??=[]).push(0-t,c),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==j&&ar(j),Xo(T),I.resolving=!1,rt()}}return c}function Uh(t,n,i){return!!(i[n+(t>>ws)]&1<<t)}function jc(t,n){return!(t&un.Self||t&un.Host&&n)}class Fs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Sa(this._tNode,this._lView,n,Xt(o),i)}}function jd(){return new Fs(bs(),Ot())}function Hc(t){return Gr(()=>{const n=t.prototype.constructor,i=n[bn]||Ea(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const h=c[bn]||Ea(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ea(t){return kt(t)?()=>{const n=Ea(pt(t));return n&&n()}:Os(t)}function Hd(t){const n=t[qt],i=n.type;return 2===i?n.declTNode:1===i?t[Hr]:null}function zc(t){return function Lh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const h=i[c];if(Rr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(bs(),t)}const Gs="__parameters__";function $i(t,n,i){return Gr(()=>{const o=function iu(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...h){if(this instanceof c)return o.apply(this,h),this;const I=new c(...h);return T.annotation=I,T;function T(M,j,ne){const ye=M.hasOwnProperty(Gs)?M[Gs]:Object.defineProperty(M,Gs,{value:[]})[Gs];for(;ye.length<=ne;)ye.push(null);return(ye[ne]=ye[ne]||[]).push(I),M}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function oa(t,n){t.forEach(i=>Array.isArray(i)?oa(i,n):n(i))}function Hl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function lc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,i){let o=Lu(t,n);return o>=0?t[1|o]=i:(o=~o,function $h(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function zl(t,n){const i=Lu(t,n);if(i>=0)return t[1|i]}function Lu(t,n){return function Ma(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const h=o+(c-o>>1),I=t[h<<i];if(n===I)return h<<i;I>n?c=h:o=h+1}return~(c<<i)}(t,n,1)}const Bu=_n($i("Optional"),8),Oa=_n($i("SkipSelf"),4);function Xc(t){return 128==(128&t.flags)}var cu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cu||{});const Gh=/^>|^->|<!--|-->|--!>|<!-$/g,ed=/(<|>)/g,qf="\u200b$1\u200b";const Qf=new Map;let lg=0;const th="__ngContext__";function lo(t,n){Kr(n)?(t[th]=n[dt],function Im(t){Qf.set(t[dt],t)}(n)):t[th]=n}let Jf;function rd(t,n){return Jf(t,n)}function Yc(t){const n=t[Jn];return gr(n)?n[Jn]:n}function Xh(t){return nh(t[os])}function Yh(t){return nh(t[Ri])}function nh(t){for(;null!==t&&!gr(t);)t=t[Ri];return t}function id(t,n,i,o,c){if(null!=o){let h,I=!1;gr(o)?h=o:Kr(o)&&(I=!0,o=o[hr]);const T=Fr(o);0===t&&null!==i?null==c?Eg(n,i,T):lu(n,i,T,c||null,!0):1===t&&null!==i?lu(n,i,T,c||null,!0):2===t?function ad(t,n,i){const o=du(t,n);o&&function np(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,T,I):3===t&&n.destroyNode(T),null!=h&&function sp(t,n,i,o,c){const h=i[ni];h!==Fr(i)&&id(n,t,o,h,c);for(let T=ir;T<i.length;T++){const M=i[T];el(M[qt],M,t,n,o,h)}}(n,t,h,i,c)}}function Jh(t,n){return t.createComment(function cg(t){return t.replace(Gh,n=>n.replace(ed,qf))}(n))}function Zh(t,n,i){return t.createElement(n,i)}function yg(t,n){const i=t[Bi],o=i.indexOf(n);Su(n),i.splice(o,1)}function ef(t,n){if(t.length<=ir)return;const i=ir+n,o=t[i];if(o){const c=o[ve];null!==c&&c!==t&&yg(c,o),n>0&&(t[i-1][Ri]=o[Ri]);const h=lc(t,ir+n);!function gg(t,n){el(t,n,n[Vn],2,null,null),n[hr]=null,n[Hr]=null}(o[qt],o);const I=h[He];null!==I&&I.detachView(h[qt]),o[Jn]=null,o[Ri]=null,o[Sn]&=-129}return o}function sh(t,n){if(!(256&n[Sn])){const i=n[Vn];n[Zt]&&da(n[Zt]),n[Zn]&&da(n[Zn]),i.destroyNode&&el(t,n,i,3,null,null),function _g(t){let n=t[os];if(!n)return ep(t[qt],t);for(;n;){let i=null;if(Kr(n))i=n[os];else{const o=n[ir];o&&(i=o)}if(!i){for(;n&&!n[Ri]&&n!==t;)Kr(n)&&ep(n[qt],n),n=n[Jn];null===n&&(n=t),Kr(n)&&ep(n[qt],n),i=n&&n[Ri]}n=i}}(n)}}function ep(t,n){if(!(256&n[Sn])){n[Sn]&=-129,n[Sn]|=256,function vg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof Ou)){const h=i[o+1];if(Array.isArray(h))for(let I=0;I<h.length;I+=2){const T=c[h[I]],M=h[I+1];Un(4,T,M);try{M.call(T)}finally{Un(5,T,M)}}else{Un(4,c,h);try{h.call(c)}finally{Un(5,c,h)}}}}}(t,n),function tp(t,n){const i=t.cleanup,o=n[ss];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const I=i[h+3];I>=0?o[I]():o[-I].unsubscribe(),h+=2}else i[h].call(o[i[h+1]]);null!==o&&(n[ss]=null);const c=n[cn];if(null!==c){n[cn]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[qt].type&&n[Vn].destroy();const i=n[ve];if(null!==i&&gr(n[Jn])){i!==n[Jn]&&yg(i,n);const o=n[He];null!==o&&o.detachView(t)}!function Cm(t){Qf.delete(t[dt])}(n)}}function oh(t,n,i){return function tf(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[hr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:h}=t.data[o.directiveStart+c];if(h===ls.None||h===ls.Emulated)return null}return Ai(o,i)}}(t,n.parent,i)}function lu(t,n,i,o,c){t.insertBefore(n,i,o,c)}function Eg(t,n,i){t.appendChild(n,i)}function ah(t,n,i,o,c){null!==o?lu(t,n,i,o,c):Eg(t,n,i)}function du(t,n){return t.parentNode(n)}let ip,lf,up,As,sf=function rf(t,n,i){return 40&t.type?Ai(t,i):null};function af(t,n,i,o){const c=oh(t,o,n),h=n[Vn],T=function uh(t,n,i){return sf(t,n,i)}(o.parent||n[Hr],o,n);if(null!=c)if(Array.isArray(i))for(let M=0;M<i.length;M++)ah(h,c,i[M],T,!1);else ah(h,c,i,T,!1);void 0!==ip&&ip(h,o,n,i,c)}function Zc(t,n){if(null!==n){const i=n.type;if(3&i)return Ai(n,t);if(4&i)return od(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Zc(t,o);{const c=t[n.index];return gr(c)?od(-1,c):Fr(c)}}if(32&i)return rd(n,t)()||Fr(t[n.index]);{const o=Ig(t,n);return null!==o?Array.isArray(o)?o[0]:Zc(Yc(t[G]),o):Zc(t,n.next)}}return null}function Ig(t,n){return null!==n?t[G][Hr].projection[n.projection]:null}function od(t,n){const i=ir+t+1;if(i<n.length){const o=n[i],c=o[qt].firstChild;if(null!==c)return Zc(o,c)}return n[ni]}function hu(t,n,i,o,c,h,I){for(;null!=i;){const T=o[i.index],M=i.type;if(I&&0===n&&(T&&lo(Fr(T),o),i.flags|=2),32!=(32&i.flags))if(8&M)hu(t,n,i.child,o,c,h,!1),id(n,t,c,T,h);else if(32&M){const j=rd(i,o);let ne;for(;ne=j();)id(n,t,c,ne,h);id(n,t,c,T,h)}else 16&M?fu(t,n,o,i,c,h):id(n,t,c,T,h);i=I?i.projectionNext:i.next}}function el(t,n,i,o,c,h){hu(i,o,t.firstChild,n,c,h,!1)}function fu(t,n,i,o,c,h){const I=i[G],M=I[Hr].projection[o.projection];if(Array.isArray(M))for(let j=0;j<M.length;j++)id(n,t,c,M[j],h);else{let j=M;const ne=I[Jn];Xc(o)&&(j.flags|=128),hu(t,n,j,ne,c,h,!0)}}function pu(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function cf(t,n,i){const{mergedAttrs:o,classes:c,styles:h}=i;null!==o&&Kn(t,n,o),null!==c&&pu(t,n,c),null!==h&&function op(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function ud(t){return function lh(){if(void 0===lf&&(lf=null,xn.trustedTypes))try{lf=xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}()?.createHTML(t)||t}function cp(t){up=t}function Ku(){if(void 0!==up)return up;if(typeof document<"u")return document;throw new Le(210,!1)}function hf(){if(void 0===As&&(As=null,xn.trustedTypes))try{As=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return As}function dh(t){return hf()?.createHTML(t)||t}function Cg(t){return hf()?.createScriptURL(t)||t}class tl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class dp extends tl{getTypeName(){return"HTML"}}class Dm extends tl{getTypeName(){return"Style"}}class hp extends tl{getTypeName(){return"Script"}}class ff extends tl{getTypeName(){return"URL"}}class fp extends tl{getTypeName(){return"ResourceURL"}}function qu(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function xa(t,n){const i=function Sm(t){return t instanceof tl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${We})`)}return i===n}function pp(t){return new dp(t)}function bg(t){return new Dm(t)}function ld(t){return new hp(t)}function gp(t){return new ff(t)}function pf(t){return new fp(t)}class Pm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(ud(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Rm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=ud(n),i}}const gf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dd(t){return(t=String(t)).match(gf)?t:"unsafe:"+t}function Na(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function nl(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const mp=Na("area,br,col,hr,img,wbr"),hh=Na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ka=Na("rp,rt"),il=nl(mp,nl(hh,Na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nl(ka,Na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nl(ka,hh)),mf=Na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sl=nl(mf,Na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yp=Na("script,style,template");class xm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!il.hasOwnProperty(i))return this.sanitizedSomething=!0,!yp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),I=h.name,T=I.toLowerCase();if(!sl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let M=h.value;mf[T]&&(M=dd(M)),this.buf.push(" ",I,'="',wg(M),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();il.hasOwnProperty(i)&&!mp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(wg(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Nm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$_=/([^\#-~ |!])/g;function wg(t){return t.replace(/&/g,"&amp;").replace(Nm,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace($_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vp;function Ep(t,n){let i=null;try{vp=vp||function Tg(t){const n=new Rm(t);return function Mm(){try{return!!(new window.DOMParser).parseFromString(ud(""),"text/html")}catch{return!1}}()?new Pm(n):n}(t);let o=n?String(n):"";i=vp.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=i.innerHTML,i=vp.getInertBodyElement(o)}while(o!==h);return ud((new xm).sanitizeChildren(Ag(i)||i))}finally{if(i){const o=Ag(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ag(t){return"content"in t&&function j_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hd||{});function km(t){const n=wr();return n?dh(n.sanitize(hd.HTML,t)||""):xa(t,"HTML")?dh(qu(t)):Ep(Ku(),ze(t))}function Dg(t){const n=wr();return n?n.sanitize(hd.URL,t)||"":xa(t,"URL")?qu(t):dd(ze(t))}function Fm(t){const n=wr();if(n)return Cg(n.sanitize(hd.RESOURCE_URL,t)||"");if(xa(t,"ResourceURL"))return Cg(qu(t));throw new Le(904,!1)}function Sg(t,n,i){return function yf(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Fm:Dg}(n,i)(t)}function wr(){const t=Ot();return t&&t[Es].sanitizer}const ph=new Qt("ENVIRONMENT_INITIALIZER"),Pg=new Qt("INJECTOR",-1),fd=new Qt("INJECTOR_DEF_TYPES");class Tp{get(n,i=Tn){if(i===Tn){const o=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw o.name="NullInjectorError",o}return i}}function no(t){return{\u0275providers:t}}function Ds(...t){return{\u0275providers:gu(0,t),\u0275fromNgModule:!0}}function gu(t,...n){const i=[],o=new Set;let c;const h=I=>{i.push(I)};return oa(n,I=>{const T=I;wp(T,h,[],o)&&(c||=[],c.push(T))}),void 0!==c&&Lm(c,h),i}function Lm(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];Rg(c,h=>{n(h,o)})}}function wp(t,n,i,o){if(!(t=pt(t)))return!1;let c=null,h=Ur(t);const I=!h&&Fn(t);if(h||I){if(I&&!I.standalone)return!1;c=t}else{const M=t.ngModule;if(h=Ur(M),!h)return!1;c=M}const T=o.has(c);if(I){if(T)return!1;if(o.add(c),I.dependencies){const M="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const j of M)wp(j,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let j;o.add(c);try{oa(h.imports,ne=>{wp(ne,n,i,o)&&(j||=[],j.push(ne))})}finally{}void 0!==j&&Lm(j,n)}if(!T){const j=Os(c)||(()=>new c);n({provide:c,useFactory:j,deps:Yn},c),n({provide:fd,useValue:c,multi:!0},c),n({provide:ph,useValue:()=>wt(c),multi:!0},c)}const M=h.providers;if(null!=M&&!T){const j=t;Rg(M,ne=>{n(ne,j)})}}}return c!==t&&void 0!==t.providers}function Rg(t,n){for(let i of t)Ct(i)&&(i=i.\u0275providers),Array.isArray(i)?Rg(i,n):n(i)}const Mg=ce({provide:String,useValue:ce});function Og(t){return null!==t&&"object"==typeof t&&Mg in t}function pd(t){return"function"==typeof t}const Bm=new Qt("Set Injector scope."),Dp={},cs={};let Sp;function Pp(){return void 0===Sp&&(Sp=new Tp),Sp}class Qu{}class gd extends Qu{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,md(n,I=>this.processProvider(I)),this.records.set(Pg,vf(void 0,this)),c.has("environment")&&this.records.set(Qu,vf(void 0,this));const h=this.records.get(Bm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(fd.multi,Yn,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ne(this),o=ar(void 0);try{return n()}finally{Ne(i),ar(o)}}get(n,i=Tn,o=un.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(wn))return n[wn](this);o=Xt(o);const h=Ne(this),I=ar(void 0);try{if(!(o&un.SkipSelf)){let M=this.records.get(n);if(void 0===M){const j=function jm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qt}(n)&&gn(n);M=j&&this.injectableDefInScope(j)?vf(xg(n),Dp):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(o&un.Self?Pp():this.parent).get(n,i=o&un.Optional&&i===Tn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[nr]=T[nr]||[]).unshift(Me(n)),h)throw T;return function xr(t,n,i,o){const c=t[nr];throw n[V]&&c.unshift(n[V]),t.message=function Us(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Me(n);if(Array.isArray(n))c=n.map(Me).join(" -> ");else if("object"==typeof n){let h=[];for(let I in n)if(n.hasOwnProperty(I)){let T=n[I];h.push(I+":"+("string"==typeof T?JSON.stringify(T):Me(T)))}c=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(te,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[nr]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{ar(I),Ne(h)}}resolveInjectorInitializers(){const n=Ne(this),i=ar(void 0);try{const c=this.get(ph.multi,Yn,un.Self);for(const h of c)h()}finally{Ne(n),ar(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Me(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let i=pd(n=pt(n))?n:pt(n&&n.provide);const o=function G_(t){return Og(t)?vf(void 0,t.useValue):vf($m(t),Dp)}(n);if(pd(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=vf(void 0,Dp,!0),c.factory=()=>Xn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Dp&&(i.value=cs,i.value=i.factory()),"object"==typeof i.value&&i.value&&function q_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=pt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function xg(t){const n=gn(t),i=null!==n?n.factory:Os(t);if(null!==i)return i;if(t instanceof Qt)throw new Le(204,!1);if(t instanceof Function)return function W_(t){const n=t.length;if(n>0)throw function dc(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}(n,"?"),new Le(204,!1);const i=function St(t){return t&&(t[nn]||t[$n])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Le(204,!1)}function $m(t,n,i){let o;if(pd(t)){const c=pt(t);return Os(c)||xg(c)}if(Og(t))o=()=>pt(t.useValue);else if(function Um(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Xn(t.deps||[]));else if(function Ap(t){return!(!t||!t.useExisting)}(t))o=()=>wt(pt(t.useExisting));else{const c=pt(t&&(t.useClass||t.provide));if(!function K_(t){return!!t.deps}(t))return Os(c)||xg(c);o=()=>new c(...Xn(t.deps))}return o}function vf(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function md(t,n){for(const i of t)Array.isArray(i)?md(i,n):i&&Ct(i)?md(i.\u0275providers,n):n(i)}const Hm=new Qt("AppId",{providedIn:"root",factory:()=>ol}),ol="ng",vc=new Qt("Platform Initializer"),zm=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Q_=new Qt("CSP nonce",{providedIn:"root",factory:()=>Ku().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vd=(t,n,i)=>null;function Ed(t,n,i=!1){return vd(t,n,i)}class uv{}class ey{}class ty{resolveComponentFactory(n){throw function Ug(t){const n=Error(`No component factory found for ${Me(t)}.`);return n.ngComponent=t,n}(n)}}let Np=(()=>{class t{static#e=this.NULL=new ty}return t})();function kp(){return Ch(bs(),Ot())}function Ch(t,n){return new Tf(Ai(t,n))}let Tf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=kp}return t})();function Fp(t){return t instanceof Tf?t.nativeElement:t}class qm{}let ny=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qm(){const t=Ot(),i=pi(bs().index,t);return(Kr(i)?i:t)[Vn]}()}return t})(),Xm=(()=>{class t{static#e=this.\u0275prov=fn({token:t,providedIn:"root",factory:()=>null})}return t})();class $g{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const jg=new $g("16.2.12"),Vp={};function ll(t,n=null,i=null,o){const c=e_(t,n,i,o);return c.resolveInjectorInitializers(),c}function e_(t,n=null,i=null,o,c=new Set){const h=[i||Yn,Ds(t)];return o=o||("object"==typeof t?void 0:Me(t)),new gd(h,n||Pp(),o||null,c)}let mu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Tn;static#t=this.NULL=new Tp;static create(i,o){if(Array.isArray(i))return ll({name:""},o,i,"");{const c=i.name??"";return ll({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=fn({token:t,providedIn:"any",factory:()=>wt(Pg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Hg(t){return t.ngOriginalError}class dl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Hg(n);for(;i&&Hg(i);)i=Hg(i);return i||null}}function zg(t){return n=>{setTimeout(t,void 0,n)}}const _u=class oy extends l.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,h=i||(()=>null),I=o;if(n&&"object"==typeof n){const M=n;c=M.next?.bind(M),h=M.error?.bind(M),I=M.complete?.bind(M)}this.__isAsync&&(h=zg(h),c&&(c=zg(c)),I&&(I=zg(I)));const T=super.subscribe({next:c,error:h,complete:I});return n instanceof de.yU&&n.add(T),T}};function n_(...t){}class gs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _u(!1),this.onMicrotaskEmpty=new _u(!1),this.onStable=new _u(!1),this.onError=new _u(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ay(){const t="function"==typeof xn.requestAnimationFrame;let n=xn[t?"requestAnimationFrame":"setTimeout"],i=xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cy(t){const n=()=>{!function uy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gg(t),t.isCheckStableRunning=!0,r_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,h,I,T)=>{if(function pv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(c,h,I,T);try{return i_(t),i.invokeTask(c,h,I,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),s_(t)}},onInvoke:(i,o,c,h,I,T,M)=>{try{return i_(t),i.invoke(c,h,I,T,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),s_(t)}},onHasTask:(i,o,c,h)=>{i.hasTask(c,h),o===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Gg(t),r_(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,o,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Le(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const h=this._inner,I=h.scheduleEventTask("NgZoneEvent: "+c,n,Wg,n_,n_);try{return h.runTask(I,i,o)}finally{h.cancelTask(I)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const Wg={};function r_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function i_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function s_(t){t._nesting--,r_(t)}class fv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _u,this.onMicrotaskEmpty=new _u,this.onStable=new _u,this.onError=new _u}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const ly=new Qt("",{providedIn:"root",factory:dy});function dy(){const t=Gt(gs);let n=!0;const i=new m.c(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),o=new m.c(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const I=t.onUnstable.subscribe(()=>{gs.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),I.unsubscribe()}});return(0,De.h)(i,o.pipe((0,Ue.u)()))}function Cc(t){return t instanceof Function?t():t}let Kg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Af(t){for(;t;){t[Sn]|=64;const n=Yc(t);if(la(t)&&!n)return t;t=n}return null}const gy=new Qt("",{providedIn:"root",factory:()=>!1});let bc=null;function Th(t,n){return t[n]??s()}function a(t,n){const i=s();i.producerNode?.length&&(t[n]=bc,i.lView=t,bc=r())}const e={...ec,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Af(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return bc??=r(),bc}const u={};function p(t){v(Or(),Ot(),_r()+t,!1)}function v(t,n,i,o){if(!o)if(3==(3&n[Sn])){const h=t.preOrderCheckHooks;null!==h&&ga(n,h,i)}else{const h=t.preOrderHooks;null!==h&&ma(n,h,0,i)}Ir(i)}function P(t,n=un.Default){const i=Ot();return null===i?wt(t,n):Sa(bs(),i,pt(t),n)}function N(){throw new Error("invalid")}function ie(t,n,i,o,c,h,I,T,M,j,ne){const ye=n.blueprint.slice();return ye[hr]=c,ye[Sn]=140|o,(null!==j||t&&2048&t[Sn])&&(ye[Sn]|=2048),na(ye),ye[Jn]=ye[Y]=t,ye[br]=i,ye[Es]=I||t&&t[Es],ye[Vn]=T||t&&t[Vn],ye[Ms]=M||t&&t[Ms]||null,ye[Hr]=h,ye[dt]=function dg(){return lg++}(),ye[At]=ne,ye[jt]=j,ye[G]=2==n.type?t[G]:ye,ye}function _e(t,n,i,o,c){let h=t.data[n];if(null===h)h=function xe(t,n,i,o,c){const h=Fi(),I=oo(),M=t.data[n]=function L(t,n,i,o,c,h){let I=n?n.injectorIndex:-1,T=0;return function Aa(){return null!==Qn.skipHydrationRootTNode}()&&(T|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?h:h&&h.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=M),null!==h&&(I?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(t,n,i,o,c),function Fc(){return Qn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=c;const I=function Ru(){const t=Qn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===I?-1:I.injectorIndex}return eo(h,!0),h}function et(t,n,i,o){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function Mt(t,n,i,o,c){const h=Th(n,Zt),I=_r(),T=2&o;try{Ir(-1),T&&n.length>yn&&v(t,n,yn,!1),Un(T?2:0,c);const j=T?h:null,ne=qn(j);try{null!==j&&(j.dirty=!1),i(o,c)}finally{Ba(j,ne)}}finally{T&&null===n[Zt]&&a(n,Zt),Ir(I),Un(T?3:1,c)}}function Wt(t,n,i){if(Xs(n)){const o=Mi(null);try{const h=n.directiveEnd;for(let I=n.directiveStart;I<h;I++){const T=t.data[I];T.contentQueries&&T.contentQueries(1,i[I],I)}}finally{Mi(o)}}}function Ut(t,n,i){yi()&&(function hi(t,n,i,o){const c=i.directiveStart,h=i.directiveEnd;Ki(i)&&function Ps(t,n,i){const o=Ai(n,t),c=jn(i);let I=16;i.signals?I=4096:i.onPush&&(I=64);const T=Ju(t,ie(t,c,null,I,o,n,null,t[Es].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=T}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Bc(i,n),lo(o,n);const I=i.initialInputs;for(let T=c;T<h;T++){const M=t.data[T],j=va(n,t,T,i);lo(j,n),null!==I&&vo(0,T-c,j,M,0,I),as(M)&&(pi(i.index,n)[br]=va(n,t,T,i))}}(t,n,i,Ai(i,n)),64==(64&i.flags)&&Ti(t,n,i))}function An(t,n,i=Ai){const o=n.localNames;if(null!==o){let c=n.index+1;for(let h=0;h<o.length;h+=2){const I=o[h+1],T=-1===I?i(n,t):t[I];t[c++]=T}}}function jn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rn(t,n,i,o,c,h,I,T,M,j,ne){const ye=yn+o,Be=ye+c,Xe=function Cr(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:u);return i}(ye,Be),Tt="function"==typeof j?j():j;return Xe[qt]={type:t,blueprint:Xe,template:i,queries:null,viewQuery:T,declTNode:n,data:Xe.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:M,consts:Tt,incompleteFirstPass:!1,ssrId:ne}}let E=t=>null;function Z(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const h=t[c];null===o?J(i,n,c,h):o.hasOwnProperty(c)&&J(i,n,o[c],h)}return i}function J(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function sn(t,n,i,o,c,h,I,T){const M=Ai(n,i);let ne,j=n.inputs;!T&&null!=j&&(ne=j[o])?(rs(t,i,ne,o,c),Ki(n)&&function Ht(t,n){const i=pi(n,t);16&i[Sn]||(i[Sn]|=64)}(i,n.index)):3&n.type&&(o=function gt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=I?I(c,n.value||"",o):c,h.setProperty(M,o,c))}function tr(t,n,i,o){if(yi()){const c=null===o?null:{"":-1},h=function yr(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let h=0;h<i.length;h++){const I=i[h];if(rr(n,I.selectors,!1))if(o||(o=[]),as(I))if(null!==I.findHostDirectiveDefs){const T=[];c=c||new Map,I.findHostDirectiveDefs(I,T,c),o.unshift(...T,I),fi(t,n,T.length)}else o.unshift(I),fi(t,n,0);else c=c||new Map,I.findHostDirectiveDefs?.(I,o,c),o.push(I)}return null===o?null:[o,c]}(t,i);let I,T;null===h?I=T=null:[I,T]=h,null!==I&&di(t,n,i,I,c,T),c&&function gi(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new Le(-301,!1);o.push(n[c],h)}}}(i,o,c)}i.mergedAttrs=lr(i.mergedAttrs,i.attrs)}function di(t,n,i,o,c,h){for(let j=0;j<o.length;j++)yo(Bc(i,n),t,o[j].type);!function Ss(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let j=0;j<o.length;j++){const ne=o[j];ne.providersResolver&&ne.providersResolver(ne)}let I=!1,T=!1,M=et(t,n,o.length,null);for(let j=0;j<o.length;j++){const ne=o[j];i.mergedAttrs=lr(i.mergedAttrs,ne.hostAttrs),Ls(t,i,n,M,ne),ji(M,ne,c),null!==ne.contentQueries&&(i.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(i.flags|=64);const ye=ne.type.prototype;!I&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),I=!0),!T&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),M++}!function ut(t,n,i){const c=n.directiveEnd,h=t.data,I=n.attrs,T=[];let M=null,j=null;for(let ne=n.directiveStart;ne<c;ne++){const ye=h[ne],Be=i?i.get(ye):null,Tt=Be?Be.outputs:null;M=Z(ye.inputs,ne,M,Be?Be.inputs:null),j=Z(ye.outputs,ne,j,Tt);const zt=null===M||null===I||ri(n)?null:fl(M,ne,I);T.push(zt)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=M,n.outputs=j}(t,i,h)}function Ti(t,n,i){const o=i.directiveStart,c=i.directiveEnd,h=i.index,I=function Vc(){return Qn.lFrame.currentDirectiveIndex}();try{Ir(h);for(let T=o;T<c;T++){const M=t.data[T],j=n[T];Ml(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Qr(M,j)}}finally{Ir(-1),Ml(I)}}function Qr(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function fi(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ji(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;as(n)&&(i[""]=t)}}function Ls(t,n,i,o,c){t.data[o]=c;const h=c.factory||(c.factory=Os(c.type)),I=new Ou(h,as(c),P);t.blueprint[o]=I,i[o]=I,function En(t,n,i,o,c){const h=c.hostBindings;if(h){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const T=~n.index;(function In(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(I)!=T&&I.push(T),I.push(i,o,h)}}(t,n,o,et(t,i,c.hostVars,u),c)}function Li(t,n,i,o,c,h){const I=Ai(t,n);!function Vo(t,n,i,o,c,h,I){if(null==h)t.removeAttribute(n,c,i);else{const T=null==I?ze(h):I(h,o||"",c);t.setAttribute(n,c,T,i)}}(n[Vn],I,h,t.value,i,o,c)}function vo(t,n,i,o,c,h){const I=h[n];if(null!==I)for(let T=0;T<I.length;)Yu(o,i,I[T++],I[T++],I[T++])}function Yu(t,n,i,o,c){const h=Mi(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(o)&&(c=I[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{Mi(h)}}function fl(t,n,i){let o=null,c=0;for(;c<i.length;){const h=i[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===o&&(o=[]);const I=t[h];for(let T=0;T<I.length;T+=2)if(I[T]===n){o.push(h,I[T+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function Lo(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function aa(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const h=i[o+1];if(-1!==h){const I=t.data[h];w(i[o]),I.contentQueries(2,n[h],h)}}}function Ju(t,n){return t[os]?t[ai][Ri]=n:t[os]=n,t[ai]=n,n}function yu(t,n,i){w(0);const o=Mi(null);try{n(t,i)}finally{Mi(o)}}function Ad(t){return t[ss]||(t[ss]=[])}function Tc(t){return t.cleanup||(t.cleanup=[])}function ms(t,n){const i=t[Ms],o=i?i.get(dl,null):null;o&&o.handleError(n)}function rs(t,n,i,o,c){for(let h=0;h<i.length;){const I=i[h++],T=i[h++];Yu(t.data[I],n[I],o,T,c)}}function wh(t,n){const i=pi(n,t),o=i[qt];!function wc(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[hr];null!==c&&null===i[At]&&(i[At]=Ed(c,i[Ms])),Ah(o,i,i[br])}function Ah(t,n,i){O(n);try{const o=t.viewQuery;null!==o&&yu(1,o,i);const c=t.template;null!==c&&Mt(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&aa(t,n),t.staticViewQueries&&yu(2,t.viewQuery,i);const h=t.components;null!==h&&function Dh(t,n){for(let i=0;i<n.length;i++)wh(t,n[i])}(n,h)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Sn]&=-5,tt()}}let Sh=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const h=typeof Zone>"u"?null:Zone.current,I=function bt(t,n,i){const o=Object.create(Tr);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=I=>{o.cleanupFn=I};return o.ref={notify:()=>fs(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Tu(o))return;o.hasRun=!0;const I=qn(o);try{o.cleanupFn(),o.cleanupFn=hn,o.fn(c)}finally{Ba(o,I)}},cleanup:()=>o.cleanupFn()},o.ref}(i,j=>{this.all.has(j)&&this.queue.set(j,h)},c);let T;this.all.add(I),I.notify();const M=()=>{I.cleanup(),T?.(),this.all.delete(I),this.queue.delete(I)};return T=o?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:t,providedIn:"root",factory:()=>new t})}return t})();function gl(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let I=0;I<n.length;I++){const T=n[I];"number"==typeof T?h=T:1==h?c=ct(c,T):2==h&&(o=ct(o,T+": "+n[++I]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function Ph(t,n,i,o,c=!1){for(;null!==i;){const h=n[i.index];null!==h&&o.push(Fr(h)),gr(h)&&Xg(h,o);const I=i.type;if(8&I)Ph(t,n,i.child,o);else if(32&I){const T=rd(i,n);let M;for(;M=T();)o.push(M)}else if(16&I){const T=Ig(n,i);if(Array.isArray(T))o.push(...T);else{const M=Yc(n[G]);Ph(M[qt],M,T,o,!0)}}i=c?i.projectionNext:i.next}return o}function Xg(t,n){for(let i=ir;i<t.length;i++){const o=t[i],c=o[qt].firstChild;null!==c&&Ph(o[qt],o,c,n)}t[ni]!==t[hr]&&n.push(t[ni])}function ml(t,n,i,o=!0){const c=n[Es],h=c.rendererFactory,I=c.afterRenderEventManager;h.begin?.(),I?.begin();try{Dd(t,n,t.template,i)}catch(M){throw o&&ms(n,M),M}finally{h.end?.(),c.effectManager?.flush(),I?.end()}}function Dd(t,n,i,o){const c=n[Sn];if(256!=(256&c)){n[Es].effectManager?.flush(),O(n);try{na(n),function ra(t){return Qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Mt(t,n,i,2,o);const I=3==(3&c);if(I){const j=t.preOrderCheckHooks;null!==j&&ga(n,j,null)}else{const j=t.preOrderHooks;null!==j&&ma(n,j,0,null),Qo(n,0)}if(function Sd(t){for(let n=Xh(t);null!==n;n=Yh(n)){if(!n[ci])continue;const i=n[Bi];for(let o=0;o<i.length;o++){ic(i[o])}}}(n),vu(n,2),null!==t.contentQueries&&aa(t,n),I){const j=t.contentCheckHooks;null!==j&&ga(n,j)}else{const j=t.contentHooks;null!==j&&ma(n,j,1),Qo(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Th(n,Zn);try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)Ir(~h);else{const I=h,T=i[++c],M=i[++c];Ga(T,I),o.dirty=!1;const j=qn(o);try{M(2,n[I])}finally{Ba(o,j)}}}}finally{null===n[Zn]&&a(n,Zn),Ir(-1)}}(t,n);const T=t.components;null!==T&&_l(n,T,0);const M=t.viewQuery;if(null!==M&&yu(2,M,o),I){const j=t.viewCheckHooks;null!==j&&ga(n,j)}else{const j=t.viewHooks;null!==j&&ma(n,j,2),Qo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Sn]&=-73,Su(n)}finally{tt()}}}function vu(t,n){for(let i=Xh(t);null!==i;i=Yh(i))for(let o=ir;o<i.length;o++)Df(i[o],n)}function Ac(t,n,i){Df(pi(n,t),i)}function Df(t,n){if(!function Du(t){return 128==(128&t[Sn])}(t))return;const i=t[qt],o=t[Sn];if(80&o&&0===n||1024&o||2===n)Dd(i,t,i.template,t[br]);else if(t[Qs]>0){vu(t,1);const c=i.components;null!==c&&_l(t,c,1)}}function _l(t,n,i){for(let o=0;o<n.length;o++)Ac(t,n[o],i)}class yl{get rootNodes(){const n=this._lView,i=n[qt];return Ph(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(n){this._lView[br]=n}get destroyed(){return 256==(256&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Jn];if(gr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(ef(n,o),lc(i,o))}this._attachedToViewContainer=!1}sh(this._lView[qt],this._lView)}onDestroy(n){!function Vd(t,n){if(256==(256&t[Sn]))throw new Le(911,!1);null===t[cn]&&(t[cn]=[]),t[cn].push(n)}(this._lView,n)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){this._lView[Sn]|=128}detectChanges(){ml(this._lView[qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ih(t,n){el(t,n,n[Vn],2,null,null)}(this._lView[qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n}}class Pd extends yl{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ml(n[qt],n,n[br],!1)}checkNoChanges(){}get context(){return null}}class Sf extends Np{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Fn(n);return new vl(i,this.ngModule)}}function ho(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Hp{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Xt(o);const c=this.injector.get(n,Vp,o);return c!==Vp||i===Vp?c:this.parentInjector.get(n,i,o)}}class vl extends ey{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=ho(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return ho(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ji(t){return t.map(xi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let h=(c=c||this.ngModule)instanceof Qu?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const I=h?new Hp(n,h):n,T=I.get(qm,null);if(null===T)throw new Le(407,!1);const ye={rendererFactory:T,sanitizer:I.get(Xm,null),effectManager:I.get(Sh,null),afterRenderEventManager:I.get(Kg,null)},Be=T.createRenderer(null,this.componentDef),Xe=this.componentDef.selectors[0][0]||"div",Tt=o?function vi(t,n,i,o){const h=o.get(gy,!1)||i===ls.ShadowDom,I=t.selectRootElement(n,h);return function Lr(t){E(t)}(I),I}(Be,o,this.componentDef.encapsulation,I):Zh(Be,Xe,function yy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Xe)),zn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Bt=null;null!==Tt&&(Bt=Ed(Tt,I,!0));const Ar=Rn(0,null,null,1,0,null,null,null,null,null,null),ti=ie(null,Ar,null,zn,null,null,ye,Be,I,null,Bt);let Xi,bu;O(ti);try{const Fh=this.componentDef;let Em,_E=null;Fh.findHostDirectiveDefs?(Em=[],_E=new Map,Fh.findHostDirectiveDefs(Fh,Em,_E),Em.push(Fh)):Em=[Fh];const zA=function vv(t,n){const i=t[qt],o=yn;return t[o]=n,_e(i,o,2,"#host",null)}(ti,Tt),WA=function Pf(t,n,i,o,c,h,I){const T=c[qt];!function Ev(t,n,i,o){for(const c of t)n.mergedAttrs=lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(gl(n,n.mergedAttrs,!0),null!==i&&cf(o,i,n))}(o,t,n,I);let M=null;null!==n&&(M=Ed(n,c[Ms]));const j=h.rendererFactory.createRenderer(n,i);let ne=16;i.signals?ne=4096:i.onPush&&(ne=64);const ye=ie(c,jn(i),null,ne,c[t.index],t,h,j,null,null,M);return T.firstCreatePass&&fi(T,t,o.length-1),Ju(c,ye),c[t.index]=ye}(zA,Tt,Fh,Em,ti,ye,Be);bu=kn(Ar,yn),Tt&&function Zg(t,n,i,o){if(o)Kn(t,i,["ng-version",jg.full]);else{const{attrs:c,classes:h}=function Ho(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let h=t[o];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++o]):8===c&&i.push(h);else{if(!_i(c))break;c=h}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&Kn(t,i,c),h&&h.length>0&&pu(t,i,h.join(" "))}}(Be,Fh,Tt,o),void 0!==i&&function vy(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const h=i[c];o.push(null!=h?Array.from(h):null)}}(bu,this.ngContentSelectors,i),Xi=function Iv(t,n,i,o,c,h){const I=bs(),T=c[qt],M=Ai(I,c);di(T,c,I,i,null,o);for(let ne=0;ne<i.length;ne++)lo(va(c,T,I.directiveStart+ne,I),c);Ti(T,c,I),M&&lo(M,c);const j=va(c,T,I.directiveStart+I.componentOffset,I);if(t[br]=c[br]=j,null!==h)for(const ne of h)ne(j,n);return Wt(T,I,t),j}(WA,Fh,Em,_E,ti,[p_]),Ah(Ar,ti,null)}finally{tt()}return new yv(this.componentType,Xi,Ch(bu,ti),ti,bu)}}class yv extends uv{constructor(n,i,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Pd(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;rs(h[qt],h,c,n,i),this.previousInputValues.set(n,i),Af(pi(this._tNode.index,h))}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function p_(){const t=bs();Ol(Ot()[qt],t)}function Dc(t){let n=function zp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(as(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const I=t;I.inputs=Wp(t.inputs),I.inputTransforms=Wp(t.inputTransforms),I.declaredInputs=Wp(t.declaredInputs),I.outputs=Wp(t.outputs);const T=c.hostBindings;T&&Iy(t,T);const M=c.viewQuery,j=c.contentQueries;if(M&&g_(t,M),j&&m_(t,j),he(t.inputs,c.inputs),he(t.declaredInputs,c.declaredInputs),he(t.outputs,c.outputs),null!==c.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),he(I.inputTransforms,c.inputTransforms)),as(c)&&c.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let I=0;I<h.length;I++){const T=h[I];T&&T.ngInherit&&T(t),T===Dc&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Ey(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=lr(c.hostAttrs,i=lr(i,c.hostAttrs))}}(o)}function Wp(t){return t===Zr?{}:t===Yn?[]:t}function g_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function m_(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,h)=>{n(o,c,h),i(o,c,h)}:n}function Iy(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function __(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function Gp(t){return!!nm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Sc(t,n,i){return t[n]=i}function Kp(t,n){return t[n]}function Uo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Rd(t,n,i,o){const c=Uo(t,n,i);return Uo(t,n+1,o)||c}function Zu(t,n,i,o){const c=Ot();return Uo(c,ao(),n)&&(Or(),Li(qr(),c,t,n,i,o)),Zu}function Il(t,n,i,o){return Uo(t,ao(),i)?n+ze(i)+o:u}function am(t,n,i,o,c,h,I,T){const M=Ot(),j=Or(),ne=t+yn,ye=j.firstCreatePass?function Uy(t,n,i,o,c,h,I,T,M){const j=n.consts,ne=_e(n,t,4,I||null,Ro(j,T));tr(n,i,ne,Ro(j,M)),Ol(n,ne);const ye=ne.tView=Rn(2,ne,o,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,ne),ye.queries=n.queries.embeddedTView(ne)),ne}(ne,j,M,n,i,o,c,h,I):j.data[ne];eo(ye,!1);const Be=um(j,M,ye,t);Da()&&af(j,M,Be,ye),lo(Be,M),Ju(M,M[ne]=Lo(Be,M,Be,ye)),zo(ye)&&Ut(j,M,ye),null!=I&&An(M,ye,T)}let um=function D_(t,n,i,o){return Xa(!0),n[Vn].createComment("")};function Nd(t){return mo(function Rl(){return Qn.lFrame.contextLView}(),yn+t)}function lm(t,n,i){const o=Ot();return Uo(o,ao(),n)&&sn(Or(),qr(),o,t,n,o[Vn],i,!1),lm}function dm(t,n,i,o,c){const I=c?"class":"style";rs(t,i,n.inputs[I],I,o)}function Jp(t,n,i,o){const c=Ot(),h=Or(),I=yn+t,T=c[Vn],M=h.firstCreatePass?function jy(t,n,i,o,c,h){const I=n.consts,M=_e(n,t,2,o,Ro(I,c));return tr(n,i,M,Ro(I,h)),null!==M.attrs&&gl(M,M.attrs,!1),null!==M.mergedAttrs&&gl(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(I,h,c,n,i,o):h.data[I],j=S_(h,c,M,T,n,t);c[I]=j;const ne=zo(M);return eo(M,!0),cf(T,j,M),32!=(32&M.flags)&&Da()&&af(h,c,j,M),0===function ks(){return Qn.lFrame.elementDepthCount}()&&lo(j,c),function Pu(){Qn.lFrame.elementDepthCount++}(),ne&&(Ut(h,c,M),Wt(h,M,c)),null!==o&&An(c,M),Jp}function kh(){let t=bs();oo()?Wa():(t=t.parent,eo(t,!1));const n=t;(function sc(t){return Qn.skipHydrationRootTNode===t})(n)&&function Ud(){Qn.skipHydrationRootTNode=null}(),function Oc(){Qn.lFrame.elementDepthCount--}();const i=Or();return i.firstCreatePass&&(Ol(i,t),Xs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Nl(t){return 0!=(8&t.flags)}(n)&&dm(i,n,Ot(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function kl(t){return 0!=(16&t.flags)}(n)&&dm(i,n,Ot(),n.stylesWithoutHost,!1),kh}function ua(t,n,i,o){return Jp(t,n,i,o),kh(),ua}let S_=(t,n,i,o,c,h)=>(Xa(!0),Zh(o,c,function ia(){return Qn.lFrame.currentNamespace}()));function k(t,n,i){const o=Ot(),c=Or(),h=t+yn,I=c.firstCreatePass?function y(t,n,i,o,c){const h=n.consts,I=Ro(h,o),T=_e(n,t,8,"ng-container",I);return null!==I&&gl(T,I,!0),tr(n,i,T,Ro(h,c)),null!==n.queries&&n.queries.elementStart(n,T),T}(h,c,o,n,i):c.data[h];eo(I,!0);const T=Ze(c,o,I,t);return o[h]=T,Da()&&af(c,o,T,I),lo(T,o),zo(I)&&(Ut(c,o,I),Wt(c,I,o)),null!=i&&An(o,I),k}function q(){let t=bs();const n=Or();return oo()?Wa():(t=t.parent,eo(t,!1)),n.firstCreatePass&&(Ol(n,t),Xs(t)&&n.queries.elementEnd(t)),q}let Ze=(t,n,i,o)=>(Xa(!0),Jh(n[Vn],""));function Hi(){return Ot()}function fo(t){return!!t&&"function"==typeof t.then}function Ei(t){return!!t&&"function"==typeof t.subscribe}function Co(t,n,i,o){const c=Ot(),h=Or(),I=bs();return function Eu(t,n,i,o,c,h,I){const T=zo(o),j=t.firstCreatePass&&Tc(t),ne=n[br],ye=Ad(n);let Be=!0;if(3&o.type||I){const zt=Ai(o,n),mn=I?I(zt):zt,zn=ye.length,Bt=I?ti=>I(Fr(ti[o.index])):o.index;let Ar=null;if(!I&&T&&(Ar=function Vf(t,n,i,o){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const I=c[h];if(I===i&&c[h+1]===o){const T=n[ss],M=c[h+2];return T.length>M?T[M]:null}"string"==typeof I&&(h+=2)}return null}(t,n,c,o.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=h,Ar.__ngLastListenerFn__=h,Be=!1;else{h=hm(o,n,ne,h,!1);const ti=i.listen(mn,c,h);ye.push(h,ti),j&&j.push(c,Bt,zn,zn+1)}}else h=hm(o,n,ne,h,!1);const Xe=o.outputs;let Tt;if(Be&&null!==Xe&&(Tt=Xe[c])){const zt=Tt.length;if(zt)for(let mn=0;mn<zt;mn+=2){const Xi=n[Tt[mn]][Tt[mn+1]].subscribe(h),bu=ye.length;ye.push(h,Xi),j&&j.push(c,o.index,bu,-(bu+1))}}}(h,c,c[Vn],I,t,n,o),Co}function Zp(t,n,i,o){try{return Un(6,n,i),!1!==i(o)}catch(c){return ms(t,c),!1}finally{Un(7,n,i)}}function hm(t,n,i,o,c){return function h(I){if(I===Function)return o;Af(t.componentOffset>-1?pi(t.index,n):n);let M=Zp(n,i,o,I),j=h.__ngNextListenerFn__;for(;j;)M=Zp(n,i,j,I)&&M,j=j.__ngNextListenerFn__;return c&&!1===M&&I.preventDefault(),M}}function CE(t=1){return function an(t){return(Qn.lFrame.contextLView=function sr(t,n){for(;t>0;)n=n[Y],t--;return n}(t,Qn.lFrame.contextLView))[br]}(t)}function Dv(t,n,i){return zy(t,"",n,"",i),Dv}function zy(t,n,i,o,c){const h=Ot(),I=Il(h,n,i,o);return I!==u&&sn(Or(),qr(),h,t,I,h[Vn],c,!1),zy}function Wy(t,n){return t<<17|n<<2}function Lf(t){return t>>17&32767}function Sv(t){return 2|t}function eg(t){return(131068&t)>>2}function Pv(t,n){return-131069&t|n<<2}function Rv(t){return 1|t}function ME(t,n,i,o,c){const h=t[i+1],I=null===n;let T=o?Lf(h):eg(h),M=!1;for(;0!==T&&(!1===M||I);){const ne=t[T+1];xC(t[T],n)&&(M=!0,t[T+1]=o?Rv(ne):Sv(ne)),T=o?Lf(ne):eg(ne)}M&&(t[i+1]=o?Sv(h):Rv(h))}function xC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Lu(t,n)>=0}function Mv(t,n,i){return wl(t,n,i,!1),Mv}function Ov(t,n){return wl(t,n,null,!0),Ov}function wl(t,n,i,o){const c=Ot(),h=Or(),I=function uo(t){const n=Qn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function UE(t,n,i,o){const c=t.data;if(null===c[i+1]){const h=c[_r()],I=function LE(t,n){return n>=t.expandoStartIndex}(t,i);(function HE(t,n){return 0!=(t.flags&(n?8:16))})(h,o)&&null===n&&!I&&(n=!1),n=function jC(t,n,i,o){const c=function Mu(t){const n=Qn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=P_(i=xv(null,t,n,i,o),n.attrs,o),h=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==c)if(i=xv(c,t,n,i,o),null===h){let M=function HC(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==eg(o))return t[Lf(o)]}(t,n,o);void 0!==M&&Array.isArray(M)&&(M=xv(null,t,n,M[1],o),M=P_(M,n.attrs,o),function zC(t,n,i,o){t[Lf(i?n.classBindings:n.styleBindings)]=o}(t,n,o,M))}else h=function WC(t,n,i){let o;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)o=P_(o,t[h].hostAttrs,i);return P_(o,n.attrs,i)}(t,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,o),function MC(t,n,i,o,c,h){let I=h?n.classBindings:n.styleBindings,T=Lf(I),M=eg(I);t[o]=i;let ne,j=!1;if(Array.isArray(i)?(ne=i[1],(null===ne||Lu(i,ne)>0)&&(j=!0)):ne=i,c)if(0!==M){const Be=Lf(t[T+1]);t[o+1]=Wy(Be,T),0!==Be&&(t[Be+1]=Pv(t[Be+1],o)),t[T+1]=function PC(t,n){return 131071&t|n<<17}(t[T+1],o)}else t[o+1]=Wy(T,0),0!==T&&(t[T+1]=Pv(t[T+1],o)),T=o;else t[o+1]=Wy(M,0),0===T?T=o:t[M+1]=Pv(t[M+1],o),M=o;j&&(t[o+1]=Sv(t[o+1])),ME(t,ne,o,!0),ME(t,ne,o,!1),function OC(t,n,i,o,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Lu(h,n)>=0&&(i[o+1]=Rv(i[o+1]))}(n,ne,t,o,h),I=Wy(T,M),h?n.classBindings=I:n.styleBindings=I}(c,h,n,i,I,o)}}(h,t,I,o),n!==u&&Uo(c,I,n)&&function $E(t,n,i,o,c,h,I,T){if(!(3&n.type))return;const M=t.data,j=M[T+1],ne=function RC(t){return 1==(1&t)}(j)?jE(M,n,i,c,eg(j),I):void 0;Gy(ne)||(Gy(h)||function SC(t){return 2==(2&t)}(j)&&(h=jE(M,null,i,c,T,I)),function wm(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:cu.DashCase;null==c?t.removeStyle(i,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=cu.Important),t.setStyle(i,o,c,h))}}(o,I,wa(_r(),i),c,h))}(h,h.data[_r()],c,c[Vn],t,c[I+1]=function QC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(qu(t)))),t}(n,i),o,I)}function xv(t,n,i,o,c){let h=null;const I=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<I&&(h=n[T],o=P_(o,h.hostAttrs,c),h!==t);)T++;return null!==t&&(i.directiveStylingLast=T),o}function P_(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const I=n[h];"number"==typeof I?c=I:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,I,!!i||n[++h]))}return void 0===t?null:t}function jE(t,n,i,o,c,h){const I=null===n;let T;for(;c>0;){const M=t[c],j=Array.isArray(M),ne=j?M[1]:M,ye=null===ne;let Be=i[c+1];Be===u&&(Be=ye?Yn:void 0);let Xe=ye?zl(Be,o):ne===o?Be:void 0;if(j&&!Gy(Xe)&&(Xe=zl(M,o)),Gy(Xe)&&(T=Xe,I))return T;const Tt=t[c+1];c=I?Lf(Tt):eg(Tt)}if(null!==n){let M=h?n.residualClasses:n.residualStyles;null!=M&&(T=zl(M,o))}return T}function Gy(t){return void 0!==t}function zE(t,n=""){const i=Ot(),o=Or(),c=t+yn,h=o.firstCreatePass?_e(o,c,1,n,null):o.data[c],I=WE(o,i,h,n,t);i[c]=I,Da()&&af(o,i,I,h),eo(h,!1)}let WE=(t,n,i,o,c)=>(Xa(!0),function rh(t,n){return t.createText(n)}(n[Vn],o));function Nv(t){return Ky("",t,""),Nv}function Ky(t,n,i){const o=Ot(),c=Il(o,t,n,i);return c!==u&&function Eo(t,n,i){const o=wa(n,t);!function pg(t,n,i){t.setValue(n,i)}(t[Vn],o,i)}(o,_r(),c),Ky}const tg=void 0;var _b=["en",[["a","p"],["AM","PM"],tg],[["AM","PM"],tg,tg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tg,"{1} 'at' {0}",tg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mb(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let pm={};function kv(t){const n=function yb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=f0(n);if(i)return i;const o=n.split("-")[0];if(i=f0(o),i)return i;if("en"===o)return _b;throw new Le(701,!1)}function h0(t){return kv(t)[gm.PluralCase]}function f0(t){return t in pm||(pm[t]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[t]),pm[t]}var gm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(gm||{});const mm="en-US";let p0=mm;function Lv(t,n,i,o,c){if(t=pt(t),Array.isArray(t))for(let h=0;h<t.length;h++)Lv(t[h],n,i,o,c);else{const h=Or(),I=Ot(),T=bs();let M=pd(t)?t:pt(t.provide);const j=$m(t),ne=1048575&T.providerIndexes,ye=T.directiveStart,Be=T.providerIndexes>>20;if(pd(t)||!t.multi){const Xe=new Ou(j,c,P),Tt=Bv(M,n,c?ne:ne+Be,ye);-1===Tt?(yo(Bc(T,I),h,M),Uv(h,t,n.length),n.push(M),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(Xe),I.push(Xe)):(i[Tt]=Xe,I[Tt]=Xe)}else{const Xe=Bv(M,n,ne+Be,ye),Tt=Bv(M,n,ne,ne+Be),mn=Tt>=0&&i[Tt];if(c&&!mn||!c&&!(Xe>=0&&i[Xe])){yo(Bc(T,I),h,M);const zn=function mT(t,n,i,o,c){const h=new Ou(t,i,P);return h.multi=[],h.index=n,h.componentProviders=0,U0(h,c,o&&!i),h}(c?gT:pT,i.length,c,o,j);!c&&mn&&(i[Tt].providerFactory=zn),Uv(h,t,n.length,0),n.push(M),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),i.push(zn),I.push(zn)}else Uv(h,t,Xe>-1?Xe:Tt,U0(i[c?Tt:Xe],j,!c&&o));!c&&o&&mn&&i[Tt].componentProviders++}}}function Uv(t,n,i,o){const c=pd(n),h=function Vi(t){return!!t.useClass}(n);if(c||h){const M=(h?pt(n.useClass):n).prototype.ngOnDestroy;if(M){const j=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const ne=j.indexOf(i);-1===ne?j.push(i,[o,M]):j[ne+1].push(o,M)}else j.push(i,M)}}}function U0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Bv(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function pT(t,n,i,o){return $v(this.multi,[])}function gT(t,n,i,o){const c=this.multi;let h;if(this.providerFactory){const I=this.providerFactory.componentProviders,T=va(i,i[qt],this.providerFactory.index,o);h=T.slice(0,I),$v(c,h);for(let M=I;M<T.length;M++)h.push(T[M])}else h=[],$v(c,h);return h}function $v(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function B0(t,n=[]){return i=>{i.providersResolver=(o,c)=>function fT(t,n,i){const o=Or();if(o.firstCreatePass){const c=as(t);Lv(i,o.data,o.blueprint,c,!0),Lv(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class ng{}class $0{}function _T(t,n){return new jv(t,n??null,[])}class jv extends ng{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sf(this);const c=pr(n);this._bootstrapComponents=Cc(c.bootstrap),this._r3Injector=e_(n,i,[{provide:ng,useValue:this},{provide:Np,useValue:this.componentFactoryResolver},...o],Me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Hv extends $0{constructor(n){super(),this.moduleType=n}create(n){return new jv(this.moduleType,n,[])}}class j0 extends ng{constructor(n){super(),this.componentFactoryResolver=new Sf(this),this.instance=null;const i=new gd([...n.providers,{provide:ng,useValue:this},{provide:Np,useValue:this.componentFactoryResolver}],n.parent||Pp(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function H0(t,n,i=null){return new j0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let vT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=gu(0,i.type),c=o.length>0?H0([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:t,providedIn:"environment",factory:()=>new t(wt(Qu))})}return t})();function z0(t){t.getStandaloneInjector=n=>n.get(vT).getOrCreateStandaloneInjector(t)}function Y0(t,n,i){const o=ns()+t,c=Ot();return c[o]===u?Sc(c,o,i?n.call(i):n()):Kp(c,o)}function J0(t,n,i,o){return eI(Ot(),ns(),t,n,i,o)}function Z0(t,n,i,o,c,h,I,T,M){const j=ns()+t,ne=Ot(),ye=function Io(t,n,i,o,c,h){const I=Rd(t,n,i,o);return Rd(t,n+2,c,h)||I}(ne,j,i,o,c,h);return Rd(ne,j+4,I,T)||ye?Sc(ne,j+6,M?n.call(M,i,o,c,h,I,T):n(i,o,c,h,I,T)):Kp(ne,j+6)}function eI(t,n,i,o,c,h){const I=n+i;return Uo(t,I,c)?Sc(t,I+1,h?o.call(h,c):o(c)):function k_(t,n){const i=t[n];return i===u?void 0:i}(t,I+1)}function sI(t,n){const i=Or();let o;const c=t+yn;i.firstCreatePass?(o=function kT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[c]=o,o.onDestroy&&(i.destroyHooks??=[]).push(c,o.onDestroy)):o=i.data[c];const h=o.factory||(o.factory=Os(o.type)),T=ar(P);try{const M=Xo(!1),j=h();return Xo(M),function $y(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Ot(),c,j),j}finally{ar(T)}}function oI(t,n,i){const o=t+yn,c=Ot(),h=mo(c,o);return function F_(t,n){return t[qt].data[n].pure}(c,o)?eI(c,ns(),n,h.transform,i,h):h.transform(i)}function BT(){return this._results[Symbol.iterator]()}class Wv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new _u)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Wv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=BT)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function co(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function jl(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],h=n[o];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jT(t,n,i,o=!0){const c=n[qt];if(function B_(t,n,i,o){const c=ir+o,h=i.length;o>0&&(i[c-1][Ri]=n),o<h-ir?(n[Ri]=i[c],Hl(i,ir+o,n)):(i.push(n),n[Ri]=null),n[Jn]=i;const I=n[ve];null!==I&&i!==I&&function Jc(t,n){const i=t[Bi];n[G]!==n[Jn][Jn][G]&&(t[ci]=!0),null===i?t[Bi]=[n]:i.push(n)}(I,n);const T=n[He];null!==T&&T.insertView(t),n[Sn]|=128}(c,n,t,i),o){const h=od(i,t),I=n[Vn],T=du(I,t[ni]);null!==T&&function mg(t,n,i,o,c,h){o[hr]=c,o[Hr]=n,el(t,o,i,1,c,h)}(c,t[Hr],I,n,T,h)}}let V_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=WT}return t})();const HT=V_,zT=class extends HT{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function $T(t,n,i,o){const c=n.tView,T=ie(t,c,i,4096&t[Sn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);T[ve]=t[n.index];const j=t[He];return null!==j&&(T[He]=j.createEmbeddedView(c)),Ah(c,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new yl(c)}};function WT(){return Jy(bs(),Ot())}function Jy(t,n){return 4&t.type?new zT(n,t,Ch(t,n)):null}let ev=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YT}return t})();function YT(){return fI(bs(),Ot())}const JT=ev,dI=class extends JT{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nu(this._hostTNode,this._hostLView);if(eu(n)){const i=_o(n,this._hostLView),o=Fl(n);return new Fs(i[qt].data[o+8],i)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(n,i,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const T=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(T,c,false),T}createComponent(n,i,o,c,h){const I=n&&!function Ra(t){return"function"==typeof t}(n);let T;if(I)T=i;else{const zt=i||{};T=zt.index,o=zt.injector,c=zt.projectableNodes,h=zt.environmentInjector||zt.ngModuleRef}const M=I?n:new vl(Fn(n)),j=o||this.parentInjector;if(!h&&null==M.ngModule){const mn=(I?j:this.parentInjector).get(Qu,null);mn&&(h=mn)}Fn(M.componentType??{});const Xe=M.create(j,c,null,h);return this.insertImpl(Xe.hostView,T,false),Xe}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function rc(t){return gr(t[Jn])}(c)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const j=c[Jn],ne=new dI(j,j[Hr],j[Jn]);ne.detach(ne.indexOf(n))}}const I=this._adjustIndex(i),T=this._lContainer;return jT(T,c,I,!o),n.attachToViewContainerRef(),Hl(Gv(T),I,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=ef(this._lContainer,i);o&&(lc(Gv(this._lContainer),i),sh(o[qt],o))}detach(n){const i=this._adjustIndex(n,-1),o=ef(this._lContainer,i);return o&&null!=lc(Gv(this._lContainer),i)?new yl(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function hI(t){return t[8]}function Gv(t){return t[8]||(t[8]=[])}function fI(t,n){let i;const o=n[t.index];return gr(o)?i=o:(i=Lo(o,n,null,t),n[t.index]=i,Ju(n,i)),pI(i,n,t,o),new dI(i,t,n)}let pI=function gI(t,n,i,o){if(t[ni])return;let c;c=8&i.type?Fr(o):function ZT(t,n){const i=t[Vn],o=i.createComment(""),c=Ai(n,t);return lu(i,du(i,c),o,function nf(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[ni]=c};class Kv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<o;h++){const I=i.getByIndex(h);c.push(this.queries[I.indexInDeclarationView].clone())}return new qv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==bI(n,i).matches&&this.queries[i].setDirty()}}class mI{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class Qv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,c);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new Qv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Xv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Xv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(n,i,nw(i,h)),this.matchTNodeWithReadOption(n,i,$c(i,n,h,!1,!1))}else o===V_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,$c(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Tf||c===ev||c===V_&&4&i.type)this.addMatch(i.index,-2);else{const h=$c(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function nw(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function iw(t,n,i,o){return-1===i?function rw(t,n){return 11&t.type?Ch(t,n):4&t.type?Jy(t,n):null}(n,t):-2===i?function sw(t,n,i){return i===Tf?Ch(n,t):i===V_?Jy(n,t):i===ev?fI(n,t):void 0}(t,n,o):va(t,t[qt],i,n)}function _I(t,n,i,o){const c=n[He].queries[o];if(null===c.matches){const h=t.data,I=i.matches,T=[];for(let M=0;M<I.length;M+=2){const j=I[M];T.push(j<0?null:iw(n,h[j],I[M+1],i.metadata.read))}c.matches=T}return c.matches}function Yv(t,n,i,o){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const I=_I(t,n,c,i);for(let T=0;T<h.length;T+=2){const M=h[T];if(M>0)o.push(I[T/2]);else{const j=h[T+1],ne=n[-M];for(let ye=ir;ye<ne.length;ye++){const Be=ne[ye];Be[ve]===Be[Jn]&&Yv(Be[qt],Be,j,o)}if(null!==ne[Bi]){const ye=ne[Bi];for(let Be=0;Be<ye.length;Be++){const Xe=ye[Be];Yv(Xe[qt],Xe,j,o)}}}}}return o}function yI(t){const n=Ot(),i=Or(),o=qo();w(o+1);const c=bI(i,o);if(t.dirty&&function Mc(t){return 4==(4&t[Sn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?Yv(i,n,o,[]):_I(i,n,c,o);t.reset(h,Fp),t.notifyOnChanges()}return!0}return!1}function vI(t,n,i,o){const c=Or();if(c.firstCreatePass){const h=bs();(function CI(t,n,i){null===t.queries&&(t.queries=new Qv),t.queries.track(new Xv(n,i))})(c,new mI(n,i,o),h.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function II(t,n,i){const o=new Wv(4==(4&i));(function D(t,n,i,o){const c=Ad(n);c.push(i),t.firstCreatePass&&Tc(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[He]&&(n[He]=new qv),n[He].queries.push(new Kv(o))}(c,Ot(),i)}function EI(){return function aw(t,n){return t[He].queries[n].queryList}(Ot(),qo())}function bI(t,n){return t.queries.getByIndex(n)}function Jv(t){return!!pr(t)}const BI=new Qt("Application Initializer");let rE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Gt(BI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const h=c();if(fo(h))i.push(h);else if(Ei(h)){const I=new Promise((T,M)=>{h.subscribe({complete:T,error:M})});i.push(I)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$I=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const nv=new Qt("LocaleId",{providedIn:"root",factory:()=>Gt(nv,un.Optional|un.SkipSelf)||function Rw(){return typeof $localize<"u"&&$localize.locale||mm}()}),Mw=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let jI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Hv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),h=Cc(pr(i).declarations).reduce((I,T)=>{const M=Fn(T);return M&&I.push(new vl(M)),I},[]);return new xw(o,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GI=new Qt(""),KI=new Qt("");let oE,nA=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oE||(function rA(t){oE=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==h),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(wt(gs),wt(qI),wt(KI))};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac})}return t})(),qI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return oE?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Uf=null;const QI=new Qt("AllowMultipleToken"),aE=new Qt("PlatformDestroyListeners"),uE=new Qt("appBootstrapListener");class oA{constructor(n,i){this.name=n,this.token=i}}function JI(t,n,i=[]){const o=`Platform: ${n}`,c=new Qt(o);return(h=[])=>{let I=cE();if(!I||I.injector.get(QI,!1)){const T=[...i,...h,{provide:c,useValue:!0}];t?t(T):function aA(t){if(Uf&&!Uf.get(QI,!1))throw new Le(400,!1);(function XI(){!function Au(t){go=t}(()=>{throw new Le(600,!1)})})(),Uf=t;const n=t.get(eC);(function YI(t){t.get(vc,null)?.forEach(i=>i())})(t)}(function ZI(t=[],n){return mu.create({name:n,providers:[{provide:Bm,useValue:"platform"},{provide:aE,useValue:new Set([()=>Uf=null])},...t]})}(T,o))}return function cA(t){const n=cE();if(!n)throw new Le(401,!1);return n}()}}function cE(){return Uf?.get(eC)??null}let eC=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function lA(t="zone.js",n){return"noop"===t?new fv:"zone.js"===t?new gs(n):t}(o?.ngZone,function tC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const h=function yT(t,n,i){return new jv(t,n,i)}(i.moduleType,this.injector,function oC(t){return[{provide:gs,useFactory:t},{provide:ph,multi:!0,useFactory:()=>{const n=Gt(hA,{optional:!0});return()=>n.initialize()}},{provide:sC,useFactory:dA},{provide:ly,useFactory:dy}]}(()=>c)),I=h.injector.get(dl,null);return c.runOutsideAngular(()=>{const T=c.onError.subscribe({next:M=>{I.handleError(M)}});h.onDestroy(()=>{iv(this._modules,h),T.unsubscribe()})}),function nC(t,n,i){try{const o=i();return fo(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(I,c,()=>{const T=h.injector.get(rE);return T.runInitializers(),T.donePromise.then(()=>(function g0(t){lt(t,"Expected localeId to be defined"),"string"==typeof t&&(p0=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nv,mm)||mm),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,o=[]){const c=rC({},o);return function iA(t,n,i){const o=new Hv(i);return Promise.resolve(o)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const o=i.injector.get(vm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Le(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(aE,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(wt(mu))};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rC(t,n){return Array.isArray(n)?n.reduce(rC,t):{...t,...n}}let vm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gt(sC),this.zoneIsStable=Gt(ly),this.componentTypes=[],this.components=[],this.isStable=Gt(jI).hasPendingTasks.pipe((0,Ve.n)(i=>i?(0,Pe.of)(!1):this.zoneIsStable),(0,je.F)(),(0,Ue.u)()),this._injector=Gt(Qu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof ey;if(!this._injector.get(rE).done)throw!c&&Ni(i),new Le(405,!1);let I;I=c?i:this._injector.get(Np).resolveComponentFactory(i),this.componentTypes.push(I.componentType);const T=function sA(t){return t.isBoundToModule}(I)?void 0:this._injector.get(ng),j=I.create(mu.NULL,[],o||I.selector,T),ne=j.location.nativeElement,ye=j.injector.get(GI,null);return ye?.registerApplication(ne),j.onDestroy(()=>{this.detachView(j.hostView),iv(this.components,j),ye?.unregisterApplication(ne)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;iv(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(uE,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>iv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Le(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iv(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const sC=new Qt("",{providedIn:"root",factory:()=>Gt(dl).handleError.bind(void 0)});function dA(){const t=Gt(gs),n=Gt(dl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=Gt(gs),this.applicationRef=Gt(vm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=fn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Ki(t)&&!i){const o=pi(t.index,n);return new yl(o,o)}return 47&t.type?new yl(n[G],n):null}(bs(),Ot(),16==(16&t))}class dC{constructor(){}supports(n){return Gp(n)}create(n){return new CA(n)}}const IA=(t,n)=>n;class CA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||IA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,h=null;for(;i||o;){const I=!o||i&&i.currentIndex<fC(o,c,h)?i:o,T=fC(I,c,h),M=I.currentIndex;if(I===o)c--,o=o._nextRemoved;else if(i=i._next,null==I.previousIndex)c++;else{h||(h=[]);const j=T-c,ne=M-c;if(j!=ne){for(let Be=0;Be<j;Be++){const Xe=Be<h.length?h[Be]:h[Be]=0,Tt=Xe+Be;ne<=Tt&&Tt<j&&(h[Be]=Xe+1)}h[I.previousIndex]=ne-j}}T!==M&&n(I,T,M)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Gp(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,I,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)h=n[T],I=this._trackByFn(T,h),null!==i&&Object.is(i.trackById,I)?(o&&(i=this._verifyReinsertion(i,h,I,T)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,I,T),o=!0),i=i._next}else c=0,function v_(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,T=>{I=this._trackByFn(c,T),null!==i&&Object.is(i.trackById,I)?(o&&(i=this._verifyReinsertion(i,T,I,c)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,I,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new bA(i,o),h,c),n}_verifyReinsertion(n,i,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new hC),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class bA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class hC{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new TA,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class pC{constructor(){}supports(n){return n instanceof Map||nm(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||nm(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,I=c._next;return h&&(h._next=I),I&&(I._prev=h),c._next=null,c._prev=null,c}const o=new AA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gC(){return new pE([new dC])}let pE=(()=>{class t{static#e=this.\u0275prov=fn({token:t,providedIn:"root",factory:gC});constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||gC()),deps:[[t,new Oa,new Bu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new Le(901,!1)}}return t})();function mC(){return new gE([new pC])}let gE=(()=>{class t{static#e=this.\u0275prov=fn({token:t,providedIn:"root",factory:mC});constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||mC()),deps:[[t,new Oa,new Bu]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new Le(901,!1)}}return t})();const PA=JI(null,"core",[]);let RA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(wt(vm))};static#t=this.\u0275mod=wi({type:t});static#n=this.\u0275inj=Nt({})}return t})();function $A(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Fn(t);if(!n)return null;const i=new vl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(en,Qe,B)=>{B.d(Qe,{DS:()=>Pt,X8:()=>Ft,$z:()=>$t,UB:()=>Wn,yy:()=>Dt,ZP:()=>Ce,AU:()=>Yt,CP:()=>ft,gF:()=>vt}),B(2438);var de=B(177),m=B(7705),De=B(5407),Ee=B(9253),Pe=B(1413),Ue=B(7673),Ve=B(1985),je=B(8455),ce=B(7786),he=B(941),Me=B(5558),ct=B(6354),Ke=B(6129);class It extends Pe.B{constructor(pe=1/0,ue=1/0,me=Ke.U){super(),this._bufferSize=pe,this._windowTime=ue,this._timestampProvider=me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,pe),this._windowTime=Math.max(1,ue)}next(pe){const{isStopped:ue,_buffer:me,_infiniteTimeWindow:Se,_timestampProvider:ge,_windowTime:we}=this;ue||(me.push(pe),!Se&&me.push(ge.now()+we)),this._trimBuffer(),super.next(pe)}_subscribe(pe){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(pe),{_infiniteTimeWindow:me,_buffer:Se}=this,ge=Se.slice();for(let we=0;we<ge.length&&!pe.closed;we+=me?1:2)pe.next(ge[we]);return this._checkFinalizedStatuses(pe),ue}_trimBuffer(){const{_bufferSize:pe,_timestampProvider:ue,_buffer:me,_infiniteTimeWindow:Se}=this,ge=(Se?1:2)*pe;if(pe<1/0&&ge<me.length&&me.splice(0,me.length-ge),!Se){const we=ue.now();let Fe=0;for(let lt=1;lt<me.length&&me[lt]<=we;lt+=2)Fe=lt;Fe&&me.splice(0,Fe+1)}}}var pt=B(7647);function kt(Je,pe,ue){let me,Se=!1;return Je&&"object"==typeof Je?({bufferSize:me=1/0,windowTime:pe=1/0,refCount:Se=!1,scheduler:ue}=Je):me=Je??1/0,(0,pt.u)({connector:()=>new It(me,pe,ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Se})}var Ct=B(1594),on=B(8071);function We(Je,pe){return(0,on.T)(pe)?(0,Me.n)(()=>Je,pe):(0,Me.n)(()=>Je)}var Le=B(6745),Ye=B(5964),ze=B(7935);const ft=new m.nKC("angularfire2.auth.use-emulator"),Dt=new m.nKC("angularfire2.auth.settings"),Ce=new m.nKC("angularfire2.auth.tenant-id"),$t=new m.nKC("angularfire2.auth.langugage-code"),Yt=new m.nKC("angularfire2.auth.use-device-language"),Wn=new m.nKC("angularfire.auth.persistence"),vt=(Je,pe,ue,me,Se,ge,we,Fe)=>(0,Ee.BM)(`${Je.name}.auth`,"AngularFireAuth",Je.name,()=>{const lt=pe.runOutsideAngular(()=>Je.auth());if(ue&&lt.useEmulator(...ue),me&&(lt.tenantId=me),lt.languageCode=Se,ge&&lt.useDeviceLanguage(),we)for(const[mt,tn]of Object.entries(we))lt.settings[mt]=tn;return Fe&&lt.setPersistence(Fe),lt},[ue,me,Se,ge,we,Fe]);let Pt=(()=>{class Je{authState;idToken;user;idTokenResult;credential;constructor(ue,me,Se,ge,we,Fe,lt,mt,tn,Kt,Pn,fn){const or=new Pe.B,Nt=(0,Ue.of)(void 0).pipe((0,he.Q)(we.outsideAngular),(0,Me.n)(()=>ge.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,2438)))),(0,ct.T)(()=>(0,Ee.iB)(ue,ge,me)),(0,ct.T)(gn=>vt(gn,ge,Fe,mt,tn,Kt,lt,Pn)),kt({bufferSize:1,refCount:!1}));if((0,de.Vy)(Se))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{Nt.pipe((0,Ct.$)()).subscribe();const gn=Nt.pipe((0,Me.n)(St=>St.getRedirectResult().then(Ur=>Ur,()=>null)),De.U0,kt({bufferSize:1,refCount:!1})),On=Nt.pipe((0,Me.n)(St=>new Ve.c(Ur=>({unsubscribe:ge.runOutsideAngular(()=>St.onAuthStateChanged(nn=>Ur.next(nn),nn=>Ur.error(nn),()=>Ur.complete()))})))),Vt=Nt.pipe((0,Me.n)(St=>new Ve.c(Ur=>({unsubscribe:ge.runOutsideAngular(()=>St.onIdTokenChanged(nn=>Ur.next(nn),nn=>Ur.error(nn),()=>Ur.complete()))}))));this.authState=gn.pipe(We(On),(0,Le._)(we.outsideAngular),(0,he.Q)(we.insideAngular)),this.user=gn.pipe(We(Vt),(0,Le._)(we.outsideAngular),(0,he.Q)(we.insideAngular)),this.idToken=this.user.pipe((0,Me.n)(St=>St?(0,je.H)(St.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe((0,Me.n)(St=>St?(0,je.H)(St.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,ce.h)(gn,or,this.authState.pipe((0,Ye.p)(St=>!St))).pipe((0,ct.T)(St=>St?.user?St:null),(0,Le._)(we.outsideAngular),(0,he.Q)(we.insideAngular))}return(0,Ee.Gt)(this,Nt,ge,{spy:{apply:(gn,On,Vt)=>{(gn.startsWith("signIn")||gn.startsWith("createUser"))&&Vt.then(St=>or.next(St))}}})}static \u0275fac=function(me){return new(me||Je)(m.KVO(Ee.rx),m.KVO(Ee.uP,8),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(De.u0),m.KVO(ft,8),m.KVO(Dt,8),m.KVO(Ce,8),m.KVO($t,8),m.KVO(Yt,8),m.KVO(Wn,8),m.KVO(De.Jv,8))};static \u0275prov=m.jDH({token:Je,factory:Je.\u0275fac,providedIn:"any"})}return Je})(),Ft=(()=>{class Je{constructor(){ze.A.registerVersion("angularfire",De.xv.full,"auth-compat")}static \u0275fac=function(me){return new(me||Je)};static \u0275mod=m.$C({type:Je});static \u0275inj=m.G2t({providers:[Pt]})}return Je})()},6340:(en,Qe,B)=>{B.d(Qe,{Qe:()=>mi,cM:()=>$e});var l=B(177),de=B(7705),m=B(5407),De=B(9253),Ee=B(1977),Pe=B(3236),Ue=B(1985),Ve=B(8455),je=B(7673),ce=B(9172),he=B(9974),Me=B(4360);function ct(){return(0,he.N)((at,oe)=>{let Te,it=!1;at.subscribe((0,Me._)(oe,Lt=>{const Tn=Te;Te=Lt,it&&oe.next([Tn,Lt]),it=!0}))})}var Ke=B(6354),It=B(2816),pt=B(3294),kt=B(5964),on=(B(2438),B(3345)),We=B(9583),Le=B(1076),Ye=B(1362);function ft(at,oe){if(void 0===oe)return{merge:!1};if(void 0!==oe.mergeFields&&void 0!==oe.merge)throw new We.W6("invalid-argument",`Invalid options passed to function ${at}(): You cannot specify both "merge" and "mergeFields".`);return oe}function Dt(){if(typeof Uint8Array>"u")throw new We.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ce(){if(!(0,We.qG)())throw new We.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $t{constructor(oe){this._delegate=oe}static fromBase64String(oe){return Ce(),new $t(We.Ix.fromBase64String(oe))}static fromUint8Array(oe){return Dt(),new $t(We.Ix.fromUint8Array(oe))}toBase64(){return Ce(),this._delegate.toBase64()}toUint8Array(){return Dt(),this._delegate.toUint8Array()}isEqual(oe){return this._delegate.isEqual(oe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Yt(at){return function Wn(at,oe){if("object"!=typeof at||null===at)return!1;const Te=at;for(const it of oe)if(it in Te&&"function"==typeof Te[it])return!0;return!1}(at,["next","error","complete"])}class vt{enableIndexedDbPersistence(oe,Te){return(0,We.ol)(oe._delegate,{forceOwnership:Te})}enableMultiTabIndexedDbPersistence(oe){return(0,We.Q5)(oe._delegate)}clearIndexedDbPersistence(oe){return(0,We.me)(oe._delegate)}}class Pt{constructor(oe,Te,it){this._delegate=Te,this._persistenceProvider=it,this.INTERNAL={delete:()=>this.terminate()},oe instanceof We.cm||(this._appCompat=oe)}get _databaseId(){return this._delegate._databaseId}settings(oe){const Te=this._delegate._getSettings();!oe.merge&&Te.host!==oe.host&&(0,We.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),oe.merge&&delete(oe=Object.assign(Object.assign({},Te),oe)).merge,this._delegate._setSettings(oe)}useEmulator(oe,Te,it={}){(0,We.vN)(this._delegate,oe,Te,it)}enableNetwork(){return(0,We.Os)(this._delegate)}disableNetwork(){return(0,We.LA)(this._delegate)}enablePersistence(oe){let Te=!1,it=!1;return oe&&(Te=!!oe.synchronizeTabs,it=!!oe.experimentalForceOwningTab,(0,We.c8)("synchronizeTabs",Te,"experimentalForceOwningTab",it)),Te?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,it)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,We.iB)(this._delegate)}onSnapshotsInSync(oe){return(0,We.FC)(this._delegate,oe)}get app(){if(!this._appCompat)throw new We.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(oe){try{return new fn(this,(0,We.rJ)(this._delegate,oe))}catch(Te){throw ge(Te,"collection()","Firestore.collection()")}}doc(oe){try{return new Se(this,(0,We.H9)(this._delegate,oe))}catch(Te){throw ge(Te,"doc()","Firestore.doc()")}}collectionGroup(oe){try{return new tn(this,(0,We.Cs)(this._delegate,oe))}catch(Te){throw ge(Te,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(oe){return(0,We.c4)(this._delegate,Te=>oe(new pe(this,Te)))}batch(){return(0,We.Ws)(this._delegate),new ue(new We.GA(this._delegate,oe=>(0,We.z6)(this._delegate,oe)))}loadBundle(oe){return(0,We.po)(this._delegate,oe)}namedQuery(oe){return(0,We.St)(this._delegate,oe).then(Te=>Te?new tn(this,Te):null)}}class Ft extends We.fS{constructor(oe){super(),this.firestore=oe}convertBytes(oe){return new $t(new We.Ix(oe))}convertReference(oe){const Te=this.convertDocumentKey(oe,this.firestore._databaseId);return Se.forKey(Te,this.firestore,null)}}class pe{constructor(oe,Te){this._firestore=oe,this._delegate=Te,this._userDataWriter=new Ft(oe)}get(oe){const Te=or(oe);return this._delegate.get(Te).then(it=>new lt(this._firestore,new We.Wq(this._firestore._delegate,this._userDataWriter,it._key,it._document,it.metadata,Te.converter)))}set(oe,Te,it){const Lt=or(oe);return it?(ft("Transaction.set",it),this._delegate.set(Lt,Te,it)):this._delegate.set(Lt,Te),this}update(oe,Te,it,...Lt){const Tn=or(oe);return 2===arguments.length?this._delegate.update(Tn,Te):this._delegate.update(Tn,Te,it,...Lt),this}delete(oe){const Te=or(oe);return this._delegate.delete(Te),this}}class ue{constructor(oe){this._delegate=oe}set(oe,Te,it){const Lt=or(oe);return it?(ft("WriteBatch.set",it),this._delegate.set(Lt,Te,it)):this._delegate.set(Lt,Te),this}update(oe,Te,it,...Lt){const Tn=or(oe);return 2===arguments.length?this._delegate.update(Tn,Te):this._delegate.update(Tn,Te,it,...Lt),this}delete(oe){const Te=or(oe);return this._delegate.delete(Te),this}commit(){return this._delegate.commit()}}class me{constructor(oe,Te,it){this._firestore=oe,this._userDataWriter=Te,this._delegate=it}fromFirestore(oe,Te){const it=new We.YQ(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,null);return this._delegate.fromFirestore(new mt(this._firestore,it),Te??{})}toFirestore(oe,Te){return Te?this._delegate.toFirestore(oe,Te):this._delegate.toFirestore(oe)}static getInstance(oe,Te){const it=me.INSTANCES;let Lt=it.get(oe);Lt||(Lt=new WeakMap,it.set(oe,Lt));let Tn=Lt.get(Te);return Tn||(Tn=new me(oe,new Ft(oe),Te),Lt.set(Te,Tn)),Tn}}me.INSTANCES=new WeakMap;class Se{constructor(oe,Te){this.firestore=oe,this._delegate=Te,this._userDataWriter=new Ft(oe)}static forPath(oe,Te,it){if(oe.length%2!=0)throw new We.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${oe.canonicalString()} has ${oe.length}`);return new Se(Te,new We.T1(Te._delegate,it,new We.K$(oe)))}static forKey(oe,Te,it){return new Se(Te,new We.T1(Te._delegate,it,oe))}get id(){return this._delegate.id}get parent(){return new fn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(oe){try{return new fn(this.firestore,(0,We.rJ)(this._delegate,oe))}catch(Te){throw ge(Te,"collection()","DocumentReference.collection()")}}isEqual(oe){return(oe=(0,Le.Ku)(oe))instanceof We.T1&&(0,We.yx)(this._delegate,oe)}set(oe,Te){Te=ft("DocumentReference.set",Te);try{return Te?(0,We.BN)(this._delegate,oe,Te):(0,We.BN)(this._delegate,oe)}catch(it){throw ge(it,"setDoc()","DocumentReference.set()")}}update(oe,Te,...it){try{return 1===arguments.length?(0,We.mZ)(this._delegate,oe):(0,We.mZ)(this._delegate,oe,Te,...it)}catch(Lt){throw ge(Lt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,We.kd)(this._delegate)}onSnapshot(...oe){const Te=we(oe),it=Fe(oe,Lt=>new lt(this.firestore,new We.Wq(this.firestore._delegate,this._userDataWriter,Lt._key,Lt._document,Lt.metadata,this._delegate.converter)));return(0,We.aQ)(this._delegate,Te,it)}get(oe){let Te;return Te="cache"===oe?.source?(0,We.nY)(this._delegate):"server"===oe?.source?(0,We._e)(this._delegate):(0,We.x7)(this._delegate),Te.then(it=>new lt(this.firestore,new We.Wq(this.firestore._delegate,this._userDataWriter,it._key,it._document,it.metadata,this._delegate.converter)))}withConverter(oe){return new Se(this.firestore,this._delegate.withConverter(oe?me.getInstance(this.firestore,oe):null))}}function ge(at,oe,Te){return at.message=at.message.replace(oe,Te),at}function we(at){for(const oe of at)if("object"==typeof oe&&!Yt(oe))return oe;return{}}function Fe(at,oe){var Te,it;let Lt;return Lt=Yt(at[0])?at[0]:Yt(at[1])?at[1]:"function"==typeof at[0]?{next:at[0],error:at[1],complete:at[2]}:{next:at[1],error:at[2],complete:at[3]},{next:Tn=>{Lt.next&&Lt.next(oe(Tn))},error:null===(Te=Lt.error)||void 0===Te?void 0:Te.bind(Lt),complete:null===(it=Lt.complete)||void 0===it?void 0:it.bind(Lt)}}class lt{constructor(oe,Te){this._firestore=oe,this._delegate=Te}get ref(){return new Se(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(oe){return this._delegate.data(oe)}get(oe,Te){return this._delegate.get(oe,Te)}isEqual(oe){return(0,We.lN)(this._delegate,oe._delegate)}}class mt extends lt{data(oe){const Te=this._delegate.data(oe);return this._delegate._converter||(0,We.bI)(void 0!==Te,"Document in a QueryDocumentSnapshot should exist"),Te}}class tn{constructor(oe,Te){this.firestore=oe,this._delegate=Te,this._userDataWriter=new Ft(oe)}where(oe,Te,it){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We._M)(oe,Te,it)))}catch(Lt){throw ge(Lt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(oe,Te){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.My)(oe,Te)))}catch(it){throw ge(it,/(orderBy|where)\(\)/,"Query.$1()")}}limit(oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.AB)(oe)))}catch(Te){throw ge(Te,"limit()","Query.limit()")}}limitToLast(oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.$1)(oe)))}catch(Te){throw ge(Te,"limitToLast()","Query.limitToLast()")}}startAt(...oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.EO)(...oe)))}catch(Te){throw ge(Te,"startAt()","Query.startAt()")}}startAfter(...oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.HM)(...oe)))}catch(Te){throw ge(Te,"startAfter()","Query.startAfter()")}}endBefore(...oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.rf)(...oe)))}catch(Te){throw ge(Te,"endBefore()","Query.endBefore()")}}endAt(...oe){try{return new tn(this.firestore,(0,We.P)(this._delegate,(0,We.FD)(...oe)))}catch(Te){throw ge(Te,"endAt()","Query.endAt()")}}isEqual(oe){return(0,We.B)(this._delegate,oe._delegate)}get(oe){let Te;return Te="cache"===oe?.source?(0,We.kU)(this._delegate):"server"===oe?.source?(0,We.Rr)(this._delegate):(0,We.GG)(this._delegate),Te.then(it=>new Pn(this.firestore,new We.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,it._snapshot)))}onSnapshot(...oe){const Te=we(oe),it=Fe(oe,Lt=>new Pn(this.firestore,new We.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Lt._snapshot)));return(0,We.aQ)(this._delegate,Te,it)}withConverter(oe){return new tn(this.firestore,this._delegate.withConverter(oe?me.getInstance(this.firestore,oe):null))}}class Kt{constructor(oe,Te){this._firestore=oe,this._delegate=Te}get type(){return this._delegate.type}get doc(){return new mt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pn{constructor(oe,Te){this._firestore=oe,this._delegate=Te}get query(){return new tn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(oe=>new mt(this._firestore,oe))}docChanges(oe){return this._delegate.docChanges(oe).map(Te=>new Kt(this._firestore,Te))}forEach(oe,Te){this._delegate.forEach(it=>{oe.call(Te,new mt(this._firestore,it))})}isEqual(oe){return(0,We.lN)(this._delegate,oe._delegate)}}class fn extends tn{constructor(oe,Te){super(oe,Te),this.firestore=oe,this._delegate=Te}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const oe=this._delegate.parent;return oe?new Se(this.firestore,oe):null}doc(oe){try{return new Se(this.firestore,void 0===oe?(0,We.H9)(this._delegate):(0,We.H9)(this._delegate,oe))}catch(Te){throw ge(Te,"doc()","CollectionReference.doc()")}}add(oe){return(0,We.gS)(this._delegate,oe).then(Te=>new Se(this.firestore,Te))}isEqual(oe){return(0,We.yx)(this._delegate,oe._delegate)}withConverter(oe){return new fn(this.firestore,this._delegate.withConverter(oe?me.getInstance(this.firestore,oe):null))}}function or(at){return(0,We.lo)(at,We.T1)}class Nt{constructor(...oe){this._delegate=new We.uY(...oe)}static documentId(){return new Nt(We.FA.keyField().canonicalString())}isEqual(oe){return(oe=(0,Le.Ku)(oe))instanceof We.uY&&this._delegate._internalPath.isEqual(oe._internalPath)}}class gn{constructor(oe){this._delegate=oe}static serverTimestamp(){const oe=(0,We.O5)();return oe._methodName="FieldValue.serverTimestamp",new gn(oe)}static delete(){const oe=(0,We.CL)();return oe._methodName="FieldValue.delete",new gn(oe)}static arrayUnion(...oe){const Te=(0,We.hq)(...oe);return Te._methodName="FieldValue.arrayUnion",new gn(Te)}static arrayRemove(...oe){const Te=(0,We.C3)(...oe);return Te._methodName="FieldValue.arrayRemove",new gn(Te)}static increment(oe){const Te=(0,We.GV)(oe);return Te._methodName="FieldValue.increment",new gn(Te)}isEqual(oe){return this._delegate.isEqual(oe._delegate)}}const On={Firestore:Pt,GeoPoint:We.Ci,Timestamp:We.Dc,Blob:$t,Transaction:pe,WriteBatch:ue,DocumentReference:Se,DocumentSnapshot:lt,Query:tn,QueryDocumentSnapshot:mt,QuerySnapshot:Pn,CollectionReference:fn,FieldPath:Nt,FieldValue:gn,setLogLevel:function Je(at){(0,We.He)(at)},CACHE_SIZE_UNLIMITED:We.H6};!function St(at){(function Vt(at,oe){at.INTERNAL.registerComponent(new Ye.uA("firestore-compat",Te=>{const it=Te.getProvider("app-compat").getImmediate(),Lt=Te.getProvider("firestore").getImmediate();return oe(it,Lt)},"PUBLIC").setServiceProps(Object.assign({},On)))})(at,(oe,Te)=>new Pt(oe,Te,new vt)),at.registerVersion("@firebase/firestore-compat","0.3.32")}(on.A);var Ur=B(7935);function fr(at,oe){return function nn(at,oe=Pe.E){return new Ue.c(Te=>{let it;return null!=oe?oe.schedule(()=>{it=at.onSnapshot({includeMetadataChanges:!0},Te)}):it=at.onSnapshot({includeMetadataChanges:!0},Te),()=>{it?.()}})}(at,oe)}function Rt(at,oe){return fr(at,oe).pipe((0,Ke.T)(Te=>({payload:Te,type:"query"})))}class un{ref;afs;constructor(oe,Te){this.ref=oe,this.afs=Te}set(oe,Te){return this.ref.set(oe,Te)}update(oe){return this.ref.update(oe)}delete(){return this.ref.delete()}collection(oe,Te){const it=this.ref.collection(oe),{ref:Lt,query:Tn}=Dn(it,Te);return new Yr(Lt,Tn,this.afs)}snapshotChanges(){return function $n(at,oe){return fr(at,oe).pipe((0,ce.Z)(void 0),ct(),(0,Ke.T)(Te=>{const[it,Lt]=Te;return Lt.exists?it?.exists?{payload:Lt,type:"modified"}:{payload:Lt,type:"added"}:{payload:Lt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(m.U0)}valueChanges(oe={}){return this.snapshotChanges().pipe((0,Ke.T)(({payload:Te})=>oe.idField?{...Te.data(),[oe.idField]:Te.id}:Te.data()))}get(oe){return(0,Ve.H)(this.ref.get(oe)).pipe(m.U0)}}function Cn(at,oe){return Rt(at,oe).pipe((0,ce.Z)(void 0),ct(),(0,Ke.T)(Te=>{const[it,Lt]=Te,Tn=Lt.payload.docChanges(),Dr=Tn.map(nr=>({type:nr.type,payload:nr}));return it&&JSON.stringify(it.payload.metadata)!==JSON.stringify(Lt.payload.metadata)&&Lt.payload.docs.forEach((nr,Re)=>{const te=Tn.find(V=>V.doc.ref.isEqual(nr.ref)),H=it?.payload.docs.find(V=>V.ref.isEqual(nr.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(nr.metadata)||!te&&H&&JSON.stringify(H.metadata)===JSON.stringify(nr.metadata)||Dr.push({type:"modified",payload:{oldIndex:Re,newIndex:Re,type:"modified",doc:nr}})}),Dr}))}function pn(at,oe,Te){return Cn(at,Te).pipe((0,It.S)((it,Lt)=>function ar(at,oe,Te){return oe.forEach(it=>{Te.indexOf(it.type)>-1&&(at=function Xr(at,oe){switch(oe.type){case"added":if(!at[oe.newIndex]||!at[oe.newIndex].doc.ref.isEqual(oe.doc.ref))return vr(at,oe.newIndex,0,oe);break;case"modified":if(null==at[oe.oldIndex]||at[oe.oldIndex].doc.ref.isEqual(oe.doc.ref)){if(oe.oldIndex!==oe.newIndex){const Te=at.slice();return Te.splice(oe.oldIndex,1),Te.splice(oe.newIndex,0,oe),Te}return vr(at,oe.newIndex,1,oe)}break;case"removed":if(at[oe.oldIndex]&&at[oe.oldIndex].doc.ref.isEqual(oe.doc.ref))return vr(at,oe.oldIndex,1)}return at}(at,it))}),at}(it,Lt.map(Tn=>Tn.payload),oe),[]),(0,pt.F)(),(0,Ke.T)(it=>it.map(Lt=>({type:Lt.type,payload:Lt}))))}function vr(at,oe,Te,...it){const Lt=at.slice();return Lt.splice(oe,Te,...it),Lt}function xn(at){return(!at||0===at.length)&&(at=["added","removed","modified"]),at}class Yr{ref;query;afs;constructor(oe,Te,it){this.ref=oe,this.query=Te,this.afs=it}stateChanges(oe){let Te=Cn(this.query,this.afs.schedulers.outsideAngular);return oe&&oe.length>0&&(Te=Te.pipe((0,Ke.T)(it=>it.filter(Lt=>oe.indexOf(Lt.type)>-1)))),Te.pipe((0,ce.Z)(void 0),ct(),(0,kt.p)(([it,Lt])=>Lt.length>0||!it),(0,Ke.T)(([,it])=>it),m.U0)}auditTrail(oe){return this.stateChanges(oe).pipe((0,It.S)((Te,it)=>[...Te,...it],[]))}snapshotChanges(oe){const Te=xn(oe);return pn(this.query,Te,this.afs.schedulers.outsideAngular).pipe(m.U0)}valueChanges(oe={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(Te=>Te.payload.docs.map(it=>oe.idField?{...it.data(),[oe.idField]:it.id}:it.data())),m.U0)}get(oe){return(0,Ve.H)(this.query.get(oe)).pipe(m.U0)}add(oe){return this.ref.add(oe)}doc(oe){return new un(this.ref.doc(oe),this.afs)}}class Yi{query;afs;constructor(oe,Te){this.query=oe,this.afs=Te}stateChanges(oe){return oe&&0!==oe.length?Cn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(Te=>Te.filter(it=>oe.indexOf(it.type)>-1)),(0,kt.p)(Te=>Te.length>0),m.U0):Cn(this.query,this.afs.schedulers.outsideAngular).pipe(m.U0)}auditTrail(oe){return this.stateChanges(oe).pipe((0,It.S)((Te,it)=>[...Te,...it],[]))}snapshotChanges(oe){const Te=xn(oe);return pn(this.query,Te,this.afs.schedulers.outsideAngular).pipe(m.U0)}valueChanges(oe={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(it=>it.payload.docs.map(Lt=>oe.idField?{[oe.idField]:Lt.id,...Lt.data()}:Lt.data())),m.U0)}get(oe){return(0,Ve.H)(this.query.get(oe)).pipe(m.U0)}}const Qt=new de.nKC("angularfire2.enableFirestorePersistence"),Jr=new de.nKC("angularfire2.firestore.persistenceSettings"),Hn=new de.nKC("angularfire2.firestore.settings"),cr=new de.nKC("angularfire2.firestore.use-emulator");function Dn(at,oe=(Te=>Te)){return{query:oe(at),ref:at}}let mi=(()=>{class at{schedulers;firestore;persistenceEnabled$;constructor(Te,it,Lt,Tn,Dr,nr,Re,te,H,V,F,le,Ne,ht,wt,rn,Gt){this.schedulers=Re;const Xt=(0,De.iB)(Te,nr,it),Xn=H;V&&(0,Ee.gF)(Xt,nr,F,Ne,ht,wt,le,rn),[this.firestore,this.persistenceEnabled$]=(0,De.BM)(`${Xt.name}.firestore`,"AngularFirestore",Xt.name,()=>{const _n=nr.runOutsideAngular(()=>Xt.firestore());if(Tn&&_n.settings(Tn),Xn&&_n.useEmulator(...Xn),Lt&&!(0,l.Vy)(Dr)){const si=()=>{try{return(0,Ve.H)(_n.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(xr){return typeof console<"u"&&console.warn(xr),(0,je.of)(!1)}};return[_n,nr.runOutsideAngular(si)]}return[_n,(0,je.of)(!1)]},[Tn,Xn,Lt])}collection(Te,it){let Lt;Lt="string"==typeof Te?this.firestore.collection(Te):Te;const{ref:Tn,query:Dr}=Dn(Lt,it),nr=this.schedulers.ngZone.run(()=>Tn);return new Yr(nr,Dr,this)}collectionGroup(Te,it){const Lt=it||(Dr=>Dr),Tn=this.firestore.collectionGroup(Te);return new Yi(Lt(Tn),this)}doc(Te){let it;it="string"==typeof Te?this.firestore.doc(Te):Te;const Lt=this.schedulers.ngZone.run(()=>it);return new un(Lt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(it){return new(it||at)(de.KVO(De.rx),de.KVO(De.uP,8),de.KVO(Qt,8),de.KVO(Hn,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(m.u0),de.KVO(Jr,8),de.KVO(cr,8),de.KVO(Ee.DS,8),de.KVO(Ee.CP,8),de.KVO(Ee.yy,8),de.KVO(Ee.ZP,8),de.KVO(Ee.$z,8),de.KVO(Ee.AU,8),de.KVO(Ee.UB,8),de.KVO(m.Jv,8))};static \u0275prov=de.jDH({token:at,factory:at.\u0275fac,providedIn:"any"})}return at})(),$e=(()=>{class at{constructor(){Ur.A.registerVersion("angularfire",m.xv.full,"fst-compat")}static enablePersistence(Te){return{ngModule:at,providers:[{provide:Qt,useValue:!0},{provide:Jr,useValue:Te}]}}static \u0275fac=function(it){return new(it||at)};static \u0275mod=de.$C({type:at});static \u0275inj=de.G2t({providers:[mi]})}return at})()},8721:(en,Qe,B)=>{B.d(Qe,{ap:()=>pe,y5:()=>Se});var l=B(5407),de=B(1985),m=B(7673),De=B(8455),Ee=B(3236),Pe=B(9974),Ue=B(4360),je=B(6354),ce=B(5558),he=B(7705),Me=B(9253),ct=B(3345),Ke=B(4535),It=B(1362);class pt{constructor(we,Fe,lt){this._delegate=we,this.task=Fe,this.ref=lt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class kt{constructor(we,Fe){this._delegate=we,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pt(this._delegate.snapshot,this,this._ref)}then(we,Fe){return this._delegate.then(lt=>{if(we)return we(new pt(lt,this,this._ref))},Fe)}on(we,Fe,lt,mt){let tn;return Fe&&(tn="function"==typeof Fe?Kt=>Fe(new pt(Kt,this,this._ref)):{next:Fe.next?Kt=>Fe.next(new pt(Kt,this,this._ref)):void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(we,tn,lt||void 0,mt||void 0)}}class Ct{constructor(we,Fe){this._delegate=we,this._service=Fe}get prefixes(){return this._delegate.prefixes.map(we=>new on(we,this._service))}get items(){return this._delegate.items.map(we=>new on(we,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class on{constructor(we,Fe){this._delegate=we,this.storage=Fe}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(we){const Fe=(0,Ke.Mp)(this._delegate,we);return new on(Fe,this.storage)}get root(){return new on(this._delegate.root,this.storage)}get parent(){const we=this._delegate.parent;return null==we?null:new on(we,this.storage)}put(we,Fe){return this._throwIfRoot("put"),new kt((0,Ke.bp)(this._delegate,we,Fe),this)}putString(we,Fe=Ke.nw.RAW,lt){this._throwIfRoot("putString");const mt=(0,Ke.ZH)(Fe,we),tn=Object.assign({},lt);return null==tn.contentType&&null!=mt.contentType&&(tn.contentType=mt.contentType),new kt(new Ke.UC(this._delegate,new Ke.Mx(mt.data,!0),tn),this)}listAll(){return(0,Ke._w)(this._delegate).then(we=>new Ct(we,this.storage))}list(we){return(0,Ke.p_)(this._delegate,we||void 0).then(Fe=>new Ct(Fe,this.storage))}getMetadata(){return(0,Ke.yb)(this._delegate)}updateMetadata(we){return(0,Ke.D5)(this._delegate,we)}getDownloadURL(){return(0,Ke.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ke.XR)(this._delegate)}_throwIfRoot(we){if(""===this._delegate._location.path)throw(0,Ke.UY)(we)}}class We{constructor(we,Fe){this.app=we,this._delegate=Fe}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(we){if(Le(we))throw(0,Ke.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new on((0,Ke.KR)(this._delegate,we),this)}refFromURL(we){if(!Le(we))throw(0,Ke.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ke.TZ.makeFromUrl(we,this._delegate.host)}catch{throw(0,Ke.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new on((0,Ke.KR)(this._delegate,we),this)}setMaxUploadRetryTime(we){this._delegate.maxUploadRetryTime=we}setMaxOperationRetryTime(we){this._delegate.maxOperationRetryTime=we}useEmulator(we,Fe,lt={}){(0,Ke.nb)(this._delegate,we,Fe,lt)}}function Le(ge){return/^[A-Za-z]+:\/\//.test(ge)}function ft(ge,{instanceIdentifier:we}){const Fe=ge.getProvider("app-compat").getImmediate(),lt=ge.getProvider("storage").getImmediate({identifier:we});return new We(Fe,lt)}!function Dt(ge){const we={TaskState:Ke.Ad,TaskEvent:Ke.xc,StringFormat:Ke.nw,Storage:We,Reference:on};ge.INTERNAL.registerComponent(new It.uA("storage-compat",ft,"PUBLIC").setServiceProps(we).setMultipleInstances(!0)),ge.registerVersion("@firebase/storage-compat","0.3.8")}(ct.A);var Ce=B(7935);function Yt(ge){const we=function $t(ge){return new de.c(we=>{const Fe=Kt=>we.next(Kt);Fe(ge.snapshot);const tn=ge.on("state_changed",Fe);return ge.then(Kt=>{Fe(Kt),we.complete()},Kt=>{Fe(ge.snapshot),(Kt=>{we.error(Kt)})(Kt)}),function(){tn()}}).pipe(function Ve(ge,we=Ee.E){return(0,Pe.N)((Fe,lt)=>{let mt=null,tn=null,Kt=null;const Pn=()=>{if(mt){mt.unsubscribe(),mt=null;const or=tn;tn=null,lt.next(or)}};function fn(){const or=Kt+ge,Nt=we.now();if(Nt<or)return mt=this.schedule(void 0,or-Nt),void lt.add(mt);Pn()}Fe.subscribe((0,Ue._)(lt,or=>{tn=or,Kt=we.now(),mt||(mt=we.schedule(fn,ge),lt.add(mt))},()=>{Pn(),lt.complete()},void 0,()=>{tn=mt=null}))})}(0))}(ge);return{task:ge,then:ge.then.bind(ge),catch:ge.catch.bind(ge),pause:ge.pause.bind(ge),cancel:ge.cancel.bind(ge),resume:ge.resume.bind(ge),snapshotChanges:()=>we,percentageChanges:()=>we.pipe((0,je.T)(Fe=>Fe.bytesTransferred/Fe.totalBytes*100))}}function Wn(ge){return{getDownloadURL:()=>(0,m.of)(void 0).pipe(l.Oe,(0,ce.n)(()=>ge.getDownloadURL()),l.U0),getMetadata:()=>(0,m.of)(void 0).pipe(l.Oe,(0,ce.n)(()=>ge.getMetadata()),l.U0),delete:()=>(0,De.H)(ge.delete()),child:we=>Wn(ge.child(we)),updateMetadata:we=>(0,De.H)(ge.updateMetadata(we)),put:(we,Fe)=>Yt(ge.put(we,Fe)),putString:(we,Fe,lt)=>Yt(ge.putString(we,Fe,lt)),list:we=>(0,De.H)(ge.list(we)),listAll:()=>(0,De.H)(ge.listAll())}}const vt=new he.nKC("angularfire2.storageBucket"),Pt=new he.nKC("angularfire2.storage.maxUploadRetryTime"),Ft=new he.nKC("angularfire2.storage.maxOperationRetryTime"),Je=new he.nKC("angularfire2.storage.use-emulator");let pe=(()=>{class ge{storage;constructor(Fe,lt,mt,tn,Kt,Pn,fn,or,Nt,gn){const On=(0,Me.iB)(Fe,Kt,lt);this.storage=(0,Me.BM)(`${On.name}.storage.${mt}`,"AngularFireStorage",On.name,()=>{const Vt=Kt.runOutsideAngular(()=>On.storage(mt||void 0)),St=Nt;return St&&Vt.useEmulator(...St),fn&&Vt.setMaxUploadRetryTime(fn),or&&Vt.setMaxOperationRetryTime(or),Vt},[fn,or])}ref(Fe){return Wn(this.storage.ref(Fe))}refFromURL(Fe){return Wn(this.storage.refFromURL(Fe))}upload(Fe,lt,mt){return Wn(this.storage.ref(Fe)).put(lt,mt)}static \u0275fac=function(lt){return new(lt||ge)(he.KVO(Me.rx),he.KVO(Me.uP,8),he.KVO(vt,8),he.KVO(he.Agw),he.KVO(he.SKi),he.KVO(l.u0),he.KVO(Pt,8),he.KVO(Ft,8),he.KVO(Je,8),he.KVO(l.Jv,8))};static \u0275prov=he.jDH({token:ge,factory:ge.\u0275fac,providedIn:"any"})}return ge})(),me=(()=>{class ge{static \u0275fac=function(lt){return new(lt||ge)};static \u0275mod=he.$C({type:ge});static \u0275inj=he.G2t({})}return ge})(),Se=(()=>{class ge{constructor(){Ce.A.registerVersion("angularfire",l.xv.full,"gcs-compat")}static \u0275fac=function(lt){return new(lt||ge)};static \u0275mod=he.$C({type:ge});static \u0275inj=he.G2t({providers:[pe],imports:[me]})}return ge})()},9253:(en,Qe,B)=>{B.d(Qe,{BM:()=>Ke,Gt:()=>Ee,bf:()=>ct,e7:()=>Pe,iB:()=>ce,rx:()=>Ve,uP:()=>je});var l=B(7705),de=B(5407),m=B(7935);const De=["ngOnDestroy"],Ee=(Ct,on,We,Le={})=>new Proxy(Ct,{get:(Ye,ze)=>We.runOutsideAngular(()=>{if(Ct[ze])return Le?.spy?.get&&Le.spy.get(ze,Ct[ze]),Ct[ze];if(De.indexOf(ze)>-1)return()=>{};const qe=on.toPromise().then(ft=>{const Dt=ft?.[ze];return"function"==typeof Dt?Dt.bind(ft):Dt?.then?Dt.then(Ce=>We.run(()=>Ce)):We.run(()=>Dt)});return new Proxy(()=>{},{get:(ft,Dt)=>qe[Dt],apply:(ft,Dt,Ce)=>qe.then($t=>{const Yt=$t?.(...Ce);return Le?.spy?.apply&&Le.spy.apply(ze,Ce,Yt),Yt})})})}),Pe=(Ct,on)=>{on.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Le=>{Object.defineProperty(Ct.prototype,Le,Object.getOwnPropertyDescriptor(We.prototype||We,Le))})})};class Ue{constructor(on){return on}}const Ve=new l.nKC("angularfire2.app.options"),je=new l.nKC("angularfire2.app.name");function ce(Ct,on,We){const Ye="object"==typeof We&&We||{};Ye.name=Ye.name||"string"==typeof We&&We||"[DEFAULT]";const qe=m.A.apps.filter(ft=>ft&&ft.name===Ye.name)[0]||on.runOutsideAngular(()=>m.A.initializeApp(Ct,Ye));try{if(JSON.stringify(Ct)!==JSON.stringify(qe.options)){const ft=!!module.hot;he("error",`${qe.name} Firebase App already initialized with different options${ft?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ue(qe)}const he=(Ct,...on)=>{(0,l.naY)()&&typeof console<"u"&&console[Ct](...on)},Me={provide:Ue,useFactory:ce,deps:[Ve,l.SKi,[new l.Xx1,je]]};let ct=(()=>{class Ct{static initializeApp(We,Le){return{ngModule:Ct,providers:[{provide:Ve,useValue:We},{provide:je,useValue:Le}]}}constructor(We){m.A.registerVersion("angularfire",de.xv.full,"core"),m.A.registerVersion("angularfire",de.xv.full,"app-compat"),m.A.registerVersion("angular",l.xvI.full,We.toString())}static \u0275fac=function(Le){return new(Le||Ct)(l.KVO(l.Agw))};static \u0275mod=l.$C({type:Ct});static \u0275inj=l.G2t({providers:[Me]})}return Ct})();function Ke(Ct,on,We,Le,Ye){const[,ze,qe]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===Ct)||[];if(ze)return function It(Ct,on){try{return Ct.toString()===on.toString()}catch{return Ct===on}}(Ye,qe)||(kt("error",`${on} was already initialized on the ${We} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),kt("warn",{is:Ye,was:qe})),ze;{const ft=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ct,ft,Ye]),ft}}const pt=typeof module<"u"&&!!module.hot,kt=(Ct,...on)=>{(0,l.naY)()&&typeof console<"u"&&console[Ct](...on)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(en,Qe,B)=>{B.d(Qe,{xv:()=>Ke,U0:()=>Yt,Oe:()=>Ce,u0:()=>ze,Jv:()=>Ct,CA:()=>kt,lR:()=>pt,S3:()=>Pt});var l=B(7705),de=B(2214),m=B(6780),Ee=B(9687);const Ue=new class Pe extends Ee.q{}(class De extends m.R{constructor(Je,pe){super(Je,pe),this.scheduler=Je,this.work=pe}schedule(Je,pe=0){return pe>0?super.schedule(Je,pe):(this.delay=pe,this.state=Je,this.scheduler.flush(this),this)}execute(Je,pe){return pe>0||this.closed?super.execute(Je,pe):this._execute(Je,pe)}requestAsyncId(Je,pe,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(Je,pe,ue):(Je.flush(this),0)}});var je=B(3236),ce=B(1985),he=B(8141),Me=B(941),ct=B(6745);const Ke=new l.RxE("ANGULARFIRE2_VERSION");function pt(Ft,Je,pe){if(Je){if(1===Je.length)return Je[0];const Se=Je.filter(ge=>ge.app===pe);if(1===Se.length)return Se[0]}return pe.container.getProvider(Ft).getImmediate({optional:!0})}const kt=(Ft,Je)=>{const pe=Je?[Je]:(0,de.Dk)(),ue=[];return pe.forEach(me=>{me.container.getProvider(Ft).instances.forEach(ge=>{ue.includes(ge)||ue.push(ge)})}),ue};class Ct{constructor(){return kt(on)}}const on="app-check";function We(){}class Le{zone;delegate;constructor(Je,pe=Ue){this.zone=Je,this.delegate=pe}now(){return this.delegate.now()}schedule(Je,pe,ue){const me=this.zone;return this.delegate.schedule(function(ge){me.runGuarded(()=>{Je.apply(this,[ge])})},pe,ue)}}class Ye{zone;task=null;constructor(Je){this.zone=Je}call(Je,pe){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),pe.pipe((0,he.M)({next:ue,complete:ue,error:ue})).subscribe(Je).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{class Ft{ngZone;outsideAngular;insideAngular;constructor(pe){this.ngZone=pe,this.outsideAngular=pe.runOutsideAngular(()=>new Le(Zone.current)),this.insideAngular=pe.run(()=>new Le(Zone.current,je.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ue){return new(ue||Ft)(l.KVO(l.SKi))};static \u0275prov=l.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();function qe(){const Ft=globalThis.\u0275AngularFireScheduler;if(!Ft)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ft}function Dt(Ft){return qe().ngZone.run(()=>Ft())}function Ce(Ft){return Ft.pipe((0,Me.Q)(qe().outsideAngular))}function Yt(Ft){return function Wn(Ft){return function(pe){return(pe=pe.lift(new Ye(Ft.ngZone))).pipe((0,ct._)(Ft.outsideAngular),(0,Me.Q)(Ft.insideAngular))}}(qe())(Ft)}const vt=(Ft,Je)=>function(){const ue=arguments;return Je&&setTimeout(()=>{"scheduled"===Je.state&&Je.invoke()},10),Dt(()=>Ft.apply(void 0,ue))},Pt=(Ft,Je)=>function(){let pe;const ue=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof ue[Se]&&(Je&&(pe||=Dt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We))),ue[Se]=vt(ue[Se],pe));const me=function ft(Ft){return qe().ngZone.runOutsideAngular(()=>Ft())}(()=>Ft.apply(this,ue));if(!Je){if(me instanceof ce.c){const Se=qe();return me.pipe((0,ct._)(Se.outsideAngular),(0,Me.Q)(Se.insideAngular))}return Dt(()=>me)}return me instanceof ce.c?me.pipe(Yt):me instanceof Promise?Dt(()=>new Promise((Se,ge)=>me.then(we=>Dt(()=>Se(we)),we=>Dt(()=>ge(we))))):"function"==typeof me&&pe?function(){return setTimeout(()=>{pe&&"scheduled"===pe.state&&pe.invoke()},10),me.apply(this,arguments)}:Dt(()=>me)}},4341:(en,Qe,B)=>{B.d(Qe,{Zm:()=>kt,me:()=>Le,v8:()=>Qs,ok:()=>To,JD:()=>br,j4:()=>qt,$R:()=>Jn,YN:()=>Wo,BC:()=>Cn,cb:()=>pn,cV:()=>Di,vS:()=>Si,xH:()=>ai,X1:()=>Ua,YS:()=>ni,wz:()=>os,k0:()=>Ce,qT:()=>qs,y7:()=>dt});var l=B(7705),de=B(177),m=B(8455),De=B(1985),Ee=B(3073),Pe=B(8750),Ue=B(3794),Ve=B(4360),je=B(6450),ce=B(8496),Me=B(6354);let ct=(()=>{class z{constructor(x,se){this._renderer=x,this._elementRef=se,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(x,se){this._renderer.setProperty(this._elementRef.nativeElement,x,se)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:z})}return z})(),Ke=(()=>{class z extends ct{static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,features:[l.Vt3]})}return z})();const It=new l.nKC("NgValueAccessor"),pt={provide:It,useExisting:(0,l.Rfq)(()=>kt),multi:!0};let kt=(()=>{class z extends Ke{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(se,Oe){1&se&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target.checked)})("blur",function(){return Oe.onTouched()})},features:[l.Jv_([pt]),l.Vt3]})}return z})();const Ct={provide:It,useExisting:(0,l.Rfq)(()=>Le),multi:!0},We=new l.nKC("CompositionEventMode");let Le=(()=>{class z extends ct{constructor(x,se,Oe){super(x,se),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function on(){const z=(0,de.QT)()?(0,de.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(We,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,Oe){1&se&&l.bIt("input",function(Nn){return Oe._handleInput(Nn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Nn){return Oe._compositionEnd(Nn.target.value)})},features:[l.Jv_([Ct]),l.Vt3]})}return z})();function Ye(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function ze(z){return null!=z&&"number"==typeof z.length}const qe=new l.nKC("NgValidators"),ft=new l.nKC("NgAsyncValidators"),Dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(Q){return function $t(z){return Q=>{if(Ye(Q.value)||Ye(z))return null;const x=parseFloat(Q.value);return!isNaN(x)&&x<z?{min:{min:z,actual:Q.value}}:null}}(Q)}static max(Q){return function Yt(z){return Q=>{if(Ye(Q.value)||Ye(z))return null;const x=parseFloat(Q.value);return!isNaN(x)&&x>z?{max:{max:z,actual:Q.value}}:null}}(Q)}static required(Q){return Wn(Q)}static requiredTrue(Q){return function vt(z){return!0===z.value?null:{required:!0}}(Q)}static email(Q){return function Pt(z){return Ye(z.value)||Dt.test(z.value)?null:{email:!0}}(Q)}static minLength(Q){return function Ft(z){return Q=>Ye(Q.value)||!ze(Q.value)?null:Q.value.length<z?{minlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function Je(z){return Q=>ze(Q.value)&&Q.value.length>z?{maxlength:{requiredLength:z,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function pe(z){if(!z)return ue;let Q,x;return"string"==typeof z?(x="","^"!==z.charAt(0)&&(x+="^"),x+=z,"$"!==z.charAt(z.length-1)&&(x+="$"),Q=new RegExp(x)):(x=z.toString(),Q=z),se=>{if(Ye(se.value))return null;const Oe=se.value;return Q.test(Oe)?null:{pattern:{requiredPattern:x,actualValue:Oe}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return mt(Q)}static composeAsync(Q){return Kt(Q)}}function Wn(z){return Ye(z.value)?{required:!0}:null}function ue(z){return null}function me(z){return null!=z}function Se(z){return(0,l.jNT)(z)?(0,m.H)(z):z}function ge(z){let Q={};return z.forEach(x=>{Q=null!=x?{...Q,...x}:Q}),0===Object.keys(Q).length?null:Q}function we(z,Q){return Q.map(x=>x(z))}function lt(z){return z.map(Q=>function Fe(z){return!z.validate}(Q)?Q:x=>Q.validate(x))}function mt(z){if(!z)return null;const Q=z.filter(me);return 0==Q.length?null:function(x){return ge(we(x,Q))}}function tn(z){return null!=z?mt(lt(z)):null}function Kt(z){if(!z)return null;const Q=z.filter(me);return 0==Q.length?null:function(x){return function he(...z){const Q=(0,Ue.ms)(z),{args:x,keys:se}=(0,Ee.D)(z),Oe=new De.c(ln=>{const{length:Nn}=x;if(!Nn)return void ln.complete();const qi=new Array(Nn);let hs=Nn,Qi=Nn;for(let Ao=0;Ao<Nn;Ao++){let Os=!1;(0,Pe.Tg)(x[Ao]).subscribe((0,Ve._)(ln,$s=>{Os||(Os=!0,Qi--),qi[Ao]=$s},()=>hs--,void 0,()=>{(!hs||!Os)&&(Qi||ln.next(se?(0,ce.e)(se,qi):qi),ln.complete())}))}});return Q?Oe.pipe((0,je.I)(Q)):Oe}(we(x,Q).map(Se)).pipe((0,Me.T)(ge))}}function Pn(z){return null!=z?Kt(lt(z)):null}function fn(z,Q){return null===z?[Q]:Array.isArray(z)?[...z,Q]:[z,Q]}function or(z){return z._rawValidators}function Nt(z){return z._rawAsyncValidators}function gn(z){return z?Array.isArray(z)?z:[z]:[]}function On(z,Q){return Array.isArray(z)?z.includes(Q):z===Q}function Vt(z,Q){const x=gn(Q);return gn(z).forEach(Oe=>{On(x,Oe)||x.push(Oe)}),x}function St(z,Q){return gn(Q).filter(x=>!On(z,x))}class Ur{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=tn(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,x){return!!this.control&&this.control.hasError(Q,x)}getError(Q,x){return this.control?this.control.getError(Q,x):null}}class nn extends Ur{get formDirective(){return null}get path(){return null}}class fr extends Ur{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $n{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class z extends $n{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(fr,2))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,Oe){2&se&&l.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[l.Vt3]})}return z})(),pn=(()=>{class z extends $n{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(nn,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,Oe){2&se&&l.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[l.Vt3]})}return z})();const Lt="VALID",Tn="INVALID",Dr="PENDING",nr="DISABLED";function Re(z){return(F(z)?z.validators:z)||null}function H(z,Q){return(F(Q)?Q.asyncValidators:z)||null}function F(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function le(z,Q,x){const se=z.controls;if(!(Q?Object.keys(se):se).length)throw new l.wOt(1e3,"");if(!se[x])throw new l.wOt(1001,"")}function Ne(z,Q,x){z._forEachChild((se,Oe)=>{if(void 0===x[Oe])throw new l.wOt(1002,"")})}class ht{constructor(Q,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===Lt}get invalid(){return this.status===Tn}get pending(){return this.status==Dr}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(Vt(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(Vt(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(St(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(St(Q,this._rawAsyncValidators))}hasValidator(Q){return On(this._rawValidators,Q)}hasAsyncValidator(Q){return On(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Dr,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const x=this._parentMarkedDirty(Q.onlySelf);this.status=nr,this.errors=null,this._forEachChild(se=>{se.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!0))}enable(Q={}){const x=this._parentMarkedDirty(Q.onlySelf);this.status=Lt,this._forEachChild(se=>{se.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===Dr)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Dr,this._hasOwnPendingAsyncValidator=!0;const x=Se(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,x={}){this.errors=Q,this._updateControlsErrors(!1!==x.emitEvent)}get(Q){let x=Q;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((se,Oe)=>se&&se._find(Oe),this)}getError(Q,x){const se=x?this.get(x):this;return se&&se.errors?se.errors[Q]:null}hasError(Q,x){return!!this.getError(Q,x)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dr)?Dr:this._anyControlsHaveStatus(Tn)?Tn:Lt}_anyControlsHaveStatus(Q){return this._anyControls(x=>x.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){F(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function te(z){return Array.isArray(z)?tn(z):z||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function V(z){return Array.isArray(z)?Pn(z):z||null}(this._rawAsyncValidators)}}class wt extends ht{constructor(Q,x,se){super(Re(x),H(se,x)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,x){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(Q,x,se={}){this.registerControl(Q,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(Q,x={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(Q,x,se={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],x&&this.registerControl(Q,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,x={}){Ne(this,0,Q),Object.keys(Q).forEach(se=>{le(this,!0,se),this.controls[se].setValue(Q[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(Q,x={}){null!=Q&&(Object.keys(Q).forEach(se=>{const Oe=this.controls[se];Oe&&Oe.patchValue(Q[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(Q={},x={}){this._forEachChild((se,Oe)=>{se.reset(Q?Q[Oe]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(Q,x,se)=>(Q[se]=x.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(x,se)=>!!se._syncPendingControls()||x);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(x=>{const se=this.controls[x];se&&Q(se,x)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[x,se]of Object.entries(this.controls))if(this.contains(x)&&Q(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,se,Oe)=>((se.enabled||this.disabled)&&(x[Oe]=se.value),x))}_reduceChildren(Q,x){let se=Q;return this._forEachChild((Oe,ln)=>{se=x(se,Oe,ln)}),se}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class Xt extends wt{}const _n=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>si}),si="always";function xr(z,Q){return[...Q.path,z]}function Us(z,Q,x=si){Zr(z,Q),Q.valueAccessor.writeValue(z.value),(z.disabled||"always"===x)&&Q.valueAccessor.setDisabledState?.(z.disabled),function nt(z,Q){Q.valueAccessor.registerOnChange(x=>{z._pendingValue=x,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&_t(z,Q)})}(z,Q),function Jt(z,Q){const x=(se,Oe)=>{Q.valueAccessor.writeValue(se),Oe&&Q.viewToModelUpdate(se)};z.registerOnChange(x),Q._registerOnDestroy(()=>{z._unregisterOnChange(x)})}(z,Q),function Ge(z,Q){Q.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&_t(z,Q),"submit"!==z.updateOn&&z.markAsTouched()})}(z,Q),function ls(z,Q){if(Q.valueAccessor.setDisabledState){const x=se=>{Q.valueAccessor.setDisabledState(se)};z.registerOnDisabledChange(x),Q._registerOnDestroy(()=>{z._unregisterOnDisabledChange(x)})}}(z,Q)}function Gr(z,Q,x=!0){const se=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(se),Q.valueAccessor.registerOnTouched(se)),Yn(z,Q),z&&(Q._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function zi(z,Q){z.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(Q)})}function Zr(z,Q){const x=or(z);null!==Q.validator?z.setValidators(fn(x,Q.validator)):"function"==typeof x&&z.setValidators([x]);const se=Nt(z);null!==Q.asyncValidator?z.setAsyncValidators(fn(se,Q.asyncValidator)):"function"==typeof se&&z.setAsyncValidators([se]);const Oe=()=>z.updateValueAndValidity();zi(Q._rawValidators,Oe),zi(Q._rawAsyncValidators,Oe)}function Yn(z,Q){let x=!1;if(null!==z){if(null!==Q.validator){const Oe=or(z);if(Array.isArray(Oe)&&Oe.length>0){const ln=Oe.filter(Nn=>Nn!==Q.validator);ln.length!==Oe.length&&(x=!0,z.setValidators(ln))}}if(null!==Q.asyncValidator){const Oe=Nt(z);if(Array.isArray(Oe)&&Oe.length>0){const ln=Oe.filter(Nn=>Nn!==Q.asyncValidator);ln.length!==Oe.length&&(x=!0,z.setAsyncValidators(ln))}}}const se=()=>{};return zi(Q._rawValidators,se),zi(Q._rawAsyncValidators,se),x}function _t(z,Q){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function bn(z,Q){Zr(z,Q)}function lr(z,Q){if(!z.hasOwnProperty("model"))return!1;const x=z.model;return!!x.isFirstChange()||!Object.is(Q,x.currentValue)}function ei(z,Q){z._syncPendingControls(),Q.forEach(x=>{const se=x.control;"submit"===se.updateOn&&se._pendingChange&&(x.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function vs(z,Q){if(!Q)return null;let x,se,Oe;return Array.isArray(Q),Q.forEach(ln=>{ln.constructor===Le?x=ln:function ys(z){return Object.getPrototypeOf(z.constructor)===Ke}(ln)?se=ln:Oe=ln}),Oe||se||x||null}const Ui={provide:nn,useExisting:(0,l.Rfq)(()=>Di)},_i=(()=>Promise.resolve())();let Di=(()=>{class z extends nn{constructor(x,se,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new wt({},tn(x),Pn(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){_i.then(()=>{const se=this._findContainer(x.path);x.control=se.registerControl(x.name,x.control),Us(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){_i.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){_i.then(()=>{const se=this._findContainer(x.path),Oe=new wt({});bn(Oe,x),se.registerControl(x.name,Oe),Oe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){_i.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,se){_i.then(()=>{this.form.get(x.path).setValue(se)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,ei(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(qe,10),l.rXU(ft,10),l.rXU(_n,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,Oe){1&se&&l.bIt("submit",function(Nn){return Oe.onSubmit(Nn)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([Ui]),l.Vt3]})}return z})();function rr(z,Q){const x=z.indexOf(Q);x>-1&&z.splice(x,1)}function Ks(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Sr=class extends ht{constructor(Q=null,x,se){super(Re(x),H(se,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Ks(Q)?Q.value:Q)}setValue(Q,x={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(Q,x={}){this.setValue(Q,x)}reset(Q=this.defaultValue,x={}){this._applyFormState(Q),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){rr(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){rr(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){Ks(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}};let Wi=(()=>{class z extends nn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,features:[l.Vt3]})}return z})();const dr={provide:fr,useExisting:(0,l.Rfq)(()=>Si)},wi=(()=>Promise.resolve())();let Si=(()=>{class z extends fr{constructor(x,se,Oe,ln,Nn,qi){super(),this._changeDetectorRef=Nn,this.callSetDisabledState=qi,this.control=new Sr,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=x,this._setValidators(se),this._setAsyncValidators(Oe),this.valueAccessor=vs(0,ln)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const se=x.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),lr(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Us(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){wi.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const se=x.isDisabled.currentValue,Oe=0!==se&&(0,l.L39)(se);wi.then(()=>{Oe&&!this.control.disabled?this.control.disable():!Oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?xr(x,this._parent):[x]}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(nn,9),l.rXU(qe,10),l.rXU(ft,10),l.rXU(It,10),l.rXU(l.gRc,8),l.rXU(_n,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([dr]),l.Vt3,l.OA$]})}return z})(),qs=(()=>{class z{static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})(),jr=(()=>{class z{static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({})}return z})();const is=new l.nKC("NgModelWithFormControlWarning"),hr={provide:nn,useExisting:(0,l.Rfq)(()=>qt)};let qt=(()=>{class z extends nn{constructor(x,se,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(x),this._setAsyncValidators(se)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const se=this.form.get(x.path);return Us(se,x,this.callSetDisabledState),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),se}getControl(x){return this.form.get(x.path)}removeControl(x){Gr(x.control||null,x,!1),function ri(z,Q){const x=z.indexOf(Q);x>-1&&z.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,se){this.form.get(x.path).setValue(se)}onSubmit(x){return this.submitted=!0,ei(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const se=x.control,Oe=this.form.get(x.path);se!==Oe&&(Gr(se||null,x),(z=>z instanceof Sr)(Oe)&&(Us(Oe,x,this.callSetDisabledState),x.control=Oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const se=this.form.get(x.path);bn(se,x),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const se=this.form.get(x.path);se&&function Mn(z,Q){return Yn(z,Q)}(se,x)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zr(this.form,this),this._oldForm&&Yn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(qe,10),l.rXU(ft,10),l.rXU(_n,8))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(se,Oe){1&se&&l.bIt("submit",function(Nn){return Oe.onSubmit(Nn)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([hr]),l.Vt3,l.OA$]})}return z})();const Sn={provide:nn,useExisting:(0,l.Rfq)(()=>Jn)};let Jn=(()=>{class z extends Wi{constructor(x,se,Oe){super(),this.name=null,this._parent=x,this._setValidators(se),this._setAsyncValidators(Oe)}_checkParentType(){Hr(this._parent)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(nn,13),l.rXU(qe,10),l.rXU(ft,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l.Jv_([Sn]),l.Vt3]})}return z})();const Ri={provide:nn,useExisting:(0,l.Rfq)(()=>Qs)};let Qs=(()=>{class z extends nn{constructor(x,se,Oe){super(),this.name=null,this._parent=x,this._setValidators(se),this._setAsyncValidators(Oe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Hr(this._parent)}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(nn,13),l.rXU(qe,10),l.rXU(ft,10))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l.Jv_([Ri]),l.Vt3]})}return z})();function Hr(z){return!(z instanceof Jn||z instanceof qt||z instanceof Qs)}const ss={provide:fr,useExisting:(0,l.Rfq)(()=>br)};let br=(()=>{class z extends fr{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,se,Oe,ln,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(se),this._setAsyncValidators(Oe),this.valueAccessor=vs(0,ln)}ngOnChanges(x){this._added||this._setUpControl(),lr(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return xr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(se){return new(se||z)(l.rXU(nn,13),l.rXU(qe,10),l.rXU(ft,10),l.rXU(It,10),l.rXU(is,8))};static#n=this.\u0275dir=l.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([ss]),l.Vt3,l.OA$]})}return z})();const Ms={provide:It,useExisting:(0,l.Rfq)(()=>os),multi:!0};function Es(z,Q){return null==z?`${Q}`:(Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let os=(()=>{class z extends Ke{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const Oe=Es(this._getOptionId(x),x);this.setProperty("value",Oe)}registerOnChange(x){this.onChange=se=>{this.value=this._getOptionValue(se),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(se),x))return se;return null}_getOptionValue(x){const se=function Vn(z){return z.split(":")[0]}(x);return this._optionMap.has(se)?this._optionMap.get(se):x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(se,Oe){1&se&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target.value)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Ms]),l.Vt3]})}return z})(),ai=(()=>{class z{constructor(x,se,Oe){this._element=x,this._renderer=se,this._select=Oe,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Es(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(os,9))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})();const Y={provide:It,useExisting:(0,l.Rfq)(()=>He),multi:!0};function G(z,Q){return null==z?`${Q}`:("string"==typeof Q&&(Q=`'${Q}'`),Q&&"object"==typeof Q&&(Q="Object"),`${z}: ${Q}`.slice(0,50))}let He=(()=>{class z extends Ke{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let se;if(this.value=x,Array.isArray(x)){const Oe=x.map(ln=>this._getOptionId(ln));se=(ln,Nn)=>{ln._setSelected(Oe.indexOf(Nn.toString())>-1)}}else se=(Oe,ln)=>{Oe._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(x){this.onChange=se=>{const Oe=[],ln=se.selectedOptions;if(void 0!==ln){const Nn=ln;for(let qi=0;qi<Nn.length;qi++){const Qi=this._getOptionValue(Nn[qi].value);Oe.push(Qi)}}else{const Nn=se.options;for(let qi=0;qi<Nn.length;qi++){const hs=Nn[qi];if(hs.selected){const Qi=this._getOptionValue(hs.value);Oe.push(Qi)}}}this.value=Oe,x(Oe)}}_registerOption(x){const se=(this._idCounter++).toString();return this._optionMap.set(se,x),se}_getOptionId(x){for(const se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(se)._value,x))return se;return null}_getOptionValue(x){const se=function ve(z){return z.split(":")[0]}(x);return this._optionMap.has(se)?this._optionMap.get(se)._value:x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(se,Oe){1&se&&l.bIt("change",function(Nn){return Oe.onChange(Nn.target)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Y]),l.Vt3]})}return z})(),dt=(()=>{class z{constructor(x,se,Oe){this._element=x,this._renderer=se,this._select=Oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(G(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(G(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(se){return new(se||z)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(He,9))};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return z})(),At=(()=>{class z{constructor(){this._validator=ue}ngOnChanges(x){if(this.inputName in x){const se=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):ue,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275dir=l.FsC({type:z,features:[l.OA$]})}return z})();const Br={provide:qe,useExisting:(0,l.Rfq)(()=>ni),multi:!0};let ni=(()=>{class z extends At{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=x=>Wn}enabled(x){return x}static#e=this.\u0275fac=function(){let x;return function(Oe){return(x||(x=l.xGo(z)))(Oe||z)}}();static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,Oe){2&se&&l.BMQ("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([Br]),l.Vt3]})}return z})(),Is=(()=>{class z{static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[jr]})}return z})();class Cs extends ht{constructor(Q,x,se){super(Re(x),H(se,x)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,x={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(Q,x,se={}){this.controls.splice(Q,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(Q,x={}){let se=this._adjustIndex(Q);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(Q,x,se={}){let Oe=this._adjustIndex(Q);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),x&&(this.controls.splice(Oe,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,x={}){Ne(this,0,Q),Q.forEach((se,Oe)=>{le(this,!1,Oe),this.at(Oe).setValue(se,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(Q,x={}){null!=Q&&(Q.forEach((se,Oe)=>{this.at(Oe)&&this.at(Oe).patchValue(se,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(Q=[],x={}){this._forEachChild((se,Oe)=>{se.reset(Q[Oe],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((x,se)=>!!se._syncPendingControls()||x,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((x,se)=>{Q(x,se)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(x=>x.enabled&&Q(x))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function ki(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let To=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new z;return x.useNonNullable=!0,x}group(x,se=null){const Oe=this._reduceControls(x);let ln={};return ki(se)?ln=se:null!==se&&(ln.validators=se.validator,ln.asyncValidators=se.asyncValidator),new wt(Oe,ln)}record(x,se=null){const Oe=this._reduceControls(x);return new Xt(Oe,se)}control(x,se,Oe){let ln={};return this.useNonNullable?(ki(se)?ln=se:(ln.validators=se,ln.asyncValidators=Oe),new Sr(x,{...ln,nonNullable:!0})):new Sr(x,se,Oe)}array(x,se,Oe){const ln=x.map(Nn=>this._createControl(Nn));return new Cs(ln,se,Oe)}_reduceControls(x){const se={};return Object.keys(x).forEach(Oe=>{se[Oe]=this._createControl(x[Oe])}),se}_createControl(x){return x instanceof Sr||x instanceof ht?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275prov=l.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),Wo=(()=>{class z{static withConfig(x){return{ngModule:z,providers:[{provide:_n,useValue:x.callSetDisabledState??si}]}}static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[Is]})}return z})(),Ua=(()=>{class z{static withConfig(x){return{ngModule:z,providers:[{provide:is,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:_n,useValue:x.callSetDisabledState??si}]}}static#e=this.\u0275fac=function(se){return new(se||z)};static#t=this.\u0275mod=l.$C({type:z});static#n=this.\u0275inj=l.G2t({imports:[Is]})}return z})()},345:(en,Qe,B)=>{B.d(Qe,{Bb:()=>On,W8:()=>St,hE:()=>fr,sG:()=>fn,up:()=>mi});var l=B(7705),de=B(177);class m extends de.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends m{static makeCurrent(){(0,de.ZD)(new De)}onAndCancel(H,V,F){return H.addEventListener(V,F),()=>{H.removeEventListener(V,F)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function Pe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==V?null:function Ve(te){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",te);const H=Ue.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,de._b)(document.cookie,H)}}let Ue,Ee=null,ce=(()=>{class te{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||te)};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();const he=new l.nKC("EventManagerPlugins");let Me=(()=>{class te{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(le=>{le.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,le){return this._findPluginFor(F).addEventListener(V,F,le)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(Ne=>Ne.supports(V)),!F)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(he),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();class ct{constructor(H){this._doc=H}}const Ke="ng-app-id";let It=(()=>{class te{constructor(V,F,le,Ne={}){this.doc=V,this.appId=F,this.nonce=le,this.platformId=Ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,de.Vy)(Ne),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(le=>le.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(le=>{null!=le.textContent&&F.set(le.textContent,le)}),F}return null}changeUsageCount(V,F){const le=this.styleRef;if(le.has(V)){const Ne=le.get(V);return Ne.usage+=F,Ne.usage}return le.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const le=this.styleNodesInDOM,Ne=le?.get(F);if(Ne?.parentNode===V)return le.delete(F),Ne.removeAttribute(Ke),Ne;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=F,this.platformIsServer&&ht.setAttribute(Ke,this.appId),ht}}addStyleToHost(V,F){const le=this.getStyleElement(V,F);V.appendChild(le);const Ne=this.styleRef,ht=Ne.get(F)?.elements;ht?ht.push(le):Ne.set(F,{elements:[le],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,Ye=new l.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(te,H){return H.map(V=>V.replace(kt,te))}let Dt=(()=>{class te{constructor(V,F,le,Ne,ht,wt,rn,Gt=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=le,this.removeStylesOnCompDestroy=Ne,this.doc=ht,this.platformId=wt,this.ngZone=rn,this.nonce=Gt,this.rendererByCompId=new Map,this.platformIsServer=(0,de.Vy)(wt),this.defaultRenderer=new Ce(V,ht,rn,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===l.gXe.ShadowDom&&(F={...F,encapsulation:l.gXe.Emulated});const le=this.getOrCreateRenderer(V,F);return le instanceof Ft?le.applyToHost(V):le instanceof Pt&&le.applyStyles(),le}getOrCreateRenderer(V,F){const le=this.rendererByCompId;let Ne=le.get(F.id);if(!Ne){const ht=this.doc,wt=this.ngZone,rn=this.eventManager,Gt=this.sharedStylesHost,Xt=this.removeStylesOnCompDestroy,Xn=this.platformIsServer;switch(F.encapsulation){case l.gXe.Emulated:Ne=new Ft(rn,Gt,F,this.appId,Xt,ht,wt,Xn);break;case l.gXe.ShadowDom:return new vt(rn,Gt,V,F,ht,wt,this.nonce,Xn);default:Ne=new Pt(rn,Gt,F,Xt,ht,wt,Xn)}le.set(F.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(Me),l.KVO(It),l.KVO(l.sZ2),l.KVO(Ye),l.KVO(de.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();class Ce{constructor(H,V,F,le){this.eventManager=H,this.doc=V,this.ngZone=F,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(pt[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(Wn(H)?H.content:H).appendChild(V)}insertBefore(H,V,F){H&&(Wn(H)?H.content:H).insertBefore(V,F)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new l.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,F,le){if(le){V=le+":"+V;const Ne=pt[le];Ne?H.setAttributeNS(Ne,V,F):H.setAttribute(V,F)}else H.setAttribute(V,F)}removeAttribute(H,V,F){if(F){const le=pt[F];le?H.removeAttributeNS(le,V):H.removeAttribute(`${F}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,F,le){le&(l.czy.DashCase|l.czy.Important)?H.style.setProperty(V,F,le&l.czy.Important?"important":""):H.style[V]=F}removeStyle(H,V,F){F&l.czy.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,F){H[V]=F}setValue(H,V){H.nodeValue=V}listen(H,V,F){if("string"==typeof H&&!(H=(0,de.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(F))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function Wn(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class vt extends Ce{constructor(H,V,F,le,Ne,ht,wt,rn){super(H,Ne,ht,rn),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=ft(le.id,le.styles);for(const Xt of Gt){const Xn=document.createElement("style");wt&&Xn.setAttribute("nonce",wt),Xn.textContent=Xt,this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,F){return super.insertBefore(this.nodeOrShadowRoot(H),V,F)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends Ce{constructor(H,V,F,le,Ne,ht,wt,rn){super(H,Ne,ht,wt),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=le,this.styles=rn?ft(rn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ft extends Pt{constructor(H,V,F,le,Ne,ht,wt,rn){const Gt=le+"-"+F.id;super(H,V,F,Ne,ht,wt,rn,Gt),this.contentAttr=function ze(te){return"_ngcontent-%COMP%".replace(kt,te)}(Gt),this.hostAttr=function qe(te){return"_nghost-%COMP%".replace(kt,te)}(Gt)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const F=super.createElement(H,V);return super.setAttribute(F,this.contentAttr,""),F}}let Je=(()=>{class te extends ct{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,le){return V.addEventListener(F,le,!1),()=>this.removeEventListener(V,F,le)}removeEventListener(V,F,le){return V.removeEventListener(F,le)}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ))};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();const pe=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},me={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let Se=(()=>{class te extends ct{constructor(V){super(V)}supports(V){return null!=te.parseEventName(V)}addEventListener(V,F,le){const Ne=te.parseEventName(F),ht=te.eventCallback(Ne.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,de.QT)().onAndCancel(V,Ne.domEventName,ht))}static parseEventName(V){const F=V.toLowerCase().split("."),le=F.shift();if(0===F.length||"keydown"!==le&&"keyup"!==le)return null;const Ne=te._normalizeKey(F.pop());let ht="",wt=F.indexOf("code");if(wt>-1&&(F.splice(wt,1),ht="code."),pe.forEach(Gt=>{const Xt=F.indexOf(Gt);Xt>-1&&(F.splice(Xt,1),ht+=Gt+".")}),ht+=Ne,0!=F.length||0===Ne.length)return null;const rn={};return rn.domEventName=le,rn.fullKey=ht,rn}static matchEventFullKeyCode(V,F){let le=ue[V.key]||V.key,Ne="";return F.indexOf("code.")>-1&&(le=V.code,Ne="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),pe.forEach(ht=>{ht!==le&&(0,me[ht])(V)&&(Ne+=ht+".")}),Ne+=le,Ne===F)}static eventCallback(V,F,le){return Ne=>{te.matchEventFullKeyCode(Ne,V)&&le.runGuarded(()=>F(Ne))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ))};static#t=this.\u0275prov=l.jDH({token:te,factory:te.\u0275fac})}return te})();const fn=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:de.AJ},{provide:l.PLl,useValue:function mt(){De.makeCurrent()},multi:!0},{provide:de.qQ,useFactory:function Kt(){return(0,l.TL$)(document),document},deps:[]}]),or=new l.nKC(""),Nt=[{provide:l.e01,useClass:class je{addToWindow(H){l.JZv.getAngularTestability=(F,le=!0)=>{const Ne=H.findTestabilityInTree(F,le);if(null==Ne)throw new l.wOt(5103,!1);return Ne},l.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(F=>{const le=l.JZv.getAllAngularTestabilities();let Ne=le.length,ht=!1;const wt=function(rn){ht=ht||rn,Ne--,0==Ne&&F(ht)};le.forEach(rn=>{rn.whenStable(wt)})})}findTestabilityInTree(H,V,F){return null==V?null:H.getTestability(V)??(F?(0,de.QT)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],gn=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function tn(){return new l.zcH},deps:[]},{provide:he,useClass:Je,multi:!0,deps:[de.qQ,l.SKi,l.Agw]},{provide:he,useClass:Se,multi:!0,deps:[de.qQ]},Dt,It,Me,{provide:l._9s,useExisting:Dt},{provide:de.N0,useClass:ce,deps:[]},[]];let On=(()=>{class te{constructor(V){}static withServerTransition(V){return{ngModule:te,providers:[{provide:l.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(or,12))};static#t=this.\u0275mod=l.$C({type:te});static#n=this.\u0275inj=l.G2t({providers:[...gn,...Nt],imports:[de.MD,l.Hbi]})}return te})(),St=(()=>{class te{constructor(V){this._doc=V,this._dom=(0,de.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((le,Ne)=>(Ne&&le.push(this._getOrCreateElement(Ne,F)),le),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const le=this.getTag(F);return le?this._setMetaElementAttributes(V,le):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const ht=this._parseSelector(V),wt=this.getTags(ht).filter(rn=>this._containsAttributes(V,rn))[0];if(void 0!==wt)return wt}const le=this._dom.createElement("meta");return this._setMetaElementAttributes(V,le),this._doc.getElementsByTagName("head")[0].appendChild(le),le}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(le=>F.setAttribute(this._getMetaKeyMap(le),V[le])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(le=>F.getAttribute(this._getMetaKeyMap(le))===V[le])}_getMetaKeyMap(V){return Ur[V]||V}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ))};static#t=this.\u0275prov=l.jDH({token:te,factory:function(F){let le=null;return le=F?new F:function Vt(){return new St((0,l.KVO)(de.qQ))}(),le},providedIn:"root"})}return te})();const Ur={httpEquiv:"http-equiv"};let fr=(()=>{class te{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ))};static#t=this.\u0275prov=l.jDH({token:te,factory:function(F){let le=null;return le=F?new F:function nn(){return new fr((0,l.KVO)(de.qQ))}(),le},providedIn:"root"})}return te})();typeof window<"u"&&window;let mi=(()=>{class te{static#e=this.\u0275fac=function(F){return new(F||te)};static#t=this.\u0275prov=l.jDH({token:te,factory:function(F){let le=null;return le=F?new(F||te):l.KVO(at),le},providedIn:"root"})}return te})(),at=(()=>{class te extends mi{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case l.WPN.NONE:return F;case l.WPN.HTML:return(0,l.ZF7)(F,"HTML")?(0,l.rcV)(F):(0,l.h9k)(this._doc,String(F)).toString();case l.WPN.STYLE:return(0,l.ZF7)(F,"Style")?(0,l.rcV)(F):F;case l.WPN.SCRIPT:if((0,l.ZF7)(F,"Script"))return(0,l.rcV)(F);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(F,"URL")?(0,l.rcV)(F):(0,l.$MX)(String(F));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(F,"ResourceURL"))return(0,l.rcV)(F);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,l.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,l.cWb)(V)}bypassSecurityTrustScript(V){return(0,l.UyX)(V)}bypassSecurityTrustUrl(V){return(0,l.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,l.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||te)(l.KVO(de.qQ))};static#t=this.\u0275prov=l.jDH({token:te,factory:function(F){let le=null;return le=F?new F:function $e(te){return new at(te.get(de.qQ))}(l.KVO(l.zZn)),le},providedIn:"root"})}return te})()},4454:(en,Qe,B)=>{B.d(Qe,{nX:()=>Jn,Ix:()=>pi,Wk:()=>rc,iI:()=>kc,n3:()=>os});var l=B(7705),de=B(1985),m=B(8071),Ee=B(8455),Pe=B(7673),Ue=B(4412),Ve=B(3073),je=B(3669),ce=B(6450),he=B(3794),Me=B(8496),ct=B(4360),Ke=B(5225);function It(...w){const R=(0,he.lI)(w),b=(0,he.ms)(w),{args:O,keys:$}=(0,Ve.D)(w);if(0===O.length)return(0,Ee.H)([],R);const re=new de.c(function pt(w,R,b=je.D){return O=>{kt(R,()=>{const{length:$}=w,re=new Array($);let Ie=$,rt=$;for(let tt=0;tt<$;tt++)kt(R,()=>{const an=(0,Ee.H)(w[tt],R);let sr=!1;an.subscribe((0,ct._)(O,_r=>{re[tt]=_r,sr||(sr=!0,rt--),rt||O.next(b(re.slice()))},()=>{--Ie||O.complete()}))},O)},O)}}(O,R,$?Ie=>(0,Me.e)($,Ie):je.D));return b?re.pipe((0,ce.I)(b)):re}function kt(w,R,b){w?(0,Ke.N)(b,w,R):R()}var Ct=B(9350),on=B(8793),We=B(8750);function Le(w){return new de.c(R=>{(0,We.Tg)(w()).subscribe(R)})}var Ye=B(1203);function ze(w,R){const b=(0,m.T)(w)?w:()=>w,O=$=>$.error(b());return new de.c(R?$=>R.schedule(O,0,$):O)}var qe=B(983),ft=B(8359),Dt=B(9974);function Ce(){return(0,Dt.N)((w,R)=>{let b=null;w._refCount++;const O=(0,ct._)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(b=null);const $=w._connection,re=b;b=null,$&&(!re||$===re)&&$.unsubscribe(),R.unsubscribe()});w.subscribe(O),O.closed||(b=w.connect())})}class $t extends de.c{constructor(R,b){super(),this.source=R,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Dt.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new ft.yU;const b=this.getSubject();R.add(this.source.subscribe((0,ct._)(b,void 0,()=>{this._teardown(),b.complete()},O=>{this._teardown(),b.error(O)},()=>this._teardown()))),R.closed&&(this._connection=null,R=ft.yU.EMPTY)}return R}refCount(){return Ce()(this)}}var Yt=B(1413),Wn=B(177),vt=B(6354),Pt=B(5558),Ft=B(6697),Je=B(9172),pe=B(5964),ue=B(1397),me=B(1594),Se=B(274),ge=B(8141),we=B(9437),Fe=B(2816),lt=B(9901);function mt(w){return w<=0?()=>qe.w:(0,Dt.N)((R,b)=>{let O=[];R.subscribe((0,ct._)(b,$=>{O.push($),w<O.length&&O.shift()},()=>{for(const $ of O)b.next($);b.complete()},void 0,()=>{O=null}))})}var tn=B(3774),fn=B(980),or=B(5343),gn=B(6365),On=B(345);const Vt="primary",St=Symbol("RouteTitle");class Ur{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const b=this.params[R];return Array.isArray(b)?b[0]:b}return null}getAll(R){if(this.has(R)){const b=this.params[R];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function nn(w){return new Ur(w)}function fr(w,R,b){const O=b.path.split("/");if(O.length>w.length||"full"===b.pathMatch&&(R.hasChildren()||O.length<w.length))return null;const $={};for(let re=0;re<O.length;re++){const Ie=O[re],rt=w[re];if(Ie.startsWith(":"))$[Ie.substring(1)]=rt;else if(Ie!==rt.path)return null}return{consumed:w.slice(0,O.length),posParams:$}}function Rt(w,R){const b=w?Object.keys(w):void 0,O=R?Object.keys(R):void 0;if(!b||!O||b.length!=O.length)return!1;let $;for(let re=0;re<b.length;re++)if($=b[re],!un(w[$],R[$]))return!1;return!0}function un(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const b=[...w].sort(),O=[...R].sort();return b.every(($,re)=>O[re]===$)}return w===R}function Cn(w){return w.length>0?w[w.length-1]:null}function pn(w){return function De(w){return!!w&&(w instanceof de.c||(0,m.T)(w.lift)&&(0,m.T)(w.subscribe))}(w)?w:(0,l.jNT)(w)?(0,Ee.H)(Promise.resolve(w)):(0,Pe.of)(w)}const ar={exact:function Yr(w,R,b){if(!at(w.segments,R.segments)||!Hn(w.segments,R.segments,b)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const O in R.children)if(!w.children[O]||!Yr(w.children[O],R.children[O],b))return!1;return!0},subset:Qt},vr={exact:function xn(w,R){return Rt(w,R)},subset:function Yi(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(b=>un(w[b],R[b]))},ignored:()=>!0};function Xr(w,R,b){return ar[b.paths](w.root,R.root,b.matrixParams)&&vr[b.queryParams](w.queryParams,R.queryParams)&&!("exact"===b.fragment&&w.fragment!==R.fragment)}function Qt(w,R,b){return Jr(w,R,R.segments,b)}function Jr(w,R,b,O){if(w.segments.length>b.length){const $=w.segments.slice(0,b.length);return!(!at($,b)||R.hasChildren()||!Hn($,b,O))}if(w.segments.length===b.length){if(!at(w.segments,b)||!Hn(w.segments,b,O))return!1;for(const $ in R.children)if(!w.children[$]||!Qt(w.children[$],R.children[$],O))return!1;return!0}{const $=b.slice(0,w.segments.length),re=b.slice(w.segments.length);return!!(at(w.segments,$)&&Hn(w.segments,$,O)&&w.children[Vt])&&Jr(w.children[Vt],R,re,O)}}function Hn(w,R,b){return R.every((O,$)=>vr[b](w[$].parameters,O.parameters))}class cr{constructor(R=new Dn([],{}),b={},O=null){this.root=R,this.queryParams=b,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return Lt.serialize(this)}}class Dn{constructor(R,b){this.segments=R,this.children=b,this.parent=null,Object.values(b).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class mi{constructor(R,b){this.path=R,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return le(this)}}function at(w,R){return w.length===R.length&&w.every((b,O)=>b.path===R[O].path)}let Te=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return new it},providedIn:"root"})}return w})();class it{parse(R){const b=new Us(R);return new cr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(R){const b=`/${Dr(R.root,!0)}`,O=function ht(w){const R=Object.keys(w).map(b=>{const O=w[b];return Array.isArray(O)?O.map($=>`${Re(b)}=${Re($)}`).join("&"):`${Re(b)}=${Re(O)}`}).filter(b=>!!b);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${b}${O}${"string"==typeof R.fragment?`#${function te(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Lt=new it;function Tn(w){return w.segments.map(R=>le(R)).join("/")}function Dr(w,R){if(!w.hasChildren())return Tn(w);if(R){const b=w.children[Vt]?Dr(w.children[Vt],!1):"",O=[];return Object.entries(w.children).forEach(([$,re])=>{$!==Vt&&O.push(`${$}:${Dr(re,!1)}`)}),O.length>0?`${b}(${O.join("//")})`:b}{const b=function oe(w,R){let b=[];return Object.entries(w.children).forEach(([O,$])=>{O===Vt&&(b=b.concat(R($,O)))}),Object.entries(w.children).forEach(([O,$])=>{O!==Vt&&(b=b.concat(R($,O)))}),b}(w,(O,$)=>$===Vt?[Dr(w.children[Vt],!1)]:[`${$}:${Dr(O,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Vt]?`${Tn(w)}/${b[0]}`:`${Tn(w)}/(${b.join("//")})`}}function nr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(w){return nr(w).replace(/%3B/gi,";")}function H(w){return nr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function le(w){return`${H(w.path)}${function Ne(w){return Object.keys(w).map(R=>`;${H(R)}=${H(w[R])}`).join("")}(w.parameters)}`}const wt=/^[^\/()?;#]+/;function rn(w){const R=w.match(wt);return R?R[0]:""}const Gt=/^[^\/()?;=#]+/,Xn=/^[^=?&#]+/,si=/^[^&#]+/;class Us{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(R.length>0||Object.keys(b).length>0)&&(O[Vt]=new Dn(R,b)),O}parseSegment(){const R=rn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(R),new mi(V(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const b=function Xt(w){const R=w.match(Gt);return R?R[0]:""}(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const $=rn(this.remaining);$&&(O=$,this.capture(O))}R[V(b)]=V(O)}parseQueryParam(R){const b=function _n(w){const R=w.match(Xn);return R?R[0]:""}(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const Ie=function xr(w){const R=w.match(si);return R?R[0]:""}(this.remaining);Ie&&(O=Ie,this.capture(O))}const $=F(b),re=F(O);if(R.hasOwnProperty($)){let Ie=R[$];Array.isArray(Ie)||(Ie=[Ie],R[$]=Ie),Ie.push(re)}else R[$]=re}parseParens(R){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=rn(this.remaining),$=this.remaining[O.length];if("/"!==$&&")"!==$&&";"!==$)throw new l.wOt(4010,!1);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):R&&(re=Vt);const Ie=this.parseChildren();b[re]=1===Object.keys(Ie).length?Ie[Vt]:new Dn([],Ie),this.consumeOptional("//")}return b}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new l.wOt(4011,!1)}}function Gr(w){return w.segments.length>0?new Dn([],{[Vt]:w}):w}function zi(w){const R={};for(const O of Object.keys(w.children)){const re=zi(w.children[O]);if(O===Vt&&0===re.segments.length&&re.hasChildren())for(const[Ie,rt]of Object.entries(re.children))R[Ie]=rt;else(re.segments.length>0||re.hasChildren())&&(R[O]=re)}return function ls(w){if(1===w.numberOfChildren&&w.children[Vt]){const R=w.children[Vt];return new Dn(w.segments.concat(R.segments),R.children)}return w}(new Dn(w.segments,R))}function Zr(w){return w instanceof cr}function nt(w){let R;const $=Gr(function b(re){const Ie={};for(const tt of re.children){const an=b(tt);Ie[tt.outlet]=an}const rt=new Dn(re.url,Ie);return re===w&&(R=rt),rt}(w.root));return R??$}function Ge(w,R,b,O){let $=w;for(;$.parent;)$=$.parent;if(0===R.length)return bn($,$,$,b,O);const re=function Gn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new wn(!0,0,w);let R=0,b=!1;const O=w.reduce(($,re,Ie)=>{if("object"==typeof re&&null!=re){if(re.outlets){const rt={};return Object.entries(re.outlets).forEach(([tt,an])=>{rt[tt]="string"==typeof an?an.split("/"):an}),[...$,{outlets:rt}]}if(re.segmentPath)return[...$,re.segmentPath]}return"string"!=typeof re?[...$,re]:0===Ie?(re.split("/").forEach((rt,tt)=>{0==tt&&"."===rt||(0==tt&&""===rt?b=!0:".."===rt?R++:""!=rt&&$.push(rt))}),$):[...$,re]},[]);return new wn(b,R,O)}(R);if(re.toRoot())return bn($,$,new Dn([],{}),b,O);const Ie=function Rr(w,R,b){if(w.isAbsolute)return new Kn(R,!0,0);if(!b)return new Kn(R,!1,NaN);if(null===b.parent)return new Kn(b,!0,0);const O=_t(w.commands[0])?0:1;return function oi(w,R,b){let O=w,$=R,re=b;for(;re>$;){if(re-=$,O=O.parent,!O)throw new l.wOt(4005,!1);$=O.segments.length}return new Kn(O,!1,$-re)}(b,b.segments.length-1+O,w.numberOfDoubleDots)}(re,$,w),rt=Ie.processChildren?ei(Ie.segmentGroup,Ie.index,re.commands):ys(Ie.segmentGroup,Ie.index,re.commands);return bn($,Ie.segmentGroup,rt,b,O)}function _t(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Jt(w){return"object"==typeof w&&null!=w&&w.outlets}function bn(w,R,b,O,$){let Ie,re={};O&&Object.entries(O).forEach(([tt,an])=>{re[tt]=Array.isArray(an)?an.map(sr=>`${sr}`):`${an}`}),Ie=w===R?b:Mn(w,R,b);const rt=Gr(zi(Ie));return new cr(rt,re,$)}function Mn(w,R,b){const O={};return Object.entries(w.children).forEach(([$,re])=>{O[$]=re===R?b:Mn(re,R,b)}),new Dn(w.segments,O)}class wn{constructor(R,b,O){if(this.isAbsolute=R,this.numberOfDoubleDots=b,this.commands=O,R&&O.length>0&&_t(O[0]))throw new l.wOt(4003,!1);const $=O.find(Jt);if($&&$!==Cn(O))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kn{constructor(R,b,O){this.segmentGroup=R,this.processChildren=b,this.index=O}}function ys(w,R,b){if(w||(w=new Dn([],{})),0===w.segments.length&&w.hasChildren())return ei(w,R,b);const O=function vs(w,R,b){let O=0,$=R;const re={match:!1,pathIndex:0,commandIndex:0};for(;$<w.segments.length;){if(O>=b.length)return re;const Ie=w.segments[$],rt=b[O];if(Jt(rt))break;const tt=`${rt}`,an=O<b.length-1?b[O+1]:null;if($>0&&void 0===tt)break;if(tt&&an&&"object"==typeof an&&void 0===an.outlets){if(!_i(tt,an,Ie))return re;O+=2}else{if(!_i(tt,{},Ie))return re;O++}$++}return{match:!0,pathIndex:$,commandIndex:O}}(w,R,b),$=b.slice(O.commandIndex);if(O.match&&O.pathIndex<w.segments.length){const re=new Dn(w.segments.slice(0,O.pathIndex),{});return re.children[Vt]=new Dn(w.segments.slice(O.pathIndex),w.children),ei(re,0,$)}return O.match&&0===$.length?new Dn(w.segments,{}):O.match&&!w.hasChildren()?ri(w,R,b):O.match?ei(w,0,$):ri(w,R,b)}function ei(w,R,b){if(0===b.length)return new Dn(w.segments,{});{const O=function lr(w){return Jt(w[0])?w[0].outlets:{[Vt]:w}}(b),$={};if(Object.keys(O).some(re=>re!==Vt)&&w.children[Vt]&&1===w.numberOfChildren&&0===w.children[Vt].segments.length){const re=ei(w.children[Vt],R,b);return new Dn(w.segments,re.children)}return Object.entries(O).forEach(([re,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&($[re]=ys(w.children[re],R,Ie))}),Object.entries(w.children).forEach(([re,Ie])=>{void 0===O[re]&&($[re]=Ie)}),new Dn(w.segments,$)}}function ri(w,R,b){const O=w.segments.slice(0,R);let $=0;for(;$<b.length;){const re=b[$];if(Jt(re)){const tt=jo(re.outlets);return new Dn(O,tt)}if(0===$&&_t(b[0])){O.push(new mi(w.segments[R].path,Ui(b[0]))),$++;continue}const Ie=Jt(re)?re.outlets[Vt]:`${re}`,rt=$<b.length-1?b[$+1]:null;Ie&&rt&&_t(rt)?(O.push(new mi(Ie,Ui(rt))),$+=2):(O.push(new mi(Ie,{})),$++)}return new Dn(O,{})}function jo(w){const R={};return Object.entries(w).forEach(([b,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(R[b]=ri(new Dn([],{}),0,O))}),R}function Ui(w){const R={};return Object.entries(w).forEach(([b,O])=>R[b]=`${O}`),R}function _i(w,R,b){return w==b.path&&Rt(R,b.parameters)}const Di="imperative";class rr{constructor(R,b){this.id=R,this.url=b}}class Ks extends rr{constructor(R,b,O="imperative",$=null){super(R,b),this.type=0,this.navigationTrigger=O,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends rr{constructor(R,b,O){super(R,b),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pr extends rr{constructor(R,b,O,$){super(R,b),this.reason=O,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bs extends rr{constructor(R,b,O,$){super(R,b),this.reason=O,this.code=$,this.type=16}}class Wi extends rr{constructor(R,b,O,$){super(R,b),this.error=O,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xi extends rr{constructor(R,b,O,$){super(R,b),this.urlAfterRedirects=O,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends rr{constructor(R,b,O,$){super(R,b),this.urlAfterRedirects=O,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho extends rr{constructor(R,b,O,$,re){super(R,b),this.urlAfterRedirects=O,this.state=$,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ii extends rr{constructor(R,b,O,$){super(R,b),this.urlAfterRedirects=O,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca extends rr{constructor(R,b,O,$){super(R,b),this.urlAfterRedirects=O,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dr{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wi{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(R,b,O){this.routerEvent=R,this.position=b,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fn{}class Er{constructor(R){this.url=R}}class Ni{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pr,this.attachRef=null}}let pr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(b,O){const $=this.getOrCreateContext(b);$.outlet=O,this.contexts.set(b,$)}onChildOutletDestroyed(b){const O=this.getContext(b);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let O=this.getContext(b);return O||(O=new Ni,this.contexts.set(b,O)),O}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Rs{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const b=this.pathFromRoot(R);return b.length>1?b[b.length-2]:null}children(R){const b=Zi(R,this._root);return b?b.children.map(O=>O.value):[]}firstChild(R){const b=Zi(R,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(R){const b=is(R,this._root);return b.length<2?[]:b[b.length-2].children.map($=>$.value).filter($=>$!==R)}pathFromRoot(R){return is(R,this._root).map(b=>b.value)}}function Zi(w,R){if(w===R.value)return R;for(const b of R.children){const O=Zi(w,b);if(O)return O}return null}function is(w,R){if(w===R.value)return[R];for(const b of R.children){const O=is(w,b);if(O.length)return O.unshift(R),O}return[]}class Pi{constructor(R,b){this.value=R,this.children=b}toString(){return`TreeNode(${this.value})`}}function es(w){const R={};return w&&w.children.forEach(b=>R[b.value.outlet]=b),R}class hr extends Rs{constructor(R,b){super(R),this.snapshot=b,br(this,R)}toString(){return this.snapshot.toString()}}function qt(w,R){const b=function Sn(w,R){const Ie=new Hr([],{},{},"",{},Vt,R,null,{});return new ss("",new Pi(Ie,[]))}(0,R),O=new Ue.t([new mi("",{})]),$=new Ue.t({}),re=new Ue.t({}),Ie=new Ue.t({}),rt=new Ue.t(""),tt=new Jn(O,$,Ie,rt,re,Vt,R,b.root);return tt.snapshot=b.root,new hr(new Pi(tt,[]),b)}class Jn{constructor(R,b,O,$,re,Ie,rt,tt){this.urlSubject=R,this.paramsSubject=b,this.queryParamsSubject=O,this.fragmentSubject=$,this.dataSubject=re,this.outlet=Ie,this.component=rt,this._futureSnapshot=tt,this.title=this.dataSubject?.pipe((0,vt.T)(an=>an[St]))??(0,Pe.of)(void 0),this.url=R,this.params=b,this.queryParams=O,this.fragment=$,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.T)(R=>nn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.T)(R=>nn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(w,R="emptyOnly"){const b=w.pathFromRoot;let O=0;if("always"!==R)for(O=b.length-1;O>=1;){const $=b[O],re=b[O-1];if($.routeConfig&&""===$.routeConfig.path)O--;else{if(re.component)break;O--}}return function Qs(w){return w.reduce((R,b)=>({params:{...R.params,...b.params},data:{...R.data,...b.data},resolve:{...b.data,...R.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(O))}class Hr{get title(){return this.data?.[St]}constructor(R,b,O,$,re,Ie,rt,tt,an){this.url=R,this.params=b,this.queryParams=O,this.fragment=$,this.data=re,this.outlet=Ie,this.component=rt,this.routeConfig=tt,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends Rs{constructor(R,b){super(b),this.url=R,br(this,b)}toString(){return Ms(this._root)}}function br(w,R){R.value._routerState=w,R.children.forEach(b=>br(w,b))}function Ms(w){const R=w.children.length>0?` { ${w.children.map(Ms).join(", ")} } `:"";return`${w.value}${R}`}function Es(w){if(w.snapshot){const R=w.snapshot,b=w._futureSnapshot;w.snapshot=b,Rt(R.queryParams,b.queryParams)||w.queryParamsSubject.next(b.queryParams),R.fragment!==b.fragment&&w.fragmentSubject.next(b.fragment),Rt(R.params,b.params)||w.paramsSubject.next(b.params),function $n(w,R){if(w.length!==R.length)return!1;for(let b=0;b<w.length;++b)if(!Rt(w[b],R[b]))return!1;return!0}(R.url,b.url)||w.urlSubject.next(b.url),Rt(R.data,b.data)||w.dataSubject.next(b.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Vn(w,R){const b=Rt(w.params,R.params)&&function $e(w,R){return at(w,R)&&w.every((b,O)=>Rt(b.parameters,R[O].parameters))}(w.url,R.url);return b&&!(!w.parent!=!R.parent)&&(!w.parent||Vn(w.parent,R.parent))}let os=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(pr),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(Y,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:O,previousValue:$}=b.name;if(O)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,O){this.activated=b,this._activatedRoute=O,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,O){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=b;const $=this.location,Ie=b.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,tt=new ai(b,rt,$.injector);this.activated=$.createComponent(Ie,{index:$.length,injector:tt,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275dir=l.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return w})();class ai{constructor(R,b,O){this.route=R,this.childContexts=b,this.parent=O}get(R,b){return R===Jn?this.route:R===pr?this.childContexts:this.parent.get(R,b)}}const Y=new l.nKC("");let G=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:O}=b,$=It([O.queryParams,O.params,O.data]).pipe((0,Pt.n)(([re,Ie,rt],tt)=>(rt={...re,...Ie,...rt},0===tt?(0,Pe.of)(rt):Promise.resolve(rt)))).subscribe(re=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(b);const Ie=(0,l.HJs)(O.component);if(Ie)for(const{templateName:rt}of Ie.inputs)b.activatedComponentRef.setInput(rt,re[rt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,$)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac})}return w})();function Ae(w,R,b){if(b&&w.shouldReuseRoute(R.value,b.value.snapshot)){const O=b.value;O._futureSnapshot=R.value;const $=function He(w,R,b){return R.children.map(O=>{for(const $ of b.children)if(w.shouldReuseRoute(O.value,$.value.snapshot))return Ae(w,O,$);return Ae(w,O)})}(w,R,b);return new Pi(O,$)}{if(w.shouldAttach(R.value)){const re=w.retrieve(R.value);if(null!==re){const Ie=re.route;return Ie.value._futureSnapshot=R.value,Ie.children=R.children.map(rt=>Ae(w,rt)),Ie}}const O=function dt(w){return new Jn(new Ue.t(w.url),new Ue.t(w.params),new Ue.t(w.queryParams),new Ue.t(w.fragment),new Ue.t(w.data),w.outlet,w.component,w)}(R.value),$=R.children.map(re=>Ae(w,re));return new Pi(O,$)}}const jt="ngNavigationCancelingError";function cn(w,R){const{redirectTo:b,navigationBehaviorOptions:O}=Zr(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,$=At(!1,0,R);return $.url=b,$.navigationBehaviorOptions=O,$}function At(w,R,b){const O=new Error("NavigationCancelingError: "+(w||""));return O[jt]=!0,O.cancellationCode=R,b&&(O.url=b),O}function Zn(w){return w&&w[jt]}let yn=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275cmp=l.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(O,$){1&O&&l.nrm(0,"router-outlet")},dependencies:[os],encapsulation:2})}return w})();function Kr(w){const R=w.children&&w.children.map(Kr),b=R?{...w,children:R}:{...w};return!b.component&&!b.loadComponent&&(R||b.loadChildren)&&b.outlet&&b.outlet!==Vt&&(b.component=yn),b}function gr(w){return w.outlet||Vt}function Ki(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const b=R.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class la{constructor(R,b,O,$,re){this.routeReuseStrategy=R,this.futureState=b,this.currState=O,this.forwardEvent=$,this.inputBindingEnabled=re}activate(R){const b=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,O,R),Es(this.futureState.root),this.activateChildRoutes(b,O,R)}deactivateChildRoutes(R,b,O){const $=es(b);R.children.forEach(re=>{const Ie=re.value.outlet;this.deactivateRoutes(re,$[Ie],O),delete $[Ie]}),Object.values($).forEach(re=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(R,b,O){const $=R.value,re=b?b.value:null;if($===re)if($.component){const Ie=O.getContext($.outlet);Ie&&this.deactivateChildRoutes(R,b,Ie.children)}else this.deactivateChildRoutes(R,b,O);else re&&this.deactivateRouteAndItsChildren(b,O)}deactivateRouteAndItsChildren(R,b){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,b):this.deactivateRouteAndOutlet(R,b)}detachAndStoreRouteSubtree(R,b){const O=b.getContext(R.value.outlet),$=O&&R.value.component?O.children:b,re=es(R);for(const Ie of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ie],$);if(O&&O.outlet){const Ie=O.outlet.detach(),rt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ie,route:R,contexts:rt})}}deactivateRouteAndOutlet(R,b){const O=b.getContext(R.value.outlet),$=O&&R.value.component?O.children:b,re=es(R);for(const Ie of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ie],$);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(R,b,O){const $=es(b);R.children.forEach(re=>{this.activateRoutes(re,$[re.value.outlet],O),this.forwardEvent(new ds(re.value.snapshot))}),R.children.length&&this.forwardEvent(new Si(R.value.snapshot))}activateRoutes(R,b,O){const $=R.value,re=b?b.value:null;if(Es($),$===re)if($.component){const Ie=O.getOrCreateContext($.outlet);this.activateChildRoutes(R,b,Ie.children)}else this.activateChildRoutes(R,b,O);else if($.component){const Ie=O.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const rt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ie.children.onOutletReAttached(rt.contexts),Ie.attachRef=rt.componentRef,Ie.route=rt.route.value,Ie.outlet&&Ie.outlet.attach(rt.componentRef,rt.route.value),Es(rt.route.value),this.activateChildRoutes(R,null,Ie.children)}else{const rt=Ki($.snapshot);Ie.attachRef=null,Ie.route=$,Ie.injector=rt,Ie.outlet&&Ie.outlet.activateWith($,Ie.injector),this.activateChildRoutes(R,null,Ie.children)}}else this.activateChildRoutes(R,null,O)}}class Is{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Cs{constructor(R,b){this.component=R,this.route=b}}function Va(w,R,b){const O=w._root;return To(O,R?R._root:null,b,[O.value])}function ki(w,R){const b=Symbol(),O=R.get(w,b);return O===b?"function"!=typeof w||(0,l.LfX)(w)?R.get(w):w:O}function To(w,R,b,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const re=es(R);return w.children.forEach(Ie=>{(function wo(w,R,b,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const re=w.value,Ie=R?R.value:null,rt=b?b.getContext(w.value.outlet):null;if(Ie&&re.routeConfig===Ie.routeConfig){const tt=function La(w,R,b){if("function"==typeof b)return b(w,R);switch(b){case"pathParamsChange":return!at(w.url,R.url);case"pathParamsOrQueryParamsChange":return!at(w.url,R.url)||!Rt(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(w,R)||!Rt(w.queryParams,R.queryParams);default:return!Vn(w,R)}}(Ie,re,re.routeConfig.runGuardsAndResolvers);tt?$.canActivateChecks.push(new Is(O)):(re.data=Ie.data,re._resolvedData=Ie._resolvedData),To(w,R,re.component?rt?rt.children:null:b,O,$),tt&&rt&&rt.outlet&&rt.outlet.isActivated&&$.canDeactivateChecks.push(new Cs(rt.outlet.component,Ie))}else Ie&&Nr(R,rt,$),$.canActivateChecks.push(new Is(O)),To(w,null,re.component?rt?rt.children:null:b,O,$)})(Ie,re[Ie.value.outlet],b,O.concat([Ie.value]),$),delete re[Ie.value.outlet]}),Object.entries(re).forEach(([Ie,rt])=>Nr(rt,b.getContext(Ie),$)),$}function Nr(w,R,b){const O=es(w),$=w.value;Object.entries(O).forEach(([re,Ie])=>{Nr(Ie,$.component?R?R.children.getContext(re):null:R,b)}),b.canDeactivateChecks.push(new Cs($.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,$))}function Wo(w){return"function"==typeof w}function qi(w){return w instanceof Ct.G||"EmptyError"===w?.name}const hs=Symbol("INITIAL_VALUE");function Qi(){return(0,Pt.n)(w=>It(w.map(R=>R.pipe((0,Ft.s)(1),(0,Je.Z)(hs)))).pipe((0,vt.T)(R=>{for(const b of R)if(!0!==b){if(b===hs)return hs;if(!1===b||b instanceof cr)return b}return!0}),(0,pe.p)(R=>R!==hs),(0,Ft.s)(1)))}function js(w){return(0,Ye.F)((0,ge.M)(R=>{if(Zr(R))throw cn(0,R)}),(0,vt.T)(R=>!0===R))}class Ys{constructor(R){this.segmentGroup=R||null}}class ba{constructor(R){this.urlTree=R}}function fs(w){return ze(new Ys(w))}function qn(w){return ze(new ba(w))}class da{constructor(R,b){this.urlSerializer=R,this.urlTree=b}noMatchError(R){return new l.wOt(4002,!1)}lineralizeSegments(R,b){let O=[],$=b.root;for(;;){if(O=O.concat($.segments),0===$.numberOfChildren)return(0,Pe.of)(O);if($.numberOfChildren>1||!$.children[Vt])return ze(new l.wOt(4e3,!1));$=$.children[Vt]}}applyRedirectCommands(R,b,O){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),R,O)}applyRedirectCreateUrlTree(R,b,O,$){const re=this.createSegmentGroup(R,b.root,O,$);return new cr(re,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(R,b){const O={};return Object.entries(R).forEach(([$,re])=>{if("string"==typeof re&&re.startsWith(":")){const rt=re.substring(1);O[$]=b[rt]}else O[$]=re}),O}createSegmentGroup(R,b,O,$){const re=this.createSegments(R,b.segments,O,$);let Ie={};return Object.entries(b.children).forEach(([rt,tt])=>{Ie[rt]=this.createSegmentGroup(R,tt,O,$)}),new Dn(re,Ie)}createSegments(R,b,O,$){return b.map(re=>re.path.startsWith(":")?this.findPosParam(R,re,$):this.findOrReturn(re,O))}findPosParam(R,b,O){const $=O[b.path.substring(1)];if(!$)throw new l.wOt(4001,!1);return $}findOrReturn(R,b){let O=0;for(const $ of b){if($.path===R.path)return b.splice(O),$;O++}return R}}const Ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ha(w,R,b,O,$){const re=po(w,R,b);return re.matched?(O=function ui(w,R){return w.providers&&!w._injector&&(w._injector=(0,l.Ol2)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,O),function Do(w,R,b,O){const $=R.canMatch;if(!$||0===$.length)return(0,Pe.of)(!0);const re=$.map(Ie=>{const rt=ki(Ie,w);return pn(function Oe(w){return w&&Wo(w.canMatch)}(rt)?rt.canMatch(R,b):w.runInContext(()=>rt(R,b)))});return(0,Pe.of)(re).pipe(Qi(),js())}(O,R,b).pipe((0,vt.T)(Ie=>!0===Ie?re:{...Ta}))):(0,Pe.of)(re)}function po(w,R,b){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||b.length>0)?{...Ta}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const $=(R.matcher||fr)(b,w,R);if(!$)return{...Ta};const re={};Object.entries($.posParams??{}).forEach(([rt,tt])=>{re[rt]=tt.path});const Ie=$.consumed.length>0?{...re,...$.consumed[$.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:$.consumed,remainingSegments:b.slice($.consumed.length),parameters:Ie,positionalParamSegments:$.posParams??{}}}function Go(w,R,b,O){return b.length>0&&function io(w,R,b){return b.some(O=>so(w,R,O)&&gr(O)!==Vt)}(w,b,O)?{segmentGroup:new Dn(R,ro(O,new Dn(b,w.children))),slicedSegments:[]}:0===b.length&&function Js(w,R,b){return b.some(O=>so(w,R,O))}(w,b,O)?{segmentGroup:new Dn(w.segments,$a(w,0,b,O,w.children)),slicedSegments:b}:{segmentGroup:new Dn(w.segments,w.children),slicedSegments:b}}function $a(w,R,b,O,$){const re={};for(const Ie of O)if(so(w,b,Ie)&&!$[gr(Ie)]){const rt=new Dn([],{});re[gr(Ie)]=rt}return{...$,...re}}function ro(w,R){const b={};b[Vt]=R;for(const O of w)if(""===O.path&&gr(O)!==Vt){const $=new Dn([],{});b[gr(O)]=$}return b}function so(w,R,b){return(!(w.hasChildren()||R.length>0)||"full"!==b.pathMatch)&&""===b.path}class fa{constructor(R,b,O,$,re,Ie,rt){this.injector=R,this.configLoader=b,this.rootComponentType=O,this.config=$,this.urlTree=re,this.paramsInheritanceStrategy=Ie,this.urlSerializer=rt,this.allowRedirects=!0,this.applyRedirects=new da(this.urlSerializer,this.urlTree)}noMatchError(R){return new l.wOt(4002,!1)}recognize(){const R=Go(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Vt).pipe((0,we.W)(b=>{if(b instanceof ba)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof Ys?this.noMatchError(b):b}),(0,vt.T)(b=>{const O=new Hr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),$=new Pi(O,b),re=new ss("",$),Ie=function Yn(w,R,b=null,O=null){return Ge(nt(w),R,b,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Ie.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(Ie),this.inheritParamsAndData(re._root),{state:re,tree:Ie}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Vt).pipe((0,we.W)(O=>{throw O instanceof Ys?this.noMatchError(O):O}))}inheritParamsAndData(R){const b=R.value,O=Ri(b,this.paramsInheritanceStrategy);b.params=Object.freeze(O.params),b.data=Object.freeze(O.data),R.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(R,b,O,$){return 0===O.segments.length&&O.hasChildren()?this.processChildren(R,b,O):this.processSegment(R,b,O,O.segments,$,!0)}processChildren(R,b,O){const $=[];for(const re of Object.keys(O.children))"primary"===re?$.unshift(re):$.push(re);return(0,Ee.H)($).pipe((0,Se.H)(re=>{const Ie=O.children[re],rt=function Xs(w,R){const b=w.filter(O=>gr(O)===R);return b.push(...w.filter(O=>gr(O)!==R)),b}(b,re);return this.processSegmentGroup(R,rt,Ie,re)}),(0,Fe.S)((re,Ie)=>(re.push(...Ie),re)),(0,lt.U)(null),function Kt(w,R){const b=arguments.length>=2;return O=>O.pipe(w?(0,pe.p)(($,re)=>w($,re,O)):je.D,mt(1),b?(0,lt.U)(R):(0,tn.v)(()=>new Ct.G))}(),(0,ue.Z)(re=>{if(null===re)return fs(O);const Ie=Hs(re);return function Au(w){w.sort((R,b)=>R.value.outlet===Vt?-1:b.value.outlet===Vt?1:R.value.outlet.localeCompare(b.value.outlet))}(Ie),(0,Pe.of)(Ie)}))}processSegment(R,b,O,$,re,Ie){return(0,Ee.H)(b).pipe((0,Se.H)(rt=>this.processSegmentAgainstRoute(rt._injector??R,b,rt,O,$,re,Ie).pipe((0,we.W)(tt=>{if(tt instanceof Ys)return(0,Pe.of)(null);throw tt}))),(0,me.$)(rt=>!!rt),(0,we.W)(rt=>{if(qi(rt))return function wu(w,R,b){return 0===R.length&&!w.children[b]}(O,$,re)?(0,Pe.of)([]):fs(O);throw rt}))}processSegmentAgainstRoute(R,b,O,$,re,Ie,rt){return function So(w,R,b,O){return!!(gr(w)===O||O!==Vt&&so(R,b,w))&&("**"===w.path||po(R,w,b).matched)}(O,$,re,Ie)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(R,$,O,re,Ie,rt):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,$,b,O,re,Ie):fs($):fs($)}expandSegmentAgainstRouteUsingRedirect(R,b,O,$,re,Ie){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,O,$,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(R,b,O,$,re,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,b,O,$){const re=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?qn(re):this.applyRedirects.lineralizeSegments(O,re).pipe((0,ue.Z)(Ie=>{const rt=new Dn(Ie,{});return this.processSegment(R,b,rt,Ie,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,b,O,$,re,Ie){const{matched:rt,consumedSegments:tt,remainingSegments:an,positionalParamSegments:sr}=po(b,$,re);if(!rt)return fs(b);const _r=this.applyRedirects.applyRedirectCommands(tt,$.redirectTo,sr);return $.redirectTo.startsWith("/")?qn(_r):this.applyRedirects.lineralizeSegments($,_r).pipe((0,ue.Z)(Ir=>this.processSegment(R,O,b,Ir.concat(an),Ie,!1)))}matchSegmentAgainstRoute(R,b,O,$,re,Ie){let rt;if("**"===O.path){const tt=$.length>0?Cn($).parameters:{},an=new Hr($,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mr(O),gr(O),O.component??O._loadedComponent??null,O,S(O));rt=(0,Pe.of)({snapshot:an,consumedSegments:[],remainingSegments:[]}),b.children={}}else rt=ha(b,O,$,R).pipe((0,vt.T)(({matched:tt,consumedSegments:an,remainingSegments:sr,parameters:_r})=>tt?{snapshot:new Hr(an,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mr(O),gr(O),O.component??O._loadedComponent??null,O,S(O)),consumedSegments:an,remainingSegments:sr}:null));return rt.pipe((0,Pt.n)(tt=>null===tt?fs(b):this.getChildConfig(R=O._injector??R,O,$).pipe((0,Pt.n)(({routes:an})=>{const sr=O._loadedInjector??R,{snapshot:_r,consumedSegments:Ir,remainingSegments:qr}=tt,{segmentGroup:Ka,slicedSegments:qa}=Go(b,Ir,qr,an);if(0===qa.length&&Ka.hasChildren())return this.processChildren(sr,an,Ka).pipe((0,vt.T)(to=>null===to?null:[new Pi(_r,to)]));if(0===an.length&&0===qa.length)return(0,Pe.of)([new Pi(_r,[])]);const Qa=gr(O)===re;return this.processSegment(sr,an,Ka,qa,Qa?Vt:re,!0).pipe((0,vt.T)(to=>[new Pi(_r,to)]))}))))}getChildConfig(R,b,O){return b.children?(0,Pe.of)({routes:b.children,injector:R}):b.loadChildren?void 0!==b._loadedRoutes?(0,Pe.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function ec(w,R,b,O){const $=R.canLoad;if(void 0===$||0===$.length)return(0,Pe.of)(!0);const re=$.map(Ie=>{const rt=ki(Ie,w);return pn(function z(w){return w&&Wo(w.canLoad)}(rt)?rt.canLoad(R,b):w.runInContext(()=>rt(R,b)))});return(0,Pe.of)(re).pipe(Qi(),js())}(R,b,O).pipe((0,ue.Z)($=>$?this.configLoader.loadChildren(R,b).pipe((0,ge.M)(re=>{b._loadedRoutes=re.routes,b._loadedInjector=re.injector})):function Tu(w){return ze(At(!1,3))}())):(0,Pe.of)({routes:[],injector:R})}}function pa(w){const R=w.value.routeConfig;return R&&""===R.path}function Hs(w){const R=[],b=new Set;for(const O of w){if(!pa(O)){R.push(O);continue}const $=R.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==$?($.children.push(...O.children),b.add($)):R.push(O)}for(const O of b){const $=Hs(O.children);R.push(new Pi(O.value,$))}return R.filter(O=>!b.has(O))}function mr(w){return w.data||{}}function S(w){return w.resolve||{}}function hn(w){return"string"==typeof w.title||null===w.title}function Tr(w){return(0,Pt.n)(R=>{const b=w(R);return b?(0,Ee.H)(b).pipe((0,vt.T)(()=>R)):(0,Pe.of)(R)})}const Mr=new l.nKC("ROUTES");let kr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,Pe.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const O=pn(b.loadComponent()).pipe((0,vt.T)(Wr),(0,ge.M)(re=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=re}),(0,fn.j)(()=>{this.componentLoaders.delete(b)})),$=new $t(O,()=>new Yt.B).pipe(Ce());return this.componentLoaders.set(b,$),$}loadChildren(b,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,Pe.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const re=function ur(w,R,b,O){return pn(w.loadChildren()).pipe((0,vt.T)(Wr),(0,ue.Z)($=>$ instanceof l.Co$||Array.isArray($)?(0,Pe.of)($):(0,Ee.H)(R.compileModuleAsync($))),(0,vt.T)($=>{O&&O(w);let re,Ie,rt=!1;return Array.isArray($)?(Ie=$,!0):(re=$.create(b).injector,Ie=re.get(Mr,[],{optional:!0,self:!0}).flat()),{routes:Ie.map(Kr),injector:re}}))}(O,this.compiler,b,this.onLoadEndListener).pipe((0,fn.j)(()=>{this.childrenLoaders.delete(O)})),Ie=new $t(re,()=>new Yt.B).pipe(Ce());return this.childrenLoaders.set(O,Ie),Ie}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Wr(w){return function ii(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let bi=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yt.B,this.transitionAbortSubject=new Yt.B,this.configLoader=(0,l.WQX)(kr),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Te),this.rootContexts=(0,l.WQX)(pr),this.inputBindingEnabled=null!==(0,l.WQX)(Y,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new dr($)),this.configLoader.onLoadStartListener=$=>this.events.next(new Ci($))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:O})}setupNavigations(b,O,$){return this.transitions=new Ue.t({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:b.urlHandlingStrategy.extract(O),urlAfterRedirects:b.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Di,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pe.p)(re=>0!==re.id),(0,vt.T)(re=>({...re,extractedUrl:b.urlHandlingStrategy.extract(re.rawUrl)})),(0,Pt.n)(re=>{this.currentTransition=re;let Ie=!1,rt=!1;return(0,Pe.of)(re).pipe((0,ge.M)(tt=>{this.currentNavigation={id:tt.id,initialUrl:tt.rawUrl,extractedUrl:tt.extractedUrl,trigger:tt.source,extras:tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pt.n)(tt=>{const an=tt.currentBrowserUrl.toString(),sr=!b.navigated||tt.extractedUrl.toString()!==an||an!==tt.currentUrlTree.toString();if(!sr&&"reload"!==(tt.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Ir="";return this.events.next(new Bs(tt.id,this.urlSerializer.serialize(tt.rawUrl),Ir,0)),tt.resolve(null),qe.w}if(b.urlHandlingStrategy.shouldProcessUrl(tt.rawUrl))return(0,Pe.of)(tt).pipe((0,Pt.n)(Ir=>{const qr=this.transitions?.getValue();return this.events.next(new Ks(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),Ir.source,Ir.restoredState)),qr!==this.transitions?.getValue()?qe.w:Promise.resolve(Ir)}),function ee(w,R,b,O,$,re){return(0,ue.Z)(Ie=>function go(w,R,b,O,$,re,Ie="emptyOnly"){return new fa(w,R,b,O,$,Ie,re).recognize()}(w,R,b,O,Ie.extractedUrl,$,re).pipe((0,vt.T)(({state:rt,tree:tt})=>({...Ie,targetSnapshot:rt,urlAfterRedirects:tt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,ge.M)(Ir=>{re.targetSnapshot=Ir.targetSnapshot,re.urlAfterRedirects=Ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ir.urlAfterRedirects};const qr=new xi(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),this.urlSerializer.serialize(Ir.urlAfterRedirects),Ir.targetSnapshot);this.events.next(qr)}));if(sr&&b.urlHandlingStrategy.shouldProcessUrl(tt.currentRawUrl)){const{id:Ir,extractedUrl:qr,source:Ka,restoredState:qa,extras:Qa}=tt,to=new Ks(Ir,this.urlSerializer.serialize(qr),Ka,qa);this.events.next(to);const ia=qt(0,this.rootComponentType).snapshot;return this.currentTransition=re={...tt,targetSnapshot:ia,urlAfterRedirects:qr,extras:{...Qa,skipLocationChange:!1,replaceUrl:!1}},(0,Pe.of)(re)}{const Ir="";return this.events.next(new Bs(tt.id,this.urlSerializer.serialize(tt.extractedUrl),Ir,1)),tt.resolve(null),qe.w}}),(0,ge.M)(tt=>{const an=new Ji(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(an)}),(0,vt.T)(tt=>(this.currentTransition=re={...tt,guards:Va(tt.targetSnapshot,tt.currentSnapshot,this.rootContexts)},re)),function Ao(w,R){return(0,ue.Z)(b=>{const{targetSnapshot:O,currentSnapshot:$,guards:{canActivateChecks:re,canDeactivateChecks:Ie}}=b;return 0===Ie.length&&0===re.length?(0,Pe.of)({...b,guardsResult:!0}):function Os(w,R,b,O){return(0,Ee.H)(w).pipe((0,ue.Z)($=>function Mi(w,R,b,O,$){const re=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,Pe.of)(!0);const Ie=re.map(rt=>{const tt=Ki(R)??$,an=ki(rt,tt);return pn(function se(w){return w&&Wo(w.canDeactivate)}(an)?an.canDeactivate(w,R,b,O):tt.runInContext(()=>an(w,R,b,O))).pipe((0,me.$)())});return(0,Pe.of)(Ie).pipe(Qi())}($.component,$.route,b,R,O)),(0,me.$)($=>!0!==$,!0))}(Ie,O,$,w).pipe((0,ue.Z)(rt=>rt&&function Ua(w){return"boolean"==typeof w}(rt)?function $s(w,R,b,O){return(0,Ee.H)(R).pipe((0,Se.H)($=>(0,on.x)(function Dl(w,R){return null!==w&&R&&R(new wi(w)),(0,Pe.of)(!0)}($.route.parent,O),function xs(w,R){return null!==w&&R&&R(new qs(w)),(0,Pe.of)(!0)}($.route,O),function ea(w,R,b){const O=R[R.length-1],re=R.slice(0,R.length-1).reverse().map(Ie=>function Zo(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>Le(()=>{const rt=Ie.guards.map(tt=>{const an=Ki(Ie.node)??b,sr=ki(tt,an);return pn(function x(w){return w&&Wo(w.canActivateChild)}(sr)?sr.canActivateChild(O,w):an.runInContext(()=>sr(O,w))).pipe((0,me.$)())});return(0,Pe.of)(rt).pipe(Qi())}));return(0,Pe.of)(re).pipe(Qi())}(w,$.path,b),function zr(w,R,b){const O=R.routeConfig?R.routeConfig.canActivate:null;if(!O||0===O.length)return(0,Pe.of)(!0);const $=O.map(re=>Le(()=>{const Ie=Ki(R)??b,rt=ki(re,Ie);return pn(function Q(w){return w&&Wo(w.canActivate)}(rt)?rt.canActivate(R,w):Ie.runInContext(()=>rt(R,w))).pipe((0,me.$)())}));return(0,Pe.of)($).pipe(Qi())}(w,$.route,b))),(0,me.$)($=>!0!==$,!0))}(O,re,w,R):(0,Pe.of)(rt)),(0,vt.T)(rt=>({...b,guardsResult:rt})))})}(this.environmentInjector,tt=>this.events.next(tt)),(0,ge.M)(tt=>{if(re.guardsResult=tt.guardsResult,Zr(tt.guardsResult))throw cn(0,tt.guardsResult);const an=new Ho(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot,!!tt.guardsResult);this.events.next(an)}),(0,pe.p)(tt=>!!tt.guardsResult||(this.cancelNavigationTransition(tt,"",3),!1)),Tr(tt=>{if(tt.guards.canActivateChecks.length)return(0,Pe.of)(tt).pipe((0,ge.M)(an=>{const sr=new Ii(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(sr)}),(0,Pt.n)(an=>{let sr=!1;return(0,Pe.of)(an).pipe(function U(w,R){return(0,ue.Z)(b=>{const{targetSnapshot:O,guards:{canActivateChecks:$}}=b;if(!$.length)return(0,Pe.of)(b);let re=0;return(0,Ee.H)($).pipe((0,Se.H)(Ie=>function X(w,R,b,O){const $=w.routeConfig,re=w._resolve;return void 0!==$?.title&&!hn($)&&(re[St]=$.title),function be(w,R,b,O){const $=function ot(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===$.length)return(0,Pe.of)({});const re={};return(0,Ee.H)($).pipe((0,ue.Z)(Ie=>function bt(w,R,b,O){const $=Ki(R)??O,re=ki(w,$);return pn(re.resolve?re.resolve(R,b):$.runInContext(()=>re(R,b)))}(w[Ie],R,b,O).pipe((0,me.$)(),(0,ge.M)(rt=>{re[Ie]=rt}))),mt(1),function Pn(w){return(0,vt.T)(()=>w)}(re),(0,we.W)(Ie=>qi(Ie)?qe.w:ze(Ie)))}(re,w,R,O).pipe((0,vt.T)(Ie=>(w._resolvedData=Ie,w.data=Ri(w,b).resolve,$&&hn($)&&(w.data[St]=$.title),null)))}(Ie.route,O,w,R)),(0,ge.M)(()=>re++),mt(1),(0,ue.Z)(Ie=>re===$.length?(0,Pe.of)(b):qe.w))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,ge.M)({next:()=>sr=!0,complete:()=>{sr||this.cancelNavigationTransition(an,"",2)}}))}),(0,ge.M)(an=>{const sr=new ca(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(sr)}))}),Tr(tt=>{const an=sr=>{const _r=[];sr.routeConfig?.loadComponent&&!sr.routeConfig._loadedComponent&&_r.push(this.configLoader.loadComponent(sr.routeConfig).pipe((0,ge.M)(Ir=>{sr.component=Ir}),(0,vt.T)(()=>{})));for(const Ir of sr.children)_r.push(...an(Ir));return _r};return It(an(tt.targetSnapshot.root)).pipe((0,lt.U)(),(0,Ft.s)(1))}),Tr(()=>this.afterPreactivation()),(0,vt.T)(tt=>{const an=function ve(w,R,b){const O=Ae(w,R._root,b?b._root:void 0);return new hr(O,R)}(b.routeReuseStrategy,tt.targetSnapshot,tt.currentRouterState);return this.currentTransition=re={...tt,targetRouterState:an},re}),(0,ge.M)(()=>{this.events.next(new Fn)}),((w,R,b,O)=>(0,vt.T)($=>(new la(R,$.targetRouterState,$.currentRouterState,b,O).activate(w),$)))(this.rootContexts,b.routeReuseStrategy,tt=>this.events.next(tt),this.inputBindingEnabled),(0,Ft.s)(1),(0,ge.M)({next:tt=>{Ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects))),b.titleStrategy?.updateTitle(tt.targetRouterState.snapshot),tt.resolve(!0)},complete:()=>{Ie=!0}}),function Nt(w){return(0,Dt.N)((R,b)=>{(0,We.Tg)(w).subscribe((0,ct._)(b,()=>b.complete(),or.l)),!b.closed&&R.subscribe(b)})}(this.transitionAbortSubject.pipe((0,ge.M)(tt=>{throw tt}))),(0,fn.j)(()=>{Ie||rt||this.cancelNavigationTransition(re,"",1),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),(0,we.W)(tt=>{if(rt=!0,Zn(tt))this.events.next(new Pr(re.id,this.urlSerializer.serialize(re.extractedUrl),tt.message,tt.cancellationCode)),function Zt(w){return Zn(w)&&Zr(w.url)}(tt)?this.events.next(new Er(tt.url)):re.resolve(!1);else{this.events.next(new Wi(re.id,this.urlSerializer.serialize(re.extractedUrl),tt,re.targetSnapshot??void 0));try{re.resolve(b.errorHandler(tt))}catch(an){re.reject(an)}}return qe.w}))}))}cancelNavigationTransition(b,O,$){const re=new Pr(b.id,this.urlSerializer.serialize(b.extractedUrl),O,$);this.events.next(re),b.resolve(!1)}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function ts(w){return w!==Di}let ps=(()=>{class w{buildTitle(b){let O,$=b.root;for(;void 0!==$;)O=this.getResolvedTitleForRoute($)??O,$=$.children.find(re=>re.outlet===Vt);return O}getResolvedTitleForRoute(b){return b.data[St]}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(ta)},providedIn:"root"})}return w})(),ta=(()=>{class w extends ps{constructor(b){super(),this.title=b}updateTitle(b){const O=this.buildTitle(b);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(On.hE))};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ns=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(Un)},providedIn:"root"})}return w})();class Et{shouldDetach(R){return!1}store(R,b){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,b){return R.routeConfig===b.routeConfig}}let Un=(()=>{class w extends Et{static#e=this.\u0275fac=function(){let b;return function($){return(b||(b=l.xGo(w)))($||w)}}();static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Zs=new l.nKC("",{providedIn:"root",factory:()=>({})});let tc=(()=>{class w{static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:function(){return(0,l.WQX)(Fr)},providedIn:"root"})}return w})(),Fr=(()=>{class w{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,O){return b}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Po=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Po||{});function wa(w,R){w.events.pipe((0,pe.p)(b=>b instanceof Sr||b instanceof Pr||b instanceof Wi||b instanceof Bs),(0,vt.T)(b=>b instanceof Sr||b instanceof Bs?Po.COMPLETE:b instanceof Pr&&(0===b.code||1===b.code)?Po.REDIRECTING:Po.FAILED),(0,pe.p)(b=>b!==Po.REDIRECTING),(0,Ft.s)(1)).subscribe(()=>{R()})}function Ai(w){throw w}function nc(w,R,b){return R.parse("/")}const kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pi=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.WQX)(l.H3F),this.isNgZoneEnabled=!1,this._events=new Yt.B,this.options=(0,l.WQX)(Zs,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.$K3),this.errorHandler=this.options.errorHandler||Ai,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.WQX)(tc),this.routeReuseStrategy=(0,l.WQX)(Ns),this.titleStrategy=(0,l.WQX)(ps),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.WQX)(Mr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.WQX)(bi),this.urlSerializer=(0,l.WQX)(Te),this.location=(0,l.WQX)(Wn.aZ),this.componentInputBindingEnabled=!!(0,l.WQX)(Y,{optional:!0}),this.eventsSubscription=new ft.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:$}=this.navigationTransitions;if(null===$)return void(Du(O)&&this._events.next(O));if(O instanceof Ks)ts($.source)&&(this.browserUrlTree=$.extractedUrl);else if(O instanceof Bs)this.rawUrlTree=$.rawUrl;else if(O instanceof xi){if("eager"===this.urlUpdateStrategy){if(!$.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl);this.setBrowserUrl(re,$)}this.browserUrlTree=$.urlAfterRedirects}}else if(O instanceof Fn)this.currentUrlTree=$.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),this.routerState=$.targetRouterState,"deferred"===this.urlUpdateStrategy&&($.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$),this.browserUrlTree=$.urlAfterRedirects);else if(O instanceof Pr)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory($);else if(O instanceof Er){const re=this.urlHandlingStrategy.merge(O.url,$.currentRawUrl),Ie={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ts($.source)};this.scheduleNavigation(re,Di,null,Ie,{resolve:$.resolve,reject:$.reject,promise:$.promise})}O instanceof Wi&&this.restoreHistory($,!0),O instanceof Sr&&(this.navigated=!0),Du(O)&&this._events.next(O)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Di,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const O="popstate"===b.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,O,b.state)},0)}))}navigateToSyncWithBrowser(b,O,$){const re={replaceUrl:!0},Ie=$?.navigationId?$:null;if($){const tt={...$};delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(re.state=tt)}const rt=this.parseUrl(b);this.scheduleNavigation(rt,O,Ie,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,O={}){const{relativeTo:$,queryParams:re,fragment:Ie,queryParamsHandling:rt,preserveFragment:tt}=O,an=tt?this.currentUrlTree.fragment:Ie;let _r,sr=null;switch(rt){case"merge":sr={...this.currentUrlTree.queryParams,...re};break;case"preserve":sr=this.currentUrlTree.queryParams;break;default:sr=re||null}null!==sr&&(sr=this.removeEmptyProps(sr));try{_r=nt($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),_r=this.currentUrlTree.root}return Ge(_r,b,sr,an??null)}navigateByUrl(b,O={skipLocationChange:!1}){const $=Zr(b)?b:this.parseUrl(b),re=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(re,Di,null,O)}navigate(b,O={skipLocationChange:!1}){return function Mc(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new l.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,O),O)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let O;try{O=this.urlSerializer.parse(b)}catch($){O=this.malformedUriErrorHandler($,this.urlSerializer,b)}return O}isActive(b,O){let $;if($=!0===O?{...kn}:!1===O?{...mo}:O,Zr(b))return Xr(this.currentUrlTree,b,$);const re=this.parseUrl(b);return Xr(this.currentUrlTree,re,$)}removeEmptyProps(b){return Object.keys(b).reduce((O,$)=>{const re=b[$];return null!=re&&(O[$]=re),O},{})}scheduleNavigation(b,O,$,re,Ie){if(this.disposed)return Promise.resolve(!1);let rt,tt,an;Ie?(rt=Ie.resolve,tt=Ie.reject,an=Ie.promise):an=new Promise((_r,Ir)=>{rt=_r,tt=Ir});const sr=this.pendingTasks.add();return wa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sr))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:re,resolve:rt,reject:tt,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(_r=>Promise.reject(_r))}setBrowserUrl(b,O){const $=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo($)||O.extras.replaceUrl){const Ie={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState($,"",Ie)}else{const re={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go($,"",re)}}restoreHistory(b,O=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,O){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:O}:{navigationId:b}}static#e=this.\u0275fac=function(O){return new(O||w)};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Du(w){return!(w instanceof Fn||w instanceof Er)}let rc=(()=>{class w{constructor(b,O,$,re,Ie,rt){this.router=b,this.route=O,this.tabIndexAttribute=$,this.renderer=re,this.el=Ie,this.locationStrategy=rt,this.href=null,this.commands=null,this.onChanges=new Yt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const tt=Ie.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tt||"area"===tt,this.isAnchorElement?this.subscription=b.events.subscribe(an=>{an instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,O,$,re,Ie){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||O||$||re||Ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,O){const $=this.renderer,re=this.el.nativeElement;null!==O?$.setAttribute(re,b,O):$.removeAttribute(re,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||w)(l.rXU(pi),l.rXU(Jn),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Wn.hb))};static#t=this.\u0275dir=l.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,$){1&O&&l.bIt("click",function(Ie){return $.onClick(Ie.button,Ie.ctrlKey,Ie.shiftKey,Ie.altKey,Ie.metaKey)}),2&O&&l.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.L39],skipLocationChange:["skipLocationChange","skipLocationChange",l.L39],replaceUrl:["replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return w})();class ic{}let Vd=(()=>{class w{constructor(b,O,$,re,Ie){this.router=b,this.injector=$,this.preloadingStrategy=re,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.p)(b=>b instanceof Sr),(0,Se.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,O){const $=[];for(const re of O){re.providers&&!re._injector&&(re._injector=(0,l.Ol2)(re.providers,b,`Route: ${re.path}`));const Ie=re._injector??b,rt=re._loadedInjector??Ie;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&$.push(this.preloadConfig(Ie,re)),(re.children||re._loadedRoutes)&&$.push(this.processRoutes(rt,re.children??re._loadedRoutes))}return(0,Ee.H)($).pipe((0,gn.U)())}preloadConfig(b,O){return this.preloadingStrategy.preload(O,()=>{let $;$=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(b,O):(0,Pe.of)(null);const re=$.pipe((0,ue.Z)(Ie=>null===Ie?(0,Pe.of)(void 0):(O._loadedRoutes=Ie.routes,O._loadedInjector=Ie.injector,this.processRoutes(Ie.injector??b,Ie.routes))));if(O.loadComponent&&!O._loadedComponent){const Ie=this.loader.loadComponent(O);return(0,Ee.H)([re,Ie]).pipe((0,gn.U)())}return re})}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(pi),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(ic),l.KVO(kr))};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Pl=new l.nKC("");let Qn=(()=>{class w{constructor(b,O,$,re,Ie={}){this.urlSerializer=b,this.transitions=O,this.viewportScroller=$,this.zone=re,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ie.scrollPositionRestoration=Ie.scrollPositionRestoration||"disabled",Ie.anchorScrolling=Ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Sr?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Bs&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof bo&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bo(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:w,factory:w.\u0275fac})}return w})();function ks(w,R){return{\u0275kind:w,\u0275providers:R}}function sc(){const w=(0,l.WQX)(l.zZn);return R=>{const b=w.get(l.o8S);if(R!==b.components[0])return;const O=w.get(pi),$=w.get(xc);1===w.get(Ha)&&O.initialNavigation(),w.get(Or,null,l.$GK.Optional)?.setUpPreloading(),w.get(Pl,null,l.$GK.Optional)?.init(),O.resetRootComponentType(b.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const xc=new l.nKC("",{factory:()=>new Yt.B}),Ha=new l.nKC("",{providedIn:"root",factory:()=>1}),Or=new l.nKC("");function Nc(w){return ks(0,[{provide:Or,useExisting:Vd},{provide:ic,useExisting:w}])}const oo=new l.nKC("ROUTER_FORROOT_GUARD"),Wa=[Wn.aZ,{provide:Te,useClass:it},pi,pr,{provide:Jn,useFactory:function ja(w){return w.routerState.root},deps:[pi]},kr,[]];function Rl(){return new l.NEm("Router",pi)}let kc=(()=>{class w{constructor(b){}static forRoot(b,O){return{ngModule:w,providers:[Wa,[],{provide:Mr,multi:!0,useValue:b},{provide:oo,useFactory:ra,deps:[[pi,new l.Xx1,new l.kdw]]},{provide:Zs,useValue:O||{}},O?.useHash?{provide:Wn.hb,useClass:Wn.fw}:{provide:Wn.hb,useClass:Wn.Sm},{provide:Pl,useFactory:()=>{const w=(0,l.WQX)(Wn.Xr),R=(0,l.WQX)(l.SKi),b=(0,l.WQX)(Zs),O=(0,l.WQX)(bi),$=(0,l.WQX)(Te);return b.scrollOffset&&w.setOffset(b.scrollOffset),new Qn($,O,w,R,b)}},O?.preloadingStrategy?Nc(O.preloadingStrategy).\u0275providers:[],{provide:l.NEm,multi:!0,useFactory:Rl},O?.initialNavigation?ao(O):[],O?.bindToComponentInputs?ks(8,[G,{provide:Y,useExisting:G}]).\u0275providers:[],[{provide:uo,useFactory:sc},{provide:l.iLQ,multi:!0,useExisting:uo}]]}}static forChild(b){return{ngModule:w,providers:[{provide:Mr,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(O){return new(O||w)(l.KVO(oo,8))};static#t=this.\u0275mod=l.$C({type:w});static#n=this.\u0275inj=l.G2t({})}return w})();function ra(w){return"guarded"}function ao(w){return["disabled"===w.initialNavigation?ks(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const R=(0,l.WQX)(pi);return()=>{R.setUpLocationChangeListener()}}},{provide:Ha,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?ks(2,[{provide:Ha,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:R=>{const b=R.get(Wn.hj,Promise.resolve());return()=>b.then(()=>new Promise(O=>{const $=R.get(pi),re=R.get(xc);wa($,()=>{O(!0)}),R.get(bi).afterPreactivation=()=>(O(!0),re.closed?(0,Pe.of)(void 0):re),$.initialNavigation()}))}}]).\u0275providers:[]]}const uo=new l.nKC("")},3345:(en,Qe,B)=>{B.d(Qe,{A:()=>It});var l=B(1076),de=B(1362),m=B(7852),De=B(8041);class Ee{constructor(kt,Ct){this._delegate=kt,this.firebase=Ct,(0,m._addComponent)(kt,new de.uA("app-compat",()=>this,"PUBLIC")),this.container=kt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(kt){this._delegate.automaticDataCollectionEnabled=kt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(kt=>{this._delegate.checkDestroyed(),kt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,m.deleteApp)(this._delegate)))}_getService(kt,Ct=m._DEFAULT_ENTRY_NAME){var on;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(kt);return!We.isInitialized()&&"EXPLICIT"===(null===(on=We.getComponent())||void 0===on?void 0:on.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Ct})}_removeServiceInstance(kt,Ct=m._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(kt).clearInstance(Ct)}_addComponent(kt){(0,m._addComponent)(this._delegate,kt)}_addOrOverwriteComponent(kt){(0,m._addOrOverwriteComponent)(this._delegate,kt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function je(){const pt=function Ve(pt){const kt={},Ct={__esModule:!0,initializeApp:function Le(ft,Dt={}){const Ce=m.initializeApp(ft,Dt);if((0,l.gR)(kt,Ce.name))return kt[Ce.name];const $t=new pt(Ce,Ct);return kt[Ce.name]=$t,$t},app:We,registerVersion:m.registerVersion,setLogLevel:m.setLogLevel,onLog:m.onLog,apps:null,SDK_VERSION:m.SDK_VERSION,INTERNAL:{registerComponent:function ze(ft){const Dt=ft.name,Ce=Dt.replace("-compat","");if(m._registerComponent(ft)&&"PUBLIC"===ft.type){const $t=(Yt=We())=>{if("function"!=typeof Yt[Ce])throw Ue.create("invalid-app-argument",{appName:Dt});return Yt[Ce]()};void 0!==ft.serviceProps&&(0,l.zw)($t,ft.serviceProps),Ct[Ce]=$t,pt.prototype[Ce]=function(...Yt){return this._getService.bind(this,Dt).apply(this,ft.multipleInstances?Yt:[])}}return"PUBLIC"===ft.type?Ct[Ce]:null},removeApp:function on(ft){delete kt[ft]},useAsService:function qe(ft,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:m}};function We(ft){if(!(0,l.gR)(kt,ft=ft||m._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:ft});return kt[ft]}return Ct.default=Ct,Object.defineProperty(Ct,"apps",{get:function Ye(){return Object.keys(kt).map(ft=>kt[ft])}}),We.App=pt,Ct}(Ee);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function kt(Ct){(0,l.zw)(pt,Ct)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),pt}(),he=new De.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const It=ce;!function Ke(pt){(0,m.registerVersion)("@firebase/app-compat","0.2.35",pt)}()},7852:(en,Qe,B)=>{B.r(Qe),B.d(Qe,{FirebaseError:()=>De.g,SDK_VERSION:()=>Te,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>xn,_addOrOverwriteComponent:()=>Yr,_apps:()=>ar,_clearComponents:()=>Dn,_components:()=>Xr,_getProvider:()=>Qt,_isFirebaseApp:()=>Hn,_isFirebaseServerApp:()=>cr,_registerComponent:()=>Yi,_removeServiceInstance:()=>Jr,_serverApps:()=>vr,deleteApp:()=>nr,getApp:()=>Tn,getApps:()=>Dr,initializeApp:()=>it,initializeServerApp:()=>Lt,onLog:()=>H,registerVersion:()=>te,setLogLevel:()=>V});var l=B(467),de=B(1362),m=B(8041),De=B(1076);const Ee=(nt,Ge)=>Ge.some(_t=>nt instanceof _t);let Pe,Ue;const ce=new WeakMap,he=new WeakMap,Me=new WeakMap,ct=new WeakMap,Ke=new WeakMap;let kt={get(nt,Ge,_t){if(nt instanceof IDBTransaction){if("done"===Ge)return he.get(nt);if("objectStoreNames"===Ge)return nt.objectStoreNames||Me.get(nt);if("store"===Ge)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return Le(nt[Ge])},set:(nt,Ge,_t)=>(nt[Ge]=_t,!0),has:(nt,Ge)=>nt instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in nt};function We(nt){return"function"==typeof nt?function on(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...Ge){return nt.apply(Ye(this),Ge),Le(ce.get(this))}:function(...Ge){return Le(nt.apply(Ye(this),Ge))}:function(Ge,..._t){const Jt=nt.call(Ye(this),Ge,..._t);return Me.set(Jt,Ge.sort?Ge.sort():[Ge]),Le(Jt)}}(nt):(nt instanceof IDBTransaction&&function pt(nt){if(he.has(nt))return;const Ge=new Promise((_t,Jt)=>{const bn=()=>{nt.removeEventListener("complete",Mn),nt.removeEventListener("error",wn),nt.removeEventListener("abort",wn)},Mn=()=>{_t(),bn()},wn=()=>{Jt(nt.error||new DOMException("AbortError","AbortError")),bn()};nt.addEventListener("complete",Mn),nt.addEventListener("error",wn),nt.addEventListener("abort",wn)});he.set(nt,Ge)}(nt),Ee(nt,function Ve(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,kt):nt)}function Le(nt){if(nt instanceof IDBRequest)return function It(nt){const Ge=new Promise((_t,Jt)=>{const bn=()=>{nt.removeEventListener("success",Mn),nt.removeEventListener("error",wn)},Mn=()=>{_t(Le(nt.result)),bn()},wn=()=>{Jt(nt.error),bn()};nt.addEventListener("success",Mn),nt.addEventListener("error",wn)});return Ge.then(_t=>{_t instanceof IDBCursor&&ce.set(_t,nt)}).catch(()=>{}),Ke.set(Ge,nt),Ge}(nt);if(ct.has(nt))return ct.get(nt);const Ge=We(nt);return Ge!==nt&&(ct.set(nt,Ge),Ke.set(Ge,nt)),Ge}const Ye=nt=>Ke.get(nt),ft=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Ce=new Map;function $t(nt,Ge){if(!(nt instanceof IDBDatabase)||Ge in nt||"string"!=typeof Ge)return;if(Ce.get(Ge))return Ce.get(Ge);const _t=Ge.replace(/FromIndex$/,""),Jt=Ge!==_t,bn=Dt.includes(_t);if(!(_t in(Jt?IDBIndex:IDBObjectStore).prototype)||!bn&&!ft.includes(_t))return;const Mn=function(){var wn=(0,l.A)(function*(Gn,...Kn){const Rr=this.transaction(Gn,bn?"readwrite":"readonly");let oi=Rr.store;return Jt&&(oi=oi.index(Kn.shift())),(yield Promise.all([oi[_t](...Kn),bn&&Rr.done]))[0]});return function(Kn){return wn.apply(this,arguments)}}();return Ce.set(Ge,Mn),Mn}!function Ct(nt){kt=nt(kt)}(nt=>({...nt,get:(Ge,_t,Jt)=>$t(Ge,_t)||nt.get(Ge,_t,Jt),has:(Ge,_t)=>!!$t(Ge,_t)||nt.has(Ge,_t)}));class Yt{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function Wn(nt){const Ge=nt.getComponent();return"VERSION"===Ge?.type}(_t)){const Jt=_t.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(_t=>_t).join(" ")}}const vt="@firebase/app",Pt="0.10.5",Ft=new m.Vy("@firebase/app"),Cn="[DEFAULT]",pn={[vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ar=new Map,vr=new Map,Xr=new Map;function xn(nt,Ge){try{nt.container.addComponent(Ge)}catch(_t){Ft.debug(`Component ${Ge.name} failed to register with FirebaseApp ${nt.name}`,_t)}}function Yr(nt,Ge){nt.container.addOrOverwriteComponent(Ge)}function Yi(nt){const Ge=nt.name;if(Xr.has(Ge))return Ft.debug(`There were multiple attempts to register component ${Ge}.`),!1;Xr.set(Ge,nt);for(const _t of ar.values())xn(_t,nt);for(const _t of vr.values())xn(_t,nt);return!0}function Qt(nt,Ge){const _t=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),nt.container.getProvider(Ge)}function Jr(nt,Ge,_t=Cn){Qt(nt,Ge).clearInstance(_t)}function Hn(nt){return void 0!==nt.options}function cr(nt){return void 0!==nt.settings}function Dn(){Xr.clear()}const $e=new De.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class at{constructor(Ge,_t,Jt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new de.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw $e.create("app-deleted",{appName:this._name})}}class oe extends at{constructor(Ge,_t,Jt,bn){const Mn=void 0!==_t.automaticDataCollectionEnabled&&_t.automaticDataCollectionEnabled,wn={name:Jt,automaticDataCollectionEnabled:Mn};super(void 0!==Ge.apiKey?Ge:Ge.options,wn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Mn},_t),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,_t.releaseOnDeref=void 0,te(vt,Pt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ge){this.isDeleted||(this._refCount++,void 0!==Ge&&this._finalizationRegistry.register(Ge,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $e.create("server-app-deleted")}}const Te="10.12.2";function it(nt,Ge={}){let _t=nt;"object"!=typeof Ge&&(Ge={name:Ge});const Jt=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},Ge),bn=Jt.name;if("string"!=typeof bn||!bn)throw $e.create("bad-app-name",{appName:String(bn)});if(_t||(_t=(0,De.T9)()),!_t)throw $e.create("no-options");const Mn=ar.get(bn);if(Mn){if((0,De.bD)(_t,Mn.options)&&(0,De.bD)(Jt,Mn.config))return Mn;throw $e.create("duplicate-app",{appName:bn})}const wn=new de.h1(bn);for(const Kn of Xr.values())wn.addComponent(Kn);const Gn=new at(_t,Jt,wn);return ar.set(bn,Gn),Gn}function Lt(nt,Ge){if((0,De.Bd)())throw $e.create("invalid-server-app-environment");let _t;void 0===Ge.automaticDataCollectionEnabled&&(Ge.automaticDataCollectionEnabled=!1),_t=Hn(nt)?nt.options:nt;const Jt=Object.assign(Object.assign({},Ge),_t);if(void 0!==Jt.releaseOnDeref&&delete Jt.releaseOnDeref,void 0!==Ge.releaseOnDeref&&typeof FinalizationRegistry>"u")throw $e.create("finalization-registry-not-supported",{});const Mn=""+(Rr=JSON.stringify(Jt),[...Rr].reduce((oi,lr)=>Math.imul(31,oi)+lr.charCodeAt(0)|0,0)),wn=vr.get(Mn);var Rr;if(wn)return wn.incRefCount(Ge.releaseOnDeref),wn;const Gn=new de.h1(Mn);for(const Rr of Xr.values())Gn.addComponent(Rr);const Kn=new oe(_t,Ge,Mn,Gn);return vr.set(Mn,Kn),Kn}function Tn(nt=Cn){const Ge=ar.get(nt);if(!Ge&&nt===Cn&&(0,De.T9)())return it();if(!Ge)throw $e.create("no-app",{appName:nt});return Ge}function Dr(){return Array.from(ar.values())}function nr(nt){return Re.apply(this,arguments)}function Re(){return(Re=(0,l.A)(function*(nt){let Ge=!1;const _t=nt.name;ar.has(_t)?(Ge=!0,ar.delete(_t)):vr.has(_t)&&nt.decRefCount()<=0&&(vr.delete(_t),Ge=!0),Ge&&(yield Promise.all(nt.container.getProviders().map(Jt=>Jt.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function te(nt,Ge,_t){var Jt;let bn=null!==(Jt=pn[nt])&&void 0!==Jt?Jt:nt;_t&&(bn+=`-${_t}`);const Mn=bn.match(/\s|\//),wn=Ge.match(/\s|\//);if(Mn||wn){const Gn=[`Unable to register library "${bn}" with version "${Ge}":`];return Mn&&Gn.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Mn&&wn&&Gn.push("and"),wn&&Gn.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Ft.warn(Gn.join(" "))}Yi(new de.uA(`${bn}-version`,()=>({library:bn,version:Ge}),"VERSION"))}function H(nt,Ge){if(null!==nt&&"function"!=typeof nt)throw $e.create("invalid-log-argument");(0,m.Ey)(nt,Ge)}function V(nt){(0,m.He)(nt)}const F="firebase-heartbeat-database",le=1,Ne="firebase-heartbeat-store";let ht=null;function wt(){return ht||(ht=function ze(nt,Ge,{blocked:_t,upgrade:Jt,blocking:bn,terminated:Mn}={}){const wn=indexedDB.open(nt,Ge),Gn=Le(wn);return Jt&&wn.addEventListener("upgradeneeded",Kn=>{Jt(Le(wn.result),Kn.oldVersion,Kn.newVersion,Le(wn.transaction),Kn)}),_t&&wn.addEventListener("blocked",Kn=>_t(Kn.oldVersion,Kn.newVersion,Kn)),Gn.then(Kn=>{Mn&&Kn.addEventListener("close",()=>Mn()),bn&&Kn.addEventListener("versionchange",Rr=>bn(Rr.oldVersion,Rr.newVersion,Rr))}).catch(()=>{}),Gn}(F,le,{upgrade:(nt,Ge)=>{if(0===Ge)try{nt.createObjectStore(Ne)}catch(_t){console.warn(_t)}}}).catch(nt=>{throw $e.create("idb-open",{originalErrorMessage:nt.message})})),ht}function Gt(){return(Gt=(0,l.A)(function*(nt){try{const _t=(yield wt()).transaction(Ne),Jt=yield _t.objectStore(Ne).get(_n(nt));return yield _t.done,Jt}catch(Ge){if(Ge instanceof De.g)Ft.warn(Ge.message);else{const _t=$e.create("idb-get",{originalErrorMessage:Ge?.message});Ft.warn(_t.message)}}})).apply(this,arguments)}function Xt(nt,Ge){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.A)(function*(nt,Ge){try{const Jt=(yield wt()).transaction(Ne,"readwrite");yield Jt.objectStore(Ne).put(Ge,_n(nt)),yield Jt.done}catch(_t){if(_t instanceof De.g)Ft.warn(_t.message);else{const Jt=$e.create("idb-set",{originalErrorMessage:_t?.message});Ft.warn(Jt.message)}}})).apply(this,arguments)}function _n(nt){return`${nt.name}!${nt.options.appId}`}class Us{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new ls(_t),this._heartbeatsCachePromise=this._storage.read().then(Jt=>(this._heartbeatsCache=Jt,Jt))}triggerHeartbeat(){var Ge=this;return(0,l.A)(function*(){var _t,Jt;const Mn=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=Gr();if((null!=(null===(_t=Ge._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise,null!=(null===(Jt=Ge._heartbeatsCache)||void 0===Jt?void 0:Jt.heartbeats)))&&Ge._heartbeatsCache.lastSentHeartbeatDate!==wn&&!Ge._heartbeatsCache.heartbeats.some(Gn=>Gn.date===wn))return Ge._heartbeatsCache.heartbeats.push({date:wn,agent:Mn}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(Gn=>{const Kn=new Date(Gn.date).valueOf();return Date.now()-Kn<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,l.A)(function*(){var _t;if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null==(null===(_t=Ge._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||0===Ge._heartbeatsCache.heartbeats.length)return"";const Jt=Gr(),{heartbeatsToSend:bn,unsentEntries:Mn}=function zi(nt,Ge=1024){const _t=[];let Jt=nt.slice();for(const bn of nt){const Mn=_t.find(wn=>wn.agent===bn.agent);if(Mn){if(Mn.dates.push(bn.date),Zr(_t)>Ge){Mn.dates.pop();break}}else if(_t.push({agent:bn.agent,dates:[bn.date]}),Zr(_t)>Ge){_t.pop();break}Jt=Jt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Jt}}(Ge._heartbeatsCache.heartbeats),wn=(0,De.Uj)(JSON.stringify({version:2,heartbeats:bn}));return Ge._heartbeatsCache.lastSentHeartbeatDate=Jt,Mn.length>0?(Ge._heartbeatsCache.heartbeats=Mn,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),wn})()}}function Gr(){return(new Date).toISOString().substring(0,10)}class ls{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,De.zW)()&&(0,De.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,l.A)(function*(){if(yield Ge._canUseIndexedDBPromise){const Jt=yield function rn(nt){return Gt.apply(this,arguments)}(Ge.app);return Jt?.heartbeats?Jt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ge){var _t=this;return(0,l.A)(function*(){var Jt;if(yield _t._canUseIndexedDBPromise){const Mn=yield _t.read();return Xt(_t.app,{lastSentHeartbeatDate:null!==(Jt=Ge.lastSentHeartbeatDate)&&void 0!==Jt?Jt:Mn.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var _t=this;return(0,l.A)(function*(){var Jt;if(yield _t._canUseIndexedDBPromise){const Mn=yield _t.read();return Xt(_t.app,{lastSentHeartbeatDate:null!==(Jt=Ge.lastSentHeartbeatDate)&&void 0!==Jt?Jt:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...Ge.heartbeats]})}})()}}function Zr(nt){return(0,De.Uj)(JSON.stringify({version:2,heartbeats:nt})).length}!function Yn(nt){Yi(new de.uA("platform-logger",Ge=>new Yt(Ge),"PRIVATE")),Yi(new de.uA("heartbeat",Ge=>new Us(Ge),"PRIVATE")),te(vt,Pt,nt),te(vt,Pt,"esm2017"),te("fire-js","")}("")},1362:(en,Qe,B)=>{B.d(Qe,{h1:()=>Ve,uA:()=>m});var l=B(467),de=B(1076);class m{constructor(ce,he,Me){this.name=ce,this.instanceFactory=he,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const De="[DEFAULT]";class Ee{constructor(ce,he){this.name=ce,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const he=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(he)){const Me=new de.cY;if(this.instancesDeferred.set(he,Me),this.isInitialized(he)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:he});ct&&Me.resolve(ct)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(ce){var he;const Me=this.normalizeInstanceIdentifier(ce?.identifier),ct=null!==(he=ce?.optional)&&void 0!==he&&he;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Ke){if(ct)return null;throw Ke}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ue(je){return"EAGER"===je.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[he,Me]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(he);try{const Ke=this.getOrInitializeService({instanceIdentifier:ct});Me.resolve(Ke)}catch{}}}}clearInstance(ce=De){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,l.A)(function*(){const he=Array.from(ce.instances.values());yield Promise.all([...he.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...he.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=De){return this.instances.has(ce)}getOptions(ce=De){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:he={}}=ce,Me=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:Me,options:he});for(const[Ke,It]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Ke)&&It.resolve(ct);return ct}onInit(ce,he){var Me;const ct=this.normalizeInstanceIdentifier(he),Ke=null!==(Me=this.onInitCallbacks.get(ct))&&void 0!==Me?Me:new Set;Ke.add(ce),this.onInitCallbacks.set(ct,Ke);const It=this.instances.get(ct);return It&&ce(It,ct),()=>{Ke.delete(ce)}}invokeOnInitCallbacks(ce,he){const Me=this.onInitCallbacks.get(he);if(Me)for(const ct of Me)try{ct(ce,he)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:he={}}){let Me=this.instances.get(ce);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(je=ce,je===De?void 0:je),options:he}),this.instances.set(ce,Me),this.instancesOptions.set(ce,he),this.invokeOnInitCallbacks(Me,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Me)}catch{}var je;return Me||null}normalizeInstanceIdentifier(ce=De){return this.component?this.component.multipleInstances?ce:De:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const he=this.getProvider(ce.name);if(he.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);he.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const he=new Ee(ce,this);return this.providers.set(ce,he),he}getProviders(){return Array.from(this.providers.values())}}},8041:(en,Qe,B)=>{B.d(Qe,{$b:()=>de,Ey:()=>je,He:()=>Ve,Vy:()=>Ue});const l=[];var de=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(de||{});const m={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},De=de.INFO,Ee={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},Pe=(ce,he,...Me)=>{if(he<ce.logLevel)return;const ct=(new Date).toISOString(),Ke=Ee[he];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ke](`[${ct}]  ${ce.name}:`,...Me)};class Ue{constructor(he){this.name=he,this._logLevel=De,this._logHandler=Pe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in de))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?m[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...he),this._logHandler(this,de.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...he),this._logHandler(this,de.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,de.INFO,...he),this._logHandler(this,de.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,de.WARN,...he),this._logHandler(this,de.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...he),this._logHandler(this,de.ERROR,...he)}}function Ve(ce){l.forEach(he=>{he.setLogLevel(ce)})}function je(ce,he){for(const Me of l){let ct=null;he&&he.level&&(ct=m[he.level]),Me.userLogHandler=null===ce?null:(Ke,It,...pt)=>{const kt=pt.map(Ct=>{if(null==Ct)return null;if("string"==typeof Ct)return Ct;if("number"==typeof Ct||"boolean"==typeof Ct)return Ct.toString();if(Ct instanceof Error)return Ct.message;try{return JSON.stringify(Ct)}catch{return null}}).filter(Ct=>Ct).join(" ");It>=(ct??Ke.logLevel)&&ce({level:de[It].toLowerCase(),message:kt,args:pt,type:Ke.name})}}}},2214:(en,Qe,B)=>{B.d(Qe,{Dk:()=>l.getApps,KO:()=>l.registerVersion,Sx:()=>l.getApp,Wp:()=>l.initializeApp});var l=B(7852);(0,l.registerVersion)("firebase","10.12.2","app")},7935:(en,Qe,B)=>{B.d(Qe,{A:()=>l.A});var l=B(3345);l.A.registerVersion("firebase","10.12.2","app-compat")},2438:(en,Qe,B)=>{var l=B(467),de=B(3345),m=B(4033),De=B(1076),Ue=(B(7852),B(8041),B(1362));function Ve(){return window}function he(){return he=(0,l.A)(function*(H,V,F){var le;const{BuildInfo:Ne}=Ve();(0,m.au)(V.sessionId,"AuthEvent did not contain a session ID");const ht=yield function Ct(H){return on.apply(this,arguments)}(V.sessionId),wt={};return(0,m.av)()?wt.ibi=Ne.packageName:(0,m.aw)()?wt.apn=Ne.packageName:(0,m.ax)(H,"operation-not-supported-in-this-environment"),Ne.displayName&&(wt.appDisplayName=Ne.displayName),wt.sessionId=ht,(0,m.ay)(H,F,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,wt)}),he.apply(this,arguments)}function ct(){return(ct=(0,l.A)(function*(H){const{BuildInfo:V}=Ve(),F={};(0,m.av)()?F.iosBundleId=V.packageName:(0,m.aw)()?F.androidPackageName=V.packageName:(0,m.ax)(H,"operation-not-supported-in-this-environment"),yield(0,m.az)(H,F)})).apply(this,arguments)}function pt(){return(pt=(0,l.A)(function*(H,V,F){const{cordova:le}=Ve();let Ne=()=>{};try{yield new Promise((ht,wt)=>{let rn=null;function Gt(){var _n;ht();const si=null===(_n=le.plugins.browsertab)||void 0===_n?void 0:_n.close;"function"==typeof si&&si(),"function"==typeof F?.close&&F.close()}function Xt(){rn||(rn=window.setTimeout(()=>{wt((0,m.aB)(H,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===document?.visibilityState&&Xt()}V.addPassiveListener(Gt),document.addEventListener("resume",Xt,!1),(0,m.aw)()&&document.addEventListener("visibilitychange",Xn,!1),Ne=()=>{V.removePassiveListener(Gt),document.removeEventListener("resume",Xt,!1),document.removeEventListener("visibilitychange",Xn,!1),rn&&window.clearTimeout(rn)}})}finally{Ne()}})).apply(this,arguments)}function on(){return(on=(0,l.A)(function*(H){const V=function We(H){if((0,m.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),F=new Uint8Array(V);for(let le=0;le<H.length;le++)F[le]=H.charCodeAt(le);return F}(H),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ye extends m.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.A)(function*(){yield V.initPromise})()}}function ft(H){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.A)(function*(H){const V=yield Yt()._get(Wn(H));return V&&(yield Yt()._remove(Wn(H))),V})).apply(this,arguments)}function $t(){const H=[];for(let F=0;F<20;F++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function Yt(){return(0,m.aE)(m.b)}function Wn(H){return(0,m.aF)("authEvent",H.config.apiKey,H.name)}function Ft(H){if(!H?.includes("?"))return{};const[V,...F]=H.split("?");return(0,De.I9)(F.join("?"))}const ue=class pe{constructor(){this._redirectPersistence=m.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=m.aG,this._overrideRedirectResult=m.aH}_initialize(V){var F=this;return(0,l.A)(function*(){const le=V._key();let Ne=F.eventManagers.get(le);return Ne||(Ne=new Ye(V),F.eventManagers.set(le,Ne),F.attachCallbackListeners(V,Ne)),Ne})()}_openPopup(V){(0,m.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,le,Ne){var ht=this;return(0,l.A)(function*(){!function kt(H){var V,F,le,Ne,ht,wt,rn,Gt,Xt,Xn;const _n=Ve();(0,m.aC)("function"==typeof(null===(V=_n?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,m.aC)(typeof(null===(F=_n?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,m.aC)("function"==typeof(null===(ht=null===(Ne=null===(le=_n?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===ht?void 0:ht.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aC)("function"==typeof(null===(Gt=null===(rn=null===(wt=_n?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===rn?void 0:rn.browsertab)||void 0===Gt?void 0:Gt.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aC)("function"==typeof(null===(Xn=null===(Xt=_n?.cordova)||void 0===Xt?void 0:Xt.InAppBrowser)||void 0===Xn?void 0:Xn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const wt=yield ht._initialize(V);yield wt.initialized(),wt.resetRedirect(),(0,m.aI)(),yield ht._originValidation(V);const rn=function ze(H,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:$t(),postBody:null,tenantId:H.tenantId,error:(0,m.aB)(H,"no-auth-event")}}(V,le,Ne);yield function qe(H,V){return Yt()._set(Wn(H),V)}(V,rn);const Gt=yield function ce(H,V,F){return he.apply(this,arguments)}(V,rn,F),Xt=yield function Ke(H){const{cordova:V}=Ve();return new Promise(F=>{V.plugins.browsertab.isAvailable(le=>{let Ne=null;le?V.plugins.browsertab.openUrl(H):Ne=V.InAppBrowser.open(H,(0,m.aA)()?"_blank":"_system","location=yes"),F(Ne)})})}(Gt);return function It(H,V,F){return pt.apply(this,arguments)}(V,wt,Xt)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Me(H){return ct.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:le,handleOpenURL:Ne,BuildInfo:ht}=Ve(),wt=setTimeout((0,l.A)(function*(){yield ft(V),F.onEvent(me())}),500),rn=function(){var Xn=(0,l.A)(function*(_n){clearTimeout(wt);const si=yield ft(V);let xr=null;si&&_n?.url&&(xr=function Ce(H,V){var F,le;const Ne=function Pt(H){const V=Ft(H),F=V.link?decodeURIComponent(V.link):void 0,le=Ft(F).link,Ne=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Ft(Ne).link||Ne||le||F||H}(V);if(Ne.includes("/__/auth/callback")){const ht=Ft(Ne),wt=ht.firebaseError?function vt(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,rn=null===(le=null===(F=wt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===le?void 0:le[1],Gt=rn?(0,m.aB)(rn):null;return Gt?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Ne,postBody:null}}return null}(si,_n.url)),F.onEvent(xr||me())});return function(si){return Xn.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,rn);const Gt=Ne,Xt=`${ht.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var Xn=(0,l.A)(function*(_n){if(_n.toLowerCase().startsWith(Xt)&&rn({url:_n}),"function"==typeof Gt)try{Gt(_n)}catch(si){console.error(si)}});return function(_n){return Xn.apply(this,arguments)}}()}};function me(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,m.aB)("no-auth-event")}}function lt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function tn(H=(0,De.ZQ)()){return!("file:"!==lt()&&"ionic:"!==lt()&&"capacitor:"!==lt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nt(){try{const H=self.localStorage,V=m.aN();if(H)return H.setItem(V,"1"),H.removeItem(V),!function or(H=(0,De.ZQ)()){return function Pn(){return(0,De.lT)()&&11===document?.documentMode}()||function fn(H=(0,De.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,De.zW)()}catch{return gn()&&(0,De.zW)()}return!1}function gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function mt(){return"http:"===lt()||"https:"===lt()}()||(0,De.sr)()||tn())&&!function Kt(){return(0,De.lV)()||(0,De.Ll)()}()&&Nt()&&!gn()}function Vt(){return tn()&&typeof document<"u"}function Ur(){return(Ur=(0,l.A)(function*(){return!!Vt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const fr={LOCAL:"local",NONE:"none",SESSION:"session"},$n=m.aC,Rt="persistence";function Cn(H){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.A)(function*(H){yield H._initializationPromise;const V=vr(),F=m.aF(Rt,H.config.apiKey,H.name);V&&V.setItem(F,H._getPersistence())})).apply(this,arguments)}function vr(){var H;try{return(null===(H=function nn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Xr=m.aC;class xn{constructor(){this.browserResolver=m.aE(m.k),this.cordovaResolver=m.aE(ue),this.underlyingResolver=null,this._redirectPersistence=m.a,this._completeRedirectFn=m.aG,this._overrideRedirectResult=m.aH}_initialize(V){var F=this;return(0,l.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,le,Ne){var ht=this;return(0,l.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(V,F,le,Ne)})()}_openRedirect(V,F,le,Ne){var ht=this;return(0,l.A)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(V,F,le,Ne)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.A)(function*(){if(V.underlyingResolver)return;const F=yield function St(){return Ur.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function Yr(H){return H.unwrap()}function Qt(H){return Hn(H)}function Hn(H){const{_tokenResponse:V}=H instanceof De.g?H.customData:H;if(!V)return null;if(!(H instanceof De.g)&&"temporaryProof"in V&&"phoneNumber"in V)return m.P.credentialFromResult(H);const F=V.providerId;if(!F||F===m.p.PASSWORD)return null;let le;switch(F){case m.p.GOOGLE:le=m.X;break;case m.p.FACEBOOK:le=m.W;break;case m.p.GITHUB:le=m.Y;break;case m.p.TWITTER:le=m.$;break;default:const{oauthIdToken:Ne,oauthAccessToken:ht,oauthTokenSecret:wt,pendingToken:rn,nonce:Gt}=V;return ht||wt||Ne||rn?rn?F.startsWith("saml.")?m.aQ._create(F,rn):m.N._fromParams({providerId:F,signInMethod:F,pendingToken:rn,idToken:Ne,accessToken:ht}):new m.Z(F).credential({idToken:Ne,accessToken:ht,rawNonce:Gt}):null}return H instanceof De.g?le.credentialFromError(H):le.credentialFromResult(H)}function cr(H,V){return V.catch(F=>{throw F instanceof De.g&&function Jr(H,V){var F;const le=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new $e(H,m.as(H,V));else if(le){const Ne=Hn(V),ht=V;Ne&&(ht.credential=Ne,ht.tenantId=le.tenantId||void 0,ht.email=le.email||void 0,ht.phoneNumber=le.phoneNumber||void 0)}}(H,F),F}).then(F=>{const Ne=F.user;return{operationType:F.operationType,credential:Qt(F),additionalUserInfo:m.aq(F),user:at.getOrCreate(Ne)}})}function Dn(H,V){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(H,V){const F=yield V;return{verificationId:F.verificationId,confirm:le=>cr(H,F.confirm(le))}})).apply(this,arguments)}class $e{constructor(V,F){this.resolver=F,this.auth=function Yi(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return cr(Yr(this.auth),this.resolver.resolveSignIn(V))}}class at{constructor(V){this._delegate=V,this.multiFactor=m.at(V)}static getOrCreate(V){return at.USER_MAP.has(V)||at.USER_MAP.set(V,new at(V)),at.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,l.A)(function*(){return cr(F.auth,m.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var le=this;return(0,l.A)(function*(){return Dn(le.auth,m.l(le._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,l.A)(function*(){return cr(F.auth,m.d(F._delegate,V,xn))})()}linkWithRedirect(V){var F=this;return(0,l.A)(function*(){return yield Cn(m.aJ(F.auth)),m.g(F._delegate,V,xn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,l.A)(function*(){return cr(F.auth,m.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Dn(this.auth,m.r(this._delegate,V,F))}reauthenticateWithPopup(V){return cr(this.auth,m.e(this._delegate,V,xn))}reauthenticateWithRedirect(V){var F=this;return(0,l.A)(function*(){return yield Cn(m.aJ(F.auth)),m.h(F._delegate,V,xn)})()}sendEmailVerification(V){return m.ag(this._delegate,V)}unlink(V){var F=this;return(0,l.A)(function*(){return yield m.ap(F._delegate,V),F})()}updateEmail(V){return m.al(this._delegate,V)}updatePassword(V){return m.am(this._delegate,V)}updatePhoneNumber(V){return m.u(this._delegate,V)}updateProfile(V){return m.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return m.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}at.USER_MAP=new WeakMap;const oe=m.aC;let Te=(()=>{class H{constructor(F,le){if(this.app=F,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=F.options;oe(Ne,"invalid-api-key",{appName:F.name}),oe(Ne,"invalid-api-key",{appName:F.name});const ht=typeof window<"u"?xn:void 0;this._delegate=le.initialize({options:{persistence:Lt(Ne,F.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(m.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?at.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,le){m.K(this._delegate,F,le)}applyActionCode(F){return m.a7(this._delegate,F)}checkActionCode(F){return m.a8(this._delegate,F)}confirmPasswordReset(F,le){return m.a6(this._delegate,F,le)}createUserWithEmailAndPassword(F,le){var Ne=this;return(0,l.A)(function*(){return cr(Ne._delegate,m.aa(Ne._delegate,F,le))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return m.af(this._delegate,F)}isSignInWithEmailLink(F){return m.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,l.A)(function*(){oe(On(),F._delegate,"operation-not-supported-in-this-environment");const le=yield m.j(F._delegate,xn);return le?cr(F._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Se(H,V){(0,m.aJ)(H)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,le,Ne){const{next:ht,error:wt,complete:rn}=it(F,le,Ne);return this._delegate.onAuthStateChanged(ht,wt,rn)}onIdTokenChanged(F,le,Ne){const{next:ht,error:wt,complete:rn}=it(F,le,Ne);return this._delegate.onIdTokenChanged(ht,wt,rn)}sendSignInLinkToEmail(F,le){return m.ac(this._delegate,F,le)}sendPasswordResetEmail(F,le){return m.a5(this._delegate,F,le||void 0)}setPersistence(F){var le=this;return(0,l.A)(function*(){let Ne;switch(function un(H,V){$n(Object.values(fr).includes(V),H,"invalid-persistence-type"),(0,De.lV)()?$n(V!==fr.SESSION,H,"unsupported-persistence-type"):(0,De.Ll)()?$n(V===fr.NONE,H,"unsupported-persistence-type"):gn()?$n(V===fr.NONE||V===fr.LOCAL&&(0,De.zW)(),H,"unsupported-persistence-type"):$n(V===fr.NONE||Nt(),H,"unsupported-persistence-type")}(le._delegate,F),F){case fr.SESSION:Ne=m.a;break;case fr.LOCAL:Ne=(yield m.aE(m.i)._isAvailable())?m.i:m.b;break;case fr.NONE:Ne=m.U;break;default:return m.ax("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return cr(this._delegate,m.a0(this._delegate))}signInWithCredential(F){return cr(this._delegate,m.a1(this._delegate,F))}signInWithCustomToken(F){return cr(this._delegate,m.a4(this._delegate,F))}signInWithEmailAndPassword(F,le){return cr(this._delegate,m.ab(this._delegate,F,le))}signInWithEmailLink(F,le){return cr(this._delegate,m.ae(this._delegate,F,le))}signInWithPhoneNumber(F,le){return Dn(this._delegate,m.s(this._delegate,F,le))}signInWithPopup(F){var le=this;return(0,l.A)(function*(){return oe(On(),le._delegate,"operation-not-supported-in-this-environment"),cr(le._delegate,m.c(le._delegate,F,xn))})()}signInWithRedirect(F){var le=this;return(0,l.A)(function*(){return oe(On(),le._delegate,"operation-not-supported-in-this-environment"),yield Cn(le._delegate),m.f(le._delegate,F,xn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return m.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=fr,H})();function it(H,V,F){let le=H;"function"!=typeof H&&({next:le,error:V,complete:F}=H);const Ne=le;return{next:wt=>Ne(wt&&at.getOrCreate(wt)),error:V,complete:F}}function Lt(H,V){const F=function ar(H,V){const F=vr();if(!F)return[];const le=m.aF(Rt,H,V);switch(F.getItem(le)){case fr.NONE:return[m.U];case fr.LOCAL:return[m.i,m.a];case fr.SESSION:return[m.a];default:return[]}}(H,V);if(typeof self<"u"&&!F.includes(m.i)&&F.push(m.i),typeof window<"u")for(const le of[m.b,m.a])F.includes(le)||F.push(le);return F.includes(m.U)||F.push(m.U),F}class Tn{constructor(){this.providerId="phone",this._delegate=new m.P(Yr(de.A.auth()))}static credential(V,F){return m.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=m.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=m.P.PROVIDER_ID;const Dr=m.aC;class nr{constructor(V,F,le=de.A.app()){var Ne;Dr(null===(Ne=le.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new m.R(le.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function te(H){H.INTERNAL.registerComponent(new Ue.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new Te(F,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:m.A.EMAIL_SIGNIN,PASSWORD_RESET:m.A.PASSWORD_RESET,RECOVER_EMAIL:m.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:m.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:m.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:m.A.VERIFY_EMAIL}},EmailAuthProvider:m.V,FacebookAuthProvider:m.W,GithubAuthProvider:m.Y,GoogleAuthProvider:m.X,OAuthProvider:m.Z,SAMLAuthProvider:m._,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:m.m,RecaptchaVerifier:nr,TwitterAuthProvider:m.$,Auth:Te,AuthCredential:m.L,Error:De.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(de.A)},467:(en,Qe,B)=>{function l(m,De,Ee,Pe,Ue,Ve,je){try{var ce=m[Ve](je),he=ce.value}catch(Me){return void Ee(Me)}ce.done?De(he):Promise.resolve(he).then(Pe,Ue)}function de(m){return function(){var De=this,Ee=arguments;return new Promise(function(Pe,Ue){var Ve=m.apply(De,Ee);function je(he){l(Ve,Pe,Ue,je,ce,"next",he)}function ce(he){l(Ve,Pe,Ue,je,ce,"throw",he)}je(void 0)})}}B.d(Qe,{A:()=>de})},1635:(en,Qe,B)=>{function De(ue,me){var Se={};for(var ge in ue)Object.prototype.hasOwnProperty.call(ue,ge)&&me.indexOf(ge)<0&&(Se[ge]=ue[ge]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(ge=Object.getOwnPropertySymbols(ue);we<ge.length;we++)me.indexOf(ge[we])<0&&Object.prototype.propertyIsEnumerable.call(ue,ge[we])&&(Se[ge[we]]=ue[ge[we]])}return Se}function Me(ue,me,Se,ge){return new(Se||(Se=Promise))(function(Fe,lt){function mt(Pn){try{Kt(ge.next(Pn))}catch(fn){lt(fn)}}function tn(Pn){try{Kt(ge.throw(Pn))}catch(fn){lt(fn)}}function Kt(Pn){Pn.done?Fe(Pn.value):function we(Fe){return Fe instanceof Se?Fe:new Se(function(lt){lt(Fe)})}(Pn.value).then(mt,tn)}Kt((ge=ge.apply(ue,me||[])).next())})}function Le(ue){return this instanceof Le?(this.v=ue,this):new Le(ue)}function Ye(ue,me,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ge=Se.apply(ue,me||[]),Fe=[];return we={},mt("next"),mt("throw"),mt("return",function lt(Nt){return function(gn){return Promise.resolve(gn).then(Nt,fn)}}),we[Symbol.asyncIterator]=function(){return this},we;function mt(Nt,gn){ge[Nt]&&(we[Nt]=function(On){return new Promise(function(Vt,St){Fe.push([Nt,On,Vt,St])>1||tn(Nt,On)})},gn&&(we[Nt]=gn(we[Nt])))}function tn(Nt,gn){try{!function Kt(Nt){Nt.value instanceof Le?Promise.resolve(Nt.value.v).then(Pn,fn):or(Fe[0][2],Nt)}(ge[Nt](gn))}catch(On){or(Fe[0][3],On)}}function Pn(Nt){tn("next",Nt)}function fn(Nt){tn("throw",Nt)}function or(Nt,gn){Nt(gn),Fe.shift(),Fe.length&&tn(Fe[0][0],Fe[0][1])}}function qe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=ue[Symbol.asyncIterator];return me?me.call(ue):(ue=function pt(ue){var me="function"==typeof Symbol&&Symbol.iterator,Se=me&&ue[me],ge=0;if(Se)return Se.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&ge>=ue.length&&(ue=void 0),{value:ue&&ue[ge++],done:!ue}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Se={},ge("next"),ge("throw"),ge("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function ge(Fe){Se[Fe]=ue[Fe]&&function(lt){return new Promise(function(mt,tn){!function we(Fe,lt,mt,tn){Promise.resolve(tn).then(function(Kt){Fe({value:Kt,done:mt})},lt)}(mt,tn,(lt=ue[Fe](lt)).done,lt.value)})}}}B.d(Qe,{AQ:()=>Ye,N3:()=>Le,Tt:()=>De,sH:()=>Me,xN:()=>qe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=4520)}]);