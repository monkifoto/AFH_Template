"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(rn,Je,L)=>{L.d(Je,{$:()=>rs,A:()=>ce,G:()=>Xe,K:()=>ko,L:()=>lo,N:()=>Re,P:()=>vp,R:()=>wl,U:()=>pn,V:()=>Xi,W:()=>fr,X:()=>Cs,Y:()=>Ai,Z:()=>si,_:()=>fo,a:()=>$t,a0:()=>Rs,a1:()=>is,a2:()=>Bo,a3:()=>ml,a4:()=>kc,a5:()=>qs,a6:()=>Ka,a7:()=>ls,a8:()=>qa,a9:()=>xa,aA:()=>Ce,aB:()=>ot,aC:()=>be,aD:()=>xl,aE:()=>It,aF:()=>tn,aG:()=>Wd,aH:()=>ef,aI:()=>Ls,aJ:()=>Rr,aN:()=>Ma,aQ:()=>ho,aa:()=>Ya,ab:()=>Uu,ac:()=>Ys,ad:()=>Jl,ae:()=>sa,af:()=>x,ag:()=>U,ah:()=>we,ak:()=>Or,al:()=>Gr,am:()=>Cr,ap:()=>G,aq:()=>us,as:()=>El,at:()=>tu,au:()=>dn,av:()=>Lt,aw:()=>ii,ax:()=>We,ay:()=>Va,az:()=>Kd,b:()=>hs,c:()=>Jh,d:()=>yp,e:()=>oc,f:()=>Fa,g:()=>tf,h:()=>zc,i:()=>M,j:()=>Ep,k:()=>Qd,l:()=>ms,m:()=>td,p:()=>Le,r:()=>Al,s:()=>Wu,u:()=>$c});var a=L(467),ae=L(7852),o=L(1076),Ae=L(8041),he=L(1635),De=L(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mt=new Ae.Vy("@firebase/auth");function et(b,...p){Mt.logLevel<=Ae.$b.ERROR&&Mt.error(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}function We(b,...p){throw Ft(b,...p)}function ot(b,...p){return Ft(b,...p)}function Ze(b,p,_){const A=Object.assign(Object.assign({},bt()),{[p]:_});return new o.FA("auth","Firebase",A).create(p,{appName:b.name})}function rt(b){return Ze(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wt(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&We(b,"argument-error"),Ze(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ft(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return Ct.create(b,...p)}function be(b,p,..._){if(!b)throw Ft(p,..._)}function Jt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw et(p),new Error(p)}function dn(b,p){b||Jt(p)}function nr(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Pt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Me{constructor(p,_){this.shortDelay=p,this.longDelay=_,dn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,o.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(b,p){dn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Fe{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new Me(3e4,6e4);function Se(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ge(b,p,_,A){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.A)(function*(b,p,_,A,K={}){return xt(b,K,(0,a.A)(function*(){let se={},$e={};A&&("GET"===p?$e=A:se={body:JSON.stringify(A)});const gt=(0,o.Am)(Object.assign({key:b.config.apiKey},$e)).slice(1),zt=yield b._getAdditionalHeaders();return zt["Content-Type"]="application/json",b.languageCode&&(zt["X-Firebase-Locale"]=b.languageCode),Fe.fetch()(In(b,b.config.apiHost,_,gt),Object.assign({method:p,headers:zt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function xt(b,p,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.A)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Qe),p);try{const K=new Gt(b),se=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const $e=yield se.json();if("needConfirmation"in $e)throw wn(b,"account-exists-with-different-credential",$e);if(se.ok&&!("errorMessage"in $e))return $e;{const gt=se.ok?$e.errorMessage:$e.error.message,[zt,Sn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw wn(b,"credential-already-in-use",$e);if("EMAIL_EXISTS"===zt)throw wn(b,"email-already-in-use",$e);if("USER_DISABLED"===zt)throw wn(b,"user-disabled",$e);const zn=A[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw Ze(b,zn,Sn);We(b,zn)}}catch(K){if(K instanceof o.g)throw K;We(b,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function on(b,p,_,A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.A)(function*(b,p,_,A,K={}){const se=yield Ge(b,p,_,A,K);return"mfaPendingCredential"in se&&We(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function In(b,p,_,A){const K=`${p}${_}?${A}`;return b.config.emulator?ue(b.config,K):`${b.config.apiScheme}://${K}`}function dr(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=ot(b,p,A);return K.customData._tokenResponse=_,K}function $n(b){return void 0!==b&&void 0!==b.getResponse}function Wt(b){return void 0!==b&&void 0!==b.enterprise}class Vt{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return dr(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function fn(){return(fn=(0,a.A)(function*(b){return(yield Ge(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yr(b,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.A)(function*(b,p){return Ge(b,"GET","/v2/recaptchaConfig",Se(b,p))})).apply(this,arguments)}function _n(){return(_n=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Tn(){return(Tn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hr(b,p){return br.apply(this,arguments)}function br(){return(br=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ti(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ki(){return(Ki=(0,a.A)(function*(b,p=!1){const _=(0,o.Ku)(b),A=yield _.getIdToken(p),K=ri(A);be(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,$e=se?.sign_in_provider;return{claims:K,token:A,authTime:ti(ln(K.auth_time)),issuedAtTime:ti(ln(K.iat)),expirationTime:ti(ln(K.exp)),signInProvider:$e||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ln(b){return 1e3*Number(b)}function ri(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,o.u)(_);return K?JSON.parse(K):(et("Failed to decode base64 JWT payload"),null)}catch(K){return et("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Yn(b){const p=ri(b);return be(p,"internal-error"),be(typeof p.exp<"u","internal-error"),be(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function gr(b,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.A)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof o.g&&function Ei({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class Ke{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,a.A)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,a.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class mt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(b){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.A)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),K=yield gr(b,hr(_,{idToken:A}));be(K?.users.length,_,"internal-error");const se=K.users[0];b._notifyReloadListener(se);const $e=null!==(p=se.providerUserInfo)&&void 0!==p&&p.length?wr(se.providerUserInfo):[],gt=function Mn(b,p){return[...b.filter(A=>!p.some(K=>K.providerId===A.providerId)),...p]}(b.providerData,$e),zn=!!b.isAnonymous&&!(b.email&&se.passwordHash||gt?.length),zr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:gt,metadata:new mt(se.createdAt,se.lastLoginAt),isAnonymous:zn};Object.assign(b,zr)})).apply(this,arguments)}function Kt(){return(Kt=(0,a.A)(function*(b){const p=(0,o.Ku)(b);yield ie(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function wr(b){return b.map(p=>{var{providerId:_}=p,A=(0,he.Tt)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Oe(){return(Oe=(0,a.A)(function*(b,p){const _=yield xt(b,{},(0,a.A)(function*(){const A=(0,o.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:K,apiKey:se}=b.config,$e=In(b,K,"/v1/token",`key=${se}`),gt=yield b._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()($e,{method:"POST",headers:gt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,a.A)(function*(b,p){return Ge(b,"POST","/v2/accounts:revokeToken",Se(b,p))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){be(p.idToken,"internal-error"),be(typeof p.idToken<"u","internal-error"),be(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Yn(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){be(0!==p.length,"internal-error");const _=Yn(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var A=this;return(0,a.A)(function*(){return _||!A.accessToken||A.isExpired?(be(A.refreshToken,p,"user-token-expired"),A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,a.A)(function*(){const{accessToken:K,refreshToken:se,expiresIn:$e}=yield function cr(b,p){return Oe.apply(this,arguments)}(p,_);A.updateTokensAndExpiration(K,se,Number($e))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:K,expirationTime:se}=_,$e=new V;return A&&(be("string"==typeof A,"internal-error",{appName:p}),$e.refreshToken=A),K&&(be("string"==typeof K,"internal-error",{appName:p}),$e.accessToken=K),se&&(be("number"==typeof se,"internal-error",{appName:p}),$e.expirationTime=se),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return Jt("not implemented")}}function F(b,p){be("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class le{constructor(p){var{uid:_,auth:A,stsTokenManager:K}=p,se=(0,he.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new mt(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,a.A)(function*(){const A=yield gr(_,_.stsTokenManager.getToken(_.auth,p));return be(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function ni(b){return Ki.apply(this,arguments)}(this,p)}reload(){return function ft(b){return Kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(be(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new le(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var A=this;return(0,a.A)(function*(){let K=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),K=!0),_&&(yield ie(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,a.A)(function*(){if((0,ae._isFirebaseServerApp)(p.auth.app))return Promise.reject(rt(p.auth));const _=yield p.getIdToken();return yield gr(p,function Ut(b,p){return _n.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,K,se,$e,gt,zt,Sn,zn;const zr=null!==(A=_.displayName)&&void 0!==A?A:void 0,Bs=null!==(K=_.email)&&void 0!==K?K:void 0,mc=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,_c=null!==($e=_.photoURL)&&void 0!==$e?$e:void 0,Fl=null!==(gt=_.tenantId)&&void 0!==gt?gt:void 0,tl=null!==(zt=_._redirectEventId)&&void 0!==zt?zt:void 0,th=null!==(Sn=_.createdAt)&&void 0!==Sn?Sn:void 0,vc=null!==(zn=_.lastLoginAt)&&void 0!==zn?zn:void 0,{uid:nl,emailVerified:od,isAnonymous:sd,providerData:ad,stsTokenManager:nh}=_;be(nl&&nh,p,"internal-error");const yc=V.fromJSON(this.name,nh);be("string"==typeof nl,p,"internal-error"),F(zr,p.name),F(Bs,p.name),be("boolean"==typeof od,p,"internal-error"),be("boolean"==typeof sd,p,"internal-error"),F(mc,p.name),F(_c,p.name),F(Fl,p.name),F(tl,p.name),F(th,p.name),F(vc,p.name);const rl=new le({uid:nl,auth:p,email:Bs,emailVerified:od,displayName:zr,isAnonymous:sd,photoURL:_c,phoneNumber:mc,tenantId:Fl,stsTokenManager:yc,createdAt:th,lastLoginAt:vc});return ad&&Array.isArray(ad)&&(rl.providerData=ad.map(cd=>Object.assign({},cd))),tl&&(rl._redirectEventId=tl),rl}static _fromIdTokenResponse(p,_,A=!1){return(0,a.A)(function*(){const K=new V;K.updateFromServerResponse(_);const se=new le({uid:_.localId,auth:p,stsTokenManager:K,isAnonymous:A});return yield ie(se),se})()}static _fromGetAccountInfoResponse(p,_,A){return(0,a.A)(function*(){const K=_.users[0];be(void 0!==K.localId,"internal-error");const se=void 0!==K.providerUserInfo?wr(K.providerUserInfo):[],$e=!(K.email&&K.passwordHash||se?.length),gt=new V;gt.updateFromIdToken(A);const zt=new le({uid:K.localId,auth:p,stsTokenManager:gt,isAnonymous:$e}),Sn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:se,metadata:new mt(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||se?.length)};return Object.assign(zt,Sn),zt})()}}const je=new Map;function It(b){dn(b instanceof Function,"Expected a class definition");let p=je.get(b);return p?(dn(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,je.set(b,p),p)}const pn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(_,A){var K=this;return(0,a.A)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,a.A)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,a.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function tn(b,p,_){return`firebase:${b}:${p}:${_}`}class un{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:K,name:se}=this.auth;this.fullUserKey=tn(this.userKey,K.apiKey,se),this.fullPersistenceKey=tn("persistence",K.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?le._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,a.A)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,A="authUser"){return(0,a.A)(function*(){if(!_.length)return new un(It(pn),p,A);const K=(yield Promise.all(_.map(function(){var Sn=(0,a.A)(function*(zn){if(yield zn._isAvailable())return zn});return function(zn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let se=K[0]||It(pn);const $e=tn(A,p.config.apiKey,p.name);let gt=null;for(const Sn of _)try{const zn=yield Sn._get($e);if(zn){const zr=le._fromJSON(p,zn);Sn!==se&&(gt=zr),se=Sn;break}}catch{}const zt=K.filter(Sn=>Sn._shouldAllowMigration);return se._shouldAllowMigration&&zt.length?(se=zt[0],gt&&(yield se._set($e,gt.toJSON())),yield Promise.all(_.map(function(){var Sn=(0,a.A)(function*(zn){if(zn!==se)try{yield zn._remove($e)}catch{}});return function(zn){return Sn.apply(this,arguments)}}())),new un(se,p,A)):new un(se,p,A)})()}}function rr(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Oo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(An(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Li(p))return"Blackberry";if(Pe(p))return"Webos";if(hi(p))return"Safari";if((p.includes("chrome/")||Er(p))&&!p.includes("edge/"))return"Chrome";if(ii(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function An(b=(0,o.ZQ)()){return/firefox\//i.test(b)}function hi(b=(0,o.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Er(b=(0,o.ZQ)()){return/crios\//i.test(b)}function Oo(b=(0,o.ZQ)()){return/iemobile/i.test(b)}function ii(b=(0,o.ZQ)()){return/android/i.test(b)}function Li(b=(0,o.ZQ)()){return/blackberry/i.test(b)}function Pe(b=(0,o.ZQ)()){return/webos/i.test(b)}function Lt(b=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ce(b=(0,o.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Et(b=(0,o.ZQ)()){return Lt(b)||ii(b)||Pe(b)||Li(b)||/windows phone/i.test(b)||Oo(b)}function Dn(b,p=[]){let _;switch(b){case"Browser":_=rr((0,o.ZQ)());break;case"Worker":_=`${rr((0,o.ZQ)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${A}`}class On{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=se=>new Promise(($e,gt)=>{try{$e(p(se))}catch(zt){gt(zt)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,a.A)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const K of _.queue)yield K(p),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const se of A)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function qr(){return(qr=(0,a.A)(function*(b,p={}){return Ge(b,"GET","/v2/passwordPolicy",Se(b,p))})).apply(this,arguments)}class ki{constructor(p){var _,A,K,se;const $e=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=$e.minPasswordLength)&&void 0!==_?_:6,$e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=$e.maxPasswordLength),void 0!==$e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=$e.containsLowercaseCharacter),void 0!==$e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=$e.containsUppercaseCharacter),void 0!==$e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=$e.containsNumericCharacter),void 0!==$e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=$e.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(A=p.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(se=p.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,A,K,se,$e,gt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,zt),this.validatePasswordCharacterOptions(p,zt),zt.isValid&&(zt.isValid=null===(_=zt.meetsMinPasswordLength)||void 0===_||_),zt.isValid&&(zt.isValid=null===(A=zt.meetsMaxPasswordLength)||void 0===A||A),zt.isValid&&(zt.isValid=null===(K=zt.containsLowercaseLetter)||void 0===K||K),zt.isValid&&(zt.isValid=null===(se=zt.containsUppercaseLetter)||void 0===se||se),zt.isValid&&(zt.isValid=null===($e=zt.containsNumericCharacter)||void 0===$e||$e),zt.isValid&&(zt.isValid=null===(gt=zt.containsNonAlphanumericCharacter)||void 0===gt||gt),zt}validatePasswordLengthOptions(p,_){const A=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=p.length>=A),K&&(_.meetsMaxPasswordLength=p.length<=K)}validatePasswordCharacterOptions(p,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<p.length;K++)A=p.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(p,_,A,K,se){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=se))}}class qo{constructor(p,_,A,K){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vs(this),this.idTokenSubscription=new vs(this),this.beforeStateQueue=new On(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=It(_)),this._initializationPromise=this.queue((0,a.A)(function*(){var K,se;if(!A._deleted&&(A.persistenceManager=yield un.create(A,p),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,a.A)(function*(){try{const A=yield hr(_,{idToken:p}),K=yield le._fromGetAccountInfoResponse(_,A,p);yield _.directlySetCurrentUser(K)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,a.A)(function*(){var A;if((0,ae._isFirebaseServerApp)(_.app)){const gt=_.app.settings.authIdToken;return gt?new Promise(zt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(gt).then(zt,zt))}):_.directlySetCurrentUser(null)}const K=yield _.assertedPersistence.getCurrentUser();let se=K,$e=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const gt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,zt=se?._redirectEventId,Sn=yield _.tryRedirectSignIn(p);(!gt||gt===zt)&&Sn?.user&&(se=Sn.user,$e=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if($e)try{yield _.beforeStateQueue.runMiddleware(se)}catch(gt){se=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(gt))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return be(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(p){var _=this;return(0,a.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,a.A)(function*(){try{yield ie(p)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,a.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,a.A)(function*(){if((0,ae._isFirebaseServerApp)(_.app))return Promise.reject(rt(_));const A=p?(0,o.Ku)(p):null;return A&&be(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p,_=!1){var A=this;return(0,a.A)(function*(){if(!A._deleted)return p&&be(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,a.A)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.A)(function*(){return(0,ae._isFirebaseServerApp)(p.app)?Promise.reject(rt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject(rt(this)):this.queue((0,a.A)(function*(){yield _.assertedPersistence.setPersistence(It(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,a.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,a.A)(function*(){const _=yield function kn(b){return qr.apply(this,arguments)}(p),A=new ki(_);null===p.tenantId?p._projectPasswordPolicy=A:p._tenantPasswordPolicies[p.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new o.FA("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const A=this.onAuthStateChanged(()=>{A(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,a.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:A};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function ee(b,p){return H.apply(this,arguments)}(_,K)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,a.A)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===p?K.removeCurrentUser():K.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,a.A)(function*(){if(!_.redirectPersistenceManager){const A=p&&It(p)||_._popupRedirectResolver;be(A,_,"argument-error"),_.redirectPersistenceManager=yield un.create(_,[It(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,a.A)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,a.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,a.A)(function*(){if(p===_.currentUser)return _.queue((0,a.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,K){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_);let $e=!1;const gt=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(gt,this,"internal-error"),gt.then(()=>{$e||se(this.currentUser)}),"function"==typeof _){const zt=p.addObserver(_,A,K);return()=>{$e=!0,zt()}}{const zt=p.addObserver(_);return()=>{$e=!0,zt()}}}directlySetCurrentUser(p){var _=this;return(0,a.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.A)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const K=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const se=yield p._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var p=this;return(0,a.A)(function*(){var _;const A=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function cn(b,...p){Mt.logLevel<=Ae.$b.WARN&&Mt.warn(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Rr(b){return(0,o.Ku)(b)}class vs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,o.tD)(_=>this.observer=_)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fi={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ci(b){return Fi.loadJS(b)}function Gi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Br{constructor(p){this.type="recaptcha-enterprise",this.auth=Rr(p)}verify(p="verify",_=!1){var A=this;return(0,a.A)(function*(){function se(){return se=(0,a.A)(function*(gt){if(!_){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var zt=(0,a.A)(function*(Sn,zn){yr(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zr=>{if(void 0!==zr.recaptchaKey){const Bs=new Vt(zr);return null==gt.tenantId?gt._agentRecaptchaConfig=Bs:gt._tenantRecaptchaConfigs[gt.tenantId]=Bs,Sn(Bs.siteKey)}zn(new Error("recaptcha Enterprise site key undefined"))}).catch(zr=>{zn(zr)})});return function(Sn,zn){return zt.apply(this,arguments)}}())}),se.apply(this,arguments)}function $e(gt,zt,Sn){const zn=window.grecaptcha;Wt(zn)?zn.enterprise.ready(()=>{zn.enterprise.execute(gt,{action:p}).then(zr=>{zt(zr)}).catch(()=>{zt("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((gt,zt)=>{(function K(gt){return se.apply(this,arguments)})(A.auth).then(Sn=>{if(!_&&Wt(window.grecaptcha))$e(Sn,gt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let zn=function No(){return Fi.recaptchaEnterpriseScript}();0!==zn.length&&(zn+=Sn),Ci(zn).then(()=>{$e(Sn,gt,zt)}).catch(zr=>{zt(zr)})}}).catch(Sn=>{zt(Sn)})})})()}}function Vr(b,p,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.A)(function*(b,p,_,A=!1){const K=new Br(b);let se;try{se=yield K.verify(_)}catch{se=yield K.verify(_,!0)}const $e=Object.assign({},p);return Object.assign($e,A?{captchaResp:se}:{captchaResponse:se}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}function co(b,p,_,A){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,a.A)(function*(b,p,_,A){var K;if(null!==(K=b._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Vr(b,p,_,"getOobCode"===_);return A(b,se)}return A(b,p).catch(function(){var se=(0,a.A)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const gt=yield Vr(b,p,_,"getOobCode"===_);return A(b,gt)}return Promise.reject($e)});return function($e){return se.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function ko(b,p,_){const A=Rr(b);be(A._canInitEmulator,A,"emulator-config-failed"),be(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const K=!!_?.disableWarnings,se=ui(p),{host:$e,port:gt}=function bo(b){const p=ui(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const se=K[1];return{host:se,port:Yo(A.substr(se.length+1))}}{const[se,$e]=A.split(":");return{host:se,port:Yo($e)}}}(p);A.config.emulator={url:`${se}//${$e}${null===gt?"":`:${gt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:$e,port:gt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Es(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ui(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Yo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class lo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Jt("not implemented")}_getIdTokenResponse(p){return Jt("not implemented")}_linkToIdToken(p,_){return Jt("not implemented")}_getReauthenticationResolver(p){return Jt("not implemented")}}function ns(b,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:resetPassword",Se(b,p))})).apply(this,arguments)}function Ti(){return(Ti=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function uo(b,p){return $r.apply(this,arguments)}function $r(){return($r=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function pi(){return(pi=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",Se(b,p))})).apply(this,arguments)}function Vi(b,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithPassword",Se(b,p))})).apply(this,arguments)}function qi(b,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:sendOobCode",Se(b,p))})).apply(this,arguments)}function jn(){return(jn=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function lr(b,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function ro(b,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Hr(){return(Hr=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Vo(){return(Vo=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}function To(){return(To=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}class vi extends lo{constructor(p,_,A,K=null){super("password",A),this._email=p,this._password=_,this._tenantId=K}static _fromEmailAndPassword(p,_){return new vi(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new vi(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,a.A)(function*(){switch(_.signInMethod){case"password":return co(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vi);case"emailLink":return function Fo(b,p){return Vo.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:We(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,a.A)(function*(){switch(A.signInMethod){case"password":return co(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uo);case"emailLink":return function Kn(b,p){return To.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:We(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Q(b,p){return z.apply(this,arguments)}function z(){return(z=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithIdp",Se(b,p))})).apply(this,arguments)}class Re extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Re(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):We("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K}=_,se=(0,he.Tt)(_,["providerId","signInMethod"]);if(!A||!K)return null;const $e=new Re(A,K);return $e.idToken=se.idToken||void 0,$e.accessToken=se.accessToken||void 0,$e.secret=se.secret,$e.nonce=se.nonce,$e.pendingToken=se.pendingToken||null,$e}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,o.Am)(_)}return p}}function yt(){return(yt=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:sendVerificationCode",Se(b,p))})).apply(this,arguments)}function mn(){return(mn=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p))})).apply(this,arguments)}function gn(){return(gn=(0,a.A)(function*(b,p){const _=yield on(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p));if(_.temporaryProof)throw wn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const sr={USER_NOT_FOUND:"user-not-found"};function mi(){return(mi=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),sr)})).apply(this,arguments)}class Ir extends lo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Ir({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Ir({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Yt(b,p){return mn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Rt(b,p){return gn.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Rn(b,p){return mi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}=p;return A||_||K||se?new Ir({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}):null}}class Lr{constructor(p){var _,A,K,se,$e,gt;const zt=(0,o.I9)((0,o.hp)(p)),Sn=null!==(_=zt.apiKey)&&void 0!==_?_:null,zn=null!==(A=zt.oobCode)&&void 0!==A?A:null,zr=function Zr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=zt.mode)&&void 0!==K?K:null);be(Sn&&zn&&zr,"argument-error"),this.apiKey=Sn,this.operation=zr,this.code=zn,this.continueUrl=null!==(se=zt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==($e=zt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(gt=zt.tenantId)&&void 0!==gt?gt:null}static parseLink(p){const _=function oi(b){const p=(0,o.I9)((0,o.hp)(b)).link,_=p?(0,o.I9)((0,o.hp)(p)).deep_link_id:null,A=(0,o.I9)((0,o.hp)(b)).deep_link_id;return(A?(0,o.I9)((0,o.hp)(A)).link:null)||A||_||p||b}(p);try{return new Lr(_)}catch{return null}}}let Xi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return vi._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=Lr.parseLink(A);return be(K,"argument-error"),vi._fromEmailAndCode(_,K.code,K.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class bi extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class si extends bi{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return be("providerId"in _&&"signInMethod"in _,"argument-error"),Re._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return be(p.idToken||p.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return si.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return si.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:se,nonce:$e,providerId:gt}=p;if(!A&&!K&&!_&&!se||!gt)return null;try{return new si(gt)._credential({idToken:_,accessToken:A,nonce:$e,pendingToken:se})}catch{return null}}}let fr=(()=>{class b extends bi{constructor(){super("facebook.com")}static credential(_){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Cs=(()=>{class b extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ai=(()=>{class b extends bi{constructor(){super("github.com")}static credential(_){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ho extends lo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K,pendingToken:se}=_;return A&&K&&se&&A===K?new ho(A,se):null}static _create(p,_){return new ho(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fo extends ir{constructor(p){be(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return fo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return fo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=ho.fromJSON(p);return be(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:A}=p;if(!_||!A)return null;try{return ho._create(A,_)}catch{return null}}}let rs=(()=>{class b extends bi{constructor(){super("twitter.com")}static credential(_,A){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ks(b,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signUp",Se(b,p))})).apply(this,arguments)}class $i{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A,K=!1){return(0,a.A)(function*(){const se=yield le._fromIdTokenResponse(p,A,K),$e=Ps(A);return new $i({user:se,providerId:$e,_tokenResponse:A,operationType:_})})()}static _forOperation(p,_,A){return(0,a.A)(function*(){yield p._updateTokensIfNecessary(A,!0);const K=Ps(A);return new $i({user:p,providerId:K,_tokenResponse:A,operationType:_})})()}}function Ps(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Rs(b){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,a.A)(function*(b){var p;if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const _=Rr(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new $i({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Ks(_,{returnSecureToken:!0}),K=yield $i._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Xr extends o.g{constructor(p,_,A,K){var se;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Xr.prototype),this.customData={appName:p.name,tenantId:null!==(se=p.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,K){return new Xr(p,_,A,K)}}function ia(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Xr._fromErrorAndOperation(b,se,p,A):se})}function Aa(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function G(b,p){return Y.apply(this,arguments)}function Y(){return Y=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);yield Ve(!0,_,p);const{providerUserInfo:A}=yield function Pn(b,p){return Tn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),K=Aa(A||[]);return _.providerData=_.providerData.filter(se=>K.has(se.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Y.apply(this,arguments)}function O(b,p){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.A)(function*(b,p,_=!1){const A=yield gr(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return $i._forOperation(b,"link",A)})).apply(this,arguments)}function Ve(b,p,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.A)(function*(b,p,_){yield ie(p);const K=!1===b?"provider-already-linked":"no-such-provider";be(Aa(p.providerData).has(_)===b,p.auth,K)})).apply(this,arguments)}function Gn(b,p){return io.apply(this,arguments)}function io(){return(io=(0,a.A)(function*(b,p,_=!1){const{auth:A}=b;if((0,ae._isFirebaseServerApp)(A.app))return Promise.reject(rt(A));const K="reauthenticate";try{const se=yield gr(b,ia(A,K,p,b),_);be(se.idToken,A,"internal-error");const $e=ri(se.idToken);be($e,A,"internal-error");const{sub:gt}=$e;return be(b.uid===gt,A,"user-mismatch"),$i._forOperation(b,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&We(A,"user-mismatch"),se}})).apply(this,arguments)}function po(b,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A="signIn",K=yield ia(b,A,p),se=yield $i._fromIdTokenResponse(b,A,K);return _||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function is(b,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.A)(function*(b,p){return po(Rr(b),p)})).apply(this,arguments)}function Bo(b,p){return So.apply(this,arguments)}function So(){return(So=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);return yield Ve(!1,_,p.providerId),O(_,p)})).apply(this,arguments)}function ml(b,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.A)(function*(b,p){return Gn((0,o.Ku)(b),p)})).apply(this,arguments)}function zi(){return(zi=(0,a.A)(function*(b,p){return on(b,"POST","/v1/accounts:signInWithCustomToken",Se(b,p))})).apply(this,arguments)}function kc(b,p){return wo.apply(this,arguments)}function wo(){return wo=(0,a.A)(function*(b,p){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const _=Rr(b),A=yield function _a(b,p){return zi.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),K=yield $i._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K}),wo.apply(this,arguments)}class Ms{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?os._fromServerResponse(p,_):"totpInfo"in _?va._fromServerResponse(p,_):We(p,"internal-error")}}class os extends Ms{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new os(_)}}class va extends Ms{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new va(_)}}function Os(b,p,_){var A;be((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),be(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(be(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(be(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function ar(b){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.A)(function*(b){const p=Rr(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function qs(b,p,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.A)(function*(b,p,_){const A=Rr(b),K={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&Os(A,K,_),yield co(A,K,"getOobCode",lr)})).apply(this,arguments)}function Ka(b,p,_){return ya.apply(this,arguments)}function ya(){return ya=(0,a.A)(function*(b,p,_){yield ns((0,o.Ku)(b),{oobCode:p,newPassword:_}).catch(function(){var A=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&ar(b),K});return function(K){return A.apply(this,arguments)}}())}),ya.apply(this,arguments)}function ls(b,p){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,a.A)(function*(b,p){yield function wi(b,p){return pi.apply(this,arguments)}((0,o.Ku)(b),{oobCode:p})}),Ns.apply(this,arguments)}function qa(b,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b),A=yield ns(_,{oobCode:p}),K=A.requestType;switch(be(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(A.mfaInfo,_,"internal-error");default:be(A.email,_,"internal-error")}let se=null;return A.mfaInfo&&(se=Ms._fromServerResponse(Rr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:K}})).apply(this,arguments)}function xa(b,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.A)(function*(b,p){const{data:_}=yield qa((0,o.Ku)(b),p);return _.email})).apply(this,arguments)}function Ya(b,p,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Rr(b),$e=yield co(A,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ks).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&ar(b),zt}),gt=yield $i._fromIdTokenResponse(A,"signIn",$e);return yield A._updateCurrentUser(gt.user),gt})).apply(this,arguments)}function Uu(b,p,_){return(0,ae._isFirebaseServerApp)(b.app)?Promise.reject(rt(b)):is((0,o.Ku)(b),Xi.credential(p,_)).catch(function(){var A=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&ar(b),K});return function(K){return A.apply(this,arguments)}}())}function Ys(b,p,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.A)(function*(b,p,_){const A=Rr(b),K={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function se($e,gt){be(gt.handleCodeInApp,A,"argument-error"),gt&&Os(A,$e,gt)})(K,_),yield co(A,K,"getOobCode",ro)})).apply(this,arguments)}function Jl(b,p){const _=Lr.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}function sa(b,p,_){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=(0,o.Ku)(b),K=Xi.credentialWithLink(p,_||nr());return be(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),is(A,K)})).apply(this,arguments)}function Di(){return(Di=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:createAuthUri",Se(b,p))})).apply(this,arguments)}function x(b,p){return J.apply(this,arguments)}function J(){return J=(0,a.A)(function*(b,p){const A={identifier:p,continueUri:Pt()?nr():"http://localhost"},{signinMethods:K}=yield function vl(b,p){return Di.apply(this,arguments)}((0,o.Ku)(b),A);return K||[]}),J.apply(this,arguments)}function U(b,p){return X.apply(this,arguments)}function X(){return X=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b),K={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Os(_.auth,K,p);const{email:se}=yield function Zt(b,p){return jn.apply(this,arguments)}(_.auth,K);se!==b.email&&(yield b.reload())}),X.apply(this,arguments)}function we(b,p,_){return _t.apply(this,arguments)}function _t(){return _t=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Os(A.auth,se,_);const{email:$e}=yield function Io(b,p){return Hr.apply(this,arguments)}(A.auth,se);$e!==b.email&&(yield b.reload())}),_t.apply(this,arguments)}function Cn(){return(Cn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Or(b,p){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,a.A)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const A=(0,o.Ku)(b),se={idToken:yield A.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},$e=yield gr(A,function Nt(b,p){return Cn.apply(this,arguments)}(A.auth,se));A.displayName=$e.displayName||null,A.photoURL=$e.photoUrl||null;const gt=A.providerData.find(({providerId:zt})=>"password"===zt);gt&&(gt.displayName=A.displayName,gt.photoURL=A.photoURL),yield A._updateTokensIfNecessary($e)}),Qr.apply(this,arguments)}function Gr(b,p){const _=(0,o.Ku)(b);return(0,ae._isFirebaseServerApp)(_.auth.app)?Promise.reject(rt(_.auth)):yi(_,p,null)}function Cr(b,p){return yi((0,o.Ku)(b),null,p)}function yi(b,p,_){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,a.A)(function*(b,p,_){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(se.email=p),_&&(se.password=_);const $e=yield gr(b,function fi(b,p){return Ti.apply(this,arguments)}(A,se));yield b._updateTokensIfNecessary($e,!0)}),Ar.apply(this,arguments)}class Ao{constructor(p,_,A={}){this.isNewUser=p,this.providerId=_,this.profile=A}}class $o extends Ao{constructor(p,_,A,K){super(p,_,A),this.username=K}}class Fs extends Ao{constructor(p,_){super(p,"facebook.com",_)}}class Ho extends $o{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class xi extends Ao{constructor(p,_){super(p,"google.com",_)}}class Zn extends $o{constructor(p,_,A){super(p,"twitter.com",_,A)}}function us(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ri(b){var p,_;if(!b)return null;const{providerId:A}=b,K=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const $e=null===(_=null===(p=ri(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if($e)return new Ao(se,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!A)return null;switch(A){case"facebook.com":return new Fs(se,K);case"github.com":return new Ho(se,K);case"google.com":return new xi(se,K);case"twitter.com":return new Zn(se,K,b.screenName||null);case"custom":case"anonymous":return new Ao(se,null);default:return new Ao(se,A,K)}}(_)}class Zi{constructor(p,_,A){this.type=p,this.credential=_,this.user=A}static _fromIdtoken(p,_){return new Zi("enroll",p,_)}static _fromMfaPendingCredential(p){return new Zi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,A;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(A=p.multiFactorSession)&&void 0!==A&&A.idToken)return Zi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vc{constructor(p,_,A){this.session=p,this.hints=_,this.signInResolver=A}static _fromError(p,_){const A=Rr(p),K=_.customData._serverResponse,se=(K.mfaInfo||[]).map(gt=>Ms._fromServerResponse(A,gt));be(K.mfaPendingCredential,A,"internal-error");const $e=Zi._fromMfaPendingCredential(K.mfaPendingCredential);return new Vc($e,se,function(){var gt=(0,a.A)(function*(zt){const Sn=yield zt._process(A,$e);delete K.mfaInfo,delete K.mfaPendingCredential;const zn=Object.assign(Object.assign({},K),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(_.operationType){case"signIn":const zr=yield $i._fromIdTokenResponse(A,_.operationType,zn);return yield A._updateCurrentUser(zr.user),zr;case"reauthenticate":return be(_.user,A,"internal-error"),$i._forOperation(_.user,_.operationType,zn);default:We(A,"internal-error")}});return function(zt){return gt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,a.A)(function*(){return _.signInResolver(p)})()}}function El(b,p){var _;const A=(0,o.Ku)(b),K=p;return be(p.customData.operationType,A,"argument-error"),be(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Vc._fromError(A,K)}class Ja{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>Ms._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new Ja(p)}getSession(){var p=this;return(0,a.A)(function*(){return Zi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var A=this;return(0,a.A)(function*(){const K=p,se=yield A.getSession(),$e=yield gr(A.user,K._process(A.user.auth,se,_));return yield A.user._updateTokensIfNecessary($e),A.user.reload()})()}unenroll(p){var _=this;return(0,a.A)(function*(){const A="string"==typeof p?p:p.uid,K=yield _.user.getIdToken();try{const se=yield gr(_.user,function Hu(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(b,p))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$e})=>$e!==A),yield _.user._updateTokensIfNecessary(se),yield _.user.reload()}catch(se){throw se}})()}}const Go=new WeakMap;function tu(b){const p=(0,o.Ku)(b);return Go.has(p)||Go.set(p,Ja._fromUser(p)),Go.get(p)}const Cl="__sak";class eo{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Cl,"1"),this.storage.removeItem(Cl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const hs=(()=>{class b extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pa(){const b=(0,o.ZQ)();return hi(b)||Lt(b)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Et(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),se=this.localCache[A];K!==se&&_(A,se,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((gt,zt,Sn)=>{this.notifyListeners(gt,Sn)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(K);if(_.newValue!==gt)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const se=()=>{const gt=this.storage.getItem(K);!A&&this.localCache[K]===gt||this.notifyListeners(K,gt)},$e=this.storage.getItem(K);!function pe(){return(0,o.lT)()&&10===document.documentMode}()||$e===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,se=this;return(0,a.A)(function*(){yield K().call(se,_,A),se.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,a.A)(function*(){const se=yield A().call(K,_);return K.localCache[_]=JSON.stringify(se),se})()}_remove(_){var A=()=>super._remove,K=this;return(0,a.A)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return b.type="LOCAL",b})(),$t=(()=>{class b extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let Uc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(se=>se.isListeningto(_));if(A)return A;const K=new b(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,a.A)(function*(){const K=_,{eventId:se,eventType:$e,data:gt}=K.data,zt=A.handlersMap[$e];if(!zt?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:$e});const Sn=Array.from(zt).map(function(){var zr=(0,a.A)(function*(Bs){return Bs(K.origin,gt)});return function(Bs){return zr.apply(this,arguments)}}()),zn=yield function Dt(b){return Promise.all(b.map(function(){var p=(0,a.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(Sn);K.ports[0].postMessage({status:"done",eventId:se,eventType:$e,response:zn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ma(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class Do{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,A=50){var K=this;return(0,a.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let $e,gt;return new Promise((zt,Sn)=>{const zn=Ma("",20);se.port1.start();const zr=setTimeout(()=>{Sn(new Error("unsupported_event"))},A);gt={messageChannel:se,onMessage(Bs){const mc=Bs;if(mc.data.eventId===zn)switch(mc.data.status){case"ack":clearTimeout(zr),$e=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),zt(mc.data.response);break;default:clearTimeout(zr),clearTimeout($e),Sn(new Error("invalid_response"))}}},K.handlers.add(gt),se.port1.addEventListener("message",gt.onMessage),K.target.postMessage({eventType:p,eventId:zn,data:_},[se.port2])}).finally(()=>{gt&&K.removeMessageHandler(gt)})})()}}function Si(){return window}function Qo(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function Oa(){return(Oa=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Il="firebaseLocalStorageDb",fs="firebaseLocalStorage",Tl="fbase_key";class Xs{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ps(b,p){return b.transaction([fs],p?"readwrite":"readonly").objectStore(fs)}function gs(){const b=indexedDB.open(Il,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(fs,{keyPath:Tl})}catch(K){_(K)}}),b.addEventListener("success",(0,a.A)(function*(){const A=b.result;A.objectStoreNames.contains(fs)?p(A):(A.close(),yield function Bd(){const b=indexedDB.deleteDatabase(Il);return new Xs(b).toPromise()}(),p(yield gs()))}))})}function ec(b,p,_){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,a.A)(function*(b,p,_){const A=ps(b,!0).put({[Tl]:p,value:_});return new Xs(A).toPromise()})).apply(this,arguments)}function jc(){return(jc=(0,a.A)(function*(b,p){const _=ps(b,!1).get(p),A=yield new Xs(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Qs(b,p){const _=ps(b,!0).delete(p);return new Xs(_).toPromise()}const M=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.A)(function*(){return _.db||(_.db=yield gs()),_.db})()}_withRetries(_){var A=this;return(0,a.A)(function*(){let K=0;for(;;)try{const se=yield A._openDb();return yield _(se)}catch(se){if(K++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.A)(function*(){return Qo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.A)(function*(){_.receiver=Uc._getInstance(function Za(){return Qo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,a.A)(function*(K,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function(K,se){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,a.A)(function*(K,se){return["keyChanged"]});return function(K,se){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.A)(function*(){var A,K;if(_.activeServiceWorker=yield function zo(){return Oa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Do(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,a.A)(function*(){if(A.sender&&A.activeServiceWorker&&function qn(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const _=yield gs();return yield ec(_,Cl,"1"),yield Qs(_,Cl),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,a.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,a.A)(function*(){return K._withPendingWrite((0,a.A)(function*(){return yield K._withRetries(se=>ec(se,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,a.A)(function*(){const K=yield A._withRetries(se=>function zu(b,p){return jc.apply(this,arguments)}(se,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,a.A)(function*(){return A._withPendingWrite((0,a.A)(function*(){return yield A._withRetries(K=>Qs(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.A)(function*(){const A=yield _._withRetries($e=>{const gt=ps($e,!1).getAll();return new Xs(gt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],se=new Set;if(0!==A.length)for(const{fbase_key:$e,value:gt}of A)se.add($e),JSON.stringify(_.localCache[$e])!==JSON.stringify(gt)&&(_.notifyListeners($e,gt),K.push($e));for(const $e of Object.keys(_.localCache))_.localCache[$e]&&!se.has($e)&&(_.notifyListeners($e,null),K.push($e));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),vn=1e12;class pr{constructor(p){this.auth=p,this.counter=vn,this._widgets=new Map}render(p,_){const A=this.counter;return this._widgets.set(A,new Tr(p,this.auth.name,_||{})),this.counter++,A}reset(p){var _;const A=p||vn;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(p){var _;return(null===(_=this._widgets.get(p||vn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,a.A)(function*(){var A;return null===(A=_._widgets.get(p||vn))||void 0===A||A.execute(),""})()}}class Tr{constructor(p,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof p?document.getElementById(p):p;be(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dr(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ci=Gi("rcb"),tc=new Me(3e4,6e4);class nc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Si().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return be(function ca(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&$n(Si().grecaptcha)?Promise.resolve(Si().grecaptcha):new Promise((A,K)=>{const se=Si().setTimeout(()=>{K(ot(p,"network-request-failed"))},tc.get());Si()[ci]=()=>{Si().clearTimeout(se),delete Si()[ci];const gt=Si().grecaptcha;if(!gt||!$n(gt))return void K(ot(p,"internal-error"));const zt=gt.render;gt.render=(Sn,zn)=>{const zr=zt(Sn,zn);return this.counter++,zr},this.hostLanguage=_,A(gt)},Ci(`${function ga(){return Fi.recaptchaV2Script}()}?${(0,o.Am)({onload:ci,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),K(ot(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Si().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Js{load(p){return(0,a.A)(function*(){return new pr(p)})()}clearedOneInstance(){}}const Ea="recaptcha",Na={theme:"light",type:"image"};class wl{constructor(p,_,A=Object.assign({},Na)){this.parameters=A,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(p),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;be(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Js:new nc,this.validateStartingState()}verify(){var p=this;return(0,a.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(_)||new Promise(se=>{const $e=gt=>{gt&&(p.tokenChangeListeners.delete($e),se(gt))};p.tokenChangeListeners.add($e),p.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof p)p(_);else if("string"==typeof p){const A=Si()[p];"function"==typeof A&&A(_)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.A)(function*(){be(Pt()&&!Qo(),p.auth,"internal-error"),yield function rc(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function jr(b){return fn.apply(this,arguments)}(p.auth);be(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $d{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Ir._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Wu(b,p,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Rr(b),K=yield Bc(A,p,(0,o.Ku)(_));return new $d(K,se=>is(A,se))})).apply(this,arguments)}function ms(b,p,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);yield Ve(!1,A,"phone");const K=yield Bc(A.auth,p,(0,o.Ku)(_));return new $d(K,se=>Bo(A,se))})).apply(this,arguments)}function Al(b,p,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(rt(A.auth));const K=yield Bc(A.auth,p,(0,o.Ku)(_));return new $d(K,se=>ml(A,se))})).apply(this,arguments)}function Bc(b,p,_){return ic.apply(this,arguments)}function ic(){return ic=(0,a.A)(function*(b,p,_){var A;const K=yield _.verify();try{let se;if(be("string"==typeof K,b,"argument-error"),be(_.type===Ea,b,"argument-error"),se="string"==typeof p?{phoneNumber:p}:p,"session"in se){const $e=se.session;if("phoneNumber"in se)return be("enroll"===$e.type,b,"internal-error"),(yield function ju(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:start",Se(b,p))}(b,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{be("signin"===$e.type,b,"internal-error");const gt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return be(gt,b,"missing-multi-factor-info"),(yield function j(b,p){return Ge(b,"POST","/v2/accounts/mfaSignIn:start",Se(b,p))}(b,{mfaPendingCredential:$e.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function Ye(b,p){return yt.apply(this,arguments)}(b,{phoneNumber:se.phoneNumber,recaptchaToken:K});return $e}}finally{_._reset()}}),ic.apply(this,arguments)}function $c(b,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(_.auth.app))return Promise.reject(rt(_.auth));yield O(_,p)})).apply(this,arguments)}let vp=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Rr(_)}verifyPhoneNumber(_,A){return Bc(this.auth,_,(0,o.Ku)(A))}static credential(_,A){return Ir._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?Ir._fromTokenResponse(A,K):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function la(b,p){return p?It(p):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ku extends lo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Q(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Q(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Q(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Hd(b){return po(b.auth,new Ku(b),b.bypassAuthState)}function Hc(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),Gn(_,new Ku(b),b.bypassAuthState)}function Bg(b){return qu.apply(this,arguments)}function qu(){return(qu=(0,a.A)(function*(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),O(_,new Ku(b),b.bypassAuthState)})).apply(this,arguments)}class Gc{constructor(p,_,A,K,se=!1){this.auth=p,this.resolver=A,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,a.A)(function*(A,K){p.pendingPromise={resolve:A,reject:K};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(se){p.reject(se)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,a.A)(function*(){const{urlResponse:A,sessionId:K,postBody:se,tenantId:$e,error:gt,type:zt}=p;if(gt)return void _.reject(gt);const Sn={auth:_.auth,requestUri:A,sessionId:K,tenantId:$e||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(zt)(Sn))}catch(zn){_.reject(zn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Hd;case"linkViaPopup":case"linkViaRedirect":return Bg;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:We(this.auth,"internal-error")}}resolve(p){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iu=new Me(2e3,1e4);function Jh(b,p,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(ot(b,"operation-not-supported-in-this-environment"));const A=Rr(b);wt(b,p,ir);const K=la(A,_);return new Lo(A,"signInViaPopup",p,K).executeNotNull()})).apply(this,arguments)}function oc(b,p,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(ot(A.auth,"operation-not-supported-in-this-environment"));wt(A.auth,p,ir);const K=la(A.auth,_);return new Lo(A.auth,"reauthViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}function yp(b,p,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);wt(A.auth,p,ir);const K=la(A.auth,_);return new Lo(A.auth,"linkViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class b extends Gc{constructor(_,A,K,se,$e){super(_,A,se,$e),this.provider=K,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.A)(function*(){const A=yield _.execute();return be(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,a.A)(function*(){dn(1===_.filter.length,"Popup operations only handle one event");const A=Ma();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(ot(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,iu.get())};_()}}return b.currentPopupAction=null,b})();const Zh="pendingRedirect",es=new Map;class Yu extends Gc{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,a.A)(function*(){let A=es.get(_.auth._key());if(!A){try{const se=(yield function su(b,p){return as.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(se)}catch(K){A=()=>Promise.reject(K)}es.set(_.auth._key(),A)}return _.bypassAuthState||es.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,a.A)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const K=yield A.auth._redirectUserForId(p.eventId);if(K)return A.user=K,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function as(){return(as=(0,a.A)(function*(b,p){const _=Xu(p),A=sc(b);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function ka(b,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.A)(function*(b,p){return sc(b)._set(Xu(p),"true")})).apply(this,arguments)}function Ls(){es.clear()}function ef(b,p){es.set(b._key(),p)}function sc(b){return It(b._redirectPersistence)}function Xu(b){return tn(Zh,b.config.apiKey,b.name)}function Fa(b,p,_){return function Gd(b,p,_){return zd.apply(this,arguments)}(b,p,_)}function zd(){return(zd=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Rr(b);wt(b,p,ir),yield A._initializationPromise;const K=la(A,_);return yield ka(K,A),K._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function zc(b,p,_){return function Zs(b,p,_){return Wc.apply(this,arguments)}(b,p,_)}function Wc(){return(Wc=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if(wt(A.auth,p,ir),(0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(rt(A.auth));yield A.auth._initializationPromise;const K=la(A.auth,_);yield ka(K,A.auth);const se=yield Ca(A);return K._openRedirect(A.auth,p,"reauthViaRedirect",se)})).apply(this,arguments)}function tf(b,p,_){return function au(b,p,_){return ac.apply(this,arguments)}(b,p,_)}function ac(){return(ac=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);wt(A.auth,p,ir),yield A.auth._initializationPromise;const K=la(A.auth,_);yield Ve(!1,A,p.providerId),yield ka(K,A.auth);const se=yield Ca(A);return K._openRedirect(A.auth,p,"linkViaRedirect",se)})).apply(this,arguments)}function Ep(b,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.A)(function*(b,p){return yield Rr(b)._initializationPromise,Wd(b,p,!1)})).apply(this,arguments)}function Wd(b,p){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,a.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Rr(b),K=la(A,p),$e=yield new Yu(A,K,_).execute();return $e&&!_&&(delete $e.user._redirectEventId,yield A._persistUserIfCurrent($e.user),yield A._setRedirectUser(null,p)),$e})).apply(this,arguments)}function Ca(b){return qc.apply(this,arguments)}function qc(){return(qc=(0,a.A)(function*(b){const p=Ma(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class xl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function cc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ws(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!ws(p)){const K=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(ot(this.auth,K))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sl(p))}saveEventToCache(p){this.cachedEventUids.add(Sl(p)),this.lastProcessedEventTime=Date.now()}}function Sl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function ws({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Kd(b){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.A)(function*(b,p={}){return Ge(b,"GET","/v1/projects",p)})).apply(this,arguments)}const so=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cp=/^https?/;function nf(){return(nf=(0,a.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Kd(b);for(const _ of p)try{if($g(_))return}catch{}We(b,"unauthorized-domain")})).apply(this,arguments)}function $g(b){const p=nr(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const $e=new URL(b);return""===$e.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&$e.hostname===A}if(!Cp.test(_))return!1;if(so.test(b))return A===b;const K=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const rf=new Me(3e4,6e4);function Ip(){const b=Si().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Xc=null;const Qc=new Me(5e3,15e3),qd="__/auth/iframe",xo="emulator/auth/iframe",cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yd(b){const p=b.config;be(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?ue(p,xo):`https://${b.config.authDomain}/${qd}`,A={apiKey:p.apiKey,appName:b.name,v:ae.SDK_VERSION},K=uc.get(b.config.apiHost);K&&(A.eid=K);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${_}?${(0,o.Am)(A).slice(1)}`}function dc(){return dc=(0,a.A)(function*(b){const p=yield function Pl(b){return Xc=Xc||function Qu(b){return new Promise((p,_)=>{var A,K,se;function $e(){Ip(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ip(),_(ot(b,"network-request-failed"))},timeout:rf.get()})}if(null!==(K=null===(A=Si().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)p(gapi.iframes.getContext());else{if(null===(se=Si().gapi)||void 0===se||!se.load){const gt=Gi("iframefcb");return Si()[gt]=()=>{gapi.load?$e():_(ot(b,"network-request-failed"))},Ci(`${function Pi(){return Fi.gapiScript}()}?onload=${gt}`).catch(zt=>_(zt))}$e()}}).catch(p=>{throw Xc=null,p})}(b),Xc}(b),_=Si().gapi;return be(_,b,"internal-error"),p.open({where:document.body,url:Yd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cu,dontclear:!0},A=>new Promise(function(){var K=(0,a.A)(function*(se,$e){yield A.restyle({setHideOnLeave:!1});const gt=ot(b,"network-request-failed"),zt=Si().setTimeout(()=>{$e(gt)},Qc.get());function Sn(){Si().clearTimeout(zt),se(A)}A.ping(Sn).then(Sn,()=>{$e(gt)})});return function(se,$e){return K.apply(this,arguments)}}()))}),dc.apply(this,arguments)}const Rl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zu="__/auth/handler",Ol="emulator/auth/handler",lu=encodeURIComponent("fac");function Va(b,p,_,A,K,se){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.A)(function*(b,p,_,A,K,se){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const $e={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:ae.SDK_VERSION,eventId:K};if(p instanceof ir){p.setDefaultLanguage(b.languageCode),$e.providerId=p.providerId||"",(0,o.Im)(p.getCustomParameters())||($e.customParameters=JSON.stringify(p.getCustomParameters()));for(const[zn,zr]of Object.entries(se||{}))$e[zn]=zr}if(p instanceof bi){const zn=p.getScopes().filter(zr=>""!==zr);zn.length>0&&($e.scopes=zn.join(","))}b.tenantId&&($e.tid=b.tenantId);const gt=$e;for(const zn of Object.keys(gt))void 0===gt[zn]&&delete gt[zn];const zt=yield b._getAppCheckToken(),Sn=zt?`#${lu}=${encodeURIComponent(zt)}`:"";return`${function ed({config:b}){return b.emulator?ue(b,Ol):`https://${b.authDomain}/${Zu}`}(b)}?${(0,o.Am)(gt).slice(1)}${Sn}`})).apply(this,arguments)}const js="webStorageSupport",Qd=class Xd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$t,this._completeRedirectFn=Wd,this._overrideRedirectResult=ef}_openPopup(p,_,A,K){var se=this;return(0,a.A)(function*(){var $e;dn(null===($e=se.eventManagers[p._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const gt=yield Va(p,_,A,nr(),K);return function Tp(b,p,_,A=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),$e=Math.max((window.screen.availWidth-A)/2,0).toString();let gt="";const zt=Object.assign(Object.assign({},Rl),{width:A.toString(),height:K.toString(),top:se,left:$e}),Sn=(0,o.ZQ)().toLowerCase();_&&(gt=Er(Sn)?"_blank":_),An(Sn)&&(p=p||"http://localhost",zt.scrollbars="yes");const zn=Object.entries(zt).reduce((Bs,[mc,_c])=>`${Bs}${mc}=${_c},`,"");if(function Te(b=(0,o.ZQ)()){var p;return Lt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Sn)&&"_self"!==gt)return function Us(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",gt),new cf(null);const zr=window.open(p||"",gt,zn);be(zr,b,"popup-blocked");try{zr.focus()}catch{}return new cf(zr)}(p,gt,Ma())})()}_openRedirect(p,_,A,K){var se=this;return(0,a.A)(function*(){return yield se._originValidation(p),function aa(b){Si().location.href=b}(yield Va(p,_,A,nr(),K)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:K,promise:se}=this.eventManagers[_];return K?Promise.resolve(K):(dn(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,a.A)(function*(){const A=yield function Po(b){return dc.apply(this,arguments)}(p),K=new xl(p);return A.register("authEvent",se=>(be(se?.authEvent,p,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:K},_.iframes[p._key()]=A,K})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(js,{type:js},K=>{var se;const $e=null===(se=K?.[0])||void 0===se?void 0:se[js];void 0!==$e&&_(!!$e),We(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function bp(b){return nf.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Et()||hi()||Lt()}};class Jd{constructor(p){this.factorId=p}_process(p,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,A);case"signin":return this._finalizeSignIn(p,_.credential);default:return Jt("unexpected MultiFactorSessionType")}}}class hc extends Jd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hc(p)}_finalizeEnroll(p,_,A){return function Bu(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:finalize",Se(b,p))}(p,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ne(b,p){return Ge(b,"POST","/v2/accounts/mfaSignIn:finalize",Se(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let td=(()=>{class b{constructor(){}static assertion(_){return hc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var gc="@firebase/auth";class Nl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,a.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,o.XA)("authIdTokenMaxAge"),function ys(b){Fi=b}({loadJS:b=>new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=K=>{const se=ot("internal-error");se.customData=K,_(se)},A.type="text/javascript",A.charset="UTF-8",function eh(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function nd(b){(0,ae._registerComponent)(new De.uA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),K=p.getProvider("heartbeat"),se=p.getProvider("app-check-internal"),{apiKey:$e,authDomain:gt}=A.options;be($e&&!$e.includes(":"),"invalid-api-key",{appName:A.name});const zt={apiKey:$e,authDomain:gt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(b)},Sn=new qo(A,K,se,zt);return function na(b,p){const _=p?.persistence||[],A=(Array.isArray(_)?_:[_]).map(It);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,p?.popupRedirectResolver)}(Sn,_),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new De.uA("auth-internal",p=>{const _=Rr(p.getProvider("auth").getImmediate());return new Nl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(gc,"1.7.4",function kl(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,ae.registerVersion)(gc,"1.7.4","esm2017")}("Browser")},9583:(rn,Je,L)=>{L.d(Je,{fS:()=>N_,Ix:()=>Gl,H6:()=>Iu,T1:()=>Ro,Wq:()=>Rd,uY:()=>ul,W6:()=>ue,Ci:()=>lg,YQ:()=>_g,NJ:()=>xu,Dc:()=>Wt,GA:()=>Pu,cm:()=>Qn,K$:()=>Ut,FA:()=>Wn,lo:()=>Nr,bI:()=>qt,qG:()=>Ss,qi:()=>dn,c8:()=>sm,gS:()=>U_,C3:()=>Xf,hq:()=>Oh,me:()=>wd,rJ:()=>am,Cs:()=>Lf,vN:()=>Vf,kd:()=>hl,CL:()=>z_,LA:()=>bh,H9:()=>E_,ol:()=>Hf,Q5:()=>Ia,Os:()=>Gf,FD:()=>Cv,rf:()=>R_,Ws:()=>mo,z6:()=>Mo,x7:()=>L_,nY:()=>ym,_e:()=>Su,GG:()=>vg,kU:()=>Iv,Rr:()=>Tv,aU:()=>Bf,GV:()=>wm,AB:()=>Ev,$1:()=>fg,po:()=>zf,St:()=>C_,aQ:()=>Av,FC:()=>by,My:()=>P_,P:()=>dg,B:()=>ag,yx:()=>sg,c4:()=>Tm,O5:()=>Mh,BN:()=>wv,He:()=>Ft,lN:()=>Tc,HM:()=>qf,EO:()=>Ph,mZ:()=>Em,iB:()=>wu,_M:()=>gm});var Le,Be,a=L(467),ae=L(7852),o=L(1362),Ae=L(8041),he=L(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(tt,ke,ze){ze||(ze=0);var nt=Array(16);if("string"==typeof ke)for(var st=0;16>st;++st)nt[st]=ke.charCodeAt(ze++)|ke.charCodeAt(ze++)<<8|ke.charCodeAt(ze++)<<16|ke.charCodeAt(ze++)<<24;else for(st=0;16>st;++st)nt[st]=ke[ze++]|ke[ze++]<<8|ke[ze++]<<16|ke[ze++]<<24;var vt=tt.g[3],He=(ke=tt.g[0])+(vt^(ze=tt.g[1])&((st=tt.g[2])^vt))+nt[0]+3614090360&4294967295;He=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=ze+(He<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[1]+3905402710&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[2]+606105819&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[3]+3250441966&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[4]+4118548399&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[5]+1200080426&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[6]+2821735955&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[7]+4249261313&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[8]+1770035416&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[9]+2336552879&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[10]+4294925233&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[11]+2304563134&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[12]+1804603682&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[13]+4254626195&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[14]+2792965006&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[15]+1236535329&4294967295)<<22&4294967295|He>>>10))+((He=ke+(st^vt&(ze^st))+nt[1]+4129170786&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[6]+3225465664&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[11]+643717713&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[0]+3921069994&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[5]+3593408605&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[10]+38016083&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[15]+3634488961&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[4]+3889429448&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[9]+568446438&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[14]+3275163606&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[3]+4107603335&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[8]+1163531501&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[13]+2850285829&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[2]+4243563512&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[7]+1735328473&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[12]+2368359562&4294967295)<<20&4294967295|He>>>12))+((He=ke+(ze^st^vt)+nt[5]+4294588738&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[8]+2272392833&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[11]+1839030562&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[14]+4259657740&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[1]+2763975236&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[4]+1272893353&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[7]+4139469664&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[10]+3200236656&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[13]+681279174&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[0]+3936430074&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[3]+3572445317&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[6]+76029189&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[9]+3654602809&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[12]+3873151461&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[15]+530742520&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[2]+3299628645&4294967295)<<23&4294967295|He>>>9))+((He=ke+(st^(ze|~vt))+nt[0]+4096336452&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[7]+1126891415&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[14]+2878612391&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[5]+4237533241&4294967295)<<21&4294967295|He>>>11))+((He=ke+(st^(ze|~vt))+nt[12]+1700485571&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[3]+2399980690&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[10]+4293915773&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[1]+2240044497&4294967295)<<21&4294967295|He>>>11))+((He=ke+(st^(ze|~vt))+nt[8]+1873313359&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[15]+4264355552&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[6]+2734768916&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[13]+1309151649&4294967295)<<21&4294967295|He>>>11))+((vt=(ke=ze+((He=ke+(st^(ze|~vt))+nt[4]+4149444226&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[11]+3174756917&4294967295)<<10&4294967295|He>>>22))^((st=vt+((He=st+(ke^(vt|~ze))+nt[2]+718787259&4294967295)<<15&4294967295|He>>>17))|~ke))+nt[9]+3951481745&4294967295,tt.g[0]=tt.g[0]+ke&4294967295,tt.g[1]=tt.g[1]+(st+(He<<21&4294967295|He>>>11))&4294967295,tt.g[2]=tt.g[2]+st&4294967295,tt.g[3]=tt.g[3]+vt&4294967295}function y(tt,ke){this.h=ke;for(var ze=[],nt=!0,st=tt.length-1;0<=st;st--){var vt=0|tt[st];nt&&vt==ke||(ze[st]=vt,nt=!1)}this.g=ze}(function e(tt,ke){function ze(){}ze.prototype=ke.prototype,tt.D=ke.prototype,tt.prototype=new ze,tt.prototype.constructor=tt,tt.C=function(nt,st,vt){for(var He=Array(arguments.length-2),ql=2;ql<arguments.length;ql++)He[ql-2]=arguments[ql];return ke.prototype[st].apply(nt,He)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(tt,ke){void 0===ke&&(ke=tt.length);for(var ze=ke-this.blockSize,nt=this.B,st=this.h,vt=0;vt<ke;){if(0==st)for(;vt<=ze;)u(this,tt,vt),vt+=this.blockSize;if("string"==typeof tt){for(;vt<ke;)if(nt[st++]=tt.charCodeAt(vt++),st==this.blockSize){u(this,nt),st=0;break}}else for(;vt<ke;)if(nt[st++]=tt[vt++],st==this.blockSize){u(this,nt),st=0;break}}this.h=st,this.o+=ke},s.prototype.v=function(){var tt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);tt[0]=128;for(var ke=1;ke<tt.length-8;++ke)tt[ke]=0;var ze=8*this.o;for(ke=tt.length-8;ke<tt.length;++ke)tt[ke]=255&ze,ze/=256;for(this.u(tt),tt=Array(16),ke=ze=0;4>ke;++ke)for(var nt=0;32>nt;nt+=8)tt[ze++]=this.g[ke]>>>nt&255;return tt};var D={};function N(tt){return-128<=tt&&128>tt?function m(tt,ke){var ze=D;return Object.prototype.hasOwnProperty.call(ze,tt)?ze[tt]:ze[tt]=ke(tt)}(tt,function(ke){return new y([0|ke],0>ke?-1:0)}):new y([0|tt],0>tt?-1:0)}function W(tt){if(isNaN(tt)||!isFinite(tt))return ge;if(0>tt)return Xt(W(-tt));for(var ke=[],ze=1,nt=0;tt>=ze;nt++)ke[nt]=tt/ze|0,ze*=4294967296;return new y(ke,0)}var ge=N(0),Ue=N(1),ut=N(16777216);function Ht(tt){if(0!=tt.h)return!1;for(var ke=0;ke<tt.g.length;ke++)if(0!=tt.g[ke])return!1;return!0}function sn(tt){return-1==tt.h}function Xt(tt){for(var ke=tt.g.length,ze=[],nt=0;nt<ke;nt++)ze[nt]=~tt.g[nt];return new y(ze,~tt.h).add(Ue)}function Vn(tt,ke){return tt.add(Xt(ke))}function Jn(tt,ke){for(;(65535&tt[ke])!=tt[ke];)tt[ke+1]+=tt[ke]>>>16,tt[ke]&=65535,ke++}function Bn(tt,ke){this.g=tt,this.h=ke}function xr(tt,ke){if(Ht(ke))throw Error("division by zero");if(Ht(tt))return new Bn(ge,ge);if(sn(tt))return ke=xr(Xt(tt),ke),new Bn(Xt(ke.g),Xt(ke.h));if(sn(ke))return ke=xr(tt,Xt(ke)),new Bn(Xt(ke.g),ke.h);if(30<tt.g.length){if(sn(tt)||sn(ke))throw Error("slowDivide_ only works with positive integers.");for(var ze=Ue,nt=ke;0>=nt.l(tt);)ze=Mi(ze),nt=Mi(nt);var st=ei(ze,1),vt=ei(nt,1);for(nt=ei(nt,2),ze=ei(ze,2);!Ht(nt);){var He=vt.add(nt);0>=He.l(tt)&&(st=st.add(ze),vt=He),nt=ei(nt,1),ze=ei(ze,1)}return ke=Vn(tt,st.j(ke)),new Bn(st,ke)}for(st=ge;0<=tt.l(ke);){for(ze=Math.max(1,Math.floor(tt.m()/ke.m())),nt=48>=(nt=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,nt-48),He=(vt=W(ze)).j(ke);sn(He)||0<He.l(tt);)He=(vt=W(ze-=nt)).j(ke);Ht(vt)&&(vt=Ue),st=st.add(vt),tt=Vn(tt,He)}return new Bn(st,tt)}function Mi(tt){for(var ke=tt.g.length+1,ze=[],nt=0;nt<ke;nt++)ze[nt]=tt.i(nt)<<1|tt.i(nt-1)>>>31;return new y(ze,tt.h)}function ei(tt,ke){var ze=ke>>5;ke%=32;for(var nt=tt.g.length-ze,st=[],vt=0;vt<nt;vt++)st[vt]=0<ke?tt.i(vt+ze)>>>ke|tt.i(vt+ze+1)<<32-ke:tt.i(vt+ze);return new y(st,tt.h)}(l=y.prototype).m=function(){if(sn(this))return-Xt(this).m();for(var tt=0,ke=1,ze=0;ze<this.g.length;ze++){var nt=this.i(ze);tt+=(0<=nt?nt:4294967296+nt)*ke,ke*=4294967296}return tt},l.toString=function(tt){if(2>(tt=tt||10)||36<tt)throw Error("radix out of range: "+tt);if(Ht(this))return"0";if(sn(this))return"-"+Xt(this).toString(tt);for(var ke=W(Math.pow(tt,6)),ze=this,nt="";;){var st=xr(ze,ke).g,vt=((0<(ze=Vn(ze,st.j(ke))).g.length?ze.g[0]:ze.h)>>>0).toString(tt);if(Ht(ze=st))return vt+nt;for(;6>vt.length;)vt="0"+vt;nt=vt+nt}},l.i=function(tt){return 0>tt?0:tt<this.g.length?this.g[tt]:this.h},l.l=function(tt){return sn(tt=Vn(this,tt))?-1:Ht(tt)?0:1},l.abs=function(){return sn(this)?Xt(this):this},l.add=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0,st=0;st<=ke;st++){var vt=nt+(65535&this.i(st))+(65535&tt.i(st)),He=(vt>>>16)+(this.i(st)>>>16)+(tt.i(st)>>>16);nt=He>>>16,ze[st]=(He&=65535)<<16|(vt&=65535)}return new y(ze,-2147483648&ze[ze.length-1]?-1:0)},l.j=function(tt){if(Ht(this)||Ht(tt))return ge;if(sn(this))return sn(tt)?Xt(this).j(Xt(tt)):Xt(Xt(this).j(tt));if(sn(tt))return Xt(this.j(Xt(tt)));if(0>this.l(ut)&&0>tt.l(ut))return W(this.m()*tt.m());for(var ke=this.g.length+tt.g.length,ze=[],nt=0;nt<2*ke;nt++)ze[nt]=0;for(nt=0;nt<this.g.length;nt++)for(var st=0;st<tt.g.length;st++){var vt=this.i(nt)>>>16,He=65535&this.i(nt),ql=tt.i(st)>>>16,Jf=65535&tt.i(st);ze[2*nt+2*st]+=He*Jf,Jn(ze,2*nt+2*st),ze[2*nt+2*st+1]+=vt*Jf,Jn(ze,2*nt+2*st+1),ze[2*nt+2*st+1]+=He*ql,Jn(ze,2*nt+2*st+1),ze[2*nt+2*st+2]+=vt*ql,Jn(ze,2*nt+2*st+2)}for(nt=0;nt<ke;nt++)ze[nt]=ze[2*nt+1]<<16|ze[2*nt];for(nt=ke;nt<2*ke;nt++)ze[nt]=0;return new y(ze,0)},l.A=function(tt){return xr(this,tt).h},l.and=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)&tt.i(nt);return new y(ze,this.h&tt.h)},l.or=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)|tt.i(nt);return new y(ze,this.h|tt.h)},l.xor=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)^tt.i(nt);return new y(ze,this.h^tt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Be=Ne.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=W,y.fromString=function re(tt,ke){if(0==tt.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==tt.charAt(0))return Xt(re(tt.substring(1),ke));if(0<=tt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=W(Math.pow(ke,8)),nt=ge,st=0;st<tt.length;st+=8){var vt=Math.min(8,tt.length-st),He=parseInt(tt.substring(st,st+vt),ke);8>vt?(vt=W(Math.pow(ke,vt)),nt=nt.j(vt).add(W(He))):nt=(nt=nt.j(ze)).add(W(He))}return nt},Le=Ne.Integer=y}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var me,at,Xe,bt,Ct,jt,Mt,cn,et,Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var l,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,q){return v==Array.prototype||v==Object.prototype||(v[k]=q.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Z&&Z];for(var k=0;k<v.length;++k){var q=v[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(v,k){if(k)e:{var q=s;v=v.split(".");for(var de=0;de<v.length-1;de++){var lt=v[de];if(!(lt in q))break e;q=q[lt]}(k=k(de=q[v=v[v.length-1]]))!=de&&null!=k&&e(q,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function m(v,k){v instanceof String&&(v+="");var q=0,de=!1,lt={next:function(){if(!de&&q<v.length){var St=q++;return{value:k(St,v[St]),done:!1}}return de=!0,{done:!0,value:void 0}}};return lt[Symbol.iterator]=function(){return lt},lt}(this,function(k,q){return q})}});var y=y||{},D=this||self;function N(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function W(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function re(v,k,q){return v.call.apply(v.bind,arguments)}function ge(v,k,q){if(!v)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var lt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(lt,de),v.apply(k,lt)}}return function(){return v.apply(k,arguments)}}function Ue(v,k,q){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:ge).apply(null,arguments)}function ut(v,k){var q=Array.prototype.slice.call(arguments,1);return function(){var de=q.slice();return de.push.apply(de,arguments),v.apply(this,de)}}function Ht(v,k){function q(){}q.prototype=k.prototype,v.aa=k.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(de,lt,St){for(var bn=Array(arguments.length-2),no=2;no<arguments.length;no++)bn[no-2]=arguments[no];return k.prototype[lt].apply(de,bn)}}function sn(v){const k=v.length;if(0<k){const q=Array(k);for(let de=0;de<k;de++)q[de]=v[de];return q}return[]}function Xt(v,k){for(let q=1;q<arguments.length;q++){const de=arguments[q];if(N(de)){const lt=v.length||0,St=de.length||0;v.length=lt+St;for(let bn=0;bn<St;bn++)v[lt+bn]=de[bn]}else v.push(de)}}function Jn(v){return/^[\s\xa0]*$/.test(v)}function Bn(){var v=D.navigator;return v&&(v=v.userAgent)?v:""}function xr(v){return xr[" "](v),v}xr[" "]=function(){};var Mi=!(-1==Bn().indexOf("Gecko")||-1!=Bn().toLowerCase().indexOf("webkit")&&-1==Bn().indexOf("Edge")||-1!=Bn().indexOf("Trident")||-1!=Bn().indexOf("MSIE")||-1!=Bn().indexOf("Edge"));function ei(v,k,q){for(const de in v)k.call(q,v[de],de,v)}function ke(v){const k={};for(const q in v)k[q]=v[q];return k}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(v,k){let q,de;for(let lt=1;lt<arguments.length;lt++){for(q in de=arguments[lt],de)v[q]=de[q];for(let St=0;St<ze.length;St++)q=ze[St],Object.prototype.hasOwnProperty.call(de,q)&&(v[q]=de[q])}}function st(v){var k=1;v=v.split(":");const q=[];for(;0<k&&v.length;)q.push(v.shift()),k--;return v.length&&q.push(v.join(":")),q}function vt(v){D.setTimeout(()=>{throw v},0)}function He(){var v=K_;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var Jf=new class Vn{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new ha,v=>v.reset());class ha{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Zf,ep=!1,K_=new class ql{constructor(){this.h=this.g=null}add(k,q){const de=Jf.get();de.set(k,q),this.h?this.h.next=de:this.g=de,this.h=de}},yg=()=>{const v=D.Promise.resolve(void 0);Zf=()=>{v.then(q_)}};var q_=()=>{for(var v;v=He();){try{v.h.call(v.g)}catch(q){vt(q)}var k=Jf;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}ep=!1};function Ru(){this.s=this.s,this.C=this.C}function $s(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}Ru.prototype.s=!1,Ru.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ru.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$s.prototype.h=function(){this.defaultPrevented=!0};var Uv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};D.addEventListener("test",q,k),D.removeEventListener("test",q,k)}catch{}return v}();function kh(v,k){if($s.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,de=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Mi){e:{try{xr(k.nodeName);var lt=!0;break e}catch{}lt=!1}lt||(k=null)}}else"mouseover"==q?k=v.fromElement:"mouseout"==q&&(k=v.toElement);this.relatedTarget=k,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:jv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&kh.aa.h.call(this)}}Ht(kh,$s);var jv={2:"touch",3:"pen",4:"mouse"};kh.prototype.h=function(){kh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var tp="closure_listenable_"+(1e6*Math.random()|0),Dm=0;function Bv(v,k,q,de,lt){this.listener=v,this.proxy=null,this.src=k,this.type=q,this.capture=!!de,this.ha=lt,this.key=++Dm,this.da=this.fa=!1}function Eg(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Cg(v){this.src=v,this.g={},this.h=0}function xm(v,k){var q=k.type;if(q in v.g){var St,de=v.g[q],lt=Array.prototype.indexOf.call(de,k,void 0);(St=0<=lt)&&Array.prototype.splice.call(de,lt,1),St&&(Eg(k),0==v.g[q].length&&(delete v.g[q],v.h--))}}function Sm(v,k,q,de){for(var lt=0;lt<v.length;++lt){var St=v[lt];if(!St.da&&St.listener==k&&St.capture==!!q&&St.ha==de)return lt}return-1}Cg.prototype.add=function(v,k,q,de,lt){var St=v.toString();(v=this.g[St])||(v=this.g[St]=[],this.h++);var bn=Sm(v,k,de,lt);return-1<bn?(k=v[bn],q||(k.fa=!1)):((k=new Bv(k,this.src,St,!!de,lt)).fa=q,v.push(k)),k};var $a="closure_lm_"+(1e6*Math.random()|0),np={};function Y_(v,k,q,de,lt){if(de&&de.once)return Rm(v,k,q,de,lt);if(Array.isArray(k)){for(var St=0;St<k.length;St++)Y_(v,k[St],q,de,lt);return null}return q=wg(q),v&&v[tp]?v.K(k,q,W(de)?!!de.capture:!!de,lt):Pm(v,k,q,!1,de,lt)}function Pm(v,k,q,de,lt,St){if(!k)throw Error("Invalid event type");var bn=W(lt)?!!lt.capture:!!lt,no=Ig(v);if(no||(v[$a]=no=new Cg(v)),(q=no.add(k,q,de,bn,St)).proxy)return q;if(de=function $v(){const k=Dy;return function v(q){return k.call(v.src,v.listener,q)}}(),q.proxy=de,de.src=v,de.listener=q,v.addEventListener)Uv||(lt=bn),void 0===lt&&(lt=!1),v.addEventListener(k.toString(),de,lt);else if(v.attachEvent)v.attachEvent(bg(k.toString()),de);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(de)}return q}function Rm(v,k,q,de,lt){if(Array.isArray(k)){for(var St=0;St<k.length;St++)Rm(v,k[St],q,de,lt);return null}return q=wg(q),v&&v[tp]?v.L(k,q,W(de)?!!de.capture:!!de,lt):Pm(v,k,q,!0,de,lt)}function Mm(v,k,q,de,lt){if(Array.isArray(k))for(var St=0;St<k.length;St++)Mm(v,k[St],q,de,lt);else de=W(de)?!!de.capture:!!de,q=wg(q),v&&v[tp]?(v=v.i,(k=String(k).toString())in v.g&&-1<(q=Sm(St=v.g[k],q,de,lt))&&(Eg(St[q]),Array.prototype.splice.call(St,q,1),0==St.length&&(delete v.g[k],v.h--))):v&&(v=Ig(v))&&(k=v.g[k.toString()],v=-1,k&&(v=Sm(k,q,de,lt)),(q=-1<v?k[v]:null)&&Fh(q))}function Fh(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[tp])xm(k.i,v);else{var q=v.type,de=v.proxy;k.removeEventListener?k.removeEventListener(q,de,v.capture):k.detachEvent?k.detachEvent(bg(q),de):k.addListener&&k.removeListener&&k.removeListener(de),(q=Ig(k))?(xm(q,v),0==q.h&&(q.src=null,k[$a]=null)):Eg(v)}}}function bg(v){return v in np?np[v]:np[v]="on"+v}function Dy(v,k){if(v.da)v=!0;else{k=new kh(k,this);var q=v.listener,de=v.ha||v.src;v.fa&&Fh(v),v=q.call(de,k)}return v}function Ig(v){return(v=v[$a])instanceof Cg?v:null}var Tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(v){return"function"==typeof v?v:(v[Tg]||(v[Tg]=function(k){return v.handleEvent(k)}),v[Tg])}function As(){Ru.call(this),this.i=new Cg(this),this.M=this,this.F=null}function Ds(v,k){var q,de=v.F;if(de)for(q=[];de;de=de.F)q.push(de);if(v=v.M,de=k.type||k,"string"==typeof k)k=new $s(k,v);else if(k instanceof $s)k.target=k.target||v;else{var lt=k;nt(k=new $s(de,v),lt)}if(lt=!0,q)for(var St=q.length-1;0<=St;St--){var bn=k.g=q[St];lt=Ha(bn,de,!0,k)&&lt}if(lt=Ha(bn=k.g=v,de,!0,k)&&lt,lt=Ha(bn,de,!1,k)&&lt,q)for(St=0;St<q.length;St++)lt=Ha(bn=k.g=q[St],de,!1,k)&&lt}function Ha(v,k,q,de){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var lt=!0,St=0;St<k.length;++St){var bn=k[St];if(bn&&!bn.da&&bn.capture==q){var no=bn.listener,_s=bn.ha||bn.src;bn.fa&&xm(v.i,bn),lt=!1!==no.call(_s,de)&&lt}}return lt&&!de.defaultPrevented}function X_(v,k,q){if("function"==typeof v)q&&(v=Ue(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Ue(v.handleEvent,v)}return 2147483647<Number(k)?-1:D.setTimeout(v,k||0)}function Om(v){v.g=X_(()=>{v.g=null,v.i&&(v.i=!1,Om(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}Ht(As,Ru),As.prototype[tp]=!0,As.prototype.removeEventListener=function(v,k,q,de){Mm(this,v,k,q,de)},As.prototype.N=function(){if(As.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var q=v.g[k],de=0;de<q.length;de++)Eg(q[de]);delete v.g[k],v.h--}}this.F=null},As.prototype.K=function(v,k,q,de){return this.i.add(String(v),k,!1,q,de)},As.prototype.L=function(v,k,q,de){return this.i.add(String(v),k,!0,q,de)};class Ag extends Ru{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Om(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vh(v){Ru.call(this),this.h=v,this.g={}}Ht(Vh,Ru);var Dg=[];function rp(v){ei(v.g,function(k,q){this.g.hasOwnProperty(q)&&Fh(k)},v),v.g={}}Vh.prototype.N=function(){Vh.aa.N.call(this),rp(this)},Vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mu=D.JSON.stringify,Lh=D.JSON.parse,Q_=class{stringify(v){return D.JSON.stringify(v,void 0)}parse(v){return D.JSON.parse(v,void 0)}};function Yl(){}function Nm(){}Yl.prototype.h=null;var Od={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ip(){$s.call(this,"d")}function xg(){$s.call(this,"c")}Ht(ip,$s),Ht(xg,$s);var Ou={},km=null;function op(){return km=km||new As}function Uh(v){$s.call(this,Ou.La,v)}function sp(v){const k=op();Ds(k,new Uh(k))}function Fm(v,k){$s.call(this,Ou.STAT_EVENT,v),this.stat=k}function Hs(v){const k=op();Ds(k,new Fm(k,v))}function Z_(v,k){$s.call(this,Ou.Ma,v),this.size=k}function ap(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){v()},k)}function fl(){this.g=!0}function jh(v,k,q,de){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Wv(v,k){if(!v.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var de=q[v];if(!(2>de.length)){var lt=de[1];if(Array.isArray(lt)&&!(1>lt.length)){var St=lt[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var bn=1;bn<lt.length;bn++)lt[bn]=""}}}return Mu(q)}catch{return k}}(v,q)+(de?" "+de:"")})}Ou.La="serverreachability",Ht(Uh,$s),Ou.STAT_EVENT="statevent",Ht(Fm,$s),Ou.Ma="timingevent",Ht(Z_,$s),fl.prototype.xa=function(){this.g=!1},fl.prototype.info=function(){};var Vm,Sg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ev={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Bh(){}function Ac(v,k,q,de){this.j=v,this.i=k,this.l=q,this.R=de||1,this.U=new Vh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cp}function cp(){this.i=null,this.g="",this.h=!1}Ht(Bh,Yl),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},Vm=new Bh;var $h={},Pg={};function Lm(v,k,q){v.L=1,v.v=vo(Ur(k)),v.m=q,v.P=!0,Um(v,null)}function Um(v,k){v.F=Date.now(),h(v),v.A=Ur(v.v);var q=v.A,de=v.R;Array.isArray(de)||(de=[String(de)]),Ql(q.i,"t",de),v.C=0,q=v.j.J,v.h=new cp,v.g=Zv(v.j,q?k:null,!v.m),0<v.O&&(v.M=new Ag(Ue(v.Y,v,v.g),v.O)),k=v.U,q=v.g,de=v.ca;var lt="readystatechange";Array.isArray(lt)||(lt&&(Dg[0]=lt.toString()),lt=Dg);for(var St=0;St<lt.length;St++){var bn=Y_(q,lt[St],de||k.handleEvent,!1,k.h||k);if(!bn)break;k.g[bn.key]=bn}k=v.H?ke(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),sp(),function Hv(v,k,q,de,lt,St){v.info(function(){if(v.g)if(St)for(var bn="",no=St.split("&"),_s=0;_s<no.length;_s++){var Ni=no[_s].split("=");if(1<Ni.length){var xs=Ni[0];Ni=Ni[1];var zs=xs.split("_");bn=2<=zs.length&&"type"==zs[1]?bn+(xs+"=")+Ni+"&":bn+(xs+"=redacted&")}}else bn=null;else bn=St;return"XMLHTTP REQ ("+de+") [attempt "+lt+"]: "+k+"\n"+q+"\n"+bn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function E(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function g(v,k){var q=v.C,de=k.indexOf("\n",q);return-1==de?Pg:(q=Number(k.substring(q,de)),isNaN(q)?$h:(de+=1)+q>k.length?Pg:(k=k.slice(de,de+q),v.C=de+q,k))}function h(v){v.S=Date.now()+v.I,S(v,v.I)}function S(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=ap(Ue(v.ba,v),k)}function B(v){v.B&&(D.clearTimeout(v.B),v.B=null)}function fe(v){0==v.j.G||v.J||Qv(v.j,v)}function ve(v){B(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,rp(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function ht(v,k){try{var q=v.j;if(0!=q.G&&(q.g==v||or(q.h,v)))if(!v.K&&or(q.h,v)&&3==q.G){try{var de=q.Da.g.parse(k)}catch{de=null}if(Array.isArray(de)&&3==de.length){var lt=de;if(0==lt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;zm(q),nv(q)}Hm(q),Hs(18)}}else q.za=lt[1],0<q.za-q.T&&37500>lt[2]&&q.F&&0==q.v&&!q.C&&(q.C=ap(Ue(q.Za,q),6e3));if(1>=Xn(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Vd(q,11)}else if((v.K||q.g==v)&&zm(q),!Jn(k))for(lt=q.Da.g.parse(k),k=0;k<lt.length;k++){let Ni=lt[k];if(q.T=Ni[0],Ni=Ni[1],2==q.G)if("c"==Ni[0]){q.K=Ni[1],q.ia=Ni[2];const xs=Ni[3];null!=xs&&(q.la=xs,q.j.info("VER="+q.la));const zs=Ni[4];null!=zs&&(q.Aa=zs,q.j.info("SVER="+q.Aa));const gp=Ni[5];null!=gp&&"number"==typeof gp&&0<gp&&(q.L=de=1.5*gp,q.j.info("backChannelRequestTimeoutMs_="+de)),de=q;const Pc=v.g;if(Pc){const Fg=Pc.g?Pc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fg){var St=de.h;St.g||-1==Fg.indexOf("spdy")&&-1==Fg.indexOf("quic")&&-1==Fg.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(ur(St,St.h),St.h=null))}if(de.D){const qm=Pc.g?Pc.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(de.ya=qm,vr(de.I,de.D,qm))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var bn=v;if((de=q).qa=Km(de,de.J?de.ia:null,de.W),bn.K){_i(de.h,bn);var no=bn,_s=de.L;_s&&(no.I=_s),no.B&&(B(no),h(no)),de.g=bn}else Xv(de);0<q.i.length&&$m(q)}else"stop"!=Ni[0]&&"close"!=Ni[0]||Vd(q,7);else 3==q.G&&("stop"==Ni[0]||"close"==Ni[0]?"stop"==Ni[0]?Vd(q,7):hp(q):"noop"!=Ni[0]&&q.l&&q.l.ta(Ni),q.v=0)}sp()}catch{}}function En(v){this.l=v||10,v=D.PerformanceNavigationTiming?0<(v=D.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function an(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Xn(v){return v.h?1:v.g?v.g.size:0}function or(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function ur(v,k){v.g?v.g.add(k):v.h=k}function _i(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function Ln(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const q of v.g.values())k=k.concat(q.D);return k}return sn(v.i)}function Kr(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var q=function li(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var k=[];v=v.length;for(var q=0;q<v;q++)k.push(q);return k}k=[],q=0;for(const de in v)k[q++]=de;return k}}}(v),de=function Un(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var k=[],q=v.length,de=0;de<q;de++)k.push(v[de]);return k}for(de in k=[],q=0,v)k[q++]=v[de];return k}(v),lt=de.length,St=0;St<lt;St++)k.call(void 0,de[St],q&&q[St],v)}Ac.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Sc(v)?k.j():this.Y(v)},Ac.prototype.Y=function(v){try{if(v==this.g)e:{const zs=Sc(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>zs)&&(3!=zs||this.g&&(this.h.h||this.g.oa()||Og(this.g)))){this.J||4!=zs||7==k||sp(),B(this);var q=this.g.Z();this.X=q;t:if(E(this)){var de=Og(this.g);v="";var lt=de.length,St=4==Sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ve(this),fe(this);var bn="";break t}this.h.i=new D.TextDecoder}for(k=0;k<lt;k++)this.h.h=!0,v+=this.h.i.decode(de[k],{stream:!(St&&k==lt-1)});de.length=0,this.h.g+=v,this.C=0,bn=this.h.g}else bn=this.g.oa();if(this.o=200==q,function Gv(v,k,q,de,lt,St,bn){v.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+lt+"]: "+k+"\n"+q+"\n"+St+" "+bn})}(this.i,this.u,this.A,this.l,this.R,zs,q),this.o){if(this.T&&!this.K){t:{if(this.g){var no,_s=this.g;if((no=_s.g?_s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(no)){var Ni=no;break t}}Ni=null}if(!(q=Ni)){this.o=!1,this.s=3,Hs(12),ve(this),fe(this);break e}jh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ht(this,q)}if(this.P){let Pc;for(q=!0;!this.J&&this.C<bn.length;){if(Pc=g(this,bn),Pc==Pg){4==zs&&(this.s=4,Hs(14),q=!1),jh(this.i,this.l,null,"[Incomplete Response]");break}if(Pc==$h){this.s=4,Hs(15),jh(this.i,this.l,bn,"[Invalid Chunk]"),q=!1;break}jh(this.i,this.l,Pc,null),ht(this,Pc)}if(E(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=zs||0!=bn.length||this.h.h||(this.s=1,Hs(16),q=!1),this.o=this.o&&q,q){if(0<bn.length&&!this.W){this.W=!0;var xs=this.j;xs.g==this&&xs.ba&&!xs.M&&(xs.j.info("Great, no buffering proxy detected. Bytes received: "+bn.length),Gm(xs),xs.M=!0,Hs(11))}}else jh(this.i,this.l,bn,"[Invalid Chunked Response]"),ve(this),fe(this)}else jh(this.i,this.l,bn,null),ht(this,bn);4==zs&&ve(this),this.o&&!this.J&&(4==zs?Qv(this.j,this):(this.o=!1,h(this)))}else(function xy(v){const k={};v=(v.g&&2<=Sc(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let de=0;de<v.length;de++){if(Jn(v[de]))continue;var q=st(v[de]);const lt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const St=k[lt]||[];k[lt]=St,St.push(q)}!function tt(v,k){for(const q in v)k.call(void 0,v[q],q,v)}(k,function(de){return de.join(", ")})})(this.g),400==q&&0<bn.indexOf("Unknown SID")?(this.s=3,Hs(12)):(this.s=0,Hs(13)),ve(this),fe(this)}}}catch{}},Ac.prototype.cancel=function(){this.J=!0,ve(this)},Ac.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function zv(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(sp(),Hs(17)),ve(this),this.s=2,fe(this)):S(this,this.S-v)},En.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof _r){this.h=v.h,Oi(this,v.j),this.o=v.o,this.g=v.g,to(this,v.s),this.l=v.l;var k=v.i,q=new pl;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),_o(this,q),this.m=v.m}else v&&(k=String(v).match(Sr))?(this.h=!1,Oi(this,k[1]||"",!0),this.o=Ko(k[2]||""),this.g=Ko(k[3]||"",!0),to(this,k[4]),this.l=Ko(k[5]||"",!0),_o(this,k[6]||"",!0),this.m=Ko(k[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}function Ur(v){return new _r(v)}function Oi(v,k,q){v.j=q?Ko(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function to(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function _o(v,k,q){k instanceof pl?(v.i=k,function Gh(v,k){k&&!v.j&&(Ga(v),v.i=null,v.g.forEach(function(q,de){var lt=de.toLowerCase();de!=lt&&(Nu(this,de),Ql(this,lt,q))},v)),v.j=k}(v.i,v.h)):(q||(k=yo(k,Hh)),v.i=new pl(k,v.h))}function vr(v,k,q){v.i.set(k,q)}function vo(v){return vr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ko(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function yo(v,k,q){return"string"==typeof v?(v=encodeURI(v).replace(k,Ta),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ta(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}_r.prototype.toString=function(){var v=[],k=this.j;k&&v.push(yo(k,fa,!0),":");var q=this.g;return(q||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(yo(k,fa,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(yo(q,"/"==q.charAt(0)?wa:ta,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",yo(q,Xl)),v.join("")};var v,fa=/[#\/\?@]/g,ta=/[#\?:]/g,wa=/[#\?]/g,Hh=/[#\?@]/g,Xl=/#/g;function pl(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function Ga(v){v.g||(v.g=new Map,v.h=0,v.i&&function Pr(v,k){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var de=v[q].indexOf("="),lt=null;if(0<=de){var St=v[q].substring(0,de);lt=v[q].substring(de+1)}else St=v[q];k(St,lt?decodeURIComponent(lt.replace(/\+/g," ")):"")}}}(v.i,function(k,q){v.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function Nu(v,k){Ga(v),k=Gs(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Nd(v,k){return Ga(v),k=Gs(v,k),v.g.has(k)}function Ql(v,k,q){Nu(v,k),0<q.length&&(v.i=null,v.g.set(Gs(v,k),sn(q)),v.h+=q.length)}function Gs(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Dc(v,k,q,de,lt){try{lt&&(lt.onload=null,lt.onerror=null,lt.onabort=null,lt.ontimeout=null),de(q)}catch{}}function tv(){this.g=new Q_}function jm(v,k,q){const de=q||"";try{Kr(v,function(lt,St){let bn=lt;W(lt)&&(bn=Mu(lt)),k.push(de+St+"="+encodeURIComponent(bn))})}catch(lt){throw k.push(de+"type="+encodeURIComponent("_badmap")),lt}}function zh(v){this.l=v.Ub||null,this.j=v.eb||!1}function lp(v,k){As.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bm(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Wh(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Fd(v)}function Fd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Kh(v){let k="";return ei(v,function(q,de){k+=de,k+=":",k+=q,k+="\r\n"}),k}function ku(v,k,q){e:{for(de in q){var de=!1;break e}de=!0}de||(q=Kh(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):vr(v,k,q))}function Eo(v){As.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=pl.prototype).add=function(v,k){Ga(this),this.i=null,v=Gs(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(k),this.h+=1,this},l.forEach=function(v,k){Ga(this),this.g.forEach(function(q,de){q.forEach(function(lt){v.call(k,lt,de,this)},this)},this)},l.na=function(){Ga(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let de=0;de<k.length;de++){const lt=v[de];for(let St=0;St<lt.length;St++)q.push(k[de])}return q},l.V=function(v){Ga(this);let k=[];if("string"==typeof v)Nd(this,v)&&(k=k.concat(this.g.get(Gs(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)k=k.concat(v[q])}return k},l.set=function(v,k){return Ga(this),this.i=null,Nd(this,v=Gs(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},l.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var de=k[q];const St=encodeURIComponent(String(de)),bn=this.V(de);for(de=0;de<bn.length;de++){var lt=St;""!==bn[de]&&(lt+="="+encodeURIComponent(String(bn[de]))),v.push(lt)}}return this.i=v.join("&")},Ht(zh,Yl),zh.prototype.g=function(){return new lp(this.l,this.j)},zh.prototype.i=(v={},function(){return v}),Ht(lp,As),(l=lp.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,Fd(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||D).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Fd(this)),this.g&&(this.readyState=3,Fd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bm(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Wh(this):Fd(this),3==this.readyState&&Bm(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,Wh(this))},l.Qa=function(v){this.g&&(this.response=v,Wh(this))},l.ga=function(){this.g&&Wh(this)},l.setRequestHeader=function(v,k){this.u.append(v,k)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var q=k.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=k.next();return v.join("\r\n")},Object.defineProperty(lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Ht(Eo,As);var xc=/^https?$/i,qh=["POST","PUT"];function Fu(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,up(v),gl(v)}function up(v){v.A||(v.A=!0,Ds(v,"complete"),Ds(v,"error"))}function dp(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Sc(v)||2!=v.Z()))if(v.u&&4==Sc(v))X_(v.Ea,0,v);else if(Ds(v,"readystatechange"),4==Sc(v)){v.h=!1;try{const bn=v.Z();e:switch(bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var de;if(de=0===bn){var lt=String(v.D).match(Sr)[1]||null;!lt&&D.self&&D.self.location&&(lt=D.self.location.protocol.slice(0,-1)),de=!xc.test(lt?lt.toLowerCase():"")}q=de}if(q)Ds(v,"complete"),Ds(v,"success");else{v.m=6;try{var St=2<Sc(v)?v.g.statusText:""}catch{St=""}v.l=St+" ["+v.Z()+"]",up(v)}}finally{gl(v)}}}function gl(v,k){if(v.g){Mg(v);const q=v.g,de=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Ds(v,"ready");try{q.onreadystatechange=de}catch{}}}function Mg(v){v.I&&(D.clearTimeout(v.I),v.I=null)}function Sc(v){return v.g?v.g.readyState:0}function Og(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Yh(v,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||k}function Ng(v){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yh("baseRetryDelayMs",5e3,v),this.cb=Yh("retryDelaySeedMs",1e4,v),this.Wa=Yh("forwardChannelMaxRetries",2,v),this.wa=Yh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new En(v&&v.concurrentRequestLimit),this.Da=new tv,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hp(v){if(Kv(v),3==v.G){var k=v.U++,q=Ur(v.I);if(vr(q,"SID",v.K),vr(q,"RID",k),vr(q,"TYPE","terminate"),fp(v,q),(k=new Ac(v,v.j,k)).L=2,k.v=vo(Ur(q)),q=!1,D.navigator&&D.navigator.sendBeacon)try{q=D.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&D.Image&&((new Image).src=k.v,q=!0),q||(k.g=Zv(k.j,null),k.g.ea(k.v)),k.F=Date.now(),h(k)}Wm(v)}function nv(v){v.g&&(Gm(v),v.g.cancel(),v.g=null)}function Kv(v){nv(v),v.u&&(D.clearTimeout(v.u),v.u=null),zm(v),v.h.cancel(),v.s&&("number"==typeof v.s&&D.clearTimeout(v.s),v.s=null)}function $m(v){if(!an(v.h)&&!v.s){v.s=!0;var k=v.Ga;Zf||yg(),ep||(Zf(),ep=!0),K_.add(k,v),v.B=0}}function qv(v,k){var q;q=k?k.l:v.U++;const de=Ur(v.I);vr(de,"SID",v.K),vr(de,"RID",q),vr(de,"AID",v.T),fp(v,de),v.m&&v.o&&ku(de,v.m,v.o),q=new Ac(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Yv(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),ur(v.h,q),Lm(q,de,k)}function fp(v,k){v.H&&ei(v.H,function(q,de){vr(k,de,q)}),v.l&&Kr({},function(q,de){vr(k,de,q)})}function Yv(v,k,q){q=Math.min(v.i.length,q);var de=v.l?Ue(v.l.Na,v.l,v):null;e:{var lt=v.i;let St=-1;for(;;){const bn=["count="+q];-1==St?0<q?(St=lt[0].g,bn.push("ofs="+St)):St=0:bn.push("ofs="+St);let no=!0;for(let _s=0;_s<q;_s++){let Ni=lt[_s].g;const xs=lt[_s].map;if(Ni-=St,0>Ni)St=Math.max(0,lt[_s].g-100),no=!1;else try{jm(xs,bn,"req"+Ni+"_")}catch{de&&de(xs)}}if(no){de=bn.join("&");break e}}}return v=v.i.splice(0,q),k.D=v,de}function Xv(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Zf||yg(),ep||(Zf(),ep=!0),K_.add(k,v),v.v=0}}function Hm(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=ap(Ue(v.Fa,v),Jv(v,v.v)),v.v++,0))}function Gm(v){null!=v.A&&(D.clearTimeout(v.A),v.A=null)}function iv(v){v.g=new Ac(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=Ur(v.qa);vr(k,"RID","rpc"),vr(k,"SID",v.K),vr(k,"AID",v.T),vr(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&vr(k,"TO",v.ja),vr(k,"TYPE","xmlhttp"),fp(v,k),v.m&&v.o&&ku(k,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=vo(Ur(k)),q.m=null,q.P=!0,Um(q,v)}function zm(v){null!=v.C&&(D.clearTimeout(v.C),v.C=null)}function Qv(v,k){var q=null;if(v.g==k){zm(v),Gm(v),v.g=null;var de=2}else{if(!or(v.h,k))return;q=k.D,_i(v.h,k),de=1}if(0!=v.G)if(k.o)if(1==de){q=k.m?k.m.length:0,k=Date.now()-k.F;var lt=v.B;Ds(de=op(),new Z_(de,q)),$m(v)}else Xv(v);else if(3==(lt=k.s)||0==lt&&0<k.X||!(1==de&&function rv(v,k){return!(Xn(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=ap(Ue(v.Ga,v,k),Jv(v,v.B)),v.B++,0)))}(v,k)||2==de&&Hm(v)))switch(q&&0<q.length&&(k=v.h,k.i=k.i.concat(q)),lt){case 1:Vd(v,5);break;case 4:Vd(v,10);break;case 3:Vd(v,6);break;default:Vd(v,2)}}function Jv(v,k){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*k}function Vd(v,k){if(v.j.info("Error code "+k),2==k){var q=Ue(v.fb,v),de=v.Xa;const lt=!de;de=new _r(de||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||Oi(de,"https"),vo(de),lt?function Rg(v,k){const q=new fl;if(D.Image){const de=new Image;de.onload=ut(Dc,q,"TestLoadImage: loaded",!0,k,de),de.onerror=ut(Dc,q,"TestLoadImage: error",!1,k,de),de.onabort=ut(Dc,q,"TestLoadImage: abort",!1,k,de),de.ontimeout=ut(Dc,q,"TestLoadImage: timeout",!1,k,de),D.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=v}else k(!1)}(de.toString(),q):function kd(v,k){new fl;const de=new AbortController,lt=setTimeout(()=>{de.abort(),Dc(0,0,!1,k)},1e4);fetch(v,{signal:de.signal}).then(St=>{clearTimeout(lt),Dc(0,0,!!St.ok,k)}).catch(()=>{clearTimeout(lt),Dc(0,0,!1,k)})}(de.toString(),q)}else Hs(2);v.G=0,v.l&&v.l.sa(k),Wm(v),Kv(v)}function Wm(v){if(v.G=0,v.ka=[],v.l){const k=Ln(v.h);(0!=k.length||0!=v.i.length)&&(Xt(v.ka,k),Xt(v.ka,v.i),v.h.i.length=0,sn(v.i),v.i.length=0),v.l.ra()}}function Km(v,k,q){var de=q instanceof _r?Ur(q):new _r(q);if(""!=de.g)k&&(de.g=k+"."+de.g),to(de,de.s);else{var lt=D.location;de=lt.protocol,k=k?k+"."+lt.hostname:lt.hostname,lt=+lt.port;var St=new _r(null);de&&Oi(St,de),k&&(St.g=k),lt&&to(St,lt),q&&(St.l=q),de=St}return k=v.ya,(q=v.D)&&k&&vr(de,q,k),vr(de,"VER",v.la),fp(v,de),de}function Zv(v,k,q){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new Eo(v.Ca&&!v.pa?new zh({eb:q}):v.pa)).Ha(v.J),k}function kg(){}function Xh(){}function pa(v,k){As.call(this),this.g=new Ng(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!Jn(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!Jn(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new pp(this)}function ov(v){ip.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const q in k){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function ey(){xg.call(this),this.status=1}function pp(v){this.g=v}(l=Eo.prototype).Ha=function(v){this.J=v},l.ea=function(v,k,q,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vm.g(),this.v=function J_(v){return v.h||(v.h=v.i())}(this.o?this.o:Vm),this.g.onreadystatechange=Ue(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(St){return void Fu(this,St)}if(v=q||"",q=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var lt in de)q.set(lt,de[lt]);else{if("function"!=typeof de.keys||"function"!=typeof de.get)throw Error("Unknown input type for opt_headers: "+String(de));for(const St of de.keys())q.set(St,de.get(St))}de=Array.from(q.keys()).find(St=>"content-type"==St.toLowerCase()),lt=D.FormData&&v instanceof D.FormData,!(0<=Array.prototype.indexOf.call(qh,k,void 0))||de||lt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,bn]of q)this.g.setRequestHeader(St,bn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mg(this),this.u=!0,this.g.send(v),this.u=!1}catch(St){Fu(this,St)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ds(this,"complete"),Ds(this,"abort"),gl(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Eo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?dp(this):this.bb())},l.bb=function(){dp(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Sc(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),Lh(k)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Ng.prototype).la=8,l.G=1,l.connect=function(v,k,q,de){Hs(0),this.W=v,this.H=k||{},q&&void 0!==de&&(this.H.OSID=q,this.H.OAID=de),this.F=this.X,this.I=Km(this,null,this.W),$m(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const lt=new Ac(this,this.j,v);let St=this.o;if(this.S&&(St?(St=ke(St),nt(St,this.S)):St=this.S),null!==this.m||this.O||(lt.H=St,St=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){var de=this.i[q];if(void 0===(de="__data__"in de.map&&"string"==typeof(de=de.map.__data__)?de.length:void 0))break;if(4096<(k+=de)){k=q;break e}if(4096===k||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=Yv(this,lt,k),vr(q=Ur(this.I),"RID",v),vr(q,"CVER",22),this.D&&vr(q,"X-HTTP-Session-Id",this.D),fp(this,q),St&&(this.O?k="headers="+encodeURIComponent(String(Kh(St)))+"&"+k:this.m&&ku(q,this.m,St)),ur(this.h,lt),this.Ua&&vr(q,"TYPE","init"),this.P?(vr(q,"$req",k),vr(q,"SID","null"),lt.T=!0,Lm(lt,q,null)):Lm(lt,q,k),this.G=2}}else 3==this.G&&(v?qv(this,v):0==this.i.length||an(this.h)||qv(this))},l.Fa=function(){if(this.u=null,iv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=ap(Ue(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hs(10),nv(this),iv(this))},l.Za=function(){null!=this.C&&(this.C=null,nv(this),Hm(this),Hs(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Hs(2)):(this.j.info("Failed to ping google.com"),Hs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=kg.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Xh.prototype.g=function(v,k){return new pa(v,k)},Ht(pa,As),pa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pa.prototype.close=function(){hp(this.g)},pa.prototype.o=function(v){var k=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Mu(v),v=q);k.i.push(new class{constructor(v,k){this.g=v,this.map=k}}(k.Ya++,v)),3==k.G&&$m(k)},pa.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,pa.aa.N.call(this)},Ht(ov,ip),Ht(ey,xg),Ht(pp,kg),pp.prototype.ua=function(){Ds(this.g,"a")},pp.prototype.ta=function(v){Ds(this.g,new ov(v))},pp.prototype.sa=function(v){Ds(this.g,new ey)},pp.prototype.ra=function(){Ds(this.g,"b")},Xh.prototype.createWebChannel=Xh.prototype.g,pa.prototype.send=pa.prototype.o,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,et=ce.createWebChannelTransport=function(){return new Xh},cn=ce.getStatEventTarget=function(){return op()},Mt=ce.Event=Ou,jt=ce.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sg.NO_ERROR=0,Sg.TIMEOUT=8,Sg.HTTP_ERROR=6,Ct=ce.ErrorCode=Sg,ev.COMPLETE="complete",bt=ce.EventType=ev,Nm.EventType=Od,Od.OPEN="a",Od.CLOSE="b",Od.ERROR="c",Od.MESSAGE="d",As.prototype.listen=As.prototype.K,Xe=ce.WebChannel=Nm,at=ce.FetchXmlHttpFactory=zh,Eo.prototype.listenOnce=Eo.prototype.L,Eo.prototype.getLastError=Eo.prototype.Ka,Eo.prototype.getLastErrorCode=Eo.prototype.Ba,Eo.prototype.getStatus=Eo.prototype.Z,Eo.prototype.getResponseJson=Eo.prototype.Oa,Eo.prototype.getResponseText=Eo.prototype.oa,Eo.prototype.send=Eo.prototype.ea,Eo.prototype.setWithCredentials=Eo.prototype.Ha,me=ce.XhrIo=Eo}).apply(typeof Z<"u"?Z:typeof self<"u"?self:typeof window<"u"?window:{});const We="@firebase/firestore";class ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");let Ze="10.12.1";const rt=new Ae.Vy("@firebase/firestore");function wt(){return rt.logLevel}function Ft(l){rt.setLogLevel(l)}function be(l,...e){if(rt.logLevel<=Ae.$b.DEBUG){const r=e.map(nr);rt.debug(`Firestore (${Ze}): ${l}`,...r)}}function Jt(l,...e){if(rt.logLevel<=Ae.$b.ERROR){const r=e.map(nr);rt.error(`Firestore (${Ze}): ${l}`,...r)}}function dn(l,...e){if(rt.logLevel<=Ae.$b.WARN){const r=e.map(nr);rt.warn(`Firestore (${Ze}): ${l}`,...r)}}function nr(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Pt(l="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+l;throw Jt(e),new Error(e)}function Bt(l,e){l||Pt()}function qt(l,e){l||Pt()}function ct(l,e){return l}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fe{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Qe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ot.UNAUTHENTICATED))}shutdown(){}}class Se{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ge{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const m=W=>this.i!==u?(u=this.i,r(W)):Promise.resolve();let y=new Fe;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Fe,e.enqueueRetryable(()=>m(this.currentUser))};const D=()=>{const W=y;e.enqueueRetryable((0,a.A)(function*(){yield W.promise,yield m(s.currentUser)}))},N=W=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Fe)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt("string"==typeof s.accessToken),new Qe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new ot(e)}}class Tt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Tt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class on{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=m=>{null!=m.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.R;return this.R=m.token,be("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const u=m=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?u(m):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Bt("string"==typeof r.token),this.R=r.token,new hn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function In(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<l;s++)r[s]=Math.floor(256*Math.random());return r}class dr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=In(40);for(let m=0;m<u.length;++m)s.length<20&&u[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[m]%62))}return s}}function Gt(l,e){return l<e?-1:l>e?1:0}function wn(l,e,r){return l.length===e.length&&l.every((s,u)=>r(s,e[u]))}function $n(l){return l+"\0"}class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ue(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ue(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ue(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Wt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Wt(0,0))}static max(){return new Vt(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Pt(),void 0===s?s=e.length-r:s>e.length-r&&Pt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===jr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const m=e.get(u),y=r.get(u);if(m<y)return-1;if(m>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class fn extends jr{construct(e,r,s){return new fn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new fn(r)}static emptyPath(){return new fn([])}}const yr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends jr{construct(e,r,s){return new Wn(e,r,s)}static isValidIdentifier(e){return yr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const m=()=>{if(0===s.length)throw new ue(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new ue(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ue(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,u+=2}else"`"===D?(y=!y,u++):"."!==D||y?(s+=D,u++):(m(),u++)}if(m(),y)throw new ue(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(r)}static emptyPath(){return new Wn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(fn.fromString(e))}static fromName(e){return new Ut(fn.fromString(e).popFirst(5))}static empty(){return new Ut(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return fn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new fn(e.slice()))}}class _n{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Pn(l){return l.fields.find(e=>2===e.kind)}function Tn(l){return l.fields.filter(e=>2!==e.kind)}_n.UNKNOWN_ID=-1;class br{constructor(e,r){this.fieldPath=e,this.kind=r}}class Hn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Hn(0,ln.min())}}function ni(l,e){const r=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Vt.fromTimestamp(1e9===s?new Wt(r+1,0):new Wt(r,s));return new ln(u,Ut.empty(),e)}function Ki(l){return new ln(l.readTime,l.key,-1)}class ln{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ln(Vt.min(),Ut.empty(),-1)}static max(){return new ln(Vt.max(),Ut.empty(),-1)}}function ri(l,e){let r=l.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(l.documentKey,e.documentKey),0!==r?r:Gt(l.largestBatchId,e.largestBatchId))}const Yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Nn(l){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.A)(function*(l){if(l.code!==Me.FAILED_PRECONDITION||l.message!==Yn)throw l;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((s,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,u)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,s)=>{r(e)})}static reject(e){return new Ke((r,s)=>{s(e)})}static waitFor(e){return new Ke((r,s)=>{let u=0,m=0,y=!1;e.forEach(D=>{++u,D.next(()=>{++m,y&&m===u&&r()},N=>s(N))}),y=!0,m===u&&r()})}static or(e){let r=Ke.resolve(!1);for(const s of e)r=r.next(u=>u?Ke.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,m)=>{s.push(r.call(this,u,m))}),this.waitFor(s)}static mapArray(e,r){return new Ke((s,u)=>{const m=e.length,y=new Array(m);let D=0;for(let N=0;N<m;N++){const W=N;r(e[W]).next(re=>{y[W]=re,++D,D===m&&s(y)},re=>u(re))}})}static doWhile(e,r){return new Ke((s,u)=>{const m=()=>{!0===e()?r().next(()=>{m()},u):s()};m()})}}class mt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Fe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Kt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ee(s.target.error);this.V.reject(new Kt(e,u))}}static open(e,r,s,u){try{return new mt(r,e.transaction(u,s))}catch(m){throw new Kt(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new wr(r)}}class ie{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ie.S((0,he.ZQ)())&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(ie.C())return!0;const e=(0,he.ZQ)(),r=ie.S(e),s=0<r&&r<10,u=Ie(e),m=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,a.A)(function*(){return r.db||(be("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=y=>{s(y.target.result)},m.onblocked=()=>{u(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const D=y.target.error;u("VersionError"===D.name?new ue(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new ue(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Kt(e,D))},m.onupgradeneeded=y=>{be("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,m.transaction,y.oldVersion,r.version).next(()=>{be("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var m=this;return(0,a.A)(function*(){const y="readonly"===r;let D=0;for(;;){++D;try{m.db=yield m.M(e);const N=mt.open(m.db,e,y?"readonly":"readwrite",s),W=u(N).next(re=>(N.g(),re)).catch(re=>(N.abort(re),Ke.reject(re))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,re="FirebaseError"!==W.name&&D<3;if(be("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),m.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ie(l){const e=l.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return cr(this.B.delete())}}class Kt extends ue{constructor(e,r){super(Me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Mn(l){return"IndexedDbTransactionError"===l.name}class wr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(be("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),cr(s)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),cr(this.store.add(e))}get(e){return cr(this.store.get(e)).next(r=>(void 0===r&&(r=null),be("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),cr(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),cr(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const m=u.getAll(s.range);return new Ke((y,D)=>{m.onerror=N=>{D(N.target.error)},m.onsuccess=N=>{y(N.target.result)}})}{const m=this.cursor(s),y=[];return this.W(m,(D,N)=>{y.push(N)}).next(()=>y)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Ke((u,m)=>{s.onerror=y=>{m(y.target.error)},s.onsuccess=y=>{u(y.target.result)}})}j(e,r){be("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(m,y,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new Ke((s,u)=>{r.onerror=m=>{const y=ee(m.target.error);u(y)},r.onsuccess=m=>{const y=m.target.result;y?e(y.primaryKey,y.value).next(D=>{D?y.continue():s()}):s()}})}W(e,r){const s=[];return new Ke((u,m)=>{e.onerror=y=>{m(y.target.error)},e.onsuccess=y=>{const D=y.target.result;if(!D)return void u();const N=new ft(D),W=r(D.primaryKey,D.value,N);if(W instanceof Ke){const re=W.catch(ge=>(N.done(),Ke.reject(ge)));s.push(re)}N.isDone?u():null===N.K?D.continue():D.continue(N.K)}}).next(()=>Ke.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function cr(l){return new Ke((e,r)=>{l.onsuccess=s=>{e(s.target.result)},l.onerror=s=>{const u=ee(s.target.error);r(u)}})}let Oe=!1;function ee(l){const e=ie.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(r)>=0){const s=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oe||(Oe=!0,setTimeout(()=>{throw s},0)),s}}return l}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.A)(function*(){r.task=null;try{be("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Mn(s)?be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Nn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,a.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,m=!0;return Ke.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return be("IndexBackfiller",`Processing collection: ${y}`),this.ne(e,y,u).next(D=>{u-=D,s.add(y)});m=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.re(u,m)).next(D=>(be("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>y.size)}))}re(e,r){let s=e;return r.changes.forEach((u,m)=>{const y=Ki(m);ri(y,s)>0&&(s=y)}),new ln(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class l{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return l.oe=-1,l})();function le(l){return null==l}function je(l){return 0===l&&1/l==-1/0}function It(l){return"number"==typeof l&&Number.isInteger(l)&&!je(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Ot(l){let e="";for(let r=0;r<l.length;r++)e.length>0&&(e=tn(e)),e=pn(l.get(r),e);return tn(e)}function pn(l,e){let r=e;const s=l.length;for(let u=0;u<s;u++){const m=l.charAt(u);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function tn(l){return l+"\x01\x01"}function un(l){const e=l.length;if(Bt(e>=2),2===e)return Bt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),fn.emptyPath();const r=e-2,s=[];let u="";for(let m=0;m<e;){const y=l.indexOf("\x01",m);switch((y<0||y>r)&&Pt(),l.charAt(y+1)){case"\x01":const D=l.substring(m,y);let N;0===u.length?N=D:(u+=D,N=u,u=""),s.push(N);break;case"\x10":u+=l.substring(m,y),u+="\0";break;case"\x11":u+=l.substring(m,y+1);break;default:Pt()}m=y+2}return new fn(s)}const rr=["userId","batchId"];function An(l,e){return[l,Ot(e)]}function hi(l,e,r){return[l,Ot(e),r]}const Er={},Oo=["prefixPath","collectionGroup","readTime","documentId"],ii=["prefixPath","collectionGroup","documentId"],Li=["collectionGroup","readTime","prefixPath","documentId"],Pe=["canonicalId","targetId"],Lt=["targetId","path"],Ce=["path","targetId"],Te=["collectionId","parent"],pe=["indexId","uid"],Et=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dn=["indexId","uid","orderedDocumentKey"],On=["userId","collectionPath","documentId"],kn=["userId","collectionPath","largestBatchId"],qr=["userId","collectionGroup","largestBatchId"],Fr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ki=[...Fr,"documentOverlays"],qo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rr=qo,vs=[...Rr,"indexConfiguration","indexState","indexEntries"],Fi=vs;class ys extends gr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ci(l,e){const r=ct(l);return ie.F(r._e,e)}function ga(l){let e=0;for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e++;return e}function No(l,e){for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&e(r,l[r])}function Gi(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}class mr{constructor(e,r){this.comparator=e,this.root=r||Br.EMPTY}insert(e,r){return new mr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}}class cs{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,r,s,u,m){this.key=e,this.value=r,this.color=s??Br.RED,this.left=u??Br.EMPTY,this.right=m??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,m){return new Br(e??this.key,r??this.value,s??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const m=s(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===m?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Br.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,r,s,u,m){return this}insert(e,r,s){return new Br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Uo(this.data.getIterator())}getIteratorFrom(e){return new Uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class Uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function co(l){return l.hasNext()?l.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Bi([])}unionWith(e){let r=new Vr(Wn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return wn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Co extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ss(){return typeof atob<"u"}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Co("Invalid base64 string: "+m):m}}(e);return new Ui(r)}static fromUint8Array(e){const r=function(u){let m="";for(let y=0;y<u.length;++y)m+=String.fromCharCode(u[y]);return m}(e);return new Ui(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(l){if(Bt(!!l),"string"==typeof l){let e=0;const r=na.exec(l);if(Bt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ui(l.seconds),nanos:ui(l.nanos)}}function ui(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function bo(l){return"string"==typeof l?Ui.fromBase64String(l):Ui.fromUint8Array(l)}function Yo(l){var e,r;return"server_timestamp"===(null===(r=((null===(e=l?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Es(l){const e=l.mapValue.fields.__previous_value__;return Yo(e)?Es(e):e}function lo(l){const e=ko(l.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}class ns{constructor(e,r,s,u,m,y,D,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=W}}class Qn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Qn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qn&&e.projectId===this.projectId&&e.database===this.database}}const fi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ti={nullValue:"NULL_VALUE"};function uo(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Yo(l)?4:Hr(l)?9007199254740991:10:Pt()}function $r(l,e){if(l===e)return!0;const r=uo(l);if(r!==uo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return lo(l).isEqual(lo(e));case 3:return function(u,m){if("string"==typeof u.timestampValue&&"string"==typeof m.timestampValue&&u.timestampValue.length===m.timestampValue.length)return u.timestampValue===m.timestampValue;const y=ko(u.timestampValue),D=ko(m.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return m=e,bo(l.bytesValue).isEqual(bo(m.bytesValue));case 7:return l.referenceValue===e.referenceValue;case 8:return function(u,m){return ui(u.geoPointValue.latitude)===ui(m.geoPointValue.latitude)&&ui(u.geoPointValue.longitude)===ui(m.geoPointValue.longitude)}(l,e);case 2:return function(u,m){if("integerValue"in u&&"integerValue"in m)return ui(u.integerValue)===ui(m.integerValue);if("doubleValue"in u&&"doubleValue"in m){const y=ui(u.doubleValue),D=ui(m.doubleValue);return y===D?je(y)===je(D):isNaN(y)&&isNaN(D)}return!1}(l,e);case 9:return wn(l.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(u,m){const y=u.mapValue.fields||{},D=m.mapValue.fields||{};if(ga(y)!==ga(D))return!1;for(const N in y)if(y.hasOwnProperty(N)&&(void 0===D[N]||!$r(y[N],D[N])))return!1;return!0}(l,e);default:return Pt()}var m}function wi(l,e){return void 0!==(l.values||[]).find(r=>$r(r,e))}function pi(l,e){if(l===e)return 0;const r=uo(l),s=uo(e);if(r!==s)return Gt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(l.booleanValue,e.booleanValue);case 2:return function(m,y){const D=ui(m.integerValue||m.doubleValue),N=ui(y.integerValue||y.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(l,e);case 3:return Vi(l.timestampValue,e.timestampValue);case 4:return Vi(lo(l),lo(e));case 5:return Gt(l.stringValue,e.stringValue);case 6:return function(m,y){const D=bo(m),N=bo(y);return D.compareTo(N)}(l.bytesValue,e.bytesValue);case 7:return function(m,y){const D=m.split("/"),N=y.split("/");for(let W=0;W<D.length&&W<N.length;W++){const re=Gt(D[W],N[W]);if(0!==re)return re}return Gt(D.length,N.length)}(l.referenceValue,e.referenceValue);case 8:return function(m,y){const D=Gt(ui(m.latitude),ui(y.latitude));return 0!==D?D:Gt(ui(m.longitude),ui(y.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return function(m,y){const D=m.values||[],N=y.values||[];for(let W=0;W<D.length&&W<N.length;++W){const re=pi(D[W],N[W]);if(re)return re}return Gt(D.length,N.length)}(l.arrayValue,e.arrayValue);case 10:return function(m,y){if(m===fi.mapValue&&y===fi.mapValue)return 0;if(m===fi.mapValue)return 1;if(y===fi.mapValue)return-1;const D=m.fields||{},N=Object.keys(D),W=y.fields||{},re=Object.keys(W);N.sort(),re.sort();for(let ge=0;ge<N.length&&ge<re.length;++ge){const Ue=Gt(N[ge],re[ge]);if(0!==Ue)return Ue;const ut=pi(D[N[ge]],W[re[ge]]);if(0!==ut)return ut}return Gt(N.length,re.length)}(l.mapValue,e.mapValue);default:throw Pt()}}function Vi(l,e){if("string"==typeof l&&"string"==typeof e&&l.length===e.length)return Gt(l,e);const r=ko(l),s=ko(e),u=Gt(r.seconds,s.seconds);return 0!==u?u:Gt(r.nanos,s.nanos)}function Yr(l){return qi(l)}function qi(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(r){const s=ko(r);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?bo(l.bytesValue).toBase64():"referenceValue"in l?Ut.fromName(l.referenceValue).toString():"geoPointValue"in l?function(r){return`geo(${r.latitude},${r.longitude})`}(l.geoPointValue):"arrayValue"in l?function(r){let s="[",u=!0;for(const m of r.values||[])u?u=!1:s+=",",s+=qi(m);return s+"]"}(l.arrayValue):"mapValue"in l?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",m=!0;for(const y of s)m?m=!1:u+=",",u+=`${y}:${qi(r.fields[y])}`;return u+"}"}(l.mapValue):Pt()}function Zt(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function jn(l){return!!l&&"integerValue"in l}function lr(l){return!!l&&"arrayValue"in l}function ji(l){return!!l&&"nullValue"in l}function ro(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function gi(l){return!!l&&"mapValue"in l}function Io(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return No(l.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Io(s)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(l.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Io(l.arrayValue.values[r]);return e}return Object.assign({},l)}function Hr(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fo(l){return"nullValue"in l?Ti:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Zt(Qn.empty(),Ut.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:Pt()}function Vo(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Zt(Qn.empty(),Ut.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?fi:Pt()}function Kn(l,e){const r=pi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?-1:!l.inclusive&&e.inclusive?1:0}function To(l,e){const r=pi(l.value,e.value);return 0!==r?r:l.inclusive&&!e.inclusive?1:!l.inclusive&&e.inclusive?-1:0}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!gi(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(r)}setAll(e){let r=Wn.emptyPath(),s={},u=[];e.forEach((y,D)=>{if(!r.isImmediateParentOf(D)){const N=this.getFieldsMap(r);this.applyChanges(N,s,u),s={},u=[],r=D.popLast()}y?s[D.lastSegment()]=Io(y):u.push(D.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,u)}delete(e){const r=this.field(e.popLast());gi(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];gi(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){No(r,(u,m)=>e[u]=m);for(const u of s)delete e[u]}clone(){return new vi(Io(this.value))}}function Q(l){const e=[];return No(l.fields,(r,s)=>{const u=new Wn([r]);if(gi(s)){const m=Q(s.mapValue).fields;if(0===m.length)e.push(u);else for(const y of m)e.push(u.child(y))}else e.push(u)}),new Bi(e)}class z{constructor(e,r,s,u,m,y,D){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=m,this.data=y,this.documentState=D}static newInvalidDocument(e){return new z(e,0,Vt.min(),Vt.min(),Vt.min(),vi.empty(),0)}static newFoundDocument(e,r,s,u){return new z(e,1,r,Vt.min(),s,u,0)}static newNoDocument(e,r){return new z(e,2,r,Vt.min(),Vt.min(),vi.empty(),0)}static newUnknownDocument(e,r){return new z(e,3,r,Vt.min(),Vt.min(),vi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof z&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new z(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ye{constructor(e,r){this.position=e,this.inclusive=r}}function Re(l,e,r){let s=0;for(let u=0;u<l.position.length;u++){const m=e[u],y=l.position[u];if(s=m.field.isKeyField()?Ut.comparator(Ut.fromName(y.referenceValue),r.key):pi(y,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function Ye(l,e){if(null===l)return null===e;if(null===e||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let r=0;r<l.position.length;r++)if(!$r(l.position[r],e.position[r]))return!1;return!0}class yt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yt(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}class mn{}class Rt extends mn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Xi(e,r,s):"array-contains"===r?new fr(e,s):"in"===r?new Cs(e,s):"not-in"===r?new Ai(e,s):"array-contains-any"===r?new bs(e,s):new Rt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ir(e,s):new bi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(pi(r,this.value)):null!==r&&uo(this.value)===uo(r)&&this.matchesComparison(pi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new gn(e,r)}matches(e){return sr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sr(l){return"and"===l.op}function Rn(l){return"or"===l.op}function mi(l){return Ir(l)&&sr(l)}function Ir(l){for(const e of l.filters)if(e instanceof gn)return!1;return!0}function Zr(l){if(l instanceof Rt)return l.field.canonicalString()+l.op.toString()+Yr(l.value);if(mi(l))return l.filters.map(e=>Zr(e)).join(",");{const e=l.filters.map(r=>Zr(r)).join(",");return`${l.op}(${e})`}}function oi(l,e){return l instanceof Rt?(s=l,(u=e)instanceof Rt&&s.op===u.op&&s.field.isEqual(u.field)&&$r(s.value,u.value)):l instanceof gn?function(s,u){return u instanceof gn&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((m,y,D)=>m&&oi(y,u.filters[D]),!0)}(l,e):void Pt();var s,u}function Lr(l,e){const r=l.filters.concat(e);return gn.create(r,l.op)}function Yi(l){return l instanceof Rt?`${(r=l).field.canonicalString()} ${r.op} ${Yr(r.value)}`:l instanceof gn?function(r){return r.op.toString()+" {"+r.getFilters().map(Yi).join(" ,")+"}"}(l):"Filter";var r}class Xi extends Rt{constructor(e,r,s){super(e,r,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class ir extends Rt{constructor(e,r){super(e,"in",r),this.keys=si(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class bi extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=si(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function si(l,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class fr extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return lr(r)&&wi(r.arrayValue,this.value)}}class Cs extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&wi(this.value.arrayValue,r)}}class Ai extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!wi(this.value.arrayValue,r)}}class bs extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!lr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>wi(this.value.arrayValue,s))}}class ho{constructor(e,r=null,s=[],u=[],m=null,y=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=m,this.startAt=y,this.endAt=D,this.ue=null}}function ma(l,e=null,r=[],s=[],u=null,m=null,y=null){return new ho(l,e,r,s,u,m,y)}function fo(l){const e=ct(l);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Zr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),le(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Yr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Yr(s)).join(",")),e.ue=r}return e.ue}function rs(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<l.orderBy.length;r++)if(!Yt(l.orderBy[r],e.orderBy[r]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let r=0;r<l.filters.length;r++)if(!oi(l.filters[r],e.filters[r]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!Ye(l.startAt,e.startAt)&&Ye(l.endAt,e.endAt)}function Ks(l){return Ut.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function ra(l,e){return l.filters.filter(r=>r instanceof Rt&&r.field.isEqual(e))}function $i(l,e,r){let s=Ti,u=!0;for(const m of ra(l,e)){let y=Ti,D=!0;switch(m.op){case"<":case"<=":y=Fo(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,D=!1;break;case"!=":case"not-in":y=Ti}Kn({value:s,inclusive:u},{value:y,inclusive:D})<0&&(s=y,u=D)}if(null!==r)for(let m=0;m<l.orderBy.length;++m)if(l.orderBy[m].field.isEqual(e)){const y=r.position[m];Kn({value:s,inclusive:u},{value:y,inclusive:r.inclusive})<0&&(s=y,u=r.inclusive);break}return{value:s,inclusive:u}}function Ps(l,e,r){let s=fi,u=!0;for(const m of ra(l,e)){let y=fi,D=!0;switch(m.op){case">=":case">":y=Vo(m.value),D=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,D=!1;break;case"!=":case"not-in":y=fi}To({value:s,inclusive:u},{value:y,inclusive:D})>0&&(s=y,u=D)}if(null!==r)for(let m=0;m<l.orderBy.length;++m)if(l.orderBy[m].field.isEqual(e)){const y=r.position[m];To({value:s,inclusive:u},{value:y,inclusive:r.inclusive})>0&&(s=y,u=r.inclusive);break}return{value:s,inclusive:u}}class Rs{constructor(e,r=null,s=[],u=[],m=null,y="F",D=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=m,this.limitType=y,this.startAt=D,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function Nc(l,e,r,s,u,m,y,D){return new Rs(l,e,r,s,u,m,y,D)}function Xr(l){return new Rs(l)}function ia(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Aa(l){return null!==l.collectionGroup}function G(l){const e=ct(l);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let D=new Vr(Wn.comparator);return y.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(D=D.add(W.field))})}),D})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new yt(m,s))}),r.has(Wn.keyField().canonicalString())||e.ce.push(new yt(Wn.keyField(),s))}return e.ce}function Y(l){const e=ct(l);return e.le||(e.le=function oe(l,e){if("F"===l.limitType)return ma(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(u=>new yt(u.field,"desc"===u.dir?"asc":"desc"));const r=l.endAt?new ye(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new ye(l.startAt.position,l.startAt.inclusive):null;return ma(l.path,l.collectionGroup,e,l.filters,l.limit,r,s)}}(e,G(l))),e.le}function Ve(l,e){const r=l.filters.concat([e]);return new Rs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),r,l.limit,l.limitType,l.startAt,l.endAt)}function yn(l,e,r){return new Rs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,r,l.startAt,l.endAt)}function Gn(l,e){return rs(Y(l),Y(e))&&l.limitType===e.limitType}function io(l){return`${fo(Y(l))}|lt:${l.limitType}`}function po(l){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Yi(u)).join(", ")}]`),le(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Yr(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Yr(u)).join(",")),`Target(${s})`}(Y(l))}; limitType=${l.limitType})`}function oo(l,e){return e.isFoundDocument()&&function(s,u){const m=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Ut.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(l,e)&&function(s,u){for(const m of G(s))if(!m.field.isKeyField()&&null===u.data.field(m.field))return!1;return!0}(l,e)&&function(s,u){for(const m of s.filters)if(!m.matches(u))return!1;return!0}(l,e)&&(u=e,!((s=l).startAt&&!function(y,D,N){const W=Re(y,D,N);return y.inclusive?W<=0:W<0}(s.startAt,G(s),u)||s.endAt&&!function(y,D,N){const W=Re(y,D,N);return y.inclusive?W>=0:W>0}(s.endAt,G(s),u)));var s,u}function is(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function jo(l){return(e,r)=>{let s=!1;for(const u of G(l)){const m=Bo(u,e,r);if(0!==m)return m;s=s||u.field.isKeyField()}return 0}}function Bo(l,e,r){const s=l.field.isKeyField()?Ut.comparator(e.key,r.key):function(m,y,D){const N=y.data.field(m),W=D.data.field(m);return null!==N&&null!==W?pi(N,W):Pt()}(l.field,e,r);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Pt()}}class So{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,m]of s)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(r,s)=>{for(const[u,m]of s)e(u,m)})}isEmpty(){return Gi(this.inner)}size(){return this.innerSize}}const ml=new mr(Ut.comparator);function ai(){return ml}const _a=new mr(Ut.comparator);function zi(...l){let e=_a;for(const r of l)e=e.insert(r.key,r);return e}function kc(l){let e=_a;return l.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function wo(){return os()}function Ms(){return os()}function os(){return new So(l=>l.toString(),(l,e)=>l.isEqual(e))}const va=new mr(Ut.comparator),Os=new Vr(Ut.comparator);function ar(...l){let e=Os;for(const r of l)e=e.add(r);return e}const Da=new Vr(Gt);function qs(){return Da}function Wa(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(e)?"-0":e}}function Ka(l){return{integerValue:""+l}}function ya(l,e){return It(e)?Ka(e):Wa(l,e)}class ls{constructor(){this._=void 0}}function Ns(l,e,r){return l instanceof xa?function(u,m){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return m&&Yo(m)&&(m=Es(m)),m&&(y.fields.__previous_value__=m),{mapValue:y}}(r,e):l instanceof oa?Ya(l,e):l instanceof ks?Uu(l,e):function(u,m){const y=Fc(u,m),D=Sa(y)+Sa(u.Pe);return jn(y)&&jn(u.Pe)?Ka(D):Wa(u.serializer,D)}(l,e)}function qa(l,e,r){return l instanceof oa?Ya(l,e):l instanceof ks?Uu(l,e):r}function Fc(l,e){return l instanceof Ys?jn(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class xa extends ls{}class oa extends ls{constructor(e){super(),this.elements=e}}function Ya(l,e){const r=Jl(e);for(const s of l.elements)r.some(u=>$r(u,s))||r.push(s);return{arrayValue:{values:r}}}class ks extends ls{constructor(e){super(),this.elements=e}}function Uu(l,e){let r=Jl(e);for(const s of l.elements)r=r.filter(u=>!$r(u,s));return{arrayValue:{values:r}}}class Ys extends ls{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Sa(l){return ui(l.integerValue||l.doubleValue)}function Jl(l){return lr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class sa{constructor(e,r){this.field=e,this.transform=r}}class vl{constructor(e,r){this.version=e,this.transformResults=r}}class Di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x(l,e){return void 0!==l.updateTime?e.isFoundDocument()&&e.version.isEqual(l.updateTime):void 0===l.exists||l.exists===e.isFoundDocument()}class J{}function U(l,e){if(!l.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return l.isNoDocument()?new yi(l.key,Di.none()):new Cn(l.key,l.data,Di.none());{const r=l.data,s=vi.empty();let u=new Vr(Wn.comparator);for(let m of e.fields)if(!u.has(m)){let y=r.field(m);null===y&&m.length>1&&(m=m.popLast(),y=r.field(m)),null===y?s.delete(m):s.set(m,y),u=u.add(m)}return new Or(l.key,s,new Bi(u.toArray()),Di.none())}}function X(l,e,r){l instanceof Cn?function(u,m,y){const D=u.value.clone(),N=Gr(u.fieldTransforms,m,y.transformResults);D.setAll(N),m.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(l,e,r):l instanceof Or?function(u,m,y){if(!x(u.precondition,m))return void m.convertToUnknownDocument(y.version);const D=Gr(u.fieldTransforms,m,y.transformResults),N=m.data;N.setAll(Qr(u)),N.setAll(D),m.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(l,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function we(l,e,r,s){return l instanceof Cn?function(m,y,D,N){if(!x(m.precondition,y))return D;const W=m.value.clone(),re=Cr(m.fieldTransforms,N,y);return W.setAll(re),y.convertToFoundDocument(y.version,W).setHasLocalMutations(),null}(l,e,r,s):l instanceof Or?function(m,y,D,N){if(!x(m.precondition,y))return D;const W=Cr(m.fieldTransforms,N,y),re=y.data;return re.setAll(Qr(m)),re.setAll(W),y.convertToFoundDocument(y.version,re).setHasLocalMutations(),null===D?null:D.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ge=>ge.field))}(l,e,r,s):(D=r,x(l.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):D);var y,D}function _t(l,e){let r=null;for(const s of l.fieldTransforms){const u=e.data.field(s.field),m=Fc(s.transform,u||null);null!=m&&(null===r&&(r=vi.empty()),r.set(s.field,m))}return r||null}function Nt(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&wn(s,u,(m,y)=>function _l(l,e){return l.field.isEqual(e.field)&&(u=e.transform,(s=l.transform)instanceof oa&&u instanceof oa||s instanceof ks&&u instanceof ks?wn(s.elements,u.elements,$r):s instanceof Ys&&u instanceof Ys?$r(s.Pe,u.Pe):s instanceof xa&&u instanceof xa);var s,u}(m,y))))&&(0===l.type?l.value.isEqual(e.value):1!==l.type||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask));var s,u}class Cn extends J{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Or extends J{constructor(e,r,s,u,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Qr(l){const e=new Map;return l.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=l.data.field(r);e.set(r,s)}}),e}function Gr(l,e,r){const s=new Map;Bt(l.length===r.length);for(let u=0;u<r.length;u++){const m=l[u],y=m.transform,D=e.data.field(m.field);s.set(m.field,qa(y,D,r[u]))}return s}function Cr(l,e,r){const s=new Map;for(const u of l){const m=u.transform,y=r.data.field(u.field);s.set(u.field,Ns(m,y,e))}return s}class yi extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ar extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ri{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&X(m,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Ms();return this.mutations.forEach(u=>{const m=e.get(u.key),y=m.overlayedDocument;let D=this.applyToLocalView(y,m.mutatedFields);D=r.has(u.key)?null:D;const N=U(y,D);null!==N&&s.set(u.key,N),y.isValidDocument()||y.convertToNoDocument(Vt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ar())}isEqual(e){return this.batchId===e.batchId&&wn(this.mutations,e.mutations,(r,s)=>Nt(r,s))&&wn(this.baseMutations,e.baseMutations,(r,s)=>Nt(r,s))}}class Ao{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Bt(e.mutations.length===s.length);let u=va;const m=e.mutations;for(let y=0;y<m.length;y++)u=u.insert(m[y].key,s[y].version);return new Ao(e,r,s,u)}}class $o{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ho{constructor(e,r){this.count=e,this.unchangedNames=r}}var xi,Zn;function us(l){switch(l){default:return Pt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function Zl(l){if(void 0===l)return Jt("GRPC error has no .code"),Me.UNKNOWN;switch(l){case xi.OK:return Me.OK;case xi.CANCELLED:return Me.CANCELLED;case xi.UNKNOWN:return Me.UNKNOWN;case xi.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case xi.INTERNAL:return Me.INTERNAL;case xi.UNAVAILABLE:return Me.UNAVAILABLE;case xi.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case xi.NOT_FOUND:return Me.NOT_FOUND;case xi.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case xi.ABORTED:return Me.ABORTED;case xi.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case xi.DATA_LOSS:return Me.DATA_LOSS;default:return Pt()}}(Zn=xi||(xi={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";function ss(){return new TextEncoder}const Is=new Le([4294967295,4294967295],0);function Qi(l){const e=ss().encode(l),r=new Be;return r.update(e),new Uint8Array(r.digest())}function eu(l){const e=new DataView(l.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Le([r,s],0),new Le([u,m],0)]}class Xa{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ds(`Invalid padding: ${r}`);if(s<0)throw new ds(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ds(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new ds(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(Le.fromNumber(s)));return 1===u.compare(Is)&&(u=new Le([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Qi(e),[s,u]=eu(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,u,m);if(!this.de(y))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),y=new Xa(m,u,r);return s.forEach(D=>y.insert(D)),y}insert(e){if(0===this.Ie)return;const r=Qi(e),[s,u]=eu(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,u,m);this.Ae(y)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ii{constructor(e,r,s,u,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ii(Vt.min(),u,new mr(Gt),ai(),ar())}}class Qa{constructor(e,r,s,u,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Qa(s,r,ar(),ar(),ar())}}class yl{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Xo{constructor(e,r){this.targetId=e,this.me=r}}class Ji{constructor(e,r,s=Ui.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Zi{constructor(){this.fe=0,this.ge=ju(),this.pe=Ui.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ar(),r=ar(),s=ar();return this.ge.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Pt()}}),new Qa(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=ju()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Vc{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=El(),this.Qe=new mr(Gt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const m=u.target;if(Ks(m))if(0===s){const y=new Ut(m.path);this.Ue(r,y,z.newNoDocument(y,Vt.min()))}else Bt(1===s);else{const y=this.Ye(r);if(y!==s){const D=this.Ze(e),N=D?this.Xe(D,e,y):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=r;let y,D;try{y=bo(s).toUint8Array()}catch(N){if(N instanceof Co)return dn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{D=new Xa(y,u,m)}catch(N){return dn(N instanceof ds?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(m=>{const y=this.Le.tt(),D=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,m,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((m,y)=>{const D=this.Je(y);if(D){if(m.current&&Ks(D.target)){const N=new Ut(D.target.path);null!==this.ke.get(N)||this.it(y,N)||this.Ue(y,N,z.newNoDocument(N,e))}m.be&&(r.set(y,m.Ce()),m.ve())}});let s=ar();this.qe.forEach((m,y)=>{let D=!0;y.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(D=!1,!1)}),D&&(s=s.add(m))}),this.ke.forEach((m,y)=>y.setReadTime(e));const u=new Ii(e,r,this.Qe,this.ke,s);return this.ke=ai(),this.qe=El(),this.Qe=new mr(Gt),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Zi,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Vr(Gt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zi),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function El(){return new mr(Ut.comparator)}function ju(){return new mr(Ut.comparator)}const Bu={asc:"ASCENDING",desc:"DESCENDING"},$u={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},er={and:"AND",or:"OR"};class Hu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ja(l,e){return l.useProto3Json||le(e)?e:{value:e}}function Go(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tu(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Cl(l,e){return Go(l,e.toTimestamp())}function eo(l){return Bt(!!l),Vt.fromTimestamp(function(r){const s=ko(r);return new Wt(s.seconds,s.nanos)}(l))}function Pa(l,e){return Lc(l,e).canonicalString()}function Lc(l,e){const r=(u=l,new fn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function bl(l){const e=fn.fromString(l);return Bt(jc(e)),e}function Ra(l,e){return Pa(l.databaseId,e.path)}function hs(l,e){const r=bl(e);if(r.get(1)!==l.databaseId.projectId)throw new ue(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+l.databaseId.projectId);if(r.get(3)!==l.databaseId.database)throw new ue(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+l.databaseId.database);return new Ut(Uc(r))}function jd(l,e){return Pa(l.databaseId,e)}function $t(l){const e=bl(l);return 4===e.length?fn.emptyPath():Uc(e)}function Dt(l){return new fn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Uc(l){return Bt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Ma(l,e,r){return{name:Ra(l,e),fields:r.value.mapValue.fields}}function Do(l,e,r){const s=hs(l,e.name),u=eo(e.updateTime),m=e.createTime?eo(e.createTime):Vt.min(),y=new vi({mapValue:{fields:e.fields}}),D=z.newFoundDocument(s,u,m,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function Qo(l,e){let r;if(e instanceof Cn)r={update:Ma(l,e.key,e.value)};else if(e instanceof yi)r={delete:Ra(l,e.key)};else if(e instanceof Or)r={update:Ma(l,e.key,e.data),updateMask:zu(e.fieldMask)};else{if(!(e instanceof Ar))return Pt();r={verify:Ra(l,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,y){const D=y.transform;if(D instanceof xa)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof oa)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof ks)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ys)return{fieldPath:y.field.canonicalString(),increment:D.Pe};throw Pt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Cl(l,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Pt()),r;var m}function zo(l,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?Di.updateTime(eo(m.updateTime)):void 0!==m.exists?Di.exists(m.exists):Di.none():Di.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(y,D){let N=null;"setToServerValue"in D?(Bt("REQUEST_TIME"===D.setToServerValue),N=new xa):"appendMissingElements"in D?N=new oa(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new ks(D.removeAllFromArray.values||[]):"increment"in D?N=new Ys(y,D.increment):Pt();const W=Wn.fromServerFormat(D.fieldPath);return new sa(W,N)}(l,u)):[];var m;if(e.update){const u=hs(l,e.update.name),m=new vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Bi((e.updateMask.fieldPaths||[]).map(re=>Wn.fromServerFormat(re)));return new Or(u,m,y,r,s)}return new Cn(u,m,r,s)}if(e.delete){const u=hs(l,e.delete);return new yi(u,r)}if(e.verify){const u=hs(l,e.verify);return new Ar(u,r)}return Pt()}function qn(l,e){return{documents:[jd(l,e.path)]}}function Za(l,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=jd(l,u);const m=function(W){if(0!==W.length)return Gu(gn.create(W,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const y=function(W){if(0!==W.length)return W.map(re=>{return{field:gs((Ue=re).field),direction:Xs(Ue.dir)};var Ue})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=Ja(l,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:u};var W}function Jo(l){let e=$t(l.parent);const r=l.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Bt(1===s);const re=r.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let m=[];r.where&&(m=function(ge){const Ue=Tl(ge);return Ue instanceof gn&&mi(Ue)?Ue.getFilters():[Ue]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(Ue=>{return new yt(ec((Ht=Ue).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let D=null;r.limit&&(D=function(ge){let Ue;return Ue="object"==typeof ge?ge.value:ge,le(Ue)?null:Ue}(r.limit));let N=null;var ge;r.startAt&&(N=new ye((ge=r.startAt).values||[],!!ge.before));let W=null;return r.endAt&&(W=function(ge){return new ye(ge.values||[],!ge.before)}(r.endAt)),Nc(e,u,y,m,D,"F",N,W)}function Tl(l){return void 0!==l.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ec(r.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ec(r.unaryFilter.field);return Rt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=ec(r.unaryFilter.field);return Rt.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=ec(r.unaryFilter.field);return Rt.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(l):void 0!==l.fieldFilter?Rt.create(ec((r=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==l.compositeFilter?function(r){return gn.create(r.compositeFilter.filters.map(s=>Tl(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Pt()}}(r.compositeFilter.op))}(l):Pt();var r}function Xs(l){return Bu[l]}function ps(l){return $u[l]}function Bd(l){return er[l]}function gs(l){return{fieldPath:l.canonicalString()}}function ec(l){return Wn.fromServerFormat(l.fieldPath)}function Gu(l){return l instanceof Rt?function(r){if("=="===r.op){if(ro(r.value))return{unaryFilter:{field:gs(r.field),op:"IS_NAN"}};if(ji(r.value))return{unaryFilter:{field:gs(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ro(r.value))return{unaryFilter:{field:gs(r.field),op:"IS_NOT_NAN"}};if(ji(r.value))return{unaryFilter:{field:gs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(r.field),op:ps(r.op),value:r.value}}}(l):l instanceof gn?function(r){const s=r.getFilters().map(u=>Gu(u));return 1===s.length?s[0]:{compositeFilter:{op:Bd(r.op),filters:s}}}(l):Pt()}function zu(l){const e=[];return l.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function jc(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Qs{constructor(e,r,s,u,m=Vt.min(),y=Vt.min(),D=Ui.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function I(l,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:M(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ra(m=l.ct,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Go(m,y.version.toTimestamp()),createTime:Go(m,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:j(e.version)};else{if(!e.isUnknownDocument())return Pt();s.unknownDocument={path:r.path.toArray(),version:j(e.version)}}var m,y;return s}function M(l){const e=l.toTimestamp();return[e.seconds,e.nanoseconds]}function j(l){const e=l.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ne(l){const e=new Wt(l.seconds,l.nanoseconds);return Vt.fromTimestamp(e)}function Ee(l,e){const r=(e.baseMutations||[]).map(m=>zo(l.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>zo(l.ct,m)),u=Wt.fromMillis(e.localWriteTimeMs);return new Ri(e.batchId,u,r,s)}function pt(l){const e=ne(l.readTime),r=void 0!==l.lastLimboFreeSnapshotVersion?ne(l.lastLimboFreeSnapshotVersion):Vt.min();let s;return s=void 0!==l.query.documents?(Bt(1===(m=l.query).documents.length),Y(Xr($t(m.documents[0])))):function(m){return Y(Jo(m))}(l.query),new Qs(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,e,r,Ui.fromBase64String(l.resumeToken));var m}function dt(l,e){const r=j(e.snapshotVersion),s=j(e.lastLimboFreeSnapshotVersion);let u;u=Ks(e.target)?qn(l.ct,e.target):Za(l.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function vn(l){const e=Jo({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?yn(e,e.limit,"L"):e}function pr(l,e){return new $o(e.largestBatchId,zo(l.ct,e.overlayMutation))}function Tr(l,e){const r=e.path.lastSegment();return[l,Ot(e.path.popLast()),r]}function Dr(l,e,r,s){return{indexId:l,uid:e,sequenceNumber:r,readTime:j(s.readTime),documentKey:Ot(s.documentKey.path),largestBatchId:s.largestBatchId}}class ci{getBundleMetadata(e,r){return tc(e).get(r).next(s=>{if(s)return{id:(m=s).bundleId,createTime:ne(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return tc(e).put({bundleId:(u=r).id,createTime:j(eo(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return nc(e).get(r).next(s=>{if(s)return{name:(m=s).name,query:vn(m.bundledQuery),readTime:ne(m.readTime)};var m})}saveNamedQuery(e,r){return nc(e).put({name:(u=r).name,readTime:j(eo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function tc(l){return Ci(l,"bundles")}function nc(l){return Ci(l,"namedQueries")}class ca{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ca(e,r.uid||"")}getOverlay(e,r){return Js(e).get(Tr(this.userId,r)).next(s=>s?pr(this.serializer,s):null)}getOverlays(e,r){const s=wo();return Ke.forEach(r,u=>this.getOverlay(e,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((m,y)=>{const D=new $o(r,y);u.push(this.ht(e,D))}),Ke.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(y=>u.add(Ot(y.getCollectionPath())));const m=[];return u.forEach(y=>{const D=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);m.push(Js(e).j("collectionPathOverlayIndex",D))}),Ke.waitFor(m)}getOverlaysForCollection(e,r,s){const u=wo(),m=Ot(r),y=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Js(e).U("collectionPathOverlayIndex",y).next(D=>{for(const N of D){const W=pr(this.serializer,N);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const m=wo();let y;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Js(e).J({index:"collectionGroupOverlayIndex",range:D},(N,W,re)=>{const ge=pr(this.serializer,W);m.size()<u||ge.largestBatchId===y?(m.set(ge.getKey(),ge),y=ge.largestBatchId):re.done()}).next(()=>m)}ht(e,r){return Js(e).put(function(u,m,y){const[D,N,W]=Tr(m,y.mutation.key);return{userId:m,collectionPath:N,documentId:W,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Qo(u.ct,y.mutation)}}(this.serializer,this.userId,r))}}function Js(l){return Ci(l,"documentOverlays")}class Ea{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(ui(e.integerValue));else if("doubleValue"in e){const s=ui(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),je(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ko(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(bo(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Hr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Pt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),Ut.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Na(l){if(0===l)return 8;let e=0;return!(l>>4)&&(e+=4,l<<=4),!(l>>6)&&(e+=2,l<<=2),!(l>>7)&&(e+=1),e}function wl(l){const e=64-function(s){let u=0;for(let m=0;m<8;++m){const y=Na(255&s[m]);if(u+=y,8!==y)break}return u}(l);return Math.ceil(e/8)}Ea.bt=new Ea;class rc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=wl(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=wl(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(m){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,m,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class $d{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Wu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ts{constructor(){this.Gt=new rc,this.zt=new $d(this.Gt),this.jt=new Wu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ms{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ms(this.indexId,this.documentKey,this.arrayValue,s)}}function Zo(l,e){let r=l.indexId-e.indexId;return 0!==r?r:(r=Al(l.arrayValue,e.arrayValue),0!==r?r:(r=Al(l.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(l.documentKey,e.documentKey)))}function Al(l,e){for(let r=0;r<l.length&&r<e.length;++r){const s=l[r]-e[r];if(0!==s)return s}return l.length-e.length}class nu{constructor(e){this.Yt=new Vr((r,s)=>Wn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Bt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Pn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Tn(e);let u=new Set,m=0,y=0;for(;m<s.length&&this.nn(s[m]);++m)u=u.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!u.has(D.field.canonicalString())){const N=s[m];if(!this.rn(D,N)||!this.sn(this.Zt[y++],N))return!1}++m}for(;m<s.length;++m)if(y>=this.Zt.length||!this.sn(this.Zt[y++],s[m]))return!1;return!0}on(){if(this.en)return null;let e=new Vr(Wn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new br(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new br(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new br(s.field,"asc"===s.dir?0:1)));return new _n(_n.UNKNOWN_ID,this.collectionId,r,Hn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Bc(l){var e,r;if(Bt(l instanceof Rt||l instanceof gn),l instanceof Rt){if(l instanceof Cs){const u=(null===(r=null===(e=l.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Rt.create(l.field,"==",m)))||[];return gn.create(u,"or")}return l}const s=l.filters.map(u=>Bc(u));return gn.create(s,l.op)}function ic(l){if(0===l.getFilters().length)return[];const e=la(Bc(l));return Bt(vp(e)),$c(e)||ru(e)?[e]:e.getFilters()}function $c(l){return l instanceof Rt}function ru(l){return l instanceof gn&&mi(l)}function vp(l){return $c(l)||ru(l)||function(r){if(r instanceof gn&&Rn(r)){for(const s of r.getFilters())if(!$c(s)&&!ru(s))return!1;return!0}return!1}(l)}function la(l){if(Bt(l instanceof Rt||l instanceof gn),l instanceof Rt)return l;if(1===l.filters.length)return la(l.filters[0]);const e=l.filters.map(s=>la(s));let r=gn.create(e,l.op);return r=Hc(r),vp(r)?r:(Bt(r instanceof gn),Bt(sr(r)),Bt(r.filters.length>1),r.filters.reduce((s,u)=>Ku(s,u)))}function Ku(l,e){let r;return Bt(l instanceof Rt||l instanceof gn),Bt(e instanceof Rt||e instanceof gn),r=l instanceof Rt?e instanceof Rt?gn.create([l,e],"and"):Hd(l,e):e instanceof Rt?Hd(e,l):function(u,m){if(Bt(u.filters.length>0&&m.filters.length>0),sr(u)&&sr(m))return Lr(u,m.getFilters());const y=Rn(u)?u:m,D=Rn(u)?m:u,N=y.filters.map(W=>Ku(W,D));return gn.create(N,"or")}(l,e),Hc(r)}function Hd(l,e){if(sr(e))return Lr(e,l.getFilters());{const r=e.filters.map(s=>Ku(l,s));return gn.create(r,"or")}}function Hc(l){if(Bt(l instanceof Rt||l instanceof gn),l instanceof Rt)return l;const e=l.getFilters();if(1===e.length)return Hc(e[0]);if(Ir(l))return l;const r=e.map(u=>Hc(u)),s=[];return r.forEach(u=>{u instanceof Rt?s.push(u):u instanceof gn&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:gn.create(s,l.op)}class Bg{constructor(){this._n=new qu}addToCollectionParentIndex(e,r){return this._n.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r){return Ke.resolve(null)}getIndexType(e,r){return Ke.resolve(0)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,r){return Ke.resolve(ln.min())}getMinOffsetFromCollectionGroup(e,r){return Ke.resolve(ln.min())}updateCollectionGroup(e,r,s){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class qu{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Vr(fn.comparator),m=!u.has(s);return this.index[r]=u.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Vr(fn.comparator)).toArray()}}const Gc=new Uint8Array(0);class iu{constructor(e,r){this.databaseId=r,this.an=new qu,this.un=new So(s=>fo(s),(s,u)=>rs(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const m={collectionId:s,parent:Ot(u)};return Jh(e).put(m)}return Ke.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[$n(r),""],!1,!0);return Jh(e).U(u).next(m=>{for(const y of m){if(y.collectionId!==r)break;s.push(un(y.parent))}return s})}addFieldIndex(e,r){const s=oc(e),u={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete u.indexId;const m=s.add(u);if(r.indexState){const y=ua(e);return m.next(D=>{y.put(Dr(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const s=oc(e),u=ua(e),m=Vs(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=oc(e),s=Vs(e),u=ua(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return Ke.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const m=new nu(s).on();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const s=Vs(e);let u=!0;const m=new Map;return Ke.forEach(this.cn(r),y=>this.ln(e,y).next(D=>{u&&(u=!!D),m.set(y,D)})).next(()=>{if(u){let y=ar();const D=[];return Ke.forEach(m,(N,W)=>{var Bn;be("IndexedDbIndexManager",`Using index ${Bn=N,`id=${Bn.indexId}|cg=${Bn.collectionGroup}|f=${Bn.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${fo(r)}`);const re=function(Bn,xr){const Mi=Pn(xr);if(void 0===Mi)return null;for(const ei of ra(Bn,Mi.fieldPath))switch(ei.op){case"array-contains-any":return ei.value.arrayValue.values||[];case"array-contains":return[ei.value]}return null}(W,N),ge=function(Bn,xr){const Mi=new Map;for(const ei of Tn(xr))for(const tt of ra(Bn,ei.fieldPath))switch(tt.op){case"==":case"in":Mi.set(ei.fieldPath.canonicalString(),tt.value);break;case"not-in":case"!=":return Mi.set(ei.fieldPath.canonicalString(),tt.value),Array.from(Mi.values())}return null}(W,N),Ue=function(Bn,xr){const Mi=[];let ei=!0;for(const tt of Tn(xr)){const ke=0===tt.kind?$i(Bn,tt.fieldPath,Bn.startAt):Ps(Bn,tt.fieldPath,Bn.startAt);Mi.push(ke.value),ei&&(ei=ke.inclusive)}return new ye(Mi,ei)}(W,N),ut=function(Bn,xr){const Mi=[];let ei=!0;for(const tt of Tn(xr)){const ke=0===tt.kind?Ps(Bn,tt.fieldPath,Bn.endAt):$i(Bn,tt.fieldPath,Bn.endAt);Mi.push(ke.value),ei&&(ei=ke.inclusive)}return new ye(Mi,ei)}(W,N),Ht=this.hn(N,W,Ue),sn=this.hn(N,W,ut),Xt=this.Pn(N,W,ge),Vn=this.In(N.indexId,re,Ht,Ue.inclusive,sn,ut.inclusive,Xt);return Ke.forEach(Vn,Jn=>s.G(Jn,r.limit).next(Bn=>{Bn.forEach(xr=>{const Mi=Ut.fromSegments(xr.documentKey);y.has(Mi)||(y=y.add(Mi),D.push(Mi))})}))}).next(()=>D)}return Ke.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:ic(gn.create(e.filters,"and")).map(s=>ma(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,m,y,D){const N=(null!=r?r.length:1)*Math.max(s.length,m.length),W=N/(null!=r?r.length:1),re=[];for(let ge=0;ge<N;++ge){const Ue=r?this.Tn(r[ge/W]):Gc,ut=this.En(e,Ue,s[ge%W],u),Ht=this.dn(e,Ue,m[ge%W],y),sn=D.map(Xt=>this.En(e,Ue,Xt,!0));re.push(...this.createRange(ut,Ht,sn))}return re}En(e,r,s,u){const m=new ms(e,Ut.empty(),r,s);return u?m:m.Jt()}dn(e,r,s,u){const m=new ms(e,Ut.empty(),r,s);return u?m.Jt():m}ln(e,r){const s=new nu(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(m=>{let y=null;for(const D of m)s.tn(D)&&(!y||D.fields.length>y.fields.length)&&(y=D);return y})}getIndexType(e,r){let s=2;const u=this.cn(r);return Ke.forEach(u,m=>this.ln(e,m).next(y=>{y?0!==s&&y.fields.length<function(N){let W=new Vr(Wn.comparator),re=!1;for(const ge of N.filters)for(const Ue of ge.getFlattenedFilters())Ue.field.isKeyField()||("array-contains"===Ue.op||"array-contains-any"===Ue.op?re=!0:W=W.add(Ue.field));for(const ge of N.orderBy)ge.field.isKeyField()||(W=W.add(ge.field));return W.size+(re?1:0)}(m)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new Ts;for(const u of Tn(e)){const m=r.data.field(u.fieldPath);if(null==m)return null;const y=s.Ht(u.kind);Ea.bt.Pt(m,y)}return s.Wt()}Tn(e){const r=new Ts;return Ea.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Ts;return Ea.bt.Pt(Zt(this.databaseId,r),s.Ht(function(m){const y=Tn(m);return 0===y.length?0:y[y.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new Ts);let m=0;for(const y of Tn(e)){const D=s[m++];for(const N of u)if(this.Vn(r,y.fieldPath)&&lr(D))u=this.mn(u,y,D);else{const W=N.Ht(y.kind);Ea.bt.Pt(D,W)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],m=[];for(const y of s.arrayValue.values||[])for(const D of u){const N=new Ts;N.seed(D.Wt()),Ea.bt.Pt(y,N.Ht(r.kind)),m.push(N)}return m}Vn(e,r){return!!e.filters.find(s=>s instanceof Rt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=oc(e),u=ua(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(m=>{const y=[];return Ke.forEach(m,D=>u.get([D.indexId,this.uid]).next(N=>{y.push(function(re,ge){const Ue=ge?new Hn(ge.sequenceNumber,new ln(ne(ge.readTime),new Ut(un(ge.documentKey)),ge.largestBatchId)):Hn.empty(),ut=re.fields.map(([Ht,sn])=>new br(Wn.fromServerFormat(Ht),sn));return new _n(re.indexId,re.collectionGroup,ut,Ue)}(D,N))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const m=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Gt(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=oc(e),m=ua(e);return this.gn(e).next(y=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>Ke.forEach(D,N=>m.put(Dr(N.indexId,this.uid,y,s)))))}updateIndexEntries(e,r){const s=new Map;return Ke.forEach(r,(u,m)=>{const y=s.get(u.collectionGroup);return(y?Ke.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(s.set(u.collectionGroup,D),Ke.forEach(D,N=>this.pn(e,u,N).next(W=>{const re=this.yn(m,N);return W.isEqual(re)?Ke.resolve():this.wn(e,m,N,W,re)}))))})}Sn(e,r,s,u){return Vs(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return Vs(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=Vs(e);let m=new Vr(Zo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(y,D)=>{m=m.add(new ms(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>m)}yn(e,r){let s=new Vr(Zo);const u=this.An(r,e);if(null==u)return s;const m=Pn(r);if(null!=m){const y=e.data.field(m.fieldPath);if(lr(y))for(const D of y.arrayValue.values||[])s=s.add(new ms(r.indexId,e.key,this.Tn(D),u))}else s=s.add(new ms(r.indexId,e.key,Gc,u));return s}wn(e,r,s,u,m){be("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(N,W,re,ge,Ue){const ut=N.getIterator(),Ht=W.getIterator();let sn=co(ut),Xt=co(Ht);for(;sn||Xt;){let Vn=!1,Jn=!1;if(sn&&Xt){const Bn=re(sn,Xt);Bn<0?Jn=!0:Bn>0&&(Vn=!0)}else null!=sn?Jn=!0:Vn=!0;Vn?(ge(Xt),Xt=co(Ht)):Jn?(Ue(sn),sn=co(ut)):(sn=co(ut),Xt=co(Ht))}}(u,m,Zo,D=>{y.push(this.Sn(e,r,s,D))},D=>{y.push(this.bn(e,r,s,D))}),Ke.waitFor(y)}gn(e){let r=1;return ua(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,m)=>{m.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((y,D)=>Zo(y,D)).filter((y,D,N)=>!D||0!==Zo(y,N[D-1]));const u=[];u.push(e);for(const y of s){const D=Zo(y,e),N=Zo(y,r);if(0===D)u[0]=e.Jt();else if(D>0&&N<0)u.push(y),u.push(y.Jt());else if(N>0)break}u.push(r);const m=[];for(let y=0;y<u.length;y+=2){if(this.Dn(u[y],u[y+1]))return[];m.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,Gc,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,Gc,[]]))}return m}Dn(e,r){return Zo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(yp)}getMinOffset(e,r){return Ke.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||Pt())).next(yp)}}function Jh(l){return Ci(l,"collectionParents")}function Vs(l){return Ci(l,"indexEntries")}function oc(l){return Ci(l,"indexConfiguration")}function ua(l){return Ci(l,"indexState")}function yp(l){Bt(0!==l.length);let e=l[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;ri(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new ln(e.readTime,e.documentKey,r)}const ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zh(l,e,r){const s=l.store("mutations"),u=l.store("documentMutations"),m=[],y=IDBKeyRange.only(r.batchId);let D=0;const N=s.J({range:y},(re,ge,Ue)=>(D++,Ue.delete()));m.push(N.next(()=>{Bt(1===D)}));const W=[];for(const re of r.mutations){const ge=hi(e,re.key.path,r.batchId);m.push(u.delete(ge)),W.push(re.key)}return Ke.waitFor(m).next(()=>W)}function es(l){if(!l)return 0;let e;if(l.document)e=l.document;else if(l.unknownDocument)e=l.unknownDocument;else{if(!l.noDocument)throw Pt();e=l.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Yu{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){Bt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Yu(m,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return as(e).J({index:"userMutationsIndex",range:s},(u,m,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const m=ka(e),y=as(e);return y.add({}).next(D=>{Bt("number"==typeof D);const N=new Ri(D,r,s,u),W=function(ut,Ht,sn){const Xt=sn.baseMutations.map(Jn=>Qo(ut.ct,Jn)),Vn=sn.mutations.map(Jn=>Qo(ut.ct,Jn));return{userId:Ht,batchId:sn.batchId,localWriteTimeMs:sn.localWriteTime.toMillis(),baseMutations:Xt,mutations:Vn}}(this.serializer,this.userId,N),re=[];let ge=new Vr((Ue,ut)=>Gt(Ue.canonicalString(),ut.canonicalString()));for(const Ue of u){const ut=hi(this.userId,Ue.key.path,D);ge=ge.add(Ue.key.path.popLast()),re.push(y.put(W)),re.push(m.put(ut,Er))}return ge.forEach(Ue=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ue))}),e.addOnCommittedListener(()=>{this.Cn[D]=N.keys()}),Ke.waitFor(re).next(()=>N)})}lookupMutationBatch(e,r){return as(e).get(r).next(s=>s?(Bt(s.userId===this.userId),Ee(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?Ke.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return as(e).J({index:"userMutationsIndex",range:u},(y,D,N)=>{D.userId===this.userId&&(Bt(D.batchId>=s),m=Ee(this.serializer,D)),N.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return as(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,m,y)=>{s=m.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return as(e).U("userMutationsIndex",r).next(s=>s.map(u=>Ee(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=An(this.userId,r.path),u=IDBKeyRange.lowerBound(s),m=[];return ka(e).J({range:u},(y,D,N)=>{const[W,re,ge]=y,Ue=un(re);if(W===this.userId&&r.path.isEqual(Ue))return as(e).get(ge).next(ut=>{if(!ut)throw Pt();Bt(ut.userId===this.userId),m.push(Ee(this.serializer,ut))});N.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Vr(Gt);const u=[];return r.forEach(m=>{const y=An(this.userId,m.path),D=IDBKeyRange.lowerBound(y),N=ka(e).J({range:D},(W,re,ge)=>{const[Ue,ut,Ht]=W,sn=un(ut);Ue===this.userId&&m.path.isEqual(sn)?s=s.add(Ht):ge.done()});u.push(N)}),Ke.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,m=An(this.userId,s),y=IDBKeyRange.lowerBound(m);let D=new Vr(Gt);return ka(e).J({range:y},(N,W,re)=>{const[ge,Ue,ut]=N,Ht=un(Ue);ge===this.userId&&s.isPrefixOf(Ht)?Ht.length===u&&(D=D.add(ut)):re.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],u=[];return r.forEach(m=>{u.push(as(e).get(m).next(y=>{if(null===y)throw Pt();Bt(y.userId===this.userId),s.push(Ee(this.serializer,y))}))}),Ke.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Zh(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Ke.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ke.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return ka(e).J({range:s},(m,y,D)=>{if(m[0]===this.userId){const N=un(m[1]);u.push(N)}else D.done()}).next(()=>{Bt(0===u.length)})})}containsKey(e,r){return su(e,this.userId,r)}xn(e){return Dl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function su(l,e,r){const s=An(e,r.path),u=s[1],m=IDBKeyRange.lowerBound(s);let y=!1;return ka(l).J({range:m,H:!0},(D,N,W)=>{const[re,ge,Ue]=D;re===e&&ge===u&&(y=!0),W.done()}).next(()=>y)}function as(l){return Ci(l,"mutations")}function ka(l){return Ci(l,"documentMutations")}function Dl(l){return Ci(l,"mutationQueues")}class Ls{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ls(0)}static Ln(){return new Ls(-1)}}class ef{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Ls(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Vt.fromTimestamp(new Wt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>sc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Bt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const m=[];return sc(e).J((y,D)=>{const N=pt(D);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(u++,m.push(this.removeTargetData(e,N)))}).next(()=>Ke.waitFor(m)).next(()=>u)}forEachTarget(e,r){return sc(e).J((s,u)=>{const m=pt(u);r(m)})}Bn(e){return Xu(e).get("targetGlobalKey").next(r=>(Bt(null!==r),r))}kn(e,r){return Xu(e).put("targetGlobalKey",r)}qn(e,r){return sc(e).put(dt(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=fo(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return sc(e).J({range:u,index:"queryTargetsIndex"},(y,D,N)=>{const W=pt(D);rs(r,W.target)&&(m=W,N.done())}).next(()=>m)}addMatchingKeys(e,r,s){const u=[],m=Fa(e);return r.forEach(y=>{const D=Ot(y.path);u.push(m.put({targetId:s,path:D})),u.push(this.referenceDelegate.addReference(e,s,y))}),Ke.waitFor(u)}removeMatchingKeys(e,r,s){const u=Fa(e);return Ke.forEach(r,m=>{const y=Ot(m.path);return Ke.waitFor([u.delete([s,y]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,r){const s=Fa(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Fa(e);let m=ar();return u.J({range:s,H:!0},(y,D,N)=>{const W=un(y[1]),re=new Ut(W);m=m.add(re)}).next(()=>m)}containsKey(e,r){const s=Ot(r.path),u=IDBKeyRange.bound([s],[$n(s)],!1,!0);let m=0;return Fa(e).J({index:"documentTargetsIndex",H:!0,range:u},([y,D],N,W)=>{0!==y&&(m++,W.done())}).next(()=>m>0)}ot(e,r){return sc(e).get(r).next(s=>s?pt(s):null)}}function sc(l){return Ci(l,"targets")}function Xu(l){return Ci(l,"targetGlobal")}function Fa(l){return Ci(l,"targetDocuments")}function Gd([l,e],[r,s]){const u=Gt(l,r);return 0===u?Gt(e,s):u}class zd{constructor(e){this.Kn=e,this.buffer=new Vr(Gd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Gd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class zc{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Mn(s)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Nn(s)}yield r.zn(3e5)}))}}class Zs{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Ke.resolve(F.oe);const s=new zd(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(ou)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ou):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,m,y,D,N,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),u=this.params.maximumSequenceNumbersToCollect):u=ge,y=Date.now(),this.nthSequenceNumber(e,u))).next(ge=>(s=ge,D=Date.now(),this.removeTargets(e,s,r))).next(ge=>(m=ge,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(W=Date.now(),wt()<=Ae.$b.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-re}ms\n\tDetermined least recently used ${u} in `+(D-y)+`ms\n\tRemoved ${m} targets in `+(N-D)+`ms\n\tRemoved ${ge} documents in `+(W-N)+`ms\nTotal Duration: ${W-re}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:ge})))}}class tf{constructor(e,r){this.db=e,this.garbageCollector=function Wc(l,e){return new Zs(l,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return au(e,s)}removeReference(e,r,s){return au(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return au(e,r)}er(e,r){return function(u,m){let y=!1;return Dl(u).Y(D=>su(u,D,m).next(N=>(N&&(y=!0),Ke.resolve(!N)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.Xn(e,(y,D)=>{if(D<=r){const N=this.er(e,y).next(W=>{if(!W)return m++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Vt.min()),Fa(e).delete([0,Ot(y.path)])))});u.push(N)}}).next(()=>Ke.waitFor(u)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return au(e,r)}Xn(e,r){const s=Fa(e);let u,m=F.oe;return s.J({index:"documentTargetsIndex"},([y,D],{path:N,sequenceNumber:W})=>{0===y?(m!==F.oe&&r(new Ut(un(u)),m),m=W,u=N):m=F.oe}).next(()=>{m!==F.oe&&r(new Ut(un(u)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function au(l,e){return Fa(l).put((u=l.currentSequenceNumber,{targetId:0,path:Ot(e.path),sequenceNumber:u}));var u}class ac{constructor(){this.changes=new So(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,z.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Ke.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ca(e).put(s)}removeEntry(e,r,s){return Ca(e).delete(function(m,y){const D=m.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],M(y),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=z.newInvalidDocument(r);return Ca(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qc(r))},(u,m)=>{s=this.nr(r,m)}).next(()=>s)}rr(e,r){let s={size:0,document:z.newInvalidDocument(r)};return Ca(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qc(r))},(u,m)=>{s={document:this.nr(r,m),size:es(m)}}).next(()=>s)}getEntries(e,r){let s=ai();return this.ir(e,r,(u,m)=>{const y=this.nr(u,m);s=s.insert(u,y)}).next(()=>s)}sr(e,r){let s=ai(),u=new mr(Ut.comparator);return this.ir(e,r,(m,y)=>{const D=this.nr(m,y);s=s.insert(m,D),u=u.insert(m,es(y))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return Ke.resolve();let u=new Vr(xl);r.forEach(N=>u=u.add(N));const m=IDBKeyRange.bound(qc(u.first()),qc(u.last())),y=u.getIterator();let D=y.getNext();return Ca(e).J({index:"documentKeyIndex",range:m},(N,W,re)=>{const ge=Ut.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;D&&xl(D,ge)<0;)s(D,null),D=y.getNext();D&&D.isEqual(ge)&&(s(D,W),D=y.hasNext()?y.getNext():null),D?re.$(qc(D)):re.done()}).next(()=>{for(;D;)s(D,null),D=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,m){const y=r.path,D=[y.popLast().toArray(),y.lastSegment(),M(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).U(IDBKeyRange.bound(D,N,!0)).next(W=>{m?.incrementDocumentReadCount(W.length);let re=ai();for(const ge of W){const Ue=this.nr(Ut.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Ue.isFoundDocument()&&(oo(r,Ue)||u.has(Ue.key))&&(re=re.insert(Ue.key,Ue))}return re})}getAllFromCollectionGroup(e,r,s,u){let m=ai();const y=Yc(r,s),D=Yc(r,ln.max());return Ca(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,D,!0)},(N,W,re)=>{const ge=this.nr(Ut.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(ge.key,ge),m.size===u&&re.done()}).next(()=>m)}newChangeBuffer(e){return new Wd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Kc(e).get("remoteDocumentGlobalKey").next(r=>(Bt(!!r),r))}tr(e,r){return Kc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function R(l,e){let r;if(e.document)r=Do(l.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),u=ne(e.noDocument.readTime);r=z.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const s=Ut.fromSegments(e.unknownDocument.path),u=ne(e.unknownDocument.version);r=z.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const m=new Wt(u[0],u[1]);return Vt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Vt.min()))return s}return z.newInvalidDocument(e)}}function Wo(l){return new Ep(l)}class Wd extends ac{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new So(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Vr((m,y)=>Gt(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const D=this.ur.get(m);if(r.push(this.ar.removeEntry(e,m,D.readTime)),y.isValidDocument()){const N=I(this.ar.serializer,y);u=u.add(m.path.popLast());const W=es(N);s+=W-D.size,r.push(this.ar.addEntry(e,m,N))}else if(s-=D.size,this.trackRemovals){const N=I(this.ar.serializer,y.convertToNoDocument(Vt.min()));r.push(this.ar.addEntry(e,m,N))}}),u.forEach(m=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.ar.updateMetadata(e,s)),Ke.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((m,y)=>{this.ur.set(m,{size:y,readTime:s.get(m).readTime})}),s))}}function Kc(l){return Ci(l,"remoteDocumentGlobal")}function Ca(l){return Ci(l,"remoteDocumentsV14")}function qc(l){const e=l.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yc(l,e){const r=e.documentKey.path.toArray();return[l,M(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function xl(l,e){const r=l.path.toArray(),s=e.path.toArray();let u=0;for(let m=0;m<r.length-2&&m<s.length-2;++m)if(u=Gt(r[m],s[m]),u)return u;return u=Gt(r.length,s.length),u||(u=Gt(r[r.length-2],s[s.length-2]),u||Gt(r[r.length-1],s[s.length-1]))}class Sl{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class ws{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&we(s.mutation,u,Bi.empty(),Wt.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,ar()).next(()=>s))}getLocalViewOfDocuments(e,r,s=ar()){const u=wo();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(m=>{let y=zi();return m.forEach((D,N)=>{y=y.insert(D,N.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const s=wo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,ar()))}populateOverlays(e,r,s){const u=[];return s.forEach(m=>{r.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((y,D)=>{r.set(y,D)})})}computeViews(e,r,s,u){let m=ai();const y=os(),D=os();return r.forEach((N,W)=>{const re=s.get(W.key);u.has(W.key)&&(void 0===re||re.mutation instanceof Or)?m=m.insert(W.key,W):void 0!==re?(y.set(W.key,re.mutation.getFieldMask()),we(re.mutation,W,re.mutation.getFieldMask(),Wt.now())):y.set(W.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,m).next(N=>(N.forEach((W,re)=>y.set(W,re)),r.forEach((W,re)=>{var ge;return D.set(W,new Sl(re,null!==(ge=y.get(W))&&void 0!==ge?ge:null))}),D))}recalculateAndSaveOverlays(e,r){const s=os();let u=new mr((y,D)=>y-D),m=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const D of y)D.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let re=s.get(N)||Bi.empty();re=D.applyToLocalView(W,re),s.set(N,re);const ge=(u.get(D.batchId)||ar()).add(N);u=u.insert(D.batchId,ge)})}).next(()=>{const y=[],D=u.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),W=N.key,re=N.value,ge=Ms();re.forEach(Ue=>{if(!m.has(Ue)){const ut=U(r.get(Ue),s.get(Ue));null!==ut&&ge.set(Ue,ut),m=m.add(Ue)}}),y.push(this.documentOverlayCache.saveOverlays(e,W,ge))}return Ke.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Ut.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Aa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var y}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(m=>{const y=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-m.size):Ke.resolve(wo());let D=-1,N=m;return y.next(W=>Ke.forEach(W,(re,ge)=>(D<ge.largestBatchId&&(D=ge.largestBatchId),m.get(re)?Ke.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ue=>{N=N.insert(re,Ue)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,N,W,ar())).next(re=>({batchId:D,changes:kc(re)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(s=>{let u=zi();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const m=r.collectionGroup;let y=zi();return this.indexManager.getCollectionParents(e,m).next(D=>Ke.forEach(D,N=>{const W=(ge=r,Ue=N.child(m),new Rs(Ue,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Ue;return this.getDocumentsMatchingCollectionQuery(e,W,s,u).next(re=>{re.forEach((ge,Ue)=>{y=y.insert(ge,Ue)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,s,u){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(y=>(m=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,u))).next(y=>{m.forEach((N,W)=>{const re=W.getKey();null===y.get(re)&&(y=y.insert(re,z.newInvalidDocument(re)))});let D=zi();return y.forEach((N,W)=>{const re=m.get(N);void 0!==re&&we(re.mutation,W,Bi.empty(),Wt.now()),oo(r,W)&&(D=D.insert(N,W))}),D})}}class cc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ke.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:eo(u.createTime)}),Ke.resolve();var u}getNamedQuery(e,r){return Ke.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:vn(u.bundledQuery),readTime:eo(u.readTime)}),Ke.resolve();var u}}class Kd{constructor(){this.overlays=new mr(Ut.comparator),this.hr=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}getOverlays(e,r){const s=wo();return Ke.forEach(r,u=>this.getOverlay(e,u).next(m=>{null!==m&&s.set(u,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,m)=>{this.ht(e,r,m)}),Ke.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.hr.delete(s)),Ke.resolve()}getOverlaysForCollection(e,r,s){const u=wo(),m=r.length+1,y=new Ut(r.child("")),D=this.overlays.getIteratorFrom(y);for(;D.hasNext();){const N=D.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===m&&N.largestBatchId>s&&u.set(N.getKey(),N)}return Ke.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let m=new mr((W,re)=>W-re);const y=this.overlays.getIterator();for(;y.hasNext();){const W=y.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let re=m.get(W.largestBatchId);null===re&&(re=wo(),m=m.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const D=wo(),N=m.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,re)=>D.set(W,re)),!(D.size()>=u)););return Ke.resolve(D)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const y=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new $o(r,s));let m=this.hr.get(r);void 0===m&&(m=ar(),this.hr.set(r,m)),this.hr.set(r,m.add(s.key))}}class lc{constructor(){this.Pr=new Vr(so.Ir),this.Tr=new Vr(so.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new so(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new so(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ut(new fn([])),s=new so(r,e),u=new so(r,e+1),m=[];return this.Tr.forEachInRange([s,u],y=>{this.Ar(y),m.push(y.key)}),m}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ut(new fn([])),s=new so(r,e),u=new so(r,e+1);let m=ar();return this.Tr.forEachInRange([s,u],y=>{m=m.add(y.key)}),m}containsKey(e){const r=new so(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class so{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ut.comparator(e.key,r.key)||Gt(e.pr,r.pr)}static Er(e,r){return Gt(e.pr,r.pr)||Ut.comparator(e.key,r.key)}}class Cp{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Vr(so.Ir)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const m=this.yr;this.yr++;const y=new Ri(m,r,s,u);this.mutationQueue.push(y);for(const D of u)this.wr=this.wr.add(new so(D.key,m)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Ke.resolve(y)}lookupMutationBatch(e,r){return Ke.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),m=u<0?0:u;return Ke.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new so(r,0),u=new so(r,Number.POSITIVE_INFINITY),m=[];return this.wr.forEachInRange([s,u],y=>{const D=this.Sr(y.pr);m.push(D)}),Ke.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Vr(Gt);return r.forEach(u=>{const m=new so(u,0),y=new so(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([m,y],D=>{s=s.add(D.pr)})}),Ke.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let m=s;Ut.isDocumentKey(m)||(m=m.child(""));const y=new so(new Ut(m),0);let D=new Vr(Gt);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===u&&(D=D.add(N.pr)),!0)},y),Ke.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Bt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Ke.forEach(r.mutations,u=>{const m=new so(u.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new so(r,0),u=this.wr.firstAfterOrEqual(s);return Ke.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Ke.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class bp{constructor(e){this.vr=e,this.docs=new mr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),m=u?u.size:0,y=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Ke.resolve(s?s.document.mutableCopy():z.newInvalidDocument(r))}getEntries(e,r){let s=ai();return r.forEach(u=>{const m=this.docs.get(u);s=s.insert(u,m?m.document.mutableCopy():z.newInvalidDocument(u))}),Ke.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let m=ai();const y=r.path,D=new Ut(y.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:W,value:{document:re}}=N.getNext();if(!y.isPrefixOf(W.path))break;W.path.length>y.length+1||ri(Ki(re),s)<=0||(u.has(re.key)||oo(r,re))&&(m=m.insert(re.key,re.mutableCopy()))}return Ke.resolve(m)}getAllFromCollectionGroup(e,r,s,u){Pt()}Fr(e,r){return Ke.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new nf(this)}getSize(e){return Ke.resolve(this.size)}}class nf extends ac{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),Ke.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class $g{constructor(e){this.persistence=e,this.Mr=new So(r=>fo(r),rs),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lc,this.targetCount=0,this.Lr=Ls.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Ke.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Ls(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.qn(r),Ke.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,s){let u=0;const m=[];return this.Mr.forEach((y,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(y),m.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Ke.waitFor(m).next(()=>u)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Ke.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Ke.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,m=[];return u&&r.forEach(y=>{m.push(u.markPotentiallyOrphaned(e,y))}),Ke.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Ke.resolve(s)}containsKey(e,r){return Ke.resolve(this.Nr.containsKey(r))}}class rf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new $g(this),this.indexManager=new Bg,this.remoteDocumentCache=new bp(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new cc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Cp(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const u=new Ip(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(m=>this.referenceDelegate.Wr(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Gr(e,r){return Ke.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Ip extends gr{constructor(e){super(),this.currentSequenceNumber=e}}class Qu{constructor(e){this.persistence=e,this.zr=new lc,this.jr=null}static Hr(e){return new Qu(e)}get Jr(){if(this.jr)return this.jr;throw Pt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Ke.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(m=>this.Jr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Jr,s=>{const u=Ut.fromPath(s);return this.Yr(e,u).next(m=>{m||r.removeEntry(u,Vt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ke.or([()=>Ke.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Pl{constructor(e){this.serializer=e}O(e,r,s,u){const m=new mt("createOrUpgrade",r);var N;s<1&&u>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0}),N.createObjectStore("documentMutations"),Qc(e),function(N){N.createObjectStore("remoteDocuments")}(e));let y=Ke.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Qc(e)),y=y.next(()=>function(N){const W=N.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(m))),s<4&&u>=4&&(0!==s&&(y=y.next(()=>function(N,W){return W.store("mutations").U().next(re=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0});const ge=W.store("mutations"),Ue=re.map(ut=>ge.put(ut));return Ke.waitFor(Ue)})}(e,m))),y=y.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(y=y.next(()=>this.Xr(m))),s<6&&u>=6&&(y=y.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(m)))),s<7&&u>=7&&(y=y.next(()=>this.ti(m))),s<8&&u>=8&&(y=y.next(()=>this.ni(e,m))),s<9&&u>=9&&(y=y.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(y=y.next(()=>this.ri(m))),s<11&&u>=11&&(y=y.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(y=y.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:On});W.createIndex("collectionPathOverlayIndex",kn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",qr,{unique:!1})}(e)})),s<13&&u>=13&&(y=y.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Oo});W.createIndex("documentKeyIndex",ii),W.createIndex("collectionGroupIndex",Li)}(e)).next(()=>this.ii(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(y=y.next(()=>this.si(e,m))),s<15&&u>=15&&(y=y.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:pe}).createIndex("sequenceNumberIndex",Et,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",Dn,{unique:!1})}(e))),s<16&&u>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),y}ei(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=es(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>Ke.forEach(u,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(D=>Ke.forEach(D,N=>{Bt(N.userId===m.userId);const W=Ee(this.serializer,N);return Zh(e,m.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return s.J((y,D)=>{const N=new fn(y),W=[0,Ot(N)];m.push(r.get(W).next(re=>re?Ke.resolve():r.put({targetId:0,path:Ot(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(m))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Te});const s=r.store("collectionParents"),u=new qu,m=y=>{if(u.add(y)){const D=y.lastSegment(),N=y.popLast();return s.put({collectionId:D,parent:Ot(N)})}};return r.store("remoteDocuments").J({H:!0},(y,D)=>{const N=new fn(y);return m(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,D,N],W)=>{const re=un(D);return m(re.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,u)=>{const m=pt(u),y=dt(this.serializer,m);return r.put(y)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((m,y)=>{const D=r.store("remoteDocumentsV14"),N=(ge=y,ge.document?new Ut(fn.fromString(ge.document.name).popFirst(5)):ge.noDocument?Ut.fromSegments(ge.noDocument.path):ge.unknownDocument?Ut.fromSegments(ge.unknownDocument.path):Pt()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var ge;u.push(D.put(W))}).next(()=>Ke.waitFor(u))}si(e,r){const s=r.store("mutations"),u=Wo(this.serializer),m=new rf(Qu.Hr,this.serializer.ct);return s.U().next(y=>{const D=new Map;return y.forEach(N=>{var W;let re=null!==(W=D.get(N.userId))&&void 0!==W?W:ar();Ee(this.serializer,N).keys().forEach(ge=>re=re.add(ge)),D.set(N.userId,re)}),Ke.forEach(D,(N,W)=>{const re=new ot(W),ge=ca.lt(this.serializer,re),Ue=m.getIndexManager(re),ut=Yu.lt(re,this.serializer,Ue,m.referenceDelegate);return new ws(u,ut,ge,Ue).recalculateAndSaveOverlaysForDocumentKeys(new ys(r,F.oe),N).next()})})}}function Qc(l){l.createObjectStore("targetDocuments",{keyPath:Lt}).createIndex("documentTargetsIndex",Ce,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pe,{unique:!0}),l.createObjectStore("targetGlobal")}const qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xo{constructor(e,r,s,u,m,y,D,N,W,re,ge=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=m,this.window=y,this.document=D,this._i=W,this.ai=re,this.ui=ge,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ue=>Promise.resolve(),!xo.D())throw new ue(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tf(this,u),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new ie(this.Ti,this.ui,new Pl(this.serializer)),this.Qr=new ef(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wo(this.serializer),this.$r=new ci,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===re&&Jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(Me.FAILED_PRECONDITION,qd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,a.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,a.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,a.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Mn(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return cu(e).get("owner").next(r=>Ke.resolve(this.Si(r)))}bi(e){return uc(e).delete(this.clientId)}Di(){var e=this;return(0,a.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Ci(s,"clientMetadata");return u.U().next(m=>{const y=e.vi(m,18e5),D=m.filter(N=>-1===y.indexOf(N));return Ke.forEach(D,N=>u.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ke.resolve(!0):cu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new ue(Me.FAILED_PRECONDITION,qd);return!1}}return!(!this.networkEnabled||!this.inForeground)||uc(e).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&be("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,a.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ys(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>uc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Yu.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ca.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){be("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",m=16===(N=this.ui)?Fi:15===N?vs:14===N?Rr:13===N?qo:12===N?ki:11===N?Fr:void Pt();var N;let y;return this.Ei.runTransaction(e,u,m,D=>(y=new ys(D,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(y).next(N=>!!N||this.pi(y)).next(N=>{if(!N)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ue(Me.FAILED_PRECONDITION,Yn);return s(y)}).next(N=>this.wi(y).next(()=>N)):this.ki(y).next(()=>s(y)))).then(D=>(y.raiseOnCommittedEvent(),D))}ki(e){return cu(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ue(Me.FAILED_PRECONDITION,qd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cu(e).put("owner",r)}static D(){return ie.D()}yi(e){const r=cu(e);return r.get("owner").next(s=>this.Si(s)?(be("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ke.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return be("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cu(l){return Ci(l,"owner")}function uc(l){return Ci(l,"clientMetadata")}function Yd(l,e){let r=l.projectId;return l.isDefaultDatabase||(r+="."+l.database),"firestore/"+e+"/"+r+"/"}class Po{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=ar(),u=ar();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new Po(e,r.fromCache,s,u)}}class dc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rl{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,he.nr)()?8:Ie((0,he.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const m={result:null};return this.ji(e,r).next(y=>{m.result=y}).next(()=>{if(!m.result)return this.Hi(e,r,u,s).next(y=>{m.result=y})}).next(()=>{if(m.result)return;const y=new dc;return this.Ji(e,r,y).next(D=>{if(m.result=D,this.Ui)return this.Yi(e,r,y,D.size)})}).next(()=>m.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(wt()<=Ae.$b.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",po(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ke.resolve()):(wt()<=Ae.$b.DEBUG&&be("QueryEngine","Query:",po(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(wt()<=Ae.$b.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",po(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Y(r))):Ke.resolve())}ji(e,r){if(ia(r))return Ke.resolve(null);let s=Y(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=yn(r,null,"F"),s=Y(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const y=ar(...m);return this.zi.getDocuments(e,y).next(D=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,D);return this.Xi(r,W,y,N.readTime)?this.ji(e,yn(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,u){return ia(r)||u.isEqual(Vt.min())?Ke.resolve(null):this.zi.getDocuments(e,s).next(m=>{const y=this.Zi(r,m);return this.Xi(r,y,s,u)?Ke.resolve(null):(wt()<=Ae.$b.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),po(r)),this.es(e,y,r,ni(u,-1)).next(D=>D))})}Zi(e,r){let s=new Vr(jo(e));return r.forEach((u,m)=>{oo(e,m)&&(s=s.add(m))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Ji(e,r,s){return wt()<=Ae.$b.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",po(r)),this.zi.getDocumentsMatchingQuery(e,r,ln.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(m=>(r.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Ju{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new mr(Gt),this.rs=new So(m=>fo(m),rs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ws(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Ml(l,e,r,s){return new Ju(l,e,r,s)}function sf(l,e){return af.apply(this,arguments)}function af(){return(af=(0,a.A)(function*(l,e){const r=ct(l);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(m=>(u=m,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const y=[],D=[];let N=ar();for(const W of u){y.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}for(const W of m){D.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:y,addedBatchIds:D}))})})})).apply(this,arguments)}function Tp(l){const e=ct(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Zu(l,e,r){let s=ar(),u=ar();return r.forEach(m=>s=s.add(m)),e.getEntries(l,s).next(m=>{let y=ai();return r.forEach((D,N)=>{const W=m.get(D);N.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(D)),N.isNoDocument()&&N.version.isEqual(Vt.min())?(e.removeEntry(D,N.readTime),y=y.insert(D,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),y=y.insert(D,N)):be("LocalStore","Ignoring outdated watch update for ",D,". Current version:",W.version," Watch version:",N.version)}),{cs:y,ls:u}})}function Ol(l,e){const r=ct(l);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lu(l,e){const r=ct(l);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(m=>m?(u=m,Ke.resolve(u)):r.Qr.allocateTargetId(s).next(y=>(u=new Qs(e,y,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Va(l,e,r){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.A)(function*(l,e,r){const s=ct(l),u=s.ns.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,y=>s.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Mn(y))throw y;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)})).apply(this,arguments)}function ed(l,e,r){const s=ct(l);let u=Vt.min(),m=ar();return s.persistence.runTransaction("Execute query","readwrite",y=>function(N,W,re){const ge=ct(N),Ue=ge.rs.get(re);return void 0!==Ue?Ke.resolve(ge.ns.get(Ue)):ge.Qr.getTargetData(W,re)}(s,y,Y(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(y,D.targetId).next(N=>{m=N})}).next(()=>s.ts.getDocumentsMatchingQuery(y,e,r?u:Vt.min(),r?m:ar())).next(D=>(Qd(s,is(e),D),{documents:D,hs:m})))}function js(l,e){const r=ct(l),s=ct(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,e).next(y=>y?y.target:null))}function Xd(l,e){const r=ct(l),s=r.ss.get(e)||Vt.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,ni(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Qd(r,e,u),u))}function Qd(l,e,r){let s=l.ss.get(e)||Vt.min();r.forEach((u,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),l.ss.set(e,s)}function hc(){return(hc=(0,a.A)(function*(l,e,r,s){const u=ct(l);let m=ar(),y=ai();for(const W of r){const re=e.Ps(W.metadata.name);W.document&&(m=m.add(re));const ge=e.Is(W);ge.setReadTime(e.Ts(W.metadata.readTime)),y=y.insert(re,ge)}const D=u.os.newChangeBuffer({trackRemovals:!0}),N=yield lu(u,(re=s,Y(Xr(fn.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>Zu(W,D,y).next(re=>(D.apply(W),re)).next(re=>u.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>u.Qr.addMatchingKeys(W,m,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,re.cs,re.ls)).next(()=>re.cs)))})).apply(this,arguments)}function td(l,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,a.A)(function*(l,e,r=ar()){const s=yield lu(l,Y(vn(e.bundledQuery))),u=ct(l);return u.persistence.runTransaction("Save named query","readwrite",m=>{const y=eo(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return u.$r.saveNamedQuery(m,e);const D=s.withResumeToken(Ui.EMPTY_BYTE_STRING,y);return u.ns=u.ns.insert(D.targetId,D),u.Qr.updateTargetData(m,D).next(()=>u.Qr.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>u.Qr.addMatchingKeys(m,r,s.targetId)).next(()=>u.$r.saveNamedQuery(m,e))})})).apply(this,arguments)}function fc(l,e){return`firestore_clients_${l}_${e}`}function Zd(l,e,r){let s=`firestore_mutations_${l}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function pc(l,e){return`firestore_targets_${l}_${e}`}class gc{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let m,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(m=new ue(u.error.code,u.error.message))),y?new gc(e,r,u.state,m):(Jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(u=new ue(s.error.code,s.error.message))),m?new Jc(e,s.state,u):(Jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,m=qs();for(let y=0;u&&y<s.activeTargetIds.length;++y)u=It(s.activeTargetIds[y]),m=m.add(s.activeTargetIds[y]);return u?new Nl(e,m):(Jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class kl{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new kl(r.clientId,r.onlineState):(Jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nd{constructor(){this.activeTargetIds=qs()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rd{constructor(e,r,s,u,m){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new mr(Gt),this.started=!1,this.ys=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ws=fc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new nd),this.bs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.A)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const m=e.getItem(fc(e.persistenceKey,u));if(m){const y=Nl.Es(u,m);y&&(e.ps=e.ps.insert(y.clientId,y))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(pc(this.persistenceKey,e));if(s){const u=Jc.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pc(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return be("SharedClientState","READ",e,r),r}setItem(e,r){be("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(be("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,a.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(y){let D=F.oe;if(null!=y)try{const N=JSON.parse(y);Bt("number"==typeof N),D=N}catch(N){Jt("SharedClientState","Failed to read sequence number from WebStorage",N)}return D}(s.newValue);u!==F.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(m=>r.syncEngine.Ys(m)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new gc(this.currentUser,e,r,s),m=Zd(this.persistenceKey,this.currentUser,e);this.setItem(m,u.ds())}Bs(e){const r=Zd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=pc(this.persistenceKey,e),m=new Jc(e,r,s);this.setItem(u,m.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Nl.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return gc.Es(new ot(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return Jc.Es(u,r)}xs(e){return kl.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,a.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),m=this.Ns(s),y=[],D=[];return m.forEach(N=>{u.has(N)||y.push(N)}),u.forEach(N=>{m.has(N)||D.push(N)}),this.syncEngine.eo(y,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=qs();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class uf{constructor(){this.no=new nd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new nd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zc{io(e){}shutdown(){}}class el{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let id=null;function eh(){return null===id?id=268435456+Math.round(2147483648*Math.random()):id++,"0x"+id.toString(16)}const b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${u}/databases/${m}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${m}`}get Do(){return!1}Co(r,s,u,m,y){const D=eh(),N=this.vo(r,s.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${D}:`,N,u);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,m,y),this.Mo(r,N,W,u).then(re=>(be("RestConnection",`Received RPC '${r}' ${D}: `,re),re),re=>{throw dn("RestConnection",`RPC '${r}' ${D} failed with error: `,re,"url: ",N,"request:",u),re})}xo(r,s,u,m,y,D){return this.Co(r,s,u,m,y)}Fo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,y)=>r[y]=m),u&&u.headers.forEach((m,y)=>r[y]=m)}vo(r,s){return`${this.wo}/v1/${s}:${b[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,u){const m=eh();return new Promise((y,D)=>{const N=new me;N.setWithCredentials(!0),N.listenOnce(bt.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Ct.NO_ERROR:const re=N.getResponseJson();be(_,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),y(re);break;case Ct.TIMEOUT:be(_,`RPC '${e}' ${m} timed out`),D(new ue(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Ct.HTTP_ERROR:const ge=N.getStatus();if(be(_,`RPC '${e}' ${m} failed with status:`,ge,"response text:",N.getResponseText()),ge>0){let Ue=N.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const ut=Ue?.error;if(ut&&ut.status&&ut.message){const Ht=function(Xt){const Vn=Xt.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(Vn)>=0?Vn:Me.UNKNOWN}(ut.status);D(new ue(Ht,ut.message))}else D(new ue(Me.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new ue(Me.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{be(_,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(u);be(_,`RPC '${e}' ${m} sending request:`,u),N.send(r,"POST",W,s,15)})}Oo(e,r,s){const u=eh(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=et(),D=cn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.xmlHttpFactory=new at({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const re=m.join("");be(_,`Creating RPC '${e}' stream ${u}: ${re}`,N);const ge=y.createWebChannel(re,N);let Ue=!1,ut=!1;const Ht=new p({lo:Xt=>{ut?be(_,`Not sending because RPC '${e}' stream ${u} is closed:`,Xt):(Ue||(be(_,`Opening RPC '${e}' stream ${u} transport.`),ge.open(),Ue=!0),be(_,`RPC '${e}' stream ${u} sending:`,Xt),ge.send(Xt))},ho:()=>ge.close()}),sn=(Xt,Vn,Jn)=>{Xt.listen(Vn,Bn=>{try{Jn(Bn)}catch(xr){setTimeout(()=>{throw xr},0)}})};return sn(ge,Xe.EventType.OPEN,()=>{ut||(be(_,`RPC '${e}' stream ${u} transport opened.`),Ht.mo())}),sn(ge,Xe.EventType.CLOSE,()=>{ut||(ut=!0,be(_,`RPC '${e}' stream ${u} transport closed`),Ht.po())}),sn(ge,Xe.EventType.ERROR,Xt=>{ut||(ut=!0,dn(_,`RPC '${e}' stream ${u} transport errored:`,Xt),Ht.po(new ue(Me.UNAVAILABLE,"The operation could not be completed")))}),sn(ge,Xe.EventType.MESSAGE,Xt=>{var Vn;if(!ut){const Jn=Xt.data[0];Bt(!!Jn);const xr=Jn.error||(null===(Vn=Jn[0])||void 0===Vn?void 0:Vn.error);if(xr){be(_,`RPC '${e}' stream ${u} received error:`,xr);const Mi=xr.status;let ei=function(ze){const nt=xi[ze];if(void 0!==nt)return Zl(nt)}(Mi),tt=xr.message;void 0===ei&&(ei=Me.INTERNAL,tt="Unknown error status: "+Mi+" with message "+xr.message),ut=!0,Ht.po(new ue(ei,tt)),ge.close()}else be(_,`RPC '${e}' stream ${u} received:`,Jn),Ht.yo(Jn)}}),sn(D,Mt.STAT_EVENT,Xt=>{Xt.stat===jt.PROXY?be(_,`RPC '${e}' stream ${u} detected buffering proxy`):Xt.stat===jt.NOPROXY&&be(_,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ht.fo()},0),Ht}}function K(){return typeof window<"u"?window:null}function se(){return typeof document<"u"?document:null}function $e(l){return new Hu(l,!0)}class gt{constructor(e,r,s=1e3,u=1.5,m=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=u,this.Bo=m,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,r-s);u>0&&be("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class zt{constructor(e,r,s,u,m,y,D,N){this.oi=e,this.Go=s,this.zo=u,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new gt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,a.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,a.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,a.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Me.RESOURCE_EXHAUSTED?(Jt(r.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Me.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===r&&this.u_(s,u)},s=>{e(()=>{const u=new ue(Me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var e=this;this.state=5,this.Yo.$o((0,a.A)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sn extends zt{constructor(e,r,s,u,m,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,y),this.serializer=m}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function aa(l,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Pt(),u=e.targetChange.targetIds||[],m=function(W,re){return W.useProto3Json?(Bt(void 0===re||"string"==typeof re),Ui.fromBase64String(re||"")):(Bt(void 0===re||re instanceof Buffer||re instanceof Uint8Array),Ui.fromUint8Array(re||new Uint8Array))}(l,e.targetChange.resumeToken),y=e.targetChange.cause,D=y&&function(W){const re=void 0===W.code?Me.UNKNOWN:Zl(W.code);return new ue(re,W.message||"")}(y);r=new Ji(s,u,m,D||null)}else if("documentChange"in e){const s=e.documentChange,u=hs(l,s.document.name),m=eo(s.document.updateTime),y=s.document.createTime?eo(s.document.createTime):Vt.min(),D=new vi({mapValue:{fields:s.document.fields}}),N=z.newFoundDocument(u,m,y,D);r=new yl(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,u=hs(l,s.document),m=s.readTime?eo(s.readTime):Vt.min(),y=z.newNoDocument(u,m);r=new yl([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,u=hs(l,s.document);r=new yl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Pt();{const s=e.filter,{count:u=0,unchangedNames:m}=s,y=new Ho(u,m);r=new Xo(s.targetId,y)}}var W;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Vt.min();const y=m.targetChange;return y.targetIds&&y.targetIds.length?Vt.min():y.readTime?eo(y.readTime):Vt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Dt(this.serializer),r.addTarget=function(m,y){let D;const N=y.target;if(D=Ks(N)?{documents:qn(m,N)}:{query:Za(m,N)._t},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){D.resumeToken=tu(m,y.resumeToken);const W=Ja(m,y.expectedCount);null!==W&&(D.expectedCount=W)}else if(y.snapshotVersion.compareTo(Vt.min())>0){D.readTime=Go(m,y.snapshotVersion.toTimestamp());const W=Ja(m,y.expectedCount);null!==W&&(D.expectedCount=W)}return D}(this.serializer,e);const s=function fs(l,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Dt(this.serializer),r.removeTarget=e,this.i_(r)}}class zn extends zt{constructor(e,r,s,u,m,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,y),this.serializer=m,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Oa(l,e){return l&&l.length>0?(Bt(void 0!==e),l.map(r=>function(u,m){let y=eo(u.updateTime?u.updateTime:m);return y.isEqual(Vt.min())&&(y=eo(m)),new vl(y,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=eo(e.commitTime);return this.listener.A_(s,r)}return Bt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Dt(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Qo(this.serializer,s))};this.i_(r)}}class zr extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new ue(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(e,Lc(r,s),u,m,y)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ue(Me.UNKNOWN,m.toString())})}xo(e,r,s,u,m){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,D])=>this.connection.xo(e,Lc(r,s),u,y,D,m)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new ue(Me.UNKNOWN,y.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Bs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Jt(r),this.y_=!1):be("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class mc{constructor(e,r,s,u,m){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=m,this.O_.io(D=>{s.enqueueAndForget((0,a.A)(function*(){var N;yc(y)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,a.A)(function*(re){const ge=ct(re);ge.M_.add(4),yield tl(ge),ge.N_.set("Unknown"),ge.M_.delete(4),yield _c(ge)}),function W(re){return N.apply(this,arguments)})(y))}))}),this.N_=new Bs(s,u)}}function _c(l){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.A)(function*(l){if(yc(l))for(const e of l.x_)yield e(!0)})).apply(this,arguments)}function tl(l){return th.apply(this,arguments)}function th(){return(th=(0,a.A)(function*(l){for(const e of l.x_)yield e(!1)})).apply(this,arguments)}function vc(l,e){const r=ct(l);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),nh(r)?ad(r):dd(r).Xo()&&od(r,e))}function nl(l,e){const r=ct(l),s=dd(r);r.F_.delete(e),s.Xo()&&sd(r,e),0===r.F_.size&&(s.Xo()?s.n_():yc(r)&&r.N_.set("Unknown"))}function od(l,e){if(l.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const r=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}dd(l).P_(e)}function sd(l,e){l.L_.xe(e),dd(l).I_(e)}function ad(l){l.L_=new Vc({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>l.F_.get(e)||null,tt:()=>l.datastore.serializer.databaseId}),dd(l).start(),l.N_.w_()}function nh(l){return yc(l)&&!dd(l).Zo()&&l.F_.size>0}function yc(l){return 0===ct(l).M_.size}function rl(l){l.L_=void 0}function cd(l){return df.apply(this,arguments)}function df(){return(df=(0,a.A)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function Vl(l){return hf.apply(this,arguments)}function hf(){return(hf=(0,a.A)(function*(l){l.F_.forEach((e,r)=>{od(l,e)})})).apply(this,arguments)}function rh(l,e){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.A)(function*(l,e){rl(l),nh(l)?(l.N_.D_(e),ad(l)):l.N_.set("Unknown")})).apply(this,arguments)}function wp(l,e,r){return ld.apply(this,arguments)}function ld(){return ld=(0,a.A)(function*(l,e,r){if(l.N_.set("Online"),e instanceof Ji&&2===e.state&&e.cause)try{yield(s=(0,a.A)(function*(m,y){const D=y.cause;for(const N of y.targetIds)m.F_.has(N)&&(yield m.remoteSyncer.rejectListen(N,D),m.F_.delete(N),m.L_.removeTarget(N))}),function u(m,y){return s.apply(this,arguments)})(l,e)}catch(s){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield du(l,s)}else if(e instanceof yl?l.L_.Ke(e):e instanceof Xo?l.L_.He(e):l.L_.We(e),!r.isEqual(Vt.min()))try{const s=yield Tp(l.localStore);r.compareTo(s)>=0&&(yield function(m,y){const D=m.L_.rt(y);return D.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const re=m.F_.get(W);re&&m.F_.set(W,re.withResumeToken(N.resumeToken,y))}}),D.targetMismatches.forEach((N,W)=>{const re=m.F_.get(N);if(!re)return;m.F_.set(N,re.withResumeToken(Ui.EMPTY_BYTE_STRING,re.snapshotVersion)),sd(m,N);const ge=new Qs(re.target,N,W,re.sequenceNumber);od(m,ge)}),m.remoteSyncer.applyRemoteEvent(D)}(l,r))}catch(s){be("RemoteStore","Failed to raise snapshot:",s),yield du(l,s)}var s}),ld.apply(this,arguments)}function du(l,e,r){return hu.apply(this,arguments)}function hu(){return(hu=(0,a.A)(function*(l,e,r){if(!Mn(e))throw e;l.M_.add(1),yield tl(l),l.N_.set("Offline"),r||(r=()=>Tp(l.localStore)),l.asyncQueue.enqueueRetryable((0,a.A)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield r(),l.M_.delete(1),yield _c(l)}))})).apply(this,arguments)}function Ap(l,e){return e().catch(r=>du(l,r,e))}function fu(l){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,a.A)(function*(l){const e=ct(l),r=il(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;xp(e);)try{const u=yield Ol(e.localStore,s);if(null===u){0===e.v_.length&&r.n_();break}s=u.batchId,Sp(e,u)}catch(u){yield du(e,u)}Hg(e)&&Gg(e)})).apply(this,arguments)}function xp(l){return yc(l)&&l.v_.length<10}function Sp(l,e){l.v_.push(e);const r=il(l);r.Xo()&&r.E_&&r.d_(e.mutations)}function Hg(l){return yc(l)&&!il(l).Zo()&&l.v_.length>0}function Gg(l){il(l).start()}function zg(l){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.A)(function*(l){il(l).V_()})).apply(this,arguments)}function r_(l){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,a.A)(function*(l){const e=il(l);for(const r of l.v_)e.d_(r.mutations)})).apply(this,arguments)}function ea(l,e,r){return oh.apply(this,arguments)}function oh(){return(oh=(0,a.A)(function*(l,e,r){const s=l.v_.shift(),u=Ao.from(s,e,r);yield Ap(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield fu(l)})).apply(this,arguments)}function Wg(l,e){return sh.apply(this,arguments)}function sh(){return sh=(0,a.A)(function*(l,e){var r;e&&il(l).E_&&(yield(r=(0,a.A)(function*(u,m){if(us(D=m.code)&&D!==Me.ABORTED){const y=u.v_.shift();il(u).t_(),yield Ap(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,m)),yield fu(u)}var D}),function s(u,m){return r.apply(this,arguments)})(l,e)),Hg(l)&&Gg(l)}),sh.apply(this,arguments)}function go(l,e){return ud.apply(this,arguments)}function ud(){return(ud=(0,a.A)(function*(l,e){const r=ct(l);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const s=yc(r);r.M_.add(3),yield tl(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield _c(r)})).apply(this,arguments)}function ah(l,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,a.A)(function*(l,e){const r=ct(l);e?(r.M_.delete(2),yield _c(r)):e||(r.M_.add(2),yield tl(r),r.N_.set("Unknown"))})).apply(this,arguments)}function dd(l){return l.B_||(l.B_=function(r,s,u){const m=ct(r);return m.f_(),new Sn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Po:cd.bind(null,l),To:Vl.bind(null,l),Ao:rh.bind(null,l),h_:wp.bind(null,l)}),l.x_.push(function(){var e=(0,a.A)(function*(r){r?(l.B_.t_(),nh(l)?ad(l):l.N_.set("Unknown")):(yield l.B_.stop(),rl(l))});return function(r){return e.apply(this,arguments)}}())),l.B_}function il(l){return l.k_||(l.k_=function(r,s,u){const m=ct(r);return m.f_(),new zn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,u)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:zg.bind(null,l),Ao:Wg.bind(null,l),R_:r_.bind(null,l),A_:ea.bind(null,l)}),l.x_.push(function(){var e=(0,a.A)(function*(r){r?(l.k_.t_(),yield fu(l)):(yield l.k_.stop(),l.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(r){return e.apply(this,arguments)}}())),l.k_}class Rp{constructor(e,r,s,u,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=m,this.deferred=new Fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,m){const y=Date.now()+s,D=new Rp(e,r,y,u,m);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(l,e){if(Jt("AsyncQueue",`${e}: ${l}`),Mn(l))return new ue(Me.UNAVAILABLE,`${e}: ${l}`);throw l}class hd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ut.comparator(r.key,s.key):(r,s)=>Ut.comparator(r.key,s.key),this.keyedMap=zi(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new hd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,m=s.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new hd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Mp{constructor(){this.q_=new mr(Ut.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Pt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class fd{constructor(e,r,s,u,m,y,D,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,u,m){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new fd(e,r,hd.emptySet(r),y,s,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class i_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Op{constructor(){this.queries=new So(e=>io(e),Gn),this.onlineState="Unknown",this.z_=new Set}}function ch(l,e){return lh.apply(this,arguments)}function lh(){return(lh=(0,a.A)(function*(l,e){const r=ct(l);let s=3;const u=e.query;let m=r.queries.get(u);m?!m.W_()&&e.G_()&&(s=2):(m=new i_,s=e.G_()?0:1);try{switch(s){case 0:m.K_=yield r.onListen(u,!0);break;case 1:m.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(y){const D=pu(y,`Initialization of query '${po(e.query)}' failed`);return void e.onError(D)}r.queries.set(u,m),m.U_.push(e),e.j_(r.onlineState),m.K_&&e.H_(m.K_)&&uh(r)})).apply(this,arguments)}function gu(l,e){return pd.apply(this,arguments)}function pd(){return(pd=(0,a.A)(function*(l,e){const r=ct(l),s=e.query;let u=3;const m=r.queries.get(s);if(m){const y=m.U_.indexOf(e);y>=0&&(m.U_.splice(y,1),0===m.U_.length?u=e.G_()?0:1:!m.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function o_(l,e){const r=ct(l);let s=!1;for(const u of e){const y=r.queries.get(u.query);if(y){for(const D of y.U_)D.H_(u)&&(s=!0);y.K_=u}}s&&uh(r)}function Np(l,e,r){const s=ct(l),u=s.queries.get(e);if(u)for(const m of u.U_)m.onError(r);s.queries.delete(e)}function uh(l){l.z_.forEach(e=>{e.next()})}var Ll,ol;(ol=Ll||(Ll={})).J_="default",ol.Cache="cache";class gd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new fd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ll.Cache}}class Kg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class pf{constructor(e){this.serializer=e}Ps(e){return hs(this.serializer,e)}Is(e){return e.metadata.exists?Do(this.serializer,e.document,!1):z.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return eo(e)}}class gf{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=fn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new pf(this.serializer);for(const u of e)if(u.metadata.queries){const m=s.Ps(u.metadata.name);for(const y of u.metadata.queries){const D=(r.get(y)||ar()).add(m);r.set(y,D)}}return r}complete(){var e=this;return(0,a.A)(function*(){const r=yield function Jd(l,e,r,s){return hc.apply(this,arguments)}(e.localStore,new pf(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield td(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function qg(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Yg{constructor(e){this.key=e}}class Xg{constructor(e){this.key=e}}class Qg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ar(),this.mutatedKeys=ar(),this.Ia=jo(e),this.Ta=new hd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Mp,u=r?r.Ta:this.Ta;let m=r?r.mutatedKeys:this.mutatedKeys,y=u,D=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,ge)=>{const Ue=u.get(re),ut=oo(this.query,ge)?ge:null,Ht=!!Ue&&this.mutatedKeys.has(Ue.key),sn=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let Xt=!1;Ue&&ut?Ue.data.isEqual(ut.data)?Ht!==sn&&(s.track({type:3,doc:ut}),Xt=!0):this.Ra(Ue,ut)||(s.track({type:2,doc:ut}),Xt=!0,(N&&this.Ia(ut,N)>0||W&&this.Ia(ut,W)<0)&&(D=!0)):!Ue&&ut?(s.track({type:0,doc:ut}),Xt=!0):Ue&&!ut&&(s.track({type:1,doc:Ue}),Xt=!0,(N||W)&&(D=!0)),Xt&&(ut?(y=y.add(ut),m=sn?m.add(re):m.delete(re)):(y=y.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const re="F"===this.query.limitType?y.last():y.first();y=y.delete(re.key),m=m.delete(re.key),s.track({type:1,doc:re})}return{Ta:y,Aa:s,Xi:D,mutatedKeys:m}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const m=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const y=e.Aa.Q_();y.sort((re,ge)=>function(ut,Ht){const sn=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return sn(ut)-sn(Ht)}(re.type,ge.type)||this.Ia(re.doc,ge.doc)),this.Va(s),u=null!=u&&u;const D=r&&!u?this.ma():[],N=0===this.Pa.size&&this.current&&!u?1:0,W=N!==this.ha;return this.ha=N,0!==y.length||W?{snapshot:new fd(this.query,e.Ta,m,y,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Mp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ar(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Xg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Yg(s))}),r}pa(e){this.la=e.hs,this.Pa=ar();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return fd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class s_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class a_{constructor(e){this.key=e,this.wa=!1}}class Jg{constructor(e,r,s,u,m,y){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.Sa={},this.ba=new So(D=>io(D),Gn),this.Da=new Map,this.Ca=new Set,this.va=new mr(Ut.comparator),this.Fa=new Map,this.Ma=new lc,this.xa={},this.Oa=new Map,this.Na=Ls.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function mf(l,e){return dh.apply(this,arguments)}function dh(){return(dh=(0,a.A)(function*(l,e,r=!0){const s=Af(l);let u;const m=s.ba.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),u=m.view.ya()):u=yield mu(s,e,r,!0),u})).apply(this,arguments)}function kp(l,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,a.A)(function*(l,e){const r=Af(l);yield mu(r,e,!0,!1)})).apply(this,arguments)}function mu(l,e,r,s){return hh.apply(this,arguments)}function hh(){return(hh=(0,a.A)(function*(l,e,r,s){const u=yield lu(l.localStore,Y(e)),m=u.targetId,y=r?l.sharedClientState.addLocalQueryTarget(m):"not-current";let D;return s&&(D=yield _f(l,e,m,"current"===y,u.resumeToken)),l.isPrimaryClient&&r&&vc(l.remoteStore,u),D})).apply(this,arguments)}function _f(l,e,r,s,u){return sl.apply(this,arguments)}function sl(){return sl=(0,a.A)(function*(l,e,r,s,u){l.Ba=(ge,Ue,ut)=>{return(Ht=(0,a.A)(function*(Xt,Vn,Jn,Bn){let xr=Vn.view.da(Jn);xr.Xi&&(xr=yield ed(Xt.localStore,Vn.query,!1).then(({documents:ke})=>Vn.view.da(ke,xr)));const Mi=Bn&&Bn.targetChanges.get(Vn.targetId),ei=Bn&&null!=Bn.targetMismatches.get(Vn.targetId),tt=Vn.view.applyChanges(xr,Xt.isPrimaryClient,Mi,ei);return Hp(Xt,Vn.targetId,tt.fa),tt.snapshot}),function sn(Xt,Vn,Jn,Bn){return Ht.apply(this,arguments)})(l,ge,Ue,ut);var Ht};const m=yield ed(l.localStore,e,!0),y=new Qg(e,m.hs),D=y.da(m.documents),N=Qa.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==l.onlineState,u),W=y.applyChanges(D,l.isPrimaryClient,N);Hp(l,r,W.fa);const re=new s_(e,r,y);return l.ba.set(e,re),l.Da.has(r)?l.Da.get(r).push(e):l.Da.set(r,[e]),W.snapshot}),sl.apply(this,arguments)}function Zg(l,e,r){return vf.apply(this,arguments)}function vf(){return(vf=(0,a.A)(function*(l,e,r){const s=ct(l),u=s.ba.get(e),m=s.Da.get(u.targetId);if(m.length>1)return s.Da.set(u.targetId,m.filter(y=>!Gn(y,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Va(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&nl(s.remoteStore,u.targetId),md(s,u.targetId)}).catch(Nn))):(md(s,u.targetId),yield Va(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Vp(l,e){return em.apply(this,arguments)}function em(){return(em=(0,a.A)(function*(l,e){const r=ct(l),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),nl(r.remoteStore,s.targetId))})).apply(this,arguments)}function fh(){return(fh=(0,a.A)(function*(l,e,r){const s=yh(l);try{const u=yield function(y,D){const N=ct(y),W=Wt.now(),re=D.reduce((ut,Ht)=>ut.add(Ht.key),ar());let ge,Ue;return N.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let Ht=ai(),sn=ar();return N.os.getEntries(ut,re).next(Xt=>{Ht=Xt,Ht.forEach((Vn,Jn)=>{Jn.isValidDocument()||(sn=sn.add(Vn))})}).next(()=>N.localDocuments.getOverlayedDocuments(ut,Ht)).next(Xt=>{ge=Xt;const Vn=[];for(const Jn of D){const Bn=_t(Jn,ge.get(Jn.key).overlayedDocument);null!=Bn&&Vn.push(new Or(Jn.key,Bn,Q(Bn.value.mapValue),Di.exists(!0)))}return N.mutationQueue.addMutationBatch(ut,W,Vn,D)}).next(Xt=>{Ue=Xt;const Vn=Xt.applyToLocalDocumentSet(ge,sn);return N.documentOverlayCache.saveOverlays(ut,Xt.batchId,Vn)})}).then(()=>({batchId:Ue.batchId,changes:kc(ge)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(y,D,N){let W=y.xa[y.currentUser.toKey()];W||(W=new mr(Gt)),W=W.insert(D,N),y.xa[y.currentUser.toKey()]=W}(s,u.batchId,r),yield Ec(s,u.changes),yield fu(s.remoteStore)}catch(u){const m=pu(u,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function Up(l,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,a.A)(function*(l,e){const r=ct(l);try{const s=yield function Us(l,e){const r=ct(l),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const D=[];e.targetChanges.forEach((re,ge)=>{const Ue=u.get(ge);if(!Ue)return;D.push(r.Qr.removeMatchingKeys(m,re.removedDocuments,ge).next(()=>r.Qr.addMatchingKeys(m,re.addedDocuments,ge)));let ut=Ue.withSequenceNumber(m.currentSequenceNumber);var sn,Xt,Vn;null!==e.targetMismatches.get(ge)?ut=ut.withResumeToken(Ui.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):re.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(re.resumeToken,s)),u=u.insert(ge,ut),Xt=ut,Vn=re,(0===(sn=Ue).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(m,ut))});let N=ai(),W=ar();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(m,re))}),D.push(Zu(m,y,e.documentUpdates).next(re=>{N=re.cs,W=re.ls})),!s.isEqual(Vt.min())){const re=r.Qr.getLastRemoteSnapshotVersion(m).next(ge=>r.Qr.setTargetsMetadata(m,m.currentSequenceNumber,s));D.push(re)}return Ke.waitFor(D).next(()=>y.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,N,W)).next(()=>N)}).then(m=>(r.ns=u,m))}(r.localStore,e);e.targetChanges.forEach((u,m)=>{const y=r.Fa.get(m);y&&(Bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.wa=!0:u.modifiedDocuments.size>0?Bt(y.wa):u.removedDocuments.size>0&&(Bt(y.wa),y.wa=!1))}),yield Ec(r,s,e)}catch(s){yield Nn(s)}})).apply(this,arguments)}function Ef(l,e,r){const s=ct(l);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((m,y)=>{const D=y.view.j_(e);D.snapshot&&u.push(D.snapshot)}),function(y,D){const N=ct(y);N.onlineState=D;let W=!1;N.queries.forEach((re,ge)=>{for(const Ue of ge.U_)Ue.j_(D)&&(W=!0)}),W&&uh(N)}(s.eventManager,e),u.length&&s.Sa.h_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function jp(l,e,r){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,a.A)(function*(l,e,r){const s=ct(l);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),m=u&&u.key;if(m){let y=new mr(Ut.comparator);y=y.insert(m,z.newNoDocument(m,Vt.min()));const D=ar().add(m),N=new Ii(Vt.min(),new Map,new mr(Gt),y,D);yield Up(s,N),s.va=s.va.remove(m),s.Fa.delete(e),_d(s)}else yield Va(s.localStore,e,!1).then(()=>md(s,e,r)).catch(Nn)})).apply(this,arguments)}function al(l,e){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.A)(function*(l,e){const r=ct(l),s=e.batch.batchId;try{const u=yield function cf(l,e){const r=ct(l);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),m=r.os.newChangeBuffer({trackRemovals:!0});return function(D,N,W,re){const ge=W.batch,Ue=ge.keys();let ut=Ke.resolve();return Ue.forEach(Ht=>{ut=ut.next(()=>re.getEntry(N,Ht)).next(sn=>{const Xt=W.docVersions.get(Ht);Bt(null!==Xt),sn.version.compareTo(Xt)<0&&(ge.applyToRemoteDocument(sn,W),sn.isValidDocument()&&(sn.setReadTime(W.commitVersion),re.addEntry(sn)))})}),ut.next(()=>D.mutationQueue.removeMutationBatch(N,ge))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let N=ar();for(let W=0;W<D.mutationResults.length;++W)D.mutationResults[W].transformResults.length>0&&(N=N.add(D.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);vu(r,s,null),If(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ec(r,u)}catch(u){yield Nn(u)}})).apply(this,arguments)}function bf(l,e,r){return ph.apply(this,arguments)}function ph(){return(ph=(0,a.A)(function*(l,e,r){const s=ct(l);try{const u=yield function(y,D){const N=ct(y);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return N.mutationQueue.lookupMutationBatch(W,D).next(ge=>(Bt(null!==ge),re=ge.keys(),N.mutationQueue.removeMutationBatch(W,ge))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,re,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,re)).next(()=>N.localDocuments.getDocuments(W,re))})}(s.localStore,e);vu(s,e,r),If(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ec(s,u)}catch(u){yield Nn(u)}})).apply(this,arguments)}function Bp(){return(Bp=(0,a.A)(function*(l,e){const r=ct(l);yc(r.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const D=ct(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>D.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=pu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function If(l,e){(l.Oa.get(e)||[]).forEach(r=>{r.resolve()}),l.Oa.delete(e)}function vu(l,e,r){const s=ct(l);let u=s.xa[s.currentUser.toKey()];if(u){const m=u.get(e);m&&(r?m.reject(r):m.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function md(l,e,r=null){l.sharedClientState.removeLocalQueryTarget(e);for(const s of l.Da.get(e))l.ba.delete(s),r&&l.Sa.ka(s,r);l.Da.delete(e),l.isPrimaryClient&&l.Ma.Vr(e).forEach(s=>{l.Ma.containsKey(s)||$p(l,s)})}function $p(l,e){l.Ca.delete(e.path.canonicalString());const r=l.va.get(e);null!==r&&(nl(l.remoteStore,r),l.va=l.va.remove(e),l.Fa.delete(r),_d(l))}function Hp(l,e,r){for(const s of r)s instanceof Yg?(l.Ma.addReference(s.key,e),c_(l,s)):s instanceof Xg?(be("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,e),l.Ma.containsKey(s.key)||$p(l,s.key)):Pt()}function c_(l,e){const r=e.key,s=r.path.canonicalString();l.va.get(r)||l.Ca.has(s)||(be("SyncEngine","New document in limbo: "+r),l.Ca.add(s),_d(l))}function _d(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const e=l.Ca.values().next().value;l.Ca.delete(e);const r=new Ut(fn.fromString(e)),s=l.Na.next();l.Fa.set(s,new a_(r)),l.va=l.va.insert(r,s),vc(l.remoteStore,new Qs(Y(Xr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function Ec(l,e,r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,a.A)(function*(l,e,r){const s=ct(l),u=[],m=[],y=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,N)=>{y.push(s.Ba(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,W&&!W.fromCache?"current":"not-current"),W){u.push(W);const re=Po.Ki(N.targetId,W);m.push(re)}}))}),yield Promise.all(y),s.Sa.h_(u),yield(D=(0,a.A)(function*(W,re){const ge=ct(W);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>Ke.forEach(re,ut=>Ke.forEach(ut.qi,Ht=>ge.persistence.referenceDelegate.addReference(Ue,ut.targetId,Ht)).next(()=>Ke.forEach(ut.Qi,Ht=>ge.persistence.referenceDelegate.removeReference(Ue,ut.targetId,Ht)))))}catch(Ue){if(!Mn(Ue))throw Ue;be("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of re){const ut=Ue.targetId;if(!Ue.fromCache){const Ht=ge.ns.get(ut),Xt=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);ge.ns=ge.ns.insert(ut,Xt)}}}),function N(W,re){return D.apply(this,arguments)})(s.localStore,m))}),Gp.apply(this,arguments)}function Cc(l,e){return mh.apply(this,arguments)}function mh(){return(mh=(0,a.A)(function*(l,e){const r=ct(l);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const s=yield sf(r.localStore,e);r.currentUser=e,(m=r).Oa.forEach(D=>{D.forEach(N=>{N.reject(new ue(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ec(r,s.us)}var m})).apply(this,arguments)}function vd(l,e){const r=ct(l),s=r.Fa.get(e);if(s&&s.wa)return ar().add(s.key);{let u=ar();const m=r.Da.get(e);if(!m)return u;for(const y of m){const D=r.ba.get(y);u=u.unionWith(D.view.Ea)}return u}}function l_(l,e){return zp.apply(this,arguments)}function zp(){return(zp=(0,a.A)(function*(l,e){const r=ct(l),s=yield ed(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&Hp(r,e.targetId,u.fa),u})).apply(this,arguments)}function _v(l,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,a.A)(function*(l,e){const r=ct(l);return Xd(r.localStore,e).then(s=>Ec(r,s))})).apply(this,arguments)}function Kp(l,e,r,s){return qp.apply(this,arguments)}function qp(){return(qp=(0,a.A)(function*(l,e,r,s){const u=ct(l),m=yield function(D,N){const W=ct(D),re=ct(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ge=>re.vn(ge,N).next(Ue=>Ue?W.localDocuments.getDocuments(ge,Ue):Ke.resolve(null)))}(u.localStore,e);var N;null!==m?("pending"===r?yield fu(u.remoteStore):"acknowledged"===r||"rejected"===r?(vu(u,e,s||null),If(u,e),N=e,ct(ct(u.localStore).mutationQueue).Mn(N)):Pt(),yield Ec(u,m)):be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function yd(){return(yd=(0,a.A)(function*(l,e){const r=ct(l);if(Af(r),yh(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield _h(r,s.toArray());r.La=!0,yield ah(r.remoteStore,!0);for(const m of u)vc(r.remoteStore,m)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((m,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):u=u.then(()=>(md(r,y),Va(r.localStore,y,!0))),nl(r.remoteStore,y)}),yield u,yield _h(r,s),function(y){const D=ct(y);D.Fa.forEach((N,W)=>{nl(D.remoteStore,W)}),D.Ma.mr(),D.Fa=new Map,D.va=new mr(Ut.comparator)}(r),r.La=!1,yield ah(r.remoteStore,!1)}})).apply(this,arguments)}function _h(l,e,r){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,a.A)(function*(l,e,r){const s=ct(l),u=[],m=[];for(const y of e){let D;const N=s.Da.get(y);if(N&&0!==N.length){D=yield lu(s.localStore,Y(N[0]));for(const W of N){const re=s.ba.get(W),ge=yield l_(s,re);ge.snapshot&&m.push(ge.snapshot)}}else{const W=yield js(s.localStore,y);D=yield lu(s.localStore,W),yield _f(s,Tf(W),y,!1,D.resumeToken)}u.push(D)}return s.Sa.h_(m),u})).apply(this,arguments)}function Tf(l){return Nc(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Ul(l){return r=ct(l).localStore,ct(ct(r).persistence).Bi();var r}function jl(l,e,r,s){return vh.apply(this,arguments)}function vh(){return(vh=(0,a.A)(function*(l,e,r,s){const u=ct(l);if(u.La)return void be("SyncEngine","Ignoring unexpected query state notification.");const m=u.Da.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const y=yield Xd(u.localStore,is(m[0])),D=Ii.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ui.EMPTY_BYTE_STRING);yield Ec(u,y,D);break}case"rejected":yield Va(u.localStore,e,!0),md(u,e,s);break;default:Pt()}})).apply(this,arguments)}function u_(l,e,r){return wf.apply(this,arguments)}function wf(){return(wf=(0,a.A)(function*(l,e,r){const s=Af(l);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){be("SyncEngine","Adding an already active target "+u);continue}const m=yield js(s.localStore,u),y=yield lu(s.localStore,m);yield _f(s,Tf(m),y.targetId,!1,y.resumeToken),vc(s.remoteStore,y)}for(const u of r)s.Da.has(u)&&(yield Va(s.localStore,u,!1).then(()=>{nl(s.remoteStore,u),md(s,u)}).catch(Nn))}})).apply(this,arguments)}function Af(l){const e=ct(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=Up.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jp.bind(null,e),e.Sa.h_=o_.bind(null,e.eventManager),e.Sa.ka=Np.bind(null,e.eventManager),e}function yh(l){const e=ct(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=al.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bf.bind(null,e),e}class La{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,a.A)(function*(){r.serializer=$e(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ml(this.persistence,new Rl,e.initialUser,this.serializer)}createPersistence(e){return new rf(Qu.Hr,this.serializer)}createSharedClientState(e){return new uf}terminate(){var e=this;return(0,a.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Df extends La{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,a.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield yh(s.Qa.syncEngine),yield fu(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ml(this.persistence,new Rl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new zc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new H(e.asyncQueue,s)}createPersistence(e){const r=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new xo(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,K(),se(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uf}}class xf extends Df{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,a.A)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof rd&&(s.sharedClientState.syncEngine={Zs:Kp.bind(null,u),Xs:jl.bind(null,u),eo:u_.bind(null,u),Bi:Ul.bind(null,u),Ys:_v.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var m=(0,a.A)(function*(y){yield function yu(l,e){return yd.apply(this,arguments)}(s.Qa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const r=K();if(!rd.D(r))throw new ue(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rd(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Cd{initialize(e,r){var s=this;return(0,a.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Ef(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Cc.bind(null,s.syncEngine),yield ah(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Op}createDatastore(e){const r=$e(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new zr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,m=e.asyncQueue,y=r=>Ef(this.syncEngine,r,0),D=el.D()?new el:new Zc,new mc(s,u,m,y,D);var s,u,m,y,D}createSyncEngine(e,r){return function(u,m,y,D,N,W,re){const ge=new Jg(u,m,y,D,N,W);return re&&(ge.La=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,a.A)(function*(){var r,s;yield(s=(0,a.A)(function*(m){const y=ct(m);be("RemoteStore","RemoteStore shutting down."),y.M_.add(5),yield tl(y),y.O_.shutdown(),y.N_.set("Unknown")}),function u(m){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Eu(l,e=10240){let r=0;return{read:()=>(0,a.A)(function*(){if(r<l.byteLength){const s={value:l.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class h_{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Fe,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,a.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,a.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,a.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const m=yield e.Ha(u);return new Kg(JSON.parse(m),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,a.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,a.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,a.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Bl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,a.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new ue(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,a.A)(function*(y,D){const N=ct(y),W={documents:D.map(ut=>Ra(N.serializer,ut))},re=yield N.xo("BatchGetDocuments",N.serializer.databaseId,fn.emptyPath(),W,D.length),ge=new Map;re.forEach(ut=>{const Ht=function Si(l,e){return"found"in e?function(s,u){Bt(!!u.found);const m=hs(s,u.found.name),y=eo(u.found.updateTime),D=u.found.createTime?eo(u.found.createTime):Vt.min(),N=new vi({mapValue:{fields:u.found.fields}});return z.newFoundDocument(m,y,D,N)}(l,e):"missing"in e?function(s,u){Bt(!!u.missing),Bt(!!u.readTime);const m=hs(s,u.missing),y=eo(u.readTime);return z.newNoDocument(m,y)}(l,e):Pt()}(N.serializer,ut);ge.set(Ht.key.toString(),Ht)});const Ue=[];return D.forEach(ut=>{const Ht=ge.get(ut.toString());Bt(!!Ht),Ue.push(Ht)}),Ue}),function m(y,D){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new yi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const m=Ut.fromPath(u);e.mutations.push(new Ar(m,e.precondition(m)))}),yield(s=(0,a.A)(function*(m,y){const D=ct(m),N={writes:y.map(W=>Qo(D.serializer,W))};yield D.Co("Commit",D.serializer.databaseId,fn.emptyPath(),N)}),function u(m,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pt();r=Vt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new ue(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Vt.min())?Di.exists(!1):Di.updateTime(r):Di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Vt.min()))throw new ue(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(r)}return Di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f_{constructor(e,r,s,u,m){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=m,this.Za=s.maxAttempts,this.Yo=new gt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,a.A)(function*(){const r=new Bl(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(m=>{e.nu(m)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!le(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!us(r)}return!1}}class p_{constructor(e,r,s,u){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=ot.UNAUTHENTICATED,this.clientId=dr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,a.A)(function*(D){be("FirestoreClient","Received user=",D.uid),yield m.authCredentialListener(D),m.user=D});return function(D){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(be("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Fe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=pu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Pf(l,e){return bd.apply(this,arguments)}function bd(){return bd=(0,a.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=l.configuration;yield e.initialize(r);let s=r.initialUser;l.setCredentialChangeListener(function(){var u=(0,a.A)(function*(m){s.isEqual(m)||(yield sf(e.localStore,m),s=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}),bd.apply(this,arguments)}function Ua(l,e){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,a.A)(function*(l,e){l.asyncQueue.verifyOperationInProgress();const r=yield Rf(l);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,l.configuration),l.setCredentialChangeListener(s=>go(e.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>go(e.remoteStore,u)),l._onlineComponents=e})).apply(this,arguments)}function Yp(l){return"FirebaseError"===l.name?l.code===Me.FAILED_PRECONDITION||l.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Rf(l){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,a.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pf(l,l._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Yp(r))throw r;dn("Error using user provided cache. Falling back to memory cache: "+r),yield Pf(l,new La)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield Pf(l,new La);return l._offlineComponents})).apply(this,arguments)}function Of(l){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,a.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ua(l,l._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield Ua(l,new Cd))),l._onlineComponents})).apply(this,arguments)}function Nf(l){return Rf(l).then(e=>e.persistence)}function $l(l){return Rf(l).then(e=>e.localStore)}function kf(l){return Of(l).then(e=>e.remoteStore)}function Ch(l){return Of(l).then(e=>e.syncEngine)}function Wr(l){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,a.A)(function*(l){const e=yield Of(l),r=e.eventManager;return r.onListen=mf.bind(null,e.syncEngine),r.onUnlisten=Zg.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Vp.bind(null,e.syncEngine),r})).apply(this,arguments)}function Jp(l,e,r={}){const s=new Fe;return l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(m,y,D,N,W){const re=new Sf({next:Ue=>{y.enqueueAndForget(()=>gu(m,ge));const ut=Ue.docs.has(D);!ut&&Ue.fromCache?W.reject(new ue(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&Ue.fromCache&&N&&"server"===N.source?W.reject(new ue(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ue)},error:Ue=>W.reject(Ue)}),ge=new gd(Xr(D.path),re,{includeMetadataChanges:!0,ra:!0});return ch(m,ge)}(yield Wr(l),l.asyncQueue,e,r,s)})),s.promise}function Zp(l,e,r={}){const s=new Fe;return l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(m,y,D,N,W){const re=new Sf({next:Ue=>{y.enqueueAndForget(()=>gu(m,ge)),Ue.fromCache&&"server"===N.source?W.reject(new ue(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ue)},error:Ue=>W.reject(Ue)}),ge=new gd(D,re,{includeMetadataChanges:!0,ra:!0});return ch(m,ge)}(yield Wr(l),l.asyncQueue,e,r,s)})),s.promise}function im(l){const e={};return void 0!==l.timeoutSeconds&&(e.timeoutSeconds=l.timeoutSeconds),e}const om=new Map;function ng(l,e,r){if(!r)throw new ue(Me.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function sm(l,e,r,s){if(!0===e&&!0===s)throw new ue(Me.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function rg(l){if(!Ut.isDocumentKey(l))throw new ue(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function y_(l){if(Ut.isDocumentKey(l))throw new ue(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function ig(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const e=(s=l).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof l?"a function":Pt()}function Nr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new ue(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ig(l);throw new ue(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return l}function Id(l,e){if(e<=0)throw new ue(Me.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${e}.`)}class og{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=im(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new ue(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new ue(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new ue(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new og({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new og(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new xe;switch(s.type){case"firstParty":return new xt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=om.get(r);s&&(be("ComponentProvider","Removing Datastore"),om.delete(r),s.terminate())}(this),Promise.resolve()}}function Vf(l,e,r,s={}){var u;const m=(l=Nr(l,Td))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==y&&dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},m),{host:y,ssl:!1})),s.mockUserToken){let D,N;if("string"==typeof s.mockUserToken)D=s.mockUserToken,N=ot.MOCK_USER;else{D=(0,he.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new ue(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new ot(W)}l._authCredentials=new Se(new Qe(D,N))}}class ts{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Ro{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ro(this.firestore,e,this._key)}}class ja extends ts{constructor(e,r,s){super(e,r,Xr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ro(this.firestore,null,new Ut(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function am(l,e,...r){if(l=(0,he.Ku)(l),ng("collection","path",e),l instanceof Td){const s=fn.fromString(e,...r);return y_(s),new ja(l,null,s)}{if(!(l instanceof Ro||l instanceof ja))throw new ue(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(fn.fromString(e,...r));return y_(s),new ja(l.firestore,null,s)}}function Lf(l,e){if(l=Nr(l,Td),ng("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(Me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(l,null,(s=e,new Rs(fn.emptyPath(),s)));var s}function E_(l,e,...r){if(l=(0,he.Ku)(l),1===arguments.length&&(e=dr.newId()),ng("doc","path",e),l instanceof Td){const s=fn.fromString(e,...r);return rg(s),new Ro(l,null,new Ut(s))}{if(!(l instanceof Ro||l instanceof ja))throw new ue(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(fn.fromString(e,...r));return rg(s),new Ro(l.firestore,l instanceof ja?l.converter:null,new Ut(s))}}function sg(l,e){return l=(0,he.Ku)(l),e=(0,he.Ku)(e),(l instanceof Ro||l instanceof ja)&&(e instanceof Ro||e instanceof ja)&&l.firestore===e.firestore&&l.path===e.path&&l.converter===e.converter}function ag(l,e){return l=(0,he.Ku)(l),e=(0,he.Ku)(e),l instanceof ts&&e instanceof ts&&l.firestore===e.firestore&&Gn(l._query,e._query)&&l.converter===e.converter}class Uf{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new gt(this,"async_queue_retry"),this.hu=()=>{const r=se();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=se();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=se();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Fe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,a.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Mn(r))throw r;be("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=Rp.createAndSchedule(this,e,r,s,m=>this.Eu(m));return this._u.push(u),u}Pu(){this.au&&Pt()}verifyOperationInProgress(){}du(){var e=this;return(0,a.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function jf(l){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const m of["next","error","complete"])if(m in u&&"function"==typeof u[m])return!0;return!1}(l)}class cg{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Iu=-1;class Hi extends Td{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Uf,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$f(this),this._firestoreClient.terminate()}}function Bf(l,e){const r="object"==typeof l?l:(0,ae.getApp)(),s="string"==typeof l?l:e||"(default)",u=(0,ae._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const m=(0,he.yU)("firestore");m&&Vf(u,...m)}return u}function mo(l){return l._firestoreClient||$f(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function $f(l){var e,r,s;const u=l._freezeSettings(),m=(N=(null===(e=l._app)||void 0===e?void 0:e.options.appId)||"",new ns(l._databaseId,N,l._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,im(re.experimentalLongPollingOptions),re.useFetchStreams));var N,re;l._firestoreClient=new p_(l._authCredentials,l._appCheckCredentials,l._queue,m),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Hf(l,e){lm(l=Nr(l,Hi));const r=mo(l);if(r._uninitializedComponentsProvider)throw new ue(Me.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new Cd;return Tu(r,u,new Df(u,s.cacheSizeBytes,e?.forceOwnership))}function Ia(l){lm(l=Nr(l,Hi));const e=mo(l);if(e._uninitializedComponentsProvider)throw new ue(Me.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=l._freezeSettings(),s=new Cd;return Tu(e,s,new xf(s,r.cacheSizeBytes))}function Tu(l,e,r){const s=new Fe;return l.asyncQueue.enqueue((0,a.A)(function*(){try{yield Pf(l,r),yield Ua(l,e),s.resolve()}catch(u){const m=u;if(!Yp(m))throw m;dn("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function wd(l){if(l._initialized&&!l._terminated)throw new ue(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fe;return l._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(r=(0,a.A)(function*(u){if(!ie.D())return Promise.resolve();const m=u+"main";yield ie.delete(m)}),function s(u){return r.apply(this,arguments)})(Yd(l._databaseId,l._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function wu(l){return function(r){const s=new Fe;return r.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function gh(l,e){return Bp.apply(this,arguments)}(yield Ch(r),s)})),s.promise}(mo(l=Nr(l,Hi)))}function Gf(l){return function Qp(l){return l.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Nf(l),r=yield kf(l);return e.setNetworkEnabled(!0),function(u){const m=ct(u);return m.M_.delete(0),_c(m)}(r)}))}(mo(l=Nr(l,Hi)))}function bh(l){return function g_(l){return l.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Nf(l),r=yield kf(l);return e.setNetworkEnabled(!1),(s=(0,a.A)(function*(m){const y=ct(m);y.M_.add(0),yield tl(y),y.N_.set("Offline")}),function u(m){return s.apply(this,arguments)})(r);var s}))}(mo(l=Nr(l,Hi)))}function zf(l,e){const r=mo(l=Nr(l,Hi)),s=new cg;return function bu(l,e,r,s){const u=function(y,D){let N;return N="string"==typeof y?ss().encode(y):y,re=function(re,ge){if(re instanceof Uint8Array)return Eu(re,void 0);if(re instanceof ArrayBuffer)return Eu(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new h_(re,D);var re}(r,$e(e));l.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function cl(l,e,r){const s=ct(l);var u;(u=(0,a.A)(function*(y,D,N){try{const W=yield D.getMetadata();if(yield function(Ht,sn){const Xt=ct(Ht),Vn=eo(sn.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",Jn=>Xt.$r.getBundleMetadata(Jn,sn.id)).then(Jn=>!!Jn&&Jn.createTime.compareTo(Vn)>=0)}(y.localStore,W))return yield D.close(),N._completeWith({taskState:"Success",documentsLoaded:(Ht=W).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);N._updateProgress(qg(W));const re=new gf(W,y.localStore,D.serializer);let ge=yield D.qa();for(;ge;){const ut=yield re._a(ge);ut&&N._updateProgress(ut),ge=yield D.qa()}const Ue=yield re.complete();return yield Ec(y,Ue.ca,void 0),yield function(Ht,sn){const Xt=ct(Ht);return Xt.persistence.runTransaction("Save bundle","readwrite",Vn=>Xt.$r.saveBundleMetadata(Vn,sn))}(y.localStore,W),N._completeWith(Ue.progress),Promise.resolve(Ue.ua)}catch(W){return dn("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Ht}),function m(y,D,N){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Ch(l),u,s)}))}(r,l._databaseId,e,s),s}function C_(l,e){return function nm(l,e){return l.asyncQueue.enqueue((0,a.A)(function*(){return function(s,u){const m=ct(s);return m.persistence.runTransaction("Get named query","readonly",y=>m.$r.getNamedQuery(y,u))}(yield $l(l),e)}))}(mo(l=Nr(l,Hi)),e).then(r=>r?new ts(l,null,r.query):null)}function lm(l){if(l._initialized||l._terminated)throw new ue(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gl(Ui.fromBase64String(e))}catch(r){throw new ue(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gl(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ul{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ue(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ad{constructor(e){this._methodName=e}}class lg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ue(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ue(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const b_=/^__.*__$/;class I_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Or(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cn(e,this.data,r,this.fieldTransforms)}}class T_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Or(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function w_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Au{constructor(e,r,s,u,m,y){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===m&&this.mu(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Au(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return xh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(w_(this.fu)&&b_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class A_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||$e(e)}Fu(e,r,s,u=!1){return new Au({fu:e,methodName:r,vu:s,path:Wn.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bc(l){const e=l._freezeSettings(),r=$e(l._databaseId);return new A_(l._databaseId,!!e.ignoreUndefinedProperties,r)}function da(l,e,r,s,u,m={}){const y=l.Fu(m.merge||m.mergeFields?2:0,e,r,u);hm("Data must be an object, but it was:",y,s);const D=Wf(s,y);let N,W;if(m.merge)N=new Bi(y.fieldMask),W=y.fieldTransforms;else if(m.mergeFields){const re=[];for(const ge of m.mergeFields){const Ue=Dh(e,ge,r);if(!y.contains(Ue))throw new ue(Me.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);fm(re,Ue)||re.push(Ue)}N=new Bi(re),W=y.fieldTransforms.filter(ge=>N.covers(ge.field))}else N=null,W=y.fieldTransforms;return new I_(new vi(D),N,W)}class Wi extends Ad{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wi}}function dl(l,e,r){return new Au({fu:3,vu:e.settings.vu,methodName:l._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Du extends Ad{_toFieldTransform(e){return new sa(e.path,new xa)}isEqual(e){return e instanceof Du}}class Dd extends Ad{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=dl(this,e,!0),s=this.Mu.map(m=>Sd(m,r)),u=new oa(s);return new sa(e.path,u)}isEqual(e){return e instanceof Dd&&(0,he.bD)(this.Mu,e.Mu)}}class xd extends Ad{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=dl(this,e,!0),s=this.Mu.map(m=>Sd(m,r)),u=new ks(s);return new sa(e.path,u)}isEqual(e){return e instanceof xd&&(0,he.bD)(this.Mu,e.Mu)}}class Ic extends Ad{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ys(e.serializer,ya(e.serializer,this.xu));return new sa(e.path,r)}isEqual(e){return e instanceof Ic&&this.xu===e.xu}}function Ih(l,e,r,s){const u=l.Fu(1,e,r);hm("Data must be an object, but it was:",u,s);const m=[],y=vi.empty();No(s,(N,W)=>{const re=ug(e,N,r);W=(0,he.Ku)(W);const ge=u.Su(re);if(W instanceof Wi)m.push(re);else{const Ue=Sd(W,ge);null!=Ue&&(m.push(re),y.set(re,Ue))}});const D=new Bi(m);return new T_(y,D,u.fieldTransforms)}function Th(l,e,r,s,u,m){const y=l.Fu(1,e,r),D=[Dh(e,s,r)],N=[u];if(m.length%2!=0)throw new ue(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<m.length;Ue+=2)D.push(Dh(e,m[Ue])),N.push(m[Ue+1]);const W=[],re=vi.empty();for(let Ue=D.length-1;Ue>=0;--Ue)if(!fm(W,D[Ue])){const ut=D[Ue];let Ht=N[Ue];Ht=(0,he.Ku)(Ht);const sn=y.Su(ut);if(Ht instanceof Wi)W.push(ut);else{const Xt=Sd(Ht,sn);null!=Xt&&(W.push(ut),re.set(ut,Xt))}}const ge=new Bi(W);return new T_(re,ge,y.fieldTransforms)}function wh(l,e,r,s=!1){return Sd(r,l.Fu(s?4:3,e))}function Sd(l,e){if(Ah(l=(0,he.Ku)(l)))return hm("Unsupported field value:",e,l),Wf(l,e);if(l instanceof Ad)return function(s,u){if(!w_(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(u);m&&u.fieldTransforms.push(m)}(l,e),null;if(void 0===l&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const m=[];let y=0;for(const D of s){let N=Sd(D,u.bu(y));null==N&&(N={nullValue:"NULL_VALUE"}),m.push(N),y++}return{arrayValue:{values:m}}}(l,e)}return function(s,u){if(null===(s=(0,he.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ya(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Wt.fromDate(s);return{timestampValue:Go(u.serializer,m)}}if(s instanceof Wt){const m=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Go(u.serializer,m)}}if(s instanceof lg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gl)return{bytesValue:tu(u.serializer,s._byteString)};if(s instanceof Ro){const m=u.databaseId,y=s.firestore._databaseId;if(!y.isEqual(m))throw u.Du(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Pa(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${ig(s)}`)}(l,e)}function Wf(l,e){const r={};return Gi(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(l,(s,u)=>{const m=Sd(u,e.pu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Ah(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Wt||l instanceof lg||l instanceof Gl||l instanceof Ro||l instanceof Ad)}function hm(l,e,r){if(!Ah(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=ig(r);throw e.Du("an object"===s?l+" a custom object":l+" "+s)}var u}function Dh(l,e,r){if((e=(0,he.Ku)(e))instanceof ul)return e._internalPath;if("string"==typeof e)return ug(l,e);throw xh("Field path arguments must be of type string or ",l,!1,void 0,r)}const D_=new RegExp("[~\\*/\\[\\]]");function ug(l,e,r){if(e.search(D_)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,r);try{return new ul(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,r)}}function xh(l,e,r,s,u){const m=s&&!s.isEmpty(),y=void 0!==u;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(m||y)&&(N+=" (found",m&&(N+=` in field ${s}`),y&&(N+=` in document ${u}`),N+=")"),new ue(Me.INVALID_ARGUMENT,D+l+N)}function fm(l,e){return l.some(r=>r.isEqual(e))}class Kf{constructor(e,r,s,u,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class vv extends Kf{data(){return super.data()}}function pm(l,e){return"string"==typeof e?ug(l,e):e instanceof ul?e._internalPath:e._delegate._internalPath}function x_(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new ue(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sh{}class zl extends Sh{}function dg(l,e,...r){let s=[];e instanceof Sh&&s.push(e),s=s.concat(r),function(m){const y=m.filter(N=>N instanceof Ba).length,D=m.filter(N=>N instanceof Wl).length;if(y>1||y>0&&D>0)throw new ue(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class Wl extends zl{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Wl(e,r,s)}_apply(e){const r=this._parse(e);return vm(e._query,r),new ts(e.firestore,e.converter,Ve(e._query,r))}_parse(e){const r=bc(e.firestore);return function(m,y,D,N,W,re,ge){let Ue;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new ue(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){_m(ge,re);const ut=[];for(const Ht of ge)ut.push(O_(N,m,Ht));Ue={arrayValue:{values:ut}}}else Ue=O_(N,m,ge)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||_m(ge,re),Ue=wh(D,"where",ge,"in"===re||"not-in"===re);return Rt.create(W,re,Ue)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function gm(l,e,r){const s=e,u=pm("where",l);return Wl._create(u,s,r)}class Ba extends Sh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ba(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:gn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,m){let y=u;const D=m.getFlattenedFilters();for(const N of D)vm(y,N),y=Ve(y,N)}(e._query,r),new ts(e.firestore,e.converter,Ve(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mm extends zl{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new mm(e,r)}_apply(e){const r=function(u,m,y){if(null!==u.startAt)throw new ue(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ue(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yt(m,y)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(u,m){const y=u.explicitOrderBy.concat([m]);return new Rs(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function P_(l,e="asc"){const r=e,s=pm("orderBy",l);return mm._create(s,r)}class hg extends zl{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new hg(e,r,s)}_apply(e){return new ts(e.firestore,e.converter,yn(e._query,this._limit,this._limitType))}}function Ev(l){return Id("limit",l),hg._create("limit",l,"F")}function fg(l){return Id("limitToLast",l),hg._create("limitToLast",l,"L")}class pg extends zl{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new pg(e,r,s)}_apply(e){const r=M_(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(m=r,new Rs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,m,u.endAt)));var u,m}}function Ph(...l){return pg._create("startAt",l,!0)}function qf(...l){return pg._create("startAfter",l,!1)}class gg extends zl{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new gg(e,r,s)}_apply(e){const r=M_(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(m=r,new Rs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,m)));var u,m}}function R_(...l){return gg._create("endBefore",l,!1)}function Cv(...l){return gg._create("endAt",l,!0)}function M_(l,e,r,s){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof Kf)return function(m,y,D,N,W){if(!N)throw new ue(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const re=[];for(const ge of G(m))if(ge.field.isKeyField())re.push(Zt(y,N.key));else{const Ue=N.data.field(ge.field);if(Yo(Ue))throw new ue(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const ut=ge.field.canonicalString();throw new ue(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}re.push(Ue)}return new ye(re,W)}(l._query,l.firestore._databaseId,e,r[0]._document,s);{const u=bc(l.firestore);return function(y,D,N,W,re,ge){const Ue=y.explicitOrderBy;if(re.length>Ue.length)throw new ue(Me.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let Ht=0;Ht<re.length;Ht++){const sn=re[Ht];if(Ue[Ht].field.isKeyField()){if("string"!=typeof sn)throw new ue(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof sn}`);if(!Aa(y)&&-1!==sn.indexOf("/"))throw new ue(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${sn}' contains a slash.`);const Xt=y.path.child(fn.fromString(sn));if(!Ut.isDocumentKey(Xt))throw new ue(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const Vn=new Ut(Xt);ut.push(Zt(D,Vn))}else{const Xt=wh(N,W,sn);ut.push(Xt)}}return new ye(ut,ge)}(l._query,l.firestore._databaseId,u,e,r,s)}}function O_(l,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new ue(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aa(e)&&-1!==r.indexOf("/"))throw new ue(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(fn.fromString(r));if(!Ut.isDocumentKey(s))throw new ue(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zt(l,new Ut(s))}if(r instanceof Ro)return Zt(l,r._key);throw new ue(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ig(r)}.`)}function _m(l,e){if(!Array.isArray(l)||0===l.length)throw new ue(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vm(l,e){const r=function(u,m){for(const y of u)for(const D of y.getFlattenedFilters())if(m.indexOf(D.op)>=0)return D.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ue(Me.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class N_{convertValue(e,r="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return No(e,(u,m)=>{s[u]=this.convertValue(m,r)}),s}convertGeoPoint(e){return new lg(ui(e.latitude),ui(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Es(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const r=ko(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=fn.fromString(e);Bt(jc(s));const u=new Qn(s.get(1),s.get(3)),m=new Ut(s.popFirst(5));return u.isEqual(r)||Jt(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function Rh(l,e,r){let s;return s=l?r&&(r.merge||r.mergeFields)?l.toFirestore(e,r):l.toFirestore(e):e,s}class k_ extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ro(this.firestore,null,r)}}class Pd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rd extends Kf{constructor(e,r,s,u,m,y){super(e,r,s,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class _g extends Rd{data(e={}){return super.data(e)}}class xu{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Pd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new _g(this._firestore,this._userDataWriter,s.key,s,new Pd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ue(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,m){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new _g(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Pd(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>m||3!==D.type).map(D=>{const N=new _g(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Pd(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,re=-1;return 0!==D.type&&(W=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),re=y.indexOf(D.doc.key)),{type:V_(D.type),doc:N,oldIndex:W,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function V_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function Tc(l,e){return l instanceof Rd&&e instanceof Rd?l._firestore===e._firestore&&l._key.isEqual(e._key)&&(null===l._document?null===e._document:l._document.isEqual(e._document))&&l._converter===e._converter:l instanceof xu&&e instanceof xu&&l._firestore===e._firestore&&ag(l.query,e.query)&&l.metadata.isEqual(e.metadata)&&l._snapshot.isEqual(e._snapshot)}function L_(l){l=Nr(l,Ro);const e=Nr(l.firestore,Hi);return Jp(mo(e),l._key).then(r=>Cm(e,l,r))}class Md extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ro(this.firestore,null,r)}}function ym(l){l=Nr(l,Ro);const e=Nr(l.firestore,Hi),r=mo(e),s=new Md(e);return function m_(l,e){const r=new Fe;return l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(m,y,D){try{const N=yield function(re,ge){const Ue=ct(re);return Ue.persistence.runTransaction("read document","readonly",ut=>Ue.localDocuments.getDocument(ut,ge))}(m,y);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new ue(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=pu(N,`Failed to get document '${y} from cache`);D.reject(W)}}),function u(m,y,D){return s.apply(this,arguments)})(yield $l(l),e,r);var s})),r.promise}(r,l._key).then(u=>new Rd(e,s,l._key,u,new Pd(null!==u&&u.hasLocalMutations,!0),l.converter))}function Su(l){l=Nr(l,Ro);const e=Nr(l.firestore,Hi);return Jp(mo(e),l._key,{source:"server"}).then(r=>Cm(e,l,r))}function vg(l){l=Nr(l,ts);const e=Nr(l.firestore,Hi),r=mo(e),s=new Md(e);return x_(l._query),Zp(r,l._query).then(u=>new xu(e,s,l,u))}function Iv(l){l=Nr(l,ts);const e=Nr(l.firestore,Hi),r=mo(e),s=new Md(e);return function Ff(l,e){const r=new Fe;return l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(m,y,D){try{const N=yield ed(m,y,!0),W=new Qg(y,N.hs),re=W.da(N.documents),ge=W.applyChanges(re,!1);D.resolve(ge.snapshot)}catch(N){const W=pu(N,`Failed to execute query '${y} against cache`);D.reject(W)}}),function u(m,y,D){return s.apply(this,arguments)})(yield $l(l),e,r);var s})),r.promise}(r,l._query).then(u=>new xu(e,s,l,u))}function Tv(l){l=Nr(l,ts);const e=Nr(l.firestore,Hi),r=mo(e),s=new Md(e);return Zp(r,l._query,{source:"server"}).then(u=>new xu(e,s,l,u))}function wv(l,e,r){l=Nr(l,Ro);const s=Nr(l.firestore,Hi),u=Rh(l.converter,e,r);return Mo(s,[da(bc(s),"setDoc",l._key,u,null!==l.converter,r).toMutation(l._key,Di.none())])}function Em(l,e,r,...s){l=Nr(l,Ro);const u=Nr(l.firestore,Hi),m=bc(u);let y;return y="string"==typeof(e=(0,he.Ku)(e))||e instanceof ul?Th(m,"updateDoc",l._key,e,r,s):Ih(m,"updateDoc",l._key,e),Mo(u,[y.toMutation(l._key,Di.exists(!0))])}function hl(l){return Mo(Nr(l.firestore,Hi),[new yi(l._key,Di.none())])}function U_(l,e){const r=Nr(l.firestore,Hi),s=E_(l),u=Rh(l.converter,e);return Mo(r,[da(bc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,Di.exists(!1))]).then(()=>s)}function Av(l,...e){var r,s,u;l=(0,he.Ku)(l);let m={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof e[y]||jf(e[y])||(m=e[y],y++);const D={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(jf(e[y])){const ge=e[y];e[y]=null===(r=ge.next)||void 0===r?void 0:r.bind(ge),e[y+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[y+2]=null===(u=ge.complete)||void 0===u?void 0:u.bind(ge)}let N,W,re;if(l instanceof Ro)W=Nr(l.firestore,Hi),re=Xr(l._key.path),N={next:ge=>{e[y]&&e[y](Cm(W,l,ge))},error:e[y+1],complete:e[y+2]};else{const ge=Nr(l,ts);W=Nr(ge.firestore,Hi),re=ge._query;const Ue=new Md(W);N={next:ut=>{e[y]&&e[y](new xu(W,Ue,ge,ut))},error:e[y+1],complete:e[y+2]},x_(l._query)}return function(Ue,ut,Ht,sn){const Xt=new Sf(sn),Vn=new gd(ut,Xt,Ht);return Ue.asyncQueue.enqueueAndForget((0,a.A)(function*(){return ch(yield Wr(Ue),Vn)})),()=>{Xt.$a(),Ue.asyncQueue.enqueueAndForget((0,a.A)(function*(){return gu(yield Wr(Ue),Vn)}))}}(mo(W),re,D,N)}function by(l,e){return function __(l,e){const r=new Sf(e);return l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield Wr(l),m=r,ct(u).z_.add(m),void m.next();var u,m})),()=>{r.$a(),l.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield Wr(l),m=r,void ct(u).z_.delete(m);var u,m}))}}(mo(l=Nr(l,Hi)),jf(e)?e:{next:e})}function Mo(l,e){return function(s,u){const m=new Fe;return s.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function Lp(l,e,r){return fh.apply(this,arguments)}(yield Ch(s),u,m)})),m.promise}(mo(l),e)}function Cm(l,e,r){const s=r.docs.get(e._key),u=new Md(l);return new Rd(l,u,e._key,s,new Pd(r.hasPendingWrites,r.fromCache),e.converter)}const Kl={maxAttempts:5};class Pu{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=bc(e)}set(e,r,s){this._verifyNotCommitted();const u=wc(e,this._firestore),m=Rh(u.converter,r,s),y=da(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,s);return this._mutations.push(y.toMutation(u._key,Di.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const m=wc(e,this._firestore);let y;return y="string"==typeof(r=(0,he.Ku)(r))||r instanceof ul?Th(this._dataReader,"WriteBatch.update",m._key,r,s,u):Ih(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(y.toMutation(m._key,Di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=wc(e,this._firestore);return this._mutations=this._mutations.concat(new yi(r._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wc(l,e){if((l=(0,he.Ku)(l)).firestore!==e)throw new ue(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Im extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=bc(r)}get(r){const s=wc(r,this._firestore),u=new k_(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Pt();const y=m[0];if(y.isFoundDocument())return new Kf(this._firestore,u,y.key,y,s.converter);if(y.isNoDocument())return new Kf(this._firestore,u,s._key,null,s.converter);throw Pt()})}set(r,s,u){const m=wc(r,this._firestore),y=Rh(m.converter,s,u),D=da(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,u);return this._transaction.set(m._key,D),this}update(r,s,u,...m){const y=wc(r,this._firestore);let D;return D="string"==typeof(s=(0,he.Ku)(s))||s instanceof ul?Th(this._dataReader,"Transaction.update",y._key,s,u,m):Ih(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,D),this}delete(r){const s=wc(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=wc(e,this._firestore),s=new Md(this._firestore);return super.get(e).then(u=>new Rd(this._firestore,s,r._key,u._document,new Pd(!1,!1),r.converter))}}function Tm(l,e,r){l=Nr(l,Hi);const s=Object.assign(Object.assign({},Kl),r);return function(m){if(m.maxAttempts<1)throw new ue(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,y,D){const N=new Fe;return m.asyncQueue.enqueueAndForget((0,a.A)(function*(){const W=yield function tm(l){return Of(l).then(e=>e.datastore)}(m);new f_(m.asyncQueue,W,D,y,N).Xa()})),N.promise}(mo(l),u=>e(new Im(l,u)),s)}function z_(){return new Wi("deleteField")}function Mh(){return new Du("serverTimestamp")}function Oh(...l){return new Dd("arrayUnion",l)}function Xf(...l){return new xd("arrayRemove",l)}function wm(l){return new Ic("increment",l)}!function(e,r=!0){Ze=ae.SDK_VERSION,(0,ae._registerComponent)(new o.uA("firestore",(s,{instanceIdentifier:u,options:m})=>{const y=s.getProvider("app").getImmediate(),D=new Hi(new Ge(s.getProvider("auth-internal")),new on(s.getProvider("app-check-internal")),function(W,re){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new ue(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qn(W.options.projectId,re)}(y,u),y);return m=Object.assign({useFetchStreams:r},m),D._setSettings(m),D},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(We,"4.6.3",e),(0,ae.registerVersion)(We,"4.6.3","esm2017")}()},4535:(rn,Je,L)=>{L.d(Je,{Ad:()=>kn,D5:()=>Zt,KR:()=>gi,Mp:()=>Io,Mx:()=>ri,TZ:()=>qt,UC:()=>Pi,UY:()=>nr,XR:()=>ro,ZH:()=>Tn,_w:()=>lr,bp:()=>qi,c7:()=>Hr,nb:()=>Fo,nw:()=>_n,p_:()=>jn,qk:()=>ji,uj:()=>Jt,xc:()=>On,yb:()=>Mr});var a=L(467),ae=L(7852),o=L(1076),Ae=L(1362);const he="firebasestorage.googleapis.com",De="storageBucket";class Z extends o.g{constructor(z,ye,Re=0){super(me(z),`Firebase Storage: ${ye} (${me(z)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Z.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return me(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ce=function(Q){return Q.UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Q}(ce||{});function me(Q){return"storage/"+Q}function at(){return new Z(ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cn(){return new Z(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function et(){return new Z(ce.CANCELED,"User canceled the upload/download.")}function rt(){return new Z(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jt(Q){return new Z(ce.INVALID_ARGUMENT,Q)}function dn(){return new Z(ce.APP_DELETED,"The Firebase app was deleted.")}function nr(Q){return new Z(ce.INVALID_ROOT_OPERATION,"The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(Q,z){return new Z(ce.INVALID_FORMAT,"String does not match format '"+Q+"': "+z)}function Bt(Q){throw new Z(ce.INTERNAL_ERROR,"Internal error: "+Q)}class qt{constructor(z,ye){this.bucket=z,this.path_=ye}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,ye){let Re;try{Re=qt.makeFromUrl(z,ye)}catch{return new qt(z,"")}if(""===Re.path)return Re;throw function ot(Q){return new Z(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Q+"'.")}(z)}static makeFromUrl(z,ye){let Re=null;const Ye="([A-Za-z0-9.\\-_]+)",mn=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function gn(bi){bi.path_=decodeURIComponent(bi.path)}const Rn=ye.replace(/[.]/g,"\\."),ir=[{regex:mn,indices:{bucket:1,path:3},postModify:function yt(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Rn}/v[A-Za-z0-9_]+/b/${Ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:gn},{regex:new RegExp(`^https?://${ye===he?"(?:storage.googleapis.com|storage.cloud.google.com)":ye}/${Ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:gn}];for(let bi=0;bi<ir.length;bi++){const si=ir[bi],fr=si.regex.exec(z);if(fr){let Ai=fr[si.indices.path];Ai||(Ai=""),Re=new qt(fr[si.indices.bucket],Ai),si.postModify(Re);break}}if(null==Re)throw function We(Q){return new Z(ce.INVALID_URL,"Invalid URL '"+Q+"'.")}(z);return Re}}class ct{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Se(Q){return"string"==typeof Q||Q instanceof String}function Ge(Q){return Tt()&&Q instanceof Blob}function Tt(){return typeof Blob<"u"}function xt(Q,z,ye,Re){if(Re<z)throw Jt(`Invalid value for '${Q}'. Expected ${z} or greater.`);if(Re>ye)throw Jt(`Invalid value for '${Q}'. Expected ${ye} or less.`)}function hn(Q,z,ye){let Re=z;return null==ye&&(Re=`https://${z}`),`${ye}://${Re}/v0${Q}`}function on(Q){const z=encodeURIComponent;let ye="?";for(const Re in Q)Q.hasOwnProperty(Re)&&(ye=ye+(z(Re)+"=")+z(Q[Re])+"&");return ye=ye.slice(0,-1),ye}var Fn=function(Q){return Q[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT",Q}(Fn||{});function In(Q,z){const ye=Q>=500&&Q<600,Ye=-1!==[408,429].indexOf(Q),yt=-1!==z.indexOf(Q);return ye||Ye||yt}class dr{constructor(z,ye,Re,Ye,yt,Yt,mn,Rt,gn,sr,Rn,mi=!0){this.url_=z,this.method_=ye,this.headers_=Re,this.body_=Ye,this.successCodes_=yt,this.additionalRetryCodes_=Yt,this.callback_=mn,this.errorCallback_=Rt,this.timeout_=gn,this.progressCallback_=sr,this.connectionFactory_=Rn,this.retry=mi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ir,Zr)=>{this.resolve_=Ir,this.reject_=Zr,this.start_()})}start_(){const ye=(Re,Ye)=>{const yt=this.resolve_,Yt=this.reject_,mn=Ye.connection;if(Ye.wasSuccessCode)try{const Rt=this.callback_(mn,mn.getResponse());!function Fe(Q){return void 0!==Q}(Rt)?yt():yt(Rt)}catch(Rt){Yt(Rt)}else if(null!==mn){const Rt=at();Rt.serverResponse=mn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(mn,Rt):Rt)}else Yt(Ye.canceled?this.appDelete_?dn():et():cn())};this.canceled_?ye(0,new Gt(!1,null,!0)):this.backoffId_=function Me(Q,z,ye){let Re=1,Ye=null,yt=null,Yt=!1,mn=0;function Rt(){return 2===mn}let gn=!1;function sr(...Lr){gn||(gn=!0,z.apply(null,Lr))}function Rn(Lr){Ye=setTimeout(()=>{Ye=null,Q(Ir,Rt())},Lr)}function mi(){yt&&clearTimeout(yt)}function Ir(Lr,...Yi){if(gn)return void mi();if(Lr)return mi(),void sr.call(null,Lr,...Yi);if(Rt()||Yt)return mi(),void sr.call(null,Lr,...Yi);let ir;Re<64&&(Re*=2),1===mn?(mn=2,ir=0):ir=1e3*(Re+Math.random()),Rn(ir)}let Zr=!1;function oi(Lr){Zr||(Zr=!0,mi(),!gn&&(null!==Ye?(Lr||(mn=2),clearTimeout(Ye),Rn(0)):Lr||(mn=1)))}return Rn(0),yt=setTimeout(()=>{Yt=!0,oi(!0)},ye),oi}((Re,Ye)=>{if(Ye)return void Re(!1,new Gt(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const Yt=mn=>{null!==this.progressCallback_&&this.progressCallback_(mn.loaded,mn.lengthComputable?mn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(Yt),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const mn=yt.getErrorCode()===Fn.NO_ERROR,Rt=yt.getStatus();if(!mn||In(Rt,this.additionalRetryCodes_)&&this.retry){const sr=yt.getErrorCode()===Fn.ABORT;return void Re(!1,new Gt(!1,null,sr))}const gn=-1!==this.successCodes_.indexOf(Rt);Re(!0,new Gt(gn,yt))})},ye,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function ue(Q){Q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gt{constructor(z,ye,Re){this.wasSuccessCode=z,this.connection=ye,this.canceled=!!Re}}function yr(...Q){const z=function fn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const ye=new z;for(let Re=0;Re<Q.length;Re++)ye.append(Q[Re]);return ye.getBlob()}if(Tt())return new Blob(Q);throw new Z(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pn{constructor(z,ye){this.data=z,this.contentType=ye||null}}function Tn(Q,z){switch(Q){case _n.RAW:return new Pn(hr(z));case _n.BASE64:case _n.BASE64URL:return new Pn(ti(Q,z));case _n.DATA_URL:return new Pn(function ni(Q){const z=new Hn(Q);return z.base64?ti(_n.BASE64,z.rest):function br(Q){let z;try{z=decodeURIComponent(Q)}catch{throw Pt(_n.DATA_URL,"Malformed data URL.")}return hr(z)}(z.rest)}(z),function Ki(Q){return new Hn(Q).contentType}(z))}throw at()}function hr(Q){const z=[];for(let ye=0;ye<Q.length;ye++){let Re=Q.charCodeAt(ye);Re<=127?z.push(Re):Re<=2047?z.push(192|Re>>6,128|63&Re):55296==(64512&Re)?ye<Q.length-1&&56320==(64512&Q.charCodeAt(ye+1))?(Re=65536|(1023&Re)<<10|1023&Q.charCodeAt(++ye),z.push(240|Re>>18,128|Re>>12&63,128|Re>>6&63,128|63&Re)):z.push(239,191,189):56320==(64512&Re)?z.push(239,191,189):z.push(224|Re>>12,128|Re>>6&63,128|63&Re)}return new Uint8Array(z)}function ti(Q,z){switch(Q){case _n.BASE64:{const Ye=-1!==z.indexOf("-"),yt=-1!==z.indexOf("_");if(Ye||yt)throw Pt(Q,"Invalid character '"+(Ye?"-":"_")+"' found: is it base64url encoded?");break}case _n.BASE64URL:{const Ye=-1!==z.indexOf("+"),yt=-1!==z.indexOf("/");if(Ye||yt)throw Pt(Q,"Invalid character '"+(Ye?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let ye;try{ye=function Ut(Q){if(typeof atob>"u")throw function be(Q){return new Z(ce.UNSUPPORTED_ENVIRONMENT,`${Q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Q)}(z)}catch(Ye){throw Ye.message.includes("polyfill")?Ye:Pt(Q,"Invalid character found")}const Re=new Uint8Array(ye.length);for(let Ye=0;Ye<ye.length;Ye++)Re[Ye]=ye.charCodeAt(Ye);return Re}class Hn{constructor(z){this.base64=!1,this.contentType=null;const ye=z.match(/^data:([^,]+)?,/);if(null===ye)throw Pt(_n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Re=ye[1]||null;null!=Re&&(this.base64=function ln(Q,z){return Q.length>=z.length&&Q.substring(Q.length-z.length)===z}(Re,";base64"),this.contentType=this.base64?Re.substring(0,Re.length-7):Re),this.rest=z.substring(z.indexOf(",")+1)}}class ri{constructor(z,ye){let Re=0,Ye="";Ge(z)?(this.data_=z,Re=z.size,Ye=z.type):z instanceof ArrayBuffer?(ye?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),Re=this.data_.length):z instanceof Uint8Array&&(ye?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),Re=z.length),this.size_=Re,this.type_=Ye}size(){return this.size_}type(){return this.type_}slice(z,ye){if(Ge(this.data_)){const Ye=function Wn(Q,z,ye){return Q.webkitSlice?Q.webkitSlice(z,ye):Q.mozSlice?Q.mozSlice(z,ye):Q.slice?Q.slice(z,ye):null}(this.data_,z,ye);return null===Ye?null:new ri(Ye)}{const Re=new Uint8Array(this.data_.buffer,z,ye-z);return new ri(Re,!0)}}static getBlob(...z){if(Tt()){const ye=z.map(Re=>Re instanceof ri?Re.data_:Re);return new ri(yr.apply(null,ye))}{const ye=z.map(Yt=>Se(Yt)?Tn(_n.RAW,Yt).data:Yt.data_);let Re=0;ye.forEach(Yt=>{Re+=Yt.byteLength});const Ye=new Uint8Array(Re);let yt=0;return ye.forEach(Yt=>{for(let mn=0;mn<Yt.length;mn++)Ye[yt++]=Yt[mn]}),new ri(Ye,!0)}}uploadData(){return this.data_}}function Yn(Q){let z;try{z=JSON.parse(Q)}catch{return null}return function xe(Q){return"object"==typeof Q&&!Array.isArray(Q)}(z)?z:null}function Ei(Q){const z=Q.lastIndexOf("/",Q.length-2);return-1===z?Q:Q.slice(z+1)}function Ke(Q,z){return z}class mt{constructor(z,ye,Re,Ye){this.server=z,this.local=ye||z,this.writable=!!Re,this.xform=Ye||Ke}}let ie=null;function ft(){if(ie)return ie;const Q=[];Q.push(new mt("bucket")),Q.push(new mt("generation")),Q.push(new mt("metageneration")),Q.push(new mt("name","fullPath",!0));const ye=new mt("name");ye.xform=function z(yt,Yt){return function Ie(Q){return!Se(Q)||Q.length<2?Q:Ei(Q)}(Yt)},Q.push(ye);const Ye=new mt("size");return Ye.xform=function Re(yt,Yt){return void 0!==Yt?Number(Yt):Yt},Q.push(Ye),Q.push(new mt("timeCreated")),Q.push(new mt("updated")),Q.push(new mt("md5Hash",null,!0)),Q.push(new mt("cacheControl",null,!0)),Q.push(new mt("contentDisposition",null,!0)),Q.push(new mt("contentEncoding",null,!0)),Q.push(new mt("contentLanguage",null,!0)),Q.push(new mt("contentType",null,!0)),Q.push(new mt("metadata","customMetadata",!0)),ie=Q,ie}function wr(Q,z,ye){const Re=Yn(z);return null===Re?null:function Mn(Q,z,ye){const Re={type:"file"},Ye=ye.length;for(let yt=0;yt<Ye;yt++){const Yt=ye[yt];Re[Yt.local]=Yt.xform(Re,z[Yt.server])}return function Kt(Q,z){Object.defineProperty(Q,"ref",{get:function ye(){const yt=new qt(Q.bucket,Q.fullPath);return z._makeStorageReference(yt)}})}(Re,Q),Re}(Q,Re,ye)}function Oe(Q,z){const ye={},Re=z.length;for(let Ye=0;Ye<Re;Ye++){const yt=z[Ye];yt.writable&&(ye[yt.server]=Q[yt.local])}return JSON.stringify(ye)}const ee="prefixes",H="items";class le{constructor(z,ye,Re,Ye){this.url=z,this.method=ye,this.handler=Re,this.timeout=Ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function je(Q){if(!Q)throw at()}function It(Q,z){return function ye(Re,Ye){const yt=wr(Q,Ye,z);return je(null!==yt),yt}}function tn(Q){return function z(ye,Re){let Ye;return Ye=401===ye.getStatus()?ye.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new Z(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ct(){return new Z(ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ye.getStatus()?function bt(Q){return new Z(ce.QUOTA_EXCEEDED,"Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Q.bucket):403===ye.getStatus()?function Mt(Q){return new Z(ce.UNAUTHORIZED,"User does not have permission to access '"+Q+"'.")}(Q.path):Re,Ye.status=ye.getStatus(),Ye.serverResponse=Re.serverResponse,Ye}}function un(Q){const z=tn(Q);return function ye(Re,Ye){let yt=z(Re,Ye);return 404===Re.getStatus()&&(yt=function Xe(Q){return new Z(ce.OBJECT_NOT_FOUND,"Object '"+Q+"' does not exist.")}(Q.path)),yt.serverResponse=Ye.serverResponse,yt}}function rr(Q,z,ye){const Ye=hn(z.fullServerUrl(),Q.host,Q._protocol),Yt=Q.maxOperationRetryTime,mn=new le(Ye,"GET",It(Q,ye),Yt);return mn.errorHandler=un(z),mn}function An(Q,z,ye,Re,Ye){const yt={};yt.prefix=z.isRoot?"":z.path+"/",ye&&ye.length>0&&(yt.delimiter=ye),Re&&(yt.pageToken=Re),Ye&&(yt.maxResults=Ye);const mn=hn(z.bucketOnlyServerUrl(),Q.host,Q._protocol),gn=Q.maxOperationRetryTime,sr=new le(mn,"GET",function Ot(Q,z){return function ye(Re,Ye){const yt=function F(Q,z,ye){const Re=Yn(ye);return null===Re?null:function V(Q,z,ye){const Re={prefixes:[],items:[],nextPageToken:ye.nextPageToken};if(ye[ee])for(const Ye of ye[ee]){const yt=Ye.replace(/\/$/,""),Yt=Q._makeStorageReference(new qt(z,yt));Re.prefixes.push(Yt)}if(ye[H])for(const Ye of ye[H]){const yt=Q._makeStorageReference(new qt(z,Ye.name));Re.items.push(yt)}return Re}(Q,z,Re)}(Q,z,Ye);return je(null!==yt),yt}}(Q,z.bucket),gn);return sr.urlParams=yt,sr.errorHandler=tn(z),sr}function Pe(Q,z,ye){const Re=Object.assign({},ye);return Re.fullPath=Q.path,Re.size=z.size(),Re.contentType||(Re.contentType=function Li(Q,z){return Q&&Q.contentType||z&&z.type()||"application/octet-stream"}(null,z)),Re}class Ce{constructor(z,ye,Re,Ye){this.current=z,this.total=ye,this.finalized=!!Re,this.metadata=Ye||null}}function Te(Q,z){let ye=null;try{ye=Q.getResponseHeader("X-Goog-Upload-Status")}catch{je(!1)}return je(!!ye&&-1!==(z||["active"]).indexOf(ye)),ye}const On={STATE_CHANGED:"state_changed"},kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qr(Q){switch(Q){case"running":case"pausing":case"canceling":return kn.RUNNING;case"paused":return kn.PAUSED;case"success":return kn.SUCCESS;case"canceled":return kn.CANCELED;default:return kn.ERROR}}class Fr{constructor(z,ye,Re){if(function Qe(Q){return"function"==typeof Q}(z)||null!=ye||null!=Re)this.next=z,this.error=ye??void 0,this.complete=Re??void 0;else{const yt=z;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function ki(Q){return(...z)=>{Promise.resolve().then(()=>Q(...z))}}let qo=null;class Rr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fn.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fn.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fn.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,ye,Re,Ye){if(this.sent_)throw Bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ye,z,!0),void 0!==Ye)for(const yt in Ye)Ye.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,Ye[yt].toString());return void 0!==Re?this.xhr_.send(Re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class vs extends Rr{initXhr(){this.xhr_.responseType="text"}}function Fi(){return qo?qo():new vs}class Pi{constructor(z,ye,Re=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=ye,this._metadata=Re,this._mappings=ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ye=>{if(this._request=void 0,this._chunkMultiplier=1,Ye._codeEquals(ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const yt=this.isExponentialBackoffExpired();if(In(Ye.status,[])){if(!yt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ye=cn()}this._error=Ye,this._transition("error")}},this._metadataErrorHandler=Ye=>{this._request=void 0,Ye._codeEquals(ce.CANCELED)?this.completeTransitions_():(this._error=Ye,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ye,yt)=>{this._resolve=Ye,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return ye=>this._updateProgress(z+ye)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ye,Re])=>{switch(this._state){case"running":z(ye,Re);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,ye)=>{const Re=function pe(Q,z,ye,Re,Ye){const yt=z.bucketOnlyServerUrl(),Yt=Pe(z,Re,Ye),mn={name:Yt.fullPath},Rt=hn(yt,Q.host,Q._protocol),sr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Re.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Rn=Oe(Yt,ye),Zr=new le(Rt,"POST",function Ir(oi){let Lr;Te(oi);try{Lr=oi.getResponseHeader("X-Goog-Upload-URL")}catch{je(!1)}return je(Se(Lr)),Lr},Q.maxUploadRetryTime);return Zr.urlParams=mn,Zr.headers=sr,Zr.body=Rn,Zr.errorHandler=tn(z),Zr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,Fi,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((ye,Re)=>{const Ye=function Et(Q,z,ye,Re){const Rt=new le(ye,"POST",function yt(gn){const sr=Te(gn,["active","final"]);let Rn=null;try{Rn=gn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{je(!1)}Rn||je(!1);const mi=Number(Rn);return je(!isNaN(mi)),new Ce(mi,Re.size(),"final"===sr)},Q.maxUploadRetryTime);return Rt.headers={"X-Goog-Upload-Command":"query"},Rt.errorHandler=tn(z),Rt}(this._ref.storage,this._ref._location,z,this._blob),yt=this._ref.storage._makeRequest(Ye,Fi,ye,Re);this._request=yt,yt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,ye=new Ce(this._transferred,this._blob.size()),Re=this._uploadUrl;this._resolveToken((Ye,yt)=>{let Yt;try{Yt=function Dn(Q,z,ye,Re,Ye,yt,Yt,mn){const Rt=new Ce(0,0);if(Yt?(Rt.current=Yt.current,Rt.total=Yt.total):(Rt.current=0,Rt.total=Re.size()),Re.size()!==Rt.total)throw function wt(){return new Z(ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const gn=Rt.total-Rt.current;let sr=gn;Ye>0&&(sr=Math.min(sr,Ye));const Rn=Rt.current;let Ir="";Ir=0===sr?"finalize":gn===sr?"upload, finalize":"upload";const Zr={"X-Goog-Upload-Command":Ir,"X-Goog-Upload-Offset":`${Rt.current}`},oi=Re.slice(Rn,Rn+sr);if(null===oi)throw rt();const ir=new le(ye,"POST",function Lr(bi,si){const fr=Te(bi,["active","final"]),Cs=Rt.current+sr,Ai=Re.size();let bs;return bs="final"===fr?It(z,yt)(bi,si):null,new Ce(Cs,Ai,"final"===fr,bs)},z.maxUploadRetryTime);return ir.headers=Zr,ir.body=oi.uploadData(),ir.progressCallback=mn||null,ir.errorHandler=tn(Q),ir}(this._ref._location,this._ref.storage,Re,this._blob,z,this._mappings,ye,this._makeProgressCallback())}catch(Rt){return this._error=Rt,void this._transition("error")}const mn=this._ref.storage._makeRequest(Yt,Fi,Ye,yt,!1);this._request=mn,mn.getPromise().then(Rt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Rt.current),Rt.finalized?(this._metadata=Rt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,ye)=>{const Re=rr(this._ref.storage,this._ref._location,this._mappings),Ye=this._ref.storage._makeRequest(Re,Fi,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,ye)=>{const Re=function Lt(Q,z,ye,Re,Ye){const yt=z.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},Rt=function mn(){let ir="";for(let bi=0;bi<2;bi++)ir+=Math.random().toString().slice(2);return ir}();Yt["Content-Type"]="multipart/related; boundary="+Rt;const gn=Pe(z,Re,Ye),sr=Oe(gn,ye),Ir=ri.getBlob("--"+Rt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sr+"\r\n--"+Rt+"\r\nContent-Type: "+gn.contentType+"\r\n\r\n",Re,"\r\n--"+Rt+"--");if(null===Ir)throw rt();const Zr={name:gn.fullPath},oi=hn(yt,Q.host,Q._protocol),Yi=Q.maxUploadRetryTime,Xi=new le(oi,"POST",It(Q,ye),Yi);return Xi.urlParams=Zr,Xi.headers=Yt,Xi.body=Ir.uploadData(),Xi.errorHandler=tn(z),Xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,Fi,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const ye=this._transferred;this._transferred=z,this._transferred!==ye&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ye="paused"===this._state;this._state=z,ye&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=et(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=qr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,ye,Re,Ye){const yt=new Fr(ye||void 0,Re||void 0,Ye||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(z,ye){return this._promise.then(z,ye)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const ye=this._observers.indexOf(z);-1!==ye&&this._observers.splice(ye,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ye=>{this._notifyObserver(ye)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(qr(this._state)){case kn.SUCCESS:ki(this._resolve.bind(null,this.snapshot))();break;case kn.CANCELED:case kn.ERROR:ki(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(qr(this._state)){case kn.RUNNING:case kn.PAUSED:z.next&&ki(z.next.bind(z,this.snapshot))();break;case kn.SUCCESS:z.complete&&ki(z.complete.bind(z))();break;default:z.error&&ki(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class Gi{constructor(z,ye){this._service=z,this._location=ye instanceof qt?ye:qt.makeFromUrl(ye,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,ye){return new Gi(z,ye)}get root(){const z=new qt(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ei(this._location.path)}get storage(){return this._service}get parent(){const z=function gr(Q){if(0===Q.length)return null;const z=Q.lastIndexOf("/");return-1===z?"":Q.slice(0,z)}(this._location.path);if(null===z)return null;const ye=new qt(this._location.bucket,z);return new Gi(this._service,ye)}_throwIfRoot(z){if(""===this._location.path)throw nr(z)}}function Bi(Q,z,ye){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.A)(function*(Q,z,ye){const Ye=yield Ss(Q,{pageToken:ye});z.prefixes.push(...Ye.prefixes),z.items.push(...Ye.items),null!=Ye.nextPageToken&&(yield Bi(Q,z,Ye.nextPageToken))})).apply(this,arguments)}function Ss(Q,z){null!=z&&"number"==typeof z.maxResults&&xt("options.maxResults",1,1e3,z.maxResults);const ye=z||{},Re=An(Q.storage,Q._location,"/",ye.pageToken,ye.maxResults);return Q.storage.makeRequestWithTokens(Re,Fi)}function ko(Q){Q._throwIfRoot("getDownloadURL");const z=function Er(Q,z,ye){const Ye=hn(z.fullServerUrl(),Q.host,Q._protocol),Yt=Q.maxOperationRetryTime,mn=new le(Ye,"GET",function pn(Q,z){return function ye(Re,Ye){const yt=wr(Q,Ye,z);return je(null!==yt),function cr(Q,z,ye,Re){const Ye=Yn(z);if(null===Ye||!Se(Ye.downloadTokens))return null;const yt=Ye.downloadTokens;if(0===yt.length)return null;const Yt=encodeURIComponent;return yt.split(",").map(gn=>{const Rn=Q.fullPath;return hn("/b/"+Yt(Q.bucket)+"/o/"+Yt(Rn),ye,Re)+on({alt:"media",token:gn})})[0]}(yt,Ye,Q.host,Q._protocol)}}(Q,ye),Yt);return mn.errorHandler=un(z),mn}(Q.storage,Q._location,ft());return Q.storage.makeRequestWithTokens(z,Fi).then(ye=>{if(null===ye)throw function Ft(){return new Z(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ye})}function bo(Q,z){const ye=function Nn(Q,z){const ye=z.split("/").filter(Re=>Re.length>0).join("/");return 0===Q.length?ye:Q+"/"+ye}(Q._location.path,z),Re=new qt(Q._location.bucket,ye);return new Gi(Q.storage,Re)}function lo(Q,z){if(Q instanceof Ti){const ye=Q;if(null==ye._bucket)throw function Ze(){return new Z(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Re=new Gi(ye,ye._bucket);return null!=z?lo(Re,z):Re}return void 0!==z?bo(Q,z):Q}function ns(Q,z){if(z&&function Yo(Q){return/^[A-Za-z]+:\/\//.test(Q)}(z)){if(Q instanceof Ti)return function Es(Q,z){return new Gi(Q,z)}(Q,z);throw Jt("To use ref(service, url), the first argument must be a Storage instance.")}return lo(Q,z)}function Qn(Q,z){const ye=z?.[De];return null==ye?null:qt.makeFromBucketSpec(ye,Q)}class Ti{constructor(z,ye,Re,Ye,yt){this.app=z,this._authProvider=ye,this._appCheckProvider=Re,this._url=Ye,this._firebaseVersion=yt,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?qt.makeFromBucketSpec(Ye,this._host):Qn(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?qt.makeFromBucketSpec(this._url,z):Qn(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,a.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const ye=z._authProvider.getImmediate({optional:!0});if(ye){const Re=yield ye.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,a.A)(function*(){const ye=z._appCheckProvider.getImmediate({optional:!0});return ye?(yield ye.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new Gi(this,z)}_makeRequest(z,ye,Re,Ye,yt=!0){if(this._deleted)return new ct(dn());{const Yt=function jr(Q,z,ye,Re,Ye,yt,Yt=!0){const mn=on(Q.urlParams),Rt=Q.url+mn,gn=Object.assign({},Q.headers);return function Wt(Q,z){z&&(Q["X-Firebase-GMPID"]=z)}(gn,z),function wn(Q,z){null!==z&&z.length>0&&(Q.Authorization="Firebase "+z)}(gn,ye),function $n(Q,z){Q["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(gn,yt),function Vt(Q,z){null!==z&&(Q["X-Firebase-AppCheck"]=z)}(gn,Re),new dr(Rt,Q.method,gn,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,Ye,Yt)}(z,this._appId,Re,Ye,ye,this._firebaseVersion,yt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(z,ye){var Re=this;return(0,a.A)(function*(){const[Ye,yt]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(z,ye,Ye,yt).getPromise()})()}}const uo="@firebase/storage",wi="storage";function qi(Q,z,ye){return function Vr(Q,z,ye){return Q._throwIfRoot("uploadBytesResumable"),new Pi(Q,new ri(z),ye)}(Q=(0,o.Ku)(Q),z,ye)}function Mr(Q){return function Ui(Q){Q._throwIfRoot("getMetadata");const z=rr(Q.storage,Q._location,ft());return Q.storage.makeRequestWithTokens(z,Fi)}(Q=(0,o.Ku)(Q))}function Zt(Q,z){return function na(Q,z){Q._throwIfRoot("updateMetadata");const ye=function Oo(Q,z,ye,Re){const yt=hn(z.fullServerUrl(),Q.host,Q._protocol),mn=Oe(ye,Re),gn=Q.maxOperationRetryTime,sr=new le(yt,"PATCH",It(Q,Re),gn);return sr.headers={"Content-Type":"application/json; charset=utf-8"},sr.body=mn,sr.errorHandler=un(z),sr}(Q.storage,Q._location,z,ft());return Q.storage.makeRequestWithTokens(ye,Fi)}(Q=(0,o.Ku)(Q),z)}function jn(Q,z){return Ss(Q=(0,o.Ku)(Q),z)}function lr(Q){return function co(Q){const z={prefixes:[],items:[]};return Bi(Q,z).then(()=>z)}(Q=(0,o.Ku)(Q))}function ji(Q){return ko(Q=(0,o.Ku)(Q))}function ro(Q){return function ui(Q){Q._throwIfRoot("deleteObject");const z=function ii(Q,z){const Re=hn(z.fullServerUrl(),Q.host,Q._protocol),mn=new le(Re,"DELETE",function Yt(Rt,gn){},Q.maxOperationRetryTime);return mn.successCodes=[200,204],mn.errorHandler=un(z),mn}(Q.storage,Q._location);return Q.storage.makeRequestWithTokens(z,Fi)}(Q=(0,o.Ku)(Q))}function gi(Q,z){return ns(Q=(0,o.Ku)(Q),z)}function Io(Q,z){return bo(Q,z)}function Hr(Q=(0,ae.getApp)(),z){Q=(0,o.Ku)(Q);const Re=(0,ae._getProvider)(Q,wi).getImmediate({identifier:z}),Ye=(0,o.yU)("storage");return Ye&&Fo(Re,...Ye),Re}function Fo(Q,z,ye,Re={}){!function fi(Q,z,ye,Re={}){Q.host=`${z}:${ye}`,Q._protocol="http";const{mockUserToken:Ye}=Re;Ye&&(Q._overrideAuthToken="string"==typeof Ye?Ye:(0,o.Fy)(Ye,Q.app.options.projectId))}(Q,z,ye,Re)}function To(Q,{instanceIdentifier:z}){const ye=Q.getProvider("app").getImmediate(),Re=Q.getProvider("auth-internal"),Ye=Q.getProvider("app-check-internal");return new Ti(ye,Re,Ye,z,ae.SDK_VERSION)}!function vi(){(0,ae._registerComponent)(new Ae.uA(wi,To,"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(uo,"0.12.5",""),(0,ae.registerVersion)(uo,"0.12.5","esm2017")}()},1076:(rn,Je,L)=>{L.d(Je,{Am:()=>Ut,Bd:()=>Jt,FA:()=>Ge,Fy:()=>rt,I9:()=>_n,Im:()=>Vt,Ku:()=>cr,Ll:()=>be,T9:()=>We,Uj:()=>Be,XA:()=>ot,ZQ:()=>wt,bD:()=>fn,cY:()=>Ze,eX:()=>Fe,g:()=>Se,gR:()=>$n,hp:()=>Pn,jZ:()=>Ft,lT:()=>Bt,lV:()=>nr,nr:()=>Me,sr:()=>dn,tD:()=>hr,u:()=>Z,yU:()=>et,zW:()=>ue,zw:()=>me});const Ae=function(Oe){const ee=[];let H=0;for(let V=0;V<Oe.length;V++){let F=Oe.charCodeAt(V);F<128?ee[H++]=F:F<2048?(ee[H++]=F>>6|192,ee[H++]=63&F|128):55296==(64512&F)&&V+1<Oe.length&&56320==(64512&Oe.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&Oe.charCodeAt(++V)),ee[H++]=F>>18|240,ee[H++]=F>>12&63|128,ee[H++]=F>>6&63|128,ee[H++]=63&F|128):(ee[H++]=F>>12|224,ee[H++]=F>>6&63|128,ee[H++]=63&F|128)}return ee},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,ee){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<Oe.length;F+=3){const le=Oe[F],je=F+1<Oe.length,It=je?Oe[F+1]:0,Ot=F+2<Oe.length,pn=Ot?Oe[F+2]:0;let rr=(15&It)<<2|pn>>6,An=63&pn;Ot||(An=64,je||(rr=64)),V.push(H[le>>2],H[(3&le)<<4|It>>4],H[rr],H[An])}return V.join("")},encodeString(Oe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(Oe):this.encodeByteArray(Ae(Oe),ee)},decodeString(Oe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(Oe):function(Oe){const ee=[];let H=0,V=0;for(;H<Oe.length;){const F=Oe[H++];if(F<128)ee[V++]=String.fromCharCode(F);else if(F>191&&F<224){const le=Oe[H++];ee[V++]=String.fromCharCode((31&F)<<6|63&le)}else if(F>239&&F<365){const Ot=((7&F)<<18|(63&Oe[H++])<<12|(63&Oe[H++])<<6|63&Oe[H++])-65536;ee[V++]=String.fromCharCode(55296+(Ot>>10)),ee[V++]=String.fromCharCode(56320+(1023&Ot))}else{const le=Oe[H++],je=Oe[H++];ee[V++]=String.fromCharCode((15&F)<<12|(63&le)<<6|63&je)}}return ee.join("")}(this.decodeStringToByteArray(Oe,ee))},decodeStringToByteArray(Oe,ee){this.init_();const H=ee?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<Oe.length;){const le=H[Oe.charAt(F++)],It=F<Oe.length?H[Oe.charAt(F)]:0;++F;const pn=F<Oe.length?H[Oe.charAt(F)]:64;++F;const un=F<Oe.length?H[Oe.charAt(F)]:64;if(++F,null==le||null==It||null==pn||null==un)throw new Ne;V.push(le<<2|It>>4),64!==pn&&(V.push(It<<4&240|pn>>2),64!==un&&V.push(pn<<6&192|un))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Oe){return function(Oe){const ee=Ae(Oe);return De.encodeByteArray(ee,!0)}(Oe).replace(/\./g,"")},Z=function(Oe){try{return De.decodeString(Oe,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function me(Oe,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return ee}for(const H in ee)!ee.hasOwnProperty(H)||!at(H)||(Oe[H]=me(Oe[H],ee[H]));return Oe}function at(Oe){return"__proto__"!==Oe}const Mt=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if(typeof document>"u")return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=Oe&&Z(Oe[1]);return ee&&JSON.parse(ee)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},et=Oe=>{const ee=(Oe=>{var ee,H;return null===(H=null===(ee=Mt())||void 0===ee?void 0:ee.emulatorHosts)||void 0===H?void 0:H[Oe]})(Oe);if(!ee)return;const H=ee.lastIndexOf(":");if(H<=0||H+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const V=parseInt(ee.substring(H+1),10);return"["===ee[0]?[ee.substring(1,H-1),V]:[ee.substring(0,H),V]},We=()=>{var Oe;return null===(Oe=Mt())||void 0===Oe?void 0:Oe.config},ot=Oe=>{var ee;return null===(ee=Mt())||void 0===ee?void 0:ee[`_${Oe}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,H)=>{this.resolve=ee,this.reject=H})}wrapCallback(ee){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(H):ee(H,V))}}}function rt(Oe,ee){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ee||"demo-project",F=Oe.iat||0,le=Oe.sub||Oe.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(je)),""].join(".")}function wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function be(){var Oe;const ee=null===(Oe=Mt())||void 0===Oe?void 0:Oe.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Jt(){return"object"==typeof self&&self.self===self}function dn(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const Oe=wt();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function Me(){return!be()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Oe,ee)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(V),Oe(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var le;ee((null===(le=F.error)||void 0===le?void 0:le.message)||"")}}catch(H){ee(H)}})}class Se extends Error{constructor(ee,H,V){super(H),this.code=ee,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(ee,H,V){this.service=ee,this.serviceName=H,this.errors=V}create(ee,...H){const V=H[0]||{},F=`${this.service}/${ee}`,le=this.errors[ee],je=le?function Tt(Oe,ee){return Oe.replace(xt,(H,V)=>{const F=ee[V];return null!=F?String(F):`<${V}?>`})}(le,V):"Error";return new Se(F,`${this.serviceName}: ${je} (${F}).`,V)}}const xt=/\{\$([^}]+)}/g;function $n(Oe,ee){return Object.prototype.hasOwnProperty.call(Oe,ee)}function Vt(Oe){for(const ee in Oe)if(Object.prototype.hasOwnProperty.call(Oe,ee))return!1;return!0}function fn(Oe,ee){if(Oe===ee)return!0;const H=Object.keys(Oe),V=Object.keys(ee);for(const F of H){if(!V.includes(F))return!1;const le=Oe[F],je=ee[F];if(yr(le)&&yr(je)){if(!fn(le,je))return!1}else if(le!==je)return!1}for(const F of V)if(!H.includes(F))return!1;return!0}function yr(Oe){return null!==Oe&&"object"==typeof Oe}function Ut(Oe){const ee=[];for(const[H,V]of Object.entries(Oe))Array.isArray(V)?V.forEach(F=>{ee.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):ee.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return ee.length?"&"+ee.join("&"):""}function _n(Oe){const ee={};return Oe.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,le]=V.split("=");ee[decodeURIComponent(F)]=decodeURIComponent(le)}}),ee}function Pn(Oe){const ee=Oe.indexOf("?");if(!ee)return"";const H=Oe.indexOf("#",ee);return Oe.substring(ee,H>0?H:void 0)}function hr(Oe,ee){const H=new br(Oe,ee);return H.subscribe.bind(H)}class br{constructor(ee,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{ee(this)}).catch(V=>{this.error(V)})}next(ee){this.forEachObserver(H=>{H.next(ee)})}error(ee){this.forEachObserver(H=>{H.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,H,V){let F;if(void 0===ee&&void 0===H&&void 0===V)throw new Error("Missing Observer.");F=function Hn(Oe,ee){if("object"!=typeof Oe||null===Oe)return!1;for(const H of ee)if(H in Oe&&"function"==typeof Oe[H])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:H,complete:V},void 0===F.next&&(F.next=ni),void 0===F.error&&(F.error=ni),void 0===F.complete&&(F.complete=ni);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),le}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,ee)}sendOne(ee,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{H(this.observers[ee])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}function cr(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},3739:(rn,Je,L)=>{L.d(Je,{W:()=>he});var a=L(7705),ae=L(345),o=L(177);function Ae(De,Ne){1&De&&(a.j41(0,"button",4),a.EFF(1,"Schedule A Visit"),a.k0s())}let he=(()=>{class De{constructor(Le){this.sanitizer=Le}set content(Le){this._content=Le,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Le)}get content(){return this._content}static#e=this.\u0275fac=function(Be){return new(Be||De)(a.rXU(ae.up))};static#t=this.\u0275cmp=a.VBU({type:De,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Be,Z){1&Be&&(a.j41(0,"div",0)(1,"h2",1),a.EFF(2),a.k0s(),a.nrm(3,"h4",2),a.DNE(4,Ae,2,0,"button",3),a.k0s()),2&Be&&(a.R7$(2),a.JRh(Z.title),a.R7$(1),a.Y8G("innerHTML",Z.content,a.npT),a.R7$(1),a.Y8G("ngIf",Z.showBtn))},dependencies:[o.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}return De})()},491:(rn,Je,L)=>{L.d(Je,{G:()=>ae});var a=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(De,Ne){1&De&&(a.j41(0,"section",0)(1,"div",1)(2,"h2"),a.EFF(3),a.k0s(),a.j41(4,"h4"),a.EFF(5),a.k0s()(),a.j41(6,"div",2),a.nrm(7,"img",3),a.k0s()()),2&De&&(a.R7$(3),a.JRh(Ne.title),a.R7$(2),a.JRh(Ne.content),a.R7$(2),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4593:(rn,Je,L)=>{L.d(Je,{F:()=>ae});var a=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(De,Ne){1&De&&(a.j41(0,"section",0)(1,"div",1),a.nrm(2,"img",2),a.k0s(),a.j41(3,"div",3)(4,"h2"),a.EFF(5),a.k0s(),a.j41(6,"h4"),a.EFF(7),a.k0s()()()),2&De&&(a.R7$(2),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title),a.R7$(3),a.JRh(Ne.title),a.R7$(2),a.JRh(Ne.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},523:(rn,Je,L)=>{L.d(Je,{B:()=>Li});var a=L(7705),ae=L(6814),o=L(6861),Ae=L(923),he=L(177),De=L(467),Ne=L(8359),Le=L(4412),Be=L(5558),Z=L(8455),ce=L(6354),me=L(8704);function at(Pe,Lt){if(1&Pe&&a.nrm(0,"button",14),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Xe(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",17)(3,"h1",18),a.EFF(4,"Welcome to "),a.nrm(5,"br"),a.EFF(6),a.k0s(),a.j41(7,"div",19),a.nrm(8,"br"),a.j41(9,"p"),a.EFF(10),a.k0s()(),a.j41(11,"button",20),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG(3);return a.Njj(pe.navigateToContact(pe.businessId))}),a.EFF(12," Book Consultation "),a.k0s()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(5),a.SpI(" ",pe.business.businessName,""),a.R7$(4),a.JRh(pe.business.tagline)}}function bt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",4)(1,"div",5),a.DNE(2,at,1,5,"button",6),a.k0s(),a.j41(3,"div",7),a.DNE(4,Xe,13,5,"div",8),a.k0s(),a.j41(5,"button",9),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",12),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function Ct(Pe,Lt){if(1&Pe&&(a.qex(0),a.DNE(1,bt,13,2,"div",3),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("ngIf",Ce.business)}}function jt(Pe,Lt){if(1&Pe&&a.nrm(0,"button",29),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Mt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",30)(3,"div",31)(4,"h1",32),a.EFF(5,"Welcome to "),a.nrm(6,"br"),a.j41(7,"span",33),a.EFF(8),a.k0s()(),a.j41(9,"div",34)(10,"h3"),a.EFF(11),a.k0s()(),a.j41(12,"button",35),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG(3);return a.Njj(pe.navigateToContact(pe.businessId))}),a.EFF(13," Schedule a Visit "),a.k0s()()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(3),a.AVh("slide-up-fade-in",pe.animateText),a.R7$(4),a.JRh(pe.business.businessName),a.R7$(1),a.AVh("slide-down-fade-in",pe.animateText),a.R7$(2),a.JRh(pe.business.tagline)}}function cn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",23)(1,"div",24),a.DNE(2,jt,1,5,"button",25),a.k0s(),a.j41(3,"div",26),a.DNE(4,Mt,14,9,"div",8),a.k0s(),a.j41(5,"button",27),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",28),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}const et=function(Pe){return{opacity:Pe}};function We(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",21),a.DNE(2,cn,13,2,"div",22),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.AVh("scrolled",Ce.isScrolled),a.Y8G("ngStyle",a.eq3(4,et,Ce.scrollOpacity)),a.R7$(1),a.Y8G("ngIf",Ce.business)}}function ot(Pe,Lt){if(1&Pe&&a.nrm(0,"button",44),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Ze(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Compassion in our hearts"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"Excellent care in our hands"),a.k0s(),a.nrm(5,"div",51),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function rt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Personalized care"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"With passion"),a.k0s(),a.j41(5,"div",51)(6,"button",52),a.nrm(7,"i",53),a.EFF(8," Who we are"),a.k0s(),a.j41(9,"button",54),a.nrm(10,"i",53),a.EFF(11," Contact Us"),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function wt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Family owned"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"Friendly atmosphere"),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function Ft(Pe,Lt){}function be(Pe,Lt){if(1&Pe&&(a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",45)(3,"div",46),a.DNE(4,Ze,6,4,"ng-container",47),a.DNE(5,rt,12,4,"ng-container",47),a.DNE(6,wt,5,4,"ng-container",47),a.DNE(7,Ft,0,0,"ng-template",null,48,a.C5r),a.k0s()()()),2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.sdS(8);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(3),a.Y8G("ngIf",0==Te)("ngIfElse",pe),a.R7$(1),a.Y8G("ngIf",1==Te)("ngIfElse",pe),a.R7$(1),a.Y8G("ngIf",2==Te)("ngIfElse",pe)}}function Jt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",38)(1,"div",39),a.DNE(2,ot,1,5,"button",40),a.k0s(),a.j41(3,"div",41),a.DNE(4,be,9,9,"div",8),a.k0s(),a.j41(5,"button",42),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",43),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function dn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",36),a.DNE(2,Jt,13,2,"div",37),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("ngStyle",a.eq3(2,et,Ce.scrollOpacity)),a.R7$(1),a.Y8G("ngIf",Ce.business)}}function nr(Pe,Lt){if(1&Pe&&a.nrm(0,"button",63),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Pt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",64)(3,"h1",65),a.EFF(4,"Welcome to "),a.nrm(5,"br"),a.j41(6,"span",66),a.EFF(7),a.k0s()(),a.j41(8,"div",67)(9,"h3"),a.EFF(10),a.k0s()(),a.j41(11,"button",68),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG(3);return a.Njj(pe.navigateToContact(pe.businessId))}),a.EFF(12," Get Started "),a.k0s()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(6),a.JRh(pe.business.businessName),a.R7$(3),a.JRh(pe.business.tagline)}}function Bt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",57)(1,"div",58),a.DNE(2,nr,1,5,"button",59),a.k0s(),a.j41(3,"div",60),a.DNE(4,Pt,13,5,"div",8),a.k0s(),a.j41(5,"button",61),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",62),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function qt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",55),a.DNE(2,Bt,13,2,"div",56),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(2),a.Y8G("ngIf",Ce.business)}}let ct=(()=>{class Pe{constructor(Ce,Te,pe,Et){this.router=Ce,this.route=Te,this.webContentService=pe,this.businessDataService=Et,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Ne.yU,this.imagesLoaded$=new Le.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const Ce=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-Ce/1200,0)}ngOnInit(){const Ce=this.businessDataService.businessData$.subscribe(pe=>{pe&&(this.business=pe,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(Ce);const Te=this.imagesLoaded$.subscribe(pe=>{pe&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(Te)}loadHeroImages(){var Ce=this;if(!this.businessId)return;const pe=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Be.n)(Et=>{const en=Et.map(function(){var Dn=(0,De.A)(function*(On){return(yield Ce.webContentService.checkImageExists(On.url))?On:null});return function(On){return Dn.apply(this,arguments)}}());return(0,Z.H)(Promise.all(en))}),(0,ce.T)(Et=>Et.filter(en=>null!==en))).subscribe(Et=>{this.heroImages=Et,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(pe)}initializeCarousel(){const Ce=document.querySelector("#heroCarousel");Ce&&(new bootstrap.Carousel(Ce,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(Ce){this.router.navigate(["/contact-us"],{queryParams:{id:Ce}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix),a.rXU(ae.nX),a.rXU(me.N),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-hero-carousel"]],hostBindings:function(Te,pe){1&Te&&a.bIt("scroll",function(){return pe.onScroll()},!1,a.tSv)},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Ct,2,1,"ng-container",1),a.DNE(2,We,3,6,"ng-container",1),a.DNE(3,dn,3,4,"ng-container",1),a.DNE(4,qt,3,1,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.B3,he.ux,he.e1,he.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{padding-left:5%;align-items:center}.ae-h1[_ngcontent-%COMP%]{font-size:2rem;top:60%}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;top:70%}.ae-hero-section[_ngcontent-%COMP%]{height:60vh}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{padding:10px}.ae-h1[_ngcontent-%COMP%]{font-size:1.5rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:40vh}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}return Pe})();function Me(Pe,Lt){if(1&Pe&&(a.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),a.EFF(5),a.k0s(),a.j41(6,"strong"),a.EFF(7),a.k0s()()()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(5),a.SpI('" ',Ce.quote,' "'),a.R7$(2),a.JRh(Ce.name)}}function ue(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Testimonials"),a.k0s()(),a.j41(5,"div",6),a.DNE(6,Me,8,2,"div",7),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.Y8G("ngForOf",Ce.testimonials)}}function Fe(Pe,Lt){if(1&Pe&&(a.j41(0,"div",21)(1,"div",22)(2,"div",23),a.EFF(3,"\u275d"),a.k0s(),a.j41(4,"p",24),a.EFF(5),a.k0s(),a.j41(6,"h4",25),a.EFF(7),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(5),a.JRh(Ce.quote),a.R7$(2),a.JRh(Ce.name)}}function Qe(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),a.EFF(5,"Word of mouth"),a.k0s(),a.j41(6,"p",15),a.EFF(7,"You should hear what people have to say about us"),a.k0s()(),a.j41(8,"div",16)(9,"div",17),a.DNE(10,Fe,8,2,"div",18),a.nI1(11,"slice"),a.k0s(),a.j41(12,"div",19)(13,"button",20),a.EFF(14," View All Testimonials "),a.k0s()()()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",a.brH(11,1,Ce.testimonials,0,4))}}function xe(Pe,Lt){if(1&Pe&&(a.j41(0,"div",36)(1,"p",37),a.EFF(2),a.k0s(),a.j41(3,"div",38)(4,"span"),a.EFF(5),a.k0s()()()),2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.XpG(3);a.AVh("active",pe.currentIndex===Te)("inactive",pe.currentIndex!==Te),a.R7$(2),a.SpI("\u201c",Ce.quote,"\u201d"),a.R7$(3),a.JRh(Ce.name)}}function Se(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"button",39),a.bIt("click",function(){const Et=a.eBV(Ce).index,en=a.XpG(3);return a.Njj(en.setSlide(Et))}),a.k0s()}if(2&Pe){const Ce=Lt.index,Te=a.XpG(3);a.AVh("active",Te.currentIndex===Ce)}}function Ge(Pe,Lt){if(1&Pe&&(a.j41(0,"div",30)(1,"div",31),a.DNE(2,xe,6,6,"div",32),a.k0s(),a.j41(3,"div",33),a.DNE(4,Se,1,2,"button",34),a.k0s(),a.j41(5,"div",35)(6,"button",20),a.EFF(7," View All Testimonials "),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(1),a.xc7("transform","translateX(-"+100*Ce.currentIndex+"%)"),a.R7$(1),a.Y8G("ngForOf",Ce.testimonials),a.R7$(2),a.Y8G("ngForOf",Ce.testimonials)}}function Tt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),a.EFF(5,"Testimonials"),a.k0s()(),a.DNE(6,Ge,8,4,"div",29),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.Y8G("ngIf",Ce.testimonials&&Ce.testimonials.length>0)}}function xt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",47)(1,"div",48),a.nrm(2,"div",49),a.j41(3,"p",50),a.EFF(4),a.k0s()(),a.j41(5,"div",51)(6,"p",52),a.EFF(7),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(4),a.JRh(Ce.quote),a.R7$(3),a.JRh(Ce.name)}}function hn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",40)(2,"div",41)(3,"h2",42),a.EFF(4,"Word of Mouth"),a.k0s(),a.j41(5,"p",43),a.EFF(6,"You should hear what people have to say about us"),a.k0s()(),a.j41(7,"div",44)(8,"div",45),a.DNE(9,xt,8,2,"div",46),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(9),a.Y8G("ngForOf",Ce.testimonials)}}let on=(()=>{class Pe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(Ce){this.currentIndex=Ce,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,ue,7,1,"ng-container",1),a.DNE(2,Qe,15,5,"ng-container",1),a.DNE(3,Tt,7,1,"ng-container",1),a.DNE(4,hn,10,1,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG,ae.Wk,he.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}return Pe})();function Fn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",9),a.nrm(1,"i",10),a.j41(2,"h3",11),a.EFF(3),a.k0s(),a.j41(4,"div",12)(5,"p"),a.EFF(6),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("ngClass",Ce.icon),a.R7$(2),a.JRh(Ce.title),a.R7$(3),a.JRh(Ce.description)}}function In(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our "),a.k0s(),a.j41(5,"span",5),a.EFF(6,"Services"),a.k0s()(),a.j41(7,"h3",6),a.EFF(8,"Home Care From Trained Professionals"),a.k0s(),a.j41(9,"div",7),a.DNE(10,Fn,7,3,"div",8),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",Ce.services)}}function dr(Pe,Lt){if(1&Pe&&(a.j41(0,"div",31)(1,"p"),a.EFF(2),a.k0s()()),2&Pe){const Ce=a.XpG().$implicit;a.R7$(2),a.JRh(Ce.description)}}function Gt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",26),a.bIt("click",function(){const Et=a.eBV(Ce).index,en=a.XpG(2);return a.Njj(en.toggleService(Et))}),a.j41(1,"div",27)(2,"span",28),a.EFF(3),a.k0s(),a.j41(4,"span",29),a.EFF(5),a.k0s()(),a.DNE(6,dr,3,1,"div",30),a.k0s()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,pe=a.XpG(2);a.R7$(3),a.JRh(Ce.title),a.R7$(2),a.JRh(pe.expandedServiceIndex===Te?"-":"+"),a.R7$(1),a.Y8G("ngIf",pe.expandedServiceIndex===Te)}}function wn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),a.EFF(6,"Our "),a.k0s(),a.j41(7,"span",18),a.EFF(8,"Services"),a.k0s()(),a.j41(9,"div",19),a.DNE(10,Gt,7,3,"div",20),a.k0s()(),a.j41(11,"div",21)(12,"div",22),a.nrm(13,"img",23),a.k0s(),a.j41(14,"div",24),a.nrm(15,"img",25),a.k0s()()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",Ce.services)}}let $n=(()=>{class Pe{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(Ce){this.expandedServiceIndex=this.expandedServiceIndex===Ce?null:Ce}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,In,11,1,"ng-container",1),a.DNE(2,wn,16,1,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.YU,he.Sq,he.bT,he.ux,he.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}return Pe})();var Wt=L(3739);function Vt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),a.EFF(5,"We Are "),a.j41(6,"span",6),a.EFF(7),a.k0s()(),a.j41(8,"h1"),a.EFF(9),a.k0s(),a.j41(10,"p"),a.EFF(11),a.k0s(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG();return a.Njj(pe.navigateToContact())}),a.EFF(14,"Contact Us"),a.k0s()()()()(),a.bVm()}if(2&Pe){const Ce=a.XpG();a.R7$(7),a.JRh(null==Ce.business?null:Ce.business.businessName),a.R7$(2),a.JRh(null==Ce.business?null:Ce.business.welcomeMessage),a.R7$(2),a.JRh(null==Ce.business?null:Ce.business.keyServicesHighlights)}}function jr(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Who We Are")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}function fn(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Discover Us")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}function yr(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Who We Are")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}let Wn=(()=>{class Pe{constructor(Ce,Te){this.router=Ce,this.businessDataService=Te,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(Ce=>{Ce&&(console.log("HomeComponent - Using cached business data:",Ce),this.business=Ce)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Vt,15,3,"ng-container",1),a.DNE(2,jr,2,2,"ng-container",1),a.DNE(3,fn,2,2,"ng-container",1),a.DNE(4,yr,2,2,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.ux,he.e1,he.fG,Wt.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return Pe})();function Ut(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",2)(2,"div",3)(3,"span",4),a.EFF(4,"Book a "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Consultation"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," We would love to meet you! Contact us to schedule a tour. "),a.k0s(),a.j41(9,"button",7),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG();return a.Njj(pe.navigateToContact(pe.id))}),a.EFF(10,"Book Consultation"),a.k0s()(),a.bVm()}}function _n(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),a.EFF(6,"Ready to experience "),a.k0s(),a.j41(7,"span",13),a.EFF(8),a.k0s()(),a.j41(9,"p"),a.EFF(10,"Discover what makes our services unique and tailored to your needs."),a.k0s(),a.j41(11,"div",14)(12,"button",15),a.bIt("click",function(){a.eBV(Ce);const pe=a.XpG();return a.Njj(pe.navigateToContact(pe.id))}),a.EFF(13,"Schedule a Visit"),a.k0s()()()()(),a.bVm()}if(2&Pe){const Ce=a.XpG();a.R7$(8),a.SpI("",Ce.businessName,"?")}}let Pn=(()=>{class Pe{constructor(Ce){this.router=Ce,this.id=null,this.layoutType="demo"}navigateToContact(Ce){this.router.navigate(["/contact-us"],{queryParams:{id:Ce}})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Ut,11,0,"ng-container",1),a.DNE(2,_n,14,1,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}return Pe})();function Tn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function hr(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our Unique "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Features"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Tn,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(11),a.Y8G("ngForOf",Ce.uniqueService)}}function br(Pe,Lt){1&Pe&&a.eu8(0)}let ti=(()=>{class Pe{constructor(Ce,Te){this.webContent=Ce,this.route=Te,this.layoutType="demo"}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(me.N),a.rXU(ae.nX))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,hr,12,1,"ng-container",1),a.DNE(2,br,1,0,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}return Pe})();function Hn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function ni(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6," US "),a.k0s()(),a.j41(7,"div",7)(8,"div",8),a.DNE(9,Hn,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(9),a.Y8G("ngForOf",Ce.whyChooseUs)}}function Ki(Pe,Lt){1&Pe&&a.eu8(0)}function ln(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function ri(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6),a.k0s()(),a.j41(7,"p",13),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,ln,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.SpI(" ",Ce.businessName,""),a.R7$(5),a.Y8G("ngForOf",Ce.whyChooseUs)}}let Yn=(()=>{class Pe{constructor(Ce,Te){this.webContent=Ce,this.route=Te,this.layoutType="demo"}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(me.N),a.rXU(ae.nX))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0),a.DNE(1,ni,10,1,"ng-container",1),a.DNE(2,Ki,1,0,"ng-container",1),a.DNE(3,ri,12,2,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",pe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Pe})();var gr=L(4593),Nn=L(491);function Ei(Pe,Lt){if(1&Pe&&(a.j41(0,"div",7),a.nrm(1,"i",8),a.j41(2,"h3",9),a.EFF(3),a.k0s()()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.HbH(Ce.icon),a.R7$(2),a.JRh(Ce.title)}}let Ke=(()=>{class Pe{constructor(){this.services=[]}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a.EFF(4,"Our Services"),a.k0s(),a.j41(5,"div",4),a.DNE(6,Ei,4,3,"div",5),a.k0s(),a.j41(7,"button",6),a.EFF(8,"Learn More"),a.k0s()()()()),2&Te&&(a.R7$(6),a.Y8G("ngForOf",pe.services))},dependencies:[he.Sq,ae.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}return Pe})(),mt=(()=>{class Pe{static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"h1"),a.EFF(3,"Our Motto"),a.k0s(),a.j41(4,"h4"),a.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),a.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}return Pe})(),ie=(()=>{class Pe{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(Te,pe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a.EFF(4),a.k0s(),a.j41(5,"span",4),a.EFF(6,"Years of Experience"),a.k0s()(),a.j41(7,"div",2)(8,"span",3),a.EFF(9),a.k0s(),a.j41(10,"span",4),a.EFF(11,"Happy Families"),a.k0s()(),a.j41(12,"div",2)(13,"span",3),a.EFF(14),a.k0s(),a.j41(15,"span",4),a.EFF(16,"Services Offered"),a.k0s()(),a.j41(17,"div",2)(18,"span",3),a.EFF(19),a.k0s(),a.j41(20,"span",4),a.EFF(21,"Trained Staff"),a.k0s()()()()),2&Te&&(a.xc7("background-image","url("+pe.backgroundImage+")"),a.R7$(4),a.JRh(pe.yearsOfExperience),a.R7$(5),a.JRh(pe.happyFamilies),a.R7$(5),a.JRh(pe.servicesOffered),a.R7$(5),a.JRh(pe.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;height:100%;justify-content:center}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}"]})}return Pe})();function Ie(Pe,Lt){1&Pe&&a.nrm(0,"app-parallax-text")}function ft(Pe,Lt){1&Pe&&a.nrm(0,"app-right-text",10),2&Pe&&a.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Kt(Pe,Lt){1&Pe&&a.nrm(0,"app-left-text",10),2&Pe&&a.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Mn=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},wr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},cr=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Oe=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ee=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},H=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},V=function(Pe,Lt,Ce,Te,pe,Et){return[Pe,Lt,Ce,Te,pe,Et]};function F(Pe,Lt){1&Pe&&a.nrm(0,"app-icon-list",11),2&Pe&&a.Y8G("services",a.l4e(7,V,a.lJ4(1,Mn),a.lJ4(2,wr),a.lJ4(3,cr),a.lJ4(4,Oe),a.lJ4(5,ee),a.lJ4(6,H)))}const le=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},je=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Ot=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},tn=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},rr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},hi=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}};function Er(Pe,Lt){if(1&Pe&&a.nrm(0,"app-our-services-home",12),2&Pe){const Ce=a.XpG();a.Y8G("layoutType",(null==Ce.business||null==Ce.business.theme?null:Ce.business.theme.themeType)||"demo")("services",a.l4e(8,V,a.lJ4(2,le),a.lJ4(3,je),a.lJ4(4,Ot),a.lJ4(5,tn),a.lJ4(6,rr),a.lJ4(7,hi)))}}function Oo(Pe,Lt){1&Pe&&a.nrm(0,"app-parallax-stats",13),2&Pe&&a.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}const ii=function(){return[]};let Li=(()=>{class Pe{constructor(Ce,Te,pe){this.route=Ce,this.metaService=Te,this.businessDataService=pe,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(Ce=>{Ce&&(this.businessId=Ce,this.businessDataService.getBusinessData().subscribe(Te=>{this.business=Te}),this.metaService.loadAndApplyMeta(this.businessId))})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.nX),a.rXU(o.R),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-home"]],decls:12,vars:20,consts:[[3,"layoutType","businessId"],[4,"ngIf"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"id","layoutType","businessName"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"]],template:function(Te,pe){1&Te&&(a.nrm(0,"app-hero-carousel")(1,"app-welcome",0),a.DNE(2,Ie,1,0,"app-parallax-text",1),a.DNE(3,ft,1,3,"app-right-text",2),a.DNE(4,Kt,1,3,"app-left-text",2),a.DNE(5,F,1,14,"app-icon-list",3),a.DNE(6,Er,1,15,"app-our-services-home",4),a.nrm(7,"app-why-us",5)(8,"app-features",6)(9,"app-testimonials",7),a.DNE(10,Oo,1,5,"app-parallax-stats",8),a.nrm(11,"app-consultation",9)),2&Te&&(a.R7$(1),a.Y8G("layoutType",(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)||"demo")("businessId",(null==pe.business?null:pe.business.id)||""),a.R7$(1),a.Y8G("ngIf","ehc"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","hh"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("whyChooseUs",(null==pe.business?null:pe.business.whyChoose)||a.lJ4(18,ii))("layoutType",(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)||"demo")("businessName",(null==pe.business?null:pe.business.businessName)||"Demo"),a.R7$(1),a.Y8G("uniqueService",(null==pe.business?null:pe.business.uniqueService)||a.lJ4(19,ii))("layoutType",(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("testimonials",null==pe.business?null:pe.business.testimonials)("layoutType",(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("ngIf","ehc"===(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)),a.R7$(1),a.Y8G("id",(null==pe.business?null:pe.business.id)||"")("layoutType",(null==pe.business||null==pe.business.theme?null:pe.business.theme.themeType)||"demo")("businessName",(null==pe.business?null:pe.business.businessName)||"Demo"))},dependencies:[he.bT,ct,on,$n,Wn,Pn,ti,Yn,gr.F,Nn.G,Ke,mt,ie]})}return Pe})()},214:(rn,Je,L)=>{L.d(Je,{W:()=>ae});var a=L(7705);let ae=(()=>{class o{constructor(){this.closeModal=new a.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,Ne){1&De&&(a.j41(0,"div",0),a.bIt("click",function(){return Ne.close()}),a.j41(1,"div",1),a.bIt("click",function(Be){return Be.stopPropagation()}),a.j41(2,"button",2),a.bIt("click",function(){return Ne.close()}),a.EFF(3,"Close"),a.k0s(),a.nrm(4,"img",3),a.k0s()()),2&De&&(a.R7$(4),a.Y8G("src",Ne.imageUrl,a.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return o})()},4796:(rn,Je,L)=>{L.d(Je,{u:()=>he});var a=L(6354),ae=L(7705),o=L(1977),Ae=L(6814);let he=(()=>{class De{constructor(Le,Be){this.afAuth=Le,this.router=Be,this.user$=Le.authState}login(Le,Be){return this.afAuth.signInWithEmailAndPassword(Le,Be)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,a.T)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(Be){return new(Be||De)(ae.KVO(o.DS),ae.KVO(Ae.Ix))};static#t=this.\u0275prov=ae.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},923:(rn,Je,L)=>{L.d(Je,{A:()=>De});var a=L(4412),ae=L(6354),o=L(8141),Ae=L(7705),he=L(3012);let De=(()=>{class Ne{constructor(Be){this.businessService=Be,this.businessDataSubject=new a.t(null),this.businessIdSubject=new a.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Be){return console.log("BusinessDataService - loadBusinessData for ID:",Be),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Be).pipe((0,ae.T)(Z=>Z??null),(0,o.M)(Z=>{console.log("BusinessDataService - Business fetched:",Z),this.businessDataSubject.next(Z),this.businessIdSubject.next(Be)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static#e=this.\u0275fac=function(Z){return new(Z||Ne)(Ae.KVO(he.u))};static#t=this.\u0275prov=Ae.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},3012:(rn,Je,L)=>{L.d(Je,{u:()=>Ne});var a=L(7673),ae=L(6354),o=L(5558),Ae=L(7705),he=L(6340),De=L(8721);let Ne=(()=>{class Le{constructor(Z,ce){this.afs=Z,this.storage=ce,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(Z){console.log("Business Created");const ce=this.afs.createId();return this.afs.doc(`${this.basePath}/${ce}`).set({...Z,id:ce}),this.afs.doc(`${this.basePath}/${ce}`).valueChanges().pipe((0,ae.T)(me=>{if(!me)throw new Error("Business not found after creation");return me}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ae.T)(Z=>Z.map(ce=>{const me=ce.payload.doc.data(),at=ce.payload.doc.id,{id:Xe,...bt}=me;return{id:at,...bt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,Z=>Z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(Z){return this.getBusinessData(Z)}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.afs.collection("businesses").doc(ce).snapshotChanges().pipe((0,o.n)(me=>{const at=me.payload.data(),Xe=me.payload.id;if(!at)return(0,a.of)(void 0);const{id:bt,...Ct}=at,jt={id:Xe,...Ct},Mt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Xe}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ae.T)(et=>{const We=et.payload.data()||Mt;return jt.theme=We,jt}))}))}updateBusiness(Z,ce){return this.afs.doc(`${this.basePath}/${Z}`).update(ce)}deleteBusiness(Z){return this.afs.doc(`${this.basePath}/${Z}`).delete()}uploadFile(Z,ce){return this.storage.upload(Z,ce)}getDownloadURL(Z){return this.storage.ref(Z).getDownloadURL()}updateThemeFileName(Z,ce=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ce}`).update({"theme.themeFileName":Z})}getThemeFileName(Z=this.defaultBusinessId){const me=this.afs.collection(this.basePath).doc(Z).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${Z}`),me.get().toPromise().then(at=>{if(at&&at.exists){const Xe=at.data();console.log("Theme document found:",Xe);const bt=Xe?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${bt}`),bt}return console.warn(`No theme document found for business ID: ${Z}. Using default theme.`),"default.css"}).catch(at=>(console.error(`Error fetching theme file name for business ID: ${Z}`,at),"default.css"))}static#e=this.\u0275fac=function(ce){return new(ce||Le)(Ae.KVO(he.Qe),Ae.KVO(De.ap))};static#t=this.\u0275prov=Ae.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},6861:(rn,Je,L)=>{L.d(Je,{R:()=>Ae});var a=L(7705),ae=L(345),o=L(923);let Ae=(()=>{class he{constructor(Ne,Le,Be){this.meta=Ne,this.title=Le,this.businessDataService=Be}updateMetaTags(Ne){this.title.setTitle(Ne.title),this.meta.updateTag({name:"description",content:Ne.description}),this.meta.updateTag({name:"keywords",content:Ne.keywords}),this.meta.updateTag({property:"og:title",content:Ne.title}),this.meta.updateTag({property:"og:description",content:Ne.description})}updateFavicon(Ne){const Le=document.getElementsByTagName("head")[0];let Be=document.querySelector("link[rel*='icon']");Be||(Be=document.createElement("link"),Be.rel="icon",Le.appendChild(Be)),Be.href=Ne}loadAndApplyMeta(Ne){this.businessDataService.loadBusinessData(Ne).subscribe(Le=>{Le?(this.updateMetaTags({title:Le.metaTitle||"Default Title",description:Le.metaDescription||"Default Description",keywords:Le.metaKeywords||"default, keywords"}),Le.faviconUrl&&this.updateFavicon(Le.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static#e=this.\u0275fac=function(Le){return new(Le||he)(a.KVO(ae.W8),a.KVO(ae.hE),a.KVO(o.A))};static#t=this.\u0275prov=a.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},5009:(rn,Je,L)=>{L.d(Je,{F:()=>Be});var a=L(8810),ae=L(8455),o=L(7673),Ae=L(6697),he=L(5558),De=L(9437),Ne=L(7705),Le=L(6340);let Be=(()=>{class Z{constructor(me){this.firestore=me,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(me){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(me){console.log("Theme Service: - Fetching theme for business ID:",me);const at=this.firestore.collection("businesses").doc(me),Xe=at.collection("theme").doc("themeDoc");return at.snapshotChanges().pipe((0,Ae.s)(1),(0,he.n)(bt=>bt.payload.exists?Xe.get().pipe((0,he.n)(Ct=>Ct.exists?(Ct.data(),Xe.valueChanges()):(0,ae.H)(Xe.set(this.defaultTheme)).pipe((0,he.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Xe.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,a.$)("Theme Service: - Business document does not exist"))),(0,De.W)(bt=>(console.error("Error fetching theme:",bt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,o.of)(this.defaultTheme))))}updateColors(me,at){const Xe=this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+me+" theme service updateColors: ",at),Xe.set(at,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),at.themeFileName&&this.applyThemeFile(at.themeFileName)}).catch(bt=>{throw console.error("Theme Service: - Error updating colors:",bt),new Error(bt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(me){return this.loadCss(`assets/themes/${me}`)}loadCss(me){return new Promise((at,Xe)=>{console.log("Load css from  file:",me);const bt=document.createElement("link");bt.rel="stylesheet",bt.href=me,bt.onload=()=>{console.log(`Loaded theme: ${me}`),at()},bt.onerror=Ct=>{console.error(`Failed to load theme: ${me}`,Ct),Xe(Ct)},document.head.appendChild(bt)})}static#e=this.\u0275fac=function(at){return new(at||Z)(Ne.KVO(Le.Qe))};static#t=this.\u0275prov=Ne.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})()},8704:(rn,Je,L)=>{L.d(Je,{N:()=>Ne});var a=L(6354),ae=L(9437),o=L(7673),Ae=L(7705),he=L(6340),De=L(8721);let Ne=(()=>{class Le{constructor(Z,ce){this.firestore=Z,this.storage=ce,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ce).snapshotChanges().pipe((0,a.T)(me=>{const at=me.payload.data(),Xe=me.payload.id;if(at){const{id:bt,testimonials:Ct=[],...jt}=at;return{id:Xe,testimonials:Ct.map(cn=>({...cn,photoURL:cn.photoURL&&cn.photoURL.trim()?cn.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(Z){return this.storage.ref(Z).getDownloadURL().pipe((0,ae.W)(ce=>(console.error("Error fetching photo URL:",ce),(0,o.of)(""))))}getEmployeesByBusinessId(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).get().pipe((0,a.T)(ce=>{if(ce.exists){const me=ce.data();return me&&me.employees?me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ae.W)(ce=>(console.error("Error fetching employees:",ce),(0,o.of)([]))))}getBusinessGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(Z,ce){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection(ce).valueChanges()}checkImageExists(Z){return this.storage.refFromURL(Z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(ce){return new(ce||Le)(Ae.KVO(he.Qe),Ae.KVO(De.ap))};static#t=this.\u0275prov=Ae.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},4669:(rn,Je,L)=>{var a={};L.r(a),L.d(a,{afterMain:()=>Q,afterRead:()=>Kn,afterWrite:()=>Re,applyStyles:()=>mi,arrow:()=>Aa,auto:()=>qi,basePlacements:()=>Mr,beforeMain:()=>To,beforeRead:()=>Fo,beforeWrite:()=>z,bottom:()=>pi,clippingParents:()=>lr,computeStyles:()=>yn,createPopper:()=>Gr,createPopperBase:()=>Or,createPopperLite:()=>yi,detectOverflow:()=>qs,end:()=>jn,eventListeners:()=>po,flip:()=>ls,hide:()=>xa,left:()=>Yr,main:()=>vi,modifierPhases:()=>Ye,offset:()=>ks,placements:()=>Hr,popper:()=>ro,popperGenerator:()=>Cn,popperOffsets:()=>Ys,preventOverflow:()=>sa,read:()=>Vo,reference:()=>gi,right:()=>Vi,start:()=>Zt,top:()=>wi,variationPlacements:()=>Io,viewport:()=>ji,write:()=>ye});var ae=L(345),o=L(7705),Ae=L(7673),he=L(8455),De=L(1985),Ne=L(274),Le=L(5964),Be=L(6354),Z=L(980),ce=L(5558),me=L(177);class at{}class Xe{}class bt{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(h=>{const S=h.indexOf(":");if(S>0){const B=h.slice(0,S),fe=B.toLowerCase(),ve=h.slice(S+1).trim();this.maybeSetNormalizedName(B,fe),this.headers.has(fe)?this.headers.get(fe).push(ve):this.headers.set(fe,[ve])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((h,S)=>{this.setHeaderEntries(S,h)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([h,S])=>{this.setHeaderEntries(h,S)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const h=this.headers.get(g.toLowerCase());return h&&h.length>0?h[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,h){return this.clone({name:g,value:h,op:"a"})}set(g,h){return this.clone({name:g,value:h,op:"s"})}delete(g,h){return this.clone({name:g,value:h,op:"d"})}maybeSetNormalizedName(g,h){this.normalizedNames.has(h)||this.normalizedNames.set(h,g)}init(){this.lazyInit&&(this.lazyInit instanceof bt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(h=>{this.headers.set(h,g.headers.get(h)),this.normalizedNames.set(h,g.normalizedNames.get(h))})}clone(g){const h=new bt;return h.lazyInit=this.lazyInit&&this.lazyInit instanceof bt?this.lazyInit:this,h.lazyUpdate=(this.lazyUpdate||[]).concat([g]),h}applyUpdate(g){const h=g.name.toLowerCase();switch(g.op){case"a":case"s":let S=g.value;if("string"==typeof S&&(S=[S]),0===S.length)return;this.maybeSetNormalizedName(g.name,h);const B=("a"===g.op?this.headers.get(h):void 0)||[];B.push(...S),this.headers.set(h,B);break;case"d":const fe=g.value;if(fe){let ve=this.headers.get(h);if(!ve)return;ve=ve.filter(ht=>-1===fe.indexOf(ht)),0===ve.length?(this.headers.delete(h),this.normalizedNames.delete(h)):this.headers.set(h,ve)}else this.headers.delete(h),this.normalizedNames.delete(h)}}setHeaderEntries(g,h){const S=(Array.isArray(h)?h:[h]).map(fe=>fe.toString()),B=g.toLowerCase();this.headers.set(B,S),this.maybeSetNormalizedName(g,B)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(h=>g(this.normalizedNames.get(h),this.headers.get(h)))}}class jt{encodeKey(g){return We(g)}encodeValue(g){return We(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const cn=/%(\d[a-f0-9])/gi,et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function We(E){return encodeURIComponent(E).replace(cn,(g,h)=>et[h]??g)}function ot(E){return`${E}`}class Ze{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new jt,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mt(E,g){const h=new Map;return E.length>0&&E.replace(/^\?/,"").split("&").forEach(B=>{const fe=B.indexOf("="),[ve,ht]=-1==fe?[g.decodeKey(B),""]:[g.decodeKey(B.slice(0,fe)),g.decodeValue(B.slice(fe+1))],At=h.get(ve)||[];At.push(ht),h.set(ve,At)}),h}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(h=>{const S=g.fromObject[h],B=Array.isArray(S)?S.map(ot):[ot(S)];this.map.set(h,B)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const h=this.map.get(g);return h?h[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,h){return this.clone({param:g,value:h,op:"a"})}appendAll(g){const h=[];return Object.keys(g).forEach(S=>{const B=g[S];Array.isArray(B)?B.forEach(fe=>{h.push({param:S,value:fe,op:"a"})}):h.push({param:S,value:B,op:"a"})}),this.clone(h)}set(g,h){return this.clone({param:g,value:h,op:"s"})}delete(g,h){return this.clone({param:g,value:h,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const h=this.encoder.encodeKey(g);return this.map.get(g).map(S=>h+"="+this.encoder.encodeValue(S)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const h=new Ze({encoder:this.encoder});return h.cloneFrom=this.cloneFrom||this,h.updates=(this.updates||[]).concat(g),h}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const h=("a"===g.op?this.map.get(g.param):void 0)||[];h.push(ot(g.value)),this.map.set(g.param,h);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let S=this.map.get(g.param)||[];const B=S.indexOf(ot(g.value));-1!==B&&S.splice(B,1),S.length>0?this.map.set(g.param,S):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class wt{constructor(){this.map=new Map}set(g,h){return this.map.set(g,h),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function be(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer}function Jt(E){return typeof Blob<"u"&&E instanceof Blob}function dn(E){return typeof FormData<"u"&&E instanceof FormData}class Pt{constructor(g,h,S,B){let fe;if(this.url=h,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function Ft(E){switch(E){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||B?(this.body=void 0!==S?S:null,fe=B):fe=S,fe&&(this.reportProgress=!!fe.reportProgress,this.withCredentials=!!fe.withCredentials,fe.responseType&&(this.responseType=fe.responseType),fe.headers&&(this.headers=fe.headers),fe.context&&(this.context=fe.context),fe.params&&(this.params=fe.params)),this.headers||(this.headers=new bt),this.context||(this.context=new wt),this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=h;else{const ht=h.indexOf("?");this.urlWithParams=h+(-1===ht?"?":ht<h.length-1?"&":"")+ve}}else this.params=new Ze,this.urlWithParams=h}serializeBody(){return null===this.body?null:be(this.body)||Jt(this.body)||dn(this.body)||function nr(E){return typeof URLSearchParams<"u"&&E instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dn(this.body)?null:Jt(this.body)?this.body.type||null:be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const h=g.method||this.method,S=g.url||this.url,B=g.responseType||this.responseType,fe=void 0!==g.body?g.body:this.body,ve=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,ht=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let At=g.headers||this.headers,En=g.params||this.params;const an=g.context??this.context;return void 0!==g.setHeaders&&(At=Object.keys(g.setHeaders).reduce((Xn,or)=>Xn.set(or,g.setHeaders[or]),At)),g.setParams&&(En=Object.keys(g.setParams).reduce((Xn,or)=>Xn.set(or,g.setParams[or]),En)),new Pt(h,S,fe,{params:En,headers:At,context:an,reportProgress:ht,responseType:B,withCredentials:ve})}}var Bt=function(E){return E[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E}(Bt||{});class qt{constructor(g,h=200,S="OK"){this.headers=g.headers||new bt,this.status=void 0!==g.status?g.status:h,this.statusText=g.statusText||S,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends qt{constructor(g={}){super(g),this.type=Bt.ResponseHeader}clone(g={}){return new ct({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Me extends qt{constructor(g={}){super(g),this.type=Bt.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Me({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class ue extends qt{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function Fe(E,g){return{body:g,headers:E.headers,context:E.context,observe:E.observe,params:E.params,reportProgress:E.reportProgress,responseType:E.responseType,withCredentials:E.withCredentials}}let Qe=(()=>{class E{constructor(h){this.handler=h}request(h,S,B={}){let fe;if(h instanceof Pt)fe=h;else{let At,En;At=B.headers instanceof bt?B.headers:new bt(B.headers),B.params&&(En=B.params instanceof Ze?B.params:new Ze({fromObject:B.params})),fe=new Pt(h,S,void 0!==B.body?B.body:null,{headers:At,context:B.context,params:En,reportProgress:B.reportProgress,responseType:B.responseType||"json",withCredentials:B.withCredentials})}const ve=(0,Ae.of)(fe).pipe((0,Ne.H)(At=>this.handler.handle(At)));if(h instanceof Pt||"events"===B.observe)return ve;const ht=ve.pipe((0,Le.p)(At=>At instanceof Me));switch(B.observe||"body"){case"body":switch(fe.responseType){case"arraybuffer":return ht.pipe((0,Be.T)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return At.body}));case"blob":return ht.pipe((0,Be.T)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new Error("Response is not a Blob.");return At.body}));case"text":return ht.pipe((0,Be.T)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new Error("Response is not a string.");return At.body}));default:return ht.pipe((0,Be.T)(At=>At.body))}case"response":return ht;default:throw new Error(`Unreachable: unhandled observe type ${B.observe}}`)}}delete(h,S={}){return this.request("DELETE",h,S)}get(h,S={}){return this.request("GET",h,S)}head(h,S={}){return this.request("HEAD",h,S)}jsonp(h,S){return this.request("JSONP",h,{params:(new Ze).append(S,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(h,S={}){return this.request("OPTIONS",h,S)}patch(h,S,B={}){return this.request("PATCH",h,Fe(B,S))}post(h,S,B={}){return this.request("POST",h,Fe(B,S))}put(h,S,B={}){return this.request("PUT",h,Fe(B,S))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(at))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function Fn(E,g){return g(E)}function In(E,g){return(h,S)=>g.intercept(h,{handle:B=>E(B,S)})}const Gt=new o.nKC(""),wn=new o.nKC(""),$n=new o.nKC("");function Wt(){let E=null;return(g,h)=>{null===E&&(E=((0,o.WQX)(Gt,{optional:!0})??[]).reduceRight(In,Fn));const S=(0,o.WQX)(o.$K3),B=S.add();return E(g,h).pipe((0,Z.j)(()=>S.remove(B)))}}let Vt=(()=>{class E extends at{constructor(h,S){super(),this.backend=h,this.injector=S,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(h){if(null===this.chain){const B=Array.from(new Set([...this.injector.get(wn),...this.injector.get($n,[])]));this.chain=B.reduceRight((fe,ve)=>function dr(E,g,h){return(S,B)=>h.runInContext(()=>g(S,fe=>E(fe,B)))}(fe,ve,this.injector),Fn)}const S=this.pendingTasks.add();return this.chain(h,B=>this.backend.handle(B)).pipe((0,Z.j)(()=>this.pendingTasks.remove(S)))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Xe),o.KVO(o.uvJ))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const Hn=/^\)\]\}',?\n/;let Ki=(()=>{class E{constructor(h){this.xhrFactory=h}handle(h){if("JSONP"===h.method)throw new o.wOt(-2800,!1);const S=this.xhrFactory;return(S.\u0275loadImpl?(0,he.H)(S.\u0275loadImpl()):(0,Ae.of)(null)).pipe((0,ce.n)(()=>new De.c(fe=>{const ve=S.build();if(ve.open(h.method,h.urlWithParams),h.withCredentials&&(ve.withCredentials=!0),h.headers.forEach((Ln,Un)=>ve.setRequestHeader(Ln,Un.join(","))),h.headers.has("Accept")||ve.setRequestHeader("Accept","application/json, text/plain, */*"),!h.headers.has("Content-Type")){const Ln=h.detectContentTypeHeader();null!==Ln&&ve.setRequestHeader("Content-Type",Ln)}if(h.responseType){const Ln=h.responseType.toLowerCase();ve.responseType="json"!==Ln?Ln:"text"}const ht=h.serializeBody();let At=null;const En=()=>{if(null!==At)return At;const Ln=ve.statusText||"OK",Un=new bt(ve.getAllResponseHeaders()),li=function ni(E){return"responseURL"in E&&E.responseURL?E.responseURL:/^X-Request-URL:/m.test(E.getAllResponseHeaders())?E.getResponseHeader("X-Request-URL"):null}(ve)||h.url;return At=new ct({headers:Un,status:ve.status,statusText:Ln,url:li}),At},an=()=>{let{headers:Ln,status:Un,statusText:li,url:Kr}=En(),Sr=null;204!==Un&&(Sr=typeof ve.response>"u"?ve.responseText:ve.response),0===Un&&(Un=Sr?200:0);let Pr=Un>=200&&Un<300;if("json"===h.responseType&&"string"==typeof Sr){const _r=Sr;Sr=Sr.replace(Hn,"");try{Sr=""!==Sr?JSON.parse(Sr):null}catch(Ur){Sr=_r,Pr&&(Pr=!1,Sr={error:Ur,text:Sr})}}Pr?(fe.next(new Me({body:Sr,headers:Ln,status:Un,statusText:li,url:Kr||void 0})),fe.complete()):fe.error(new ue({error:Sr,headers:Ln,status:Un,statusText:li,url:Kr||void 0}))},Xn=Ln=>{const{url:Un}=En(),li=new ue({error:Ln,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:Un||void 0});fe.error(li)};let or=!1;const ur=Ln=>{or||(fe.next(En()),or=!0);let Un={type:Bt.DownloadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(Un.total=Ln.total),"text"===h.responseType&&ve.responseText&&(Un.partialText=ve.responseText),fe.next(Un)},_i=Ln=>{let Un={type:Bt.UploadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(Un.total=Ln.total),fe.next(Un)};return ve.addEventListener("load",an),ve.addEventListener("error",Xn),ve.addEventListener("timeout",Xn),ve.addEventListener("abort",Xn),h.reportProgress&&(ve.addEventListener("progress",ur),null!==ht&&ve.upload&&ve.upload.addEventListener("progress",_i)),ve.send(ht),fe.next({type:Bt.Sent}),()=>{ve.removeEventListener("error",Xn),ve.removeEventListener("abort",Xn),ve.removeEventListener("load",an),ve.removeEventListener("timeout",Xn),h.reportProgress&&(ve.removeEventListener("progress",ur),null!==ht&&ve.upload&&ve.upload.removeEventListener("progress",_i)),ve.readyState!==ve.DONE&&ve.abort()}})))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(me.N0))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const ln=new o.nKC("XSRF_ENABLED"),Yn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ei{}let Ke=(()=>{class E{constructor(h,S,B){this.doc=h,this.platform=S,this.cookieName=B,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const h=this.doc.cookie||"";return h!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(h,this.cookieName),this.lastCookieString=h),this.lastToken}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(me.qQ),o.KVO(o.Agw),o.KVO(Yn))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function mt(E,g){const h=E.url.toLowerCase();if(!(0,o.WQX)(ln)||"GET"===E.method||"HEAD"===E.method||h.startsWith("http://")||h.startsWith("https://"))return g(E);const S=(0,o.WQX)(Ei).getToken(),B=(0,o.WQX)(Nn);return null!=S&&!E.headers.has(B)&&(E=E.clone({headers:E.headers.set(B,S)})),g(E)}var Ie=function(E){return E[E.Interceptors=0]="Interceptors",E[E.LegacyInterceptors=1]="LegacyInterceptors",E[E.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",E[E.NoXsrfProtection=3]="NoXsrfProtection",E[E.JsonpSupport=4]="JsonpSupport",E[E.RequestsMadeViaParent=5]="RequestsMadeViaParent",E[E.Fetch=6]="Fetch",E}(Ie||{});function Kt(...E){const g=[Qe,Ki,Vt,{provide:at,useExisting:Vt},{provide:Xe,useExisting:Ki},{provide:wn,useValue:mt,multi:!0},{provide:ln,useValue:!0},{provide:Ei,useClass:Ke}];for(const h of E)g.push(...h.\u0275providers);return(0,o.EmA)(g)}const wr=new o.nKC("LEGACY_INTERCEPTOR_FN");function cr(){return function ft(E,g){return{\u0275kind:E,\u0275providers:g}}(Ie.LegacyInterceptors,[{provide:wr,useFactory:Wt},{provide:wn,useExisting:wr,multi:!0}])}let je=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({providers:[Kt(cr())]})}return E})();var Er=L(6814),Oo=L(523),ii=L(8704),Li=L(6861),Pe=L(923),Lt=L(9437);function Ce(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.FS9("alt",h.name),o.Y8G("src",h.photoURL,o.B4B),o.R7$(2),o.JRh(h.name),o.R7$(2),o.JRh(h.role),o.R7$(2),o.JRh(h.bio)}}function Te(E,g){if(1&E&&(o.j41(0,"div",1)(1,"h2"),o.EFF(2,"Meet the Team"),o.k0s(),o.j41(3,"div",2),o.DNE(4,Ce,8,5,"div",3),o.nI1(5,"async"),o.k0s()()),2&E){const h=o.XpG();o.R7$(4),o.Y8G("ngForOf",o.bMT(5,1,h.employees$))}}let pe=(()=>{class E{constructor(h,S){this.route=h,this.employeeService=S}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Be.T)(h=>h.get("id")||""),(0,ce.n)(h=>this.employeeService.getEmployeesByBusinessId(h)),(0,Lt.W)(h=>(console.error("Error fetching employees:",h),(0,Ae.of)([]))))}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.nX),o.rXU(ii.N))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(S,B){1&S&&o.DNE(0,Te,6,3,"div",0),2&S&&o.Y8G("ngIf",B.employees$)},dependencies:[me.Sq,me.bT,me.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return E})();var Et=L(4593),en=L(491);let Dn=(()=>{class E{constructor(h,S){this.route=h,this.router=S,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const S=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",S),S&&this.imagesAndMessages[S]?(this.backgroundImage=`url(${this.imagesAndMessages[S].image})`,this.message=this.imagesAndMessages[S].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.nX),o.rXU(Er.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3),o.k0s()()()),2&S&&(o.xc7("background-image",B.backgroundImage),o.R7$(3),o.JRh(B.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}return E})(),On=(()=>{class E{constructor(){this.text="",this.author="",this.imageURL=""}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"p",4),o.EFF(5),o.k0s(),o.j41(6,"p",5),o.EFF(7),o.k0s()()()()),2&S&&(o.R7$(2),o.FS9("src",B.imageURL,o.B4B),o.R7$(3),o.SpI('" ',B.text,'"'),o.R7$(2),o.SpI("\u2013 ",B.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}return E})();function kn(E,g){if(1&E&&(o.qex(0),o.j41(1,"button",3),o.EFF(2),o.k0s(),o.bVm()),2&E){const h=o.XpG();o.R7$(2),o.JRh(h.buttonText)}}function qr(E,g){if(1&E&&(o.j41(0,"a",4),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.buttonText)}}const Fr=function(E,g){return{"background-color":E,color:g}};let ki=(()=>{class E{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(S,B){if(1&S&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,kn,3,1,"ng-container",1),o.DNE(4,qr,2,1,"ng-template",null,2,o.C5r),o.k0s()),2&S){const fe=o.sdS(5);o.Y8G("ngStyle",o.l_i(4,Fr,B.bgColor,B.textColor)),o.R7$(2),o.JRh(B.text),o.R7$(1),o.Y8G("ngIf",B.isButton)("ngIfElse",fe)}},dependencies:[me.bT,me.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}return E})();function qo(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"About Us"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),o.EFF(12,"Our Story"),o.k0s()(),o.nrm(13,"div",11),o.k0s(),o.j41(14,"section",12)(15,"div",13),o.nrm(16,"img",14),o.j41(17,"div",9)(18,"h2",10),o.EFF(19,"Our Mission"),o.k0s()(),o.nrm(20,"div",11),o.k0s(),o.j41(21,"div",15),o.nrm(22,"img",14),o.j41(23,"div",9)(24,"h2",10),o.EFF(25,"Our Vision"),o.k0s()(),o.nrm(26,"div",11),o.k0s()(),o.j41(27,"section",16),o.nrm(28,"app-meet-the-team",17),o.k0s()(),o.j41(29,"div",18)(30,"div",19)(31,"h2"),o.EFF(32,"Come Meet Our Family"),o.k0s(),o.j41(33,"p"),o.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(35,"button",20),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact())}),o.EFF(36,"Schedule a Visit"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.Y8G("innerHTML",h.business.businessStory,o.npT),o.R7$(3),o.Y8G("src",h.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.mission,o.npT),o.R7$(2),o.Y8G("src",h.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.vision,o.npT),o.R7$(2),o.Y8G("businessId",h.business.id)}}function Rr(E,g){if(1&E&&o.nrm(0,"app-right-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function vs(E,g){if(1&E&&o.nrm(0,"app-left-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function Fi(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",21)(3,"section",22),o.DNE(4,Rr,1,3,"app-right-text",23),o.DNE(5,vs,1,3,"app-left-text",23),o.k0s(),o.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(4),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function ys(E,g){if(1&E&&o.nrm(0,"app-right-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function Ci(E,g){if(1&E&&o.nrm(0,"app-left-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function ga(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",22),o.DNE(3,ys,1,3,"app-right-text",23),o.DNE(4,Ci,1,3,"app-left-text",23),o.k0s(),o.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function No(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",22),o.nrm(3,"app-right-text",26)(4,"app-left-text",26),o.k0s(),o.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission),o.R7$(1),o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[5].name)("text",h.business.testimonials[5].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Pi(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,qo,37,6,"ng-container",2),o.DNE(3,Fi,9,10,"ng-container",2),o.DNE(4,ga,8,10,"ng-container",2),o.DNE(5,No,7,14,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let Gi=(()=>{class E{constructor(h,S,B,fe,ve){this.webContent=h,this.route=S,this.router=B,this.metaService=fe,this.businessDataService=ve,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(ii.N),o.rXU(Er.nX),o.rXU(Er.Ix),o.rXU(Li.R),o.rXU(Pe.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(S,B){1&S&&o.DNE(0,Pi,6,4,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,pe,Et.F,en.G,Dn,On,ki],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}return E})();function mr(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"i",5),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.Y8G("ngClass",h.icon),o.R7$(2),o.JRh(h.title),o.R7$(2),o.JRh(h.description)}}let cs=(()=>{class E{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"h2"),o.EFF(2,"Our Services"),o.k0s(),o.j41(3,"div",1),o.DNE(4,mr,6,3,"div",2),o.k0s(),o.j41(5,"button",3),o.EFF(6,"Book a consultation"),o.k0s()()),2&S&&(o.R7$(4),o.Y8G("ngForOf",B.services))},dependencies:[me.YU,me.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();function Br(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function Vr(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function Uo(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Providing exceptional care tailored to your needs"),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8),o.nrm(10,"img",9),o.j41(11,"h2"),o.EFF(12,"Our Comprehensive Services"),o.k0s(),o.j41(13,"ul"),o.DNE(14,Br,3,1,"li",10),o.k0s()(),o.j41(15,"section",8),o.nrm(16,"img",9),o.j41(17,"h2"),o.EFF(18,"Our Benefits"),o.k0s(),o.j41(19,"ul"),o.DNE(20,Vr,3,1,"li",10),o.k0s()(),o.j41(21,"section",11)(22,"h2"),o.EFF(23,"Special Programs"),o.k0s(),o.j41(24,"h3"),o.EFF(25),o.k0s()(),o.j41(26,"section",12)(27,"div",13),o.nrm(28,"img",14),o.j41(29,"div",15)(30,"h2",16),o.EFF(31,"Tours"),o.k0s()(),o.nrm(32,"div",17),o.k0s(),o.j41(33,"div",18),o.nrm(34,"img",19),o.j41(35,"div",15)(36,"h2",16),o.EFF(37,"Free Consulting"),o.k0s()(),o.nrm(38,"div",17),o.k0s()()(),o.j41(39,"div",20)(40,"div",21)(41,"h2"),o.EFF(42,"Ready to Experience Exceptional Care?"),o.k0s(),o.j41(43,"p"),o.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),o.k0s(),o.j41(45,"button",22),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact())}),o.EFF(46,"Book a Consultation"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(14),o.Y8G("ngForOf",h.business.services),o.R7$(6),o.Y8G("ngForOf",h.business.benefits),o.R7$(5),o.JRh(h.business.specialPrograms),o.R7$(7),o.Y8G("innerHTML",h.business.tours,o.npT),o.R7$(6),o.Y8G("innerHTML",h.business.freeConsulting,o.npT)}}const Bi=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Ss=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},na=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},ui=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Yo=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},lo=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},ns=function(E,g,h,S,B,fe){return[E,g,h,S,B,fe]};function Qn(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,ns,o.lJ4(10,Bi),o.lJ4(11,Ss),o.lJ4(12,na),o.lJ4(13,ui),o.lJ4(14,Yo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function fi(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,ns,o.lJ4(10,Bi),o.lJ4(11,Ss),o.lJ4(12,na),o.lJ4(13,ui),o.lJ4(14,Yo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Ti(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,ns,o.lJ4(10,Bi),o.lJ4(11,Ss),o.lJ4(12,na),o.lJ4(13,ui),o.lJ4(14,Yo),o.lJ4(15,lo))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[6].name)("text",h.business.testimonials[6].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function uo(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Uo,47,5,"ng-container",2),o.DNE(3,Qn,6,23,"ng-container",2),o.DNE(4,fi,6,23,"ng-container",2),o.DNE(5,Ti,6,23,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let $r=(()=>{class E{constructor(h,S,B){this.router=h,this.businessDataService=S,this.metaService=B,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.Ix),o.rXU(Pe.A),o.rXU(Li.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","../../../../assets/sharedAssets/icons/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(S,B){1&S&&o.DNE(0,uo,6,4,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,cs,Dn,On,ki],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return E})();var wi="top",pi="bottom",Vi="right",Yr="left",qi="auto",Mr=[wi,pi,Vi,Yr],Zt="start",jn="end",lr="clippingParents",ji="viewport",ro="popper",gi="reference",Io=Mr.reduce(function(E,g){return E.concat([g+"-"+Zt,g+"-"+jn])},[]),Hr=[].concat(Mr,[qi]).reduce(function(E,g){return E.concat([g,g+"-"+Zt,g+"-"+jn])},[]),Fo="beforeRead",Vo="read",Kn="afterRead",To="beforeMain",vi="main",Q="afterMain",z="beforeWrite",ye="write",Re="afterWrite",Ye=[Fo,Vo,Kn,To,vi,Q,z,ye,Re];function yt(E){return E?(E.nodeName||"").toLowerCase():null}function Yt(E){if(null==E)return window;if("[object Window]"!==E.toString()){var g=E.ownerDocument;return g&&g.defaultView||window}return E}function mn(E){return E instanceof Yt(E).Element||E instanceof Element}function Rt(E){return E instanceof Yt(E).HTMLElement||E instanceof HTMLElement}function gn(E){return!(typeof ShadowRoot>"u")&&(E instanceof Yt(E).ShadowRoot||E instanceof ShadowRoot)}const mi={name:"applyStyles",enabled:!0,phase:"write",fn:function sr(E){var g=E.state;Object.keys(g.elements).forEach(function(h){var S=g.styles[h]||{},B=g.attributes[h]||{},fe=g.elements[h];!Rt(fe)||!yt(fe)||(Object.assign(fe.style,S),Object.keys(B).forEach(function(ve){var ht=B[ve];!1===ht?fe.removeAttribute(ve):fe.setAttribute(ve,!0===ht?"":ht)}))})},effect:function Rn(E){var g=E.state,h={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,h.popper),g.styles=h,g.elements.arrow&&Object.assign(g.elements.arrow.style,h.arrow),function(){Object.keys(g.elements).forEach(function(S){var B=g.elements[S],fe=g.attributes[S]||{},ht=Object.keys(g.styles.hasOwnProperty(S)?g.styles[S]:h[S]).reduce(function(At,En){return At[En]="",At},{});!Rt(B)||!yt(B)||(Object.assign(B.style,ht),Object.keys(fe).forEach(function(At){B.removeAttribute(At)}))})}},requires:["computeStyles"]};function Ir(E){return E.split("-")[0]}var Zr=Math.max,oi=Math.min,Lr=Math.round;function Yi(){var E=navigator.userAgentData;return null!=E&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function Xi(){return!/^((?!chrome|android).)*safari/i.test(Yi())}function ir(E,g,h){void 0===g&&(g=!1),void 0===h&&(h=!1);var S=E.getBoundingClientRect(),B=1,fe=1;g&&Rt(E)&&(B=E.offsetWidth>0&&Lr(S.width)/E.offsetWidth||1,fe=E.offsetHeight>0&&Lr(S.height)/E.offsetHeight||1);var ht=(mn(E)?Yt(E):window).visualViewport,At=!Xi()&&h,En=(S.left+(At&&ht?ht.offsetLeft:0))/B,an=(S.top+(At&&ht?ht.offsetTop:0))/fe,Xn=S.width/B,or=S.height/fe;return{width:Xn,height:or,top:an,right:En+Xn,bottom:an+or,left:En,x:En,y:an}}function bi(E){var g=ir(E),h=E.offsetWidth,S=E.offsetHeight;return Math.abs(g.width-h)<=1&&(h=g.width),Math.abs(g.height-S)<=1&&(S=g.height),{x:E.offsetLeft,y:E.offsetTop,width:h,height:S}}function si(E,g){var h=g.getRootNode&&g.getRootNode();if(E.contains(g))return!0;if(h&&gn(h)){var S=g;do{if(S&&E.isSameNode(S))return!0;S=S.parentNode||S.host}while(S)}return!1}function fr(E){return Yt(E).getComputedStyle(E)}function Cs(E){return["table","td","th"].indexOf(yt(E))>=0}function Ai(E){return((mn(E)?E.ownerDocument:E.document)||window.document).documentElement}function bs(E){return"html"===yt(E)?E:E.assignedSlot||E.parentNode||(gn(E)?E.host:null)||Ai(E)}function ho(E){return Rt(E)&&"fixed"!==fr(E).position?E.offsetParent:null}function fo(E){for(var g=Yt(E),h=ho(E);h&&Cs(h)&&"static"===fr(h).position;)h=ho(h);return h&&("html"===yt(h)||"body"===yt(h)&&"static"===fr(h).position)?g:h||function ma(E){var g=/firefox/i.test(Yi());if(/Trident/i.test(Yi())&&Rt(E)&&"fixed"===fr(E).position)return null;var B=bs(E);for(gn(B)&&(B=B.host);Rt(B)&&["html","body"].indexOf(yt(B))<0;){var fe=fr(B);if("none"!==fe.transform||"none"!==fe.perspective||"paint"===fe.contain||-1!==["transform","perspective"].indexOf(fe.willChange)||g&&"filter"===fe.willChange||g&&fe.filter&&"none"!==fe.filter)return B;B=B.parentNode}return null}(E)||g}function rs(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function Ks(E,g,h){return Zr(E,oi(g,h))}function Ps(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function Rs(E,g){return g.reduce(function(h,S){return h[S]=E,h},{})}const Aa={name:"arrow",enabled:!0,phase:"main",fn:function Xr(E){var g,h=E.state,S=E.name,B=E.options,fe=h.elements.arrow,ve=h.modifiersData.popperOffsets,ht=Ir(h.placement),At=rs(ht),an=[Yr,Vi].indexOf(ht)>=0?"height":"width";if(fe&&ve){var Xn=function(g,h){return Ps("number"!=typeof(g="function"==typeof g?g(Object.assign({},h.rects,{placement:h.placement})):g)?g:Rs(g,Mr))}(B.padding,h),or=bi(fe),ur="y"===At?wi:Yr,_i="y"===At?pi:Vi,Ln=h.rects.reference[an]+h.rects.reference[At]-ve[At]-h.rects.popper[an],Un=ve[At]-h.rects.reference[At],li=fo(fe),Kr=li?"y"===At?li.clientHeight||0:li.clientWidth||0:0,Ur=Kr/2-or[an]/2+(Ln/2-Un/2),Oi=Ks(Xn[ur],Ur,Kr-or[an]-Xn[_i]);h.modifiersData[S]=((g={})[At]=Oi,g.centerOffset=Oi-Ur,g)}},effect:function ia(E){var g=E.state,S=E.options.element,B=void 0===S?"[data-popper-arrow]":S;null!=B&&("string"==typeof B&&!(B=g.elements.popper.querySelector(B))||si(g.elements.popper,B)&&(g.elements.arrow=B))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function G(E){return E.split("-")[1]}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(E){var g,h=E.popper,S=E.popperRect,B=E.placement,fe=E.variation,ve=E.offsets,ht=E.position,At=E.gpuAcceleration,En=E.adaptive,an=E.roundOffsets,Xn=E.isFixed,or=ve.x,ur=void 0===or?0:or,_i=ve.y,Ln=void 0===_i?0:_i,Un="function"==typeof an?an({x:ur,y:Ln}):{x:ur,y:Ln};ur=Un.x,Ln=Un.y;var li=ve.hasOwnProperty("x"),Kr=ve.hasOwnProperty("y"),Sr=Yr,Pr=wi,_r=window;if(En){var Ur=fo(h),Oi="clientHeight",to="clientWidth";Ur===Yt(h)&&"static"!==fr(Ur=Ai(h)).position&&"absolute"===ht&&(Oi="scrollHeight",to="scrollWidth"),(B===wi||(B===Yr||B===Vi)&&fe===jn)&&(Pr=pi,Ln-=(Xn&&Ur===_r&&_r.visualViewport?_r.visualViewport.height:Ur[Oi])-S.height,Ln*=At?1:-1),B!==Yr&&(B!==wi&&B!==pi||fe!==jn)||(Sr=Vi,ur-=(Xn&&Ur===_r&&_r.visualViewport?_r.visualViewport.width:Ur[to])-S.width,ur*=At?1:-1)}var yo,vo=Object.assign({position:ht},En&&Y),Ko=!0===an?function O(E,g){var S=E.y,B=g.devicePixelRatio||1;return{x:Lr(E.x*B)/B||0,y:Lr(S*B)/B||0}}({x:ur,y:Ln},Yt(h)):{x:ur,y:Ln};return ur=Ko.x,Ln=Ko.y,Object.assign({},vo,At?((yo={})[Pr]=Kr?"0":"",yo[Sr]=li?"0":"",yo.transform=(_r.devicePixelRatio||1)<=1?"translate("+ur+"px, "+Ln+"px)":"translate3d("+ur+"px, "+Ln+"px, 0)",yo):((g={})[Pr]=Kr?Ln+"px":"",g[Sr]=li?ur+"px":"",g.transform="",g))}const yn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ve(E){var g=E.state,h=E.options,S=h.gpuAcceleration,B=void 0===S||S,fe=h.adaptive,ve=void 0===fe||fe,ht=h.roundOffsets,At=void 0===ht||ht,En={placement:Ir(g.placement),variation:G(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:B,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,oe(Object.assign({},En,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:ve,roundOffsets:At})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,oe(Object.assign({},En,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:At})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var Gn={passive:!0};const po={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function io(E){var g=E.state,h=E.instance,S=E.options,B=S.scroll,fe=void 0===B||B,ve=S.resize,ht=void 0===ve||ve,At=Yt(g.elements.popper),En=[].concat(g.scrollParents.reference,g.scrollParents.popper);return fe&&En.forEach(function(an){an.addEventListener("scroll",h.update,Gn)}),ht&&At.addEventListener("resize",h.update,Gn),function(){fe&&En.forEach(function(an){an.removeEventListener("scroll",h.update,Gn)}),ht&&At.removeEventListener("resize",h.update,Gn)}},data:{}};var oo={left:"right",right:"left",bottom:"top",top:"bottom"};function is(E){return E.replace(/left|right|bottom|top/g,function(g){return oo[g]})}var jo={start:"end",end:"start"};function Bo(E){return E.replace(/start|end/g,function(g){return jo[g]})}function So(E){var g=Yt(E);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function ml(E){return ir(Ai(E)).left+So(E).scrollLeft}function zi(E){var g=fr(E);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function kc(E){return["html","body","#document"].indexOf(yt(E))>=0?E.ownerDocument.body:Rt(E)&&zi(E)?E:kc(bs(E))}function wo(E,g){var h;void 0===g&&(g=[]);var S=kc(E),B=S===(null==(h=E.ownerDocument)?void 0:h.body),fe=Yt(S),ve=B?[fe].concat(fe.visualViewport||[],zi(S)?S:[]):S,ht=g.concat(ve);return B?ht:ht.concat(wo(bs(ve)))}function Ms(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function va(E,g,h){return g===ji?Ms(function ai(E,g){var h=Yt(E),S=Ai(E),B=h.visualViewport,fe=S.clientWidth,ve=S.clientHeight,ht=0,At=0;if(B){fe=B.width,ve=B.height;var En=Xi();(En||!En&&"fixed"===g)&&(ht=B.offsetLeft,At=B.offsetTop)}return{width:fe,height:ve,x:ht+ml(E),y:At}}(E,h)):mn(g)?function os(E,g){var h=ir(E,!1,"fixed"===g);return h.top=h.top+E.clientTop,h.left=h.left+E.clientLeft,h.bottom=h.top+E.clientHeight,h.right=h.left+E.clientWidth,h.width=E.clientWidth,h.height=E.clientHeight,h.x=h.left,h.y=h.top,h}(g,h):Ms(function _a(E){var g,h=Ai(E),S=So(E),B=null==(g=E.ownerDocument)?void 0:g.body,fe=Zr(h.scrollWidth,h.clientWidth,B?B.scrollWidth:0,B?B.clientWidth:0),ve=Zr(h.scrollHeight,h.clientHeight,B?B.scrollHeight:0,B?B.clientHeight:0),ht=-S.scrollLeft+ml(E),At=-S.scrollTop;return"rtl"===fr(B||h).direction&&(ht+=Zr(h.clientWidth,B?B.clientWidth:0)-fe),{width:fe,height:ve,x:ht,y:At}}(Ai(E)))}function Da(E){var At,g=E.reference,h=E.element,S=E.placement,B=S?Ir(S):null,fe=S?G(S):null,ve=g.x+g.width/2-h.width/2,ht=g.y+g.height/2-h.height/2;switch(B){case wi:At={x:ve,y:g.y-h.height};break;case pi:At={x:ve,y:g.y+g.height};break;case Vi:At={x:g.x+g.width,y:ht};break;case Yr:At={x:g.x-h.width,y:ht};break;default:At={x:g.x,y:g.y}}var En=B?rs(B):null;if(null!=En){var an="y"===En?"height":"width";switch(fe){case Zt:At[En]=At[En]-(g[an]/2-h[an]/2);break;case jn:At[En]=At[En]+(g[an]/2-h[an]/2)}}return At}function qs(E,g){void 0===g&&(g={});var S=g.placement,B=void 0===S?E.placement:S,fe=g.strategy,ve=void 0===fe?E.strategy:fe,ht=g.boundary,At=void 0===ht?lr:ht,En=g.rootBoundary,an=void 0===En?ji:En,Xn=g.elementContext,or=void 0===Xn?ro:Xn,ur=g.altBoundary,_i=void 0!==ur&&ur,Ln=g.padding,Un=void 0===Ln?0:Ln,li=Ps("number"!=typeof Un?Un:Rs(Un,Mr)),Sr=E.rects.popper,Pr=E.elements[_i?or===ro?gi:ro:or],_r=function ar(E,g,h,S){var B="clippingParents"===g?function Os(E){var g=wo(bs(E)),S=["absolute","fixed"].indexOf(fr(E).position)>=0&&Rt(E)?fo(E):E;return mn(S)?g.filter(function(B){return mn(B)&&si(B,S)&&"body"!==yt(B)}):[]}(E):[].concat(g),fe=[].concat(B,[h]),ht=fe.reduce(function(At,En){var an=va(E,En,S);return At.top=Zr(an.top,At.top),At.right=oi(an.right,At.right),At.bottom=oi(an.bottom,At.bottom),At.left=Zr(an.left,At.left),At},va(E,fe[0],S));return ht.width=ht.right-ht.left,ht.height=ht.bottom-ht.top,ht.x=ht.left,ht.y=ht.top,ht}(mn(Pr)?Pr:Pr.contextElement||Ai(E.elements.popper),At,an,ve),Ur=ir(E.elements.reference),Oi=Da({reference:Ur,element:Sr,strategy:"absolute",placement:B}),to=Ms(Object.assign({},Sr,Oi)),_o=or===ro?to:Ur,vr={top:_r.top-_o.top+li.top,bottom:_o.bottom-_r.bottom+li.bottom,left:_r.left-_o.left+li.left,right:_o.right-_r.right+li.right},vo=E.modifiersData.offset;if(or===ro&&vo){var Ko=vo[B];Object.keys(vr).forEach(function(yo){var Ta=[Vi,pi].indexOf(yo)>=0?1:-1,fa=[wi,pi].indexOf(yo)>=0?"y":"x";vr[yo]+=Ko[fa]*Ta})}return vr}const ls={name:"flip",enabled:!0,phase:"main",fn:function ya(E){var g=E.state,h=E.options,S=E.name;if(!g.modifiersData[S]._skip){for(var B=h.mainAxis,fe=void 0===B||B,ve=h.altAxis,ht=void 0===ve||ve,At=h.fallbackPlacements,En=h.padding,an=h.boundary,Xn=h.rootBoundary,or=h.altBoundary,ur=h.flipVariations,_i=void 0===ur||ur,Ln=h.allowedAutoPlacements,Un=g.options.placement,li=Ir(Un),Sr=At||(li!==Un&&_i?function Ka(E){if(Ir(E)===qi)return[];var g=is(E);return[Bo(E),g,Bo(g)]}(Un):[is(Un)]),Pr=[Un].concat(Sr).reduce(function(Ql,Gs){return Ql.concat(Ir(Gs)===qi?function Wa(E,g){void 0===g&&(g={});var B=g.boundary,fe=g.rootBoundary,ve=g.padding,ht=g.flipVariations,At=g.allowedAutoPlacements,En=void 0===At?Hr:At,an=G(g.placement),Xn=an?ht?Io:Io.filter(function(_i){return G(_i)===an}):Mr,or=Xn.filter(function(_i){return En.indexOf(_i)>=0});0===or.length&&(or=Xn);var ur=or.reduce(function(_i,Ln){return _i[Ln]=qs(E,{placement:Ln,boundary:B,rootBoundary:fe,padding:ve})[Ir(Ln)],_i},{});return Object.keys(ur).sort(function(_i,Ln){return ur[_i]-ur[Ln]})}(g,{placement:Gs,boundary:an,rootBoundary:Xn,padding:En,flipVariations:_i,allowedAutoPlacements:Ln}):Gs)},[]),_r=g.rects.reference,Ur=g.rects.popper,Oi=new Map,to=!0,_o=Pr[0],vr=0;vr<Pr.length;vr++){var vo=Pr[vr],Ko=Ir(vo),yo=G(vo)===Zt,Ta=[wi,pi].indexOf(Ko)>=0,fa=Ta?"width":"height",ta=qs(g,{placement:vo,boundary:an,rootBoundary:Xn,altBoundary:or,padding:En}),wa=Ta?yo?Vi:Yr:yo?pi:wi;_r[fa]>Ur[fa]&&(wa=is(wa));var Hh=is(wa),Xl=[];if(fe&&Xl.push(ta[Ko]<=0),ht&&Xl.push(ta[wa]<=0,ta[Hh]<=0),Xl.every(function(Ql){return Ql})){_o=vo,to=!1;break}Oi.set(vo,Xl)}if(to)for(var Ga=function(Gs){var Gh=Pr.find(function(Rg){var kd=Oi.get(Rg);if(kd)return kd.slice(0,Gs).every(function(Dc){return Dc})});if(Gh)return _o=Gh,"break"},Nu=_i?3:1;Nu>0&&"break"!==Ga(Nu);Nu--);g.placement!==_o&&(g.modifiersData[S]._skip=!0,g.placement=_o,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ns(E,g,h){return void 0===h&&(h={x:0,y:0}),{top:E.top-g.height-h.y,right:E.right-g.width+h.x,bottom:E.bottom-g.height+h.y,left:E.left-g.width-h.x}}function qa(E){return[wi,Vi,pi,Yr].some(function(g){return E[g]>=0})}const xa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Fc(E){var g=E.state,h=E.name,S=g.rects.reference,B=g.rects.popper,fe=g.modifiersData.preventOverflow,ve=qs(g,{elementContext:"reference"}),ht=qs(g,{altBoundary:!0}),At=Ns(ve,S),En=Ns(ht,B,fe),an=qa(At),Xn=qa(En);g.modifiersData[h]={referenceClippingOffsets:At,popperEscapeOffsets:En,isReferenceHidden:an,hasPopperEscaped:Xn},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":an,"data-popper-escaped":Xn})}},ks={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ya(E){var g=E.state,S=E.name,B=E.options.offset,fe=void 0===B?[0,0]:B,ve=Hr.reduce(function(an,Xn){return an[Xn]=function oa(E,g,h){var S=Ir(E),B=[Yr,wi].indexOf(S)>=0?-1:1,fe="function"==typeof h?h(Object.assign({},g,{placement:E})):h,ve=fe[0],ht=fe[1];return ve=ve||0,ht=(ht||0)*B,[Yr,Vi].indexOf(S)>=0?{x:ht,y:ve}:{x:ve,y:ht}}(Xn,g.rects,fe),an},{}),ht=ve[g.placement],En=ht.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=ht.x,g.modifiersData.popperOffsets.y+=En),g.modifiersData[S]=ve}},Ys={name:"popperOffsets",enabled:!0,phase:"read",fn:function Uu(E){var g=E.state;g.modifiersData[E.name]=Da({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}},sa={name:"preventOverflow",enabled:!0,phase:"main",fn:function Jl(E){var g=E.state,h=E.options,S=E.name,B=h.mainAxis,fe=void 0===B||B,ve=h.altAxis,ht=void 0!==ve&&ve,or=h.tether,ur=void 0===or||or,_i=h.tetherOffset,Ln=void 0===_i?0:_i,Un=qs(g,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),li=Ir(g.placement),Kr=G(g.placement),Sr=!Kr,Pr=rs(li),_r=function Sa(E){return"x"===E?"y":"x"}(Pr),Ur=g.modifiersData.popperOffsets,Oi=g.rects.reference,to=g.rects.popper,_o="function"==typeof Ln?Ln(Object.assign({},g.rects,{placement:g.placement})):Ln,vr="number"==typeof _o?{mainAxis:_o,altAxis:_o}:Object.assign({mainAxis:0,altAxis:0},_o),vo=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,Ko={x:0,y:0};if(Ur){if(fe){var yo,Ta="y"===Pr?wi:Yr,fa="y"===Pr?pi:Vi,ta="y"===Pr?"height":"width",wa=Ur[Pr],Hh=wa+Un[Ta],Xl=wa-Un[fa],pl=ur?-to[ta]/2:0,Ga=Kr===Zt?Oi[ta]:to[ta],Nu=Kr===Zt?-to[ta]:-Oi[ta],Nd=g.elements.arrow,Ql=ur&&Nd?bi(Nd):{width:0,height:0},Gs=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gh=Gs[Ta],Rg=Gs[fa],kd=Ks(0,Oi[ta],Ql[ta]),Dc=Sr?Oi[ta]/2-pl-kd-Gh-vr.mainAxis:Ga-kd-Gh-vr.mainAxis,tv=Sr?-Oi[ta]/2+pl+kd+Rg+vr.mainAxis:Nu+kd+Rg+vr.mainAxis,jm=g.elements.arrow&&fo(g.elements.arrow),zh=jm?"y"===Pr?jm.clientTop||0:jm.clientLeft||0:0,lp=null!=(yo=vo?.[Pr])?yo:0,Wh=wa+tv-lp,Fd=Ks(ur?oi(Hh,wa+Dc-lp-zh):Hh,wa,ur?Zr(Xl,Wh):Xl);Ur[Pr]=Fd,Ko[Pr]=Fd-wa}if(ht){var Kh,xc=Ur[_r],qh="y"===_r?"height":"width",Fu=xc+Un["x"===Pr?wi:Yr],up=xc-Un["x"===Pr?pi:Vi],dp=-1!==[wi,Yr].indexOf(li),gl=null!=(Kh=vo?.[_r])?Kh:0,Mg=dp?Fu:xc-Oi[qh]-to[qh]-gl+vr.altAxis,Sc=dp?xc+Oi[qh]+to[qh]-gl-vr.altAxis:up,Og=ur&&dp?function ra(E,g,h){var S=Ks(E,g,h);return S>h?h:S}(Mg,xc,Sc):Ks(ur?Mg:Fu,xc,ur?Sc:up);Ur[_r]=Og,Ko[_r]=Og-xc}g.modifiersData[S]=Ko}},requiresIfExists:["offset"]};function x(E,g,h){void 0===h&&(h=!1);var S=Rt(g),B=Rt(g)&&function Di(E){var g=E.getBoundingClientRect(),h=Lr(g.width)/E.offsetWidth||1,S=Lr(g.height)/E.offsetHeight||1;return 1!==h||1!==S}(g),fe=Ai(g),ve=ir(E,B,h),ht={scrollLeft:0,scrollTop:0},At={x:0,y:0};return(S||!S&&!h)&&(("body"!==yt(g)||zi(fe))&&(ht=function vl(E){return E!==Yt(E)&&Rt(E)?function _l(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}}(E):So(E)}(g)),Rt(g)?((At=ir(g,!0)).x+=g.clientLeft,At.y+=g.clientTop):fe&&(At.x=ml(fe))),{x:ve.left+ht.scrollLeft-At.x,y:ve.top+ht.scrollTop-At.y,width:ve.width,height:ve.height}}function J(E){var g=new Map,h=new Set,S=[];function B(fe){h.add(fe.name),[].concat(fe.requires||[],fe.requiresIfExists||[]).forEach(function(ht){if(!h.has(ht)){var At=g.get(ht);At&&B(At)}}),S.push(fe)}return E.forEach(function(fe){g.set(fe.name,fe)}),E.forEach(function(fe){h.has(fe.name)||B(fe)}),S}function X(E){var g;return function(){return g||(g=new Promise(function(h){Promise.resolve().then(function(){g=void 0,h(E())})})),g}}var _t={placement:"bottom",modifiers:[],strategy:"absolute"};function Nt(){for(var E=arguments.length,g=new Array(E),h=0;h<E;h++)g[h]=arguments[h];return!g.some(function(S){return!(S&&"function"==typeof S.getBoundingClientRect)})}function Cn(E){void 0===E&&(E={});var h=E.defaultModifiers,S=void 0===h?[]:h,B=E.defaultOptions,fe=void 0===B?_t:B;return function(ht,At,En){void 0===En&&(En=fe);var an={placement:"bottom",orderedModifiers:[],options:Object.assign({},_t,fe),modifiersData:{},elements:{reference:ht,popper:At},attributes:{},styles:{}},Xn=[],or=!1,ur={state:an,setOptions:function(li){var Kr="function"==typeof li?li(an.options):li;Ln(),an.options=Object.assign({},fe,an.options,Kr),an.scrollParents={reference:mn(ht)?wo(ht):ht.contextElement?wo(ht.contextElement):[],popper:wo(At)};var Sr=function U(E){var g=J(E);return Ye.reduce(function(h,S){return h.concat(g.filter(function(B){return B.phase===S}))},[])}(function we(E){var g=E.reduce(function(h,S){var B=h[S.name];return h[S.name]=B?Object.assign({},B,S,{options:Object.assign({},B.options,S.options),data:Object.assign({},B.data,S.data)}):S,h},{});return Object.keys(g).map(function(h){return g[h]})}([].concat(S,an.options.modifiers)));return an.orderedModifiers=Sr.filter(function(Pr){return Pr.enabled}),function _i(){an.orderedModifiers.forEach(function(Un){var Kr=Un.options,Pr=Un.effect;if("function"==typeof Pr){var _r=Pr({state:an,name:Un.name,instance:ur,options:void 0===Kr?{}:Kr});Xn.push(_r||function(){})}})}(),ur.update()},forceUpdate:function(){if(!or){var li=an.elements,Kr=li.reference,Sr=li.popper;if(Nt(Kr,Sr)){an.rects={reference:x(Kr,fo(Sr),"fixed"===an.options.strategy),popper:bi(Sr)},an.reset=!1,an.placement=an.options.placement,an.orderedModifiers.forEach(function(vr){return an.modifiersData[vr.name]=Object.assign({},vr.data)});for(var Pr=0;Pr<an.orderedModifiers.length;Pr++)if(!0!==an.reset){var _r=an.orderedModifiers[Pr],Ur=_r.fn,Oi=_r.options;"function"==typeof Ur&&(an=Ur({state:an,options:void 0===Oi?{}:Oi,name:_r.name,instance:ur})||an)}else an.reset=!1,Pr=-1}}},update:X(function(){return new Promise(function(Un){ur.forceUpdate(),Un(an)})}),destroy:function(){Ln(),or=!0}};if(!Nt(ht,At))return ur;function Ln(){Xn.forEach(function(Un){return Un()}),Xn=[]}return ur.setOptions(En).then(function(Un){!or&&En.onFirstUpdate&&En.onFirstUpdate(Un)}),ur}}var Or=Cn(),Gr=Cn({defaultModifiers:[po,Ys,yn,mi,ks,ls,sa,Aa,xa]}),yi=Cn({defaultModifiers:[po,Ys,yn,mi]});const Ar=new Map,Ri={set(E,g,h){Ar.has(E)||Ar.set(E,new Map);const S=Ar.get(E);S.has(g)||0===S.size?S.set(g,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(S.keys())[0]}.`)},get:(E,g)=>Ar.has(E)&&Ar.get(E).get(g)||null,remove(E,g){if(!Ar.has(E))return;const h=Ar.get(E);h.delete(g),0===h.size&&Ar.delete(E)}},Fs="transitionend",Ho=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(g,h)=>`#${CSS.escape(h)}`)),E),Zl=E=>{E.dispatchEvent(new Event(Fs))},Jr=E=>!(!E||"object"!=typeof E)&&(typeof E.jquery<"u"&&(E=E[0]),typeof E.nodeType<"u"),ss=E=>Jr(E)?E.jquery?E[0]:E:"string"==typeof E&&E.length>0?document.querySelector(Ho(E)):null,Is=E=>{if(!Jr(E)||0===E.getClientRects().length)return!1;const g="visible"===getComputedStyle(E).getPropertyValue("visibility"),h=E.closest("details:not([open])");if(!h)return g;if(h!==E){const S=E.closest("summary");if(S&&S.parentNode!==h||null===S)return!1}return g},Qi=E=>!(E&&E.nodeType===Node.ELEMENT_NODE&&!E.classList.contains("disabled"))||(typeof E.disabled<"u"?E.disabled:E.hasAttribute("disabled")&&"false"!==E.getAttribute("disabled")),eu=E=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof E.getRootNode){const g=E.getRootNode();return g instanceof ShadowRoot?g:null}return E instanceof ShadowRoot?E:E.parentNode?eu(E.parentNode):null},Xa=()=>{},Ii=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Qa=[],Xo=()=>"rtl"===document.documentElement.dir,Ji=E=>{(E=>{"loading"===document.readyState?(Qa.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of Qa)g()}),Qa.push(E)):E()})(()=>{const g=Ii();if(g){const h=E.NAME,S=g.fn[h];g.fn[h]=E.jQueryInterface,g.fn[h].Constructor=E,g.fn[h].noConflict=()=>(g.fn[h]=S,E.jQueryInterface)}})},Zi=(E,g=[],h=E)=>"function"==typeof E?E(...g):h,Vc=(E,g,h=!0)=>{if(!h)return void Zi(E);const B=(E=>{if(!E)return 0;let{transitionDuration:g,transitionDelay:h}=window.getComputedStyle(E);const S=Number.parseFloat(g),B=Number.parseFloat(h);return S||B?(g=g.split(",")[0],h=h.split(",")[0],1e3*(Number.parseFloat(g)+Number.parseFloat(h))):0})(g)+5;let fe=!1;const ve=({target:ht})=>{ht===g&&(fe=!0,g.removeEventListener(Fs,ve),Zi(E))};g.addEventListener(Fs,ve),setTimeout(()=>{fe||Zl(g)},B)},El=(E,g,h,S)=>{const B=E.length;let fe=E.indexOf(g);return-1===fe?!h&&S?E[B-1]:E[0]:(fe+=h?1:-1,S&&(fe=(fe+B)%B),E[Math.max(0,Math.min(fe,B-1))])},ju=/[^.]*(?=\..*)\.|.*/,Bu=/\..*/,$u=/::\d+$/,er={};let Hu=1;const Ja={mouseenter:"mouseover",mouseleave:"mouseout"},Go=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tu(E,g){return g&&`${g}::${Hu++}`||E.uidEvent||Hu++}function Cl(E){const g=tu(E);return E.uidEvent=g,er[g]=er[g]||{},er[g]}function Lc(E,g,h=null){return Object.values(E).find(S=>S.callable===g&&S.delegationSelector===h)}function bl(E,g,h){const S="string"==typeof g,B=S?h:g||h;let fe=$t(E);return Go.has(fe)||(fe=E),[S,B,fe]}function Ra(E,g,h,S,B){if("string"!=typeof g||!E)return;let[fe,ve,ht]=bl(g,h,S);var _i;g in Ja&&(_i=ve,ve=function(Ln){if(!Ln.relatedTarget||Ln.relatedTarget!==Ln.delegateTarget&&!Ln.delegateTarget.contains(Ln.relatedTarget))return _i.call(this,Ln)});const At=Cl(E),En=At[ht]||(At[ht]={}),an=Lc(En,ve,fe?h:null);if(an)return void(an.oneOff=an.oneOff&&B);const Xn=tu(ve,g.replace(ju,"")),or=fe?function Pa(E,g,h){return function S(B){const fe=E.querySelectorAll(g);for(let{target:ve}=B;ve&&ve!==this;ve=ve.parentNode)for(const ht of fe)if(ht===ve)return Uc(B,{delegateTarget:ve}),S.oneOff&&Dt.off(E,B.type,g,h),h.apply(ve,[B])}}(E,h,ve):function eo(E,g){return function h(S){return Uc(S,{delegateTarget:E}),h.oneOff&&Dt.off(E,S.type,g),g.apply(E,[S])}}(E,ve);or.delegationSelector=fe?h:null,or.callable=ve,or.oneOff=B,or.uidEvent=Xn,En[Xn]=or,E.addEventListener(ht,or,fe)}function hs(E,g,h,S,B){const fe=Lc(g[h],S,B);fe&&(E.removeEventListener(h,fe,!!B),delete g[h][fe.uidEvent])}function jd(E,g,h,S){const B=g[h]||{};for(const[fe,ve]of Object.entries(B))fe.includes(S)&&hs(E,g,h,ve.callable,ve.delegationSelector)}function $t(E){return E=E.replace(Bu,""),Ja[E]||E}const Dt={on(E,g,h,S){Ra(E,g,h,S,!1)},one(E,g,h,S){Ra(E,g,h,S,!0)},off(E,g,h,S){if("string"!=typeof g||!E)return;const[B,fe,ve]=bl(g,h,S),ht=ve!==g,At=Cl(E),En=At[ve]||{},an=g.startsWith(".");if(typeof fe<"u"){if(!Object.keys(En).length)return;hs(E,At,ve,fe,B?h:null)}else{if(an)for(const Xn of Object.keys(At))jd(E,At,Xn,g.slice(1));for(const[Xn,or]of Object.entries(En)){const ur=Xn.replace($u,"");(!ht||g.includes(ur))&&hs(E,At,ve,or.callable,or.delegationSelector)}}},trigger(E,g,h){if("string"!=typeof g||!E)return null;const S=Ii();let ve=null,ht=!0,At=!0,En=!1;g!==$t(g)&&S&&(ve=S.Event(g,h),S(E).trigger(ve),ht=!ve.isPropagationStopped(),At=!ve.isImmediatePropagationStopped(),En=ve.isDefaultPrevented());const an=Uc(new Event(g,{bubbles:ht,cancelable:!0}),h);return En&&an.preventDefault(),At&&E.dispatchEvent(an),an.defaultPrevented&&ve&&ve.preventDefault(),an}};function Uc(E,g={}){for(const[h,S]of Object.entries(g))try{E[h]=S}catch{Object.defineProperty(E,h,{configurable:!0,get:()=>S})}return E}function Ma(E){if("true"===E)return!0;if("false"===E)return!1;if(E===Number(E).toString())return Number(E);if(""===E||"null"===E)return null;if("string"!=typeof E)return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function Do(E){return E.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const Si={setDataAttribute(E,g,h){E.setAttribute(`data-bs-${Do(g)}`,h)},removeDataAttribute(E,g){E.removeAttribute(`data-bs-${Do(g)}`)},getDataAttributes(E){if(!E)return{};const g={},h=Object.keys(E.dataset).filter(S=>S.startsWith("bs")&&!S.startsWith("bsConfig"));for(const S of h){let B=S.replace(/^bs/,"");B=B.charAt(0).toLowerCase()+B.slice(1,B.length),g[B]=Ma(E.dataset[S])}return g},getDataAttribute:(E,g)=>Ma(E.getAttribute(`data-bs-${Do(g)}`))};class aa{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,h){const S=Jr(h)?Si.getDataAttribute(h,"config"):{};return{...this.constructor.Default,..."object"==typeof S?S:{},...Jr(h)?Si.getDataAttributes(h):{},..."object"==typeof g?g:{}}}_typeCheckConfig(g,h=this.constructor.DefaultType){for(const[S,B]of Object.entries(h)){const fe=g[S],ve=Jr(fe)?"element":null==(E=fe)?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(B).test(ve))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${S}" provided type "${ve}" but expected type "${B}".`)}var E}}class zo extends aa{constructor(g,h){super(),(g=ss(g))&&(this._element=g,this._config=this._getConfig(h),Ri.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ri.remove(this._element,this.constructor.DATA_KEY),Dt.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,h,S=!0){Vc(g,h,S)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return Ri.get(ss(g),this.DATA_KEY)}static getOrCreateInstance(g,h={}){return this.getInstance(g)||new this(g,"object"==typeof h?h:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const Oa=E=>{let g=E.getAttribute("data-bs-target");if(!g||"#"===g){let h=E.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),g=h&&"#"!==h?h.trim():null}return g?g.split(",").map(h=>Ho(h)).join(","):null},qn={find:(E,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,E)),findOne:(E,g=document.documentElement)=>Element.prototype.querySelector.call(g,E),children:(E,g)=>[].concat(...E.children).filter(h=>h.matches(g)),parents(E,g){const h=[];let S=E.parentNode.closest(g);for(;S;)h.push(S),S=S.parentNode.closest(g);return h},prev(E,g){let h=E.previousElementSibling;for(;h;){if(h.matches(g))return[h];h=h.previousElementSibling}return[]},next(E,g){let h=E.nextElementSibling;for(;h;){if(h.matches(g))return[h];h=h.nextElementSibling}return[]},focusableChildren(E){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(g,E).filter(h=>!Qi(h)&&Is(h))},getSelectorFromElement(E){const g=Oa(E);return g&&qn.findOne(g)?g:null},getElementFromSelector(E){const g=Oa(E);return g?qn.findOne(g):null},getMultipleElementsFromSelector(E){const g=Oa(E);return g?qn.find(g):[]}},Za=(E,g="hide")=>{const S=E.NAME;Dt.on(document,`click.dismiss${E.EVENT_KEY}`,`[data-bs-dismiss="${S}"]`,function(B){if(["A","AREA"].includes(this.tagName)&&B.preventDefault(),Qi(this))return;const fe=qn.getElementFromSelector(this)||this.closest(`.${S}`);E.getOrCreateInstance(fe)[g]()})},fs=".bs.alert",Tl=`close${fs}`,Xs=`closed${fs}`;class gs extends zo{static get NAME(){return"alert"}close(){if(Dt.trigger(this._element,Tl).defaultPrevented)return;this._element.classList.remove("show");const h=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),Dt.trigger(this._element,Xs),this.dispose()}static jQueryInterface(g){return this.each(function(){const h=gs.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}Za(gs,"close"),Ji(gs);const w='[data-bs-toggle="button"]';class I extends zo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const h=I.getOrCreateInstance(this);"toggle"===g&&h[g]()})}}Dt.on(document,"click.bs.button.data-api",w,E=>{E.preventDefault();const g=E.target.closest(w);I.getOrCreateInstance(g).toggle()}),Ji(I);const j=".bs.swipe",ne=`touchstart${j}`,Ee=`touchmove${j}`,pt=`touchend${j}`,dt=`pointerdown${j}`,vn=`pointerup${j}`,tc={endCallback:null,leftCallback:null,rightCallback:null},nc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ca extends aa{constructor(g,h){super(),this._element=g,g&&ca.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return tc}static get DefaultType(){return nc}static get NAME(){return"swipe"}dispose(){Dt.off(this._element,j)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),Zi(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const h=g/this._deltaX;this._deltaX=0,h&&Zi(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Dt.on(this._element,dt,g=>this._start(g)),Dt.on(this._element,vn,g=>this._end(g)),this._element.classList.add("pointer-event")):(Dt.on(this._element,ne,g=>this._start(g)),Dt.on(this._element,Ee,g=>this._move(g)),Dt.on(this._element,pt,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&("pen"===g.pointerType||"touch"===g.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Na=".bs.carousel",wl=".data-api",Ts="next",ms="prev",Zo="left",Al="right",nu=`slide${Na}`,Bc=`slid${Na}`,ic=`keydown${Na}`,$c=`mouseenter${Na}`,ru=`mouseleave${Na}`,vp=`dragstart${Na}`,la=`load${Na}${wl}`,Ku=`click${Na}${wl}`,Hd="carousel",Hc="active",Vs=".active",oc=".carousel-item",ua=Vs+oc,es={ArrowLeft:Al,ArrowRight:Zo},Yu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},su={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class as extends zo{constructor(g,h){super(g,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=qn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Hd&&this.cycle()}static get Default(){return Yu}static get DefaultType(){return su}static get NAME(){return"carousel"}next(){this._slide(Ts)}nextWhenVisible(){!document.hidden&&Is(this._element)&&this.next()}prev(){this._slide(ms)}pause(){this._isSliding&&Zl(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Dt.one(this._element,Bc,()=>this.cycle());this.cycle()}}to(g){const h=this._getItems();if(g>h.length-1||g<0)return;if(this._isSliding)return void Dt.one(this._element,Bc,()=>this.to(g));const S=this._getItemIndex(this._getActive());S!==g&&this._slide(g>S?Ts:ms,h[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&Dt.on(this._element,ic,g=>this._keydown(g)),"hover"===this._config.pause&&(Dt.on(this._element,$c,()=>this.pause()),Dt.on(this._element,ru,()=>this._maybeEnableCycle())),this._config.touch&&ca.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const S of qn.find(".carousel-item img",this._element))Dt.on(S,vp,B=>B.preventDefault());this._swipeHelper=new ca(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Zo)),rightCallback:()=>this._slide(this._directionToOrder(Al)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const h=es[g.key];h&&(g.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const h=qn.findOne(Vs,this._indicatorsElement);h.classList.remove(Hc),h.removeAttribute("aria-current");const S=qn.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);S&&(S.classList.add(Hc),S.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const h=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(g,h=null){if(this._isSliding)return;const S=this._getActive(),B=g===Ts,fe=h||El(this._getItems(),S,B,this._config.wrap);if(fe===S)return;const ve=this._getItemIndex(fe),ht=ur=>Dt.trigger(this._element,ur,{relatedTarget:fe,direction:this._orderToDirection(g),from:this._getItemIndex(S),to:ve});if(ht(nu).defaultPrevented||!S||!fe)return;const En=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ve),this._activeElement=fe;const an=B?"carousel-item-start":"carousel-item-end",Xn=B?"carousel-item-next":"carousel-item-prev";fe.classList.add(Xn),S.classList.add(an),fe.classList.add(an),this._queueCallback(()=>{fe.classList.remove(an,Xn),fe.classList.add(Hc),S.classList.remove(Hc,Xn,an),this._isSliding=!1,ht(Bc)},S,this._isAnimated()),En&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return qn.findOne(ua,this._element)}_getItems(){return qn.find(oc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return Xo()?g===Zo?ms:Ts:g===Zo?Ts:ms}_orderToDirection(g){return Xo()?g===ms?Zo:Al:g===ms?Al:Zo}static jQueryInterface(g){return this.each(function(){const h=as.getOrCreateInstance(this,g);if("number"!=typeof g){if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}}else h.to(g)})}}Dt.on(document,Ku,"[data-bs-slide], [data-bs-slide-to]",function(E){const g=qn.getElementFromSelector(this);if(!g||!g.classList.contains(Hd))return;E.preventDefault();const h=as.getOrCreateInstance(g),S=this.getAttribute("data-bs-slide-to");return S?(h.to(S),void h._maybeEnableCycle()):"next"===Si.getDataAttribute(this,"slide")?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),Dt.on(window,la,()=>{const E=qn.find('[data-bs-ride="carousel"]');for(const g of E)as.getOrCreateInstance(g)}),Ji(as);const Ls=".bs.collapse",sc=`show${Ls}`,Xu=`shown${Ls}`,Fa=`hide${Ls}`,Gd=`hidden${Ls}`,zd=`click${Ls}.data-api`,zc="show",Zs="collapse",Wc="collapsing",au=`:scope .${Zs} .${Zs}`,Kc='[data-bs-toggle="collapse"]',Ca={parent:null,toggle:!0},qc={parent:"(null|element)",toggle:"boolean"};class Yc extends zo{constructor(g,h){super(g,h),this._isTransitioning=!1,this._triggerArray=[];const S=qn.find(Kc);for(const B of S){const fe=qn.getSelectorFromElement(B),ve=qn.find(fe).filter(ht=>ht===this._element);null!==fe&&ve.length&&this._triggerArray.push(B)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ca}static get DefaultType(){return qc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ht=>ht!==this._element).map(ht=>Yc.getOrCreateInstance(ht,{toggle:!1}))),g.length&&g[0]._isTransitioning||Dt.trigger(this._element,sc).defaultPrevented)return;for(const ht of g)ht.hide();const S=this._getDimension();this._element.classList.remove(Zs),this._element.classList.add(Wc),this._element.style[S]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ve=`scroll${S[0].toUpperCase()+S.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wc),this._element.classList.add(Zs,zc),this._element.style[S]="",Dt.trigger(this._element,Xu)},this._element,!0),this._element.style[S]=`${this._element[ve]}px`}hide(){if(this._isTransitioning||!this._isShown()||Dt.trigger(this._element,Fa).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,this._element.classList.add(Wc),this._element.classList.remove(Zs,zc);for(const B of this._triggerArray){const fe=qn.getElementFromSelector(B);fe&&!this._isShown(fe)&&this._addAriaAndCollapsedClass([B],!1)}this._isTransitioning=!0,this._element.style[h]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Wc),this._element.classList.add(Zs),Dt.trigger(this._element,Gd)},this._element,!0)}_isShown(g=this._element){return g.classList.contains(zc)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=ss(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(Kc);for(const h of g){const S=qn.getElementFromSelector(h);S&&this._addAriaAndCollapsedClass([h],this._isShown(S))}}_getFirstLevelChildren(g){const h=qn.find(au,this._config.parent);return qn.find(g,this._config.parent).filter(S=>!h.includes(S))}_addAriaAndCollapsedClass(g,h){if(g.length)for(const S of g)S.classList.toggle("collapsed",!h),S.setAttribute("aria-expanded",h)}static jQueryInterface(g){const h={};return"string"==typeof g&&/show|hide/.test(g)&&(h.toggle=!1),this.each(function(){const S=Yc.getOrCreateInstance(this,h);if("string"==typeof g){if(typeof S[g]>"u")throw new TypeError(`No method named "${g}"`);S[g]()}})}}Dt.on(document,zd,Kc,function(E){("A"===E.target.tagName||E.delegateTarget&&"A"===E.delegateTarget.tagName)&&E.preventDefault();for(const g of qn.getMultipleElementsFromSelector(this))Yc.getOrCreateInstance(g,{toggle:!1}).toggle()}),Ji(Yc);const xl="dropdown",ws=".bs.dropdown",cc=".data-api",so="ArrowUp",Cp="ArrowDown",nf=`hide${ws}`,$g=`hidden${ws}`,rf=`show${ws}`,Ip=`shown${ws}`,Qu=`click${ws}${cc}`,Xc=`keydown${ws}${cc}`,Pl=`keyup${ws}${cc}`,Qc="show",Po='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',dc=`${Po}.${Qc}`,Rl=".dropdown-menu",af=Xo()?"top-end":"top-start",cf=Xo()?"top-start":"top-end",Tp=Xo()?"bottom-end":"bottom-start",Us=Xo()?"bottom-start":"bottom-end",Zu=Xo()?"left-start":"right-start",Ol=Xo()?"right-start":"left-start",uu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ed={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class js extends zo{constructor(g,h){super(g,h),this._popper=null,this._parent=this._element.parentNode,this._menu=qn.next(this._element,Rl)[0]||qn.prev(this._element,Rl)[0]||qn.findOne(Rl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uu}static get DefaultType(){return ed}static get NAME(){return xl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qi(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!Dt.trigger(this._element,rf,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const S of[].concat(...document.body.children))Dt.on(S,"mouseover",Xa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qc),this._element.classList.add(Qc),Dt.trigger(this._element,Ip,g)}}hide(){!Qi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!Dt.trigger(this._element,nf,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))Dt.off(S,"mouseover",Xa);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qc),this._element.classList.remove(Qc),this._element.setAttribute("aria-expanded","false"),Si.removeDataAttribute(this._menu,"popper"),Dt.trigger(this._element,$g,g)}}_getConfig(g){if("object"==typeof(g=super._getConfig(g)).reference&&!Jr(g.reference)&&"function"!=typeof g.reference.getBoundingClientRect)throw new TypeError(`${xl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;"parent"===this._config.reference?g=this._parent:Jr(this._config.reference)?g=ss(this._config.reference):"object"==typeof this._config.reference&&(g=this._config.reference);const h=this._getPopperConfig();this._popper=Gr(g,this._menu,h)}_isShown(){return this._menu.classList.contains(Qc)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return Zu;if(g.classList.contains("dropstart"))return Ol;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const h="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return g.classList.contains("dropup")?h?cf:af:h?Us:Tp}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Si.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...Zi(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:h}){const S=qn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(B=>Is(B));S.length&&El(S,h,g===Cp,!S.includes(h)).focus()}static jQueryInterface(g){return this.each(function(){const h=js.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}static clearMenus(g){if(2===g.button||"keyup"===g.type&&"Tab"!==g.key)return;const h=qn.find(dc);for(const S of h){const B=js.getInstance(S);if(!B||!1===B._config.autoClose)continue;const fe=g.composedPath(),ve=fe.includes(B._menu);if(fe.includes(B._element)||"inside"===B._config.autoClose&&!ve||"outside"===B._config.autoClose&&ve||B._menu.contains(g.target)&&("keyup"===g.type&&"Tab"===g.key||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const ht={relatedTarget:B._element};"click"===g.type&&(ht.clickEvent=g),B._completeHide(ht)}}static dataApiKeydownHandler(g){const h=/input|textarea/i.test(g.target.tagName),S="Escape"===g.key,B=[so,Cp].includes(g.key);if(!B&&!S||h&&!S)return;g.preventDefault();const fe=this.matches(Po)?this:qn.prev(this,Po)[0]||qn.next(this,Po)[0]||qn.findOne(Po,g.delegateTarget.parentNode),ve=js.getOrCreateInstance(fe);if(B)return g.stopPropagation(),ve.show(),void ve._selectMenuItem(g);ve._isShown()&&(g.stopPropagation(),ve.hide(),fe.focus())}}Dt.on(document,Xc,Po,js.dataApiKeydownHandler),Dt.on(document,Xc,Rl,js.dataApiKeydownHandler),Dt.on(document,Qu,js.clearMenus),Dt.on(document,Pl,js.clearMenus),Dt.on(document,Qu,Po,function(E){E.preventDefault(),js.getOrCreateInstance(this).toggle()}),Ji(js);const Xd="backdrop",hc=`mousedown.bs.${Xd}`,td={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fc extends aa{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return td}static get DefaultType(){return lf}static get NAME(){return Xd}show(g){if(!this._config.isVisible)return void Zi(g);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(g)})):Zi(g)}dispose(){this._isAppended&&(Dt.off(this._element,hc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=ss(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),Dt.on(g,hc,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Vc(g,this._getElement(),this._config.isAnimated)}}const gc=".bs.focustrap",Jc=`focusin${gc}`,Nl=`keydown.tab${gc}`,rd="backward",uf={autofocus:!0,trapElement:null},Zc={autofocus:"boolean",trapElement:"element"};class el extends aa{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uf}static get DefaultType(){return Zc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Dt.off(document,gc),Dt.on(document,Jc,g=>this._handleFocusin(g)),Dt.on(document,Nl,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Dt.off(document,gc))}_handleFocusin(g){const{trapElement:h}=this._config;if(g.target===document||g.target===h||h.contains(g.target))return;const S=qn.focusableChildren(h);0===S.length?h.focus():this._lastTabNavDirection===rd?S[S.length-1].focus():S[0].focus()}_handleKeydown(g){"Tab"===g.key&&(this._lastTabNavDirection=g.shiftKey?rd:"forward")}}const id=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eh=".sticky-top",b="padding-right",p="margin-right";class _{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,b,h=>h+g),this._setElementAttributes(id,b,h=>h+g),this._setElementAttributes(eh,p,h=>h-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,b),this._resetElementAttributes(id,b),this._resetElementAttributes(eh,p)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,h,S){const B=this.getWidth();this._applyManipulationCallback(g,ve=>{if(ve!==this._element&&window.innerWidth>ve.clientWidth+B)return;this._saveInitialAttribute(ve,h);const ht=window.getComputedStyle(ve).getPropertyValue(h);ve.style.setProperty(h,`${S(Number.parseFloat(ht))}px`)})}_saveInitialAttribute(g,h){const S=g.style.getPropertyValue(h);S&&Si.setDataAttribute(g,h,S)}_resetElementAttributes(g,h){this._applyManipulationCallback(g,B=>{const fe=Si.getDataAttribute(B,h);null!==fe?(Si.removeDataAttribute(B,h),B.style.setProperty(h,fe)):B.style.removeProperty(h)})}_applyManipulationCallback(g,h){if(Jr(g))h(g);else for(const S of qn.find(g,this._element))h(S)}}const se=".bs.modal",zt=`hide${se}`,Sn=`hidePrevented${se}`,zn=`hidden${se}`,zr=`show${se}`,Bs=`shown${se}`,mc=`resize${se}`,_c=`click.dismiss${se}`,Fl=`mousedown.dismiss${se}`,tl=`keydown.dismiss${se}`,th=`click${se}.data-api`,vc="modal-open",sd="modal-static",cd={backdrop:!0,focus:!0,keyboard:!0},df={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vl extends zo{constructor(g,h){super(g,h),this._dialog=qn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _,this._addEventListeners()}static get Default(){return cd}static get DefaultType(){return df}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||Dt.trigger(this._element,zr,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){!this._isShown||this._isTransitioning||Dt.trigger(this._element,zt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Dt.off(window,se),Dt.off(this._dialog,se),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new el({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=qn.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Dt.trigger(this._element,Bs,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){Dt.on(this._element,tl,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Dt.on(window,mc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Dt.on(this._element,Fl,g=>{Dt.one(this._element,_c,h=>{if(this._element===g.target&&this._element===h.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vc),this._resetAdjustments(),this._scrollBar.reset(),Dt.trigger(this._element,zn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Dt.trigger(this._element,Sn).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,S=this._element.style.overflowY;"hidden"===S||this._element.classList.contains(sd)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(sd),this._queueCallback(()=>{this._element.classList.remove(sd),this._queueCallback(()=>{this._element.style.overflowY=S},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),S=h>0;if(S&&!g){const B=Xo()?"paddingLeft":"paddingRight";this._element.style[B]=`${h}px`}if(!S&&g){const B=Xo()?"paddingRight":"paddingLeft";this._element.style[B]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,h){return this.each(function(){const S=Vl.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof S[g]>"u")throw new TypeError(`No method named "${g}"`);S[g](h)}})}}Dt.on(document,th,'[data-bs-toggle="modal"]',function(E){const g=qn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),Dt.one(g,zr,B=>{B.defaultPrevented||Dt.one(g,zn,()=>{Is(this)&&this.focus()})});const h=qn.findOne(".modal.show");h&&Vl.getInstance(h).hide(),Vl.getOrCreateInstance(g).toggle(this)}),Za(Vl),Ji(Vl);const ba=".bs.offcanvas",wp=".data-api",ld=`load${ba}${wp}`,Ap="showing",xp=".offcanvas.show",Sp=`show${ba}`,Hg=`shown${ba}`,Gg=`hide${ba}`,zg=`hidePrevented${ba}`,ih=`hidden${ba}`,r_=`resize${ba}`,Pp=`click${ba}${wp}`,ea=`keydown.dismiss${ba}`,Wg={backdrop:!0,keyboard:!0,scroll:!1},sh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class go extends zo{constructor(g,h){super(g,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wg}static get DefaultType(){return sh}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||Dt.trigger(this._element,Sp,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new _).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ap),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ap),Dt.trigger(this._element,Hg,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&!Dt.trigger(this._element,Gg).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new _).reset(),Dt.trigger(this._element,ih)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const h=!!this._config.backdrop;return new fc({className:"offcanvas-backdrop",isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?()=>{"static"!==this._config.backdrop?this.hide():Dt.trigger(this._element,zg)}:null})}_initializeFocusTrap(){return new el({trapElement:this._element})}_addEventListeners(){Dt.on(this._element,ea,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();Dt.trigger(this._element,zg)}})}static jQueryInterface(g){return this.each(function(){const h=go.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}Dt.on(document,Pp,'[data-bs-toggle="offcanvas"]',function(E){const g=qn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),Qi(this))return;Dt.one(g,ih,()=>{Is(this)&&this.focus()});const h=qn.findOne(xp);h&&h!==g&&go.getInstance(h).hide(),go.getOrCreateInstance(g).toggle(this)}),Dt.on(window,ld,()=>{for(const E of qn.find(xp))go.getOrCreateInstance(E).show()}),Dt.on(window,r_,()=>{for(const E of qn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(E).position&&go.getOrCreateInstance(E).hide()}),Za(go),Ji(go);const ah={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ff=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),dd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,il=(E,g)=>{const h=E.nodeName.toLowerCase();return g.includes(h)?!ff.has(h)||!!dd.test(E.nodeValue):g.filter(S=>S instanceof RegExp).some(S=>S.test(h))},hd={allowList:ah,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fd={entry:"(string|element|function|null)",selector:"(string|element)"};class i_ extends aa{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return hd}static get DefaultType(){return Mp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[B,fe]of Object.entries(this._config.content))this._setContent(g,fe,B);const h=g.children[0],S=this._resolvePossibleFunction(this._config.extraClass);return S&&h.classList.add(...S.split(" ")),h}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[h,S]of Object.entries(g))super._typeCheckConfig({selector:h,entry:S},fd)}_setContent(g,h,S){const B=qn.findOne(S,g);if(B){if(!(h=this._resolvePossibleFunction(h)))return void B.remove();if(Jr(h))return void this._putElementInTemplate(ss(h),B);if(this._config.html)return void(B.innerHTML=this._maybeSanitize(h));B.textContent=h}}_maybeSanitize(g){return this._config.sanitize?function Rp(E,g,h){if(!E.length)return E;if(h&&"function"==typeof h)return h(E);const B=(new window.DOMParser).parseFromString(E,"text/html"),fe=[].concat(...B.body.querySelectorAll("*"));for(const ve of fe){const ht=ve.nodeName.toLowerCase();if(!Object.keys(g).includes(ht)){ve.remove();continue}const At=[].concat(...ve.attributes),En=[].concat(g["*"]||[],g[ht]||[]);for(const an of At)il(an,En)||ve.removeAttribute(an.nodeName)}return B.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return Zi(g,[this])}_putElementInTemplate(g,h){if(this._config.html)return h.innerHTML="",void h.append(g);h.textContent=g.textContent}}const ch=new Set(["sanitize","allowList","sanitizeFn"]),lh="fade",pd="show",uh="hide.bs.modal",Ll="hover",ol="focus",dh={AUTO:"auto",TOP:"top",RIGHT:Xo()?"left":"right",BOTTOM:"bottom",LEFT:Xo()?"right":"left"},kp={allowList:ah,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class mu extends zo{constructor(g,h){if(typeof a>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kp}static get DefaultType(){return Fp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Dt.off(this._element.closest(".modal"),uh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=Dt.trigger(this._element,this.constructor.eventName("show")),S=(eu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!S)return;this._disposePopper();const B=this._getTipElement();this._element.setAttribute("aria-describedby",B.getAttribute("id"));const{container:fe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(fe.append(B),Dt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(B),B.classList.add(pd),"ontouchstart"in document.documentElement)for(const ht of[].concat(...document.body.children))Dt.on(ht,"mouseover",Xa);this._queueCallback(()=>{Dt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Dt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(pd),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))Dt.off(B,"mouseover",Xa);this._activeTrigger.click=!1,this._activeTrigger[ol]=!1,this._activeTrigger[Ll]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Dt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const h=this._getTemplateFactory(g).toHtml();if(!h)return null;h.classList.remove(lh,pd),h.classList.add(`bs-${this.constructor.NAME}-auto`);const S=(E=>{do{E+=Math.floor(1e6*Math.random())}while(document.getElementById(E));return E})(this.constructor.NAME).toString();return h.setAttribute("id",S),this._isAnimated()&&h.classList.add(lh),h}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new i_({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(lh)}_isShown(){return this.tip&&this.tip.classList.contains(pd)}_createPopper(g){const h=Zi(this._config.placement,[this,g,this._element]),S=dh[h.toUpperCase()];return Gr(this._element,g,this._getPopperConfig(S))}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_resolvePossibleFunction(g){return Zi(g,[this._element])}_getPopperConfig(g){const h={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:S=>{this._getTipElement().setAttribute("data-popper-placement",S.state.placement)}}]};return{...h,...Zi(this._config.popperConfig,[h])}}_setListeners(){const g=this._config.trigger.split(" ");for(const h of g)if("click"===h)Dt.on(this._element,this.constructor.eventName("click"),this._config.selector,S=>{this._initializeOnDelegatedTarget(S).toggle()});else if("manual"!==h){const S=this.constructor.eventName(h===Ll?"mouseenter":"focusin"),B=this.constructor.eventName(h===Ll?"mouseleave":"focusout");Dt.on(this._element,S,this._config.selector,fe=>{const ve=this._initializeOnDelegatedTarget(fe);ve._activeTrigger["focusin"===fe.type?ol:Ll]=!0,ve._enter()}),Dt.on(this._element,B,this._config.selector,fe=>{const ve=this._initializeOnDelegatedTarget(fe);ve._activeTrigger["focusout"===fe.type?ol:Ll]=ve._element.contains(fe.relatedTarget),ve._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Dt.on(this._element.closest(".modal"),uh,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,h){clearTimeout(this._timeout),this._timeout=setTimeout(g,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const h=Si.getDataAttributes(this._element);for(const S of Object.keys(h))ch.has(S)&&delete h[S];return g={...h,..."object"==typeof g&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=!1===g.container?document.body:ss(g.container),"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay}),"number"==typeof g.title&&(g.title=g.title.toString()),"number"==typeof g.content&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[h,S]of Object.entries(this._config))this.constructor.Default[h]!==S&&(g[h]=S);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const h=mu.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(mu);const Zg={...mu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vf={...mu.DefaultType,content:"(null|string|element|function)"};class Vp extends mu{static get Default(){return Zg}static get DefaultType(){return vf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const h=Vp.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(Vp);const fh=".bs.scrollspy",yf=`activate${fh}`,Ef=`click${fh}`,jp=`load${fh}.data-api`,al="active",bf="[href]",gh=".nav-link",vu=`${gh}, .nav-item > ${gh}, .list-group-item`,Hp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},c_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _d extends zo{constructor(g,h){super(g,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hp}static get DefaultType(){return c_}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=ss(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,"string"==typeof g.threshold&&(g.threshold=g.threshold.split(",").map(h=>Number.parseFloat(h))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Dt.off(this._config.target,Ef),Dt.on(this._config.target,Ef,bf,g=>{const h=this._observableSections.get(g.target.hash);if(h){g.preventDefault();const S=this._rootElement||window,B=h.offsetTop-this._element.offsetTop;if(S.scrollTo)return void S.scrollTo({top:B,behavior:"smooth"});S.scrollTop=B}}))}_getNewObserver(){return new IntersectionObserver(h=>this._observerCallback(h),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(g){const h=ve=>this._targetLinks.get(`#${ve.target.id}`),S=ve=>{this._previousScrollData.visibleEntryTop=ve.target.offsetTop,this._process(h(ve))},B=(this._rootElement||document.documentElement).scrollTop,fe=B>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=B;for(const ve of g){if(!ve.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(ve));continue}const ht=ve.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(fe&&ht){if(S(ve),!B)return}else!fe&&!ht&&S(ve)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=qn.find(bf,this._config.target);for(const h of g){if(!h.hash||Qi(h))continue;const S=qn.findOne(decodeURI(h.hash),this._element);Is(S)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,S))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(al),this._activateParents(g),Dt.trigger(this._element,yf,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))qn.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(al);else for(const h of qn.parents(g,".nav, .list-group"))for(const S of qn.prev(h,vu))S.classList.add(al)}_clearActiveClass(g){g.classList.remove(al);const h=qn.find(`${bf}.${al}`,g);for(const S of h)S.classList.remove(al)}static jQueryInterface(g){return this.each(function(){const h=_d.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}Dt.on(window,jp,()=>{for(const E of qn.find('[data-bs-spy="scroll"]'))_d.getOrCreateInstance(E)}),Ji(_d);const Cc=".bs.tab",mh=`hide${Cc}`,vd=`hidden${Cc}`,l_=`show${Cc}`,zp=`shown${Cc}`,_v=`click${Cc}`,Wp=`keydown${Cc}`,Kp=`load${Cc}`,qp="ArrowLeft",yu="ArrowRight",yd="ArrowUp",_h="ArrowDown",Ed="Home",Tf="End",Ul="active",vh="show",wf=".dropdown-toggle",yh=`:not(${wf})`,Df='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',xf=`.nav-link${yh}, .list-group-item${yh}, [role="tab"]${yh}, ${Df}`,Cd=`.${Ul}[data-bs-toggle="tab"], .${Ul}[data-bs-toggle="pill"], .${Ul}[data-bs-toggle="list"]`;class Eu extends zo{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Dt.on(this._element,Wp,h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const h=this._getActiveElem(),S=h?Dt.trigger(h,mh,{relatedTarget:g}):null;Dt.trigger(g,l_,{relatedTarget:h}).defaultPrevented||S&&S.defaultPrevented||(this._deactivate(h,g),this._activate(g,h))}_activate(g,h){g&&(g.classList.add(Ul),this._activate(qn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),Dt.trigger(g,zp,{relatedTarget:h})):g.classList.add(vh)},g,g.classList.contains("fade")))}_deactivate(g,h){g&&(g.classList.remove(Ul),g.blur(),this._deactivate(qn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),Dt.trigger(g,vd,{relatedTarget:h})):g.classList.remove(vh)},g,g.classList.contains("fade")))}_keydown(g){if(![qp,yu,yd,_h,Ed,Tf].includes(g.key))return;g.stopPropagation(),g.preventDefault();const h=this._getChildren().filter(B=>!Qi(B));let S;if([Ed,Tf].includes(g.key))S=h[g.key===Ed?0:h.length-1];else{const B=[yu,_h].includes(g.key);S=El(h,g.target,B,!0)}S&&(S.focus({preventScroll:!0}),Eu.getOrCreateInstance(S).show())}_getChildren(){return qn.find(xf,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,h){this._setAttributeIfNotExists(g,"role","tablist");for(const S of h)this._setInitialAttributesOnChild(S)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const h=this._elemIsActive(g),S=this._getOuterElement(g);g.setAttribute("aria-selected",h),S!==g&&this._setAttributeIfNotExists(S,"role","presentation"),h||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const h=qn.getElementFromSelector(g);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,h){const S=this._getOuterElement(g);if(!S.classList.contains("dropdown"))return;const B=(fe,ve)=>{const ht=qn.findOne(fe,S);ht&&ht.classList.toggle(ve,h)};B(wf,Ul),B(".dropdown-menu",vh),S.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(g,h,S){g.hasAttribute(h)||g.setAttribute(h,S)}_elemIsActive(g){return g.classList.contains(Ul)}_getInnerElement(g){return g.matches(xf)?g:qn.findOne(xf,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const h=Eu.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}Dt.on(document,_v,Df,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),!Qi(this)&&Eu.getOrCreateInstance(this).show()}),Dt.on(window,Kp,()=>{for(const E of qn.find(Cd))Eu.getOrCreateInstance(E)}),Ji(Eu);const Bl=".bs.toast",f_=`mouseover${Bl}`,p_=`mouseout${Bl}`,Pf=`focusin${Bl}`,bd=`focusout${Bl}`,Ua=`hide${Bl}`,Cu=`hidden${Bl}`,Yp=`show${Bl}`,Rf=`shown${Bl}`,Eh="show",Nf="showing",$l={animation:"boolean",autohide:"boolean",delay:"number"},kf={animation:!0,autohide:!0,delay:5e3};class Ch extends zo{constructor(g,h){super(g,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kf}static get DefaultType(){return $l}static get NAME(){return"toast"}show(){Dt.trigger(this._element,Yp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Eh,Nf),this._queueCallback(()=>{this._element.classList.remove(Nf),Dt.trigger(this._element,Rf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Dt.trigger(this._element,Ua).defaultPrevented&&(this._element.classList.add(Nf),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Nf,Eh),Dt.trigger(this._element,Cu)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Eh),super.dispose()}isShown(){return this._element.classList.contains(Eh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,h){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const S=g.relatedTarget;this._element===S||this._element.contains(S)||this._maybeScheduleHide()}_setListeners(){Dt.on(this._element,f_,g=>this._onInteraction(g,!0)),Dt.on(this._element,p_,g=>this._onInteraction(g,!1)),Dt.on(this._element,Pf,g=>this._onInteraction(g,!0)),Dt.on(this._element,bd,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const h=Ch.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g](this)}})}}Za(Ch),Ji(Ch);let tm=(()=>{class E{constructor(h){this.http=h,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(h){return this.http.post(this.emailEndpoint,h)}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Qe))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var Wr=L(4341);let Xp=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2),o.nrm(3,"i",3),o.j41(4,"p"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"i",4),o.j41(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",2),o.nrm(11,"i",5),o.j41(12,"p"),o.EFF(13),o.k0s()()()()),2&S&&(o.R7$(5),o.JRh(B.phoneNumber),o.R7$(4),o.JRh(B.address),o.R7$(4),o.JRh(B.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();var Qp=L(6340);let g_=(()=>{class E{constructor(h,S,B){this.firestore=h,this.route=S,this.sanitizer=B,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(h=>{this.businessId=h.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(h=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(h?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Qp.Qe),o.rXU(Er.nX),o.rXU(ae.up))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"div",1),o.EFF(2,"Find Us Here"),o.k0s(),o.j41(3,"div",2),o.nrm(4,"div",3),o.k0s()()),2&S&&(o.R7$(4),o.Y8G("innerHTML",B.mapIframeUrl,o.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return E})();function m_(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Email"),o.k0s(),o.j41(3,"p")(4,"a",46),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function Jp(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Fax"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(4),o.JRh(h.business.fax)}}function Ff(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Social Media"),o.k0s(),o.j41(3,"p")(4,"a",46),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.FS9("href",h.business.socialMedia,o.B4B),o.R7$(1),o.JRh(h.business.socialMedia)}}function Zp(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",13)(2,"div",14)(3,"h1"),o.EFF(4,"Contact Us"),o.k0s(),o.j41(5,"div",15)(6,"p"),o.EFF(7,"We're here to answer any questions you have"),o.k0s()()()(),o.j41(8,"div",16)(9,"section",17)(10,"div",18),o.EFF(11,"Get in Touch"),o.k0s(),o.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),o.EFF(17,"Address"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",22)(21,"h3"),o.EFF(22,"Phone"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.k0s()(),o.DNE(25,m_,6,2,"div",23),o.DNE(26,Jp,5,1,"div",23),o.DNE(27,Ff,6,2,"div",23),o.j41(28,"div")(29,"h3"),o.EFF(30,"Visitation Hours"),o.k0s(),o.nrm(31,"div",24),o.k0s()()(),o.j41(32,"div",25)(33,"div",26),o.nrm(34,"img",27),o.k0s()()()(),o.j41(35,"section",28)(36,"div",18),o.EFF(37,"Send Us a Message"),o.k0s(),o.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),o.EFF(42,"How can we help?"),o.k0s(),o.j41(43,"p",33),o.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),o.k0s()()(),o.j41(45,"div",34)(46,"form",35,36),o.bIt("ngSubmit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(48,"div",37)(49,"label",38),o.EFF(50,"Name"),o.k0s(),o.j41(51,"input",39),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.name=B)}),o.k0s()(),o.j41(52,"div",37)(53,"label",40),o.EFF(54,"Email"),o.k0s(),o.j41(55,"input",41),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.email=B)}),o.k0s()(),o.j41(56,"div",37)(57,"label",42),o.EFF(58,"Message"),o.k0s(),o.j41(59,"textarea",43),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.message=B)}),o.k0s()(),o.j41(60,"button",44),o.EFF(61,"Submit"),o.k0s()()()()(),o.nrm(62,"app-information",45)(63,"app-map-iframe"),o.k0s(),o.bVm()}if(2&E){const h=o.sdS(47),S=o.XpG(2);o.R7$(19),o.JRh(S.business.address),o.R7$(5),o.JRh(S.business.phone),o.R7$(1),o.Y8G("ngIf",S.business.email),o.R7$(1),o.Y8G("ngIf",S.business.fax),o.R7$(1),o.Y8G("ngIf",S.business.socialMedia),o.R7$(4),o.Y8G("innerHTML",S.sanitizedBusinessHours,o.npT),o.R7$(3),o.Y8G("src",S.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",o.B4B),o.R7$(17),o.Y8G("ngModel",S.formData.name),o.R7$(4),o.Y8G("ngModel",S.formData.email),o.R7$(4),o.Y8G("ngModel",S.formData.message),o.R7$(1),o.Y8G("disabled",!h.form.valid),o.R7$(2),o.Y8G("phoneNumber",S.business.phone)("address",S.business.address)("email",S.business.email)}}function eg(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function __(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function bu(E,g){if(1&E){const h=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",47)(3,"div",48)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,eg,4,2,"div",49),o.j41(7,"div",50)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",50)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,__,3,1,"div",51),o.k0s(),o.j41(14,"div",52)(15,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(16,"div",37)(17,"label",54),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",55)(22,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.name=B)}),o.k0s()()(),o.j41(23,"div",37)(24,"label",40),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.email=B)}),o.k0s()(),o.j41(29,"div",37)(30,"label",42),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.message=B)}),o.k0s()(),o.j41(35,"button",59),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",47)(38,"div",48)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.nrm(42,"div",24),o.k0s()(),o.j41(43,"div",60),o.nrm(44,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(6),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message),o.R7$(8),o.Y8G("innerHTML",h.sanitizedBusinessHours,o.npT)}}function nm(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function v_(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function tg(E,g){if(1&E){const h=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",47)(3,"div",48)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,nm,4,2,"div",49),o.j41(7,"div",50)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",50)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,v_,3,1,"div",51),o.k0s(),o.j41(14,"div",52)(15,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(16,"div",37)(17,"label",54),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",55)(22,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.name=B)}),o.k0s()()(),o.j41(23,"div",37)(24,"label",40),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.email=B)}),o.k0s()(),o.j41(29,"div",37)(30,"label",42),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.message=B)}),o.k0s()(),o.j41(35,"button",59),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",47)(38,"div",48)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.nrm(42,"div",24),o.k0s()(),o.j41(43,"div",60),o.nrm(44,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(6),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message),o.R7$(8),o.Y8G("innerHTML",h.sanitizedBusinessHours,o.npT)}}function rm(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function im(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function om(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",47)(2,"div",48)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,rm,4,2,"div",49),o.j41(6,"div",50)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",50)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,im,3,1,"div",51),o.k0s(),o.j41(13,"div",52)(14,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(15,"div",37)(16,"label",54),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",55)(21,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.name=B)}),o.k0s()()(),o.j41(22,"div",37)(23,"label",40),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.email=B)}),o.k0s()(),o.j41(28,"div",37)(29,"label",42),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const fe=o.XpG(2);return o.Njj(fe.formData.message=B)}),o.k0s()(),o.j41(34,"button",59),o.EFF(35,"Send"),o.k0s()()()(),o.j41(36,"div",47)(37,"div",48)(38,"div")(39,"h2"),o.EFF(40,"Visitation Hours"),o.k0s(),o.j41(41,"ul")(42,"li")(43,"strong"),o.EFF(44,"Monday:"),o.k0s(),o.EFF(45," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(46,"li")(47,"strong"),o.EFF(48,"Tuesday:"),o.k0s(),o.EFF(49," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(50,"li")(51,"strong"),o.EFF(52,"Wednesday:"),o.k0s(),o.EFF(53," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(54,"li")(55,"strong"),o.EFF(56,"Thursday:"),o.k0s(),o.EFF(57," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(58,"li")(59,"strong"),o.EFF(60,"Friday:"),o.k0s(),o.EFF(61," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(62,"li")(63,"strong"),o.EFF(64,"Saturday:"),o.k0s(),o.EFF(65," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(66,"li")(67,"strong"),o.EFF(68,"Sunday:"),o.k0s(),o.EFF(69," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(70,"div",60),o.nrm(71,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(5),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message)}}function ng(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Zp,64,14,"ng-container",2),o.DNE(3,bu,45,8,"ng-container",2),o.DNE(4,tg,45,8,"ng-container",2),o.DNE(5,om,72,7,"ng-container",3),o.k0s(),o.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),o.EFF(11),o.k0s(),o.nrm(12,"button",9),o.k0s(),o.j41(13,"div",10),o.EFF(14),o.k0s(),o.j41(15,"div",11)(16,"button",12),o.EFF(17,"Close"),o.k0s()()()()()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(7),o.JRh(h.modalTitle),o.R7$(3),o.SpI(" ",h.modalMessage," ")}}let sm=(()=>{class E{constructor(h,S,B,fe,ve,ht,At){this.sanitizer=h,this.businessDataService=S,this.webContent=B,this.route=fe,this.http=ve,this.emailService=ht,this.metaService=At,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,h?.id&&(this.metaService.loadAndApplyMeta(h?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const h=document.getElementById("responseModal");h?this.responseModal=new Vl(h):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(h=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},h=>{console.error("Error sending email",h),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(h){const S=h.split(".");return S.length>2?S.slice(-2).join("."):h}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(ae.up),o.rXU(Pe.A),o.rXU(ii.N),o.rXU(Er.nX),o.rXU(Qe),o.rXU(tm),o.rXU(Li.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(S,B){1&S&&o.DNE(0,ng,18,6,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,Wr.qT,Wr.me,Wr.BC,Wr.cb,Wr.YS,Wr.vS,Wr.cV,Xp,g_,Dn],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}return E})();var rg=L(467),y_=L(214),ig=L(3739);function Nr(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Id(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",5)(2,"div",6)(3,"h1"),o.EFF(4,"Our Home"),o.k0s(),o.j41(5,"div",7)(6,"p"),o.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),o.k0s()()()(),o.j41(8,"div",8)(9,"section",9)(10,"div",10),o.EFF(11,"Welcome to Our Home"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"section",11)(15,"div",10),o.EFF(16,"Explore Our Gallery"),o.k0s(),o.j41(17,"div",12),o.DNE(18,Nr,2,1,"div",13),o.k0s()(),o.j41(19,"div",14)(20,"div",15)(21,"h2"),o.EFF(22,"Come Meet Our Family"),o.k0s(),o.j41(23,"p"),o.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(25,"button",16),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact(B.business.id))}),o.EFF(26,"Schedule a Visit"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.SpI(" ",h.business.photoGalleryText," "),o.R7$(5),o.Y8G("ngForOf",h.images)}}function og(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Td(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Vf(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,og,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,Td,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function ts(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Ro(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function ja(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,ts,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,Ro,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function am(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const fe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(fe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Lf(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text"),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Explore Our Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,am,2,1,"div",13),o.k0s()(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",h.images)}}function E_(E,g){if(1&E){const h=o.RV6();o.j41(0,"app-image-viewer-modal",22),o.bIt("closeModal",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onCloseModal())}),o.k0s()}if(2&E){const h=o.XpG(2);o.Y8G("imageUrl",h.selectedImageUrl)}}function sg(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Id,27,2,"ng-container",2),o.DNE(3,Vf,16,8,"ng-container",2),o.DNE(4,ja,16,8,"ng-container",2),o.DNE(5,Lf,9,1,"ng-container",3),o.DNE(6,E_,1,1,"app-image-viewer-modal",4),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(2),o.Y8G("ngIf",h.selectedImageUrl)}}let ag=(()=>{class E{constructor(h,S,B,fe,ve){this.businessDataService=h,this.route=S,this.webContent=B,this.metaService=fe,this.router=ve,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.layoutType=h?.theme.themeType||"",h?.id&&(this.businessId=h.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var h=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:B,target:fe})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,B).pipe((0,ce.n)(ve=>{const ht=ve.map(function(){var At=(0,rg.A)(function*(En){return(yield h.webContent.checkImageExists(En.url))?En:null});return function(En){return At.apply(this,arguments)}}());return(0,he.H)(Promise.all(ht))}),(0,Be.T)(ve=>ve.filter(ht=>null!==ht))).subscribe(ve=>{this[fe]=ve})})}onImageClick(h){this.selectedImageUrl=h}onCloseModal(){this.selectedImageUrl=null}navigateToContact(h){this.router.navigate(["/contact-us"],{queryParams:{id:h}})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Pe.A),o.rXU(Er.nX),o.rXU(ii.N),o.rXU(Li.R),o.rXU(Er.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(S,B){1&S&&o.DNE(0,sg,7,5,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,y_.W,ig.W,Dn,On],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}return E})();var Uf=L(4796);function jf(E,g){if(1&E&&(o.j41(0,"div",11),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.errorMessage)}}let cg=(()=>{class E{constructor(h,S){this.authService=h,this.router=S,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(h=>{this.errorMessage=h.message})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Uf.u),o.rXU(Er.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1)(2,"h2",2),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",3),o.bIt("submit",function(){return B.login()}),o.j41(5,"div",4)(6,"label",5),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",6),o.bIt("ngModelChange",function(ve){return B.email=ve}),o.k0s()(),o.j41(9,"div",4)(10,"label",7),o.EFF(11,"Password"),o.k0s(),o.j41(12,"input",8),o.bIt("ngModelChange",function(ve){return B.password=ve}),o.k0s()(),o.j41(13,"button",9),o.EFF(14,"Login"),o.k0s(),o.DNE(15,jf,2,1,"div",10),o.k0s()()()),2&S&&(o.R7$(8),o.Y8G("ngModel",B.email),o.R7$(4),o.Y8G("ngModel",B.password),o.R7$(3),o.Y8G("ngIf",B.errorMessage))},dependencies:[me.bT,Wr.qT,Wr.me,Wr.BC,Wr.cb,Wr.YS,Wr.vS,Wr.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return E})(),Iu=(()=>{class E{constructor(h){this.afs=h,this.basePath="businesses"}saveIntakeForm(h,S){const B=this.afs.createId(),fe=this.afs.collection(`${this.basePath}/${S}/intake`).doc(B);return new De.c(ve=>{fe.set(h).then(()=>{ve.next(h),ve.complete()}).catch(ht=>{console.error("Error saving intake form data",ht),ve.error(ht)})})}getIntakeForms(h){return this.afs.collection(`${this.basePath}/${h}/intake`).snapshotChanges().pipe((0,Be.T)(S=>S.map(B=>{const fe=B.payload.doc.data();return{id:B.payload.doc.id,...fe}})))}getIntakeForm(h,S){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).valueChanges().pipe((0,Be.T)(B=>B||void 0))}updateIntakeForm(h,S,B){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).update(B)}deleteIntakeForm(h,S){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).delete()}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Qp.Qe))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function cm(E,g){if(1&E&&(o.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),o.EFF(3),o.k0s()(),o.j41(4,"div",6)(5,"p"),o.EFF(6),o.k0s()()()),2&E){const h=g.$implicit;o.R7$(3),o.SpI('"',h.quote,'"'),o.R7$(3),o.JRh(h.name)}}function Bf(E,g){if(1&E&&(o.j41(0,"div",2),o.DNE(1,cm,7,2,"div",3),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngForOf",h.testimonials)}}const $f=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Oo.B},{path:"about-us",component:Gi},{path:"services",component:$r},{path:"contact-us",component:sm},{path:"gallery",component:ag},{path:"login",component:cg},{path:"resident-form",component:(()=>{class E{constructor(h,S,B,fe,ve){this.fb=h,this.intakeService=S,this.businessDataService=B,this.emailService=fe,this.metaService=ve,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Wr.k0.required],email:["",[Wr.k0.required,Wr.k0.email]],phoneNumber:["",Wr.k0.required],referralSource:["",Wr.k0.required],relationToResident:[""],residentName:["",Wr.k0.required],age:["",Wr.k0.required],gender:["",Wr.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,h?.id&&(this.metaService.loadAndApplyMeta(h?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const h=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(h,this.businessId).subscribe(B=>{console.log("Intake form saved successfully!",B)},B=>{console.error("Error saving intake form:",B)});const S={name:h.name,email:h.email,message:this.generateEmailMessage(h),website:window.location.hostname};this.emailService.sendEmail(S).subscribe(B=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},B=>{console.error("Error sending email",B),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(h){return`\n      Name: ${h.name}\n      Email: ${h.email}\n      Phone Number: ${h.phoneNumber}\n      Referral Source: ${h.referralSource}\n      Relation to Resident: ${h.relationToResident}\n      Resident Name: ${h.residentName}\n      Age: ${h.age}\n      Gender: ${h.gender}\n      Medical History: ${h.medicalHistory}\n      Height: ${h.height}\n      Weight: ${h.weight}\n      Reason for Moving: ${h.reasonForMoving}\n      RN Assessment: ${h.rnAssessment}\n      Eating: ${h.eating}\n      Personal Hygiene: ${h.personalHygiene}\n      Bathing: ${h.bathing}\n      Toileting: ${h.toileting}\n      Mobility: ${h.mobility}\n      Transfers: ${h.transfers}\n      Medication Assistance: ${h.medicationAssistance}\n      Memory Issues: ${h.memoryIssues}\n      Behavior: ${h.behavior}\n      Skin Condition: ${h.skinCondition}\n      Additional Info: ${h.additionalInfo}\n      Current Living Situation: ${h.currentLivingSituation}\n      Target Move-In Date: ${h.targetMoveInDate}\n      Disclosure Summary: ${h.disclosureSummary}\n      Questions: ${h.questions}\n    `}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Wr.ok),o.rXU(Iu),o.rXU(Pe.A),o.rXU(tm),o.rXU(Li.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-resident-intake-form"]],decls:193,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(S,B){1&S&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return B.onSubmit()}),o.j41(1,"div",1)(2,"h2"),o.EFF(3,"Personal Information"),o.k0s(),o.j41(4,"label",2),o.EFF(5,"Name *"),o.k0s(),o.nrm(6,"input",3),o.j41(7,"label",4),o.EFF(8,"Email *"),o.k0s(),o.nrm(9,"input",5),o.j41(10,"label",6),o.EFF(11,"Phone number *"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.j41(13,"div",1)(14,"h2"),o.EFF(15,"Referral Source"),o.k0s(),o.j41(16,"label",8),o.EFF(17,"How did you find out about us? *"),o.k0s(),o.j41(18,"select",9)(19,"option",10),o.EFF(20,"Google"),o.k0s(),o.j41(21,"option",11),o.EFF(22,"Facebook"),o.k0s(),o.j41(23,"option",12),o.EFF(24,"Placement Agency"),o.k0s(),o.j41(25,"option",13),o.EFF(26,"Friends and/or Family"),o.k0s(),o.j41(27,"option",14),o.EFF(28,"Other"),o.k0s()(),o.j41(29,"label",15),o.EFF(30,"What is your relation to the resident? *"),o.k0s(),o.nrm(31,"input",16),o.k0s(),o.j41(32,"div",1)(33,"h2"),o.EFF(34,"Resident Information"),o.k0s(),o.j41(35,"label",17),o.EFF(36,"Resident's name *"),o.k0s(),o.nrm(37,"input",18),o.j41(38,"label",19),o.EFF(39,"Age *"),o.k0s(),o.nrm(40,"input",20),o.j41(41,"label",21),o.EFF(42,"Gender *"),o.k0s(),o.j41(43,"select",22)(44,"option",23),o.EFF(45,"Male"),o.k0s(),o.j41(46,"option",24),o.EFF(47,"Female"),o.k0s(),o.j41(48,"option",25),o.EFF(49,"Prefer not to say"),o.k0s(),o.j41(50,"option",14),o.EFF(51,"Other"),o.k0s()()(),o.j41(52,"div",1)(53,"h2"),o.EFF(54,"Medical History"),o.k0s(),o.j41(55,"label",26),o.EFF(56,"Relevant medical and surgical history *"),o.k0s(),o.nrm(57,"textarea",27),o.j41(58,"label",28),o.EFF(59,"Height *"),o.k0s(),o.nrm(60,"input",29),o.j41(61,"label",30),o.EFF(62,"Weight *"),o.k0s(),o.nrm(63,"input",31),o.j41(64,"label",32),o.EFF(65,"Reason for moving to an adult family home *"),o.k0s(),o.nrm(66,"textarea",33),o.j41(67,"label",34),o.EFF(68,'Do you already have an "RN Assessment for AFH"? *'),o.k0s(),o.j41(69,"select",35)(70,"option",36),o.EFF(71,"Yes"),o.k0s(),o.j41(72,"option",37),o.EFF(73,"No"),o.k0s()()(),o.j41(74,"div",1)(75,"h2"),o.EFF(76,"Care Levels"),o.k0s(),o.j41(77,"label",38),o.EFF(78,"Eating *"),o.k0s(),o.j41(79,"select",39)(80,"option",40),o.EFF(81,"Independent"),o.k0s(),o.j41(82,"option",41),o.EFF(83,"Needing Assistance"),o.k0s(),o.j41(84,"option",42),o.EFF(85,"Dependent"),o.k0s()(),o.j41(86,"label",43),o.EFF(87,"Personal Hygiene *"),o.k0s(),o.j41(88,"select",44)(89,"option",40),o.EFF(90,"Independent"),o.k0s(),o.j41(91,"option",41),o.EFF(92,"Needing Assistance"),o.k0s(),o.j41(93,"option",42),o.EFF(94,"Dependent"),o.k0s()(),o.j41(95,"label",45),o.EFF(96,"Bathing *"),o.k0s(),o.j41(97,"select",46)(98,"option",40),o.EFF(99,"Independent"),o.k0s(),o.j41(100,"option",41),o.EFF(101,"Needing Assistance"),o.k0s(),o.j41(102,"option",42),o.EFF(103,"Dependent"),o.k0s()(),o.j41(104,"label",47),o.EFF(105,"Toileting *"),o.k0s(),o.j41(106,"select",48)(107,"option",40),o.EFF(108,"Independent"),o.k0s(),o.j41(109,"option",41),o.EFF(110,"Needing Assistance"),o.k0s(),o.j41(111,"option",42),o.EFF(112,"Dependent"),o.k0s()(),o.j41(113,"label",49),o.EFF(114,"Mobility *"),o.k0s(),o.j41(115,"select",50)(116,"option",40),o.EFF(117,"Independent"),o.k0s(),o.j41(118,"option",41),o.EFF(119,"Needing Assistance"),o.k0s(),o.j41(120,"option",42),o.EFF(121,"Dependent"),o.k0s()(),o.j41(122,"label",51),o.EFF(123,"Transfers *"),o.k0s(),o.j41(124,"select",52)(125,"option",40),o.EFF(126,"Independent"),o.k0s(),o.j41(127,"option",41),o.EFF(128,"Needing Assistance"),o.k0s(),o.j41(129,"option",42),o.EFF(130,"Dependent"),o.k0s()(),o.j41(131,"label",53),o.EFF(132,"Medication Assistance *"),o.k0s(),o.j41(133,"select",54)(134,"option",36),o.EFF(135,"Yes"),o.k0s(),o.j41(136,"option",37),o.EFF(137,"No"),o.k0s()()(),o.j41(138,"div",1)(139,"h2"),o.EFF(140,"Other Medical Information"),o.k0s(),o.j41(141,"label",55),o.EFF(142,"Memory Issues *"),o.k0s(),o.j41(143,"select",56)(144,"option",36),o.EFF(145,"Yes"),o.k0s(),o.j41(146,"option",37),o.EFF(147,"No"),o.k0s()(),o.j41(148,"label",57),o.EFF(149,"Behavior"),o.k0s(),o.nrm(150,"textarea",58),o.j41(151,"label",59),o.EFF(152,"Skin Condition"),o.k0s(),o.nrm(153,"textarea",60),o.j41(154,"label",61),o.EFF(155,"Other information you want us to know"),o.k0s(),o.nrm(156,"textarea",62),o.k0s(),o.j41(157,"div",1)(158,"h2"),o.EFF(159,"Living Situation"),o.k0s(),o.j41(160,"label",63),o.EFF(161,"Current living situation *"),o.k0s(),o.j41(162,"select",64)(163,"option",65),o.EFF(164,"Own Home"),o.k0s(),o.j41(165,"option",66),o.EFF(166,"Relative's Home"),o.k0s(),o.j41(167,"option",67),o.EFF(168,"Hospital"),o.k0s(),o.j41(169,"option",68),o.EFF(170,"Adult Family Home"),o.k0s(),o.j41(171,"option",69),o.EFF(172,"Senior Living"),o.k0s(),o.j41(173,"option",14),o.EFF(174,"Other"),o.k0s()()(),o.j41(175,"div",1)(176,"label",70),o.EFF(177,"Target move in date *"),o.k0s(),o.nrm(178,"input",71),o.k0s(),o.j41(179,"div",1)(180,"label",72),o.EFF(181,"Would you like a summary of disclosures of our rates and services, including itemized services?"),o.k0s(),o.j41(182,"select",73)(183,"option",36),o.EFF(184,"Yes"),o.k0s(),o.j41(185,"option",37),o.EFF(186,"No"),o.k0s()()(),o.j41(187,"div",1)(188,"label",74),o.EFF(189,"Do you have any questions for us?"),o.k0s(),o.nrm(190,"textarea",75),o.k0s(),o.j41(191,"button",76),o.EFF(192,"Submit"),o.k0s()()),2&S&&(o.Y8G("formGroup",B.intakeForm),o.R7$(191),o.Y8G("disabled",B.intakeForm.invalid))},dependencies:[Wr.qT,Wr.xH,Wr.y7,Wr.me,Wr.Q0,Wr.wz,Wr.BC,Wr.cb,Wr.j4,Wr.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}return E})()},{path:"testimonials",component:(()=>{class E{constructor(h,S){this.businessDataService=h,this.metaService=S,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{console.log("Testimonial List - :",h),h&&(this.testimonials=h.testimonials||[],this.themeType=h.theme.themeType,this.metaService.loadAndApplyMeta(h?.id))})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Pe.A),o.rXU(Li.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(S,B){1&S&&(o.nrm(0,"app-hero"),o.j41(1,"div",0),o.DNE(2,Bf,2,1,"div",1),o.k0s()),2&S&&(o.R7$(2),o.Y8G("ngIf",B.testimonials.length>0))},dependencies:[me.Sq,me.bT,Dn],styles:[".testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(800px,1fr));gap:50px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background-color:var(--card-bg-color, #f9f9f9);border:1px solid #ddd;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:10px;font-size:2rem}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--text-secondary-color, #555)}"]})}return E})()},{path:"login",component:cg},{path:"admin",loadChildren:()=>L.e(948).then(L.bind(L,5948)).then(E=>E.AdminModule)},{path:":id",component:Oo.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Hf=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({imports:[Er.iI.forRoot($f),Er.iI]})}return E})();var Ia=L(5009);function Tu(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const wd=function(){return["/home"]},wu=function(E){return{id:E}},Gf=function(E){return{"open-bar1":E}},bh=function(E){return{"open-bar2":E}},Hl=function(E){return{"open-bar3":E}},zf=function(E){return{active:E}};function C_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),o.DNE(5,Tu,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(7,wd))("queryParams",o.eq3(8,wu,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(10,Gf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(12,bh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Hl,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,zf,h.menuOpen))}}function lm(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const ll=function(){return["/contact-us"]};function um(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,lm,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,wd))("queryParams",o.eq3(10,wu,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,Gf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,bh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Hl,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,zf,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,ll))("queryParams",o.eq3(21,wu,h.businessId))}}function Gl(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function ul(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,Gl,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,wd))("queryParams",o.eq3(10,wu,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,Gf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,bh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Hl,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,zf,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,ll))("queryParams",o.eq3(21,wu,h.businessId))}}function dm(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function Ad(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,dm,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(22,"Intake Form"),o.k0s()(),o.j41(23,"div",4)(24,"a",5)(25,"button",15),o.EFF(26,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,wd))("queryParams",o.eq3(10,wu,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,Gf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,bh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Hl,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,zf,h.menuOpen)),o.R7$(14),o.Y8G("routerLink",o.lJ4(20,ll))("queryParams",o.eq3(21,wu,h.businessId))}}let lg=(()=>{class E{constructor(h,S,B){this.route=h,this.router=S,this.businessDataService=B,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.businessDataService.getBusinessData().subscribe(S=>{this.business=S,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(h){const S=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${h}`],{queryParams:S}).then(B=>{B||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.nX),o.rXU(Er.Ix),o.rXU(Pe.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-navigation"]],decls:5,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(S,B){1&S&&(o.j41(0,"div",0),o.DNE(1,C_,21,18,"ng-container",1),o.DNE(2,um,29,23,"ng-container",1),o.DNE(3,ul,29,23,"ng-container",1),o.DNE(4,Ad,27,23,"ng-container",1),o.k0s()),2&S&&(o.Y8G("ngSwitch",B.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","demo"))},dependencies:[me.YU,me.bT,me.ux,me.e1,Er.Wk],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return E})();function b_(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function I_(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",12)(2,"div",13)(3,"div",14),o.nrm(4,"hr",15),o.j41(5,"h2",16),o.EFF(6),o.k0s(),o.nrm(7,"hr",15),o.k0s(),o.j41(8,"div",17)(9,"div",18)(10,"h3",19),o.EFF(11,"Owner:"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"div",18)(15,"h3",19),o.EFF(16,"Location:"),o.k0s(),o.j41(17,"address"),o.EFF(18),o.k0s()(),o.j41(19,"div",18)(20,"h3",19),o.EFF(21,"Provider:"),o.k0s(),o.j41(22,"p"),o.EFF(23),o.k0s(),o.j41(24,"p"),o.EFF(25,"Email: "),o.j41(26,"a",11),o.EFF(27),o.k0s()(),o.j41(28,"p"),o.EFF(29,"Phone: "),o.j41(30,"a",11),o.EFF(31),o.k0s()()()(),o.j41(32,"div",20)(33,"p"),o.EFF(34),o.k0s()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(6),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.JRh(null==h.business?null:h.business.providerName),o.R7$(5),o.JRh(null==h.business?null:h.business.address),o.R7$(5),o.JRh(null==h.business?null:h.business.providerName),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.email),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.Lme("\xa9 ",2024," ",null==h.business?null:h.business.businessName,". All rights reserved.")}}function T_(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function w_(E,g){if(1&E&&(o.j41(0,"div",21)(1,"h1",22),o.EFF(2,"Debugger:"),o.k0s(),o.j41(3,"div",23)(4,"div",24)(5,"span",25),o.EFF(6,"Theme File:"),o.k0s(),o.j41(7,"span",26),o.EFF(8),o.k0s()(),o.j41(9,"div",24)(10,"span",25),o.EFF(11,"Business ID:"),o.k0s(),o.j41(12,"span",26),o.EFF(13),o.k0s()(),o.j41(14,"div",24)(15,"span",25),o.EFF(16,"Business Name:"),o.k0s(),o.j41(17,"span",26),o.EFF(18),o.k0s()()()()),2&E){const h=o.XpG();o.R7$(8),o.JRh(h.themeFileName),o.R7$(5),o.JRh(null==h.business?null:h.business.id),o.R7$(5),o.JRh(null==h.business?null:h.business.businessName)}}let Au=(()=>{class E{constructor(h,S,B,fe,ve,ht){this.route=h,this.webContentService=S,this.authService=B,this.themeService=fe,this.businessDataService=ve,this.router=ht,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(h=>{this.business=h}),this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(S=>{S&&(this.themeFileName=S.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.nX),o.rXU(ii.N),o.rXU(Uf.u),o.rXU(Ia.F),o.rXU(Pe.A),o.rXU(Er.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(S,B){1&S&&(o.j41(0,"div",0),o.DNE(1,b_,34,12,"ng-container",1),o.DNE(2,I_,35,10,"ng-container",1),o.DNE(3,T_,34,12,"ng-container",2),o.k0s(),o.DNE(4,w_,19,3,"div",3),o.nI1(5,"async")),2&S&&(o.Y8G("ngSwitch",B.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",o.bMT(5,4,B.isAuthenticated$)))},dependencies:[me.bT,me.ux,me.e1,me.fG,me.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}return E})(),A_=(()=>{class E{constructor(h,S,B,fe,ve){this.route=h,this.webContent=S,this.metaService=B,this.router=fe,this.themeService=ve,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(h=>{h&&(this.business=h)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Er.nX),o.rXU(ii.N),o.rXU(Li.R),o.rXU(Er.Ix),o.rXU(Ia.F))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(S,B){1&S&&o.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Er.n3,lg,Au]})}return E})();const bc_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var da=L(2214),Wi=L(5407);class dl{constructor(g){return g}}class Du{constructor(){return(0,da.Dk)()}}const Ic=new o.nKC("angularfire2._apps"),Ih={provide:dl,useFactory:function xd(E){return E&&1===E.length?E[0]:new dl((0,da.Sx)())},deps:[[new o.Xx1,Ic]]},Th={provide:Du,deps:[[new o.Xx1,Ic]]};function wh(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new dl(S)}}let Sd=(()=>{class E{constructor(h){(0,da.KO)("angularfire",Wi.xv.full,"core"),(0,da.KO)("angularfire",Wi.xv.full,"app"),(0,da.KO)("angular",o.xvI.full,h.toString())}static \u0275fac=function(S){return new(S||E)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[Ih,Th]})}return E})();function Wf(E,...g){return{ngModule:Sd,providers:[{provide:Ic,useFactory:wh(E),multi:!0,deps:[o.SKi,o.zZn,Wi.u0,...g]}]}}const D_=(0,Wi.S3)(da.Wp,!0);L(4033),L(7852),L(1076),L(8041),L(1362);class Wl{constructor(){return(0,Wi.CA)("auth")}}var Pu=L(9583);class wc{constructor(g){return g}}const Im="firestore",Mh=new o.nKC("angularfire2.firestore-instances");function Xf(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new wc(S)}}const wm={provide:class Tm{constructor(){return(0,Wi.CA)(Im)}},deps:[[new o.Xx1,Mh]]},W_={provide:wc,useFactory:function Oh(E,g){const h=(0,Wi.lR)(Im,E,g);return h&&new wc(h)},deps:[[new o.Xx1,Mh],dl]};let Mv=(()=>{class E{constructor(){(0,da.KO)("angularfire",Wi.xv.full,"fst")}static \u0275fac=function(S){return new(S||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[W_,wm]})}return E})();function Am(E,...g){return{ngModule:Mv,providers:[{provide:Mh,useFactory:Xf(E),multi:!0,deps:[o.SKi,o.zZn,Wi.u0,Du,[new o.Xx1,Wl],[new o.Xx1,Wi.Jv],...g]}]}}const ha=(0,Wi.S3)(Pu.aU,!0);var Om=L(9253),Ag=L(8721),Vh=L(1977),Dg=L(4535);class rp{constructor(g){return g}}const Mu="storage",Yl=new o.nKC("angularfire2.storage-instances");function Nm(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new rp(S)}}const Od={provide:class Lh{constructor(){return(0,Wi.CA)(Mu)}},deps:[[new o.Xx1,Yl]]},ip={provide:rp,useFactory:function J_(E,g){const h=(0,Wi.lR)(Mu,E,g);return h&&new rp(h)},deps:[[new o.Xx1,Yl],dl]};let xg=(()=>{class E{constructor(){(0,da.KO)("angularfire",Wi.xv.full,"gcs")}static \u0275fac=function(S){return new(S||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[ip,Od]})}return E})();function Ou(E,...g){return{ngModule:xg,providers:[{provide:Yl,useFactory:Nm(E),multi:!0,deps:[o.SKi,o.zZn,Wi.u0,Du,[new o.Xx1,Wl],[new o.Xx1,Wi.Jv],...g]}]}}const fl=(0,Wi.S3)(Dg.c7,!0);var Bh=L(3012);let Ac=(()=>{class E{constructor(h,S,B){this.http=h,this.themeService=S,this.businessService=B,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(h){return new Promise((S,B)=>{this.themeService.getBusinessTheme(h).subscribe({next:fe=>{this.themeService.applyThemeFile(fe?fe.themeFileName:"default.css").then(()=>S()).catch(ht=>{console.error("Error applying theme file:",ht),S()}),this.themeService.getThemeColors(h).subscribe(ht=>{this.applyTheme(ht),S()},ht=>{console.error("Error loading theme:",ht),S()})},error:fe=>{console.error("Error loading business theme:",fe),this.themeService.applyThemeFile("default.css").then(()=>S()).catch(ve=>{console.error("Error applying default theme file:",ve),S()})}})})}applyTheme(h){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",h.primaryColor),document.documentElement.style.setProperty("--secondary-color",h.secondaryColor),document.documentElement.style.setProperty("--accent-color",h.accentColor),document.documentElement.style.setProperty("--background-color",h.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",h.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",h.textColor),document.documentElement.style.setProperty("--nav-background-color",h.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",h.navTextColor),document.documentElement.style.setProperty("--nav-active-background",h.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",h.navActiveText),document.documentElement.style.setProperty("--button-color",h.buttonColor),document.documentElement.style.setProperty("--button-hover-color",h.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(h){return h.primaryColor&&h.secondaryColor&&h.accentColor&&h.backgroundColor&&h.darkBackgroundColor&&h.textColor&&h.navBackgroundColor&&h.navTextColor&&h.navActiveBackground&&h.navActiveText&&h.buttonColor&&h.buttonHoverColor}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Qe),o.KVO(Ia.F),o.KVO(Bh.u))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const cp={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function $h(E,g,h){return()=>{const S=window.location.hostname,B=new URL(window.location.href);let fe=cp[S]||B.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+fe+" - hostname: "+S),E.loadTheme(fe)}}function Pg(E,g,h){const S=window.location.hostname,B=new URL(window.location.href);let fe=cp[S]||B.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+fe+" - hostname: "+S),()=>{E.loadBusinessData(fe).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(ve=>{console.error("Error loading business data:",ve)})}}let Um=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E,bootstrap:[A_]});static#n=this.\u0275inj=o.G2t({providers:[{provide:o.hnV,useFactory:$h,deps:[Ac,me.aZ,Er.Ix],multi:!0},{provide:o.hnV,useFactory:Pg,deps:[Pe.A,me.aZ,Er.Ix],multi:!0}],imports:[ae.Bb,Er.iI,Hf,Qp.cM,Ag.y5,Vh.X8,Om.bf.initializeApp(bc_firebase),Wf(()=>D_(bc_firebase)),Am(()=>ha()),Ou(()=>fl()),Wr.X1,Wr.YN,je]})}return E})();ae.sG().bootstrapModule(Um).catch(E=>console.error(E))},4412:(rn,Je,L)=>{L.d(Je,{t:()=>ae});var a=L(1413);class ae extends a.B{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const he=super._subscribe(Ae);return!he.closed&&Ae.next(this._value),he}getValue(){const{hasError:Ae,thrownError:he,_value:De}=this;if(Ae)throw he;return this._throwIfClosed(),De}next(Ae){super.next(this._value=Ae)}}},1985:(rn,Je,L)=>{L.d(Je,{c:()=>Le});var a=L(7707),ae=L(8359),o=L(3494),Ae=L(1203),he=L(1026),De=L(8071),Ne=L(9786);let Le=(()=>{class me{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const bt=new me;return bt.source=this,bt.operator=Xe,bt}subscribe(Xe,bt,Ct){const jt=function ce(me){return me&&me instanceof a.vU||function Z(me){return me&&(0,De.T)(me.next)&&(0,De.T)(me.error)&&(0,De.T)(me.complete)}(me)&&(0,ae.Uv)(me)}(Xe)?Xe:new a.Ms(Xe,bt,Ct);return(0,Ne.Y)(()=>{const{operator:Mt,source:cn}=this;jt.add(Mt?Mt.call(jt,cn):cn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(bt){Xe.error(bt)}}forEach(Xe,bt){return new(bt=Be(bt))((Ct,jt)=>{const Mt=new a.Ms({next:cn=>{try{Xe(cn)}catch(et){jt(et),Mt.unsubscribe()}},error:jt,complete:Ct});this.subscribe(Mt)})}_subscribe(Xe){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(Xe)}[o.s](){return this}pipe(...Xe){return(0,Ae.m)(Xe)(this)}toPromise(Xe){return new(Xe=Be(Xe))((bt,Ct)=>{let jt;this.subscribe(Mt=>jt=Mt,Mt=>Ct(Mt),()=>bt(jt))})}}return me.create=at=>new me(at),me})();function Be(me){var at;return null!==(at=me??he.$.Promise)&&void 0!==at?at:Promise}},1413:(rn,Je,L)=>{L.d(Je,{B:()=>Ne});var a=L(1985),ae=L(8359);const Ae=(0,L(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(7908),De=L(9786);let Ne=(()=>{class Be extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const me=new Le(this,this);return me.operator=ce,me}_throwIfClosed(){if(this.closed)throw new Ae}next(ce){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ce)}})}error(ce){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:me}=this;for(;me.length;)me.shift().error(ce)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:me,isStopped:at,observers:Xe}=this;return me||at?ae.Kn:(this.currentObservers=null,Xe.push(ce),new ae.yU(()=>{this.currentObservers=null,(0,he.o)(Xe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:me,thrownError:at,isStopped:Xe}=this;me?ce.error(at):Xe&&ce.complete()}asObservable(){const ce=new a.c;return ce.source=this,ce}}return Be.create=(Z,ce)=>new Le(Z,ce),Be})();class Le extends Ne{constructor(Z,ce){super(),this.destination=Z,this.source=ce}next(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===me||me.call(ce,Z)}error(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===me||me.call(ce,Z)}complete(){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===ce||ce.call(Z)}_subscribe(Z){var ce,me;return null!==(me=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Z))&&void 0!==me?me:ae.Kn}}},7707:(rn,Je,L)=>{L.d(Je,{Ms:()=>Ct,vU:()=>me});var a=L(8071),ae=L(8359),o=L(1026),Ae=L(5334),he=L(5343);const De=Be("C",void 0,void 0);function Be(We,ot,Ze){return{kind:We,value:ot,error:Ze}}var Z=L(9270),ce=L(9786);class me extends ae.yU{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ae.Uv)(ot)&&ot.add(this)):this.destination=et}static create(ot,Ze,rt){return new Ct(ot,Ze,rt)}next(ot){this.isStopped?cn(function Le(We){return Be("N",We,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?cn(function Ne(We){return Be("E",void 0,We)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?cn(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Xe(We,ot){return at.call(We,ot)}class bt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(ot)}catch(rt){jt(rt)}}error(ot){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(ot)}catch(rt){jt(rt)}else jt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ze){jt(Ze)}}}class Ct extends me{constructor(ot,Ze,rt){let wt;if(super(),(0,a.T)(ot)||!ot)wt={next:ot??void 0,error:Ze??void 0,complete:rt??void 0};else{let Ft;this&&o.$.useDeprecatedNextContext?(Ft=Object.create(ot),Ft.unsubscribe=()=>this.unsubscribe(),wt={next:ot.next&&Xe(ot.next,Ft),error:ot.error&&Xe(ot.error,Ft),complete:ot.complete&&Xe(ot.complete,Ft)}):wt=ot}this.destination=new bt(wt)}}function jt(We){o.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(We):(0,Ae.m)(We)}function cn(We,ot){const{onStoppedNotification:Ze}=o.$;Ze&&Z.f.setTimeout(()=>Ze(We,ot))}const et={closed:!0,next:he.l,error:function Mt(We){throw We},complete:he.l}},8359:(rn,Je,L)=>{L.d(Je,{Kn:()=>De,yU:()=>he,Uv:()=>Ne});var a=L(8071);const o=(0,L(1853).L)(Be=>function(ce){Be(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((me,at)=>`${at+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var Ae=L(7908);class he{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Xe of ce)Xe.remove(this);else ce.remove(this);const{initialTeardown:me}=this;if((0,a.T)(me))try{me()}catch(Xe){Z=Xe instanceof o?Xe.errors:[Xe]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const Xe of at)try{Le(Xe)}catch(bt){Z=Z??[],bt instanceof o?Z=[...Z,...bt.errors]:Z.push(bt)}}if(Z)throw new o(Z)}}add(Z){var ce;if(Z&&Z!==this)if(this.closed)Le(Z);else{if(Z instanceof he){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Z)}}_hasParent(Z){const{_parentage:ce}=this;return ce===Z||Array.isArray(ce)&&ce.includes(Z)}_addParent(Z){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Z),ce):ce?[ce,Z]:Z}_removeParent(Z){const{_parentage:ce}=this;ce===Z?this._parentage=null:Array.isArray(ce)&&(0,Ae.o)(ce,Z)}remove(Z){const{_finalizers:ce}=this;ce&&(0,Ae.o)(ce,Z),Z instanceof he&&Z._removeParent(this)}}he.EMPTY=(()=>{const Be=new he;return Be.closed=!0,Be})();const De=he.EMPTY;function Ne(Be){return Be instanceof he||Be&&"closed"in Be&&(0,a.T)(Be.remove)&&(0,a.T)(Be.add)&&(0,a.T)(Be.unsubscribe)}function Le(Be){(0,a.T)(Be)?Be():Be.unsubscribe()}},1026:(rn,Je,L)=>{L.d(Je,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(rn,Je,L)=>{L.d(Je,{x:()=>he});var a=L(6365),o=L(3794),Ae=L(8455);function he(...De){return function ae(){return(0,a.U)(1)}()((0,Ae.H)(De,(0,o.lI)(De)))}},983:(rn,Je,L)=>{L.d(Je,{w:()=>ae});const ae=new(L(1985).c)(he=>he.complete())},8455:(rn,Je,L)=>{L.d(Je,{H:()=>ot});var a=L(8750),ae=L(941),o=L(6745),De=L(1985),Le=L(4761),Be=L(8071),Z=L(5225);function me(Ze,rt){if(!Ze)throw new Error("Iterable cannot be null");return new De.c(wt=>{(0,Z.N)(wt,rt,()=>{const Ft=Ze[Symbol.asyncIterator]();(0,Z.N)(wt,rt,()=>{Ft.next().then(be=>{be.done?wt.complete():wt.next(be.value)})},0,!0)})})}var at=L(5055),Xe=L(9858),bt=L(7441),Ct=L(5397),jt=L(7953),Mt=L(591),cn=L(5196);function ot(Ze,rt){return rt?function We(Ze,rt){if(null!=Ze){if((0,at.l)(Ze))return function Ae(Ze,rt){return(0,a.Tg)(Ze).pipe((0,o._)(rt),(0,ae.Q)(rt))}(Ze,rt);if((0,bt.X)(Ze))return function Ne(Ze,rt){return new De.c(wt=>{let Ft=0;return rt.schedule(function(){Ft===Ze.length?wt.complete():(wt.next(Ze[Ft++]),wt.closed||this.schedule())})})}(Ze,rt);if((0,Xe.y)(Ze))return function he(Ze,rt){return(0,a.Tg)(Ze).pipe((0,o._)(rt),(0,ae.Q)(rt))}(Ze,rt);if((0,jt.T)(Ze))return me(Ze,rt);if((0,Ct.x)(Ze))return function ce(Ze,rt){return new De.c(wt=>{let Ft;return(0,Z.N)(wt,rt,()=>{Ft=Ze[Le.l](),(0,Z.N)(wt,rt,()=>{let be,Jt;try{({value:be,done:Jt}=Ft.next())}catch(dn){return void wt.error(dn)}Jt?wt.complete():wt.next(be)},0,!0)}),()=>(0,Be.T)(Ft?.return)&&Ft.return()})}(Ze,rt);if((0,cn.U)(Ze))return function et(Ze,rt){return me((0,cn.C)(Ze),rt)}(Ze,rt)}throw(0,Mt.L)(Ze)}(Ze,rt):(0,a.Tg)(Ze)}},8750:(rn,Je,L)=>{L.d(Je,{Tg:()=>at});var a=L(1635),ae=L(7441),o=L(9858),Ae=L(1985),he=L(5055),De=L(7953),Ne=L(591),Le=L(5397),Be=L(5196),Z=L(8071),ce=L(5334),me=L(3494);function at(We){if(We instanceof Ae.c)return We;if(null!=We){if((0,he.l)(We))return function Xe(We){return new Ae.c(ot=>{const Ze=We[me.s]();if((0,Z.T)(Ze.subscribe))return Ze.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,ae.X)(We))return function bt(We){return new Ae.c(ot=>{for(let Ze=0;Ze<We.length&&!ot.closed;Ze++)ot.next(We[Ze]);ot.complete()})}(We);if((0,o.y)(We))return function Ct(We){return new Ae.c(ot=>{We.then(Ze=>{ot.closed||(ot.next(Ze),ot.complete())},Ze=>ot.error(Ze)).then(null,ce.m)})}(We);if((0,De.T)(We))return Mt(We);if((0,Le.x)(We))return function jt(We){return new Ae.c(ot=>{for(const Ze of We)if(ot.next(Ze),ot.closed)return;ot.complete()})}(We);if((0,Be.U)(We))return function cn(We){return Mt((0,Be.C)(We))}(We)}throw(0,Ne.L)(We)}function Mt(We){return new Ae.c(ot=>{(function et(We,ot){var Ze,rt,wt,Ft;return(0,a.sH)(this,void 0,void 0,function*(){try{for(Ze=(0,a.xN)(We);!(rt=yield Ze.next()).done;)if(ot.next(rt.value),ot.closed)return}catch(be){wt={error:be}}finally{try{rt&&!rt.done&&(Ft=Ze.return)&&(yield Ft.call(Ze))}finally{if(wt)throw wt.error}}ot.complete()})})(We,ot).catch(Ze=>ot.error(Ze))})}},7786:(rn,Je,L)=>{L.d(Je,{h:()=>De});var a=L(6365),ae=L(8750),o=L(983),Ae=L(3794),he=L(8455);function De(...Ne){const Le=(0,Ae.lI)(Ne),Be=(0,Ae.R0)(Ne,1/0),Z=Ne;return Z.length?1===Z.length?(0,ae.Tg)(Z[0]):(0,a.U)(Be)((0,he.H)(Z,Le)):o.w}},7673:(rn,Je,L)=>{L.d(Je,{of:()=>o});var a=L(3794),ae=L(8455);function o(...Ae){const he=(0,a.lI)(Ae);return(0,ae.H)(Ae,he)}},8810:(rn,Je,L)=>{L.d(Je,{$:()=>o});var a=L(1985),ae=L(8071);function o(Ae,he){const De=(0,ae.T)(Ae)?Ae:()=>Ae,Ne=Le=>Le.error(De());return new a.c(he?Le=>he.schedule(Ne,0,Le):Ne)}},4360:(rn,Je,L)=>{L.d(Je,{_:()=>ae});var a=L(7707);function ae(Ae,he,De,Ne,Le){return new o(Ae,he,De,Ne,Le)}class o extends a.vU{constructor(he,De,Ne,Le,Be,Z){super(he),this.onFinalize=Be,this.shouldUnsubscribe=Z,this._next=De?function(ce){try{De(ce)}catch(me){he.error(me)}}:super._next,this._error=Le?function(ce){try{Le(ce)}catch(me){he.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ce){he.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(rn,Je,L)=>{L.d(Je,{W:()=>Ae});var a=L(8750),ae=L(4360),o=L(9974);function Ae(he){return(0,o.N)((De,Ne)=>{let Z,Le=null,Be=!1;Le=De.subscribe((0,ae._)(Ne,void 0,void 0,ce=>{Z=(0,a.Tg)(he(ce,Ae(he)(De))),Le?(Le.unsubscribe(),Le=null,Z.subscribe(Ne)):Be=!0})),Be&&(Le.unsubscribe(),Le=null,Z.subscribe(Ne))})}},274:(rn,Je,L)=>{L.d(Je,{H:()=>o});var a=L(1397),ae=L(8071);function o(Ae,he){return(0,ae.T)(he)?(0,a.Z)(Ae,he,1):(0,a.Z)(Ae,1)}},9901:(rn,Je,L)=>{L.d(Je,{U:()=>o});var a=L(9974),ae=L(4360);function o(Ae){return(0,a.N)((he,De)=>{let Ne=!1;he.subscribe((0,ae._)(De,Le=>{Ne=!0,De.next(Le)},()=>{Ne||De.next(Ae),De.complete()}))})}},3294:(rn,Je,L)=>{L.d(Je,{F:()=>Ae});var a=L(3669),ae=L(9974),o=L(4360);function Ae(De,Ne=a.D){return De=De??he,(0,ae.N)((Le,Be)=>{let Z,ce=!0;Le.subscribe((0,o._)(Be,me=>{const at=Ne(me);(ce||!De(Z,at))&&(ce=!1,Z=at,Be.next(me))}))})}function he(De,Ne){return De===Ne}},5964:(rn,Je,L)=>{L.d(Je,{p:()=>o});var a=L(9974),ae=L(4360);function o(Ae,he){return(0,a.N)((De,Ne)=>{let Le=0;De.subscribe((0,ae._)(Ne,Be=>Ae.call(he,Be,Le++)&&Ne.next(Be)))})}},980:(rn,Je,L)=>{L.d(Je,{j:()=>ae});var a=L(9974);function ae(o){return(0,a.N)((Ae,he)=>{try{Ae.subscribe(he)}finally{he.add(o)}})}},1594:(rn,Je,L)=>{L.d(Je,{$:()=>Ne});var a=L(9350),ae=L(5964),o=L(6697),Ae=L(9901),he=L(3774),De=L(3669);function Ne(Le,Be){const Z=arguments.length>=2;return ce=>ce.pipe(Le?(0,ae.p)((me,at)=>Le(me,at,ce)):De.D,(0,o.s)(1),Z?(0,Ae.U)(Be):(0,he.v)(()=>new a.G))}},6354:(rn,Je,L)=>{L.d(Je,{T:()=>o});var a=L(9974),ae=L(4360);function o(Ae,he){return(0,a.N)((De,Ne)=>{let Le=0;De.subscribe((0,ae._)(Ne,Be=>{Ne.next(Ae.call(he,Be,Le++))}))})}},6365:(rn,Je,L)=>{L.d(Je,{U:()=>o});var a=L(1397),ae=L(3669);function o(Ae=1/0){return(0,a.Z)(ae.D,Ae)}},1397:(rn,Je,L)=>{L.d(Je,{Z:()=>Le});var a=L(6354),ae=L(8750),o=L(9974),Ae=L(5225),he=L(4360),Ne=L(8071);function Le(Be,Z,ce=1/0){return(0,Ne.T)(Z)?Le((me,at)=>(0,a.T)((Xe,bt)=>Z(me,Xe,at,bt))((0,ae.Tg)(Be(me,at))),ce):("number"==typeof Z&&(ce=Z),(0,o.N)((me,at)=>function De(Be,Z,ce,me,at,Xe,bt,Ct){const jt=[];let Mt=0,cn=0,et=!1;const We=()=>{et&&!jt.length&&!Mt&&Z.complete()},ot=rt=>Mt<me?Ze(rt):jt.push(rt),Ze=rt=>{Xe&&Z.next(rt),Mt++;let wt=!1;(0,ae.Tg)(ce(rt,cn++)).subscribe((0,he._)(Z,Ft=>{at?.(Ft),Xe?ot(Ft):Z.next(Ft)},()=>{wt=!0},void 0,()=>{if(wt)try{for(Mt--;jt.length&&Mt<me;){const Ft=jt.shift();bt?(0,Ae.N)(Z,bt,()=>Ze(Ft)):Ze(Ft)}We()}catch(Ft){Z.error(Ft)}}))};return Be.subscribe((0,he._)(Z,ot,()=>{et=!0,We()})),()=>{Ct?.()}}(me,at,Be,ce)))}},941:(rn,Je,L)=>{L.d(Je,{Q:()=>Ae});var a=L(5225),ae=L(9974),o=L(4360);function Ae(he,De=0){return(0,ae.N)((Ne,Le)=>{Ne.subscribe((0,o._)(Le,Be=>(0,a.N)(Le,he,()=>Le.next(Be),De),()=>(0,a.N)(Le,he,()=>Le.complete(),De),Be=>(0,a.N)(Le,he,()=>Le.error(Be),De)))})}},2816:(rn,Je,L)=>{L.d(Je,{S:()=>Ae});var a=L(9974),ae=L(4360);function Ae(he,De){return(0,a.N)(function o(he,De,Ne,Le,Be){return(Z,ce)=>{let me=Ne,at=De,Xe=0;Z.subscribe((0,ae._)(ce,bt=>{const Ct=Xe++;at=me?he(at,bt,Ct):(me=!0,bt),Le&&ce.next(at)},Be&&(()=>{me&&ce.next(at),ce.complete()})))}}(he,De,arguments.length>=2,!0))}},7647:(rn,Je,L)=>{L.d(Je,{u:()=>he});var a=L(8750),ae=L(1413),o=L(7707),Ae=L(9974);function he(Ne={}){const{connector:Le=(()=>new ae.B),resetOnError:Be=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ce=!0}=Ne;return me=>{let at,Xe,bt,Ct=0,jt=!1,Mt=!1;const cn=()=>{Xe?.unsubscribe(),Xe=void 0},et=()=>{cn(),at=bt=void 0,jt=Mt=!1},We=()=>{const ot=at;et(),ot?.unsubscribe()};return(0,Ae.N)((ot,Ze)=>{Ct++,!Mt&&!jt&&cn();const rt=bt=bt??Le();Ze.add(()=>{Ct--,0===Ct&&!Mt&&!jt&&(Xe=De(We,ce))}),rt.subscribe(Ze),!at&&Ct>0&&(at=new o.Ms({next:wt=>rt.next(wt),error:wt=>{Mt=!0,cn(),Xe=De(et,Be,wt),rt.error(wt)},complete:()=>{jt=!0,cn(),Xe=De(et,Z),rt.complete()}}),(0,a.Tg)(ot).subscribe(at))})(me)}}function De(Ne,Le,...Be){if(!0===Le)return void Ne();if(!1===Le)return;const Z=new o.Ms({next:()=>{Z.unsubscribe(),Ne()}});return(0,a.Tg)(Le(...Be)).subscribe(Z)}},9172:(rn,Je,L)=>{L.d(Je,{Z:()=>Ae});var a=L(8793),ae=L(3794),o=L(9974);function Ae(...he){const De=(0,ae.lI)(he);return(0,o.N)((Ne,Le)=>{(De?(0,a.x)(he,Ne,De):(0,a.x)(he,Ne)).subscribe(Le)})}},6745:(rn,Je,L)=>{L.d(Je,{_:()=>ae});var a=L(9974);function ae(o,Ae=0){return(0,a.N)((he,De)=>{De.add(o.schedule(()=>he.subscribe(De),Ae))})}},5558:(rn,Je,L)=>{L.d(Je,{n:()=>Ae});var a=L(8750),ae=L(9974),o=L(4360);function Ae(he,De){return(0,ae.N)((Ne,Le)=>{let Be=null,Z=0,ce=!1;const me=()=>ce&&!Be&&Le.complete();Ne.subscribe((0,o._)(Le,at=>{Be?.unsubscribe();let Xe=0;const bt=Z++;(0,a.Tg)(he(at,bt)).subscribe(Be=(0,o._)(Le,Ct=>Le.next(De?De(at,Ct,bt,Xe++):Ct),()=>{Be=null,me()}))},()=>{ce=!0,me()}))})}},6697:(rn,Je,L)=>{L.d(Je,{s:()=>Ae});var a=L(983),ae=L(9974),o=L(4360);function Ae(he){return he<=0?()=>a.w:(0,ae.N)((De,Ne)=>{let Le=0;De.subscribe((0,o._)(Ne,Be=>{++Le<=he&&(Ne.next(Be),he<=Le&&Ne.complete())}))})}},8141:(rn,Je,L)=>{L.d(Je,{M:()=>he});var a=L(8071),ae=L(9974),o=L(4360),Ae=L(3669);function he(De,Ne,Le){const Be=(0,a.T)(De)||Ne||Le?{next:De,error:Ne,complete:Le}:De;return Be?(0,ae.N)((Z,ce)=>{var me;null===(me=Be.subscribe)||void 0===me||me.call(Be);let at=!0;Z.subscribe((0,o._)(ce,Xe=>{var bt;null===(bt=Be.next)||void 0===bt||bt.call(Be,Xe),ce.next(Xe)},()=>{var Xe;at=!1,null===(Xe=Be.complete)||void 0===Xe||Xe.call(Be),ce.complete()},Xe=>{var bt;at=!1,null===(bt=Be.error)||void 0===bt||bt.call(Be,Xe),ce.error(Xe)},()=>{var Xe,bt;at&&(null===(Xe=Be.unsubscribe)||void 0===Xe||Xe.call(Be)),null===(bt=Be.finalize)||void 0===bt||bt.call(Be)}))}):Ae.D}},3774:(rn,Je,L)=>{L.d(Je,{v:()=>Ae});var a=L(9350),ae=L(9974),o=L(4360);function Ae(De=he){return(0,ae.N)((Ne,Le)=>{let Be=!1;Ne.subscribe((0,o._)(Le,Z=>{Be=!0,Le.next(Z)},()=>Be?Le.complete():Le.error(De())))})}function he(){return new a.G}},6780:(rn,Je,L)=>{L.d(Je,{R:()=>he});var a=L(8359);class ae extends a.yU{constructor(Ne,Le){super()}schedule(Ne,Le=0){return this}}const o={setInterval(De,Ne,...Le){const{delegate:Be}=o;return Be?.setInterval?Be.setInterval(De,Ne,...Le):setInterval(De,Ne,...Le)},clearInterval(De){const{delegate:Ne}=o;return(Ne?.clearInterval||clearInterval)(De)},delegate:void 0};var Ae=L(7908);class he extends ae{constructor(Ne,Le){super(Ne,Le),this.scheduler=Ne,this.work=Le,this.pending=!1}schedule(Ne,Le=0){var Be;if(this.closed)return this;this.state=Ne;const Z=this.id,ce=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(ce,Z,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ce,this.id,Le),this}requestAsyncId(Ne,Le,Be=0){return o.setInterval(Ne.flush.bind(Ne,this),Be)}recycleAsyncId(Ne,Le,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Le;null!=Le&&o.clearInterval(Le)}execute(Ne,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ne,Le);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Le){let Z,Be=!1;try{this.work(Ne)}catch(ce){Be=!0,Z=ce||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Le}=this,{actions:Be}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.o)(Be,this),null!=Ne&&(this.id=this.recycleAsyncId(Le,Ne,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,Je,L)=>{L.d(Je,{q:()=>o});var a=L(6129);class ae{constructor(he,De=ae.now){this.schedulerActionCtor=he,this.now=De}schedule(he,De=0,Ne){return new this.schedulerActionCtor(this,he).schedule(Ne,De)}}ae.now=a.U.now;class o extends ae{constructor(he,De=ae.now){super(he,De),this.actions=[],this._active=!1}flush(he){const{actions:De}=this;if(this._active)return void De.push(he);let Ne;this._active=!0;do{if(Ne=he.execute(he.state,he.delay))break}while(he=De.shift());if(this._active=!1,Ne){for(;he=De.shift();)he.unsubscribe();throw Ne}}}},3236:(rn,Je,L)=>{L.d(Je,{E:()=>o});var a=L(6780);const o=new(L(9687).q)(a.R)},6129:(rn,Je,L)=>{L.d(Je,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(rn,Je,L)=>{L.d(Je,{f:()=>a});const a={setTimeout(ae,o,...Ae){const{delegate:he}=a;return he?.setTimeout?he.setTimeout(ae,o,...Ae):setTimeout(ae,o,...Ae)},clearTimeout(ae){const{delegate:o}=a;return(o?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(rn,Je,L)=>{L.d(Je,{l:()=>ae});const ae=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,Je,L)=>{L.d(Je,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,Je,L)=>{L.d(Je,{G:()=>ae});const ae=(0,L(1853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,Je,L)=>{L.d(Je,{R0:()=>De,ms:()=>Ae,lI:()=>he});var a=L(8071);function o(Ne){return Ne[Ne.length-1]}function Ae(Ne){return(0,a.T)(o(Ne))?Ne.pop():void 0}function he(Ne){return function ae(Ne){return Ne&&(0,a.T)(Ne.schedule)}(o(Ne))?Ne.pop():void 0}function De(Ne,Le){return"number"==typeof o(Ne)?Ne.pop():Le}},3073:(rn,Je,L)=>{L.d(Je,{D:()=>he});const{isArray:a}=Array,{getPrototypeOf:ae,prototype:o,keys:Ae}=Object;function he(Ne){if(1===Ne.length){const Le=Ne[0];if(a(Le))return{args:Le,keys:null};if(function De(Ne){return Ne&&"object"==typeof Ne&&ae(Ne)===o}(Le)){const Be=Ae(Le);return{args:Be.map(Z=>Le[Z]),keys:Be}}}return{args:Ne,keys:null}}},7908:(rn,Je,L)=>{function a(ae,o){if(ae){const Ae=ae.indexOf(o);0<=Ae&&ae.splice(Ae,1)}}L.d(Je,{o:()=>a})},1853:(rn,Je,L)=>{function a(ae){const Ae=ae(he=>{Error.call(he),he.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}L.d(Je,{L:()=>a})},8496:(rn,Je,L)=>{function a(ae,o){return ae.reduce((Ae,he,De)=>(Ae[he]=o[De],Ae),{})}L.d(Je,{e:()=>a})},9786:(rn,Je,L)=>{L.d(Je,{Y:()=>o,l:()=>Ae});var a=L(1026);let ae=null;function o(he){if(a.$.useDeprecatedSynchronousErrorHandling){const De=!ae;if(De&&(ae={errorThrown:!1,error:null}),he(),De){const{errorThrown:Ne,error:Le}=ae;if(ae=null,Ne)throw Le}}else he()}function Ae(he){a.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=he)}},5225:(rn,Je,L)=>{function a(ae,o,Ae,he=0,De=!1){const Ne=o.schedule(function(){Ae(),De?ae.add(this.schedule(null,he)):this.unsubscribe()},he);if(ae.add(Ne),!De)return Ne}L.d(Je,{N:()=>a})},3669:(rn,Je,L)=>{function a(ae){return ae}L.d(Je,{D:()=>a})},7441:(rn,Je,L)=>{L.d(Je,{X:()=>a});const a=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(rn,Je,L)=>{L.d(Je,{T:()=>ae});var a=L(8071);function ae(o){return Symbol.asyncIterator&&(0,a.T)(o?.[Symbol.asyncIterator])}},8071:(rn,Je,L)=>{function a(ae){return"function"==typeof ae}L.d(Je,{T:()=>a})},5055:(rn,Je,L)=>{L.d(Je,{l:()=>o});var a=L(3494),ae=L(8071);function o(Ae){return(0,ae.T)(Ae[a.s])}},5397:(rn,Je,L)=>{L.d(Je,{x:()=>o});var a=L(4761),ae=L(8071);function o(Ae){return(0,ae.T)(Ae?.[a.l])}},9858:(rn,Je,L)=>{L.d(Je,{y:()=>ae});var a=L(8071);function ae(o){return(0,a.T)(o?.then)}},5196:(rn,Je,L)=>{L.d(Je,{C:()=>o,U:()=>Ae});var a=L(1635),ae=L(8071);function o(he){return(0,a.AQ)(this,arguments,function*(){const Ne=he.getReader();try{for(;;){const{value:Le,done:Be}=yield(0,a.N3)(Ne.read());if(Be)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Le)}}finally{Ne.releaseLock()}})}function Ae(he){return(0,ae.T)(he?.getReader)}},9974:(rn,Je,L)=>{L.d(Je,{N:()=>o,S:()=>ae});var a=L(8071);function ae(Ae){return(0,a.T)(Ae?.lift)}function o(Ae){return he=>{if(ae(he))return he.lift(function(De){try{return Ae(De,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,Je,L)=>{L.d(Je,{I:()=>Ae});var a=L(6354);const{isArray:ae}=Array;function Ae(he){return(0,a.T)(De=>function o(he,De){return ae(De)?he(...De):he(De)}(he,De))}},5343:(rn,Je,L)=>{function a(){}L.d(Je,{l:()=>a})},1203:(rn,Je,L)=>{L.d(Je,{F:()=>ae,m:()=>o});var a=L(3669);function ae(...Ae){return o(Ae)}function o(Ae){return 0===Ae.length?a.D:1===Ae.length?Ae[0]:function(De){return Ae.reduce((Ne,Le)=>Le(Ne),De)}}},5334:(rn,Je,L)=>{L.d(Je,{m:()=>o});var a=L(1026),ae=L(9270);function o(Ae){ae.f.setTimeout(()=>{const{onUnhandledError:he}=a.$;if(!he)throw Ae;he(Ae)})}},591:(rn,Je,L)=>{function a(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Je,{L:()=>a})},177:(rn,Je,L)=>{L.d(Je,{AJ:()=>Hr,B3:()=>Uo,Jj:()=>ui,MD:()=>Io,N0:()=>mn,P9:()=>ro,QT:()=>o,Sm:()=>bt,Sq:()=>Rr,VF:()=>he,Vy:()=>vi,Xr:()=>Re,YU:()=>qr,ZD:()=>Ae,_b:()=>Dn,aZ:()=>jt,bT:()=>ys,e1:()=>Gi,fG:()=>mr,fw:()=>Ct,hb:()=>at,hj:()=>Le,lG:()=>Yr,qQ:()=>De,ux:()=>Pi});var a=L(7705);let ae=null;function o(){return ae}function Ae(x){ae||(ae=x)}class he{}const De=new a.nKC("DocumentToken");let Ne=(()=>{class x{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return(0,a.WQX)(Be)},providedIn:"platform"})}return x})();const Le=new a.nKC("Location Initialized");let Be=(()=>{class x extends Ne{constructor(){super(),this._doc=(0,a.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(U){const X=o().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=o().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,we){this._history.pushState(U,X,we)}replaceState(U,X,we){this._history.replaceState(U,X,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}return x})();function Z(x,J){if(0==x.length)return J;if(0==J.length)return x;let U=0;return x.endsWith("/")&&U++,J.startsWith("/")&&U++,2==U?x+J.substring(1):1==U?x+J:x+"/"+J}function ce(x){const J=x.match(/#|\?|$/),U=J&&J.index||x.length;return x.slice(0,U-("/"===x[U-1]?1:0))+x.slice(U)}function me(x){return x&&"?"!==x[0]?"?"+x:x}let at=(()=>{class x{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return(0,a.WQX)(bt)},providedIn:"root"})}return x})();const Xe=new a.nKC("appBaseHref");let bt=(()=>{class x extends at{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Z(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+me(this._platformLocation.search),we=this._platformLocation.hash;return we&&U?`${X}${we}`:X}pushState(U,X,we,_t){const Nt=this.prepareExternalUrl(we+me(_t));this._platformLocation.pushState(U,X,Nt)}replaceState(U,X,we,_t){const Nt=this.prepareExternalUrl(we+me(_t));this._platformLocation.replaceState(U,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||x)(a.KVO(Ne),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Ct=(()=>{class x extends at{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=Z(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,we,_t){let Nt=this.prepareExternalUrl(we+me(_t));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState(U,X,Nt)}replaceState(U,X,we,_t){let Nt=this.prepareExternalUrl(we+me(_t));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||x)(a.KVO(Ne),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:x,factory:x.\u0275fac})}return x})(),jt=(()=>{class x{constructor(U){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function We(x){if(new RegExp("^(https?:)?//").test(x)){const[,U]=x.split(/\/\/[^\/]+/);return U}return x}(ce(et(X))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+me(X))}normalize(U){return x.stripTrailingSlash(function cn(x,J){if(!x||!J.startsWith(x))return J;const U=J.substring(x.length);return""===U||["/",";","?","#"].includes(U[0])?U:J}(this._basePath,et(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",we=null){this._locationStrategy.pushState(we,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(X)),we)}replaceState(U,X="",we=null){this._locationStrategy.replaceState(we,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(X)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(we=>we(U,X))}subscribe(U,X,we){return this._subject.subscribe({next:U,error:X,complete:we})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(X){return new(X||x)(a.KVO(at))};static#i=this.\u0275prov=a.jDH({token:x,factory:function(){return function Mt(){return new jt((0,a.KVO)(at))}()},providedIn:"root"})}return x})();function et(x){return x.replace(/\/index.html$/,"")}function Dn(x,J){J=encodeURIComponent(J);for(const U of x.split(";")){const X=U.indexOf("="),[we,_t]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(we.trim()===J)return decodeURIComponent(_t)}return null}const On=/\s+/,kn=[];let qr=(()=>{class x{constructor(U,X,we,_t){this._iterableDiffers=U,this._keyValueDiffers=X,this._ngEl=we,this._renderer=_t,this.initialClasses=kn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(On):kn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(On):U}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const X of U)this._updateState(X,!0);else if(null!=U)for(const X of Object.keys(U))this._updateState(X,!!U[X]);this._applyStateDiff()}_updateState(U,X){const we=this.stateMap.get(U);void 0!==we?(we.enabled!==X&&(we.changed=!0,we.enabled=X),we.touched=!0):this.stateMap.set(U,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const X=U[0],we=U[1];we.changed?(this._toggleClass(X,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),we.touched=!1}}_toggleClass(U,X){(U=U.trim()).length>0&&U.split(On).forEach(we=>{X?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a._q3),a.rXU(a.MKu),a.rXU(a.aKT),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return x})();class qo{constructor(J,U,X,we){this.$implicit=J,this.ngForOf=U,this.index=X,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rr=(()=>{class x{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,we){this._viewContainer=U,this._template=X,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((we,_t,Nt)=>{if(null==we.previousIndex)X.createEmbeddedView(this._template,new qo(we.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)X.remove(null===_t?void 0:_t);else if(null!==_t){const Cn=X.get(_t);X.move(Cn,Nt),vs(Cn,we)}});for(let we=0,_t=X.length;we<_t;we++){const Cn=X.get(we).context;Cn.index=we,Cn.count=_t,Cn.ngForOf=this._ngForOf}U.forEachIdentityChange(we=>{vs(X.get(we.currentIndex),we)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return x})();function vs(x,J){x.context.$implicit=J.item}let ys=(()=>{class x{constructor(U,X){this._viewContainer=U,this._context=new Ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){ga("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){ga("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return x})();class Ci{constructor(){this.$implicit=null,this.ngIf=null}}function ga(x,J){if(J&&!J.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,a.Tbb)(J)}'.`)}class No{constructor(J,U){this._viewContainerRef=J,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let Pi=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const X=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const X of this._defaultViews)X.enforceState(U)}}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return x})(),Gi=(()=>{class x{constructor(U,X,we){this.ngSwitch=we,we._addCase(),this._view=new No(U,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(Pi,9))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return x})(),mr=(()=>{class x{constructor(U,X,we){we._addDefault(new No(U,X))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(Pi,9))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return x})(),Uo=(()=>{class x{constructor(U,X,we){this._ngEl=U,this._differs=X,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,X){const[we,_t]=U.split("."),Nt=-1===we.indexOf("-")?void 0:a.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,we,_t?`${X}${_t}`:X,Nt):this._renderer.removeStyle(this._ngEl.nativeElement,we,Nt)}_applyChanges(U){U.forEachRemovedItem(X=>this._setStyle(X.key,null)),U.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),U.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.aKT),a.rXU(a.MKu),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return x})();function Co(x,J){return new a.wOt(2100,!1)}class Ss{createSubscription(J,U){return(0,a.O8t)(()=>J.subscribe({next:U,error:X=>{throw X}}))}dispose(J){(0,a.O8t)(()=>J.unsubscribe())}}class Ui{createSubscription(J,U){return J.then(U,X=>{throw X})}dispose(J){}}const na=new Ui,ko=new Ss;let ui=(()=>{class x{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,X=>this._updateLatestValue(U,X))}_selectStrategy(U){if((0,a.jNT)(U))return na;if((0,a.zjR)(U))return ko;throw Co()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,X){U===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.gRc,16))};static#t=this.\u0275pipe=a.EJ8({name:"async",type:x,pure:!1,standalone:!0})}return x})(),Yr=(()=>{class x{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=qi}transform(U,X=qi){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const we=this.differ.diff(U),_t=X!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(Nt=>{this.keyValues.push(function Vi(x,J){return{key:x,value:J}}(Nt.key,Nt.currentValue))})),(we||_t)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.MKu,16))};static#t=this.\u0275pipe=a.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}return x})();function qi(x,J){const U=x.key,X=J.key;if(U===X)return 0;if(void 0===U)return 1;if(void 0===X)return-1;if(null===U)return 1;if(null===X)return-1;if("string"==typeof U&&"string"==typeof X)return U<X?-1:1;if("number"==typeof U&&"number"==typeof X)return U-X;if("boolean"==typeof U&&"boolean"==typeof X)return U<X?-1:1;const we=String(U),_t=String(X);return we==_t?0:we<_t?-1:1}let ro=(()=>{class x{transform(U,X,we){if(null==U)return null;if(!this.supports(U))throw Co();return U.slice(X,we)}supports(U){return"string"==typeof U||Array.isArray(U)}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275pipe=a.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}return x})(),Io=(()=>{class x{static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275mod=a.$C({type:x});static#n=this.\u0275inj=a.G2t({})}return x})();const Hr="browser",Fo="server";function vi(x){return x===Fo}let Re=(()=>{class x{static#e=this.\u0275prov=(0,a.jDH)({token:x,providedIn:"root",factory:()=>new Ye((0,a.KVO)(De),window)})}return x})();class Ye{constructor(J,U){this.document=J,this.window=U,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const U=function yt(x,J){const U=x.getElementById(J)||x.getElementsByName(J)[0];if(U)return U;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const X=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let we=X.currentNode;for(;we;){const _t=we.shadowRoot;if(_t){const Nt=_t.getElementById(J)||_t.querySelector(`[name="${J}"]`);if(Nt)return Nt}we=X.nextNode()}}return null}(this.document,J);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const U=J.getBoundingClientRect(),X=U.left+this.window.pageXOffset,we=U.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(X-_t[0],we-_t[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class mn{}},7705:(rn,Je,L)=>{L.d(Je,{$C:()=>bo,$GK:()=>_n,$K3:()=>KC,$MX:()=>bd,AVh:()=>Ny,Agw:()=>dm,B4B:()=>tg,BIS:()=>b_,BMQ:()=>Ur,C4Q:()=>pv,C5r:()=>xC,Co$:()=>$E,DNE:()=>Hm,EFF:()=>K0,EJ8:()=>ns,EmA:()=>ts,FS9:()=>Sy,FsC:()=>lo,G2t:()=>Gt,GBs:()=>bC,GFd:()=>En,H3F:()=>WC,H5H:()=>Ly,H8p:()=>cm,HJs:()=>HA,HbH:()=>j0,Hbi:()=>PA,JRh:()=>Fy,JZv:()=>Hn,Jv_:()=>BE,KH2:()=>Qm,KVO:()=>Ot,Kcf:()=>Df,L39:()=>BA,LfX:()=>$n,Lme:()=>Vy,MKu:()=>y0,Mz_:()=>ty,NEm:()=>sA,NYb:()=>nA,Njj:()=>Ma,O8t:()=>_t,OA$:()=>Cr,Ocv:()=>Rw,Ol2:()=>GE,PLl:()=>ul,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>uo,R7$:()=>m,RV6:()=>no,Rfq:()=>bt,RxE:()=>_m,SKi:()=>Mo,SpI:()=>iy,TL$:()=>qp,Tbb:()=>me,UyX:()=>Cd,VBU:()=>Ui,Vns:()=>Ug,Vt3:()=>Ac,WHO:()=>QC,WPN:()=>bu,WQX:()=>tn,XpG:()=>T0,Xx1:()=>fc,Y8G:()=>Wm,Z63:()=>Id,ZF7:()=>La,_9s:()=>R_,_q3:()=>v0,aKT:()=>qf,aNF:()=>zE,bIt:()=>xs,bMT:()=>cC,bVm:()=>q,bkB:()=>hl,brH:()=>lC,c1b:()=>dy,cWb:()=>xf,czy:()=>hu,e01:()=>JC,e5t:()=>Sf,eBV:()=>Uc,eq3:()=>ZE,eu8:()=>de,fpN:()=>SA,gRc:()=>gA,gXe:()=>Pe,giA:()=>ZC,h9k:()=>Zp,hnV:()=>zC,iLQ:()=>h0,j41:()=>kg,jDH:()=>In,jNT:()=>_s,k0s:()=>Xh,kS0:()=>xl,kdw:()=>pc,l4e:()=>tC,lJ4:()=>JE,lNU:()=>et,l_i:()=>eC,lsd:()=>TC,mGM:()=>CC,mq5:()=>fE,n$t:()=>rg,nI1:()=>aC,nKC:()=>ln,naY:()=>pA,npT:()=>nm,nrm:()=>pa,o8S:()=>t_,oH4:()=>rb,osQ:()=>Eu,plB:()=>t0,qex:()=>k,rXU:()=>D,rcV:()=>cl,sFG:()=>Cv,sZ2:()=>um,sdS:()=>Vd,tSv:()=>H_,uvJ:()=>Ia,w6W:()=>CT,wOt:()=>We,wni:()=>IC,xGo:()=>Kc,xc7:()=>Oy,xe9:()=>fy,xvI:()=>vm,zZn:()=>Tc,zcH:()=>Su,zjR:()=>Ni});var a=L(1413),ae=L(8359),o=L(1985),Ae=L(7786),he=L(4412),De=L(7673),Ne=L(7647),Le=L(5558),Be=L(3294);function Z(t){for(let n in t)if(t[n]===Z)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function at(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Xe=Z({__forward_ref__:Z});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return me(this())},t}function Ct(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Xe)&&t.__forward_ref__===bt}function Mt(t){return t&&!!t.\u0275providers}const et="https://g.co/ng/security#xss";class We extends Error{constructor(n,i){super(function ot(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Jt(t,n){throw new We(-201,!1)}function Tt(t,n){null==t&&function xt(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function In(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function wn(t){return Wt(t,fn)||Wt(t,Wn)}function $n(t){return null!==wn(t)}function Wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function jr(t){return t&&(t.hasOwnProperty(yr)||t.hasOwnProperty(Ut))?t[yr]:null}const fn=Z({\u0275prov:Z}),yr=Z({\u0275inj:Z}),Wn=Z({ngInjectableDef:Z}),Ut=Z({ngInjectorDef:Z});var _n=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_n||{});let Pn;function hr(t){const n=Pn;return Pn=t,n}function br(t,n,i){const c=wn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&_n.Optional?null:void 0!==n?n:void Jt(me(t))}const Hn=globalThis;class ln{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=In({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mn={},wr="__NG_DI_FLAG__",cr="ngTempTokenPath",ee=/\n/gm,V="__source";let F;function je(t){const n=F;return F=t,n}function It(t,n=_n.Default){if(void 0===F)throw new We(-203,!1);return null===F?br(t,void 0,n):F.get(t,n&_n.Optional?null:void 0,n)}function Ot(t,n=_n.Default){return(function Tn(){return Pn}()||It)(Ct(t),n)}function tn(t,n=_n.Default){return Ot(t,un(n))}function un(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rr(t){const n=[];for(let i=0;i<t.length;i++){const c=Ct(t[i]);if(Array.isArray(c)){if(0===c.length)throw new We(900,!1);let d,f=_n.Default;for(let C=0;C<c.length;C++){const T=c[C],P=hi(T);"number"==typeof P?-1===P?d=T.token:f|=P:d=T}n.push(Ot(d,f))}else n.push(Ot(c))}return n}function An(t,n){return t[wr]=n,t.prototype[wr]=n,t}function hi(t){return t[wr]}function ii(t){return{toString:t}.toString()}var Li=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Li||{}),Pe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pe||{});const Lt={},Ce=[],Te=Z({\u0275cmp:Z}),pe=Z({\u0275dir:Z}),Et=Z({\u0275pipe:Z}),en=Z({\u0275mod:Z}),Dn=Z({\u0275fac:Z}),On=Z({__NG_ELEMENT_ID__:Z}),kn=Z({__NG_ENV_ID__:Z});function qr(t,n,i){let c=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===c||t.charCodeAt(d+f)<=32)return d}i=d+1}}function Fr(t,n,i){let c=0;for(;c<i.length;){const d=i[c];if("number"==typeof d){if(0!==d)break;c++;const f=i[c++],C=i[c++],T=i[c++];t.setAttribute(n,C,T,f)}else{const f=d,C=i[++c];qo(f)?t.setProperty(n,f,C):t.setAttribute(n,f,C),c++}}return c}function ki(t){return 3===t||4===t||6===t}function qo(t){return 64===t.charCodeAt(0)}function Rr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const d=n[c];"number"==typeof d?i=d:0===i||vs(t,i,d,null,-1===i||2===i?n[++c]:null)}}return t}function vs(t,n,i,c,d){let f=0,C=t.length;if(-1===n)C=-1;else for(;f<t.length;){const T=t[f++];if("number"==typeof T){if(T===n){C=-1;break}if(T>n){C=f-1;break}}}for(;f<t.length;){const T=t[f];if("number"==typeof T)break;if(T===i){if(null===c)return void(null!==d&&(t[f+1]=d));if(c===t[f+1])return void(t[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==C&&(t.splice(C,0,n),f=C+1),t.splice(f++,0,i),null!==c&&t.splice(f++,0,c),null!==d&&t.splice(f++,0,d)}const Fi="ng-template";function ys(t,n,i){let c=0,d=!0;for(;c<t.length;){let f=t[c++];if("string"==typeof f&&d){const C=t[c++];if(i&&"class"===f&&-1!==qr(C.toLowerCase(),n,0))return!0}else{if(1===f){for(;c<t.length&&"string"==typeof(f=t[c++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Ci(t){return 4===t.type&&t.value!==Fi}function ga(t,n,i){return n===(4!==t.type||i?t.value:Fi)}function No(t,n,i){let c=4;const d=t.attrs||[],f=function Br(t){for(let n=0;n<t.length;n++)if(ki(t[n]))return n;return t.length}(d);let C=!1;for(let T=0;T<n.length;T++){const P=n[T];if("number"!=typeof P){if(!C)if(4&c){if(c=2|1&c,""!==P&&!ga(t,P,i)||""===P&&1===n.length){if(Pi(c))return!1;C=!0}}else{const $=8&c?P:n[++T];if(8&c&&null!==t.attrs){if(!ys(t.attrs,$,i)){if(Pi(c))return!1;C=!0}continue}const _e=Gi(8&c?"class":P,d,Ci(t),i);if(-1===_e){if(Pi(c))return!1;C=!0;continue}if(""!==$){let qe;qe=_e>f?"":d[_e+1].toLowerCase();const it=8&c?qe:null;if(it&&-1!==qr(it,$,0)||2&c&&$!==qe){if(Pi(c))return!1;C=!0}}}}else{if(!C&&!Pi(c)&&!Pi(P))return!1;if(C&&Pi(P))continue;C=!1,c=P|1&c}}return Pi(c)||C}function Pi(t){return 0==(1&t)}function Gi(t,n,i,c){if(null===n)return-1;let d=0;if(c||!i){let f=!1;for(;d<n.length;){const C=n[d];if(C===t)return d;if(3===C||6===C)f=!0;else{if(1===C||2===C){let T=n[++d];for(;"string"==typeof T;)T=n[++d];continue}if(4===C)break;if(0===C){d+=4;continue}}d+=f?1:2}return-1}return function Vr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function mr(t,n,i=!1){for(let c=0;c<n.length;c++)if(No(t,n[c],i))return!0;return!1}function co(t,n){return t?":not("+n.trim()+")":n}function Bi(t){let n=t[0],i=1,c=2,d="",f=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&c){const T=t[++i];d+="["+C+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+C:4&c&&(d+=" "+C);else""!==d&&!Pi(C)&&(n+=co(f,d),d=""),c=C,f=f||!Pi(c);i++}return""!==d&&(n+=co(f,d)),n}function Ui(t){return ii(()=>{const n=wi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pe.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};pi(i);const c=t.dependencies;return i.directiveDefs=Vi(c,!1),i.pipeDefs=Vi(c,!0),i.id=function qi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ko(t){return Qn(t)||fi(t)}function ui(t){return null!==t}function bo(t){return ii(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Es(t,n){if(null==t)return Lt;const i={};for(const c in t)if(t.hasOwnProperty(c)){let d=t[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),i[d]=c,n&&(n[d]=f)}return i}function lo(t){return ii(()=>{const n=wi(t);return pi(n),n})}function ns(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qn(t){return t[Te]||null}function fi(t){return t[pe]||null}function Ti(t){return t[Et]||null}function uo(t){const n=Qn(t)||fi(t)||Ti(t);return null!==n&&n.standalone}function $r(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return i}function wi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Lt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Es(t.inputs,n),outputs:Es(t.outputs)}}function pi(t){t.features?.forEach(n=>n(t))}function Vi(t,n){if(!t)return null;const i=n?Ti:ko;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(ui)}const Mr=0,Zt=1,jn=2,lr=3,ji=4,ro=5,gi=6,Io=7,Hr=8,Fo=9,Vo=10,Kn=11,To=12,vi=13,Q=14,z=15,ye=16,Re=17,Ye=18,yt=19,Yt=20,mn=21,Rt=22,gn=23,sr=24,Rn=25,Ir=1,Zr=2,oi=7,Yi=9,ir=11;function si(t){return Array.isArray(t)&&"object"==typeof t[Ir]}function fr(t){return Array.isArray(t)&&!0===t[Ir]}function Cs(t){return 0!=(4&t.flags)}function Ai(t){return t.componentOffset>-1}function bs(t){return 1==(1&t.flags)}function ho(t){return!!t.template}function ma(t){return 0!=(512&t[jn])}function jo(t,n){return t.hasOwnProperty(Dn)?t[Dn]:null}let ai=null,_a=!1;function zi(t){const n=ai;return ai=t,n}const kc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ms(t){if(!ls(t)||t.dirty){if(!t.producerMustRecompute(t)&&!qs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Os(t){t.dirty=!0,function os(t){if(void 0===t.liveConsumerNode)return;const n=_a;_a=!0;try{for(const i of t.liveConsumerNode)i.dirty||Os(i)}finally{_a=n}}(t),t.consumerMarkedDirty?.(t)}function ar(t){return t&&(t.nextProducerIndex=0),zi(t)}function Da(t,n){if(zi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ls(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ya(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qs(t){Ns(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(Ms(i),c!==i.version))return!0}return!1}function Wa(t){if(Ns(t),ls(t))for(let n=0;n<t.producerNode.length;n++)ya(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ya(t,n){if(function qa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ns(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)ya(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];Ns(d),d.producerIndexOfThis[c]=n}}function ls(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ns(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ys=null;function _t(t){const n=zi(null);try{return t()}finally{zi(n)}}const Cn=()=>{},Or=(()=>({...kc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cn}))();class Gr{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Cr(){return yi}function yi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),Ar}function Ar(){const t=$o(this),n=t?.current;if(n){const i=t.previous;if(i===Lt)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,i,c){const d=this.declaredInputs[i],f=$o(t)||function Fs(t,n){return t[Ao]=n}(t,{previous:Lt,current:null}),C=f.current||(f.current={}),T=f.previous,P=T[d];C[d]=new Gr(P&&P.currentValue,n,T===Lt),t[c]=n}Cr.ngInherit=!0;const Ao="__ngSimpleChanges__";function $o(t){return t[Ao]||null}const Zn=function(t,n,i){};function Jr(t){for(;Array.isArray(t);)t=t[Mr];return t}function Is(t,n){return Jr(n[t])}function Qi(t,n){return Jr(n[t.index])}function Xa(t,n){return t.data[n]}function ds(t,n){return t[n]}function Ii(t,n){const i=n[t];return si(i)?i:i[Mr]}function Ji(t,n){return null==n?null:t[n]}function Zi(t){t[Re]=0}function Vc(t){1024&t[jn]||(t[jn]|=1024,ju(t,1))}function El(t){1024&t[jn]&&(t[jn]&=-1025,ju(t,-1))}function ju(t,n){let i=t[lr];if(null===i)return;i[ro]+=n;let c=i;for(i=i[lr];null!==i&&(1===n&&1===c[ro]||-1===n&&0===c[ro]);)i[ro]+=n,c=i,i=i[lr]}const er={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eo(){return er.bindingsEnabled}function $t(){return er.lFrame.lView}function Dt(){return er.lFrame.tView}function Uc(t){return er.lFrame.contextLView=t,t[Hr]}function Ma(t){return er.lFrame.contextLView=null,t}function Do(){let t=Si();for(;null!==t&&64===t.type;)t=t.parent;return t}function Si(){return er.lFrame.currentTNode}function Qo(t,n){const i=er.lFrame;i.currentTNode=t,i.isParent=n}function zo(){return er.lFrame.isParent}function Oa(){er.lFrame.isParent=!1}function Jo(){const t=er.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Xs(){return er.lFrame.bindingIndex++}function ps(t){const n=er.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function ec(t,n){const i=er.lFrame;i.bindingIndex=i.bindingRootIndex=t,zu(n)}function zu(t){er.lFrame.currentDirectiveIndex=t}function Qs(){return er.lFrame.currentQueryIndex}function w(t){er.lFrame.currentQueryIndex=t}function R(t){const n=t[Zt];return 2===n.type?n.declTNode:1===n.type?t[gi]:null}function I(t,n,i){if(i&_n.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||i&_n.Host||(d=R(f),null===d||(f=f[Q],10&d.type))););if(null===d)return!1;n=d,t=f}const c=er.lFrame=j();return c.currentTNode=n,c.lView=t,!0}function M(t){const n=j(),i=t[Zt];er.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function j(){const t=er.lFrame,n=null===t?null:t.child;return null===n?ne(t):n}function ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ee(){const t=er.lFrame;return er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pt=Ee;function dt(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tr(){return er.lFrame.selectedIndex}function Dr(t){er.lFrame.selectedIndex=t}function ci(){const t=er.lFrame;return Xa(t.tView,t.selectedIndex)}let Na=!0;function wl(){return Na}function rc(t){Na=t}function Wu(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:$,ngOnDestroy:te}=f;C&&(t.contentHooks??=[]).push(-i,C),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),P&&(t.viewHooks??=[]).push(-i,P),$&&((t.viewHooks??=[]).push(i,$),(t.viewCheckHooks??=[]).push(i,$)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function Ts(t,n,i){Al(t,n,3,i)}function ms(t,n,i,c){(3&t[jn])===i&&Al(t,n,i,c)}function Zo(t,n){let i=t[jn];(3&i)===n&&(i&=8191,i+=1,t[jn]=i)}function Al(t,n,i,c){const f=c??-1,C=n.length-1;let T=0;for(let P=void 0!==c?65535&t[Re]:0;P<C;P++)if("number"==typeof n[P+1]){if(T=n[P],null!=c&&T>=c)break}else n[P]<0&&(t[Re]+=65536),(T<f||-1==f)&&(Bc(t,i,n,P),t[Re]=(4294901760&t[Re])+P+2),P++}function nu(t,n){Zn(4,t,n);const i=zi(null);try{n.call(t)}finally{zi(i),Zn(5,t,n)}}function Bc(t,n,i,c){const d=i[c]<0,f=i[c+1],T=t[d?-i[c]:i[c]];d?t[jn]>>13<t[Re]>>16&&(3&t[jn])===n&&(t[jn]+=8192,nu(T,f)):nu(T,f)}const ic=-1;class $c{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Gc(t){return t!==ic}function iu(t){return 32767&t}function Vs(t,n){let i=function Jh(t){return t>>16}(t),c=n;for(;i>0;)c=c[Q],i--;return c}let oc=!0;function ua(t){const n=oc;return oc=t,n}const ou=255,Lo=5;let Zh=0;const es={};function su(t,n){const i=ka(t,n);if(-1!==i)return i;const c=n[Zt];c.firstCreatePass&&(t.injectorIndex=n.length,as(c.data,t),as(n,null),as(c.blueprint,null));const d=Dl(t,n),f=t.injectorIndex;if(Gc(d)){const C=iu(d),T=Vs(d,n),P=T[Zt].data;for(let $=0;$<8;$++)n[f+$]=T[C+$]|P[C+$]}return n[f+8]=d,f}function as(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ka(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Dl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,d=n;for(;null!==d;){if(c=Yc(d),null===c)return ic;if(i++,d=d[Q],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return ic}function Ls(t,n,i){!function Yu(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(On)&&(c=i[On]),null==c&&(c=i[On]=Zh++);const d=c&ou;n.data[t+(d>>Lo)]|=1<<d}(t,n,i)}function sc(t,n,i){if(i&_n.Optional||void 0!==t)return t;Jt()}function Xu(t,n,i,c){if(i&_n.Optional&&void 0===c&&(c=null),!(i&(_n.Self|_n.Host))){const d=t[Fo],f=hr(void 0);try{return d?d.get(n,c,i&_n.Optional):br(n,c,i&_n.Optional)}finally{hr(f)}}return sc(c,0,i)}function Fa(t,n,i,c=_n.Default,d){if(null!==t){if(2048&n[jn]&&!(c&_n.Self)){const C=function qc(t,n,i,c,d){let f=t,C=n;for(;null!==f&&null!==C&&2048&C[jn]&&!(512&C[jn]);){const T=Gd(f,C,i,c|_n.Self,es);if(T!==es)return T;let P=f.parent;if(!P){const $=C[Yt];if($){const te=$.get(i,es,c);if(te!==es)return te}P=Yc(C),C=C[Q]}f=P}return d}(t,n,i,c,es);if(C!==es)return C}const f=Gd(t,n,i,c,es);if(f!==es)return f}return Xu(n,i,c,d)}function Gd(t,n,i,c,d){const f=function Wc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(On)?t[On]:void 0;return"number"==typeof n?n>=0?n&ou:Wd:n}(i);if("function"==typeof f){if(!I(n,t,c))return c&_n.Host?sc(d,0,c):Xu(n,i,c,d);try{let C;if(C=f(c),null!=C||c&_n.Optional)return C;Jt()}finally{pt()}}else if("number"==typeof f){let C=null,T=ka(t,n),P=ic,$=c&_n.Host?n[z][gi]:null;for((-1===T||c&_n.SkipSelf)&&(P=-1===T?Dl(t,n):n[T+8],P!==ic&&au(c,!1)?(C=n[Zt],T=iu(P),n=Vs(P,n)):T=-1);-1!==T;){const te=n[Zt];if(tf(f,T,te.data)){const _e=zd(T,n,i,C,c,$);if(_e!==es)return _e}P=n[T+8],P!==ic&&au(c,n[Zt].data[T+8]===$)&&tf(f,T,n)?(C=te,T=iu(P),n=Vs(P,n)):T=-1}}return d}function zd(t,n,i,c,d,f){const C=n[Zt],T=C.data[t+8],te=zc(T,C,i,null==c?Ai(T)&&oc:c!=C&&0!=(3&T.type),d&_n.Host&&f===T);return null!==te?Zs(n,C,te,T):es}function zc(t,n,i,c,d){const f=t.providerIndexes,C=n.data,T=1048575&f,P=t.directiveStart,te=f>>20,qe=d?T+te:t.directiveEnd;for(let it=c?T:T+te;it<qe;it++){const kt=C[it];if(it<P&&i===kt||it>=P&&kt.type===i)return it}if(d){const it=C[P];if(it&&ho(it)&&it.type===i)return P}return null}function Zs(t,n,i,c){let d=t[i];const f=n.data;if(function ru(t){return t instanceof $c}(d)){const C=d;C.resolving&&function wt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new We(-200,`Circular dependency in DI detected for ${t}${i}`)}(function rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(f[i]));const T=ua(C.canSeeViewProviders);C.resolving=!0;const $=C.injectImpl?hr(C.injectImpl):null;I(t,c,_n.Default);try{d=t[i]=C.factory(void 0,f,t,c),n.firstCreatePass&&i>=c.directiveStart&&function $d(t,n,i){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(c){const C=yi(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}d&&(i.preOrderHooks??=[]).push(0-t,d),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==$&&hr($),ua(T),C.resolving=!1,pt()}}return d}function tf(t,n,i){return!!(i[n+(t>>Lo)]&1<<t)}function au(t,n){return!(t&_n.Self||t&_n.Host&&n)}class Wo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Fa(this._tNode,this._lView,n,un(c),i)}}function Wd(){return new Wo(Do(),$t())}function Kc(t){return ii(()=>{const n=t.prototype.constructor,i=n[Dn]||Ca(n),c=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==c;){const f=d[Dn]||Ca(d);if(f&&f!==i)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ca(t){return jt(t)?()=>{const n=Ca(Ct(t));return n&&n()}:jo(t)}function Yc(t){const n=t[Zt],i=n.type;return 2===i?n.declTNode:1===i?t[gi]:null}function xl(t){return function ef(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let d=0;for(;d<c;){const f=i[d];if(ki(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof i[d];)d++;else{if(f===n)return i[d+1];d+=2}}}return null}(Do(),t)}const ws="__parameters__";function so(t,n,i){return ii(()=>{const c=function lc(t){return function(...i){if(t){const c=t(...i);for(const d in c)this[d]=c[d]}}}(n);function d(...f){if(this instanceof d)return c.apply(this,f),this;const C=new d(...f);return T.annotation=C,T;function T(P,$,te){const _e=P.hasOwnProperty(ws)?P[ws]:Object.defineProperty(P,ws,{value:[]})[ws];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(C),P}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function dc(t,n){t.forEach(i=>Array.isArray(i)?dc(i,n):n(i))}function Rl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Ju(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Us(t,n,i){let c=Ol(t,n);return c>=0?t[1|c]=i:(c=~c,function cf(t,n,i,c){let d=t.length;if(d==n)t.push(i,c);else if(1===d)t.push(c,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Zu(t,n){const i=Ol(t,n);if(i>=0)return t[1|i]}function Ol(t,n){return function Va(t,n,i){let c=0,d=t.length>>i;for(;d!==c;){const f=c+(d-c>>1),C=t[f<<i];if(n===C)return f<<i;C>n?d=f:c=f+1}return~(d<<i)}(t,n,1)}const fc=An(so("Optional"),8),pc=An(so("SkipSelf"),4);function ld(t){return 128==(128&t.flags)}var hu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(hu||{});const Ap=/^>|^->|<!--|-->|--!>|<!-$/g,fu=/(<|>)/g,Dp="\u200b$1\u200b";const Sp=new Map;let Hg=0;const sh="__ngContext__";function go(t,n){si(n)?(t[sh]=n[yt],function zg(t){Sp.set(t[yt],t)}(n)):t[sh]=n}let Op;function ch(t,n){return Op(t,n)}function gu(t){const n=t[lr];return fr(n)?n[lr]:n}function Np(t){return Ll(t[To])}function uh(t){return Ll(t[ji])}function Ll(t){for(;null!==t&&!fr(t);)t=t[ji];return t}function ol(t,n,i,c,d){if(null!=c){let f,C=!1;fr(c)?f=c:si(c)&&(C=!0,c=c[Mr]);const T=Jr(c);0===t&&null!==i?null==d?Zg(n,i,T):sl(n,i,T,d||null,!0):1===t&&null!==i?sl(n,i,T,d||null,!0):2===t?function gh(t,n,i){const c=Lp(t,n);c&&function Vp(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,T,C):3===t&&n.destroyNode(T),null!=f&&function Hp(t,n,i,c,d){const f=i[oi];f!==Jr(i)&&ol(n,t,c,f,d);for(let T=ir;T<i.length;T++){const P=i[T];vu(P[Zt],P,t,n,c,f)}}(n,t,f,i,d)}}function pf(t,n){return t.createComment(function xp(t){return t.replace(Ap,n=>n.replace(fu,Dp))}(n))}function gf(t,n,i){return t.createElement(n,i)}function Jg(t,n){const i=t[Yi],c=i.indexOf(n);El(n),i.splice(c,1)}function mf(t,n){if(t.length<=ir)return;const i=ir+n,c=t[i];if(c){const d=c[ye];null!==d&&d!==t&&Jg(d,c),n>0&&(t[i-1][ji]=c[ji]);const f=Ju(t,ir+n);!function qg(t,n){vu(t,n,n[Kn],2,null,null),n[Mr]=null,n[gi]=null}(c[Zt],c);const C=f[Ye];null!==C&&C.detachView(f[Zt]),c[lr]=null,c[ji]=null,c[jn]&=-129}return c}function dh(t,n){if(!(256&n[jn])){const i=n[Kn];n[gn]&&Wa(n[gn]),n[sr]&&Wa(n[sr]),i.destroyNode&&vu(t,n,i,3,null,null),function Qg(t){let n=t[To];if(!n)return kp(t[Zt],t);for(;n;){let i=null;if(si(n))i=n[To];else{const c=n[ir];c&&(i=c)}if(!i){for(;n&&!n[ji]&&n!==t;)si(n)&&kp(n[Zt],n),n=n[lr];null===n&&(n=t),si(n)&&kp(n[Zt],n),i=n&&n[ji]}n=i}}(n)}}function kp(t,n){if(!(256&n[jn])){n[jn]&=-129,n[jn]|=256,function mu(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const d=n[i[c]];if(!(d instanceof $c)){const f=i[c+1];if(Array.isArray(f))for(let C=0;C<f.length;C+=2){const T=d[f[C]],P=f[C+1];Zn(4,T,P);try{P.call(T)}finally{Zn(5,T,P)}}else{Zn(4,d,f);try{f.call(d)}finally{Zn(5,d,f)}}}}}(t,n),function Fp(t,n){const i=t.cleanup,c=n[Io];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const C=i[f+3];C>=0?c[C]():c[-C].unsubscribe(),f+=2}else i[f].call(c[i[f+1]]);null!==c&&(n[Io]=null);const d=n[mn];if(null!==d){n[mn]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(t,n),1===n[Zt].type&&n[Kn].destroy();const i=n[ye];if(null!==i&&fr(n[lr])){i!==n[lr]&&Jg(i,n);const c=n[Ye];null!==c&&c.detachView(t)}!function r_(t){Sp.delete(t[yt])}(n)}}function hh(t,n,i){return function _f(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[Mr];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=t.data[c.directiveStart+d];if(f===Pe.None||f===Pe.Emulated)return null}return Qi(c,i)}}(t,n.parent,i)}function sl(t,n,i,c,d){t.insertBefore(n,i,c,d)}function Zg(t,n,i){t.appendChild(n,i)}function vf(t,n,i,c,d){null!==c?sl(t,n,i,c,d):Zg(t,n,i)}function Lp(t,n){return t.parentNode(n)}let jp,Cc,Kp,yd,Ef=function yf(t,n,i){return 40&t.type?Qi(t,i):null};function al(t,n,i,c){const d=hh(t,c,n),f=n[Kn],T=function Up(t,n,i){return Ef(t,n,i)}(c.parent||n[gi],c,n);if(null!=d)if(Array.isArray(i))for(let P=0;P<i.length;P++)vf(f,d,i[P],T,!1);else vf(f,d,i,T,!1);void 0!==jp&&jp(f,c,n,i,d)}function _u(t,n){if(null!==n){const i=n.type;if(3&i)return Qi(n,t);if(4&i)return ph(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return _u(t,c);{const d=t[n.index];return fr(d)?ph(-1,d):Jr(d)}}if(32&i)return ch(n,t)()||Jr(t[n.index]);{const c=bf(t,n);return null!==c?Array.isArray(c)?c[0]:_u(gu(t[z]),c):_u(t,n.next)}}return null}function bf(t,n){return null!==n?t[z][gi].projection[n.projection]:null}function ph(t,n){const i=ir+t+1;if(i<n.length){const c=n[i],d=c[Zt].firstChild;if(null!==d)return _u(c,d)}return n[oi]}function If(t,n,i,c,d,f,C){for(;null!=i;){const T=c[i.index],P=i.type;if(C&&0===n&&(T&&go(Jr(T),c),i.flags|=2),32!=(32&i.flags))if(8&P)If(t,n,i.child,c,d,f,!1),ol(n,t,d,T,f);else if(32&P){const $=ch(i,c);let te;for(;te=$();)ol(n,t,d,te,f);ol(n,t,d,T,f)}else 16&P?$p(t,n,c,i,d,f):ol(n,t,d,T,f);i=C?i.projectionNext:i.next}}function vu(t,n,i,c,d,f){If(i,c,t.firstChild,n,d,f,!1)}function $p(t,n,i,c,d,f){const C=i[z],P=C[gi].projection[c.projection];if(Array.isArray(P))for(let $=0;$<P.length;$++)ol(n,t,d,P[$],f);else{let $=P;const te=C[lr];ld(c)&&($.flags|=128),If(t,n,$,te,d,f,!0)}}function Ec(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Gp(t,n,i){const{mergedAttrs:c,classes:d,styles:f}=i;null!==c&&Fr(t,n,c),null!==d&&Ec(t,n,d),null!==f&&function _d(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function vd(t){return function mh(){if(void 0===Cc&&(Cc=null,Hn.trustedTypes))try{Cc=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cc}()?.createHTML(t)||t}function qp(t){Kp=t}function yu(){if(void 0!==Kp)return Kp;if(typeof document<"u")return document;throw new We(210,!1)}function _h(){if(void 0===yd&&(yd=null,Hn.trustedTypes))try{yd=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yd}function Ed(t){return _h()?.createHTML(t)||t}function Ul(t){return _h()?.createScriptURL(t)||t}class jl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}class vh extends jl{getTypeName(){return"HTML"}}class u_ extends jl{getTypeName(){return"Style"}}class wf extends jl{getTypeName(){return"Script"}}class Af extends jl{getTypeName(){return"URL"}}class yh extends jl{getTypeName(){return"ResourceURL"}}function cl(t){return t instanceof jl?t.changingThisBreaksApplicationSecurity:t}function La(t,n){const i=function d_(t){return t instanceof jl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${et})`)}return i===n}function Df(t){return new vh(t)}function xf(t){return new u_(t)}function Cd(t){return new wf(t)}function Eu(t){return new Af(t)}function Sf(t){return new yh(t)}class Bl{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(vd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class f_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=vd(n),i}}const Pf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bd(t){return(t=String(t)).match(Pf)?t:"unsafe:"+t}function Ua(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Cu(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const Yp=Ua("area,br,col,hr,img,wbr"),Rf=Ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mf=Ua("rp,rt"),$l=Cu(Yp,Cu(Rf,Ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cu(Mf,Ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cu(Mf,Rf)),kf=Ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wr=Cu(kf,Ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xp=Ua("script,style,template");class Qp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!$l.hasOwnProperty(i))return this.sanitizedSomething=!0,!Xp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),C=f.name,T=C.toLowerCase();if(!Wr.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=f.value;kf[T]&&(P=bd(P)),this.buf.push(" ",C,'="',Jp(P),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();$l.hasOwnProperty(i)&&!Yp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Jp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const g_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m_=/([^\#-~ |!])/g;function Jp(t){return t.replace(/&/g,"&amp;").replace(g_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(m_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ff;function Zp(t,n){let i=null;try{Ff=Ff||function h_(t){const n=new f_(t);return function p_(){try{return!!(new window.DOMParser).parseFromString(vd(""),"text/html")}catch{return!1}}()?new Bl(n):n}(t);let c=n?String(n):"";i=Ff.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=i.innerHTML,i=Ff.getInertBodyElement(c)}while(c!==f);return vd((new Qp).sanitizeChildren(eg(i)||i))}finally{if(i){const c=eg(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function eg(t){return"content"in t&&function __(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bu||{});function nm(t){const n=Nr();return n?Ed(n.sanitize(bu.HTML,t)||""):La(t,"HTML")?Ed(cl(t)):Zp(yu(),Ze(t))}function tg(t){const n=Nr();return n?n.sanitize(bu.URL,t)||"":La(t,"URL")?cl(t):bd(Ze(t))}function rm(t){const n=Nr();if(n)return Ul(n.sanitize(bu.RESOURCE_URL,t)||"");if(La(t,"ResourceURL"))return Ul(cl(t));throw new We(904,!1)}function rg(t,n,i){return function sm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?rm:tg}(n,i)(t)}function Nr(){const t=$t();return t&&t[Vo].sanitizer}const Id=new ln("ENVIRONMENT_INITIALIZER"),og=new ln("INJECTOR",-1),Td=new ln("INJECTOR_DEF_TYPES");class Vf{get(n,i=Mn){if(i===Mn){const c=new Error(`NullInjectorError: No provider for ${me(n)}!`);throw c.name="NullInjectorError",c}return i}}function ts(t){return{\u0275providers:t}}function Ro(...t){return{\u0275providers:ja(0,t),\u0275fromNgModule:!0}}function ja(t,...n){const i=[],c=new Set;let d;const f=C=>{i.push(C)};return dc(n,C=>{const T=C;Lf(T,f,[],c)&&(d||=[],d.push(T))}),void 0!==d&&am(d,f),i}function am(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:d}=t[i];sg(d,f=>{n(f,c)})}}function Lf(t,n,i,c){if(!(t=Ct(t)))return!1;let d=null,f=jr(t);const C=!f&&Qn(t);if(f||C){if(C&&!C.standalone)return!1;d=t}else{const P=t.ngModule;if(f=jr(P),!f)return!1;d=P}const T=c.has(d);if(C){if(T)return!1;if(c.add(d),C.dependencies){const P="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const $ of P)Lf($,n,i,c)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let $;c.add(d);try{dc(f.imports,te=>{Lf(te,n,i,c)&&($||=[],$.push(te))})}finally{}void 0!==$&&am($,n)}if(!T){const $=jo(d)||(()=>new d);n({provide:d,useFactory:$,deps:Ce},d),n({provide:Td,useValue:d,multi:!0},d),n({provide:Id,useValue:()=>Ot(d),multi:!0},d)}const P=f.providers;if(null!=P&&!T){const $=t;sg(P,te=>{n(te,$)})}}}return d!==t&&void 0!==t.providers}function sg(t,n){for(let i of t)Mt(i)&&(i=i.\u0275providers),Array.isArray(i)?sg(i,n):n(i)}const ag=Z({provide:String,useValue:Z});function Uf(t){return null!==t&&"object"==typeof t&&ag in t}function Iu(t){return"function"==typeof t}const cm=new ln("Set Injector scope."),Bf={},mo={};let $f;function Hf(){return void 0===$f&&($f=new Vf),$f}class Ia{}class Tu extends Ia{get destroyed(){return this._destroyed}constructor(n,i,c,d){super(),this.parent=i,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ll(n,C=>this.processProvider(C)),this.records.set(og,Hl(void 0,this)),d.has("environment")&&this.records.set(Ia,Hl(void 0,this));const f=this.records.get(cm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Td.multi,Ce,_n.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=je(this),c=hr(void 0);try{return n()}finally{je(i),hr(c)}}get(n,i=Mn,c=_n.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(kn))return n[kn](this);c=un(c);const f=je(this),C=hr(void 0);try{if(!(c&_n.SkipSelf)){let P=this.records.get(n);if(void 0===P){const $=function lm(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(n)&&wn(n);P=$&&this.injectableDefInScope($)?Hl(wd(n),Bf):null,this.records.set(n,P)}if(null!=P)return this.hydrate(n,P)}return(c&_n.Self?Hf():this.parent).get(n,i=c&_n.Optional&&i===Mn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[cr]=T[cr]||[]).unshift(me(n)),f)throw T;return function Er(t,n,i,c){const d=t[cr];throw n[V]&&d.unshift(n[V]),t.message=function Oo(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=me(n);if(Array.isArray(n))d=n.map(me).join(" -> ");else if("object"==typeof n){let f=[];for(let C in n)if(n.hasOwnProperty(C)){let T=n[C];f.push(C+":"+("string"==typeof T?JSON.stringify(T):me(T)))}d=`{${f.join(", ")}}`}return`${i}${c?"("+c+")":""}[${d}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,d,i,c),t.ngTokenPath=d,t[cr]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{hr(C),je(f)}}resolveInjectorInitializers(){const n=je(this),i=hr(void 0);try{const d=this.get(Id.multi,Ce,_n.Self);for(const f of d)f()}finally{je(n),hr(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(me(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(n){let i=Iu(n=Ct(n))?n:Ct(n&&n.provide);const c=function Gf(t){return Uf(t)?Hl(void 0,t.useValue):Hl(bh(t),Bf)}(n);if(Iu(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=Hl(void 0,Bf,!0),d.factory=()=>rr(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Bf&&(i.value=mo,i.value=i.factory()),"object"==typeof i.value&&i.value&&function C_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ct(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function wd(t){const n=wn(t),i=null!==n?n.factory:jo(t);if(null!==i)return i;if(t instanceof ln)throw new We(204,!1);if(t instanceof Function)return function wu(t){const n=t.length;if(n>0)throw function Ml(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new We(204,!1);const i=function Vt(t){return t&&(t[fn]||t[Wn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new We(204,!1)}function bh(t,n,i){let c;if(Iu(t)){const d=Ct(t);return jo(d)||wd(d)}if(Uf(t))c=()=>Ct(t.useValue);else if(function cg(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...rr(t.deps||[]));else if(function jf(t){return!(!t||!t.useExisting)}(t))c=()=>Ot(Ct(t.useExisting));else{const d=Ct(t&&(t.useClass||t.provide));if(!function zf(t){return!!t.deps}(t))return jo(d)||wd(d);c=()=>new d(...rr(t.deps))}return c}function Hl(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ll(t,n){for(const i of t)Array.isArray(i)?ll(i,n):i&&Mt(i)?ll(i.\u0275providers,n):n(i)}const um=new ln("AppId",{providedIn:"root",factory:()=>Gl}),Gl="ng",ul=new ln("Platform Initializer"),dm=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),b_=new ln("CSP nonce",{providedIn:"root",factory:()=>yu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dh=(t,n,i)=>null;function xh(t,n,i=!1){return Dh(t,n,i)}class yv{}class S_{}class Ev{resolveComponentFactory(n){throw function mm(t){const n=Error(`No component factory found for ${me(t)}.`);return n.ngComponent=t,n}(n)}}let fg=(()=>{class t{static#e=this.NULL=new Ev}return t})();function pg(){return Ph(Do(),$t())}function Ph(t,n){return new qf(Qi(t,n))}let qf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=pg}return t})();function gg(t){return t instanceof qf?t.nativeElement:t}class R_{}let Cv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function M_(){const t=$t(),i=Ii(Do().index,t);return(si(i)?i:t)[Kn]}()}return t})(),O_=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>null})}return t})();class _m{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const vm=new _m("16.2.12"),mg={};function xu(t,n=null,i=null,c){const d=V_(t,n,i,c);return d.resolveInjectorInitializers(),d}function V_(t,n=null,i=null,c,d=new Set){const f=[i||Ce,Ro(t)];return c=c||("object"==typeof t?void 0:me(t)),new Tu(f,n||Hf(),c||null,d)}let Tc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Mn;static#t=this.NULL=new Vf;static create(i,c){if(Array.isArray(i))return xu({name:""},c,i,"");{const d=i.name??"";return xu({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=In({token:t,providedIn:"any",factory:()=>Ot(og)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ym(t){return t.ngOriginalError}class Su{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ym(n);for(;i&&ym(i);)i=ym(i);return i||null}}function Em(t){return n=>{setTimeout(t,void 0,n)}}const hl=class wv extends a.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let d=n,f=i||(()=>null),C=c;if(n&&"object"==typeof n){const P=n;d=P.next?.bind(P),f=P.error?.bind(P),C=P.complete?.bind(P)}this.__isAsync&&(f=Em(f),d&&(d=Em(d)),C&&(C=Em(C)));const T=super.subscribe({next:d,error:f,complete:C});return n instanceof ae.yU&&n.add(T),T}};function U_(...t){}class Mo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hl(!1),this.onMicrotaskEmpty=new hl(!1),this.onStable=new hl(!1),this.onError=new hl(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&i,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Av(){const t="function"==typeof Hn.requestAnimationFrame;let n=Hn[t?"requestAnimationFrame":"setTimeout"],i=Hn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function xv(t){const n=()=>{!function Dv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bm(t),t.isCheckStableRunning=!0,j_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,d,f,C,T)=>{if(function Ty(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(d,f,C,T);try{return B_(t),i.invokeTask(d,f,C,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),$_(t)}},onInvoke:(i,c,d,f,C,T,P)=>{try{return B_(t),i.invoke(d,f,C,T,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),$_(t)}},onHasTask:(i,c,d,f)=>{i.hasTask(d,f),c===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,bm(t),j_(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,c,d,f)=>(i.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new We(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,d){const f=this._inner,C=f.scheduleEventTask("NgZoneEvent: "+d,n,Cm,U_,U_);try{return f.runTask(C,i,c)}finally{f.cancelTask(C)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Cm={};function j_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function B_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $_(t){t._nesting--,j_(t)}class Iy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hl,this.onMicrotaskEmpty=new hl,this.onStable=new hl,this.onError=new hl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,d){return n.apply(i,c)}}const Sv=new ln("",{providedIn:"root",factory:Pv});function Pv(){const t=tn(Mo);let n=!0;const i=new o.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),c=new o.c(d=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),C.unsubscribe()}});return(0,Ae.h)(i,c.pipe((0,Ne.u)()))}function H_(t){return t.ownerDocument.defaultView}function Kl(t){return t instanceof Function?t():t}let Mh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function Oh(t){for(;t;){t[jn]|=64;const n=gu(t);if(ma(t)&&!n)return t;t=n}return null}const W_=new ln("",{providedIn:"root",factory:()=>!1});let Nh=null;function Qf(t,n){return t[n]??s()}function l(t,n){const i=s();i.producerNode?.length&&(t[n]=Nh,i.lView=t,Nh=r())}const e={...kc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Oh(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Nh??=r(),Nh}const u={};function m(t){y(Dt(),$t(),Tr()+t,!1)}function y(t,n,i,c){if(!c)if(3==(3&n[jn])){const f=t.preOrderCheckHooks;null!==f&&Ts(n,f,i)}else{const f=t.preOrderHooks;null!==f&&ms(n,f,0,i)}Dr(i)}function D(t,n=_n.Default){const i=$t();return null===i?Ot(t,n):Fa(Do(),i,Ct(t),n)}function N(){throw new Error("invalid")}function re(t,n,i,c,d,f,C,T,P,$,te){const _e=n.blueprint.slice();return _e[Mr]=d,_e[jn]=140|c,(null!==$||t&&2048&t[jn])&&(_e[jn]|=2048),Zi(_e),_e[lr]=_e[Q]=t,_e[Hr]=i,_e[Vo]=C||t&&t[Vo],_e[Kn]=T||t&&t[Kn],_e[Fo]=P||t&&t[Fo]||null,_e[gi]=f,_e[yt]=function Gg(){return Hg++}(),_e[Rt]=te,_e[Yt]=$,_e[z]=2==n.type?t[z]:_e,_e}function ge(t,n,i,c,d){let f=t.data[n];if(null===f)f=function Ue(t,n,i,c,d){const f=Si(),C=zo(),P=t.data[n]=function st(t,n,i,c,d,f){let C=n?n.injectorIndex:-1,T=0;return function Pa(){return null!==er.skipHydrationRootTNode}()&&(T|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?f:f&&f.parent,i,n,c,d);return null===t.firstChild&&(t.firstChild=P),null!==f&&(C?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(t,n,i,c,d),function Bd(){return er.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=c,f.attrs=d;const C=function aa(){const t=er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===C?-1:C.injectorIndex}return Qo(f,!0),f}function ut(t,n,i,c){if(0===i)return-1;const d=n.length;for(let f=0;f<i;f++)n.push(c),t.blueprint.push(c),t.data.push(null);return d}function Ht(t,n,i,c,d){const f=Qf(n,gn),C=Tr(),T=2&c;try{Dr(-1),T&&n.length>Rn&&y(t,n,Rn,!1),Zn(T?2:0,d);const $=T?f:null,te=ar($);try{null!==$&&($.dirty=!1),i(c,d)}finally{Da($,te)}}finally{T&&null===n[gn]&&l(n,gn),Dr(C),Zn(T?3:1,d)}}function sn(t,n,i){if(Cs(n)){const c=zi(null);try{const f=n.directiveEnd;for(let C=n.directiveStart;C<f;C++){const T=t.data[C];T.contentQueries&&T.contentQueries(1,i[C],C)}}finally{zi(c)}}}function Xt(t,n,i){eo()&&(function Uv(t,n,i,c){const d=i.directiveStart,f=i.directiveEnd;Ai(i)&&function Sm(t,n,i){const c=Qi(n,t),d=Jn(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const T=Fh(t,re(t,d,null,C,c,n,null,t[Vo].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=T}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||su(i,n),go(c,n);const C=i.initialInputs;for(let T=d;T<f;T++){const P=t.data[T],$=Zs(n,t,T,i);go($,n),null!==C&&Y_(0,T-d,$,P,0,C),ho(P)&&(Ii(i.index,n)[Hr]=Zs(n,t,T,i))}}(t,n,i,Qi(i,n)),64==(64&i.flags)&&kh(t,n,i))}function Vn(t,n,i=Qi){const c=n.localNames;if(null!==c){let d=n.index+1;for(let f=0;f<c.length;f+=2){const C=c[f+1],T=-1===C?i(n,t):t[C];t[d++]=T}}}function Jn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Bn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Bn(t,n,i,c,d,f,C,T,P,$,te){const _e=Rn+c,qe=_e+d,it=function xr(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:u);return i}(_e,qe),kt="function"==typeof $?$():$;return it[Zt]={type:t,blueprint:it,template:i,queries:null,viewQuery:T,declTNode:n,data:it.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:P,consts:kt,incompleteFirstPass:!1,ssrId:te}}let tt=t=>null;function vt(t,n,i,c){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const f=t[d];null===c?He(i,n,d,f):c.hasOwnProperty(d)&&He(i,n,c[d],f)}return i}function He(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function ha(t,n,i,c,d,f,C,T){const P=Qi(n,i);let te,$=n.inputs;!T&&null!=$&&(te=$[c])?(Ds(t,i,te,c,d),Ai(n)&&function Zf(t,n){const i=Ii(n,t);16&i[jn]||(i[jn]|=64)}(i,n.index)):3&n.type&&(c=function Jf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),d=null!=C?C(d,n.value||"",c):d,f.setProperty(P,c,d))}function yg(t,n,i,c){if(eo()){const d=null===c?null:{"":-1},f=function tp(t,n){const i=t.directiveRegistry;let c=null,d=null;if(i)for(let f=0;f<i.length;f++){const C=i[f];if(mr(n,C.selectors,!1))if(c||(c=[]),ho(C))if(null!==C.findHostDirectiveDefs){const T=[];d=d||new Map,C.findHostDirectiveDefs(C,T,d),c.unshift(...T,C),Dm(t,n,T.length)}else c.unshift(C),Dm(t,n,0);else d=d||new Map,C.findHostDirectiveDefs?.(C,c,d),c.push(C)}return null===c?null:[c,d]}(t,i);let C,T;null===f?C=T=null:[C,T]=f,null!==C&&q_(t,n,i,C,d,T),d&&function Bv(t,n,i){if(n){const c=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=i[n[d+1]];if(null==f)throw new We(-301,!1);c.push(n[d],f)}}}(i,c,d)}i.mergedAttrs=Rr(i.mergedAttrs,i.attrs)}function q_(t,n,i,c,d,f){for(let $=0;$<c.length;$++)Ls(su(i,n),t,c[$].type);!function Cg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let $=0;$<c.length;$++){const te=c[$];te.providersResolver&&te.providersResolver(te)}let C=!1,T=!1,P=ut(t,n,c.length,null);for(let $=0;$<c.length;$++){const te=c[$];i.mergedAttrs=Rr(i.mergedAttrs,te.hostAttrs),xm(t,i,n,P,te),Eg(P,te,d),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const _e=te.type.prototype;!C&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!T&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),P++}!function ql(t,n,i){const d=n.directiveEnd,f=t.data,C=n.attrs,T=[];let P=null,$=null;for(let te=n.directiveStart;te<d;te++){const _e=f[te],qe=i?i.get(_e):null,kt=qe?qe.outputs:null;P=vt(_e.inputs,te,P,qe?qe.inputs:null),$=vt(_e.outputs,te,$,kt);const nn=null===P||null===C||Ci(n)?null:$v(P,te,C);T.push(nn)}null!==P&&(P.hasOwnProperty("class")&&(n.flags|=8),P.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=P,n.outputs=$}(t,i,f)}function kh(t,n,i){const c=i.directiveStart,d=i.directiveEnd,f=i.index,C=function Gu(){return er.lFrame.currentDirectiveIndex}();try{Dr(f);for(let T=c;T<d;T++){const P=t.data[T],$=n[T];zu(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&jv(P,$)}}finally{Dr(-1),zu(C)}}function jv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Dm(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Eg(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;ho(n)&&(i[""]=t)}}function xm(t,n,i,c,d){t.data[c]=d;const f=d.factory||(d.factory=jo(d.type)),C=new $c(f,ho(d),D);t.blueprint[c]=C,i[c]=C,function Ru(t,n,i,c,d){const f=d.hostBindings;if(f){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const T=~n.index;(function $s(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=T&&C.push(T),C.push(i,c,f)}}(t,n,c,ut(t,i,d.hostVars,u),d)}function $a(t,n,i,c,d,f){const C=Qi(t,n);!function np(t,n,i,c,d,f,C){if(null==f)t.removeAttribute(n,d,i);else{const T=null==C?Ze(f):C(f,c||"",d);t.setAttribute(n,d,T,i)}}(n[Kn],C,f,t.value,i,c,d)}function Y_(t,n,i,c,d,f){const C=f[n];if(null!==C)for(let T=0;T<C.length;)Pm(c,i,C[T++],C[T++],C[T++])}function Pm(t,n,i,c,d){const f=zi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(d=C[c].call(n,d)),null!==t.setInput?t.setInput(n,d,i,c):n[c]=d}finally{zi(f)}}function $v(t,n,i){let c=null,d=0;for(;d<i.length;){const f=i[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===c&&(c=[]);const C=t[f];for(let T=0;T<C.length;T+=2)if(C[T]===n){c.push(f,C[T+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Rm(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Mm(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const f=i[c+1];if(-1!==f){const C=t.data[f];w(i[c]),C.contentQueries(2,n[f],f)}}}function Fh(t,n){return t[To]?t[vi][ji]=n:t[To]=n,t[vi]=n,n}function bg(t,n,i){w(0);const c=zi(null);try{n(t,i)}finally{zi(c)}}function Ig(t){return t[Io]||(t[Io]=[])}function Tg(t){return t.cleanup||(t.cleanup=[])}function As(t,n){const i=t[Fo],c=i?i.get(Su,null):null;c&&c.handleError(n)}function Ds(t,n,i,c,d){for(let f=0;f<i.length;){const C=i[f++],T=i[f++];Pm(t.data[C],n[C],c,T,d)}}function Ha(t,n,i){const c=Is(n,t);!function Kg(t,n,i){t.setValue(n,i)}(t[Kn],c,i)}function X_(t,n){const i=Ii(n,t),c=i[Zt];!function Om(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const d=i[Mr];null!==d&&null===i[Rt]&&(i[Rt]=xh(d,i[Fo])),Ag(c,i,i[Hr])}function Ag(t,n,i){M(n);try{const c=t.viewQuery;null!==c&&bg(1,c,i);const d=t.template;null!==d&&Ht(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mm(t,n),t.staticViewQueries&&bg(2,t.viewQuery,i);const f=t.components;null!==f&&function Vh(t,n){for(let i=0;i<n.length;i++)X_(t,n[i])}(n,f)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[jn]&=-5,dt()}}let Dg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,d){const f=typeof Zone>"u"?null:Zone.current,C=function Nt(t,n,i){const c=Object.create(Or);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const d=C=>{c.cleanupFn=C};return c.ref={notify:()=>Os(c),run:()=>{if(c.dirty=!1,c.hasRun&&!qs(c))return;c.hasRun=!0;const C=ar(c);try{c.cleanupFn(),c.cleanupFn=Cn,c.fn(d)}finally{Da(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(i,$=>{this.all.has($)&&this.queue.set($,f)},d);let T;this.all.add(C),C.notify();const P=()=>{C.cleanup(),T?.(),this.all.delete(C),this.queue.delete(C)};return T=c?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function Mu(t,n,i){let c=i?t.styles:null,d=i?t.classes:null,f=0;if(null!==n)for(let C=0;C<n.length;C++){const T=n[C];"number"==typeof T?f=T:1==f?d=at(d,T):2==f&&(c=at(c,T+": "+n[++C]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=d:t.classesWithoutHost=d}function Lh(t,n,i,c,d=!1){for(;null!==i;){const f=n[i.index];null!==f&&c.push(Jr(f)),fr(f)&&Q_(f,c);const C=i.type;if(8&C)Lh(t,n,i.child,c);else if(32&C){const T=ch(i,n);let P;for(;P=T();)c.push(P)}else if(16&C){const T=bf(n,i);if(Array.isArray(T))c.push(...T);else{const P=gu(n[z]);Lh(P[Zt],P,T,c,!0)}}i=d?i.projectionNext:i.next}return c}function Q_(t,n){for(let i=ir;i<t.length;i++){const c=t[i],d=c[Zt].firstChild;null!==d&&Lh(c[Zt],c,d,n)}t[oi]!==t[Mr]&&n.push(t[oi])}function Yl(t,n,i,c=!0){const d=n[Vo],f=d.rendererFactory,C=d.afterRenderEventManager;f.begin?.(),C?.begin();try{Od(t,n,t.template,i)}catch(P){throw c&&As(n,P),P}finally{f.end?.(),d.effectManager?.flush(),C?.end()}}function Od(t,n,i,c){const d=n[jn];if(256!=(256&d)){n[Vo].effectManager?.flush(),M(n);try{Zi(n),function Tl(t){return er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ht(t,n,i,2,c);const C=3==(3&d);if(C){const $=t.preOrderCheckHooks;null!==$&&Ts(n,$,null)}else{const $=t.preOrderHooks;null!==$&&ms(n,$,0,null),Zo(n,0)}if(function xg(t){for(let n=Np(t);null!==n;n=uh(n)){if(!n[Zr])continue;const i=n[Yi];for(let c=0;c<i.length;c++){Vc(i[c])}}}(n),ip(n,2),null!==t.contentQueries&&Mm(t,n),C){const $=t.contentCheckHooks;null!==$&&Ts(n,$)}else{const $=t.contentHooks;null!==$&&ms(n,$,1),Zo(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=Qf(n,sr);try{for(let d=0;d<i.length;d++){const f=i[d];if(f<0)Dr(~f);else{const C=f,T=i[++d],P=i[++d];ec(T,C),c.dirty=!1;const $=ar(c);try{P(2,n[C])}finally{Da(c,$)}}}}finally{null===n[sr]&&l(n,sr),Dr(-1)}}(t,n);const T=t.components;null!==T&&op(n,T,0);const P=t.viewQuery;if(null!==P&&bg(2,P,c),C){const $=t.viewCheckHooks;null!==$&&Ts(n,$)}else{const $=t.viewHooks;null!==$&&ms(n,$,2),Zo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[jn]&=-73,El(n)}finally{dt()}}}function ip(t,n){for(let i=Np(t);null!==i;i=uh(i))for(let c=ir;c<i.length;c++)km(i[c],n)}function Ou(t,n,i){km(Ii(n,t),i)}function km(t,n){if(!function yl(t){return 128==(128&t[jn])}(t))return;const i=t[Zt],c=t[jn];if(80&c&&0===n||1024&c||2===n)Od(i,t,i.template,t[Hr]);else if(t[ro]>0){ip(t,1);const d=i.components;null!==d&&op(t,d,1)}}function op(t,n,i){for(let c=0;c<n.length;c++)Ou(t,n[c],i)}class Uh{get rootNodes(){const n=this._lView,i=n[Zt];return Lh(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hr]}set context(n){this._lView[Hr]=n}get destroyed(){return 256==(256&this._lView[jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[lr];if(fr(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(mf(n,c),Ju(i,c))}this._attachedToViewContainer=!1}dh(this._lView[Zt],this._lView)}onDestroy(n){!function Bu(t,n){if(256==(256&t[jn]))throw new We(911,!1);null===t[mn]&&(t[mn]=[]),t[mn].push(n)}(this._lView,n)}markForCheck(){Oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[jn]&=-129}reattach(){this._lView[jn]|=128}detectChanges(){Yl(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xg(t,n){vu(t,n,n[Kn],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=n}}class sp extends Uh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Yl(n[Zt],n,n[Hr],!1)}checkNoChanges(){}get context(){return null}}class Fm extends fg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Qn(n);return new fl(i,this.ngModule)}}function Hs(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class ap{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=un(c);const d=this.injector.get(n,mg,c);return d!==mg||i===mg?d:this.parentInjector.get(n,i,c)}}class fl extends S_{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=Hs(n.inputs);if(null!==i)for(const d of c)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return c}get outputs(){return Hs(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Co(t){return t.map(Bi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,d){let f=(d=d||this.ngModule)instanceof Ia?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const C=f?new ap(n,f):n,T=C.get(R_,null);if(null===T)throw new We(407,!1);const _e={rendererFactory:T,sanitizer:C.get(O_,null),effectManager:C.get(Dg,null),afterRenderEventManager:C.get(Mh,null)},qe=T.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",kt=c?function Mi(t,n,i,c){const f=c.get(W_,!1)||i===Pe.ShadowDom,C=t.selectRootElement(n,f);return function ei(t){tt(t)}(C),C}(qe,c,this.componentDef.encapsulation,C):gf(qe,it,function Z_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(it)),tr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qt=null;null!==kt&&(Qt=xh(kt,C,!0));const kr=Bn(0,null,null,1,0,null,null,null,null,null,null),di=re(null,kr,null,tr,null,null,_e,qe,C,null,Qt);let ao,Oc;M(di);try{const Qh=this.componentDef;let n_,C0=null;Qh.findHostDirectiveDefs?(n_=[],C0=new Map,Qh.findHostDirectiveDefs(Qh,n_,C0),n_.push(Qh)):n_=[Qh];const GA=function Gv(t,n){const i=t[Zt],c=Rn;return t[c]=n,ge(i,c,2,"#host",null)}(di,kt),zA=function jh(t,n,i,c,d,f,C){const T=d[Zt];!function zv(t,n,i,c){for(const d of t)n.mergedAttrs=Rr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Mu(n,n.mergedAttrs,!0),null!==i&&Gp(c,i,n))}(c,t,n,C);let P=null;null!==n&&(P=xh(n,d[Fo]));const $=f.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const _e=re(d,Jn(i),null,te,d[t.index],t,f,$,null,null,P);return T.firstCreatePass&&Dm(T,t,c.length-1),Fh(d,_e),d[t.index]=_e}(GA,kt,Qh,n_,di,_e,qe);Oc=Xa(kr,Rn),kt&&function Sg(t,n,i,c){if(c)Fr(t,i,["ng-version",vm.full]);else{const{attrs:d,classes:f}=function Ss(t){const n=[],i=[];let c=1,d=2;for(;c<t.length;){let f=t[c];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++c]):8===d&&i.push(f);else{if(!Pi(d))break;d=f}c++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Fr(t,i,d),f&&f.length>0&&Ec(t,i,f.join(" "))}}(qe,Qh,kt,c),void 0!==i&&function ev(t,n,i){const c=t.projection=[];for(let d=0;d<n.length;d++){const f=i[d];c.push(null!=f?Array.from(f):null)}}(Oc,this.ngContentSelectors,i),ao=function Wv(t,n,i,c,d,f){const C=Do(),T=d[Zt],P=Qi(C,d);q_(T,d,C,i,null,c);for(let te=0;te<i.length;te++)go(Zs(d,T,C.directiveStart+te,C),d);kh(T,d,C),P&&go(P,d);const $=Zs(d,T,C.directiveStart+C.componentOffset,C);if(t[Hr]=d[Hr]=$,null!==f)for(const te of f)te($,n);return sn(T,C,t),$}(zA,Qh,n_,C0,di,[Vm]),Ag(kr,di,null)}finally{dt()}return new Hv(this.componentType,ao,Ph(Oc,di),di,Oc)}}class Hv extends yv{constructor(n,i,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new sp(d),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Ds(f[Zt],f,d,n,i),this.previousInputValues.set(n,i),Oh(Ii(this._tNode.index,f))}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Vm(){const t=Do();Wu($t()[Zt],t)}function Ac(t){let n=function Bh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let d;if(ho(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new We(903,!1);d=n.\u0275dir}if(d){if(i){c.push(d);const C=t;C.inputs=$h(t.inputs),C.inputTransforms=$h(t.inputTransforms),C.declaredInputs=$h(t.declaredInputs),C.outputs=$h(t.outputs);const T=d.hostBindings;T&&Um(t,T);const P=d.viewQuery,$=d.contentQueries;if(P&&Pg(t,P),$&&Lm(t,$),ce(t.inputs,d.inputs),ce(t.declaredInputs,d.declaredInputs),ce(t.outputs,d.outputs),null!==d.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ce(C.inputTransforms,d.inputTransforms)),ho(d)&&d.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let C=0;C<f.length;C++){const T=f[C];T&&T.ngInherit&&T(t),T===Ac&&(i=!1)}}n=Object.getPrototypeOf(n)}!function cp(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const d=t[c];d.hostVars=n+=d.hostVars,d.hostAttrs=Rr(d.hostAttrs,i=Rr(i,d.hostAttrs))}}(c)}function $h(t){return t===Lt?{}:t===Ce?[]:t}function Pg(t,n){const i=t.viewQuery;t.viewQuery=i?(c,d)=>{n(c,d),i(c,d)}:n}function Lm(t,n){const i=t.contentQueries;t.contentQueries=i?(c,d,f)=>{n(c,d,f),i(c,d,f)}:n}function Um(t,n){const i=t.hostBindings;t.hostBindings=i?(c,d)=>{n(c,d),i(c,d)}:n}function En(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const d=n[c];Array.isArray(d)&&d[2]&&(i[c]=d[2])}t.inputTransforms=i}function Xn(t){return!!_i(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _i(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Un(t,n,i){return t[n]=i}function li(t,n){return t[n]}function Kr(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Sr(t,n,i,c){const d=Kr(t,n,i);return Kr(t,n+1,c)||d}function Ur(t,n,i,c){const d=$t();return Kr(d,Xs(),n)&&(Dt(),$a(ci(),d,t,n,i,c)),Ur}function to(t,n,i,c){return Kr(t,Xs(),i)?n+Ze(i)+c:u}function _o(t,n,i,c,d,f){const T=Sr(t,function fs(){return er.lFrame.bindingIndex}(),i,d);return ps(2),T?n+Ze(i)+c+Ze(d)+f:u}function Hm(t,n,i,c,d,f,C,T){const P=$t(),$=Dt(),te=t+Rn,_e=$.firstCreatePass?function Xv(t,n,i,c,d,f,C,T,P){const $=n.consts,te=ge(n,t,4,C||null,Ji($,T));yg(n,i,te,Ji($,P)),Wu(n,te);const _e=te.tView=Bn(2,te,c,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,te),_e.queries=n.queries.embeddedTView(te)),te}(te,$,P,n,i,c,d,f,C):$.data[te];Qo(_e,!1);const qe=Gm($,P,_e,t);wl()&&al($,P,qe,_e),go(qe,P),Fh(P,P[te]=Rm(qe,P,qe,_e)),bs(_e)&&Xt($,P,_e),null!=C&&Vn(P,_e,T)}let Gm=function iv(t,n,i,c){return rc(!0),n[Kn].createComment("")};function Vd(t){return ds(function qn(){return er.lFrame.contextLView}(),Rn+t)}function Wm(t,n,i){const c=$t();return Kr(c,Xs(),n)&&ha(Dt(),ci(),c,t,n,c[Kn],i,!1),Wm}function Km(t,n,i,c,d){const C=d?"class":"style";Ds(t,i,n.inputs[C],C,c)}function kg(t,n,i,c){const d=$t(),f=Dt(),C=Rn+t,T=d[Kn],P=f.firstCreatePass?function Zv(t,n,i,c,d,f){const C=n.consts,P=ge(n,t,2,c,Ji(C,d));return yg(n,i,P,Ji(C,f)),null!==P.attrs&&Mu(P,P.attrs,!1),null!==P.mergedAttrs&&Mu(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(C,f,d,n,i,c):f.data[C],$=ov(f,d,P,T,n,t);d[C]=$;const te=bs(P);return Qo(P,!0),Gp(T,$,P),32!=(32&P.flags)&&wl()&&al(f,d,$,P),0===function Go(){return er.lFrame.elementDepthCount}()&&go($,d),function tu(){er.lFrame.elementDepthCount++}(),te&&(Xt(f,d,P),sn(f,P,d)),null!==c&&Vn(d,P),kg}function Xh(){let t=Do();zo()?Oa():(t=t.parent,Qo(t,!1));const n=t;(function Lc(t){return er.skipHydrationRootTNode===t})(n)&&function jd(){er.skipHydrationRootTNode=null}(),function Cl(){er.lFrame.elementDepthCount--}();const i=Dt();return i.firstCreatePass&&(Wu(i,t),Cs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Hd(t){return 0!=(8&t.flags)}(n)&&Km(i,n,$t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Hc(t){return 0!=(16&t.flags)}(n)&&Km(i,n,$t(),n.stylesWithoutHost,!1),Xh}function pa(t,n,i,c){return kg(t,n,i,c),Xh(),pa}let ov=(t,n,i,c,d,f)=>(rc(!0),gf(c,d,function Ea(){return er.lFrame.currentNamespace}()));function k(t,n,i){const c=$t(),d=Dt(),f=t+Rn,C=d.firstCreatePass?function v(t,n,i,c,d){const f=n.consts,C=Ji(f,c),T=ge(n,t,8,"ng-container",C);return null!==C&&Mu(T,C,!0),yg(n,i,T,Ji(f,d)),null!==n.queries&&n.queries.elementStart(n,T),T}(f,d,c,n,i):d.data[f];Qo(C,!0);const T=lt(d,c,C,t);return c[f]=T,wl()&&al(d,c,T,C),go(T,c),bs(C)&&(Xt(d,c,C),sn(d,C,c)),null!=i&&Vn(c,C),k}function q(){let t=Do();const n=Dt();return zo()?Oa():(t=t.parent,Qo(t,!1)),n.firstCreatePass&&(Wu(n,t),Cs(t)&&n.queries.elementEnd(t)),q}function de(t,n,i){return k(t,n,i),q(),de}let lt=(t,n,i,c)=>(rc(!0),pf(n[Kn],""));function no(){return $t()}function _s(t){return!!t&&"function"==typeof t.then}function Ni(t){return!!t&&"function"==typeof t.subscribe}function xs(t,n,i,c){const d=$t(),f=Dt(),C=Do();return function Pc(t,n,i,c,d,f,C){const T=bs(c),$=t.firstCreatePass&&Tg(t),te=n[Hr],_e=Ig(n);let qe=!0;if(3&c.type||C){const nn=Qi(c,n),xn=C?C(nn):nn,tr=_e.length,Qt=C?di=>C(Jr(di[c.index])):c.index;let kr=null;if(!C&&T&&(kr=function gp(t,n,i,c){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const C=d[f];if(C===i&&d[f+1]===c){const T=n[Io],P=d[f+2];return T.length>P?T[P]:null}"string"==typeof C&&(f+=2)}return null}(t,n,d,c.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=f,kr.__ngLastListenerFn__=f,qe=!1;else{f=qm(c,n,te,f,!1);const di=i.listen(xn,d,f);_e.push(f,di),$&&$.push(d,Qt,tr,tr+1)}}else f=qm(c,n,te,f,!1);const it=c.outputs;let kt;if(qe&&null!==it&&(kt=it[d])){const nn=kt.length;if(nn)for(let xn=0;xn<nn;xn+=2){const ao=n[kt[xn]][kt[xn+1]].subscribe(f),Oc=_e.length;_e.push(f,ao),$&&$.push(d,c.index,Oc,-(Oc+1))}}}(f,d,d[Kn],C,t,n,c),xs}function Fg(t,n,i,c){try{return Zn(6,n,i),!1!==i(c)}catch(d){return As(t,d),!1}finally{Zn(7,n,i)}}function qm(t,n,i,c,d){return function f(C){if(C===Function)return c;Oh(t.componentOffset>-1?Ii(t.index,n):n);let P=Fg(n,i,c,C),$=f.__ngNextListenerFn__;for(;$;)P=Fg(n,i,$,C)&&P,$=$.__ngNextListenerFn__;return d&&!1===P&&C.preventDefault(),P}}function T0(t=1){return function vn(t){return(er.lFrame.contextLView=function pr(t,n){for(;t>0;)n=n[Q],t--;return n}(t,er.lFrame.contextLView))[Hr]}(t)}function Sy(t,n,i){return ty(t,"",n,"",i),Sy}function ty(t,n,i,c,d){const f=$t(),C=to(f,n,i,c);return C!==u&&ha(Dt(),ci(),f,t,C,f[Kn],d,!1),ty}function ny(t,n){return t<<17|n<<2}function mp(t){return t>>17&32767}function Py(t){return 2|t}function Vg(t){return(131068&t)>>2}function Ry(t,n){return-131069&t|n<<2}function My(t){return 1|t}function O0(t,n,i,c,d){const f=t[i+1],C=null===n;let T=c?mp(f):Vg(f),P=!1;for(;0!==T&&(!1===P||C);){const te=t[T+1];Lb(t[T],n)&&(P=!0,t[T+1]=c?My(te):Py(te)),T=c?mp(te):Vg(te)}P&&(t[i+1]=c?Py(f):My(f))}function Lb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ol(t,n)>=0}const Ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function N0(t){return t.substring(Ws.key,Ws.keyEnd)}function k0(t,n){const i=Ws.textEnd;return i===n?-1:(n=Ws.keyEnd=function $b(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Ws.key=n,i),Ym(t,n,i))}function Ym(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Oy(t,n,i){return Vu(t,n,i,!1),Oy}function Ny(t,n){return Vu(t,n,null,!0),Ny}function j0(t){!function Lu(t,n,i,c){const d=Dt(),f=ps(2);d.firstUpdatePass&&$0(d,null,f,c);const C=$t();if(i!==u&&Kr(C,f,i)){const T=d.data[Tr()];if(W0(T,c)&&!B0(d,f)){let P=c?T.classesWithoutHost:T.stylesWithoutHost;null!==P&&(i=at(P,i||"")),Km(d,T,C,i,c)}else!function Jb(t,n,i,c,d,f,C,T){d===u&&(d=Ce);let P=0,$=0,te=0<d.length?d[0]:null,_e=0<f.length?f[0]:null;for(;null!==te||null!==_e;){const qe=P<d.length?d[P+1]:void 0,it=$<f.length?f[$+1]:void 0;let nn,kt=null;te===_e?(P+=2,$+=2,qe!==it&&(kt=_e,nn=it)):null===_e||null!==te&&te<_e?(P+=2,kt=te):($+=2,kt=_e,nn=it),null!==kt&&G0(t,n,i,c,kt,nn,C,T),te=P<d.length?d[P]:null,_e=$<f.length?f[$]:null}}(d,T,C,C[Kn],C[f+1],C[f+1]=function Xb(t,n,i){if(null==i||""===i)return Ce;const c=[],d=cl(i);if(Array.isArray(d))for(let f=0;f<d.length;f++)t(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&t(c,f,d[f]);else"string"==typeof d&&n(c,d);return c}(t,n,i),c,f)}}(Qb,Ud,t,!0)}function Ud(t,n){for(let i=function jb(t){return function V0(t){Ws.key=0,Ws.keyEnd=0,Ws.value=0,Ws.valueEnd=0,Ws.textEnd=t.length}(t),k0(t,Ym(t,0,Ws.textEnd))}(n);i>=0;i=k0(n,i))Us(t,N0(n),!0)}function Vu(t,n,i,c){const d=$t(),f=Dt(),C=ps(2);f.firstUpdatePass&&$0(f,t,C,c),n!==u&&Kr(d,C,n)&&G0(f,f.data[Tr()],d,d[Kn],t,d[C+1]=function Zb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=me(cl(t)))),t}(n,i),c,C)}function B0(t,n){return n>=t.expandoStartIndex}function $0(t,n,i,c){const d=t.data;if(null===d[i+1]){const f=d[Tr()],C=B0(t,i);W0(f,c)&&null===n&&!C&&(n=!1),n=function Wb(t,n,i,c){const d=function jc(t){const n=er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=c?n.residualClasses:n.residualStyles;if(null===d)0===(c?n.classBindings:n.styleBindings)&&(i=sv(i=ky(null,t,n,i,c),n.attrs,c),f=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==d)if(i=ky(d,t,n,i,c),null===f){let P=function Kb(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==Vg(c))return t[mp(c)]}(t,n,c);void 0!==P&&Array.isArray(P)&&(P=ky(null,t,n,P[1],c),P=sv(P,n.attrs,c),function qb(t,n,i,c){t[mp(i?n.classBindings:n.styleBindings)]=c}(t,n,c,P))}else f=function Yb(t,n,i){let c;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)c=sv(c,t[f].hostAttrs,i);return sv(c,n.attrs,i)}(t,n,c)}return void 0!==f&&(c?n.residualClasses=f:n.residualStyles=f),i}(d,f,n,c),function Fb(t,n,i,c,d,f){let C=f?n.classBindings:n.styleBindings,T=mp(C),P=Vg(C);t[c]=i;let te,$=!1;if(Array.isArray(i)?(te=i[1],(null===te||Ol(i,te)>0)&&($=!0)):te=i,d)if(0!==P){const qe=mp(t[T+1]);t[c+1]=ny(qe,T),0!==qe&&(t[qe+1]=Ry(t[qe+1],c)),t[T+1]=function Nb(t,n){return 131071&t|n<<17}(t[T+1],c)}else t[c+1]=ny(T,0),0!==T&&(t[T+1]=Ry(t[T+1],c)),T=c;else t[c+1]=ny(P,0),0===T?T=c:t[P+1]=Ry(t[P+1],c),P=c;$&&(t[c+1]=Py(t[c+1])),O0(t,te,c,!0),O0(t,te,c,!1),function Vb(t,n,i,c,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Ol(f,n)>=0&&(i[c+1]=My(i[c+1]))}(n,te,t,c,f),C=ny(T,P),f?n.classBindings=C:n.styleBindings=C}(d,f,n,i,C,c)}}function ky(t,n,i,c,d){let f=null;const C=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<C&&(f=n[T],c=sv(c,f.hostAttrs,d),f!==t);)T++;return null!==t&&(i.directiveStylingLast=T),c}function sv(t,n,i){const c=i?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const C=n[f];"number"==typeof C?d=C:d===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Us(t,C,!!i||n[++f]))}return void 0===t?null:t}function Qb(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&Us(t,c,i)}function G0(t,n,i,c,d,f,C,T){if(!(3&n.type))return;const P=t.data,$=P[T+1],te=function kb(t){return 1==(1&t)}($)?z0(P,n,i,d,Vg($),C):void 0;ry(te)||(ry(f)||function Ob(t){return 2==(2&t)}($)&&(f=z0(P,null,i,d,T,C)),function c_(t,n,i,c,d){if(n)d?t.addClass(i,c):t.removeClass(i,c);else{let f=-1===c.indexOf("-")?void 0:hu.DashCase;null==d?t.removeStyle(i,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=hu.Important),t.setStyle(i,c,d,f))}}(c,C,Is(Tr(),i),d,f))}function z0(t,n,i,c,d,f){const C=null===n;let T;for(;d>0;){const P=t[d],$=Array.isArray(P),te=$?P[1]:P,_e=null===te;let qe=i[d+1];qe===u&&(qe=_e?Ce:void 0);let it=_e?Zu(qe,c):te===c?qe:void 0;if($&&!ry(it)&&(it=Zu(P,c)),ry(it)&&(T=it,C))return T;const kt=t[d+1];d=C?mp(kt):Vg(kt)}if(null!==n){let P=f?n.residualClasses:n.residualStyles;null!=P&&(T=Zu(P,c))}return T}function ry(t){return void 0!==t}function W0(t,n){return 0!=(t.flags&(n?8:16))}function K0(t,n=""){const i=$t(),c=Dt(),d=t+Rn,f=c.firstCreatePass?ge(c,d,1,n,null):c.data[d],C=q0(c,i,f,n,t);i[d]=C,wl()&&al(c,i,C,f),Qo(f,!1)}let q0=(t,n,i,c,d)=>(rc(!0),function gd(t,n){return t.createText(n)}(n[Kn],c));function Fy(t){return iy("",t,""),Fy}function iy(t,n,i){const c=$t(),d=to(c,t,n,i);return d!==u&&Ha(c,Tr(),d),iy}function Vy(t,n,i,c,d){const f=$t(),C=_o(f,t,n,i,c,d);return C!==u&&Ha(f,Tr(),C),Vy}const Lg=void 0;var CI=["en",[["a","p"],["AM","PM"],Lg],[["AM","PM"],Lg,Lg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lg,"{1} 'at' {0}",Lg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Xm={};function Ly(t){const n=function bI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=pE(n);if(i)return i;const c=n.split("-")[0];if(i=pE(c),i)return i;if("en"===c)return CI;throw new We(701,!1)}function fE(t){return Ly(t)[Qm.PluralCase]}function pE(t){return t in Xm||(Xm[t]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[t]),Xm[t]}var Qm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qm||{});const Jm="en-US";let gE=Jm;function By(t,n,i,c,d){if(t=Ct(t),Array.isArray(t))for(let f=0;f<t.length;f++)By(t[f],n,i,c,d);else{const f=Dt(),C=$t(),T=Do();let P=Iu(t)?t:Ct(t.provide);const $=bh(t),te=1048575&T.providerIndexes,_e=T.directiveStart,qe=T.providerIndexes>>20;if(Iu(t)||!t.multi){const it=new $c($,d,D),kt=Hy(P,n,d?te:te+qe,_e);-1===kt?(Ls(su(T,C),f,P),$y(f,t,n.length),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(it),C.push(it)):(i[kt]=it,C[kt]=it)}else{const it=Hy(P,n,te+qe,_e),kt=Hy(P,n,te,te+qe),xn=kt>=0&&i[kt];if(d&&!xn||!d&&!(it>=0&&i[it])){Ls(su(T,C),f,P);const tr=function ET(t,n,i,c,d){const f=new $c(t,i,D);return f.multi=[],f.index=n,f.componentProviders=0,jE(f,d,c&&!i),f}(d?yT:vT,i.length,d,c,$);!d&&xn&&(i[kt].providerFactory=tr),$y(f,t,n.length,0),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(tr),C.push(tr)}else $y(f,t,it>-1?it:kt,jE(i[d?kt:it],$,!d&&c));!d&&c&&xn&&i[kt].componentProviders++}}}function $y(t,n,i,c){const d=Iu(n),f=function Hi(t){return!!t.useClass}(n);if(d||f){const P=(f?Ct(n.useClass):n).prototype.ngOnDestroy;if(P){const $=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const te=$.indexOf(i);-1===te?$.push(i,[c,P]):$[te+1].push(c,P)}else $.push(i,P)}}}function jE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Hy(t,n,i,c){for(let d=i;d<c;d++)if(n[d]===t)return d;return-1}function vT(t,n,i,c){return Gy(this.multi,[])}function yT(t,n,i,c){const d=this.multi;let f;if(this.providerFactory){const C=this.providerFactory.componentProviders,T=Zs(i,i[Zt],this.providerFactory.index,c);f=T.slice(0,C),Gy(d,f);for(let P=C;P<T.length;P++)f.push(T[P])}else f=[],Gy(d,f);return f}function Gy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function BE(t,n=[]){return i=>{i.providersResolver=(c,d)=>function _T(t,n,i){const c=Dt();if(c.firstCreatePass){const d=ho(t);By(i,c.data,c.blueprint,d,!0),By(n,c.data,c.blueprint,d,!1)}}(c,d?d(t):t,n)}}class Ug{}class $E{}function CT(t,n){return new zy(t,n??null,[])}class zy extends Ug{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fm(this);const d=$r(n);this._bootstrapComponents=Kl(d.bootstrap),this._r3Injector=V_(n,i,[{provide:Ug,useValue:this},{provide:fg,useValue:this.componentFactoryResolver},...c],me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wy extends $E{constructor(n){super(),this.moduleType=n}create(n){return new zy(this.moduleType,n,[])}}class HE extends Ug{constructor(n){super(),this.componentFactoryResolver=new Fm(this),this.instance=null;const i=new Tu([...n.providers,{provide:Ug,useValue:this},{provide:fg,useValue:this.componentFactoryResolver}],n.parent||Hf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GE(t,n,i=null){return new HE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let IT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=ja(0,i.type),d=c.length>0?GE([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=In({token:t,providedIn:"environment",factory:()=>new t(Ot(Ia))})}return t})();function zE(t){t.getStandaloneInjector=n=>n.get(IT).getOrCreateStandaloneInjector(t)}function JE(t,n,i){const c=Jo()+t,d=$t();return d[c]===u?Un(d,c,i?n.call(i):n()):li(d,c)}function ZE(t,n,i,c){return nC($t(),Jo(),t,n,i,c)}function eC(t,n,i,c,d){return function rC(t,n,i,c,d,f,C){const T=n+i;return Sr(t,T,d,f)?Un(t,T+2,C?c.call(C,d,f):c(d,f)):hv(t,T+2)}($t(),Jo(),t,n,i,c,d)}function tC(t,n,i,c,d,f,C,T,P){const $=Jo()+t,te=$t(),_e=function _r(t,n,i,c,d,f){const C=Sr(t,n,i,c);return Sr(t,n+2,d,f)||C}(te,$,i,c,d,f);return Sr(te,$+4,C,T)||_e?Un(te,$+6,P?n.call(P,i,c,d,f,C,T):n(i,c,d,f,C,T)):li(te,$+6)}function hv(t,n){const i=t[n];return i===u?void 0:i}function nC(t,n,i,c,d,f){const C=n+i;return Kr(t,C,d)?Un(t,C+1,f?c.call(f,d):c(d)):hv(t,C+1)}function iC(t,n,i,c,d,f,C,T){const P=n+i;return function Pr(t,n,i,c,d){const f=Sr(t,n,i,c);return Kr(t,n+2,d)||f}(t,P,d,f,C)?Un(t,P+3,T?c.call(T,d,f,C):c(d,f,C)):hv(t,P+3)}function aC(t,n){const i=Dt();let c;const d=t+Rn;i.firstCreatePass?(c=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[d]=c,c.onDestroy&&(i.destroyHooks??=[]).push(d,c.onDestroy)):c=i.data[d];const f=c.factory||(c.factory=jo(c.type)),T=hr(D);try{const P=ua(!1),$=f();return ua(P),function Jv(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,$t(),d,$),$}finally{hr(T)}}function cC(t,n,i){const c=t+Rn,d=$t(),f=ds(d,c);return fv(d,c)?nC(d,Jo(),n,f.transform,i,f):f.transform(i)}function lC(t,n,i,c,d){const f=t+Rn,C=$t(),T=ds(C,f);return fv(C,f)?iC(C,Jo(),n,T.transform,i,c,d,T):T.transform(i,c,d)}function fv(t,n){return t[Zt].data[n].pure}function $T(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new hl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=qy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$T)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const d=function Po(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yd(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let d=t[c],f=n[c];if(i&&(d=i(d),f=i(f)),f!==d)return!1}return!0}(c._results,d,i))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GT(t,n,i,c=!0){const d=n[Zt];if(function s_(t,n,i,c){const d=ir+c,f=i.length;c>0&&(i[d-1][ji]=n),c<f-ir?(n[ji]=i[d],Rl(i,ir+c,n)):(i.push(n),n[ji]=null),n[lr]=i;const C=n[ye];null!==C&&i!==C&&function a_(t,n){const i=t[Yi];n[z]!==n[lr][lr][z]&&(t[Zr]=!0),null===i?t[Yi]=[n]:i.push(n)}(C,n);const T=n[Ye];null!==T&&T.insertView(t),n[jn]|=128}(d,n,t,i),c){const f=ph(i,t),C=n[Kn],T=Lp(C,t[oi]);null!==T&&function Yg(t,n,i,c,d,f){c[Mr]=d,c[gi]=n,vu(t,c,i,1,d,f)}(d,t[gi],C,n,T,f)}}let pv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KT}return t})();const zT=pv,WT=class extends zT{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const d=function HT(t,n,i,c){const d=n.tView,T=re(t,d,i,4096&t[jn]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);T[ye]=t[n.index];const $=t[Ye];return null!==$&&(T[Ye]=$.createEmbeddedView(d)),Ag(d,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new Uh(d)}};function KT(){return ly(Do(),$t())}function ly(t,n){return 4&t.type?new WT(n,t,Ph(t,n)):null}let dy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZT}return t})();function ZT(){return mC(Do(),$t())}const ew=dy,pC=class extends ew{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Ph(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Dl(this._hostTNode,this._hostLView);if(Gc(n)){const i=Vs(n,this._hostLView),c=iu(n);return new Wo(i[Zt].data[c+8],i)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(n,i,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const T=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(T,d,false),T}createComponent(n,i,c,d,f){const C=n&&!function uc(t){return"function"==typeof t}(n);let T;if(C)T=i;else{const nn=i||{};T=nn.index,c=nn.injector,d=nn.projectableNodes,f=nn.environmentInjector||nn.ngModuleRef}const P=C?n:new fl(Qn(n)),$=c||this.parentInjector;if(!f&&null==P.ngModule){const xn=(C?$:this.parentInjector).get(Ia,null);xn&&(f=xn)}Qn(P.componentType??{});const it=P.create($,d,null,f);return this.insertImpl(it.hostView,T,false),it}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const d=n._lView;if(function Xo(t){return fr(t[lr])}(d)){const P=this.indexOf(n);if(-1!==P)this.detach(P);else{const $=d[lr],te=new pC($,$[gi],$[lr]);te.detach(te.indexOf(n))}}const C=this._adjustIndex(i),T=this._lContainer;return GT(T,d,C,!c),n.attachToViewContainerRef(),Rl(Yy(T),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=mf(this._lContainer,i);c&&(Ju(Yy(this._lContainer),i),dh(c[Zt],c))}detach(n){const i=this._adjustIndex(n,-1),c=mf(this._lContainer,i);return c&&null!=Ju(Yy(this._lContainer),i)?new Uh(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function gC(t){return t[8]}function Yy(t){return t[8]||(t[8]=[])}function mC(t,n){let i;const c=n[t.index];return fr(c)?i=c:(i=Rm(c,n,null,t),n[t.index]=i,Fh(n,i)),_C(i,n,t,c),new pC(i,t,n)}let _C=function vC(t,n,i,c){if(t[oi])return;let d;d=8&i.type?Jr(c):function tw(t,n){const i=t[Kn],c=i.createComment(""),d=Qi(n,t);return sl(i,Lp(i,d),c,function fh(t,n){return t.nextSibling(n)}(i,d),!1),c}(n,i),t[oi]=d};class Xy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Xy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let f=0;f<c;f++){const C=i.getByIndex(f);d.push(this.queries[C.indexInDeclarationView].clone())}return new Qy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DC(n,i).matches&&this.queries[i].setDirty()}}class yC{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class Jy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const d=null!==i?i.length:0,f=this.getByIndex(c).embeddedTView(n,d);f&&(f.indexInDeclarationView=c,null!==i?i.push(f):i=[f])}return null!==i?new Jy(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Zy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Zy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,zc(i,n,f,!1,!1))}else c===pv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,zc(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===qf||d===dy||d===pv&&4&i.type)this.addMatch(i.index,-2);else{const f=zc(i,n,d,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function sw(t,n,i,c){return-1===i?function ow(t,n){return 11&t.type?Ph(t,n):4&t.type?ly(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===qf?Ph(n,t):i===pv?ly(n,t):i===dy?mC(n,t):void 0}(t,n,c):Zs(t,t[Zt],i,n)}function EC(t,n,i,c){const d=n[Ye].queries[c];if(null===d.matches){const f=t.data,C=i.matches,T=[];for(let P=0;P<C.length;P+=2){const $=C[P];T.push($<0?null:sw(n,f[$],C[P+1],i.metadata.read))}d.matches=T}return d.matches}function e0(t,n,i,c){const d=t.queries.getByIndex(i),f=d.matches;if(null!==f){const C=EC(t,n,d,i);for(let T=0;T<f.length;T+=2){const P=f[T];if(P>0)c.push(C[T/2]);else{const $=f[T+1],te=n[-P];for(let _e=ir;_e<te.length;_e++){const qe=te[_e];qe[ye]===qe[lr]&&e0(qe[Zt],qe,$,c)}if(null!==te[Yi]){const _e=te[Yi];for(let qe=0;qe<_e.length;qe++){const it=_e[qe];e0(it[Zt],it,$,c)}}}}}return c}function CC(t){const n=$t(),i=Dt(),c=Qs();w(c+1);const d=DC(i,c);if(t.dirty&&function Qa(t){return 4==(4&t[jn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const f=d.crossesNgTemplate?e0(i,n,c,[]):EC(i,n,d,c);t.reset(f,gg),t.notifyOnChanges()}return!0}return!1}function bC(t,n,i){const c=Dt();c.firstCreatePass&&(AC(c,new yC(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),wC(c,$t(),n)}function IC(t,n,i,c){const d=Dt();if(d.firstCreatePass){const f=Do();AC(d,new yC(n,i,c),f.index),function lw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}wC(d,$t(),i)}function TC(){return function cw(t,n){return t[Ye].queries[n].queryList}($t(),Qs())}function wC(t,n,i){const c=new qy(4==(4&i));(function nt(t,n,i,c){const d=Ig(n);d.push(i),t.firstCreatePass&&Tg(t).push(c,d.length-1)})(t,n,c,c.destroy),null===n[Ye]&&(n[Ye]=new Qy),n[Ye].queries.push(new Xy(c))}function AC(t,n,i){null===t.queries&&(t.queries=new Jy),t.queries.track(new Zy(n,i))}function DC(t,n){return t.queries.getByIndex(n)}function xC(t,n){return ly(t,n)}function t0(t){return!!$r(t)}const zC=new ln("Application Initializer");let a0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=tn(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const f=d();if(_s(f))i.push(f);else if(Ni(f)){const C=new Promise((T,P)=>{f.subscribe({complete:T,error:P})});i.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(d=>{this.reject(d)}),0===i.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const fy=new ln("LocaleId",{providedIn:"root",factory:()=>tn(fy,_n.Optional|_n.SkipSelf)||function Pw(){return typeof $localize<"u"&&$localize.locale||Jm}()}),Rw=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Wy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),f=Kl($r(i).declarations).reduce((C,T)=>{const P=Qn(T);return P&&C.push(new fl(P)),C},[]);return new Ow(c,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QC=new ln(""),JC=new ln("");let u0,nA=(()=>{class t{constructor(i,c,d){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,u0||(function rA(t){u0=t}(d),d.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==f),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:d})}whenStable(i,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(Mo),Ot(ZC),Ot(JC))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return u0?.findTestabilityInTree(this,i,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_p=null;const eb=new ln("AllowMultipleToken"),d0=new ln("PlatformDestroyListeners"),h0=new ln("appBootstrapListener");class sA{constructor(n,i){this.name=n,this.token=i}}function rb(t,n,i=[]){const c=`Platform: ${n}`,d=new ln(c);return(f=[])=>{let C=f0();if(!C||C.injector.get(eb,!1)){const T=[...i,...f,{provide:d,useValue:!0}];t?t(T):function aA(t){if(_p&&!_p.get(eb,!1))throw new We(400,!1);(function tb(){!function Jl(t){Ys=t}(()=>{throw new We(600,!1)})})(),_p=t;const n=t.get(ob);(function nb(t){t.get(ul,null)?.forEach(i=>i())})(t)}(function ib(t=[],n){return Tc.create({name:n,providers:[{provide:cm,useValue:"platform"},{provide:d0,useValue:new Set([()=>_p=null])},...t]})}(T,c))}return function lA(t){const n=f0();if(!n)throw new We(401,!1);return n}()}}function f0(){return _p?.get(ob)??null}let ob=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const d=function uA(t="zone.js",n){return"noop"===t?new Iy:"zone.js"===t?new Mo(n):t}(c?.ngZone,function sb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function bT(t,n,i){return new zy(t,n,i)}(i.moduleType,this.injector,function db(t){return[{provide:Mo,useFactory:t},{provide:Id,multi:!0,useFactory:()=>{const n=tn(hA,{optional:!0});return()=>n.initialize()}},{provide:ub,useFactory:dA},{provide:Sv,useFactory:Pv}]}(()=>d)),C=f.injector.get(Su,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:P=>{C.handleError(P)}});f.onDestroy(()=>{gy(this._modules,f),T.unsubscribe()})}),function ab(t,n,i){try{const c=i();return _s(c)?c.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,d,()=>{const T=f.injector.get(a0);return T.runInitializers(),T.donePromise.then(()=>(function mE(t){Tt(t,"Expected localeId to be defined"),"string"==typeof t&&(gE=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(fy,Jm)||Jm),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,c=[]){const d=cb({},c);return function iA(t,n,i){const c=new Wy(i);return Promise.resolve(c)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(i){const c=i.injector.get(t_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new We(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(d0,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(Tc))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cb(t,n){return Array.isArray(n)?n.reduce(cb,t):{...t,...n}}let t_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=tn(ub),this.zoneIsStable=tn(Sv),this.componentTypes=[],this.components=[],this.isStable=tn(KC).hasPendingTasks.pipe((0,Le.n)(i=>i?(0,De.of)(!1):this.zoneIsStable),(0,Be.F)(),(0,Ne.u)()),this._injector=tn(Ia)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const d=i instanceof S_;if(!this._injector.get(a0).done)throw!d&&uo(i),new We(405,!1);let C;C=d?i:this._injector.get(fg).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const T=function oA(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Ug),$=C.create(Tc.NULL,[],c||C.selector,T),te=$.location.nativeElement,_e=$.injector.get(QC,null);return _e?.registerApplication(te),$.onDestroy(()=>{this.detachView($.hostView),gy(this.components,$),_e?.unregisterApplication(te)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;gy(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(h0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>gy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new We(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const ub=new ln("",{providedIn:"root",factory:()=>tn(Su).handleError.bind(void 0)});function dA(){const t=tn(Mo),n=tn(Su);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=tn(Mo),this.applicationRef=tn(t_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Ai(t)&&!i){const c=Ii(t.index,n);return new Uh(c,c)}return 47&t.type?new Uh(n[z],n):null}(Do(),$t(),16==(16&t))}class mb{constructor(){}supports(n){return Xn(n)}create(n){return new bA(n)}}const CA=(t,n)=>n;class bA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,d=0,f=null;for(;i||c;){const C=!c||i&&i.currentIndex<vb(c,d,f)?i:c,T=vb(C,d,f),P=C.currentIndex;if(C===c)d--,c=c._nextRemoved;else if(i=i._next,null==C.previousIndex)d++;else{f||(f=[]);const $=T-d,te=P-d;if($!=te){for(let qe=0;qe<$;qe++){const it=qe<f.length?f[qe]:f[qe]=0,kt=it+qe;te<=kt&&kt<$&&(f[qe]=it+1)}f[C.previousIndex]=te-$}}T!==P&&n(C,T,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Xn(n))throw new We(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,C,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)f=n[T],C=this._trackByFn(T,f),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,f,C,T)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,C,T),c=!0),i=i._next}else d=0,function ur(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,T=>{C=this._trackByFn(d,T),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,T,C,d)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,C,d),c=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,d)):n=this._addAfter(new IA(i,c),f,d),n}_verifyReinsertion(n,i,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class _b{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new TA,this.map.set(i,c)),c.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vb(t,n,i){const c=t.previousIndex;if(null===c)return c;let d=0;return i&&c<i.length&&(d=i[c]),c+n+d}class yb{constructor(){}supports(n){return n instanceof Map||_i(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||_i(n)))throw new We(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(d,c);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const f=d._prev,C=d._next;return f&&(f._next=C),C&&(C._prev=f),d._next=null,d._prev=null,d}const c=new AA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new v0([new mb])}let v0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Eb});constructor(i){this.factories=i}static create(i,c){if(null!=c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||Eb()),deps:[[t,new pc,new fc]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(null!=c)return c;throw new We(901,!1)}}return t})();function Cb(){return new y0([new yb])}let y0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Cb});constructor(i){this.factories=i}static create(i,c){if(c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||Cb()),deps:[[t,new pc,new fc]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(c)return c;throw new We(901,!1)}}return t})();const SA=rb(null,"core",[]);let PA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(t_))};static#t=this.\u0275mod=bo({type:t});static#n=this.\u0275inj=Gt({})}return t})();function BA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Qn(t);if(!n)return null;const i=new fl(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(rn,Je,L)=>{L.d(Je,{DS:()=>Bt,X8:()=>qt,$z:()=>Jt,UB:()=>nr,yy:()=>Ft,ZP:()=>be,AU:()=>dn,CP:()=>wt,gF:()=>Pt}),L(2438);var ae=L(177),o=L(7705),Ae=L(5407),he=L(9253),De=L(1413),Ne=L(7673),Le=L(1985),Be=L(8455),Z=L(7786),ce=L(941),me=L(5558),at=L(6354),Xe=L(6129);class bt extends De.B{constructor(Me=1/0,ue=1/0,Fe=Xe.U){super(),this._bufferSize=Me,this._windowTime=ue,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,ue)}next(Me){const{isStopped:ue,_buffer:Fe,_infiniteTimeWindow:Qe,_timestampProvider:xe,_windowTime:Se}=this;ue||(Fe.push(Me),!Qe&&Fe.push(xe.now()+Se)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(Me),{_infiniteTimeWindow:Fe,_buffer:Qe}=this,xe=Qe.slice();for(let Se=0;Se<xe.length&&!Me.closed;Se+=Fe?1:2)Me.next(xe[Se]);return this._checkFinalizedStatuses(Me),ue}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:ue,_buffer:Fe,_infiniteTimeWindow:Qe}=this,xe=(Qe?1:2)*Me;if(Me<1/0&&xe<Fe.length&&Fe.splice(0,Fe.length-xe),!Qe){const Se=ue.now();let Ge=0;for(let Tt=1;Tt<Fe.length&&Fe[Tt]<=Se;Tt+=2)Ge=Tt;Ge&&Fe.splice(0,Ge+1)}}}var Ct=L(7647);function jt(ct,Me,ue){let Fe,Qe=!1;return ct&&"object"==typeof ct?({bufferSize:Fe=1/0,windowTime:Me=1/0,refCount:Qe=!1,scheduler:ue}=ct):Fe=ct??1/0,(0,Ct.u)({connector:()=>new bt(Fe,Me,ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qe})}var Mt=L(1594),cn=L(8071);function et(ct,Me){return(0,cn.T)(Me)?(0,me.n)(()=>ct,Me):(0,me.n)(()=>ct)}var We=L(6745),ot=L(5964),Ze=L(7935);const wt=new o.nKC("angularfire2.auth.use-emulator"),Ft=new o.nKC("angularfire2.auth.settings"),be=new o.nKC("angularfire2.auth.tenant-id"),Jt=new o.nKC("angularfire2.auth.langugage-code"),dn=new o.nKC("angularfire2.auth.use-device-language"),nr=new o.nKC("angularfire.auth.persistence"),Pt=(ct,Me,ue,Fe,Qe,xe,Se,Ge)=>(0,he.BM)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const Tt=Me.runOutsideAngular(()=>ct.auth());if(ue&&Tt.useEmulator(...ue),Fe&&(Tt.tenantId=Fe),Tt.languageCode=Qe,xe&&Tt.useDeviceLanguage(),Se)for(const[xt,hn]of Object.entries(Se))Tt.settings[xt]=hn;return Ge&&Tt.setPersistence(Ge),Tt},[ue,Fe,Qe,xe,Se,Ge]);let Bt=(()=>{class ct{authState;idToken;user;idTokenResult;credential;constructor(ue,Fe,Qe,xe,Se,Ge,Tt,xt,hn,on,Fn,In){const dr=new De.B,Gt=(0,Ne.of)(void 0).pipe((0,ce.Q)(Se.outsideAngular),(0,me.n)(()=>xe.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,at.T)(()=>(0,he.iB)(ue,xe,Fe)),(0,at.T)(wn=>Pt(wn,xe,Ge,xt,hn,on,Tt,Fn)),jt({bufferSize:1,refCount:!1}));if((0,ae.Vy)(Qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ne.of)(null);else{Gt.pipe((0,Mt.$)()).subscribe();const wn=Gt.pipe((0,me.n)(Vt=>Vt.getRedirectResult().then(jr=>jr,()=>null)),Ae.U0,jt({bufferSize:1,refCount:!1})),$n=Gt.pipe((0,me.n)(Vt=>new Le.c(jr=>({unsubscribe:xe.runOutsideAngular(()=>Vt.onAuthStateChanged(fn=>jr.next(fn),fn=>jr.error(fn),()=>jr.complete()))})))),Wt=Gt.pipe((0,me.n)(Vt=>new Le.c(jr=>({unsubscribe:xe.runOutsideAngular(()=>Vt.onIdTokenChanged(fn=>jr.next(fn),fn=>jr.error(fn),()=>jr.complete()))}))));this.authState=wn.pipe(et($n),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.user=wn.pipe(et(Wt),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.idToken=this.user.pipe((0,me.n)(Vt=>Vt?(0,Be.H)(Vt.getIdToken()):(0,Ne.of)(null))),this.idTokenResult=this.user.pipe((0,me.n)(Vt=>Vt?(0,Be.H)(Vt.getIdTokenResult()):(0,Ne.of)(null))),this.credential=(0,Z.h)(wn,dr,this.authState.pipe((0,ot.p)(Vt=>!Vt))).pipe((0,at.T)(Vt=>Vt?.user?Vt:null),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular))}return(0,he.Gt)(this,Gt,xe,{spy:{apply:(wn,$n,Wt)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&Wt.then(Vt=>dr.next(Vt))}}})}static \u0275fac=function(Fe){return new(Fe||ct)(o.KVO(he.rx),o.KVO(he.uP,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(Ae.u0),o.KVO(wt,8),o.KVO(Ft,8),o.KVO(be,8),o.KVO(Jt,8),o.KVO(dn,8),o.KVO(nr,8),o.KVO(Ae.Jv,8))};static \u0275prov=o.jDH({token:ct,factory:ct.\u0275fac,providedIn:"any"})}return ct})(),qt=(()=>{class ct{constructor(){Ze.A.registerVersion("angularfire",Ae.xv.full,"auth-compat")}static \u0275fac=function(Fe){return new(Fe||ct)};static \u0275mod=o.$C({type:ct});static \u0275inj=o.G2t({providers:[Bt]})}return ct})()},6340:(rn,Je,L)=>{L.d(Je,{Qe:()=>Ei,cM:()=>Ke});var a=L(177),ae=L(7705),o=L(5407),Ae=L(9253),he=L(1977),De=L(3236),Ne=L(1985),Le=L(8455),Be=L(7673),Z=L(9172),ce=L(9974),me=L(4360);function at(){return(0,ce.N)((mt,ie)=>{let Ie,ft=!1;mt.subscribe((0,me._)(ie,Kt=>{const Mn=Ie;Ie=Kt,ft&&ie.next([Mn,Kt]),ft=!0}))})}var Xe=L(6354),bt=L(2816),Ct=L(3294),jt=L(5964),cn=(L(2438),L(3345)),et=L(9583),We=L(1076),ot=L(1362);function wt(mt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new et.W6("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function Ft(){if(typeof Uint8Array>"u")throw new et.W6("unimplemented","Uint8Arrays are not available in this environment.")}function be(){if(!(0,et.qG)())throw new et.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Jt{constructor(ie){this._delegate=ie}static fromBase64String(ie){return be(),new Jt(et.Ix.fromBase64String(ie))}static fromUint8Array(ie){return Ft(),new Jt(et.Ix.fromUint8Array(ie))}toBase64(){return be(),this._delegate.toBase64()}toUint8Array(){return Ft(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dn(mt){return function nr(mt,ie){if("object"!=typeof mt||null===mt)return!1;const Ie=mt;for(const ft of ie)if(ft in Ie&&"function"==typeof Ie[ft])return!0;return!1}(mt,["next","error","complete"])}class Pt{enableIndexedDbPersistence(ie,Ie){return(0,et.ol)(ie._delegate,{forceOwnership:Ie})}enableMultiTabIndexedDbPersistence(ie){return(0,et.Q5)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,et.me)(ie._delegate)}}class Bt{constructor(ie,Ie,ft){this._delegate=Ie,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},ie instanceof et.cm||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ie=this._delegate._getSettings();!ie.merge&&Ie.host!==ie.host&&(0,et.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ie),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ie,ft={}){(0,et.vN)(this._delegate,ie,Ie,ft)}enableNetwork(){return(0,et.Os)(this._delegate)}disableNetwork(){return(0,et.LA)(this._delegate)}enablePersistence(ie){let Ie=!1,ft=!1;return ie&&(Ie=!!ie.synchronizeTabs,ft=!!ie.experimentalForceOwningTab,(0,et.c8)("synchronizeTabs",Ie,"experimentalForceOwningTab",ft)),Ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,et.iB)(this._delegate)}onSnapshotsInSync(ie){return(0,et.FC)(this._delegate,ie)}get app(){if(!this._appCompat)throw new et.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new In(this,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collection()","Firestore.collection()")}}doc(ie){try{return new Qe(this,(0,et.H9)(this._delegate,ie))}catch(Ie){throw xe(Ie,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new hn(this,(0,et.Cs)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,et.c4)(this._delegate,Ie=>ie(new Me(this,Ie)))}batch(){return(0,et.Ws)(this._delegate),new ue(new et.GA(this._delegate,ie=>(0,et.z6)(this._delegate,ie)))}loadBundle(ie){return(0,et.po)(this._delegate,ie)}namedQuery(ie){return(0,et.St)(this._delegate,ie).then(Ie=>Ie?new hn(this,Ie):null)}}class qt extends et.fS{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new Jt(new et.Ix(ie))}convertReference(ie){const Ie=this.convertDocumentKey(ie,this.firestore._databaseId);return Qe.forKey(Ie,this.firestore,null)}}class Me{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}get(ie){const Ie=dr(ie);return this._delegate.get(Ie).then(ft=>new Tt(this._firestore,new et.Wq(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,Ie.converter)))}set(ie,Ie,ft){const Kt=dr(ie);return ft?(wt("Transaction.set",ft),this._delegate.set(Kt,Ie,ft)):this._delegate.set(Kt,Ie),this}update(ie,Ie,ft,...Kt){const Mn=dr(ie);return 2===arguments.length?this._delegate.update(Mn,Ie):this._delegate.update(Mn,Ie,ft,...Kt),this}delete(ie){const Ie=dr(ie);return this._delegate.delete(Ie),this}}class ue{constructor(ie){this._delegate=ie}set(ie,Ie,ft){const Kt=dr(ie);return ft?(wt("WriteBatch.set",ft),this._delegate.set(Kt,Ie,ft)):this._delegate.set(Kt,Ie),this}update(ie,Ie,ft,...Kt){const Mn=dr(ie);return 2===arguments.length?this._delegate.update(Mn,Ie):this._delegate.update(Mn,Ie,ft,...Kt),this}delete(ie){const Ie=dr(ie);return this._delegate.delete(Ie),this}commit(){return this._delegate.commit()}}class Fe{constructor(ie,Ie,ft){this._firestore=ie,this._userDataWriter=Ie,this._delegate=ft}fromFirestore(ie,Ie){const ft=new et.YQ(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new xt(this._firestore,ft),Ie??{})}toFirestore(ie,Ie){return Ie?this._delegate.toFirestore(ie,Ie):this._delegate.toFirestore(ie)}static getInstance(ie,Ie){const ft=Fe.INSTANCES;let Kt=ft.get(ie);Kt||(Kt=new WeakMap,ft.set(ie,Kt));let Mn=Kt.get(Ie);return Mn||(Mn=new Fe(ie,new qt(ie),Ie),Kt.set(Ie,Mn)),Mn}}Fe.INSTANCES=new WeakMap;class Qe{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}static forPath(ie,Ie,ft){if(ie.length%2!=0)throw new et.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new Qe(Ie,new et.T1(Ie._delegate,ft,new et.K$(ie)))}static forKey(ie,Ie,ft){return new Qe(Ie,new et.T1(Ie._delegate,ft,ie))}get id(){return this._delegate.id}get parent(){return new In(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new In(this.firestore,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,We.Ku)(ie))instanceof et.T1&&(0,et.yx)(this._delegate,ie)}set(ie,Ie){Ie=wt("DocumentReference.set",Ie);try{return Ie?(0,et.BN)(this._delegate,ie,Ie):(0,et.BN)(this._delegate,ie)}catch(ft){throw xe(ft,"setDoc()","DocumentReference.set()")}}update(ie,Ie,...ft){try{return 1===arguments.length?(0,et.mZ)(this._delegate,ie):(0,et.mZ)(this._delegate,ie,Ie,...ft)}catch(Kt){throw xe(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,et.kd)(this._delegate)}onSnapshot(...ie){const Ie=Se(ie),ft=Ge(ie,Kt=>new Tt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,et.aQ)(this._delegate,Ie,ft)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.nY)(this._delegate):"server"===ie?.source?(0,et._e)(this._delegate):(0,et.x7)(this._delegate),Ie.then(ft=>new Tt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(ie){return new Qe(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}function xe(mt,ie,Ie){return mt.message=mt.message.replace(ie,Ie),mt}function Se(mt){for(const ie of mt)if("object"==typeof ie&&!dn(ie))return ie;return{}}function Ge(mt,ie){var Ie,ft;let Kt;return Kt=dn(mt[0])?mt[0]:dn(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:Mn=>{Kt.next&&Kt.next(ie(Mn))},error:null===(Ie=Kt.error)||void 0===Ie?void 0:Ie.bind(Kt),complete:null===(ft=Kt.complete)||void 0===ft?void 0:ft.bind(Kt)}}class Tt{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get ref(){return new Qe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ie){return this._delegate.get(ie,Ie)}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class xt extends Tt{data(ie){const Ie=this._delegate.data(ie);return this._delegate._converter||(0,et.bI)(void 0!==Ie,"Document in a QueryDocumentSnapshot should exist"),Ie}}class hn{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}where(ie,Ie,ft){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et._M)(ie,Ie,ft)))}catch(Kt){throw xe(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.My)(ie,Ie)))}catch(ft){throw xe(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.AB)(ie)))}catch(Ie){throw xe(Ie,"limit()","Query.limit()")}}limitToLast(ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.$1)(ie)))}catch(Ie){throw xe(Ie,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.EO)(...ie)))}catch(Ie){throw xe(Ie,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.HM)(...ie)))}catch(Ie){throw xe(Ie,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.rf)(...ie)))}catch(Ie){throw xe(Ie,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.FD)(...ie)))}catch(Ie){throw xe(Ie,"endAt()","Query.endAt()")}}isEqual(ie){return(0,et.B)(this._delegate,ie._delegate)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.kU)(this._delegate):"server"===ie?.source?(0,et.Rr)(this._delegate):(0,et.GG)(this._delegate),Ie.then(ft=>new Fn(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...ie){const Ie=Se(ie),ft=Ge(ie,Kt=>new Fn(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,et.aQ)(this._delegate,Ie,ft)}withConverter(ie){return new hn(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}class on{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get type(){return this._delegate.type}get doc(){return new xt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Fn{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get query(){return new hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new xt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ie=>new on(this._firestore,Ie))}forEach(ie,Ie){this._delegate.forEach(ft=>{ie.call(Ie,new xt(this._firestore,ft))})}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class In extends hn{constructor(ie,Ie){super(ie,Ie),this.firestore=ie,this._delegate=Ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new Qe(this.firestore,ie):null}doc(ie){try{return new Qe(this.firestore,void 0===ie?(0,et.H9)(this._delegate):(0,et.H9)(this._delegate,ie))}catch(Ie){throw xe(Ie,"doc()","CollectionReference.doc()")}}add(ie){return(0,et.gS)(this._delegate,ie).then(Ie=>new Qe(this.firestore,Ie))}isEqual(ie){return(0,et.yx)(this._delegate,ie._delegate)}withConverter(ie){return new In(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}function dr(mt){return(0,et.lo)(mt,et.T1)}class Gt{constructor(...ie){this._delegate=new et.uY(...ie)}static documentId(){return new Gt(et.FA.keyField().canonicalString())}isEqual(ie){return(ie=(0,We.Ku)(ie))instanceof et.uY&&this._delegate._internalPath.isEqual(ie._internalPath)}}class wn{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,et.O5)();return ie._methodName="FieldValue.serverTimestamp",new wn(ie)}static delete(){const ie=(0,et.CL)();return ie._methodName="FieldValue.delete",new wn(ie)}static arrayUnion(...ie){const Ie=(0,et.hq)(...ie);return Ie._methodName="FieldValue.arrayUnion",new wn(Ie)}static arrayRemove(...ie){const Ie=(0,et.C3)(...ie);return Ie._methodName="FieldValue.arrayRemove",new wn(Ie)}static increment(ie){const Ie=(0,et.GV)(ie);return Ie._methodName="FieldValue.increment",new wn(Ie)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const $n={Firestore:Bt,GeoPoint:et.Ci,Timestamp:et.Dc,Blob:Jt,Transaction:Me,WriteBatch:ue,DocumentReference:Qe,DocumentSnapshot:Tt,Query:hn,QueryDocumentSnapshot:xt,QuerySnapshot:Fn,CollectionReference:In,FieldPath:Gt,FieldValue:wn,setLogLevel:function ct(mt){(0,et.He)(mt)},CACHE_SIZE_UNLIMITED:et.H6};!function Vt(mt){(function Wt(mt,ie){mt.INTERNAL.registerComponent(new ot.uA("firestore-compat",Ie=>{const ft=Ie.getProvider("app-compat").getImmediate(),Kt=Ie.getProvider("firestore").getImmediate();return ie(ft,Kt)},"PUBLIC").setServiceProps(Object.assign({},$n)))})(mt,(ie,Ie)=>new Bt(ie,Ie,new Pt)),mt.registerVersion("@firebase/firestore-compat","0.3.32")}(cn.A);var jr=L(7935);function yr(mt,ie){return function fn(mt,ie=De.E){return new Ne.c(Ie=>{let ft;return null!=ie?ie.schedule(()=>{ft=mt.onSnapshot({includeMetadataChanges:!0},Ie)}):ft=mt.onSnapshot({includeMetadataChanges:!0},Ie),()=>{ft?.()}})}(mt,ie)}function Ut(mt,ie){return yr(mt,ie).pipe((0,Xe.T)(Ie=>({payload:Ie,type:"query"})))}class _n{ref;afs;constructor(ie,Ie){this.ref=ie,this.afs=Ie}set(ie,Ie){return this.ref.set(ie,Ie)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ie){const ft=this.ref.collection(ie),{ref:Kt,query:Mn}=Nn(ft,Ie);return new ni(Kt,Mn,this.afs)}snapshotChanges(){return function Wn(mt,ie){return yr(mt,ie).pipe((0,Z.Z)(void 0),at(),(0,Xe.T)(Ie=>{const[ft,Kt]=Ie;return Kt.exists?ft?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Xe.T)(({payload:Ie})=>ie.idField?{...Ie.data(),[ie.idField]:Ie.id}:Ie.data()))}get(ie){return(0,Le.H)(this.ref.get(ie)).pipe(o.U0)}}function Pn(mt,ie){return Ut(mt,ie).pipe((0,Z.Z)(void 0),at(),(0,Xe.T)(Ie=>{const[ft,Kt]=Ie,Mn=Kt.payload.docChanges(),wr=Mn.map(cr=>({type:cr.type,payload:cr}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((cr,Oe)=>{const ee=Mn.find(V=>V.doc.ref.isEqual(cr.ref)),H=ft?.payload.docs.find(V=>V.ref.isEqual(cr.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(cr.metadata)||!ee&&H&&JSON.stringify(H.metadata)===JSON.stringify(cr.metadata)||wr.push({type:"modified",payload:{oldIndex:Oe,newIndex:Oe,type:"modified",doc:cr}})}),wr}))}function Tn(mt,ie,Ie){return Pn(mt,Ie).pipe((0,bt.S)((ft,Kt)=>function hr(mt,ie,Ie){return ie.forEach(ft=>{Ie.indexOf(ft.type)>-1&&(mt=function ti(mt,ie){switch(ie.type){case"added":if(!mt[ie.newIndex]||!mt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return br(mt,ie.newIndex,0,ie);break;case"modified":if(null==mt[ie.oldIndex]||mt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ie=mt.slice();return Ie.splice(ie.oldIndex,1),Ie.splice(ie.newIndex,0,ie),Ie}return br(mt,ie.newIndex,1,ie)}break;case"removed":if(mt[ie.oldIndex]&&mt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return br(mt,ie.oldIndex,1)}return mt}(mt,ft))}),mt}(ft,Kt.map(Mn=>Mn.payload),ie),[]),(0,Ct.F)(),(0,Xe.T)(ft=>ft.map(Kt=>({type:Kt.type,payload:Kt}))))}function br(mt,ie,Ie,...ft){const Kt=mt.slice();return Kt.splice(ie,Ie,...ft),Kt}function Hn(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class ni{ref;query;afs;constructor(ie,Ie,ft){this.ref=ie,this.query=Ie,this.afs=ft}stateChanges(ie){let Ie=Pn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ie=Ie.pipe((0,Xe.T)(ft=>ft.filter(Kt=>ie.indexOf(Kt.type)>-1)))),Ie.pipe((0,Z.Z)(void 0),at(),(0,jt.p)(([ft,Kt])=>Kt.length>0||!ft),(0,Xe.T)(([,ft])=>ft),o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,bt.S)((Ie,ft)=>[...Ie,...ft],[]))}snapshotChanges(ie){const Ie=Hn(ie);return Tn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(Ie=>Ie.payload.docs.map(ft=>ie.idField?{...ft.data(),[ie.idField]:ft.id}:ft.data())),o.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(o.U0)}add(ie){return this.ref.add(ie)}doc(ie){return new _n(this.ref.doc(ie),this.afs)}}class Ki{query;afs;constructor(ie,Ie){this.query=ie,this.afs=Ie}stateChanges(ie){return ie&&0!==ie.length?Pn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(Ie=>Ie.filter(ft=>ie.indexOf(ft.type)>-1)),(0,jt.p)(Ie=>Ie.length>0),o.U0):Pn(this.query,this.afs.schedulers.outsideAngular).pipe(o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,bt.S)((Ie,ft)=>[...Ie,...ft],[]))}snapshotChanges(ie){const Ie=Hn(ie);return Tn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(ft=>ft.payload.docs.map(Kt=>ie.idField?{[ie.idField]:Kt.id,...Kt.data()}:Kt.data())),o.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(o.U0)}}const ln=new ae.nKC("angularfire2.enableFirestorePersistence"),ri=new ae.nKC("angularfire2.firestore.persistenceSettings"),Yn=new ae.nKC("angularfire2.firestore.settings"),gr=new ae.nKC("angularfire2.firestore.use-emulator");function Nn(mt,ie=(Ie=>Ie)){return{query:ie(mt),ref:mt}}let Ei=(()=>{class mt{schedulers;firestore;persistenceEnabled$;constructor(Ie,ft,Kt,Mn,wr,cr,Oe,ee,H,V,F,le,je,It,Ot,pn,tn){this.schedulers=Oe;const un=(0,Ae.iB)(Ie,cr,ft),rr=H;V&&(0,he.gF)(un,cr,F,je,It,Ot,le,pn),[this.firestore,this.persistenceEnabled$]=(0,Ae.BM)(`${un.name}.firestore`,"AngularFirestore",un.name,()=>{const An=cr.runOutsideAngular(()=>un.firestore());if(Mn&&An.settings(Mn),rr&&An.useEmulator(...rr),Kt&&!(0,a.Vy)(wr)){const hi=()=>{try{return(0,Le.H)(An.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Er){return typeof console<"u"&&console.warn(Er),(0,Be.of)(!1)}};return[An,cr.runOutsideAngular(hi)]}return[An,(0,Be.of)(!1)]},[Mn,rr,Kt])}collection(Ie,ft){let Kt;Kt="string"==typeof Ie?this.firestore.collection(Ie):Ie;const{ref:Mn,query:wr}=Nn(Kt,ft),cr=this.schedulers.ngZone.run(()=>Mn);return new ni(cr,wr,this)}collectionGroup(Ie,ft){const Kt=ft||(wr=>wr),Mn=this.firestore.collectionGroup(Ie);return new Ki(Kt(Mn),this)}doc(Ie){let ft;ft="string"==typeof Ie?this.firestore.doc(Ie):Ie;const Kt=this.schedulers.ngZone.run(()=>ft);return new _n(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||mt)(ae.KVO(Ae.rx),ae.KVO(Ae.uP,8),ae.KVO(ln,8),ae.KVO(Yn,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO(ri,8),ae.KVO(gr,8),ae.KVO(he.DS,8),ae.KVO(he.CP,8),ae.KVO(he.yy,8),ae.KVO(he.ZP,8),ae.KVO(he.$z,8),ae.KVO(he.AU,8),ae.KVO(he.UB,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),Ke=(()=>{class mt{constructor(){jr.A.registerVersion("angularfire",o.xv.full,"fst-compat")}static enablePersistence(Ie){return{ngModule:mt,providers:[{provide:ln,useValue:!0},{provide:ri,useValue:Ie}]}}static \u0275fac=function(ft){return new(ft||mt)};static \u0275mod=ae.$C({type:mt});static \u0275inj=ae.G2t({providers:[Ei]})}return mt})()},8721:(rn,Je,L)=>{L.d(Je,{ap:()=>Me,y5:()=>Qe});var a=L(5407),ae=L(1985),o=L(7673),Ae=L(8455),he=L(3236),De=L(9974),Ne=L(4360),Be=L(6354),Z=L(5558),ce=L(7705),me=L(9253),at=L(3345),Xe=L(4535),bt=L(1362);class Ct{constructor(Se,Ge,Tt){this._delegate=Se,this.task=Ge,this.ref=Tt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(Se,Ge){this._delegate=Se,this._ref=Ge,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ct(this._delegate.snapshot,this,this._ref)}then(Se,Ge){return this._delegate.then(Tt=>{if(Se)return Se(new Ct(Tt,this,this._ref))},Ge)}on(Se,Ge,Tt,xt){let hn;return Ge&&(hn="function"==typeof Ge?on=>Ge(new Ct(on,this,this._ref)):{next:Ge.next?on=>Ge.next(new Ct(on,this,this._ref)):void 0,complete:Ge.complete||void 0,error:Ge.error||void 0}),this._delegate.on(Se,hn,Tt||void 0,xt||void 0)}}class Mt{constructor(Se,Ge){this._delegate=Se,this._service=Ge}get prefixes(){return this._delegate.prefixes.map(Se=>new cn(Se,this._service))}get items(){return this._delegate.items.map(Se=>new cn(Se,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cn{constructor(Se,Ge){this._delegate=Se,this.storage=Ge}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Se){const Ge=(0,Xe.Mp)(this._delegate,Se);return new cn(Ge,this.storage)}get root(){return new cn(this._delegate.root,this.storage)}get parent(){const Se=this._delegate.parent;return null==Se?null:new cn(Se,this.storage)}put(Se,Ge){return this._throwIfRoot("put"),new jt((0,Xe.bp)(this._delegate,Se,Ge),this)}putString(Se,Ge=Xe.nw.RAW,Tt){this._throwIfRoot("putString");const xt=(0,Xe.ZH)(Ge,Se),hn=Object.assign({},Tt);return null==hn.contentType&&null!=xt.contentType&&(hn.contentType=xt.contentType),new jt(new Xe.UC(this._delegate,new Xe.Mx(xt.data,!0),hn),this)}listAll(){return(0,Xe._w)(this._delegate).then(Se=>new Mt(Se,this.storage))}list(Se){return(0,Xe.p_)(this._delegate,Se||void 0).then(Ge=>new Mt(Ge,this.storage))}getMetadata(){return(0,Xe.yb)(this._delegate)}updateMetadata(Se){return(0,Xe.D5)(this._delegate,Se)}getDownloadURL(){return(0,Xe.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Xe.XR)(this._delegate)}_throwIfRoot(Se){if(""===this._delegate._location.path)throw(0,Xe.UY)(Se)}}class et{constructor(Se,Ge){this.app=Se,this._delegate=Ge}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Se){if(We(Se))throw(0,Xe.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new cn((0,Xe.KR)(this._delegate,Se),this)}refFromURL(Se){if(!We(Se))throw(0,Xe.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xe.TZ.makeFromUrl(Se,this._delegate.host)}catch{throw(0,Xe.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new cn((0,Xe.KR)(this._delegate,Se),this)}setMaxUploadRetryTime(Se){this._delegate.maxUploadRetryTime=Se}setMaxOperationRetryTime(Se){this._delegate.maxOperationRetryTime=Se}useEmulator(Se,Ge,Tt={}){(0,Xe.nb)(this._delegate,Se,Ge,Tt)}}function We(xe){return/^[A-Za-z]+:\/\//.test(xe)}function wt(xe,{instanceIdentifier:Se}){const Ge=xe.getProvider("app-compat").getImmediate(),Tt=xe.getProvider("storage").getImmediate({identifier:Se});return new et(Ge,Tt)}!function Ft(xe){const Se={TaskState:Xe.Ad,TaskEvent:Xe.xc,StringFormat:Xe.nw,Storage:et,Reference:cn};xe.INTERNAL.registerComponent(new bt.uA("storage-compat",wt,"PUBLIC").setServiceProps(Se).setMultipleInstances(!0)),xe.registerVersion("@firebase/storage-compat","0.3.8")}(at.A);var be=L(7935);function dn(xe){const Se=function Jt(xe){return new ae.c(Se=>{const Ge=on=>Se.next(on);Ge(xe.snapshot);const hn=xe.on("state_changed",Ge);return xe.then(on=>{Ge(on),Se.complete()},on=>{Ge(xe.snapshot),(on=>{Se.error(on)})(on)}),function(){hn()}}).pipe(function Le(xe,Se=he.E){return(0,De.N)((Ge,Tt)=>{let xt=null,hn=null,on=null;const Fn=()=>{if(xt){xt.unsubscribe(),xt=null;const dr=hn;hn=null,Tt.next(dr)}};function In(){const dr=on+xe,Gt=Se.now();if(Gt<dr)return xt=this.schedule(void 0,dr-Gt),void Tt.add(xt);Fn()}Ge.subscribe((0,Ne._)(Tt,dr=>{hn=dr,on=Se.now(),xt||(xt=Se.schedule(In,xe),Tt.add(xt))},()=>{Fn(),Tt.complete()},void 0,()=>{hn=xt=null}))})}(0))}(xe);return{task:xe,then:xe.then.bind(xe),catch:xe.catch.bind(xe),pause:xe.pause.bind(xe),cancel:xe.cancel.bind(xe),resume:xe.resume.bind(xe),snapshotChanges:()=>Se,percentageChanges:()=>Se.pipe((0,Be.T)(Ge=>Ge.bytesTransferred/Ge.totalBytes*100))}}function nr(xe){return{getDownloadURL:()=>(0,o.of)(void 0).pipe(a.Oe,(0,Z.n)(()=>xe.getDownloadURL()),a.U0),getMetadata:()=>(0,o.of)(void 0).pipe(a.Oe,(0,Z.n)(()=>xe.getMetadata()),a.U0),delete:()=>(0,Ae.H)(xe.delete()),child:Se=>nr(xe.child(Se)),updateMetadata:Se=>(0,Ae.H)(xe.updateMetadata(Se)),put:(Se,Ge)=>dn(xe.put(Se,Ge)),putString:(Se,Ge,Tt)=>dn(xe.putString(Se,Ge,Tt)),list:Se=>(0,Ae.H)(xe.list(Se)),listAll:()=>(0,Ae.H)(xe.listAll())}}const Pt=new ce.nKC("angularfire2.storageBucket"),Bt=new ce.nKC("angularfire2.storage.maxUploadRetryTime"),qt=new ce.nKC("angularfire2.storage.maxOperationRetryTime"),ct=new ce.nKC("angularfire2.storage.use-emulator");let Me=(()=>{class xe{storage;constructor(Ge,Tt,xt,hn,on,Fn,In,dr,Gt,wn){const $n=(0,me.iB)(Ge,on,Tt);this.storage=(0,me.BM)(`${$n.name}.storage.${xt}`,"AngularFireStorage",$n.name,()=>{const Wt=on.runOutsideAngular(()=>$n.storage(xt||void 0)),Vt=Gt;return Vt&&Wt.useEmulator(...Vt),In&&Wt.setMaxUploadRetryTime(In),dr&&Wt.setMaxOperationRetryTime(dr),Wt},[In,dr])}ref(Ge){return nr(this.storage.ref(Ge))}refFromURL(Ge){return nr(this.storage.refFromURL(Ge))}upload(Ge,Tt,xt){return nr(this.storage.ref(Ge)).put(Tt,xt)}static \u0275fac=function(Tt){return new(Tt||xe)(ce.KVO(me.rx),ce.KVO(me.uP,8),ce.KVO(Pt,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(a.u0),ce.KVO(Bt,8),ce.KVO(qt,8),ce.KVO(ct,8),ce.KVO(a.Jv,8))};static \u0275prov=ce.jDH({token:xe,factory:xe.\u0275fac,providedIn:"any"})}return xe})(),Fe=(()=>{class xe{static \u0275fac=function(Tt){return new(Tt||xe)};static \u0275mod=ce.$C({type:xe});static \u0275inj=ce.G2t({})}return xe})(),Qe=(()=>{class xe{constructor(){be.A.registerVersion("angularfire",a.xv.full,"gcs-compat")}static \u0275fac=function(Tt){return new(Tt||xe)};static \u0275mod=ce.$C({type:xe});static \u0275inj=ce.G2t({providers:[Me],imports:[Fe]})}return xe})()},9253:(rn,Je,L)=>{L.d(Je,{BM:()=>Xe,Gt:()=>he,bf:()=>at,e7:()=>De,iB:()=>Z,rx:()=>Le,uP:()=>Be});var a=L(7705),ae=L(5407),o=L(7935);const Ae=["ngOnDestroy"],he=(Mt,cn,et,We={})=>new Proxy(Mt,{get:(ot,Ze)=>et.runOutsideAngular(()=>{if(Mt[Ze])return We?.spy?.get&&We.spy.get(Ze,Mt[Ze]),Mt[Ze];if(Ae.indexOf(Ze)>-1)return()=>{};const rt=cn.toPromise().then(wt=>{const Ft=wt?.[Ze];return"function"==typeof Ft?Ft.bind(wt):Ft?.then?Ft.then(be=>et.run(()=>be)):et.run(()=>Ft)});return new Proxy(()=>{},{get:(wt,Ft)=>rt[Ft],apply:(wt,Ft,be)=>rt.then(Jt=>{const dn=Jt?.(...be);return We?.spy?.apply&&We.spy.apply(Ze,be,dn),dn})})})}),De=(Mt,cn)=>{cn.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(We=>{Object.defineProperty(Mt.prototype,We,Object.getOwnPropertyDescriptor(et.prototype||et,We))})})};class Ne{constructor(cn){return cn}}const Le=new a.nKC("angularfire2.app.options"),Be=new a.nKC("angularfire2.app.name");function Z(Mt,cn,et){const ot="object"==typeof et&&et||{};ot.name=ot.name||"string"==typeof et&&et||"[DEFAULT]";const rt=o.A.apps.filter(wt=>wt&&wt.name===ot.name)[0]||cn.runOutsideAngular(()=>o.A.initializeApp(Mt,ot));try{if(JSON.stringify(Mt)!==JSON.stringify(rt.options)){const wt=!!module.hot;ce("error",`${rt.name} Firebase App already initialized with different options${wt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ne(rt)}const ce=(Mt,...cn)=>{(0,a.naY)()&&typeof console<"u"&&console[Mt](...cn)},me={provide:Ne,useFactory:Z,deps:[Le,a.SKi,[new a.Xx1,Be]]};let at=(()=>{class Mt{static initializeApp(et,We){return{ngModule:Mt,providers:[{provide:Le,useValue:et},{provide:Be,useValue:We}]}}constructor(et){o.A.registerVersion("angularfire",ae.xv.full,"core"),o.A.registerVersion("angularfire",ae.xv.full,"app-compat"),o.A.registerVersion("angular",a.xvI.full,et.toString())}static \u0275fac=function(We){return new(We||Mt)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:Mt});static \u0275inj=a.G2t({providers:[me]})}return Mt})();function Xe(Mt,cn,et,We,ot){const[,Ze,rt]=globalThis.\u0275AngularfireInstanceCache.find(wt=>wt[0]===Mt)||[];if(Ze)return function bt(Mt,cn){try{return Mt.toString()===cn.toString()}catch{return Mt===cn}}(ot,rt)||(jt("error",`${cn} was already initialized on the ${et} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:ot,was:rt})),Ze;{const wt=We();return globalThis.\u0275AngularfireInstanceCache.push([Mt,wt,ot]),wt}}const Ct=typeof module<"u"&&!!module.hot,jt=(Mt,...cn)=>{(0,a.naY)()&&typeof console<"u"&&console[Mt](...cn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(rn,Je,L)=>{L.d(Je,{xv:()=>Xe,U0:()=>dn,Oe:()=>be,u0:()=>Ze,Jv:()=>Mt,CA:()=>jt,lR:()=>Ct,S3:()=>Bt});var a=L(7705),ae=L(2214),o=L(6780),he=L(9687);const Ne=new class De extends he.q{}(class Ae extends o.R{constructor(ct,Me){super(ct,Me),this.scheduler=ct,this.work=Me}schedule(ct,Me=0){return Me>0?super.schedule(ct,Me):(this.delay=Me,this.state=ct,this.scheduler.flush(this),this)}execute(ct,Me){return Me>0||this.closed?super.execute(ct,Me):this._execute(ct,Me)}requestAsyncId(ct,Me,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(ct,Me,ue):(ct.flush(this),0)}});var Be=L(3236),Z=L(1985),ce=L(8141),me=L(941),at=L(6745);const Xe=new a.RxE("ANGULARFIRE2_VERSION");function Ct(qt,ct,Me){if(ct){if(1===ct.length)return ct[0];const Qe=ct.filter(xe=>xe.app===Me);if(1===Qe.length)return Qe[0]}return Me.container.getProvider(qt).getImmediate({optional:!0})}const jt=(qt,ct)=>{const Me=ct?[ct]:(0,ae.Dk)(),ue=[];return Me.forEach(Fe=>{Fe.container.getProvider(qt).instances.forEach(xe=>{ue.includes(xe)||ue.push(xe)})}),ue};class Mt{constructor(){return jt(cn)}}const cn="app-check";function et(){}class We{zone;delegate;constructor(ct,Me=Ne){this.zone=ct,this.delegate=Me}now(){return this.delegate.now()}schedule(ct,Me,ue){const Fe=this.zone;return this.delegate.schedule(function(xe){Fe.runGuarded(()=>{ct.apply(this,[xe])})},Me,ue)}}class ot{zone;task=null;constructor(ct){this.zone=ct}call(ct,Me){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),Me.pipe((0,ce.M)({next:ue,complete:ue,error:ue})).subscribe(ct).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class qt{ngZone;outsideAngular;insideAngular;constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new We(Zone.current)),this.insideAngular=Me.run(()=>new We(Zone.current,Be.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ue){return new(ue||qt)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})();function rt(){const qt=globalThis.\u0275AngularFireScheduler;if(!qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qt}function Ft(qt){return rt().ngZone.run(()=>qt())}function be(qt){return qt.pipe((0,me.Q)(rt().outsideAngular))}function dn(qt){return function nr(qt){return function(Me){return(Me=Me.lift(new ot(qt.ngZone))).pipe((0,at._)(qt.outsideAngular),(0,me.Q)(qt.insideAngular))}}(rt())(qt)}const Pt=(qt,ct)=>function(){const ue=arguments;return ct&&setTimeout(()=>{"scheduled"===ct.state&&ct.invoke()},10),Ft(()=>qt.apply(void 0,ue))},Bt=(qt,ct)=>function(){let Me;const ue=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof ue[Qe]&&(ct&&(Me||=Ft(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et))),ue[Qe]=Pt(ue[Qe],Me));const Fe=function wt(qt){return rt().ngZone.runOutsideAngular(()=>qt())}(()=>qt.apply(this,ue));if(!ct){if(Fe instanceof Z.c){const Qe=rt();return Fe.pipe((0,at._)(Qe.outsideAngular),(0,me.Q)(Qe.insideAngular))}return Ft(()=>Fe)}return Fe instanceof Z.c?Fe.pipe(dn):Fe instanceof Promise?Ft(()=>new Promise((Qe,xe)=>Fe.then(Se=>Ft(()=>Qe(Se)),Se=>Ft(()=>xe(Se))))):"function"==typeof Fe&&Me?function(){return setTimeout(()=>{Me&&"scheduled"===Me.state&&Me.invoke()},10),Fe.apply(this,arguments)}:Ft(()=>Fe)}},4341:(rn,Je,L)=>{L.d(Je,{Zm:()=>jt,me:()=>We,v8:()=>ro,ok:()=>Ps,JD:()=>Hr,j4:()=>Zt,$R:()=>lr,YN:()=>ia,BC:()=>Pn,cb:()=>Tn,cV:()=>Gi,vS:()=>Yo,xH:()=>vi,Q0:()=>ns,Fm:()=>$r,X1:()=>Aa,YS:()=>oi,wz:()=>To,k0:()=>be,qT:()=>Es,y7:()=>yt});var a=L(7705),ae=L(177),o=L(8455),Ae=L(1985),he=L(3073),De=L(8750),Ne=L(3794),Le=L(4360),Be=L(6450),Z=L(8496),me=L(6354);let at=(()=>{class G{constructor(O,oe){this._renderer=O,this._elementRef=oe,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(O,oe){this._renderer.setProperty(this._elementRef.nativeElement,O,oe)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:G})}return G})(),Xe=(()=>{class G extends at{static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,features:[a.Vt3]})}return G})();const bt=new a.nKC("NgValueAccessor"),Ct={provide:bt,useExisting:(0,a.Rfq)(()=>jt),multi:!0};let jt=(()=>{class G extends Xe{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Gn){return Ve.onChange(Gn.target.checked)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([Ct]),a.Vt3]})}return G})();const Mt={provide:bt,useExisting:(0,a.Rfq)(()=>We),multi:!0},et=new a.nKC("CompositionEventMode");let We=(()=>{class G extends at{constructor(O,oe,Ve){super(O,oe),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cn(){const G=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(et,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("input",function(Gn){return Ve._handleInput(Gn.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(Gn){return Ve._compositionEnd(Gn.target.value)})},features:[a.Jv_([Mt]),a.Vt3]})}return G})();function ot(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ze(G){return null!=G&&"number"==typeof G.length}const rt=new a.nKC("NgValidators"),wt=new a.nKC("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(Y){return function Jt(G){return Y=>{if(ot(Y.value)||ot(G))return null;const O=parseFloat(Y.value);return!isNaN(O)&&O<G?{min:{min:G,actual:Y.value}}:null}}(Y)}static max(Y){return function dn(G){return Y=>{if(ot(Y.value)||ot(G))return null;const O=parseFloat(Y.value);return!isNaN(O)&&O>G?{max:{max:G,actual:Y.value}}:null}}(Y)}static required(Y){return nr(Y)}static requiredTrue(Y){return function Pt(G){return!0===G.value?null:{required:!0}}(Y)}static email(Y){return function Bt(G){return ot(G.value)||Ft.test(G.value)?null:{email:!0}}(Y)}static minLength(Y){return function qt(G){return Y=>ot(Y.value)||!Ze(Y.value)?null:Y.value.length<G?{minlength:{requiredLength:G,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function ct(G){return Y=>Ze(Y.value)&&Y.value.length>G?{maxlength:{requiredLength:G,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function Me(G){if(!G)return ue;let Y,O;return"string"==typeof G?(O="","^"!==G.charAt(0)&&(O+="^"),O+=G,"$"!==G.charAt(G.length-1)&&(O+="$"),Y=new RegExp(O)):(O=G.toString(),Y=G),oe=>{if(ot(oe.value))return null;const Ve=oe.value;return Y.test(Ve)?null:{pattern:{requiredPattern:O,actualValue:Ve}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return xt(Y)}static composeAsync(Y){return on(Y)}}function nr(G){return ot(G.value)?{required:!0}:null}function ue(G){return null}function Fe(G){return null!=G}function Qe(G){return(0,a.jNT)(G)?(0,o.H)(G):G}function xe(G){let Y={};return G.forEach(O=>{Y=null!=O?{...Y,...O}:Y}),0===Object.keys(Y).length?null:Y}function Se(G,Y){return Y.map(O=>O(G))}function Tt(G){return G.map(Y=>function Ge(G){return!G.validate}(Y)?Y:O=>Y.validate(O))}function xt(G){if(!G)return null;const Y=G.filter(Fe);return 0==Y.length?null:function(O){return xe(Se(O,Y))}}function hn(G){return null!=G?xt(Tt(G)):null}function on(G){if(!G)return null;const Y=G.filter(Fe);return 0==Y.length?null:function(O){return function ce(...G){const Y=(0,Ne.ms)(G),{args:O,keys:oe}=(0,he.D)(G),Ve=new Ae.c(yn=>{const{length:Gn}=O;if(!Gn)return void yn.complete();const io=new Array(Gn);let po=Gn,oo=Gn;for(let is=0;is<Gn;is++){let jo=!1;(0,De.Tg)(O[is]).subscribe((0,Le._)(yn,Bo=>{jo||(jo=!0,oo--),io[is]=Bo},()=>po--,void 0,()=>{(!po||!jo)&&(oo||yn.next(oe?(0,Z.e)(oe,io):io),yn.complete())}))}});return Y?Ve.pipe((0,Be.I)(Y)):Ve}(Se(O,Y).map(Qe)).pipe((0,me.T)(xe))}}function Fn(G){return null!=G?on(Tt(G)):null}function In(G,Y){return null===G?[Y]:Array.isArray(G)?[...G,Y]:[G,Y]}function dr(G){return G._rawValidators}function Gt(G){return G._rawAsyncValidators}function wn(G){return G?Array.isArray(G)?G:[G]:[]}function $n(G,Y){return Array.isArray(G)?G.includes(Y):G===Y}function Wt(G,Y){const O=wn(Y);return wn(G).forEach(Ve=>{$n(O,Ve)||O.push(Ve)}),O}function Vt(G,Y){return wn(Y).filter(O=>!$n(G,O))}class jr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y=void 0){this.control&&this.control.reset(Y)}hasError(Y,O){return!!this.control&&this.control.hasError(Y,O)}getError(Y,O){return this.control?this.control.getError(Y,O):null}}class fn extends jr{get formDirective(){return null}get path(){return null}}class yr extends jr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class G extends Wn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(yr,2))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ve){2&oe&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[a.Vt3]})}return G})(),Tn=(()=>{class G extends Wn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ve){2&oe&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[a.Vt3]})}return G})();const Kt="VALID",Mn="INVALID",wr="PENDING",cr="DISABLED";function Oe(G){return(F(G)?G.validators:G)||null}function H(G,Y){return(F(Y)?Y.asyncValidators:G)||null}function F(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function le(G,Y,O){const oe=G.controls;if(!(Y?Object.keys(oe):oe).length)throw new a.wOt(1e3,"");if(!oe[O])throw new a.wOt(1001,"")}function je(G,Y,O){G._forEachChild((oe,Ve)=>{if(void 0===O[Ve])throw new a.wOt(1002,"")})}class It{constructor(Y,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Y),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===Mn}get pending(){return this.status==wr}get disabled(){return this.status===cr}get enabled(){return this.status!==cr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._assignValidators(Y)}setAsyncValidators(Y){this._assignAsyncValidators(Y)}addValidators(Y){this.setValidators(Wt(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Wt(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(Vt(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(Vt(Y,this._rawAsyncValidators))}hasValidator(Y){return $n(this._rawValidators,Y)}hasAsyncValidator(Y){return $n(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=wr,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const O=this._parentMarkedDirty(Y.onlySelf);this.status=cr,this.errors=null,this._forEachChild(oe=>{oe.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(Y={}){const O=this._parentMarkedDirty(Y.onlySelf);this.status=Kt,this._forEachChild(oe=>{oe.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===wr)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const O=Qe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,O={}){this.errors=Y,this._updateControlsErrors(!1!==O.emitEvent)}get(Y){let O=Y;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((oe,Ve)=>oe&&oe._find(Ve),this)}getError(Y,O){const oe=O?this.get(O):this;return oe&&oe.errors?oe.errors[Y]:null}hasError(Y,O){return!!this.getError(Y,O)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?cr:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(Mn)?Mn:Kt}_anyControlsHaveStatus(Y){return this._anyControls(O=>O.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){F(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}_assignValidators(Y){this._rawValidators=Array.isArray(Y)?Y.slice():Y,this._composedValidatorFn=function ee(G){return Array.isArray(G)?hn(G):G||null}(this._rawValidators)}_assignAsyncValidators(Y){this._rawAsyncValidators=Array.isArray(Y)?Y.slice():Y,this._composedAsyncValidatorFn=function V(G){return Array.isArray(G)?Fn(G):G||null}(this._rawAsyncValidators)}}class Ot extends It{constructor(Y,O,oe){super(Oe(O),H(oe,O)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,O){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(Y,O,oe={}){this.registerControl(Y,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Y,O={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(Y,O,oe={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],O&&this.registerControl(Y,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,O={}){je(this,0,Y),Object.keys(Y).forEach(oe=>{le(this,!0,oe),this.controls[oe].setValue(Y[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(Y,O={}){null!=Y&&(Object.keys(Y).forEach(oe=>{const Ve=this.controls[oe];Ve&&Ve.patchValue(Y[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(Y={},O={}){this._forEachChild((oe,Ve)=>{oe.reset(Y?Y[Ve]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(Y,O,oe)=>(Y[oe]=O.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(O,oe)=>!!oe._syncPendingControls()||O);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(O=>{const oe=this.controls[O];oe&&Y(oe,O)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[O,oe]of Object.entries(this.controls))if(this.contains(O)&&Y(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,oe,Ve)=>((oe.enabled||this.disabled)&&(O[Ve]=oe.value),O))}_reduceChildren(Y,O){let oe=Y;return this._forEachChild((Ve,yn)=>{oe=O(oe,Ve,yn)}),oe}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class un extends Ot{}const An=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>hi}),hi="always";function Er(G,Y){return[...Y.path,G]}function Oo(G,Y,O=hi){Lt(G,Y),Y.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&Y.valueAccessor.setDisabledState?.(G.disabled),function Te(G,Y){Y.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Et(G,Y)})}(G,Y),function en(G,Y){const O=(oe,Ve)=>{Y.valueAccessor.writeValue(oe),Ve&&Y.viewToModelUpdate(oe)};G.registerOnChange(O),Y._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,Y),function pe(G,Y){Y.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Et(G,Y),"submit"!==G.updateOn&&G.markAsTouched()})}(G,Y),function Pe(G,Y){if(Y.valueAccessor.setDisabledState){const O=oe=>{Y.valueAccessor.setDisabledState(oe)};G.registerOnDisabledChange(O),Y._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,Y)}function ii(G,Y,O=!0){const oe=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(oe),Y.valueAccessor.registerOnTouched(oe)),Ce(G,Y),G&&(Y._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Li(G,Y){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(Y)})}function Lt(G,Y){const O=dr(G);null!==Y.validator?G.setValidators(In(O,Y.validator)):"function"==typeof O&&G.setValidators([O]);const oe=Gt(G);null!==Y.asyncValidator?G.setAsyncValidators(In(oe,Y.asyncValidator)):"function"==typeof oe&&G.setAsyncValidators([oe]);const Ve=()=>G.updateValueAndValidity();Li(Y._rawValidators,Ve),Li(Y._rawAsyncValidators,Ve)}function Ce(G,Y){let O=!1;if(null!==G){if(null!==Y.validator){const Ve=dr(G);if(Array.isArray(Ve)&&Ve.length>0){const yn=Ve.filter(Gn=>Gn!==Y.validator);yn.length!==Ve.length&&(O=!0,G.setValidators(yn))}}if(null!==Y.asyncValidator){const Ve=Gt(G);if(Array.isArray(Ve)&&Ve.length>0){const yn=Ve.filter(Gn=>Gn!==Y.asyncValidator);yn.length!==Ve.length&&(O=!0,G.setAsyncValidators(yn))}}}const oe=()=>{};return Li(Y._rawValidators,oe),Li(Y._rawAsyncValidators,oe),O}function Et(G,Y){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Dn(G,Y){Lt(G,Y)}function Rr(G,Y){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(Y,O.currentValue)}function Fi(G,Y){G._syncPendingControls(),Y.forEach(O=>{const oe=O.control;"submit"===oe.updateOn&&oe._pendingChange&&(O.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function ys(G,Y){if(!Y)return null;let O,oe,Ve;return Array.isArray(Y),Y.forEach(yn=>{yn.constructor===We?O=yn:function vs(G){return Object.getPrototypeOf(G.constructor)===Xe}(yn)?oe=yn:Ve=yn}),Ve||oe||O||null}const No={provide:fn,useExisting:(0,a.Rfq)(()=>Gi)},Pi=(()=>Promise.resolve())();let Gi=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new Ot({},hn(O),Fn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Pi.then(()=>{const oe=this._findContainer(O.path);O.control=oe.registerControl(O.name,O.control),Oo(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Pi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Pi.then(()=>{const oe=this._findContainer(O.path),Ve=new Ot({});Dn(Ve,O),oe.registerControl(O.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Pi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,oe){Pi.then(()=>{this.form.get(O.path).setValue(oe)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,Fi(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(rt,10),a.rXU(wt,10),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("submit",function(Gn){return Ve.onSubmit(Gn)})("reset",function(){return Ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([No]),a.Vt3]})}return G})();function mr(G,Y){const O=G.indexOf(Y);O>-1&&G.splice(O,1)}function cs(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Br=class extends It{constructor(Y=null,O,oe){super(Oe(O),H(oe,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=cs(Y)?Y.value:Y)}setValue(Y,O={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(Y,O={}){this.setValue(Y,O)}reset(Y=this.defaultValue,O={}){this._applyFormState(Y),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){mr(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){mr(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){cs(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}};let co=(()=>{class G extends fn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Er(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,features:[a.Vt3]})}return G})();const ui={provide:yr,useExisting:(0,a.Rfq)(()=>Yo)},bo=(()=>Promise.resolve())();let Yo=(()=>{class G extends yr{constructor(O,oe,Ve,yn,Gn,io){super(),this._changeDetectorRef=Gn,this.callSetDisabledState=io,this.control=new Br,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve),this.valueAccessor=ys(0,yn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const oe=O.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Rr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){bo.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const oe=O.isDisabled.currentValue,Ve=0!==oe&&(0,a.L39)(oe);bo.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?Er(O,this._parent):[O]}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,9),a.rXU(rt,10),a.rXU(wt,10),a.rXU(bt,10),a.rXU(a.gRc,8),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([ui]),a.Vt3,a.OA$]})}return G})(),Es=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();const lo={provide:bt,useExisting:(0,a.Rfq)(()=>ns),multi:!0};let ns=(()=>{class G extends Xe{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=oe=>{O(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("input",function(Gn){return Ve.onChange(Gn.target.value)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([lo]),a.Vt3]})}return G})();const Qn={provide:bt,useExisting:(0,a.Rfq)(()=>$r),multi:!0};let Ti=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({})}return G})(),uo=(()=>{class G{constructor(){this._accessors=[]}add(O,oe){this._accessors.push([O,oe])}remove(O){for(let oe=this._accessors.length-1;oe>=0;--oe)if(this._accessors[oe][1]===O)return void this._accessors.splice(oe,1)}select(O){this._accessors.forEach(oe=>{this._isSameGroup(oe,O)&&oe[1]!==O&&oe[1].fireUncheck(O.value)})}_isSameGroup(O,oe){return!!O[0].control&&O[0]._parent===oe._control._parent&&O[1].name===oe.name}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=a.jDH({token:G,factory:G.\u0275fac,providedIn:Ti})}return G})(),$r=(()=>{class G extends Xe{constructor(O,oe,Ve,yn){super(O,oe),this._registry=Ve,this._injector=yn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.WQX)(An,{optional:!0})??hi}ngOnInit(){this._control=this._injector.get(yr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(O){this._state=O===this.value,this.setProperty("checked",this._state)}registerOnChange(O){this._fn=O,this.onChange=()=>{O(this.value),this._registry.select(this)}}setDisabledState(O){(this.setDisabledStateFired||O||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",O),this.setDisabledStateFired=!0}fireUncheck(O){this.writeValue(O)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(uo),a.rXU(a.zZn))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(){return Ve.onChange()})("blur",function(){return Ve.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a.Jv_([Qn]),a.Vt3]})}return G})();const Vi=new a.nKC("NgModelWithFormControlWarning"),Mr={provide:fn,useExisting:(0,a.Rfq)(()=>Zt)};let Zt=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(O),this._setAsyncValidators(oe)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const oe=this.form.get(O.path);return Oo(oe,O,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),oe}getControl(O){return this.form.get(O.path)}removeControl(O){ii(O.control||null,O,!1),function Ci(G,Y){const O=G.indexOf(Y);O>-1&&G.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,oe){this.form.get(O.path).setValue(oe)}onSubmit(O){return this.submitted=!0,Fi(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const oe=O.control,Ve=this.form.get(O.path);oe!==Ve&&(ii(oe||null,O),(G=>G instanceof Br)(Ve)&&(Oo(Ve,O,this.callSetDisabledState),O.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const oe=this.form.get(O.path);Dn(oe,O),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const oe=this.form.get(O.path);oe&&function On(G,Y){return Ce(G,Y)}(oe,O)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lt(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(rt,10),a.rXU(wt,10),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("submit",function(Gn){return Ve.onSubmit(Gn)})("reset",function(){return Ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([Mr]),a.Vt3,a.OA$]})}return G})();const jn={provide:fn,useExisting:(0,a.Rfq)(()=>lr)};let lr=(()=>{class G extends co{constructor(O,oe,Ve){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve)}_checkParentType(){gi(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a.Jv_([jn]),a.Vt3]})}return G})();const ji={provide:fn,useExisting:(0,a.Rfq)(()=>ro)};let ro=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Er(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){gi(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a.Jv_([ji]),a.Vt3]})}return G})();function gi(G){return!(G instanceof lr||G instanceof Zt||G instanceof ro)}const Io={provide:yr,useExisting:(0,a.Rfq)(()=>Hr)};let Hr=(()=>{class G extends yr{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,oe,Ve,yn,Gn){super(),this._ngModelWarningConfig=Gn,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve),this.valueAccessor=ys(0,yn)}ngOnChanges(O){this._added||this._setUpControl(),Rr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return Er(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10),a.rXU(bt,10),a.rXU(Vi,8))};static#n=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([Io]),a.Vt3,a.OA$]})}return G})();const Fo={provide:bt,useExisting:(0,a.Rfq)(()=>To),multi:!0};function Vo(G,Y){return null==G?`${Y}`:(Y&&"object"==typeof Y&&(Y="Object"),`${G}: ${Y}`.slice(0,50))}let To=(()=>{class G extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Ve=Vo(this._getOptionId(O),O);this.setProperty("value",Ve)}registerOnChange(O){this.onChange=oe=>{this.value=this._getOptionValue(oe),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),O))return oe;return null}_getOptionValue(O){const oe=function Kn(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe):O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Gn){return Ve.onChange(Gn.target.value)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Fo]),a.Vt3]})}return G})(),vi=(()=>{class G{constructor(O,oe,Ve){this._element=O,this._renderer=oe,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Vo(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(To,9))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})();const Q={provide:bt,useExisting:(0,a.Rfq)(()=>Ye),multi:!0};function z(G,Y){return null==G?`${Y}`:("string"==typeof Y&&(Y=`'${Y}'`),Y&&"object"==typeof Y&&(Y="Object"),`${G}: ${Y}`.slice(0,50))}let Ye=(()=>{class G extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let oe;if(this.value=O,Array.isArray(O)){const Ve=O.map(yn=>this._getOptionId(yn));oe=(yn,Gn)=>{yn._setSelected(Ve.indexOf(Gn.toString())>-1)}}else oe=(Ve,yn)=>{Ve._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(O){this.onChange=oe=>{const Ve=[],yn=oe.selectedOptions;if(void 0!==yn){const Gn=yn;for(let io=0;io<Gn.length;io++){const oo=this._getOptionValue(Gn[io].value);Ve.push(oo)}}else{const Gn=oe.options;for(let io=0;io<Gn.length;io++){const po=Gn[io];if(po.selected){const oo=this._getOptionValue(po.value);Ve.push(oo)}}}this.value=Ve,O(Ve)}}_registerOption(O){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,O),oe}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,O))return oe;return null}_getOptionValue(O){const oe=function ye(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Gn){return Ve.onChange(Gn.target)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Q]),a.Vt3]})}return G})(),yt=(()=>{class G{constructor(O,oe,Ve){this._element=O,this._renderer=oe,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(Ye,9))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})(),Rt=(()=>{class G{constructor(){this._validator=ue}ngOnChanges(O){if(this.inputName in O){const oe=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):ue,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=a.FsC({type:G,features:[a.OA$]})}return G})();const Ir={provide:rt,useExisting:(0,a.Rfq)(()=>oi),multi:!0};let oi=(()=>{class G extends Rt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=O=>nr}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ve){2&oe&&a.BMQ("required",Ve._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([Ir]),a.Vt3]})}return G})(),fo=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[Ti]})}return G})();class rs extends It{constructor(Y,O,oe){super(Oe(O),H(oe,O)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,O={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(Y,O,oe={}){this.controls.splice(Y,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Y,O={}){let oe=this._adjustIndex(Y);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(Y,O,oe={}){let Ve=this._adjustIndex(Y);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),O&&(this.controls.splice(Ve,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,O={}){je(this,0,Y),Y.forEach((oe,Ve)=>{le(this,!1,Ve),this.at(Ve).setValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(Y,O={}){null!=Y&&(Y.forEach((oe,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(Y=[],O={}){this._forEachChild((oe,Ve)=>{oe.reset(Y[Ve],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((O,oe)=>!!oe._syncPendingControls()||O,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((O,oe)=>{Y(O,oe)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(O=>O.enabled&&Y(O))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function $i(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Ps=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new G;return O.useNonNullable=!0,O}group(O,oe=null){const Ve=this._reduceControls(O);let yn={};return $i(oe)?yn=oe:null!==oe&&(yn.validators=oe.validator,yn.asyncValidators=oe.asyncValidator),new Ot(Ve,yn)}record(O,oe=null){const Ve=this._reduceControls(O);return new un(Ve,oe)}control(O,oe,Ve){let yn={};return this.useNonNullable?($i(oe)?yn=oe:(yn.validators=oe,yn.asyncValidators=Ve),new Br(O,{...yn,nonNullable:!0})):new Br(O,oe,Ve)}array(O,oe,Ve){const yn=O.map(Gn=>this._createControl(Gn));return new rs(yn,oe,Ve)}_reduceControls(O){const oe={};return Object.keys(O).forEach(Ve=>{oe[Ve]=this._createControl(O[Ve])}),oe}_createControl(O){return O instanceof Br||O instanceof It?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=a.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),ia=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:An,useValue:O.callSetDisabledState??hi}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[fo]})}return G})(),Aa=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:Vi,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:An,useValue:O.callSetDisabledState??hi}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[fo]})}return G})()},345:(rn,Je,L)=>{L.d(Je,{Bb:()=>$n,W8:()=>Vt,hE:()=>yr,sG:()=>In,up:()=>Ei});var a=L(7705),ae=L(177);class o extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends o{static makeCurrent(){(0,ae.ZD)(new Ae)}onAndCancel(H,V,F){return H.addEventListener(V,F),()=>{H.removeEventListener(V,F)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function De(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==V?null:function Le(ee){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ee);const H=Ne.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ae._b)(document.cookie,H)}}let Ne,he=null,Z=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const ce=new a.nKC("EventManagerPlugins");let me=(()=>{class ee{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(le=>{le.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,le){return this._findPluginFor(F).addEventListener(V,F,le)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(je=>je.supports(V)),!F)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ce),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class at{constructor(H){this._doc=H}}const Xe="ng-app-id";let bt=(()=>{class ee{constructor(V,F,le,je={}){this.doc=V,this.appId=F,this.nonce=le,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(je),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(le=>le.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Xe}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(le=>{null!=le.textContent&&F.set(le.textContent,le)}),F}return null}changeUsageCount(V,F){const le=this.styleRef;if(le.has(V)){const je=le.get(V);return je.usage+=F,je.usage}return le.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const le=this.styleNodesInDOM,je=le?.get(F);if(je?.parentNode===V)return le.delete(F),je.removeAttribute(Xe),je;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=F,this.platformIsServer&&It.setAttribute(Xe,this.appId),It}}addStyleToHost(V,F){const le=this.getStyleElement(V,F);V.appendChild(le);const je=this.styleRef,It=je.get(F)?.elements;It?It.push(le):je.set(F,{elements:[le],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,ot=new a.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wt(ee,H){return H.map(V=>V.replace(jt,ee))}let Ft=(()=>{class ee{constructor(V,F,le,je,It,Ot,pn,tn=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=le,this.removeStylesOnCompDestroy=je,this.doc=It,this.platformId=Ot,this.ngZone=pn,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(Ot),this.defaultRenderer=new be(V,It,pn,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===a.gXe.ShadowDom&&(F={...F,encapsulation:a.gXe.Emulated});const le=this.getOrCreateRenderer(V,F);return le instanceof qt?le.applyToHost(V):le instanceof Bt&&le.applyStyles(),le}getOrCreateRenderer(V,F){const le=this.rendererByCompId;let je=le.get(F.id);if(!je){const It=this.doc,Ot=this.ngZone,pn=this.eventManager,tn=this.sharedStylesHost,un=this.removeStylesOnCompDestroy,rr=this.platformIsServer;switch(F.encapsulation){case a.gXe.Emulated:je=new qt(pn,tn,F,this.appId,un,It,Ot,rr);break;case a.gXe.ShadowDom:return new Pt(pn,tn,V,F,It,Ot,this.nonce,rr);default:je=new Bt(pn,tn,F,un,It,Ot,rr)}le.set(F.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(me),a.KVO(bt),a.KVO(a.sZ2),a.KVO(ot),a.KVO(ae.qQ),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class be{constructor(H,V,F,le){this.eventManager=H,this.doc=V,this.ngZone=F,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(Ct[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(nr(H)?H.content:H).appendChild(V)}insertBefore(H,V,F){H&&(nr(H)?H.content:H).insertBefore(V,F)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new a.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,F,le){if(le){V=le+":"+V;const je=Ct[le];je?H.setAttributeNS(je,V,F):H.setAttribute(V,F)}else H.setAttribute(V,F)}removeAttribute(H,V,F){if(F){const le=Ct[F];le?H.removeAttributeNS(le,V):H.removeAttribute(`${F}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,F,le){le&(a.czy.DashCase|a.czy.Important)?H.style.setProperty(V,F,le&a.czy.Important?"important":""):H.style[V]=F}removeStyle(H,V,F){F&a.czy.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,F){H[V]=F}setValue(H,V){H.nodeValue=V}listen(H,V,F){if("string"==typeof H&&!(H=(0,ae.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(F))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function nr(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Pt extends be{constructor(H,V,F,le,je,It,Ot,pn){super(H,je,It,pn),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=wt(le.id,le.styles);for(const un of tn){const rr=document.createElement("style");Ot&&rr.setAttribute("nonce",Ot),rr.textContent=un,this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,F){return super.insertBefore(this.nodeOrShadowRoot(H),V,F)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bt extends be{constructor(H,V,F,le,je,It,Ot,pn){super(H,je,It,Ot),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=le,this.styles=pn?wt(pn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends Bt{constructor(H,V,F,le,je,It,Ot,pn){const tn=le+"-"+F.id;super(H,V,F,je,It,Ot,pn,tn),this.contentAttr=function Ze(ee){return"_ngcontent-%COMP%".replace(jt,ee)}(tn),this.hostAttr=function rt(ee){return"_nghost-%COMP%".replace(jt,ee)}(tn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const F=super.createElement(H,V);return super.setAttribute(F,this.contentAttr,""),F}}let ct=(()=>{class ee extends at{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,le){return V.addEventListener(F,le,!1),()=>this.removeEventListener(V,F,le)}removeEventListener(V,F,le){return V.removeEventListener(F,le)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Me=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Qe=(()=>{class ee extends at{constructor(V){super(V)}supports(V){return null!=ee.parseEventName(V)}addEventListener(V,F,le){const je=ee.parseEventName(F),It=ee.eventCallback(je.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(V,je.domEventName,It))}static parseEventName(V){const F=V.toLowerCase().split("."),le=F.shift();if(0===F.length||"keydown"!==le&&"keyup"!==le)return null;const je=ee._normalizeKey(F.pop());let It="",Ot=F.indexOf("code");if(Ot>-1&&(F.splice(Ot,1),It="code."),Me.forEach(tn=>{const un=F.indexOf(tn);un>-1&&(F.splice(un,1),It+=tn+".")}),It+=je,0!=F.length||0===je.length)return null;const pn={};return pn.domEventName=le,pn.fullKey=It,pn}static matchEventFullKeyCode(V,F){let le=ue[V.key]||V.key,je="";return F.indexOf("code.")>-1&&(le=V.code,je="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),Me.forEach(It=>{It!==le&&(0,Fe[It])(V)&&(je+=It+".")}),je+=le,je===F)}static eventCallback(V,F,le){return je=>{ee.matchEventFullKeyCode(je,V)&&le.runGuarded(()=>F(je))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const In=(0,a.oH4)(a.fpN,"browser",[{provide:a.Agw,useValue:ae.AJ},{provide:a.PLl,useValue:function xt(){Ae.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function on(){return(0,a.TL$)(document),document},deps:[]}]),dr=new a.nKC(""),Gt=[{provide:a.e01,useClass:class Be{addToWindow(H){a.JZv.getAngularTestability=(F,le=!0)=>{const je=H.findTestabilityInTree(F,le);if(null==je)throw new a.wOt(5103,!1);return je},a.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),a.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),a.JZv.frameworkStabilizers||(a.JZv.frameworkStabilizers=[]),a.JZv.frameworkStabilizers.push(F=>{const le=a.JZv.getAllAngularTestabilities();let je=le.length,It=!1;const Ot=function(pn){It=It||pn,je--,0==je&&F(It)};le.forEach(pn=>{pn.whenStable(Ot)})})}findTestabilityInTree(H,V,F){return null==V?null:H.getTestability(V)??(F?(0,ae.QT)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:a.WHO,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]},{provide:a.NYb,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]}],wn=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function hn(){return new a.zcH},deps:[]},{provide:ce,useClass:ct,multi:!0,deps:[ae.qQ,a.SKi,a.Agw]},{provide:ce,useClass:Qe,multi:!0,deps:[ae.qQ]},Ft,bt,me,{provide:a._9s,useExisting:Ft},{provide:ae.N0,useClass:Z,deps:[]},[]];let $n=(()=>{class ee{constructor(V){}static withServerTransition(V){return{ngModule:ee,providers:[{provide:a.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(dr,12))};static#t=this.\u0275mod=a.$C({type:ee});static#n=this.\u0275inj=a.G2t({providers:[...wn,...Gt],imports:[ae.MD,a.Hbi]})}return ee})(),Vt=(()=>{class ee{constructor(V){this._doc=V,this._dom=(0,ae.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((le,je)=>(je&&le.push(this._getOrCreateElement(je,F)),le),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const le=this.getTag(F);return le?this._setMetaElementAttributes(V,le):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const It=this._parseSelector(V),Ot=this.getTags(It).filter(pn=>this._containsAttributes(V,pn))[0];if(void 0!==Ot)return Ot}const le=this._dom.createElement("meta");return this._setMetaElementAttributes(V,le),this._doc.getElementsByTagName("head")[0].appendChild(le),le}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(le=>F.setAttribute(this._getMetaKeyMap(le),V[le])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(le=>F.getAttribute(this._getMetaKeyMap(le))===V[le])}_getMetaKeyMap(V){return jr[V]||V}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function Wt(){return new Vt((0,a.KVO)(ae.qQ))}(),le},providedIn:"root"})}return ee})();const jr={httpEquiv:"http-equiv"};let yr=(()=>{class ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function fn(){return new yr((0,a.KVO)(ae.qQ))}(),le},providedIn:"root"})}return ee})();typeof window<"u"&&window;let Ei=(()=>{class ee{static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let le=null;return le=F?new(F||ee):a.KVO(mt),le},providedIn:"root"})}return ee})(),mt=(()=>{class ee extends Ei{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case a.WPN.NONE:return F;case a.WPN.HTML:return(0,a.ZF7)(F,"HTML")?(0,a.rcV)(F):(0,a.h9k)(this._doc,String(F)).toString();case a.WPN.STYLE:return(0,a.ZF7)(F,"Style")?(0,a.rcV)(F):F;case a.WPN.SCRIPT:if((0,a.ZF7)(F,"Script"))return(0,a.rcV)(F);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(F,"URL")?(0,a.rcV)(F):(0,a.$MX)(String(F));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(F,"ResourceURL"))return(0,a.rcV)(F);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,a.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,a.cWb)(V)}bypassSecurityTrustScript(V){return(0,a.UyX)(V)}bypassSecurityTrustUrl(V){return(0,a.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,a.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function Ke(ee){return new mt(ee.get(ae.qQ))}(a.KVO(a.zZn)),le},providedIn:"root"})}return ee})()},6814:(rn,Je,L)=>{L.d(Je,{nX:()=>lr,Ix:()=>Ii,Wk:()=>Xo,iI:()=>Za,n3:()=>To});var a=L(7705),ae=L(1985),o=L(8071),he=L(8455),De=L(7673),Ne=L(4412),Le=L(3073),Be=L(3669),Z=L(6450),ce=L(3794),me=L(8496),at=L(4360),Xe=L(5225);function bt(...w){const R=(0,ce.lI)(w),I=(0,ce.ms)(w),{args:M,keys:j}=(0,Le.D)(w);if(0===M.length)return(0,he.H)([],R);const ne=new ae.c(function Ct(w,R,I=Be.D){return M=>{jt(R,()=>{const{length:j}=w,ne=new Array(j);let Ee=j,pt=j;for(let dt=0;dt<j;dt++)jt(R,()=>{const vn=(0,he.H)(w[dt],R);let pr=!1;vn.subscribe((0,at._)(M,Tr=>{ne[dt]=Tr,pr||(pr=!0,pt--),pt||M.next(I(ne.slice()))},()=>{--Ee||M.complete()}))},M)},M)}}(M,R,j?Ee=>(0,me.e)(j,Ee):Be.D));return I?ne.pipe((0,Z.I)(I)):ne}function jt(w,R,I){w?(0,Xe.N)(I,w,R):R()}var Mt=L(9350),cn=L(8793),et=L(8750);function We(w){return new ae.c(R=>{(0,et.Tg)(w()).subscribe(R)})}var ot=L(1203),Ze=L(8810),rt=L(983),wt=L(8359),Ft=L(9974);function be(){return(0,Ft.N)((w,R)=>{let I=null;w._refCount++;const M=(0,at._)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(I=null);const j=w._connection,ne=I;I=null,j&&(!ne||j===ne)&&j.unsubscribe(),R.unsubscribe()});w.subscribe(M),M.closed||(I=w.connect())})}class Jt extends ae.c{constructor(R,I){super(),this.source=R,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new wt.yU;const I=this.getSubject();R.add(this.source.subscribe((0,at._)(I,void 0,()=>{this._teardown(),I.complete()},M=>{this._teardown(),I.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=wt.yU.EMPTY)}return R}refCount(){return be()(this)}}var dn=L(1413),nr=L(177),Pt=L(6354),Bt=L(5558),qt=L(6697),ct=L(9172),Me=L(5964),ue=L(1397),Fe=L(1594),Qe=L(274),xe=L(8141),Se=L(9437),Ge=L(2816),Tt=L(9901);function xt(w){return w<=0?()=>rt.w:(0,Ft.N)((R,I)=>{let M=[];R.subscribe((0,at._)(I,j=>{M.push(j),w<M.length&&M.shift()},()=>{for(const j of M)I.next(j);I.complete()},void 0,()=>{M=null}))})}var hn=L(3774),In=L(980),dr=L(5343),wn=L(6365),$n=L(345);const Wt="primary",Vt=Symbol("RouteTitle");class jr{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I[0]:I}return null}getAll(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function fn(w){return new jr(w)}function yr(w,R,I){const M=I.path.split("/");if(M.length>w.length||"full"===I.pathMatch&&(R.hasChildren()||M.length<w.length))return null;const j={};for(let ne=0;ne<M.length;ne++){const Ee=M[ne],pt=w[ne];if(Ee.startsWith(":"))j[Ee.substring(1)]=pt;else if(Ee!==pt.path)return null}return{consumed:w.slice(0,M.length),posParams:j}}function Ut(w,R){const I=w?Object.keys(w):void 0,M=R?Object.keys(R):void 0;if(!I||!M||I.length!=M.length)return!1;let j;for(let ne=0;ne<I.length;ne++)if(j=I[ne],!_n(w[j],R[j]))return!1;return!0}function _n(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const I=[...w].sort(),M=[...R].sort();return I.every((j,ne)=>M[ne]===j)}return w===R}function Pn(w){return w.length>0?w[w.length-1]:null}function Tn(w){return function Ae(w){return!!w&&(w instanceof ae.c||(0,o.T)(w.lift)&&(0,o.T)(w.subscribe))}(w)?w:(0,a.jNT)(w)?(0,he.H)(Promise.resolve(w)):(0,De.of)(w)}const hr={exact:function ni(w,R,I){if(!mt(w.segments,R.segments)||!Yn(w.segments,R.segments,I)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!w.children[M]||!ni(w.children[M],R.children[M],I))return!1;return!0},subset:ln},br={exact:function Hn(w,R){return Ut(w,R)},subset:function Ki(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(I=>_n(w[I],R[I]))},ignored:()=>!0};function ti(w,R,I){return hr[I.paths](w.root,R.root,I.matrixParams)&&br[I.queryParams](w.queryParams,R.queryParams)&&!("exact"===I.fragment&&w.fragment!==R.fragment)}function ln(w,R,I){return ri(w,R,R.segments,I)}function ri(w,R,I,M){if(w.segments.length>I.length){const j=w.segments.slice(0,I.length);return!(!mt(j,I)||R.hasChildren()||!Yn(j,I,M))}if(w.segments.length===I.length){if(!mt(w.segments,I)||!Yn(w.segments,I,M))return!1;for(const j in R.children)if(!w.children[j]||!ln(w.children[j],R.children[j],M))return!1;return!0}{const j=I.slice(0,w.segments.length),ne=I.slice(w.segments.length);return!!(mt(w.segments,j)&&Yn(w.segments,j,M)&&w.children[Wt])&&ri(w.children[Wt],R,ne,M)}}function Yn(w,R,I){return R.every((M,j)=>br[I](w[j].parameters,M.parameters))}class gr{constructor(R=new Nn([],{}),I={},M=null){this.root=R,this.queryParams=I,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Nn{constructor(R,I){this.segments=R,this.children=I,this.parent=null,Object.values(I).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class Ei{constructor(R,I){this.path=R,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return le(this)}}function mt(w,R){return w.length===R.length&&w.every((I,M)=>I.path===R[M].path)}let Ie=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return new ft},providedIn:"root"})}return w})();class ft{parse(R){const I=new Oo(R);return new gr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(R){const I=`/${wr(R.root,!0)}`,M=function It(w){const R=Object.keys(w).map(I=>{const M=w[I];return Array.isArray(M)?M.map(j=>`${Oe(I)}=${Oe(j)}`).join("&"):`${Oe(I)}=${Oe(M)}`}).filter(I=>!!I);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${I}${M}${"string"==typeof R.fragment?`#${function ee(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Kt=new ft;function Mn(w){return w.segments.map(R=>le(R)).join("/")}function wr(w,R){if(!w.hasChildren())return Mn(w);if(R){const I=w.children[Wt]?wr(w.children[Wt],!1):"",M=[];return Object.entries(w.children).forEach(([j,ne])=>{j!==Wt&&M.push(`${j}:${wr(ne,!1)}`)}),M.length>0?`${I}(${M.join("//")})`:I}{const I=function ie(w,R){let I=[];return Object.entries(w.children).forEach(([M,j])=>{M===Wt&&(I=I.concat(R(j,M)))}),Object.entries(w.children).forEach(([M,j])=>{M!==Wt&&(I=I.concat(R(j,M)))}),I}(w,(M,j)=>j===Wt?[wr(w.children[Wt],!1)]:[`${j}:${wr(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Wt]?`${Mn(w)}/${I[0]}`:`${Mn(w)}/(${I.join("//")})`}}function cr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(w){return cr(w).replace(/%3B/gi,";")}function H(w){return cr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function le(w){return`${H(w.path)}${function je(w){return Object.keys(w).map(R=>`;${H(R)}=${H(w[R])}`).join("")}(w.parameters)}`}const Ot=/^[^\/()?;#]+/;function pn(w){const R=w.match(Ot);return R?R[0]:""}const tn=/^[^\/()?;=#]+/,rr=/^[^=?&#]+/,hi=/^[^&#]+/;class Oo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(I).length>0)&&(M[Wt]=new Nn(R,I)),M}parseSegment(){const R=pn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(R),new Ei(V(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const I=function un(w){const R=w.match(tn);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const j=pn(this.remaining);j&&(M=j,this.capture(M))}R[V(I)]=V(M)}parseQueryParam(R){const I=function An(w){const R=w.match(rr);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const Ee=function Er(w){const R=w.match(hi);return R?R[0]:""}(this.remaining);Ee&&(M=Ee,this.capture(M))}const j=F(I),ne=F(M);if(R.hasOwnProperty(j)){let Ee=R[j];Array.isArray(Ee)||(Ee=[Ee],R[j]=Ee),Ee.push(ne)}else R[j]=ne}parseParens(R){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=pn(this.remaining),j=this.remaining[M.length];if("/"!==j&&")"!==j&&";"!==j)throw new a.wOt(4010,!1);let ne;M.indexOf(":")>-1?(ne=M.slice(0,M.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=Wt);const Ee=this.parseChildren();I[ne]=1===Object.keys(Ee).length?Ee[Wt]:new Nn([],Ee),this.consumeOptional("//")}return I}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new a.wOt(4011,!1)}}function ii(w){return w.segments.length>0?new Nn([],{[Wt]:w}):w}function Li(w){const R={};for(const M of Object.keys(w.children)){const ne=Li(w.children[M]);if(M===Wt&&0===ne.segments.length&&ne.hasChildren())for(const[Ee,pt]of Object.entries(ne.children))R[Ee]=pt;else(ne.segments.length>0||ne.hasChildren())&&(R[M]=ne)}return function Pe(w){if(1===w.numberOfChildren&&w.children[Wt]){const R=w.children[Wt];return new Nn(w.segments.concat(R.segments),R.children)}return w}(new Nn(w.segments,R))}function Lt(w){return w instanceof gr}function Te(w){let R;const j=ii(function I(ne){const Ee={};for(const dt of ne.children){const vn=I(dt);Ee[dt.outlet]=vn}const pt=new Nn(ne.url,Ee);return ne===w&&(R=pt),pt}(w.root));return R??j}function pe(w,R,I,M){let j=w;for(;j.parent;)j=j.parent;if(0===R.length)return Dn(j,j,j,I,M);const ne=function qr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new kn(!0,0,w);let R=0,I=!1;const M=w.reduce((j,ne,Ee)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const pt={};return Object.entries(ne.outlets).forEach(([dt,vn])=>{pt[dt]="string"==typeof vn?vn.split("/"):vn}),[...j,{outlets:pt}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===Ee?(ne.split("/").forEach((pt,dt)=>{0==dt&&"."===pt||(0==dt&&""===pt?I=!0:".."===pt?R++:""!=pt&&j.push(pt))}),j):[...j,ne]},[]);return new kn(I,R,M)}(R);if(ne.toRoot())return Dn(j,j,new Nn([],{}),I,M);const Ee=function ki(w,R,I){if(w.isAbsolute)return new Fr(R,!0,0);if(!I)return new Fr(R,!1,NaN);if(null===I.parent)return new Fr(I,!0,0);const M=Et(w.commands[0])?0:1;return function qo(w,R,I){let M=w,j=R,ne=I;for(;ne>j;){if(ne-=j,M=M.parent,!M)throw new a.wOt(4005,!1);j=M.segments.length}return new Fr(M,!1,j-ne)}(I,I.segments.length-1+M,w.numberOfDoubleDots)}(ne,j,w),pt=Ee.processChildren?Fi(Ee.segmentGroup,Ee.index,ne.commands):vs(Ee.segmentGroup,Ee.index,ne.commands);return Dn(j,Ee.segmentGroup,pt,I,M)}function Et(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function en(w){return"object"==typeof w&&null!=w&&w.outlets}function Dn(w,R,I,M,j){let Ee,ne={};M&&Object.entries(M).forEach(([dt,vn])=>{ne[dt]=Array.isArray(vn)?vn.map(pr=>`${pr}`):`${vn}`}),Ee=w===R?I:On(w,R,I);const pt=ii(Li(Ee));return new gr(pt,ne,j)}function On(w,R,I){const M={};return Object.entries(w.children).forEach(([j,ne])=>{M[j]=ne===R?I:On(ne,R,I)}),new Nn(w.segments,M)}class kn{constructor(R,I,M){if(this.isAbsolute=R,this.numberOfDoubleDots=I,this.commands=M,R&&M.length>0&&Et(M[0]))throw new a.wOt(4003,!1);const j=M.find(en);if(j&&j!==Pn(M))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fr{constructor(R,I,M){this.segmentGroup=R,this.processChildren=I,this.index=M}}function vs(w,R,I){if(w||(w=new Nn([],{})),0===w.segments.length&&w.hasChildren())return Fi(w,R,I);const M=function ys(w,R,I){let M=0,j=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<w.segments.length;){if(M>=I.length)return ne;const Ee=w.segments[j],pt=I[M];if(en(pt))break;const dt=`${pt}`,vn=M<I.length-1?I[M+1]:null;if(j>0&&void 0===dt)break;if(dt&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!Pi(dt,vn,Ee))return ne;M+=2}else{if(!Pi(dt,{},Ee))return ne;M++}j++}return{match:!0,pathIndex:j,commandIndex:M}}(w,R,I),j=I.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const ne=new Nn(w.segments.slice(0,M.pathIndex),{});return ne.children[Wt]=new Nn(w.segments.slice(M.pathIndex),w.children),Fi(ne,0,j)}return M.match&&0===j.length?new Nn(w.segments,{}):M.match&&!w.hasChildren()?Ci(w,R,I):M.match?Fi(w,0,j):Ci(w,R,I)}function Fi(w,R,I){if(0===I.length)return new Nn(w.segments,{});{const M=function Rr(w){return en(w[0])?w[0].outlets:{[Wt]:w}}(I),j={};if(Object.keys(M).some(ne=>ne!==Wt)&&w.children[Wt]&&1===w.numberOfChildren&&0===w.children[Wt].segments.length){const ne=Fi(w.children[Wt],R,I);return new Nn(w.segments,ne.children)}return Object.entries(M).forEach(([ne,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(j[ne]=vs(w.children[ne],R,Ee))}),Object.entries(w.children).forEach(([ne,Ee])=>{void 0===M[ne]&&(j[ne]=Ee)}),new Nn(w.segments,j)}}function Ci(w,R,I){const M=w.segments.slice(0,R);let j=0;for(;j<I.length;){const ne=I[j];if(en(ne)){const dt=ga(ne.outlets);return new Nn(M,dt)}if(0===j&&Et(I[0])){M.push(new Ei(w.segments[R].path,No(I[0]))),j++;continue}const Ee=en(ne)?ne.outlets[Wt]:`${ne}`,pt=j<I.length-1?I[j+1]:null;Ee&&pt&&Et(pt)?(M.push(new Ei(Ee,No(pt))),j+=2):(M.push(new Ei(Ee,{})),j++)}return new Nn(M,{})}function ga(w){const R={};return Object.entries(w).forEach(([I,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[I]=Ci(new Nn([],{}),0,M))}),R}function No(w){const R={};return Object.entries(w).forEach(([I,M])=>R[I]=`${M}`),R}function Pi(w,R,I){return w==I.path&&Ut(R,I.parameters)}const Gi="imperative";class mr{constructor(R,I){this.id=R,this.url=I}}class cs extends mr{constructor(R,I,M="imperative",j=null){super(R,I),this.type=0,this.navigationTrigger=M,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends mr{constructor(R,I,M){super(R,I),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends mr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends mr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=16}}class co extends mr{constructor(R,I,M,j){super(R,I),this.error=M,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bi extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends mr{constructor(R,I,M,j,ne){super(R,I),this.urlAfterRedirects=M,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ui extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends mr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ui{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bo{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(R,I,M){this.routerEvent=R,this.position=I,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qn{}class fi{constructor(R){this.url=R}}class uo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $r,this.attachRef=null}}let $r=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,M){const j=this.getOrCreateContext(I);j.outlet=M,this.contexts.set(I,j)}onChildOutletDestroyed(I){const M=this.getContext(I);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let M=this.getContext(I);return M||(M=new uo,this.contexts.set(I,M)),M}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class wi{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const I=this.pathFromRoot(R);return I.length>1?I[I.length-2]:null}children(R){const I=pi(R,this._root);return I?I.children.map(M=>M.value):[]}firstChild(R){const I=pi(R,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(R){const I=Vi(R,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Vi(R,this._root).map(I=>I.value)}}function pi(w,R){if(w===R.value)return R;for(const I of R.children){const M=pi(w,I);if(M)return M}return null}function Vi(w,R){if(w===R.value)return[R];for(const I of R.children){const M=Vi(w,I);if(M.length)return M.unshift(R),M}return[]}class Yr{constructor(R,I){this.value=R,this.children=I}toString(){return`TreeNode(${this.value})`}}function qi(w){const R={};return w&&w.children.forEach(I=>R[I.value.outlet]=I),R}class Mr extends wi{constructor(R,I){super(R),this.snapshot=I,Hr(this,R)}toString(){return this.snapshot.toString()}}function Zt(w,R){const I=function jn(w,R){const Ee=new gi([],{},{},"",{},Wt,R,null,{});return new Io("",new Yr(Ee,[]))}(0,R),M=new Ne.t([new Ei("",{})]),j=new Ne.t({}),ne=new Ne.t({}),Ee=new Ne.t({}),pt=new Ne.t(""),dt=new lr(M,j,Ee,pt,ne,Wt,R,I.root);return dt.snapshot=I.root,new Mr(new Yr(dt,[]),I)}class lr{constructor(R,I,M,j,ne,Ee,pt,dt){this.urlSubject=R,this.paramsSubject=I,this.queryParamsSubject=M,this.fragmentSubject=j,this.dataSubject=ne,this.outlet=Ee,this.component=pt,this._futureSnapshot=dt,this.title=this.dataSubject?.pipe((0,Pt.T)(vn=>vn[Vt]))??(0,De.of)(void 0),this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(R=>fn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(R=>fn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ji(w,R="emptyOnly"){const I=w.pathFromRoot;let M=0;if("always"!==R)for(M=I.length-1;M>=1;){const j=I[M],ne=I[M-1];if(j.routeConfig&&""===j.routeConfig.path)M--;else{if(ne.component)break;M--}}return function ro(w){return w.reduce((R,I)=>({params:{...R.params,...I.params},data:{...R.data,...I.data},resolve:{...I.data,...R.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(M))}class gi{get title(){return this.data?.[Vt]}constructor(R,I,M,j,ne,Ee,pt,dt,vn){this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne,this.outlet=Ee,this.component=pt,this.routeConfig=dt,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Io extends wi{constructor(R,I){super(I),this.url=R,Hr(this,I)}toString(){return Fo(this._root)}}function Hr(w,R){R.value._routerState=w,R.children.forEach(I=>Hr(w,I))}function Fo(w){const R=w.children.length>0?` { ${w.children.map(Fo).join(", ")} } `:"";return`${w.value}${R}`}function Vo(w){if(w.snapshot){const R=w.snapshot,I=w._futureSnapshot;w.snapshot=I,Ut(R.queryParams,I.queryParams)||w.queryParamsSubject.next(I.queryParams),R.fragment!==I.fragment&&w.fragmentSubject.next(I.fragment),Ut(R.params,I.params)||w.paramsSubject.next(I.params),function Wn(w,R){if(w.length!==R.length)return!1;for(let I=0;I<w.length;++I)if(!Ut(w[I],R[I]))return!1;return!0}(R.url,I.url)||w.urlSubject.next(I.url),Ut(R.data,I.data)||w.dataSubject.next(I.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Kn(w,R){const I=Ut(w.params,R.params)&&function Ke(w,R){return mt(w,R)&&w.every((I,M)=>Ut(I.parameters,R[M].parameters))}(w.url,R.url);return I&&!(!w.parent!=!R.parent)&&(!w.parent||Kn(w.parent,R.parent))}let To=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)($r),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.environmentInjector=(0,a.WQX)(a.uvJ),this.inputBinder=(0,a.WQX)(Q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:M,previousValue:j}=I.name;if(M)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,M){this.activated=I,this._activatedRoute=M,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,M){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=I;const j=this.location,Ee=I.snapshot.component,pt=this.parentContexts.getOrCreateContext(this.name).children,dt=new vi(I,pt,j.injector);this.activated=j.createComponent(Ee,{index:j.length,injector:dt,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275dir=a.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}return w})();class vi{constructor(R,I,M){this.route=R,this.childContexts=I,this.parent=M}get(R,I){return R===lr?this.route:R===$r?this.childContexts:this.parent.get(R,I)}}const Q=new a.nKC("");let z=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:M}=I,j=bt([M.queryParams,M.params,M.data]).pipe((0,Bt.n)(([ne,Ee,pt],dt)=>(pt={...ne,...Ee,...pt},0===dt?(0,De.of)(pt):Promise.resolve(pt)))).subscribe(ne=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(I);const Ee=(0,a.HJs)(M.component);if(Ee)for(const{templateName:pt}of Ee.inputs)I.activatedComponentRef.setInput(pt,ne[pt]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,j)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac})}return w})();function Re(w,R,I){if(I&&w.shouldReuseRoute(R.value,I.value.snapshot)){const M=I.value;M._futureSnapshot=R.value;const j=function Ye(w,R,I){return R.children.map(M=>{for(const j of I.children)if(w.shouldReuseRoute(M.value,j.value.snapshot))return Re(w,M,j);return Re(w,M)})}(w,R,I);return new Yr(M,j)}{if(w.shouldAttach(R.value)){const ne=w.retrieve(R.value);if(null!==ne){const Ee=ne.route;return Ee.value._futureSnapshot=R.value,Ee.children=R.children.map(pt=>Re(w,pt)),Ee}}const M=function yt(w){return new lr(new Ne.t(w.url),new Ne.t(w.params),new Ne.t(w.queryParams),new Ne.t(w.fragment),new Ne.t(w.data),w.outlet,w.component,w)}(R.value),j=R.children.map(ne=>Re(w,ne));return new Yr(M,j)}}const Yt="ngNavigationCancelingError";function mn(w,R){const{redirectTo:I,navigationBehaviorOptions:M}=Lt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=Rt(!1,0,R);return j.url=I,j.navigationBehaviorOptions=M,j}function Rt(w,R,I){const M=new Error("NavigationCancelingError: "+(w||""));return M[Yt]=!0,M.cancellationCode=R,I&&(M.url=I),M}function sr(w){return w&&w[Yt]}let Rn=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275cmp=a.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(M,j){1&M&&a.nrm(0,"router-outlet")},dependencies:[To],encapsulation:2})}return w})();function si(w){const R=w.children&&w.children.map(si),I=R?{...w,children:R}:{...w};return!I.component&&!I.loadComponent&&(R||I.loadChildren)&&I.outlet&&I.outlet!==Wt&&(I.component=Rn),I}function fr(w){return w.outlet||Wt}function Ai(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const I=R.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class ma{constructor(R,I,M,j,ne){this.routeReuseStrategy=R,this.futureState=I,this.currState=M,this.forwardEvent=j,this.inputBindingEnabled=ne}activate(R){const I=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,M,R),Vo(this.futureState.root),this.activateChildRoutes(I,M,R)}deactivateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{const Ee=ne.value.outlet;this.deactivateRoutes(ne,j[Ee],M),delete j[Ee]}),Object.values(j).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,M)})}deactivateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(j===ne)if(j.component){const Ee=M.getContext(j.outlet);Ee&&this.deactivateChildRoutes(R,I,Ee.children)}else this.deactivateChildRoutes(R,I,M);else ne&&this.deactivateRouteAndItsChildren(I,M)}deactivateRouteAndItsChildren(R,I){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,I):this.deactivateRouteAndOutlet(R,I)}detachAndStoreRouteSubtree(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],j);if(M&&M.outlet){const Ee=M.outlet.detach(),pt=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ee,route:R,contexts:pt})}}deactivateRouteAndOutlet(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],j);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],M),this.forwardEvent(new lo(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new Yo(R.value.snapshot))}activateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(Vo(j),j===ne)if(j.component){const Ee=M.getOrCreateContext(j.outlet);this.activateChildRoutes(R,I,Ee.children)}else this.activateChildRoutes(R,I,M);else if(j.component){const Ee=M.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const pt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ee.children.onOutletReAttached(pt.contexts),Ee.attachRef=pt.componentRef,Ee.route=pt.route.value,Ee.outlet&&Ee.outlet.attach(pt.componentRef,pt.route.value),Vo(pt.route.value),this.activateChildRoutes(R,null,Ee.children)}else{const pt=Ai(j.snapshot);Ee.attachRef=null,Ee.route=j,Ee.injector=pt,Ee.outlet&&Ee.outlet.activateWith(j,Ee.injector),this.activateChildRoutes(R,null,Ee.children)}}else this.activateChildRoutes(R,null,M)}}class fo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class rs{constructor(R,I){this.component=R,this.route=I}}function Ks(w,R,I){const M=w._root;return Ps(M,R?R._root:null,I,[M.value])}function $i(w,R){const I=Symbol(),M=R.get(w,I);return M===I?"function"!=typeof w||(0,a.LfX)(w)?R.get(w):w:M}function Ps(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=qi(R);return w.children.forEach(Ee=>{(function Rs(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=w.value,Ee=R?R.value:null,pt=I?I.getContext(w.value.outlet):null;if(Ee&&ne.routeConfig===Ee.routeConfig){const dt=function Nc(w,R,I){if("function"==typeof I)return I(w,R);switch(I){case"pathParamsChange":return!mt(w.url,R.url);case"pathParamsOrQueryParamsChange":return!mt(w.url,R.url)||!Ut(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(w,R)||!Ut(w.queryParams,R.queryParams);default:return!Kn(w,R)}}(Ee,ne,ne.routeConfig.runGuardsAndResolvers);dt?j.canActivateChecks.push(new fo(M)):(ne.data=Ee.data,ne._resolvedData=Ee._resolvedData),Ps(w,R,ne.component?pt?pt.children:null:I,M,j),dt&&pt&&pt.outlet&&pt.outlet.isActivated&&j.canDeactivateChecks.push(new rs(pt.outlet.component,Ee))}else Ee&&Xr(R,pt,j),j.canActivateChecks.push(new fo(M)),Ps(w,null,ne.component?pt?pt.children:null:I,M,j)})(Ee,ne[Ee.value.outlet],I,M.concat([Ee.value]),j),delete ne[Ee.value.outlet]}),Object.entries(ne).forEach(([Ee,pt])=>Xr(pt,I.getContext(Ee),j)),j}function Xr(w,R,I){const M=qi(w),j=w.value;Object.entries(M).forEach(([ne,Ee])=>{Xr(Ee,j.component?R?R.children.getContext(ne):null:R,I)}),I.canDeactivateChecks.push(new rs(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function ia(w){return"function"==typeof w}function io(w){return w instanceof Mt.G||"EmptyError"===w?.name}const po=Symbol("INITIAL_VALUE");function oo(){return(0,Bt.n)(w=>bt(w.map(R=>R.pipe((0,qt.s)(1),(0,ct.Z)(po)))).pipe((0,Pt.T)(R=>{for(const I of R)if(!0!==I){if(I===po)return po;if(!1===I||I instanceof gr)return I}return!0}),(0,Me.p)(R=>R!==po),(0,qt.s)(1)))}function wo(w){return(0,ot.F)((0,xe.M)(R=>{if(Lt(R))throw mn(0,R)}),(0,Pt.T)(R=>!0===R))}class os{constructor(R){this.segmentGroup=R||null}}class va{constructor(R){this.urlTree=R}}function Os(w){return(0,Ze.$)(new os(w))}function ar(w){return(0,Ze.$)(new va(w))}class Wa{constructor(R,I){this.urlSerializer=R,this.urlTree=I}noMatchError(R){return new a.wOt(4002,!1)}lineralizeSegments(R,I){let M=[],j=I.root;for(;;){if(M=M.concat(j.segments),0===j.numberOfChildren)return(0,De.of)(M);if(j.numberOfChildren>1||!j.children[Wt])return(0,Ze.$)(new a.wOt(4e3,!1));j=j.children[Wt]}}applyRedirectCommands(R,I,M){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),R,M)}applyRedirectCreateUrlTree(R,I,M,j){const ne=this.createSegmentGroup(R,I.root,M,j);return new gr(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(R,I){const M={};return Object.entries(R).forEach(([j,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const pt=ne.substring(1);M[j]=I[pt]}else M[j]=ne}),M}createSegmentGroup(R,I,M,j){const ne=this.createSegments(R,I.segments,M,j);let Ee={};return Object.entries(I.children).forEach(([pt,dt])=>{Ee[pt]=this.createSegmentGroup(R,dt,M,j)}),new Nn(ne,Ee)}createSegments(R,I,M,j){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(R,ne,j):this.findOrReturn(ne,M))}findPosParam(R,I,M){const j=M[I.path.substring(1)];if(!j)throw new a.wOt(4001,!1);return j}findOrReturn(R,I){let M=0;for(const j of I){if(j.path===R.path)return I.splice(M),j;M++}return R}}const Ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ya(w,R,I,M,j){const ne=ls(w,R,I);return ne.matched?(M=function mi(w,R){return w.providers&&!w._injector&&(w._injector=(0,a.Ol2)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,M),function Ms(w,R,I,M){const j=R.canMatch;if(!j||0===j.length)return(0,De.of)(!0);const ne=j.map(Ee=>{const pt=$i(Ee,w);return Tn(function Ve(w){return w&&ia(w.canMatch)}(pt)?pt.canMatch(R,I):w.runInContext(()=>pt(R,I)))});return(0,De.of)(ne).pipe(oo(),wo())}(M,R,I).pipe((0,Pt.T)(Ee=>!0===Ee?ne:{...Ka}))):(0,De.of)(ne)}function ls(w,R,I){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||I.length>0)?{...Ka}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const j=(R.matcher||yr)(I,w,R);if(!j)return{...Ka};const ne={};Object.entries(j.posParams??{}).forEach(([pt,dt])=>{ne[pt]=dt.path});const Ee=j.consumed.length>0?{...ne,...j.consumed[j.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:j.consumed,remainingSegments:I.slice(j.consumed.length),parameters:Ee,positionalParamSegments:j.posParams??{}}}function Ns(w,R,I,M){return I.length>0&&function xa(w,R,I){return I.some(M=>Ya(w,R,M)&&fr(M)!==Wt)}(w,I,M)?{segmentGroup:new Nn(R,Fc(M,new Nn(I,w.children))),slicedSegments:[]}:0===I.length&&function oa(w,R,I){return I.some(M=>Ya(w,R,M))}(w,I,M)?{segmentGroup:new Nn(w.segments,qa(w,0,I,M,w.children)),slicedSegments:I}:{segmentGroup:new Nn(w.segments,w.children),slicedSegments:I}}function qa(w,R,I,M,j){const ne={};for(const Ee of M)if(Ya(w,I,Ee)&&!j[fr(Ee)]){const pt=new Nn([],{});ne[fr(Ee)]=pt}return{...j,...ne}}function Fc(w,R){const I={};I[Wt]=R;for(const M of w)if(""===M.path&&fr(M)!==Wt){const j=new Nn([],{});I[fr(M)]=j}return I}function Ya(w,R,I){return(!(w.hasChildren()||R.length>0)||"full"!==I.pathMatch)&&""===I.path}class Sa{constructor(R,I,M,j,ne,Ee,pt){this.injector=R,this.configLoader=I,this.rootComponentType=M,this.config=j,this.urlTree=ne,this.paramsInheritanceStrategy=Ee,this.urlSerializer=pt,this.allowRedirects=!0,this.applyRedirects=new Wa(this.urlSerializer,this.urlTree)}noMatchError(R){return new a.wOt(4002,!1)}recognize(){const R=Ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Wt).pipe((0,Se.W)(I=>{if(I instanceof va)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof os?this.noMatchError(I):I}),(0,Pt.T)(I=>{const M=new gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),j=new Yr(M,I),ne=new Io("",j),Ee=function Ce(w,R,I=null,M=null){return pe(Te(w),R,I,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ne._root),{state:ne,tree:Ee}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Wt).pipe((0,Se.W)(M=>{throw M instanceof os?this.noMatchError(M):M}))}inheritParamsAndData(R){const I=R.value,M=ji(I,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data),R.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(R,I,M,j){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,I,M):this.processSegment(R,I,M,M.segments,j,!0)}processChildren(R,I,M){const j=[];for(const ne of Object.keys(M.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,he.H)(j).pipe((0,Qe.H)(ne=>{const Ee=M.children[ne],pt=function Cs(w,R){const I=w.filter(M=>fr(M)===R);return I.push(...w.filter(M=>fr(M)!==R)),I}(I,ne);return this.processSegmentGroup(R,pt,Ee,ne)}),(0,Ge.S)((ne,Ee)=>(ne.push(...Ee),ne)),(0,Tt.U)(null),function on(w,R){const I=arguments.length>=2;return M=>M.pipe(w?(0,Me.p)((j,ne)=>w(j,ne,M)):Be.D,xt(1),I?(0,Tt.U)(R):(0,hn.v)(()=>new Mt.G))}(),(0,ue.Z)(ne=>{if(null===ne)return Os(M);const Ee=_l(ne);return function Jl(w){w.sort((R,I)=>R.value.outlet===Wt?-1:I.value.outlet===Wt?1:R.value.outlet.localeCompare(I.value.outlet))}(Ee),(0,De.of)(Ee)}))}processSegment(R,I,M,j,ne,Ee){return(0,he.H)(I).pipe((0,Qe.H)(pt=>this.processSegmentAgainstRoute(pt._injector??R,I,pt,M,j,ne,Ee).pipe((0,Se.W)(dt=>{if(dt instanceof os)return(0,De.of)(null);throw dt}))),(0,Fe.$)(pt=>!!pt),(0,Se.W)(pt=>{if(io(pt))return function Uu(w,R,I){return 0===R.length&&!w.children[I]}(M,j,ne)?(0,De.of)([]):Os(M);throw pt}))}processSegmentAgainstRoute(R,I,M,j,ne,Ee,pt){return function ks(w,R,I,M){return!!(fr(w)===M||M!==Wt&&Ya(R,I,w))&&("**"===w.path||ls(R,w,I).matched)}(M,j,ne,Ee)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,j,M,ne,Ee,pt):pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,j,I,M,ne,Ee):Os(j):Os(j)}expandSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,j,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,I,M,j){const ne=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?ar(ne):this.applyRedirects.lineralizeSegments(M,ne).pipe((0,ue.Z)(Ee=>{const pt=new Nn(Ee,{});return this.processSegment(R,I,pt,Ee,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee){const{matched:pt,consumedSegments:dt,remainingSegments:vn,positionalParamSegments:pr}=ls(I,j,ne);if(!pt)return Os(I);const Tr=this.applyRedirects.applyRedirectCommands(dt,j.redirectTo,pr);return j.redirectTo.startsWith("/")?ar(Tr):this.applyRedirects.lineralizeSegments(j,Tr).pipe((0,ue.Z)(Dr=>this.processSegment(R,M,I,Dr.concat(vn),Ee,!1)))}matchSegmentAgainstRoute(R,I,M,j,ne,Ee){let pt;if("**"===M.path){const dt=j.length>0?Pn(j).parameters:{},vn=new gi(j,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(M),fr(M),M.component??M._loadedComponent??null,M,x(M));pt=(0,De.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]}),I.children={}}else pt=ya(I,M,j,R).pipe((0,Pt.T)(({matched:dt,consumedSegments:vn,remainingSegments:pr,parameters:Tr})=>dt?{snapshot:new gi(vn,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(M),fr(M),M.component??M._loadedComponent??null,M,x(M)),consumedSegments:vn,remainingSegments:pr}:null));return pt.pipe((0,Bt.n)(dt=>null===dt?Os(I):this.getChildConfig(R=M._injector??R,M,j).pipe((0,Bt.n)(({routes:vn})=>{const pr=M._loadedInjector??R,{snapshot:Tr,consumedSegments:Dr,remainingSegments:ci}=dt,{segmentGroup:tc,slicedSegments:nc}=Ns(I,Dr,ci,vn);if(0===nc.length&&tc.hasChildren())return this.processChildren(pr,vn,tc).pipe((0,Pt.T)(Js=>null===Js?null:[new Yr(Tr,Js)]));if(0===vn.length&&0===nc.length)return(0,De.of)([new Yr(Tr,[])]);const ca=fr(M)===ne;return this.processSegment(pr,vn,tc,nc,ca?Wt:ne,!0).pipe((0,Pt.T)(Js=>[new Yr(Tr,Js)]))}))))}getChildConfig(R,I,M){return I.children?(0,De.of)({routes:I.children,injector:R}):I.loadChildren?void 0!==I._loadedRoutes?(0,De.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function kc(w,R,I,M){const j=R.canLoad;if(void 0===j||0===j.length)return(0,De.of)(!0);const ne=j.map(Ee=>{const pt=$i(Ee,w);return Tn(function G(w){return w&&ia(w.canLoad)}(pt)?pt.canLoad(R,I):w.runInContext(()=>pt(R,I)))});return(0,De.of)(ne).pipe(oo(),wo())}(R,I,M).pipe((0,ue.Z)(j=>j?this.configLoader.loadChildren(R,I).pipe((0,xe.M)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function qs(w){return(0,Ze.$)(Rt(!1,3))}())):(0,De.of)({routes:[],injector:R})}}function sa(w){const R=w.value.routeConfig;return R&&""===R.path}function _l(w){const R=[],I=new Set;for(const M of w){if(!sa(M)){R.push(M);continue}const j=R.find(ne=>M.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...M.children),I.add(j)):R.push(M)}for(const M of I){const j=_l(M.children);R.push(new Yr(M.value,j))}return R.filter(M=>!I.has(M))}function Di(w){return w.data||{}}function x(w){return w.resolve||{}}function Cn(w){return"string"==typeof w.title||null===w.title}function Or(w){return(0,Bt.n)(R=>{const I=w(R);return I?(0,he.H)(I).pipe((0,Pt.T)(()=>R)):(0,De.of)(R)})}const Qr=new a.nKC("ROUTES");let Gr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,De.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const M=Tn(I.loadComponent()).pipe((0,Pt.T)(Ar),(0,xe.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),(0,In.j)(()=>{this.componentLoaders.delete(I)})),j=new Jt(M,()=>new dn.B).pipe(be());return this.componentLoaders.set(I,j),j}loadChildren(I,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,De.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const ne=function Cr(w,R,I,M){return Tn(w.loadChildren()).pipe((0,Pt.T)(Ar),(0,ue.Z)(j=>j instanceof a.Co$||Array.isArray(j)?(0,De.of)(j):(0,he.H)(R.compileModuleAsync(j))),(0,Pt.T)(j=>{M&&M(w);let ne,Ee,pt=!1;return Array.isArray(j)?(Ee=j,!0):(ne=j.create(I).injector,Ee=ne.get(Qr,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(si),injector:ne}}))}(M,this.compiler,I,this.onLoadEndListener).pipe((0,In.j)(()=>{this.childrenLoaders.delete(M)})),Ee=new Jt(ne,()=>new dn.B).pipe(be());return this.childrenLoaders.set(M,Ee),Ee}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ar(w){return function yi(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ri=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dn.B,this.transitionAbortSubject=new dn.B,this.configLoader=(0,a.WQX)(Gr),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Ie),this.rootContexts=(0,a.WQX)($r),this.inputBindingEnabled=null!==(0,a.WQX)(Q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new ui(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ko(j))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:M})}setupNavigations(I,M,j){return this.transitions=new Ne.t({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:I.urlHandlingStrategy.extract(M),urlAfterRedirects:I.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gi,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Me.p)(ne=>0!==ne.id),(0,Pt.T)(ne=>({...ne,extractedUrl:I.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Bt.n)(ne=>{this.currentTransition=ne;let Ee=!1,pt=!1;return(0,De.of)(ne).pipe((0,xe.M)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bt.n)(dt=>{const vn=dt.currentBrowserUrl.toString(),pr=!I.navigated||dt.extractedUrl.toString()!==vn||vn!==dt.currentUrlTree.toString();if(!pr&&"reload"!==(dt.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Dr="";return this.events.next(new Uo(dt.id,this.urlSerializer.serialize(dt.rawUrl),Dr,0)),dt.resolve(null),rt.w}if(I.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return(0,De.of)(dt).pipe((0,Bt.n)(Dr=>{const ci=this.transitions?.getValue();return this.events.next(new cs(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),ci!==this.transitions?.getValue()?rt.w:Promise.resolve(Dr)}),function J(w,R,I,M,j,ne){return(0,ue.Z)(Ee=>function Ys(w,R,I,M,j,ne,Ee="emptyOnly"){return new Sa(w,R,I,M,j,Ee,ne).recognize()}(w,R,I,M,Ee.extractedUrl,j,ne).pipe((0,Pt.T)(({state:pt,tree:dt})=>({...Ee,targetSnapshot:pt,urlAfterRedirects:dt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,xe.M)(Dr=>{ne.targetSnapshot=Dr.targetSnapshot,ne.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects};const ci=new Bi(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(ci)}));if(pr&&I.urlHandlingStrategy.shouldProcessUrl(dt.currentRawUrl)){const{id:Dr,extractedUrl:ci,source:tc,restoredState:nc,extras:ca}=dt,Js=new cs(Dr,this.urlSerializer.serialize(ci),tc,nc);this.events.next(Js);const Ea=Zt(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...dt,targetSnapshot:Ea,urlAfterRedirects:ci,extras:{...ca,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ne)}{const Dr="";return this.events.next(new Uo(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Dr,1)),dt.resolve(null),rt.w}}),(0,xe.M)(dt=>{const vn=new Co(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(vn)}),(0,Pt.T)(dt=>(this.currentTransition=ne={...dt,guards:Ks(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)},ne)),function is(w,R){return(0,ue.Z)(I=>{const{targetSnapshot:M,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:Ee}}=I;return 0===Ee.length&&0===ne.length?(0,De.of)({...I,guardsResult:!0}):function jo(w,R,I,M){return(0,he.H)(w).pipe((0,ue.Z)(j=>function zi(w,R,I,M,j){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,De.of)(!0);const Ee=ne.map(pt=>{const dt=Ai(R)??j,vn=$i(pt,dt);return Tn(function oe(w){return w&&ia(w.canDeactivate)}(vn)?vn.canDeactivate(w,R,I,M):dt.runInContext(()=>vn(w,R,I,M))).pipe((0,Fe.$)())});return(0,De.of)(Ee).pipe(oo())}(j.component,j.route,I,R,M)),(0,Fe.$)(j=>!0!==j,!0))}(Ee,M,j,w).pipe((0,ue.Z)(pt=>pt&&function Aa(w){return"boolean"==typeof w}(pt)?function Bo(w,R,I,M){return(0,he.H)(R).pipe((0,Qe.H)(j=>(0,cn.x)(function ml(w,R){return null!==w&&R&&R(new bo(w)),(0,De.of)(!0)}(j.route.parent,M),function So(w,R){return null!==w&&R&&R(new Es(w)),(0,De.of)(!0)}(j.route,M),function _a(w,R,I){const M=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(Ee=>function ra(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>We(()=>{const pt=Ee.guards.map(dt=>{const vn=Ai(Ee.node)??I,pr=$i(dt,vn);return Tn(function O(w){return w&&ia(w.canActivateChild)}(pr)?pr.canActivateChild(M,w):vn.runInContext(()=>pr(M,w))).pipe((0,Fe.$)())});return(0,De.of)(pt).pipe(oo())}));return(0,De.of)(ne).pipe(oo())}(w,j.path,I),function ai(w,R,I){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,De.of)(!0);const j=M.map(ne=>We(()=>{const Ee=Ai(R)??I,pt=$i(ne,Ee);return Tn(function Y(w){return w&&ia(w.canActivate)}(pt)?pt.canActivate(R,w):Ee.runInContext(()=>pt(R,w))).pipe((0,Fe.$)())}));return(0,De.of)(j).pipe(oo())}(w,j.route,I))),(0,Fe.$)(j=>!0!==j,!0))}(M,ne,w,R):(0,De.of)(pt)),(0,Pt.T)(pt=>({...I,guardsResult:pt})))})}(this.environmentInjector,dt=>this.events.next(dt)),(0,xe.M)(dt=>{if(ne.guardsResult=dt.guardsResult,Lt(dt.guardsResult))throw mn(0,dt.guardsResult);const vn=new Ss(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.events.next(vn)}),(0,Me.p)(dt=>!!dt.guardsResult||(this.cancelNavigationTransition(dt,"",3),!1)),Or(dt=>{if(dt.guards.canActivateChecks.length)return(0,De.of)(dt).pipe((0,xe.M)(vn=>{const pr=new Ui(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(pr)}),(0,Bt.n)(vn=>{let pr=!1;return(0,De.of)(vn).pipe(function U(w,R){return(0,ue.Z)(I=>{const{targetSnapshot:M,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,De.of)(I);let ne=0;return(0,he.H)(j).pipe((0,Qe.H)(Ee=>function X(w,R,I,M){const j=w.routeConfig,ne=w._resolve;return void 0!==j?.title&&!Cn(j)&&(ne[Vt]=j.title),function we(w,R,I,M){const j=function _t(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===j.length)return(0,De.of)({});const ne={};return(0,he.H)(j).pipe((0,ue.Z)(Ee=>function Nt(w,R,I,M){const j=Ai(R)??M,ne=$i(w,j);return Tn(ne.resolve?ne.resolve(R,I):j.runInContext(()=>ne(R,I)))}(w[Ee],R,I,M).pipe((0,Fe.$)(),(0,xe.M)(pt=>{ne[Ee]=pt}))),xt(1),function Fn(w){return(0,Pt.T)(()=>w)}(ne),(0,Se.W)(Ee=>io(Ee)?rt.w:(0,Ze.$)(Ee)))}(ne,w,R,M).pipe((0,Pt.T)(Ee=>(w._resolvedData=Ee,w.data=ji(w,I).resolve,j&&Cn(j)&&(w.data[Vt]=j.title),null)))}(Ee.route,M,w,R)),(0,xe.M)(()=>ne++),xt(1),(0,ue.Z)(Ee=>ne===j.length?(0,De.of)(I):rt.w))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,xe.M)({next:()=>pr=!0,complete:()=>{pr||this.cancelNavigationTransition(vn,"",2)}}))}),(0,xe.M)(vn=>{const pr=new na(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(pr)}))}),Or(dt=>{const vn=pr=>{const Tr=[];pr.routeConfig?.loadComponent&&!pr.routeConfig._loadedComponent&&Tr.push(this.configLoader.loadComponent(pr.routeConfig).pipe((0,xe.M)(Dr=>{pr.component=Dr}),(0,Pt.T)(()=>{})));for(const Dr of pr.children)Tr.push(...vn(Dr));return Tr};return bt(vn(dt.targetSnapshot.root)).pipe((0,Tt.U)(),(0,qt.s)(1))}),Or(()=>this.afterPreactivation()),(0,Pt.T)(dt=>{const vn=function ye(w,R,I){const M=Re(w,R._root,I?I._root:void 0);return new Mr(M,R)}(I.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return this.currentTransition=ne={...dt,targetRouterState:vn},ne}),(0,xe.M)(()=>{this.events.next(new Qn)}),((w,R,I,M)=>(0,Pt.T)(j=>(new ma(R,j.targetRouterState,j.currentRouterState,I,M).activate(w),j)))(this.rootContexts,I.routeReuseStrategy,dt=>this.events.next(dt),this.inputBindingEnabled),(0,qt.s)(1),(0,xe.M)({next:dt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects))),I.titleStrategy?.updateTitle(dt.targetRouterState.snapshot),dt.resolve(!0)},complete:()=>{Ee=!0}}),function Gt(w){return(0,Ft.N)((R,I)=>{(0,et.Tg)(w).subscribe((0,at._)(I,()=>I.complete(),dr.l)),!I.closed&&R.subscribe(I)})}(this.transitionAbortSubject.pipe((0,xe.M)(dt=>{throw dt}))),(0,In.j)(()=>{Ee||pt||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Se.W)(dt=>{if(pt=!0,sr(dt))this.events.next(new Vr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),dt.message,dt.cancellationCode)),function gn(w){return sr(w)&&Lt(w.url)}(dt)?this.events.next(new fi(dt.url)):ne.resolve(!1);else{this.events.next(new co(ne.id,this.urlSerializer.serialize(ne.extractedUrl),dt,ne.targetSnapshot??void 0));try{ne.resolve(I.errorHandler(dt))}catch(vn){ne.reject(vn)}}return rt.w}))}))}cancelNavigationTransition(I,M,j){const ne=new Vr(I.id,this.urlSerializer.serialize(I.extractedUrl),M,j);this.events.next(ne),I.resolve(!1)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ao(w){return w!==Gi}let $o=(()=>{class w{buildTitle(I){let M,j=I.root;for(;void 0!==j;)M=this.getResolvedTitleForRoute(j)??M,j=j.children.find(ne=>ne.outlet===Wt);return M}getResolvedTitleForRoute(I){return I.data[Vt]}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Fs)},providedIn:"root"})}return w})(),Fs=(()=>{class w extends $o{constructor(I){super(),this.title=I}updateTitle(I){const M=this.buildTitle(I);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO($n.hE))};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ho=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Zn)},providedIn:"root"})}return w})();class xi{shouldDetach(R){return!1}store(R,I){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,I){return R.routeConfig===I.routeConfig}}let Zn=(()=>{class w extends xi{static#e=this.\u0275fac=function(){let I;return function(j){return(I||(I=a.xGo(w)))(j||w)}}();static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const us=new a.nKC("",{providedIn:"root",factory:()=>({})});let Zl=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Jr)},providedIn:"root"})}return w})(),Jr=(()=>{class w{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,M){return I}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var ss=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(ss||{});function Is(w,R){w.events.pipe((0,Me.p)(I=>I instanceof Br||I instanceof Vr||I instanceof co||I instanceof Uo),(0,Pt.T)(I=>I instanceof Br||I instanceof Uo?ss.COMPLETE:I instanceof Vr&&(0===I.code||1===I.code)?ss.REDIRECTING:ss.FAILED),(0,Me.p)(I=>I!==ss.REDIRECTING),(0,qt.s)(1)).subscribe(()=>{R()})}function Qi(w){throw w}function eu(w,R,I){return R.parse("/")}const Xa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.WQX)(a.H3F),this.isNgZoneEnabled=!1,this._events=new dn.B,this.options=(0,a.WQX)(us,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.$K3),this.errorHandler=this.options.errorHandler||Qi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.WQX)(Zl),this.routeReuseStrategy=(0,a.WQX)(Ho),this.titleStrategy=(0,a.WQX)($o),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.WQX)(Qr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.WQX)(Ri),this.urlSerializer=(0,a.WQX)(Ie),this.location=(0,a.WQX)(nr.aZ),this.componentInputBindingEnabled=!!(0,a.WQX)(Q,{optional:!0}),this.eventsSubscription=new wt.yU,this.isNgZoneEnabled=(0,a.WQX)(a.SKi)instanceof a.SKi&&a.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(yl(M)&&this._events.next(M));if(M instanceof cs)Ao(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(M instanceof Uo)this.rawUrlTree=j.rawUrl;else if(M instanceof Bi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ne,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(M instanceof Qn)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(M instanceof Vr)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory(j);else if(M instanceof fi){const ne=this.urlHandlingStrategy.merge(M.url,j.currentRawUrl),Ee={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ao(j.source)};this.scheduleNavigation(ne,Gi,null,Ee,{resolve:j.resolve,reject:j.reject,promise:j.promise})}M instanceof co&&this.restoreHistory(j,!0),M instanceof Br&&(this.navigated=!0),yl(M)&&this._events.next(M)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const M="popstate"===I.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,M,I.state)},0)}))}navigateToSyncWithBrowser(I,M,j){const ne={replaceUrl:!0},Ee=j?.navigationId?j:null;if(j){const dt={...j};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(ne.state=dt)}const pt=this.parseUrl(I);this.scheduleNavigation(pt,M,Ee,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,M={}){const{relativeTo:j,queryParams:ne,fragment:Ee,queryParamsHandling:pt,preserveFragment:dt}=M,vn=dt?this.currentUrlTree.fragment:Ee;let Tr,pr=null;switch(pt){case"merge":pr={...this.currentUrlTree.queryParams,...ne};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=ne||null}null!==pr&&(pr=this.removeEmptyProps(pr));try{Tr=Te(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Tr=this.currentUrlTree.root}return pe(Tr,I,pr,vn??null)}navigateByUrl(I,M={skipLocationChange:!1}){const j=Lt(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,Gi,null,M)}navigate(I,M={skipLocationChange:!1}){return function Qa(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new a.wOt(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,M),M)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let M;try{M=this.urlSerializer.parse(I)}catch(j){M=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return M}isActive(I,M){let j;if(j=!0===M?{...Xa}:!1===M?{...ds}:M,Lt(I))return ti(this.currentUrlTree,I,j);const ne=this.parseUrl(I);return ti(this.currentUrlTree,ne,j)}removeEmptyProps(I){return Object.keys(I).reduce((M,j)=>{const ne=I[j];return null!=ne&&(M[j]=ne),M},{})}scheduleNavigation(I,M,j,ne,Ee){if(this.disposed)return Promise.resolve(!1);let pt,dt,vn;Ee?(pt=Ee.resolve,dt=Ee.reject,vn=Ee.promise):vn=new Promise((Tr,Dr)=>{pt=Tr,dt=Dr});const pr=this.pendingTasks.add();return Is(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pr))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ne,resolve:pt,reject:dt,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(I,M){const j=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(j)||M.extras.replaceUrl){const Ee={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(j,"",Ee)}else{const ne={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(j,"",ne)}}restoreHistory(I,M=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,M){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:M}:{navigationId:I}}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function yl(w){return!(w instanceof Qn||w instanceof fi)}let Xo=(()=>{class w{constructor(I,M,j,ne,Ee,pt){this.router=I,this.route=M,this.tabIndexAttribute=j,this.renderer=ne,this.el=Ee,this.locationStrategy=pt,this.href=null,this.commands=null,this.onChanges=new dn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const dt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=I.events.subscribe(vn=>{vn instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,M,j,ne,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||M||j||ne||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,M){const j=this.renderer,ne=this.el.nativeElement;null!==M?j.setAttribute(ne,I,M):j.removeAttribute(ne,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||w)(a.rXU(Ii),a.rXU(lr),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(nr.hb))};static#t=this.\u0275dir=a.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,j){1&M&&a.bIt("click",function(Ee){return j.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&M&&a.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.L39],skipLocationChange:["skipLocationChange","skipLocationChange",a.L39],replaceUrl:["replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}return w})();class Vc{}let Bu=(()=>{class w{constructor(I,M,j,ne,Ee){this.router=I,this.injector=j,this.preloadingStrategy=ne,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.p)(I=>I instanceof Br),(0,Qe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,M){const j=[];for(const ne of M){ne.providers&&!ne._injector&&(ne._injector=(0,a.Ol2)(ne.providers,I,`Route: ${ne.path}`));const Ee=ne._injector??I,pt=ne._loadedInjector??Ee;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&j.push(this.preloadConfig(Ee,ne)),(ne.children||ne._loadedRoutes)&&j.push(this.processRoutes(pt,ne.children??ne._loadedRoutes))}return(0,he.H)(j).pipe((0,wn.U)())}preloadConfig(I,M){return this.preloadingStrategy.preload(M,()=>{let j;j=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(I,M):(0,De.of)(null);const ne=j.pipe((0,ue.Z)(Ee=>null===Ee?(0,De.of)(void 0):(M._loadedRoutes=Ee.routes,M._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??I,Ee.routes))));if(M.loadComponent&&!M._loadedComponent){const Ee=this.loader.loadComponent(M);return(0,he.H)([ne,Ee]).pipe((0,wn.U)())}return ne})}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO(Ii),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(Vc),a.KVO(Gr))};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const $u=new a.nKC("");let er=(()=>{class w{constructor(I,M,j,ne,Ee={}){this.urlSerializer=I,this.transitions=M,this.viewportScroller=j,this.zone=ne,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Br?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Uo&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof ns&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ns(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac})}return w})();function Go(w,R){return{\u0275kind:w,\u0275providers:R}}function Lc(){const w=(0,a.WQX)(a.zZn);return R=>{const I=w.get(a.o8S);if(R!==I.components[0])return;const M=w.get(Ii),j=w.get(bl);1===w.get(Ra)&&M.initialNavigation(),w.get(Dt,null,a.$GK.Optional)?.setUpPreloading(),w.get($u,null,a.$GK.Optional)?.init(),M.resetRootComponentType(I.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const bl=new a.nKC("",{factory:()=>new dn.B}),Ra=new a.nKC("",{providedIn:"root",factory:()=>1}),Dt=new a.nKC("");function Uc(w){return Go(0,[{provide:Dt,useExisting:Bu},{provide:Vc,useExisting:w}])}const zo=new a.nKC("ROUTER_FORROOT_GUARD"),Oa=[nr.aZ,{provide:Ie,useClass:ft},Ii,$r,{provide:lr,useFactory:function Ja(w){return w.routerState.root},deps:[Ii]},Gr,[]];function qn(){return new a.NEm("Router",Ii)}let Za=(()=>{class w{constructor(I){}static forRoot(I,M){return{ngModule:w,providers:[Oa,[],{provide:Qr,multi:!0,useValue:I},{provide:zo,useFactory:Tl,deps:[[Ii,new a.Xx1,new a.kdw]]},{provide:us,useValue:M||{}},M?.useHash?{provide:nr.hb,useClass:nr.fw}:{provide:nr.hb,useClass:nr.Sm},{provide:$u,useFactory:()=>{const w=(0,a.WQX)(nr.Xr),R=(0,a.WQX)(a.SKi),I=(0,a.WQX)(us),M=(0,a.WQX)(Ri),j=(0,a.WQX)(Ie);return I.scrollOffset&&w.setOffset(I.scrollOffset),new er(j,M,w,R,I)}},M?.preloadingStrategy?Uc(M.preloadingStrategy).\u0275providers:[],{provide:a.NEm,multi:!0,useFactory:qn},M?.initialNavigation?Xs(M):[],M?.bindToComponentInputs?Go(8,[z,{provide:Q,useExisting:z}]).\u0275providers:[],[{provide:ps,useFactory:Lc},{provide:a.iLQ,multi:!0,useExisting:ps}]]}}static forChild(I){return{ngModule:w,providers:[{provide:Qr,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO(zo,8))};static#t=this.\u0275mod=a.$C({type:w});static#n=this.\u0275inj=a.G2t({})}return w})();function Tl(w){return"guarded"}function Xs(w){return["disabled"===w.initialNavigation?Go(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const R=(0,a.WQX)(Ii);return()=>{R.setUpLocationChangeListener()}}},{provide:Ra,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Go(2,[{provide:Ra,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:R=>{const I=R.get(nr.hj,Promise.resolve());return()=>I.then(()=>new Promise(M=>{const j=R.get(Ii),ne=R.get(bl);Is(j,()=>{M(!0)}),R.get(Ri).afterPreactivation=()=>(M(!0),ne.closed?(0,De.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const ps=new a.nKC("")},3345:(rn,Je,L)=>{L.d(Je,{A:()=>bt});var a=L(1076),ae=L(1362),o=L(7852),Ae=L(8041);class he{constructor(jt,Mt){this._delegate=jt,this.firebase=Mt,(0,o._addComponent)(jt,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(jt,Mt=o._DEFAULT_ENTRY_NAME){var cn;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(jt);return!et.isInitialized()&&"EXPLICIT"===(null===(cn=et.getComponent())||void 0===cn?void 0:cn.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Mt})}_removeServiceInstance(jt,Mt=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(Mt)}_addComponent(jt){(0,o._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,o._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Be(){const Ct=function Le(Ct){const jt={},Mt={__esModule:!0,initializeApp:function We(wt,Ft={}){const be=o.initializeApp(wt,Ft);if((0,a.gR)(jt,be.name))return jt[be.name];const Jt=new Ct(be,Mt);return jt[be.name]=Jt,Jt},app:et,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Ze(wt){const Ft=wt.name,be=Ft.replace("-compat","");if(o._registerComponent(wt)&&"PUBLIC"===wt.type){const Jt=(dn=et())=>{if("function"!=typeof dn[be])throw Ne.create("invalid-app-argument",{appName:Ft});return dn[be]()};void 0!==wt.serviceProps&&(0,a.zw)(Jt,wt.serviceProps),Mt[be]=Jt,Ct.prototype[be]=function(...dn){return this._getService.bind(this,Ft).apply(this,wt.multipleInstances?dn:[])}}return"PUBLIC"===wt.type?Mt[be]:null},removeApp:function cn(wt){delete jt[wt]},useAsService:function rt(wt,Ft){return"serverAuth"===Ft?null:Ft},modularAPIs:o}};function et(wt){if(!(0,a.gR)(jt,wt=wt||o._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:wt});return jt[wt]}return Mt.default=Mt,Object.defineProperty(Mt,"apps",{get:function ot(){return Object.keys(jt).map(wt=>jt[wt])}}),et.App=Ct,Mt}(he);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function jt(Mt){(0,a.zw)(Ct,Mt)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),Ct}(),ce=new Ae.Vy("@firebase/app-compat");if((0,a.Bd)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=Z;!function Xe(Ct){(0,o.registerVersion)("@firebase/app-compat","0.2.35",Ct)}()},7852:(rn,Je,L)=>{L.r(Je),L.d(Je,{FirebaseError:()=>Ae.g,SDK_VERSION:()=>Ie,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>ni,_apps:()=>hr,_clearComponents:()=>Nn,_components:()=>ti,_getProvider:()=>ln,_isFirebaseApp:()=>Yn,_isFirebaseServerApp:()=>gr,_registerComponent:()=>Ki,_removeServiceInstance:()=>ri,_serverApps:()=>br,deleteApp:()=>cr,getApp:()=>Mn,getApps:()=>wr,initializeApp:()=>ft,initializeServerApp:()=>Kt,onLog:()=>H,registerVersion:()=>ee,setLogLevel:()=>V});var a=L(467),ae=L(1362),o=L(8041),Ae=L(1076);const he=(Te,pe)=>pe.some(Et=>Te instanceof Et);let De,Ne;const Z=new WeakMap,ce=new WeakMap,me=new WeakMap,at=new WeakMap,Xe=new WeakMap;let jt={get(Te,pe,Et){if(Te instanceof IDBTransaction){if("done"===pe)return ce.get(Te);if("objectStoreNames"===pe)return Te.objectStoreNames||me.get(Te);if("store"===pe)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return We(Te[pe])},set:(Te,pe,Et)=>(Te[pe]=Et,!0),has:(Te,pe)=>Te instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in Te};function et(Te){return"function"==typeof Te?function cn(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...pe){return Te.apply(ot(this),pe),We(Z.get(this))}:function(...pe){return We(Te.apply(ot(this),pe))}:function(pe,...Et){const en=Te.call(ot(this),pe,...Et);return me.set(en,pe.sort?pe.sort():[pe]),We(en)}}(Te):(Te instanceof IDBTransaction&&function Ct(Te){if(ce.has(Te))return;const pe=new Promise((Et,en)=>{const Dn=()=>{Te.removeEventListener("complete",On),Te.removeEventListener("error",kn),Te.removeEventListener("abort",kn)},On=()=>{Et(),Dn()},kn=()=>{en(Te.error||new DOMException("AbortError","AbortError")),Dn()};Te.addEventListener("complete",On),Te.addEventListener("error",kn),Te.addEventListener("abort",kn)});ce.set(Te,pe)}(Te),he(Te,function Le(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,jt):Te)}function We(Te){if(Te instanceof IDBRequest)return function bt(Te){const pe=new Promise((Et,en)=>{const Dn=()=>{Te.removeEventListener("success",On),Te.removeEventListener("error",kn)},On=()=>{Et(We(Te.result)),Dn()},kn=()=>{en(Te.error),Dn()};Te.addEventListener("success",On),Te.addEventListener("error",kn)});return pe.then(Et=>{Et instanceof IDBCursor&&Z.set(Et,Te)}).catch(()=>{}),Xe.set(pe,Te),pe}(Te);if(at.has(Te))return at.get(Te);const pe=et(Te);return pe!==Te&&(at.set(Te,pe),Xe.set(pe,Te)),pe}const ot=Te=>Xe.get(Te),wt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],be=new Map;function Jt(Te,pe){if(!(Te instanceof IDBDatabase)||pe in Te||"string"!=typeof pe)return;if(be.get(pe))return be.get(pe);const Et=pe.replace(/FromIndex$/,""),en=pe!==Et,Dn=Ft.includes(Et);if(!(Et in(en?IDBIndex:IDBObjectStore).prototype)||!Dn&&!wt.includes(Et))return;const On=function(){var kn=(0,a.A)(function*(qr,...Fr){const ki=this.transaction(qr,Dn?"readwrite":"readonly");let qo=ki.store;return en&&(qo=qo.index(Fr.shift())),(yield Promise.all([qo[Et](...Fr),Dn&&ki.done]))[0]});return function(Fr){return kn.apply(this,arguments)}}();return be.set(pe,On),On}!function Mt(Te){jt=Te(jt)}(Te=>({...Te,get:(pe,Et,en)=>Jt(pe,Et)||Te.get(pe,Et,en),has:(pe,Et)=>!!Jt(pe,Et)||Te.has(pe,Et)}));class dn{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function nr(Te){const pe=Te.getComponent();return"VERSION"===pe?.type}(Et)){const en=Et.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Et=>Et).join(" ")}}const Pt="@firebase/app",Bt="0.10.5",qt=new o.Vy("@firebase/app"),Pn="[DEFAULT]",Tn={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hr=new Map,br=new Map,ti=new Map;function Hn(Te,pe){try{Te.container.addComponent(pe)}catch(Et){qt.debug(`Component ${pe.name} failed to register with FirebaseApp ${Te.name}`,Et)}}function ni(Te,pe){Te.container.addOrOverwriteComponent(pe)}function Ki(Te){const pe=Te.name;if(ti.has(pe))return qt.debug(`There were multiple attempts to register component ${pe}.`),!1;ti.set(pe,Te);for(const Et of hr.values())Hn(Et,Te);for(const Et of br.values())Hn(Et,Te);return!0}function ln(Te,pe){const Et=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Te.container.getProvider(pe)}function ri(Te,pe,Et=Pn){ln(Te,pe).clearInstance(Et)}function Yn(Te){return void 0!==Te.options}function gr(Te){return void 0!==Te.settings}function Nn(){ti.clear()}const Ke=new Ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mt{constructor(pe,Et,en){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Ke.create("app-deleted",{appName:this._name})}}class ie extends mt{constructor(pe,Et,en,Dn){const On=void 0!==Et.automaticDataCollectionEnabled&&Et.automaticDataCollectionEnabled,kn={name:en,automaticDataCollectionEnabled:On};super(void 0!==pe.apiKey?pe:pe.options,kn,Dn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:On},Et),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Et.releaseOnDeref=void 0,ee(Pt,Bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(pe){this.isDeleted||(this._refCount++,void 0!==pe&&this._finalizationRegistry.register(pe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){cr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ke.create("server-app-deleted")}}const Ie="10.12.2";function ft(Te,pe={}){let Et=Te;"object"!=typeof pe&&(pe={name:pe});const en=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},pe),Dn=en.name;if("string"!=typeof Dn||!Dn)throw Ke.create("bad-app-name",{appName:String(Dn)});if(Et||(Et=(0,Ae.T9)()),!Et)throw Ke.create("no-options");const On=hr.get(Dn);if(On){if((0,Ae.bD)(Et,On.options)&&(0,Ae.bD)(en,On.config))return On;throw Ke.create("duplicate-app",{appName:Dn})}const kn=new ae.h1(Dn);for(const Fr of ti.values())kn.addComponent(Fr);const qr=new mt(Et,en,kn);return hr.set(Dn,qr),qr}function Kt(Te,pe){if((0,Ae.Bd)())throw Ke.create("invalid-server-app-environment");let Et;void 0===pe.automaticDataCollectionEnabled&&(pe.automaticDataCollectionEnabled=!1),Et=Yn(Te)?Te.options:Te;const en=Object.assign(Object.assign({},pe),Et);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==pe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ke.create("finalization-registry-not-supported",{});const On=""+(ki=JSON.stringify(en),[...ki].reduce((qo,Rr)=>Math.imul(31,qo)+Rr.charCodeAt(0)|0,0)),kn=br.get(On);var ki;if(kn)return kn.incRefCount(pe.releaseOnDeref),kn;const qr=new ae.h1(On);for(const ki of ti.values())qr.addComponent(ki);const Fr=new ie(Et,pe,On,qr);return br.set(On,Fr),Fr}function Mn(Te=Pn){const pe=hr.get(Te);if(!pe&&Te===Pn&&(0,Ae.T9)())return ft();if(!pe)throw Ke.create("no-app",{appName:Te});return pe}function wr(){return Array.from(hr.values())}function cr(Te){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.A)(function*(Te){let pe=!1;const Et=Te.name;hr.has(Et)?(pe=!0,hr.delete(Et)):br.has(Et)&&Te.decRefCount()<=0&&(br.delete(Et),pe=!0),pe&&(yield Promise.all(Te.container.getProviders().map(en=>en.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function ee(Te,pe,Et){var en;let Dn=null!==(en=Tn[Te])&&void 0!==en?en:Te;Et&&(Dn+=`-${Et}`);const On=Dn.match(/\s|\//),kn=pe.match(/\s|\//);if(On||kn){const qr=[`Unable to register library "${Dn}" with version "${pe}":`];return On&&qr.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),On&&kn&&qr.push("and"),kn&&qr.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void qt.warn(qr.join(" "))}Ki(new ae.uA(`${Dn}-version`,()=>({library:Dn,version:pe}),"VERSION"))}function H(Te,pe){if(null!==Te&&"function"!=typeof Te)throw Ke.create("invalid-log-argument");(0,o.Ey)(Te,pe)}function V(Te){(0,o.He)(Te)}const F="firebase-heartbeat-database",le=1,je="firebase-heartbeat-store";let It=null;function Ot(){return It||(It=function Ze(Te,pe,{blocked:Et,upgrade:en,blocking:Dn,terminated:On}={}){const kn=indexedDB.open(Te,pe),qr=We(kn);return en&&kn.addEventListener("upgradeneeded",Fr=>{en(We(kn.result),Fr.oldVersion,Fr.newVersion,We(kn.transaction),Fr)}),Et&&kn.addEventListener("blocked",Fr=>Et(Fr.oldVersion,Fr.newVersion,Fr)),qr.then(Fr=>{On&&Fr.addEventListener("close",()=>On()),Dn&&Fr.addEventListener("versionchange",ki=>Dn(ki.oldVersion,ki.newVersion,ki))}).catch(()=>{}),qr}(F,le,{upgrade:(Te,pe)=>{if(0===pe)try{Te.createObjectStore(je)}catch(Et){console.warn(Et)}}}).catch(Te=>{throw Ke.create("idb-open",{originalErrorMessage:Te.message})})),It}function tn(){return(tn=(0,a.A)(function*(Te){try{const Et=(yield Ot()).transaction(je),en=yield Et.objectStore(je).get(An(Te));return yield Et.done,en}catch(pe){if(pe instanceof Ae.g)qt.warn(pe.message);else{const Et=Ke.create("idb-get",{originalErrorMessage:pe?.message});qt.warn(Et.message)}}})).apply(this,arguments)}function un(Te,pe){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.A)(function*(Te,pe){try{const en=(yield Ot()).transaction(je,"readwrite");yield en.objectStore(je).put(pe,An(Te)),yield en.done}catch(Et){if(Et instanceof Ae.g)qt.warn(Et.message);else{const en=Ke.create("idb-set",{originalErrorMessage:Et?.message});qt.warn(en.message)}}})).apply(this,arguments)}function An(Te){return`${Te.name}!${Te.options.appId}`}class Oo{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Pe(Et),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var pe=this;return(0,a.A)(function*(){var Et,en;const On=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=ii();if((null!=(null===(Et=pe._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||(pe._heartbeatsCache=yield pe._heartbeatsCachePromise,null!=(null===(en=pe._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&pe._heartbeatsCache.lastSentHeartbeatDate!==kn&&!pe._heartbeatsCache.heartbeats.some(qr=>qr.date===kn))return pe._heartbeatsCache.heartbeats.push({date:kn,agent:On}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(qr=>{const Fr=new Date(qr.date).valueOf();return Date.now()-Fr<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,a.A)(function*(){var Et;if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null==(null===(Et=pe._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||0===pe._heartbeatsCache.heartbeats.length)return"";const en=ii(),{heartbeatsToSend:Dn,unsentEntries:On}=function Li(Te,pe=1024){const Et=[];let en=Te.slice();for(const Dn of Te){const On=Et.find(kn=>kn.agent===Dn.agent);if(On){if(On.dates.push(Dn.date),Lt(Et)>pe){On.dates.pop();break}}else if(Et.push({agent:Dn.agent,dates:[Dn.date]}),Lt(Et)>pe){Et.pop();break}en=en.slice(1)}return{heartbeatsToSend:Et,unsentEntries:en}}(pe._heartbeatsCache.heartbeats),kn=(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:Dn}));return pe._heartbeatsCache.lastSentHeartbeatDate=en,On.length>0?(pe._heartbeatsCache.heartbeats=On,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),kn})()}}function ii(){return(new Date).toISOString().substring(0,10)}class Pe{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,Ae.zW)()&&(0,Ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,a.A)(function*(){if(yield pe._canUseIndexedDBPromise){const en=yield function pn(Te){return tn.apply(this,arguments)}(pe.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(pe){var Et=this;return(0,a.A)(function*(){var en;if(yield Et._canUseIndexedDBPromise){const On=yield Et.read();return un(Et.app,{lastSentHeartbeatDate:null!==(en=pe.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Et=this;return(0,a.A)(function*(){var en;if(yield Et._canUseIndexedDBPromise){const On=yield Et.read();return un(Et.app,{lastSentHeartbeatDate:null!==(en=pe.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...pe.heartbeats]})}})()}}function Lt(Te){return(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:Te})).length}!function Ce(Te){Ki(new ae.uA("platform-logger",pe=>new dn(pe),"PRIVATE")),Ki(new ae.uA("heartbeat",pe=>new Oo(pe),"PRIVATE")),ee(Pt,Bt,Te),ee(Pt,Bt,"esm2017"),ee("fire-js","")}("")},1362:(rn,Je,L)=>{L.d(Je,{h1:()=>Le,uA:()=>o});var a=L(467),ae=L(1076);class o{constructor(Z,ce,me){this.name=Z,this.instanceFactory=ce,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const Ae="[DEFAULT]";class he{constructor(Z,ce){this.name=Z,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const ce=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(ce)){const me=new ae.cY;if(this.instancesDeferred.set(ce,me),this.isInitialized(ce)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ce});at&&me.resolve(at)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Z){var ce;const me=this.normalizeInstanceIdentifier(Z?.identifier),at=null!==(ce=Z?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Xe){if(at)return null;throw Xe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ne(Be){return"EAGER"===Be.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[ce,me]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ce);try{const Xe=this.getOrInitializeService({instanceIdentifier:at});me.resolve(Xe)}catch{}}}}clearInstance(Z=Ae){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,a.A)(function*(){const ce=Array.from(Z.instances.values());yield Promise.all([...ce.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ce.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=Ae){return this.instances.has(Z)}getOptions(Z=Ae){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:ce={}}=Z,me=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:me,options:ce});for(const[Xe,bt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Xe)&&bt.resolve(at);return at}onInit(Z,ce){var me;const at=this.normalizeInstanceIdentifier(ce),Xe=null!==(me=this.onInitCallbacks.get(at))&&void 0!==me?me:new Set;Xe.add(Z),this.onInitCallbacks.set(at,Xe);const bt=this.instances.get(at);return bt&&Z(bt,at),()=>{Xe.delete(Z)}}invokeOnInitCallbacks(Z,ce){const me=this.onInitCallbacks.get(ce);if(me)for(const at of me)try{at(Z,ce)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:ce={}}){let me=this.instances.get(Z);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=Z,Be===Ae?void 0:Be),options:ce}),this.instances.set(Z,me),this.instancesOptions.set(Z,ce),this.invokeOnInitCallbacks(me,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,me)}catch{}var Be;return me||null}normalizeInstanceIdentifier(Z=Ae){return this.component?this.component.multipleInstances?Z:Ae:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const ce=this.getProvider(Z.name);if(ce.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);ce.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const ce=new he(Z,this);return this.providers.set(Z,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,Je,L)=>{L.d(Je,{$b:()=>ae,Ey:()=>Be,He:()=>Le,Vy:()=>Ne});const a=[];var ae=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(ae||{});const o={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ae=ae.INFO,he={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},De=(Z,ce,...me)=>{if(ce<Z.logLevel)return;const at=(new Date).toISOString(),Xe=he[ce];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Xe](`[${at}]  ${Z.name}:`,...me)};class Ne{constructor(ce){this.name=ce,this._logLevel=Ae,this._logHandler=De,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ae))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?o[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ce),this._logHandler(this,ae.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ce),this._logHandler(this,ae.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ce),this._logHandler(this,ae.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ce),this._logHandler(this,ae.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ce),this._logHandler(this,ae.ERROR,...ce)}}function Le(Z){a.forEach(ce=>{ce.setLogLevel(Z)})}function Be(Z,ce){for(const me of a){let at=null;ce&&ce.level&&(at=o[ce.level]),me.userLogHandler=null===Z?null:(Xe,bt,...Ct)=>{const jt=Ct.map(Mt=>{if(null==Mt)return null;if("string"==typeof Mt)return Mt;if("number"==typeof Mt||"boolean"==typeof Mt)return Mt.toString();if(Mt instanceof Error)return Mt.message;try{return JSON.stringify(Mt)}catch{return null}}).filter(Mt=>Mt).join(" ");bt>=(at??Xe.logLevel)&&Z({level:ae[bt].toLowerCase(),message:jt,args:Ct,type:Xe.name})}}}},2214:(rn,Je,L)=>{L.d(Je,{Dk:()=>a.getApps,KO:()=>a.registerVersion,Sx:()=>a.getApp,Wp:()=>a.initializeApp});var a=L(7852);(0,a.registerVersion)("firebase","10.12.2","app")},7935:(rn,Je,L)=>{L.d(Je,{A:()=>a.A});var a=L(3345);a.A.registerVersion("firebase","10.12.2","app-compat")},2438:(rn,Je,L)=>{var a=L(467),ae=L(3345),o=L(4033),Ae=L(1076),Ne=(L(7852),L(8041),L(1362));function Le(){return window}function ce(){return ce=(0,a.A)(function*(H,V,F){var le;const{BuildInfo:je}=Le();(0,o.au)(V.sessionId,"AuthEvent did not contain a session ID");const It=yield function Mt(H){return cn.apply(this,arguments)}(V.sessionId),Ot={};return(0,o.av)()?Ot.ibi=je.packageName:(0,o.aw)()?Ot.apn=je.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),je.displayName&&(Ot.appDisplayName=je.displayName),Ot.sessionId=It,(0,o.ay)(H,F,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,Ot)}),ce.apply(this,arguments)}function at(){return(at=(0,a.A)(function*(H){const{BuildInfo:V}=Le(),F={};(0,o.av)()?F.iosBundleId=V.packageName:(0,o.aw)()?F.androidPackageName=V.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),yield(0,o.az)(H,F)})).apply(this,arguments)}function Ct(){return(Ct=(0,a.A)(function*(H,V,F){const{cordova:le}=Le();let je=()=>{};try{yield new Promise((It,Ot)=>{let pn=null;function tn(){var An;It();const hi=null===(An=le.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof hi&&hi(),"function"==typeof F?.close&&F.close()}function un(){pn||(pn=window.setTimeout(()=>{Ot((0,o.aB)(H,"redirect-cancelled-by-user"))},2e3))}function rr(){"visible"===document?.visibilityState&&un()}V.addPassiveListener(tn),document.addEventListener("resume",un,!1),(0,o.aw)()&&document.addEventListener("visibilitychange",rr,!1),je=()=>{V.removePassiveListener(tn),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",rr,!1),pn&&window.clearTimeout(pn)}})}finally{je()}})).apply(this,arguments)}function cn(){return(cn=(0,a.A)(function*(H){const V=function et(H){if((0,o.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),F=new Uint8Array(V);for(let le=0;le<H.length;le++)F[le]=H.charCodeAt(le);return F}(H),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ot extends o.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,a.A)(function*(){yield V.initPromise})()}}function wt(H){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.A)(function*(H){const V=yield dn()._get(nr(H));return V&&(yield dn()._remove(nr(H))),V})).apply(this,arguments)}function Jt(){const H=[];for(let F=0;F<20;F++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function dn(){return(0,o.aE)(o.b)}function nr(H){return(0,o.aF)("authEvent",H.config.apiKey,H.name)}function qt(H){if(!H?.includes("?"))return{};const[V,...F]=H.split("?");return(0,Ae.I9)(F.join("?"))}const ue=class Me{constructor(){this._redirectPersistence=o.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,a.A)(function*(){const le=V._key();let je=F.eventManagers.get(le);return je||(je=new ot(V),F.eventManagers.set(le,je),F.attachCallbackListeners(V,je)),je})()}_openPopup(V){(0,o.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,le,je){var It=this;return(0,a.A)(function*(){!function jt(H){var V,F,le,je,It,Ot,pn,tn,un,rr;const An=Le();(0,o.aC)("function"==typeof(null===(V=An?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,o.aC)(typeof(null===(F=An?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,o.aC)("function"==typeof(null===(It=null===(je=null===(le=An?.cordova)||void 0===le?void 0:le.plugins)||void 0===je?void 0:je.browsertab)||void 0===It?void 0:It.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(tn=null===(pn=null===(Ot=An?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===tn?void 0:tn.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(rr=null===(un=An?.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===rr?void 0:rr.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Ot=yield It._initialize(V);yield Ot.initialized(),Ot.resetRedirect(),(0,o.aI)(),yield It._originValidation(V);const pn=function Ze(H,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:Jt(),postBody:null,tenantId:H.tenantId,error:(0,o.aB)(H,"no-auth-event")}}(V,le,je);yield function rt(H,V){return dn()._set(nr(H),V)}(V,pn);const tn=yield function Z(H,V,F){return ce.apply(this,arguments)}(V,pn,F),un=yield function Xe(H){const{cordova:V}=Le();return new Promise(F=>{V.plugins.browsertab.isAvailable(le=>{let je=null;le?V.plugins.browsertab.openUrl(H):je=V.InAppBrowser.open(H,(0,o.aA)()?"_blank":"_system","location=yes"),F(je)})})}(tn);return function bt(H,V,F){return Ct.apply(this,arguments)}(V,Ot,un)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function me(H){return at.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:le,handleOpenURL:je,BuildInfo:It}=Le(),Ot=setTimeout((0,a.A)(function*(){yield wt(V),F.onEvent(Fe())}),500),pn=function(){var rr=(0,a.A)(function*(An){clearTimeout(Ot);const hi=yield wt(V);let Er=null;hi&&An?.url&&(Er=function be(H,V){var F,le;const je=function Bt(H){const V=qt(H),F=V.link?decodeURIComponent(V.link):void 0,le=qt(F).link,je=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return qt(je).link||je||le||F||H}(V);if(je.includes("/__/auth/callback")){const It=qt(je),Ot=It.firebaseError?function Pt(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,pn=null===(le=null===(F=Ot?.code)||void 0===F?void 0:F.split("auth/"))||void 0===le?void 0:le[1],tn=pn?(0,o.aB)(pn):null;return tn?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:je,postBody:null}}return null}(hi,An.url)),F.onEvent(Er||Fe())});return function(hi){return rr.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,pn);const tn=je,un=`${It.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var rr=(0,a.A)(function*(An){if(An.toLowerCase().startsWith(un)&&pn({url:An}),"function"==typeof tn)try{tn(An)}catch(hi){console.error(hi)}});return function(An){return rr.apply(this,arguments)}}()}};function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,o.aB)("no-auth-event")}}function Tt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function hn(H=(0,Ae.ZQ)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gt(){try{const H=self.localStorage,V=o.aN();if(H)return H.setItem(V,"1"),H.removeItem(V),!function dr(H=(0,Ae.ZQ)()){return function Fn(){return(0,Ae.lT)()&&11===document?.documentMode}()||function In(H=(0,Ae.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,Ae.zW)()}catch{return wn()&&(0,Ae.zW)()}return!1}function wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function xt(){return"http:"===Tt()||"https:"===Tt()}()||(0,Ae.sr)()||hn())&&!function on(){return(0,Ae.lV)()||(0,Ae.Ll)()}()&&Gt()&&!wn()}function Wt(){return hn()&&typeof document<"u"}function jr(){return(jr=(0,a.A)(function*(){return!!Wt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=o.aC,Ut="persistence";function Pn(H){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.A)(function*(H){yield H._initializationPromise;const V=br(),F=o.aF(Ut,H.config.apiKey,H.name);V&&V.setItem(F,H._getPersistence())})).apply(this,arguments)}function br(){var H;try{return(null===(H=function fn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const ti=o.aC;class Hn{constructor(){this.browserResolver=o.aE(o.k),this.cordovaResolver=o.aE(ue),this.underlyingResolver=null,this._redirectPersistence=o.a,this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,a.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,le,je){var It=this;return(0,a.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup(V,F,le,je)})()}_openRedirect(V,F,le,je){var It=this;return(0,a.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect(V,F,le,je)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ti(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,a.A)(function*(){if(V.underlyingResolver)return;const F=yield function Vt(){return jr.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function ni(H){return H.unwrap()}function ln(H){return Yn(H)}function Yn(H){const{_tokenResponse:V}=H instanceof Ae.g?H.customData:H;if(!V)return null;if(!(H instanceof Ae.g)&&"temporaryProof"in V&&"phoneNumber"in V)return o.P.credentialFromResult(H);const F=V.providerId;if(!F||F===o.p.PASSWORD)return null;let le;switch(F){case o.p.GOOGLE:le=o.X;break;case o.p.FACEBOOK:le=o.W;break;case o.p.GITHUB:le=o.Y;break;case o.p.TWITTER:le=o.$;break;default:const{oauthIdToken:je,oauthAccessToken:It,oauthTokenSecret:Ot,pendingToken:pn,nonce:tn}=V;return It||Ot||je||pn?pn?F.startsWith("saml.")?o.aQ._create(F,pn):o.N._fromParams({providerId:F,signInMethod:F,pendingToken:pn,idToken:je,accessToken:It}):new o.Z(F).credential({idToken:je,accessToken:It,rawNonce:tn}):null}return H instanceof Ae.g?le.credentialFromError(H):le.credentialFromResult(H)}function gr(H,V){return V.catch(F=>{throw F instanceof Ae.g&&function ri(H,V){var F;const le=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Ke(H,o.as(H,V));else if(le){const je=Yn(V),It=V;je&&(It.credential=je,It.tenantId=le.tenantId||void 0,It.email=le.email||void 0,It.phoneNumber=le.phoneNumber||void 0)}}(H,F),F}).then(F=>{const je=F.user;return{operationType:F.operationType,credential:ln(F),additionalUserInfo:o.aq(F),user:mt.getOrCreate(je)}})}function Nn(H,V){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.A)(function*(H,V){const F=yield V;return{verificationId:F.verificationId,confirm:le=>gr(H,F.confirm(le))}})).apply(this,arguments)}class Ke{constructor(V,F){this.resolver=F,this.auth=function Ki(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return gr(ni(this.auth),this.resolver.resolveSignIn(V))}}class mt{constructor(V){this._delegate=V,this.multiFactor=o.at(V)}static getOrCreate(V){return mt.USER_MAP.has(V)||mt.USER_MAP.set(V,new mt(V)),mt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,a.A)(function*(){return gr(F.auth,o.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var le=this;return(0,a.A)(function*(){return Nn(le.auth,o.l(le._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,a.A)(function*(){return gr(F.auth,o.d(F._delegate,V,Hn))})()}linkWithRedirect(V){var F=this;return(0,a.A)(function*(){return yield Pn(o.aJ(F.auth)),o.g(F._delegate,V,Hn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,a.A)(function*(){return gr(F.auth,o.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Nn(this.auth,o.r(this._delegate,V,F))}reauthenticateWithPopup(V){return gr(this.auth,o.e(this._delegate,V,Hn))}reauthenticateWithRedirect(V){var F=this;return(0,a.A)(function*(){return yield Pn(o.aJ(F.auth)),o.h(F._delegate,V,Hn)})()}sendEmailVerification(V){return o.ag(this._delegate,V)}unlink(V){var F=this;return(0,a.A)(function*(){return yield o.ap(F._delegate,V),F})()}updateEmail(V){return o.al(this._delegate,V)}updatePassword(V){return o.am(this._delegate,V)}updatePhoneNumber(V){return o.u(this._delegate,V)}updateProfile(V){return o.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return o.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mt.USER_MAP=new WeakMap;const ie=o.aC;let Ie=(()=>{class H{constructor(F,le){if(this.app=F,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=F.options;ie(je,"invalid-api-key",{appName:F.name}),ie(je,"invalid-api-key",{appName:F.name});const It=typeof window<"u"?Hn:void 0;this._delegate=le.initialize({options:{persistence:Kt(je,F.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(o.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,le){o.K(this._delegate,F,le)}applyActionCode(F){return o.a7(this._delegate,F)}checkActionCode(F){return o.a8(this._delegate,F)}confirmPasswordReset(F,le){return o.a6(this._delegate,F,le)}createUserWithEmailAndPassword(F,le){var je=this;return(0,a.A)(function*(){return gr(je._delegate,o.aa(je._delegate,F,le))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return o.af(this._delegate,F)}isSignInWithEmailLink(F){return o.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,a.A)(function*(){ie($n(),F._delegate,"operation-not-supported-in-this-environment");const le=yield o.j(F._delegate,Hn);return le?gr(F._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Qe(H,V){(0,o.aJ)(H)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,le,je){const{next:It,error:Ot,complete:pn}=ft(F,le,je);return this._delegate.onAuthStateChanged(It,Ot,pn)}onIdTokenChanged(F,le,je){const{next:It,error:Ot,complete:pn}=ft(F,le,je);return this._delegate.onIdTokenChanged(It,Ot,pn)}sendSignInLinkToEmail(F,le){return o.ac(this._delegate,F,le)}sendPasswordResetEmail(F,le){return o.a5(this._delegate,F,le||void 0)}setPersistence(F){var le=this;return(0,a.A)(function*(){let je;switch(function _n(H,V){Wn(Object.values(yr).includes(V),H,"invalid-persistence-type"),(0,Ae.lV)()?Wn(V!==yr.SESSION,H,"unsupported-persistence-type"):(0,Ae.Ll)()?Wn(V===yr.NONE,H,"unsupported-persistence-type"):wn()?Wn(V===yr.NONE||V===yr.LOCAL&&(0,Ae.zW)(),H,"unsupported-persistence-type"):Wn(V===yr.NONE||Gt(),H,"unsupported-persistence-type")}(le._delegate,F),F){case yr.SESSION:je=o.a;break;case yr.LOCAL:je=(yield o.aE(o.i)._isAvailable())?o.i:o.b;break;case yr.NONE:je=o.U;break;default:return o.ax("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return gr(this._delegate,o.a0(this._delegate))}signInWithCredential(F){return gr(this._delegate,o.a1(this._delegate,F))}signInWithCustomToken(F){return gr(this._delegate,o.a4(this._delegate,F))}signInWithEmailAndPassword(F,le){return gr(this._delegate,o.ab(this._delegate,F,le))}signInWithEmailLink(F,le){return gr(this._delegate,o.ae(this._delegate,F,le))}signInWithPhoneNumber(F,le){return Nn(this._delegate,o.s(this._delegate,F,le))}signInWithPopup(F){var le=this;return(0,a.A)(function*(){return ie($n(),le._delegate,"operation-not-supported-in-this-environment"),gr(le._delegate,o.c(le._delegate,F,Hn))})()}signInWithRedirect(F){var le=this;return(0,a.A)(function*(){return ie($n(),le._delegate,"operation-not-supported-in-this-environment"),yield Pn(le._delegate),o.f(le._delegate,F,Hn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return o.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=yr,H})();function ft(H,V,F){let le=H;"function"!=typeof H&&({next:le,error:V,complete:F}=H);const je=le;return{next:Ot=>je(Ot&&mt.getOrCreate(Ot)),error:V,complete:F}}function Kt(H,V){const F=function hr(H,V){const F=br();if(!F)return[];const le=o.aF(Ut,H,V);switch(F.getItem(le)){case yr.NONE:return[o.U];case yr.LOCAL:return[o.i,o.a];case yr.SESSION:return[o.a];default:return[]}}(H,V);if(typeof self<"u"&&!F.includes(o.i)&&F.push(o.i),typeof window<"u")for(const le of[o.b,o.a])F.includes(le)||F.push(le);return F.includes(o.U)||F.push(o.U),F}class Mn{constructor(){this.providerId="phone",this._delegate=new o.P(ni(ae.A.auth()))}static credential(V,F){return o.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=o.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=o.P.PROVIDER_ID;const wr=o.aC;class cr{constructor(V,F,le=ae.A.app()){var je;wr(null===(je=le.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new o.R(le.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(H){H.INTERNAL.registerComponent(new Ne.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new Ie(F,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.A.EMAIL_SIGNIN,PASSWORD_RESET:o.A.PASSWORD_RESET,RECOVER_EMAIL:o.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.A.VERIFY_EMAIL}},EmailAuthProvider:o.V,FacebookAuthProvider:o.W,GithubAuthProvider:o.Y,GoogleAuthProvider:o.X,OAuthProvider:o.Z,SAMLAuthProvider:o._,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:o.m,RecaptchaVerifier:cr,TwitterAuthProvider:o.$,Auth:Ie,AuthCredential:o.L,Error:Ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(ae.A)},467:(rn,Je,L)=>{function a(o,Ae,he,De,Ne,Le,Be){try{var Z=o[Le](Be),ce=Z.value}catch(me){return void he(me)}Z.done?Ae(ce):Promise.resolve(ce).then(De,Ne)}function ae(o){return function(){var Ae=this,he=arguments;return new Promise(function(De,Ne){var Le=o.apply(Ae,he);function Be(ce){a(Le,De,Ne,Be,Z,"next",ce)}function Z(ce){a(Le,De,Ne,Be,Z,"throw",ce)}Be(void 0)})}}L.d(Je,{A:()=>ae})},1635:(rn,Je,L)=>{function Ae(ue,Fe){var Qe={};for(var xe in ue)Object.prototype.hasOwnProperty.call(ue,xe)&&Fe.indexOf(xe)<0&&(Qe[xe]=ue[xe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(xe=Object.getOwnPropertySymbols(ue);Se<xe.length;Se++)Fe.indexOf(xe[Se])<0&&Object.prototype.propertyIsEnumerable.call(ue,xe[Se])&&(Qe[xe[Se]]=ue[xe[Se]])}return Qe}function me(ue,Fe,Qe,xe){return new(Qe||(Qe=Promise))(function(Ge,Tt){function xt(Fn){try{on(xe.next(Fn))}catch(In){Tt(In)}}function hn(Fn){try{on(xe.throw(Fn))}catch(In){Tt(In)}}function on(Fn){Fn.done?Ge(Fn.value):function Se(Ge){return Ge instanceof Qe?Ge:new Qe(function(Tt){Tt(Ge)})}(Fn.value).then(xt,hn)}on((xe=xe.apply(ue,Fe||[])).next())})}function We(ue){return this instanceof We?(this.v=ue,this):new We(ue)}function ot(ue,Fe,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,xe=Qe.apply(ue,Fe||[]),Ge=[];return Se={},xt("next"),xt("throw"),xt("return",function Tt(Gt){return function(wn){return Promise.resolve(wn).then(Gt,In)}}),Se[Symbol.asyncIterator]=function(){return this},Se;function xt(Gt,wn){xe[Gt]&&(Se[Gt]=function($n){return new Promise(function(Wt,Vt){Ge.push([Gt,$n,Wt,Vt])>1||hn(Gt,$n)})},wn&&(Se[Gt]=wn(Se[Gt])))}function hn(Gt,wn){try{!function on(Gt){Gt.value instanceof We?Promise.resolve(Gt.value.v).then(Fn,In):dr(Ge[0][2],Gt)}(xe[Gt](wn))}catch($n){dr(Ge[0][3],$n)}}function Fn(Gt){hn("next",Gt)}function In(Gt){hn("throw",Gt)}function dr(Gt,wn){Gt(wn),Ge.shift(),Ge.length&&hn(Ge[0][0],Ge[0][1])}}function rt(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Fe=ue[Symbol.asyncIterator];return Fe?Fe.call(ue):(ue=function Ct(ue){var Fe="function"==typeof Symbol&&Symbol.iterator,Qe=Fe&&ue[Fe],xe=0;if(Qe)return Qe.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&xe>=ue.length&&(ue=void 0),{value:ue&&ue[xe++],done:!ue}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Qe={},xe("next"),xe("throw"),xe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function xe(Ge){Qe[Ge]=ue[Ge]&&function(Tt){return new Promise(function(xt,hn){!function Se(Ge,Tt,xt,hn){Promise.resolve(hn).then(function(on){Ge({value:on,done:xt})},Tt)}(xt,hn,(Tt=ue[Ge](Tt)).done,Tt.value)})}}}L.d(Je,{AQ:()=>ot,N3:()=>We,Tt:()=>Ae,sH:()=>me,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=4669)}]);