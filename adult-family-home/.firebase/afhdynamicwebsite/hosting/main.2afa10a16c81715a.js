"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(dn,Je,k)=>{k.d(Je,{$:()=>tc,A:()=>ne,G:()=>Ge,K:()=>Pi,L:()=>ys,N:()=>De,P:()=>_a,R:()=>Pu,U:()=>gn,V:()=>es,W:()=>Bi,X:()=>Vr,Y:()=>Io,Z:()=>Gi,_:()=>Ko,a:()=>ol,a0:()=>Is,a1:()=>ps,a2:()=>Gs,a3:()=>Uo,a4:()=>ts,a5:()=>en,a6:()=>Nl,a7:()=>Ao,a8:()=>Yo,a9:()=>nl,aA:()=>un,aB:()=>Ze,aC:()=>we,aD:()=>Zf,aE:()=>lt,aF:()=>mn,aG:()=>kd,aH:()=>Rc,aI:()=>zh,aJ:()=>Yn,aN:()=>Br,aQ:()=>io,aa:()=>kl,ab:()=>Id,ac:()=>ic,ad:()=>rl,ae:()=>ja,af:()=>Tu,ag:()=>re,ah:()=>Y,ak:()=>$n,al:()=>wi,am:()=>gi,ap:()=>oo,aq:()=>bs,as:()=>sl,at:()=>Sa,au:()=>Tn,av:()=>cr,aw:()=>Jt,ax:()=>pe,ay:()=>mc,az:()=>Jo,b:()=>Au,c:()=>Fu,d:()=>Vu,e:()=>Lu,f:()=>Ka,g:()=>qs,h:()=>Ya,i:()=>O,j:()=>Qf,k:()=>Yh,l:()=>za,m:()=>Hl,p:()=>Ne,r:()=>Mu,s:()=>ma,u:()=>Nu});var o=k(467),oe=k(7852),r=k(1076),ye=k(8041),fe=k(1635),Te=k(1362);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new ye.Vy("@firebase/auth");function ze(I,...m){Nt.logLevel<=ye.$b.ERROR&&Nt.error(`Auth (${oe.SDK_VERSION}): ${I}`,...m)}function pe(I,...m){throw Vt(I,...m)}function Ze(I,...m){return Vt(I,...m)}function ke(I,m,v){const S=Object.assign(Object.assign({},St()),{[m]:v});return new r.FA("auth","Firebase",S).create(m,{appName:I.name})}function tt(I){return ke(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Et(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&pe(I,"argument-error"),ke(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vt(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return ht.create(I,...m)}function we(I,m,...v){if(!I)throw Vt(m,...v)}function sn(I){const m="INTERNAL ASSERTION FAILED: "+I;throw ze(m),new Error(m)}function Tn(I,m){I||sn(m)}function or(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Lt(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ue{constructor(m,v){this.shortDelay=m,this.longDelay=v,Tn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(I,m){Tn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ln{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Ue(3e4,6e4);function ve(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function je(I,m,v,S){return ot.apply(this,arguments)}function ot(){return(ot=(0,o.A)(function*(I,m,v,S,X={}){return nt(I,X,(0,o.A)(function*(){let he={},Xe={};S&&("GET"===m?Xe=S:he={body:JSON.stringify(S)});const Pt=(0,r.Am)(Object.assign({key:I.config.apiKey},Xe)).slice(1),Qt=yield I._getAdditionalHeaders();Qt["Content-Type"]="application/json",I.languageCode&&(Qt["X-Firebase-Locale"]=I.languageCode);const Gn=Object.assign({method:m,headers:Qt},he);return(0,r.c1)()||(Gn.referrerPolicy="no-referrer"),ln.fetch()(hn(I,I.config.apiHost,v,Pt),Gn)}))})).apply(this,arguments)}function nt(I,m,v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ke),m);try{const X=new nn(I),he=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const Xe=yield he.json();if("needConfirmation"in Xe)throw er(I,"account-exists-with-different-credential",Xe);if(he.ok&&!("errorMessage"in Xe))return Xe;{const Pt=he.ok?Xe.errorMessage:Xe.error.message,[Qt,Gn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw er(I,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===Qt)throw er(I,"email-already-in-use",Xe);if("USER_DISABLED"===Qt)throw er(I,"user-disabled",Xe);const Hn=S[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(Gn)throw ke(I,Hn,Gn);pe(I,Hn)}}catch(X){if(X instanceof r.g)throw X;pe(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Pn(I,m,v,S){return fr.apply(this,arguments)}function fr(){return(fr=(0,o.A)(function*(I,m,v,S,X={}){const he=yield je(I,m,v,S,X);return"mfaPendingCredential"in he&&pe(I,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function hn(I,m,v,S){const X=`${m}${v}?${S}`;return I.config.emulator?st(I.config,X):`${I.config.apiScheme}://${X}`}function jn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Ze(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=Ze(I,m,S);return X.customData._tokenResponse=v,X}function Bn(I){return void 0!==I&&void 0!==I.getResponse}function Ut(I){return void 0!==I&&void 0!==I.enterprise}class Ht{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return jn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function yn(){return(yn=(0,o.A)(function*(I){return(yield je(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ur(I,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,o.A)(function*(I,m){return je(I,"GET","/v2/recaptchaConfig",ve(I,m))})).apply(this,arguments)}function Dn(){return(Dn=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Mn(){return(Mn=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qr(I,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Zr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ds(){return(ds=(0,o.A)(function*(I,m=!1){const v=(0,r.Ku)(I),S=yield v.getIdToken(m),X=ri(S);we(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,Xe=he?.sign_in_provider;return{claims:X,token:S,authTime:Zr(bn(X.auth_time)),issuedAtTime:Zr(bn(X.iat)),expirationTime:Zr(bn(X.exp)),signInProvider:Xe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(I){return 1e3*Number(I)}function ri(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,r.u)(v);return X?JSON.parse(X):(ze("Failed to decode base64 JWT payload"),null)}catch(X){return ze("Caught error parsing JWT payload as JSON",X?.toString()),null}}function ar(I){const m=ri(I);return we(m,"internal-error"),we(typeof m.exp<"u","internal-error"),we(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function xr(I,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,o.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof r.g&&function Gr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class Ye{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,o.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class ut{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ae(I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,o.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),X=yield xr(I,qr(v,{idToken:S}));we(X?.users.length,v,"internal-error");const he=X.users[0];I._notifyReloadListener(he);const Xe=null!==(m=he.providerUserInfo)&&void 0!==m&&m.length?Wr(he.providerUserInfo):[],Pt=function qn(I,m){return[...I.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(I.providerData,Xe),Hn=!!I.isAnonymous&&!(I.email&&he.passwordHash||Pt?.length),li={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Pt,metadata:new ut(he.createdAt,he.lastLoginAt),isAnonymous:Hn};Object.assign(I,li)})).apply(this,arguments)}function Kt(){return(Kt=(0,o.A)(function*(I){const m=(0,r.Ku)(I);yield ae(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wr(I){return I.map(m=>{var{providerId:v}=m,S=(0,fe.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function yi(){return(yi=(0,o.A)(function*(I,m){const v=yield nt(I,{},(0,o.A)(function*(){const S=(0,r.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:he}=I.config,Xe=hn(I,X,"/v1/token",`key=${he}`),Pt=yield I._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(Xe,{method:"POST",headers:Pt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(I,m){return je(I,"POST","/v2/accounts:revokeToken",ve(I,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){we(m.idToken,"internal-error"),we(typeof m.idToken<"u","internal-error"),we(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):ar(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){we(0!==m.length,"internal-error");const v=ar(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(we(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:Xe}=yield function vr(I,m){return yi.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,he,Number(Xe))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:he}=v,Xe=new M;return S&&(we("string"==typeof S,"internal-error",{appName:m}),Xe.refreshToken=S),X&&(we("string"==typeof X,"internal-error",{appName:m}),Xe.accessToken=X),he&&(we("number"==typeof he,"internal-error",{appName:m}),Xe.expirationTime=he),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return sn("not implemented")}}function F(I,m){we("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ie{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,he=(0,fe.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new ut(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,o.A)(function*(){const S=yield xr(v,v.stsTokenManager.getToken(v.auth,m));return we(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function ni(I){return ds.apply(this,arguments)}(this,m)}reload(){return function At(I){return Kt.apply(this,arguments)}(this)}_assign(m){this!==m&&(we(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new ie(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,o.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield ae(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,o.A)(function*(){if((0,oe._isFirebaseServerApp)(m.auth.app))return Promise.reject(tt(m.auth));const v=yield m.getIdToken();return yield xr(m,function Wt(I,m){return Dn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,he,Xe,Pt,Qt,Gn,Hn;const li=null!==(S=v.displayName)&&void 0!==S?S:void 0,Ho=null!==(X=v.email)&&void 0!==X?X:void 0,ya=null!==(he=v.phoneNumber)&&void 0!==he?he:void 0,va=null!==(Xe=v.photoURL)&&void 0!==Xe?Xe:void 0,Hd=null!==(Pt=v.tenantId)&&void 0!==Pt?Pt:void 0,zd=null!==(Qt=v._redirectEventId)&&void 0!==Qt?Qt:void 0,Wd=null!==(Gn=v.createdAt)&&void 0!==Gn?Gn:void 0,Ag=null!==(Hn=v.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:rp,emailVerified:zl,isAnonymous:Dg,providerData:Yu,stsTokenManager:Xu}=v;we(rp&&Xu,m,"internal-error");const Qu=M.fromJSON(this.name,Xu);we("string"==typeof rp,m,"internal-error"),F(li,m.name),F(Ho,m.name),we("boolean"==typeof zl,m,"internal-error"),we("boolean"==typeof Dg,m,"internal-error"),F(ya,m.name),F(va,m.name),F(Hd,m.name),F(zd,m.name),F(Wd,m.name),F(Ag,m.name);const Kd=new ie({uid:rp,auth:m,email:Ho,emailVerified:zl,displayName:li,isAnonymous:Dg,photoURL:va,phoneNumber:ya,tenantId:Hd,stsTokenManager:Qu,createdAt:Wd,lastLoginAt:Ag});return Yu&&Array.isArray(Yu)&&(Kd.providerData=Yu.map(Ju=>Object.assign({},Ju))),zd&&(Kd._redirectEventId=zd),Kd}static _fromIdTokenResponse(m,v,S=!1){return(0,o.A)(function*(){const X=new M;X.updateFromServerResponse(v);const he=new ie({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield ae(he),he})()}static _fromGetAccountInfoResponse(m,v,S){return(0,o.A)(function*(){const X=v.users[0];we(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?Wr(X.providerUserInfo):[],Xe=!(X.email&&X.passwordHash||he?.length),Pt=new M;Pt.updateFromIdToken(S);const Qt=new ie({uid:X.localId,auth:m,stsTokenManager:Pt,isAnonymous:Xe}),Gn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new ut(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(Qt,Gn),Qt})()}}const ge=new Map;function lt(I){Tn(I instanceof Function,"Expected a class definition");let m=ge.get(I);return m?(Tn(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ge.set(I,m),m)}const gn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,o.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function mn(I,m,v){return`firebase:${I}:${m}:${v}`}class Rn{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=mn(this.userKey,X.apiKey,he),this.fullPersistenceKey=mn("persistence",X.apiKey,he),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?ie._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,o.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Rn(lt(gn),m,S);const X=(yield Promise.all(v.map(function(){var Gn=(0,o.A)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Gn.apply(this,arguments)}}()))).filter(Gn=>Gn);let he=X[0]||lt(gn);const Xe=mn(S,m.config.apiKey,m.name);let Pt=null;for(const Gn of v)try{const Hn=yield Gn._get(Xe);if(Hn){const li=ie._fromJSON(m,Hn);Gn!==he&&(Pt=li),he=Gn;break}}catch{}const Qt=X.filter(Gn=>Gn._shouldAllowMigration);return he._shouldAllowMigration&&Qt.length?(he=Qt[0],Pt&&(yield he._set(Xe,Pt.toJSON())),yield Promise.all(v.map(function(){var Gn=(0,o.A)(function*(Hn){if(Hn!==he)try{yield Hn._remove(Xe)}catch{}});return function(Hn){return Gn.apply(this,arguments)}}())),new Rn(he,m,S)):new Rn(he,m,S)})()}}function Er(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ot(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Pe(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(In(m))return"Blackberry";if(vn(m))return"Webos";if(Se(m))return"Safari";if((m.includes("chrome/")||$e(m))&&!m.includes("edge/"))return"Chrome";if(Jt(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Pe(I=(0,r.ZQ)()){return/firefox\//i.test(I)}function Se(I=(0,r.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function $e(I=(0,r.ZQ)()){return/crios\//i.test(I)}function Ot(I=(0,r.ZQ)()){return/iemobile/i.test(I)}function Jt(I=(0,r.ZQ)()){return/android/i.test(I)}function In(I=(0,r.ZQ)()){return/blackberry/i.test(I)}function vn(I=(0,r.ZQ)()){return/webos/i.test(I)}function cr(I=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function un(I=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function et(I=(0,r.ZQ)()){return cr(I)||Jt(I)||vn(I)||In(I)||/windows phone/i.test(I)||Ot(I)}function Rt(I,m=[]){let v;switch(I){case"Browser":v=Er((0,r.ZQ)());break;case"Worker":v=`${Er((0,r.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${oe.SDK_VERSION}/${S}`}class fn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=he=>new Promise((Xe,Pt)=>{try{Xe(m(he))}catch(Qt){Pt(Qt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function _n(){return(_n=(0,o.A)(function*(I,m={}){return je(I,"GET","/v2/passwordPolicy",ve(I,m))})).apply(this,arguments)}class ur{constructor(m){var v,S,X,he;const Xe=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Xe.minPasswordLength)&&void 0!==v?v:6,Xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Xe.maxPasswordLength),void 0!==Xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Xe.containsLowercaseCharacter),void 0!==Xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Xe.containsUppercaseCharacter),void 0!==Xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Xe.containsNumericCharacter),void 0!==Xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Xe.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=m.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,he,Xe,Pt;const Qt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Qt),this.validatePasswordCharacterOptions(m,Qt),Qt.isValid&&(Qt.isValid=null===(v=Qt.meetsMinPasswordLength)||void 0===v||v),Qt.isValid&&(Qt.isValid=null===(S=Qt.meetsMaxPasswordLength)||void 0===S||S),Qt.isValid&&(Qt.isValid=null===(X=Qt.containsLowercaseLetter)||void 0===X||X),Qt.isValid&&(Qt.isValid=null===(he=Qt.containsUppercaseLetter)||void 0===he||he),Qt.isValid&&(Qt.isValid=null===(Xe=Qt.containsNumericCharacter)||void 0===Xe||Xe),Qt.isValid&&(Qt.isValid=null===(Pt=Qt.containsNonAlphanumericCharacter)||void 0===Pt||Pt),Qt}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=he))}}class Hr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=lt(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Rn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,o.A)(function*(){try{const S=yield qr(v,{idToken:m}),X=yield ie._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,o.A)(function*(){var S;if((0,oe._isFirebaseServerApp)(v.app)){const Pt=v.app.settings.authIdToken;return Pt?new Promise(Qt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Pt).then(Qt,Qt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let he=X,Xe=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Pt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Qt=he?._redirectEventId,Gn=yield v.tryRedirectSignIn(m);(!Pt||Pt===Qt)&&Gn?.user&&(he=Gn.user,Xe=!0)}if(!he)return v.directlySetCurrentUser(null);if(!he._redirectEventId){if(Xe)try{yield v.beforeStateQueue.runMiddleware(he)}catch(Pt){he=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Pt))}return he?v.reloadAndSetCurrentUserOrClear(he):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===he._redirectEventId?v.directlySetCurrentUser(he):v.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(m){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,o.A)(function*(){try{yield ae(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,o.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,o.A)(function*(){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(tt(v));const S=m?(0,r.Ku)(m):null;return S&&we(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return m&&we(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.A)(function*(){return(0,oe._isFirebaseServerApp)(m.app)?Promise.reject(tt(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,oe._isFirebaseServerApp)(this.app)?Promise.reject(tt(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(lt(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,o.A)(function*(){const v=yield function Un(I){return _n.apply(this,arguments)}(m),S=new ur(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new r.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function Ct(I,m){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&lt(m)||v._popupRedirectResolver;we(S,v,"argument-error"),v.redirectPersistenceManager=yield Rn.create(v,[lt(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,o.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,o.A)(function*(){if(m===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const he="function"==typeof v?v:v.next.bind(v);let Xe=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(Pt,this,"internal-error"),Pt.then(()=>{Xe||he(this.currentUser)}),"function"==typeof v){const Qt=m.addObserver(v,S,X);return()=>{Xe=!0,Qt()}}{const Qt=m.addObserver(v);return()=>{Xe=!0,Qt()}}}directlySetCurrentUser(m){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield m._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var m=this;return(0,o.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function rn(I,...m){Nt.logLevel<=ye.$b.WARN&&Nt.warn(`Auth (${oe.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Yn(I){return(0,r.Ku)(I)}class Ee{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zt={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function He(I){return zt.loadJS(I)}function Tr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ii{constructor(m){this.type="recaptcha-enterprise",this.auth=Yn(m)}verify(m="verify",v=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(Pt){if(!v){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Qt=(0,o.A)(function*(Gn,Hn){Ur(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(li=>{if(void 0!==li.recaptchaKey){const Ho=new Ht(li);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Ho:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Ho,Gn(Ho.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(li=>{Hn(li)})});return function(Gn,Hn){return Qt.apply(this,arguments)}}())}),he.apply(this,arguments)}function Xe(Pt,Qt,Gn){const Hn=window.grecaptcha;Ut(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(Pt,{action:m}).then(li=>{Qt(li)}).catch(()=>{Qt("NO_RECAPTCHA")})}):Gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Qt)=>{(function X(Pt){return he.apply(this,arguments)})(S.auth).then(Gn=>{if(!v&&Ut(window.grecaptcha))Xe(Gn,Pt,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));let Hn=function lr(){return zt.recaptchaEnterpriseScript}();0!==Hn.length&&(Hn+=Gn),He(Hn).then(()=>{Xe(Gn,Pt,Qt)}).catch(li=>{Qt(li)})}}).catch(Gn=>{Qt(Gn)})})})()}}function Xi(I,m,v){return ji.apply(this,arguments)}function ji(){return(ji=(0,o.A)(function*(I,m,v,S=!1){const X=new ii(I);let he;try{he=yield X.verify(v)}catch{he=yield X.verify(v,!0)}const Xe=Object.assign({},m);return Object.assign(Xe,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(Xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Xe})).apply(this,arguments)}function Nr(I,m,v,S){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,o.A)(function*(I,m,v,S){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield Xi(I,m,v,"getOobCode"===v);return S(I,he)}return S(I,m).catch(function(){var he=(0,o.A)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Xi(I,m,v,"getOobCode"===v);return S(I,Pt)}return Promise.reject(Xe)});return function(Xe){return he.apply(this,arguments)}}())}),Cs.apply(this,arguments)}function Pi(I,m,v){const S=Yn(I);we(S._canInitEmulator,S,"emulator-config-failed"),we(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,he=Fo(m),{host:Xe,port:Pt}=function Zs(I){const m=Fo(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:si(S.substr(he.length+1))}}{const[he,Xe]=S.split(":");return{host:he,port:si(Xe)}}}(m);S.config.emulator={url:`${he}//${Xe}${null===Pt?"":`:${Pt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Xe,port:Pt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function js(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Fo(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function si(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class ys{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return sn("not implemented")}_getIdTokenResponse(m){return sn("not implemented")}_linkToIdToken(m,v){return sn("not implemented")}_getReauthenticationResolver(m){return sn("not implemented")}}function To(I,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:resetPassword",ve(I,m))})).apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Oi(I,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function rs(){return(rs=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",ve(I,m))})).apply(this,arguments)}function Ms(I,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithPassword",ve(I,m))})).apply(this,arguments)}function Ts(I,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:sendOobCode",ve(I,m))})).apply(this,arguments)}function wn(){return(wn=(0,o.A)(function*(I,m){return Ts(I,m)})).apply(this,arguments)}function gr(I,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,o.A)(function*(I,m){return Ts(I,m)})).apply(this,arguments)}function is(I,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,o.A)(function*(I,m){return Ts(I,m)})).apply(this,arguments)}function Bs(){return(Bs=(0,o.A)(function*(I,m){return Ts(I,m)})).apply(this,arguments)}function ss(){return(ss=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,m))})).apply(this,arguments)}function dr(){return(dr=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithEmailLink",ve(I,m))})).apply(this,arguments)}class vs extends ys{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new vs(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new vs(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Nr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ms);case"emailLink":return function ai(I,m){return ss.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:pe(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Nr(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oi);case"emailLink":return function Os(I,m){return dr.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:pe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $s(I,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithIdp",ve(I,m))})).apply(this,arguments)}class De extends ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new De(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):pe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,he=(0,fe.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const Xe=new De(S,X);return Xe.idToken=he.idToken||void 0,Xe.accessToken=he.accessToken||void 0,Xe.secret=he.secret,Xe.nonce=he.nonce,Xe.pendingToken=he.pendingToken||null,Xe}_getIdTokenResponse(m){return $s(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,$s(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$s(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,r.Am)(v)}return m}}function it(){return(it=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:sendVerificationCode",ve(I,m))})).apply(this,arguments)}function an(){return(an=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,m))})).apply(this,arguments)}function An(){return(An=(0,o.A)(function*(I,m){const v=yield Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,m));if(v.temporaryProof)throw er(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const hr={USER_NOT_FOUND:"user-not-found"};function Xn(){return(Xn=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithPhoneNumber",ve(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),hr)})).apply(this,arguments)}class Qn extends ys{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Qn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Qn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function bt(I,m){return an.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Vn(I,m){return An.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function jr(I,m){return Xn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}=m;return S||v||X||he?new Qn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class ci{constructor(m){var v,S,X,he,Xe,Pt;const Qt=(0,r.I9)((0,r.hp)(m)),Gn=null!==(v=Qt.apiKey)&&void 0!==v?v:null,Hn=null!==(S=Qt.oobCode)&&void 0!==S?S:null,li=function mr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Qt.mode)&&void 0!==X?X:null);we(Gn&&Hn&&li,"argument-error"),this.apiKey=Gn,this.operation=li,this.code=Hn,this.continueUrl=null!==(he=Qt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Xe=Qt.languageCode)&&void 0!==Xe?Xe:null,this.tenantId=null!==(Pt=Qt.tenantId)&&void 0!==Pt?Pt:null}static parseLink(m){const v=function Ii(I){const m=(0,r.I9)((0,r.hp)(I)).link,v=m?(0,r.I9)((0,r.hp)(m)).deep_link_id:null,S=(0,r.I9)((0,r.hp)(I)).deep_link_id;return(S?(0,r.I9)((0,r.hp)(S)).link:null)||S||v||m||I}(m);try{return new ci(v)}catch{return null}}}let es=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return vs._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=ci.parseLink(S);return we(X,"argument-error"),vs._fromEmailAndCode(v,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Li{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Fr extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Gi extends Fr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return we("providerId"in v&&"signInMethod"in v,"argument-error"),De._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return we(m.idToken||m.accessToken,"argument-error"),De._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Gi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Gi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:Xe,providerId:Pt}=m;if(!S&&!X&&!v&&!he||!Pt)return null;try{return new Gi(Pt)._credential({idToken:v,accessToken:S,nonce:Xe,pendingToken:he})}catch{return null}}}let Bi=(()=>{class I extends Fr{constructor(){super("facebook.com")}static credential(v){return De._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Vr=(()=>{class I extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return De._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Io=(()=>{class I extends Fr{constructor(){super("github.com")}static credential(v){return De._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class io extends ys{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return $s(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,$s(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,$s(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:he}=v;return S&&X&&he&&S===X?new io(S,he):null}static _create(m,v){return new io(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ko extends Li{constructor(m){we(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ko.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ko.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=io.fromJSON(m);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return io._create(S,v)}catch{return null}}}let tc=(()=>{class I extends Fr{constructor(){super("twitter.com")}static credential(v,S){return De._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Aa(I,m){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signUp",ve(I,m))})).apply(this,arguments)}class Ns{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,o.A)(function*(){const he=yield ie._fromIdTokenResponse(m,S,X),Xe=Wi(S);return new Ns({user:he,providerId:Xe,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,o.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=Wi(S);return new Ns({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function Wi(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Is(I){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,o.A)(function*(I){var m;if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const v=Yn(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Ns({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Aa(v,{returnSecureToken:!0}),X=yield Ns._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class so extends r.g{constructor(m,v,S,X){var he;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,so.prototype),this.customData={appName:m.name,tenantId:null!==(he=m.tenantId)&&void 0!==he?he:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new so(m,v,S,X)}}function Mi(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?so._fromErrorAndOperation(I,he,m,S):he})}function Vo(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function oo(I,m){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(I,m){const v=(0,r.Ku)(I);yield ce(!0,v,m);const{providerUserInfo:S}=yield function Jn(I,m){return Mn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=Vo(S||[]);return v.providerData=v.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function J(I,m){return V.apply(this,arguments)}function V(){return(V=(0,o.A)(function*(I,m,v=!1){const S=yield xr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return Ns._forOperation(I,"link",S)})).apply(this,arguments)}function ce(I,m,v){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.A)(function*(I,m,v){yield ae(m);const X=!1===I?"provider-already-linked":"no-such-provider";we(Vo(m.providerData).has(v)===I,m.auth,X)})).apply(this,arguments)}function pn(I,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,o.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,oe._isFirebaseServerApp)(S.app))return Promise.reject(tt(S));const X="reauthenticate";try{const he=yield xr(I,Mi(S,X,m,I),v);we(he.idToken,S,"internal-error");const Xe=ri(he.idToken);we(Xe,S,"internal-error");const{sub:Pt}=Xe;return we(I.uid===Pt,S,"user-mismatch"),Ns._forOperation(I,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&pe(S,"user-mismatch"),he}})).apply(this,arguments)}function os(I,m){return to.apply(this,arguments)}function to(){return(to=(0,o.A)(function*(I,m,v=!1){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S="signIn",X=yield Mi(I,S,m),he=yield Ns._fromIdTokenResponse(I,S,X);return v||(yield I._updateCurrentUser(he.user)),he})).apply(this,arguments)}function ps(I,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,o.A)(function*(I,m){return os(Yn(I),m)})).apply(this,arguments)}function Gs(I,m){return as.apply(this,arguments)}function as(){return(as=(0,o.A)(function*(I,m){const v=(0,r.Ku)(I);return yield ce(!1,v,m.providerId),J(v,m)})).apply(this,arguments)}function Uo(I,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,o.A)(function*(I,m){return pn((0,r.Ku)(I),m)})).apply(this,arguments)}function ca(){return(ca=(0,o.A)(function*(I,m){return Pn(I,"POST","/v1/accounts:signInWithCustomToken",ve(I,m))})).apply(this,arguments)}function ts(I,m){return tl.apply(this,arguments)}function tl(){return tl=(0,o.A)(function*(I,m){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const v=Yn(I),S=yield function Es(I,m){return ca.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield Ns._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),tl.apply(this,arguments)}class cs{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Ua._fromServerResponse(m,v):"totpInfo"in v?ao._fromServerResponse(m,v):pe(m,"internal-error")}}class Ua extends cs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Ua(v)}}class ao extends cs{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new ao(v)}}function qo(I,m,v){var S;we((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function ws(I){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.A)(function*(I){const m=Yn(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function en(I,m,v){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.A)(function*(I,m,v){const S=Yn(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&qo(S,X,v),yield Nr(S,X,"getOobCode",gr)})).apply(this,arguments)}function Nl(I,m,v){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,o.A)(function*(I,m,v){yield To((0,r.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&ws(I),X});return function(X){return S.apply(this,arguments)}}())}),Ir.apply(this,arguments)}function Ao(I,m){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,o.A)(function*(I,m){yield function fi(I,m){return rs.apply(this,arguments)}((0,r.Ku)(I),{oobCode:m})}),Hs.apply(this,arguments)}function Yo(I,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,o.A)(function*(I,m){const v=(0,r.Ku)(I),S=yield To(v,{oobCode:m}),X=S.requestType;switch(we(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(S.mfaInfo,v,"internal-error");default:we(S.email,v,"internal-error")}let he=null;return S.mfaInfo&&(he=cs._fromServerResponse(Yn(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function nl(I,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,o.A)(function*(I,m){const{data:v}=yield Yo((0,r.Ku)(I),m);return v.email})).apply(this,arguments)}function kl(I,m,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,o.A)(function*(I,m,v){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S=Yn(I),Xe=yield Nr(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Aa).catch(Qt=>{throw"auth/password-does-not-meet-requirements"===Qt.code&&ws(I),Qt}),Pt=yield Ns._fromIdTokenResponse(S,"signIn",Xe);return yield S._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function Id(I,m,v){return(0,oe._isFirebaseServerApp)(I.app)?Promise.reject(tt(I)):ps((0,r.Ku)(I),es.credential(m,v)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&ws(I),X});return function(X){return S.apply(this,arguments)}}())}function ic(I,m,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,o.A)(function*(I,m,v){const S=Yn(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function he(Xe,Pt){we(Pt.handleCodeInApp,S,"argument-error"),Pt&&qo(S,Xe,Pt)})(X,v),yield Nr(S,X,"getOobCode",is)})).apply(this,arguments)}function rl(I,m){const v=ci.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function ja(I,m,v){return sc.apply(this,arguments)}function sc(){return(sc=(0,o.A)(function*(I,m,v){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S=(0,r.Ku)(I),X=es.credentialWithLink(m,v||or());return we(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ps(S,X)})).apply(this,arguments)}function oc(){return(oc=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:createAuthUri",ve(I,m))})).apply(this,arguments)}function Tu(I,m){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(I,m){const S={identifier:m,continueUri:Lt()?or():"http://localhost"},{signinMethods:X}=yield function la(I,m){return oc.apply(this,arguments)}((0,r.Ku)(I),S);return X||[]}),P.apply(this,arguments)}function re(I,m){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(I,m){const v=(0,r.Ku)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&qo(v.auth,X,m);const{email:he}=yield function pi(I,m){return wn.apply(this,arguments)}(v.auth,X);he!==I.email&&(yield I.reload())}),j.apply(this,arguments)}function Y(I,m,v){return Re.apply(this,arguments)}function Re(){return Re=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&qo(S.auth,he,v);const{email:Xe}=yield function zi(I,m){return Bs.apply(this,arguments)}(S.auth,he);Xe!==I.email&&(yield I.reload())}),Re.apply(this,arguments)}function $t(){return($t=(0,o.A)(function*(I,m){return je(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function $n(I,m){return oi.apply(this,arguments)}function oi(){return oi=(0,o.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,r.Ku)(I),he={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Xe=yield xr(S,function Dt(I,m){return $t.apply(this,arguments)}(S.auth,he));S.displayName=Xe.displayName||null,S.photoURL=Xe.photoUrl||null;const Pt=S.providerData.find(({providerId:Qt})=>"password"===Qt);Pt&&(Pt.displayName=S.displayName,Pt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Xe)}),oi.apply(this,arguments)}function wi(I,m){const v=(0,r.Ku)(I);return(0,oe._isFirebaseServerApp)(v.auth.app)?Promise.reject(tt(v.auth)):Pr(v,m,null)}function gi(I,m){return Pr((0,r.Ku)(I),null,m)}function Pr(I,m,v){return vi.apply(this,arguments)}function vi(){return vi=(0,o.A)(function*(I,m,v){const{auth:S}=I,he={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(he.email=m),v&&(he.password=v);const Xe=yield xr(I,function kr(I,m){return hi.apply(this,arguments)}(S,he));yield I._updateTokensIfNecessary(Xe,!0)}),vi.apply(this,arguments)}class Vi{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class po extends Vi{constructor(m,v,S,X){super(m,v,S),this.username=X}}class ks extends Vi{constructor(m,v){super(m,"facebook.com",v)}}class ua extends po{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ws extends Vi{constructor(m,v){super(m,"google.com",v)}}class go extends po{constructor(m,v,S){super(m,"twitter.com",v,S)}}function bs(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ni(I){var m,v;if(!I)return null;const{providerId:S}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},he=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const Xe=null===(v=null===(m=ri(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Xe)return new Vi(he,"anonymous"!==Xe&&"custom"!==Xe?Xe:null)}if(!S)return null;switch(S){case"facebook.com":return new ks(he,X);case"github.com":return new ua(he,X);case"google.com":return new Ws(he,X);case"twitter.com":return new go(he,X,I.screenName||null);case"custom":case"anonymous":return new Vi(he,null);default:return new Vi(he,S,X)}}(v)}class As{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new As("enroll",m,v)}static _fromMfaPendingCredential(m){return new As("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return As._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return As._fromIdtoken(m.multiFactorSession.idToken)}return null}}class $a{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Yn(m),X=v.customData._serverResponse,he=(X.mfaInfo||[]).map(Pt=>cs._fromServerResponse(S,Pt));we(X.mfaPendingCredential,S,"internal-error");const Xe=As._fromMfaPendingCredential(X.mfaPendingCredential);return new $a(Xe,he,function(){var Pt=(0,o.A)(function*(Qt){const Gn=yield Qt._process(S,Xe);delete X.mfaInfo,delete X.mfaPendingCredential;const Hn=Object.assign(Object.assign({},X),{idToken:Gn.idToken,refreshToken:Gn.refreshToken});switch(v.operationType){case"signIn":const li=yield Ns._fromIdTokenResponse(S,v.operationType,Hn);return yield S._updateCurrentUser(li.user),li;case"reauthenticate":return we(v.user,S,"internal-error"),Ns._forOperation(v.user,v.operationType,Hn);default:pe(S,"internal-error")}});return function(Qt){return Pt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,o.A)(function*(){return v.signInResolver(m)})()}}function sl(I,m){var v;const S=(0,r.Ku)(I),X=m;return we(m.customData.operationType,S,"argument-error"),we(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),$a._fromError(S,X)}class Fl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>cs._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Fl(m)}getSession(){var m=this;return(0,o.A)(function*(){return As._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,o.A)(function*(){const X=m,he=yield S.getSession(),Xe=yield xr(S.user,X._process(S.user.auth,he,v));return yield S.user._updateTokensIfNecessary(Xe),S.user.reload()})()}unenroll(m){var v=this;return(0,o.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const he=yield xr(v.user,function wr(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(I,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Xe})=>Xe!==S),yield v.user._updateTokensIfNecessary(he),yield v.user.reload()}catch(he){throw he}})()}}const wu=new WeakMap;function Sa(I){const m=(0,r.Ku)(I);return wu.has(m)||wu.set(m,Fl._fromUser(m)),wu.get(m)}const Ll="__sak";class Dd{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Au=(()=>{class I extends Dd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=et(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&v(S,he,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Pt,Qt,Gn)=>{this.notifyListeners(Pt,Gn)});const X=v.key;S?this.detachListener():this.stopPolling();const he=()=>{const Pt=this.storage.getItem(X);!S&&this.localCache[X]===Pt||this.notifyListeners(X,Pt)},Xe=this.storage.getItem(X);!function _t(){return(0,r.lT)()&&10===document.documentMode}()||Xe===v.newValue||v.newValue===v.oldValue?he():setTimeout(he,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,he=this;return(0,o.A)(function*(){yield X().call(he,v,S),he.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,o.A)(function*(){const he=yield S().call(X,v);return X.localCache[v]=JSON.stringify(he),he})()}_remove(v){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return I.type="LOCAL",I})(),ol=(()=>{class I extends Dd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Zt=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(he=>he.isListeningto(v));if(S)return S;const X=new I(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const X=v,{eventId:he,eventType:Xe,data:Pt}=X.data,Qt=S.handlersMap[Xe];if(!Qt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:Xe});const Gn=Array.from(Qt).map(function(){var li=(0,o.A)(function*(Ho){return Ho(X.origin,Pt)});return function(Ho){return li.apply(this,arguments)}}()),Hn=yield function Du(I){return Promise.all(I.map(function(){var m=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Gn);X.ports[0].postMessage({status:"done",eventId:he,eventType:Xe,response:Hn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Br(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class lo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Xe,Pt;return new Promise((Qt,Gn)=>{const Hn=Br("",20);he.port1.start();const li=setTimeout(()=>{Gn(new Error("unsupported_event"))},S);Pt={messageChannel:he,onMessage(Ho){const ya=Ho;if(ya.data.eventId===Hn)switch(ya.data.status){case"ack":clearTimeout(li),Xe=setTimeout(()=>{Gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Xe),Qt(ya.data.response);break;default:clearTimeout(li),clearTimeout(Xe),Gn(new Error("invalid_response"))}}},X.handlers.add(Pt),he.port1.addEventListener("message",Pt.onMessage),X.target.postMessage({eventType:m,eventId:Hn,data:v},[he.port2])}).finally(()=>{Pt&&X.removeMessageHandler(Pt)})})()}}function gs(){return window}function xa(){return typeof gs().WorkerGlobalScope<"u"&&"function"==typeof gs().importScripts}function jo(){return(jo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xd="firebaseLocalStorageDb",Pa="firebaseLocalStorage",ms="fbase_key";class Ks{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ga(I,m){return I.transaction([Pa],m?"readwrite":"readonly").objectStore(Pa)}function Do(){const I=indexedDB.open(xd,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Pa,{keyPath:ms})}catch(X){v(X)}}),I.addEventListener("success",(0,o.A)(function*(){const S=I.result;S.objectStoreNames.contains(Pa)?m(S):(S.close(),yield function lc(){const I=indexedDB.deleteDatabase(xd);return new Ks(I).toPromise()}(),m(yield Do()))}))})}function Pd(I,m,v){return jl.apply(this,arguments)}function jl(){return(jl=(0,o.A)(function*(I,m,v){const S=Ga(I,!0).put({[ms]:m,value:v});return new Ks(S).toPromise()})).apply(this,arguments)}function Bl(){return(Bl=(0,o.A)(function*(I,m){const v=Ga(I,!1).get(m),S=yield new Ks(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function xu(I,m){const v=Ga(I,!0).delete(m);return new Ks(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield Do()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield v(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return xa()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Zt._getInstance(function Su(){return xa()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,he){return{keyProcessed:(yield v._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,X;if(v.activeServiceWorker=yield function Sc(){return jo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new lo(v.activeServiceWorker);const he=yield v.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function al(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield Do();return yield Pd(v,Ll,"1"),yield xu(v,Ll),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(he=>Pd(he,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(he=>function qf(I,m){return Bl.apply(this,arguments)}(he,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>xu(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Xe=>{const Pt=Ga(Xe,!1).getAll();return new Ks(Pt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:Xe,value:Pt}of S)he.add(Xe),JSON.stringify(v.localCache[Xe])!==JSON.stringify(Pt)&&(v.notifyListeners(Xe,Pt),X.push(Xe));for(const Xe of Object.keys(v.localCache))v.localCache[Xe]&&!he.has(Xe)&&(v.notifyListeners(Xe,null),X.push(Xe));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const he of Array.from(X))he(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),It=1e12;class vt{constructor(m){this.auth=m,this.counter=It,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new xn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||It;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||It))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(m||It))||void 0===S||S.execute(),""})()}}class xn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;we(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rr=Tr("rcb"),Yr=new Ue(3e4,6e4);class Ei{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=gs().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return we(function Ha(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Bn(gs().grecaptcha)?Promise.resolve(gs().grecaptcha):new Promise((S,X)=>{const he=gs().setTimeout(()=>{X(Ze(m,"network-request-failed"))},Yr.get());gs()[Rr]=()=>{gs().clearTimeout(he),delete gs()[Rr];const Pt=gs().grecaptcha;if(!Pt||!Bn(Pt))return void X(Ze(m,"internal-error"));const Qt=Pt.render;Pt.render=(Gn,Hn)=>{const li=Qt(Gn,Hn);return this.counter++,li},this.hostLanguage=v,S(Pt)},He(`${function kt(){return zt.recaptchaV2Script}()}?${(0,r.Am)({onload:Rr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(he),X(Ze(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=gs().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xc{load(m){return(0,o.A)(function*(){return new vt(m)})()}clearedOneInstance(){}}const ga="recaptcha",Pc={theme:"light",type:"image"};class Pu{constructor(m,v,S=Object.assign({},Pc)){this.parameters=S,this.type=ga,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(m),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;we(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new Ei,this.validateStartingState()}verify(){var m=this;return(0,o.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(he=>{const Xe=Pt=>{Pt&&(m.tokenChangeListeners.delete(Xe),he(Pt))};m.tokenChangeListeners.add(Xe),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=gs()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.A)(function*(){we(Lt()&&!xa(),m.auth,"internal-error"),yield function Bh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Dr(I){return yn.apply(this,arguments)}(m.auth);we(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class uc{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Qn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function ma(I,m,v){return dc.apply(this,arguments)}function dc(){return(dc=(0,o.A)(function*(I,m,v){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S=Yn(I),X=yield Ou(S,m,(0,r.Ku)(v));return new uc(X,he=>ps(S,he))})).apply(this,arguments)}function za(I,m,v){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);yield ce(!1,S,"phone");const X=yield Ou(S.auth,m,(0,r.Ku)(v));return new uc(X,he=>Gs(S,he))})).apply(this,arguments)}function Mu(I,m,v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);if((0,oe._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth));const X=yield Ou(S.auth,m,(0,r.Ku)(v));return new uc(X,he=>Uo(S,he))})).apply(this,arguments)}function Ou(I,m,v){return Md.apply(this,arguments)}function Md(){return Md=(0,o.A)(function*(I,m,v){var S;const X=yield v.verify();try{let he;if(we("string"==typeof X,I,"argument-error"),we(v.type===ga,I,"argument-error"),he="string"==typeof m?{phoneNumber:m}:m,"session"in he){const Xe=he.session;if("phoneNumber"in he)return we("enroll"===Xe.type,I,"internal-error"),(yield function wd(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:start",ve(I,m))}(I,{idToken:Xe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{we("signin"===Xe.type,I,"internal-error");const Pt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return we(Pt,I,"missing-multi-factor-info"),(yield function w(I,m){return je(I,"POST","/v2/accounts/mfaSignIn:start",ve(I,m))}(I,{mfaPendingCredential:Xe.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Xe}=yield function Fe(I,m){return it.apply(this,arguments)}(I,{phoneNumber:he.phoneNumber,recaptchaToken:X});return Xe}}finally{v._reset()}}),Md.apply(this,arguments)}function Nu(I,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.A)(function*(I,m){const v=(0,r.Ku)(I);if((0,oe._isFirebaseServerApp)(v.auth.app))return Promise.reject(tt(v.auth));yield J(v,m)})).apply(this,arguments)}let _a=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Yn(v)}verifyPhoneNumber(v,S){return Ou(this.auth,v,(0,r.Ku)(S))}static credential(v,S){return Qn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?Qn._fromTokenResponse(S,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Mc(I,m){return m?lt(m):(we(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class $h extends ys{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $s(m,this._buildIdpRequest())}_linkToIdToken(m,v){return $s(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return $s(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Rd(I){return os(I.auth,new $h(I),I.bypassAuthState)}function Hm(I){const{auth:m,user:v}=I;return we(v,m,"internal-error"),pn(v,new $h(I),I.bypassAuthState)}function Gh(I){return ku.apply(this,arguments)}function ku(){return(ku=(0,o.A)(function*(I){const{auth:m,user:v}=I;return we(v,m,"internal-error"),J(v,new $h(I),I.bypassAuthState)})).apply(this,arguments)}class Ra{constructor(m,v,S,X,he=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,o.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(he){m.reject(he)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:Xe,error:Pt,type:Qt}=m;if(Pt)return void v.reject(Pt);const Gn={auth:v.auth,requestUri:S,sessionId:X,tenantId:Xe||void 0,postBody:he||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Qt)(Gn))}catch(Hn){v.reject(Hn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Rd;case"linkViaPopup":case"linkViaRedirect":return Gh;case"reauthViaPopup":case"reauthViaRedirect":return Hm;default:pe(this.auth,"internal-error")}}resolve(m){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hh=new Ue(2e3,1e4);function Fu(I,m,v){return fc.apply(this,arguments)}function fc(){return(fc=(0,o.A)(function*(I,m,v){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(Ze(I,"operation-not-supported-in-this-environment"));const S=Yn(I);Et(I,m,Li);const X=Mc(S,v);return new Yf(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Lu(I,m,v){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);if((0,oe._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ze(S.auth,"operation-not-supported-in-this-environment"));Et(S.auth,m,Li);const X=Mc(S.auth,v);return new Yf(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function Vu(I,m,v){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);Et(S.auth,m,Li);const X=Mc(S.auth,v);return new Yf(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let Yf=(()=>{class I extends Ra{constructor(v,S,X,he,Xe){super(v,S,he,Xe),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return we(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){Tn(1===v.filter.length,"Popup operations only handle one event");const S=Br();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Hh.get())};v()}}return I.currentPopupAction=null,I})();const Xf="pendingRedirect",$o=new Map;class Uu extends Ra{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,o.A)(function*(){let S=$o.get(v.auth._key());if(!S){try{const he=(yield function So(I,m){return Od.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}$o.set(v.auth._key(),S)}return v.bypassAuthState||$o.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Od(){return(Od=(0,o.A)(function*(I,m){const v=Nd(m),S=Oc(I);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function ll(I,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.A)(function*(I,m){return Oc(I)._set(Nd(m),"true")})).apply(this,arguments)}function zh(){$o.clear()}function Rc(I,m){$o.set(I._key(),m)}function Oc(I){return lt(I._redirectPersistence)}function Nd(I){return mn(Xf,I.config.apiKey,I.name)}function Ka(I,m,v){return function qa(I,m,v){return $l.apply(this,arguments)}(I,m,v)}function $l(){return($l=(0,o.A)(function*(I,m,v){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S=Yn(I);Et(I,m,Li),yield S._initializationPromise;const X=Mc(S,v);return yield ll(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Ya(I,m,v){return function yg(I,m,v){return Xa.apply(this,arguments)}(I,m,v)}function Xa(){return(Xa=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);if(Et(S.auth,m,Li),(0,oe._isFirebaseServerApp)(S.auth.app))return Promise.reject(tt(S.auth));yield S.auth._initializationPromise;const X=Mc(S.auth,v);yield ll(X,S.auth);const he=yield Jf(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",he)})).apply(this,arguments)}function qs(I,m,v){return function Nc(I,m,v){return ju.apply(this,arguments)}(I,m,v)}function ju(){return(ju=(0,o.A)(function*(I,m,v){const S=(0,r.Ku)(I);Et(S.auth,m,Li),yield S.auth._initializationPromise;const X=Mc(S.auth,v);yield ce(!1,S,m.providerId),yield ll(X,S.auth);const he=yield Jf(S);return X._openRedirect(S.auth,m,"linkViaRedirect",he)})).apply(this,arguments)}function Qf(I,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.A)(function*(I,m){return yield Yn(I)._initializationPromise,kd(I,m,!1)})).apply(this,arguments)}function kd(I,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,o.A)(function*(I,m,v=!1){if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(tt(I));const S=Yn(I),X=Mc(S,m),Xe=yield new Uu(S,X,v).execute();return Xe&&!v&&(delete Xe.user._redirectEventId,yield S._persistUserIfCurrent(Xe.user),yield S._setRedirectUser(null,m)),Xe})).apply(this,arguments)}function Jf(I){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.A)(function*(I){const m=Br(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Zf{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Fc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vd(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Vd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ld(m))}saveEventToCache(m){this.cachedEventUids.add(Ld(m)),this.lastProcessedEventTime=Date.now()}}function Ld(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Vd({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Jo(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.A)(function*(I,m={}){return je(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ud=/^https?/;function Wh(){return(Wh=(0,o.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Jo(I);for(const v of m)try{if(vg(v))return}catch{}pe(I,"unauthorized-domain")})).apply(this,arguments)}function vg(I){const m=or(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const Xe=new URL(I);return""===Xe.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Xe.hostname===S}if(!Ud.test(v))return!1;if(Bu.test(I))return S===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const zm=new Ue(3e4,6e4);function Eg(){const I=gs().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Fs=null;const Vc=new Ue(5e3,15e3),dl="__/auth/iframe",bg="emulator/auth/iframe",Kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $u(I){const m=I.config;we(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?st(m,bg):`https://${I.config.authDomain}/${dl}`,S={apiKey:m.apiKey,appName:I.name,v:oe.SDK_VERSION},X=Ls.get(I.config.apiHost);X&&(S.eid=X);const he=I._getFrameworks();return he.length&&(S.fw=he.join(",")),`${v}?${(0,r.Am)(S).slice(1)}`}function qh(){return qh=(0,o.A)(function*(I){const m=yield function sy(I){return Fs=Fs||function Lc(I){return new Promise((m,v)=>{var S,X,he;function Xe(){Eg(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Eg(),v(Ze(I,"network-request-failed"))},timeout:zm.get()})}if(null!==(X=null===(S=gs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(he=gs().gapi)||void 0===he||!he.load){const Pt=Tr("iframefcb");return gs()[Pt]=()=>{gapi.load?Xe():v(Ze(I,"network-request-failed"))},He(`${function Kr(){return zt.gapiScript}()}?onload=${Pt}`).catch(Qt=>v(Qt))}Xe()}}).catch(m=>{throw Fs=null,m})}(I),Fs}(I),v=gs().gapi;return we(v,I,"internal-error"),m.open({where:document.body,url:$u(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kh,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(he,Xe){yield S.restyle({setHideOnLeave:!1});const Pt=Ze(I,"network-request-failed"),Qt=gs().setTimeout(()=>{Xe(Pt)},Vc.get());function Gn(){gs().clearTimeout(Qt),he(S)}S.ping(Gn).then(Gn,()=>{Xe(Pt)})});return function(he,Xe){return X.apply(this,arguments)}}()))}),qh.apply(this,arguments)}const Go={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tg="__/auth/handler",ea="emulator/auth/handler",Bd=encodeURIComponent("fac");function mc(I,m,v,S,X,he){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,o.A)(function*(I,m,v,S,X,he){we(I.config.authDomain,I,"auth-domain-config-required"),we(I.config.apiKey,I,"invalid-api-key");const Xe={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:oe.SDK_VERSION,eventId:X};if(m instanceof Li){m.setDefaultLanguage(I.languageCode),Xe.providerId=m.providerId||"",(0,r.Im)(m.getCustomParameters())||(Xe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Hn,li]of Object.entries(he||{}))Xe[Hn]=li}if(m instanceof Fr){const Hn=m.getScopes().filter(li=>""!==li);Hn.length>0&&(Xe.scopes=Hn.join(","))}I.tenantId&&(Xe.tid=I.tenantId);const Pt=Xe;for(const Hn of Object.keys(Pt))void 0===Pt[Hn]&&delete Pt[Hn];const Qt=yield I._getAppCheckToken(),Gn=Qt?`#${Bd}=${encodeURIComponent(Qt)}`:"";return`${function Ig({config:I}){return I.emulator?st(I,ea):`https://${I.authDomain}/${Tg}`}(I)}?${(0,r.Am)(Pt).slice(1)}${Gn}`})).apply(this,arguments)}const Hu="webStorageSupport",Yh=class wg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ol,this._completeRedirectFn=kd,this._overrideRedirectResult=Rc}_openPopup(m,v,S,X){var he=this;return(0,o.A)(function*(){var Xe;Tn(null===(Xe=he.eventManagers[m._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const Pt=yield mc(m,v,S,or(),X);return function ep(I,m,v,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),Xe=Math.max((window.screen.availWidth-S)/2,0).toString();let Pt="";const Qt=Object.assign(Object.assign({},Go),{width:S.toString(),height:X.toString(),top:he,left:Xe}),Gn=(0,r.ZQ)().toLowerCase();v&&(Pt=$e(Gn)?"_blank":v),Pe(Gn)&&(m=m||"http://localhost",Qt.scrollbars="yes");const Hn=Object.entries(Qt).reduce((Ho,[ya,va])=>`${Ho}${ya}=${va},`,"");if(function Xr(I=(0,r.ZQ)()){var m;return cr(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Gn)&&"_self"!==Pt)return function Cg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",Pt),new Gu(null);const li=window.open(m||"",Pt,Hn);we(li,I,"popup-blocked");try{li.focus()}catch{}return new Gu(li)}(m,Pt,Br())})()}_openRedirect(m,v,S,X){var he=this;return(0,o.A)(function*(){return yield he._originValidation(m),function no(I){gs().location.href=I}(yield mc(m,v,S,or(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:he}=this.eventManagers[v];return X?Promise.resolve(X):(Tn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,o.A)(function*(){const S=yield function pc(I){return qh.apply(this,arguments)}(m),X=new Zf(m);return S.register("authEvent",he=>(we(he?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Hu,{type:Hu},X=>{var he;const Xe=null===(he=X?.[0])||void 0===he?void 0:he[Hu];void 0!==Xe&&v(!!Xe),pe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Gl(I){return Wh.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return et()||Se()||cr()}};class tp{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return sn("unexpected MultiFactorSessionType")}}}class Bc extends tp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Bc(m)}_finalizeEnroll(m,v,S){return function Ad(I,m){return je(I,"POST","/v2/accounts/mfaEnrollment:finalize",ve(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(I,m){return je(I,"POST","/v2/accounts/mfaSignIn:finalize",ve(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hl=(()=>{class I{constructor(){}static assertion(v){return Bc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Qh="@firebase/auth";class Wu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function ee(I){zt=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=X=>{const he=Ze("internal-error");he.customData=X,v(he)},S.type="text/javascript",S.charset="UTF-8",function zc(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gc(I){(0,oe._registerComponent)(new Te.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),he=m.getProvider("app-check-internal"),{apiKey:Xe,authDomain:Pt}=S.options;we(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:S.name});const Qt={apiKey:Xe,authDomain:Pt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(I)},Gn=new Hr(S,X,he,Qt);return function ec(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(lt);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(Gn,v),Gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Te.uA("auth-internal",m=>{const v=Yn(m.getProvider("auth").getImmediate());return new Wu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Qh,"1.7.9",function np(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,oe.registerVersion)(Qh,"1.7.9","esm2017")}("Browser")},9583:(dn,Je,k)=>{k.d(Je,{fS:()=>Bp,Ix:()=>ld,H6:()=>nm,T1:()=>Vs,Wq:()=>nu,uY:()=>dh,W6:()=>st,Ci:()=>sm,YQ:()=>Ec,NJ:()=>bl,Dc:()=>Ut,GA:()=>Wp,cm:()=>hi,K$:()=>Wt,FA:()=>ir,lo:()=>ui,bI:()=>Xt,qG:()=>ec,qi:()=>Tn,c8:()=>xp,gS:()=>r0,C3:()=>tv,hq:()=>d0,me:()=>Py,rJ:()=>m_,Cs:()=>xy,vN:()=>Sy,kd:()=>n0,CL:()=>u0,LA:()=>$v,H9:()=>cd,ol:()=>Rp,Q5:()=>Zl,Os:()=>My,FD:()=>wf,rf:()=>Yv,Ws:()=>Ss,z6:()=>_h,x7:()=>Zv,nY:()=>Tl,_e:()=>zy,GG:()=>e0,kU:()=>iE,Rr:()=>Po,aU:()=>v_,GV:()=>oE,AB:()=>Kv,$1:()=>qv,po:()=>b_,St:()=>tE,aQ:()=>M_,FC:()=>Wy,My:()=>Wv,P:()=>Vy,B:()=>yf,yx:()=>Bv,c4:()=>l0,O5:()=>ev,BN:()=>t0,He:()=>Vt,lN:()=>Jv,HM:()=>jy,EO:()=>Uy,mZ:()=>P_,iB:()=>im,_M:()=>zv});var Ne,xe,o=k(467),oe=k(7852),r=k(1362),ye=k(8041),fe=k(1076),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(dt,Ve,Qe){Qe||(Qe=0);var ft=Array(16);if("string"==typeof Ve)for(var mt=0;16>mt;++mt)ft[mt]=Ve.charCodeAt(Qe++)|Ve.charCodeAt(Qe++)<<8|Ve.charCodeAt(Qe++)<<16|Ve.charCodeAt(Qe++)<<24;else for(mt=0;16>mt;++mt)ft[mt]=Ve[Qe++]|Ve[Qe++]<<8|Ve[Qe++]<<16|Ve[Qe++]<<24;var xt=dt.g[3],qe=(Ve=dt.g[0])+(xt^(Qe=dt.g[1])&((mt=dt.g[2])^xt))+ft[0]+3614090360&4294967295;qe=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=(Qe=(mt=(xt=(Ve=Qe+(qe<<7&4294967295|qe>>>25))+((qe=xt+(mt^Ve&(Qe^mt))+ft[1]+3905402710&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^xt&(Ve^Qe))+ft[2]+606105819&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(xt^Ve))+ft[3]+3250441966&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(xt^Qe&(mt^xt))+ft[4]+4118548399&4294967295)<<7&4294967295|qe>>>25))+((qe=xt+(mt^Ve&(Qe^mt))+ft[5]+1200080426&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^xt&(Ve^Qe))+ft[6]+2821735955&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(xt^Ve))+ft[7]+4249261313&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(xt^Qe&(mt^xt))+ft[8]+1770035416&4294967295)<<7&4294967295|qe>>>25))+((qe=xt+(mt^Ve&(Qe^mt))+ft[9]+2336552879&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^xt&(Ve^Qe))+ft[10]+4294925233&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(xt^Ve))+ft[11]+2304563134&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(xt^Qe&(mt^xt))+ft[12]+1804603682&4294967295)<<7&4294967295|qe>>>25))+((qe=xt+(mt^Ve&(Qe^mt))+ft[13]+4254626195&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Qe^xt&(Ve^Qe))+ft[14]+2792965006&4294967295)<<17&4294967295|qe>>>15))+((qe=Qe+(Ve^mt&(xt^Ve))+ft[15]+1236535329&4294967295)<<22&4294967295|qe>>>10))+((qe=Ve+(mt^xt&(Qe^mt))+ft[1]+4129170786&4294967295)<<5&4294967295|qe>>>27))+((qe=xt+(Qe^mt&(Ve^Qe))+ft[6]+3225465664&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(xt^Ve))+ft[11]+643717713&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(xt^Ve&(mt^xt))+ft[0]+3921069994&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^xt&(Qe^mt))+ft[5]+3593408605&4294967295)<<5&4294967295|qe>>>27))+((qe=xt+(Qe^mt&(Ve^Qe))+ft[10]+38016083&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(xt^Ve))+ft[15]+3634488961&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(xt^Ve&(mt^xt))+ft[4]+3889429448&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^xt&(Qe^mt))+ft[9]+568446438&4294967295)<<5&4294967295|qe>>>27))+((qe=xt+(Qe^mt&(Ve^Qe))+ft[14]+3275163606&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(xt^Ve))+ft[3]+4107603335&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(xt^Ve&(mt^xt))+ft[8]+1163531501&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(mt^xt&(Qe^mt))+ft[13]+2850285829&4294967295)<<5&4294967295|qe>>>27))+((qe=xt+(Qe^mt&(Ve^Qe))+ft[2]+4243563512&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Ve^Qe&(xt^Ve))+ft[7]+1735328473&4294967295)<<14&4294967295|qe>>>18))+((qe=Qe+(xt^Ve&(mt^xt))+ft[12]+2368359562&4294967295)<<20&4294967295|qe>>>12))+((qe=Ve+(Qe^mt^xt)+ft[5]+4294588738&4294967295)<<4&4294967295|qe>>>28))+((qe=xt+(Ve^Qe^mt)+ft[8]+2272392833&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(xt^Ve^Qe)+ft[11]+1839030562&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^xt^Ve)+ft[14]+4259657740&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^xt)+ft[1]+2763975236&4294967295)<<4&4294967295|qe>>>28))+((qe=xt+(Ve^Qe^mt)+ft[4]+1272893353&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(xt^Ve^Qe)+ft[7]+4139469664&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^xt^Ve)+ft[10]+3200236656&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^xt)+ft[13]+681279174&4294967295)<<4&4294967295|qe>>>28))+((qe=xt+(Ve^Qe^mt)+ft[0]+3936430074&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(xt^Ve^Qe)+ft[3]+3572445317&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^xt^Ve)+ft[6]+76029189&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(Qe^mt^xt)+ft[9]+3654602809&4294967295)<<4&4294967295|qe>>>28))+((qe=xt+(Ve^Qe^mt)+ft[12]+3873151461&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(xt^Ve^Qe)+ft[15]+530742520&4294967295)<<16&4294967295|qe>>>16))+((qe=Qe+(mt^xt^Ve)+ft[2]+3299628645&4294967295)<<23&4294967295|qe>>>9))+((qe=Ve+(mt^(Qe|~xt))+ft[0]+4096336452&4294967295)<<6&4294967295|qe>>>26))+((qe=xt+(Qe^(Ve|~mt))+ft[7]+1126891415&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(xt|~Qe))+ft[14]+2878612391&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(xt^(mt|~Ve))+ft[5]+4237533241&4294967295)<<21&4294967295|qe>>>11))+((qe=Ve+(mt^(Qe|~xt))+ft[12]+1700485571&4294967295)<<6&4294967295|qe>>>26))+((qe=xt+(Qe^(Ve|~mt))+ft[3]+2399980690&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(xt|~Qe))+ft[10]+4293915773&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(xt^(mt|~Ve))+ft[1]+2240044497&4294967295)<<21&4294967295|qe>>>11))+((qe=Ve+(mt^(Qe|~xt))+ft[8]+1873313359&4294967295)<<6&4294967295|qe>>>26))+((qe=xt+(Qe^(Ve|~mt))+ft[15]+4264355552&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Ve^(xt|~Qe))+ft[6]+2734768916&4294967295)<<15&4294967295|qe>>>17))+((qe=Qe+(xt^(mt|~Ve))+ft[13]+1309151649&4294967295)<<21&4294967295|qe>>>11))+((xt=(Ve=Qe+((qe=Ve+(mt^(Qe|~xt))+ft[4]+4149444226&4294967295)<<6&4294967295|qe>>>26))+((qe=xt+(Qe^(Ve|~mt))+ft[11]+3174756917&4294967295)<<10&4294967295|qe>>>22))^((mt=xt+((qe=mt+(Ve^(xt|~Qe))+ft[2]+718787259&4294967295)<<15&4294967295|qe>>>17))|~Ve))+ft[9]+3951481745&4294967295,dt.g[0]=dt.g[0]+Ve&4294967295,dt.g[1]=dt.g[1]+(mt+(qe<<21&4294967295|qe>>>11))&4294967295,dt.g[2]=dt.g[2]+mt&4294967295,dt.g[3]=dt.g[3]+xt&4294967295}function b(dt,Ve){this.h=Ve;for(var Qe=[],ft=!0,mt=dt.length-1;0<=mt;mt--){var xt=0|dt[mt];ft&&xt==Ve||(Qe[mt]=xt,ft=!1)}this.g=Qe}(function e(dt,Ve){function Qe(){}Qe.prototype=Ve.prototype,dt.D=Ve.prototype,dt.prototype=new Qe,dt.prototype.constructor=dt,dt.C=function(ft,mt,xt){for(var qe=Array(arguments.length-2),su=2;su<arguments.length;su++)qe[su-2]=arguments[su];return Ve.prototype[mt].apply(ft,qe)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(dt,Ve){void 0===Ve&&(Ve=dt.length);for(var Qe=Ve-this.blockSize,ft=this.B,mt=this.h,xt=0;xt<Ve;){if(0==mt)for(;xt<=Qe;)h(this,dt,xt),xt+=this.blockSize;if("string"==typeof dt){for(;xt<Ve;)if(ft[mt++]=dt.charCodeAt(xt++),mt==this.blockSize){h(this,ft),mt=0;break}}else for(;xt<Ve;)if(ft[mt++]=dt[xt++],mt==this.blockSize){h(this,ft),mt=0;break}}this.h=mt,this.o+=Ve},a.prototype.v=function(){var dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);dt[0]=128;for(var Ve=1;Ve<dt.length-8;++Ve)dt[Ve]=0;var Qe=8*this.o;for(Ve=dt.length-8;Ve<dt.length;++Ve)dt[Ve]=255&Qe,Qe/=256;for(this.u(dt),dt=Array(16),Ve=Qe=0;4>Ve;++Ve)for(var ft=0;32>ft;ft+=8)dt[Qe++]=this.g[Ve]>>>ft&255;return dt};var x={};function L(dt){return-128<=dt&&128>dt?function _(dt,Ve){var Qe=x;return Object.prototype.hasOwnProperty.call(Qe,dt)?Qe[dt]:Qe[dt]=Ve(dt)}(dt,function(Ve){return new b([0|Ve],0>Ve?-1:0)}):new b([0|dt],0>dt?-1:0)}function K(dt){if(isNaN(dt)||!isFinite(dt))return _e;if(0>dt)return cn(K(-dt));for(var Ve=[],Qe=1,ft=0;dt>=Qe;ft++)Ve[ft]=dt/Qe|0,Qe*=4294967296;return new b(Ve,0)}var _e=L(0),We=L(1),wt=L(16777216);function qt(dt){if(0!=dt.h)return!1;for(var Ve=0;Ve<dt.g.length;Ve++)if(0!=dt.g[Ve])return!1;return!0}function En(dt){return-1==dt.h}function cn(dt){for(var Ve=dt.g.length,Qe=[],ft=0;ft<Ve;ft++)Qe[ft]=~dt.g[ft];return new b(Qe,~dt.h).add(We)}function tr(dt,Ve){return dt.add(cn(Ve))}function yr(dt,Ve){for(;(65535&dt[Ve])!=dt[Ve];)dt[Ve+1]+=dt[Ve]>>>16,dt[Ve]&=65535,Ve++}function nr(dt,Ve){this.g=dt,this.h=Ve}function $r(dt,Ve){if(qt(Ve))throw Error("division by zero");if(qt(dt))return new nr(_e,_e);if(En(dt))return Ve=$r(cn(dt),Ve),new nr(cn(Ve.g),cn(Ve.h));if(En(Ve))return Ve=$r(dt,cn(Ve)),new nr(cn(Ve.g),Ve.h);if(30<dt.g.length){if(En(dt)||En(Ve))throw Error("slowDivide_ only works with positive integers.");for(var Qe=We,ft=Ve;0>=ft.l(dt);)Qe=Ui(Qe),ft=Ui(ft);var mt=mi(Qe,1),xt=mi(ft,1);for(ft=mi(ft,2),Qe=mi(Qe,2);!qt(ft);){var qe=xt.add(ft);0>=qe.l(dt)&&(mt=mt.add(Qe),xt=qe),ft=mi(ft,1),Qe=mi(Qe,1)}return Ve=tr(dt,mt.j(Ve)),new nr(mt,Ve)}for(mt=_e;0<=dt.l(Ve);){for(Qe=Math.max(1,Math.floor(dt.m()/Ve.m())),ft=48>=(ft=Math.ceil(Math.log(Qe)/Math.LN2))?1:Math.pow(2,ft-48),qe=(xt=K(Qe)).j(Ve);En(qe)||0<qe.l(dt);)qe=(xt=K(Qe-=ft)).j(Ve);qt(xt)&&(xt=We),mt=mt.add(xt),dt=tr(dt,qe)}return new nr(mt,dt)}function Ui(dt){for(var Ve=dt.g.length+1,Qe=[],ft=0;ft<Ve;ft++)Qe[ft]=dt.i(ft)<<1|dt.i(ft-1)>>>31;return new b(Qe,dt.h)}function mi(dt,Ve){var Qe=Ve>>5;Ve%=32;for(var ft=dt.g.length-Qe,mt=[],xt=0;xt<ft;xt++)mt[xt]=0<Ve?dt.i(xt+Qe)>>>Ve|dt.i(xt+Qe+1)<<32-Ve:dt.i(xt+Qe);return new b(mt,dt.h)}(d=b.prototype).m=function(){if(En(this))return-cn(this).m();for(var dt=0,Ve=1,Qe=0;Qe<this.g.length;Qe++){var ft=this.i(Qe);dt+=(0<=ft?ft:4294967296+ft)*Ve,Ve*=4294967296}return dt},d.toString=function(dt){if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if(qt(this))return"0";if(En(this))return"-"+cn(this).toString(dt);for(var Ve=K(Math.pow(dt,6)),Qe=this,ft="";;){var mt=$r(Qe,Ve).g,xt=((0<(Qe=tr(Qe,mt.j(Ve))).g.length?Qe.g[0]:Qe.h)>>>0).toString(dt);if(qt(Qe=mt))return xt+ft;for(;6>xt.length;)xt="0"+xt;ft=xt+ft}},d.i=function(dt){return 0>dt?0:dt<this.g.length?this.g[dt]:this.h},d.l=function(dt){return En(dt=tr(this,dt))?-1:qt(dt)?0:1},d.abs=function(){return En(this)?cn(this):this},d.add=function(dt){for(var Ve=Math.max(this.g.length,dt.g.length),Qe=[],ft=0,mt=0;mt<=Ve;mt++){var xt=ft+(65535&this.i(mt))+(65535&dt.i(mt)),qe=(xt>>>16)+(this.i(mt)>>>16)+(dt.i(mt)>>>16);ft=qe>>>16,Qe[mt]=(qe&=65535)<<16|(xt&=65535)}return new b(Qe,-2147483648&Qe[Qe.length-1]?-1:0)},d.j=function(dt){if(qt(this)||qt(dt))return _e;if(En(this))return En(dt)?cn(this).j(cn(dt)):cn(cn(this).j(dt));if(En(dt))return cn(this.j(cn(dt)));if(0>this.l(wt)&&0>dt.l(wt))return K(this.m()*dt.m());for(var Ve=this.g.length+dt.g.length,Qe=[],ft=0;ft<2*Ve;ft++)Qe[ft]=0;for(ft=0;ft<this.g.length;ft++)for(var mt=0;mt<dt.g.length;mt++){var xt=this.i(ft)>>>16,qe=65535&this.i(ft),su=dt.i(mt)>>>16,Kp=65535&dt.i(mt);Qe[2*ft+2*mt]+=qe*Kp,yr(Qe,2*ft+2*mt),Qe[2*ft+2*mt+1]+=xt*Kp,yr(Qe,2*ft+2*mt+1),Qe[2*ft+2*mt+1]+=qe*su,yr(Qe,2*ft+2*mt+1),Qe[2*ft+2*mt+2]+=xt*su,yr(Qe,2*ft+2*mt+2)}for(ft=0;ft<Ve;ft++)Qe[ft]=Qe[2*ft+1]<<16|Qe[2*ft];for(ft=Ve;ft<2*Ve;ft++)Qe[ft]=0;return new b(Qe,0)},d.A=function(dt){return $r(this,dt).h},d.and=function(dt){for(var Ve=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Ve;ft++)Qe[ft]=this.i(ft)&dt.i(ft);return new b(Qe,this.h&dt.h)},d.or=function(dt){for(var Ve=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Ve;ft++)Qe[ft]=this.i(ft)|dt.i(ft);return new b(Qe,this.h|dt.h)},d.xor=function(dt){for(var Ve=Math.max(this.g.length,dt.g.length),Qe=[],ft=0;ft<Ve;ft++)Qe[ft]=this.i(ft)^dt.i(ft);return new b(Qe,this.h^dt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,xe=Ce.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function le(dt,Ve){if(0==dt.length)throw Error("number format error: empty string");if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if("-"==dt.charAt(0))return cn(le(dt.substring(1),Ve));if(0<=dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Qe=K(Math.pow(Ve,8)),ft=_e,mt=0;mt<dt.length;mt+=8){var xt=Math.min(8,dt.length-mt),qe=parseInt(dt.substring(mt,mt+xt),Ve);8>xt?(xt=K(Math.pow(Ve,xt)),ft=ft.j(xt).add(K(qe))):ft=(ft=ft.j(Qe)).add(K(qe))}return ft},Ne=Ce.Integer=b}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});var be,Ge,St,ht,jt,Nt,rn,ze,z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,q){return E==Array.prototype||E==Object.prototype||(E[U]=q.value),E},a=function i(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof z&&z];for(var U=0;U<E.length;++U){var q=E[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var q=a;E=E.split(".");for(var me=0;me<E.length-1;me++){var yt=E[me];if(!(yt in q))break e;q=q[yt]}(U=U(me=q[E=E[E.length-1]]))!=me&&null!=U&&e(q,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function _(E,U){E instanceof String&&(E+="");var q=0,me=!1,yt={next:function(){if(!me&&q<E.length){var Ft=q++;return{value:U(Ft,E[Ft]),done:!1}}return me=!0,{done:!0,value:void 0}}};return yt[Symbol.iterator]=function(){return yt},yt}(this,function(U,q){return q})}});var b=b||{},x=this||self;function L(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function K(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function le(E,U,q){return E.call.apply(E.bind,arguments)}function _e(E,U,q){if(!E)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(yt,me),E.apply(U,yt)}}return function(){return E.apply(U,arguments)}}function We(E,U,q){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:_e).apply(null,arguments)}function wt(E,U){var q=Array.prototype.slice.call(arguments,1);return function(){var me=q.slice();return me.push.apply(me,arguments),E.apply(this,me)}}function qt(E,U){function q(){}q.prototype=U.prototype,E.aa=U.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(me,yt,Ft){for(var Nn=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)Nn[Yi-2]=arguments[Yi];return U.prototype[yt].apply(me,Nn)}}function En(E){const U=E.length;if(0<U){const q=Array(U);for(let me=0;me<U;me++)q[me]=E[me];return q}return[]}function cn(E,U){for(let q=1;q<arguments.length;q++){const me=arguments[q];if(L(me)){const yt=E.length||0,Ft=me.length||0;E.length=yt+Ft;for(let Nn=0;Nn<Ft;Nn++)E[yt+Nn]=me[Nn]}else E.push(me)}}function yr(E){return/^[\s\xa0]*$/.test(E)}function nr(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function $r(E){return $r[" "](E),E}$r[" "]=function(){};var Ui=!(-1==nr().indexOf("Gecko")||-1!=nr().toLowerCase().indexOf("webkit")&&-1==nr().indexOf("Edge")||-1!=nr().indexOf("Trident")||-1!=nr().indexOf("MSIE")||-1!=nr().indexOf("Edge"));function mi(E,U,q){for(const me in E)U.call(q,E[me],me,E)}function Ve(E){const U={};for(const q in E)U[q]=E[q];return U}const Qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(E,U){let q,me;for(let yt=1;yt<arguments.length;yt++){for(q in me=arguments[yt],me)E[q]=me[q];for(let Ft=0;Ft<Qe.length;Ft++)q=Qe[Ft],Object.prototype.hasOwnProperty.call(me,q)&&(E[q]=me[q])}}function mt(E){var U=1;E=E.split(":");const q=[];for(;0<U&&E.length;)q.push(E.shift()),U--;return E.length&&q.push(E.join(":")),q}function xt(E){x.setTimeout(()=>{throw E},0)}function qe(){var E=F_;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var Kp=new class tr{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new m0,E=>E.reset());class m0{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Sf,qp=!1,F_=new class su{constructor(){this.h=this.g=null}add(U,q){const me=Kp.get();me.set(U,q),this.h?this.h.next=me:this.g=me,this.h=me}},gm=()=>{const E=x.Promise.resolve(void 0);Sf=()=>{E.then(_0)}};var _0=()=>{for(var E;E=qe();){try{E.h.call(E.g)}catch(q){xt(q)}var U=Kp;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}qp=!1};function ou(){this.s=this.s,this.C=this.C}function ra(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}ou.prototype.s=!1,ou.prototype.ma=function(){this.s||(this.s=!0,this.N())},ou.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ra.prototype.h=function(){this.defaultPrevented=!0};var y0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};x.addEventListener("test",q,U),x.removeEventListener("test",q,U)}catch{}return E}();function Yp(E,U){if(ra.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,me=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(Ui){e:{try{$r(U.nodeName);var yt=!0;break e}catch{}yt=!1}yt||(U=null)}}else"mouseover"==q?U=E.fromElement:"mouseout"==q&&(U=E.toElement);this.relatedTarget=U,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Il[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Yp.aa.h.call(this)}}qt(Yp,ra);var Il={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),v0=0;function iv(E,U,q,me,yt){this.listener=E,this.proxy=null,this.src=U,this.type=q,this.capture=!!me,this.ha=yt,this.key=++v0,this.da=this.fa=!1}function mm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function xf(E){this.src=E,this.g={},this.h=0}function Xp(E,U){var q=U.type;if(q in E.g){var Ft,me=E.g[q],yt=Array.prototype.indexOf.call(me,U,void 0);(Ft=0<=yt)&&Array.prototype.splice.call(me,yt,1),Ft&&(mm(U),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Hi(E,U,q,me){for(var yt=0;yt<E.length;++yt){var Ft=E[yt];if(!Ft.da&&Ft.listener==U&&Ft.capture==!!q&&Ft.ha==me)return yt}return-1}xf.prototype.add=function(E,U,q,me,yt){var Ft=E.toString();(E=this.g[Ft])||(E=this.g[Ft]=[],this.h++);var Nn=Hi(E,U,me,yt);return-1<Nn?(U=E[Nn],q||(U.fa=!1)):((U=new iv(U,this.src,Ft,!!me,yt)).fa=q,E.push(U)),U};var Qp="closure_lm_"+(1e6*Math.random()|0),_m={};function ym(E,U,q,me,yt){if(me&&me.once)return Em(E,U,q,me,yt);if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)ym(E,U[Ft],q,me,yt);return null}return q=Cm(q),E&&E[yh]?E.K(U,q,K(me)?!!me.capture:!!me,yt):vm(E,U,q,!1,me,yt)}function vm(E,U,q,me,yt,Ft){if(!U)throw Error("Invalid event type");var Nn=K(yt)?!!yt.capture:!!yt,Yi=Pf(E);if(Yi||(E[Qp]=Yi=new xf(E)),(q=Yi.add(U,q,me,Nn,Ft)).proxy)return q;if(me=function L_(){const U=sv;return function E(q){return U.call(E.src,E.listener,q)}}(),q.proxy=me,me.src=E,me.listener=q,E.addEventListener)y0||(yt=Nn),void 0===yt&&(yt=!1),E.addEventListener(U.toString(),me,yt);else if(E.attachEvent)E.attachEvent(V_(U.toString()),me);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(me)}return q}function Em(E,U,q,me,yt){if(Array.isArray(U)){for(var Ft=0;Ft<U.length;Ft++)Em(E,U[Ft],q,me,yt);return null}return q=Cm(q),E&&E[yh]?E.L(U,q,K(me)?!!me.capture:!!me,yt):vm(E,U,q,!0,me,yt)}function Jp(E,U,q,me,yt){if(Array.isArray(U))for(var Ft=0;Ft<U.length;Ft++)Jp(E,U[Ft],q,me,yt);else me=K(me)?!!me.capture:!!me,q=Cm(q),E&&E[yh]?(E=E.i,(U=String(U).toString())in E.g&&-1<(q=Hi(Ft=E.g[U],q,me,yt))&&(mm(Ft[q]),Array.prototype.splice.call(Ft,q,1),0==Ft.length&&(delete E.g[U],E.h--))):E&&(E=Pf(E))&&(U=E.g[U.toString()],E=-1,U&&(E=Hi(U,q,me,yt)),(q=-1<E?U[E]:null)&&bc(q))}function bc(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[yh])Xp(U.i,E);else{var q=E.type,me=E.proxy;U.removeEventListener?U.removeEventListener(q,me,E.capture):U.detachEvent?U.detachEvent(V_(q),me):U.addListener&&U.removeListener&&U.removeListener(me),(q=Pf(U))?(Xp(q,E),0==q.h&&(q.src=null,U[Qp]=null)):mm(E)}}}function V_(E){return E in _m?_m[E]:_m[E]="on"+E}function sv(E,U){if(E.da)E=!0;else{U=new Yp(U,this);var q=E.listener,me=E.ha||E.src;E.fa&&bc(E),E=q.call(me,U)}return E}function Pf(E){return(E=E[Qp])instanceof xf?E:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(E){return"function"==typeof E?E:(E[bm]||(E[bm]=function(U){return E.handleEvent(U)}),E[bm])}function zo(){ou.call(this),this.i=new xf(this),this.M=this,this.F=null}function mo(E,U){var q,me=E.F;if(me)for(q=[];me;me=me.F)q.push(me);if(E=E.M,me=U.type||U,"string"==typeof U)U=new ra(U,E);else if(U instanceof ra)U.target=U.target||E;else{var yt=U;ft(U=new ra(me,E),yt)}if(yt=!0,q)for(var Ft=q.length-1;0<=Ft;Ft--){var Nn=U.g=q[Ft];yt=au(Nn,me,!0,U)&&yt}if(yt=au(Nn=U.g=E,me,!0,U)&&yt,yt=au(Nn,me,!1,U)&&yt,q)for(Ft=0;Ft<q.length;Ft++)yt=au(Nn=U.g=q[Ft],me,!1,U)&&yt}function au(E,U,q,me){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var yt=!0,Ft=0;Ft<U.length;++Ft){var Nn=U[Ft];if(Nn&&!Nn.da&&Nn.capture==q){var Yi=Nn.listener,Eo=Nn.ha||Nn.src;Nn.fa&&Xp(E.i,Nn),yt=!1!==Yi.call(Eo,me)&&yt}}return yt&&!me.defaultPrevented}function Tm(E,U,q){if("function"==typeof E)q&&(E=We(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=We(E.handleEvent,E)}return 2147483647<Number(U)?-1:x.setTimeout(E,U||0)}function Mf(E){E.g=Tm(()=>{E.g=null,E.i&&(E.i=!1,Mf(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}qt(zo,ou),zo.prototype[yh]=!0,zo.prototype.removeEventListener=function(E,U,q,me){Jp(this,E,U,q,me)},zo.prototype.N=function(){if(zo.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var q=E.g[U],me=0;me<q.length;me++)mm(q[me]);delete E.g[U],E.h--}}this.F=null},zo.prototype.K=function(E,U,q,me){return this.i.add(String(E),U,!1,q,me)},zo.prototype.L=function(E,U,q,me){return this.i.add(String(E),U,!0,q,me)};class E0 extends ou{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Mf(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rf(E){ou.call(this),this.h=E,this.g={}}qt(Rf,ou);var Im=[];function wm(E){mi(E.g,function(U,q){this.g.hasOwnProperty(q)&&bc(U)},E),E.g={}}Rf.prototype.N=function(){Rf.aa.N.call(this),wm(this)},Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Am=x.JSON.stringify,ov=x.JSON.parse,U_=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function Zp(){}function j_(){}Zp.prototype.h=null;var Eh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eg(){ra.call(this,"d")}function Dm(){ra.call(this,"c")}qt(eg,ra),qt(Dm,ra);var hd={},bh=null;function tg(){return bh=bh||new zo}function B_(E){ra.call(this,hd.La,E)}function ng(E){const U=tg();mo(U,new B_(U))}function $_(E,U){ra.call(this,hd.STAT_EVENT,E),this.stat=U}function ia(E){const U=tg();mo(U,new $_(U,E))}function wl(E,U){ra.call(this,hd.Ma,E),this.size=U}function Ch(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},U)}function fd(){this.g=!0}function _o(E,U,q,me){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function av(E,U){if(!E.g)return U;if(!U)return null;try{var q=JSON.parse(U);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var me=q[E];if(!(2>me.length)){var yt=me[1];if(Array.isArray(yt)&&!(1>yt.length)){var Ft=yt[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Nn=1;Nn<yt.length;Nn++)yt[Nn]=""}}}return Am(q)}catch{return U}}(E,q)+(me?" "+me:"")})}hd.La="serverreachability",qt(B_,ra),hd.STAT_EVENT="statevent",qt($_,ra),hd.Ma="timingevent",qt(wl,ra),fd.prototype.xa=function(){this.g=!1},fd.prototype.info=function(){};var Al,Th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function kf(){}function cu(E,U,q,me){this.j=E,this.i=U,this.l=q,this.R=me||1,this.U=new Rf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cv}function cv(){this.i=null,this.g="",this.h=!1}qt(kf,Zp),kf.prototype.g=function(){return new XMLHttpRequest},kf.prototype.i=function(){return{}},Al=new kf;var Sm={},Ff={};function ig(E,U,q){E.L=1,E.v=du(vo(U)),E.m=q,E.P=!0,b0(E,null)}function b0(E,U){E.F=Date.now(),xm(E),E.A=vo(E.v);var q=E.A,me=E.R;Array.isArray(me)||(me=[String(me)]),dv(q.i,"t",me),E.C=0,q=E.j.J,E.h=new cv,E.g=$f(E.j,q?U:null,!E.m),0<E.O&&(E.M=new E0(We(E.Y,E,E.g),E.O)),U=E.U,q=E.g,me=E.ca;var yt="readystatechange";Array.isArray(yt)||(yt&&(Im[0]=yt.toString()),yt=Im);for(var Ft=0;Ft<yt.length;Ft++){var Nn=ym(q,yt[Ft],me||U.handleEvent,!1,U.h||U);if(!Nn)break;U.g[Nn.key]=Nn}U=E.H?Ve(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),ng(),function rg(E,U,q,me,yt,Ft){E.info(function(){if(E.g)if(Ft)for(var Nn="",Yi=Ft.split("&"),Eo=0;Eo<Yi.length;Eo++){var ti=Yi[Eo].split("=");if(1<ti.length){var bo=ti[0];ti=ti[1];var ro=bo.split("_");Nn=2<=ro.length&&"type"==ro[1]?Nn+(bo+"=")+ti+"&":Nn+(bo+"=redacted&")}}else Nn=null;else Nn=Ft;return"XMLHTTP REQ ("+me+") [attempt "+yt+"]: "+U+"\n"+q+"\n"+Nn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function sg(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function og(E,U){var q=E.C,me=U.indexOf("\n",q);return-1==me?Ff:(q=Number(U.substring(q,me)),isNaN(q)?Sm:(me+=1)+q>U.length?Ff:(U=U.slice(me,me+q),E.C=me+q,U))}function xm(E){E.S=Date.now()+E.I,Ih(E,E.I)}function Ih(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Ch(We(E.ba,E),U)}function Pm(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function pd(E){0==E.j.G||E.J||Rh(E.j,E)}function Ja(E){Pm(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,wm(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function wh(E,U){try{var q=E.j;if(0!=q.G&&(q.g==E||lu(q.h,E)))if(!E.K&&lu(q.h,E)&&3==q.G){try{var me=q.Da.g.parse(U)}catch{me=null}if(Array.isArray(me)&&3==me.length){var yt=me;if(0==yt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;yu(q),mu(q)}hg(q),ia(18)}}else q.za=yt[1],0<q.za-q.T&&37500>yt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ch(We(q.Za,q),6e3));if(1>=Wo(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Oh(q,11)}else if((E.K||q.g==E)&&yu(q),!yr(U))for(yt=q.Da.g.parse(U),U=0;U<yt.length;U++){let ti=yt[U];if(q.T=ti[0],ti=ti[1],2==q.G)if("c"==ti[0]){q.K=ti[1],q.ia=ti[2];const bo=ti[3];null!=bo&&(q.la=bo,q.j.info("VER="+q.la));const ro=ti[4];null!=ro&&(q.Aa=ro,q.j.info("SVER="+q.Aa));const Qc=ti[5];null!=Qc&&"number"==typeof Qc&&0<Qc&&(q.L=me=1.5*Qc,q.j.info("backChannelRequestTimeoutMs_="+me)),me=q;const Ta=E.g;if(Ta){const Hf=Ta.g?Ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hf){var Ft=me.h;Ft.g||-1==Hf.indexOf("spdy")&&-1==Hf.indexOf("quic")&&-1==Hf.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(Mo(Ft,Ft.h),Ft.h=null))}if(me.D){const kh=Ta.g?Ta.g.getResponseHeader("X-HTTP-Session-Id"):null;kh&&(me.ya=kh,Ki(me.I,me.D,kh))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Nn=E;if((me=q).qa=Y_(me,me.J?me.ia:null,me.W),Nn.K){ag(me.h,Nn);var Yi=Nn,Eo=me.L;Eo&&(Yi.I=Eo),Yi.B&&(Pm(Yi),xm(Yi)),me.g=Nn}else Mh(me);0<q.i.length&&_u(q)}else"stop"!=ti[0]&&"close"!=ti[0]||Oh(q,7);else 3==q.G&&("stop"==ti[0]||"close"==ti[0]?"stop"==ti[0]?Oh(q,7):Nm(q):"noop"!=ti[0]&&q.l&&q.l.ta(ti),q.v=0)}ng()}catch{}}function gd(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(E){return!!E.h||!!E.g&&E.g.size>=E.j}function Wo(E){return E.h?1:E.g?E.g.size:0}function lu(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function Mo(E,U){E.g?E.g.add(U):E.h=U}function ag(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function Cc(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const q of E.g.values())U=U.concat(q.D);return U}return En(E.i)}function uu(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var q=function Ah(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var U=[];E=E.length;for(var q=0;q<E;q++)U.push(q);return U}U=[],q=0;for(const me in E)U[q++]=me;return U}}}(E),me=function md(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var U=[],q=E.length,me=0;me<q;me++)U.push(E[me]);return U}for(me in U=[],q=0,E)U[q++]=E[me];return U}(E),yt=me.length,Ft=0;Ft<yt;Ft++)U.call(void 0,me[Ft],q&&q[Ft],E)}cu.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==xl(E)?U.j():this.Y(E)},cu.prototype.Y=function(E){try{if(E==this.g)e:{const ro=xl(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>ro)&&(3!=ro||this.g&&(this.h.h||this.g.oa()||ug(this.g)))){this.J||4!=ro||7==U||ng(),Pm(this);var q=this.g.Z();this.X=q;t:if(sg(this)){var me=ug(this.g);E="";var yt=me.length,Ft=4==xl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ja(this),pd(this);var Nn="";break t}this.h.i=new x.TextDecoder}for(U=0;U<yt;U++)this.h.h=!0,E+=this.h.i.decode(me[U],{stream:!(Ft&&U==yt-1)});me.length=0,this.h.g+=E,this.C=0,Nn=this.h.g}else Nn=this.g.oa();if(this.o=200==q,function Of(E,U,q,me,yt,Ft,Nn){E.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+yt+"]: "+U+"\n"+q+"\n"+Ft+" "+Nn})}(this.i,this.u,this.A,this.l,this.R,ro,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,Eo=this.g;if((Yi=Eo.g?Eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(Yi)){var ti=Yi;break t}}ti=null}if(!(q=ti)){this.o=!1,this.s=3,ia(12),Ja(this),pd(this);break e}_o(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wh(this,q)}if(this.P){let Ta;for(q=!0;!this.J&&this.C<Nn.length;){if(Ta=og(this,Nn),Ta==Ff){4==ro&&(this.s=4,ia(14),q=!1),_o(this.i,this.l,null,"[Incomplete Response]");break}if(Ta==Sm){this.s=4,ia(15),_o(this.i,this.l,Nn,"[Invalid Chunk]"),q=!1;break}_o(this.i,this.l,Ta,null),wh(this,Ta)}if(sg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ro||0!=Nn.length||this.h.h||(this.s=1,ia(16),q=!1),this.o=this.o&&q,q){if(0<Nn.length&&!this.W){this.W=!0;var bo=this.j;bo.g==this&&bo.ba&&!bo.M&&(bo.j.info("Great, no buffering proxy detected. Bytes received: "+Nn.length),Fm(bo),bo.M=!0,ia(11))}}else _o(this.i,this.l,Nn,"[Invalid Chunked Response]"),Ja(this),pd(this)}else _o(this.i,this.l,Nn,null),wh(this,Nn);4==ro&&Ja(this),this.o&&!this.J&&(4==ro?Rh(this.j,this):(this.o=!1,xm(this)))}else(function _v(E){const U={};E=(E.g&&2<=xl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<E.length;me++){if(yr(E[me]))continue;var q=mt(E[me]);const yt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Ft=U[yt]||[];U[yt]=Ft,Ft.push(q)}!function dt(E,U){for(const q in E)U.call(void 0,E[q],q,E)}(U,function(me){return me.join(", ")})})(this.g),400==q&&0<Nn.indexOf("Unknown SID")?(this.s=3,ia(12)):(this.s=0,ia(13)),Ja(this),pd(this)}}}catch{}},cu.prototype.cancel=function(){this.J=!0,Ja(this)},cu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Nf(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(ng(),ia(17)),Ja(this),this.s=2,pd(this)):Ih(this,this.S-E)},gd.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof yo){this.h=E.h,Dl(this,E.j),this.o=E.o,this.g=E.g,_d(this,E.s),this.l=E.l;var U=E.i,q=new Rm;q.i=U.i,U.g&&(q.g=new Map(U.g),q.h=U.h),cg(this,q),this.m=E.m}else E&&(U=String(E).match(ba))?(this.h=!1,Dl(this,U[1]||"",!0),this.o=Dh(U[2]||""),this.g=Dh(U[3]||"",!0),_d(this,U[4]),this.l=Dh(U[5]||"",!0),cg(this,U[6]||"",!0),this.m=Dh(U[7]||"")):(this.h=!1,this.i=new Rm(null,this.h))}function vo(E){return new yo(E)}function Dl(E,U,q){E.j=q?Dh(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function _d(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function cg(E,U,q){U instanceof Rm?(E.i=U,function hv(E,U){U&&!E.j&&(yd(E),E.i=null,E.g.forEach(function(q,me){var yt=me.toLowerCase();me!=yt&&(uv(this,me),dv(this,yt,q))},E)),E.j=U}(E.i,E.h)):(q||(U=hu(U,z_)),E.i=new Rm(U,E.h))}function Ki(E,U,q){E.i.set(U,q)}function du(E){return Ki(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Dh(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function hu(E,U,q){return"string"==typeof E?(E=encodeURI(E).replace(U,lv),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function lv(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}yo.prototype.toString=function(){var E=[],U=this.j;U&&E.push(hu(U,Mm,!0),":");var q=this.g;return(q||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(hu(U,Mm,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(hu(q,"/"==q.charAt(0)?oa:H_,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",hu(q,cE)),E.join("")};var E,Mm=/[#\/\?@]/g,H_=/[#\?:]/g,oa=/[#\?]/g,z_=/[#\?@]/g,cE=/#/g;function Rm(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function yd(E){E.g||(E.g=new Map,E.h=0,E.i&&function sa(E,U){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var me=E[q].indexOf("="),yt=null;if(0<=me){var Ft=E[q].substring(0,me);yt=E[q].substring(me+1)}else Ft=E[q];U(Ft,yt?decodeURIComponent(yt.replace(/\+/g," ")):"")}}}(E.i,function(U,q){E.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}function uv(E,U){yd(E),U=fu(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function C0(E,U){return yd(E),U=fu(E,U),E.g.has(U)}function dv(E,U,q){uv(E,U),0<q.length&&(E.i=null,E.g.set(fu(E,U),En(q)),E.h+=q.length)}function fu(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function La(E,U,q,me,yt){try{yt&&(yt.onload=null,yt.onerror=null,yt.onabort=null,yt.ontimeout=null),me(q)}catch{}}function pu(){this.g=new U_}function lg(E,U,q){const me=q||"";try{uu(E,function(yt,Ft){let Nn=yt;K(yt)&&(Nn=Am(yt)),U.push(me+Ft+"="+encodeURIComponent(Nn))})}catch(yt){throw U.push(me+"type="+encodeURIComponent("_badmap")),yt}}function Sl(E){this.l=E.Ub||null,this.j=E.eb||!1}function Lf(E,U){zo.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function gu(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function vd(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Vf(E)}function Vf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Sh(E){let U="";return mi(E,function(q,me){U+=me,U+=":",U+=q,U+="\r\n"}),U}function Om(E,U,q){e:{for(me in q){var me=!1;break e}me=!0}me||(q=Sh(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):Ki(E,U,q))}function Us(E){zo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Rm.prototype).add=function(E,U){yd(this),this.i=null,E=fu(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(U),this.h+=1,this},d.forEach=function(E,U){yd(this),this.g.forEach(function(q,me){q.forEach(function(yt){E.call(U,yt,me,this)},this)},this)},d.na=function(){yd(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),q=[];for(let me=0;me<U.length;me++){const yt=E[me];for(let Ft=0;Ft<yt.length;Ft++)q.push(U[me])}return q},d.V=function(E){yd(this);let U=[];if("string"==typeof E)C0(this,E)&&(U=U.concat(this.g.get(fu(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)U=U.concat(E[q])}return U},d.set=function(E,U){return yd(this),this.i=null,C0(this,E=fu(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},d.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var q=0;q<U.length;q++){var me=U[q];const Ft=encodeURIComponent(String(me)),Nn=this.V(me);for(me=0;me<Nn.length;me++){var yt=Ft;""!==Nn[me]&&(yt+="="+encodeURIComponent(String(Nn[me]))),E.push(yt)}}return this.i=E.join("&")},qt(Sl,Zp),Sl.prototype.g=function(){return new Lf(this.l,this.j)},Sl.prototype.i=(E={},function(){return E}),qt(Lf,zo),(d=Lf.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,Vf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||x).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vd(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Vf(this)),this.g&&(this.readyState=3,Vf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?vd(this):Vf(this),3==this.readyState&&gu(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,vd(this))},d.Qa=function(E){this.g&&(this.response=E,vd(this))},d.ga=function(){this.g&&vd(this)},d.setRequestHeader=function(E,U){this.u.append(E,U)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var q=U.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=U.next();return E.join("\r\n")},Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),qt(Us,zo);var gv=/^https?$/i,mv=["POST","PUT"];function Xc(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,Ed(E),xh(E)}function Ed(E){E.A||(E.A=!0,mo(E,"complete"),mo(E,"error"))}function bd(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=xl(E)||2!=E.Z()))if(E.u&&4==xl(E))Tm(E.Ea,0,E);else if(mo(E,"readystatechange"),4==xl(E)){E.h=!1;try{const Nn=E.Z();e:switch(Nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var me;if(me=0===Nn){var yt=String(E.D).match(ba)[1]||null;!yt&&x.self&&x.self.location&&(yt=x.self.location.protocol.slice(0,-1)),me=!gv.test(yt?yt.toLowerCase():"")}q=me}if(q)mo(E,"complete"),mo(E,"success");else{E.m=6;try{var Ft=2<xl(E)?E.g.statusText:""}catch{Ft=""}E.l=Ft+" ["+E.Z()+"]",Ed(E)}}finally{xh(E)}}}function xh(E,U){if(E.g){W_(E);const q=E.g,me=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||mo(E,"ready");try{q.onreadystatechange=me}catch{}}}function W_(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function xl(E){return E.g?E.g.readyState:0}function ug(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(E,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||U}function dg(E){this.Aa=0,this.i=[],this.j=new fd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ph("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ph("baseRetryDelayMs",5e3,E),this.cb=Ph("retryDelaySeedMs",1e4,E),this.Wa=Ph("forwardChannelMaxRetries",2,E),this.wa=Ph("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new gd(E&&E.concurrentRequestLimit),this.Da=new pu,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Nm(E){if(Uf(E),3==E.G){var U=E.U++,q=vo(E.I);if(Ki(q,"SID",E.K),Ki(q,"RID",U),Ki(q,"TYPE","terminate"),jf(E,q),(U=new cu(E,E.j,U)).L=2,U.v=du(vo(q)),q=!1,x.navigator&&x.navigator.sendBeacon)try{q=x.navigator.sendBeacon(U.v.toString(),"")}catch{}!q&&x.Image&&((new Image).src=U.v,q=!0),q||(U.g=$f(U.j,null),U.g.ea(U.v)),U.F=Date.now(),xm(U)}q_(E)}function mu(E){E.g&&(Fm(E),E.g.cancel(),E.g=null)}function Uf(E){mu(E),E.u&&(x.clearTimeout(E.u),E.u=null),yu(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function _u(E){if(!ho(E.h)&&!E.s){E.s=!0;var U=E.Ga;Sf||gm(),qp||(Sf(),qp=!0),F_.add(U,E),E.B=0}}function km(E,U){var q;q=U?U.l:E.U++;const me=vo(E.I);Ki(me,"SID",E.K),Ki(me,"RID",q),Ki(me,"AID",E.T),jf(E,me),E.m&&E.o&&Om(me,E.m,E.o),q=new cu(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),U&&(E.i=U.D.concat(E.i)),U=K_(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Mo(E.h,q),ig(q,me,U)}function jf(E,U){E.H&&mi(E.H,function(q,me){Ki(U,me,q)}),E.l&&uu({},function(q,me){Ki(U,me,q)})}function K_(E,U,q){q=Math.min(E.i.length,q);var me=E.l?We(E.l.Na,E.l,E):null;e:{var yt=E.i;let Ft=-1;for(;;){const Nn=["count="+q];-1==Ft?0<q?(Ft=yt[0].g,Nn.push("ofs="+Ft)):Ft=0:Nn.push("ofs="+Ft);let Yi=!0;for(let Eo=0;Eo<q;Eo++){let ti=yt[Eo].g;const bo=yt[Eo].map;if(ti-=Ft,0>ti)Ft=Math.max(0,yt[Eo].g-100),Yi=!1;else try{lg(bo,Nn,"req"+ti+"_")}catch{me&&me(bo)}}if(Yi){me=Nn.join("&");break e}}}return E=E.i.splice(0,q),U.D=E,me}function Mh(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;Sf||gm(),qp||(Sf(),qp=!0),F_.add(U,E),E.v=0}}function hg(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Ch(We(E.Fa,E),fg(E,E.v)),E.v++,0))}function Fm(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function Bf(E){E.g=new cu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=vo(E.qa);Ki(U,"RID","rpc"),Ki(U,"SID",E.K),Ki(U,"AID",E.T),Ki(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&Ki(U,"TO",E.ja),Ki(U,"TYPE","xmlhttp"),jf(E,U),E.m&&E.o&&Om(U,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=du(vo(U)),q.m=null,q.P=!0,b0(q,E)}function yu(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function Rh(E,U){var q=null;if(E.g==U){yu(E),Fm(E),E.g=null;var me=2}else{if(!lu(E.h,U))return;q=U.D,ag(E.h,U),me=1}if(0!=E.G)if(U.o)if(1==me){q=U.m?U.m.length:0,U=Date.now()-U.F;var yt=E.B;mo(me=tg(),new wl(me,q)),_u(E)}else Mh(E);else if(3==(yt=U.s)||0==yt&&0<U.X||!(1==me&&function yv(E,U){return!(Wo(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Ch(We(E.Ga,E,U),fg(E,E.B)),E.B++,0)))}(E,U)||2==me&&hg(E)))switch(q&&0<q.length&&(U=E.h,U.i=U.i.concat(q)),yt){case 1:Oh(E,5);break;case 4:Oh(E,10);break;case 3:Oh(E,6);break;default:Oh(E,2)}}function fg(E,U){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*U}function Oh(E,U){if(E.j.info("Error code "+U),2==U){var q=We(E.fb,E),me=E.Xa;const yt=!me;me=new yo(me||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Dl(me,"https"),du(me),yt?function fv(E,U){const q=new fd;if(x.Image){const me=new Image;me.onload=wt(La,q,"TestLoadImage: loaded",!0,U,me),me.onerror=wt(La,q,"TestLoadImage: error",!1,U,me),me.onabort=wt(La,q,"TestLoadImage: abort",!1,U,me),me.ontimeout=wt(La,q,"TestLoadImage: timeout",!1,U,me),x.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=E}else U(!1)}(me.toString(),q):function pv(E,U){new fd;const me=new AbortController,yt=setTimeout(()=>{me.abort(),La(0,0,!1,U)},1e4);fetch(E,{signal:me.signal}).then(Ft=>{clearTimeout(yt),La(0,0,!!Ft.ok,U)}).catch(()=>{clearTimeout(yt),La(0,0,!1,U)})}(me.toString(),q)}else ia(2);E.G=0,E.l&&E.l.sa(U),q_(E),Uf(E)}function q_(E){if(E.G=0,E.ka=[],E.l){const U=Cc(E.h);(0!=U.length||0!=E.i.length)&&(cn(E.ka,U),cn(E.ka,E.i),E.h.i.length=0,En(E.i),E.i.length=0),E.l.ra()}}function Y_(E,U,q){var me=q instanceof yo?vo(q):new yo(q);if(""!=me.g)U&&(me.g=U+"."+me.g),_d(me,me.s);else{var yt=x.location;me=yt.protocol,U=U?U+"."+yt.hostname:yt.hostname,yt=+yt.port;var Ft=new yo(null);me&&Dl(Ft,me),U&&(Ft.g=U),yt&&_d(Ft,yt),q&&(Ft.l=q),me=Ft}return U=E.ya,(q=E.D)&&U&&Ki(me,q,U),Ki(me,"VER",E.la),jf(E,me),me}function $f(E,U,q){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Us(E.Ca&&!E.pa?new Sl({eb:q}):E.pa)).Ha(E.J),U}function Gf(){}function Nh(){}function Ca(E,U){zo.call(this),this.g=new dg(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!yr(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!yr(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new Cd(this)}function Lm(E){eg.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const q in U){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function X_(){Dm.call(this),this.status=1}function Cd(E){this.g=E}(d=Us.prototype).Ha=function(E){this.J=E},d.ea=function(E,U,q,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Al.g(),this.v=function vh(E){return E.h||(E.h=E.i())}(this.o?this.o:Al),this.g.onreadystatechange=We(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(Ft){return void Xc(this,Ft)}if(E=q||"",q=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var yt in me)q.set(yt,me[yt]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Ft of me.keys())q.set(Ft,me.get(Ft))}me=Array.from(q.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),yt=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(mv,U,void 0))||me||yt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Nn]of q)this.g.setRequestHeader(Ft,Nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W_(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ft){Xc(this,Ft)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,mo(this,"complete"),mo(this,"abort"),xh(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xh(this,!0)),Us.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?bd(this):this.bb())},d.bb=function(){bd(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<xl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),ov(U)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=dg.prototype).la=8,d.G=1,d.connect=function(E,U,q,me){ia(0),this.W=E,this.H=U||{},q&&void 0!==me&&(this.H.OSID=q,this.H.OAID=me),this.F=this.X,this.I=Y_(this,null,this.W),_u(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const yt=new cu(this,this.j,E);let Ft=this.o;if(this.S&&(Ft?(Ft=Ve(Ft),ft(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(yt.H=Ft,Ft=null),this.P)e:{for(var U=0,q=0;q<this.i.length;q++){var me=this.i[q];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(U+=me)){U=q;break e}if(4096===U||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=K_(this,yt,U),Ki(q=vo(this.I),"RID",E),Ki(q,"CVER",22),this.D&&Ki(q,"X-HTTP-Session-Id",this.D),jf(this,q),Ft&&(this.O?U="headers="+encodeURIComponent(String(Sh(Ft)))+"&"+U:this.m&&Om(q,this.m,Ft)),Mo(this.h,yt),this.Ua&&Ki(q,"TYPE","init"),this.P?(Ki(q,"$req",U),Ki(q,"SID","null"),yt.T=!0,ig(yt,q,null)):ig(yt,q,U),this.G=2}}else 3==this.G&&(E?km(this,E):0==this.i.length||ho(this.h)||km(this))},d.Fa=function(){if(this.u=null,Bf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Ch(We(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ia(10),mu(this),Bf(this))},d.Za=function(){null!=this.C&&(this.C=null,mu(this),hg(this),ia(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ia(2)):(this.j.info("Failed to ping google.com"),ia(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Gf.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Nh.prototype.g=function(E,U){return new Ca(E,U)},qt(Ca,zo),Ca.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ca.prototype.close=function(){Nm(this.g)},Ca.prototype.o=function(E){var U=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Am(E),E=q);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&_u(U)},Ca.prototype.N=function(){this.g.l=null,delete this.j,Nm(this.g),delete this.g,Ca.aa.N.call(this)},qt(Lm,eg),qt(X_,Dm),qt(Cd,Gf),Cd.prototype.ua=function(){mo(this.g,"a")},Cd.prototype.ta=function(E){mo(this.g,new Lm(E))},Cd.prototype.sa=function(E){mo(this.g,new X_)},Cd.prototype.ra=function(){mo(this.g,"b")},Nh.prototype.createWebChannel=Nh.prototype.g,Ca.prototype.send=Ca.prototype.o,Ca.prototype.open=Ca.prototype.m,Ca.prototype.close=Ca.prototype.close,ze=ne.createWebChannelTransport=function(){return new Nh},rn=ne.getStatEventTarget=function(){return tg()},Nt=ne.Event=hd,jt=ne.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Th.NO_ERROR=0,Th.TIMEOUT=8,Th.HTTP_ERROR=6,ht=ne.ErrorCode=Th,G_.COMPLETE="complete",St=ne.EventType=G_,j_.EventType=Eh,Eh.OPEN="a",Eh.CLOSE="b",Eh.ERROR="c",Eh.MESSAGE="d",zo.prototype.listen=zo.prototype.K,Ge=ne.WebChannel=j_,ne.FetchXmlHttpFactory=Sl,Us.prototype.listenOnce=Us.prototype.L,Us.prototype.getLastError=Us.prototype.Ka,Us.prototype.getLastErrorCode=Us.prototype.Ba,Us.prototype.getStatus=Us.prototype.Z,Us.prototype.getResponseJson=Us.prototype.Oa,Us.prototype.getResponseText=Us.prototype.oa,Us.prototype.send=Us.prototype.ea,Us.prototype.setWithCredentials=Us.prototype.Ha,be=ne.XhrIo=Us}).apply(typeof z<"u"?z:typeof self<"u"?self:typeof window<"u"?window:{});const pe="@firebase/firestore";class Ze{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let ke="10.14.0";const tt=new ye.Vy("@firebase/firestore");function Et(){return tt.logLevel}function Vt(d){tt.setLogLevel(d)}function we(d,...e){if(tt.logLevel<=ye.$b.DEBUG){const i=e.map(or);tt.debug(`Firestore (${ke}): ${d}`,...i)}}function sn(d,...e){if(tt.logLevel<=ye.$b.ERROR){const i=e.map(or);tt.error(`Firestore (${ke}): ${d}`,...i)}}function Tn(d,...e){if(tt.logLevel<=ye.$b.WARN){const i=e.map(or);tt.warn(`Firestore (${ke}): ${d}`,...i)}}function or(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Lt(d="Unexpected state"){const e=`FIRESTORE (${ke}) INTERNAL ASSERTION FAILED: `+d;throw sn(e),new Error(e)}function Yt(d,e){d||Lt()}function Xt(d,e){d||Lt()}function gt(d,e){return d}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends fe.g{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ln{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Ke{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class ve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class je{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;Yt(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,i(K)):Promise.resolve();let b=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ln,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield _(a.currentUser)}))},L=K=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ln)}},0),x()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt("string"==typeof a.accessToken),new Ke(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new Ze(e)}}class ot{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nt{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new ot(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Yt(void 0===this.o);const a=_=>{null!=_.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,we("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?i(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Yt("string"==typeof i.token),this.R=i.token,new Bt(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<d;a++)i[a]=Math.floor(256*Math.random());return i}class jn{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=hn(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function nn(d,e){return d<e?-1:d>e?1:0}function er(d,e,i){return d.length===e.length&&d.every((a,h)=>i(a,e[h]))}function Bn(d){return d+"\0"}class Ut{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Ut(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Ut(0,0))}static max(){return new Ht(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dr{constructor(e,i,a){void 0===i?i=0:i>e.length&&Lt(),void 0===a?a=e.length-i:a>e.length-i&&Lt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let h=0;h<a;h++){const _=e.get(h),b=i.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class yn extends Dr{construct(e,i,a){return new yn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(h=>h.length>0))}return new yn(i)}static emptyPath(){return new yn([])}}const Ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Dr{construct(e,i,a){return new ir(e,i,a)}static isValidIdentifier(e){return Ur.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const i=[];let a="",h=0;const _=()=>{if(0===a.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(a+=x,h++):(_(),h++)}if(_(),b)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(i)}static emptyPath(){return new ir([])}}class Wt{constructor(e){this.path=e}static fromPath(e){return new Wt(yn.fromString(e))}static fromName(e){return new Wt(yn.fromString(e).popFirst(5))}static empty(){return new Wt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return yn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wt(new yn(e.slice()))}}class Dn{constructor(e,i,a,h){this.indexId=e,this.collectionGroup=i,this.fields=a,this.indexState=h}}function Jn(d){return d.fields.find(e=>2===e.kind)}function Mn(d){return d.fields.filter(e=>2!==e.kind)}Dn.UNKNOWN_ID=-1;class Or{constructor(e,i){this.fieldPath=e,this.kind=i}}class Zn{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new Zn(0,bn.min())}}function ni(d,e){const i=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Ht.fromTimestamp(1e9===a?new Ut(i+1,0):new Ut(i,a));return new bn(h,Wt.empty(),e)}function ds(d){return new bn(d.readTime,d.key,-1)}class bn{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new bn(Ht.min(),Wt.empty(),-1)}static max(){return new bn(Ht.max(),Wt.empty(),-1)}}function ri(d,e){let i=d.readTime.compareTo(e.readTime);return 0!==i?i:(i=Wt.comparator(d.documentKey,e.documentKey),0!==i?i:nn(d.largestBatchId,e.largestBatchId))}const ar="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kn(d){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,o.A)(function*(d){if(d.code!==Ue.FAILED_PRECONDITION||d.message!==ar)throw d;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ye((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(i,_).next(a,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Ye?i:Ye.resolve(i)}catch(i){return Ye.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Ye.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Ye.reject(i)}static resolve(e){return new Ye((i,a)=>{i(e)})}static reject(e){return new Ye((i,a)=>{a(e)})}static waitFor(e){return new Ye((i,a)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&i()},L=>a(L))}),b=!0,_===h&&i()})}static or(e){let i=Ye.resolve(!1);for(const a of e)i=i.next(h=>h?Ye.resolve(h):a());return i}static forEach(e,i){const a=[];return e.forEach((h,_)=>{a.push(i.call(this,h,_))}),this.waitFor(a)}static mapArray(e,i){return new Ye((a,h)=>{const _=e.length,b=new Array(_);let x=0;for(let L=0;L<_;L++){const K=L;i(e[K]).next(le=>{b[K]=le,++x,x===_&&a(b)},le=>h(le))}})}static doWhile(e,i){return new Ye((a,h)=>{const _=()=>{!0===e()?i().next(()=>{_()},h):a()};_()})}}class ut{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new ln,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Kt(e,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=Ct(a.target.error);this.V.reject(new Kt(e,h))}}static open(e,i,a,h){try{return new ut(i,e.transaction(h,a))}catch(_){throw new Kt(i,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Wr(i)}}class ae{constructor(e,i,a){this.name=e,this.version=i,this.p=a,12.2===ae.S((0,fe.ZQ)())&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),vr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fe.zW)())return!1;if(ae.v())return!0;const e=(0,fe.ZQ)(),i=ae.S(e),a=0<i&&i<10,h=Oe(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var i=this;return(0,o.A)(function*(){return i.db||(we("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,h)=>{const _=indexedDB.open(i.name,i.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new st(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new st(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Kt(e,x))},_.onupgradeneeded=b=>{we("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',b.oldVersion),i.p.O(b.target.result,_.transaction,b.oldVersion,i.version).next(()=>{we("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,h){var _=this;return(0,o.A)(function*(){const b="readonly"===i;let x=0;for(;;){++x;try{_.db=yield _.M(e);const L=ut.open(_.db,e,b?"readonly":"readwrite",a),K=h(L).next(le=>(L.g(),le)).catch(le=>(L.abort(le),Ye.reject(le))).toPromise();return K.catch(()=>{}),yield L.m,K}catch(L){const K=L,le="FirebaseError"!==K.name&&x<3;if(we("SimpleDb","Transaction failed with error:",K.message,"Retrying:",le),_.close(),!le)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Oe(d){const e=d.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class At{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return vr(this.B.delete())}}class Kt extends st{constructor(e,i){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function qn(d){return"IndexedDbTransactionError"===d.name}class Wr{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(we("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),vr(a)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),vr(this.store.add(e))}get(e){return vr(this.store.get(e)).next(i=>(void 0===i&&(i=null),we("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),vr(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),vr(this.store.count())}U(e,i){const a=this.options(e,i),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new Ye((b,x)=>{_.onerror=L=>{x(L.target.error)},_.onsuccess=L=>{b(L.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(x,L)=>{b.push(L)}).next(()=>b)}}G(e,i){const a=this.store.getAll(e,null===i?void 0:i);return new Ye((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,i){we("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,x)=>x.delete())}J(e,i){let a;i?a=e:(a={},i=e);const h=this.cursor(a);return this.W(h,i)}Y(e){const i=this.cursor({});return new Ye((a,h)=>{i.onerror=_=>{const b=Ct(_.target.error);h(b)},i.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():a()}):a()}})}W(e,i){const a=[];return new Ye((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const L=new At(x),K=i(x.primaryKey,x.value,L);if(K instanceof Ye){const le=K.catch(_e=>(L.done(),Ye.reject(_e)));a.push(le)}L.isDone?h():null===L.K?x.continue():x.continue(L.K)}}).next(()=>Ye.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function vr(d){return new Ye((e,i)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=Ct(a.target.error);i(h)}})}let yi=!1;function Ct(d){const e=ae.S((0,fe.ZQ)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(i)>=0){const a=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yi||(yi=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var i=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){i.task=null;try{we("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){qn(a)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield kn(a)}yield i.X(6e4)}))}}class M{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){var i=this;return(0,o.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,e))})()}te(e,i){const a=new Set;let h=i,_=!0;return Ye.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return we("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,a.add(b)});_=!1})).next(()=>i-h)}ne(e,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(h=>this.localStore.localDocuments.getNextDocuments(e,i,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(we("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,i,x))).next(()=>b.size)}))}re(e,i){let a=e;return i.changes.forEach((h,_)=>{const b=ds(_);ri(b,a)>0&&(a=b)}),new bn(a.readTime,a.documentKey,Math.max(i.batchId,e.largestBatchId))}}let F=(()=>{class d{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return d.oe=-1,d})();function ie(d){return null==d}function ge(d){return 0===d&&1/d==-1/0}function lt(d){return"number"==typeof d&&Number.isInteger(d)&&!ge(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Mt(d){let e="";for(let i=0;i<d.length;i++)e.length>0&&(e=mn(e)),e=gn(d.get(i),e);return mn(e)}function gn(d,e){let i=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=_}}return i}function mn(d){return d+"\x01\x01"}function Rn(d){const e=d.length;if(Yt(e>=2),2===e)return Yt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),yn.emptyPath();const i=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>i)&&Lt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let L;0===h.length?L=x:(h+=x,L=h,h=""),a.push(L);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Lt()}_=b+2}return new yn(a)}const Er=["userId","batchId"];function Pe(d,e){return[d,Mt(e)]}function Se(d,e,i){return[d,Mt(e),i]}const $e={},Ot=["prefixPath","collectionGroup","readTime","documentId"],Jt=["prefixPath","collectionGroup","documentId"],In=["collectionGroup","readTime","prefixPath","documentId"],vn=["canonicalId","targetId"],cr=["targetId","path"],un=["path","targetId"],Xr=["collectionId","parent"],_t=["indexId","uid"],et=["uid","sequenceNumber"],Rt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fn=["indexId","uid","orderedDocumentKey"],Un=["userId","collectionPath","documentId"],_n=["userId","collectionPath","largestBatchId"],Ln=["userId","collectionGroup","largestBatchId"],ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hr=[...ur,"documentOverlays"],Yn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ee=Yn,zt=[...Ee,"indexConfiguration","indexState","indexEntries"],ee=zt,He=[...zt,"globals"];class kt extends xr{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}}function lr(d,e){const i=gt(d);return ae.F(i._e,e)}function Kr(d){let e=0;for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e++;return e}function Tr(d,e){for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e(i,d[i])}function qi(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class ii{constructor(e,i){this.comparator=e,this.root=i||ji.EMPTY}insert(e,i){return new ii(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return i+a.left.size;h<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xi(this.root,e,this.comparator,!0)}}class Xi{constructor(e,i,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=i?a(e.key,i):1,i&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,i,a,h,_){this.key=e,this.value=i,this.color=a??ji.RED,this.left=h??ji.EMPTY,this.right=_??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,h,_){return new ji(e??this.key,i??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,i,a),null):0===_?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return ji.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(e,i,a,h,_){return this}insert(e,i,a){return new ji(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cs(this.data.getIterator())}getIteratorFrom(e){return new Cs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Nr)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Nr(this.comparator);return i.data=e,i}}class Cs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ko(d){return d.hasNext()?d.getNext():void 0}class Ti{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Ti([])}unionWith(e){let i=new Nr(ir.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ti(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return er(this.fields,e.fields,(i,a)=>i.isEqual(a))}}class wa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ec(){return typeof atob<"u"}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new wa("Invalid base64 string: "+_):_}}(e);return new Pi(i)}static fromUint8Array(e){const i=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Pi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let h=0;h<i.length;h++)a[h]=i.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const Fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(d){if(Yt(!!d),"string"==typeof d){let e=0;const i=Fo.exec(d);if(Yt(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:si(d.seconds),nanos:si(d.nanos)}}function si(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function js(d){return"string"==typeof d?Pi.fromBase64String(d):Pi.fromUint8Array(d)}function ys(d){var e,i;return"server_timestamp"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function To(d){const e=d.mapValue.fields.__previous_value__;return ys(e)?To(e):e}function xs(d){const e=Zs(d.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}class kr{constructor(e,i,a,h,_,b,x,L,K){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=L,this.useFetchStreams=K}}class hi{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hi&&e.projectId===this.projectId&&e.database===this.database}}const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ps={nullValue:"NULL_VALUE"};function fi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?ys(d)?4:dr(d)?9007199254740991:ss(d)?10:11:Lt()}function rs(d,e){if(d===e)return!0;const i=fi(d);if(i!==fi(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return xs(d).isEqual(xs(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Zs(h.timestampValue),x=Zs(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,js(d.bytesValue).isEqual(js(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return si(h.geoPointValue.latitude)===si(_.geoPointValue.latitude)&&si(h.geoPointValue.longitude)===si(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return si(h.integerValue)===si(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=si(h.doubleValue),x=si(_.doubleValue);return b===x?ge(b)===ge(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return er(d.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if(Kr(b)!==Kr(x))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===x[L]||!rs(b[L],x[L])))return!1;return!0}(d,e);default:return Lt()}var _}function Ms(d,e){return void 0!==(d.values||[]).find(i=>rs(i,e))}function Qi(d,e){if(d===e)return 0;const i=fi(d),a=fi(e);if(i!==a)return nn(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return nn(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=si(_.integerValue||_.doubleValue),L=si(b.integerValue||b.doubleValue);return x<L?-1:x>L?1:x===L?0:isNaN(x)?isNaN(L)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(xs(d),xs(e));case 5:return nn(d.stringValue,e.stringValue);case 6:return function(_,b){const x=js(_),L=js(b);return x.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),L=b.split("/");for(let K=0;K<x.length&&K<L.length;K++){const le=nn(x[K],L[K]);if(0!==le)return le}return nn(x.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=nn(si(_.latitude),si(b.latitude));return 0!==x?x:nn(si(_.longitude),si(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Rs(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,L,K,le;const wt=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,qt=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,En=nn((null===(K=wt?.values)||void 0===K?void 0:K.length)||0,(null===(le=qt?.values)||void 0===le?void 0:le.length)||0);return 0!==En?En:Rs(wt,qt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Oi.mapValue&&b===Oi.mapValue)return 0;if(_===Oi.mapValue)return 1;if(b===Oi.mapValue)return-1;const x=_.fields||{},L=Object.keys(x),K=b.fields||{},le=Object.keys(K);L.sort(),le.sort();for(let _e=0;_e<L.length&&_e<le.length;++_e){const We=nn(L[_e],le[_e]);if(0!==We)return We;const wt=Qi(x[L[_e]],K[le[_e]]);if(0!==wt)return wt}return nn(L.length,le.length)}(d.mapValue,e.mapValue);default:throw Lt()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return nn(d,e);const i=Zs(d),a=Zs(e),h=nn(i.seconds,a.seconds);return 0!==h?h:nn(i.nanos,a.nanos)}function Rs(d,e){const i=d.values||[],a=e.values||[];for(let h=0;h<i.length&&h<a.length;++h){const _=Qi(i[h],a[h]);if(_)return _}return nn(i.length,a.length)}function pi(d){return wn(d)}function wn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?js(d.bytesValue).toBase64():"referenceValue"in d?Wt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(i){return`geo(${i.latitude},${i.longitude})`}(d.geoPointValue):"arrayValue"in d?function(i){let a="[",h=!0;for(const _ of i.values||[])h?h=!1:a+=",",a+=wn(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(i){const a=Object.keys(i.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${wn(i.fields[b])}`;return h+"}"}(d.mapValue):Lt()}function pr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function is(d){return!!d&&"integerValue"in d}function hs(d){return!!d&&"arrayValue"in d}function zi(d){return!!d&&"nullValue"in d}function Bs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ai(d){return!!d&&"mapValue"in d}function ss(d){var e,i;return"__vector__"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Os(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Tr(d.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Os(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(d.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Os(d.arrayValue.values[i]);return e}return Object.assign({},d)}function dr(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const vs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function $s(d){return"nullValue"in d?Ps:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?pr(hi.empty(),Wt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ss(d)?vs:{mapValue:{}}:Lt()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?pr(hi.empty(),Wt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?vs:"mapValue"in d?ss(d)?{mapValue:{}}:Oi:Lt()}function Q(d,e){const i=Qi(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function De(d,e){const i=Qi(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Fe{constructor(e){this.value=e}static empty(){return new Fe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!ai(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(i)}setAll(e){let i=ir.emptyPath(),a={},h=[];e.forEach((b,x)=>{if(!i.isImmediateParentOf(x)){const L=this.getFieldsMap(i);this.applyChanges(L,a,h),a={},h=[],i=x.popLast()}b?a[x.lastSegment()]=Os(b):h.push(x.lastSegment())});const _=this.getFieldsMap(i);this.applyChanges(_,a,h)}delete(e){const i=this.field(e.popLast());ai(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=i.mapValue.fields[e.get(a)];ai(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new Fe(Os(this.value))}}function it(d){const e=[];return Tr(d.fields,(i,a)=>{const h=new ir([i]);if(ai(a)){const _=it(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new Ti(e)}class bt{constructor(e,i,a,h,_,b,x){this.key=e,this.documentType=i,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new bt(e,0,Ht.min(),Ht.min(),Ht.min(),Fe.empty(),0)}static newFoundDocument(e,i,a,h){return new bt(e,1,i,Ht.min(),a,h,0)}static newNoDocument(e,i){return new bt(e,2,i,Ht.min(),Ht.min(),Fe.empty(),0)}static newUnknownDocument(e,i){return new bt(e,3,i,Ht.min(),Ht.min(),Fe.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class an{constructor(e,i){this.position=e,this.inclusive=i}}function Vn(d,e,i){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Wt.comparator(Wt.fromName(b.referenceValue),i.key):Qi(b,i.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function An(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let i=0;i<d.position.length;i++)if(!rs(d.position[i],e.position[i]))return!1;return!0}class hr{constructor(e,i="asc"){this.field=e,this.dir=i}}function jr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Xn{}class Qn extends Xn{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,a):new Vr(e,i,a):"array-contains"===i?new eo(e,a):"in"===i?new Ko(e,a):"not-in"===i?new tc(e,a):"array-contains-any"===i?new Aa(e,a):new Qn(e,i,a)}static createKeyFieldInFilter(e,i,a){return"in"===i?new Io(e,a):new fs(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Qi(i,this.value)):null!==i&&fi(this.value)===fi(i)&&this.matchesComparison(Qi(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends Xn{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new mr(e,i)}matches(e){return Ii(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ii(d){return"and"===d.op}function ci(d){return"or"===d.op}function Si(d){return es(d)&&Ii(d)}function es(d){for(const e of d.filters)if(e instanceof mr)return!1;return!0}function Li(d){if(d instanceof Qn)return d.field.canonicalString()+d.op.toString()+pi(d.value);if(Si(d))return d.filters.map(e=>Li(e)).join(",");{const e=d.filters.map(i=>Li(i)).join(",");return`${d.op}(${e})`}}function Fr(d,e){return d instanceof Qn?(a=d,(h=e)instanceof Qn&&a.op===h.op&&a.field.isEqual(h.field)&&rs(a.value,h.value)):d instanceof mr?function(a,h){return h instanceof mr&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,x)=>_&&Fr(b,h.filters[x]),!0)}(d,e):void Lt();var a,h}function Gi(d,e){const i=d.filters.concat(e);return mr.create(i,d.op)}function Bi(d){return d instanceof Qn?`${(i=d).field.canonicalString()} ${i.op} ${pi(i.value)}`:d instanceof mr?function(i){return i.op.toString()+" {"+i.getFilters().map(Bi).join(" ,")+"}"}(d):"Filter";var i}class Vr extends Qn{constructor(e,i,a){super(e,i,a),this.key=Wt.fromName(a.referenceValue)}matches(e){const i=Wt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Io extends Qn{constructor(e,i){super(e,"in",i),this.keys=io(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class fs extends Qn{constructor(e,i){super(e,"not-in",i),this.keys=io(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function io(d,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>Wt.fromName(a.referenceValue))}class eo extends Qn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hs(i)&&Ms(i.arrayValue,this.value)}}class Ko extends Qn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Ms(this.value.arrayValue,i)}}class tc extends Qn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Ms(this.value.arrayValue,i)}}class Aa extends Qn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hs(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ms(this.value.arrayValue,a))}}class Rl{constructor(e,i=null,a=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function Ns(d,e=null,i=[],a=[],h=null,_=null,b=null){return new Rl(d,e,i,a,h,_,b)}function Wi(d){const e=gt(d);if(null===e.ue){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Li(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),ie(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>pi(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>pi(a)).join(",")),e.ue=i}return e.ue}function Is(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<d.orderBy.length;i++)if(!jr(d.orderBy[i],e.orderBy[i]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let i=0;i<d.filters.length;i++)if(!Fr(d.filters[i],e.filters[i]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!An(d.startAt,e.startAt)&&An(d.endAt,e.endAt)}function Lo(d){return Wt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function so(d,e){return d.filters.filter(i=>i instanceof Qn&&i.field.isEqual(e))}function Mi(d,e,i){let a=Ps,h=!0;for(const _ of so(d,e)){let b=Ps,x=!0;switch(_.op){case"<":case"<=":b=$s(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=Ps}Q({value:a,inclusive:h},{value:b,inclusive:x})<0&&(a=b,h=x)}if(null!==i)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=i.position[_];Q({value:a,inclusive:h},{value:b,inclusive:i.inclusive})<0&&(a=b,h=i.inclusive);break}return{value:a,inclusive:h}}function Vo(d,e,i){let a=Oi,h=!0;for(const _ of so(d,e)){let b=Oi,x=!0;switch(_.op){case">=":case">":b=Z(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Oi}De({value:a,inclusive:h},{value:b,inclusive:x})>0&&(a=b,h=x)}if(null!==i)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=i.position[_];De({value:a,inclusive:h},{value:b,inclusive:i.inclusive})>0&&(a=b,h=i.inclusive);break}return{value:a,inclusive:h}}class oo{constructor(e,i=null,a=[],h=[],_=null,b="F",x=null,L=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function W(d,e,i,a,h,_,b,x){return new oo(d,e,i,a,h,_,b,x)}function J(d){return new oo(d)}function V(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ce(d){return null!==d.collectionGroup}function Be(d){const e=gt(d);if(null===e.ce){e.ce=[];const i=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),i.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new Nr(ir.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(K=>{K.isInequality()&&(x=x.add(K.field))})}),x})(e).forEach(_=>{i.has(_.canonicalString())||_.isKeyField()||e.ce.push(new hr(_,a))}),i.has(ir.keyField().canonicalString())||e.ce.push(new hr(ir.keyField(),a))}return e.ce}function pn(d){const e=gt(d);return e.le||(e.le=function os(d,e){if("F"===d.limitType)return Ns(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new hr(h.field,"desc"===h.dir?"asc":"desc"));const i=d.endAt?new an(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new an(d.startAt.position,d.startAt.inclusive):null;return Ns(d.path,d.collectionGroup,e,d.filters,d.limit,i,a)}}(e,Be(d))),e.le}function to(d,e){const i=d.filters.concat([e]);return new oo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),i,d.limit,d.limitType,d.startAt,d.endAt)}function ps(d,e,i){return new oo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,i,d.startAt,d.endAt)}function wo(d,e){return Is(pn(d),pn(e))&&d.limitType===e.limitType}function Gs(d){return`${Wi(pn(d))}|lt:${d.limitType}`}function as(d){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(h=>Bi(h)).join(", ")}]`),ie(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(h=>pi(h)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(h=>pi(h)).join(",")),`Target(${a})`}(pn(d))}; limitType=${d.limitType})`}function Uo(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Wt.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of Be(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,x,L){const K=Vn(b,x,L);return b.inclusive?K<=0:K<0}(a.startAt,Be(a),h)||a.endAt&&!function(b,x,L){const K=Vn(b,x,L);return b.inclusive?K>=0:K>0}(a.endAt,Be(a),h)));var a,h}function Ol(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Es(d){return(e,i)=>{let a=!1;for(const h of Be(d)){const _=ca(h,e,i);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function ca(d,e,i){const a=d.field.isKeyField()?Wt.comparator(e.key,i.key):function(_,b,x){const L=b.data.field(_),K=x.data.field(_);return null!==L&&null!==K?Qi(L,K):Lt()}(d.field,e,i);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Lt()}}class ts{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,i]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[i]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(i,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return qi(this.inner)}size(){return this.innerSize}}const tl=new ii(Wt.comparator);function cs(){return tl}const Ua=new ii(Wt.comparator);function ao(...d){let e=Ua;for(const i of d)e=e.insert(i.key,i);return e}function qo(d){let e=Ua;return d.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ws(){return en()}function Da(){return en()}function en(){return new ts(d=>d.toString(),(d,e)=>d.isEqual(e))}const nc=new ii(Wt.comparator),Nl=new Nr(Wt.comparator);function Ir(...d){let e=Nl;for(const i of d)e=e.add(i);return e}const Ao=new Nr(nn);function Hs(){return Ao}function Yo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function zs(d){return{integerValue:""+d}}function nl(d,e){return lt(e)?zs(e):Yo(d,e)}class sr{constructor(){this._=void 0}}function kl(d,e,i){return d instanceof ic?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&ys(_)&&(_=To(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(i,e):d instanceof Xo?rl(d,e):d instanceof ja?sc(d,e):function(h,_){const b=Id(h,_),x=oc(b)+oc(h.Pe);return is(b)&&is(h.Pe)?zs(x):Yo(h.serializer,x)}(d,e)}function rc(d,e,i){return d instanceof Xo?rl(d,e):d instanceof ja?sc(d,e):i}function Id(d,e){return d instanceof la?is(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class ic extends sr{}class Xo extends sr{constructor(e){super(),this.elements=e}}function rl(d,e){const i=Tu(e);for(const a of d.elements)i.some(h=>rs(h,a))||i.push(a);return{arrayValue:{values:i}}}class ja extends sr{constructor(e){super(),this.elements=e}}function sc(d,e){let i=Tu(e);for(const a of d.elements)i=i.filter(h=>!rs(h,a));return{arrayValue:{values:i}}}class la extends sr{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function oc(d){return si(d.integerValue||d.doubleValue)}function Tu(d){return hs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,i){this.field=e,this.transform=i}}class j{constructor(e,i){this.version=e,this.transformResults=i}}class Y{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Re(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Dt{}function $t(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new ks(d.key,Y.none()):new Pr(d.key,d.data,Y.none());{const i=d.data,a=Fe.empty();let h=new Nr(ir.comparator);for(let _ of e.fields)if(!h.has(_)){let b=i.field(_);null===b&&_.length>1&&(_=_.popLast(),b=i.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new vi(d.key,a,new Ti(h.toArray()),Y.none())}}function $n(d,e,i){d instanceof Pr?function(h,_,b){const x=h.value.clone(),L=Vi(h.fieldTransforms,_,b.transformResults);x.setAll(L),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,i):d instanceof vi?function(h,_,b){if(!Re(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=Vi(h.fieldTransforms,_,b.transformResults),L=_.data;L.setAll(Ni(h)),L.setAll(x),_.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function oi(d,e,i,a){return d instanceof Pr?function(_,b,x,L){if(!Re(_.precondition,b))return x;const K=_.value.clone(),le=po(_.fieldTransforms,L,b);return K.setAll(le),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,i,a):d instanceof vi?function(_,b,x,L){if(!Re(_.precondition,b))return x;const K=po(_.fieldTransforms,L,b),le=b.data;return le.setAll(Ni(_)),le.setAll(K),b.convertToFoundDocument(b.version,le).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(_e=>_e.field))}(d,e,i,a):(x=i,Re(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function wi(d,e){let i=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=Id(a.transform,h||null);null!=_&&(null===i&&(i=Fe.empty()),i.set(a.field,_))}return i||null}function gi(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&er(a,h,(_,b)=>function re(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Xo&&h instanceof Xo||a instanceof ja&&h instanceof ja?er(a.elements,h.elements,rs):a instanceof la&&h instanceof la?rs(a.Pe,h.Pe):a instanceof ic&&h instanceof ic);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class Pr extends Dt{constructor(e,i,a,h=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class vi extends Dt{constructor(e,i,a,h,_=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Ni(d){const e=new Map;return d.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=d.data.field(i);e.set(i,a)}}),e}function Vi(d,e,i){const a=new Map;Yt(d.length===i.length);for(let h=0;h<i.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);a.set(_.field,rc(b,x,i[h]))}return a}function po(d,e,i){const a=new Map;for(const h of d){const _=h.transform,b=i.data.field(h.field);a.set(h.field,kl(_,b,e))}return a}class ks extends Dt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ua extends Dt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ws{constructor(e,i,a,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&$n(_,e,a[h])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=oi(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=oi(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Da();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=i.has(h.key)?null:x;const L=$t(b,x);null!==L&&a.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(Ht.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ir())}isEqual(e){return this.batchId===e.batchId&&er(this.mutations,e.mutations,(i,a)=>gi(i,a))&&er(this.baseMutations,e.baseMutations,(i,a)=>gi(i,a))}}class go{constructor(e,i,a,h){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=h}static from(e,i,a){Yt(e.mutations.length===a.length);let h=nc;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new go(e,i,a,h)}}class bs{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ba{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lr,zr;function Ac(d){switch(d){default:return Lt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function co(d){if(void 0===d)return sn("GRPC error has no .code"),Ue.UNKNOWN;switch(d){case Lr.OK:return Ue.OK;case Lr.CANCELLED:return Ue.CANCELLED;case Lr.UNKNOWN:return Ue.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return Ue.INTERNAL;case Lr.UNAVAILABLE:return Ue.UNAVAILABLE;case Lr.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Lr.NOT_FOUND:return Ue.NOT_FOUND;case Lr.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Lr.ABORTED:return Ue.ABORTED;case Lr.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Lr.DATA_LOSS:return Ue.DATA_LOSS;default:return Lt()}}(zr=Lr||(Lr={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";function cc(){return new TextEncoder}const da=new Ne([4294967295,4294967295],0);function $i(d){const e=cc().encode(d),i=new xe;return i.update(e),new Uint8Array(i.digest())}function jh(d){const e=new DataView(d.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ne([i,a],0),new Ne([h,_],0)]}class il{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ha(`Invalid padding: ${i}`);if(a<0)throw new ha(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new ha(`Invalid hash count: ${a}`);if(0===e.length&&0!==i)throw new ha(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Ne.fromNumber(this.Ie)}Ee(e,i,a){let h=e.add(i.multiply(Ne.fromNumber(a)));return 1===h.compare(da)&&(h=new Ne([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const i=$i(e),[a,h]=jh(i);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,i,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new il(_,h,i);return a.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const i=$i(e),[a,h]=jh(i);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class As{constructor(e,i,a,h,_){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const h=new Map;return h.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new As(Ht.min(),h,new ii(nn),cs(),Ir())}}class $a{constructor(e,i,a,h,_){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new $a(a,i,Ir(),Ir(),Ir())}}class sl{constructor(e,i,a,h){this.Re=e,this.removedTargetIds=i,this.key=a,this.Ve=h}}class wd{constructor(e,i){this.targetId=e,this.me=i}}class Ad{constructor(e,i,a=Pi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=h}}class Iu{constructor(){this.fe=0,this.ge=Fl(),this.pe=Pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ir(),i=Ir(),a=Ir();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:a=a.add(h);break;default:Lt()}}),new $a(this.pe,this.ye,e,i,a)}Ce(){this.we=!1,this.ge=Fl()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dc{constructor(e){this.Le=e,this.Be=new Map,this.ke=cs(),this.qe=wr(),this.Qe=new ii(nn)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{const a=this.Ge(i);switch(e.state){case 0:this.ze(i)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(e.resumeToken));break;default:Lt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((a,h)=>{this.ze(h)&&i(h)})}He(e){const i=e.targetId,a=e.me.count,h=this.Je(i);if(h){const _=h.target;if(Lo(_))if(0===a){const b=new Wt(_.path);this.Ue(i,b,bt.newNoDocument(b,Ht.min()))}else Yt(1===a);else{const b=this.Ye(i);if(b!==a){const x=this.Ze(e),L=x?this.Xe(x,e,b):1;0!==L&&(this.je(i),this.Qe=this.Qe.insert(i,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=i;let b,x;try{b=js(a).toUint8Array()}catch(L){if(L instanceof wa)return Tn("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{x=new il(b,h,_)}catch(L){return Tn(L instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===x.Ie?null:x}Xe(e,i,a){return i.me.count===a-this.nt(e,i.targetId)?0:2}nt(e,i){const a=this.Le.getRemoteKeysForTarget(i);let h=0;return a.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(i,_,null),h++)}),h}rt(e){const i=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&Lo(x.target)){const L=new Wt(x.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,bt.newNoDocument(L,e))}_.be&&(i.set(b,_.ve()),_.Ce())}});let a=Ir();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(L=>{const K=this.Je(L);return!K||"TargetPurposeLimboResolution"===K.purpose||(x=!1,!1)}),x&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new As(e,i,this.Qe,this.ke,a);return this.ke=cs(),this.qe=wr(),this.Qe=new ii(nn),h}$e(e,i){if(!this.ze(e))return;const a=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Iu,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Nr(nn),this.qe=this.qe.insert(e,i)),i}ze(e){const i=null!==this.Je(e);return i||we("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Iu),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function wr(){return new ii(Wt.comparator)}function Fl(){return new ii(Wt.comparator)}const wu={asc:"ASCENDING",desc:"DESCENDING"},Sa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ll={and:"AND",or:"OR"};class Dd{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vl(d,e){return d.useProto3Json||ie(e)?e:{value:e}}function fa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sd(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Au(d,e){return fa(d,e.toTimestamp())}function ls(d){return Yt(!!d),Ht.fromTimestamp(function(i){const a=Zs(i);return new Ut(a.seconds,a.nanos)}(d))}function ol(d,e){return Du(d,e).canonicalString()}function Du(d,e){const i=(h=d,new yn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?i:i.child(e)}function Zt(d){const e=yn.fromString(d);return Yt(w(e)),e}function Br(d,e){return ol(d.databaseId,e.path)}function lo(d,e){const i=Zt(e);if(i.get(1)!==d.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+d.databaseId.projectId);if(i.get(3)!==d.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+d.databaseId.database);return new Wt(Sc(i))}function gs(d,e){return ol(d.databaseId,e)}function no(d){const e=Zt(d);return 4===e.length?yn.emptyPath():Sc(e)}function xa(d){return new yn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Sc(d){return Yt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function jo(d,e,i){return{name:Br(d,e),fields:i.value.mapValue.fields}}function al(d,e,i){const a=lo(d,e.name),h=ls(e.updateTime),_=e.createTime?ls(e.createTime):Ht.min(),b=new Fe({mapValue:{fields:e.fields}}),x=bt.newFoundDocument(a,h,_,b);return i&&x.setHasCommittedMutations(),i?x.setHasCommittedMutations():x}function Ul(d,e){let i;if(e instanceof Pr)i={update:jo(d,e.key,e.value)};else if(e instanceof ks)i={delete:Br(d,e.key)};else if(e instanceof vi)i={update:jo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof ua))return Lt();i={verify:Br(d,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const x=b.transform;if(x instanceof ic)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Xo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof ja)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof la)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw Lt()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Au(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Lt()),i;var _}function Pa(d,e){const i=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(ls(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let L=null;"setToServerValue"in x?(Yt("REQUEST_TIME"===x.setToServerValue),L=new ic):"appendMissingElements"in x?L=new Xo(x.appendMissingElements.values||[]):"removeAllFromArray"in x?L=new ja(x.removeAllFromArray.values||[]):"increment"in x?L=new la(b,x.increment):Lt();const K=ir.fromServerFormat(x.fieldPath);return new P(K,L)}(d,h)):[];var _;if(e.update){const h=lo(d,e.update.name),_=new Fe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ti((e.updateMask.fieldPaths||[]).map(le=>ir.fromServerFormat(le)));return new vi(h,_,b,i,a)}return new Pr(h,_,i,a)}if(e.delete){const h=lo(d,e.delete);return new ks(h,i)}if(e.verify){const h=lo(d,e.verify);return new ua(h,i)}return Lt()}function Ks(d,e){return{documents:[gs(d,e.path)]}}function Ga(d,e){const i={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gs(d,h);const _=function(K){if(0!==K.length)return D(mr.create(K,"and"))}(e.filters);_&&(i.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(le=>{return{field:Ma((We=le).field),direction:qf(We.dir)};var We})}(e.orderBy);b&&(i.structuredQuery.orderBy=b);const x=Vl(d,e.limit);return null!==x&&(i.structuredQuery.limit=x),e.startAt&&(i.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(i.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:i,parent:h};var K}function Do(d){let e=no(d.parent);const i=d.structuredQuery,a=i.from?i.from.length:0;let h=null;if(a>0){Yt(1===a);const le=i.from[0];le.allDescendants?h=le.collectionId:e=e.child(le.collectionId)}let _=[];i.where&&(_=function(_e){const We=jl(_e);return We instanceof mr&&Si(We)?We.getFilters():[We]}(i.where));let b=[];i.orderBy&&(b=i.orderBy.map(We=>{return new hr(pa((qt=We).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let x=null;i.limit&&(x=function(_e){let We;return We="object"==typeof _e?_e.value:_e,ie(We)?null:We}(i.limit));let L=null;var _e;i.startAt&&(L=new an((_e=i.startAt).values||[],!!_e.before));let K=null;return i.endAt&&(K=function(_e){return new an(_e.values||[],!_e.before)}(i.endAt)),W(e,h,b,_,x,"F",L,K)}function jl(d){return void 0!==d.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=pa(i.unaryFilter.field);return Qn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=pa(i.unaryFilter.field);return Qn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=pa(i.unaryFilter.field);return Qn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=pa(i.unaryFilter.field);return Qn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(d):void 0!==d.fieldFilter?Qn.create(pa((i=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==d.compositeFilter?function(i){return mr.create(i.compositeFilter.filters.map(a=>jl(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Lt()}}(i.compositeFilter.op))}(d):Lt();var i}function qf(d){return wu[d]}function Bl(d){return Sa[d]}function xu(d){return Ll[d]}function Ma(d){return{fieldPath:d.canonicalString()}}function pa(d){return ir.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Qn?function(i){if("=="===i.op){if(Bs(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NAN"}};if(zi(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Bs(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NAN"}};if(zi(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(i.field),op:Bl(i.op),value:i.value}}}(d):d instanceof mr?function(i){const a=i.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:xu(i.op),filters:a}}}(d):Lt()}function O(d){const e=[];return d.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,i,a,h,_=Ht.min(),b=Ht.min(),x=Pi.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=L}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Me(d,e){const i=e.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:It(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Br(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:fa(_,b.version.toTimestamp()),createTime:fa(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:vt(e.version)};else{if(!e.isUnknownDocument())return Lt();a.unknownDocument={path:i.path.toArray(),version:vt(e.version)}}var _,b;return a}function It(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function vt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xn(d){const e=new Ut(d.seconds,d.nanoseconds);return Ht.fromTimestamp(e)}function Sr(d,e){const i=(e.baseMutations||[]).map(_=>Pa(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Pa(d.ct,_)),h=Ut.fromMillis(e.localWriteTimeMs);return new Ws(e.batchId,h,i,a)}function Rr(d){const e=xn(d.readTime),i=void 0!==d.lastLimboFreeSnapshotVersion?xn(d.lastLimboFreeSnapshotVersion):Ht.min();let a;return a=void 0!==d.query.documents?(Yt(1===(_=d.query).documents.length),pn(J(no(_.documents[0])))):function(_){return pn(Do(_))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,i,Pi.fromBase64String(d.resumeToken));var _}function Yr(d,e){const i=vt(e.snapshotVersion),a=vt(e.lastLimboFreeSnapshotVersion);let h;h=Lo(e.target)?Ks(d.ct,e.target):Ga(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wi(e.target),readTime:i,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Ei(d){const e=Do({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ps(e,e.limit,"L"):e}function Ha(d,e){return new bs(e.largestBatchId,Pa(d.ct,e.overlayMutation))}function xc(d,e){const i=e.path.lastSegment();return[d,Mt(e.path.popLast()),i]}function ga(d,e,i,a){return{indexId:d,uid:e,sequenceNumber:i,readTime:vt(a.readTime),documentKey:Mt(a.documentKey.path),largestBatchId:a.largestBatchId}}class Pc{getBundleMetadata(e,i){return Pu(e).get(i).next(a=>{if(a)return{id:(_=a).bundleId,createTime:xn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,i){return Pu(e).put({bundleId:(h=i).id,createTime:vt(ls(h.createTime)),version:h.version});var h}getNamedQuery(e,i){return Bh(e).get(i).next(a=>{if(a)return{name:(_=a).name,query:Ei(_.bundledQuery),readTime:xn(_.readTime)};var _})}saveNamedQuery(e,i){return Bh(e).put({name:(h=i).name,readTime:vt(ls(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Pu(d){return lr(d,"bundles")}function Bh(d){return lr(d,"namedQueries")}class uc{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){return new uc(e,i.uid||"")}getOverlay(e,i){return ma(e).get(xc(this.userId,i)).next(a=>a?Ha(this.serializer,a):null)}getOverlays(e,i){const a=ws();return Ye.forEach(i,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,i,a){const h=[];return a.forEach((_,b)=>{const x=new bs(i,b);h.push(this.ht(e,x))}),Ye.waitFor(h)}removeOverlaysForBatchId(e,i,a){const h=new Set;i.forEach(b=>h.add(Mt(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(ma(e).j("collectionPathOverlayIndex",x))}),Ye.waitFor(_)}getOverlaysForCollection(e,i,a){const h=ws(),_=Mt(i),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return ma(e).U("collectionPathOverlayIndex",b).next(x=>{for(const L of x){const K=Ha(this.serializer,L);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,i,a,h){const _=ws();let b;const x=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ma(e).J({index:"collectionGroupOverlayIndex",range:x},(L,K,le)=>{const _e=Ha(this.serializer,K);_.size()<h||_e.largestBatchId===b?(_.set(_e.getKey(),_e),b=_e.largestBatchId):le.done()}).next(()=>_)}ht(e,i){return ma(e).put(function(h,_,b){const[x,L,K]=xc(_,b.mutation.key);return{userId:_,collectionPath:L,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Ul(h.ct,b.mutation)}}(this.serializer,this.userId,i))}}function ma(d){return lr(d,"documentOverlays")}class dc{Pt(e){return lr(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(i=>{const a=i?.value;return a?Pi.fromUint8Array(a):Pi.EMPTY_BYTE_STRING})}setSessionToken(e,i){return this.Pt(e).put({name:"sessionToken",value:i.toUint8Array()})}}class za{constructor(){}It(e,i){this.Tt(e,i),i.Et()}Tt(e,i){if("nullValue"in e)this.dt(i,5);else if("booleanValue"in e)this.dt(i,10),i.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(i,15),i.At(si(e.integerValue));else if("doubleValue"in e){const a=si(e.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),ge(a)?i.At(0):i.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(i,20),"string"==typeof a&&(a=Zs(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,i),this.ft(i);else if("bytesValue"in e)this.dt(i,30),i.gt(js(e.bytesValue)),this.ft(i);else if("referenceValue"in e)this.yt(e.referenceValue,i);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in e?dr(e)?this.dt(i,Number.MAX_SAFE_INTEGER):ss(e)?this.wt(e.mapValue,i):(this.St(e.mapValue,i),this.ft(i)):"arrayValue"in e?(this.bt(e.arrayValue,i),this.ft(i)):Lt()}Vt(e,i){this.dt(i,25),this.Dt(e,i)}Dt(e,i){i.Rt(e)}St(e,i){const a=e.fields||{};this.dt(i,55);for(const h of Object.keys(a))this.Vt(h,i),this.Tt(a[h],i)}wt(e,i){var a,h;const _=e.fields||{};this.dt(i,53);const b="value",x=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(si(x)),this.Vt(b,i),this.Tt(_[b],i)}bt(e,i){const a=e.values||[];this.dt(i,50);for(const h of a)this.Tt(h,i)}yt(e,i){this.dt(i,37),Wt.fromName(e).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(e,i){e.At(i)}ft(e){e.At(2)}}function hc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Mu(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=hc(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}za.vt=new za;class Ru{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(e){const i=e[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const i of e){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const i=this.qt(e),a=Mu(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=i.length-a;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(e){const i=this.qt(e),a=Mu(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=i.length-a;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const i=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&i[0]);i[0]^=a?255:128;for(let h=1;h<i.length;++h)i[h]^=a?255:0;return i}Ft(e){const i=255&e;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(e){const i=255&e;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const i=e+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Ou{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Md{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Nu{constructor(){this.jt=new Ru,this.Ht=new Ou(this.jt),this.Jt=new Md(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Bo{constructor(e,i,a,h){this.indexId=e,this.documentKey=i,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Bo(this.indexId,this.documentKey,this.arrayValue,a)}}function _a(d,e){let i=d.indexId-e.indexId;return 0!==i?i:(i=Mc(d.arrayValue,e.arrayValue),0!==i?i:(i=Mc(d.directionalValue,e.directionalValue),0!==i?i:Wt.comparator(d.documentKey,e.documentKey)))}function Mc(d,e){for(let i=0;i<d.length&&i<e.length;++i){const a=d[i]-e[i];if(0!==a)return a}return d.length-e.length}class $h{constructor(e){this.Xt=new Nr((i,a)=>ir.comparator(i.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const i of e.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Yt(e.collectionGroup===this.collectionId),this.nn)return!1;const i=Jn(e);if(void 0!==i&&!this.sn(i))return!1;const a=Mn(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const L=a[_];if(!this.on(x,L)||!this._n(this.en[b++],L))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Nr(ir.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new Or(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),i.push(new Or(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),i.push(new Or(a.field,"asc"===a.dir?0:1)));return new Dn(Dn.UNKNOWN_ID,this.collectionId,i,Zn.empty())}sn(e){for(const i of this.tn)if(this.on(i,e))return!0;return!1}on(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function Rd(d){var e,i;if(Yt(d instanceof Qn||d instanceof mr),d instanceof Qn){if(d instanceof Ko){const h=(null===(i=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(_=>Qn.create(d.field,"==",_)))||[];return mr.create(h,"or")}return d}const a=d.filters.map(h=>Rd(h));return mr.create(a,d.op)}function Hm(d){if(0===d.getFilters().length)return[];const e=Hh(Rd(d));return Yt(Ra(e)),Gh(e)||ku(e)?[e]:e.getFilters()}function Gh(d){return d instanceof Qn}function ku(d){return d instanceof mr&&Si(d)}function Ra(d){return Gh(d)||ku(d)||function(i){if(i instanceof mr&&ci(i)){for(const a of i.getFilters())if(!Gh(a)&&!ku(a))return!1;return!0}return!1}(d)}function Hh(d){if(Yt(d instanceof Qn||d instanceof mr),d instanceof Qn)return d;if(1===d.filters.length)return Hh(d.filters[0]);const e=d.filters.map(a=>Hh(a));let i=mr.create(e,d.op);return i=Lu(i),Ra(i)?i:(Yt(i instanceof mr),Yt(Ii(i)),Yt(i.filters.length>1),i.filters.reduce((a,h)=>Fu(a,h)))}function Fu(d,e){let i;return Yt(d instanceof Qn||d instanceof mr),Yt(e instanceof Qn||e instanceof mr),i=d instanceof Qn?e instanceof Qn?mr.create([d,e],"and"):fc(d,e):e instanceof Qn?fc(e,d):function(h,_){if(Yt(h.filters.length>0&&_.filters.length>0),Ii(h)&&Ii(_))return Gi(h,_.getFilters());const b=ci(h)?h:_,x=ci(h)?_:h,L=b.filters.map(K=>Fu(K,x));return mr.create(L,"or")}(d,e),Lu(i)}function fc(d,e){if(Ii(e))return Gi(e,d.getFilters());{const i=e.filters.map(a=>Fu(d,a));return mr.create(i,"or")}}function Lu(d){if(Yt(d instanceof Qn||d instanceof mr),d instanceof Qn)return d;const e=d.getFilters();if(1===e.length)return Lu(e[0]);if(es(d))return d;const i=e.map(h=>Lu(h)),a=[];return i.forEach(h=>{h instanceof Qn?a.push(h):h instanceof mr&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:mr.create(a,d.op)}class cl{constructor(){this.un=new Vu}addToCollectionParentIndex(e,i){return this.un.add(i),Ye.resolve()}getCollectionParents(e,i){return Ye.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return Ye.resolve()}deleteFieldIndex(e,i){return Ye.resolve()}deleteAllFieldIndexes(e){return Ye.resolve()}createTargetIndexes(e,i){return Ye.resolve()}getDocumentsMatchingTarget(e,i){return Ye.resolve(null)}getIndexType(e,i){return Ye.resolve(0)}getFieldIndexes(e,i){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,i){return Ye.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,i){return Ye.resolve(bn.min())}updateCollectionGroup(e,i,a){return Ye.resolve()}updateIndexEntries(e,i){return Ye.resolve()}}class Vu{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),h=this.index[i]||new Nr(yn.comparator),_=!h.has(a);return this.index[i]=h.add(a),_}has(e){const i=e.lastSegment(),a=e.popLast(),h=this.index[i];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Nr(yn.comparator)).toArray()}}const Wa=new Uint8Array(0);class Yf{constructor(e,i){this.databaseId=i,this.cn=new Vu,this.ln=new ts(a=>Wi(a),(a,h)=>Is(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.cn.has(i)){const a=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.cn.add(i)});const _={collectionId:a,parent:Mt(h)};return Xf(e).put(_)}return Ye.resolve()}getCollectionParents(e,i){const a=[],h=IDBKeyRange.bound([i,""],[Bn(i),""],!1,!0);return Xf(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==i)break;a.push(Rn(b.parent))}return a})}addFieldIndex(e,i){const a=Uu(e),h={indexId:(x=i).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var x;delete h.indexId;const _=a.add(h);if(i.indexState){const b=So(e);return _.next(x=>{b.put(ga(x,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return _.next()}deleteFieldIndex(e,i){const a=Uu(e),h=So(e),_=$o(e);return a.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const i=Uu(e),a=$o(e),h=So(e);return i.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,i){return Ye.forEach(this.hn(i),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new $h(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,i){const a=$o(e);let h=!0;const _=new Map;return Ye.forEach(this.hn(i),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=Ir();const x=[];return Ye.forEach(_,(L,K)=>{var nr;we("IndexedDbIndexManager",`Using index ${nr=L,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map($r=>`${$r.fieldPath}:${$r.kind}`).join(",")}`} to execute ${Wi(i)}`);const le=function(nr,$r){const Ui=Jn($r);if(void 0===Ui)return null;for(const mi of so(nr,Ui.fieldPath))switch(mi.op){case"array-contains-any":return mi.value.arrayValue.values||[];case"array-contains":return[mi.value]}return null}(K,L),_e=function(nr,$r){const Ui=new Map;for(const mi of Mn($r))for(const dt of so(nr,mi.fieldPath))switch(dt.op){case"==":case"in":Ui.set(mi.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Ui.set(mi.fieldPath.canonicalString(),dt.value),Array.from(Ui.values())}return null}(K,L),We=function(nr,$r){const Ui=[];let mi=!0;for(const dt of Mn($r)){const Ve=0===dt.kind?Mi(nr,dt.fieldPath,nr.startAt):Vo(nr,dt.fieldPath,nr.startAt);Ui.push(Ve.value),mi&&(mi=Ve.inclusive)}return new an(Ui,mi)}(K,L),wt=function(nr,$r){const Ui=[];let mi=!0;for(const dt of Mn($r)){const Ve=0===dt.kind?Vo(nr,dt.fieldPath,nr.endAt):Mi(nr,dt.fieldPath,nr.endAt);Ui.push(Ve.value),mi&&(mi=Ve.inclusive)}return new an(Ui,mi)}(K,L),qt=this.In(L,K,We),En=this.In(L,K,wt),cn=this.Tn(L,K,_e),tr=this.En(L.indexId,le,qt,We.inclusive,En,wt.inclusive,cn);return Ye.forEach(tr,yr=>a.G(yr,i.limit).next(nr=>{nr.forEach($r=>{const Ui=Wt.fromSegments($r.documentKey);b.has(Ui)||(b=b.add(Ui),x.push(Ui))})}))}).next(()=>x)}return Ye.resolve(null)})}hn(e){let i=this.ln.get(e);return i||(i=0===e.filters.length?[e]:Hm(mr.create(e.filters,"and")).map(a=>Ns(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,i),i)}En(e,i,a,h,_,b,x){const L=(null!=i?i.length:1)*Math.max(a.length,_.length),K=L/(null!=i?i.length:1),le=[];for(let _e=0;_e<L;++_e){const We=i?this.dn(i[_e/K]):Wa,wt=this.An(e,We,a[_e%K],h),qt=this.Rn(e,We,_[_e%K],b),En=x.map(cn=>this.An(e,We,cn,!0));le.push(...this.createRange(wt,qt,En))}return le}An(e,i,a,h){const _=new Bo(e,Wt.empty(),i,a);return h?_:_.Zt()}Rn(e,i,a,h){const _=new Bo(e,Wt.empty(),i,a);return h?_.Zt():_}Pn(e,i){const a=new $h(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)a.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,i){let a=2;const h=this.hn(i);return Ye.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(L){let K=new Nr(ir.comparator),le=!1;for(const _e of L.filters)for(const We of _e.getFlattenedFilters())We.field.isKeyField()||("array-contains"===We.op||"array-contains-any"===We.op?le=!0:K=K.add(We.field));for(const _e of L.orderBy)_e.field.isKeyField()||(K=K.add(_e.field));return K.size+(le?1:0)}(_)&&(a=1):a=0})).next(()=>null!==i.limit&&h.length>1&&2===a?1:a)}Vn(e,i){const a=new Nu;for(const h of Mn(e)){const _=i.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);za.vt.It(_,b)}return a.zt()}dn(e){const i=new Nu;return za.vt.It(e,i.Yt(0)),i.zt()}mn(e,i){const a=new Nu;return za.vt.It(pr(this.databaseId,i),a.Yt(function(_){const b=Mn(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,i,a){if(null===a)return[];let h=[];h.push(new Nu);let _=0;for(const b of Mn(e)){const x=a[_++];for(const L of h)if(this.fn(i,b.fieldPath)&&hs(x))h=this.gn(h,b,x);else{const K=L.Yt(b.kind);za.vt.It(x,K)}}return this.pn(h)}In(e,i,a){return this.Tn(e,i,a.position)}pn(e){const i=[];for(let a=0;a<e.length;++a)i[a]=e[a].zt();return i}gn(e,i,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const x of h){const L=new Nu;L.seed(x.zt()),za.vt.It(b,L.Yt(i.kind)),_.push(L)}return _}fn(e,i){return!!e.filters.find(a=>a instanceof Qn&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,i){const a=Uu(e),h=So(e);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(_=>{const b=[];return Ye.forEach(_,x=>h.get([x.indexId,this.uid]).next(L=>{b.push(function(le,_e){const We=_e?new Zn(_e.sequenceNumber,new bn(xn(_e.readTime),new Wt(Rn(_e.documentKey)),_e.largestBatchId)):Zn.empty(),wt=le.fields.map(([qt,En])=>new Or(ir.fromServerFormat(qt),En));return new Dn(le.indexId,le.collectionGroup,wt,We)}(x,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:nn(a.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,a){const h=Uu(e),_=So(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(x=>Ye.forEach(x,L=>_.put(ga(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,i){const a=new Map;return Ye.forEach(i,(h,_)=>{const b=a.get(h.collectionGroup);return(b?Ye.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(a.set(h.collectionGroup,x),Ye.forEach(x,L=>this.wn(e,h,L).next(K=>{const le=this.Sn(_,L);return K.isEqual(le)?Ye.resolve():this.bn(e,_,L,K,le)}))))})}Dn(e,i,a,h){return $o(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(e,i,a,h){return $o(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(e,i,a){const h=$o(e);let _=new Nr(_a);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(b,x)=>{_=_.add(new Bo(a.indexId,i,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,i){let a=new Nr(_a);const h=this.Vn(i,e);if(null==h)return a;const _=Jn(i);if(null!=_){const b=e.data.field(_.fieldPath);if(hs(b))for(const x of b.arrayValue.values||[])a=a.add(new Bo(i.indexId,e.key,this.dn(x),h))}else a=a.add(new Bo(i.indexId,e.key,Wa,h));return a}bn(e,i,a,h,_){we("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const b=[];return function(L,K,le,_e,We){const wt=L.getIterator(),qt=K.getIterator();let En=ko(wt),cn=ko(qt);for(;En||cn;){let tr=!1,yr=!1;if(En&&cn){const nr=le(En,cn);nr<0?yr=!0:nr>0&&(tr=!0)}else null!=En?yr=!0:tr=!0;tr?(_e(cn),cn=ko(qt)):yr?(We(En),En=ko(wt)):(En=ko(wt),cn=ko(qt))}}(h,_,_a,x=>{b.push(this.Dn(e,i,a,x))},x=>{b.push(this.vn(e,i,a,x))}),Ye.waitFor(b)}yn(e){let i=1;return So(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,a){a=a.sort((b,x)=>_a(b,x)).filter((b,x,L)=>!x||0!==_a(b,L[x-1]));const h=[];h.push(e);for(const b of a){const x=_a(b,e),L=_a(b,i);if(0===x)h[0]=e.Zt();else if(x>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(i);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,Wa,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,Wa,[]]))}return _}Cn(e,i){return _a(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(Od)}getMinOffset(e,i){return Ye.mapArray(this.hn(i),a=>this.Pn(e,a).next(h=>h||Lt())).next(Od)}}function Xf(d){return lr(d,"collectionParents")}function $o(d){return lr(d,"indexEntries")}function Uu(d){return lr(d,"indexConfiguration")}function So(d){return lr(d,"indexState")}function Od(d){Yt(0!==d.length);let e=d[0].indexState.offset,i=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ri(h,e)<0&&(e=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new bn(e.readTime,e.documentKey,i)}const ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zh(d,e,i){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(i.batchId);let x=0;const L=a.J({range:b},(le,_e,We)=>(x++,We.delete()));_.push(L.next(()=>{Yt(1===x)}));const K=[];for(const le of i.mutations){const _e=Se(e,le.key.path,i.batchId);_.push(h.delete(_e)),K.push(le.key)}return Ye.waitFor(_).next(()=>K)}function Rc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Lt();e=d.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class Oc{constructor(e,i,a,h){this.userId=e,this.serializer=i,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,i,a,h){Yt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new Oc(_,i,a,h)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ka(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{i=!1,b.done()}).next(()=>i)}addMutationBatch(e,i,a,h){const _=qa(e),b=Ka(e);return b.add({}).next(x=>{Yt("number"==typeof x);const L=new Ws(x,i,a,h),K=function(wt,qt,En){const cn=En.baseMutations.map(yr=>Ul(wt.ct,yr)),tr=En.mutations.map(yr=>Ul(wt.ct,yr));return{userId:qt,batchId:En.batchId,localWriteTimeMs:En.localWriteTime.toMillis(),baseMutations:cn,mutations:tr}}(this.serializer,this.userId,L),le=[];let _e=new Nr((We,wt)=>nn(We.canonicalString(),wt.canonicalString()));for(const We of h){const wt=Se(this.userId,We.key.path,x);_e=_e.add(We.key.path.popLast()),le.push(b.put(K)),le.push(_.put(wt,$e))}return _e.forEach(We=>{le.push(this.indexManager.addToCollectionParentIndex(e,We))}),e.addOnCommittedListener(()=>{this.Fn[x]=L.keys()}),Ye.waitFor(le).next(()=>L)})}lookupMutationBatch(e,i){return Ka(e).get(i).next(a=>a?(Yt(a.userId===this.userId),Sr(this.serializer,a)):null)}Mn(e,i){return this.Fn[i]?Ye.resolve(this.Fn[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const h=a.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return Ka(e).J({index:"userMutationsIndex",range:h},(b,x,L)=>{x.userId===this.userId&&(Yt(x.batchId>=a),_=Sr(this.serializer,x)),L.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ka(e).J({index:"userMutationsIndex",range:i,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ka(e).U("userMutationsIndex",i).next(a=>a.map(h=>Sr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=Pe(this.userId,i.path),h=IDBKeyRange.lowerBound(a),_=[];return qa(e).J({range:h},(b,x,L)=>{const[K,le,_e]=b,We=Rn(le);if(K===this.userId&&i.path.isEqual(We))return Ka(e).get(_e).next(wt=>{if(!wt)throw Lt();Yt(wt.userId===this.userId),_.push(Sr(this.serializer,wt))});L.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Nr(nn);const h=[];return i.forEach(_=>{const b=Pe(this.userId,_.path),x=IDBKeyRange.lowerBound(b),L=qa(e).J({range:x},(K,le,_e)=>{const[We,wt,qt]=K,En=Rn(wt);We===this.userId&&_.path.isEqual(En)?a=a.add(qt):_e.done()});h.push(L)}),Ye.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,h=a.length+1,_=Pe(this.userId,a),b=IDBKeyRange.lowerBound(_);let x=new Nr(nn);return qa(e).J({range:b},(L,K,le)=>{const[_e,We,wt]=L,qt=Rn(We);_e===this.userId&&a.isPrefixOf(qt)?qt.length===h&&(x=x.add(wt)):le.done()}).next(()=>this.xn(e,x))}xn(e,i){const a=[],h=[];return i.forEach(_=>{h.push(Ka(e).get(_).next(b=>{if(null===b)throw Lt();Yt(b.userId===this.userId),a.push(Sr(this.serializer,b))}))}),Ye.waitFor(h).next(()=>a)}removeMutationBatch(e,i){return zh(e._e,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.On(i.batchId)}),Ye.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return Ye.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return qa(e).J({range:a},(_,b,x)=>{if(_[0]===this.userId){const L=Rn(_[1]);h.push(L)}else x.done()}).next(()=>{Yt(0===h.length)})})}containsKey(e,i){return Nd(e,this.userId,i)}Nn(e){return $l(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nd(d,e,i){const a=Pe(e,i.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return qa(d).J({range:_,H:!0},(x,L,K)=>{const[le,_e,We]=x;le===e&&_e===h&&(b=!0),K.done()}).next(()=>b)}function Ka(d){return lr(d,"mutations")}function qa(d){return lr(d,"documentMutations")}function $l(d){return lr(d,"mutationQueues")}class Ya{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ya(0)}static kn(){return new Ya(-1)}}class yg{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.qn(e).next(i=>{const a=new Ya(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(i=>Ht.fromTimestamp(new Ut(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=i,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(e,h)))}addTargetData(e,i){return this.Kn(e,i).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(e,a))))}updateTargetData(e,i){return this.Kn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Xa(e).delete(i.targetId)).next(()=>this.qn(e)).next(a=>(Yt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,i,a){let h=0;const _=[];return Xa(e).J((b,x)=>{const L=Rr(x);L.sequenceNumber<=i&&null===a.get(L.targetId)&&(h++,_.push(this.removeTargetData(e,L)))}).next(()=>Ye.waitFor(_)).next(()=>h)}forEachTarget(e,i){return Xa(e).J((a,h)=>{const _=Rr(h);i(_)})}qn(e){return qs(e).get("targetGlobalKey").next(i=>(Yt(null!==i),i))}Qn(e,i){return qs(e).put("targetGlobalKey",i)}Kn(e,i){return Xa(e).put(Yr(this.serializer,i))}$n(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(i=>i.targetCount)}getTargetData(e,i){const a=Wi(i),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return Xa(e).J({range:h,index:"queryTargetsIndex"},(b,x,L)=>{const K=Rr(x);Is(i,K.target)&&(_=K,L.done())}).next(()=>_)}addMatchingKeys(e,i,a){const h=[],_=Nc(e);return i.forEach(b=>{const x=Mt(b.path);h.push(_.put({targetId:a,path:x})),h.push(this.referenceDelegate.addReference(e,a,b))}),Ye.waitFor(h)}removeMatchingKeys(e,i,a){const h=Nc(e);return Ye.forEach(i,_=>{const b=Mt(_.path);return Ye.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,i){const a=Nc(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),h=Nc(e);let _=Ir();return h.J({range:a,H:!0},(b,x,L)=>{const K=Rn(b[1]),le=new Wt(K);_=_.add(le)}).next(()=>_)}containsKey(e,i){const a=Mt(i.path),h=IDBKeyRange.bound([a],[Bn(a)],!1,!0);let _=0;return Nc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],L,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,i){return Xa(e).get(i).next(a=>a?Rr(a):null)}}function Xa(d){return lr(d,"targets")}function qs(d){return lr(d,"targetGlobal")}function Nc(d){return lr(d,"targetDocuments")}function ju([d,e],[i,a]){const h=nn(d,i);return 0===h?nn(e,a):h}class Qf{constructor(e){this.Un=e,this.buffer=new Nr(ju),this.Wn=0}Gn(){return++this.Wn}zn(e){const i=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ju(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kc{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var i=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){qn(a)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield kn(a)}yield i.Hn(3e5)}))}}class kd{constructor(e,i){this.Jn=e,this.params=i}calculateTargetCount(e,i){return this.Jn.Yn(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return Ye.resolve(F.oe);const a=new Qf(i);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Jn.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(ll)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ll):this.Xn(e,i))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,i){let a,h,_,b,x,L,K;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),h=this.params.maximumSequenceNumbersToCollect):h=_e,b=Date.now(),this.nthSequenceNumber(e,h))).next(_e=>(a=_e,x=Date.now(),this.removeTargets(e,a,i))).next(_e=>(_=_e,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(_e=>(K=Date.now(),Et()<=ye.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-le}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(L-x)+`ms\n\tRemoved ${_e} documents in `+(K-L)+`ms\nTotal Duration: ${K-le}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:_e})))}}class Jf{constructor(e,i){this.db=e,this.garbageCollector=function Ys(d,e){return new kd(d,e)}(this,i)}Yn(e){const i=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(h=>a+h))}er(e){let i=0;return this.Zn(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Zn(e,i){return this.tr(e,(a,h)=>i(h))}addReference(e,i,a){return ul(e,a)}removeReference(e,i,a){return ul(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return ul(e,i)}nr(e,i){return function(h,_){let b=!1;return $l(h).Y(x=>Nd(h,x,_).next(L=>(L&&(b=!0),Ye.resolve(!L)))).next(()=>b)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=i){const L=this.nr(e,b).next(K=>{if(!K)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Ht.min()),Nc(e).delete([0,Mt(b.path)])))});h.push(L)}}).next(()=>Ye.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return ul(e,i)}tr(e,i){const a=Nc(e);let h,_=F.oe;return a.J({index:"documentTargetsIndex"},([b,x],{path:L,sequenceNumber:K})=>{0===b?(_!==F.oe&&i(new Wt(Rn(h)),_),_=K,h=L):_=F.oe}).next(()=>{_!==F.oe&&i(new Wt(Rn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ul(d,e){return Nc(d).put((h=d.currentSequenceNumber,{targetId:0,path:Mt(e.path),sequenceNumber:h}));var h}class Fd{constructor(){this.changes=new ts(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?Ye.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,a){return Jo(e).put(a)}removeEntry(e,i,a){return Jo(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],It(b),x[x.length-1]]}(i,a))}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.rr(e,a)))}getEntry(e,i){let a=bt.newInvalidDocument(i);return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Zo(i))},(h,_)=>{a=this.ir(i,_)}).next(()=>a)}sr(e,i){let a={size:0,document:bt.newInvalidDocument(i)};return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Zo(i))},(h,_)=>{a={document:this.ir(i,_),size:Rc(_)}}).next(()=>a)}getEntries(e,i){let a=cs();return this._r(e,i,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,i){let a=cs(),h=new ii(Wt.comparator);return this._r(e,i,(_,b)=>{const x=this.ir(_,b);a=a.insert(_,x),h=h.insert(_,Rc(b))}).next(()=>({documents:a,ur:h}))}_r(e,i,a){if(i.isEmpty())return Ye.resolve();let h=new Nr(Ud);i.forEach(L=>h=h.add(L));const _=IDBKeyRange.bound(Zo(h.first()),Zo(h.last())),b=h.getIterator();let x=b.getNext();return Jo(e).J({index:"documentKeyIndex",range:_},(L,K,le)=>{const _e=Wt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;x&&Ud(x,_e)<0;)a(x,null),x=b.getNext();x&&x.isEqual(_e)&&(a(x,K),x=b.hasNext()?b.getNext():null),x?le.$(Zo(x)):le.done()}).next(()=>{for(;x;)a(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,i,a,h,_){const b=i.path,x=[b.popLast().toArray(),b.lastSegment(),It(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).U(IDBKeyRange.bound(x,L,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let le=cs();for(const _e of K){const We=this.ir(Wt.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);We.isFoundDocument()&&(Uo(i,We)||h.has(We.key))&&(le=le.insert(We.key,We))}return le})}getAllFromCollectionGroup(e,i,a,h){let _=cs();const b=Bu(i,a),x=Bu(i,bn.max());return Jo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(L,K,le)=>{const _e=this.ir(Wt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(_e.key,_e),_.size===h&&le.done()}).next(()=>_)}newChangeBuffer(e){return new Vd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return Fc(e).get("remoteDocumentGlobalKey").next(i=>(Yt(!!i),i))}rr(e,i){return Fc(e).put("remoteDocumentGlobalKey",i)}ir(e,i){if(i){const a=function ue(d,e){let i;if(e.document)i=al(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Wt.fromSegments(e.noDocument.path),h=xn(e.noDocument.readTime);i=bt.newNoDocument(a,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Lt();{const a=Wt.fromSegments(e.unknownDocument.path),h=xn(e.unknownDocument.version);i=bt.newUnknownDocument(a,h)}}return e.readTime&&i.setReadTime(function(h){const _=new Ut(h[0],h[1]);return Ht.fromTimestamp(_)}(e.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Ht.min()))return a}return bt.newInvalidDocument(e)}}function Ld(d){return new Zf(d)}class Vd extends Fd{constructor(e,i){super(),this.cr=e,this.trackRemovals=i,this.lr=new ts(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const i=[];let a=0,h=new Nr((_,b)=>nn(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(i.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const L=Me(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Rc(L);a+=K-x.size,i.push(this.cr.addEntry(e,_,L))}else if(a-=x.size,this.trackRemovals){const L=Me(this.cr.serializer,b.convertToNoDocument(Ht.min()));i.push(this.cr.addEntry(e,_,L))}}),h.forEach(_=>{i.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),i.push(this.cr.updateMetadata(e,a)),Ye.waitFor(i)}getFromCache(e,i){return this.cr.sr(e,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,i){return this.cr.ar(e,i).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function Fc(d){return lr(d,"remoteDocumentGlobal")}function Jo(d){return lr(d,"remoteDocumentsV14")}function Zo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bu(d,e){const i=e.documentKey.path.toArray();return[d,It(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Ud(d,e){const i=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<i.length-2&&_<a.length-2;++_)if(h=nn(i[_],a[_]),h)return h;return h=nn(i.length,a.length),h||(h=nn(i[i.length-2],a[a.length-2]),h||nn(i[i.length-1],a[a.length-1]))}class Gl{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Wh{constructor(e,i,a,h){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,i))).next(h=>(null!==a&&oi(a.mutation,h,Ti.empty(),Ut.now()),h))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ir()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ir()){const h=ws();return this.populateOverlays(e,h,i).next(()=>this.computeViews(e,i,h,a).next(_=>{let b=ao();return _.forEach((x,L)=>{b=b.insert(x,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,i){const a=ws();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ir()))}populateOverlays(e,i,a){const h=[];return a.forEach(_=>{i.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{i.set(b,x)})})}computeViews(e,i,a,h){let _=cs();const b=en(),x=en();return i.forEach((L,K)=>{const le=a.get(K.key);h.has(K.key)&&(void 0===le||le.mutation instanceof vi)?_=_.insert(K.key,K):void 0!==le?(b.set(K.key,le.mutation.getFieldMask()),oi(le.mutation,K,le.mutation.getFieldMask(),Ut.now())):b.set(K.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,_).next(L=>(L.forEach((K,le)=>b.set(K,le)),i.forEach((K,le)=>{var _e;return x.set(K,new Gl(le,null!==(_e=b.get(K))&&void 0!==_e?_e:null))}),x))}recalculateAndSaveOverlays(e,i){const a=en();let h=new ii((b,x)=>b-x),_=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(b=>{for(const x of b)x.keys().forEach(L=>{const K=i.get(L);if(null===K)return;let le=a.get(L)||Ti.empty();le=x.applyToLocalView(K,le),a.set(L,le);const _e=(h.get(x.batchId)||Ir()).add(L);h=h.insert(x.batchId,_e)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const L=x.getNext(),K=L.key,le=L.value,_e=Da();le.forEach(We=>{if(!_.has(We)){const wt=$t(i.get(We),a.get(We));null!==wt&&_e.set(We,wt),_=_.add(We)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,_e))}return Ye.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,h){return Wt.isDocumentKey((b=i).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):ce(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,h):this.getDocumentsMatchingCollectionQuery(e,i,a,h);var b}getNextDocuments(e,i,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,h-_.size):Ye.resolve(ws());let x=-1,L=_;return b.next(K=>Ye.forEach(K,(le,_e)=>(x<_e.largestBatchId&&(x=_e.largestBatchId),_.get(le)?Ye.resolve():this.remoteDocumentCache.getEntry(e,le).next(We=>{L=L.insert(le,We)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,L,K,Ir())).next(le=>({batchId:x,changes:qo(le)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Wt(i)).next(a=>{let h=ao();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,i,a,h){const _=i.collectionGroup;let b=ao();return this.indexManager.getCollectionParents(e,_).next(x=>Ye.forEach(x,L=>{const K=(_e=i,We=L.child(_),new oo(We,null,_e.explicitOrderBy.slice(),_e.filters.slice(),_e.limit,_e.limitType,_e.startAt,_e.endAt));var _e,We;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(le=>{le.forEach((_e,We)=>{b=b.insert(_e,We)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,i,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,_,h))).next(b=>{_.forEach((L,K)=>{const le=K.getKey();null===b.get(le)&&(b=b.insert(le,bt.newInvalidDocument(le)))});let x=ao();return b.forEach((L,K)=>{const le=_.get(L);void 0!==le&&oi(le.mutation,K,Ti.empty(),Ut.now()),Uo(i,K)&&(x=x.insert(L,K))}),x})}}class vg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return Ye.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:ls(h.createTime)}),Ye.resolve();var h}getNamedQuery(e,i){return Ye.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,{name:(h=i).name,query:Ei(h.bundledQuery),readTime:ls(h.readTime)}),Ye.resolve();var h}}class zm{constructor(){this.overlays=new ii(Wt.comparator),this.Ir=new Map}getOverlay(e,i){return Ye.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ws();return Ye.forEach(i,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((h,_)=>{this.ht(e,i,_)}),Ye.resolve()}removeOverlaysForBatchId(e,i,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),Ye.resolve()}getOverlaysForCollection(e,i,a){const h=ws(),_=i.length+1,b=new Wt(i.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const L=x.getNext().value,K=L.getKey();if(!i.isPrefixOf(K.path))break;K.path.length===_&&L.largestBatchId>a&&h.set(L.getKey(),L)}return Ye.resolve(h)}getOverlaysForCollectionGroup(e,i,a,h){let _=new ii((K,le)=>K-le);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===i&&K.largestBatchId>a){let le=_.get(K.largestBatchId);null===le&&(le=ws(),_=_.insert(K.largestBatchId,le)),le.set(K.getKey(),K)}}const x=ws(),L=_.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((K,le)=>x.set(K,le)),!(x.size()>=h)););return Ye.resolve(x)}ht(e,i,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new bs(i,a));let _=this.Ir.get(i);void 0===_&&(_=Ir(),this.Ir.set(i,_)),this.Ir.set(i,_.add(a.key))}}class Eg{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return Ye.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ye.resolve()}}class Lc{constructor(){this.Tr=new Nr(Fs.Er),this.dr=new Nr(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const a=new Fs(e,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Vr(new Fs(e,i))}mr(e,i){e.forEach(a=>this.removeReference(a,i))}gr(e){const i=new Wt(new yn([])),a=new Fs(i,e),h=new Fs(i,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new Wt(new yn([])),a=new Fs(i,e),h=new Fs(i,e+1);let _=Ir();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const i=new Fs(e,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class Fs{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return Wt.comparator(e.key,i.key)||nn(e.wr,i.wr)}static Ar(e,i){return nn(e.wr,i.wr)||Wt.comparator(e.key,i.key)}}class sy{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Nr(Fs.Er)}checkEmpty(e){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,a,h){const _=this.Sr;this.Sr++;const b=new Ws(_,i,a,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new Fs(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Ye.resolve(b)}lookupMutationBatch(e,i){return Ye.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.vr(i+1),_=h<0?0:h;return Ye.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Fs(i,0),h=new Fs(i,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const x=this.Dr(b.wr);_.push(x)}),Ye.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Nr(nn);return i.forEach(h=>{const _=new Fs(h,0),b=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{a=a.add(x.wr)})}),Ye.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,h=a.length+1;let _=a;Wt.isDocumentKey(_)||(_=_.child(""));const b=new Fs(new Wt(_),0);let x=new Nr(nn);return this.br.forEachWhile(L=>{const K=L.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(x=x.add(L.wr)),!0)},b),Ye.resolve(this.Cr(x))}Cr(e){const i=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){Yt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return Ye.forEach(i.mutations,h=>{const _=new Fs(h.key,i.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,i){const a=new Fs(i,0),h=this.br.firstAfterOrEqual(a);return Ye.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return Ye.resolve()}Fr(e,i){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Vc{constructor(e){this.Mr=e,this.docs=new ii(Wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Ye.resolve(a?a.document.mutableCopy():bt.newInvalidDocument(i))}getEntries(e,i){let a=cs();return i.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():bt.newInvalidDocument(h))}),Ye.resolve(a)}getDocumentsMatchingQuery(e,i,a,h){let _=cs();const b=i.path,x=new Wt(b.child("")),L=this.docs.getIteratorFrom(x);for(;L.hasNext();){const{key:K,value:{document:le}}=L.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ri(ds(le),a)<=0||(h.has(le.key)||Uo(i,le))&&(_=_.insert(le.key,le.mutableCopy()))}return Ye.resolve(_)}getAllFromCollectionGroup(e,i,a,h){Lt()}Or(e,i){return Ye.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new dl(this)}getSize(e){return Ye.resolve(this.size)}}class dl extends Fd{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),Ye.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}class bg{constructor(e){this.persistence=e,this.Nr=new ts(i=>Wi(i),Is),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lc,this.targetCount=0,this.kr=Ya.Bn()}forEachTarget(e,i){return this.Nr.forEach((a,h)=>i(h)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),Ye.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new Ya(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,Ye.resolve()}updateTargetData(e,i){return this.Kn(i),Ye.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,i,a){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=i&&null===a.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),Ye.waitFor(_).next(()=>h)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,i){const a=this.Nr.get(i)||null;return Ye.resolve(a)}addMatchingKeys(e,i,a){return this.Br.Rr(i,a),Ye.resolve()}removeMatchingKeys(e,i,a){this.Br.mr(i,a);const h=this.persistence.referenceDelegate,_=[];return h&&i.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),Ye.waitFor(_)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),Ye.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Br.yr(i);return Ye.resolve(a)}containsKey(e,i){return Ye.resolve(this.Br.containsKey(i))}}class Kh{constructor(e,i){this.qr={},this.overlays={},this.Qr=new F(0),this.Kr=!1,this.Kr=!0,this.$r=new Eg,this.referenceDelegate=e(this),this.Ur=new bg(this),this.indexManager=new cl,this.remoteDocumentCache=new Vc(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(i),this.Gr=new vg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zm,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.qr[e.toKey()];return a||(a=new sy(i,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,a){we("MemoryPersistence","Starting transaction:",e);const h=new Ls(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,i){return Ye.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,i)))}}class Ls extends xr{constructor(e){super(),this.currentSequenceNumber=e}}class $u{constructor(e){this.persistence=e,this.Jr=new Lc,this.Yr=null}static Zr(e){return new $u(e)}get Xr(){if(this.Yr)return this.Yr;throw Lt()}addReference(e,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),Ye.resolve()}removeReference(e,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),Ye.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),Ye.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,i))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Xr,a=>{const h=Wt.fromPath(a);return this.ei(e,h).next(_=>{_||i.removeEntry(h,Ht.min())})}).next(()=>(this.Yr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ei(e,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(e){return 0}ei(e,i){return Ye.or([()=>Ye.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}class qh{constructor(e){this.serializer=e}O(e,i,a,h){const _=new ut("createOrUpgrade",i);var L;a<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0}),L.createObjectStore("documentMutations"),Go(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=Ye.resolve();return a<3&&h>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Go(e)),b=b.next(()=>function(L){const K=L.store("targetGlobal"),le={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",le)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(L,K){return K.store("mutations").U().next(le=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0});const _e=K.store("mutations"),We=le.map(wt=>_e.put(wt));return Ye.waitFor(We)})}(e,_))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(L){const K=L.createObjectStore("documentOverlays",{keyPath:Un});K.createIndex("collectionPathOverlayIndex",_n,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ln,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(L){const K=L.createObjectStore("remoteDocumentsV14",{keyPath:Ot});K.createIndex("documentKeyIndex",Jt),K.createIndex("collectionGroupIndex",In)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:_t}).createIndex("sequenceNumberIndex",et,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Rt}).createIndex("documentKeyIndex",fn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let i=0;return e.store("remoteDocuments").J((a,h)=>{i+=Rc(h)}).next(()=>{const a={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const i=e.store("mutationQueues"),a=e.store("mutations");return i.U().next(h=>Ye.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(x=>Ye.forEach(x,L=>{Yt(L.userId===_.userId);const K=Sr(this.serializer,L);return zh(e,_.userId,K).next(()=>{})}))}))}ii(e){const i=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,x)=>{const L=new yn(b),K=[0,Mt(L)];_.push(i.get(K).next(le=>le?Ye.resolve():i.put({targetId:0,path:Mt(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(_))})}si(e,i){e.createObjectStore("collectionParents",{keyPath:Xr});const a=i.store("collectionParents"),h=new Vu,_=b=>{if(h.add(b)){const x=b.lastSegment(),L=b.popLast();return a.put({collectionId:x,parent:Mt(L)})}};return i.store("remoteDocuments").J({H:!0},(b,x)=>{const L=new yn(b);return _(L.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([b,x,L],K)=>{const le=Rn(x);return _(le.popLast())}))}oi(e){const i=e.store("targets");return i.J((a,h)=>{const _=Rr(h),b=Yr(this.serializer,_);return i.put(b)})}_i(e,i){const a=i.store("remoteDocuments"),h=[];return a.J((_,b)=>{const x=i.store("remoteDocumentsV14"),L=(_e=b,_e.document?new Wt(yn.fromString(_e.document.name).popFirst(5)):_e.noDocument?Wt.fromSegments(_e.noDocument.path):_e.unknownDocument?Wt.fromSegments(_e.unknownDocument.path):Lt()).path.toArray(),K={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var _e;h.push(x.put(K))}).next(()=>Ye.waitFor(h))}ai(e,i){const a=i.store("mutations"),h=Ld(this.serializer),_=new Kh($u.Zr,this.serializer.ct);return a.U().next(b=>{const x=new Map;return b.forEach(L=>{var K;let le=null!==(K=x.get(L.userId))&&void 0!==K?K:Ir();Sr(this.serializer,L).keys().forEach(_e=>le=le.add(_e)),x.set(L.userId,le)}),Ye.forEach(x,(L,K)=>{const le=new Ze(K),_e=uc.lt(this.serializer,le),We=_.getIndexManager(le),wt=Oc.lt(le,this.serializer,We,_.referenceDelegate);return new Wh(h,wt,_e,We).recalculateAndSaveOverlaysForDocumentKeys(new kt(i,F.oe),L).next()})})}}function Go(d){d.createObjectStore("targetDocuments",{keyPath:cr}).createIndex("documentTargetsIndex",un,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vn,{unique:!0}),d.createObjectStore("targetGlobal")}const Uc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jd{constructor(e,i,a,h,_,b,x,L,K,le,_e=17){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.ui=_,this.window=b,this.document=x,this.ci=K,this.li=le,this.hi=_e,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=We=>Promise.resolve(),!jd.D())throw new st(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jf(this,h),this.Ai=i+"main",this.serializer=new G(L),this.Ri=new ae(this.Ai,this.hi,new qh(this.serializer)),this.$r=new dc,this.Ur=new yg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ld(this.serializer),this.Gr=new Pc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===le&&sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,Uc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new F(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var i=this;return this.di=function(){var a=(0,o.A)(function*(h){if(i.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var i=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(i=>this.isPrimary&&!i?this.bi(e).next(()=>!1):!!i&&this.Di(e).next(()=>!0))).catch(e=>{if(qn(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return jc(e).get("owner").next(i=>Ye.resolve(this.vi(i)))}Ci(e){return gc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=lr(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(L=>-1===b.indexOf(L));return Ye.forEach(x,L=>h.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const a of i)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ye.resolve(!0):jc(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new st(Ue.FAILED_PRECONDITION,Uc);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&we("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new kt(i,F.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,i){return e.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,i){return Oc.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return uc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,i,a){we("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",_=17===(L=this.hi)?He:16===L?ee:15===L?zt:14===L?Ee:13===L?Yn:12===L?Hr:11===L?ur:void Lt();var L;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new kt(x,this.Qr?this.Qr.next():F.oe),"readwrite-primary"===i?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Ue.FAILED_PRECONDITION,ar);return a(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>a(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return jc(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new st(Ue.FAILED_PRECONDITION,Uc)})}Di(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jc(e).put("owner",i)}static D(){return ae.D()}bi(e){const i=jc(e);return i.get("owner").next(a=>this.vi(a)?(we("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):Ye.resolve())}Mi(e,i){const a=Date.now();return!(e<a-i||e>a&&(sn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,fe.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return sn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jc(d){return lr(d,"owner")}function gc(d){return lr(d,"clientMetadata")}function Gu(d,e){let i=d.projectId;return d.isDefaultDatabase||(i+="."+d.database),"firestore/"+e+"/"+i+"/"}class ep{constructor(e,i,a,h){this.targetId=e,this.fromCache=i,this.$i=a,this.Ui=h}static Wi(e,i){let a=Ir(),h=Ir();for(const _ of i.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new ep(e,i.fromCache,a,h)}}class Cg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,fe.nr)()?8:Oe((0,fe.ZQ)())>0?6:4}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,a,h){const _={result:null};return this.Yi(e,i).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,i,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new Cg;return this.Xi(e,i,b).next(x=>{if(_.result=x,this.zi)return this.es(e,i,b,x.size)})}).next(()=>_.result)}es(e,i,a,h){return a.documentReadCount<this.ji?(Et()<=ye.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ye.resolve()):(Et()<=ye.$b.DEBUG&&we("QueryEngine","Query:",as(i),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Et()<=ye.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(i))):Ye.resolve())}Yi(e,i){if(V(i))return Ye.resolve(null);let a=pn(i);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=ps(i,null,"F"),a=pn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=Ir(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,a).next(L=>{const K=this.ts(i,x);return this.ns(i,K,b,L.readTime)?this.Yi(e,ps(i,null,"F")):this.rs(e,K,i,L)}))})))}Zi(e,i,a,h){return V(i)||h.isEqual(Ht.min())?Ye.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(i,_);return this.ns(i,b,a,h)?Ye.resolve(null):(Et()<=ye.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),as(i)),this.rs(e,b,i,ni(h,-1)).next(x=>x))})}ts(e,i){let a=new Nr(Es(e));return i.forEach((h,_)=>{Uo(e,_)&&(a=a.add(_))}),a}ns(e,i,a,h){if(null===e.limit)return!1;if(a.size!==i.size)return!0;const _="F"===e.limitType?i.last():i.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,i,a){return Et()<=ye.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",as(i)),this.Ji.getDocumentsMatchingQuery(e,i,bn.min(),a)}rs(e,i,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(i.forEach(b=>{_=_.insert(b.key,b)}),_))}}class ea{constructor(e,i,a,h){this.persistence=e,this.ss=i,this.serializer=h,this.os=new ii(nn),this._s=new ts(_=>Wi(_),Is),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.os))}}function Bd(d,e,i,a){return new ea(d,e,i,a)}function mc(d,e){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,o.A)(function*(d,e){const i=gt(d);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let h;return i.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,i.ls(e),i.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],x=[];let L=Ir();for(const K of h){b.push(K.batchId);for(const le of K.mutations)L=L.add(le.key)}for(const K of _){x.push(K.batchId);for(const le of K.mutations)L=L.add(le.key)}return i.localDocuments.getDocuments(a,L).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Hu(d){const e=gt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ur.getLastRemoteSnapshotVersion(i))}function Yh(d,e,i){let a=Ir(),h=Ir();return i.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=cs();return i.forEach((x,L)=>{const K=_.get(x);L.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(x)),L.isNoDocument()&&L.version.isEqual(Ht.min())?(e.removeEntry(x,L.readTime),b=b.insert(x,L)):!K.isValidDocument()||L.version.compareTo(K.version)>0||0===L.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(L),b=b.insert(x,L)):we("LocalStore","Ignoring outdated watch update for ",x,". Current version:",K.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function tp(d,e){const i=gt(d);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Bc(d,e){const i=gt(d);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return i.Ur.getTargetData(a,e).next(_=>_?(h=_,Ye.resolve(h)):i.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=i.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(e,a.targetId)),a})}function Hl(d,e,i){return $d.apply(this,arguments)}function $d(){return($d=(0,o.A)(function*(d,e,i){const a=gt(d),h=a.os.get(e),_=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!qn(b))throw b;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function _c(d,e,i){const a=gt(d);let h=Ht.min(),_=Ir();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,K,le){const _e=gt(L),We=_e._s.get(le);return void 0!==We?Ye.resolve(_e.os.get(We)):_e.Ur.getTargetData(K,le)}(a,b,pn(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,x.targetId).next(L=>{_=L})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,i?h:Ht.min(),i?_:Ir())).next(x=>(Qh(a,Ol(e),x),{documents:x,Ts:_})))}function Xh(d,e){const i=gt(d),a=gt(i.Ur),h=i.os.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function $c(d,e){const i=gt(d),a=i.us.get(e)||Ht.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,e,ni(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Qh(i,e,h),h))}function Qh(d,e,i){let a=d.us.get(e)||Ht.min();i.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function Wu(){return(Wu=(0,o.A)(function*(d,e,i,a){const h=gt(d);let _=Ir(),b=cs();for(const K of i){const le=e.Es(K.metadata.name);K.document&&(_=_.add(le));const _e=e.ds(K);_e.setReadTime(e.As(K.metadata.readTime)),b=b.insert(le,_e)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield Bc(h,(le=a,pn(J(yn.fromString(`__bundle__/docs/${le}`)))));var le;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Yh(K,x,b).next(le=>(x.apply(K),le)).next(le=>h.Ur.removeMatchingKeysForTargetId(K,L.targetId).next(()=>h.Ur.addMatchingKeys(K,_,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,le.Ps,le.Is)).next(()=>le.Ps)))})).apply(this,arguments)}function np(d,e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,o.A)(function*(d,e,i=Ir()){const a=yield Bc(d,pn(Ei(e.bundledQuery))),h=gt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=ls(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=a.withResumeToken(Pi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,i,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Ku(d,e){return`firestore_clients_${d}_${e}`}function Gd(d,e,i){let a=`firestore_mutations_${d}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function qu(d,e){return`firestore_targets_${d}_${e}`}class Hc{constructor(e,i,a,h){this.user=e,this.batchId=i,this.state=a,this.error=h}static Rs(e,i,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new st(h.error.code,h.error.message))),b?new Hc(e,i,h.state,_):(sn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Na{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static Rs(e,i){const a=JSON.parse(i);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new st(a.error.code,a.error.message))),_?new Na(e,a.state,h):(sn("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zc{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Rs(e,i){const a=JSON.parse(i);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=Hs();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=lt(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new zc(e,_):(sn("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class I{constructor(e,i){this.clientId=e,this.onlineState=i}static Rs(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new I(i.clientId,i.onlineState):(sn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Hs()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,i,a,h,_){this.window=e,this.ui=i,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ii(nn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Ku(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const i=yield e.syncEngine.Qi();for(const h of i){if(h===e.ps)continue;const _=e.getItem(Ku(e.persistenceKey,h));if(_){const b=zc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let i=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,i,a){this.qs(e,i,a),this.Qs(e)}addLocalQueryTarget(e,i=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(qu(this.persistenceKey,e));if(h){const _=Na.Rs(e,h);_&&(a=_.state)}}return i&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qu(this.persistenceKey,e))}updateQueryState(e,i,a){this.$s(e,i,a)}handleUserChange(e,i,a){i.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return we("SharedClientState","READ",e,i),i}setItem(e,i){we("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var i=this;const a=e;if(a.storageArea===this.storage){if(we("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const h=i.Gs(a.key);return i.zs(h,null)}{const h=i.js(a.key,a.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const h=i.Hs(a.key,a.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const h=i.Ys(a.key,a.newValue);if(h)return i.Zs(h)}}else if(a.key===i.xs){if(null!==a.newValue){const h=i.Ls(a.newValue);if(h)return i.Bs(h)}}else if(a.key===i.vs){const h=function(b){let x=F.oe;if(null!=b)try{const L=JSON.parse(b);Yt("number"==typeof L),x=L}catch(L){sn("SharedClientState","Failed to read sequence number from WebStorage",L)}return x}(a.newValue);h!==F.oe&&i.sequenceNumberHandler(h)}else if(a.key===i.Os){const h=i.Xs(a.newValue);yield Promise.all(h.map(_=>i.syncEngine.eo(_)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,i,a){const h=new Hc(this.currentUser,e,i,a),_=Gd(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const i=Gd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,i,a){const h=qu(this.persistenceKey,e),_=new Na(e,i,a);this.setItem(h,_.Vs())}Ws(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Os,i)}Gs(e){const i=this.Cs.exec(e);return i?i[1]:null}js(e,i){const a=this.Gs(e);return zc.Rs(a,i)}Hs(e,i){const a=this.Fs.exec(e),h=Number(a[1]);return Hc.Rs(new Ze(void 0!==a[2]?a[2]:null),h,i)}Ys(e,i){const a=this.Ms.exec(e),h=Number(a[1]);return Na.Rs(h,i)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var i=this;return(0,o.A)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,i){const a=i?this.Ss.insert(e,i):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],x=[];return _.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{_.has(L)||x.push(L)}),this.syncEngine.io(b,x).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let i=Hs();return e.forEach((a,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,a){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xe=null;function Pt(){return null===Xe?Xe=268435456+Math.round(2147483648*Math.random()):Xe++,"0x"+Xe.toString(16)}const Qt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hn="WebChannelConnection";class li extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(i,a,h,_,b){const x=Pt(),L=this.xo(i,a.toUriEncodedString());we("RestConnection",`Sending RPC '${i}' ${x}:`,L,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(i,L,K,h).then(le=>(we("RestConnection",`Received RPC '${i}' ${x}: `,le),le),le=>{throw Tn("RestConnection",`RPC '${i}' ${x} failed with error: `,le,"url: ",L,"request:",h),le})}Lo(i,a,h,_,b,x){return this.Mo(i,a,h,_,b)}Oo(i,a,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+ke,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>i[b]=_),h&&h.headers.forEach((_,b)=>i[b]=_)}xo(i,a){return`${this.Do}/v1/${a}:${Qt[i]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,a,h){const _=Pt();return new Promise((b,x)=>{const L=new be;L.setWithCredentials(!0),L.listenOnce(St.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ht.NO_ERROR:const le=L.getResponseJson();we(Hn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(le)),b(le);break;case ht.TIMEOUT:we(Hn,`RPC '${e}' ${_} timed out`),x(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case ht.HTTP_ERROR:const _e=L.getStatus();if(we(Hn,`RPC '${e}' ${_} failed with status:`,_e,"response text:",L.getResponseText()),_e>0){let We=L.getResponseJson();Array.isArray(We)&&(We=We[0]);const wt=We?.error;if(wt&&wt.status&&wt.message){const qt=function(cn){const tr=cn.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(tr)>=0?tr:Ue.UNKNOWN}(wt.status);x(new st(qt,wt.message))}else x(new st(Ue.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{we(Hn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);we(Hn,`RPC '${e}' ${_} sending request:`,h),L.send(i,"POST",K,a,15)})}Bo(e,i,a){const h=Pt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=ze(),x=rn(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(L.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,i,a),L.encodeInitMessageHeaders=!0;const le=_.join("");we(Hn,`Creating RPC '${e}' stream ${h}: ${le}`,L);const _e=b.createWebChannel(le,L);let We=!1,wt=!1;const qt=new Gn({Io:cn=>{wt?we(Hn,`Not sending because RPC '${e}' stream ${h} is closed:`,cn):(We||(we(Hn,`Opening RPC '${e}' stream ${h} transport.`),_e.open(),We=!0),we(Hn,`RPC '${e}' stream ${h} sending:`,cn),_e.send(cn))},To:()=>_e.close()}),En=(cn,tr,yr)=>{cn.listen(tr,nr=>{try{yr(nr)}catch($r){setTimeout(()=>{throw $r},0)}})};return En(_e,Ge.EventType.OPEN,()=>{wt||(we(Hn,`RPC '${e}' stream ${h} transport opened.`),qt.yo())}),En(_e,Ge.EventType.CLOSE,()=>{wt||(wt=!0,we(Hn,`RPC '${e}' stream ${h} transport closed`),qt.So())}),En(_e,Ge.EventType.ERROR,cn=>{wt||(wt=!0,Tn(Hn,`RPC '${e}' stream ${h} transport errored:`,cn),qt.So(new st(Ue.UNAVAILABLE,"The operation could not be completed")))}),En(_e,Ge.EventType.MESSAGE,cn=>{var tr;if(!wt){const yr=cn.data[0];Yt(!!yr);const $r=yr.error||(null===(tr=yr[0])||void 0===tr?void 0:tr.error);if($r){we(Hn,`RPC '${e}' stream ${h} received error:`,$r);const Ui=$r.status;let mi=function(Qe){const ft=Lr[Qe];if(void 0!==ft)return co(ft)}(Ui),dt=$r.message;void 0===mi&&(mi=Ue.INTERNAL,dt="Unknown error status: "+Ui+" with message "+$r.message),wt=!0,qt.So(new st(mi,dt)),_e.close()}else we(Hn,`RPC '${e}' stream ${h} received:`,yr),qt.bo(yr)}}),En(x,Nt.STAT_EVENT,cn=>{cn.stat===jt.PROXY?we(Hn,`RPC '${e}' stream ${h} detected buffering proxy`):cn.stat===jt.NOPROXY&&we(Hn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{qt.wo()},0),qt}}function Ho(){return typeof window<"u"?window:null}function ya(){return typeof document<"u"?document:null}function va(d){return new Dd(d,!0)}class Hd{constructor(e,i,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=i,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-a);h>0&&we("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zd{constructor(e,i,a,h,_,b,x,L){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hd(e,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,i){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():i&&i.code===Ue.RESOURCE_EXHAUSTED?(sn(i.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===Ue.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===i&&this.P_(a,h)},a=>{e(()=>{const h=new st(Ue.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,i){const a=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget(()=>this.Yo===e?i():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wd extends zd{constructor(e,i,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,h,b),this.serializer=_}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=function xd(d,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Lt(),h=e.targetChange.targetIds||[],_=function(K,le){return K.useProto3Json?(Yt(void 0===le||"string"==typeof le),Pi.fromBase64String(le||"")):(Yt(void 0===le||le instanceof Buffer||le instanceof Uint8Array),Pi.fromUint8Array(le||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const le=void 0===K.code?Ue.UNKNOWN:co(K.code);return new st(le,K.message||"")}(b);i=new Ad(a,h,_,x||null)}else if("documentChange"in e){const a=e.documentChange,h=lo(d,a.document.name),_=ls(a.document.updateTime),b=a.document.createTime?ls(a.document.createTime):Ht.min(),x=new Fe({mapValue:{fields:a.document.fields}}),L=bt.newFoundDocument(h,_,b,x);i=new sl(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,h=lo(d,a.document),_=a.readTime?ls(a.readTime):Ht.min(),b=bt.newNoDocument(h,_);i=new sl([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=lo(d,a.document);i=new sl([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Lt();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new Ba(h,_);i=new wd(a.targetId,b)}}var K;return i}(this.serializer,e),a=function(_){if(!("targetChange"in _))return Ht.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Ht.min():b.readTime?ls(b.readTime):Ht.min()}(e);return this.listener.d_(i,a)}A_(e){const i={};i.database=xa(this.serializer),i.addTarget=function(_,b){let x;const L=b.target;if(x=Lo(L)?{documents:Ks(_,L)}:{query:Ga(_,L)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=Sd(_,b.resumeToken);const K=Vl(_,b.expectedCount);null!==K&&(x.expectedCount=K)}else if(b.snapshotVersion.compareTo(Ht.min())>0){x.readTime=fa(_,b.snapshotVersion.toTimestamp());const K=Vl(_,b.expectedCount);null!==K&&(x.expectedCount=K)}return x}(this.serializer,e);const a=function Pd(d,e){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.a_(i)}R_(e){const i={};i.database=xa(this.serializer),i.removeTarget=e,this.a_(i)}}class Ag extends zd{constructor(e,i,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=function ms(d,e){return d&&d.length>0?(Yt(void 0!==e),d.map(i=>function(h,_){let b=ls(h.updateTime?h.updateTime:_);return b.isEqual(Ht.min())&&(b=ls(_)),new j(b,h.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=ls(e.commitTime);return this.listener.g_(a,i)}p_(){const e={};e.database=xa(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>Ul(this.serializer,a))};this.a_(i)}}class rp extends class{}{constructor(e,i,a,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Du(i,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new st(Ue.UNKNOWN,_.toString())})}Lo(e,i,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Du(i,a),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(Ue.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zl{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sn(i),this.D_=!1):we("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Dg{constructor(e,i,a,h,_){var b=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{a.enqueueAndForget((0,o.A)(function*(){var L;ka(b)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,o.A)(function*(le){const _e=gt(le);_e.L_.add(4),yield Qu(_e),_e.q_.set("Unknown"),_e.L_.delete(4),yield Yu(_e)}),function K(le){return L.apply(this,arguments)})(b))}))}),this.q_=new zl(a,h)}}function Yu(d){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,o.A)(function*(d){if(ka(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Qu(d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Ju(d,e){const i=gt(d);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Yd(i)?ip(i):th(i).r_()&&qd(i,e))}function hl(d,e){const i=gt(d),a=th(i);i.N_.delete(e),a.r_()&&Wl(i,e),0===i.N_.size&&(a.r_()?a.o_():ka(i)&&i.q_.set("Unknown"))}function qd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const i=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}th(d).A_(e)}function Wl(d,e){d.Q_.xe(e),th(d).R_(e)}function ip(d){d.Q_=new Dc({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),th(d).start(),d.q_.v_()}function Yd(d){return ka(d)&&!th(d).n_()&&d.N_.size>0}function ka(d){return 0===gt(d).L_.size}function sp(d){d.Q_=void 0}function oy(d){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function op(d){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.A)(function*(d){d.N_.forEach((e,i)=>{qd(d,e)})})).apply(this,arguments)}function ay(d,e){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,o.A)(function*(d,e){sp(d),Yd(d)?(d.q_.M_(e),ip(d)):d.q_.set("Unknown")})).apply(this,arguments)}function cy(d,e,i){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,o.A)(function*(d,e,i){if(d.q_.set("Online"),e instanceof Ad&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(_,b){const x=b.cause;for(const L of b.targetIds)_.N_.has(L)&&(yield _.remoteSyncer.rejectListen(L,x),_.N_.delete(L),_.Q_.removeTarget(L))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Qd(d,a)}else if(e instanceof sl?d.Q_.Ke(e):e instanceof wd?d.Q_.He(e):d.Q_.We(e),!i.isEqual(Ht.min()))try{const a=yield Hu(d.localStore);i.compareTo(a)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((L,K)=>{if(L.resumeToken.approximateByteSize()>0){const le=_.N_.get(K);le&&_.N_.set(K,le.withResumeToken(L.resumeToken,b))}}),x.targetMismatches.forEach((L,K)=>{const le=_.N_.get(L);if(!le)return;_.N_.set(L,le.withResumeToken(Pi.EMPTY_BYTE_STRING,le.snapshotVersion)),Wl(_,L);const _e=new N(le.target,L,K,le.sequenceNumber);qd(_,_e)}),_.remoteSyncer.applyRemoteEvent(x)}(d,i))}catch(a){we("RemoteStore","Failed to raise snapshot:",a),yield Qd(d,a)}var a}),Zu.apply(this,arguments)}function Qd(d,e,i){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,o.A)(function*(d,e,i){if(!qn(e))throw e;d.L_.add(1),yield Qu(d),d.q_.set("Offline"),i||(i=()=>Hu(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield i(),d.L_.delete(1),yield Yu(d)}))})).apply(this,arguments)}function Kl(d,e){return e().catch(i=>Qd(d,i,e))}function Jd(d){return ap.apply(this,arguments)}function ap(){return(ap=(0,o.A)(function*(d){const e=gt(d),i=Kc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ly(e);)try{const h=yield tp(e.localStore,a);if(null===h){0===e.O_.length&&i.o_();break}a=h.batchId,uy(e,h)}catch(h){yield Qd(e,h)}ta(e)&&cp(e)})).apply(this,arguments)}function ly(d){return ka(d)&&d.O_.length<10}function uy(d,e){d.O_.push(e);const i=Kc(d);i.r_()&&i.V_&&i.m_(e.mutations)}function ta(d){return ka(d)&&!Kc(d).n_()&&d.O_.length>0}function cp(d){Kc(d).start()}function Km(d){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,o.A)(function*(d){Kc(d).p_()})).apply(this,arguments)}function xo(d){return ed.apply(this,arguments)}function ed(){return(ed=(0,o.A)(function*(d){const e=Kc(d);for(const i of d.O_)e.m_(i.mutations)})).apply(this,arguments)}function xg(d,e,i){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,o.A)(function*(d,e,i){const a=d.O_.shift(),h=go.from(a,e,i);yield Kl(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Jd(d)})).apply(this,arguments)}function qm(d,e){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,o.A)(function*(d,e){var i;e&&Kc(d).V_&&(yield(i=(0,o.A)(function*(h,_){if(Ac(x=_.code)&&x!==Ue.ABORTED){const b=h.O_.shift();Kc(h).s_(),yield Kl(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield Jd(h)}var x}),function a(h,_){return i.apply(this,arguments)})(d,e)),ta(d)&&cp(d)}),Wc.apply(this,arguments)}function Pg(d,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.A)(function*(d,e){const i=gt(d);i.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const a=ka(i);i.L_.add(3),yield Qu(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),yield Yu(i)})).apply(this,arguments)}function Mg(d,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(d,e){const i=gt(d);e?(i.L_.delete(2),yield Yu(i)):e||(i.L_.add(2),yield Qu(i),i.q_.set("Unknown"))})).apply(this,arguments)}function th(d){return d.K_||(d.K_=function(i,a,h){const _=gt(i);return _.w_(),new Wd(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:oy.bind(null,d),Ro:op.bind(null,d),mo:ay.bind(null,d),d_:cy.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(i){i?(d.K_.s_(),Yd(d)?ip(d):d.q_.set("Unknown")):(yield d.K_.stop(),sp(d))});return function(i){return e.apply(this,arguments)}}())),d.K_}function Kc(d){return d.U_||(d.U_=function(i,a,h){const _=gt(i);return _.w_(),new Ag(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Km.bind(null,d),mo:qm.bind(null,d),f_:xo.bind(null,d),g_:xg.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(i){i?(d.U_.s_(),yield Jd(d)):(yield d.U_.stop(),d.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(i){return e.apply(this,arguments)}}())),d.U_}class tf{constructor(e,i,a,h,_){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,h,_){const b=Date.now()+a,x=new tf(e,i,b,h,_);return x.start(a),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ql(d,e){if(sn("AsyncQueue",`${e}: ${d}`),qn(d))return new st(Ue.UNAVAILABLE,`${e}: ${d}`);throw d}class nh{constructor(e){this.comparator=e?(i,a)=>e(i,a)||Wt.comparator(i.key,a.key):(i,a)=>Wt.comparator(i.key,a.key),this.keyedMap=ao(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof nh)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new nh;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class td{constructor(){this.W_=new ii(Wt.comparator)}track(e){const i=e.doc.key,a=this.W_.get(i);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(i,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(i):1===e.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Lt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Yl{constructor(e,i,a,h,_,b,x,L,K){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=L,this.hasCachedResults=K}static fromInitialDocuments(e,i,a,h,_){const b=[];return i.forEach(x=>{b.push({type:0,doc:x})}),new Yl(e,i,nh.emptySet(i),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==a[h].type||!i[h].doc.isEqual(a[h].doc))return!1;return!0}}class dy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nd{constructor(){this.queries=Rg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const h=gt(i),_=h.queries;h.queries=Rg(),_.forEach((b,x)=>{for(const L of x.j_)L.onError(a)})}(this,new st(Ue.ABORTED,"Firestore shutting down"))}}function Rg(){return new ts(d=>Gs(d),wo)}function Og(d,e){return na.apply(this,arguments)}function na(){return(na=(0,o.A)(function*(d,e){const i=gt(d);let a=3;const h=e.query;let _=i.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new dy,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield i.onListen(h,!0);break;case 1:_.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(b){const x=ql(b,`Initialization of query '${as(e.query)}' failed`);return void e.onError(x)}i.queries.set(h,_),_.j_.push(e),e.Z_(i.onlineState),_.z_&&e.X_(_.z_)&&kg(i)})).apply(this,arguments)}function rh(d,e){return lp.apply(this,arguments)}function lp(){return(lp=(0,o.A)(function*(d,e){const i=gt(d),a=e.query;let h=3;const _=i.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Ng(d,e){const i=gt(d);let a=!1;for(const h of e){const b=i.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(a=!0);b.z_=h}}a&&kg(i)}function up(d,e,i){const a=gt(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(i);a.queries.delete(e)}function kg(d){d.Y_.forEach(e=>{e.next()})}var Fg,Ym;(Ym=Fg||(Fg={})).ea="default",Ym.Cache="cache";class Lg{constructor(e,i,a){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fg.Cache}}class hy{constructor(e,i){this.aa=e,this.byteLength=i}ua(){return"metadata"in this.aa}}class Vg{constructor(e){this.serializer=e}Es(e){return lo(this.serializer,e)}ds(e){return e.metadata.exists?al(this.serializer,e.document,!1):bt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ls(e)}}class nf{constructor(e,i,a){this.ca=e,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xl(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++i;const a=yn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(e){const i=new Map,a=new Vg(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(i.get(b)||Ir()).add(_);i.set(b,x)}}return i}complete(){var e=this;return(0,o.A)(function*(){const i=yield function zu(d,e,i,a){return Wu.apply(this,arguments)}(e.localStore,new Vg(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield np(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:i}})()}}function Xl(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class dp{constructor(e){this.key=e}}class hp{constructor(e){this.key=e}}class rf{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ir(),this.mutatedKeys=Ir(),this.Aa=Es(e),this.Ra=new nh(this.Aa)}get Va(){return this.Ta}ma(e,i){const a=i?i.fa:new td,h=i?i.Ra:this.Ra;let _=i?i.mutatedKeys:this.mutatedKeys,b=h,x=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((le,_e)=>{const We=h.get(le),wt=Uo(this.query,_e)?_e:null,qt=!!We&&this.mutatedKeys.has(We.key),En=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let cn=!1;We&&wt?We.data.isEqual(wt.data)?qt!==En&&(a.track({type:3,doc:wt}),cn=!0):this.ga(We,wt)||(a.track({type:2,doc:wt}),cn=!0,(L&&this.Aa(wt,L)>0||K&&this.Aa(wt,K)<0)&&(x=!0)):!We&&wt?(a.track({type:0,doc:wt}),cn=!0):We&&!wt&&(a.track({type:1,doc:We}),cn=!0,(L||K)&&(x=!0)),cn&&(wt?(b=b.add(wt),_=En?_.add(le):_.delete(le)):(b=b.delete(le),_=_.delete(le)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const le="F"===this.query.limitType?b.last():b.first();b=b.delete(le.key),_=_.delete(le.key),a.track({type:1,doc:le})}return{Ra:b,fa:a,ns:x,mutatedKeys:_}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((le,_e)=>function(wt,qt){const En=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return En(wt)-En(qt)}(le.type,_e.type)||this.Aa(le.doc,_e.doc)),this.pa(a),h=null!=h&&h;const x=i&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,K=L!==this.Ea;return this.Ea=L,0!==b.length||K?{snapshot:new Yl(this.query,e.Ra,_,b,e.mutatedKeys,0===L,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new td,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ir(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return e.forEach(a=>{this.da.has(a)||i.push(new hp(a))}),this.da.forEach(a=>{e.has(a)||i.push(new dp(a))}),i}ba(e){this.Ta=e.Ts,this.da=Ir();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return Yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Xm{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class Ai{constructor(e){this.key=e,this.va=!1}}class Qm{constructor(e,i,a,h,_,b){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ts(x=>Gs(x),wo),this.Ma=new Map,this.xa=new Set,this.Oa=new ii(Wt.comparator),this.Na=new Map,this.La=new Lc,this.Ba={},this.ka=new Map,this.qa=Ya.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function rd(d,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,o.A)(function*(d,e,i=!0){const a=Ap(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield fy(a,e,i,!0),h})).apply(this,arguments)}function Jm(d,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,o.A)(function*(d,e){const i=Ap(d);yield fy(i,e,!0,!1)})).apply(this,arguments)}function fy(d,e,i,a){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.A)(function*(d,e,i,a){const h=yield Bc(d.localStore,pn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,i);let x;return a&&(x=yield Ug(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&i&&Ju(d.remoteStore,h),x})).apply(this,arguments)}function Ug(d,e,i,a,h){return gp.apply(this,arguments)}function gp(){return gp=(0,o.A)(function*(d,e,i,a,h){d.Ka=(_e,We,wt)=>{return(qt=(0,o.A)(function*(cn,tr,yr,nr){let $r=tr.view.ma(yr);$r.ns&&($r=yield _c(cn.localStore,tr.query,!1).then(({documents:Ve})=>tr.view.ma(Ve,$r)));const Ui=nr&&nr.targetChanges.get(tr.targetId),mi=nr&&null!=nr.targetMismatches.get(tr.targetId),dt=tr.view.applyChanges($r,cn.isPrimaryClient,Ui,mi);return Ql(cn,tr.targetId,dt.wa),dt.snapshot}),function En(cn,tr,yr,nr){return qt.apply(this,arguments)})(d,_e,We,wt);var qt};const _=yield _c(d.localStore,e,!0),b=new rf(e,_.Ts),x=b.ma(_.documents),L=$a.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(x,d.isPrimaryClient,L);Ql(d,i,K.wa);const le=new Xm(e,i,b);return d.Fa.set(e,le),d.Ma.has(i)?d.Ma.get(i).push(e):d.Ma.set(i,[e]),K.snapshot}),gp.apply(this,arguments)}function Zm(d,e,i){return mp.apply(this,arguments)}function mp(){return(mp=(0,o.A)(function*(d,e,i){const a=gt(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!wo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Hl(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),i&&hl(a.remoteStore,h.targetId),fl(a,h.targetId)}).catch(kn))):(fl(a,h.targetId),yield Hl(a.localStore,h.targetId,!0))})).apply(this,arguments)}function jg(d,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,o.A)(function*(d,e){const i=gt(d),a=i.Fa.get(e),h=i.Ma.get(a.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hl(i.remoteStore,a.targetId))})).apply(this,arguments)}function id(){return(id=(0,o.A)(function*(d,e,i){const a=Dp(d);try{const h=yield function(b,x){const L=gt(b),K=Ut.now(),le=x.reduce((wt,qt)=>wt.add(qt.key),Ir());let _e,We;return L.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let qt=cs(),En=Ir();return L.cs.getEntries(wt,le).next(cn=>{qt=cn,qt.forEach((tr,yr)=>{yr.isValidDocument()||(En=En.add(tr))})}).next(()=>L.localDocuments.getOverlayedDocuments(wt,qt)).next(cn=>{_e=cn;const tr=[];for(const yr of x){const nr=wi(yr,_e.get(yr.key).overlayedDocument);null!=nr&&tr.push(new vi(yr.key,nr,it(nr.value.mapValue),Y.exists(!0)))}return L.mutationQueue.addMutationBatch(wt,K,tr,x)}).next(cn=>{We=cn;const tr=cn.applyToLocalDocumentSet(_e,En);return L.documentOverlayCache.saveOverlays(wt,cn.batchId,tr)})}).then(()=>({batchId:We.batchId,changes:qo(_e)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,x,L){let K=b.Ba[b.currentUser.toKey()];K||(K=new ii(nn)),K=K.insert(x,L),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,i),yield Jl(a,h.changes),yield Jd(a.remoteStore)}catch(h){const _=ql(h,"Failed to persist write");i.reject(_)}})).apply(this,arguments)}function Bg(d,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,o.A)(function*(d,e){const i=gt(d);try{const a=yield function wg(d,e){const i=gt(d),a=e.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const x=[];e.targetChanges.forEach((le,_e)=>{const We=h.get(_e);if(!We)return;x.push(i.Ur.removeMatchingKeys(_,le.removedDocuments,_e).next(()=>i.Ur.addMatchingKeys(_,le.addedDocuments,_e)));let wt=We.withSequenceNumber(_.currentSequenceNumber);var En,cn,tr;null!==e.targetMismatches.get(_e)?wt=wt.withResumeToken(Pi.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):le.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(le.resumeToken,a)),h=h.insert(_e,wt),cn=wt,tr=le,(0===(En=We).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-En.snapshotVersion.toMicroseconds()>=3e8||tr.addedDocuments.size+tr.modifiedDocuments.size+tr.removedDocuments.size>0)&&x.push(i.Ur.updateTargetData(_,wt))});let L=cs(),K=Ir();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&x.push(i.persistence.referenceDelegate.updateLimboDocument(_,le))}),x.push(Yh(_,b,e.documentUpdates).next(le=>{L=le.Ps,K=le.Is})),!a.isEqual(Ht.min())){const le=i.Ur.getLastRemoteSnapshotVersion(_).next(_e=>i.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));x.push(le)}return Ye.waitFor(x).next(()=>b.apply(_)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,L,K)).next(()=>L)}).then(_=>(i.os=h,_))}(i.localStore,e);e.targetChanges.forEach((h,_)=>{const b=i.Na.get(_);b&&(Yt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Yt(b.va):h.removedDocuments.size>0&&(Yt(b.va),b.va=!1))}),yield Jl(i,a,e)}catch(a){yield kn(a)}})).apply(this,arguments)}function af(d,e,i){const a=gt(d);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const h=[];a.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const L=gt(b);L.onlineState=x;let K=!1;L.queries.forEach((le,_e)=>{for(const We of _e.j_)We.Z_(x)&&(K=!0)}),K&&kg(L)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function e_(d,e,i){return cf.apply(this,arguments)}function cf(){return(cf=(0,o.A)(function*(d,e,i){const a=gt(d);a.sharedClientState.updateQueryState(e,"rejected",i);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new ii(Wt.comparator);b=b.insert(_,bt.newNoDocument(_,Ht.min()));const x=Ir().add(_),L=new As(Ht.min(),new Map,new ii(nn),b,x);yield Bg(a,L),a.Oa=a.Oa.remove(_),a.Na.delete(e),zg(a)}else yield Hl(a.localStore,e,!1).then(()=>fl(a,e,i)).catch(kn)})).apply(this,arguments)}function lf(d,e){return $g.apply(this,arguments)}function $g(){return($g=(0,o.A)(function*(d,e){const i=gt(d),a=e.batch.batchId;try{const h=yield function Ig(d,e){const i=gt(d);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=i.cs.newChangeBuffer({trackRemovals:!0});return function(x,L,K,le){const _e=K.batch,We=_e.keys();let wt=Ye.resolve();return We.forEach(qt=>{wt=wt.next(()=>le.getEntry(L,qt)).next(En=>{const cn=K.docVersions.get(qt);Yt(null!==cn),En.version.compareTo(cn)<0&&(_e.applyToRemoteDocument(En,K),En.isValidDocument()&&(En.setReadTime(K.commitVersion),le.addEntry(En)))})}),wt.next(()=>x.mutationQueue.removeMutationBatch(L,_e))}(i,a,e,_).next(()=>_.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(x){let L=Ir();for(let K=0;K<x.mutationResults.length;++K)x.mutationResults[K].transformResults.length>0&&(L=L.add(x.batch.mutations[K].key));return L}(e))).next(()=>i.localDocuments.getDocuments(a,h))})}(i.localStore,e);Ep(i,a,null),vp(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Jl(i,h)}catch(h){yield kn(h)}})).apply(this,arguments)}function t_(d,e,i){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e,i){const a=gt(d);try{const h=yield function(b,x){const L=gt(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let le;return L.mutationQueue.lookupMutationBatch(K,x).next(_e=>(Yt(null!==_e),le=_e.keys(),L.mutationQueue.removeMutationBatch(K,_e))).next(()=>L.mutationQueue.performConsistencyCheck(K)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(K,le,x)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,le)).next(()=>L.localDocuments.getDocuments(K,le))})}(a.localStore,e);Ep(a,e,i),vp(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield Jl(a,h)}catch(h){yield kn(h)}})).apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(d,e){const i=gt(d);ka(i.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const x=gt(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>x.mutationQueue.getHighestUnacknowledgedBatchId(L))}(i.localStore);if(-1===a)return void e.resolve();const h=i.ka.get(a)||[];h.push(e),i.ka.set(a,h)}catch(a){const h=ql(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function vp(d,e){(d.ka.get(e)||[]).forEach(i=>{i.resolve()}),d.ka.delete(e)}function Ep(d,e,i){const a=gt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(i?_.reject(i):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function fl(d,e,i=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),i&&d.Ca.$a(a,i);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||bp(d,a)})}function bp(d,e){d.xa.delete(e.path.canonicalString());const i=d.Oa.get(e);null!==i&&(hl(d.remoteStore,i),d.Oa=d.Oa.remove(e),d.Na.delete(i),zg(d))}function Ql(d,e,i){for(const a of i)a instanceof dp?(d.La.addReference(a.key,e),gy(d,a)):a instanceof hp?(we("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||bp(d,a.key)):Lt()}function gy(d,e){const i=e.key,a=i.path.canonicalString();d.Oa.get(i)||d.xa.has(a)||(we("SyncEngine","New document in limbo: "+i),d.xa.add(a),zg(d))}function zg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const i=new Wt(yn.fromString(e)),a=d.qa.next();d.Na.set(a,new Ai(i)),d.Oa=d.Oa.insert(i,a),Ju(d.remoteStore,new N(pn(J(i.path)),a,"TargetPurposeLimboResolution",F.oe))}}function Jl(d,e,i){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,o.A)(function*(d,e,i){const a=gt(d),h=[],_=[],b=[];var x;a.Fa.isEmpty()||(a.Fa.forEach((x,L)=>{b.push(a.Ka(L,e,i).then(K=>{var le;if((K||i)&&a.isPrimaryClient){const _e=K?!K.fromCache:null===(le=i?.targetChanges.get(L.targetId))||void 0===le?void 0:le.current;a.sharedClientState.updateQueryState(L.targetId,_e?"current":"not-current")}if(K){h.push(K);const _e=ep.Wi(L.targetId,K);_.push(_e)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(x=(0,o.A)(function*(K,le){const _e=gt(K);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>Ye.forEach(le,wt=>Ye.forEach(wt.$i,qt=>_e.persistence.referenceDelegate.addReference(We,wt.targetId,qt)).next(()=>Ye.forEach(wt.Ui,qt=>_e.persistence.referenceDelegate.removeReference(We,wt.targetId,qt)))))}catch(We){if(!qn(We))throw We;we("LocalStore","Failed to update sequence numbers: "+We)}for(const We of le){const wt=We.targetId;if(!We.fromCache){const qt=_e.os.get(wt),cn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);_e.os=_e.os.insert(wt,cn)}}}),function L(K,le){return x.apply(this,arguments)})(a.localStore,_))}),Wg.apply(this,arguments)}function Kg(d,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,o.A)(function*(d,e){const i=gt(d);if(!i.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const a=yield mc(i.localStore,e);i.currentUser=e,(_=i).ka.forEach(x=>{x.forEach(L=>{L.reject(new st(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Jl(i,a.hs)}var _})).apply(this,arguments)}function sh(d,e){const i=gt(d),a=i.Na.get(e);if(a&&a.va)return Ir().add(a.key);{let h=Ir();const _=i.Ma.get(e);if(!_)return h;for(const b of _){const x=i.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function Cp(d,e){return uf.apply(this,arguments)}function uf(){return(uf=(0,o.A)(function*(d,e){const i=gt(d),a=yield _c(i.localStore,e.query,!0),h=e.view.ba(a);return i.isPrimaryClient&&Ql(i,e.targetId,h.wa),h})).apply(this,arguments)}function n_(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,o.A)(function*(d,e){const i=gt(d);return $c(i.localStore,e).then(a=>Jl(i,a))})).apply(this,arguments)}function r_(d,e,i,a){return pl.apply(this,arguments)}function pl(){return(pl=(0,o.A)(function*(d,e,i,a){const h=gt(d),_=yield function(x,L){const K=gt(x),le=gt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",_e=>le.Mn(_e,L).next(We=>We?K.localDocuments.getDocuments(_e,We):Ye.resolve(null)))}(h.localStore,e);var L;null!==_?("pending"===i?yield Jd(h.remoteStore):"acknowledged"===i||"rejected"===i?(Ep(h,e,a||null),vp(h,e),L=e,gt(gt(h.localStore).mutationQueue).On(L)):Lt(),yield Jl(h,_)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Yg(){return(Yg=(0,o.A)(function*(d,e){const i=gt(d);if(Ap(i),Dp(i),!0===e&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),h=yield i_(i,a.toArray());i.Qa=!0,yield Mg(i.remoteStore,!0);for(const _ of h)Ju(i.remoteStore,_)}else if(!1===e&&!1!==i.Qa){const a=[];let h=Promise.resolve();i.Ma.forEach((_,b)=>{i.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(fl(i,b),Hl(i.localStore,b,!0))),hl(i.remoteStore,b)}),yield h,yield i_(i,a),function(b){const x=gt(b);x.Na.forEach((L,K)=>{hl(x.remoteStore,K)}),x.La.pr(),x.Na=new Map,x.Oa=new ii(Wt.comparator)}(i),i.Qa=!1,yield Mg(i.remoteStore,!1)}})).apply(this,arguments)}function i_(d,e,i){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e,i){const a=gt(d),h=[],_=[];for(const b of e){let x;const L=a.Ma.get(b);if(L&&0!==L.length){x=yield Bc(a.localStore,pn(L[0]));for(const K of L){const le=a.Fa.get(K),_e=yield Cp(a,le);_e.snapshot&&_.push(_e.snapshot)}}else{const K=yield Xh(a.localStore,b);x=yield Bc(a.localStore,K),yield Ug(a,s_(K),b,!1,x.resumeToken)}h.push(x)}return a.Ca.d_(_),h})).apply(this,arguments)}function s_(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function gl(d){return i=gt(d).localStore,gt(gt(i).persistence).Qi();var i}function oh(d,e,i,a){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,o.A)(function*(d,e,i,a){const h=gt(d);if(h.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(i){case"current":case"not-current":{const b=yield $c(h.localStore,Ol(_[0])),x=As.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,Pi.EMPTY_BYTE_STRING);yield Jl(h,b,x);break}case"rejected":yield Hl(h.localStore,e,!0),fl(h,e,a);break;default:Lt()}})).apply(this,arguments)}function _y(d,e,i){return wp.apply(this,arguments)}function wp(){return(wp=(0,o.A)(function*(d,e,i){const a=Ap(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){we("SyncEngine","Adding an already active target "+h);continue}const _=yield Xh(a.localStore,h),b=yield Bc(a.localStore,_);yield Ug(a,s_(_),b.targetId,!1,b.resumeToken),Ju(a.remoteStore,b)}for(const h of i)a.Ma.has(h)&&(yield Hl(a.localStore,h,!1).then(()=>{hl(a.remoteStore,h),fl(a,h)}).catch(kn))}})).apply(this,arguments)}function Ap(d){const e=gt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e_.bind(null,e),e.Ca.d_=Ng.bind(null,e.eventManager),e.Ca.$a=up.bind(null,e.eventManager),e}function Dp(d){const e=gt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t_.bind(null,e),e}let sd=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var a=this;return(0,o.A)(function*(){a.serializer=va(i.databaseInfo.databaseId),a.sharedClientState=a.Wa(i),a.persistence=a.Ga(i),yield a.persistence.start(),a.localStore=a.za(i),a.gcScheduler=a.ja(i,a.localStore),a.indexBackfillerScheduler=a.Ha(i,a.localStore)})()}ja(i,a){return null}Ha(i,a){return null}za(i){return Bd(this.persistence,new Tg,i.initialUser,this.serializer)}Ga(i){return new Kh($u.Zr,this.serializer)}Wa(i){return new S}terminate(){var i=this;return(0,o.A)(function*(){var a,h;null===(a=i.gcScheduler)||void 0===a||a.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Qg extends sd{constructor(e,i,a){super(),this.Ja=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,o.A)(function*(){yield i().call(a,e),yield a.Ja.initialize(a,e),yield Dp(a.Ja.syncEngine),yield Jd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Bd(this.persistence,new Tg,e.initialUser,this.serializer)}ja(e,i){return new kc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}Ha(e,i){const a=new M(i,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const i=Gu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new jd(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,Ho(),ya(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class o_ extends Qg{constructor(e,i){super(e,i,!1),this.Ja=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,o.A)(function*(){yield i().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:r_.bind(null,h),ro:oh.bind(null,h),io:_y.bind(null,h),Qi:gl.bind(null,h),eo:n_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,o.A)(function*(b){yield function my(d,e){return Yg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const i=Ho();if(!v.D(i))throw new st(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Gu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(i,e.asyncQueue,a,e.clientId,e.initialUser)}}let ah=(()=>{class d{initialize(i,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>af(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Kg.bind(null,h.syncEngine),yield Mg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new nd}createDatastore(i){const a=va(i.databaseInfo.databaseId),h=new li(i.databaseInfo);return new rp(i.authCredentials,i.appCheckCredentials,h,a)}createRemoteStore(i){return h=this.localStore,_=this.datastore,b=i.asyncQueue,x=a=>af(this.syncEngine,a,0),L=he.D()?new he:new X,new Dg(h,_,b,x,L);var h,_,b,x,L}createSyncEngine(i,a){return function(_,b,x,L,K,le,_e){const We=new Qm(_,b,x,L,K,le);return _e&&(We.Qa=!0),We}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){var i=this;return(0,o.A)(function*(){var a,h,_;yield(_=(0,o.A)(function*(x){const L=gt(x);we("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield Qu(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(i.remoteStore),null===(a=i.datastore)||void 0===a||a.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function df(d,e=10240){let i=0;return{read:()=>(0,o.A)(function*(){if(i<d.byteLength){const a={value:d.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ea{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout(()=>{this.muted||e(i)},0)}}class hf{constructor(e,i){this.Xa=e,this.serializer=i,this.metadata=new ln,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const i=yield e.nu();if(null===i)return null;const a=e.eu.decode(i),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new hy(JSON.parse(_),i.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}iu(e){var i=this;return(0,o.A)(function*(){for(;i.buffer.length<e;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const a=i.eu.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const i=yield e.Xa.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class a_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,o.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new st(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,x){const L=gt(b),K={documents:x.map(wt=>Br(L.serializer,wt))},le=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,yn.emptyPath(),K,x.length),_e=new Map;le.forEach(wt=>{const qt=function Su(d,e){return"found"in e?function(a,h){Yt(!!h.found);const _=lo(a,h.found.name),b=ls(h.found.updateTime),x=h.found.createTime?ls(h.found.createTime):Ht.min(),L=new Fe({mapValue:{fields:h.found.fields}});return bt.newFoundDocument(_,b,x,L)}(d,e):"missing"in e?function(a,h){Yt(!!h.missing),Yt(!!h.readTime);const _=lo(a,h.missing),b=ls(h.readTime);return bt.newNoDocument(_,b)}(d,e):Lt()}(L.serializer,wt);_e.set(qt.key.toString(),qt)});const We=[];return x.forEach(wt=>{const qt=_e.get(wt.toString());Yt(!!qt),We.push(qt)}),We}),function _(b,x){return h.apply(this,arguments)})(i.datastore,e);var h;return a.forEach(h=>i.recordVersion(h)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new ks(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,h)=>{const _=Wt.fromPath(h);e.mutations.push(new ua(_,e.precondition(_)))}),yield(a=(0,o.A)(function*(_,b){const x=gt(_),L={writes:b.map(K=>Ul(x.serializer,K))};yield x.Mo("Commit",x.serializer.databaseId,yn.emptyPath(),L)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Lt();i=Ht.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new st(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Ht.min())?Y.exists(!1):Y.updateTime(i):Y.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Ht.min()))throw new st(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(i)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c_{constructor(e,i,a,h,_){this.asyncQueue=e,this.datastore=i,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new Hd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const i=new a_(e.datastore),a=e.cu(i);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const i=this.updateFunction(e);return!ie(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Ac(i)}return!1}}class l_{constructor(e,i,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=h,this.user=Ze.UNAUTHENTICATED,this.clientId=jn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var x=(0,o.A)(function*(L){we("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(a,x=>(we("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(a){const h=ql(a,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function u_(d,e){return d_.apply(this,arguments)}function d_(){return d_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const i=d.configuration;yield e.initialize(i);let a=i.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(_){a.isEqual(_)||(yield mc(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),d_.apply(this,arguments)}function Ey(d,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const i=yield pf(d);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,d.configuration),d.setCredentialChangeListener(a=>Pg(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>Pg(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function pf(d){return h_.apply(this,arguments)}function h_(){return(h_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield u_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ue.FAILED_PRECONDITION||h.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Tn("Error using user provided cache. Falling back to memory cache: "+e),yield u_(d,new sd)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield u_(d,new sd);var h;return d._offlineComponents})).apply(this,arguments)}function ch(d){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ey(d,d._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield Ey(d,new ah))),d._onlineComponents})).apply(this,arguments)}function gf(d){return pf(d).then(e=>e.persistence)}function _l(d){return pf(d).then(e=>e.localStore)}function mf(d){return ch(d).then(e=>e.remoteStore)}function lh(d){return ch(d).then(e=>e.syncEngine)}function yl(d){return _f.apply(this,arguments)}function _f(){return(_f=(0,o.A)(function*(d){const e=yield ch(d),i=e.eventManager;return i.onListen=rd.bind(null,e.syncEngine),i.onUnlisten=Zm.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Jm.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jg.bind(null,e.syncEngine),i})).apply(this,arguments)}function em(d,e,i={}){const a=new ln;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,L,K){const le=new Ea({next:We=>{le.Za(),b.enqueueAndForget(()=>rh(_,_e));const wt=We.docs.has(x);!wt&&We.fromCache?K.reject(new st(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&We.fromCache&&L&&"server"===L.source?K.reject(new st(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(We)},error:We=>K.reject(We)}),_e=new Lg(J(x.path),le,{includeMetadataChanges:!0,_a:!0});return Og(_,_e)}(yield yl(d),d.asyncQueue,e,i,a)})),a.promise}function Sp(d,e,i={}){const a=new ln;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,L,K){const le=new Ea({next:We=>{le.Za(),b.enqueueAndForget(()=>rh(_,_e)),We.fromCache&&"server"===L.source?K.reject(new st(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(We)},error:We=>K.reject(We)}),_e=new Lg(x,le,{includeMetadataChanges:!0,_a:!0});return Og(_,_e)}(yield yl(d),d.asyncQueue,e,i,a)})),a.promise}function Dy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const uh=new Map;function ad(d,e,i){if(!i)throw new st(Ue.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function xp(d,e,i,a){if(!0===e&&!0===a)throw new st(Ue.INVALID_ARGUMENT,`${d} and ${i} cannot be used together.`)}function qc(d){if(!Wt.isDocumentKey(d))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Xs(d){if(Wt.isDocumentKey(d))throw new st(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function yc(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Lt()}function ui(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yc(d);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return d}function g_(d,e){if(e<=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class tm{constructor(e){var i,a;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,i,a,h){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ae;switch(a.type){case"firstParty":return new nt(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=uh.get(i);a&&(we("ComponentProvider","Removing Datastore"),uh.delete(i),a.terminate())}(this),Promise.resolve()}}function Sy(d,e,i,a={}){var h;const _=(d=ui(d,Yc))._getSettings(),b=`${e}:${i}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&Tn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let x,L;if("string"==typeof a.mockUserToken)x=a.mockUserToken,L=Ze.MOCK_USER;else{x=(0,fe.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Ze(K)}d._authCredentials=new ve(new Ke(x,L))}}class uo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Vs{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vs(this.firestore,e,this._key)}}class Qa extends uo{constructor(e,i,a){super(e,i,J(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vs(this.firestore,null,new Wt(e))}withConverter(e){return new Qa(this.firestore,e,this._path)}}function m_(d,e,...i){if(d=(0,fe.Ku)(d),ad("collection","path",e),d instanceof Yc){const a=yn.fromString(e,...i);return Xs(a),new Qa(d,null,a)}{if(!(d instanceof Vs||d instanceof Qa))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(yn.fromString(e,...i));return Xs(a),new Qa(d.firestore,null,a)}}function xy(d,e){if(d=ui(d,Yc),ad("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new uo(d,null,(a=e,new oo(yn.emptyPath(),a)));var a}function cd(d,e,...i){if(d=(0,fe.Ku)(d),1===arguments.length&&(e=jn.newId()),ad("doc","path",e),d instanceof Yc){const a=yn.fromString(e,...i);return qc(a),new Vs(d,null,new Wt(a))}{if(!(d instanceof Vs||d instanceof Qa))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(yn.fromString(e,...i));return qc(a),new Vs(d.firestore,d instanceof Qa?d.converter:null,new Wt(a))}}function Bv(d,e){return d=(0,fe.Ku)(d),e=(0,fe.Ku)(e),(d instanceof Vs||d instanceof Qa)&&(e instanceof Vs||e instanceof Qa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function yf(d,e){return d=(0,fe.Ku)(d),e=(0,fe.Ku)(e),d instanceof uo&&e instanceof uo&&d.firestore===e.firestore&&wo(d._query,e._query)&&d.converter===e.converter}class Pp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hd(this,"async_queue_retry"),this.Vu=()=>{const a=ya();a&&we("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const i=ya();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=ya();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new ln;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(i){if(!qn(i))throw i;we("AsyncQueue","Operation failed with retryable error: "+i)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,sn("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=i,i}enqueueAfterDelay(e,i,a){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const h=tf.createAndSchedule(this,e,i,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Lt()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let i;do{i=e.mu,yield i}while(i!==e.mu)})()}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function __(d){return function(i,a){if("object"!=typeof i||null===i)return!1;const h=i;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class y_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const nm=-1;class Ri extends Yc{constructor(e,i,a,h){super(e,i,a,h),this.type="firestore",this._queue=new Pp,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const i=e._firestoreClient.terminate();e._queue=new Pp(i),e._firestoreClient=void 0,yield i}})()}}function v_(d,e){const i="object"==typeof d?d:(0,oe.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,oe._getProvider)(i,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,fe.yU)("firestore");_&&Sy(h,..._)}return h}function Ss(d){if(d._terminated)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||rm(d),d._firestoreClient}function rm(d){var e,i,a;const h=d._freezeSettings(),_=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new kr(d._databaseId,L,d._persistenceKey,(le=h).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,Dy(le.experimentalLongPollingOptions),le.useFetchStreams));var L,le;d._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new l_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const L=x?._online.build();return{_offline:x?._offline.build(L),_online:L}}(d._componentsProvider))}function Rp(d,e){Tn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=d._freezeSettings();return Op(d,ah.provider,{build:a=>new Qg(a,i.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function Zl(d){return E_.apply(this,arguments)}function E_(){return(E_=(0,o.A)(function*(d){Tn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();Op(d,ah.provider,{build:i=>new o_(i,e.cacheSizeBytes)})})).apply(this,arguments)}function Op(d,e,i){if((d=ui(d,Ri))._firestoreClient||d._terminated)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:i},rm(d)}function Py(d){if(d._initialized&&!d._terminated)throw new st(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ln;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(i=(0,o.A)(function*(h){if(!ae.D())return Promise.resolve();const _=h+"main";yield ae.delete(_)}),function a(h){return i.apply(this,arguments)})(Gu(d._databaseId,d._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function im(d){return function(i){const a=new ln;return i.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function py(d,e){return Hg.apply(this,arguments)}(yield lh(i),a)})),a.promise}(Ss(d=ui(d,Ri)))}function My(d){return function Zg(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield gf(d),i=yield mf(d);return e.setNetworkEnabled(!0),function(h){const _=gt(h);return _.L_.delete(0),Yu(_)}(i)}))}(Ss(d=ui(d,Ri)))}function $v(d){return function by(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield gf(d),i=yield mf(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(_){const b=gt(_);b.L_.add(0),yield Qu(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(i);var a}))}(Ss(d=ui(d,Ri)))}function b_(d,e){const i=Ss(d=ui(d,Ri)),a=new y_;return function Iy(d,e,i,a){const h=function(b,x){let L;return L="string"==typeof b?cc().encode(b):b,le=function(le,_e){if(le instanceof Uint8Array)return df(le,void 0);if(le instanceof ArrayBuffer)return df(new Uint8Array(le),void 0);if(le instanceof ReadableStream)return le.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new hf(le,x);var le}(i,va(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function yy(d,e,i){const a=gt(d);var h;(h=(0,o.A)(function*(b,x,L){try{const K=yield x.getMetadata();if(yield function(qt,En){const cn=gt(qt),tr=ls(En.createTime);return cn.persistence.runTransaction("hasNewerBundle","readonly",yr=>cn.Gr.getBundleMetadata(yr,En.id)).then(yr=>!!yr&&yr.createTime.compareTo(tr)>=0)}(b.localStore,K))return yield x.close(),L._completeWith({taskState:"Success",documentsLoaded:(qt=K).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Xl(K));const le=new nf(K,b.localStore,x.serializer);let _e=yield x.Ua();for(;_e;){const wt=yield le.la(_e);wt&&L._updateProgress(wt),_e=yield x.Ua()}const We=yield le.complete();return yield Jl(b,We.Ia,void 0),yield function(qt,En){const cn=gt(qt);return cn.persistence.runTransaction("Save bundle","readwrite",tr=>cn.Gr.saveBundleMetadata(tr,En))}(b.localStore,K),L._completeWith(We.progress),Promise.resolve(We.Pa)}catch(K){return Tn("SyncEngine",`Loading bundle failed with ${K}`),L._failWith(K),Promise.resolve(new Set)}var qt}),function _(b,x,L){return h.apply(this,arguments)})(a,e,i).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield lh(d),h,a)}))}(i,d._databaseId,e,a),a}function tE(d,e){return function wy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const _=gt(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield _l(d),e)}))}(Ss(d=ui(d,Ri)),e).then(i=>i?new uo(d,null,i.query):null)}class ld{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ld(Pi.fromBase64String(e))}catch(i){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ld(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dh{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vl{constructor(e){this._methodName=e}}class sm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}class vf{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const C_=/^__.*__$/;class Ef{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new vi(e,this.data,this.fieldMask,i,this.fieldTransforms):new Pr(e,this.data,i,this.fieldTransforms)}}class om{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new vi(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function am(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class ud{constructor(e,i,a,h,_,b){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(am(this.Cu)&&C_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cm{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||va(e)}Qu(e,i,a,h=!1){return new ud({Cu:e,methodName:i,qu:a,path:ir.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vc(d){const e=d._freezeSettings(),i=va(d._databaseId);return new cm(d._databaseId,!!e.ignoreUndefinedProperties,i)}function bf(d,e,i,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,i,h);A_("Data must be an object, but it was:",b,a);const x=w_(a,b);let L,K;if(_.merge)L=new Ti(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const le=[];for(const _e of _.mergeFields){const We=um(e,_e,i);if(!b.contains(We))throw new st(Ue.INVALID_ARGUMENT,`Field '${We}' is specified in your field mask but missing from your input data.`);Fy(le,We)||le.push(We)}L=new Ti(le),K=b.fieldTransforms.filter(_e=>L.covers(_e.field))}else L=null,K=b.fieldTransforms;return new Ef(new Fe(x),L,K)}class hh extends vl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function kp(d,e,i){return new ud({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Oy extends vl{_toFieldTransform(e){return new P(e.path,new ic)}isEqual(e){return e instanceof Oy}}class Fp extends vl{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=kp(this,e,!0),a=this.Ku.map(_=>eu(_,i)),h=new Xo(a);return new P(e.path,h)}isEqual(e){return e instanceof Fp&&(0,fe.bD)(this.Ku,e.Ku)}}class fh extends vl{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=kp(this,e,!0),a=this.Ku.map(_=>eu(_,i)),h=new ja(a);return new P(e.path,h)}isEqual(e){return e instanceof fh&&(0,fe.bD)(this.Ku,e.Ku)}}class T_ extends vl{constructor(e,i){super(e),this.$u=i}_toFieldTransform(e){const i=new la(e.serializer,nl(e.serializer,this.$u));return new P(e.path,i)}isEqual(e){return e instanceof T_&&this.$u===e.$u}}function lm(d,e,i,a){const h=d.Qu(1,e,i);A_("Data must be an object, but it was:",h,a);const _=[],b=Fe.empty();Tr(a,(L,K)=>{const le=ph(e,L,i);K=(0,fe.Ku)(K);const _e=h.Nu(le);if(K instanceof hh)_.push(le);else{const We=eu(K,_e);null!=We&&(_.push(le),b.set(le,We))}});const x=new Ti(_);return new om(b,x,h.fieldTransforms)}function I_(d,e,i,a,h,_){const b=d.Qu(1,e,i),x=[um(e,a,i)],L=[h];if(_.length%2!=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let We=0;We<_.length;We+=2)x.push(um(e,_[We])),L.push(_[We+1]);const K=[],le=Fe.empty();for(let We=x.length-1;We>=0;--We)if(!Fy(K,x[We])){const wt=x[We];let qt=L[We];qt=(0,fe.Ku)(qt);const En=b.Nu(wt);if(qt instanceof hh)K.push(wt);else{const cn=eu(qt,En);null!=cn&&(K.push(wt),le.set(wt,cn))}}const _e=new Ti(K);return new om(le,_e,b.fieldTransforms)}function Ny(d,e,i,a=!1){return eu(i,d.Qu(a?4:3,e))}function eu(d,e){if(ky(d=(0,fe.Ku)(d)))return A_("Unsupported field value:",e,d),w_(d,e);if(d instanceof vl)return function(a,h){if(!am(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const x of a){let L=eu(x,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),_.push(L),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,fe.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return nl(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=Ut.fromDate(a);return{timestampValue:fa(h.serializer,_)}}if(a instanceof Ut){const _=new Ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fa(h.serializer,_)}}if(a instanceof sm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ld)return{bytesValue:Sd(h.serializer,a._byteString)};if(a instanceof Vs){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:ol(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof vf)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(L=>{if("number"!=typeof L)throw x.Bu("VectorValues must only contain numeric values.");return Yo(x.serializer,L)})}}}}};var x;throw h.Bu(`Unsupported field value: ${yc(a)}`)}(d,e)}function w_(d,e){const i={};return qi(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(d,(a,h)=>{const _=eu(h,e.Mu(a));null!=_&&(i[a]=_)}),{mapValue:{fields:i}}}function ky(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Ut||d instanceof sm||d instanceof ld||d instanceof Vs||d instanceof vl||d instanceof vf)}function A_(d,e,i){if(!ky(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=yc(i);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function um(d,e,i){if((e=(0,fe.Ku)(e))instanceof dh)return e._internalPath;if("string"==typeof e)return ph(d,e);throw Cf("Field path arguments must be of type string or ",d,!1,void 0,i)}const Hv=new RegExp("[~\\*/\\[\\]]");function ph(d,e,i){if(e.search(Hv)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,i);try{return new dh(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,i)}}function Cf(d,e,i,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;i&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(_||b)&&(L+=" (found",_&&(L+=` in field ${a}`),b&&(L+=` in document ${h}`),L+=")"),new st(Ue.INVALID_ARGUMENT,x+d+L)}function Fy(d,e){return d.some(i=>i.isEqual(e))}class Tf{constructor(e,i,a,h,_){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class D_ extends Tf{data(){return super.data()}}function gh(d,e){return"string"==typeof e?ph(d,e):e instanceof dh?e._internalPath:e._delegate._internalPath}function Ly(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class Lp extends dm{}function Vy(d,e,...i){let a=[];e instanceof dm&&a.push(e),a=a.concat(i),function(_){const b=_.filter(L=>L instanceof tu).length,x=_.filter(L=>L instanceof hm).length;if(b>1||b>0&&x>0)throw new st(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class hm extends Lp{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new hm(e,i,a)}_apply(e){const i=this._parse(e);return Af(e._query,i),new uo(e.firestore,e.converter,to(e._query,i))}_parse(e){const i=vc(e.firestore);return function(_,b,x,L,K,le,_e){let We;if(K.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){By(_e,le);const wt=[];for(const qt of _e)wt.push(S_(L,_,qt));We={arrayValue:{values:wt}}}else We=S_(L,_,_e)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||By(_e,le),We=Ny(x,"where",_e,"in"===le||"not-in"===le);return Qn.create(K,le,We)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}function zv(d,e,i){const a=e,h=gh("where",d);return hm._create(h,a,i)}class tu extends dm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tu(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:mr.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const L of x)Af(b,L),b=to(b,L)}(e._query,i),new uo(e.firestore,e.converter,to(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mh extends Lp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mh(e,i)}_apply(e){const i=function(h,_,b){if(null!==h.startAt)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hr(_,b)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new oo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,i))}}function Wv(d,e="asc"){const i=e,a=gh("orderBy",d);return mh._create(a,i)}class Up extends Lp{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new Up(e,i,a)}_apply(e){return new uo(e.firestore,e.converter,ps(e._query,this._limit,this._limitType))}}function Kv(d){return g_("limit",d),Up._create("limit",d,"F")}function qv(d){return g_("limitToLast",d),Up._create("limitToLast",d,"L")}class fm extends Lp{constructor(e,i,a){super(),this.type=e,this._docOrFields=i,this._inclusive=a}static _create(e,i,a){return new fm(e,i,a)}_apply(e){const i=jp(e,this.type,this._docOrFields,this._inclusive);return new uo(e.firestore,e.converter,(_=i,new oo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function Uy(...d){return fm._create("startAt",d,!0)}function jy(...d){return fm._create("startAfter",d,!1)}class If extends Lp{constructor(e,i,a){super(),this.type=e,this._docOrFields=i,this._inclusive=a}static _create(e,i,a){return new If(e,i,a)}_apply(e){const i=jp(e,this.type,this._docOrFields,this._inclusive);return new uo(e.firestore,e.converter,(_=i,new oo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function Yv(...d){return If._create("endBefore",d,!1)}function wf(...d){return If._create("endAt",d,!0)}function jp(d,e,i,a){if(i[0]=(0,fe.Ku)(i[0]),i[0]instanceof Tf)return function(_,b,x,L,K){if(!L)throw new st(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const le=[];for(const _e of Be(_))if(_e.field.isKeyField())le.push(pr(b,L.key));else{const We=L.data.field(_e.field);if(ys(We))throw new st(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const wt=_e.field.canonicalString();throw new st(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}le.push(We)}return new an(le,K)}(d._query,d.firestore._databaseId,e,i[0]._document,a);{const h=vc(d.firestore);return function(b,x,L,K,le,_e){const We=b.explicitOrderBy;if(le.length>We.length)throw new st(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let qt=0;qt<le.length;qt++){const En=le[qt];if(We[qt].field.isKeyField()){if("string"!=typeof En)throw new st(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof En}`);if(!ce(b)&&-1!==En.indexOf("/"))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${En}' contains a slash.`);const cn=b.path.child(yn.fromString(En));if(!Wt.isDocumentKey(cn))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const tr=new Wt(cn);wt.push(pr(x,tr))}else{const cn=Ny(L,K,En);wt.push(cn)}}return new an(wt,_e)}(d._query,d.firestore._databaseId,h,e,i,a)}}function S_(d,e,i){if("string"==typeof(i=(0,fe.Ku)(i))){if(""===i)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==i.indexOf("/"))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(yn.fromString(i));if(!Wt.isDocumentKey(a))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return pr(d,new Wt(a))}if(i instanceof Vs)return pr(d,i._key);throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(i)}.`)}function By(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Af(d,e){const i=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new st(Ue.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Bp{convertValue(e,i="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,(h,_)=>{a[h]=this.convertValue(_,i)}),a}convertVectorValue(e){var i,a,h;const _=null===(h=null===(a=null===(i=e.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>si(b.doubleValue));return new vf(_)}convertGeoPoint(e){return new sm(si(e.latitude),si(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=To(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xs(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new Ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=yn.fromString(e);Yt(w(a));const h=new hi(a.get(1),a.get(3)),_=new Wt(a.popFirst(5));return h.isEqual(i)||sn(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),_}}function $p(d,e,i){let a;return a=d?i&&(i.merge||i.mergeFields)?d.toFirestore(e,i):d.toFirestore(e):e,a}class $y extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ld(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,i)}}class Df{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends Tf{constructor(e,i,a,h,_,b){super(e,i,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Ec extends nu{data(e={}){return super.data(e)}}class bl{constructor(e,i,a,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new Df(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Ec(this._firestore,this._userDataWriter,a.key,a,new Df(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new Ec(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Df(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const L=new Ec(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Df(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,le=-1;return 0!==x.type&&(K=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),le=b.indexOf(x.doc.key)),{type:Qv(x.type),doc:L,oldIndex:K,newIndex:le}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Qv(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}function Jv(d,e){return d instanceof nu&&e instanceof nu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof bl&&e instanceof bl&&d._firestore===e._firestore&&yf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function Zv(d){d=ui(d,Vs);const e=ui(d.firestore,Ri);return em(Ss(e),d._key).then(i=>R_(e,d,i))}class Cl extends Bp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ld(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,i)}}function Tl(d){d=ui(d,Vs);const e=ui(d.firestore,Ri),i=Ss(e),a=new Cl(e);return function od(d,e){const i=new ln;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const L=yield function(le,_e){const We=gt(le);return We.persistence.runTransaction("read document","readonly",wt=>We.localDocuments.getDocument(wt,_e))}(_,b);L.isFoundDocument()?x.resolve(L):L.isNoDocument()?x.resolve(null):x.reject(new st(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const K=ql(L,`Failed to get document '${b} from cache`);x.reject(K)}}),function h(_,b,x){return a.apply(this,arguments)})(yield _l(d),e,i);var a})),i.promise}(i,d._key).then(h=>new nu(e,a,d._key,h,new Df(null!==h&&h.hasLocalMutations,!0),d.converter))}function zy(d){d=ui(d,Vs);const e=ui(d.firestore,Ri);return em(Ss(e),d._key,{source:"server"}).then(i=>R_(e,d,i))}function e0(d){d=ui(d,uo);const e=ui(d.firestore,Ri),i=Ss(e),a=new Cl(e);return Ly(d._query),Sp(i,d._query).then(h=>new bl(e,a,d,h))}function iE(d){d=ui(d,uo);const e=ui(d.firestore,Ri),i=Ss(e),a=new Cl(e);return function Cy(d,e){const i=new ln;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const L=yield _c(_,b,!0),K=new rf(b,L.Ts),le=K.ma(L.documents),_e=K.applyChanges(le,!1);x.resolve(_e.snapshot)}catch(L){const K=ql(L,`Failed to execute query '${b} against cache`);x.reject(K)}}),function h(_,b,x){return a.apply(this,arguments)})(yield _l(d),e,i);var a})),i.promise}(i,d._query).then(h=>new bl(e,a,d,h))}function Po(d){d=ui(d,uo);const e=ui(d.firestore,Ri),i=Ss(e),a=new Cl(e);return Sp(i,d._query,{source:"server"}).then(h=>new bl(e,a,d,h))}function t0(d,e,i){d=ui(d,Vs);const a=ui(d.firestore,Ri),h=$p(d.converter,e,i);return _h(a,[bf(vc(a),"setDoc",d._key,h,null!==d.converter,i).toMutation(d._key,Y.none())])}function P_(d,e,i,...a){d=ui(d,Vs);const h=ui(d.firestore,Ri),_=vc(h);let b;return b="string"==typeof(e=(0,fe.Ku)(e))||e instanceof dh?I_(_,"updateDoc",d._key,e,i,a):lm(_,"updateDoc",d._key,e),_h(h,[b.toMutation(d._key,Y.exists(!0))])}function n0(d){return _h(ui(d.firestore,Ri),[new ks(d._key,Y.none())])}function r0(d,e){const i=ui(d.firestore,Ri),a=cd(d),h=$p(d.converter,e);return _h(i,[bf(vc(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function M_(d,...e){var i,a,h;d=(0,fe.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||__(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(__(e[b])){const _e=e[b];e[b]=null===(i=_e.next)||void 0===i?void 0:i.bind(_e),e[b+1]=null===(a=_e.error)||void 0===a?void 0:a.bind(_e),e[b+2]=null===(h=_e.complete)||void 0===h?void 0:h.bind(_e)}let L,K,le;if(d instanceof Vs)K=ui(d.firestore,Ri),le=J(d._key.path),L={next:_e=>{e[b]&&e[b](R_(K,d,_e))},error:e[b+1],complete:e[b+2]};else{const _e=ui(d,uo);K=ui(_e.firestore,Ri),le=_e._query;const We=new Cl(K);L={next:wt=>{e[b]&&e[b](new bl(K,We,_e,wt))},error:e[b+1],complete:e[b+2]},Ly(d._query)}return function(We,wt,qt,En){const cn=new Ea(En),tr=new Lg(wt,cn,qt);return We.asyncQueue.enqueueAndForget((0,o.A)(function*(){return Og(yield yl(We),tr)})),()=>{cn.Za(),We.asyncQueue.enqueueAndForget((0,o.A)(function*(){return rh(yield yl(We),tr)}))}}(Ss(K),le,x,L)}function Wy(d,e){return function Ty(d,e){const i=new Ea(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yl(d),_=i,gt(h).Y_.add(_),void _.next();var h,_})),()=>{i.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield yl(d),_=i,void gt(h).Y_.delete(_);var h,_}))}}(Ss(d=ui(d,Ri)),__(e)?e:{next:e})}function _h(d,e){return function(a,h){const _=new ln;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function yp(d,e,i){return id.apply(this,arguments)}(yield lh(a),h,_)})),_.promise}(Ss(d),e)}function R_(d,e,i){const a=i.docs.get(e._key),h=new Cl(d);return new nu(d,h,e._key,a,new Df(i.hasPendingWrites,i.fromCache),e.converter)}const zp={maxAttempts:5};class Wp{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=vc(e)}set(e,i,a){this._verifyNotCommitted();const h=ru(e,this._firestore),_=$p(h.converter,i,a),b=bf(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,i,a,...h){this._verifyNotCommitted();const _=ru(e,this._firestore);let b;return b="string"==typeof(i=(0,fe.Ku)(i))||i instanceof dh?I_(this._dataReader,"WriteBatch.update",_._key,i,a,h):lm(this._dataReader,"WriteBatch.update",_._key,i),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=ru(e,this._firestore);return this._mutations=this._mutations.concat(new ks(i._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ru(d,e){if((d=(0,fe.Ku)(d)).firestore!==e)throw new st(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class Zy extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=vc(i)}get(i){const a=ru(i,this._firestore),h=new $y(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return Lt();const b=_[0];if(b.isFoundDocument())return new Tf(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Tf(this._firestore,h,a._key,null,a.converter);throw Lt()})}set(i,a,h){const _=ru(i,this._firestore),b=$p(_.converter,a,h),x=bf(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(i,a,h,..._){const b=ru(i,this._firestore);let x;return x="string"==typeof(a=(0,fe.Ku)(a))||a instanceof dh?I_(this._dataReader,"Transaction.update",b._key,a,h,_):lm(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,x),this}delete(i){const a=ru(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=ru(e,this._firestore),a=new Cl(this._firestore);return super.get(e).then(h=>new nu(this._firestore,a,i._key,h._document,new Df(!1,!1),i.converter))}}function l0(d,e,i){d=ui(d,Ri);const a=Object.assign(Object.assign({},zp),i);return function(_){if(_.maxAttempts<1)throw new st(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,x){const L=new ln;return _.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function Jg(d){return ch(d).then(e=>e.datastore)}(_);new c_(_.asyncQueue,K,x,b,L).au()})),L.promise}(Ss(d),h=>e(new Zy(d,h)),a)}function u0(){return new hh("deleteField")}function ev(){return new Oy("serverTimestamp")}function d0(...d){return new Fp("arrayUnion",d)}function tv(...d){return new fh("arrayRemove",d)}function oE(d){return new T_("increment",d)}!function(e,i=!0){ke=oe.SDK_VERSION,(0,oe._registerComponent)(new r.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),x=new Ri(new je(a.getProvider("auth-internal")),new Pn(a.getProvider("app-check-internal")),function(K,le){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hi(K.options.projectId,le)}(b,h),b);return _=Object.assign({useFetchStreams:i},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(pe,"4.7.3",e),(0,oe.registerVersion)(pe,"4.7.3","esm2017")}()},4535:(dn,Je,k)=>{k.d(Je,{Ad:()=>_n,D5:()=>wn,KR:()=>zi,Mp:()=>Bs,Mx:()=>ri,TZ:()=>Xt,UC:()=>Tr,UY:()=>or,XR:()=>hs,ZH:()=>Mn,_w:()=>pr,bp:()=>Rs,c7:()=>ai,nb:()=>ss,nw:()=>Dn,p_:()=>gr,qk:()=>is,uj:()=>sn,xc:()=>Un,yb:()=>pi});var o=k(467),oe=k(7852),r=k(1076),ye=k(1362);const fe="firebasestorage.googleapis.com",Te="storageBucket";class z extends r.g{constructor(Q,De,Fe=0){super(be(Q),`Firebase Storage: ${De} (${be(Q)})`),this.status_=Fe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,z.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return be(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ne=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(ne||{});function be(Z){return"storage/"+Z}function at(){return new z(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rn(){return new z(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ze(){return new z(ne.CANCELED,"User canceled the upload/download.")}function tt(){return new z(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sn(Z){return new z(ne.INVALID_ARGUMENT,Z)}function Tn(){return new z(ne.APP_DELETED,"The Firebase app was deleted.")}function or(Z){return new z(ne.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lt(Z,Q){return new z(ne.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function Yt(Z){throw new z(ne.INTERNAL_ERROR,"Internal error: "+Z)}class Xt{constructor(Q,De){this.bucket=Q,this.path_=De}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,De){let Fe;try{Fe=Xt.makeFromUrl(Q,De)}catch{return new Xt(Q,"")}if(""===Fe.path)return Fe;throw function Ze(Z){return new z(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,De){let Fe=null;const it="([A-Za-z0-9.\\-_]+)",Vn=new RegExp("^gs://"+it+"(/(.*))?$","i");function hr(Gi){Gi.path_=decodeURIComponent(Gi.path)}const Xn=De.replace(/[.]/g,"\\."),Fr=[{regex:Vn,indices:{bucket:1,path:3},postModify:function bt(Gi){"/"===Gi.path.charAt(Gi.path.length-1)&&(Gi.path_=Gi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Xn}/v[A-Za-z0-9_]+/b/${it}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${De===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":De}/${it}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let Gi=0;Gi<Fr.length;Gi++){const Bi=Fr[Gi],Vr=Bi.regex.exec(Q);if(Vr){let fs=Vr[Bi.indices.path];fs||(fs=""),Fe=new Xt(Vr[Bi.indices.bucket],fs),Bi.postModify(Fe);break}}if(null==Fe)throw function pe(Z){return new z(ne.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return Fe}}class gt{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function ve(Z){return"string"==typeof Z||Z instanceof String}function je(Z){return ot()&&Z instanceof Blob}function ot(){return typeof Blob<"u"}function nt(Z,Q,De,Fe){if(Fe<Q)throw sn(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(Fe>De)throw sn(`Invalid value for '${Z}'. Expected ${De} or less.`)}function Bt(Z,Q,De){let Fe=Q;return null==De&&(Fe=`https://${Q}`),`${De}://${Fe}/v0${Z}`}function Pn(Z){const Q=encodeURIComponent;let De="?";for(const Fe in Z)Z.hasOwnProperty(Fe)&&(De=De+(Q(Fe)+"=")+Q(Z[Fe])+"&");return De=De.slice(0,-1),De}var fr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(fr||{});function hn(Z,Q){const De=Z>=500&&Z<600,it=-1!==[408,429].indexOf(Z),bt=-1!==Q.indexOf(Z);return De||it||bt}class jn{constructor(Q,De,Fe,it,bt,an,Vn,An,hr,jr,Xn,Qn=!0){this.url_=Q,this.method_=De,this.headers_=Fe,this.body_=it,this.successCodes_=bt,this.additionalRetryCodes_=an,this.callback_=Vn,this.errorCallback_=An,this.timeout_=hr,this.progressCallback_=jr,this.connectionFactory_=Xn,this.retry=Qn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((mr,Ii)=>{this.resolve_=mr,this.reject_=Ii,this.start_()})}start_(){const De=(Fe,it)=>{const bt=this.resolve_,an=this.reject_,Vn=it.connection;if(it.wasSuccessCode)try{const An=this.callback_(Vn,Vn.getResponse());!function ln(Z){return void 0!==Z}(An)?bt():bt(An)}catch(An){an(An)}else if(null!==Vn){const An=at();An.serverResponse=Vn.getErrorText(),an(this.errorCallback_?this.errorCallback_(Vn,An):An)}else an(it.canceled?this.appDelete_?Tn():ze():rn())};this.canceled_?De(0,new nn(!1,null,!0)):this.backoffId_=function Ue(Z,Q,De){let Fe=1,it=null,bt=null,an=!1,Vn=0;function An(){return 2===Vn}let hr=!1;function jr(...Si){hr||(hr=!0,Q.apply(null,Si))}function Xn(Si){it=setTimeout(()=>{it=null,Z(mr,An())},Si)}function Qn(){bt&&clearTimeout(bt)}function mr(Si,...es){if(hr)return void Qn();if(Si)return Qn(),void jr.call(null,Si,...es);if(An()||an)return Qn(),void jr.call(null,Si,...es);let Fr;Fe<64&&(Fe*=2),1===Vn?(Vn=2,Fr=0):Fr=1e3*(Fe+Math.random()),Xn(Fr)}let Ii=!1;function ci(Si){Ii||(Ii=!0,Qn(),!hr&&(null!==it?(Si||(Vn=2),clearTimeout(it),Xn(0)):Si||(Vn=1)))}return Xn(0),bt=setTimeout(()=>{an=!0,ci(!0)},De),ci}((Fe,it)=>{if(it)return void Fe(!1,new nn(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const an=Vn=>{null!==this.progressCallback_&&this.progressCallback_(Vn.loaded,Vn.lengthComputable?Vn.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(an),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(an),this.pendingConnection_=null;const Vn=bt.getErrorCode()===fr.NO_ERROR,An=bt.getStatus();if(!Vn||hn(An,this.additionalRetryCodes_)&&this.retry){const jr=bt.getErrorCode()===fr.ABORT;return void Fe(!1,new nn(!1,null,jr))}const hr=-1!==this.successCodes_.indexOf(An);Fe(!0,new nn(hr,bt))})},De,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function st(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nn{constructor(Q,De,Fe){this.wasSuccessCode=Q,this.connection=De,this.canceled=!!Fe}}function Ur(...Z){const Q=function yn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const De=new Q;for(let Fe=0;Fe<Z.length;Fe++)De.append(Z[Fe]);return De.getBlob()}if(ot())return new Blob(Z);throw new z(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jn{constructor(Q,De){this.data=Q,this.contentType=De||null}}function Mn(Z,Q){switch(Z){case Dn.RAW:return new Jn(qr(Q));case Dn.BASE64:case Dn.BASE64URL:return new Jn(Zr(Z,Q));case Dn.DATA_URL:return new Jn(function ni(Z){const Q=new Zn(Z);return Q.base64?Zr(Dn.BASE64,Q.rest):function Or(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Lt(Dn.DATA_URL,"Malformed data URL.")}return qr(Q)}(Q.rest)}(Q),function ds(Z){return new Zn(Z).contentType}(Q))}throw at()}function qr(Z){const Q=[];for(let De=0;De<Z.length;De++){let Fe=Z.charCodeAt(De);Fe<=127?Q.push(Fe):Fe<=2047?Q.push(192|Fe>>6,128|63&Fe):55296==(64512&Fe)?De<Z.length-1&&56320==(64512&Z.charCodeAt(De+1))?(Fe=65536|(1023&Fe)<<10|1023&Z.charCodeAt(++De),Q.push(240|Fe>>18,128|Fe>>12&63,128|Fe>>6&63,128|63&Fe)):Q.push(239,191,189):56320==(64512&Fe)?Q.push(239,191,189):Q.push(224|Fe>>12,128|Fe>>6&63,128|63&Fe)}return new Uint8Array(Q)}function Zr(Z,Q){switch(Z){case Dn.BASE64:{const it=-1!==Q.indexOf("-"),bt=-1!==Q.indexOf("_");if(it||bt)throw Lt(Z,"Invalid character '"+(it?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const it=-1!==Q.indexOf("+"),bt=-1!==Q.indexOf("/");if(it||bt)throw Lt(Z,"Invalid character '"+(it?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let De;try{De=function Wt(Z){if(typeof atob>"u")throw function we(Z){return new z(ne.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(it){throw it.message.includes("polyfill")?it:Lt(Z,"Invalid character found")}const Fe=new Uint8Array(De.length);for(let it=0;it<De.length;it++)Fe[it]=De.charCodeAt(it);return Fe}class Zn{constructor(Q){this.base64=!1,this.contentType=null;const De=Q.match(/^data:([^,]+)?,/);if(null===De)throw Lt(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Fe=De[1]||null;null!=Fe&&(this.base64=function bn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(Fe,";base64"),this.contentType=this.base64?Fe.substring(0,Fe.length-7):Fe),this.rest=Q.substring(Q.indexOf(",")+1)}}class ri{constructor(Q,De){let Fe=0,it="";je(Q)?(this.data_=Q,Fe=Q.size,it=Q.type):Q instanceof ArrayBuffer?(De?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Fe=this.data_.length):Q instanceof Uint8Array&&(De?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Fe=Q.length),this.size_=Fe,this.type_=it}size(){return this.size_}type(){return this.type_}slice(Q,De){if(je(this.data_)){const it=function ir(Z,Q,De){return Z.webkitSlice?Z.webkitSlice(Q,De):Z.mozSlice?Z.mozSlice(Q,De):Z.slice?Z.slice(Q,De):null}(this.data_,Q,De);return null===it?null:new ri(it)}{const Fe=new Uint8Array(this.data_.buffer,Q,De-Q);return new ri(Fe,!0)}}static getBlob(...Q){if(ot()){const De=Q.map(Fe=>Fe instanceof ri?Fe.data_:Fe);return new ri(Ur.apply(null,De))}{const De=Q.map(an=>ve(an)?Mn(Dn.RAW,an).data:an.data_);let Fe=0;De.forEach(an=>{Fe+=an.byteLength});const it=new Uint8Array(Fe);let bt=0;return De.forEach(an=>{for(let Vn=0;Vn<an.length;Vn++)it[bt++]=an[Vn]}),new ri(it,!0)}}uploadData(){return this.data_}}function ar(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function Ae(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Gr(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function Ye(Z,Q){return Q}class ut{constructor(Q,De,Fe,it){this.server=Q,this.local=De||Q,this.writable=!!Fe,this.xform=it||Ye}}let ae=null;function At(){if(ae)return ae;const Z=[];Z.push(new ut("bucket")),Z.push(new ut("generation")),Z.push(new ut("metageneration")),Z.push(new ut("name","fullPath",!0));const De=new ut("name");De.xform=function Q(bt,an){return function Oe(Z){return!ve(Z)||Z.length<2?Z:Gr(Z)}(an)},Z.push(De);const it=new ut("size");return it.xform=function Fe(bt,an){return void 0!==an?Number(an):an},Z.push(it),Z.push(new ut("timeCreated")),Z.push(new ut("updated")),Z.push(new ut("md5Hash",null,!0)),Z.push(new ut("cacheControl",null,!0)),Z.push(new ut("contentDisposition",null,!0)),Z.push(new ut("contentEncoding",null,!0)),Z.push(new ut("contentLanguage",null,!0)),Z.push(new ut("contentType",null,!0)),Z.push(new ut("metadata","customMetadata",!0)),ae=Z,ae}function Wr(Z,Q,De){const Fe=ar(Q);return null===Fe?null:function qn(Z,Q,De){const Fe={type:"file"},it=De.length;for(let bt=0;bt<it;bt++){const an=De[bt];Fe[an.local]=an.xform(Fe,Q[an.server])}return function Kt(Z,Q){Object.defineProperty(Z,"ref",{get:function De(){const bt=new Xt(Z.bucket,Z.fullPath);return Q._makeStorageReference(bt)}})}(Fe,Z),Fe}(Z,Fe,De)}function yi(Z,Q){const De={},Fe=Q.length;for(let it=0;it<Fe;it++){const bt=Q[it];bt.writable&&(De[bt.server]=Z[bt.local])}return JSON.stringify(De)}const Ct="prefixes",$="items";class ie{constructor(Q,De,Fe,it){this.url=Q,this.method=De,this.handler=Fe,this.timeout=it,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(Z){if(!Z)throw at()}function lt(Z,Q){return function De(Fe,it){const bt=Wr(Z,it,Q);return ge(null!==bt),bt}}function mn(Z){return function Q(De,Fe){let it;return it=401===De.getStatus()?De.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new z(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ht(){return new z(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===De.getStatus()?function St(Z){return new z(ne.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===De.getStatus()?function Nt(Z){return new z(ne.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Fe,it.status=De.getStatus(),it.serverResponse=Fe.serverResponse,it}}function Rn(Z){const Q=mn(Z);return function De(Fe,it){let bt=Q(Fe,it);return 404===Fe.getStatus()&&(bt=function Ge(Z){return new z(ne.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),bt.serverResponse=it.serverResponse,bt}}function Er(Z,Q,De){const it=Bt(Q.fullServerUrl(),Z.host,Z._protocol),an=Z.maxOperationRetryTime,Vn=new ie(it,"GET",lt(Z,De),an);return Vn.errorHandler=Rn(Q),Vn}function Pe(Z,Q,De,Fe,it){const bt={};bt.prefix=Q.isRoot?"":Q.path+"/",De&&De.length>0&&(bt.delimiter=De),Fe&&(bt.pageToken=Fe),it&&(bt.maxResults=it);const Vn=Bt(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),hr=Z.maxOperationRetryTime,jr=new ie(Vn,"GET",function Mt(Z,Q){return function De(Fe,it){const bt=function F(Z,Q,De){const Fe=ar(De);return null===Fe?null:function M(Z,Q,De){const Fe={prefixes:[],items:[],nextPageToken:De.nextPageToken};if(De[Ct])for(const it of De[Ct]){const bt=it.replace(/\/$/,""),an=Z._makeStorageReference(new Xt(Q,bt));Fe.prefixes.push(an)}if(De[$])for(const it of De[$]){const bt=Z._makeStorageReference(new Xt(Q,it.name));Fe.items.push(bt)}return Fe}(Z,Q,Fe)}(Z,Q,it);return ge(null!==bt),bt}}(Z,Q.bucket),hr);return jr.urlParams=bt,jr.errorHandler=mn(Q),jr}function vn(Z,Q,De){const Fe=Object.assign({},De);return Fe.fullPath=Z.path,Fe.size=Q.size(),Fe.contentType||(Fe.contentType=function In(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Fe}class un{constructor(Q,De,Fe,it){this.current=Q,this.total=De,this.finalized=!!Fe,this.metadata=it||null}}function Xr(Z,Q){let De=null;try{De=Z.getResponseHeader("X-Goog-Upload-Status")}catch{ge(!1)}return ge(!!De&&-1!==(Q||["active"]).indexOf(De)),De}const Un={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ln(Z){switch(Z){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;default:return _n.ERROR}}class ur{constructor(Q,De,Fe){if(function Ke(Z){return"function"==typeof Z}(Q)||null!=De||null!=Fe)this.next=Q,this.error=De??void 0,this.complete=Fe??void 0;else{const bt=Q;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function Hr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let Yn=null;class Ee{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,De,Fe,it){if(this.sent_)throw Yt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(De,Q,!0),void 0!==it)for(const bt in it)it.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,it[bt].toString());return void 0!==Fe?this.xhr_.send(Fe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class zt extends Ee{initXhr(){this.xhr_.responseType="text"}}function ee(){return Yn?Yn():new zt}class Tr{constructor(Q,De,Fe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=De,this._metadata=Fe,this._mappings=At(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=it=>{if(this._request=void 0,this._chunkMultiplier=1,it._codeEquals(ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(hn(it.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();it=rn()}this._error=it,this._transition("error")}},this._metadataErrorHandler=it=>{this._request=void 0,it._codeEquals(ne.CANCELED)?this.completeTransitions_():(this._error=it,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((it,bt)=>{this._resolve=it,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return De=>this._updateProgress(Q+De)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([De,Fe])=>{switch(this._state){case"running":Q(De,Fe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,De)=>{const Fe=function _t(Z,Q,De,Fe,it){const bt=Q.bucketOnlyServerUrl(),an=vn(Q,Fe,it),Vn={name:an.fullPath},An=Bt(bt,Z.host,Z._protocol),jr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Fe.size()}`,"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=yi(an,De),Ii=new ie(An,"POST",function mr(ci){let Si;Xr(ci);try{Si=ci.getResponseHeader("X-Goog-Upload-URL")}catch{ge(!1)}return ge(ve(Si)),Si},Z.maxUploadRetryTime);return Ii.urlParams=Vn,Ii.headers=jr,Ii.body=Xn,Ii.errorHandler=mn(Q),Ii}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),it=this._ref.storage._makeRequest(Fe,ee,Q,De);this._request=it,it.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((De,Fe)=>{const it=function et(Z,Q,De,Fe){const An=new ie(De,"POST",function bt(hr){const jr=Xr(hr,["active","final"]);let Xn=null;try{Xn=hr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ge(!1)}Xn||ge(!1);const Qn=Number(Xn);return ge(!isNaN(Qn)),new un(Qn,Fe.size(),"final"===jr)},Z.maxUploadRetryTime);return An.headers={"X-Goog-Upload-Command":"query"},An.errorHandler=mn(Q),An}(this._ref.storage,this._ref._location,Q,this._blob),bt=this._ref.storage._makeRequest(it,ee,De,Fe);this._request=bt,bt.getPromise().then(an=>{this._request=void 0,this._updateProgress(an.current),this._needToFetchStatus=!1,an.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,De=new un(this._transferred,this._blob.size()),Fe=this._uploadUrl;this._resolveToken((it,bt)=>{let an;try{an=function fn(Z,Q,De,Fe,it,bt,an,Vn){const An=new un(0,0);if(an?(An.current=an.current,An.total=an.total):(An.current=0,An.total=Fe.size()),Fe.size()!==An.total)throw function Et(){return new z(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const hr=An.total-An.current;let jr=hr;it>0&&(jr=Math.min(jr,it));const Xn=An.current;let mr="";mr=0===jr?"finalize":hr===jr?"upload, finalize":"upload";const Ii={"X-Goog-Upload-Command":mr,"X-Goog-Upload-Offset":`${An.current}`},ci=Fe.slice(Xn,Xn+jr);if(null===ci)throw tt();const Fr=new ie(De,"POST",function Si(Gi,Bi){const Vr=Xr(Gi,["active","final"]),Io=An.current+jr,fs=Fe.size();let io;return io="final"===Vr?lt(Q,bt)(Gi,Bi):null,new un(Io,fs,"final"===Vr,io)},Q.maxUploadRetryTime);return Fr.headers=Ii,Fr.body=ci.uploadData(),Fr.progressCallback=Vn||null,Fr.errorHandler=mn(Z),Fr}(this._ref._location,this._ref.storage,Fe,this._blob,Q,this._mappings,De,this._makeProgressCallback())}catch(An){return this._error=An,void this._transition("error")}const Vn=this._ref.storage._makeRequest(an,ee,it,bt,!1);this._request=Vn,Vn.getPromise().then(An=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(An.current),An.finalized?(this._metadata=An.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,De)=>{const Fe=Er(this._ref.storage,this._ref._location,this._mappings),it=this._ref.storage._makeRequest(Fe,ee,Q,De);this._request=it,it.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,De)=>{const Fe=function cr(Z,Q,De,Fe,it){const bt=Q.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},An=function Vn(){let Fr="";for(let Gi=0;Gi<2;Gi++)Fr+=Math.random().toString().slice(2);return Fr}();an["Content-Type"]="multipart/related; boundary="+An;const hr=vn(Q,Fe,it),jr=yi(hr,De),mr=ri.getBlob("--"+An+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jr+"\r\n--"+An+"\r\nContent-Type: "+hr.contentType+"\r\n\r\n",Fe,"\r\n--"+An+"--");if(null===mr)throw tt();const Ii={name:hr.fullPath},ci=Bt(bt,Z.host,Z._protocol),es=Z.maxUploadRetryTime,Li=new ie(ci,"POST",lt(Z,De),es);return Li.urlParams=Ii,Li.headers=an,Li.body=mr.uploadData(),Li.errorHandler=mn(Q),Li}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),it=this._ref.storage._makeRequest(Fe,ee,Q,De);this._request=it,it.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const De=this._transferred;this._transferred=Q,this._transferred!==De&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const De="paused"===this._state;this._state=Q,De&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=ze(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=Ln(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,De,Fe,it){const bt=new ur(De||void 0,Fe||void 0,it||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(Q,De){return this._promise.then(Q,De)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const De=this._observers.indexOf(Q);-1!==De&&this._observers.splice(De,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(De=>{this._notifyObserver(De)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(Ln(this._state)){case _n.SUCCESS:Hr(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:Hr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(Ln(this._state)){case _n.RUNNING:case _n.PAUSED:Q.next&&Hr(Q.next.bind(Q,this.snapshot))();break;case _n.SUCCESS:Q.complete&&Hr(Q.complete.bind(Q))();break;default:Q.error&&Hr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class Fi{constructor(Q,De){this._service=Q,this._location=De instanceof Xt?De:Xt.makeFromUrl(De,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,De){return new Fi(Q,De)}get root(){const Q=new Xt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gr(this._location.path)}get storage(){return this._service}get parent(){const Q=function xr(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const De=new Xt(this._location.bucket,Q);return new Fi(this._service,De)}_throwIfRoot(Q){if(""===this._location.path)throw or(Q)}}function ko(Z,Q,De){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,o.A)(function*(Z,Q,De){const it=yield wa(Z,{pageToken:De});Q.prefixes.push(...it.prefixes),Q.items.push(...it.items),null!=it.nextPageToken&&(yield ko(Z,Q,it.nextPageToken))})).apply(this,arguments)}function wa(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&nt("options.maxResults",1,1e3,Q.maxResults);const De=Q||{},Fe=Pe(Z.storage,Z._location,"/",De.pageToken,De.maxResults);return Z.storage.makeRequestWithTokens(Fe,ee)}function Fo(Z){Z._throwIfRoot("getDownloadURL");const Q=function $e(Z,Q,De){const it=Bt(Q.fullServerUrl(),Z.host,Z._protocol),an=Z.maxOperationRetryTime,Vn=new ie(it,"GET",function gn(Z,Q){return function De(Fe,it){const bt=Wr(Z,it,Q);return ge(null!==bt),function vr(Z,Q,De,Fe){const it=ar(Q);if(null===it||!ve(it.downloadTokens))return null;const bt=it.downloadTokens;if(0===bt.length)return null;const an=encodeURIComponent;return bt.split(",").map(hr=>{const Xn=Z.fullPath;return Bt("/b/"+an(Z.bucket)+"/o/"+an(Xn),De,Fe)+Pn({alt:"media",token:hr})})[0]}(bt,it,Z.host,Z._protocol)}}(Z,De),an);return Vn.errorHandler=Rn(Q),Vn}(Z.storage,Z._location,At());return Z.storage.makeRequestWithTokens(Q,ee).then(De=>{if(null===De)throw function Vt(){return new z(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return De})}function si(Z,Q){const De=function kn(Z,Q){const De=Q.split("/").filter(Fe=>Fe.length>0).join("/");return 0===Z.length?De:Z+"/"+De}(Z._location.path,Q),Fe=new Xt(Z._location.bucket,De);return new Fi(Z.storage,Fe)}function To(Z,Q){if(Z instanceof Oi){const De=Z;if(null==De._bucket)throw function ke(){return new z(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const Fe=new Fi(De,De._bucket);return null!=Q?To(Fe,Q):Fe}return void 0!==Q?si(Z,Q):Z}function xs(Z,Q){if(Q&&function js(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof Oi)return function ys(Z,Q){return new Fi(Z,Q)}(Z,Q);throw sn("To use ref(service, url), the first argument must be a Storage instance.")}return To(Z,Q)}function kr(Z,Q){const De=Q?.[Te];return null==De?null:Xt.makeFromBucketSpec(De,Z)}class Oi{constructor(Q,De,Fe,it,bt){this.app=Q,this._authProvider=De,this._appCheckProvider=Fe,this._url=it,this._firebaseVersion=bt,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=it?Xt.makeFromBucketSpec(it,this._host):kr(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Xt.makeFromBucketSpec(this._url,Q):kr(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){nt("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){nt("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,o.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const De=Q._authProvider.getImmediate({optional:!0});if(De){const Fe=yield De.getToken();if(null!==Fe)return Fe.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,o.A)(function*(){const De=Q._appCheckProvider.getImmediate({optional:!0});return De?(yield De.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new Fi(this,Q)}_makeRequest(Q,De,Fe,it,bt=!0){if(this._deleted)return new gt(Tn());{const an=function Dr(Z,Q,De,Fe,it,bt,an=!0){const Vn=Pn(Z.urlParams),An=Z.url+Vn,hr=Object.assign({},Z.headers);return function Ut(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(hr,Q),function er(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(hr,De),function Bn(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(hr,bt),function Ht(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(hr,Fe),new jn(An,Z.method,hr,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,it,an)}(Q,this._appId,Fe,it,De,this._firebaseVersion,bt);return this._requests.add(an),an.getPromise().then(()=>this._requests.delete(an),()=>this._requests.delete(an)),an}}makeRequestWithTokens(Q,De){var Fe=this;return(0,o.A)(function*(){const[it,bt]=yield Promise.all([Fe._getAuthToken(),Fe._getAppCheckToken()]);return Fe._makeRequest(Q,De,it,bt).getPromise()})()}}const Ps="@firebase/storage",rs="storage";function Rs(Z,Q,De){return function ji(Z,Q,De){return Z._throwIfRoot("uploadBytesResumable"),new Tr(Z,new ri(Q),De)}(Z=(0,r.Ku)(Z),Q,De)}function pi(Z){return function ec(Z){Z._throwIfRoot("getMetadata");const Q=Er(Z.storage,Z._location,At());return Z.storage.makeRequestWithTokens(Q,ee)}(Z=(0,r.Ku)(Z))}function wn(Z,Q){return function Pi(Z,Q){Z._throwIfRoot("updateMetadata");const De=function Ot(Z,Q,De,Fe){const bt=Bt(Q.fullServerUrl(),Z.host,Z._protocol),Vn=yi(De,Fe),hr=Z.maxOperationRetryTime,jr=new ie(bt,"PATCH",lt(Z,Fe),hr);return jr.headers={"Content-Type":"application/json; charset=utf-8"},jr.body=Vn,jr.errorHandler=Rn(Q),jr}(Z.storage,Z._location,Q,At());return Z.storage.makeRequestWithTokens(De,ee)}(Z=(0,r.Ku)(Z),Q)}function gr(Z,Q){return wa(Z=(0,r.Ku)(Z),Q)}function pr(Z){return function Cs(Z){const Q={prefixes:[],items:[]};return ko(Z,Q).then(()=>Q)}(Z=(0,r.Ku)(Z))}function is(Z){return Fo(Z=(0,r.Ku)(Z))}function hs(Z){return function Zs(Z){Z._throwIfRoot("deleteObject");const Q=function Jt(Z,Q){const Fe=Bt(Q.fullServerUrl(),Z.host,Z._protocol),Vn=new ie(Fe,"DELETE",function an(An,hr){},Z.maxOperationRetryTime);return Vn.successCodes=[200,204],Vn.errorHandler=Rn(Q),Vn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,ee)}(Z=(0,r.Ku)(Z))}function zi(Z,Q){return xs(Z=(0,r.Ku)(Z),Q)}function Bs(Z,Q){return si(Z,Q)}function ai(Z=(0,oe.getApp)(),Q){Z=(0,r.Ku)(Z);const Fe=(0,oe._getProvider)(Z,rs).getImmediate({identifier:Q}),it=(0,r.yU)("storage");return it&&ss(Fe,...it),Fe}function ss(Z,Q,De,Fe={}){!function hi(Z,Q,De,Fe={}){Z.host=`${Q}:${De}`,Z._protocol="http";const{mockUserToken:it}=Fe;it&&(Z._overrideAuthToken="string"==typeof it?it:(0,r.Fy)(it,Z.app.options.projectId))}(Z,Q,De,Fe)}function vs(Z,{instanceIdentifier:Q}){const De=Z.getProvider("app").getImmediate(),Fe=Z.getProvider("auth-internal"),it=Z.getProvider("app-check-internal");return new Oi(De,Fe,it,Q,oe.SDK_VERSION)}!function $s(){(0,oe._registerComponent)(new ye.uA(rs,vs,"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ps,"0.13.2",""),(0,oe.registerVersion)(Ps,"0.13.2","esm2017")}()},1076:(dn,Je,k)=>{k.d(Je,{Am:()=>Jn,Bd:()=>sn,FA:()=>nt,Fy:()=>tt,I9:()=>Mn,Im:()=>yn,Ku:()=>Ct,Ll:()=>we,T9:()=>pe,Uj:()=>xe,XA:()=>Ze,ZQ:()=>Et,bD:()=>ir,c1:()=>or,cY:()=>ke,eX:()=>Ae,g:()=>ot,gR:()=>Ht,hp:()=>qr,jZ:()=>Vt,lT:()=>gt,lV:()=>Yt,mS:()=>Ge,nr:()=>ln,p7:()=>Tn,sr:()=>Lt,tD:()=>Zr,u:()=>z,yU:()=>ze,zW:()=>Ke,zw:()=>be});const ye=function($){const M=[];let F=0;for(let ie=0;ie<$.length;ie++){let ge=$.charCodeAt(ie);ge<128?M[F++]=ge:ge<2048?(M[F++]=ge>>6|192,M[F++]=63&ge|128):55296==(64512&ge)&&ie+1<$.length&&56320==(64512&$.charCodeAt(ie+1))?(ge=65536+((1023&ge)<<10)+(1023&$.charCodeAt(++ie)),M[F++]=ge>>18|240,M[F++]=ge>>12&63|128,M[F++]=ge>>6&63|128,M[F++]=63&ge|128):(M[F++]=ge>>12|224,M[F++]=ge>>6&63|128,M[F++]=63&ge|128)}return M},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let ge=0;ge<$.length;ge+=3){const lt=$[ge],Mt=ge+1<$.length,gn=Mt?$[ge+1]:0,mn=ge+2<$.length,Rn=mn?$[ge+2]:0;let Se=(15&gn)<<2|Rn>>6,$e=63&Rn;mn||($e=64,Mt||(Se=64)),ie.push(F[lt>>2],F[(3&lt)<<4|gn>>4],F[Se],F[$e])}return ie.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(ye($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let F=0,ie=0;for(;F<$.length;){const ge=$[F++];if(ge<128)M[ie++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const lt=$[F++];M[ie++]=String.fromCharCode((31&ge)<<6|63&lt)}else if(ge>239&&ge<365){const mn=((7&ge)<<18|(63&$[F++])<<12|(63&$[F++])<<6|63&$[F++])-65536;M[ie++]=String.fromCharCode(55296+(mn>>10)),M[ie++]=String.fromCharCode(56320+(1023&mn))}else{const lt=$[F++],Mt=$[F++];M[ie++]=String.fromCharCode((15&ge)<<12|(63&lt)<<6|63&Mt)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const F=M?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let ge=0;ge<$.length;){const lt=F[$.charAt(ge++)],gn=ge<$.length?F[$.charAt(ge)]:0;++ge;const Rn=ge<$.length?F[$.charAt(ge)]:64;++ge;const Pe=ge<$.length?F[$.charAt(ge)]:64;if(++ge,null==lt||null==gn||null==Rn||null==Pe)throw new Ce;ie.push(lt<<2|gn>>4),64!==Rn&&(ie.push(gn<<4&240|Rn>>2),64!==Pe&&ie.push(Rn<<6&192|Pe))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function($){return function($){const M=ye($);return Te.encodeByteArray(M,!0)}($).replace(/\./g,"")},z=function($){try{return Te.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function be($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const F in M)!M.hasOwnProperty(F)||!at(F)||($[F]=be($[F],M[F]));return $}function at($){return"__proto__"!==$}function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nt=()=>{try{return Ge().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&z($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ze=$=>{const M=($=>{var M,F;return null===(F=null===(M=Nt())||void 0===M?void 0:M.emulatorHosts)||void 0===F?void 0:F[$]})($);if(!M)return;const F=M.lastIndexOf(":");if(F<=0||F+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ie=parseInt(M.substring(F+1),10);return"["===M[0]?[M.substring(1,F-1),ie]:[M.substring(0,F),ie]},pe=()=>{var $;return null===($=Nt())||void 0===$?void 0:$.config},Ze=$=>{var M;return null===(M=Nt())||void 0===M?void 0:M[`_${$}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,F)=>{this.resolve=M,this.reject=F})}wrapCallback(M){return(F,ie)=>{F?this.reject(F):this.resolve(ie),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(F):M(F,ie))}}}function tt($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=M||"demo-project",ge=$.iat||0,lt=$.sub||$.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:ge,exp:ge+3600,auth_time:ge,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Mt)),""].join(".")}function Et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function we(){var $;const M=null===($=Nt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sn(){return typeof window<"u"||Tn()}function Tn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function or(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Lt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const $=Et();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ln(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise(($,M)=>{try{let F=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(ie);ge.onsuccess=()=>{ge.result.close(),F||self.indexedDB.deleteDatabase(ie),$(!0)},ge.onupgradeneeded=()=>{F=!1},ge.onerror=()=>{var lt;M((null===(lt=ge.error)||void 0===lt?void 0:lt.message)||"")}}catch(F){M(F)}})}class ot extends Error{constructor(M,F,ie){super(F),this.code=M,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(M,F,ie){this.service=M,this.serviceName=F,this.errors=ie}create(M,...F){const ie=F[0]||{},ge=`${this.service}/${M}`,lt=this.errors[M],Mt=lt?function Bt($,M){return $.replace(Pn,(F,ie)=>{const ge=M[ie];return null!=ge?String(ge):`<${ie}?>`})}(lt,ie):"Error";return new ot(ge,`${this.serviceName}: ${Mt} (${ge}).`,ie)}}const Pn=/\{\$([^}]+)}/g;function Ht($,M){return Object.prototype.hasOwnProperty.call($,M)}function yn($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function ir($,M){if($===M)return!0;const F=Object.keys($),ie=Object.keys(M);for(const ge of F){if(!ie.includes(ge))return!1;const lt=$[ge],Mt=M[ge];if(Wt(lt)&&Wt(Mt)){if(!ir(lt,Mt))return!1}else if(lt!==Mt)return!1}for(const ge of ie)if(!F.includes(ge))return!1;return!0}function Wt($){return null!==$&&"object"==typeof $}function Jn($){const M=[];for(const[F,ie]of Object.entries($))Array.isArray(ie)?ie.forEach(ge=>{M.push(encodeURIComponent(F)+"="+encodeURIComponent(ge))}):M.push(encodeURIComponent(F)+"="+encodeURIComponent(ie));return M.length?"&"+M.join("&"):""}function Mn($){const M={};return $.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[ge,lt]=ie.split("=");M[decodeURIComponent(ge)]=decodeURIComponent(lt)}}),M}function qr($){const M=$.indexOf("?");if(!M)return"";const F=$.indexOf("#",M);return $.substring(M,F>0?F:void 0)}function Zr($,M){const F=new Zn($,M);return F.subscribe.bind(F)}class Zn{constructor(M,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{M(this)}).catch(ie=>{this.error(ie)})}next(M){this.forEachObserver(F=>{F.next(M)})}error(M){this.forEachObserver(F=>{F.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,F,ie){let ge;if(void 0===M&&void 0===F&&void 0===ie)throw new Error("Missing Observer.");ge=function ds($,M){if("object"!=typeof $||null===$)return!1;for(const F of M)if(F in $&&"function"==typeof $[F])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:F,complete:ie},void 0===ge.next&&(ge.next=bn),void 0===ge.error&&(ge.error=bn),void 0===ge.complete&&(ge.complete=bn);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch{}}),this.observers.push(ge),lt}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,M)}sendOne(M,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{F(this.observers[M])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function Ct($){return $&&$._delegate?$._delegate:$}},7304:(dn,Je,k)=>{k.d(Je,{W:()=>ze});var o=k(7705),oe=k(345),r=k(6814),ye=k(177);let fe=(()=>{class pe{transform(ke,tt){if(!ke||!tt)return ke;let Et=ke;for(const Vt in tt)if(tt.hasOwnProperty(Vt)){const we=new RegExp(`{{${Vt}}}`,"g");Et=Et.replace(we,tt[Vt])}return Et}static{this.\u0275fac=function(tt){return new(tt||pe)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:pe,pure:!0})}}return pe})();function Te(pe,Ze){if(1&pe){const ke=o.RV6();o.j41(0,"button",10),o.bIt("click",function(){o.eBV(ke);const Et=o.XpG(2);return o.Njj(Et.navigateToContact())}),o.EFF(1,"Contact Us"),o.k0s()}}const Ce=function(pe){return{businessName:pe}};function Ne(pe,Ze){if(1&pe&&(o.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3")(4,"span",6),o.EFF(5),o.nI1(6,"replaceKeyword"),o.k0s()(),o.j41(7,"h1"),o.EFF(8),o.k0s(),o.nrm(9,"p",7),o.j41(10,"div",8),o.DNE(11,Te,2,0,"button",9),o.k0s()()()()),2&pe){const ke=o.XpG();o.Y8G("ngClass",ke.themeType),o.R7$(5),o.JRh(o.i5U(6,5,ke.subTitle,o.eq3(8,Ce,ke._businessName))),o.R7$(3),o.JRh(ke.title),o.R7$(1),o.Y8G("innerHTML",ke.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",ke.showBtn)}}function xe(pe,Ze){if(1&pe&&o.nrm(0,"img",16),2&pe){const ke=o.XpG(2);o.Y8G("src",ke.imageURL,o.B4B)}}function z(pe,Ze){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function ne(pe,Ze){if(1&pe&&(o.j41(0,"div",11),o.DNE(1,xe,1,1,"img",12),o.j41(2,"h3",13),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.j41(5,"h2",13),o.EFF(6),o.k0s(),o.nrm(7,"h4",14),o.DNE(8,z,2,0,"button",15),o.k0s()),2&pe){const ke=o.XpG();o.Y8G("ngClass",ke.themeType),o.R7$(1),o.Y8G("ngIf",ke.imageURL&&ke.showImage),o.R7$(2),o.JRh(o.i5U(4,6,ke.subTitle,o.eq3(9,Ce,ke._businessName))),o.R7$(3),o.JRh(ke.title),o.R7$(1),o.Y8G("innerHTML",ke.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",ke.showBtn)}}function be(pe,Ze){if(1&pe&&o.nrm(0,"img",16),2&pe){const ke=o.XpG(2);o.Y8G("src",ke.imageURL,o.B4B)}}function at(pe,Ze){if(1&pe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&pe){const ke=o.XpG(2);o.R7$(1),o.SpI(" ",ke.titleParts.part2,"")}}function Ge(pe,Ze){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function St(pe,Ze){if(1&pe&&(o.j41(0,"div",18),o.DNE(1,be,1,1,"img",12),o.j41(2,"div",19)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,at,2,1,"span",20),o.k0s(),o.nrm(7,"div",21)(8,"p",14),o.k0s(),o.DNE(9,Ge,2,0,"button",15),o.k0s()),2&pe){const ke=o.XpG();o.Y8G("ngClass",ke.themeType),o.R7$(1),o.Y8G("ngIf",ke.imageURL&&ke.showImage),o.R7$(3),o.SpI(" ",ke.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",ke.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",ke.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",ke.showBtn)}}function ht(pe,Ze){if(1&pe&&o.nrm(0,"img",16),2&pe){const ke=o.XpG(2);o.Y8G("src",ke.imageURL,o.B4B)}}function jt(pe,Ze){if(1&pe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&pe){const ke=o.XpG(2);o.R7$(1),o.SpI(" ",ke.titleParts.part2,"")}}function Nt(pe,Ze){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function rn(pe,Ze){if(1&pe&&(o.j41(0,"div",18),o.DNE(1,ht,1,1,"img",12),o.j41(2,"div",19)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,jt,2,1,"span",20),o.k0s(),o.nrm(7,"div",21)(8,"p",14),o.k0s(),o.DNE(9,Nt,2,0,"button",15),o.k0s()),2&pe){const ke=o.XpG();o.Y8G("ngClass",ke.themeType),o.R7$(1),o.Y8G("ngIf",ke.imageURL&&ke.showImage),o.R7$(3),o.SpI(" ",ke.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",ke.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",ke.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",ke.showBtn)}}let ze=(()=>{class pe{constructor(ke,tt){this.sanitizer=ke,this.router=tt,this.showBtn=!1,this.showImage=!1,this._businessName=""}set content(ke){this._content=ke,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ke)}get titleParts(){if(this.title.includes("|")){const[ke,tt]=this.title.split("|").map(Et=>Et.trim());return{part1:ke,part2:tt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(){this.router.navigate(["/contact-us"])}static{this.\u0275fac=function(tt){return new(tt||pe)(o.rXU(oe.up),o.rXU(r.Ix))}}static{this.\u0275cmp=o.VBU({type:pe,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",content:"content"},decls:4,vars:4,consts:[["class","welcome-info-container",3,"ngClass",4,"ngIf"],["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"welcome-info-container",3,"ngClass"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],["type","button",1,"afhBtn",3,"click"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(tt,Et){1&tt&&(o.DNE(0,Ne,12,10,"div",0),o.DNE(1,ne,9,11,"div",1),o.DNE(2,St,10,6,"div",2),o.DNE(3,rn,10,6,"div",2)),2&tt&&(o.Y8G("ngIf","hh"==Et.themeType),o.R7$(1),o.Y8G("ngIf","clemo"!=Et.themeType&&"hh"!=Et.themeType&&"sb"!=Et.themeType&&"sp"!=Et.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==Et.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Et.themeType||"sp"==Et.themeType))},dependencies:[ye.YU,ye.bT,fe],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{line-height:2rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}"]})}}return pe})()},3711:(dn,Je,k)=>{k.d(Je,{a:()=>Te});var o=k(7705),oe=k(4710),r=k(177);function ye(Ce,Ne){1&Ce&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function fe(Ce,Ne){1&Ce&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let Te=(()=>{class Ce{constructor(xe){this.googleMapsLoader=xe,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(xe=>{console.error("Error loading Google Maps script:",xe)})}ngOnChanges(xe){xe.address&&!xe.address.firstChange&&this.showAddressOnMap(xe.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(xe){this.geocoder.geocode({address:xe},(z,ne)=>{if("OK"===ne){this.map.setCenter(z[0].geometry.location);const be=new google.maps.LatLngBounds;be.extend(z[0].geometry.location),this.map.fitBounds(be),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:z[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ne)})}getZoomLevel(xe){document.getElementById("map");const be=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(xe*be)))}static{this.\u0275fac=function(z){return new(z||Ce)(o.rXU(oe.L))}}static{this.\u0275cmp=o.VBU({type:Ce,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(z,ne){1&z&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,ye,2,0,"ng-container",1),o.DNE(3,fe,2,0,"ng-container",2),o.bVm(),o.k0s()),2&z&&(o.Y8G("ngSwitch",ne.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[r.ux,r.e1,r.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Ce})()},1915:(dn,Je,k)=>{k.d(Je,{j:()=>at});var o=k(7705),oe=k(177),r=k(4591);function ye(Ge,St){if(1&Ge&&(o.j41(0,"div",13),o.nrm(1,"i",14),o.j41(2,"h3",15),o.EFF(3),o.k0s()()),2&Ge){const ht=St.$implicit;o.R7$(1),o.Y8G("ngClass",ht.icon),o.R7$(2),o.JRh(ht.name)}}function fe(Ge,St){if(1&Ge&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"span",8),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",9),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",10),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",11),o.DNE(10,ye,4,2,"div",12),o.k0s()()()),2&Ge){const ht=o.XpG(2);o.R7$(10),o.Y8G("ngForOf",ht.services)}}function Te(Ge,St){if(1&Ge&&(o.j41(0,"li",18)(1,"h2"),o.EFF(2),o.k0s(),o.j41(3,"div",19)(4,"p"),o.EFF(5),o.k0s()()()),2&Ge){const ht=St.$implicit;o.R7$(2),o.JRh(ht.name),o.R7$(3),o.JRh(ht.description)}}function Ce(Ge,St){if(1&Ge&&(o.j41(0,"div",16)(1,"ul"),o.DNE(2,Te,6,2,"li",17),o.k0s()()),2&Ge){const ht=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",ht.services)}}function Ne(Ge,St){if(1&Ge&&(o.j41(0,"section",3),o.DNE(1,fe,11,1,"div",4),o.DNE(2,Ce,3,1,"div",5),o.k0s()),2&Ge){const ht=o.XpG();o.R7$(1),o.Y8G("ngIf",ht.minimal),o.R7$(1),o.Y8G("ngIf",!ht.minimal)}}function xe(Ge,St){if(1&Ge&&(o.j41(0,"div",24),o.nrm(1,"i",25),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&Ge){const ht=St.$implicit;o.R7$(1),o.Y8G("ngClass",ht.icon),o.R7$(2),o.JRh(ht.name),o.R7$(2),o.JRh(ht.description)}}function z(Ge,St){if(1&Ge&&(o.j41(0,"section",20),o.nrm(1,"app-section-tilte",21),o.j41(2,"div",22),o.DNE(3,xe,6,3,"div",23),o.k0s()()),2&Ge){const ht=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",ht.services)}}function ne(Ge,St){if(1&Ge&&(o.j41(0,"div",29),o.nrm(1,"i",30),o.j41(2,"h2",31),o.EFF(3),o.k0s(),o.j41(4,"p",32),o.EFF(5),o.k0s()()),2&Ge){const ht=St.$implicit;o.R7$(1),o.Y8G("ngClass",ht.icon),o.R7$(2),o.JRh(ht.name),o.R7$(2),o.JRh(ht.description)}}function be(Ge,St){if(1&Ge&&(o.j41(0,"section",26),o.nrm(1,"app-section-tilte",21),o.j41(2,"div",27),o.DNE(3,ne,6,3,"div",28),o.k0s()()),2&Ge){const ht=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",ht.services)}}let at=(()=>{class Ge{constructor(){this.layoutType="demo",this.minimal=!1}ngOnInit(){console.log("List Items: ",this.services),console.log("List Items layoutType",this.layoutType)}static{this.\u0275fac=function(jt){return new(jt||Ge)}}static{this.\u0275cmp=o.VBU({type:Ge,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType",minimal:"minimal"},decls:3,vars:3,consts:[["class","services-list-section",4,"ngIf"],["class","services-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section"],[4,"ngIf"],["class","services-list",4,"ngIf"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"services-list"],["class","service-list-item",4,"ngFor","ngForOf"],[1,"service-list-item"],[1,"our-services-item-description"],[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"sb-services-section"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(jt,Nt){1&jt&&(o.DNE(0,Ne,3,2,"section",0),o.DNE(1,z,4,2,"section",1),o.DNE(2,be,4,2,"section",2)),2&jt&&(o.Y8G("ngIf","hh"==Nt.layoutType),o.R7$(1),o.Y8G("ngIf","hh"!=Nt.layoutType&&"sb"!=Nt.layoutType),o.R7$(1),o.Y8G("ngIf","sb"==Nt.layoutType))},dependencies:[oe.YU,oe.Sq,oe.bT,r.L],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.minimal-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.sb-services-section[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background-color:#f8f9fa}.sb-services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;max-width:1100px;margin:0 auto}.sb-service-item[_ngcontent-%COMP%]{background:#ffffff;padding:25px;border-radius:10px;box-shadow:0 4px 10px #0000000d;text-align:center;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.sb-service-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 15px #0000001a}.sb-services-item-icon[_ngcontent-%COMP%]{font-size:40px;color:#6c757d;margin-bottom:15px;display:block}.sb-service-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#343a40;margin-bottom:10px;line-height:1.5rem}.sb-service-description[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;line-height:1.6}@media (max-width: 768px){.sb-services-section[_ngcontent-%COMP%]{padding:30px 15px}.sb-services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.sb-service-item[_ngcontent-%COMP%]{padding:20px}.sb-services-item-icon[_ngcontent-%COMP%]{font-size:35px}.sb-service-title[_ngcontent-%COMP%]{font-size:18px}.sb-service-description[_ngcontent-%COMP%]{font-size:13px}}"]})}}return Ge})()},8035:(dn,Je,k)=>{k.d(Je,{H:()=>Ne});var o=k(7705),oe=k(177),r=k(4591);function ye(xe,z){if(1&xe&&(o.j41(0,"div",6),o.nrm(1,"img",7),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",8),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s(),o.j41(8,"a",9),o.EFF(9,"READ MORE"),o.k0s()()),2&xe){const ne=z.$implicit;o.R7$(1),o.Y8G("src",ne.image,o.B4B)("alt",ne.title),o.R7$(2),o.JRh(ne.title),o.R7$(2),o.JRh(ne.category),o.R7$(2),o.JRh(ne.description)}}function fe(xe,z){if(1&xe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),o.k0s(),o.j41(4,"div",4),o.DNE(5,ye,10,5,"div",5),o.k0s()()),2&xe){const ne=o.XpG();o.R7$(1),o.Y8G("title","Website Packages"),o.R7$(4),o.Y8G("ngForOf",ne.displayItems)}}function Te(xe,z){if(1&xe&&(o.j41(0,"div",6)(1,"div",10),o.nrm(2,"img",11),o.j41(3,"span",12),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3",13),o.EFF(7),o.k0s(),o.j41(8,"p"),o.EFF(9),o.k0s(),o.j41(10,"a",14),o.EFF(11,"Visit"),o.k0s()()),2&xe){const ne=z.$implicit,be=z.index;o.R7$(2),o.Mz_("alt","",ne.title," Logo"),o.Y8G("src",ne.companyLogo||ne.image,o.B4B),o.R7$(2),o.JRh(o.i5U(5,6,be+1,"2.0")),o.R7$(3),o.JRh(ne.title),o.R7$(2),o.JRh(ne.description),o.R7$(1),o.FS9("href",ne.url,o.B4B)}}function Ce(xe,z){if(1&xe&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3,"Using carefully vetted providers and vendors."),o.k0s(),o.j41(4,"div",4),o.DNE(5,Te,12,9,"div",5),o.k0s()()),2&xe){const ne=o.XpG();o.R7$(1),o.Y8G("title","Trusted Partners"),o.R7$(4),o.Y8G("ngForOf",ne.displayItems)}}let Ne=(()=>{class xe{constructor(){this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}ngOnInit(){this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(be){return new(be||xe)}}static{this.\u0275cmp=o.VBU({type:xe,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],["href","#",1,"read-more"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(be,at){1&be&&(o.DNE(0,fe,6,2,"div",0),o.DNE(1,Ce,6,2,"div",0)),2&be&&(o.Y8G("ngIf","sb"==at.layoutType),o.R7$(1),o.Y8G("ngIf","sb"!=at.layoutType))},dependencies:[oe.Sq,oe.bT,r.L,oe.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:600px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return xe})()},491:(dn,Je,k)=>{k.d(Je,{G:()=>Te});var o=k(7705),oe=k(177);function r(Ce,Ne){if(1&Ce&&(o.j41(0,"section",2)(1,"div",3)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",4),o.nrm(7,"img",5),o.k0s()()),2&Ce){const xe=o.XpG();o.R7$(3),o.JRh(xe.title),o.R7$(2),o.JRh(xe.content),o.R7$(2),o.FS9("src",xe.imageURL,o.B4B),o.FS9("alt",xe.title)}}function ye(Ce,Ne){if(1&Ce&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ce){const xe=o.XpG(2);o.R7$(1),o.SpI(" ",xe.titleParts.part2,"")}}function fe(Ce,Ne){if(1&Ce&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,ye,2,1,"span",9),o.k0s(),o.nrm(8,"div",10),o.j41(9,"p"),o.EFF(10),o.k0s()(),o.j41(11,"div",11),o.nrm(12,"img",5),o.k0s()()()()),2&Ce){const xe=o.XpG();o.R7$(5),o.SpI(" ",xe.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",xe.titleParts.part2),o.R7$(3),o.JRh(xe.content),o.R7$(2),o.FS9("src",xe.imageURL,o.B4B),o.FS9("alt",xe.title)}}let Te=(()=>{class Ce{get titleParts(){if(this.title.includes("|")){const[xe,z]=this.title.split("|").map(ne=>ne.trim());return{part1:xe,part2:z}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(z){return new(z||Ce)}}static{this.\u0275cmp=o.VBU({type:Ce,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"]],template:function(z,ne){1&z&&(o.DNE(0,r,8,4,"section",0),o.DNE(1,fe,13,5,"section",1)),2&z&&(o.Y8G("ngIf","clemo"!=ne.themeType&&"sb"!=ne.themeType&&"sp"!=ne.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==ne.themeType||"sb"==ne.themeType||"sp"==ne.themeType))},dependencies:[oe.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ce})()},4593:(dn,Je,k)=>{k.d(Je,{F:()=>Ce});var o=k(7705),oe=k(345),r=k(177);function ye(Ne,xe){if(1&Ne&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&Ne){const z=o.XpG();o.R7$(2),o.FS9("src",z.imageURL,o.B4B),o.FS9("alt",z.title),o.R7$(3),o.JRh(z.title),o.R7$(2),o.JRh(z.content)}}function fe(Ne,xe){if(1&Ne&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Ne){const z=o.XpG(2);o.R7$(1),o.SpI(" ",z.titleParts.part2,"")}}function Te(Ne,xe){if(1&Ne&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.j41(8,"h2"),o.DNE(9,fe,2,1,"span",10),o.k0s(),o.nrm(10,"div",11),o.j41(11,"p",12),o.EFF(12),o.k0s()()()()()),2&Ne){const z=o.XpG();o.R7$(4),o.FS9("src",z.imageURL,o.B4B),o.FS9("alt",z.title),o.R7$(3),o.SpI(" ",z.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",z.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",z.sanitizedContent,o.npT),o.R7$(1),o.JRh(z.content)}}let Ce=(()=>{class Ne{set content(z){this._content=z,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(z)}constructor(z){this.sanitizer=z}get titleParts(){if(this.title.includes("|")){const[z,ne]=this.title.split("|").map(be=>be.trim());return{part1:z,part2:ne}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(ne){return new(ne||Ne)(o.rXU(oe.up))}}static{this.\u0275cmp=o.VBU({type:Ne,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"]],template:function(ne,be){1&ne&&(o.DNE(0,ye,8,4,"section",0),o.DNE(1,Te,13,6,"section",1)),2&ne&&(o.Y8G("ngIf","clemo"!=be.themeType&&"sb"!=be.themeType&&"sp"!=be.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==be.themeType||"sb"==be.themeType||"sp"==be.themeType))},dependencies:[r.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Ne})()},4591:(dn,Je,k)=>{k.d(Je,{L:()=>oe});var o=k(7705);let oe=(()=>{class r{static{this.\u0275fac=function(Te){return new(Te||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(Te,Ce){1&Te&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&Te&&(o.R7$(2),o.JRh(Ce.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return r})()},8059:(dn,Je,k)=>{k.d(Je,{B:()=>Yn});var o=k(7705),oe=k(6814),r=k(6861),ye=k(923),fe=k(177);function Te(Ee,zt){if(1&Ee&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&Ee){const ee=zt.$implicit;o.R7$(5),o.SpI('" ',ee.quote,' "'),o.R7$(2),o.JRh(ee.name)}}function Ce(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Te,8,2,"div",7),o.k0s()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(6),o.Y8G("ngForOf",ee.testimonials)}}function Ne(Ee,zt){if(1&Ee&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&Ee){const ee=zt.$implicit;o.R7$(5),o.JRh(ee.quote),o.R7$(2),o.JRh(ee.name)}}function xe(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,Ne,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,ee.testimonials,0,4))}}function z(Ee,zt){if(1&Ee&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&Ee){const ee=zt.$implicit;o.R7$(5),o.JRh(ee.quote),o.R7$(2),o.JRh(ee.name)}}function ne(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,z,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,ee.testimonials,0,4))}}function be(Ee,zt){if(1&Ee&&(o.j41(0,"div",33)(1,"div",34),o.nrm(2,"div",35),o.j41(3,"p",36),o.EFF(4),o.k0s()(),o.j41(5,"div",37)(6,"p",38),o.EFF(7),o.k0s()()()),2&Ee){const ee=zt.$implicit;o.R7$(4),o.JRh(ee.quote),o.R7$(3),o.JRh(ee.name)}}function at(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"section",26)(2,"div",27)(3,"h2",28),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",29),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",30)(8,"div",31),o.DNE(9,be,8,2,"div",32),o.k0s()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(9),o.Y8G("ngForOf",ee.testimonials)}}let Ge=(()=>{class Ee{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(ee){this.currentIndex=ee,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(He){return new(He||Ee)}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,Ce,7,1,"ng-container",1),o.DNE(2,xe,15,5,"ng-container",1),o.DNE(3,ne,15,5,"ng-container",1),o.DNE(4,at,10,1,"ng-container",2),o.k0s()),2&He&&(o.Y8G("ngSwitch",kt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[fe.Sq,fe.ux,fe.e1,fe.fG,oe.Wk,fe.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Ee})();function St(Ee,zt){if(1&Ee){const ee=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.navigateToContact(kt.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function ht(Ee,zt){if(1&Ee){const ee=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.navigateToContact(kt.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&Ee){const ee=o.XpG();o.R7$(8),o.SpI("",ee.businessName,"?")}}function jt(Ee,zt){if(1&Ee){const ee=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",16),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.navigateToContact(kt.id))}),o.EFF(13,"Let's Talk"),o.k0s()()()()(),o.bVm()}if(2&Ee){const ee=o.XpG();o.R7$(8),o.SpI("",ee.businessName,"?")}}let Nt=(()=>{class Ee{constructor(ee){this.router=ee,this.id=null,this.layoutType="demo"}navigateToContact(ee){this.router.navigate(["/contact-us"],{queryParams:{id:ee}})}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(oe.Ix))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"btn",3,"click"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,St,11,0,"ng-container",1),o.DNE(2,ht,14,1,"ng-container",1),o.DNE(3,jt,14,1,"ng-container",1),o.k0s()),2&He&&(o.Y8G("ngSwitch",kt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","sb"))},dependencies:[fe.ux,fe.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return Ee})();var rn=k(8704);function ze(Ee,zt){if(1&Ee&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&Ee){const ee=zt.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function pe(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,ze,3,2,"div",9),o.k0s()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(11),o.Y8G("ngForOf",ee.uniqueService)}}function Ze(Ee,zt){1&Ee&&o.eu8(0)}let ke=(()=>{class Ee{constructor(ee,He){this.webContent=ee,this.route=He,this.layoutType="demo"}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(rn.N),o.rXU(oe.nX))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,pe,12,1,"ng-container",1),o.DNE(2,Ze,1,0,"ng-container",1),o.k0s()),2&He&&(o.Y8G("ngSwitch",kt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[fe.Sq,fe.ux,fe.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return Ee})();function tt(Ee,zt){if(1&Ee&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&Ee){const ee=zt.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function Et(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,tt,3,2,"div",9),o.k0s()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(9),o.Y8G("ngForOf",ee.whyChooseUs)}}function Vt(Ee,zt){1&Ee&&o.eu8(0)}function we(Ee,zt){if(1&Ee&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&Ee){const ee=zt.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function sn(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,we,3,2,"div",9),o.k0s()()(),o.bVm()),2&Ee){const ee=o.XpG();o.R7$(6),o.SpI(" ",ee.businessName,""),o.R7$(5),o.Y8G("ngForOf",ee.whyChooseUs)}}let Tn=(()=>{class Ee{constructor(ee,He){this.webContent=ee,this.route=He,this.layoutType="demo"}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(rn.N),o.rXU(oe.nX))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,Et,10,1,"ng-container",1),o.DNE(2,Vt,1,0,"ng-container",1),o.DNE(3,sn,12,2,"ng-container",2),o.k0s()),2&He&&(o.Y8G("ngSwitch",kt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[fe.Sq,fe.ux,fe.e1,fe.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return Ee})();var or=k(7304),Lt=k(4593),Yt=k(491),Xt=k(1915);function gt(Ee,zt){if(1&Ee&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&Ee){const ee=zt.$implicit;o.R7$(1),o.HbH(ee.icon),o.R7$(2),o.JRh(ee.title)}}let Ue=(()=>{class Ee{constructor(){this.services=[]}static{this.\u0275fac=function(He){return new(He||Ee)}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(He,kt){1&He&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,gt,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&He&&(o.R7$(6),o.Y8G("ngForOf",kt.services))},dependencies:[fe.Sq,oe.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ee})(),st=(()=>{class Ee{static{this.\u0275fac=function(He){return new(He||Ee)}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(He,kt){1&He&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px;overflow:hidden}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:var(--site-max-width);margin:0 auto}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:300px;background-attachment:scroll;background-size:cover}}@media (max-width: 480px){.parallax-container[_ngcontent-%COMP%]{height:250px}h1[_ngcontent-%COMP%]{font-size:1.5rem}h4[_ngcontent-%COMP%]{font-size:1rem}}']})}}return Ee})(),ln=(()=>{class Ee{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(He){return new(He||Ee)}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(He,kt){1&He&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&He&&(o.xc7("background-image","url("+kt.backgroundImage+")"),o.R7$(4),o.JRh(kt.yearsOfExperience),o.R7$(5),o.JRh(kt.happyFamilies),o.R7$(5),o.JRh(kt.servicesOffered),o.R7$(5),o.JRh(kt.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return Ee})();const Ke=function(Ee,zt){return{"clemo-btn":Ee,"clemo-btn-outline":zt}},Ae=function(Ee){return{"border-radius":Ee}};function ve(Ee,zt){if(1&Ee&&(o.qex(0),o.j41(1,"a",17),o.EFF(2),o.k0s(),o.bVm()),2&Ee){const ee=zt.$implicit,He=o.XpG(3);o.R7$(1),o.Y8G("routerLink",ee.link)("ngClass",o.l_i(4,Ke,!ee.outline,ee.outline))("ngStyle",o.eq3(7,Ae,He.buttonBorderRadius)),o.R7$(1),o.SpI(" ",ee.text," ")}}const je=function(Ee,zt){return{"font-size":Ee,"font-weight":zt}};function ot(Ee,zt){if(1&Ee&&(o.j41(0,"div",9)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",10)(4,"h2",11),o.j41(5,"div",12),o.DNE(6,ve,3,9,"ng-container",13),o.k0s(),o.j41(7,"div",14)(8,"div",15),o.nrm(9,"div",16),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&Ee){const ee=o.XpG().$implicit,He=o.XpG();o.R7$(2),o.JRh(ee.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,je,He.subtitleSize,He.subtitleWeight))("innerHTML",ee.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",ee.buttons)}}const nt=function(Ee){return{background:Ee,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Bt(Ee,zt){if(1&Ee&&(o.j41(0,"div",6),o.nrm(1,"div",7),o.DNE(2,ot,12,7,"div",8),o.k0s()),2&Ee){const ee=zt.$implicit,He=zt.index,kt=o.XpG();o.AVh("clemo-active",He===kt.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,nt,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+ee.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==ee.title?null:ee.title.trim())}}const Pn=function(Ee){return{"line-style":Ee}};function fr(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"div",18),o.bIt("click",function(){const lr=o.eBV(ee).index,Kr=o.XpG();return o.Njj(Kr.navigateToSlide(lr))}),o.k0s()}if(2&Ee){const ee=zt.index,He=o.XpG();o.AVh("clemo-active",ee===He.currentSlide),o.Y8G("ngClass",o.eq3(3,Pn,"bottom"===He.navigation))}}function hn(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.prevSlide())}),o.nrm(1,"span",20),o.j41(2,"span",21),o.EFF(3,"Previous"),o.k0s()()}}function jn(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.nextSlide())}),o.nrm(1,"span",23),o.j41(2,"span",21),o.EFF(3,"Next"),o.k0s()()}}const nn=function(Ee,zt,ee,He,kt){return{"--slider-opacity":Ee,height:zt,"--button-border-radius":ee,"--subtitle-size":He,"--subtitle-weight":kt}},er=function(Ee){return{"bottom-nav":Ee}};let Bn=(()=>{class Ee{constructor(ee,He){this.router=ee,this.businessDataService=He,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ee=>{ee?(console.log("HeroSliderComponent - Retrieved business data:",ee),this.business=ee,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(He=>({title:this.replaceKeywords(He.title),subtitle:this.replaceKeywords(He.subtitle),backgroundImage:He.backgroundImage,buttons:He.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(ee){return ee&&this.business?.businessName?ee.replace(/{{businessName}}/g,this.business.businessName):ee}navigateToSlide(ee){this.currentSlide=ee}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const ee=window.scrollY,He=window.innerHeight;this.sliderOpacity=Math.max(1-ee/He,0)}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(oe.Ix),o.rXU(ye.A))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-hero-slider"]],hostBindings:function(He,kt){1&He&&o.bIt("scroll",function(Kr){return kt.onScroll(Kr)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:6,vars:14,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,Bt,3,6,"div",1),o.j41(2,"div",2),o.DNE(3,fr,1,5,"div",3),o.k0s(),o.DNE(4,hn,4,0,"button",4),o.DNE(5,jn,4,0,"button",5),o.k0s()),2&He&&(o.Y8G("ngStyle",o.s1E(6,nn,kt.sliderOpacity,kt.sliderHeight,kt.buttonBorderRadius,kt.subtitleSize,kt.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",kt.slides),o.R7$(1),o.Y8G("ngClass",o.eq3(12,er,"bottom"===kt.navigation)),o.R7$(1),o.Y8G("ngForOf",kt.slides),o.R7$(1),o.Y8G("ngIf",kt.sideButtons),o.R7$(1),o.Y8G("ngIf",kt.sideButtons))},dependencies:[fe.YU,fe.Sq,fe.bT,fe.B3,oe.Wk,oe.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:var(--subtitle-size, 1.5rem);font-weight:var(--subtitle-weight, 400);color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:1px solid #fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}@media (max-width: 1024px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1rem!important}.clemo-home-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px;margin-right:0}.mouse-scroll[_ngcontent-%COMP%]{bottom:-150px}}@media (max-width: 480px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:.9rem!important;line-height:1.4}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.85rem;padding:6px 12px}.mouse-scroll[_ngcontent-%COMP%]{bottom:-120px}}"]})}}return Ee})();var Ut=k(9969),Ht=k(4710);function Dr(Ee,zt){1&Ee&&(o.j41(0,"div",13),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function yn(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG(3);return o.Njj(kt.navigateToTestimonials())}),o.EFF(1," Read More "),o.k0s()}}function Ur(Ee,zt){if(1&Ee&&(o.j41(0,"span"),o.EFF(1,"[...]"),o.DNE(2,yn,2,0,"button",14),o.k0s()),2&Ee){const ee=o.XpG().$implicit,He=o.XpG();o.R7$(2),o.Y8G("ngIf",He.isTruncated(ee.quote))}}function ir(Ee,zt){if(1&Ee&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s(),o.DNE(7,Dr,2,0,"div",10),o.k0s(),o.j41(8,"div",11)(9,"p"),o.EFF(10),o.DNE(11,Ur,3,1,"span",12),o.k0s()()()),2&Ee){const ee=zt.$implicit,He=o.XpG();o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(ee.name),o.R7$(3),o.JRh(ee.relationship),o.R7$(1),o.Y8G("ngIf",ee.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",He.truncateText(ee.quote)," "),o.R7$(1),o.Y8G("ngIf",He.isTruncated(ee.quote))}}function Wt(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){const lr=o.eBV(ee).index,Kr=o.XpG();return o.Njj(Kr.goToSlide(lr))}),o.EFF(1," \u25cf "),o.k0s()}if(2&Ee){const ee=zt.index,He=o.XpG();o.AVh("active",ee===He.currentIndex)}}const Dn=function(Ee){return[Ee]};let Jn=(()=>{class Ee{constructor(ee,He,kt){this.businessDataService=ee,this.googleMapsLoader=He,this.router=kt,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(ee=>{if(ee&&ee.testimonials){const He=ee.testimonials.map(kt=>({...kt,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...He]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(He,kt)=>{if(kt===google.maps.places.PlacesServiceStatus.OK){const lr=He?.reviews?.map(Kr=>({name:Kr.author_name,quote:Kr.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...lr,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",kt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(ee){this.currentIndex=ee}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(ee,He){return ee}truncateText(ee){return ee.length>this.maxTextLength?ee.slice(0,this.maxTextLength):ee}isTruncated(ee){return ee.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(ye.A),o.rXU(Ht.L),o.rXU(oe.Ix))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(He,kt){1&He&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,ir,12,8,"div",2),o.j41(4,"div",3),o.DNE(5,Wt,2,2,"button",4),o.k0s()()),2&He&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,Dn,kt.currentTestimonial))("ngForTrackBy",kt.trackByIndex),o.R7$(2),o.Y8G("ngForOf",kt.testimonials))},dependencies:[fe.Sq,fe.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Ut.hZ)("slideIn",[(0,Ut.kY)(":enter",[(0,Ut.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ut.i0)("0.5s ease-in",(0,Ut.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Ut.kY)(":leave",[(0,Ut.i0)("0.5s ease-out",(0,Ut.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Ut.hZ)("fadeInLeft",[(0,Ut.kY)(":enter",[(0,Ut.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Ut.i0)("0.5s ease-in",(0,Ut.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Ut.hZ)("fadeInRight",[(0,Ut.kY)(":enter",[(0,Ut.iF)({opacity:0,transform:"translateX(100%)"}),(0,Ut.i0)("0.5s ease-in",(0,Ut.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Ee})();var Mn=k(3711),qr=k(4591);let Or=(()=>{class Ee{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(He){return new(He||Ee)}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(He,kt){1&He&&(o.nrm(0,"app-section-tilte",0),o.j41(1,"div",1),o.nrm(2,"iframe",2),o.k0s()),2&He&&o.Y8G("title","Video")},dependencies:[qr.L],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return Ee})();var Zr=k(8035),Zn=k(467),ni=k(5558),ds=k(8455),bn=k(6354);function ri(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"div",5),o.bIt("click",function(){const lr=o.eBV(ee).$implicit,Kr=o.XpG();return o.Njj(Kr.onImageClick(lr.url))}),o.nrm(1,"img",6),o.k0s()}if(2&Ee){const ee=zt.$implicit;o.R7$(1),o.Y8G("src",ee.url,o.B4B)}}let ar=(()=>{class Ee{constructor(ee,He,kt){this.businessDataService=ee,this.webContent=He,this.metaService=kt,this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.heroImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(ee=>{this.business=ee,this.layoutType=ee?.theme.themeType||"",ee?.id&&(this.businessId=ee.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}loadImages(){var ee=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:kt,target:lr})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,kt).pipe((0,ni.n)(Kr=>{console.log(`Raw Firestore images for ${kt}:`,Kr);const Tr=Kr.map(function(){var Fi=(0,Zn.A)(function*(qi){return(yield ee.webContent.checkImageExists(qi.url))?qi:null});return function(qi){return Fi.apply(this,arguments)}}());return(0,ds.H)(Promise.all(Tr))}),(0,bn.T)(Kr=>Kr.filter(Tr=>null!==Tr)),(0,bn.T)(Kr=>(console.log(`Filtered images for ${lr}:`,Kr),Kr.map(Tr=>({url:Tr.url,title:Tr.title||"No Title",description:Tr.description||"No Description",link:Tr.link||"No Link",order:isNaN(Number(Tr.order))?999:Number(Tr.order)})).sort((Tr,Fi)=>Tr.order-Fi.order)))).subscribe(Kr=>{console.log(`Sorted images for ${lr}:`,Kr),this[lr]||(this[lr]=[]),this[lr]=Kr})})}closeLightbox(){this.selectedImageUrl=null}onImageClick(ee){this.selectedImageUrl=ee}onCloseModal(){this.selectedImageUrl=null}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(ye.A),o.rXU(rn.N),o.rXU(r.R))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-sp-gallery-component"]],inputs:{businessId:"businessId"},decls:5,vars:2,consts:[[1,"gallery","ae-gallery"],[1,"section-heading"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"]],template:function(He,kt){1&He&&(o.j41(0,"section",0)(1,"div",1),o.nrm(2,"app-section-tilte",2),o.k0s(),o.j41(3,"div",3),o.DNE(4,ri,2,1,"div",4),o.k0s()()),2&He&&(o.R7$(2),o.Y8G("title","Our Home"),o.R7$(2),o.Y8G("ngForOf",kt.images))},dependencies:[fe.Sq,qr.L]})}}return Ee})();var xr=k(345),kn=k(1626),Gr=k(1334),Ye=k(4341);function ut(Ee,zt){if(1&Ee&&(o.j41(0,"div",4)(1,"p")(2,"a",17),o.EFF(3),o.k0s()()()),2&Ee){const ee=o.XpG(2);o.R7$(2),o.Mz_("href","mailto:",ee.business.email,"",o.B4B),o.R7$(1),o.JRh(ee.business.email)}}function ae(Ee,zt){if(1&Ee&&(o.j41(0,"div",18)(1,"a",19),o.nrm(2,"i",20),o.k0s()()),2&Ee){const ee=o.XpG(2);o.R7$(1),o.FS9("href",ee.business.socialMedia,o.B4B)}}function Oe(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,ut,4,2,"div",3),o.j41(6,"div",4)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",4)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,ae,3,1,"div",5),o.k0s(),o.j41(13,"div",6)(14,"form",7),o.bIt("submit",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.onSubmit())}),o.j41(15,"div",8)(16,"label",9),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",10)(21,"input",11),o.bIt("ngModelChange",function(kt){o.eBV(ee);const lr=o.XpG();return o.Njj(lr.formData.name=kt)}),o.k0s()()(),o.j41(22,"div",8)(23,"label",12),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",13),o.bIt("ngModelChange",function(kt){o.eBV(ee);const lr=o.XpG();return o.Njj(lr.formData.email=kt)}),o.k0s()(),o.j41(28,"div",8)(29,"label",14),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",15),o.bIt("ngModelChange",function(kt){o.eBV(ee);const lr=o.XpG();return o.Njj(lr.formData.message=kt)}),o.k0s()(),o.j41(34,"button",16),o.EFF(35,"Send"),o.k0s()()()()()}if(2&Ee){const ee=o.XpG();o.R7$(5),o.Y8G("ngIf",ee.business.email),o.R7$(3),o.JRh(ee.business.phone),o.R7$(3),o.JRh(ee.business.address),o.R7$(1),o.Y8G("ngIf",ee.business.socialMedia),o.R7$(9),o.Y8G("ngModel",ee.formData.name),o.R7$(6),o.Y8G("ngModel",ee.formData.email),o.R7$(6),o.Y8G("ngModel",ee.formData.message)}}let At=(()=>{class Ee{constructor(ee,He,kt,lr,Kr,Tr,Fi){this.sanitizer=ee,this.businessDataService=He,this.webContent=kt,this.route=lr,this.http=Kr,this.emailService=Tr,this.metaService=Fi,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(ee=>{this.business=ee,ee?.id&&(this.metaService.loadAndApplyMeta(ee?.id),this.layoutType=this.business?.theme.themeType)})}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(ee=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},ee=>{console.error("Error sending email",ee),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(ee){const He=ee.split(".");return He.length>2?He.slice(-2).join("."):ee}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(xr.up),o.rXU(ye.A),o.rXU(rn.N),o.rXU(oe.nX),o.rXU(kn.Qq),o.rXU(Gr._),o.rXU(r.R))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-sp-contact-us-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"contact-us-container"],[1,"contact-details"],["class","contact-item",4,"ngIf"],[1,"contact-item"],["class","social-media",4,"ngIf"],[1,"contact-form"],[3,"submit"],[1,"form-group"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"btnSBSend"],[3,"href"],[1,"social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(He,kt){1&He&&o.DNE(0,Oe,36,7,"div",0),2&He&&o.Y8G("ngIf",kt.business)},dependencies:[fe.bT,Ye.qT,Ye.me,Ye.BC,Ye.cb,Ye.YS,Ye.vS,Ye.cV],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}"]})}}return Ee})();function Kt(Ee,zt){if(1&Ee&&(o.j41(0,"a",14),o.EFF(1),o.k0s()),2&Ee){const ee=zt.$implicit,He=o.XpG(3);o.xc7("border-radius",He.buttonBorderRadius),o.AVh("btn-outline",ee.outline),o.Y8G("routerLink",ee.link),o.R7$(1),o.SpI(" ",ee.text," ")}}function qn(Ee,zt){if(1&Ee&&(o.j41(0,"div",9)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",10)(4,"h2",11),o.j41(5,"div",12),o.DNE(6,Kt,2,6,"a",13),o.k0s()()),2&Ee){const ee=o.XpG().$implicit,He=o.XpG();o.R7$(2),o.JRh(ee.title),o.R7$(2),o.xc7("font-size",He.subtitleSize)("font-weight",He.subtitleWeight),o.Y8G("innerHTML",ee.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",ee.buttons)}}function Wr(Ee,zt){if(1&Ee&&(o.j41(0,"div",6),o.nrm(1,"div",7),o.DNE(2,qn,7,7,"div",8),o.k0s()),2&Ee){const ee=zt.$implicit,He=zt.index,kt=o.XpG();o.AVh("active",He===kt.currentSlide),o.R7$(1),o.xc7("background-image","url("+ee.backgroundImage+")"),o.R7$(1),o.Y8G("ngIf",ee.title)}}function vr(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"div",15),o.bIt("click",function(){const lr=o.eBV(ee).index,Kr=o.XpG();return o.Njj(Kr.navigateToSlide(lr))}),o.k0s()}if(2&Ee){const ee=zt.index,He=o.XpG();o.AVh("active",ee===He.currentSlide)}}function yi(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.prevSlide())}),o.EFF(1," \u2190 "),o.k0s()}}function Ct(Ee,zt){if(1&Ee){const ee=o.RV6();o.j41(0,"button",17),o.bIt("click",function(){o.eBV(ee);const kt=o.XpG();return o.Njj(kt.nextSlide())}),o.EFF(1," \u2192 "),o.k0s()}}const $=function(Ee){return{"bottom-nav":Ee}};let M=(()=>{class Ee{constructor(ee){this.businessDataService=ee,this.slides=[],this.currentSlide=0,this.sliderOpacity=1,this.business=null,this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="400"}ngOnInit(){this.fetchHeroSliderData(),this.startAutoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ee=>{ee?(this.business=ee,this.slides=ee.heroSlider?.map(He=>({...He,title:this.replaceKeywords(He.title),subtitle:this.replaceKeywords(He.subtitle)}))||[]):console.warn("No heroSlider data available.")})}replaceKeywords(ee){return ee&&this.business?.businessName?ee.replace(/{{businessName}}/g,this.business.businessName):ee}navigateToSlide(ee){this.currentSlide=ee}startAutoSlide(){this.autoSlideInterval=setInterval(()=>{this.nextSlide()},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.slides.length}onScroll(){const ee=window.scrollY,He=window.innerHeight;this.sliderOpacity=Math.max(1-ee/He,0)}ngOnDestroy(){clearInterval(this.autoSlideInterval)}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(ye.A))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-sp-hero-component"]],hostBindings:function(He,kt){1&He&&o.bIt("scroll",function(Kr){return kt.onScroll(Kr)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:6,vars:11,consts:[["id","carousel",1,"sp-hero"],["class","slide",3,"active",4,"ngFor","ngForOf"],[1,"navigation",3,"ngClass"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf"],["class","control prev",3,"click",4,"ngIf"],["class","control next",3,"click",4,"ngIf"],[1,"slide"],[1,"overlay"],["class","content",4,"ngIf"],[1,"content"],[1,"separator"],[1,"subtitle",3,"innerHTML"],[1,"buttons"],["class","btn",3,"routerLink","btn-outline","borderRadius",4,"ngFor","ngForOf"],[1,"btn",3,"routerLink"],[1,"nav-item",3,"click"],[1,"control","prev",3,"click"],[1,"control","next",3,"click"]],template:function(He,kt){1&He&&(o.j41(0,"div",0),o.DNE(1,Wr,3,5,"div",1),o.j41(2,"div",2),o.DNE(3,vr,1,2,"div",3),o.k0s(),o.DNE(4,yi,2,0,"button",4),o.DNE(5,Ct,2,0,"button",5),o.k0s()),2&He&&(o.xc7("height",kt.sliderHeight)("opacity",kt.sliderOpacity),o.R7$(1),o.Y8G("ngForOf",kt.slides),o.R7$(1),o.Y8G("ngClass",o.eq3(9,$,"bottom"===kt.navigation)),o.R7$(1),o.Y8G("ngForOf",kt.slides),o.R7$(1),o.Y8G("ngIf",kt.sideButtons),o.R7$(1),o.Y8G("ngIf",kt.sideButtons))},dependencies:[fe.YU,fe.Sq,fe.bT,oe.Wk],styles:[".sp-hero[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;transition:opacity .3s ease}.slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.slide.active[_ngcontent-%COMP%]{display:block;opacity:1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff}h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0}h2.subtitle[_ngcontent-%COMP%]{margin:20px 0;line-height:1.5}.separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.buttons[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;background-color:#fff;color:#000;text-decoration:none;margin-right:10px;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#ccc}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #fff;color:#fff}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.nav-item.active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.control[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;z-index:10}.control.prev[_ngcontent-%COMP%]{left:20px}.control.next[_ngcontent-%COMP%]{right:20px}"]})}}return Ee})();var F=k(5449);function ie(Ee,zt){if(1&Ee&&o.nrm(0,"app-center-text",9),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("subTitle",(null==ee?null:ee.sectionSubTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!0)("_businessName",(null==He.business?null:He.business.businessName)||"")}}const ge=function(){return[]};function lt(Ee,zt){if(1&Ee&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",3),o.DNE(2,ie,1,7,"app-center-text",4),o.nI1(3,"sectionFilter"),o.nrm(4,"app-item-list",5)(5,"app-why-us",6)(6,"app-features",7)(7,"app-testimonials",8),o.k0s()),2&Ee){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","bottom")("sideButtons",!0),o.R7$(1),o.Y8G("ngIf",o.i5U(3,13,null==ee.business?null:ee.business.sections,"HomeCenterTop")),o.R7$(2),o.Y8G("layoutType","hh")("services",(null==ee.business?null:ee.business.services)||o.lJ4(16,ge))("minimal",!0),o.R7$(1),o.Y8G("whyChooseUs",(null==ee.business?null:ee.business.whyChoose)||o.lJ4(17,ge))("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")("businessName",(null==ee.business?null:ee.business.businessName)||"Demo"),o.R7$(1),o.Y8G("uniqueService",(null==ee.business?null:ee.business.uniqueService)||o.lJ4(18,ge))("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo"),o.R7$(1),o.Y8G("testimonials",null==ee.business?null:ee.business.testimonials)("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function Mt(Ee,zt){if(1&Ee&&o.nrm(0,"app-center-text",14),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!1)}}function gn(Ee,zt){if(1&Ee&&o.nrm(0,"app-right-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function mn(Ee,zt){if(1&Ee&&o.nrm(0,"app-left-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}const Rn=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Er=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Pe=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},Se=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},$e=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Ot=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},Jt=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},In=function(Ee,zt,ee,He,kt,lr,Kr){return[Ee,zt,ee,He,kt,lr,Kr]};function vn(Ee,zt){if(1&Ee&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",10),o.DNE(2,Mt,1,5,"app-center-text",11),o.nI1(3,"sectionFilter"),o.DNE(4,gn,1,4,"app-right-text",12),o.nI1(5,"sectionFilter"),o.DNE(6,mn,1,4,"app-left-text",12),o.nI1(7,"sectionFilter"),o.nrm(8,"app-icon-list",13)(9,"app-testimonials",8),o.k0s()),2&Ee){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1),o.R7$(1),o.Y8G("ngIf",o.i5U(3,8,null==ee.business?null:ee.business.sections,"HomeCenterTop")),o.R7$(2),o.Y8G("ngIf",o.i5U(5,11,null==ee.business?null:ee.business.sections,"HomeRight")),o.R7$(2),o.Y8G("ngIf",o.i5U(7,14,null==ee.business?null:ee.business.sections,"HomeLeft")),o.R7$(2),o.Y8G("services",o.sGs(24,In,o.lJ4(17,Rn),o.lJ4(18,Er),o.lJ4(19,Pe),o.lJ4(20,Se),o.lJ4(21,$e),o.lJ4(22,Ot),o.lJ4(23,Jt))),o.R7$(1),o.Y8G("testimonials",null==ee.business?null:ee.business.testimonials)("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function cr(Ee,zt){if(1&Ee&&o.nrm(0,"app-right-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function un(Ee,zt){if(1&Ee&&o.nrm(0,"app-google-maps",21),2&Ee){const ee=o.XpG(2);o.Y8G("address",(null==ee.business?null:ee.business.address)||"")("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function Xr(Ee,zt){if(1&Ee&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",16),o.DNE(2,cr,1,4,"app-right-text",12),o.nI1(3,"sectionFilter"),o.nrm(4,"app-video",17)(5,"app-parallax-stats",18)(6,"app-testimonial-carousel",19)(7,"app-parallax-text"),o.DNE(8,un,1,2,"app-google-maps",20),o.k0s()),2&Ee){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1),o.R7$(1),o.Y8G("ngIf",o.i5U(3,11,null==ee.business?null:ee.business.sections,"HomeRight")),o.R7$(2),o.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),o.R7$(1),o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),o.R7$(1),o.Y8G("placeId",(null==ee.business?null:ee.business.placeId)||""),o.R7$(2),o.Y8G("ngIf","clemo"==(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType))}}function _t(Ee,zt){if(1&Ee&&o.nrm(0,"app-center-text",9),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("subTitle",(null==ee?null:ee.sectionSubTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!1)("_businessName",(null==He.business?null:He.business.businessName)||"")}}function et(Ee,zt){if(1&Ee&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",22),o.DNE(2,_t,1,7,"app-center-text",4),o.nI1(3,"sectionFilter"),o.nrm(4,"app-latest-products",23)(5,"app-item-list",5),o.k0s()),2&Ee){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1)("buttonBorderRadius","0px")("subtitleSize","50px")("subtitleWeight","100"),o.R7$(1),o.Y8G("ngIf",o.i5U(3,10,null==ee.business?null:ee.business.sections,"HomeCenterTop")),o.R7$(2),o.Y8G("layoutType","sb"),o.R7$(1),o.Y8G("layoutType","sb")("services",(null==ee.business?null:ee.business.services)||o.lJ4(13,ge))("minimal",!0)}}function Rt(Ee,zt){if(1&Ee&&o.nrm(0,"app-consultation",24),2&Ee){const ee=o.XpG();o.Y8G("id",(null==ee.business?null:ee.business.id)||"")("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")("businessName",(null==ee.business?null:ee.business.businessName)||"Demo")}}function fn(Ee,zt){if(1&Ee&&o.nrm(0,"app-center-text",9),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("subTitle",(null==ee?null:ee.sectionSubTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!1)("_businessName",(null==He.business?null:He.business.businessName)||"")}}function Un(Ee,zt){if(1&Ee&&o.nrm(0,"app-right-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function _n(Ee,zt){if(1&Ee&&o.nrm(0,"app-left-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function Ln(Ee,zt){if(1&Ee&&o.nrm(0,"app-right-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function ur(Ee,zt){if(1&Ee&&o.nrm(0,"app-left-text",15),2&Ee){const ee=zt.ngIf,He=o.XpG(2);o.Y8G("themeType",(null==He.business||null==He.business.theme?null:He.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function Hr(Ee,zt){if(1&Ee&&(o.j41(0,"section",25)(1,"section",26)(2,"app-sp-hero-component",27),o.EFF(3," >"),o.k0s()(),o.j41(4,"section",28),o.DNE(5,fn,1,7,"app-center-text",4),o.nI1(6,"sectionFilter"),o.k0s(),o.j41(7,"section",29),o.nrm(8,"app-icon-list",13),o.k0s(),o.j41(9,"section",30),o.nrm(10,"app-section-tilte",31),o.DNE(11,Un,1,4,"app-right-text",12),o.nI1(12,"sectionFilter"),o.DNE(13,_n,1,4,"app-left-text",12),o.nI1(14,"sectionFilter"),o.DNE(15,Ln,1,4,"app-right-text",12),o.nI1(16,"sectionFilter"),o.DNE(17,ur,1,4,"app-left-text",12),o.nI1(18,"sectionFilter"),o.k0s(),o.j41(19,"section",32),o.nrm(20,"app-sp-gallery-component",33),o.k0s(),o.j41(21,"section",34),o.nrm(22,"app-sp-contact-us-component")(23,"app-google-maps",21),o.k0s()()),2&Ee){const ee=o.XpG();o.R7$(2),o.Y8G("navigation","side")("sideButtons",!1)("buttonBorderRadius","0px")("subtitleSize","50px")("subtitleWeight","100"),o.R7$(3),o.Y8G("ngIf",o.i5U(6,15,null==ee.business?null:ee.business.sections,"HomeCenterTop")),o.R7$(3),o.Y8G("services",o.sGs(37,In,o.lJ4(30,Rn),o.lJ4(31,Er),o.lJ4(32,Pe),o.lJ4(33,Se),o.lJ4(34,$e),o.lJ4(35,Ot),o.lJ4(36,Jt))),o.R7$(2),o.Y8G("title","About Us"),o.R7$(1),o.Y8G("ngIf",o.i5U(12,18,null==ee.business?null:ee.business.sections,"HomeRight")),o.R7$(2),o.Y8G("ngIf",o.i5U(14,21,null==ee.business?null:ee.business.sections,"HomeLeft")),o.R7$(2),o.Y8G("ngIf",o.i5U(16,24,null==ee.business?null:ee.business.sections,"AboutUsRight")),o.R7$(2),o.Y8G("ngIf",o.i5U(18,27,null==ee.business?null:ee.business.sections,"AboutUsLeft")),o.R7$(3),o.Y8G("businessId",(null==ee.business?null:ee.business.id)||""),o.R7$(3),o.Y8G("address",(null==ee.business?null:ee.business.address)||"")("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}let Yn=(()=>{class Ee{constructor(ee,He,kt){this.route=ee,this.metaService=He,this.businessDataService=kt,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(ee=>{ee&&(this.businessId=ee,this.businessDataService.getBusinessData().subscribe(He=>{this.business=He}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(ee){return this.business?.sections?.find(He=>He.sectionName===ee)||null}static{this.\u0275fac=function(He){return new(He||Ee)(o.rXU(oe.nX),o.rXU(r.R),o.rXU(ye.A))}}static{this.\u0275cmp=o.VBU({type:Ee,selectors:[["app-home"]],decls:6,vars:6,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["class","single_page_container",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName",4,"ngIf"],[3,"layoutType","services","minimal"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],["sliderHeight","100vh",3,"navigation","sideButtons","buttonBorderRadius","subtitleSize","subtitleWeight"],[3,"layoutType"],[3,"id","layoutType","businessName"],[1,"single_page_container"],["id","hero"],["sliderHeight","40vh",3,"navigation","sideButtons","buttonBorderRadius","subtitleSize","subtitleWeight"],["id","home",1,"single_page_section"],["id","services",1,"single_page_section"],["id","about-us",1,"single_page_section"],[3,"title"],["id","gallery",1,"single_page_section"],[3,"businessId"],["id","contact-us",1,"single_page_section"]],template:function(He,kt){1&He&&(o.DNE(0,lt,8,19,"section",0),o.DNE(1,vn,10,32,"section",0),o.DNE(2,Xr,9,14,"section",0),o.DNE(3,et,6,14,"section",0),o.DNE(4,Rt,1,3,"app-consultation",1),o.DNE(5,Hr,24,45,"section",2)),2&He&&(o.Y8G("ngIf","hh"===(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","sb"===(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","sp"===(null==kt.business||null==kt.business.theme?null:kt.business.theme.themeType)))},dependencies:[fe.bT,Ge,Nt,ke,Tn,or.W,Lt.F,Yt.G,Xt.j,Ue,st,ln,Bn,Jn,Mn.a,qr.L,Or,Zr.H,ar,At,M,F.W]})}}return Ee})()},214:(dn,Je,k)=>{k.d(Je,{W:()=>oe});var o=k(7705);let oe=(()=>{class r{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(Te){return new(Te||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Te,Ce){1&Te&&(o.j41(0,"div",0),o.bIt("click",function(){return Ce.close()}),o.j41(1,"div",1),o.bIt("click",function(xe){return xe.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return Ce.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&Te&&(o.R7$(4),o.Y8G("src",Ce.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return r})()},5449:(dn,Je,k)=>{k.d(Je,{W:()=>oe});var o=k(7705);let oe=(()=>{class r{transform(fe,Te){return fe&&Te&&fe.find(Ce=>Ce.sectionName===Te)||null}static{this.\u0275fac=function(Te){return new(Te||r)}}static{this.\u0275pipe=o.EJ8({name:"sectionFilter",type:r,pure:!0})}}return r})()},4796:(dn,Je,k)=>{k.d(Je,{u:()=>fe});var o=k(6354),oe=k(7705),r=k(1977),ye=k(6814);let fe=(()=>{class Te{constructor(Ne,xe){this.afAuth=Ne,this.router=xe,this.user$=Ne.authState}login(Ne,xe){return this.afAuth.signInWithEmailAndPassword(Ne,xe)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Ne=>!!Ne))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(xe){return new(xe||Te)(oe.KVO(r.DS),oe.KVO(ye.Ix))}}static{this.\u0275prov=oe.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},923:(dn,Je,k)=>{k.d(Je,{A:()=>Te});var o=k(4412),oe=k(6354),r=k(8141),ye=k(7705),fe=k(3012);let Te=(()=>{class Ce{constructor(xe){this.businessService=xe,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(xe){return console.log("BusinessDataService - loadBusinessData for ID:",xe),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(xe).pipe((0,oe.T)(z=>z?(z.sections||(z.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),z):null),(0,r.M)(z=>{console.log("\u2705 BusinessDataService - Business fetched:",z),this.businessDataSubject.next(z),this.businessIdSubject.next(xe)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(z){return new(z||Ce)(ye.KVO(fe.u))}}static{this.\u0275prov=ye.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},3012:(dn,Je,k)=>{k.d(Je,{u:()=>Ce});var o=k(7673),oe=k(6354),r=k(5558),ye=k(7705),fe=k(6340),Te=k(8721);let Ce=(()=>{class Ne{constructor(z,ne){this.afs=z,this.storage=ne,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(z){console.log("Business Created");const ne=this.afs.createId();return this.afs.doc(`${this.basePath}/${ne}`).set({...z,id:ne}),this.afs.doc(`${this.basePath}/${ne}`).valueChanges().pipe((0,oe.T)(be=>{if(!be)throw new Error("Business not found after creation");return be}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,oe.T)(z=>z.map(ne=>{const be=ne.payload.doc.data(),at=ne.payload.doc.id,{id:Ge,...St}=be;return{id:at,...St}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,z=>z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(z){return this.getBusinessData(z)}getBusinessData(z){const ne=z&&z.trim()?z:this.defaultBusinessId;return this.afs.collection("businesses").doc(ne).snapshotChanges().pipe((0,r.n)(be=>{const at=be.payload.data(),Ge=be.payload.id;if(!at)return(0,o.of)(void 0);const{id:St,...ht}=at,jt={id:Ge,...ht};return this.afs.collection(`businesses/${Ge}/sections`).snapshotChanges().pipe((0,oe.T)(Nt=>{const rn=Nt.map(ze=>{const pe=ze.payload.doc.data();return{id:ze.payload.doc.id,...pe}});return console.log("\u{1f525} Loaded Sections from Firestore:",rn),jt.sections=rn,jt}),(0,r.n)(Nt=>{const rn={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ge}/theme`).doc("themeDoc").snapshotChanges().pipe((0,oe.T)(ze=>{const pe=ze.payload.data()||rn;return Nt.theme=pe,console.log("\u{1f3a8} Loaded Theme from Firestore:",pe),Nt}))}))}))}updateBusiness(z,ne){return this.afs.doc(`${this.basePath}/${z}`).update(ne)}deleteBusiness(z){return this.afs.doc(`${this.basePath}/${z}`).delete()}uploadFile(z,ne){return this.storage.upload(z,ne)}getDownloadURL(z){return this.storage.ref(z).getDownloadURL()}updateThemeFileName(z,ne=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ne}`).update({"theme.themeFileName":z})}getThemeFileName(z=this.defaultBusinessId){const be=this.afs.collection(this.basePath).doc(z).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${z}`),be.get().toPromise().then(at=>{if(at&&at.exists){const Ge=at.data();console.log("Theme document found:",Ge);const St=Ge?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${St}`),St}return console.warn(`No theme document found for business ID: ${z}. Using default theme.`),"default.css"}).catch(at=>(console.error(`Error fetching theme file name for business ID: ${z}`,at),"default.css"))}createSection(z,ne){return this.afs.collection(`${this.basePath}/${z}/sections`).add(ne)}getSections(z){return this.afs.collection(`${this.basePath}/${z}/sections`).snapshotChanges().pipe((0,oe.T)(ne=>ne.map(be=>{const at=be.payload.doc.data(),Ge=be.payload.doc.id;return console.log("\u{1f525} Fetched section from Firestore:",{sectionId:Ge,...at}),{sectionId:Ge,...at}})))}updateSection(z,ne,be){return this.afs.doc(`${this.basePath}/${z}/sections/${ne}`).update(be)}deleteSection(z,ne){return this.afs.doc(`${this.basePath}/${z}/sections/${ne}`).delete()}static{this.\u0275fac=function(ne){return new(ne||Ne)(ye.KVO(fe.Qe),ye.KVO(Te.ap))}}static{this.\u0275prov=ye.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},1334:(dn,Je,k)=>{k.d(Je,{_:()=>r});var o=k(7705),oe=k(1626);let r=(()=>{class ye{constructor(Te){this.http=Te,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(Te){return this.http.post(this.emailEndpoint,Te)}static{this.\u0275fac=function(Ce){return new(Ce||ye)(o.KVO(oe.Qq))}}static{this.\u0275prov=o.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},4710:(dn,Je,k)=>{k.d(Je,{L:()=>r});var oe=k(7705);let r=(()=>{class ye{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Te,Ce)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Te();const Ne=document.createElement("script");Ne.id="google-maps-script",Ne.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ne.async=!0,Ne.defer=!0,Ne.onload=()=>{this.scriptLoaded=!0,Te()},Ne.onerror=xe=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Ce(xe)},document.body.appendChild(Ne)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Ce){return new(Ce||ye)}}static{this.\u0275prov=oe.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},6861:(dn,Je,k)=>{k.d(Je,{R:()=>ye});var o=k(7705),oe=k(345),r=k(923);let ye=(()=>{class fe{constructor(Ce,Ne,xe){this.meta=Ce,this.title=Ne,this.businessDataService=xe}updateMetaTags(Ce){this.title.setTitle(Ce.title),this.meta.updateTag({name:"description",content:Ce.description}),this.meta.updateTag({name:"keywords",content:Ce.keywords}),this.meta.updateTag({property:"og:title",content:Ce.title}),this.meta.updateTag({property:"og:description",content:Ce.description})}updateFavicon(Ce){const Ne=document.getElementsByTagName("head")[0];let xe=document.querySelector("link[rel*='icon']");xe||(xe=document.createElement("link"),xe.rel="icon",Ne.appendChild(xe)),xe.href=Ce}loadAndApplyMeta(Ce){this.businessDataService.loadBusinessData(Ce).subscribe(Ne=>{Ne?(this.updateMetaTags({title:Ne.metaTitle||"Default Title",description:Ne.metaDescription||"Default Description",keywords:Ne.metaKeywords||"default, keywords"}),Ne.faviconUrl&&this.updateFavicon(Ne.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ne){return new(Ne||fe)(o.KVO(oe.W8),o.KVO(oe.hE),o.KVO(r.A))}}static{this.\u0275prov=o.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})()},5009:(dn,Je,k)=>{k.d(Je,{F:()=>xe});var o=k(8810),oe=k(8455),r=k(7673),ye=k(6697),fe=k(5558),Te=k(9437),Ce=k(7705),Ne=k(6340);let xe=(()=>{class z{constructor(be){this.firestore=be,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(be){return this.firestore.collection("businesses").doc(be).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(be){console.log("Theme Service: - Fetching theme for business ID:",be);const at=this.firestore.collection("businesses").doc(be),Ge=at.collection("theme").doc("themeDoc");return at.snapshotChanges().pipe((0,ye.s)(1),(0,fe.n)(St=>St.payload.exists?Ge.get().pipe((0,fe.n)(ht=>ht.exists?(ht.data(),Ge.valueChanges()):(0,oe.H)(Ge.set(this.defaultTheme)).pipe((0,fe.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ge.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,Te.W)(St=>(console.error("Error fetching theme:",St),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(be,at){const Ge=this.firestore.collection("businesses").doc(be).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+be+" theme service updateColors: ",at),Ge.set(at,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),at.themeFileName&&this.applyThemeFile(at.themeFileName)}).catch(St=>{throw console.error("Theme Service: - Error updating colors:",St),new Error(St)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(be){return this.loadCss(`assets/themes/${be}`)}loadCss(be){return new Promise((at,Ge)=>{console.log("Load css from  file:",be);const St=document.createElement("link");St.rel="stylesheet",St.href=be,St.onload=()=>{console.log(`Loaded theme: ${be}`),at()},St.onerror=ht=>{console.error(`Failed to load theme: ${be}`,ht),Ge(ht)},document.head.appendChild(St)})}static{this.\u0275fac=function(at){return new(at||z)(Ce.KVO(Ne.Qe))}}static{this.\u0275prov=Ce.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},8704:(dn,Je,k)=>{k.d(Je,{N:()=>Ce});var o=k(6354),oe=k(9437),r=k(7673),ye=k(7705),fe=k(6340),Te=k(8721);let Ce=(()=>{class Ne{constructor(z,ne){this.firestore=z,this.storage=ne,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(z){const ne=z&&z.trim()?z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ne).snapshotChanges().pipe((0,o.T)(be=>{const at=be.payload.data(),Ge=be.payload.id;if(at){const{id:St,testimonials:ht=[],...jt}=at;return{id:Ge,testimonials:ht.map(rn=>({...rn,photoURL:rn.photoURL&&rn.photoURL.trim()?rn.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(z){return this.storage.ref(z).getDownloadURL().pipe((0,oe.W)(ne=>(console.error("Error fetching photo URL:",ne),(0,r.of)(""))))}getEmployeesByBusinessId(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).get().pipe((0,o.T)(ne=>{if(ne.exists){const be=ne.data();return be&&be.employees?be.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,oe.W)(ne=>(console.error("Error fetching employees:",ne),(0,r.of)([]))))}getBusinessGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(z){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(z,ne){return(null==z||""==z||""===z)&&(z=this.defaultBusinessId),this.firestore.collection("businesses").doc(z).collection(ne).valueChanges()}checkImageExists(z){return this.storage.refFromURL(z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ne){return new(ne||Ne)(ye.KVO(fe.Qe),ye.KVO(Te.ap))}}static{this.\u0275prov=ye.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},7875:(dn,Je,k)=>{var o={};k.r(o),k.d(o,{afterMain:()=>Mt,afterRead:()=>ie,afterWrite:()=>Rn,applyStyles:()=>cr,arrow:()=>Nr,auto:()=>ae,basePlacements:()=>Oe,beforeMain:()=>ge,beforeRead:()=>M,beforeWrite:()=>gn,bottom:()=>Gr,clippingParents:()=>qn,computeStyles:()=>Pi,createPopper:()=>Fr,createPopperBase:()=>es,createPopperLite:()=>Bi,detectOverflow:()=>pr,end:()=>Kt,eventListeners:()=>si,flip:()=>Bs,hide:()=>dr,left:()=>ut,main:()=>lt,modifierPhases:()=>Er,offset:()=>Z,placements:()=>$,popper:()=>vr,popperGenerator:()=>Si,popperOffsets:()=>De,preventOverflow:()=>bt,read:()=>F,reference:()=>yi,right:()=>Ye,start:()=>At,top:()=>kn,variationPlacements:()=>Ct,viewport:()=>Wr,write:()=>mn});var oe=k(345),r=k(7705),ye=k(1626),fe=k(6814),Te=k(8059),Ce=k(8704),Ne=k(6861),xe=k(923),z=k(177),ne=k(7673),be=k(6354),at=k(5558),Ge=k(9437),St=k(4591);function ht(g,u){if(1&g&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&g){const l=u.$implicit;r.R7$(1),r.FS9("alt",l.name),r.Y8G("src",l.photoURL,r.B4B),r.R7$(2),r.JRh(l.name),r.R7$(2),r.JRh(l.role),r.R7$(2),r.JRh(l.bio)}}function jt(g,u){if(1&g&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,ht,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,2,l.employees$))}}let Nt=(()=>{class g{constructor(l,y){this.route=l,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,be.T)(l=>l.get("id")||""),(0,at.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,Ge.W)(l=>(console.error("Error fetching employees:",l),(0,ne.of)([]))))}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(Ce.N))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,T){1&y&&r.DNE(0,jt,5,4,"div",0),2&y&&r.Y8G("ngIf",T.employees$)},dependencies:[z.Sq,z.bT,St.L,z.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return g})();var rn=k(4593),ze=k(491);let pe=(()=>{class g{constructor(l,y){this.route=l,this.router=y,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Les us make you feel at home"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y);const T="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;y&&T[y]?(this.backgroundImage=`url(${T[y].image})`,this.message=T[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(fe.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,T){1&y&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&y&&(r.xc7("background-image",T.backgroundImage),r.R7$(3),r.JRh(T.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return g})(),Ze=(()=>{class g{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,T){1&y&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&y&&(r.R7$(2),r.FS9("src",T.imageURL,r.B4B),r.R7$(3),r.SpI('" ',T.text,'"'),r.R7$(2),r.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return g})();function ke(g,u){if(1&g&&(r.qex(0),r.j41(1,"button",3),r.EFF(2),r.k0s(),r.bVm()),2&g){const l=r.XpG();r.R7$(2),r.JRh(l.buttonText)}}function tt(g,u){if(1&g&&(r.j41(0,"a",4),r.EFF(1),r.k0s()),2&g){const l=r.XpG();r.R7$(1),r.JRh(l.buttonText)}}const Et=function(g,u){return{"background-color":g,color:u}};let Vt=(()=>{class g{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,T){if(1&y&&(r.j41(0,"div",0)(1,"h2"),r.EFF(2),r.k0s(),r.DNE(3,ke,3,1,"ng-container",1),r.DNE(4,tt,2,1,"ng-template",null,2,r.C5r),r.k0s()),2&y){const B=r.sdS(5);r.Y8G("ngStyle",r.l_i(4,Et,T.bgColor,T.textColor)),r.R7$(2),r.JRh(T.text),r.R7$(1),r.Y8G("ngIf",T.isButton)("ngIfElse",B)}},dependencies:[z.bT,z.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return g})();var we=k(8035),sn=k(5449);function Tn(g,u){if(1&g&&(r.j41(0,"section",17)(1,"div",18),r.nrm(2,"h2",19),r.k0s(),r.nrm(3,"div",20),r.k0s()),2&g){const l=u.ngIf;r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function or(g,u){if(1&g&&(r.j41(0,"div",21),r.nrm(1,"img",22),r.j41(2,"div",18),r.nrm(3,"h2",19),r.k0s(),r.nrm(4,"div",20),r.k0s()),2&g){const l=u.ngIf;r.R7$(1),r.Y8G("src",l.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",r.B4B),r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function Lt(g,u){if(1&g&&(r.j41(0,"div",23),r.nrm(1,"img",22),r.j41(2,"div",18),r.nrm(3,"h2",19),r.k0s(),r.nrm(4,"div",20),r.k0s()),2&g){const l=u.ngIf;r.R7$(1),r.Y8G("src",l.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",r.B4B),r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function Yt(g,u){if(1&g&&(r.j41(0,"section",17)(1,"div",18),r.nrm(2,"h2",19),r.k0s(),r.nrm(3,"div",20),r.k0s()),2&g){const l=u.ngIf;r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function Xt(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.j41(8,"div",7),r.DNE(9,Tn,4,2,"section",8),r.nI1(10,"sectionFilter"),r.j41(11,"section",9),r.DNE(12,or,5,3,"div",10),r.nI1(13,"sectionFilter"),r.DNE(14,Lt,5,3,"div",11),r.nI1(15,"sectionFilter"),r.k0s(),r.DNE(16,Yt,4,2,"section",8),r.nI1(17,"sectionFilter"),r.j41(18,"section",12),r.nrm(19,"app-meet-the-team",13),r.k0s()(),r.j41(20,"div",14)(21,"div",15)(22,"h2"),r.EFF(23,"Come Meet Our Family"),r.k0s(),r.j41(24,"p"),r.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),r.k0s(),r.j41(26,"button",16),r.bIt("click",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.navigateToContact())}),r.EFF(27," Schedule a Visit "),r.k0s()()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(9),r.Y8G("ngIf",r.i5U(10,5,l.business.sections,"AboutUsCenterTop")),r.R7$(3),r.Y8G("ngIf",r.i5U(13,8,l.business.sections,"AboutUsLeft")),r.R7$(2),r.Y8G("ngIf",r.i5U(15,11,l.business.sections,"AboutUsRight")),r.R7$(2),r.Y8G("ngIf",r.i5U(17,14,l.business.sections,"AboutUsCenterBottom")),r.R7$(3),r.Y8G("businessId",l.business.id)}}function gt(g,u){if(1&g&&r.nrm(0,"app-right-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function Ue(g,u){if(1&g&&r.nrm(0,"app-left-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",(null==l?null:l.sectionTitle)||"")("content",l.sectionContent||"")}}function st(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",24)(3,"section",25),r.DNE(4,gt,1,4,"app-right-text",26),r.nI1(5,"sectionFilter"),r.DNE(6,Ue,1,4,"app-left-text",26),r.nI1(7,"sectionFilter"),r.k0s(),r.nrm(8,"app-testimonial-image",27)(9,"app-call-to-action",28)(10,"app-meet-the-team"),r.k0s(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(4),r.Y8G("ngIf",r.i5U(5,10,l.business.sections,"AboutUsRight")),r.R7$(2),r.Y8G("ngIf",r.i5U(7,13,l.business.sections,"AboutUsLeft")),r.R7$(2),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function ln(g,u){if(1&g&&r.nrm(0,"app-right-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function Ke(g,u){if(1&g&&r.nrm(0,"app-left-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function Ae(g,u){if(1&g&&r.nrm(0,"app-right-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function ve(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"section",25),r.DNE(3,ln,1,4,"app-right-text",26),r.nI1(4,"sectionFilter"),r.DNE(5,Ke,1,4,"app-left-text",26),r.nI1(6,"sectionFilter"),r.DNE(7,Ae,1,4,"app-right-text",26),r.nI1(8,"sectionFilter"),r.k0s(),r.j41(9,"section"),r.nrm(10,"app-latest-products",30),r.k0s(),r.nrm(11,"app-testimonial-image",27)(12,"app-call-to-action",28)(13,"app-meet-the-team"),r.bVm()),2&g){const l=r.XpG(2);r.R7$(3),r.Y8G("ngIf",r.i5U(4,12,l.business.sections,"AboutUsRight")),r.R7$(2),r.Y8G("ngIf",r.i5U(6,15,l.business.sections,"AboutUsLeft")),r.R7$(2),r.Y8G("ngIf",r.i5U(8,18,l.business.sections,"AboutUsCenterBottom")),r.R7$(3),r.Y8G("layoutType","clemo"),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[2].name)("text",l.business.testimonials[2].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function je(g,u){if(1&g&&r.nrm(0,"app-right-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function ot(g,u){if(1&g&&r.nrm(0,"app-left-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function nt(g,u){if(1&g&&r.nrm(0,"app-right-text",29),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")}}function Bt(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero",30),r.j41(2,"section",25),r.DNE(3,je,1,4,"app-right-text",26),r.nI1(4,"sectionFilter"),r.DNE(5,ot,1,4,"app-left-text",26),r.nI1(6,"sectionFilter"),r.DNE(7,nt,1,4,"app-right-text",26),r.nI1(8,"sectionFilter"),r.k0s(),r.nrm(9,"app-call-to-action",28)(10,"app-meet-the-team"),r.bVm()),2&g){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(2),r.Y8G("ngIf",r.i5U(4,9,l.business.sections,"AboutUsRight")),r.R7$(2),r.Y8G("ngIf",r.i5U(6,12,l.business.sections,"AboutUsLeft")),r.R7$(2),r.Y8G("ngIf",r.i5U(8,15,l.business.sections,"AboutUsCenterBottom")),r.R7$(2),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Pn(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero")(2,"app-testimonial-image",27)(3,"app-call-to-action",28),r.bVm()),2&g){const l=r.XpG(2);r.R7$(2),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[5].name)("text",l.business.testimonials[5].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function fr(g,u){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Xt,28,17,"ng-container",2),r.DNE(3,st,11,16,"ng-container",2),r.DNE(4,ve,14,21,"ng-container",2),r.DNE(5,Bt,11,18,"ng-container",2),r.DNE(6,Pn,4,8,"ng-container",3),r.k0s()()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb")}}let hn=(()=>{class g{constructor(l,y,T,B,te){this.webContent=l,this.route=y,this.router=T,this.metaService=B,this.businessDataService=te,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,console.log("About Us Business.Sections",l?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(Ce.N),r.rXU(fe.nX),r.rXU(fe.Ix),r.rXU(Ne.R),r.rXU(xe.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","business-story",4,"ngIf"],[1,"mission-vision"],["class","mission",4,"ngIf"],["class","vision",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"],[3,"layoutType"]],template:function(y,T){1&y&&r.DNE(0,fr,7,5,"div",0),2&y&&r.Y8G("ngIf",T.business)},dependencies:[z.bT,z.ux,z.e1,z.fG,Nt,rn.F,ze.G,pe,Ze,Vt,we.H,sn.W],styles:[".hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}"]})}}return g})();var jn=k(1915);function nn(g,u){if(1&g&&(r.j41(0,"section",19)(1,"div",9),r.nrm(2,"h2",20),r.k0s(),r.nrm(3,"h3",21),r.k0s()),2&g){const l=u.ngIf;r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function er(g,u){if(1&g&&(r.j41(0,"div",22),r.nrm(1,"img",23),r.j41(2,"div",9),r.nrm(3,"h2",20),r.k0s(),r.nrm(4,"div",21),r.k0s()),2&g){const l=u.ngIf;r.R7$(1),r.Y8G("src",l.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",r.B4B),r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function Bn(g,u){if(1&g&&(r.j41(0,"div",24),r.nrm(1,"img",23),r.j41(2,"div",9),r.nrm(3,"h2",20),r.k0s(),r.nrm(4,"div",21),r.k0s()),2&g){const l=u.ngIf;r.R7$(1),r.Y8G("src",l.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",r.B4B),r.R7$(2),r.Y8G("innerHTML",l.sectionTitle||"",r.npT),r.R7$(1),r.Y8G("innerHTML",l.sectionContent||"",r.npT)}}function Ut(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),r.EFF(12,"Our Services"),r.k0s()(),r.nrm(13,"app-item-list",11),r.k0s(),r.j41(14,"section",8)(15,"div",9)(16,"h2",10),r.EFF(17,"Our Benefits"),r.k0s()(),r.nrm(18,"app-item-list",11),r.k0s(),r.DNE(19,nn,4,2,"section",12),r.nI1(20,"sectionFilter"),r.j41(21,"section",13),r.DNE(22,er,5,3,"div",14),r.nI1(23,"sectionFilter"),r.DNE(24,Bn,5,3,"div",15),r.nI1(25,"sectionFilter"),r.k0s()(),r.j41(26,"div",16)(27,"div",17)(28,"h2"),r.EFF(29,"Ready to Experience Exceptional Care?"),r.k0s(),r.j41(30,"p"),r.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),r.k0s(),r.j41(32,"button",18),r.bIt("click",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.navigateToContact())}),r.EFF(33," Book a Consultation "),r.k0s()()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(13),r.Y8G("layoutType",l.business.theme.themeType)("services",l.business.services)("minimal",!1),r.R7$(5),r.Y8G("layoutType",l.business.theme.themeType)("services",l.business.benefits)("minimal",!1),r.R7$(1),r.Y8G("ngIf",r.i5U(20,9,l.business.sections,"ServicesCenterTop")),r.R7$(3),r.Y8G("ngIf",r.i5U(23,12,l.business.sections,"ServicesLeft")),r.R7$(2),r.Y8G("ngIf",r.i5U(25,15,l.business.sections,"ServicesRight"))}}function Ht(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",25),r.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),r.k0s(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(3),r.Y8G("layoutType",l.business.theme.themeType)("services",l.business.services),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name)("text",l.business.testimonials[1].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function Dr(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",25),r.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),r.k0s(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(3),r.Y8G("layoutType",l.business.theme.themeType)("services",l.business.services),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[4].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function yn(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero",29),r.j41(2,"div",25),r.nrm(3,"app-item-list",26)(4,"app-call-to-action",28),r.k0s(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(2),r.Y8G("layoutType",l.business.theme.themeType)("services",l.business.services),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}const ir=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Dn=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},Mn=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Or=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Zn=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},ds=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},bn=function(g,u,l,y,T,B){return[g,u,l,y,T,B]};function ri(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",25),r.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),r.k0s(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(3),r.Y8G("layoutType",l.business.theme.themeType)("services",r.l4e(16,bn,r.lJ4(10,ir),r.lJ4(11,Dn),r.lJ4(12,Mn),r.lJ4(13,Or),r.lJ4(14,Zn),r.lJ4(15,ds))),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[6].name)("text",l.business.testimonials[6].quote),r.R7$(1),r.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",l.business.theme.backgroundColor)("textColor",l.business.theme.textColor)}}function ar(g,u){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Ut,34,18,"ng-container",2),r.DNE(3,Ht,6,10,"ng-container",2),r.DNE(4,Dr,6,10,"ng-container",2),r.DNE(5,yn,5,8,"ng-container",2),r.DNE(6,ri,6,23,"ng-container",3),r.k0s()()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb")}}let xr=(()=>{class g{constructor(l,y,T){this.router=l,this.businessDataService=y,this.metaService=T,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.businessId=l?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.Ix),r.rXU(xe.A),r.rXU(Ne.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[3,"layoutType","services","minimal"],["class","special-programs",4,"ngIf"],[1,"tours-consulting"],["class","tours",4,"ngIf"],["class","consulting",4,"ngIf"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"special-programs"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"tours"],["alt","Contact Image",3,"src"],[1,"consulting"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"layoutType"]],template:function(y,T){1&y&&r.DNE(0,ar,7,5,"div",0),2&y&&r.Y8G("ngIf",T.business)},dependencies:[z.bT,z.ux,z.e1,z.fG,jn.j,pe,Ze,Vt,sn.W],styles:[".hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}}return g})();var kn="top",Gr="bottom",Ye="right",ut="left",ae="auto",Oe=[kn,Gr,Ye,ut],At="start",Kt="end",qn="clippingParents",Wr="viewport",vr="popper",yi="reference",Ct=Oe.reduce(function(g,u){return g.concat([u+"-"+At,u+"-"+Kt])},[]),$=[].concat(Oe,[ae]).reduce(function(g,u){return g.concat([u,u+"-"+At,u+"-"+Kt])},[]),M="beforeRead",F="read",ie="afterRead",ge="beforeMain",lt="main",Mt="afterMain",gn="beforeWrite",mn="write",Rn="afterWrite",Er=[M,F,ie,ge,lt,Mt,gn,mn,Rn];function Pe(g){return g?(g.nodeName||"").toLowerCase():null}function Se(g){if(null==g)return window;if("[object Window]"!==g.toString()){var u=g.ownerDocument;return u&&u.defaultView||window}return g}function $e(g){return g instanceof Se(g).Element||g instanceof Element}function Ot(g){return g instanceof Se(g).HTMLElement||g instanceof HTMLElement}function Jt(g){return!(typeof ShadowRoot>"u")&&(g instanceof Se(g).ShadowRoot||g instanceof ShadowRoot)}const cr={name:"applyStyles",enabled:!0,phase:"write",fn:function In(g){var u=g.state;Object.keys(u.elements).forEach(function(l){var y=u.styles[l]||{},T=u.attributes[l]||{},B=u.elements[l];!Ot(B)||!Pe(B)||(Object.assign(B.style,y),Object.keys(T).forEach(function(te){var de=T[te];!1===de?B.removeAttribute(te):B.setAttribute(te,!0===de?"":de)}))})},effect:function vn(g){var u=g.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(y){var T=u.elements[y],B=u.attributes[y]||{},de=Object.keys(u.styles.hasOwnProperty(y)?u.styles[y]:l[y]).reduce(function(Le,ct){return Le[ct]="",Le},{});!Ot(T)||!Pe(T)||(Object.assign(T.style,de),Object.keys(B).forEach(function(Le){T.removeAttribute(Le)}))})}},requires:["computeStyles"]};function un(g){return g.split("-")[0]}var Xr=Math.max,_t=Math.min,et=Math.round;function Rt(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function fn(){return!/^((?!chrome|android).)*safari/i.test(Rt())}function Un(g,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var y=g.getBoundingClientRect(),T=1,B=1;u&&Ot(g)&&(T=g.offsetWidth>0&&et(y.width)/g.offsetWidth||1,B=g.offsetHeight>0&&et(y.height)/g.offsetHeight||1);var de=($e(g)?Se(g):window).visualViewport,Le=!fn()&&l,ct=(y.left+(Le&&de?de.offsetLeft:0))/T,Tt=(y.top+(Le&&de?de.offsetTop:0))/B,tn=y.width/T,Wn=y.height/B;return{width:tn,height:Wn,top:Tt,right:ct+tn,bottom:Tt+Wn,left:ct,x:ct,y:Tt}}function _n(g){var u=Un(g),l=g.offsetWidth,y=g.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-y)<=1&&(y=u.height),{x:g.offsetLeft,y:g.offsetTop,width:l,height:y}}function Ln(g,u){var l=u.getRootNode&&u.getRootNode();if(g.contains(u))return!0;if(l&&Jt(l)){var y=u;do{if(y&&g.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function ur(g){return Se(g).getComputedStyle(g)}function Hr(g){return["table","td","th"].indexOf(Pe(g))>=0}function Yn(g){return(($e(g)?g.ownerDocument:g.document)||window.document).documentElement}function Ee(g){return"html"===Pe(g)?g:g.assignedSlot||g.parentNode||(Jt(g)?g.host:null)||Yn(g)}function zt(g){return Ot(g)&&"fixed"!==ur(g).position?g.offsetParent:null}function He(g){for(var u=Se(g),l=zt(g);l&&Hr(l)&&"static"===ur(l).position;)l=zt(l);return l&&("html"===Pe(l)||"body"===Pe(l)&&"static"===ur(l).position)?u:l||function ee(g){var u=/firefox/i.test(Rt());if(/Trident/i.test(Rt())&&Ot(g)&&"fixed"===ur(g).position)return null;var T=Ee(g);for(Jt(T)&&(T=T.host);Ot(T)&&["html","body"].indexOf(Pe(T))<0;){var B=ur(T);if("none"!==B.transform||"none"!==B.perspective||"paint"===B.contain||-1!==["transform","perspective"].indexOf(B.willChange)||u&&"filter"===B.willChange||u&&B.filter&&"none"!==B.filter)return T;T=T.parentNode}return null}(g)||u}function kt(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function lr(g,u,l){return Xr(g,_t(u,l))}function Fi(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function qi(g,u){return u.reduce(function(l,y){return l[y]=g,l},{})}const Nr={name:"arrow",enabled:!0,phase:"main",fn:function Xi(g){var u,l=g.state,y=g.name,T=g.options,B=l.elements.arrow,te=l.modifiersData.popperOffsets,de=un(l.placement),Le=kt(de),Tt=[ut,Ye].indexOf(de)>=0?"height":"width";if(B&&te){var tn=function(u,l){return Fi("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:qi(u,Oe))}(T.padding,l),Wn=_n(B),Sn="y"===Le?kn:ut,Fn="y"===Le?Gr:Ye,On=l.rects.reference[Tt]+l.rects.reference[Le]-te[Le]-l.rects.popper[Tt],br=te[Le]-l.rects.reference[Le],Qr=He(B),di=Qr?"y"===Le?Qr.clientHeight||0:Qr.clientWidth||0:0,Ci=di/2-Wn[Tt]/2+(On/2-br/2),Di=lr(tn[Sn],Ci,di-Wn[Tt]-tn[Fn]);l.modifiersData[y]=((u={})[Le]=Di,u.centerOffset=Di-Ci,u)}},effect:function ji(g){var u=g.state,y=g.options.element,T=void 0===y?"[data-popper-arrow]":y;null!=T&&("string"==typeof T&&!(T=u.elements.popper.querySelector(T))||Ln(u.elements.popper,T)&&(u.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cs(g){return g.split("-")[1]}var ko={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wa(g){var u,l=g.popper,y=g.popperRect,T=g.placement,B=g.variation,te=g.offsets,de=g.position,Le=g.gpuAcceleration,ct=g.adaptive,Tt=g.roundOffsets,tn=g.isFixed,Wn=te.x,Sn=void 0===Wn?0:Wn,Fn=te.y,On=void 0===Fn?0:Fn,br="function"==typeof Tt?Tt({x:Sn,y:On}):{x:Sn,y:On};Sn=br.x,On=br.y;var Qr=te.hasOwnProperty("x"),di=te.hasOwnProperty("y"),bi=ut,Ar=kn,ki=window;if(ct){var Ci=He(l),Di="clientHeight",us="clientWidth";Ci===Se(l)&&"static"!==ur(Ci=Yn(l)).position&&"absolute"===de&&(Di="scrollHeight",us="scrollWidth"),(T===kn||(T===ut||T===Ye)&&B===Kt)&&(Ar=Gr,On-=(tn&&Ci===ki&&ki.visualViewport?ki.visualViewport.height:Ci[Di])-y.height,On*=Le?1:-1),T!==ut&&(T!==kn&&T!==Gr||B!==Kt)||(bi=Ye,Sn-=(tn&&Ci===ki&&ki.visualViewport?ki.visualViewport.width:Ci[us])-y.width,Sn*=Le?1:-1)}var Qs,Co=Object.assign({position:de},ct&&ko),aa=!0===Tt?function Ti(g,u){var y=g.y,T=u.devicePixelRatio||1;return{x:et(g.x*T)/T||0,y:et(y*T)/T||0}}({x:Sn,y:On},Se(l)):{x:Sn,y:On};return Sn=aa.x,On=aa.y,Object.assign({},Co,Le?((Qs={})[Ar]=di?"0":"",Qs[bi]=Qr?"0":"",Qs.transform=(ki.devicePixelRatio||1)<=1?"translate("+Sn+"px, "+On+"px)":"translate3d("+Sn+"px, "+On+"px, 0)",Qs):((u={})[Ar]=di?On+"px":"",u[bi]=Qr?Sn+"px":"",u.transform="",u))}const Pi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ec(g){var u=g.state,l=g.options,y=l.gpuAcceleration,T=void 0===y||y,B=l.adaptive,te=void 0===B||B,de=l.roundOffsets,Le=void 0===de||de,ct={placement:un(u.placement),variation:Cs(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:T,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,wa(Object.assign({},ct,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:te,roundOffsets:Le})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,wa(Object.assign({},ct,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Le})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Fo={passive:!0};const si={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Zs(g){var u=g.state,l=g.instance,y=g.options,T=y.scroll,B=void 0===T||T,te=y.resize,de=void 0===te||te,Le=Se(u.elements.popper),ct=[].concat(u.scrollParents.reference,u.scrollParents.popper);return B&&ct.forEach(function(Tt){Tt.addEventListener("scroll",l.update,Fo)}),de&&Le.addEventListener("resize",l.update,Fo),function(){B&&ct.forEach(function(Tt){Tt.removeEventListener("scroll",l.update,Fo)}),de&&Le.removeEventListener("resize",l.update,Fo)}},data:{}};var js={left:"right",right:"left",bottom:"top",top:"bottom"};function ys(g){return g.replace(/left|right|bottom|top/g,function(u){return js[u]})}var To={start:"end",end:"start"};function xs(g){return g.replace(/start|end/g,function(u){return To[u]})}function kr(g){var u=Se(g);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function hi(g){return Un(Yn(g)).left+kr(g).scrollLeft}function fi(g){var u=ur(g);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function rs(g){return["html","body","#document"].indexOf(Pe(g))>=0?g.ownerDocument.body:Ot(g)&&fi(g)?g:rs(Ee(g))}function Ms(g,u){var l;void 0===u&&(u=[]);var y=rs(g),T=y===(null==(l=g.ownerDocument)?void 0:l.body),B=Se(y),te=T?[B].concat(B.visualViewport||[],fi(y)?y:[]):y,de=u.concat(te);return T?de:de.concat(Ms(Ee(te)))}function Qi(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Rs(g,u,l){return u===Wr?Qi(function Oi(g,u){var l=Se(g),y=Yn(g),T=l.visualViewport,B=y.clientWidth,te=y.clientHeight,de=0,Le=0;if(T){B=T.width,te=T.height;var ct=fn();(ct||!ct&&"fixed"===u)&&(de=T.offsetLeft,Le=T.offsetTop)}return{width:B,height:te,x:de+hi(g),y:Le}}(g,l)):$e(u)?function Ts(g,u){var l=Un(g,!1,"fixed"===u);return l.top=l.top+g.clientTop,l.left=l.left+g.clientLeft,l.bottom=l.top+g.clientHeight,l.right=l.left+g.clientWidth,l.width=g.clientWidth,l.height=g.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):Qi(function Ps(g){var u,l=Yn(g),y=kr(g),T=null==(u=g.ownerDocument)?void 0:u.body,B=Xr(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),te=Xr(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),de=-y.scrollLeft+hi(g),Le=-y.scrollTop;return"rtl"===ur(T||l).direction&&(de+=Xr(l.clientWidth,T?T.clientWidth:0)-B),{width:B,height:te,x:de,y:Le}}(Yn(g)))}function gr(g){var Le,u=g.reference,l=g.element,y=g.placement,T=y?un(y):null,B=y?Cs(y):null,te=u.x+u.width/2-l.width/2,de=u.y+u.height/2-l.height/2;switch(T){case kn:Le={x:te,y:u.y-l.height};break;case Gr:Le={x:te,y:u.y+u.height};break;case Ye:Le={x:u.x+u.width,y:de};break;case ut:Le={x:u.x-l.width,y:de};break;default:Le={x:u.x,y:u.y}}var ct=T?kt(T):null;if(null!=ct){var Tt="y"===ct?"height":"width";switch(B){case At:Le[ct]=Le[ct]-(u[Tt]/2-l[Tt]/2);break;case Kt:Le[ct]=Le[ct]+(u[Tt]/2-l[Tt]/2)}}return Le}function pr(g,u){void 0===u&&(u={});var y=u.placement,T=void 0===y?g.placement:y,B=u.strategy,te=void 0===B?g.strategy:B,de=u.boundary,Le=void 0===de?qn:de,ct=u.rootBoundary,Tt=void 0===ct?Wr:ct,tn=u.elementContext,Wn=void 0===tn?vr:tn,Sn=u.altBoundary,Fn=void 0!==Sn&&Sn,On=u.padding,br=void 0===On?0:On,Qr=Fi("number"!=typeof br?br:qi(br,Oe)),bi=g.rects.popper,Ar=g.elements[Fn?Wn===vr?yi:vr:Wn],ki=function wn(g,u,l,y){var T="clippingParents"===u?function pi(g){var u=Ms(Ee(g)),y=["absolute","fixed"].indexOf(ur(g).position)>=0&&Ot(g)?He(g):g;return $e(y)?u.filter(function(T){return $e(T)&&Ln(T,y)&&"body"!==Pe(T)}):[]}(g):[].concat(u),B=[].concat(T,[l]),de=B.reduce(function(Le,ct){var Tt=Rs(g,ct,y);return Le.top=Xr(Tt.top,Le.top),Le.right=_t(Tt.right,Le.right),Le.bottom=_t(Tt.bottom,Le.bottom),Le.left=Xr(Tt.left,Le.left),Le},Rs(g,B[0],y));return de.width=de.right-de.left,de.height=de.bottom-de.top,de.x=de.left,de.y=de.top,de}($e(Ar)?Ar:Ar.contextElement||Yn(g.elements.popper),Le,Tt,te),Ci=Un(g.elements.reference),Di=gr({reference:Ci,element:bi,strategy:"absolute",placement:T}),us=Qi(Object.assign({},bi,Di)),ns=Wn===vr?us:Ci,Ji={top:ki.top-ns.top+Qr.top,bottom:ns.bottom-ki.bottom+Qr.bottom,left:ki.left-ns.left+Qr.left,right:ns.right-ki.right+Qr.right},Co=g.modifiersData.offset;if(Wn===vr&&Co){var aa=Co[T];Object.keys(Ji).forEach(function(Qs){var Eu=[Ye,Gr].indexOf(Qs)>=0?1:-1,bu=[kn,Gr].indexOf(Qs)>=0?"y":"x";Ji[Qs]+=aa[bu]*Eu})}return Ji}const Bs={name:"flip",enabled:!0,phase:"main",fn:function zi(g){var u=g.state,l=g.options,y=g.name;if(!u.modifiersData[y]._skip){for(var T=l.mainAxis,B=void 0===T||T,te=l.altAxis,de=void 0===te||te,Le=l.fallbackPlacements,ct=l.padding,Tt=l.boundary,tn=l.rootBoundary,Wn=l.altBoundary,Sn=l.flipVariations,Fn=void 0===Sn||Sn,On=l.allowedAutoPlacements,br=u.options.placement,Qr=un(br),bi=Le||(Qr!==br&&Fn?function hs(g){if(un(g)===ae)return[];var u=ys(g);return[xs(g),u,xs(u)]}(br):[ys(br)]),Ar=[br].concat(bi).reduce(function(Zi,Ml){return Zi.concat(un(Ml)===ae?function is(g,u){void 0===u&&(u={});var T=u.boundary,B=u.rootBoundary,te=u.padding,de=u.flipVariations,Le=u.allowedAutoPlacements,ct=void 0===Le?$:Le,Tt=Cs(u.placement),tn=Tt?de?Ct:Ct.filter(function(Fn){return Cs(Fn)===Tt}):Oe,Wn=tn.filter(function(Fn){return ct.indexOf(Fn)>=0});0===Wn.length&&(Wn=tn);var Sn=Wn.reduce(function(Fn,On){return Fn[On]=pr(g,{placement:On,boundary:T,rootBoundary:B,padding:te})[un(On)],Fn},{});return Object.keys(Sn).sort(function(Fn,On){return Sn[Fn]-Sn[On]})}(u,{placement:Ml,boundary:Tt,rootBoundary:tn,padding:ct,flipVariations:Fn,allowedAutoPlacements:On}):Ml)},[]),ki=u.rects.reference,Ci=u.rects.popper,Di=new Map,us=!0,ns=Ar[0],Ji=0;Ji<Ar.length;Ji++){var Co=Ar[Ji],aa=un(Co),Qs=Cs(Co)===At,Eu=[kn,Gr].indexOf(aa)>=0,bu=Eu?"width":"height",zn=pr(u,{placement:Co,boundary:Tt,rootBoundary:tn,altBoundary:Wn,padding:ct}),rr=Eu?Qs?Ye:ut:Qs?Gr:kn;ki[bu]>Ci[bu]&&(rr=ys(rr));var Mr=ys(rr),_i=[];if(B&&_i.push(zn[aa]<=0),de&&_i.push(zn[rr]<=0,zn[Mr]<=0),_i.every(function(Zi){return Zi})){ns=Co,us=!1;break}Di.set(Co,_i)}if(us)for(var Za=function(Ml){var zf=Ar.find(function(fo){var Va=Di.get(fo);if(Va)return Va.slice(0,Ml).every(function(Ia){return Ia})});if(zf)return ns=zf,"break"},No=Fn?3:1;No>0&&"break"!==Za(No);No--);u.placement!==ns&&(u.modifiersData[y]._skip=!0,u.placement=ns,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ai(g,u,l){return void 0===l&&(l={x:0,y:0}),{top:g.top-u.height-l.y,right:g.right-u.width+l.x,bottom:g.bottom-u.height+l.y,left:g.left-u.width-l.x}}function ss(g){return[kn,Ye,Gr,ut].some(function(u){return g[u]>=0})}const dr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Os(g){var u=g.state,l=g.name,y=u.rects.reference,T=u.rects.popper,B=u.modifiersData.preventOverflow,te=pr(u,{elementContext:"reference"}),de=pr(u,{altBoundary:!0}),Le=ai(te,y),ct=ai(de,T,B),Tt=ss(Le),tn=ss(ct);u.modifiersData[l]={referenceClippingOffsets:Le,popperEscapeOffsets:ct,isReferenceHidden:Tt,hasPopperEscaped:tn},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":Tt,"data-popper-escaped":tn})}},Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function $s(g){var u=g.state,y=g.name,T=g.options.offset,B=void 0===T?[0,0]:T,te=$.reduce(function(Tt,tn){return Tt[tn]=function vs(g,u,l){var y=un(g),T=[ut,kn].indexOf(y)>=0?-1:1,B="function"==typeof l?l(Object.assign({},u,{placement:g})):l,te=B[0],de=B[1];return te=te||0,de=(de||0)*T,[ut,Ye].indexOf(y)>=0?{x:de,y:te}:{x:te,y:de}}(tn,u.rects,B),Tt},{}),de=te[u.placement],ct=de.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=de.x,u.modifiersData.popperOffsets.y+=ct),u.modifiersData[y]=te}},De={name:"popperOffsets",enabled:!0,phase:"read",fn:function Q(g){var u=g.state;u.modifiersData[g.name]=gr({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},bt={name:"preventOverflow",enabled:!0,phase:"main",fn:function it(g){var u=g.state,l=g.options,y=g.name,T=l.mainAxis,B=void 0===T||T,te=l.altAxis,de=void 0!==te&&te,Wn=l.tether,Sn=void 0===Wn||Wn,Fn=l.tetherOffset,On=void 0===Fn?0:Fn,br=pr(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Qr=un(u.placement),di=Cs(u.placement),bi=!di,Ar=kt(Qr),ki=function Fe(g){return"x"===g?"y":"x"}(Ar),Ci=u.modifiersData.popperOffsets,Di=u.rects.reference,us=u.rects.popper,ns="function"==typeof On?On(Object.assign({},u.rects,{placement:u.placement})):On,Ji="number"==typeof ns?{mainAxis:ns,altAxis:ns}:Object.assign({mainAxis:0,altAxis:0},ns),Co=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,aa={x:0,y:0};if(Ci){if(B){var Qs,Eu="y"===Ar?kn:ut,bu="y"===Ar?Gr:Ye,zn="y"===Ar?"height":"width",rr=Ci[Ar],Mr=rr+br[Eu],_i=rr-br[bu],Js=Sn?-us[zn]/2:0,Za=di===At?Di[zn]:us[zn],No=di===At?-us[zn]:-Di[zn],Ic=u.elements.arrow,Zi=Sn&&Ic?_n(Ic):{width:0,height:0},Ml=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zf=Ml[Eu],fo=Ml[bu],Va=lr(0,Di[zn],Zi[zn]),Ia=bi?Di[zn]/2-Js-Va-zf-Ji.mainAxis:Za-Va-zf-Ji.mainAxis,Wf=bi?-Di[zn]/2+Js+Va+fo+Ji.mainAxis:No+Va+fo+Ji.mainAxis,Lh=u.elements.arrow&&He(u.elements.arrow),N0=Lh?"y"===Ar?Lh.clientTop||0:Lh.clientLeft||0:0,Av=null!=(Qs=Co?.[Ar])?Qs:0,F0=rr+Wf-Av,Dv=lr(Sn?_t(Mr,rr+Ia-Av-N0):Mr,rr,Sn?Xr(_i,F0):_i);Ci[Ar]=Dv,aa[Ar]=Dv-rr}if(de){var Sv,Vh=Ci[ki],Cu="y"===ki?"height":"width",U0=Vh+br["x"===Ar?kn:ut],j0=Vh-br["x"===Ar?Gr:Ye],Uh=-1!==[kn,ut].indexOf(Qr),EE=null!=(Sv=Co?.[ki])?Sv:0,J_=Uh?U0:Vh-Di[Cu]-us[Cu]-EE+Ji.altAxis,bE=Uh?Vh+Di[Cu]+us[Cu]-EE-Ji.altAxis:j0,xv=Sn&&Uh?function Kr(g,u,l){var y=lr(g,u,l);return y>l?l:y}(J_,Vh,bE):lr(Sn?J_:U0,Vh,Sn?bE:j0);Ci[ki]=xv,aa[ki]=xv-Vh}u.modifiersData[y]=aa}},requiresIfExists:["offset"]};function hr(g,u,l){void 0===l&&(l=!1);var y=Ot(u),T=Ot(u)&&function An(g){var u=g.getBoundingClientRect(),l=et(u.width)/g.offsetWidth||1,y=et(u.height)/g.offsetHeight||1;return 1!==l||1!==y}(u),B=Yn(u),te=Un(g,T,l),de={scrollLeft:0,scrollTop:0},Le={x:0,y:0};return(y||!y&&!l)&&(("body"!==Pe(u)||fi(B))&&(de=function Vn(g){return g!==Se(g)&&Ot(g)?function an(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):kr(g)}(u)),Ot(u)?((Le=Un(u,!0)).x+=u.clientLeft,Le.y+=u.clientTop):B&&(Le.x=hi(B))),{x:te.left+de.scrollLeft-Le.x,y:te.top+de.scrollTop-Le.y,width:te.width,height:te.height}}function jr(g){var u=new Map,l=new Set,y=[];function T(B){l.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(de){if(!l.has(de)){var Le=u.get(de);Le&&T(Le)}}),y.push(B)}return g.forEach(function(B){u.set(B.name,B)}),g.forEach(function(B){l.has(B.name)||T(B)}),y}function Qn(g){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(g())})})),u}}var Ii={placement:"bottom",modifiers:[],strategy:"absolute"};function ci(){for(var g=arguments.length,u=new Array(g),l=0;l<g;l++)u[l]=arguments[l];return!u.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function Si(g){void 0===g&&(g={});var l=g.defaultModifiers,y=void 0===l?[]:l,T=g.defaultOptions,B=void 0===T?Ii:T;return function(de,Le,ct){void 0===ct&&(ct=B);var Tt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ii,B),modifiersData:{},elements:{reference:de,popper:Le},attributes:{},styles:{}},tn=[],Wn=!1,Sn={state:Tt,setOptions:function(Qr){var di="function"==typeof Qr?Qr(Tt.options):Qr;On(),Tt.options=Object.assign({},B,Tt.options,di),Tt.scrollParents={reference:$e(de)?Ms(de):de.contextElement?Ms(de.contextElement):[],popper:Ms(Le)};var bi=function Xn(g){var u=jr(g);return Er.reduce(function(l,y){return l.concat(u.filter(function(T){return T.phase===y}))},[])}(function mr(g){var u=g.reduce(function(l,y){var T=l[y.name];return l[y.name]=T?Object.assign({},T,y,{options:Object.assign({},T.options,y.options),data:Object.assign({},T.data,y.data)}):y,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(y,Tt.options.modifiers)));return Tt.orderedModifiers=bi.filter(function(Ar){return Ar.enabled}),function Fn(){Tt.orderedModifiers.forEach(function(br){var di=br.options,Ar=br.effect;if("function"==typeof Ar){var ki=Ar({state:Tt,name:br.name,instance:Sn,options:void 0===di?{}:di});tn.push(ki||function(){})}})}(),Sn.update()},forceUpdate:function(){if(!Wn){var Qr=Tt.elements,di=Qr.reference,bi=Qr.popper;if(ci(di,bi)){Tt.rects={reference:hr(di,He(bi),"fixed"===Tt.options.strategy),popper:_n(bi)},Tt.reset=!1,Tt.placement=Tt.options.placement,Tt.orderedModifiers.forEach(function(Ji){return Tt.modifiersData[Ji.name]=Object.assign({},Ji.data)});for(var Ar=0;Ar<Tt.orderedModifiers.length;Ar++)if(!0!==Tt.reset){var ki=Tt.orderedModifiers[Ar],Ci=ki.fn,Di=ki.options;"function"==typeof Ci&&(Tt=Ci({state:Tt,options:void 0===Di?{}:Di,name:ki.name,instance:Sn})||Tt)}else Tt.reset=!1,Ar=-1}}},update:Qn(function(){return new Promise(function(br){Sn.forceUpdate(),br(Tt)})}),destroy:function(){On(),Wn=!0}};if(!ci(de,Le))return Sn;function On(){tn.forEach(function(br){return br()}),tn=[]}return Sn.setOptions(ct).then(function(br){!Wn&&ct.onFirstUpdate&&ct.onFirstUpdate(br)}),Sn}}var es=Si(),Fr=Si({defaultModifiers:[si,De,Pi,cr,Z,Bs,bt,Nr,dr]}),Bi=Si({defaultModifiers:[si,De,Pi,cr]});const Vr=new Map,Io={set(g,u,l){Vr.has(g)||Vr.set(g,new Map);const y=Vr.get(g);y.has(u)||0===y.size?y.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(g,u)=>Vr.has(g)&&Vr.get(g).get(u)||null,remove(g,u){if(!Vr.has(g))return;const l=Vr.get(g);l.delete(u),0===l.size&&Vr.delete(g)}},eo="transitionend",Ko=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),g),Ns=g=>{g.dispatchEvent(new Event(eo))},Wi=g=>!(!g||"object"!=typeof g)&&(typeof g.jquery<"u"&&(g=g[0]),typeof g.nodeType<"u"),Is=g=>Wi(g)?g.jquery?g[0]:g:"string"==typeof g&&g.length>0?document.querySelector(Ko(g)):null,Lo=g=>{if(!Wi(g)||0===g.getClientRects().length)return!1;const u="visible"===getComputedStyle(g).getPropertyValue("visibility"),l=g.closest("details:not([open])");if(!l)return u;if(l!==g){const y=g.closest("summary");if(y&&y.parentNode!==l||null===y)return!1}return u},so=g=>!(g&&g.nodeType===Node.ELEMENT_NODE&&!g.classList.contains("disabled"))||(typeof g.disabled<"u"?g.disabled:g.hasAttribute("disabled")&&"false"!==g.getAttribute("disabled")),Mi=g=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof g.getRootNode){const u=g.getRootNode();return u instanceof ShadowRoot?u:null}return g instanceof ShadowRoot?g:g.parentNode?Mi(g.parentNode):null},Vo=()=>{},W=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,J=[],ce=()=>"rtl"===document.documentElement.dir,Be=g=>{(g=>{"loading"===document.readyState?(J.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of J)u()}),J.push(g)):g()})(()=>{const u=W();if(u){const l=g.NAME,y=u.fn[l];u.fn[l]=g.jQueryInterface,u.fn[l].Constructor=g,u.fn[l].noConflict=()=>(u.fn[l]=y,g.jQueryInterface)}})},pn=(g,u=[],l=g)=>"function"==typeof g?g(...u):l,_r=(g,u,l=!0)=>{if(!l)return void pn(g);const T=(g=>{if(!g)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(g);const y=Number.parseFloat(u),T=Number.parseFloat(l);return y||T?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let B=!1;const te=({target:de})=>{de===u&&(B=!0,u.removeEventListener(eo,te),pn(g))};u.addEventListener(eo,te),setTimeout(()=>{B||Ns(u)},T)},os=(g,u,l,y)=>{const T=g.length;let B=g.indexOf(u);return-1===B?!l&&y?g[T-1]:g[0]:(B+=l?1:-1,y&&(B=(B+T)%T),g[Math.max(0,Math.min(B,T-1))])},to=/[^.]*(?=\..*)\.|.*/,ps=/\..*/,wo=/::\d+$/,Gs={};let as=1;const Uo={mouseenter:"mouseover",mouseleave:"mouseout"},Ol=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Es(g,u){return u&&`${u}::${as++}`||g.uidEvent||as++}function ca(g){const u=Es(g);return g.uidEvent=u,Gs[u]=Gs[u]||{},Gs[u]}function cs(g,u,l=null){return Object.values(g).find(y=>y.callable===u&&y.delegationSelector===l)}function Ua(g,u,l){const y="string"==typeof u,T=y?l:u||l;let B=Da(g);return Ol.has(B)||(B=g),[y,T,B]}function ao(g,u,l,y,T){if("string"!=typeof u||!g)return;let[B,te,de]=Ua(u,l,y);var Fn;u in Uo&&(Fn=te,te=function(On){if(!On.relatedTarget||On.relatedTarget!==On.delegateTarget&&!On.delegateTarget.contains(On.relatedTarget))return Fn.call(this,On)});const Le=ca(g),ct=Le[de]||(Le[de]={}),Tt=cs(ct,te,B?l:null);if(Tt)return void(Tt.oneOff=Tt.oneOff&&T);const tn=Es(te,u.replace(to,"")),Wn=B?function tl(g,u,l){return function y(T){const B=g.querySelectorAll(u);for(let{target:te}=T;te&&te!==this;te=te.parentNode)for(const de of B)if(de===te)return nc(T,{delegateTarget:te}),y.oneOff&&en.off(g,T.type,u,l),l.apply(te,[T])}}(g,l,te):function ts(g,u){return function l(y){return nc(y,{delegateTarget:g}),l.oneOff&&en.off(g,y.type,u),u.apply(g,[y])}}(g,te);Wn.delegationSelector=B?l:null,Wn.callable=te,Wn.oneOff=T,Wn.uidEvent=tn,ct[tn]=Wn,g.addEventListener(de,Wn,B)}function qo(g,u,l,y,T){const B=cs(u[l],y,T);B&&(g.removeEventListener(l,B,!!T),delete u[l][B.uidEvent])}function ws(g,u,l,y){const T=u[l]||{};for(const[B,te]of Object.entries(T))B.includes(y)&&qo(g,u,l,te.callable,te.delegationSelector)}function Da(g){return g=g.replace(ps,""),Uo[g]||g}const en={on(g,u,l,y){ao(g,u,l,y,!1)},one(g,u,l,y){ao(g,u,l,y,!0)},off(g,u,l,y){if("string"!=typeof u||!g)return;const[T,B,te]=Ua(u,l,y),de=te!==u,Le=ca(g),ct=Le[te]||{},Tt=u.startsWith(".");if(typeof B<"u"){if(!Object.keys(ct).length)return;qo(g,Le,te,B,T?l:null)}else{if(Tt)for(const tn of Object.keys(Le))ws(g,Le,tn,u.slice(1));for(const[tn,Wn]of Object.entries(ct)){const Sn=tn.replace(wo,"");(!de||u.includes(Sn))&&qo(g,Le,te,Wn.callable,Wn.delegationSelector)}}},trigger(g,u,l){if("string"!=typeof u||!g)return null;const y=W();let te=null,de=!0,Le=!0,ct=!1;u!==Da(u)&&y&&(te=y.Event(u,l),y(g).trigger(te),de=!te.isPropagationStopped(),Le=!te.isImmediatePropagationStopped(),ct=te.isDefaultPrevented());const Tt=nc(new Event(u,{bubbles:de,cancelable:!0}),l);return ct&&Tt.preventDefault(),Le&&g.dispatchEvent(Tt),Tt.defaultPrevented&&te&&te.preventDefault(),Tt}};function nc(g,u={}){for(const[l,y]of Object.entries(u))try{g[l]=y}catch{Object.defineProperty(g,l,{configurable:!0,get:()=>y})}return g}function Nl(g){if("true"===g)return!0;if("false"===g)return!1;if(g===Number(g).toString())return Number(g);if(""===g||"null"===g)return null;if("string"!=typeof g)return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function Ir(g){return g.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Ao={setDataAttribute(g,u,l){g.setAttribute(`data-bs-${Ir(u)}`,l)},removeDataAttribute(g,u){g.removeAttribute(`data-bs-${Ir(u)}`)},getDataAttributes(g){if(!g)return{};const u={},l=Object.keys(g.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of l){let T=y.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),u[T]=Nl(g.dataset[y])}return u},getDataAttribute:(g,u)=>Nl(g.getAttribute(`data-bs-${Ir(u)}`))};class Hs{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const y=Wi(l)?Ao.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Wi(l)?Ao.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[y,T]of Object.entries(l)){const B=u[y],te=Wi(B)?"element":null==(g=B)?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(te))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${te}" but expected type "${T}".`)}var g}}class zs extends Hs{constructor(u,l){super(),(u=Is(u))&&(this._element=u,this._config=this._getConfig(l),Io.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Io.remove(this._element,this.constructor.DATA_KEY),en.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,y=!0){_r(u,l,y)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return Io.get(Is(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const nl=g=>{let u=g.getAttribute("data-bs-target");if(!u||"#"===u){let l=g.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Ko(l)).join(","):null},sr={find:(g,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,g)),findOne:(g,u=document.documentElement)=>Element.prototype.querySelector.call(u,g),children:(g,u)=>[].concat(...g.children).filter(l=>l.matches(u)),parents(g,u){const l=[];let y=g.parentNode.closest(u);for(;y;)l.push(y),y=y.parentNode.closest(u);return l},prev(g,u){let l=g.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(g,u){let l=g.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(g){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,g).filter(l=>!so(l)&&Lo(l))},getSelectorFromElement(g){const u=nl(g);return u&&sr.findOne(u)?u:null},getElementFromSelector(g){const u=nl(g);return u?sr.findOne(u):null},getMultipleElementsFromSelector(g){const u=nl(g);return u?sr.find(u):[]}},kl=(g,u="hide")=>{const y=g.NAME;en.on(document,`click.dismiss${g.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),so(this))return;const B=sr.getElementFromSelector(this)||this.closest(`.${y}`);g.getOrCreateInstance(B)[u]()})},ic=".bs.alert",Xo=`close${ic}`,rl=`closed${ic}`;class la extends zs{static get NAME(){return"alert"}close(){if(en.trigger(this._element,Xo).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),en.trigger(this._element,rl),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=la.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}kl(la,"close"),Be(la);const Y='[data-bs-toggle="button"]';class Dt extends zs{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=Dt.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}en.on(document,"click.bs.button.data-api",Y,g=>{g.preventDefault();const u=g.target.closest(Y);Dt.getOrCreateInstance(u).toggle()}),Be(Dt);const $n=".bs.swipe",oi=`touchstart${$n}`,wi=`touchmove${$n}`,gi=`touchend${$n}`,Pr=`pointerdown${$n}`,vi=`pointerup${$n}`,ua={endCallback:null,leftCallback:null,rightCallback:null},Ws={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class go extends Hs{constructor(u,l){super(),this._element=u,u&&go.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ua}static get DefaultType(){return Ws}static get NAME(){return"swipe"}dispose(){en.off(this._element,$n)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),pn(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&pn(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(en.on(this._element,Pr,u=>this._start(u)),en.on(this._element,vi,u=>this._end(u)),this._element.classList.add("pointer-event")):(en.on(this._element,oi,u=>this._start(u)),en.on(this._element,wi,u=>this._move(u)),en.on(this._element,gi,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ba=".bs.carousel",Lr=".data-api",ac="next",cc="prev",da="left",$i="right",jh=`slide${Ba}`,il=`slid${Ba}`,ha=`keydown${Ba}`,As=`mouseenter${Ba}`,$a=`mouseleave${Ba}`,sl=`dragstart${Ba}`,wd=`load${Ba}${Lr}`,Ad=`click${Ba}${Lr}`,Iu="carousel",Dc="active",Dd=".active",Vl=".carousel-item",fa=Dd+Vl,Du={ArrowLeft:$i,ArrowRight:da},Zt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Br={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lo extends zs{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=sr.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Iu&&this.cycle()}static get Default(){return Zt}static get DefaultType(){return Br}static get NAME(){return"carousel"}next(){this._slide(ac)}nextWhenVisible(){!document.hidden&&Lo(this._element)&&this.next()}prev(){this._slide(cc)}pause(){this._isSliding&&Ns(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void en.one(this._element,il,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void en.one(this._element,il,()=>this.to(u));const y=this._getItemIndex(this._getActive());y!==u&&this._slide(u>y?ac:cc,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&en.on(this._element,ha,u=>this._keydown(u)),"hover"===this._config.pause&&(en.on(this._element,As,()=>this.pause()),en.on(this._element,$a,()=>this._maybeEnableCycle())),this._config.touch&&go.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of sr.find(".carousel-item img",this._element))en.on(y,sl,T=>T.preventDefault());this._swipeHelper=new go(this._element,{leftCallback:()=>this._slide(this._directionToOrder(da)),rightCallback:()=>this._slide(this._directionToOrder($i)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=Du[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=sr.findOne(Dd,this._indicatorsElement);l.classList.remove(Dc),l.removeAttribute("aria-current");const y=sr.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);y&&(y.classList.add(Dc),y.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const y=this._getActive(),T=u===ac,B=l||os(this._getItems(),y,T,this._config.wrap);if(B===y)return;const te=this._getItemIndex(B),de=Sn=>en.trigger(this._element,Sn,{relatedTarget:B,direction:this._orderToDirection(u),from:this._getItemIndex(y),to:te});if(de(jh).defaultPrevented||!y||!B)return;const ct=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(te),this._activeElement=B;const Tt=T?"carousel-item-start":"carousel-item-end",tn=T?"carousel-item-next":"carousel-item-prev";B.classList.add(tn),y.classList.add(Tt),B.classList.add(Tt),this._queueCallback(()=>{B.classList.remove(Tt,tn),B.classList.add(Dc),y.classList.remove(Dc,tn,Tt),this._isSliding=!1,de(il)},y,this._isAnimated()),ct&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return sr.findOne(fa,this._element)}_getItems(){return sr.find(Vl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return ce()?u===da?cc:ac:u===da?ac:cc}_orderToDirection(u){return ce()?u===cc?da:$i:u===cc?$i:da}static jQueryInterface(u){return this.each(function(){const l=lo.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}en.on(document,Ad,"[data-bs-slide], [data-bs-slide-to]",function(g){const u=sr.getElementFromSelector(this);if(!u||!u.classList.contains(Iu))return;g.preventDefault();const l=lo.getOrCreateInstance(u),y=this.getAttribute("data-bs-slide-to");return y?(l.to(y),void l._maybeEnableCycle()):"next"===Ao.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),en.on(window,wd,()=>{const g=sr.find('[data-bs-ride="carousel"]');for(const u of g)lo.getOrCreateInstance(u)}),Be(lo);const xa=".bs.collapse",jo=`show${xa}`,al=`shown${xa}`,Su=`hide${xa}`,xd=`hidden${xa}`,Ul=`click${xa}.data-api`,Pa="show",ms="collapse",Ks="collapsing",lc=`:scope .${ms} .${ms}`,Bl='[data-bs-toggle="collapse"]',xu={parent:null,toggle:!0},Ma={parent:"(null|element)",toggle:"boolean"};class pa extends zs{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const y=sr.find(Bl);for(const T of y){const B=sr.getSelectorFromElement(T),te=sr.find(B).filter(de=>de===this._element);null!==B&&te.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xu}static get DefaultType(){return Ma}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(de=>de!==this._element).map(de=>pa.getOrCreateInstance(de,{toggle:!1}))),u.length&&u[0]._isTransitioning||en.trigger(this._element,jo).defaultPrevented)return;for(const de of u)de.hide();const y=this._getDimension();this._element.classList.remove(ms),this._element.classList.add(Ks),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const te=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ks),this._element.classList.add(ms,Pa),this._element.style[y]="",en.trigger(this._element,al)},this._element,!0),this._element.style[y]=`${this._element[te]}px`}hide(){if(this._isTransitioning||!this._isShown()||en.trigger(this._element,Su).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Ks),this._element.classList.remove(ms,Pa);for(const T of this._triggerArray){const B=sr.getElementFromSelector(T);B&&!this._isShown(B)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ks),this._element.classList.add(ms),en.trigger(this._element,xd)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Pa)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=Is(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Bl);for(const l of u){const y=sr.getElementFromSelector(l);y&&this._addAriaAndCollapsedClass([l],this._isShown(y))}}_getFirstLevelChildren(u){const l=sr.find(lc,this._config.parent);return sr.find(u,this._config.parent).filter(y=>!l.includes(y))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const y of u)y.classList.toggle("collapsed",!l),y.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const y=pa.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof y[u]>"u")throw new TypeError(`No method named "${u}"`);y[u]()}})}}en.on(document,Ul,Bl,function(g){("A"===g.target.tagName||g.delegateTarget&&"A"===g.delegateTarget.tagName)&&g.preventDefault();for(const u of sr.getMultipleElementsFromSelector(this))pa.getOrCreateInstance(u,{toggle:!1}).toggle()}),Be(pa);const D="dropdown",w=".bs.dropdown",N=".data-api",Me="ArrowUp",It="ArrowDown",xn=`hide${w}`,Sr=`hidden${w}`,Rr=`show${w}`,Yr=`shown${w}`,Ei=`click${w}${N}`,Ha=`keydown${w}${N}`,xc=`keyup${w}${N}`,ga="show",dc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',za=`${dc}.${ga}`,hc=".dropdown-menu",Md=ce()?"top-end":"top-start",Nu=ce()?"top-start":"top-end",Bo=ce()?"bottom-end":"bottom-start",_a=ce()?"bottom-start":"bottom-end",Mc=ce()?"left-start":"right-start",$h=ce()?"right-start":"left-start",Gh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ku={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ra extends zs{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=sr.next(this._element,hc)[0]||sr.prev(this._element,hc)[0]||sr.findOne(hc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gh}static get DefaultType(){return ku}static get NAME(){return D}toggle(){return this._isShown()?this.hide():this.show()}show(){if(so(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!en.trigger(this._element,Rr,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))en.on(y,"mouseover",Vo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ga),this._element.classList.add(ga),en.trigger(this._element,Yr,u)}}hide(){!so(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!en.trigger(this._element,xn,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))en.off(y,"mouseover",Vo);this._popper&&this._popper.destroy(),this._menu.classList.remove(ga),this._element.classList.remove(ga),this._element.setAttribute("aria-expanded","false"),Ao.removeDataAttribute(this._menu,"popper"),en.trigger(this._element,Sr,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!Wi(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${D.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:Wi(this._config.reference)?u=Is(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Fr(u,this._menu,l)}_isShown(){return this._menu.classList.contains(ga)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Mc;if(u.classList.contains("dropstart"))return $h;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?Nu:Md:l?_a:Bo}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ao.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...pn(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const y=sr.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Lo(T));y.length&&os(y,l,u===It,!y.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=Ra.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=sr.find(za);for(const y of l){const T=Ra.getInstance(y);if(!T||!1===T._config.autoClose)continue;const B=u.composedPath(),te=B.includes(T._menu);if(B.includes(T._element)||"inside"===T._config.autoClose&&!te||"outside"===T._config.autoClose&&te||T._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const de={relatedTarget:T._element};"click"===u.type&&(de.clickEvent=u),T._completeHide(de)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),y="Escape"===u.key,T=[Me,It].includes(u.key);if(!T&&!y||l&&!y)return;u.preventDefault();const B=this.matches(dc)?this:sr.prev(this,dc)[0]||sr.next(this,dc)[0]||sr.findOne(dc,u.delegateTarget.parentNode),te=Ra.getOrCreateInstance(B);if(T)return u.stopPropagation(),te.show(),void te._selectMenuItem(u);te._isShown()&&(u.stopPropagation(),te.hide(),B.focus())}}en.on(document,Ha,dc,Ra.dataApiKeydownHandler),en.on(document,Ha,hc,Ra.dataApiKeydownHandler),en.on(document,Ei,Ra.clearMenus),en.on(document,xc,Ra.clearMenus),en.on(document,Ei,dc,function(g){g.preventDefault(),Ra.getOrCreateInstance(this).toggle()}),Be(Ra);const Hh="backdrop",Lu=`mousedown.bs.${Hh}`,cl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Vu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Wa extends Hs{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return cl}static get DefaultType(){return Vu}static get NAME(){return Hh}show(u){if(!this._config.isVisible)return void pn(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{pn(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),pn(u)})):pn(u)}dispose(){this._isAppended&&(en.off(this._element,Lu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=Is(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),en.on(u,Lu,()=>{pn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){_r(u,this._getElement(),this._config.isAnimated)}}const $o=".bs.focustrap",Uu=`focusin${$o}`,So=`keydown.tab${$o}`,Ds="backward",zh={autofocus:!0,trapElement:null},Rc={autofocus:"boolean",trapElement:"element"};class Oc extends Hs{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zh}static get DefaultType(){return Rc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),en.off(document,$o),en.on(document,Uu,u=>this._handleFocusin(u)),en.on(document,So,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,en.off(document,$o))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const y=sr.focusableChildren(l);0===y.length?l.focus():this._lastTabNavDirection===Ds?y[y.length-1].focus():y[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?Ds:"forward")}}const Nd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ka=".sticky-top",qa="padding-right",$l="margin-right";class Ya{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qa,l=>l+u),this._setElementAttributes(Nd,qa,l=>l+u),this._setElementAttributes(Ka,$l,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qa),this._resetElementAttributes(Nd,qa),this._resetElementAttributes(Ka,$l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,y){const T=this.getWidth();this._applyManipulationCallback(u,te=>{if(te!==this._element&&window.innerWidth>te.clientWidth+T)return;this._saveInitialAttribute(te,l);const de=window.getComputedStyle(te).getPropertyValue(l);te.style.setProperty(l,`${y(Number.parseFloat(de))}px`)})}_saveInitialAttribute(u,l){const y=u.style.getPropertyValue(l);y&&Ao.setDataAttribute(u,l,y)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,T=>{const B=Ao.getDataAttribute(T,l);null!==B?(Ao.removeDataAttribute(T,l),T.style.setProperty(l,B)):T.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(Wi(u))l(u);else for(const y of sr.find(u,this._element))l(y)}}const qs=".bs.modal",Qf=`hide${qs}`,kc=`hidePrevented${qs}`,kd=`hidden${qs}`,Ys=`show${qs}`,Jf=`shown${qs}`,ul=`resize${qs}`,Fd=`click.dismiss${qs}`,Zf=`mousedown.dismiss${qs}`,Ld=`keydown.dismiss${qs}`,Vd=`click${qs}.data-api`,Fc="modal-open",Bu="modal-static",zm={backdrop:!0,focus:!0,keyboard:!0},Eg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lc extends zs{constructor(u,l){super(u,l),this._dialog=sr.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ya,this._addEventListeners()}static get Default(){return zm}static get DefaultType(){return Eg}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||en.trigger(this._element,Ys,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||en.trigger(this._element,Qf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){en.off(window,qs),en.off(this._dialog,qs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wa({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Oc({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=sr.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,en.trigger(this._element,Jf,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){en.on(this._element,Ld,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),en.on(window,ul,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),en.on(this._element,Zf,u=>{en.one(this._element,Fd,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fc),this._resetAdjustments(),this._scrollBar.reset(),en.trigger(this._element,kd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(en.trigger(this._element,kc).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Bu)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Bu),this._queueCallback(()=>{this._element.classList.remove(Bu),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),y=l>0;if(y&&!u){const T=ce()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!y&&u){const T=ce()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const y=Lc.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof y[u]>"u")throw new TypeError(`No method named "${u}"`);y[u](l)}})}}en.on(document,Vd,'[data-bs-toggle="modal"]',function(g){const u=sr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),en.one(u,Ys,T=>{T.defaultPrevented||en.one(u,kd,()=>{Lo(this)&&this.focus()})});const l=sr.findOne(".modal.show");l&&Lc.getInstance(l).hide(),Lc.getOrCreateInstance(u).toggle(this)}),kl(Lc),Be(Lc);const Vc=".bs.offcanvas",dl=".data-api",bg=`load${Vc}${dl}`,$u="showing",Go=".offcanvas.show",Uc=`show${Vc}`,jd=`shown${Vc}`,jc=`hide${Vc}`,gc=`hidePrevented${Vc}`,Gu=`hidden${Vc}`,ep=`resize${Vc}`,Cg=`click${Vc}${dl}`,Tg=`keydown.dismiss${Vc}`,Bd={backdrop:!0,keyboard:!0,scroll:!1},mc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Oa extends zs{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bd}static get DefaultType(){return mc}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||en.trigger(this._element,Uc,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ya).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($u),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove($u),en.trigger(this._element,jd,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!en.trigger(this._element,jc).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ya).reset(),en.trigger(this._element,Gu)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Wa({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():en.trigger(this._element,gc)}:null})}_initializeFocusTrap(){return new Oc({trapElement:this._element})}_addEventListeners(){en.on(this._element,Tg,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();en.trigger(this._element,gc)}})}static jQueryInterface(u){return this.each(function(){const l=Oa.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}en.on(document,Cg,'[data-bs-toggle="offcanvas"]',function(g){const u=sr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),so(this))return;en.one(u,Gu,()=>{Lo(this)&&this.focus()});const l=sr.findOne(Go);l&&l!==u&&Oa.getInstance(l).hide(),Oa.getOrCreateInstance(u).toggle(this)}),en.on(window,bg,()=>{for(const g of sr.find(Go))Oa.getOrCreateInstance(g).show()}),en.on(window,ep,()=>{for(const g of sr.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(g).position&&Oa.getOrCreateInstance(g).hide()}),kl(Oa),Be(Oa);const Hu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},wg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tp=(g,u)=>{const l=g.nodeName.toLowerCase();return u.includes(l)?!wg.has(l)||!!Yh.test(g.nodeValue):u.filter(y=>y instanceof RegExp).some(y=>y.test(l))},$d={allowList:Hu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},_c={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xh={entry:"(string|element|function|null)",selector:"(string|element)"};class $c extends Hs{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return $d}static get DefaultType(){return _c}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[T,B]of Object.entries(this._config.content))this._setContent(u,B,T);const l=u.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&l.classList.add(...y.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,y]of Object.entries(u))super._typeCheckConfig({selector:l,entry:y},Xh)}_setContent(u,l,y){const T=sr.findOne(y,u);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(Wi(l))return void this._putElementInTemplate(Is(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function Bc(g,u,l){if(!g.length)return g;if(l&&"function"==typeof l)return l(g);const T=(new window.DOMParser).parseFromString(g,"text/html"),B=[].concat(...T.body.querySelectorAll("*"));for(const te of B){const de=te.nodeName.toLowerCase();if(!Object.keys(u).includes(de)){te.remove();continue}const Le=[].concat(...te.attributes),ct=[].concat(u["*"]||[],u[de]||[]);for(const Tt of Le)tp(Tt,ct)||te.removeAttribute(Tt.nodeName)}return T.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return pn(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const zu=new Set(["sanitize","allowList","sanitizeFn"]),Wu="fade",Gc="show",qu="hide.bs.modal",Hc="hover",Na="focus",li={AUTO:"auto",TOP:"top",RIGHT:ce()?"left":"right",BOTTOM:"bottom",LEFT:ce()?"right":"left"},Ho={allowList:Hu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ya={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class va extends zs{constructor(u,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ho}static get DefaultType(){return ya}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),en.off(this._element.closest(".modal"),qu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=en.trigger(this._element,this.constructor.eventName("show")),y=(Mi(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!y)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:B}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(B.append(T),en.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(Gc),"ontouchstart"in document.documentElement)for(const de of[].concat(...document.body.children))en.on(de,"mouseover",Vo);this._queueCallback(()=>{en.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!en.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gc),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))en.off(T,"mouseover",Vo);this._activeTrigger.click=!1,this._activeTrigger[Na]=!1,this._activeTrigger[Hc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),en.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(Wu,Gc),l.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(g=>{do{g+=Math.floor(1e6*Math.random())}while(document.getElementById(g));return g})(this.constructor.NAME).toString();return l.setAttribute("id",y),this._isAnimated()&&l.classList.add(Wu),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new $c({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wu)}_isShown(){return this.tip&&this.tip.classList.contains(Gc)}_createPopper(u){const l=pn(this._config.placement,[this,u,this._element]),y=li[l.toUpperCase()];return Fr(this._element,u,this._getPopperConfig(y))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return pn(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...l,...pn(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)en.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==l){const y=this.constructor.eventName(l===Hc?"mouseenter":"focusin"),T=this.constructor.eventName(l===Hc?"mouseleave":"focusout");en.on(this._element,y,this._config.selector,B=>{const te=this._initializeOnDelegatedTarget(B);te._activeTrigger["focusin"===B.type?Na:Hc]=!0,te._enter()}),en.on(this._element,T,this._config.selector,B=>{const te=this._initializeOnDelegatedTarget(B);te._activeTrigger["focusout"===B.type?Na:Hc]=te._element.contains(B.relatedTarget),te._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},en.on(this._element.closest(".modal"),qu,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Ao.getDataAttributes(this._element);for(const y of Object.keys(l))zu.has(y)&&delete l[y];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:Is(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,y]of Object.entries(this._config))this.constructor.Default[l]!==y&&(u[l]=y);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=va.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Be(va);const Ag={...va.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},rp={...va.DefaultType,content:"(null|string|element|function)"};class zl extends va{static get Default(){return Ag}static get DefaultType(){return rp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=zl.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Be(zl);const Xu=".bs.scrollspy",Kd=`activate${Xu}`,Ju=`click${Xu}`,hl=`load${Xu}.data-api`,Wl="active",Yd="[href]",sp=".nav-link",op=`${sp}, .nav-item > ${sp}, .list-group-item`,Sg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cy={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Zu extends zs{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sg}static get DefaultType(){return cy}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=Is(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(en.off(this._config.target,Ju),en.on(this._config.target,Ju,Yd,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const y=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:T,behavior:"smooth"});y.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=te=>this._targetLinks.get(`#${te.target.id}`),y=te=>{this._previousScrollData.visibleEntryTop=te.target.offsetTop,this._process(l(te))},T=(this._rootElement||document.documentElement).scrollTop,B=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const te of u){if(!te.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(te));continue}const de=te.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&de){if(y(te),!T)return}else!B&&!de&&y(te)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=sr.find(Yd,this._config.target);for(const l of u){if(!l.hash||so(l))continue;const y=sr.findOne(decodeURI(l.hash),this._element);Lo(y)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,y))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Wl),this._activateParents(u),en.trigger(this._element,Kd,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))sr.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Wl);else for(const l of sr.parents(u,".nav, .list-group"))for(const y of sr.prev(l,op))y.classList.add(Wl)}_clearActiveClass(u){u.classList.remove(Wl);const l=sr.find(`${Yd}.${Wl}`,u);for(const y of l)y.classList.remove(Wl)}static jQueryInterface(u){return this.each(function(){const l=Zu.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}en.on(window,hl,()=>{for(const g of sr.find('[data-bs-spy="scroll"]'))Zu.getOrCreateInstance(g)}),Be(Zu);const Kl=".bs.tab",Jd=`hide${Kl}`,ap=`hidden${Kl}`,ly=`show${Kl}`,uy=`shown${Kl}`,ta=`click${Kl}`,cp=`keydown${Kl}`,Km=`load${Kl}`,Zh="ArrowLeft",xo="ArrowRight",ed="ArrowUp",xg="ArrowDown",Zd="Home",qm="End",Wc="active",eh="show",ef=".dropdown-toggle",Kc=`:not(${ef})`,td='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yl=`.nav-link${Kc}, .list-group-item${Kc}, [role="tab"]${Kc}, ${td}`,dy=`.${Wc}[data-bs-toggle="tab"], .${Wc}[data-bs-toggle="pill"], .${Wc}[data-bs-toggle="list"]`;class nd extends zs{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),en.on(this._element,cp,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),y=l?en.trigger(l,Jd,{relatedTarget:u}):null;en.trigger(u,ly,{relatedTarget:l}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Wc),this._activate(sr.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),en.trigger(u,uy,{relatedTarget:l})):u.classList.add(eh)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Wc),u.blur(),this._deactivate(sr.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),en.trigger(u,ap,{relatedTarget:l})):u.classList.remove(eh)},u,u.classList.contains("fade")))}_keydown(u){if(![Zh,xo,ed,xg,Zd,qm].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(T=>!so(T));let y;if([Zd,qm].includes(u.key))y=l[u.key===Zd?0:l.length-1];else{const T=[xo,xg].includes(u.key);y=os(l,u.target,T,!0)}y&&(y.focus({preventScroll:!0}),nd.getOrCreateInstance(y).show())}_getChildren(){return sr.find(Yl,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const y of l)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),y=this._getOuterElement(u);u.setAttribute("aria-selected",l),y!==u&&this._setAttributeIfNotExists(y,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=sr.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const y=this._getOuterElement(u);if(!y.classList.contains("dropdown"))return;const T=(B,te)=>{const de=sr.findOne(B,y);de&&de.classList.toggle(te,l)};T(ef,Wc),T(".dropdown-menu",eh),y.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,y){u.hasAttribute(l)||u.setAttribute(l,y)}_elemIsActive(u){return u.classList.contains(Wc)}_getInnerElement(u){return u.matches(Yl)?u:sr.findOne(Yl,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=nd.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}en.on(document,ta,td,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),!so(this)&&nd.getOrCreateInstance(this).show()}),en.on(window,Km,()=>{for(const g of sr.find(dy))nd.getOrCreateInstance(g)}),Be(nd);const na=".bs.toast",rh=`mouseover${na}`,lp=`mouseout${na}`,Ng=`focusin${na}`,up=`focusout${na}`,kg=`hide${na}`,Fg=`hidden${na}`,Ym=`show${na}`,Lg=`shown${na}`,nf="show",Xl="showing",dp={animation:"boolean",autohide:"boolean",delay:"number"},hp={animation:!0,autohide:!0,delay:5e3};class rf extends zs{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hp}static get DefaultType(){return dp}static get NAME(){return"toast"}show(){en.trigger(this._element,Ym).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(nf,Xl),this._queueCallback(()=>{this._element.classList.remove(Xl),en.trigger(this._element,Lg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!en.trigger(this._element,kg).defaultPrevented&&(this._element.classList.add(Xl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Xl,nf),en.trigger(this._element,Fg)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nf),super.dispose()}isShown(){return this._element.classList.contains(nf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const y=u.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){en.on(this._element,rh,u=>this._onInteraction(u,!0)),en.on(this._element,lp,u=>this._onInteraction(u,!1)),en.on(this._element,Ng,u=>this._onInteraction(u,!0)),en.on(this._element,up,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=rf.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}kl(rf),Be(rf);var Xm=k(1334),Ai=k(4341);let Qm=(()=>{class g{static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,T){1&y&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&y&&(r.R7$(5),r.JRh(T.phoneNumber),r.R7$(4),r.JRh(T.address),r.R7$(4),r.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return g})();var rd=k(3711);function fp(g,u){if(1&g&&(r.j41(0,"div",5)(1,"p"),r.EFF(2),r.k0s()()),2&g){const l=r.XpG().$implicit;r.R7$(2),r.JRh(l.answer)}}function Jm(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",2)(1,"button",3),r.bIt("click",function(){const B=r.eBV(l).$implicit;return r.Njj(B.open=!B.open)}),r.EFF(2),r.k0s(),r.DNE(3,fp,3,1,"div",4),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(2),r.SpI(" ",l.question," "),r.R7$(1),r.Y8G("ngIf",l.open)}}let pp=(()=>{class g{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(y,T){1&y&&(r.j41(0,"div",0)(1,"h2"),r.EFF(2,"Frequently Asked Questions (FAQs)"),r.k0s(),r.DNE(3,Jm,4,2,"div",1),r.k0s()),2&y&&(r.R7$(3),r.Y8G("ngForOf",T.faqs))},dependencies:[z.Sq,z.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return g})();function fy(g,u){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",47),r.EFF(5),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",l.business.email,"",r.B4B),r.R7$(1),r.JRh(l.business.email)}}function ih(g,u){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.k0s()()),2&g){const l=r.XpG(3);r.R7$(4),r.JRh(l.business.fax)}}function Ug(g,u){if(1&g&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",47),r.EFF(5),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(4),r.FS9("href",l.business.socialMedia,r.B4B),r.R7$(1),r.JRh(l.business.socialMedia)}}function gp(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.k0s()(),r.DNE(25,fy,6,2,"div",23),r.DNE(26,ih,5,1,"div",23),r.DNE(27,Ug,6,2,"div",23),r.j41(28,"div")(29,"h3"),r.EFF(30,"Visitation Hours"),r.k0s(),r.nrm(31,"div",24),r.k0s()()(),r.j41(32,"div",25)(33,"div",26),r.nrm(34,"img",27),r.k0s()()()(),r.j41(35,"section",28)(36,"div",18),r.EFF(37,"Send Us a Message"),r.k0s(),r.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),r.EFF(42,"How can we help?"),r.k0s(),r.j41(43,"p",33),r.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(45,"div",34)(46,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(48,"div",37)(49,"label",38),r.EFF(50,"Name"),r.k0s(),r.j41(51,"input",39),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.name=T)}),r.k0s()(),r.j41(52,"div",37)(53,"label",40),r.EFF(54,"Email"),r.k0s(),r.j41(55,"input",41),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.email=T)}),r.k0s()(),r.j41(56,"div",37)(57,"label",42),r.EFF(58,"Message"),r.k0s(),r.j41(59,"textarea",43),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.message=T)}),r.k0s()(),r.j41(60,"button",44),r.EFF(61," Send "),r.k0s()()()()(),r.nrm(62,"app-information",45)(63,"app-google-maps",46),r.k0s(),r.nrm(64,"app-faq"),r.bVm()}if(2&g){const l=r.sdS(47),y=r.XpG(2);r.R7$(19),r.JRh(y.business.address),r.R7$(5),r.JRh(y.business.phone),r.R7$(1),r.Y8G("ngIf",y.business.email),r.R7$(1),r.Y8G("ngIf",y.business.fax),r.R7$(1),r.Y8G("ngIf",y.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",y.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(17),r.Y8G("ngModel",y.formData.name),r.R7$(4),r.Y8G("ngModel",y.formData.email),r.R7$(4),r.Y8G("ngModel",y.formData.message),r.R7$(1),r.Y8G("disabled",!l.form.valid),r.R7$(2),r.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),r.R7$(1),r.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Zm(g,u){if(1&g&&(r.j41(0,"div",51)(1,"p")(2,"a",47),r.EFF(3),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",l.business.email,"",r.B4B),r.R7$(1),r.JRh(l.business.email)}}function mp(g,u){if(1&g&&(r.j41(0,"div",62)(1,"a",63),r.nrm(2,"i",64),r.k0s()()),2&g){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function jg(g,u){if(1&g){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",48)(3,"div",49)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Zm,4,2,"div",50),r.j41(7,"div",51)(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",51)(11,"p"),r.EFF(12),r.k0s()(),r.DNE(13,mp,3,1,"div",52),r.k0s(),r.j41(14,"div",53)(15,"form",54),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(16,"div",37)(17,"label",55),r.EFF(18,"Name "),r.j41(19,"span"),r.EFF(20,"(required)"),r.k0s()(),r.j41(21,"div",56)(22,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.name=T)}),r.k0s()()(),r.j41(23,"div",37)(24,"label",40),r.EFF(25,"Email "),r.j41(26,"span"),r.EFF(27,"(required)"),r.k0s()(),r.j41(28,"input",58),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.email=T)}),r.k0s()(),r.j41(29,"div",37)(30,"label",42),r.EFF(31,"Message "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"textarea",59),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.message=T)}),r.k0s()(),r.j41(35,"button",60),r.EFF(36,"Send"),r.k0s()()()(),r.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),r.EFF(41,"Visitation Hours"),r.k0s(),r.nrm(42,"div",24),r.k0s()(),r.j41(43,"div",61),r.nrm(44,"app-google-maps",46),r.k0s()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(6),r.Y8G("ngIf",l.business.email),r.R7$(3),r.JRh(l.business.phone),r.R7$(3),r.JRh(l.business.address),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function _p(g,u){if(1&g&&(r.j41(0,"div",51)(1,"p")(2,"a",47),r.EFF(3),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",l.business.email,"",r.B4B),r.R7$(1),r.JRh(l.business.email)}}function yp(g,u){if(1&g&&(r.j41(0,"div",62)(1,"a",63),r.nrm(2,"i",64),r.k0s()()),2&g){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function id(g,u){if(1&g){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",48)(3,"div",49)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,_p,4,2,"div",50),r.j41(7,"div",51)(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",51)(11,"p"),r.EFF(12),r.k0s()(),r.DNE(13,yp,3,1,"div",52),r.k0s(),r.j41(14,"div",53)(15,"form",54),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(16,"div",37)(17,"label",55),r.EFF(18,"Name "),r.j41(19,"span"),r.EFF(20,"(required)"),r.k0s()(),r.j41(21,"div",56)(22,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.name=T)}),r.k0s()()(),r.j41(23,"div",37)(24,"label",40),r.EFF(25,"Email "),r.j41(26,"span"),r.EFF(27,"(required)"),r.k0s()(),r.j41(28,"input",58),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.email=T)}),r.k0s()(),r.j41(29,"div",37)(30,"label",42),r.EFF(31,"Message "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"textarea",59),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.message=T)}),r.k0s()(),r.j41(35,"button",60),r.EFF(36,"Send"),r.k0s()()()(),r.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),r.EFF(41,"Visitation Hours"),r.k0s(),r.nrm(42,"div",24),r.k0s()(),r.j41(43,"div",61),r.nrm(44,"app-google-maps",46),r.k0s()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(6),r.Y8G("ngIf",l.business.email),r.R7$(3),r.JRh(l.business.phone),r.R7$(3),r.JRh(l.business.address),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Bg(g,u){if(1&g&&(r.j41(0,"div",51)(1,"p")(2,"a",47),r.EFF(3),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",l.business.email,"",r.B4B),r.R7$(1),r.JRh(l.business.email)}}function sf(g,u){if(1&g&&(r.j41(0,"div",62)(1,"a",63),r.nrm(2,"i",64),r.k0s()()),2&g){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function af(g,u){if(1&g){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero",65),r.j41(2,"div",48)(3,"div",49)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Bg,4,2,"div",50),r.j41(7,"div",51)(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",51)(11,"p"),r.EFF(12),r.k0s()(),r.DNE(13,sf,3,1,"div",52),r.k0s(),r.j41(14,"div",53)(15,"form",54),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(16,"div",37)(17,"label",55),r.EFF(18,"Name "),r.j41(19,"span"),r.EFF(20,"(required)"),r.k0s()(),r.j41(21,"div",56)(22,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.name=T)}),r.k0s()()(),r.j41(23,"div",37)(24,"label",40),r.EFF(25,"Email "),r.j41(26,"span"),r.EFF(27,"(required)"),r.k0s()(),r.j41(28,"input",58),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.email=T)}),r.k0s()(),r.j41(29,"div",37)(30,"label",42),r.EFF(31,"Message "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"textarea",59),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.message=T)}),r.k0s()(),r.j41(35,"button",66),r.EFF(36,"Send"),r.k0s()()()(),r.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),r.EFF(41,"Visitation Hours"),r.k0s(),r.nrm(42,"div",24),r.k0s()(),r.j41(43,"div",61),r.nrm(44,"app-google-maps",46),r.k0s()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",l.business.email),r.R7$(3),r.JRh(l.business.phone),r.R7$(3),r.JRh(l.business.address),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function e_(g,u){if(1&g&&(r.j41(0,"div",51)(1,"p")(2,"a",47),r.EFF(3),r.k0s()()()),2&g){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",l.business.email,"",r.B4B),r.R7$(1),r.JRh(l.business.email)}}function cf(g,u){if(1&g&&(r.j41(0,"div",62)(1,"a",63),r.nrm(2,"i",64),r.k0s()()),2&g){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function lf(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"div",48)(2,"div",49)(3,"h2"),r.EFF(4,"Contact us"),r.k0s(),r.DNE(5,e_,4,2,"div",50),r.j41(6,"div",51)(7,"p"),r.EFF(8),r.k0s()(),r.j41(9,"div",51)(10,"p"),r.EFF(11),r.k0s()(),r.DNE(12,cf,3,1,"div",52),r.k0s(),r.j41(13,"div",53)(14,"form",54),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(15,"div",37)(16,"label",55),r.EFF(17,"Name "),r.j41(18,"span"),r.EFF(19,"(required)"),r.k0s()(),r.j41(20,"div",56)(21,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.name=T)}),r.k0s()()(),r.j41(22,"div",37)(23,"label",40),r.EFF(24,"Email "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"input",58),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.email=T)}),r.k0s()(),r.j41(28,"div",37)(29,"label",42),r.EFF(30,"Message "),r.j41(31,"span"),r.EFF(32,"(required)"),r.k0s()(),r.j41(33,"textarea",59),r.bIt("ngModelChange",function(T){r.eBV(l);const B=r.XpG(2);return r.Njj(B.formData.message=T)}),r.k0s()(),r.j41(34,"button",60),r.EFF(35,"Send"),r.k0s()()()(),r.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),r.EFF(40,"Visitation Hours"),r.k0s(),r.j41(41,"ul")(42,"li")(43,"strong"),r.EFF(44,"Monday:"),r.k0s(),r.EFF(45," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(46,"li")(47,"strong"),r.EFF(48,"Tuesday:"),r.k0s(),r.EFF(49," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(50,"li")(51,"strong"),r.EFF(52,"Wednesday:"),r.k0s(),r.EFF(53," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(54,"li")(55,"strong"),r.EFF(56,"Thursday:"),r.k0s(),r.EFF(57," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(58,"li")(59,"strong"),r.EFF(60,"Friday:"),r.k0s(),r.EFF(61," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(62,"li")(63,"strong"),r.EFF(64,"Saturday:"),r.k0s(),r.EFF(65," 7:00am \u2013 7:00pm"),r.k0s(),r.j41(66,"li")(67,"strong"),r.EFF(68,"Sunday:"),r.k0s(),r.EFF(69," 7:00am \u2013 7:00pm"),r.k0s()()()(),r.j41(70,"div",61),r.nrm(71,"app-google-maps",46),r.k0s()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(5),r.Y8G("ngIf",l.business.email),r.R7$(3),r.JRh(l.business.phone),r.R7$(3),r.JRh(l.business.address),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(38),r.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function $g(g,u){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,gp,65,16,"ng-container",2),r.DNE(3,jg,45,10,"ng-container",2),r.DNE(4,id,45,10,"ng-container",2),r.DNE(5,af,45,11,"ng-container",2),r.DNE(6,lf,72,9,"ng-container",3),r.k0s(),r.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),r.EFF(12),r.k0s(),r.nrm(13,"button",9),r.k0s(),r.j41(14,"div",10),r.EFF(15),r.k0s(),r.j41(16,"div",11)(17,"button",12),r.EFF(18," Close "),r.k0s()()()()()()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(7),r.JRh(l.modalTitle),r.R7$(3),r.SpI(" ",l.modalMessage," ")}}let t_=(()=>{class g{constructor(l,y,T,B,te,de,Le){this.sanitizer=l,this.businessDataService=y,this.webContent=T,this.route=B,this.http=te,this.emailService=de,this.metaService=Le,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Lc(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const y=l.split(".");return y.length>2?y.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(oe.up),r.rXU(xe.A),r.rXU(Ce.N),r.rXU(fe.nX),r.rXU(ye.Qq),r.rXU(Xm._),r.rXU(Ne.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(y,T){1&y&&r.DNE(0,$g,19,7,"div",0),2&y&&r.Y8G("ngIf",T.business)},dependencies:[z.bT,z.ux,z.e1,z.fG,Ai.qT,Ai.me,Ai.BC,Ai.cb,Ai.YS,Ai.vS,Ai.cV,Qm,pe,rd.a,pp],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}.btnSBSend[_ngcontent-%COMP%]{display:inline-block;min-width:180px;padding:.4em;height:45px;text-align:center;color:#fff;letter-spacing:1px;margin:20px 0 0;font-size:1.125rem;background-color:var(--dark-background-color);transition:.5s;border:1px solid var(--primary-color)}"]})}}return g})();var Gg=k(467),py=k(8455),Hg=k(214),vp=k(7304);let Ep=(()=>{class g{static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,T){1&y&&(r.nrm(0,"app-section-tilte",0),r.j41(1,"div",1),r.nrm(2,"iframe",2),r.k0s()),2&y&&r.Y8G("title","Virtual Tour")},dependencies:[St.L],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return g})();function fl(g,u){if(1&g&&(r.j41(0,"section",17),r.nrm(1,"div",18),r.j41(2,"div"),r.nrm(3,"p",19),r.k0s()()),2&g){const l=u.ngIf;r.R7$(1),r.Y8G("innerHTML",l.sectionTitle,r.npT),r.R7$(2),r.Y8G("innerHTML",l.sectionContent,r.npT)}}function bp(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",21),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function Ql(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"div",5)(2,"div",6)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",7)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.j41(8,"div",8),r.DNE(9,fl,4,2,"section",9),r.nI1(10,"sectionFilter"),r.j41(11,"section",10)(12,"div",11),r.EFF(13,"Explore Our Gallery"),r.k0s(),r.j41(14,"div",12),r.DNE(15,bp,2,1,"div",13),r.k0s()(),r.j41(16,"div",14)(17,"div",15)(18,"h2"),r.EFF(19,"Come Meet Our Family"),r.k0s(),r.j41(20,"p"),r.EFF(21,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),r.k0s(),r.j41(22,"button",16),r.bIt("click",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.navigateToContact(T.business.id))}),r.EFF(23,"Schedule a Visit"),r.k0s()()()(),r.bVm()}if(2&g){const l=r.XpG(2);r.R7$(9),r.Y8G("ngIf",r.i5U(10,2,null==l.business?null:l.business.sections,"GalleryCenterTop")),r.R7$(6),r.Y8G("ngForOf",l.images)}}function gy(g,u){if(1&g&&r.nrm(0,"app-center-text",27),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")("showBtn",!1)}}function zg(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",21),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function Jl(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",28),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function Wg(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.DNE(2,gy,1,5,"app-center-text",22),r.nI1(3,"sectionFilter"),r.j41(4,"section",23)(5,"div",11),r.nrm(6,"app-section-tilte",24),r.k0s(),r.j41(7,"div",25),r.DNE(8,zg,2,1,"div",13),r.k0s()(),r.j41(9,"section",23)(10,"div",11),r.nrm(11,"app-section-tilte",24),r.k0s(),r.j41(12,"div",25),r.DNE(13,Jl,2,1,"div",13),r.k0s()(),r.nrm(14,"app-testimonial-image",26),r.bVm()),2&g){const l=r.XpG(2);r.R7$(2),r.Y8G("ngIf",r.i5U(3,8,null==l.business?null:l.business.sections,"GalleryCenterTop")),r.R7$(4),r.Y8G("title","Gallery"),r.R7$(2),r.Y8G("ngForOf",l.images),r.R7$(3),r.Y8G("title","Lifestyle Images"),r.R7$(2),r.Y8G("ngForOf",l.lifeStyleImages),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[5].quote)}}function Kg(g,u){if(1&g&&r.nrm(0,"app-center-text",27),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")("showBtn",!1)}}function qg(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",21),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function sh(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",28),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function Cp(g,u){1&g&&r.nrm(0,"app-tour-3-d")}function uf(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.DNE(2,Kg,1,5,"app-center-text",22),r.nI1(3,"sectionFilter"),r.j41(4,"section",23)(5,"div",11),r.nrm(6,"app-section-tilte",24),r.k0s(),r.j41(7,"div",25),r.DNE(8,qg,2,1,"div",13),r.k0s()(),r.j41(9,"section",23)(10,"div",11),r.nrm(11,"app-section-tilte",24),r.k0s(),r.j41(12,"div",25),r.DNE(13,sh,2,1,"div",13),r.k0s()(),r.DNE(14,Cp,1,0,"app-tour-3-d",0),r.nrm(15,"app-testimonial-image",26),r.bVm()),2&g){const l=r.XpG(2);r.R7$(2),r.Y8G("ngIf",r.i5U(3,9,null==l.business?null:l.business.sections,"GalleryCenterTop")),r.R7$(4),r.Y8G("title","Gallery"),r.R7$(2),r.Y8G("ngForOf",l.images),r.R7$(3),r.Y8G("title","Lifestyle Images"),r.R7$(2),r.Y8G("ngForOf",l.lifeStyleImages),r.R7$(1),r.Y8G("ngIf","clemo"===(null==l.business||null==l.business.theme?null:l.business.theme.themeType)),r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[4].name)("text",l.business.testimonials[4].quote)}}function n_(g,u){if(1&g&&r.nrm(0,"app-center-text",27),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")("showBtn",!1)}}function Tp(g,u){if(1&g&&(r.j41(0,"a",34),r.EFF(1),r.k0s()),2&g){const l=r.XpG(2).$implicit;r.FS9("href",l.link,r.B4B),r.R7$(1),r.JRh(l.title)}}function r_(g,u){if(1&g&&(r.j41(0,"div",32)(1,"p"),r.DNE(2,Tp,2,2,"a",33),r.k0s()()),2&g){const l=r.XpG().$implicit;r.R7$(2),r.Y8G("ngIf",l.link)}}function pl(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",30),r.DNE(2,r_,3,1,"div",31),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.FS9("alt",l.title),r.Y8G("src",l.url,r.B4B),r.R7$(1),r.Y8G("ngIf",l.title)}}function my(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero",29),r.DNE(2,n_,1,5,"app-center-text",22),r.nI1(3,"sectionFilter"),r.j41(4,"section",23)(5,"div",11),r.nrm(6,"app-section-tilte",24),r.k0s(),r.j41(7,"div",25),r.DNE(8,pl,3,3,"div",13),r.k0s()(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(1),r.Y8G("ngIf",r.i5U(3,4,null==l.business?null:l.business.sections,"GalleryCenterTop")),r.R7$(4),r.Y8G("title","Small Business Websites Gallery"),r.R7$(2),r.Y8G("ngForOf",l.images)}}function Yg(g,u){if(1&g&&r.nrm(0,"app-center-text",27),2&g){const l=u.ngIf,y=r.XpG(3);r.Y8G("themeType",y.business.theme.themeType||"")("imageURL",l.sectionImageUrl||"")("title",l.sectionTitle||"")("content",l.sectionContent||"")("showBtn",!1)}}function i_(g,u){if(1&g){const l=r.RV6();r.j41(0,"div",20),r.bIt("click",function(){const B=r.eBV(l).$implicit,te=r.XpG(3);return r.Njj(te.onImageClick(B.url))}),r.nrm(1,"img",21),r.k0s()}if(2&g){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B)}}function Xg(g,u){if(1&g&&(r.qex(0),r.nrm(1,"app-hero"),r.DNE(2,Yg,1,5,"app-center-text",22),r.nI1(3,"sectionFilter"),r.j41(4,"section",10)(5,"div",11)(6,"h2"),r.EFF(7,"Explore Our Gallery"),r.k0s()(),r.j41(8,"div",12),r.DNE(9,i_,2,1,"div",13),r.k0s()(),r.bVm()),2&g){const l=r.XpG(2);r.R7$(2),r.Y8G("ngIf",r.i5U(3,2,null==l.business?null:l.business.sections,"GalleryCenterTop")),r.R7$(7),r.Y8G("ngForOf",l.images)}}function s_(g,u){if(1&g){const l=r.RV6();r.j41(0,"app-image-viewer-modal",35),r.bIt("closeModal",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onCloseModal())}),r.k0s()}if(2&g){const l=r.XpG(2);r.Y8G("imageUrl",l.selectedImageUrl)}}function gl(g,u){if(1&g&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Ql,24,5,"ng-container",2),r.DNE(3,Wg,15,11,"ng-container",2),r.DNE(4,uf,16,12,"ng-container",2),r.DNE(5,my,9,7,"ng-container",2),r.DNE(6,Xg,10,5,"ng-container",3),r.DNE(7,s_,1,1,"app-image-viewer-modal",4),r.k0s()()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",l.selectedImageUrl)}}let oh=(()=>{class g{constructor(l,y,T,B,te){this.businessDataService=l,this.route=y,this.webContent=T,this.metaService=B,this.router=te,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:B})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,at.n)(te=>{console.log(`Raw Firestore images for ${T}:`,te);const de=te.map(function(){var Le=(0,Gg.A)(function*(ct){return(yield l.webContent.checkImageExists(ct.url))?ct:null});return function(ct){return Le.apply(this,arguments)}}());return(0,py.H)(Promise.all(de))}),(0,be.T)(te=>te.filter(de=>null!==de)),(0,be.T)(te=>(console.log(`Filtered images for ${B}:`,te),te.map(de=>({url:de.url,title:de.title||"No Title",description:de.description||"No Description",link:de.link||"No Link",order:isNaN(Number(de.order))?999:Number(de.order)})).sort((de,Le)=>de.order-Le.order)))).subscribe(te=>{console.log(`Sorted images for ${B}:`,te),this[B]||(this[B]=[]),this[B]=te})})}onImageClick(l){this.selectedImageUrl=l}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(xe.A),r.rXU(fe.nX),r.rXU(Ce.N),r.rXU(Ne.R),r.rXU(fe.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","home-description",4,"ngIf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"home-description"],[1,"section-heading",3,"innerHTML"],[3,"innerHTML"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],[3,"themeType","imageURL","title","content","showBtn"],["alt","Lifestyle Image",3,"src"],[3,"layoutType"],["alt","Gallery Image",3,"src","alt"],["class","image-info",4,"ngIf"],[1,"image-info"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[3,"imageUrl","closeModal"]],template:function(y,T){1&y&&r.DNE(0,gl,8,6,"div",0),2&y&&r.Y8G("ngIf",T.business)},dependencies:[z.Sq,z.bT,z.ux,z.e1,z.fG,Hg.W,vp.W,pe,Ze,St.L,Ep,sn.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;padding-bottom:10px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return g})();var Ip=k(4796);function _y(g,u){if(1&g&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&g){const l=r.XpG();r.R7$(1),r.JRh(l.errorMessage)}}let wp=(()=>{class g{constructor(l,y){this.authService=l,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(Ip.u),r.rXU(fe.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,T){1&y&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return T.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(te){return T.email=te}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(te){return T.password=te}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,_y,2,1,"div",10),r.k0s()()()),2&y&&(r.R7$(8),r.Y8G("ngModel",T.email),r.R7$(4),r.Y8G("ngModel",T.password),r.R7$(3),r.Y8G("ngIf",T.errorMessage))},dependencies:[z.bT,Ai.qT,Ai.me,Ai.BC,Ai.cb,Ai.YS,Ai.vS,Ai.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return g})();var Ap=k(1985),Dp=k(6340);let yy=(()=>{class g{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,y){const T=this.afs.createId(),B=this.afs.collection(`${this.basePath}/${y}/intake`).doc(T);return new Ap.c(te=>{B.set(l).then(()=>{te.next(l),te.complete()}).catch(de=>{console.error("Error saving intake form data",de),te.error(de)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,be.T)(y=>y.map(T=>{const B=T.payload.doc.data();return{id:T.payload.doc.id,...B}})))}getIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).valueChanges().pipe((0,be.T)(T=>T||void 0))}updateIntakeForm(l,y,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).update(T)}deleteIntakeForm(l,y){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||g)(r.KVO(Dp.Qe))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function vy(g,u){if(1&g&&(r.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),r.EFF(3),r.k0s()(),r.j41(4,"div",6)(5,"p"),r.EFF(6),r.k0s()()()),2&g){const l=u.$implicit;r.R7$(3),r.SpI('"',l.quote,'"'),r.R7$(3),r.JRh(l.name)}}function Qg(g,u){if(1&g&&(r.j41(0,"div",2),r.DNE(1,vy,7,2,"div",3),r.k0s()),2&g){const l=r.XpG();r.R7$(1),r.Y8G("ngForOf",l.testimonials)}}const ah=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Te.B},{path:"about-us",component:hn},{path:"services",component:xr},{path:"contact-us",component:t_},{path:"gallery",component:oh},{path:"login",component:wp},{path:"resident-form",component:(()=>{class g{constructor(l,y,T,B,te){this.fb=l,this.intakeService=y,this.businessDataService=T,this.emailService=B,this.metaService=te,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Ai.k0.required],email:["",[Ai.k0.required,Ai.k0.email]],phoneNumber:["",Ai.k0.required],referralSource:["",Ai.k0.required],relationToResident:[""],residentName:["",Ai.k0.required],age:["",Ai.k0.required],gender:["",Ai.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const y={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(Ai.ok),r.rXU(yy),r.rXU(xe.A),r.rXU(Xm._),r.rXU(Ne.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,T){1&y&&(r.nrm(0,"app-hero"),r.j41(1,"form",0),r.bIt("ngSubmit",function(){return T.onSubmit()}),r.j41(2,"div",1)(3,"h2"),r.EFF(4,"Personal Information"),r.k0s(),r.j41(5,"label",2),r.EFF(6,"Name *"),r.k0s(),r.nrm(7,"input",3),r.j41(8,"label",4),r.EFF(9,"Email *"),r.k0s(),r.nrm(10,"input",5),r.j41(11,"label",6),r.EFF(12,"Phone number *"),r.k0s(),r.nrm(13,"input",7),r.k0s(),r.j41(14,"div",1)(15,"h2"),r.EFF(16,"Referral Source"),r.k0s(),r.j41(17,"label",8),r.EFF(18,"How did you find out about us? *"),r.k0s(),r.j41(19,"select",9)(20,"option",10),r.EFF(21,"Google"),r.k0s(),r.j41(22,"option",11),r.EFF(23,"Facebook"),r.k0s(),r.j41(24,"option",12),r.EFF(25,"Placement Agency"),r.k0s(),r.j41(26,"option",13),r.EFF(27,"Friends and/or Family"),r.k0s(),r.j41(28,"option",14),r.EFF(29,"Other"),r.k0s()(),r.j41(30,"label",15),r.EFF(31,"What is your relation to the resident? *"),r.k0s(),r.nrm(32,"input",16),r.k0s(),r.j41(33,"div",1)(34,"h2"),r.EFF(35,"Resident Information"),r.k0s(),r.j41(36,"label",17),r.EFF(37,"Resident's name *"),r.k0s(),r.nrm(38,"input",18),r.j41(39,"label",19),r.EFF(40,"Age *"),r.k0s(),r.nrm(41,"input",20),r.j41(42,"label",21),r.EFF(43,"Gender *"),r.k0s(),r.j41(44,"select",22)(45,"option",23),r.EFF(46,"Male"),r.k0s(),r.j41(47,"option",24),r.EFF(48,"Female"),r.k0s(),r.j41(49,"option",25),r.EFF(50,"Prefer not to say"),r.k0s(),r.j41(51,"option",14),r.EFF(52,"Other"),r.k0s()()(),r.j41(53,"div",1)(54,"h2"),r.EFF(55,"Medical History"),r.k0s(),r.j41(56,"label",26),r.EFF(57,"Relevant medical and surgical history *"),r.k0s(),r.nrm(58,"textarea",27),r.j41(59,"label",28),r.EFF(60,"Height *"),r.k0s(),r.nrm(61,"input",29),r.j41(62,"label",30),r.EFF(63,"Weight *"),r.k0s(),r.nrm(64,"input",31),r.j41(65,"label",32),r.EFF(66,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(67,"textarea",33),r.j41(68,"label",34),r.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(70,"select",35)(71,"option",36),r.EFF(72,"Yes"),r.k0s(),r.j41(73,"option",37),r.EFF(74,"No"),r.k0s()()(),r.j41(75,"div",1)(76,"h2"),r.EFF(77,"Care Levels"),r.k0s(),r.j41(78,"label",38),r.EFF(79,"Eating *"),r.k0s(),r.j41(80,"select",39)(81,"option",40),r.EFF(82,"Independent"),r.k0s(),r.j41(83,"option",41),r.EFF(84,"Needing Assistance"),r.k0s(),r.j41(85,"option",42),r.EFF(86,"Dependent"),r.k0s()(),r.j41(87,"label",43),r.EFF(88,"Personal Hygiene *"),r.k0s(),r.j41(89,"select",44)(90,"option",40),r.EFF(91,"Independent"),r.k0s(),r.j41(92,"option",41),r.EFF(93,"Needing Assistance"),r.k0s(),r.j41(94,"option",42),r.EFF(95,"Dependent"),r.k0s()(),r.j41(96,"label",45),r.EFF(97,"Bathing *"),r.k0s(),r.j41(98,"select",46)(99,"option",40),r.EFF(100,"Independent"),r.k0s(),r.j41(101,"option",41),r.EFF(102,"Needing Assistance"),r.k0s(),r.j41(103,"option",42),r.EFF(104,"Dependent"),r.k0s()(),r.j41(105,"label",47),r.EFF(106,"Toileting *"),r.k0s(),r.j41(107,"select",48)(108,"option",40),r.EFF(109,"Independent"),r.k0s(),r.j41(110,"option",41),r.EFF(111,"Needing Assistance"),r.k0s(),r.j41(112,"option",42),r.EFF(113,"Dependent"),r.k0s()(),r.j41(114,"label",49),r.EFF(115,"Mobility *"),r.k0s(),r.j41(116,"select",50)(117,"option",40),r.EFF(118,"Independent"),r.k0s(),r.j41(119,"option",41),r.EFF(120,"Needing Assistance"),r.k0s(),r.j41(121,"option",42),r.EFF(122,"Dependent"),r.k0s()(),r.j41(123,"label",51),r.EFF(124,"Transfers *"),r.k0s(),r.j41(125,"select",52)(126,"option",40),r.EFF(127,"Independent"),r.k0s(),r.j41(128,"option",41),r.EFF(129,"Needing Assistance"),r.k0s(),r.j41(130,"option",42),r.EFF(131,"Dependent"),r.k0s()(),r.j41(132,"label",53),r.EFF(133,"Medication Assistance *"),r.k0s(),r.j41(134,"select",54)(135,"option",36),r.EFF(136,"Yes"),r.k0s(),r.j41(137,"option",37),r.EFF(138,"No"),r.k0s()()(),r.j41(139,"div",1)(140,"h2"),r.EFF(141,"Other Medical Information"),r.k0s(),r.j41(142,"label",55),r.EFF(143,"Memory Issues *"),r.k0s(),r.j41(144,"select",56)(145,"option",36),r.EFF(146,"Yes"),r.k0s(),r.j41(147,"option",37),r.EFF(148,"No"),r.k0s()(),r.j41(149,"label",57),r.EFF(150,"Behavior"),r.k0s(),r.nrm(151,"textarea",58),r.j41(152,"label",59),r.EFF(153,"Skin Condition"),r.k0s(),r.nrm(154,"textarea",60),r.j41(155,"label",61),r.EFF(156,"Other information you want us to know"),r.k0s(),r.nrm(157,"textarea",62),r.k0s(),r.j41(158,"div",1)(159,"h2"),r.EFF(160,"Living Situation"),r.k0s(),r.j41(161,"label",63),r.EFF(162,"Current living situation *"),r.k0s(),r.j41(163,"select",64)(164,"option",65),r.EFF(165,"Own Home"),r.k0s(),r.j41(166,"option",66),r.EFF(167,"Relative's Home"),r.k0s(),r.j41(168,"option",67),r.EFF(169,"Hospital"),r.k0s(),r.j41(170,"option",68),r.EFF(171,"Adult Family Home"),r.k0s(),r.j41(172,"option",69),r.EFF(173,"Senior Living"),r.k0s(),r.j41(174,"option",14),r.EFF(175,"Other"),r.k0s()()(),r.j41(176,"div",1)(177,"label",70),r.EFF(178,"Target move in date *"),r.k0s(),r.nrm(179,"input",71),r.k0s(),r.j41(180,"div",1)(181,"label",72),r.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(183,"select",73)(184,"option",36),r.EFF(185,"Yes"),r.k0s(),r.j41(186,"option",37),r.EFF(187,"No"),r.k0s()()(),r.j41(188,"div",1)(189,"label",74),r.EFF(190,"Do you have any questions for us?"),r.k0s(),r.nrm(191,"textarea",75),r.k0s(),r.j41(192,"button",76),r.EFF(193,"Submit"),r.k0s()()),2&y&&(r.R7$(1),r.Y8G("formGroup",T.intakeForm),r.R7$(191),r.Y8G("disabled",T.intakeForm.invalid))},dependencies:[Ai.qT,Ai.xH,Ai.y7,Ai.me,Ai.Q0,Ai.wz,Ai.BC,Ai.cb,Ai.j4,Ai.JD,pe],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return g})()},{path:"testimonials",component:(()=>{class g{constructor(l,y){this.businessDataService=l,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(xe.A),r.rXU(Ne.R))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,T){1&y&&(r.nrm(0,"app-hero"),r.j41(1,"div",0),r.DNE(2,Qg,2,1,"div",1),r.k0s()),2&y&&(r.R7$(2),r.Y8G("ngIf",T.testimonials.length>0))},dependencies:[z.Sq,z.bT,pe],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return g})()},{path:"faq",component:pp},{path:"login",component:wp},{path:"admin",loadChildren:()=>k.e(496).then(k.bind(k,4496)).then(g=>g.AdminModule)},{path:":id",component:Te.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let df=(()=>{class g{static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({imports:[fe.iI.forRoot(ah),fe.iI]})}}return g})();var Ea=k(5009);function hf(g,u){if(1&g&&r.nrm(0,"img",11),2&g){const l=r.XpG();r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function a_(g,u){if(1&g){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function c_(g,u){if(1&g){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function l_(g,u){if(1&g){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const u_=function(g){return{"clemo-shrink":g}},d_=function(){return["/home"]},Ey=function(g){return{id:g}},ff=function(g){return{"clemo-show":g}};let pf=(()=>{class g{constructor(l,y,T){this.route=l,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(fe.Ix),r.rXU(xe.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-expandable-navigation"]],hostBindings:function(y,T){1&y&&r.bIt("scroll",function(){return T.onWindowScroll()},!1,r.tSv)},decls:23,vars:15,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-item",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,T){1&y&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,hf,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return T.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return T.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.j41(11,"li",8)(12,"span",9),r.bIt("click",function(){return T.navigateTo("about-us")}),r.EFF(13,"About Us"),r.k0s()(),r.j41(14,"li",8)(15,"span",9),r.bIt("click",function(){return T.navigateTo("services")}),r.EFF(16,"Services"),r.k0s()(),r.DNE(17,a_,3,0,"li",10),r.DNE(18,c_,3,0,"li",10),r.DNE(19,l_,3,0,"li",10),r.j41(20,"li",8)(21,"span",9),r.bIt("click",function(){return T.navigateTo("contact-us")}),r.EFF(22,"Contact"),r.k0s()()()()()()),2&y&&(r.Y8G("ngClass",r.eq3(8,u_,T.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(10,d_))("queryParams",r.eq3(11,Ey,T.businessId)),r.R7$(1),r.Y8G("ngIf",null==T.business?null:T.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(13,ff,T.menuOpen)),r.R7$(11),r.Y8G("ngIf","sb"!=T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[z.YU,z.bT,fe.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return g})();function h_(g,u){if(1&g&&r.nrm(0,"img",13),2&g){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const ch=function(){return["/home"]},ml=function(g){return{id:g}},gf=function(g){return{"open-bar1":g}},_l=function(g){return{"open-bar2":g}},mf=function(g){return{"open-bar3":g}},lh=function(g){return{active:g}};function Jg(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,h_,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,ch))("queryParams",r.eq3(8,ml,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,gf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,_l,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,mf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,lh,l.menuOpen))}}function yl(g,u){if(1&g&&r.nrm(0,"img",13),2&g){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const _f=function(){return["/contact-us"]};function Zg(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,yl,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,ch))("queryParams",r.eq3(10,ml,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,gf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,_l,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,mf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,lh,l.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,_f))("queryParams",r.eq3(21,ml,l.businessId))}}function by(g,u){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function od(g,u){1&g&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function em(g,u){if(1&g&&r.nrm(0,"img",13),2&g){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function Cy(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,em,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,ch))("queryParams",r.eq3(8,ml,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,gf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,_l,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,mf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,lh,l.menuOpen))}}function Sp(g,u){if(1&g&&r.nrm(0,"img",13),2&g){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function f_(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,Sp,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,ch))("queryParams",r.eq3(10,ml,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,gf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,_l,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,mf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,lh,l.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,_f))("queryParams",r.eq3(21,ml,l.businessId))}}let Ty=(()=>{class g{constructor(l,y,T){this.route=l,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(l){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const y=document.getElementById(l);y&&y.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(fe.Ix),r.rXU(xe.A))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-navigation"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(y,T){1&y&&(r.j41(0,"div",0),r.DNE(1,Jg,21,18,"ng-container",1),r.DNE(2,Zg,29,23,"ng-container",1),r.DNE(3,by,2,0,"ng-container",1),r.DNE(4,od,2,0,"ng-container",1),r.DNE(5,Cy,21,18,"ng-container",1),r.DNE(6,f_,27,23,"ng-container",1),r.k0s()),2&y&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[z.YU,z.bT,z.ux,z.e1,fe.Wk,pf],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return g})();function Iy(g,u){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&g){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function wy(g,u){if(1&g&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&g){const l=r.XpG();r.R7$(6),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.JRh(null==l.business?null:l.business.providerName),r.R7$(5),r.JRh(null==l.business?null:l.business.address),r.R7$(5),r.JRh(null==l.business?null:l.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.email),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function Ay(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(26,"RESIDENT FORM"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(28,"CONTACT"),r.k0s()(),r.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),r.EFF(33,"DESIGNED BY "),r.j41(34,"a",15),r.EFF(35,"SB MEDIA HUB"),r.k0s()()(),r.j41(36,"div",16)(37,"p"),r.EFF(38," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.businessName),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function p_(g,u){if(1&g){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"p",29),r.EFF(6),r.k0s(),r.j41(7,"p",30),r.EFF(8),r.k0s()(),r.j41(9,"div",31)(10,"a",32),r.nrm(11,"i",33),r.k0s(),r.j41(12,"a",32),r.nrm(13,"i",34),r.k0s()(),r.j41(14,"nav",35)(15,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&g){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function jv(g,u){if(1&g&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&g){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function Dy(g,u){if(1&g&&(r.j41(0,"div",37)(1,"h1",38),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",39)(4,"div",40)(5,"span",41),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",42),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"span",41),r.EFF(11,"Business ID:"),r.k0s(),r.j41(12,"span",42),r.EFF(13),r.k0s()(),r.j41(14,"div",40)(15,"span",41),r.EFF(16,"Business Name:"),r.k0s(),r.j41(17,"span",42),r.EFF(18),r.k0s()()()()),2&g){const l=r.XpG();r.R7$(8),r.JRh(l.themeFileName),r.R7$(5),r.JRh(null==l.business?null:l.business.id),r.R7$(5),r.JRh(null==l.business?null:l.business.businessName)}}let uh=(()=>{class g{constructor(l,y,T,B,te,de){this.route=l,this.webContentService=y,this.authService=T,this.themeService=B,this.businessDataService=te,this.router=de,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.router.navigate([`/${l}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(Ce.N),r.rXU(Ip.u),r.rXU(Ea.F),r.rXU(xe.A),r.rXU(fe.Ix))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-footer"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,T){1&y&&(r.j41(0,"div",0),r.DNE(1,Iy,44,12,"ng-container",1),r.DNE(2,wy,42,10,"ng-container",1),r.DNE(3,Ay,39,4,"ng-container",1),r.DNE(4,p_,35,3,"ng-container",1),r.DNE(5,jv,34,12,"ng-container",2),r.k0s(),r.DNE(6,Dy,19,3,"div",3),r.nI1(7,"async")),2&y&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(7,6,T.isAuthenticated$)))},dependencies:[z.bT,z.ux,z.e1,z.fG,z.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:var(--site-max-width);margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}.footer[_ngcontent-%COMP%], .ae-footer[_ngcontent-%COMP%], .clemo-footer[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;max-width:100%;box-sizing:border-box;padding:0 10px}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start;width:100%;max-width:var(--site-max-width, 1200px);margin:0 auto;box-sizing:border-box;padding:0 20px}.clemo-footer-content[_ngcontent-%COMP%]{display:grid}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px;text-align:left}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{width:100%}}.copy[_ngcontent-%COMP%]{max-width:var(--site-max-width);display:flex;justify-content:space-between;align-items:center;padding:10px;margin:0 auto}.design[_ngcontent-%COMP%], .rights[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return g})(),ad=(()=>{class g{constructor(l,y,T,B,te){this.route=l,this.webContent=y,this.metaService=T,this.router=B,this.themeService=te,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(y){return new(y||g)(r.rXU(fe.nX),r.rXU(Ce.N),r.rXU(Ne.R),r.rXU(fe.Ix),r.rXU(Ea.F))}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-root"]],decls:3,vars:0,template:function(y,T){1&y&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[fe.n3,Ty,uh]})}}return g})();const xp_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var qc=k(2214),Xs=k(5407);class yc{constructor(u){return u}}class ui{constructor(){return(0,qc.Dk)()}}const Yc=new r.nKC("angularfire2._apps"),Sy={provide:yc,useFactory:function tm(g){return g&&1===g.length?g[0]:new yc((0,qc.Sx)())},deps:[[new r.Xx1,Yc]]},uo={provide:ui,deps:[[new r.Xx1,Yc]]};function Vs(g){return(u,l)=>{const y=u.runOutsideAngular(()=>g(l));return new yc(y)}}let Qa=(()=>{class g{constructor(l){(0,qc.KO)("angularfire",Xs.xv.full,"core"),(0,qc.KO)("angularfire",Xs.xv.full,"app"),(0,qc.KO)("angular",r.xvI.full,l.toString())}static \u0275fac=function(y){return new(y||g)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[Sy,uo]})}return g})();function m_(g,...u){return{ngModule:Qa,providers:[{provide:Yc,useFactory:Vs(g),multi:!0,deps:[r.SKi,r.zZn,Xs.u0,...u]}]}}const yf=(0,Xs.S3)(qc.Wp,!0);k(5504),k(7852),k(1076),k(8041),k(1362);class Zl{constructor(){return(0,Xs.CA)("auth")}}var Yv=k(9583);class wf{constructor(u){return u}}const jp="firestore",Af=new r.nKC("angularfire2.firestore-instances");function Bp(g){return(u,l)=>{const y=u.runOutsideAngular(()=>g(l));return new wf(y)}}const $p={provide:class S_{constructor(){return(0,Xs.CA)(jp)}},deps:[[new r.Xx1,Af]]},$y={provide:wf,useFactory:function x_(g,u){const l=(0,Xs.lR)(jp,g,u);return l&&new wf(l)},deps:[[new r.Xx1,Af],yc]};let rE=(()=>{class g{constructor(){(0,qc.KO)("angularfire",Xs.xv.full,"fst")}static \u0275fac=function(y){return new(y||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[$y,$p]})}return g})();function Gy(g,...u){return{ngModule:rE,providers:[{provide:Af,useFactory:Bp(g),multi:!0,deps:[r.SKi,r.zZn,Xs.u0,ui,[new r.Xx1,Zl],[new r.Xx1,Xs.Jv],...u]}]}}const ev=(0,Xs.S3)(Yv.aU,!0);var En=k(9253),cn=k(8721),tr=k(1977),yr=k(4535);class nr{constructor(u){return u}}const $r="storage",dt=new r.nKC("angularfire2.storage-instances");function Qe(g){return(u,l)=>{const y=u.runOutsideAngular(()=>g(l));return new nr(y)}}const ft={provide:class Ui{constructor(){return(0,Xs.CA)($r)}},deps:[[new r.Xx1,dt]]},mt={provide:nr,useFactory:function Ve(g,u){const l=(0,Xs.lR)($r,g,u);return l&&new nr(l)},deps:[[new r.Xx1,dt],yc]};let xt=(()=>{class g{constructor(){(0,qc.KO)("angularfire",Xs.xv.full,"gcs")}static \u0275fac=function(y){return new(y||g)};static \u0275mod=r.$C({type:g});static \u0275inj=r.G2t({providers:[mt,ft]})}return g})();function qe(g,...u){return{ngModule:xt,providers:[{provide:dt,useFactory:Qe(g),multi:!0,deps:[r.SKi,r.zZn,Xs.u0,ui,[new r.Xx1,Zl],[new r.Xx1,Xs.Jv],...u]}]}}const ou=(0,Xs.S3)(yr.c7,!0);var xf=k(3012);let Xp=(()=>{class g{constructor(l,y,T){this.http=l,this.themeService=y,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((y,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:B=>{this.themeService.applyThemeFile(B?B.themeFileName:"default.css").then(()=>y()).catch(de=>{console.error("Error applying theme file:",de),y()}),this.themeService.getThemeColors(l).subscribe(de=>{this.applyTheme(de),y()},de=>{console.error("Error loading theme:",de),y()})},error:B=>{console.error("Error loading business theme:",B),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(te=>{console.error("Error applying default theme file:",te),y()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||g)(r.KVO(ye.Qq),r.KVO(Ea.F),r.KVO(xf.u))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var Hi=k(9969);function _m(g){return new r.wOt(3e3,!1)}function wl(g){switch(g.length){case 0:return new Hi.sf;case 1:return g[0];default:return new Hi.ui(g)}}function Ch(g,u,l=new Map,y=new Map){const T=[],B=[];let te=-1,de=null;if(u.forEach(Le=>{const ct=Le.get("offset"),Tt=ct==te,tn=Tt&&de||new Map;Le.forEach((Wn,Sn)=>{let Fn=Sn,On=Wn;if("offset"!==Sn)switch(Fn=g.normalizePropertyName(Fn,T),On){case Hi.FX:On=l.get(Sn);break;case Hi.kp:On=y.get(Sn);break;default:On=g.normalizeStyleValue(Sn,Fn,On,T)}tn.set(Fn,On)}),Tt||B.push(tn),de=tn,te=ct}),T.length)throw function Zp(g){return new r.wOt(3502,!1)}();return B}function fd(g,u,l,y){switch(u){case"start":g.onStart(()=>y(l&&rg(l,"start",g)));break;case"done":g.onDone(()=>y(l&&rg(l,"done",g)));break;case"destroy":g.onDestroy(()=>y(l&&rg(l,"destroy",g)))}}function rg(g,u,l){const B=Of(g.element,g.triggerName,g.fromState,g.toState,u||g.phaseName,l.totalTime??g.totalTime,!!l.disabled),te=g._data;return null!=te&&(B._data=te),B}function Of(g,u,l,y,T="",B=0,te){return{element:g,triggerName:u,fromState:l,toState:y,phaseName:T,totalTime:B,disabled:!!te}}function _o(g,u,l){let y=g.get(u);return y||g.set(u,y=l),y}function Nf(g){const u=g.indexOf(":");return[g.substring(1,u),g.slice(u+1)]}const av=(()=>typeof document>"u"?null:document.documentElement)();function Th(g){const u=g.parentNode||g.host||null;return u===av?null:u}let Al=null,kf=!1;function Ff(g,u){for(;u;){if(u===g)return!0;u=Th(u)}return!1}function ig(g,u,l){if(l)return Array.from(g.querySelectorAll(u));const y=g.querySelector(u);return y?[y]:[]}let sg=(()=>{class g{validateStyleProperty(l){return function cu(g){Al||(Al=function Sm(){return typeof document<"u"?document.body:null}()||{},kf=!!Al.style&&"WebkitAppearance"in Al.style);let u=!0;return Al.style&&!function G_(g){return"ebkit"==g.substring(1,6)}(g)&&(u=g in Al.style,!u&&kf&&(u="Webkit"+g.charAt(0).toUpperCase()+g.slice(1)in Al.style)),u}(l)}matchesElement(l,y){return!1}containsElement(l,y){return Ff(l,y)}getParentElement(l){return Th(l)}query(l,y,T){return ig(l,y,T)}computeStyle(l,y,T){return T||""}animate(l,y,T,B,te,de=[],Le){return new Hi.sf(T,B)}static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})(),og=(()=>{class g{static{this.NOOP=new sg}}return g})();const xm=1e3,pd="ng-enter",Ja="ng-leave",wh="ng-trigger",Fa=".ng-trigger",gd="ng-animating",ho=".ng-animating";function Wo(g){if("number"==typeof g)return g;const u=g.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:lu(parseFloat(u[1]),u[2])}function lu(g,u){return"s"===u?g*xm:g}function Mo(g,u,l){return g.hasOwnProperty("duration")?g:function ag(g,u,l){let T,B=0,te="";if("string"==typeof g){const de=g.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return u.push(_m()),{duration:0,delay:0,easing:""};T=lu(parseFloat(de[1]),de[2]);const Le=de[3];null!=Le&&(B=lu(parseFloat(Le),de[4]));const ct=de[5];ct&&(te=ct)}else T=g;if(!l){let de=!1,Le=u.length;T<0&&(u.push(function ym(){return new r.wOt(3100,!1)}()),de=!0),B<0&&(u.push(function vm(){return new r.wOt(3101,!1)}()),de=!0),de&&u.splice(Le,0,_m())}return{duration:T,delay:B,easing:te}}(g,u,l)}function Cc(g,u={}){return Object.keys(g).forEach(l=>{u[l]=g[l]}),u}function md(g){const u=new Map;return Object.keys(g).forEach(l=>{u.set(l,g[l])}),u}function ba(g,u=new Map,l){if(l)for(let[y,T]of l)u.set(y,T);for(let[y,T]of g)u.set(y,T);return u}function sa(g,u,l){u.forEach((y,T)=>{const B=hu(T);l&&!l.has(T)&&l.set(T,g.style[B]),g.style[B]=y})}function yo(g,u){u.forEach((l,y)=>{const T=hu(y);g.style[T]=""})}function vo(g){return Array.isArray(g)?1==g.length?g[0]:(0,Hi.K2)(g):g}const _d=new RegExp("{{\\s*(.+?)\\s*}}","g");function cg(g){let u=[];if("string"==typeof g){let l;for(;l=_d.exec(g);)u.push(l[1]);_d.lastIndex=0}return u}function Ki(g,u,l){const y=g.toString(),T=y.replace(_d,(B,te)=>{let de=u[te];return null==de&&(l.push(function Em(g){return new r.wOt(3003,!1)}()),de=""),de.toString()});return T==y?g:T}function du(g){const u=[];let l=g.next();for(;!l.done;)u.push(l.value),l=g.next();return u}const Dh=/-+([a-z0-9])/g;function hu(g){return g.replace(Dh,(...u)=>u[1].toUpperCase())}function oa(g,u,l){switch(u.type){case 7:return g.visitTrigger(u,l);case 0:return g.visitState(u,l);case 1:return g.visitTransition(u,l);case 2:return g.visitSequence(u,l);case 3:return g.visitGroup(u,l);case 4:return g.visitAnimate(u,l);case 5:return g.visitKeyframes(u,l);case 6:return g.visitStyle(u,l);case 8:return g.visitReference(u,l);case 9:return g.visitAnimateChild(u,l);case 10:return g.visitAnimateRef(u,l);case 11:return g.visitQuery(u,l);case 12:return g.visitStagger(u,l);default:throw function Jp(g){return new r.wOt(3004,!1)}()}}function z_(g,u){return window.getComputedStyle(g)[u]}const fu="*";function hv(g,u){const l=[];return"string"==typeof g?g.split(/\s*,\s*/).forEach(y=>function fv(g,u,l){if(":"==g[0]){const Le=function pv(g,u){switch(g){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,y)=>parseFloat(y)>parseFloat(l);case":decrement":return(l,y)=>parseFloat(y)<parseFloat(l);default:return u.push(function wm(g){return new r.wOt(3016,!1)}()),"* => *"}}(g,l);if("function"==typeof Le)return void u.push(Le);g=Le}const y=g.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return l.push(function Im(g){return new r.wOt(3015,!1)}()),u;const T=y[1],B=y[2],te=y[3];u.push(lg(T,te));"<"==B[0]&&!(T==fu&&te==fu)&&u.push(lg(te,T))}(y,l,u)):l.push(g),l}const La=new Set(["true","1"]),pu=new Set(["false","0"]);function lg(g,u){const l=La.has(g)||pu.has(g),y=La.has(u)||pu.has(u);return(T,B)=>{let te=g==fu||g==T,de=u==fu||u==B;return!te&&l&&"boolean"==typeof T&&(te=T?La.has(g):pu.has(g)),!de&&y&&"boolean"==typeof B&&(de=B?La.has(u):pu.has(u)),te&&de}}const Lf=new RegExp("s*:selfs*,?","g");function gu(g,u,l,y){return new Vf(g).build(u,l,y)}class Vf{constructor(u){this._driver=u}build(u,l,y){const T=new Us(l);return this._resetContextStyleTimingState(T),oa(this,vo(u),T)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let y=l.queryCount=0,T=l.depCount=0;const B=[],te=[];return"@"==u.name.charAt(0)&&l.errors.push(function V_(){return new r.wOt(3006,!1)}()),u.definitions.forEach(de=>{if(this._resetContextStyleTimingState(l),0==de.type){const Le=de,ct=Le.name;ct.toString().split(/\s*,\s*/).forEach(Tt=>{Le.name=Tt,B.push(this.visitState(Le,l))}),Le.name=ct}else if(1==de.type){const Le=this.visitTransition(de,l);y+=Le.queryCount,T+=Le.depCount,te.push(Le)}else l.errors.push(function sv(){return new r.wOt(3007,!1)}())}),{type:7,name:u.name,states:B,transitions:te,queryCount:y,depCount:T,options:null}}visitState(u,l){const y=this.visitStyle(u.styles,l),T=u.options&&u.options.params||null;if(y.containsDynamicStyles){const B=new Set,te=T||{};y.styles.forEach(de=>{de instanceof Map&&de.forEach(Le=>{cg(Le).forEach(ct=>{te.hasOwnProperty(ct)||B.add(ct)})})}),B.size&&(du(B.values()),l.errors.push(function Pf(g,u){return new r.wOt(3008,!1)}()))}return{type:0,name:u.name,style:y,options:T?{params:T}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const y=oa(this,vo(u.animation),l);return{type:1,matchers:hv(u.expr,l.errors),animation:y,queryCount:l.queryCount,depCount:l.depCount,options:Xc(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(y=>oa(this,y,l)),options:Xc(u.options)}}visitGroup(u,l){const y=l.currentTime;let T=0;const B=u.steps.map(te=>{l.currentTime=y;const de=oa(this,te,l);return T=Math.max(T,l.currentTime),de});return l.currentTime=T,{type:3,steps:B,options:Xc(u.options)}}visitAnimate(u,l){const y=function mv(g,u){if(g.hasOwnProperty("duration"))return g;if("number"==typeof g)return Ed(Mo(g,u).duration,0,"");const l=g;if(l.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=Ed(0,0,"");return B.dynamic=!0,B.strValue=l,B}const T=Mo(l,u);return Ed(T.duration,T.delay,T.easing)}(u.timings,l.errors);l.currentAnimateTimings=y;let T,B=u.styles?u.styles:(0,Hi.iF)({});if(5==B.type)T=this.visitKeyframes(B,l);else{let te=u.styles,de=!1;if(!te){de=!0;const ct={};y.easing&&(ct.easing=y.easing),te=(0,Hi.iF)(ct)}l.currentTime+=y.duration+y.delay;const Le=this.visitStyle(te,l);Le.isEmptyStep=de,T=Le}return l.currentAnimateTimings=null,{type:4,timings:y,style:T,options:null}}visitStyle(u,l){const y=this._makeStyleAst(u,l);return this._validateStyleAst(y,l),y}_makeStyleAst(u,l){const y=[],T=Array.isArray(u.styles)?u.styles:[u.styles];for(let de of T)"string"==typeof de?de===Hi.kp?y.push(de):l.errors.push(new r.wOt(3002,!1)):y.push(md(de));let B=!1,te=null;return y.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(te=de.get("easing"),de.delete("easing")),!B))for(let Le of de.values())if(Le.toString().indexOf("{{")>=0){B=!0;break}}),{type:6,styles:y,easing:te,offset:u.offset,containsDynamicStyles:B,options:null}}_validateStyleAst(u,l){const y=l.currentAnimateTimings;let T=l.currentTime,B=l.currentTime;y&&B>0&&(B-=y.duration+y.delay),u.styles.forEach(te=>{"string"!=typeof te&&te.forEach((de,Le)=>{const ct=l.collectedStyles.get(l.currentQuerySelector),Tt=ct.get(Le);let tn=!0;Tt&&(B!=T&&B>=Tt.startTime&&T<=Tt.endTime&&(l.errors.push(function zo(g,u,l,y,T){return new r.wOt(3010,!1)}()),tn=!1),B=Tt.startTime),tn&&ct.set(Le,{startTime:B,endTime:T}),l.options&&function Dl(g,u,l){const y=u.params||{},T=cg(g);T.length&&T.forEach(B=>{y.hasOwnProperty(B)||l.push(function L_(g){return new r.wOt(3001,!1)}())})}(de,l.options,l.errors)})})}visitKeyframes(u,l){const y={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function mo(){return new r.wOt(3011,!1)}()),y;let B=0;const te=[];let de=!1,Le=!1,ct=0;const Tt=u.steps.map(Qr=>{const di=this._makeStyleAst(Qr,l);let bi=null!=di.offset?di.offset:function gv(g){if("string"==typeof g)return null;let u=null;if(Array.isArray(g))g.forEach(l=>{if(l instanceof Map&&l.has("offset")){const y=l;u=parseFloat(y.get("offset")),y.delete("offset")}});else if(g instanceof Map&&g.has("offset")){const l=g;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(di.styles),Ar=0;return null!=bi&&(B++,Ar=di.offset=bi),Le=Le||Ar<0||Ar>1,de=de||Ar<ct,ct=Ar,te.push(Ar),di});Le&&l.errors.push(function au(){return new r.wOt(3012,!1)}()),de&&l.errors.push(function Tm(){return new r.wOt(3200,!1)}());const tn=u.steps.length;let Wn=0;B>0&&B<tn?l.errors.push(function Mf(){return new r.wOt(3202,!1)}()):0==B&&(Wn=1/(tn-1));const Sn=tn-1,Fn=l.currentTime,On=l.currentAnimateTimings,br=On.duration;return Tt.forEach((Qr,di)=>{const bi=Wn>0?di==Sn?1:Wn*di:te[di],Ar=bi*br;l.currentTime=Fn+On.delay+Ar,On.duration=Ar,this._validateStyleAst(Qr,l),Qr.offset=bi,y.styles.push(Qr)}),y}visitReference(u,l){return{type:8,animation:oa(this,vo(u.animation),l),options:Xc(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:Xc(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:Xc(u.options)}}visitQuery(u,l){const y=l.currentQuerySelector,T=u.options||{};l.queryCount++,l.currentQuery=u;const[B,te]=function Sh(g){const u=!!g.split(/\s*,\s*/).find(l=>":self"==l);return u&&(g=g.replace(Lf,"")),g=g.replace(/@\*/g,Fa).replace(/@\w+/g,l=>Fa+"-"+l.slice(1)).replace(/:animating/g,ho),[g,u]}(u.selector);l.currentQuerySelector=y.length?y+" "+B:B,_o(l.collectedStyles,l.currentQuerySelector,new Map);const de=oa(this,vo(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=y,{type:11,selector:B,limit:T.limit||0,optional:!!T.optional,includeSelf:te,animation:de,originalSelector:u.selector,options:Xc(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function E0(){return new r.wOt(3013,!1)}());const y="full"===u.timings?{duration:0,delay:0,easing:"full"}:Mo(u.timings,l.errors,!0);return{type:12,animation:oa(this,vo(u.animation),l),timings:y,options:null}}}class Us{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xc(g){return g?(g=Cc(g)).params&&(g.params=function Om(g){return g?Cc(g):null}(g.params)):g={},g}function Ed(g,u,l){return{duration:g,delay:u,easing:l}}function bd(g,u,l,y,T,B,te=null,de=!1){return{type:1,element:g,keyframes:u,preStyleProps:l,postStyleProps:y,duration:T,delay:B,totalTime:T+B,easing:te,subTimeline:de}}class xh{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let y=this._map.get(u);y||this._map.set(u,y=[]),y.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const ug=new RegExp(":enter","g"),Ph=new RegExp(":leave","g");function dg(g,u,l,y,T,B=new Map,te=new Map,de,Le,ct=[]){return(new Nm).buildKeyframes(g,u,l,y,T,B,te,de,Le,ct)}class Nm{buildKeyframes(u,l,y,T,B,te,de,Le,ct,Tt=[]){ct=ct||new xh;const tn=new Uf(u,l,ct,T,B,Tt,[]);tn.options=Le;const Wn=Le.delay?Wo(Le.delay):0;tn.currentTimeline.delayNextStep(Wn),tn.currentTimeline.setStyles([te],null,tn.errors,Le),oa(this,y,tn);const Sn=tn.timelines.filter(Fn=>Fn.containsAnimation());if(Sn.length&&de.size){let Fn;for(let On=Sn.length-1;On>=0;On--){const br=Sn[On];if(br.element===l){Fn=br;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([de],null,tn.errors,Le)}return Sn.length?Sn.map(Fn=>Fn.buildKeyframes()):[bd(l,[],[],[],0,Wn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const y=l.subInstructions.get(l.element);if(y){const T=l.createSubContext(u.options),B=l.currentTimeline.currentTime,te=this._visitSubInstructions(y,T,T.options);B!=te&&l.transformIntoNewTimeline(te)}l.previousNode=u}visitAnimateRef(u,l){const y=l.createSubContext(u.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,y),this.visitReference(u.animation,y),l.transformIntoNewTimeline(y.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,y){for(const T of u){const B=T?.delay;if(B){const te="number"==typeof B?B:Wo(Ki(B,T?.params??{},l.errors));y.delayNextStep(te)}}}_visitSubInstructions(u,l,y){let B=l.currentTimeline.currentTime;const te=null!=y.duration?Wo(y.duration):null,de=null!=y.delay?Wo(y.delay):null;return 0!==te&&u.forEach(Le=>{const ct=l.appendInstructionToTimeline(Le,te,de);B=Math.max(B,ct.duration+ct.delay)}),B}visitReference(u,l){l.updateOptions(u.options,!0),oa(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const y=l.subContextCount;let T=l;const B=u.options;if(B&&(B.params||B.delay)&&(T=l.createSubContext(B),T.transformIntoNewTimeline(),null!=B.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=mu);const te=Wo(B.delay);T.delayNextStep(te)}u.steps.length&&(u.steps.forEach(te=>oa(this,te,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>y&&T.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const y=[];let T=l.currentTimeline.currentTime;const B=u.options&&u.options.delay?Wo(u.options.delay):0;u.steps.forEach(te=>{const de=l.createSubContext(u.options);B&&de.delayNextStep(B),oa(this,te,de),T=Math.max(T,de.currentTimeline.currentTime),y.push(de.currentTimeline)}),y.forEach(te=>l.currentTimeline.mergeTimelineCollectedStyles(te)),l.transformIntoNewTimeline(T),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const y=u.strValue;return Mo(l.params?Ki(y,l.params,l.errors):y,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const y=l.currentAnimateTimings=this._visitTiming(u.timings,l),T=l.currentTimeline;y.delay&&(l.incrementTime(y.delay),T.snapshotCurrentStyles());const B=u.style;5==B.type?this.visitKeyframes(B,l):(l.incrementTime(y.duration),this.visitStyle(B,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const y=l.currentTimeline,T=l.currentAnimateTimings;!T&&y.hasCurrentStyleProperties()&&y.forwardFrame();const B=T&&T.easing||u.easing;u.isEmptyStep?y.applyEmptyStep(B):y.setStyles(u.styles,B,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const y=l.currentAnimateTimings,T=l.currentTimeline.duration,B=y.duration,de=l.createSubContext().currentTimeline;de.easing=y.easing,u.styles.forEach(Le=>{de.forwardTime((Le.offset||0)*B),de.setStyles(Le.styles,Le.easing,l.errors,l.options),de.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(de),l.transformIntoNewTimeline(T+B),l.previousNode=u}visitQuery(u,l){const y=l.currentTimeline.currentTime,T=u.options||{},B=T.delay?Wo(T.delay):0;B&&(6===l.previousNode.type||0==y&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=mu);let te=y;const de=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=de.length;let Le=null;de.forEach((ct,Tt)=>{l.currentQueryIndex=Tt;const tn=l.createSubContext(u.options,ct);B&&tn.delayNextStep(B),ct===l.element&&(Le=tn.currentTimeline),oa(this,u.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),te=Math.max(te,tn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(te),Le&&(l.currentTimeline.mergeTimelineCollectedStyles(Le),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const y=l.parentContext,T=l.currentTimeline,B=u.timings,te=Math.abs(B.duration),de=te*(l.currentQueryTotal-1);let Le=te*l.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":Le=de-Le;break;case"full":Le=y.currentStaggerTime}const Tt=l.currentTimeline;Le&&Tt.delayNextStep(Le);const tn=Tt.currentTime;oa(this,u.animation,l),l.previousNode=u,y.currentStaggerTime=T.currentTime-tn+(T.startTime-y.currentTimeline.startTime)}}const mu={};class Uf{constructor(u,l,y,T,B,te,de,Le){this._driver=u,this.element=l,this.subInstructions=y,this._enterClassName=T,this._leaveClassName=B,this.errors=te,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new _u(this._driver,l,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const y=u;let T=this.options;null!=y.duration&&(T.duration=Wo(y.duration)),null!=y.delay&&(T.delay=Wo(y.delay));const B=y.params;if(B){let te=T.params;te||(te=this.options.params={}),Object.keys(B).forEach(de=>{(!l||!te.hasOwnProperty(de))&&(te[de]=Ki(B[de],te,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const y=u.params={};Object.keys(l).forEach(T=>{y[T]=l[T]})}}return u}createSubContext(u=null,l,y){const T=l||this.element,B=new Uf(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,y||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(u),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(u){return this.previousNode=mu,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,y){const T={duration:l??u.duration,delay:this.currentTimeline.currentTime+(y??0)+u.delay,easing:""},B=new yv(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,T,u.stretchStartingKeyframe);return this.timelines.push(B),T}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,y,T,B,te){let de=[];if(T&&de.push(this.element),u.length>0){u=(u=u.replace(ug,"."+this._enterClassName)).replace(Ph,"."+this._leaveClassName);let ct=this._driver.query(this.element,u,1!=y);0!==y&&(ct=y<0?ct.slice(ct.length+y,ct.length):ct.slice(0,y)),de.push(...ct)}return!B&&0==de.length&&te.push(function Rf(g){return new r.wOt(3014,!1)}()),de}}class _u{constructor(u,l,y,T){this._driver=u,this.element=l,this.startTime=y,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new _u(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,y]of this._globalTimelineStyles)this._backFill.set(l,y||Hi.kp),this._currentKeyframe.set(l,Hi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,y,T){l&&this._previousKeyframe.set("easing",l);const B=T&&T.params||{},te=function jf(g,u){const l=new Map;let y;return g.forEach(T=>{if("*"===T){y=y||u.keys();for(let B of y)l.set(B,Hi.kp)}else ba(T,l)}),l}(u,this._globalTimelineStyles);for(let[de,Le]of te){const ct=Ki(Le,B,y);this._pendingStyles.set(de,ct),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Hi.kp),this._updateStyle(de,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,y)=>{const T=this._styleSummary.get(y);(!T||l.time>T.time)&&this._updateStyle(y,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,y=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((de,Le)=>{const ct=ba(de,new Map,this._backFill);ct.forEach((Tt,tn)=>{Tt===Hi.FX?u.add(tn):Tt===Hi.kp&&l.add(tn)}),y||ct.set("offset",Le/this.duration),T.push(ct)});const B=u.size?du(u.values()):[],te=l.size?du(l.values()):[];if(y){const de=T[0],Le=new Map(de);de.set("offset",0),Le.set("offset",1),T=[de,Le]}return bd(this.element,T,B,te,this.duration,this.startTime,this.easing,!1)}}class yv extends _u{constructor(u,l,y,T,B,te,de=!1){super(u,l,te.delay),this.keyframes=y,this.preStyleProps=T,this.postStyleProps=B,this._stretchStartingKeyframe=de,this.timings={duration:te.duration,delay:te.delay,easing:te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:y,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const B=[],te=y+l,de=l/te,Le=ba(u[0]);Le.set("offset",0),B.push(Le);const ct=ba(u[0]);ct.set("offset",km(de)),B.push(ct);const Tt=u.length-1;for(let tn=1;tn<=Tt;tn++){let Wn=ba(u[tn]);const Sn=Wn.get("offset");Wn.set("offset",km((l+Sn*y)/te)),B.push(Wn)}y=te,l=0,T="",u=B}return bd(this.element,u,this.preStyleProps,this.postStyleProps,y,l,T,!0)}}function km(g,u=3){const l=Math.pow(10,u-1);return Math.round(g*l)/l}class Mh{}const Fm=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bf extends Mh{normalizePropertyName(u,l){return hu(u)}normalizeStyleValue(u,l,y,T){let B="";const te=y.toString().trim();if(Fm.has(l)&&0!==y&&"0"!==y)if("number"==typeof y)B="px";else{const de=y.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&T.push(function bc(g,u){return new r.wOt(3005,!1)}())}return te+B}}function yu(g,u,l,y,T,B,te,de,Le,ct,Tt,tn,Wn){return{type:0,element:g,triggerName:u,isRemovalTransition:T,fromState:l,fromStyles:B,toState:y,toStyles:te,timelines:de,queriedElements:Le,preStyleProps:ct,postStyleProps:Tt,totalTime:tn,errors:Wn}}const Rh={};class fg{constructor(u,l,y){this._triggerName=u,this.ast=l,this._stateStyles=y}match(u,l,y,T){return function q_(g,u,l,y,T){return g.some(B=>B(u,l,y,T))}(this.ast.matchers,u,l,y,T)}buildStyles(u,l,y){let T=this._stateStyles.get("*");return void 0!==u&&(T=this._stateStyles.get(u?.toString())||T),T?T.buildStyles(l,y):new Map}build(u,l,y,T,B,te,de,Le,ct,Tt){const tn=[],Wn=this.ast.options&&this.ast.options.params||Rh,Fn=this.buildStyles(y,de&&de.params||Rh,tn),On=Le&&Le.params||Rh,br=this.buildStyles(T,On,tn),Qr=new Set,di=new Map,bi=new Map,Ar="void"===T,ki={params:Y_(On,Wn),delay:this.ast.options?.delay},Ci=Tt?[]:dg(u,l,this.ast.animation,B,te,Fn,br,ki,ct,tn);let Di=0;if(Ci.forEach(ns=>{Di=Math.max(ns.duration+ns.delay,Di)}),tn.length)return yu(l,this._triggerName,y,T,Ar,Fn,br,[],[],di,bi,Di,tn);Ci.forEach(ns=>{const Ji=ns.element,Co=_o(di,Ji,new Set);ns.preStyleProps.forEach(Qs=>Co.add(Qs));const aa=_o(bi,Ji,new Set);ns.postStyleProps.forEach(Qs=>aa.add(Qs)),Ji!==l&&Qr.add(Ji)});const us=du(Qr.values());return yu(l,this._triggerName,y,T,Ar,Fn,br,Ci,us,di,bi,Di)}}function Y_(g,u){const l=Cc(u);for(const y in g)g.hasOwnProperty(y)&&null!=g[y]&&(l[y]=g[y]);return l}class $f{constructor(u,l,y){this.styles=u,this.defaultParams=l,this.normalizer=y}buildStyles(u,l){const y=new Map,T=Cc(this.defaultParams);return Object.keys(u).forEach(B=>{const te=u[B];null!==te&&(T[B]=te)}),this.styles.styles.forEach(B=>{"string"!=typeof B&&B.forEach((te,de)=>{te&&(te=Ki(te,T,l));const Le=this.normalizer.normalizePropertyName(de,l);te=this.normalizer.normalizeStyleValue(de,Le,te,l),y.set(de,te)})}),y}}class Nh{constructor(u,l,y){this.name=u,this.ast=l,this._normalizer=y,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new $f(T.style,T.options&&T.options.params||{},y))}),Lm(this.states,"true","1"),Lm(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new fg(u,T,this.states))}),this.fallbackTransition=function Ca(g,u,l){return new fg(g,{type:1,animation:{type:2,steps:[],options:null},matchers:[(te,de)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,y,T){return this.transitionFactories.find(te=>te.match(u,l,y,T))||null}matchStyles(u,l,y){return this.fallbackTransition.buildStyles(u,l,y)}}function Lm(g,u,l){g.has(u)?g.has(l)||g.set(l,g.get(u)):g.has(l)&&g.set(u,g.get(l))}const X_=new xh;class Cd{constructor(u,l,y){this.bodyNode=u,this._driver=l,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const y=[],B=gu(this._driver,l,y,[]);if(y.length)throw function vh(g){return new r.wOt(3503,!1)}();this._animations.set(u,B)}_buildPlayer(u,l,y){const T=u.element,B=Ch(this._normalizer,u.keyframes,l,y);return this._driver.animate(T,B,u.duration,u.delay,u.easing,[],!0)}create(u,l,y={}){const T=[],B=this._animations.get(u);let te;const de=new Map;if(B?(te=dg(this._driver,l,B,pd,Ja,new Map,new Map,y,X_,T),te.forEach(Tt=>{const tn=_o(de,Tt.element,new Map);Tt.postStyleProps.forEach(Wn=>tn.set(Wn,null))})):(T.push(function j_(){return new r.wOt(3300,!1)}()),te=[]),T.length)throw function Eh(g){return new r.wOt(3504,!1)}();de.forEach((Tt,tn)=>{Tt.forEach((Wn,Sn)=>{Tt.set(Sn,this._driver.computeStyle(tn,Sn,Hi.kp))})});const ct=wl(te.map(Tt=>{const tn=de.get(Tt.element);return this._buildPlayer(Tt,new Map,tn)}));return this._playersById.set(u,ct),ct.onDestroy(()=>this.destroy(u)),this.players.push(ct),ct}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const y=this.players.indexOf(l);y>=0&&this.players.splice(y,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function eg(g){return new r.wOt(3301,!1)}();return l}listen(u,l,y,T){const B=Of(l,"","","");return fd(this._getPlayer(u),y,B,T),()=>{}}command(u,l,y,T){if("register"==y)return void this.register(u,T[0]);if("create"==y)return void this.create(u,l,T[0]||{});const B=this._getPlayer(u);switch(y){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(u)}}}const E="ng-animate-queued",q="ng-animate-disabled",Nn=[],Yi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Eo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed";class bo{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const y=u&&u.hasOwnProperty("value");if(this.value=function I0(g){return g??null}(y?u.value:u),y){const B=Cc(u);delete B.value,this.options=B}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const y=this.options.params;Object.keys(l).forEach(T=>{null==y[T]&&(y[T]=l[T])})}}}const ro="void",Qc=new bo(ro);class Ta{constructor(u,l,y){this.id=u,this.hostElement=l,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,Ro(l,this._hostClassName)}listen(u,l,y,T){if(!this._triggers.has(l))throw function Dm(g,u){return new r.wOt(3302,!1)}();if(null==y||0==y.length)throw function hd(g){return new r.wOt(3303,!1)}();if(!function w0(g){return"start"==g||"done"==g}(y))throw function bh(g,u){return new r.wOt(3400,!1)}();const B=_o(this._elementListeners,u,[]),te={name:l,phase:y,callback:T};B.push(te);const de=_o(this._engine.statesByElement,u,new Map);return de.has(l)||(Ro(u,wh),Ro(u,wh+"-"+l),de.set(l,Qc)),()=>{this._engine.afterFlush(()=>{const Le=B.indexOf(te);Le>=0&&B.splice(Le,1),this._triggers.has(l)||de.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function tg(g){return new r.wOt(3401,!1)}();return l}trigger(u,l,y,T=!0){const B=this._getTrigger(l),te=new kh(this.id,l,u);let de=this._engine.statesByElement.get(u);de||(Ro(u,wh),Ro(u,wh+"-"+l),this._engine.statesByElement.set(u,de=new Map));let Le=de.get(l);const ct=new bo(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&Le&&ct.absorbOptions(Le.options),de.set(l,ct),Le||(Le=Qc),ct.value!==ro&&Le.value===ct.value){if(!function Cv(g,u){const l=Object.keys(g),y=Object.keys(u);if(l.length!=y.length)return!1;for(let T=0;T<l.length;T++){const B=l[T];if(!u.hasOwnProperty(B)||g[B]!==u[B])return!1}return!0}(Le.params,ct.params)){const On=[],br=B.matchStyles(Le.value,Le.params,On),Qr=B.matchStyles(ct.value,ct.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{yo(u,br),sa(u,Qr)})}return}const Wn=_o(this._engine.playersByElement,u,[]);Wn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==l&&On.queued&&On.destroy()});let Sn=B.matchTransition(Le.value,ct.value,u,ct.params),Fn=!1;if(!Sn){if(!T)return;Sn=B.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:Sn,fromState:Le,toState:ct,player:te,isFallbackTransition:Fn}),Fn||(Ro(u,E),te.onStart(()=>{pg(u,E)})),te.onDone(()=>{let On=this.players.indexOf(te);On>=0&&this.players.splice(On,1);const br=this._engine.playersByElement.get(u);if(br){let Qr=br.indexOf(te);Qr>=0&&br.splice(Qr,1)}}),this.players.push(te),Wn.push(te),te}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,y)=>{this._elementListeners.set(y,l.filter(T=>T.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(y=>y.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const y=this._engine.driver.query(u,Fa,!0);y.forEach(T=>{if(T[ti])return;const B=this._engine.fetchNamespacesByElement(T);B.size?B.forEach(te=>te.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(u,l,y,T){const B=this._engine.statesByElement.get(u),te=new Map;if(B){const de=[];if(B.forEach((Le,ct)=>{if(te.set(ct,Le.value),this._triggers.has(ct)){const Tt=this.trigger(u,ct,ro,T);Tt&&de.push(Tt)}}),de.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,te),y&&wl(de).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),y=this._engine.statesByElement.get(u);if(l&&y){const T=new Set;l.forEach(B=>{const te=B.name;if(T.has(te))return;T.add(te);const Le=this._triggers.get(te).fallbackTransition,ct=y.get(te)||Qc,Tt=new bo(ro),tn=new kh(this.id,te,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:te,transition:Le,fromState:ct,toState:Tt,player:tn,isFallbackTransition:!0})})}}removeNode(u,l){const y=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let T=!1;if(y.totalAnimations){const B=y.players.length?y.playersByQueriedElement.get(u):[];if(B&&B.length)T=!0;else{let te=u;for(;te=te.parentNode;)if(y.statesByElement.get(te)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(u),T)y.markElementAsRemoved(this.id,u,!1,l);else{const B=u[ti];(!B||B===Yi)&&(y.afterFlush(()=>this.clearElementCache(u)),y.destroyInnerAnimations(u),y._onRemovalComplete(u,l))}}insertNode(u,l){Ro(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(y=>{const T=y.player;if(T.destroyed)return;const B=y.element,te=this._elementListeners.get(B);te&&te.forEach(de=>{if(de.name==y.triggerName){const Le=Of(B,y.triggerName,y.fromState.value,y.toState.value);Le._data=u,fd(y.player,de.phase,Le,de.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(y)}),this._queue=[],l.sort((y,T)=>{const B=y.transition.ast.depCount,te=T.transition.ast.depCount;return 0==B||0==te?B-te:this._engine.driver.containsElement(y.element,T.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Hf{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,y){this.bodyNode=u,this.driver=l,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,B)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(y=>{y.queued&&u.push(y)})}),u}createNamespace(u,l){const y=new Ta(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(y,l):(this.newHostElements.set(l,y),this.collectEnterElement(l)),this._namespaceLookup[u]=y}_balanceNamespaceList(u,l){const y=this._namespaceList,T=this.namespacesByHostElement;if(y.length-1>=0){let te=!1,de=this.driver.getParentElement(l);for(;de;){const Le=T.get(de);if(Le){const ct=y.indexOf(Le);y.splice(ct+1,0,u),te=!0;break}de=this.driver.getParentElement(de)}te||y.unshift(u)}else y.push(u);return T.set(l,u),u}register(u,l){let y=this._namespaceLookup[u];return y||(y=this.createNamespace(u,l)),y}registerTrigger(u,l,y){let T=this._namespaceLookup[u];T&&T.register(l,y)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(u);this.namespacesByHostElement.delete(y.hostElement);const T=this._namespaceList.indexOf(y);T>=0&&this._namespaceList.splice(T,1),y.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,y=this.statesByElement.get(u);if(y)for(let T of y.values())if(T.namespaceId){const B=this._fetchNamespace(T.namespaceId);B&&l.add(B)}return l}trigger(u,l,y,T){if(Vm(l)){const B=this._fetchNamespace(u);if(B)return B.trigger(l,y,T),!0}return!1}insertNode(u,l,y,T){if(!Vm(l))return;const B=l[ti];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const te=this.collectedLeaveElements.indexOf(l);te>=0&&this.collectedLeaveElements.splice(te,1)}if(u){const te=this._fetchNamespace(u);te&&te.insertNode(l,y)}T&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),Ro(u,q)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),pg(u,q))}removeNode(u,l,y){if(Vm(l)){const T=u?this._fetchNamespace(u):null;T?T.removeNode(l,y):this.markElementAsRemoved(u,l,!1,y);const B=this.namespacesByHostElement.get(l);B&&B.id!==u&&B.removeNode(l,y)}else this._onRemovalComplete(l,y)}markElementAsRemoved(u,l,y,T,B){this.collectedLeaveElements.push(l),l[ti]={namespaceId:u,setForRemoval:T,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:B}}listen(u,l,y,T,B){return Vm(l)?this._fetchNamespace(u).listen(l,y,T,B):()=>{}}_buildInstruction(u,l,y,T,B){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,y,T,u.fromState.options,u.toState.options,l,B)}destroyInnerAnimations(u){let l=this.driver.query(u,Fa,!0);l.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,ho,!0),l.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return wl(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[ti];if(l&&l.setForRemoval){if(u[ti]=Yi,l.namespaceId){this.destroyInnerAnimations(u);const y=this._fetchNamespace(l.namespaceId);y&&y.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(q)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,T)=>this._balanceNamespaceList(y,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Ro(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{l=this._flushAnimations(y,u)}finally{for(let T=0;T<y.length;T++)y[T]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],l.length?wl(l).onDone(()=>{y.forEach(T=>T())}):y.forEach(T=>T())}}reportError(u){throw function B_(g){return new r.wOt(3402,!1)}()}_flushAnimations(u,l){const y=new xh,T=[],B=new Map,te=[],de=new Map,Le=new Map,ct=new Map,Tt=new Set;this.disabledNodes.forEach(zn=>{Tt.add(zn);const rr=this.driver.query(zn,".ng-animate-queued",!0);for(let Mr=0;Mr<rr.length;Mr++)Tt.add(rr[Mr])});const tn=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),Sn=Um(Wn,this.collectedEnterElements),Fn=new Map;let On=0;Sn.forEach((zn,rr)=>{const Mr=pd+On++;Fn.set(rr,Mr),zn.forEach(_i=>Ro(_i,Mr))});const br=[],Qr=new Set,di=new Set;for(let zn=0;zn<this.collectedLeaveElements.length;zn++){const rr=this.collectedLeaveElements[zn],Mr=rr[ti];Mr&&Mr.setForRemoval&&(br.push(rr),Qr.add(rr),Mr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(_i=>Qr.add(_i)):di.add(rr))}const bi=new Map,Ar=Um(Wn,Array.from(Qr));Ar.forEach((zn,rr)=>{const Mr=Ja+On++;bi.set(rr,Mr),zn.forEach(_i=>Ro(_i,Mr))}),u.push(()=>{Sn.forEach((zn,rr)=>{const Mr=Fn.get(rr);zn.forEach(_i=>pg(_i,Mr))}),Ar.forEach((zn,rr)=>{const Mr=bi.get(rr);zn.forEach(_i=>pg(_i,Mr))}),br.forEach(zn=>{this.processLeaveNode(zn)})});const ki=[],Ci=[];for(let zn=this._namespaceList.length-1;zn>=0;zn--)this._namespaceList[zn].drainQueuedTransitions(l).forEach(Mr=>{const _i=Mr.player,Js=Mr.element;if(ki.push(_i),this.collectedEnterElements.length){const fo=Js[ti];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(Mr.triggerName)){const Va=fo.previousTriggersValues.get(Mr.triggerName),Ia=this.statesByElement.get(Mr.element);if(Ia&&Ia.has(Mr.triggerName)){const Wf=Ia.get(Mr.triggerName);Wf.value=Va,Ia.set(Mr.triggerName,Wf)}}return void _i.destroy()}}const Za=!tn||!this.driver.containsElement(tn,Js),No=bi.get(Js),Ic=Fn.get(Js),Zi=this._buildInstruction(Mr,y,Ic,No,Za);if(Zi.errors&&Zi.errors.length)return void Ci.push(Zi);if(Za)return _i.onStart(()=>yo(Js,Zi.fromStyles)),_i.onDestroy(()=>sa(Js,Zi.toStyles)),void T.push(_i);if(Mr.isFallbackTransition)return _i.onStart(()=>yo(Js,Zi.fromStyles)),_i.onDestroy(()=>sa(Js,Zi.toStyles)),void T.push(_i);const Ml=[];Zi.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||Ml.push(fo)}),Zi.timelines=Ml,y.append(Js,Zi.timelines),te.push({instruction:Zi,player:_i,element:Js}),Zi.queriedElements.forEach(fo=>_o(de,fo,[]).push(_i)),Zi.preStyleProps.forEach((fo,Va)=>{if(fo.size){let Ia=Le.get(Va);Ia||Le.set(Va,Ia=new Set),fo.forEach((Wf,Lh)=>Ia.add(Lh))}}),Zi.postStyleProps.forEach((fo,Va)=>{let Ia=ct.get(Va);Ia||ct.set(Va,Ia=new Set),fo.forEach((Wf,Lh)=>Ia.add(Lh))})});if(Ci.length){const zn=[];Ci.forEach(rr=>{zn.push(function $_(g,u){return new r.wOt(3505,!1)}())}),ki.forEach(rr=>rr.destroy()),this.reportError(zn)}const Di=new Map,us=new Map;te.forEach(zn=>{const rr=zn.element;y.has(rr)&&(us.set(rr,rr),this._beforeAnimationBuild(zn.player.namespaceId,zn.instruction,Di))}),T.forEach(zn=>{const rr=zn.element;this._getPreviousPlayers(rr,!1,zn.namespaceId,zn.triggerName,null).forEach(_i=>{_o(Di,rr,[]).push(_i),_i.destroy()})});const ns=br.filter(zn=>A0(zn,Le,ct)),Ji=new Map;Ev(Ji,this.driver,di,ct,Hi.kp).forEach(zn=>{A0(zn,Le,ct)&&ns.push(zn)});const aa=new Map;Sn.forEach((zn,rr)=>{Ev(aa,this.driver,new Set(zn),Le,Hi.FX)}),ns.forEach(zn=>{const rr=Ji.get(zn),Mr=aa.get(zn);Ji.set(zn,new Map([...rr?.entries()??[],...Mr?.entries()??[]]))});const Qs=[],Eu=[],bu={};te.forEach(zn=>{const{element:rr,player:Mr,instruction:_i}=zn;if(y.has(rr)){if(Tt.has(rr))return Mr.onDestroy(()=>sa(rr,_i.toStyles)),Mr.disabled=!0,Mr.overrideTotalTime(_i.totalTime),void T.push(Mr);let Js=bu;if(us.size>1){let No=rr;const Ic=[];for(;No=No.parentNode;){const Zi=us.get(No);if(Zi){Js=Zi;break}Ic.push(No)}Ic.forEach(Zi=>us.set(Zi,Js))}const Za=this._buildAnimation(Mr.namespaceId,_i,Di,B,aa,Ji);if(Mr.setRealPlayer(Za),Js===bu)Qs.push(Mr);else{const No=this.playersByElement.get(Js);No&&No.length&&(Mr.parentPlayer=wl(No)),T.push(Mr)}}else yo(rr,_i.fromStyles),Mr.onDestroy(()=>sa(rr,_i.toStyles)),Eu.push(Mr),Tt.has(rr)&&T.push(Mr)}),Eu.forEach(zn=>{const rr=B.get(zn.element);if(rr&&rr.length){const Mr=wl(rr);zn.setRealPlayer(Mr)}}),T.forEach(zn=>{zn.parentPlayer?zn.syncPlayerEvents(zn.parentPlayer):zn.destroy()});for(let zn=0;zn<br.length;zn++){const rr=br[zn],Mr=rr[ti];if(pg(rr,Ja),Mr&&Mr.hasAnimation)continue;let _i=[];if(de.size){let Za=de.get(rr);Za&&Za.length&&_i.push(...Za);let No=this.driver.query(rr,ho,!0);for(let Ic=0;Ic<No.length;Ic++){let Zi=de.get(No[Ic]);Zi&&Zi.length&&_i.push(...Zi)}}const Js=_i.filter(Za=>!Za.destroyed);Js.length?lE(this,rr,Js):this.processLeaveNode(rr)}return br.length=0,Qs.forEach(zn=>{this.players.push(zn),zn.onDone(()=>{zn.destroy();const rr=this.players.indexOf(zn);this.players.splice(rr,1)}),zn.play()}),Qs}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,y,T,B){let te=[];if(l){const de=this.playersByQueriedElement.get(u);de&&(te=de)}else{const de=this.playersByElement.get(u);if(de){const Le=!B||B==ro;de.forEach(ct=>{ct.queued||!Le&&ct.triggerName!=T||te.push(ct)})}}return(y||T)&&(te=te.filter(de=>!(y&&y!=de.namespaceId||T&&T!=de.triggerName))),te}_beforeAnimationBuild(u,l,y){const B=l.element,te=l.isRemovalTransition?void 0:u,de=l.isRemovalTransition?void 0:l.triggerName;for(const Le of l.timelines){const ct=Le.element,Tt=ct!==B,tn=_o(y,ct,[]);this._getPreviousPlayers(ct,Tt,te,de,l.toState).forEach(Sn=>{const Fn=Sn.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),Sn.destroy(),tn.push(Sn)})}yo(B,l.fromStyles)}_buildAnimation(u,l,y,T,B,te){const de=l.triggerName,Le=l.element,ct=[],Tt=new Set,tn=new Set,Wn=l.timelines.map(Fn=>{const On=Fn.element;Tt.add(On);const br=On[ti];if(br&&br.removedBeforeQueried)return new Hi.sf(Fn.duration,Fn.delay);const Qr=On!==Le,di=function bv(g){const u=[];return Fh(g,u),u}((y.get(On)||Nn).map(Di=>Di.getRealPlayer())).filter(Di=>!!Di.element&&Di.element===On),bi=B.get(On),Ar=te.get(On),ki=Ch(this._normalizer,Fn.keyframes,bi,Ar),Ci=this._buildPlayer(Fn,ki,di);if(Fn.subTimeline&&T&&tn.add(On),Qr){const Di=new kh(u,de,On);Di.setRealPlayer(Ci),ct.push(Di)}return Ci});ct.forEach(Fn=>{_o(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function T0(g,u,l){let y=g.get(u);if(y){if(y.length){const T=y.indexOf(l);y.splice(T,1)}0==y.length&&g.delete(u)}return y}(this.playersByQueriedElement,Fn.element,Fn))}),Tt.forEach(Fn=>Ro(Fn,gd));const Sn=wl(Wn);return Sn.onDestroy(()=>{Tt.forEach(Fn=>pg(Fn,gd)),sa(Le,l.toStyles)}),tn.forEach(Fn=>{_o(T,Fn,[]).push(Sn)}),Sn}_buildPlayer(u,l,y){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,y):new Hi.sf(u.duration,u.delay)}}class kh{constructor(u,l,y){this.namespaceId=u,this.triggerName=l,this.element=y,this._player=new Hi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,y)=>{l.forEach(T=>fd(u,y,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){_o(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function Vm(g){return g&&1===g.nodeType}function vv(g,u){const l=g.style.display;return g.style.display=u??"none",l}function Ev(g,u,l,y,T){const B=[];l.forEach(Le=>B.push(vv(Le)));const te=[];y.forEach((Le,ct)=>{const Tt=new Map;Le.forEach(tn=>{const Wn=u.computeStyle(ct,tn,T);Tt.set(tn,Wn),(!Wn||0==Wn.length)&&(ct[ti]=Eo,te.push(ct))}),g.set(ct,Tt)});let de=0;return l.forEach(Le=>vv(Le,B[de++])),te}function Um(g,u){const l=new Map;if(g.forEach(de=>l.set(de,[])),0==u.length)return l;const T=new Set(u),B=new Map;function te(de){if(!de)return 1;let Le=B.get(de);if(Le)return Le;const ct=de.parentNode;return Le=l.has(ct)?ct:T.has(ct)?1:te(ct),B.set(de,Le),Le}return u.forEach(de=>{const Le=te(de);1!==Le&&l.get(Le).push(de)}),l}function Ro(g,u){g.classList?.add(u)}function pg(g,u){g.classList?.remove(u)}function lE(g,u,l){wl(l).onDone(()=>g.processLeaveNode(u))}function Fh(g,u){for(let l=0;l<g.length;l++){const y=g[l];y instanceof Hi.ui?Fh(y.players,u):u.push(y)}}function A0(g,u,l){const y=l.get(g);if(!y)return!1;let T=u.get(g);return T?y.forEach(B=>T.add(B)):u.set(g,y),l.delete(g),!0}class gg{constructor(u,l,y){this.bodyNode=u,this._driver=l,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(T,B)=>{},this._transitionEngine=new Hf(u,l,y),this._timelineEngine=new Cd(u,l,y),this._transitionEngine.onRemovalComplete=(T,B)=>this.onRemovalComplete(T,B)}registerTrigger(u,l,y,T,B){const te=u+"-"+T;let de=this._triggerCache[te];if(!de){const Le=[],Tt=gu(this._driver,B,Le,[]);if(Le.length)throw function U_(g,u){return new r.wOt(3404,!1)}();de=function Gf(g,u,l){return new Nh(g,u,l)}(T,Tt,this._normalizer),this._triggerCache[te]=de}this._transitionEngine.registerTrigger(l,T,de)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,y,T){this._transitionEngine.insertNode(u,l,y,T)}onRemove(u,l,y){this._transitionEngine.removeNode(u,l,y)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,y,T){if("@"==y.charAt(0)){const[B,te]=Nf(y);this._timelineEngine.command(B,l,te,T)}else this._transitionEngine.trigger(u,l,y,T)}listen(u,l,y,T,B){if("@"==y.charAt(0)){const[te,de]=Nf(y);return this._timelineEngine.listen(te,l,de,B)}return this._transitionEngine.listen(u,l,y,T,B)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let lb=(()=>{class g{static{this.initialStylesByElement=new WeakMap}constructor(l,y,T){this._element=l,this._startStyles=y,this._endStyles=T,this._state=0;let B=g.initialStylesByElement.get(l);B||g.initialStylesByElement.set(l,B=new Map),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&sa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sa(this._element,this._initialStyles),this._endStyles&&(sa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g.initialStylesByElement.delete(this._element),this._startStyles&&(yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),sa(this._element,this._initialStyles),this._state=3)}}return g})();function Tv(g){let u=null;return g.forEach((l,y)=>{(function uE(g){return"display"===g||"position"===g})(y)&&(u=u||new Map,u.set(y,l))}),u}class Iv{constructor(u,l,y,T){this.element=u,this.keyframes=l,this.options=y,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(y=>{l.push(Object.fromEntries(y))}),l}_triggerWebAnimation(u,l,y){return u.animate(this._convertKeyframesToObject(l),y)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,T)=>{"offset"!==T&&u.set(T,this._finished?y:z_(this.element,T))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(y=>y()),l.length=0}}class dE{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return Ff(u,l)}getParentElement(u){return Th(u)}query(u,l,y){return ig(u,l,y)}computeStyle(u,l,y){return window.getComputedStyle(u)[l]}animate(u,l,y,T,B,te=[]){const Le={duration:y,delay:T,fill:0==T?"both":"forwards"};B&&(Le.easing=B);const ct=new Map,Tt=te.filter(Sn=>Sn instanceof Iv);(function Mm(g,u){return 0===g||0===u})(y,T)&&Tt.forEach(Sn=>{Sn.currentSnapshot.forEach((Fn,On)=>ct.set(On,Fn))});let tn=function Ah(g){return g.length?g[0]instanceof Map?g:g.map(u=>md(u)):[]}(l).map(Sn=>ba(Sn));tn=function H_(g,u,l){if(l.size&&u.length){let y=u[0],T=[];if(l.forEach((B,te)=>{y.has(te)||T.push(te),y.set(te,B)}),T.length)for(let B=1;B<u.length;B++){let te=u[B];T.forEach(de=>te.set(de,z_(g,de)))}}return u}(u,tn,ct);const Wn=function cb(g,u){let l=null,y=null;return Array.isArray(u)&&u.length?(l=Tv(u[0]),u.length>1&&(y=Tv(u[u.length-1]))):u instanceof Map&&(l=Tv(u)),l||y?new lb(g,l,y):null}(u,tn);return new Iv(u,tn,Le,Wn)}}let Oo=(()=>{class g extends Hi.S6{constructor(l,y){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(y.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(l){const y=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,Hi.K2)(l):l;return S0(this._renderer,null,y,"register",[T]),new D0(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||g)(r.KVO(r._9s),r.KVO(z.qQ))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class D0 extends Hi.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new hE(this._id,u,l||{},this._renderer)}}class hE{constructor(u,l,y,T){this.id=u,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return S0(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function S0(g,u,l,y,T){return g.setProperty(u,`@@${l}:${y}`,T)}const x0="@.disabled";let P0=(()=>{class g{constructor(l,y,T){this.delegate=l,this.engine=y,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(B,te)=>{const de=te?.parentNode(B);de&&te.removeChild(de,B)}}createRenderer(l,y){const B=this.delegate.createRenderer(l,y);if(!(l&&y&&y.data&&y.data.animation)){let Tt=this._rendererCache.get(B);return Tt||(Tt=new wv("",B,this.engine,()=>this._rendererCache.delete(B)),this._rendererCache.set(B,Tt)),Tt}const te=y.id,de=y.id+"-"+this._currentId;this._currentId++,this.engine.register(de,l);const Le=Tt=>{Array.isArray(Tt)?Tt.forEach(Le):this.engine.registerTrigger(te,de,l,Tt.name,Tt)};return y.data.animation.forEach(Le),new mg(this,de,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,y,T){l>=0&&l<this._microtaskId?this._zone.run(()=>y(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(B=>{const[te,de]=B;te(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||g)(r.KVO(r._9s),r.KVO(gg),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})();class wv{constructor(u,l,y,T){this.namespaceId=u,this.delegate=l,this.engine=y,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,y,T=!0){this.delegate.insertBefore(u,l,y),this.engine.onInsert(this.namespaceId,l,u,T)}removeChild(u,l,y){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,y,T){this.delegate.setAttribute(u,l,y,T)}removeAttribute(u,l,y){this.delegate.removeAttribute(u,l,y)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,y,T){this.delegate.setStyle(u,l,y,T)}removeStyle(u,l,y){this.delegate.removeStyle(u,l,y)}setProperty(u,l,y){"@"==l.charAt(0)&&l==x0?this.disableAnimations(u,!!y):this.delegate.setProperty(u,l,y)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,y){return this.delegate.listen(u,l,y)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class mg extends wv{constructor(u,l,y,T,B){super(l,y,T,B),this.factory=u,this.namespaceId=l}setProperty(u,l,y){"@"==l.charAt(0)?"."==l.charAt(1)&&l==x0?this.disableAnimations(u,y=void 0===y||!!y):this.engine.process(this.namespaceId,u,l.slice(1),y):this.delegate.setProperty(u,l,y)}listen(u,l,y){if("@"==l.charAt(0)){const T=function fE(g){switch(g){case"body":return document.body;case"document":return document;case"window":return window;default:return g}}(u);let B=l.slice(1),te="";return"@"!=B.charAt(0)&&([B,te]=function pE(g){const u=g.indexOf(".");return[g.substring(0,u),g.slice(u+1)]}(B)),this.engine.listen(this.namespaceId,T,B,te,de=>{this.factory.scheduleListenerCallback(de._data||-1,y,de)})}return this.delegate.listen(u,l,y)}}const mE=[{provide:Hi.S6,useClass:Oo},{provide:Mh,useFactory:function gE(){return new Bf}},{provide:gg,useClass:(()=>{class g extends gg{constructor(l,y,T,B){super(l.body,y,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||g)(r.KVO(z.qQ),r.KVO(og),r.KVO(Mh),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac})}}return g})()},{provide:r._9s,useFactory:function R0(g,u,l){return new P0(g,u,l)},deps:[oe.B7,gg,r.SKi]}],Bm=[{provide:og,useFactory:()=>new dE},{provide:r.bc$,useValue:"BrowserAnimations"},...mE],Q_=[{provide:og,useClass:sg},{provide:r.bc$,useValue:"NoopAnimations"},...mE];let vu=(()=>{class g{static withConfig(l){return{ngModule:g,providers:l.disableAnimations?Q_:Bm}}static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275mod=r.$C({type:g})}static{this.\u0275inj=r.G2t({providers:Bm,imports:[oe.Bb]})}}return g})();const Tc={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function Pl(g,u,l){return()=>{const y=window.location.hostname,T=new URL(window.location.href);let B=Tc[y]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+B+" - hostname: "+y),g.loadTheme(B)}}function O0(g,u,l){const y=window.location.hostname,T=new URL(window.location.href);let B=Tc[y]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+B+" - hostname: "+y),()=>{g.loadBusinessData(B).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(te=>{console.error("Error loading business data:",te)})}}let vE=(()=>{class g{static{this.\u0275fac=function(y){return new(y||g)}}static{this.\u0275mod=r.$C({type:g,bootstrap:[ad]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:Pl,deps:[Xp,z.aZ,fe.Ix],multi:!0},{provide:r.hnV,useFactory:O0,deps:[xe.A,z.aZ,fe.Ix],multi:!0}],imports:[oe.Bb,fe.iI,df,Dp.cM,cn.y5,tr.X8,En.bf.initializeApp(xp_firebase),m_(()=>yf(xp_firebase)),Gy(()=>ev()),qe(()=>ou()),Ai.X1,Ai.YN,ye.q1,vu]})}}return g})();oe.sG().bootstrapModule(vE).catch(g=>console.error(g))},4412:(dn,Je,k)=>{k.d(Je,{t:()=>oe});var o=k(1413);class oe extends o.B{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const fe=super._subscribe(ye);return!fe.closed&&ye.next(this._value),fe}getValue(){const{hasError:ye,thrownError:fe,_value:Te}=this;if(ye)throw fe;return this._throwIfClosed(),Te}next(ye){super.next(this._value=ye)}}},1985:(dn,Je,k)=>{k.d(Je,{c:()=>Ne});var o=k(7707),oe=k(8359),r=k(3494),ye=k(1203),fe=k(1026),Te=k(8071),Ce=k(9786);let Ne=(()=>{class be{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const St=new be;return St.source=this,St.operator=Ge,St}subscribe(Ge,St,ht){const jt=function ne(be){return be&&be instanceof o.vU||function z(be){return be&&(0,Te.T)(be.next)&&(0,Te.T)(be.error)&&(0,Te.T)(be.complete)}(be)&&(0,oe.Uv)(be)}(Ge)?Ge:new o.Ms(Ge,St,ht);return(0,Ce.Y)(()=>{const{operator:Nt,source:rn}=this;jt.add(Nt?Nt.call(jt,rn):rn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(St){Ge.error(St)}}forEach(Ge,St){return new(St=xe(St))((ht,jt)=>{const Nt=new o.Ms({next:rn=>{try{Ge(rn)}catch(ze){jt(ze),Nt.unsubscribe()}},error:jt,complete:ht});this.subscribe(Nt)})}_subscribe(Ge){var St;return null===(St=this.source)||void 0===St?void 0:St.subscribe(Ge)}[r.s](){return this}pipe(...Ge){return(0,ye.m)(Ge)(this)}toPromise(Ge){return new(Ge=xe(Ge))((St,ht)=>{let jt;this.subscribe(Nt=>jt=Nt,Nt=>ht(Nt),()=>St(jt))})}}return be.create=at=>new be(at),be})();function xe(be){var at;return null!==(at=be??fe.$.Promise)&&void 0!==at?at:Promise}},1413:(dn,Je,k)=>{k.d(Je,{B:()=>Ce});var o=k(1985),oe=k(8359);const ye=(0,k(1853).L)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=k(7908),Te=k(9786);let Ce=(()=>{class xe extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const be=new Ne(this,this);return be.operator=ne,be}_throwIfClosed(){if(this.closed)throw new ye}next(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ne)}})}error(ne){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:be}=this;for(;be.length;)be.shift().error(ne)}})}complete(){(0,Te.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:be,isStopped:at,observers:Ge}=this;return be||at?oe.Kn:(this.currentObservers=null,Ge.push(ne),new oe.yU(()=>{this.currentObservers=null,(0,fe.o)(Ge,ne)}))}_checkFinalizedStatuses(ne){const{hasError:be,thrownError:at,isStopped:Ge}=this;be?ne.error(at):Ge&&ne.complete()}asObservable(){const ne=new o.c;return ne.source=this,ne}}return xe.create=(z,ne)=>new Ne(z,ne),xe})();class Ne extends Ce{constructor(z,ne){super(),this.destination=z,this.source=ne}next(z){var ne,be;null===(be=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===be||be.call(ne,z)}error(z){var ne,be;null===(be=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===be||be.call(ne,z)}complete(){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===ne||ne.call(z)}_subscribe(z){var ne,be;return null!==(be=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(z))&&void 0!==be?be:oe.Kn}}},7707:(dn,Je,k)=>{k.d(Je,{Ms:()=>ht,vU:()=>be});var o=k(8071),oe=k(8359),r=k(1026),ye=k(5334),fe=k(5343);const Te=xe("C",void 0,void 0);function xe(pe,Ze,ke){return{kind:pe,value:Ze,error:ke}}var z=k(9270),ne=k(9786);class be extends oe.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,oe.Uv)(Ze)&&Ze.add(this)):this.destination=ze}static create(Ze,ke,tt){return new ht(Ze,ke,tt)}next(Ze){this.isStopped?rn(function Ne(pe){return xe("N",pe,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?rn(function Ce(pe){return xe("E",void 0,pe)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?rn(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Ge(pe,Ze){return at.call(pe,Ze)}class St{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Ze)}catch(tt){jt(tt)}}error(Ze){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Ze)}catch(tt){jt(tt)}else jt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(ke){jt(ke)}}}class ht extends be{constructor(Ze,ke,tt){let Et;if(super(),(0,o.T)(Ze)||!Ze)Et={next:Ze??void 0,error:ke??void 0,complete:tt??void 0};else{let Vt;this&&r.$.useDeprecatedNextContext?(Vt=Object.create(Ze),Vt.unsubscribe=()=>this.unsubscribe(),Et={next:Ze.next&&Ge(Ze.next,Vt),error:Ze.error&&Ge(Ze.error,Vt),complete:Ze.complete&&Ge(Ze.complete,Vt)}):Et=Ze}this.destination=new St(Et)}}function jt(pe){r.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(pe):(0,ye.m)(pe)}function rn(pe,Ze){const{onStoppedNotification:ke}=r.$;ke&&z.f.setTimeout(()=>ke(pe,Ze))}const ze={closed:!0,next:fe.l,error:function Nt(pe){throw pe},complete:fe.l}},8359:(dn,Je,k)=>{k.d(Je,{Kn:()=>Te,yU:()=>fe,Uv:()=>Ce});var o=k(8071);const r=(0,k(1853).L)(xe=>function(ne){xe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((be,at)=>`${at+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ye=k(7908);class fe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ge of ne)Ge.remove(this);else ne.remove(this);const{initialTeardown:be}=this;if((0,o.T)(be))try{be()}catch(Ge){z=Ge instanceof r?Ge.errors:[Ge]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const Ge of at)try{Ne(Ge)}catch(St){z=z??[],St instanceof r?z=[...z,...St.errors]:z.push(St)}}if(z)throw new r(z)}}add(z){var ne;if(z&&z!==this)if(this.closed)Ne(z);else{if(z instanceof fe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(z)}}_hasParent(z){const{_parentage:ne}=this;return ne===z||Array.isArray(ne)&&ne.includes(z)}_addParent(z){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(z),ne):ne?[ne,z]:z}_removeParent(z){const{_parentage:ne}=this;ne===z?this._parentage=null:Array.isArray(ne)&&(0,ye.o)(ne,z)}remove(z){const{_finalizers:ne}=this;ne&&(0,ye.o)(ne,z),z instanceof fe&&z._removeParent(this)}}fe.EMPTY=(()=>{const xe=new fe;return xe.closed=!0,xe})();const Te=fe.EMPTY;function Ce(xe){return xe instanceof fe||xe&&"closed"in xe&&(0,o.T)(xe.remove)&&(0,o.T)(xe.add)&&(0,o.T)(xe.unsubscribe)}function Ne(xe){(0,o.T)(xe)?xe():xe.unsubscribe()}},1026:(dn,Je,k)=>{k.d(Je,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(dn,Je,k)=>{k.d(Je,{x:()=>fe});var o=k(6365),r=k(3794),ye=k(8455);function fe(...Te){return function oe(){return(0,o.U)(1)}()((0,ye.H)(Te,(0,r.lI)(Te)))}},983:(dn,Je,k)=>{k.d(Je,{w:()=>oe});const oe=new(k(1985).c)(fe=>fe.complete())},8455:(dn,Je,k)=>{k.d(Je,{H:()=>Ze});var o=k(8750),oe=k(941),r=k(6745),Te=k(1985),Ne=k(4761),xe=k(8071),z=k(5225);function be(ke,tt){if(!ke)throw new Error("Iterable cannot be null");return new Te.c(Et=>{(0,z.N)(Et,tt,()=>{const Vt=ke[Symbol.asyncIterator]();(0,z.N)(Et,tt,()=>{Vt.next().then(we=>{we.done?Et.complete():Et.next(we.value)})},0,!0)})})}var at=k(5055),Ge=k(9858),St=k(7441),ht=k(5397),jt=k(7953),Nt=k(591),rn=k(5196);function Ze(ke,tt){return tt?function pe(ke,tt){if(null!=ke){if((0,at.l)(ke))return function ye(ke,tt){return(0,o.Tg)(ke).pipe((0,r._)(tt),(0,oe.Q)(tt))}(ke,tt);if((0,St.X)(ke))return function Ce(ke,tt){return new Te.c(Et=>{let Vt=0;return tt.schedule(function(){Vt===ke.length?Et.complete():(Et.next(ke[Vt++]),Et.closed||this.schedule())})})}(ke,tt);if((0,Ge.y)(ke))return function fe(ke,tt){return(0,o.Tg)(ke).pipe((0,r._)(tt),(0,oe.Q)(tt))}(ke,tt);if((0,jt.T)(ke))return be(ke,tt);if((0,ht.x)(ke))return function ne(ke,tt){return new Te.c(Et=>{let Vt;return(0,z.N)(Et,tt,()=>{Vt=ke[Ne.l](),(0,z.N)(Et,tt,()=>{let we,sn;try{({value:we,done:sn}=Vt.next())}catch(Tn){return void Et.error(Tn)}sn?Et.complete():Et.next(we)},0,!0)}),()=>(0,xe.T)(Vt?.return)&&Vt.return()})}(ke,tt);if((0,rn.U)(ke))return function ze(ke,tt){return be((0,rn.C)(ke),tt)}(ke,tt)}throw(0,Nt.L)(ke)}(ke,tt):(0,o.Tg)(ke)}},8750:(dn,Je,k)=>{k.d(Je,{Tg:()=>at});var o=k(1635),oe=k(7441),r=k(9858),ye=k(1985),fe=k(5055),Te=k(7953),Ce=k(591),Ne=k(5397),xe=k(5196),z=k(8071),ne=k(5334),be=k(3494);function at(pe){if(pe instanceof ye.c)return pe;if(null!=pe){if((0,fe.l)(pe))return function Ge(pe){return new ye.c(Ze=>{const ke=pe[be.s]();if((0,z.T)(ke.subscribe))return ke.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,oe.X)(pe))return function St(pe){return new ye.c(Ze=>{for(let ke=0;ke<pe.length&&!Ze.closed;ke++)Ze.next(pe[ke]);Ze.complete()})}(pe);if((0,r.y)(pe))return function ht(pe){return new ye.c(Ze=>{pe.then(ke=>{Ze.closed||(Ze.next(ke),Ze.complete())},ke=>Ze.error(ke)).then(null,ne.m)})}(pe);if((0,Te.T)(pe))return Nt(pe);if((0,Ne.x)(pe))return function jt(pe){return new ye.c(Ze=>{for(const ke of pe)if(Ze.next(ke),Ze.closed)return;Ze.complete()})}(pe);if((0,xe.U)(pe))return function rn(pe){return Nt((0,xe.C)(pe))}(pe)}throw(0,Ce.L)(pe)}function Nt(pe){return new ye.c(Ze=>{(function ze(pe,Ze){var ke,tt,Et,Vt;return(0,o.sH)(this,void 0,void 0,function*(){try{for(ke=(0,o.xN)(pe);!(tt=yield ke.next()).done;)if(Ze.next(tt.value),Ze.closed)return}catch(we){Et={error:we}}finally{try{tt&&!tt.done&&(Vt=ke.return)&&(yield Vt.call(ke))}finally{if(Et)throw Et.error}}Ze.complete()})})(pe,Ze).catch(ke=>Ze.error(ke))})}},7786:(dn,Je,k)=>{k.d(Je,{h:()=>Te});var o=k(6365),oe=k(8750),r=k(983),ye=k(3794),fe=k(8455);function Te(...Ce){const Ne=(0,ye.lI)(Ce),xe=(0,ye.R0)(Ce,1/0),z=Ce;return z.length?1===z.length?(0,oe.Tg)(z[0]):(0,o.U)(xe)((0,fe.H)(z,Ne)):r.w}},7673:(dn,Je,k)=>{k.d(Je,{of:()=>r});var o=k(3794),oe=k(8455);function r(...ye){const fe=(0,o.lI)(ye);return(0,oe.H)(ye,fe)}},8810:(dn,Je,k)=>{k.d(Je,{$:()=>r});var o=k(1985),oe=k(8071);function r(ye,fe){const Te=(0,oe.T)(ye)?ye:()=>ye,Ce=Ne=>Ne.error(Te());return new o.c(fe?Ne=>fe.schedule(Ce,0,Ne):Ce)}},4360:(dn,Je,k)=>{k.d(Je,{_:()=>oe});var o=k(7707);function oe(ye,fe,Te,Ce,Ne){return new r(ye,fe,Te,Ce,Ne)}class r extends o.vU{constructor(fe,Te,Ce,Ne,xe,z){super(fe),this.onFinalize=xe,this.shouldUnsubscribe=z,this._next=Te?function(ne){try{Te(ne)}catch(be){fe.error(be)}}:super._next,this._error=Ne?function(ne){try{Ne(ne)}catch(be){fe.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},9437:(dn,Je,k)=>{k.d(Je,{W:()=>ye});var o=k(8750),oe=k(4360),r=k(9974);function ye(fe){return(0,r.N)((Te,Ce)=>{let z,Ne=null,xe=!1;Ne=Te.subscribe((0,oe._)(Ce,void 0,void 0,ne=>{z=(0,o.Tg)(fe(ne,ye(fe)(Te))),Ne?(Ne.unsubscribe(),Ne=null,z.subscribe(Ce)):xe=!0})),xe&&(Ne.unsubscribe(),Ne=null,z.subscribe(Ce))})}},274:(dn,Je,k)=>{k.d(Je,{H:()=>r});var o=k(1397),oe=k(8071);function r(ye,fe){return(0,oe.T)(fe)?(0,o.Z)(ye,fe,1):(0,o.Z)(ye,1)}},9901:(dn,Je,k)=>{k.d(Je,{U:()=>r});var o=k(9974),oe=k(4360);function r(ye){return(0,o.N)((fe,Te)=>{let Ce=!1;fe.subscribe((0,oe._)(Te,Ne=>{Ce=!0,Te.next(Ne)},()=>{Ce||Te.next(ye),Te.complete()}))})}},3294:(dn,Je,k)=>{k.d(Je,{F:()=>ye});var o=k(3669),oe=k(9974),r=k(4360);function ye(Te,Ce=o.D){return Te=Te??fe,(0,oe.N)((Ne,xe)=>{let z,ne=!0;Ne.subscribe((0,r._)(xe,be=>{const at=Ce(be);(ne||!Te(z,at))&&(ne=!1,z=at,xe.next(be))}))})}function fe(Te,Ce){return Te===Ce}},5964:(dn,Je,k)=>{k.d(Je,{p:()=>r});var o=k(9974),oe=k(4360);function r(ye,fe){return(0,o.N)((Te,Ce)=>{let Ne=0;Te.subscribe((0,oe._)(Ce,xe=>ye.call(fe,xe,Ne++)&&Ce.next(xe)))})}},980:(dn,Je,k)=>{k.d(Je,{j:()=>oe});var o=k(9974);function oe(r){return(0,o.N)((ye,fe)=>{try{ye.subscribe(fe)}finally{fe.add(r)}})}},1594:(dn,Je,k)=>{k.d(Je,{$:()=>Ce});var o=k(9350),oe=k(5964),r=k(6697),ye=k(9901),fe=k(3774),Te=k(3669);function Ce(Ne,xe){const z=arguments.length>=2;return ne=>ne.pipe(Ne?(0,oe.p)((be,at)=>Ne(be,at,ne)):Te.D,(0,r.s)(1),z?(0,ye.U)(xe):(0,fe.v)(()=>new o.G))}},6354:(dn,Je,k)=>{k.d(Je,{T:()=>r});var o=k(9974),oe=k(4360);function r(ye,fe){return(0,o.N)((Te,Ce)=>{let Ne=0;Te.subscribe((0,oe._)(Ce,xe=>{Ce.next(ye.call(fe,xe,Ne++))}))})}},6365:(dn,Je,k)=>{k.d(Je,{U:()=>r});var o=k(1397),oe=k(3669);function r(ye=1/0){return(0,o.Z)(oe.D,ye)}},1397:(dn,Je,k)=>{k.d(Je,{Z:()=>Ne});var o=k(6354),oe=k(8750),r=k(9974),ye=k(5225),fe=k(4360),Ce=k(8071);function Ne(xe,z,ne=1/0){return(0,Ce.T)(z)?Ne((be,at)=>(0,o.T)((Ge,St)=>z(be,Ge,at,St))((0,oe.Tg)(xe(be,at))),ne):("number"==typeof z&&(ne=z),(0,r.N)((be,at)=>function Te(xe,z,ne,be,at,Ge,St,ht){const jt=[];let Nt=0,rn=0,ze=!1;const pe=()=>{ze&&!jt.length&&!Nt&&z.complete()},Ze=tt=>Nt<be?ke(tt):jt.push(tt),ke=tt=>{Ge&&z.next(tt),Nt++;let Et=!1;(0,oe.Tg)(ne(tt,rn++)).subscribe((0,fe._)(z,Vt=>{at?.(Vt),Ge?Ze(Vt):z.next(Vt)},()=>{Et=!0},void 0,()=>{if(Et)try{for(Nt--;jt.length&&Nt<be;){const Vt=jt.shift();St?(0,ye.N)(z,St,()=>ke(Vt)):ke(Vt)}pe()}catch(Vt){z.error(Vt)}}))};return xe.subscribe((0,fe._)(z,Ze,()=>{ze=!0,pe()})),()=>{ht?.()}}(be,at,xe,ne)))}},941:(dn,Je,k)=>{k.d(Je,{Q:()=>ye});var o=k(5225),oe=k(9974),r=k(4360);function ye(fe,Te=0){return(0,oe.N)((Ce,Ne)=>{Ce.subscribe((0,r._)(Ne,xe=>(0,o.N)(Ne,fe,()=>Ne.next(xe),Te),()=>(0,o.N)(Ne,fe,()=>Ne.complete(),Te),xe=>(0,o.N)(Ne,fe,()=>Ne.error(xe),Te)))})}},2816:(dn,Je,k)=>{k.d(Je,{S:()=>ye});var o=k(9974),oe=k(4360);function ye(fe,Te){return(0,o.N)(function r(fe,Te,Ce,Ne,xe){return(z,ne)=>{let be=Ce,at=Te,Ge=0;z.subscribe((0,oe._)(ne,St=>{const ht=Ge++;at=be?fe(at,St,ht):(be=!0,St),Ne&&ne.next(at)},xe&&(()=>{be&&ne.next(at),ne.complete()})))}}(fe,Te,arguments.length>=2,!0))}},7647:(dn,Je,k)=>{k.d(Je,{u:()=>fe});var o=k(8750),oe=k(1413),r=k(7707),ye=k(9974);function fe(Ce={}){const{connector:Ne=(()=>new oe.B),resetOnError:xe=!0,resetOnComplete:z=!0,resetOnRefCountZero:ne=!0}=Ce;return be=>{let at,Ge,St,ht=0,jt=!1,Nt=!1;const rn=()=>{Ge?.unsubscribe(),Ge=void 0},ze=()=>{rn(),at=St=void 0,jt=Nt=!1},pe=()=>{const Ze=at;ze(),Ze?.unsubscribe()};return(0,ye.N)((Ze,ke)=>{ht++,!Nt&&!jt&&rn();const tt=St=St??Ne();ke.add(()=>{ht--,0===ht&&!Nt&&!jt&&(Ge=Te(pe,ne))}),tt.subscribe(ke),!at&&ht>0&&(at=new r.Ms({next:Et=>tt.next(Et),error:Et=>{Nt=!0,rn(),Ge=Te(ze,xe,Et),tt.error(Et)},complete:()=>{jt=!0,rn(),Ge=Te(ze,z),tt.complete()}}),(0,o.Tg)(Ze).subscribe(at))})(be)}}function Te(Ce,Ne,...xe){if(!0===Ne)return void Ce();if(!1===Ne)return;const z=new r.Ms({next:()=>{z.unsubscribe(),Ce()}});return(0,o.Tg)(Ne(...xe)).subscribe(z)}},9172:(dn,Je,k)=>{k.d(Je,{Z:()=>ye});var o=k(8793),oe=k(3794),r=k(9974);function ye(...fe){const Te=(0,oe.lI)(fe);return(0,r.N)((Ce,Ne)=>{(Te?(0,o.x)(fe,Ce,Te):(0,o.x)(fe,Ce)).subscribe(Ne)})}},6745:(dn,Je,k)=>{k.d(Je,{_:()=>oe});var o=k(9974);function oe(r,ye=0){return(0,o.N)((fe,Te)=>{Te.add(r.schedule(()=>fe.subscribe(Te),ye))})}},5558:(dn,Je,k)=>{k.d(Je,{n:()=>ye});var o=k(8750),oe=k(9974),r=k(4360);function ye(fe,Te){return(0,oe.N)((Ce,Ne)=>{let xe=null,z=0,ne=!1;const be=()=>ne&&!xe&&Ne.complete();Ce.subscribe((0,r._)(Ne,at=>{xe?.unsubscribe();let Ge=0;const St=z++;(0,o.Tg)(fe(at,St)).subscribe(xe=(0,r._)(Ne,ht=>Ne.next(Te?Te(at,ht,St,Ge++):ht),()=>{xe=null,be()}))},()=>{ne=!0,be()}))})}},6697:(dn,Je,k)=>{k.d(Je,{s:()=>ye});var o=k(983),oe=k(9974),r=k(4360);function ye(fe){return fe<=0?()=>o.w:(0,oe.N)((Te,Ce)=>{let Ne=0;Te.subscribe((0,r._)(Ce,xe=>{++Ne<=fe&&(Ce.next(xe),fe<=Ne&&Ce.complete())}))})}},8141:(dn,Je,k)=>{k.d(Je,{M:()=>fe});var o=k(8071),oe=k(9974),r=k(4360),ye=k(3669);function fe(Te,Ce,Ne){const xe=(0,o.T)(Te)||Ce||Ne?{next:Te,error:Ce,complete:Ne}:Te;return xe?(0,oe.N)((z,ne)=>{var be;null===(be=xe.subscribe)||void 0===be||be.call(xe);let at=!0;z.subscribe((0,r._)(ne,Ge=>{var St;null===(St=xe.next)||void 0===St||St.call(xe,Ge),ne.next(Ge)},()=>{var Ge;at=!1,null===(Ge=xe.complete)||void 0===Ge||Ge.call(xe),ne.complete()},Ge=>{var St;at=!1,null===(St=xe.error)||void 0===St||St.call(xe,Ge),ne.error(Ge)},()=>{var Ge,St;at&&(null===(Ge=xe.unsubscribe)||void 0===Ge||Ge.call(xe)),null===(St=xe.finalize)||void 0===St||St.call(xe)}))}):ye.D}},3774:(dn,Je,k)=>{k.d(Je,{v:()=>ye});var o=k(9350),oe=k(9974),r=k(4360);function ye(Te=fe){return(0,oe.N)((Ce,Ne)=>{let xe=!1;Ce.subscribe((0,r._)(Ne,z=>{xe=!0,Ne.next(z)},()=>xe?Ne.complete():Ne.error(Te())))})}function fe(){return new o.G}},6780:(dn,Je,k)=>{k.d(Je,{R:()=>fe});var o=k(8359);class oe extends o.yU{constructor(Ce,Ne){super()}schedule(Ce,Ne=0){return this}}const r={setInterval(Te,Ce,...Ne){const{delegate:xe}=r;return xe?.setInterval?xe.setInterval(Te,Ce,...Ne):setInterval(Te,Ce,...Ne)},clearInterval(Te){const{delegate:Ce}=r;return(Ce?.clearInterval||clearInterval)(Te)},delegate:void 0};var ye=k(7908);class fe extends oe{constructor(Ce,Ne){super(Ce,Ne),this.scheduler=Ce,this.work=Ne,this.pending=!1}schedule(Ce,Ne=0){var xe;if(this.closed)return this;this.state=Ce;const z=this.id,ne=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(ne,z,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ne,this.id,Ne),this}requestAsyncId(Ce,Ne,xe=0){return r.setInterval(Ce.flush.bind(Ce,this),xe)}recycleAsyncId(Ce,Ne,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ne;null!=Ne&&r.clearInterval(Ne)}execute(Ce,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Ce,Ne);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Ne){let z,xe=!1;try{this.work(Ce)}catch(ne){xe=!0,z=ne||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Ne}=this,{actions:xe}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.o)(xe,this),null!=Ce&&(this.id=this.recycleAsyncId(Ne,Ce,null)),this.delay=null,super.unsubscribe()}}}},9687:(dn,Je,k)=>{k.d(Je,{q:()=>r});var o=k(6129);class oe{constructor(fe,Te=oe.now){this.schedulerActionCtor=fe,this.now=Te}schedule(fe,Te=0,Ce){return new this.schedulerActionCtor(this,fe).schedule(Ce,Te)}}oe.now=o.U.now;class r extends oe{constructor(fe,Te=oe.now){super(fe,Te),this.actions=[],this._active=!1}flush(fe){const{actions:Te}=this;if(this._active)return void Te.push(fe);let Ce;this._active=!0;do{if(Ce=fe.execute(fe.state,fe.delay))break}while(fe=Te.shift());if(this._active=!1,Ce){for(;fe=Te.shift();)fe.unsubscribe();throw Ce}}}},3236:(dn,Je,k)=>{k.d(Je,{E:()=>r});var o=k(6780);const r=new(k(9687).q)(o.R)},6129:(dn,Je,k)=>{k.d(Je,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(dn,Je,k)=>{k.d(Je,{f:()=>o});const o={setTimeout(oe,r,...ye){const{delegate:fe}=o;return fe?.setTimeout?fe.setTimeout(oe,r,...ye):setTimeout(oe,r,...ye)},clearTimeout(oe){const{delegate:r}=o;return(r?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4761:(dn,Je,k)=>{k.d(Je,{l:()=>oe});const oe=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(dn,Je,k)=>{k.d(Je,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(dn,Je,k)=>{k.d(Je,{G:()=>oe});const oe=(0,k(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(dn,Je,k)=>{k.d(Je,{R0:()=>Te,ms:()=>ye,lI:()=>fe});var o=k(8071);function r(Ce){return Ce[Ce.length-1]}function ye(Ce){return(0,o.T)(r(Ce))?Ce.pop():void 0}function fe(Ce){return function oe(Ce){return Ce&&(0,o.T)(Ce.schedule)}(r(Ce))?Ce.pop():void 0}function Te(Ce,Ne){return"number"==typeof r(Ce)?Ce.pop():Ne}},3073:(dn,Je,k)=>{k.d(Je,{D:()=>fe});const{isArray:o}=Array,{getPrototypeOf:oe,prototype:r,keys:ye}=Object;function fe(Ce){if(1===Ce.length){const Ne=Ce[0];if(o(Ne))return{args:Ne,keys:null};if(function Te(Ce){return Ce&&"object"==typeof Ce&&oe(Ce)===r}(Ne)){const xe=ye(Ne);return{args:xe.map(z=>Ne[z]),keys:xe}}}return{args:Ce,keys:null}}},7908:(dn,Je,k)=>{function o(oe,r){if(oe){const ye=oe.indexOf(r);0<=ye&&oe.splice(ye,1)}}k.d(Je,{o:()=>o})},1853:(dn,Je,k)=>{function o(oe){const ye=oe(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}k.d(Je,{L:()=>o})},8496:(dn,Je,k)=>{function o(oe,r){return oe.reduce((ye,fe,Te)=>(ye[fe]=r[Te],ye),{})}k.d(Je,{e:()=>o})},9786:(dn,Je,k)=>{k.d(Je,{Y:()=>r,l:()=>ye});var o=k(1026);let oe=null;function r(fe){if(o.$.useDeprecatedSynchronousErrorHandling){const Te=!oe;if(Te&&(oe={errorThrown:!1,error:null}),fe(),Te){const{errorThrown:Ce,error:Ne}=oe;if(oe=null,Ce)throw Ne}}else fe()}function ye(fe){o.$.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=fe)}},5225:(dn,Je,k)=>{function o(oe,r,ye,fe=0,Te=!1){const Ce=r.schedule(function(){ye(),Te?oe.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(oe.add(Ce),!Te)return Ce}k.d(Je,{N:()=>o})},3669:(dn,Je,k)=>{function o(oe){return oe}k.d(Je,{D:()=>o})},7441:(dn,Je,k)=>{k.d(Je,{X:()=>o});const o=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},7953:(dn,Je,k)=>{k.d(Je,{T:()=>oe});var o=k(8071);function oe(r){return Symbol.asyncIterator&&(0,o.T)(r?.[Symbol.asyncIterator])}},8071:(dn,Je,k)=>{function o(oe){return"function"==typeof oe}k.d(Je,{T:()=>o})},5055:(dn,Je,k)=>{k.d(Je,{l:()=>r});var o=k(3494),oe=k(8071);function r(ye){return(0,oe.T)(ye[o.s])}},5397:(dn,Je,k)=>{k.d(Je,{x:()=>r});var o=k(4761),oe=k(8071);function r(ye){return(0,oe.T)(ye?.[o.l])}},9858:(dn,Je,k)=>{k.d(Je,{y:()=>oe});var o=k(8071);function oe(r){return(0,o.T)(r?.then)}},5196:(dn,Je,k)=>{k.d(Je,{C:()=>r,U:()=>ye});var o=k(1635),oe=k(8071);function r(fe){return(0,o.AQ)(this,arguments,function*(){const Ce=fe.getReader();try{for(;;){const{value:Ne,done:xe}=yield(0,o.N3)(Ce.read());if(xe)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Ne)}}finally{Ce.releaseLock()}})}function ye(fe){return(0,oe.T)(fe?.getReader)}},9974:(dn,Je,k)=>{k.d(Je,{N:()=>r,S:()=>oe});var o=k(8071);function oe(ye){return(0,o.T)(ye?.lift)}function r(ye){return fe=>{if(oe(fe))return fe.lift(function(Te){try{return ye(Te,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(dn,Je,k)=>{k.d(Je,{I:()=>ye});var o=k(6354);const{isArray:oe}=Array;function ye(fe){return(0,o.T)(Te=>function r(fe,Te){return oe(Te)?fe(...Te):fe(Te)}(fe,Te))}},5343:(dn,Je,k)=>{function o(){}k.d(Je,{l:()=>o})},1203:(dn,Je,k)=>{k.d(Je,{F:()=>oe,m:()=>r});var o=k(3669);function oe(...ye){return r(ye)}function r(ye){return 0===ye.length?o.D:1===ye.length?ye[0]:function(Te){return ye.reduce((Ce,Ne)=>Ne(Ce),Te)}}},5334:(dn,Je,k)=>{k.d(Je,{m:()=>r});var o=k(1026),oe=k(9270);function r(ye){oe.f.setTimeout(()=>{const{onUnhandledError:fe}=o.$;if(!fe)throw ye;fe(ye)})}},591:(dn,Je,k)=>{function o(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Je,{L:()=>o})},9969:(dn,Je,k)=>{k.d(Je,{FX:()=>rn,K2:()=>Ce,Ro:()=>oe,S6:()=>o,hZ:()=>ye,i0:()=>fe,iF:()=>Ne,kY:()=>ne,kp:()=>r,sf:()=>jt,ui:()=>Nt});class o{}class oe{}const r="*";function ye(ze,pe){return{type:7,name:ze,definitions:pe,options:{}}}function fe(ze,pe=null){return{type:4,styles:pe,timings:ze}}function Ce(ze,pe=null){return{type:2,steps:ze,options:pe}}function Ne(ze){return{type:6,styles:ze,offset:null}}function ne(ze,pe,Ze=null){return{type:1,expr:ze,animation:pe,options:Ze}}class jt{constructor(pe=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=pe+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const Ze="start"==pe?this._onStartFns:this._onDoneFns;Ze.forEach(ke=>ke()),Ze.length=0}}class Nt{constructor(pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=pe;let Ze=0,ke=0,tt=0;const Et=this.players.length;0==Et?queueMicrotask(()=>this._onFinish()):this.players.forEach(Vt=>{Vt.onDone(()=>{++Ze==Et&&this._onFinish()}),Vt.onDestroy(()=>{++ke==Et&&this._onDestroy()}),Vt.onStart(()=>{++tt==Et&&this._onStart()})}),this.totalTime=this.players.reduce((Vt,we)=>Math.max(Vt,we.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const Ze=pe*this.totalTime;this.players.forEach(ke=>{const tt=ke.totalTime?Math.min(1,Ze/ke.totalTime):1;ke.setPosition(tt)})}getPosition(){const pe=this.players.reduce((Ze,ke)=>null===Ze||ke.totalTime>Ze.totalTime?ke:Ze,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const Ze="start"==pe?this._onStartFns:this._onDoneFns;Ze.forEach(ke=>ke()),Ze.length=0}}const rn="!"},177:(dn,Je,k)=>{k.d(Je,{AJ:()=>ai,B3:()=>Nr,Jj:()=>Zs,MD:()=>Bs,N0:()=>Vn,P9:()=>hs,QT:()=>r,QX:()=>pi,Sm:()=>St,Sq:()=>Ee,VF:()=>fe,Vy:()=>$s,Xr:()=>Fe,YU:()=>Ln,ZD:()=>ye,_b:()=>fn,aZ:()=>jt,bT:()=>He,e1:()=>Fi,fG:()=>qi,fw:()=>ht,hb:()=>at,hj:()=>Ne,lG:()=>Ts,qQ:()=>Te,ux:()=>Tr});var o=k(7705);let oe=null;function r(){return oe}function ye(P){oe||(oe=P)}class fe{}const Te=new o.nKC("DocumentToken");let Ce=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(xe)},providedIn:"platform"})}}return P})();const Ne=new o.nKC("Location Initialized");let xe=(()=>{class P extends Ce{constructor(){super(),this._doc=(0,o.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(j){const Y=r().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",j,!1),()=>Y.removeEventListener("popstate",j)}onHashChange(j){const Y=r().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",j,!1),()=>Y.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Y,Re){this._history.pushState(j,Y,Re)}replaceState(j,Y,Re){this._history.replaceState(j,Y,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function z(P,re){if(0==P.length)return re;if(0==re.length)return P;let j=0;return P.endsWith("/")&&j++,re.startsWith("/")&&j++,2==j?P+re.substring(1):1==j?P+re:P+"/"+re}function ne(P){const re=P.match(/#|\?|$/),j=re&&re.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function be(P){return P&&"?"!==P[0]?"?"+P:P}let at=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(St)},providedIn:"root"})}}return P})();const Ge=new o.nKC("appBaseHref");let St=(()=>{class P extends at{constructor(j,Y){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return z(this._baseHref,j)}path(j=!1){const Y=this._platformLocation.pathname+be(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&j?`${Y}${Re}`:Y}pushState(j,Y,Re,Dt){const $t=this.prepareExternalUrl(Re+be(Dt));this._platformLocation.pushState(j,Y,$t)}replaceState(j,Y,Re,Dt){const $t=this.prepareExternalUrl(Re+be(Dt));this._platformLocation.replaceState(j,Y,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Ce),o.KVO(Ge,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),ht=(()=>{class P extends at{constructor(j,Y){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(j){const Y=z(this._baseHref,j);return Y.length>0?"#"+Y:Y}pushState(j,Y,Re,Dt){let $t=this.prepareExternalUrl(Re+be(Dt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(j,Y,$t)}replaceState(j,Y,Re,Dt){let $t=this.prepareExternalUrl(Re+be(Dt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(j,Y,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Ce),o.KVO(Ge,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),jt=(()=>{class P{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Y=this._locationStrategy.getBaseHref();this._basePath=function pe(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(ne(ze(Y))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Y=""){return this.path()==this.normalize(j+be(Y))}normalize(j){return P.stripTrailingSlash(function rn(P,re){if(!P||!re.startsWith(P))return re;const j=re.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:re}(this._basePath,ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Y="",Re=null){this._locationStrategy.pushState(Re,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+be(Y)),Re)}replaceState(j,Y="",Re=null){this._locationStrategy.replaceState(Re,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+be(Y)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Y){this._urlChangeListeners.forEach(Re=>Re(j,Y))}subscribe(j,Y,Re){return this._subject.subscribe({next:j,error:Y,complete:Re})}static{this.normalizeQueryParams=be}static{this.joinWithSlash=z}static{this.stripTrailingSlash=ne}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(at))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function Nt(){return new jt((0,o.KVO)(at))}()},providedIn:"root"})}}return P})();function ze(P){return P.replace(/\/index.html$/,"")}var ke=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(ke||{}),sn=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(sn||{});function ve(P,re){const j=(0,o.H5H)(P),Y=j[o.KH2.NumberSymbols][re];if(typeof Y>"u"){if(re===sn.CurrencyDecimal)return j[o.KH2.NumberSymbols][sn.Decimal];if(re===sn.CurrencyGroup)return j[o.KH2.NumberSymbols][sn.Group]}return Y}const F=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function un(P){const re=parseInt(P);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+P);return re}function fn(P,re){re=encodeURIComponent(re);for(const j of P.split(";")){const Y=j.indexOf("="),[Re,Dt]=-1==Y?[j,""]:[j.slice(0,Y),j.slice(Y+1)];if(Re.trim()===re)return decodeURIComponent(Dt)}return null}const Un=/\s+/,_n=[];let Ln=(()=>{class P{constructor(j,Y,Re,Dt){this._iterableDiffers=j,this._keyValueDiffers=Y,this._ngEl=Re,this._renderer=Dt,this.initialClasses=_n,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Un):_n}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Un):j}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Y of j)this._updateState(Y,!0);else if(null!=j)for(const Y of Object.keys(j))this._updateState(Y,!!j[Y]);this._applyStateDiff()}_updateState(j,Y){const Re=this.stateMap.get(j);void 0!==Re?(Re.enabled!==Y&&(Re.changed=!0,Re.enabled=Y),Re.touched=!0):this.stateMap.set(j,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Y=j[0],Re=j[1];Re.changed?(this._toggleClass(Y,Re.enabled),Re.changed=!1):Re.touched||(Re.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Re.touched=!1}}_toggleClass(j,Y){(j=j.trim()).length>0&&j.split(Un).forEach(Re=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Yn{constructor(re,j,Y,Re){this.$implicit=re,this.ngForOf=j,this.index=Y,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ee=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Y,Re){this._viewContainer=j,this._template=Y,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Y=this._viewContainer;j.forEachOperation((Re,Dt,$t)=>{if(null==Re.previousIndex)Y.createEmbeddedView(this._template,new Yn(Re.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)Y.remove(null===Dt?void 0:Dt);else if(null!==Dt){const $n=Y.get(Dt);Y.move($n,$t),zt($n,Re)}});for(let Re=0,Dt=Y.length;Re<Dt;Re++){const $n=Y.get(Re).context;$n.index=Re,$n.count=Dt,$n.ngForOf=this._ngForOf}j.forEachIdentityChange(Re=>{zt(Y.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function zt(P,re){P.context.$implicit=re.item}let He=(()=>{class P{constructor(j,Y){this._viewContainer=j,this._context=new kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){lr("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){lr("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class kt{constructor(){this.$implicit=null,this.ngIf=null}}function lr(P,re){if(re&&!re.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(re)}'.`)}class Kr{constructor(re,j){this._viewContainerRef=re,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let Tr=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Y=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Y of this._defaultViews)Y.enforceState(j)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),Fi=(()=>{class P{constructor(j,Y,Re){this.ngSwitch=Re,Re._addCase(),this._view=new Kr(j,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(Tr,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),qi=(()=>{class P{constructor(j,Y,Re){Re._addDefault(new Kr(j,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(Tr,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Nr=(()=>{class P{constructor(j,Y,Re){this._ngEl=j,this._differs=Y,this._renderer=Re,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Y){const[Re,Dt]=j.split("."),$t=-1===Re.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Re,Dt?`${Y}${Dt}`:Y,$t):this._renderer.removeStyle(this._ngEl.nativeElement,Re,$t)}_applyChanges(j){j.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),j.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),j.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function Ti(P,re){return new o.wOt(2100,!1)}class wa{createSubscription(re,j){return(0,o.O8t)(()=>re.subscribe({next:j,error:Y=>{throw Y}}))}dispose(re){(0,o.O8t)(()=>re.unsubscribe())}}class ec{createSubscription(re,j){return re.then(j,Y=>{throw Y})}dispose(re){}}const Pi=new ec,Fo=new wa;let Zs=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,Y=>this._updateLatestValue(j,Y))}_selectStrategy(j){if((0,o.jNT)(j))return Pi;if((0,o.zjR)(j))return Fo;throw Ti()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,Y){j===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),Ts=(()=>{class P{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=Rs}transform(j,Y=Rs){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const Re=this.differ.diff(j),Dt=Y!==this.compareFn;return Re&&(this.keyValues=[],Re.forEachItem($t=>{this.keyValues.push(function Qi(P,re){return{key:P,value:re}}($t.key,$t.currentValue))})),(Re||Dt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Rs(P,re){const j=P.key,Y=re.key;if(j===Y)return 0;if(void 0===j)return 1;if(void 0===Y)return-1;if(null===j)return 1;if(null===Y)return-1;if("string"==typeof j&&"string"==typeof Y)return j<Y?-1:1;if("number"==typeof j&&"number"==typeof Y)return j-Y;if("boolean"==typeof j&&"boolean"==typeof Y)return j<Y?-1:1;const Re=String(j),Dt=String(Y);return Re==Dt?0:Re<Dt?-1:1}let pi=(()=>{class P{constructor(j){this._locale=j}transform(j,Y,Re){if(!function pr(P){return!(null==P||""===P||P!=P)}(j))return null;Re=Re||this._locale;try{return function Ot(P,re,j){return function Pe(P,re,j,Y,Re,Dt,$t=!1){let $n="",oi=!1;if(isFinite(P)){let wi=function vn(P){let Y,Re,Dt,$t,$n,re=Math.abs(P)+"",j=0;for((Re=re.indexOf("."))>-1&&(re=re.replace(".","")),(Dt=re.search(/e/i))>0?(Re<0&&(Re=Dt),Re+=+re.slice(Dt+1),re=re.substring(0,Dt)):Re<0&&(Re=re.length),Dt=0;"0"===re.charAt(Dt);Dt++);if(Dt===($n=re.length))Y=[0],Re=1;else{for($n--;"0"===re.charAt($n);)$n--;for(Re-=Dt,Y=[],$t=0;Dt<=$n;Dt++,$t++)Y[$t]=Number(re.charAt(Dt))}return Re>22&&(Y=Y.splice(0,21),j=Re-1,Re=1),{digits:Y,exponent:j,integerLen:Re}}(P);$t&&(wi=function In(P){if(0===P.digits[0])return P;const re=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===re?P.digits.push(0,0):1===re&&P.digits.push(0),P.integerLen+=2),P}(wi));let gi=re.minInt,Pr=re.minFrac,vi=re.maxFrac;if(Dt){const Ws=Dt.match(F);if(null===Ws)throw new Error(`${Dt} is not a valid digit info`);const go=Ws[1],bs=Ws[3],Qo=Ws[5];null!=go&&(gi=un(go)),null!=bs&&(Pr=un(bs)),null!=Qo?vi=un(Qo):null!=bs&&Pr>vi&&(vi=Pr)}!function cr(P,re,j){if(re>j)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${j}).`);let Y=P.digits,Re=Y.length-P.integerLen;const Dt=Math.min(Math.max(re,Re),j);let $t=Dt+P.integerLen,$n=Y[$t];if($t>0){Y.splice(Math.max(P.integerLen,$t));for(let Pr=$t;Pr<Y.length;Pr++)Y[Pr]=0}else{Re=Math.max(0,Re),P.integerLen=1,Y.length=Math.max(1,$t=Dt+1),Y[0]=0;for(let Pr=1;Pr<$t;Pr++)Y[Pr]=0}if($n>=5)if($t-1<0){for(let Pr=0;Pr>$t;Pr--)Y.unshift(0),P.integerLen++;Y.unshift(1),P.integerLen++}else Y[$t-1]++;for(;Re<Math.max(0,Dt);Re++)Y.push(0);let oi=0!==Dt;const wi=re+P.integerLen,gi=Y.reduceRight(function(Pr,vi,Ni,Vi){return Vi[Ni]=(vi+=Pr)<10?vi:vi-10,oi&&(0===Vi[Ni]&&Ni>=wi?Vi.pop():oi=!1),vi>=10?1:0},0);gi&&(Y.unshift(gi),P.integerLen++)}(wi,Pr,vi);let Ni=wi.digits,Vi=wi.integerLen;const po=wi.exponent;let ks=[];for(oi=Ni.every(Ws=>!Ws);Vi<gi;Vi++)Ni.unshift(0);for(;Vi<0;Vi++)Ni.unshift(0);Vi>0?ks=Ni.splice(Vi,Ni.length):(ks=Ni,Ni=[0]);const ua=[];for(Ni.length>=re.lgSize&&ua.unshift(Ni.splice(-re.lgSize,Ni.length).join(""));Ni.length>re.gSize;)ua.unshift(Ni.splice(-re.gSize,Ni.length).join(""));Ni.length&&ua.unshift(Ni.join("")),$n=ua.join(ve(j,Y)),ks.length&&($n+=ve(j,Re)+ks.join("")),po&&($n+=ve(j,sn.Exponential)+"+"+po)}else $n=ve(j,sn.Infinity);return $n=P<0&&!oi?re.negPre+$n+re.negSuf:re.posPre+$n+re.posSuf,$n}(P,function Jt(P,re="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=P.split(";"),Re=Y[0],Dt=Y[1],$t=-1!==Re.indexOf(".")?Re.split("."):[Re.substring(0,Re.lastIndexOf("0")+1),Re.substring(Re.lastIndexOf("0")+1)],$n=$t[0],oi=$t[1]||"";j.posPre=$n.substring(0,$n.indexOf("#"));for(let gi=0;gi<oi.length;gi++){const Pr=oi.charAt(gi);"0"===Pr?j.minFrac=j.maxFrac=gi+1:"#"===Pr?j.maxFrac=gi+1:j.posSuf+=Pr}const wi=$n.split(",");if(j.gSize=wi[1]?wi[1].length:0,j.lgSize=wi[2]||wi[1]?(wi[2]||wi[1]).length:0,Dt){const gi=Re.length-j.posPre.length-j.posSuf.length,Pr=Dt.indexOf("#");j.negPre=Dt.substring(0,Pr).replace(/'/g,""),j.negSuf=Dt.slice(Pr+gi).replace(/'/g,"")}else j.negPre=re+j.posPre,j.negSuf=j.posSuf;return j}(function je(P,re){return(0,o.H5H)(P)[o.KH2.NumberFormats][re]}(re,ke.Decimal),ve(re,sn.MinusSign)),re,sn.Group,sn.Decimal,j)}(function is(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(j),Re,Y)}catch(Dt){throw Ti()}}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let hs=(()=>{class P{transform(j,Y,Re){if(null==j)return null;if(!this.supports(j))throw Ti();return j.slice(Y,Re)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Bs=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const ai="browser",ss="server";function $s(P){return P===ss}let Fe=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new it((0,o.KVO)(Te),window)})}}return P})();class it{constructor(re,j){this.document=re,this.window=j,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const j=function bt(P,re){const j=P.getElementById(re)||P.getElementsByName(re)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Re=Y.currentNode;for(;Re;){const Dt=Re.shadowRoot;if(Dt){const $t=Dt.getElementById(re)||Dt.querySelector(`[name="${re}"]`);if($t)return $t}Re=Y.nextNode()}}return null}(this.document,re);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const j=re.getBoundingClientRect(),Y=j.left+this.window.pageXOffset,Re=j.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(Y-Dt[0],Re-Dt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Vn{}},1626:(dn,Je,k)=>{k.d(Je,{Qq:()=>st,q1:()=>F});var o=k(7705),oe=k(7673),r=k(8455),ye=k(1985),fe=k(274),Te=k(5964),Ce=k(6354),Ne=k(980),xe=k(5558),z=k(177);class ne{}class be{}class at{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?"string"==typeof Se?this.lazyInit=()=>{this.headers=new Map,Se.split("\n").forEach($e=>{const Ot=$e.indexOf(":");if(Ot>0){const Jt=$e.slice(0,Ot),In=Jt.toLowerCase(),vn=$e.slice(Ot+1).trim();this.maybeSetNormalizedName(Jt,In),this.headers.has(In)?this.headers.get(In).push(vn):this.headers.set(In,[vn])}})}:typeof Headers<"u"&&Se instanceof Headers?(this.headers=new Map,Se.forEach(($e,Ot)=>{this.setHeaderEntries(Ot,$e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Se).forEach(([$e,Ot])=>{this.setHeaderEntries($e,Ot)})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const $e=this.headers.get(Se.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,$e){return this.clone({name:Se,value:$e,op:"a"})}set(Se,$e){return this.clone({name:Se,value:$e,op:"s"})}delete(Se,$e){return this.clone({name:Se,value:$e,op:"d"})}maybeSetNormalizedName(Se,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,Se)}init(){this.lazyInit&&(this.lazyInit instanceof at?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach($e=>{this.headers.set($e,Se.headers.get($e)),this.normalizedNames.set($e,Se.normalizedNames.get($e))})}clone(Se){const $e=new at;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof at?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),$e}applyUpdate(Se){const $e=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let Ot=Se.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(Se.name,$e);const Jt=("a"===Se.op?this.headers.get($e):void 0)||[];Jt.push(...Ot),this.headers.set($e,Jt);break;case"d":const In=Se.value;if(In){let vn=this.headers.get($e);if(!vn)return;vn=vn.filter(cr=>-1===In.indexOf(cr)),0===vn.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,vn)}else this.headers.delete($e),this.normalizedNames.delete($e)}}setHeaderEntries(Se,$e){const Ot=(Array.isArray($e)?$e:[$e]).map(In=>In.toString()),Jt=Se.toLowerCase();this.headers.set(Jt,Ot),this.maybeSetNormalizedName(Se,Jt)}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>Se(this.normalizedNames.get($e),this.headers.get($e)))}}class St{encodeKey(Se){return rn(Se)}encodeValue(Se){return rn(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const jt=/%(\d[a-f0-9])/gi,Nt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rn(Pe){return encodeURIComponent(Pe).replace(jt,(Se,$e)=>Nt[$e]??Se)}function ze(Pe){return`${Pe}`}class pe{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new St,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht(Pe,Se){const $e=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(Jt=>{const In=Jt.indexOf("="),[vn,cr]=-1==In?[Se.decodeKey(Jt),""]:[Se.decodeKey(Jt.slice(0,In)),Se.decodeValue(Jt.slice(In+1))],un=$e.get(vn)||[];un.push(cr),$e.set(vn,un)}),$e}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach($e=>{const Ot=Se.fromObject[$e],Jt=Array.isArray(Ot)?Ot.map(ze):[ze(Ot)];this.map.set($e,Jt)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const $e=this.map.get(Se);return $e?$e[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,$e){return this.clone({param:Se,value:$e,op:"a"})}appendAll(Se){const $e=[];return Object.keys(Se).forEach(Ot=>{const Jt=Se[Ot];Array.isArray(Jt)?Jt.forEach(In=>{$e.push({param:Ot,value:In,op:"a"})}):$e.push({param:Ot,value:Jt,op:"a"})}),this.clone($e)}set(Se,$e){return this.clone({param:Se,value:$e,op:"s"})}delete(Se,$e){return this.clone({param:Se,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const $e=this.encoder.encodeKey(Se);return this.map.get(Se).map(Ot=>$e+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const $e=new pe({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(Se),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const $e=("a"===Se.op?this.map.get(Se.param):void 0)||[];$e.push(ze(Se.value)),this.map.set(Se.param,$e);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let Ot=this.map.get(Se.param)||[];const Jt=Ot.indexOf(ze(Se.value));-1!==Jt&&Ot.splice(Jt,1),Ot.length>0?this.map.set(Se.param,Ot):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class ke{constructor(){this.map=new Map}set(Se,$e){return this.map.set(Se,$e),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function Et(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function Vt(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function we(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class Tn{constructor(Se,$e,Ot,Jt){let In;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function tt(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Jt?(this.body=void 0!==Ot?Ot:null,In=Jt):In=Ot,In&&(this.reportProgress=!!In.reportProgress,this.withCredentials=!!In.withCredentials,In.responseType&&(this.responseType=In.responseType),In.headers&&(this.headers=In.headers),In.context&&(this.context=In.context),In.params&&(this.params=In.params)),this.headers||(this.headers=new at),this.context||(this.context=new ke),this.params){const vn=this.params.toString();if(0===vn.length)this.urlWithParams=$e;else{const cr=$e.indexOf("?");this.urlWithParams=$e+(-1===cr?"?":cr<$e.length-1?"&":"")+vn}}else this.params=new pe,this.urlWithParams=$e}serializeBody(){return null===this.body?null:Et(this.body)||Vt(this.body)||we(this.body)||function sn(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||we(this.body)?null:Vt(this.body)?this.body.type||null:Et(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const $e=Se.method||this.method,Ot=Se.url||this.url,Jt=Se.responseType||this.responseType,In=void 0!==Se.body?Se.body:this.body,vn=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,cr=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let un=Se.headers||this.headers,Xr=Se.params||this.params;const _t=Se.context??this.context;return void 0!==Se.setHeaders&&(un=Object.keys(Se.setHeaders).reduce((et,Rt)=>et.set(Rt,Se.setHeaders[Rt]),un)),Se.setParams&&(Xr=Object.keys(Se.setParams).reduce((et,Rt)=>et.set(Rt,Se.setParams[Rt]),Xr)),new Tn($e,Ot,In,{params:Xr,headers:un,context:_t,reportProgress:cr,responseType:Jt,withCredentials:vn})}}var or=function(Pe){return Pe[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe}(or||{});class Lt{constructor(Se,$e=200,Ot="OK"){this.headers=Se.headers||new at,this.status=void 0!==Se.status?Se.status:$e,this.statusText=Se.statusText||Ot,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Lt{constructor(Se={}){super(Se),this.type=or.ResponseHeader}clone(Se={}){return new Yt({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Xt extends Lt{constructor(Se={}){super(Se),this.type=or.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new Xt({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class gt extends Lt{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function Ue(Pe,Se){return{body:Se,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let st=(()=>{class Pe{constructor($e){this.handler=$e}request($e,Ot,Jt={}){let In;if($e instanceof Tn)In=$e;else{let un,Xr;un=Jt.headers instanceof at?Jt.headers:new at(Jt.headers),Jt.params&&(Xr=Jt.params instanceof pe?Jt.params:new pe({fromObject:Jt.params})),In=new Tn($e,Ot,void 0!==Jt.body?Jt.body:null,{headers:un,context:Jt.context,params:Xr,reportProgress:Jt.reportProgress,responseType:Jt.responseType||"json",withCredentials:Jt.withCredentials})}const vn=(0,oe.of)(In).pipe((0,fe.H)(un=>this.handler.handle(un)));if($e instanceof Tn||"events"===Jt.observe)return vn;const cr=vn.pipe((0,Te.p)(un=>un instanceof Xt));switch(Jt.observe||"body"){case"body":switch(In.responseType){case"arraybuffer":return cr.pipe((0,Ce.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return cr.pipe((0,Ce.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return cr.pipe((0,Ce.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return cr.pipe((0,Ce.T)(un=>un.body))}case"response":return cr;default:throw new Error(`Unreachable: unhandled observe type ${Jt.observe}}`)}}delete($e,Ot={}){return this.request("DELETE",$e,Ot)}get($e,Ot={}){return this.request("GET",$e,Ot)}head($e,Ot={}){return this.request("HEAD",$e,Ot)}jsonp($e,Ot){return this.request("JSONP",$e,{params:(new pe).append(Ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,Ot={}){return this.request("OPTIONS",$e,Ot)}patch($e,Ot,Jt={}){return this.request("PATCH",$e,Ue(Jt,Ot))}post($e,Ot,Jt={}){return this.request("POST",$e,Ue(Jt,Ot))}put($e,Ot,Jt={}){return this.request("PUT",$e,Ue(Jt,Ot))}static{this.\u0275fac=function(Ot){return new(Ot||Pe)(o.KVO(ne))}}static{this.\u0275prov=o.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();function Bt(Pe,Se){return Se(Pe)}function Pn(Pe,Se){return($e,Ot)=>Se.intercept($e,{handle:Jt=>Pe(Jt,Ot)})}const hn=new o.nKC(""),jn=new o.nKC(""),nn=new o.nKC("");function er(){let Pe=null;return(Se,$e)=>{null===Pe&&(Pe=((0,o.WQX)(hn,{optional:!0})??[]).reduceRight(Pn,Bt));const Ot=(0,o.WQX)(o.$K3),Jt=Ot.add();return Pe(Se,$e).pipe((0,Ne.j)(()=>Ot.remove(Jt)))}}let Bn=(()=>{class Pe extends ne{constructor($e,Ot){super(),this.backend=$e,this.injector=Ot,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle($e){if(null===this.chain){const Jt=Array.from(new Set([...this.injector.get(jn),...this.injector.get(nn,[])]));this.chain=Jt.reduceRight((In,vn)=>function fr(Pe,Se,$e){return(Ot,Jt)=>$e.runInContext(()=>Se(Ot,In=>Pe(In,Jt)))}(In,vn,this.injector),Bt)}const Ot=this.pendingTasks.add();return this.chain($e,Jt=>this.backend.handle(Jt)).pipe((0,Ne.j)(()=>this.pendingTasks.remove(Ot)))}static{this.\u0275fac=function(Ot){return new(Ot||Pe)(o.KVO(be),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Or=/^\)\]\}',?\n/;let Zn=(()=>{class Pe{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new o.wOt(-2800,!1);const Ot=this.xhrFactory;return(Ot.\u0275loadImpl?(0,r.H)(Ot.\u0275loadImpl()):(0,oe.of)(null)).pipe((0,xe.n)(()=>new ye.c(In=>{const vn=Ot.build();if(vn.open($e.method,$e.urlWithParams),$e.withCredentials&&(vn.withCredentials=!0),$e.headers.forEach((_n,Ln)=>vn.setRequestHeader(_n,Ln.join(","))),$e.headers.has("Accept")||vn.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const _n=$e.detectContentTypeHeader();null!==_n&&vn.setRequestHeader("Content-Type",_n)}if($e.responseType){const _n=$e.responseType.toLowerCase();vn.responseType="json"!==_n?_n:"text"}const cr=$e.serializeBody();let un=null;const Xr=()=>{if(null!==un)return un;const _n=vn.statusText||"OK",Ln=new at(vn.getAllResponseHeaders()),ur=function Zr(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(vn)||$e.url;return un=new Yt({headers:Ln,status:vn.status,statusText:_n,url:ur}),un},_t=()=>{let{headers:_n,status:Ln,statusText:ur,url:Hr}=Xr(),Yn=null;204!==Ln&&(Yn=typeof vn.response>"u"?vn.responseText:vn.response),0===Ln&&(Ln=Yn?200:0);let Ee=Ln>=200&&Ln<300;if("json"===$e.responseType&&"string"==typeof Yn){const zt=Yn;Yn=Yn.replace(Or,"");try{Yn=""!==Yn?JSON.parse(Yn):null}catch(ee){Yn=zt,Ee&&(Ee=!1,Yn={error:ee,text:Yn})}}Ee?(In.next(new Xt({body:Yn,headers:_n,status:Ln,statusText:ur,url:Hr||void 0})),In.complete()):In.error(new gt({error:Yn,headers:_n,status:Ln,statusText:ur,url:Hr||void 0}))},et=_n=>{const{url:Ln}=Xr(),ur=new gt({error:_n,status:vn.status||0,statusText:vn.statusText||"Unknown Error",url:Ln||void 0});In.error(ur)};let Rt=!1;const fn=_n=>{Rt||(In.next(Xr()),Rt=!0);let Ln={type:or.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(Ln.total=_n.total),"text"===$e.responseType&&vn.responseText&&(Ln.partialText=vn.responseText),In.next(Ln)},Un=_n=>{let Ln={type:or.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(Ln.total=_n.total),In.next(Ln)};return vn.addEventListener("load",_t),vn.addEventListener("error",et),vn.addEventListener("timeout",et),vn.addEventListener("abort",et),$e.reportProgress&&(vn.addEventListener("progress",fn),null!==cr&&vn.upload&&vn.upload.addEventListener("progress",Un)),vn.send(cr),In.next({type:or.Sent}),()=>{vn.removeEventListener("error",et),vn.removeEventListener("abort",et),vn.removeEventListener("load",_t),vn.removeEventListener("timeout",et),$e.reportProgress&&(vn.removeEventListener("progress",fn),null!==cr&&vn.upload&&vn.upload.removeEventListener("progress",Un)),vn.readyState!==vn.DONE&&vn.abort()}})))}static{this.\u0275fac=function(Ot){return new(Ot||Pe)(o.KVO(z.N0))}}static{this.\u0275prov=o.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const ni=new o.nKC("XSRF_ENABLED"),bn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xr{}let kn=(()=>{class Pe{constructor($e,Ot,Jt){this.doc=$e,this.platform=Ot,this.cookieName=Jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,z._b)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}static{this.\u0275fac=function(Ot){return new(Ot||Pe)(o.KVO(z.qQ),o.KVO(o.Agw),o.KVO(bn))}}static{this.\u0275prov=o.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();function Gr(Pe,Se){const $e=Pe.url.toLowerCase();if(!(0,o.WQX)(ni)||"GET"===Pe.method||"HEAD"===Pe.method||$e.startsWith("http://")||$e.startsWith("https://"))return Se(Pe);const Ot=(0,o.WQX)(xr).getToken(),Jt=(0,o.WQX)(ar);return null!=Ot&&!Pe.headers.has(Jt)&&(Pe=Pe.clone({headers:Pe.headers.set(Jt,Ot)})),Se(Pe)}var ut=function(Pe){return Pe[Pe.Interceptors=0]="Interceptors",Pe[Pe.LegacyInterceptors=1]="LegacyInterceptors",Pe[Pe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pe[Pe.NoXsrfProtection=3]="NoXsrfProtection",Pe[Pe.JsonpSupport=4]="JsonpSupport",Pe[Pe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pe[Pe.Fetch=6]="Fetch",Pe}(ut||{});function ae(Pe,Se){return{\u0275kind:Pe,\u0275providers:Se}}function Oe(...Pe){const Se=[st,Zn,Bn,{provide:ne,useExisting:Bn},{provide:be,useExisting:Zn},{provide:jn,useValue:Gr,multi:!0},{provide:ni,useValue:!0},{provide:xr,useClass:kn}];for(const $e of Pe)Se.push(...$e.\u0275providers);return(0,o.EmA)(Se)}const Kt=new o.nKC("LEGACY_INTERCEPTOR_FN");let F=(()=>{class Pe{static{this.\u0275fac=function(Ot){return new(Ot||Pe)}}static{this.\u0275mod=o.$C({type:Pe})}static{this.\u0275inj=o.G2t({providers:[Oe(ae(ut.LegacyInterceptors,[{provide:Kt,useFactory:er},{provide:jn,useExisting:Kt,multi:!0}]))]})}}return Pe})()},7705:(dn,Je,k)=>{k.d(Je,{$C:()=>si,$GK:()=>Dn,$K3:()=>KC,$MX:()=>df,AVh:()=>Q_,Agw:()=>b_,B4B:()=>Sp,BIS:()=>Gv,BMQ:()=>ag,C4Q:()=>Lv,C5r:()=>SC,Co$:()=>Ub,DNE:()=>mu,EFF:()=>Fn,EJ8:()=>xs,EmA:()=>yc,FS9:()=>Qc,FsC:()=>To,G2t:()=>nn,GBs:()=>CC,GFd:()=>og,H3F:()=>WC,H5H:()=>J_,H8p:()=>yf,HJs:()=>qw,HbH:()=>_E,Hbi:()=>kw,JRh:()=>di,JZv:()=>Zn,Jv_:()=>Vb,KH2:()=>Z_,KVO:()=>Mt,Kcf:()=>_y,L39:()=>Ww,LfX:()=>Bn,Lme:()=>Ar,MKu:()=>tb,Mz_:()=>Ta,NEm:()=>dw,NYb:()=>aw,Njj:()=>gs,O8t:()=>Dt,OA$:()=>Pr,Ocv:()=>F1,Ol2:()=>Bb,PLl:()=>Ry,QTQ:()=>d,Ql9:()=>U1,QuC:()=>Ps,R7$:()=>g0,RV6:()=>Cd,Rfq:()=>St,RxE:()=>Uy,SKi:()=>Po,SpI:()=>bi,TL$:()=>qg,Tbb:()=>be,UyX:()=>Ap,VBU:()=>ec,Vns:()=>$m,Vt3:()=>Of,WHO:()=>QC,WPN:()=>od,WQX:()=>mn,XpG:()=>Eo,Xx1:()=>$c,Y8G:()=>Mh,Z63:()=>ad,ZF7:()=>oh,_9s:()=>Up,_q3:()=>eb,aKT:()=>mh,aNF:()=>$b,bIt:()=>q,bMT:()=>aC,bVm:()=>Gf,bc$:()=>Np,bkB:()=>Tl,brH:()=>lC,c1b:()=>K0,cWb:()=>wp,czy:()=>Xd,e01:()=>JC,e5t:()=>yy,eBV:()=>lo,eq3:()=>Xb,eu8:()=>Nh,fpN:()=>Nw,gRc:()=>Ew,gXe:()=>vn,giA:()=>ZC,h9k:()=>_f,hnV:()=>zC,i5U:()=>cC,iLQ:()=>qE,j41:()=>Bf,jDH:()=>hn,jNT:()=>E,k0s:()=>yu,kS0:()=>Vd,kdw:()=>zu,l4e:()=>Zb,lJ4:()=>Yb,lNU:()=>ze,l_i:()=>Qb,lsd:()=>IC,mGM:()=>bC,mq5:()=>xv,n$t:()=>p_,nI1:()=>oC,nKC:()=>bn,naY:()=>vw,npT:()=>em,nrm:()=>Rh,o8S:()=>ry,oH4:()=>rT,osQ:()=>Dp,plB:()=>VE,qex:()=>$f,rXU:()=>iu,rcV:()=>gl,s1E:()=>Jb,sFG:()=>Kv,sGs:()=>eC,sZ2:()=>My,sdS:()=>K_,tSv:()=>qy,uvJ:()=>Ri,w6W:()=>xI,wOt:()=>pe,wni:()=>TC,xGo:()=>ul,xc7:()=>Bm,xe9:()=>Y0,xvI:()=>jy,zZn:()=>El,zcH:()=>Ec,zjR:()=>U});var o=k(1413),oe=k(8359),r=k(1985),ye=k(7786),fe=k(4412),Te=k(7673),Ce=k(7647),Ne=k(5558),xe=k(3294);function z(t){for(let n in t)if(t[n]===z)return n;throw Error("Could not find renamed property on target object.")}function ne(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function at(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ge=z({__forward_ref__:z});function St(t){return t.__forward_ref__=St,t.toString=function(){return be(this())},t}function ht(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Ge)&&t.__forward_ref__===St}function Nt(t){return t&&!!t.\u0275providers}const ze="https://g.co/ng/security#xss";class pe extends Error{constructor(n,s){super(function Ze(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function ke(t){return"string"==typeof t?t:null==t?"":String(t)}function sn(t,n){throw new pe(-201,!1)}function ot(t,n){null==t&&function nt(t,n,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function hn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function er(t){return Ut(t,yn)||Ut(t,ir)}function Bn(t){return null!==er(t)}function Ut(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dr(t){return t&&(t.hasOwnProperty(Ur)||t.hasOwnProperty(Wt))?t[Ur]:null}const yn=z({\u0275prov:z}),Ur=z({\u0275inj:z}),ir=z({ngInjectableDef:z}),Wt=z({ngInjectorDef:z});var Dn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Dn||{});let Jn;function qr(t){const n=Jn;return Jn=t,n}function Or(t,n,s){const c=er(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Dn.Optional?null:void 0!==n?n:void sn(be(t))}const Zn=globalThis;class bn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=hn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qn={},Wr="__NG_DI_FLAG__",vr="ngTempTokenPath",Ct=/\n/gm,M="__source";let F;function ge(t){const n=F;return F=t,n}function lt(t,n=Dn.Default){if(void 0===F)throw new pe(-203,!1);return null===F?Or(t,void 0,n):F.get(t,n&Dn.Optional?null:void 0,n)}function Mt(t,n=Dn.Default){return(function Mn(){return Jn}()||lt)(ht(t),n)}function mn(t,n=Dn.Default){return Mt(t,Rn(n))}function Rn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Er(t){const n=[];for(let s=0;s<t.length;s++){const c=ht(t[s]);if(Array.isArray(c)){if(0===c.length)throw new pe(900,!1);let f,p=Dn.Default;for(let C=0;C<c.length;C++){const A=c[C],R=Se(A);"number"==typeof R?-1===R?f=A.token:p|=R:f=A}n.push(Mt(f,p))}else n.push(Mt(c))}return n}function Pe(t,n){return t[Wr]=n,t.prototype[Wr]=n,t}function Se(t){return t[Wr]}function Jt(t){return{toString:t}.toString()}var In=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(In||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});const cr={},un=[],Xr=z({\u0275cmp:z}),_t=z({\u0275dir:z}),et=z({\u0275pipe:z}),Rt=z({\u0275mod:z}),fn=z({\u0275fac:z}),Un=z({__NG_ELEMENT_ID__:z}),_n=z({__NG_ENV_ID__:z});function Ln(t,n,s){let c=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const p=n.length;if(f+p===c||t.charCodeAt(f+p)<=32)return f}s=f+1}}function ur(t,n,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const p=s[c++],C=s[c++],A=s[c++];t.setAttribute(n,C,A,p)}else{const p=f,C=s[++c];Yn(p)?t.setProperty(n,p,C):t.setAttribute(n,p,C),c++}}return c}function Hr(t){return 3===t||4===t||6===t}function Yn(t){return 64===t.charCodeAt(0)}function Ee(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?s=f:0===s||zt(t,s,f,null,-1===s||2===s?n[++c]:null)}}return t}function zt(t,n,s,c,f){let p=0,C=t.length;if(-1===n)C=-1;else for(;p<t.length;){const A=t[p++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=p-1;break}}}for(;p<t.length;){const A=t[p];if("number"==typeof A)break;if(A===s){if(null===c)return void(null!==f&&(t[p+1]=f));if(c===t[p+1])return void(t[p+2]=f)}p++,null!==c&&p++,null!==f&&p++}-1!==C&&(t.splice(C,0,n),p=C+1),t.splice(p++,0,s),null!==c&&t.splice(p++,0,c),null!==f&&t.splice(p++,0,f)}const ee="ng-template";function He(t,n,s){let c=0,f=!0;for(;c<t.length;){let p=t[c++];if("string"==typeof p&&f){const C=t[c++];if(s&&"class"===p&&-1!==Ln(C.toLowerCase(),n,0))return!0}else{if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(f=!1)}}return!1}function kt(t){return 4===t.type&&t.value!==ee}function lr(t,n,s){return n===(4!==t.type||s?t.value:ee)}function Kr(t,n,s){let c=4;const f=t.attrs||[],p=function Xi(t){for(let n=0;n<t.length;n++)if(Hr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&c){if(c=2|1&c,""!==R&&!lr(t,R,s)||""===R&&1===n.length){if(Tr(c))return!1;C=!0}}else{const H=8&c?R:n[++A];if(8&c&&null!==t.attrs){if(!He(t.attrs,H,s)){if(Tr(c))return!1;C=!0}continue}const Ie=Fi(8&c?"class":R,f,kt(t),s);if(-1===Ie){if(Tr(c))return!1;C=!0;continue}if(""!==H){let rt;rt=Ie>p?"":f[Ie+1].toLowerCase();const pt=8&c?rt:null;if(pt&&-1!==Ln(pt,H,0)||2&c&&H!==rt){if(Tr(c))return!1;C=!0}}}}else{if(!C&&!Tr(c)&&!Tr(R))return!1;if(C&&Tr(R))continue;C=!1,c=R|1&c}}return Tr(c)||C}function Tr(t){return 0==(1&t)}function Fi(t,n,s,c){if(null===n)return-1;let f=0;if(c||!s){let p=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)p=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=p?1:2}return-1}return function ji(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===n)return s;s++}return-1}(n,t)}function qi(t,n,s=!1){for(let c=0;c<n.length;c++)if(Kr(t,n[c],s))return!0;return!1}function Cs(t,n){return t?":not("+n.trim()+")":n}function ko(t){let n=t[0],s=1,c=2,f="",p=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&c){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!Tr(C)&&(n+=Cs(p,f),f=""),c=C,p=p||!Tr(c);s++}return""!==f&&(n+=Cs(p,f)),n}function ec(t){return Jt(()=>{const n=rs(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""};Ms(s);const c=t.dependencies;return s.directiveDefs=Qi(c,!1),s.pipeDefs=Qi(c,!0),s.id=function Rs(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function Fo(t){return kr(t)||hi(t)}function Zs(t){return null!==t}function si(t){return Jt(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ys(t,n){if(null==t)return cr;const s={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),s[f]=c,n&&(n[f]=p)}return s}function To(t){return Jt(()=>{const n=rs(t);return Ms(n),n})}function xs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function kr(t){return t[Xr]||null}function hi(t){return t[_t]||null}function Oi(t){return t[et]||null}function Ps(t){const n=kr(t)||hi(t)||Oi(t);return null!==n&&n.standalone}function fi(t,n){const s=t[Rt]||null;if(!s&&!0===n)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return s}function rs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(t.inputs,n),outputs:ys(t.outputs)}}function Ms(t){t.features?.forEach(n=>n(t))}function Qi(t,n){if(!t)return null;const s=n?Oi:Fo;return()=>("function"==typeof t?t():t).map(c=>s(c)).filter(Zs)}const pi=0,wn=1,gr=2,pr=3,is=4,hs=5,zi=6,Bs=7,ai=8,ss=9,Os=10,dr=11,vs=12,$s=13,Z=14,Q=15,De=16,Fe=17,it=18,bt=19,an=20,Vn=21,An=22,hr=23,jr=24,Xn=25,mr=1,Ii=2,ci=7,es=9,Fr=11;function Bi(t){return Array.isArray(t)&&"object"==typeof t[mr]}function Vr(t){return Array.isArray(t)&&!0===t[mr]}function Io(t){return 0!=(4&t.flags)}function fs(t){return t.componentOffset>-1}function io(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function Ko(t){return 0!=(512&t[gr])}function Gs(t,n){return t.hasOwnProperty(fn)?t[fn]:null}let Es=null,ca=!1;function ts(t){const n=Es;return Es=t,n}const tl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ua(t){if(!Hs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!nc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ws(t){t.dirty=!0,function ao(t){if(void 0===t.liveConsumerNode)return;const n=ca;ca=!0;try{for(const s of t.liveConsumerNode)s.dirty||ws(s)}finally{ca=n}}(t),t.consumerMarkedDirty?.(t)}function Da(t){return t&&(t.nextProducerIndex=0),ts(t)}function en(t,n){if(ts(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Hs(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ao(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nc(t){Yo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==s.version||(Ua(s),c!==s.version))return!0}return!1}function Nl(t){if(Yo(t),Hs(t))for(let n=0;n<t.producerNode.length;n++)Ao(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ao(t,n){if(function zs(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Yo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Ao(t.producerNode[c],t.producerIndexOfThis[c]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Yo(f),f.producerIndexOfThis[c]=n}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Xo=null;function Dt(t){const n=ts(null);try{return t()}finally{ts(n)}}const $n=()=>{},oi=(()=>({...tl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:$n}))();class gi{constructor(n,s,c){this.previousValue=n,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Pr(){return vi}function vi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vi),Ni}function Ni(){const t=ks(this),n=t?.current;if(n){const s=t.previous;if(s===cr)t.previous=n;else for(let c in n)s[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Vi(t,n,s,c){const f=this.declaredInputs[s],p=ks(t)||function ua(t,n){return t[po]=n}(t,{previous:cr,current:null}),C=p.current||(p.current={}),A=p.previous,R=A[f];C[f]=new gi(R&&R.currentValue,n,A===cr),t[c]=n}Pr.ngInherit=!0;const po="__ngSimpleChanges__";function ks(t){return t[po]||null}const bs=function(t,n,s){};function Lr(t){for(;Array.isArray(t);)t=t[pi];return t}function Ac(t,n){return Lr(n[t])}function co(t,n){return Lr(n[t.index])}function cc(t,n){return t.data[n]}function da(t,n){return t[n]}function $i(t,n){const s=n[t];return Bi(s)?s:s[pi]}function As(t,n){return null==n?null:t[n]}function $a(t){t[Fe]=0}function sl(t){1024&t[gr]||(t[gr]|=1024,Ad(t,1))}function wd(t){1024&t[gr]&&(t[gr]&=-1025,Ad(t,-1))}function Ad(t,n){let s=t[pr];if(null===s)return;s[hs]+=n;let c=s;for(s=s[pr];null!==s&&(1===n&&1===c[hs]||-1===n&&0===c[hs]);)s[hs]+=n,c=s,s=s[pr]}const wr={lFrame:ue(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vl(){return wr.bindingsEnabled}function Zt(){return wr.lFrame.lView}function Br(){return wr.lFrame.tView}function lo(t){return wr.lFrame.contextLView=t,t[ai]}function gs(t){return wr.lFrame.contextLView=null,t}function no(){let t=xa();for(;null!==t&&64===t.type;)t=t.parent;return t}function xa(){return wr.lFrame.currentTNode}function jo(t,n){const s=wr.lFrame;s.currentTNode=t,s.isParent=n}function al(){return wr.lFrame.isParent}function Su(){wr.lFrame.isParent=!1}function ms(){const t=wr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function lc(){return wr.lFrame.bindingIndex++}function Do(t){const n=wr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function qf(t,n){const s=wr.lFrame;s.bindingIndex=s.bindingRootIndex=t,xu(n)}function xu(t){wr.lFrame.currentDirectiveIndex=t}function pa(){return wr.lFrame.currentQueryIndex}function D(t){wr.lFrame.currentQueryIndex=t}function O(t){const n=t[wn];return 2===n.type?n.declTNode:1===n.type?t[zi]:null}function w(t,n,s){if(s&Dn.SkipSelf){let f=n,p=t;for(;!(f=f.parent,null!==f||s&Dn.Host||(f=O(p),null===f||(p=p[Z],10&f.type))););if(null===f)return!1;n=f,t=p}const c=wr.lFrame=G();return c.currentTNode=n,c.lView=t,!0}function N(t){const n=G(),s=t[wn];wr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function G(){const t=wr.lFrame,n=null===t?null:t.child;return null===n?ue(t):n}function ue(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Me(){const t=wr.lFrame;return wr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const It=Me;function vt(){const t=Me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rr(){return wr.lFrame.selectedIndex}function Yr(t){wr.lFrame.selectedIndex=t}function Ei(){const t=wr.lFrame;return cc(t.tView,t.selectedIndex)}let Bh=!0;function uc(){return Bh}function ma(t){Bh=t}function za(t,n){for(let s=n.directiveStart,c=n.directiveEnd;s<c;s++){const p=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:H,ngOnDestroy:se}=p;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),H&&((t.viewHooks??=[]).push(s,H),(t.viewCheckHooks??=[]).push(s,H)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function hc(t,n,s){Ou(t,n,3,s)}function Mu(t,n,s,c){(3&t[gr])===s&&Ou(t,n,s,c)}function Ru(t,n){let s=t[gr];(3&s)===n&&(s&=8191,s+=1,t[gr]=s)}function Ou(t,n,s,c){const p=c??-1,C=n.length-1;let A=0;for(let R=void 0!==c?65535&t[Fe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=c&&A>=c)break}else n[R]<0&&(t[Fe]+=65536),(A<p||-1==p)&&(Nu(t,s,n,R),t[Fe]=(4294901760&t[Fe])+R+2),R++}function Md(t,n){bs(4,t,n);const s=ts(null);try{n.call(t)}finally{ts(s),bs(5,t,n)}}function Nu(t,n,s,c){const f=s[c]<0,p=s[c+1],A=t[f?-s[c]:s[c]];f?t[gr]>>13<t[Fe]>>16&&(3&t[gr])===n&&(t[gr]+=8192,Md(A,p)):Md(A,p)}const Bo=-1;class _a{constructor(n,s,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Fu(t){return t!==Bo}function fc(t){return 32767&t}function cl(t,n){let s=function Lu(t){return t>>16}(t),c=n;for(;s>0;)c=c[Z],s--;return c}let Vu=!0;function Wa(t){const n=Vu;return Vu=t,n}const Xf=255,$o=5;let Uu=0;const So={};function ll(t,n){const s=zh(t,n);if(-1!==s)return s;const c=n[wn];c.firstCreatePass&&(t.injectorIndex=n.length,Ds(c.data,t),Ds(n,null),Ds(c.blueprint,null));const f=Rc(t,n),p=t.injectorIndex;if(Fu(f)){const C=fc(f),A=cl(f,n),R=A[wn].data;for(let H=0;H<8;H++)n[p+H]=A[C+H]|R[C+H]}return n[p+8]=f,p}function Ds(t,n){t.push(0,0,0,0,0,0,0,0,n)}function zh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Rc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,f=n;for(;null!==f;){if(c=Ld(f),null===c)return Bo;if(s++,f=f[Z],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Bo}function Oc(t,n,s){!function Od(t,n,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Un)&&(c=s[Un]),null==c&&(c=s[Un]=Uu++);const f=c&Xf;n.data[t+(f>>$o)]|=1<<f}(t,n,s)}function Ka(t,n,s){if(s&Dn.Optional||void 0!==t)return t;sn()}function qa(t,n,s,c){if(s&Dn.Optional&&void 0===c&&(c=null),!(s&(Dn.Self|Dn.Host))){const f=t[ss],p=qr(void 0);try{return f?f.get(n,c,s&Dn.Optional):Or(n,c,s&Dn.Optional)}finally{qr(p)}}return Ka(c,0,s)}function $l(t,n,s,c=Dn.Default,f){if(null!==t){if(2048&n[gr]&&!(c&Dn.Self)){const C=function Zf(t,n,s,c,f){let p=t,C=n;for(;null!==p&&null!==C&&2048&C[gr]&&!(512&C[gr]);){const A=Ya(p,C,s,c|Dn.Self,So);if(A!==So)return A;let R=p.parent;if(!R){const H=C[an];if(H){const se=H.get(s,So,c);if(se!==So)return se}R=Ld(C),C=C[Z]}p=R}return f}(t,n,s,c,So);if(C!==So)return C}const p=Ya(t,n,s,c,So);if(p!==So)return p}return qa(n,s,c,f)}function Ya(t,n,s,c,f){const p=function Nc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Un)?t[Un]:void 0;return"number"==typeof n?n>=0?n&Xf:Jf:n}(s);if("function"==typeof p){if(!w(n,t,c))return c&Dn.Host?Ka(f,0,c):qa(n,s,c,f);try{let C;if(C=p(c),null!=C||c&Dn.Optional)return C;sn()}finally{It()}}else if("number"==typeof p){let C=null,A=zh(t,n),R=Bo,H=c&Dn.Host?n[Q][zi]:null;for((-1===A||c&Dn.SkipSelf)&&(R=-1===A?Rc(t,n):n[A+8],R!==Bo&&Qf(c,!1)?(C=n[wn],A=fc(R),n=cl(R,n)):A=-1);-1!==A;){const se=n[wn];if(ju(p,A,se.data)){const Ie=yg(A,n,s,C,c,H);if(Ie!==So)return Ie}R=n[A+8],R!==Bo&&Qf(c,n[wn].data[A+8]===H)&&ju(p,A,n)?(C=se,A=fc(R),n=cl(R,n)):A=-1}}return f}function yg(t,n,s,c,f,p){const C=n[wn],A=C.data[t+8],se=Xa(A,C,s,null==c?fs(A)&&Vu:c!=C&&0!=(3&A.type),f&Dn.Host&&p===A);return null!==se?qs(n,C,se,A):So}function Xa(t,n,s,c,f){const p=t.providerIndexes,C=n.data,A=1048575&p,R=t.directiveStart,se=p>>20,rt=f?A+se:t.directiveEnd;for(let pt=c?A:A+se;pt<rt;pt++){const Gt=C[pt];if(pt<R&&s===Gt||pt>=R&&Gt.type===s)return pt}if(f){const pt=C[R];if(pt&&eo(pt)&&pt.type===s)return R}return null}function qs(t,n,s,c){let f=t[s];const p=n.data;if(function Mc(t){return t instanceof _a}(f)){const C=f;C.resolving&&function Et(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new pe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ke(t)}(p[s]));const A=Wa(C.canSeeViewProviders);C.resolving=!0;const H=C.injectImpl?qr(C.injectImpl):null;w(t,c,Dn.Default);try{f=t[s]=C.factory(void 0,p,t,c),n.firstCreatePass&&s>=c.directiveStart&&function dc(t,n,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:p}=n.type.prototype;if(c){const C=vi(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),p&&((s.preOrderHooks??=[]).push(t,p),(s.preOrderCheckHooks??=[]).push(t,p))}(s,p[s],n)}finally{null!==H&&qr(H),Wa(A),C.resolving=!1,It()}}return f}function ju(t,n,s){return!!(s[n+(t>>$o)]&1<<t)}function Qf(t,n){return!(t&Dn.Self||t&Dn.Host&&n)}class Ys{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,c){return $l(this._tNode,this._lView,n,Rn(c),s)}}function Jf(){return new Ys(no(),Zt())}function ul(t){return Jt(()=>{const n=t.prototype.constructor,s=n[fn]||Fd(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const p=f[fn]||Fd(f);if(p&&p!==s)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Fd(t){return jt(t)?()=>{const n=Fd(ht(t));return n&&n()}:Gs(t)}function Ld(t){const n=t[wn],s=n.type;return 2===s?n.declTNode:1===s?t[zi]:null}function Vd(t){return function Nd(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const p=s[f];if(Hr(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(p===n)return s[f+1];f+=2}}}return null}(no(),t)}const Jo="__parameters__";function Gl(t,n,s){return Jt(()=>{const c=function Ud(t){return function(...s){if(t){const c=t(...s);for(const f in c)this[f]=c[f]}}}(n);function f(...p){if(this instanceof f)return c.apply(this,p),this;const C=new f(...p);return A.annotation=C,A;function A(R,H,se){const Ie=R.hasOwnProperty(Jo)?R[Jo]:Object.defineProperty(R,Jo,{value:[]})[Jo];for(;Ie.length<=se;)Ie.push(null);return(Ie[se]=Ie[se]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Uc(t,n){t.forEach(s=>Array.isArray(s)?Uc(s,n):n(s))}function jd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function jc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ea(t,n,s){let c=mc(t,n);return c>=0?t[1|c]=s:(c=~c,function Cg(t,n,s,c){let f=t.length;if(f==n)t.push(s,c);else if(1===f)t.push(c,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=c}}(t,c,n,s)),c}function Bd(t,n){const s=mc(t,n);if(s>=0)return t[1|s]}function mc(t,n){return function Ig(t,n,s){let c=0,f=t.length>>s;for(;f!==c;){const p=c+(f-c>>1),C=t[p<<s];if(n===C)return p<<s;C>n?f=p:c=p+1}return~(f<<s)}(t,n,1)}const $c=Pe(Gl("Optional"),8),zu=Pe(Gl("SkipSelf"),4);function Jh(t){return 128==(128&t.flags)}var Xd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xd||{});const ay=/^>|^->|<!--|-->|--!>|<!-$/g,Sg=/(<|>)/g,cy="\u200b$1\u200b";const Qd=new Map;let Wm=0;const Zh="__ngContext__";function xo(t,n){Bi(n)?(t[Zh]=n[bt],function Jd(t){Qd.set(t[bt],t)}(n)):t[Zh]=n}let tf;function ql(t,n){return tf(t,n)}function td(t){const n=t[pr];return Vr(n)?n[pr]:n}function nd(t){return Og(t[vs])}function Rg(t){return Og(t[is])}function Og(t){for(;null!==t&&!Vr(t);)t=t[is];return t}function na(t,n,s,c,f){if(null!=c){let p,C=!1;Vr(c)?p=c:Bi(c)&&(C=!0,c=c[pi]);const A=Lr(c);0===t&&null!==s?null==f?fp(n,s,A):rd(n,s,A,f||null,!0):1===t&&null!==s?rd(n,s,A,f||null,!0):2===t?function af(t,n,s){const c=ih(t,n);c&&function pp(t,n,s,c){t.removeChild(n,s,c)}(t,c,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=p&&function Gg(t,n,s,c,f){const p=s[ci];p!==Lr(s)&&na(n,t,c,p,f);for(let A=Fr;A<s.length;A++){const R=s[A];lf(R[wn],R,t,n,c,p)}}(n,t,p,s,f)}}function Ng(t,n){return t.createComment(function Zu(t){return t.replace(ay,n=>n.replace(Sg,cy))}(n))}function up(t,n,s){return t.createElement(n,s)}function nf(t,n){const s=t[es],c=s.indexOf(n);wd(n),s.splice(c,1)}function Xl(t,n){if(t.length<=Fr)return;const s=Fr+n,c=t[s];if(c){const f=c[De];null!==f&&f!==t&&nf(f,c),n>0&&(t[s-1][is]=c[is]);const p=jc(t,Fr+n);!function kg(t,n){lf(t,n,n[dr],2,null,null),n[pi]=null,n[zi]=null}(c[wn],c);const C=p[it];null!==C&&C.detachView(p[wn]),c[pr]=null,c[is]=null,c[gr]&=-129}return c}function dp(t,n){if(!(256&n[gr])){const s=n[dr];n[hr]&&Nl(n[hr]),n[jr]&&Nl(n[jr]),s.destroyNode&&lf(t,n,s,3,null,null),function Lg(t){let n=t[vs];if(!n)return hp(t[wn],t);for(;n;){let s=null;if(Bi(n))s=n[vs];else{const c=n[Fr];c&&(s=c)}if(!s){for(;n&&!n[is]&&n!==t;)Bi(n)&&hp(n[wn],n),n=n[pr];null===n&&(n=t),Bi(n)&&hp(n[wn],n),s=n&&n[is]}n=s}}(n)}}function hp(t,n){if(!(256&n[gr])){n[gr]&=-129,n[gr]|=256,function Xm(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const f=n[s[c]];if(!(f instanceof _a)){const p=s[c+1];if(Array.isArray(p))for(let C=0;C<p.length;C+=2){const A=f[p[C]],R=p[C+1];bs(4,A,R);try{R.call(A)}finally{bs(5,A,R)}}else{bs(4,f,p);try{p.call(f)}finally{bs(5,f,p)}}}}}(t,n),function rf(t,n){const s=t.cleanup,c=n[Bs];if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const C=s[p+3];C>=0?c[C]():c[-C].unsubscribe(),p+=2}else s[p].call(c[s[p+1]]);null!==c&&(n[Bs]=null);const f=n[Vn];if(null!==f){n[Vn]=null;for(let p=0;p<f.length;p++)(0,f[p])()}}(t,n),1===n[wn].type&&n[dr].destroy();const s=n[De];if(null!==s&&Vr(n[pr])){s!==n[pr]&&nf(s,n);const c=n[it];null!==c&&c.detachView(t)}!function ly(t){Qd.delete(t[bt])}(n)}}function Ai(t,n,s){return function Qm(t,n,s){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return s[pi];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:p}=t.data[c.directiveStart+f];if(p===vn.None||p===vn.Emulated)return null}return co(c,s)}}(t,n.parent,s)}function rd(t,n,s,c,f){t.insertBefore(n,s,c,f)}function fp(t,n,s){t.appendChild(n,s)}function Jm(t,n,s,c,f){null!==c?rd(t,n,s,c,f):fp(t,n,s)}function ih(t,n){return t.parentNode(n)}let jg,fl,Kg,Cp,mp=function Zm(t,n,s){return 40&t.type?co(t,s):null};function yp(t,n,s,c){const f=Ai(t,c,n),p=n[dr],A=function gp(t,n,s){return mp(t,n,s)}(c.parent||n[zi],c,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)Jm(p,f,s[R],A,!1);else Jm(p,f,s,A,!1);void 0!==jg&&jg(p,c,n,s,f)}function id(t,n){if(null!==n){const s=n.type;if(3&s)return co(n,t);if(4&s)return sf(-1,t[n.index]);if(8&s){const c=n.child;if(null!==c)return id(t,c);{const f=t[n.index];return Vr(f)?sf(-1,f):Lr(f)}}if(32&s)return ql(n,t)()||Lr(t[n.index]);{const c=Bg(t,n);return null!==c?Array.isArray(c)?c[0]:id(td(t[Q]),c):id(t,n.next)}}return null}function Bg(t,n){return null!==n?t[Q][zi].projection[n.projection]:null}function sf(t,n){const s=Fr+t+1;if(s<n.length){const c=n[s],f=c[wn].firstChild;if(null!==f)return id(c,f)}return n[ci]}function cf(t,n,s,c,f,p,C){for(;null!=s;){const A=c[s.index],R=s.type;if(C&&0===n&&(A&&xo(Lr(A),c),s.flags|=2),32!=(32&s.flags))if(8&R)cf(t,n,s.child,c,f,p,!1),na(n,t,f,A,p);else if(32&R){const H=ql(s,c);let se;for(;se=H();)na(n,t,f,se,p);na(n,t,f,A,p)}else 16&R?t_(t,n,c,s,f,p):na(n,t,f,A,p);s=C?s.projectionNext:s.next}}function lf(t,n,s,c,f,p){cf(s,c,t.firstChild,n,f,p,!1)}function t_(t,n,s,c,f,p){const C=s[Q],R=C[zi].projection[c.projection];if(Array.isArray(R))for(let H=0;H<R.length;H++)na(n,t,f,R[H],p);else{let H=R;const se=C[pr];Jh(c)&&(H.flags|=128),cf(t,n,H,se,f,p,!0)}}function vp(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Ep(t,n,s){const{mergedAttrs:c,classes:f,styles:p}=s;null!==c&&ur(t,n,c),null!==f&&vp(t,n,f),null!==p&&function Hg(t,n,s){t.setAttribute(n,"style",s)}(t,n,p)}function Ql(t){return function bp(){if(void 0===fl&&(fl=null,Zn.trustedTypes))try{fl=Zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fl}()?.createHTML(t)||t}function qg(t){Kg=t}function sh(){if(void 0!==Kg)return Kg;if(typeof document<"u")return document;throw new pe(210,!1)}function uf(){if(void 0===Cp&&(Cp=null,Zn.trustedTypes))try{Cp=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cp}function n_(t){return uf()?.createHTML(t)||t}function r_(t){return uf()?.createScriptURL(t)||t}class pl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}class my extends pl{getTypeName(){return"HTML"}}class Yg extends pl{getTypeName(){return"Style"}}class i_ extends pl{getTypeName(){return"Script"}}class Xg extends pl{getTypeName(){return"URL"}}class s_ extends pl{getTypeName(){return"ResourceURL"}}function gl(t){return t instanceof pl?t.changingThisBreaksApplicationSecurity:t}function oh(t,n){const s=function Ip(t){return t instanceof pl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${ze})`)}return s===n}function _y(t){return new my(t)}function wp(t){return new Yg(t)}function Ap(t){return new i_(t)}function Dp(t){return new Xg(t)}function yy(t){return new s_(t)}class vy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Ql(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Qg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=Ql(n),s}}const ah=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function df(t){return(t=String(t)).match(ah)?t:"unsafe:"+t}function Ea(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function hf(...t){const n={};for(const s of t)for(const c in s)s.hasOwnProperty(c)&&(n[c]=!0);return n}const a_=Ea("area,br,col,hr,img,wbr"),c_=Ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),l_=Ea("rp,rt"),ff=hf(a_,hf(c_,Ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hf(l_,Ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hf(l_,c_)),pf=Ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ml=hf(pf,Ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gf=Ea("script,style,template");class _l{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!ff.hasOwnProperty(s))return this.sanitizedSomething=!0,!gf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=n.attributes;for(let f=0;f<c.length;f++){const p=c.item(f),C=p.name,A=C.toLowerCase();if(!ml.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=p.value;pf[A]&&(R=df(R)),this.buf.push(" ",C,'="',Jg(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();ff.hasOwnProperty(s)&&!a_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Jg(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const mf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lh=/([^\#-~ |!])/g;function Jg(t){return t.replace(/&/g,"&amp;").replace(mf,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(lh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yl;function _f(t,n){let s=null;try{yl=yl||function sd(t){const n=new Qg(t);return function o_(){try{return!!(new window.DOMParser).parseFromString(Ql(""),"text/html")}catch{return!1}}()?new vy(n):n}(t);let c=n?String(n):"";s=yl.getInertBodyElement(c);let f=5,p=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=p,p=s.innerHTML,s=yl.getInertBodyElement(c)}while(c!==p);return Ql((new _l).sanitizeChildren(Zg(s)||s))}finally{if(s){const c=Zg(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Zg(t){return"content"in t&&function by(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var od=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(od||{});function em(t){const n=uh();return n?n_(n.sanitize(od.HTML,t)||""):oh(t,"HTML")?n_(gl(t)):_f(sh(),ke(t))}function Sp(t){const n=uh();return n?n.sanitize(od.URL,t)||"":oh(t,"URL")?gl(t):df(ke(t))}function f_(t){const n=uh();if(n)return r_(n.sanitize(od.RESOURCE_URL,t)||"");if(oh(t,"ResourceURL"))return r_(gl(t));throw new pe(904,!1)}function p_(t,n,s){return function Ay(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?f_:Sp}(n,s)(t)}function uh(){const t=Zt();return t&&t[Os].sanitizer}const ad=new bn("ENVIRONMENT_INITIALIZER"),xp=new bn("INJECTOR",-1),qc=new bn("INJECTOR_DEF_TYPES");class Xs{get(n,s=qn){if(s===qn){const c=new Error(`NullInjectorError: No provider for ${be(n)}!`);throw c.name="NullInjectorError",c}return s}}function yc(t){return{\u0275providers:t}}function ui(...t){return{\u0275providers:g_(0,t),\u0275fromNgModule:!0}}function g_(t,...n){const s=[],c=new Set;let f;const p=C=>{s.push(C)};return Uc(n,C=>{const A=C;Yc(A,p,[],c)&&(f||=[],f.push(A))}),void 0!==f&&tm(f,p),s}function tm(t,n){for(let s=0;s<t.length;s++){const{ngModule:c,providers:f}=t[s];uo(f,p=>{n(p,c)})}}function Yc(t,n,s,c){if(!(t=ht(t)))return!1;let f=null,p=Dr(t);const C=!p&&kr(t);if(p||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(p=Dr(R),!p)return!1;f=R}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const H of R)Yc(H,n,s,c)}}else{if(!p)return!1;{if(null!=p.imports&&!A){let H;c.add(f);try{Uc(p.imports,se=>{Yc(se,n,s,c)&&(H||=[],H.push(se))})}finally{}void 0!==H&&tm(H,n)}if(!A){const H=Gs(f)||(()=>new f);n({provide:f,useFactory:H,deps:un},f),n({provide:qc,useValue:f,multi:!0},f),n({provide:ad,useValue:()=>Mt(f),multi:!0},f)}const R=p.providers;if(null!=R&&!A){const H=t;uo(R,se=>{n(se,H)})}}}return f!==t&&void 0!==t.providers}function uo(t,n){for(let s of t)Nt(s)&&(s=s.\u0275providers),Array.isArray(s)?uo(s,n):n(s)}const Vs=z({provide:String,useValue:z});function Qa(t){return null!==t&&"object"==typeof t&&Vs in t}function cd(t){return"function"==typeof t}const yf=new bn("Set Injector scope."),Pp={},__={};let y_;function nm(){return void 0===y_&&(y_=new Xs),y_}class Ri{}class Mp extends Ri{get destroyed(){return this._destroyed}constructor(n,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(n,C=>this.processProvider(C)),this.records.set(xp,Zl(void 0,this)),f.has("environment")&&this.records.set(Ri,Zl(void 0,this));const p=this.records.get(yf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(qc.multi,un,Dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=ge(this),c=qr(void 0);try{return n()}finally{ge(s),qr(c)}}get(n,s=qn,c=Dn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_n))return n[_n](this);c=Rn(c);const p=ge(this),C=qr(void 0);try{if(!(c&Dn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const H=function Py(t){return"function"==typeof t||"object"==typeof t&&t instanceof bn}(n)&&er(n);R=H&&this.injectableDefInScope(H)?Zl(v_(n),Pp):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(c&Dn.Self?nm():this.parent).get(n,s=c&Dn.Optional&&s===qn?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[vr]=A[vr]||[]).unshift(be(n)),p)throw A;return function $e(t,n,s,c){const f=t[vr];throw n[M]&&f.unshift(n[M]),t.message=function Ot(t,n,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=be(n);if(Array.isArray(n))f=n.map(be).join(" -> ");else if("object"==typeof n){let p=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];p.push(C+":"+("string"==typeof A?JSON.stringify(A):be(A)))}f=`{${p.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${t.replace(Ct,"\n  ")}`}("\n"+t.message,f,s,c),t.ngTokenPath=f,t[vr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{qr(C),ge(p)}}resolveInjectorInitializers(){const n=ge(this),s=qr(void 0);try{const f=this.get(ad.multi,un,Dn.Self);for(const p of f)p()}finally{ge(n),qr(s)}}toString(){const n=[],s=this.records;for(const c of s.keys())n.push(be(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(n){let s=cd(n=ht(n))?n:ht(n&&n.provide);const c=function rm(t){return Qa(t)?Zl(void 0,t.useValue):Zl(Rp(t),Pp)}(n);if(cd(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=Zl(void 0,Pp,!0),f.factory=()=>Er(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,c)}hydrate(n,s){return s.value===Pp&&(s.value=__,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Op(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=ht(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function v_(t){const n=er(t),s=null!==n?n.factory:Gs(t);if(null!==s)return s;if(t instanceof bn)throw new pe(204,!1);if(t instanceof Function)return function Ss(t){const n=t.length;if(n>0)throw function gc(t,n){const s=[];for(let c=0;c<t;c++)s.push(n);return s}(n,"?"),new pe(204,!1);const s=function Ht(t){return t&&(t[yn]||t[ir])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new pe(204,!1)}function Rp(t,n,s){let c;if(cd(t)){const f=ht(t);return Gs(f)||v_(f)}if(Qa(t))c=()=>ht(t.useValue);else if(function xy(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Er(t.deps||[]));else if(function m_(t){return!(!t||!t.useExisting)}(t))c=()=>Mt(ht(t.useExisting));else{const f=ht(t&&(t.useClass||t.provide));if(!function E_(t){return!!t.deps}(t))return Gs(f)||v_(f);c=()=>new f(...Er(t.deps))}return c}function Zl(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function im(t,n){for(const s of t)Array.isArray(s)?im(s,n):s&&Nt(s)?im(s.\u0275providers,n):n(s)}const My=new bn("AppId",{providedIn:"root",factory:()=>$v}),$v="ng",Ry=new bn("Platform Initializer"),b_=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Np=new bn("AnimationModuleType"),Gv=new bn("CSP nonce",{providedIn:"root",factory:()=>sh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(t,n,s)=>null;function eu(t,n,s=!1){return lm(t,n,s)}class Ly{}class dm{}class zv{resolveComponentFactory(n){throw function Lp(t){const n=Error(`No component factory found for ${be(t)}.`);return n.ngComponent=t,n}(n)}}let tu=(()=>{class t{static{this.NULL=new zv}}return t})();function nE(){return Vp(no(),Zt())}function Vp(t,n){return new mh(co(t,n))}let mh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=nE}}return t})();function Wv(t){return t instanceof mh?t.nativeElement:t}class Up{}let Kv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function qv(){const t=Zt(),s=$i(no().index,t);return(Bi(s)?s:t)[dr]}()}}return t})(),fm=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Uy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const jy=new Uy("16.2.12"),If={};function Gy(t,n=null,s=null,c){const f=Hy(t,n,s,c);return f.resolveInjectorInitializers(),f}function Hy(t,n=null,s=null,c,f=new Set){const p=[s||un,ui(t)];return c=c||("object"==typeof t?void 0:be(t)),new Mp(p,n||nm(),c||null,f)}let El=(()=>{class t{static{this.THROW_IF_NOT_FOUND=qn}static{this.NULL=new Xs}static create(s,c){if(Array.isArray(s))return Gy({name:""},c,s,"");{const f=s.name??"";return Gy({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=hn({token:t,providedIn:"any",factory:()=>Mt(xp)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function nu(t){return t.ngOriginalError}class Ec{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&nu(n);for(;s&&nu(s);)s=nu(s);return s||null}}function Cl(t){return n=>{setTimeout(t,void 0,n)}}const Tl=class Zv extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,c){let f=n,p=s||(()=>null),C=c;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),p=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(p=Cl(p),f&&(f=Cl(f)),C&&(C=Cl(C)));const A=super.subscribe({next:f,error:p,complete:C});return n instanceof oe.yU&&n.add(A),A}};function zy(...t){}class Po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tl(!1),this.onMicrotaskEmpty=new Tl(!1),this.onStable=new Tl(!1),this.onError=new Tl(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function e0(){const t="function"==typeof Zn.requestAnimationFrame;let n=Zn[t?"requestAnimationFrame":"setTimeout"],s=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function r0(t){const n=()=>{!function n0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,M_(t),t.isCheckStableRunning=!0,P_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),M_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,p,C,A)=>{if(function o0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,p,C,A);try{return Wy(t),s.invokeTask(f,p,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),_h(t)}},onInvoke:(s,c,f,p,C,A,R)=>{try{return Wy(t),s.invoke(f,p,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),_h(t)}},onHasTask:(s,c,f,p)=>{s.hasTask(f,p),c===f&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,M_(t),P_(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,c,f,p)=>(s.handleError(f,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new pe(909,!1)}run(n,s,c){return this._inner.run(n,s,c)}runTask(n,s,c,f){const p=this._inner,C=p.scheduleEventTask("NgZoneEvent: "+f,n,t0,zy,zy);try{return p.runTask(C,s,c)}finally{p.cancelTask(C)}}runGuarded(n,s,c){return this._inner.runGuarded(n,s,c)}runOutsideAngular(n){return this._outer.run(n)}}const t0={};function P_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function M_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _h(t){t._nesting--,P_(t)}class R_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tl,this.onMicrotaskEmpty=new Tl,this.onStable=new Tl,this.onError=new Tl}run(n,s,c){return n.apply(s,c)}runGuarded(n,s,c){return n.apply(s,c)}runOutsideAngular(n){return n()}runTask(n,s,c,f){return n.apply(s,c)}}const s0=new bn("",{providedIn:"root",factory:Ky});function Ky(){const t=mn(Po);let n=!0;const s=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new r.c(f=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Po.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),C.unsubscribe()}});return(0,ye.h)(s,c.pipe((0,Ce.u)()))}function qy(t){return t.ownerDocument.defaultView}function dd(t){return t instanceof Function?t():t}let Jy=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function zp(t){for(;t;){t[gr]|=64;const n=td(t);if(Ko(t)&&!n)return t;t=n}return null}const Zy=new bn("",{providedIn:"root",factory:()=>!1});let N_=null;function h0(t,n){return t[n]??p0()}function f0(t,n){const s=p0();s.producerNode?.length&&(t[n]=N_,s.lView=t,N_=k_())}const rv={...tl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zp(t.lView)},lView:null};function k_(){return Object.create(rv)}function p0(){return N_??=k_(),N_}const ei={};function g0(t){pm(Br(),Zt(),Rr()+t,!1)}function pm(t,n,s,c){if(!c)if(3==(3&n[gr])){const p=t.preOrderCheckHooks;null!==p&&hc(n,p,s)}else{const p=t.preOrderHooks;null!==p&&Mu(n,p,0,s)}Yr(s)}function iu(t,n=Dn.Default){const s=Zt();return null===s?Mt(t,n):$l(no(),s,ht(t),n)}function d(){throw new Error("invalid")}function i(t,n,s,c,f,p,C,A,R,H,se){const Ie=n.blueprint.slice();return Ie[pi]=f,Ie[gr]=140|c,(null!==H||t&&2048&t[gr])&&(Ie[gr]|=2048),$a(Ie),Ie[pr]=Ie[Z]=t,Ie[ai]=s,Ie[Os]=C||t&&t[Os],Ie[dr]=A||t&&t[dr],Ie[ss]=R||t&&t[ss]||null,Ie[zi]=p,Ie[bt]=function Kl(){return Wm++}(),Ie[An]=se,Ie[an]=H,Ie[Q]=2==n.type?t[Q]:Ie,Ie}function a(t,n,s,c,f){let p=t.data[n];if(null===p)p=function h(t,n,s,c,f){const p=xa(),C=al(),R=t.data[n]=function nr(t,n,s,c,f,p){let C=n?n.injectorIndex:-1,A=0;return function fa(){return null!==wr.skipHydrationRootTNode}()&&(A|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?p:p&&p.parent,s,n,c,f);return null===t.firstChild&&(t.firstChild=R),null!==p&&(C?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(t,n,s,c,f),function Pd(){return wr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=c,p.attrs=f;const C=function Sc(){const t=wr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===C?-1:C.injectorIndex}return jo(p,!0),p}function _(t,n,s,c){if(0===s)return-1;const f=n.length;for(let p=0;p<s;p++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,s,c,f){const p=h0(n,hr),C=Rr(),A=2&c;try{Yr(-1),A&&n.length>Xn&&pm(t,n,Xn,!1),bs(A?2:0,f);const H=A?p:null,se=Da(H);try{null!==H&&(H.dirty=!1),s(c,f)}finally{en(H,se)}}finally{A&&null===n[hr]&&f0(n,hr),Yr(C),bs(A?3:1,f)}}function x(t,n,s){if(Io(n)){const c=ts(null);try{const p=n.directiveEnd;for(let C=n.directiveStart;C<p;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{ts(c)}}}function L(t,n,s){Vl()&&(function m0(t,n,s,c){const f=s.directiveStart,p=s.directiveEnd;fs(s)&&function Yp(t,n,s){const c=co(n,t),f=le(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Hi(t,i(t,f,null,C,c,n,null,t[Os].rendererFactory.createRenderer(c,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ll(s,n),xo(c,n);const C=s.initialInputs;for(let A=f;A<p;A++){const R=t.data[A],H=qs(n,t,A,s);xo(H,n),null!==C&&v0(0,A-f,H,R,0,C),eo(R)&&($i(s.index,n)[ai]=qs(n,t,A,s))}}(t,n,s,co(s,n)),64==(64&s.flags)&&Sf(t,n,s))}function K(t,n,s=co){const c=n.localNames;if(null!==c){let f=n.index+1;for(let p=0;p<c.length;p+=2){const C=c[p+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function le(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=_e(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function _e(t,n,s,c,f,p,C,A,R,H,se){const Ie=Xn+c,rt=Ie+f,pt=function We(t,n){const s=[];for(let c=0;c<n;c++)s.push(c<t?null:ei);return s}(Ie,rt),Gt="function"==typeof H?H():H;return pt[wn]={type:t,blueprint:pt,template:s,queries:null,viewQuery:A,declTNode:n,data:pt.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:rt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Gt,incompleteFirstPass:!1,ssrId:se}}let En=t=>null;function $r(t,n,s,c){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const p=t[f];null===c?Ui(s,n,f,p):c.hasOwnProperty(f)&&Ui(s,n,c[f],p)}return s}function Ui(t,n,s,c){t.hasOwnProperty(s)?t[s].push(n,c):t[s]=[n,c]}function Ve(t,n,s,c,f,p,C,A){const R=co(n,s);let se,H=n.inputs;!A&&null!=H&&(se=H[c])?(Jp(t,s,se,c,f),fs(n)&&function Qe(t,n){const s=$i(n,t);16&s[gr]||(s[gr]|=64)}(s,n.index)):3&n.type&&(c=function dt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,n.value||"",c):f,p.setProperty(R,c,f))}function xt(t,n,s,c){if(Vl()){const f=null===c?null:{"":-1},p=function F_(t,n){const s=t.directiveRegistry;let c=null,f=null;if(s)for(let p=0;p<s.length;p++){const C=s[p];if(qi(n,C.selectors,!1))if(c||(c=[]),eo(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),gm(t,n,A.length)}else c.unshift(C),gm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,s);let C,A;null===p?C=A=null:[C,A]=p,null!==C&&qe(t,n,s,C,f,A),f&&function _0(t,n,s){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const p=s[n[f+1]];if(null==p)throw new pe(-301,!1);c.push(n[f],p)}}}(s,c,f)}s.mergedAttrs=Ee(s.mergedAttrs,s.attrs)}function qe(t,n,s,c,f,p){for(let H=0;H<c.length;H++)Oc(ll(s,n),t,c[H].type);!function ra(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,c.length);for(let H=0;H<c.length;H++){const se=c[H];se.providersResolver&&se.providersResolver(se)}let C=!1,A=!1,R=_(t,n,c.length,null);for(let H=0;H<c.length;H++){const se=c[H];s.mergedAttrs=Ee(s.mergedAttrs,se.hostAttrs),y0(t,s,n,R,se),ou(R,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const Ie=se.type.prototype;!C&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function mi(t,n,s){const f=n.directiveEnd,p=t.data,C=n.attrs,A=[];let R=null,H=null;for(let se=n.directiveStart;se<f;se++){const Ie=p[se],rt=s?s.get(Ie):null,Gt=rt?rt.outputs:null;R=$r(Ie.inputs,se,R,rt?rt.inputs:null),H=$r(Ie.outputs,se,H,Gt);const Cn=null===R||null===C||kt(n)?null:mm(R,se,C);A.push(Cn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=H}(t,s,p)}function Sf(t,n,s){const c=s.directiveStart,f=s.directiveEnd,p=s.index,C=function Bl(){return wr.lFrame.currentDirectiveIndex}();try{Yr(p);for(let A=c;A<f;A++){const R=t.data[A],H=n[A];xu(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&qp(R,H)}}finally{Yr(-1),xu(C)}}function qp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function gm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function ou(t,n,s){if(s){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)s[n.exportAs[c]]=t;eo(n)&&(s[""]=t)}}function y0(t,n,s,c,f){t.data[c]=f;const p=f.factory||(f.factory=Gs(f.type)),C=new _a(p,eo(f),iu);t.blueprint[c]=C,s[c]=C,function su(t,n,s,c,f){const p=f.hostBindings;if(p){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Kp(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,c,p)}}(t,n,c,_(t,s,f.hostVars,ei),f)}function Il(t,n,s,c,f,p){const C=co(t,n);!function yh(t,n,s,c,f,p,C){if(null==p)t.removeAttribute(n,f,s);else{const A=null==C?ke(p):C(p,c||"",f);t.setAttribute(n,f,A,s)}}(n[dr],C,p,t.value,s,c,f)}function v0(t,n,s,c,f,p){const C=p[n];if(null!==C)for(let A=0;A<C.length;)iv(c,s,C[A++],C[A++],C[A++])}function iv(t,n,s,c,f){const p=ts(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(n,f)),null!==t.setInput?t.setInput(n,f,s,c):n[c]=f}finally{ts(p)}}function mm(t,n,s){let c=null,f=0;for(;f<s.length;){const p=s[f];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===c&&(c=[]);const C=t[p];for(let A=0;A<C.length;A+=2)if(C[A]===n){c.push(p,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function xf(t,n,s,c){return[t,!0,!1,n,null,0,c,s,null,null,null]}function Xp(t,n){const s=t.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const p=s[c+1];if(-1!==p){const C=t.data[p];D(s[c]),C.contentQueries(2,n[p],p)}}}function Hi(t,n){return t[vs]?t[$s][is]=n:t[vs]=n,t[$s]=n,n}function Qp(t,n,s){D(0);const c=ts(null);try{n(t,s)}finally{ts(c)}}function ym(t){return t[Bs]||(t[Bs]=[])}function vm(t){return t.cleanup||(t.cleanup=[])}function Em(t,n){const s=t[ss],c=s?s.get(Ec,null):null;c&&c.handleError(n)}function Jp(t,n,s,c,f){for(let p=0;p<s.length;){const C=s[p++],A=s[p++];iv(t.data[C],n[C],c,A,f)}}function bc(t,n,s){const c=Ac(n,t);!function lp(t,n,s){t.setValue(n,s)}(t[dr],c,s)}function V_(t,n){const s=$i(n,t),c=s[wn];!function sv(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(c,s);const f=s[pi];null!==f&&null===s[An]&&(s[An]=eu(f,s[ss])),Pf(c,s,s[ai])}function Pf(t,n,s){N(n);try{const c=t.viewQuery;null!==c&&Qp(1,c,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xp(t,n),t.staticViewQueries&&Qp(2,t.viewQuery,s);const p=t.components;null!==p&&function bm(t,n){for(let s=0;s<n.length;s++)V_(t,n[s])}(n,p)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[gr]&=-5,vt()}}let Cm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,c,f){const p=typeof Zone>"u"?null:Zone.current,C=function $t(t,n,s){const c=Object.create(oi);s&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>ws(c),run:()=>{if(c.dirty=!1,c.hasRun&&!nc(c))return;c.hasRun=!0;const C=Da(c);try{c.cleanupFn(),c.cleanupFn=$n,c.fn(f)}finally{en(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(s,H=>{this.all.has(H)&&this.queue.set(H,p)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=hn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function mo(t,n,s){let c=s?t.styles:null,f=s?t.classes:null,p=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?p=A:1==p?f=at(f,A):2==p&&(c=at(c,A+": "+n[++C]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=f:t.classesWithoutHost=f}function au(t,n,s,c,f=!1){for(;null!==s;){const p=n[s.index];null!==p&&c.push(Lr(p)),Vr(p)&&Tm(p,c);const C=s.type;if(8&C)au(t,n,s.child,c);else if(32&C){const A=ql(s,n);let R;for(;R=A();)c.push(R)}else if(16&C){const A=Bg(n,s);if(Array.isArray(A))c.push(...A);else{const R=td(n[Q]);au(R[wn],R,A,c,!0)}}s=f?s.projectionNext:s.next}return c}function Tm(t,n){for(let s=Fr;s<t.length;s++){const c=t[s],f=c[wn].firstChild;null!==f&&au(c[wn],c,f,n)}t[ci]!==t[pi]&&n.push(t[ci])}function Mf(t,n,s,c=!0){const f=n[Os],p=f.rendererFactory,C=f.afterRenderEventManager;p.begin?.(),C?.begin();try{Im(t,n,t.template,s)}catch(R){throw c&&Em(n,R),R}finally{p.end?.(),f.effectManager?.flush(),C?.end()}}function Im(t,n,s,c){const f=n[gr];if(256!=(256&f)){n[Os].effectManager?.flush(),N(n);try{$a(n),function Ga(t){return wr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,c);const C=3==(3&f);if(C){const H=t.preOrderCheckHooks;null!==H&&hc(n,H,null)}else{const H=t.preOrderHooks;null!==H&&Mu(n,H,0,null),Ru(n,0)}if(function Am(t){for(let n=nd(t);null!==n;n=Rg(n)){if(!n[Ii])continue;const s=n[es];for(let c=0;c<s.length;c++){sl(s[c])}}}(n),wm(n,2),null!==t.contentQueries&&Xp(t,n),C){const H=t.contentCheckHooks;null!==H&&hc(n,H)}else{const H=t.contentHooks;null!==H&&Mu(n,H,1),Ru(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const c=h0(n,jr);try{for(let f=0;f<s.length;f++){const p=s[f];if(p<0)Yr(~p);else{const C=p,A=s[++f],R=s[++f];qf(A,C),c.dirty=!1;const H=Da(c);try{R(2,n[C])}finally{en(c,H)}}}}finally{null===n[jr]&&f0(n,jr),Yr(-1)}}(t,n);const A=t.components;null!==A&&Zp(n,A,0);const R=t.viewQuery;if(null!==R&&Qp(2,R,c),C){const H=t.viewCheckHooks;null!==H&&hc(n,H)}else{const H=t.viewHooks;null!==H&&Mu(n,H,2),Ru(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[gr]&=-73,wd(n)}finally{vt()}}}function wm(t,n){for(let s=nd(t);null!==s;s=Rg(s))for(let c=Fr;c<s.length;c++)U_(s[c],n)}function ov(t,n,s){U_($i(n,t),s)}function U_(t,n){if(!function il(t){return 128==(128&t[gr])}(t))return;const s=t[wn],c=t[gr];if(80&c&&0===n||1024&c||2===n)Im(s,t,s.template,t[ai]);else if(t[hs]>0){wm(t,1);const f=s.components;null!==f&&Zp(t,f,1)}}function Zp(t,n,s){for(let c=0;c<n.length;c++)ov(t,n[c],s)}class vh{get rootNodes(){const n=this._lView,s=n[wn];return au(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(n){this._lView[ai]=n}get destroyed(){return 256==(256&this._lView[gr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[pr];if(Vr(n)){const s=n[8],c=s?s.indexOf(this):-1;c>-1&&(Xl(n,c),jc(s,c))}this._attachedToViewContainer=!1}dp(this._lView[wn],this._lView)}onDestroy(n){!function Iu(t,n){if(256==(256&t[gr]))throw new pe(911,!1);null===t[Vn]&&(t[Vn]=[]),t[Vn].push(n)}(this._lView,n)}markForCheck(){zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[gr]&=-129}reattach(){this._lView[gr]|=128}detectChanges(){Mf(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ym(t,n){lf(t,n,n[dr],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=n}}class j_ extends vh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Mf(n[wn],n,n[ai],!1)}checkNoChanges(){}get context(){return null}}class Eh extends tu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=kr(n);return new bh(s,this.ngModule)}}function eg(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class hd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,c){c=Rn(c);const f=this.injector.get(n,If,c);return f!==If||s===If?f:this.parentInjector.get(n,s,c)}}class bh extends dm{get inputs(){const n=this.componentDef,s=n.inputTransforms,c=eg(n.inputs);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return eg(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Ti(t){return t.map(ko).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,c,f){let p=(f=f||this.ngModule)instanceof Ri?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const C=p?new hd(n,p):n,A=C.get(Up,null);if(null===A)throw new pe(407,!1);const Ie={rendererFactory:A,sanitizer:C.get(fm,null),effectManager:C.get(Cm,null),afterRenderEventManager:C.get(Jy,null)},rt=A.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Gt=c?function wt(t,n,s,c){const p=c.get(Zy,!1)||s===vn.ShadowDom,C=t.selectRootElement(n,p);return function qt(t){En(t)}(C),C}(rt,c,this.componentDef.encapsulation,C):up(rt,pt,function Dm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(pt)),Cr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let on=null;null!==Gt&&(on=eu(Gt,C,!0));const Jr=_e(0,null,null,1,0,null,null,null,null,null,null),xi=i(null,Jr,null,Cr,null,null,Ie,rt,C,null,on);let _s,el;N(xi);try{const Kf=this.componentDef;let iy,rb=null;Kf.findHostDirectiveDefs?(iy=[],rb=new Map,Kf.findHostDirectiveDefs(Kf,iy,rb),iy.push(Kf)):iy=[Kf];const Yw=function B_(t,n){const s=t[wn],c=Xn;return t[c]=n,a(s,c,2,"#host",null)}(xi,Gt),Xw=function ng(t,n,s,c,f,p,C){const A=f[wn];!function $_(t,n,s,c){for(const f of t)n.mergedAttrs=Ee(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(mo(n,n.mergedAttrs,!0),null!==s&&Ep(c,s,n))}(c,t,n,C);let R=null;null!==n&&(R=eu(n,f[ss]));const H=p.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const Ie=i(f,le(s),null,se,f[t.index],t,p,H,null,null,R);return A.firstCreatePass&&gm(A,t,c.length-1),Hi(f,Ie),f[t.index]=Ie}(Yw,Gt,Kf,iy,xi,Ie,rt);el=cc(Jr,Xn),Gt&&function wl(t,n,s,c){if(c)ur(t,s,["ng-version",jy.full]);else{const{attrs:f,classes:p}=function wa(t){const n=[],s=[];let c=1,f=2;for(;c<t.length;){let p=t[c];if("string"==typeof p)2===f?""!==p&&n.push(p,t[++c]):8===f&&s.push(p);else{if(!Tr(f))break;f=p}c++}return{attrs:n,classes:s}}(n.selectors[0]);f&&ur(t,s,f),p&&p.length>0&&vp(t,s,p.join(" "))}}(rt,Kf,Gt,c),void 0!==s&&function Ch(t,n,s){const c=t.projection=[];for(let f=0;f<n.length;f++){const p=s[f];c.push(null!=p?Array.from(p):null)}}(el,this.ngContentSelectors,s),_s=function ia(t,n,s,c,f,p){const C=no(),A=f[wn],R=co(C,f);qe(A,f,C,s,null,c);for(let se=0;se<s.length;se++)xo(qs(f,A,C.directiveStart+se,C),f);Sf(A,f,C),R&&xo(R,f);const H=qs(f,A,C.directiveStart+C.componentOffset,C);if(t[ai]=f[ai]=H,null!==p)for(const se of p)se(H,n);return x(A,C,t),H}(Xw,Kf,iy,rb,xi,[fd]),Pf(Jr,xi,null)}finally{vt()}return new tg(this.componentType,_s,Vp(el,xi),xi,el)}}class tg extends Ly{constructor(n,s,c,f,p){super(),this.location=c,this._rootLView=f,this._tNode=p,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new j_(f),this.componentType=n}setInput(n,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const p=this._rootLView;Jp(p[wn],p,f,n,s),this.previousInputValues.set(n,s),zp($i(this._tNode.index,p))}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fd(){const t=no();za(Zt()[wn],t)}function Of(t){let n=function rg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;n;){let f;if(eo(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new pe(903,!1);f=n.\u0275dir}if(f){if(s){c.push(f);const C=t;C.inputs=Nf(t.inputs),C.inputTransforms=Nf(t.inputTransforms),C.declaredInputs=Nf(t.declaredInputs),C.outputs=Nf(t.outputs);const A=f.hostBindings;A&&G_(t,A);const R=f.viewQuery,H=f.contentQueries;if(R&&av(t,R),H&&Th(t,H),ne(t.inputs,f.inputs),ne(t.declaredInputs,f.declaredInputs),ne(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ne(C.inputTransforms,f.inputTransforms)),eo(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let C=0;C<p.length;C++){const A=p[C];A&&A.ngInherit&&A(t),A===Of&&(s=!1)}}n=Object.getPrototypeOf(n)}!function _o(t){let n=0,s=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=Ee(f.hostAttrs,s=Ee(s,f.hostAttrs))}}(c)}function Nf(t){return t===cr?{}:t===un?[]:t}function av(t,n){const s=t.viewQuery;t.viewQuery=s?(c,f)=>{n(c,f),s(c,f)}:n}function Th(t,n){const s=t.contentQueries;t.contentQueries=s?(c,f,p)=>{n(c,f,p),s(c,f,p)}:n}function G_(t,n){const s=t.hostBindings;t.hostBindings=s?(c,f)=>{n(c,f),s(c,f)}:n}function og(t){const n=t.inputConfig,s={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(s[c]=f[2])}t.inputTransforms=s}function Ih(t){return!!Ja(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ja(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fa(t,n,s){return t[n]=s}function gd(t,n){return t[n]}function ho(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Wo(t,n,s,c){const f=ho(t,n,s);return ho(t,n+1,c)||f}function lu(t,n,s,c,f){const p=Wo(t,n,s,c);return ho(t,n+2,f)||p}function Mo(t,n,s,c,f,p){const C=Wo(t,n,s,c);return Wo(t,n+2,f,p)||C}function ag(t,n,s,c){const f=Zt();return ho(f,lc(),n)&&(Br(),Il(Ei(),f,t,n,s,c)),ag}function md(t,n,s,c){return ho(t,lc(),s)?n+ke(s)+c:ei}function Ah(t,n,s,c,f,p){const A=Wo(t,function Ks(){return wr.lFrame.bindingIndex}(),s,f);return Do(2),A?n+ke(s)+c+ke(f)+p:ei}function mu(t,n,s,c,f,p,C,A){const R=Zt(),H=Br(),se=t+Xn,Ie=H.firstCreatePass?function Nm(t,n,s,c,f,p,C,A,R){const H=n.consts,se=a(n,t,4,C||null,As(H,A));xt(n,s,se,As(H,R)),za(n,se);const Ie=se.tView=_e(2,se,c,f,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,se),Ie.queries=n.queries.embeddedTView(se)),se}(se,H,R,n,s,c,f,p,C):H.data[se];jo(Ie,!1);const rt=Uf(H,R,Ie,t);uc()&&yp(H,R,rt,Ie),xo(rt,R),Hi(R,R[se]=xf(rt,R,rt,Ie)),io(Ie)&&L(H,R,Ie),null!=C&&K(R,Ie,A)}let Uf=function _u(t,n,s,c){return ma(!0),n[dr].createComment("")};function K_(t){return da(function xd(){return wr.lFrame.contextLView}(),Xn+t)}function Mh(t,n,s){const c=Zt();return ho(c,lc(),n)&&Ve(Br(),Ei(),c,t,n,c[dr],s,!1),Mh}function hg(t,n,s,c,f){const C=f?"class":"style";Jp(t,s,n.inputs[C],C,c)}function Bf(t,n,s,c){const f=Zt(),p=Br(),C=Xn+t,A=f[dr],R=p.firstCreatePass?function Fm(t,n,s,c,f,p){const C=n.consts,R=a(n,t,2,c,As(C,f));return xt(n,s,R,As(C,p)),null!==R.attrs&&mo(R,R.attrs,!1),null!==R.mergedAttrs&&mo(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,p,f,n,s,c):p.data[C],H=fg(p,f,R,A,n,t);f[C]=H;const se=io(R);return jo(R,!0),Ep(A,H,R),32!=(32&R.flags)&&uc()&&yp(p,f,H,R),0===function Sa(){return wr.lFrame.elementDepthCount}()&&xo(H,f),function Ll(){wr.lFrame.elementDepthCount++}(),se&&(L(p,f,R),x(p,R,f)),null!==c&&K(f,R),Bf}function yu(){let t=no();al()?Su():(t=t.parent,jo(t,!1));const n=t;(function Sd(t){return wr.skipHydrationRootTNode===t})(n)&&function Du(){wr.skipHydrationRootTNode=null}(),function Dd(){wr.lFrame.elementDepthCount--}();const s=Br();return s.firstCreatePass&&(za(s,t),Io(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Gh(t){return 0!=(8&t.flags)}(n)&&hg(s,n,Zt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ku(t){return 0!=(16&t.flags)}(n)&&hg(s,n,Zt(),n.stylesWithoutHost,!1),yu}function Rh(t,n,s,c){return Bf(t,n,s,c),yu(),Rh}let fg=(t,n,s,c,f,p)=>(ma(!0),up(c,f,function Pu(){return wr.lFrame.currentNamespace}()));function $f(t,n,s){const c=Zt(),f=Br(),p=t+Xn,C=f.firstCreatePass?function Y_(t,n,s,c,f){const p=n.consts,C=As(p,c),A=a(n,t,8,"ng-container",C);return null!==C&&mo(A,C,!0),xt(n,s,A,As(p,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(p,f,c,n,s):f.data[p];jo(C,!0);const A=Ca(f,c,C,t);return c[p]=A,uc()&&yp(f,c,A,C),xo(A,c),io(C)&&(L(f,c,C),x(f,C,c)),null!=s&&K(c,C),$f}function Gf(){let t=no();const n=Br();return al()?Su():(t=t.parent,jo(t,!1)),n.firstCreatePass&&(za(n,t),Io(t)&&n.queries.elementEnd(t)),Gf}function Nh(t,n,s){return $f(t,n,s),Gf(),Nh}let Ca=(t,n,s,c)=>(ma(!0),Ng(n[dr],""));function Cd(){return Zt()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,c){const f=Zt(),p=Br(),C=no();return function Ft(t,n,s,c,f,p,C){const A=io(c),H=t.firstCreatePass&&vm(t),se=n[ai],Ie=ym(n);let rt=!0;if(3&c.type||C){const Cn=co(c,n),Kn=C?C(Cn):Cn,Cr=Ie.length,on=C?xi=>C(Lr(xi[c.index])):c.index;let Jr=null;if(!C&&A&&(Jr=function yt(t,n,s,c){const f=t.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const C=f[p];if(C===s&&f[p+1]===c){const A=n[Bs],R=f[p+2];return A.length>R?A[R]:null}"string"==typeof C&&(p+=2)}return null}(t,n,f,c.index)),null!==Jr)(Jr.__ngLastListenerFn__||Jr).__ngNextListenerFn__=p,Jr.__ngLastListenerFn__=p,rt=!1;else{p=Yi(c,n,se,p,!1);const xi=s.listen(Kn,f,p);Ie.push(p,xi),H&&H.push(f,on,Cr,Cr+1)}}else p=Yi(c,n,se,p,!1);const pt=c.outputs;let Gt;if(rt&&null!==pt&&(Gt=pt[f])){const Cn=Gt.length;if(Cn)for(let Kn=0;Kn<Cn;Kn+=2){const _s=n[Gt[Kn]][Gt[Kn+1]].subscribe(p),el=Ie.length;Ie.push(p,_s),H&&H.push(f,c.index,el,-(el+1))}}}(p,f,f[dr],C,t,n,c),q}function Nn(t,n,s,c){try{return bs(6,n,s),!1!==s(c)}catch(f){return Em(t,f),!1}finally{bs(7,n,s)}}function Yi(t,n,s,c,f){return function p(C){if(C===Function)return c;zp(t.componentOffset>-1?$i(t.index,n):n);let R=Nn(n,s,c,C),H=p.__ngNextListenerFn__;for(;H;)R=Nn(n,s,H,C)&&R,H=H.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function Eo(t=1){return function xn(t){return(wr.lFrame.contextLView=function Sr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,wr.lFrame.contextLView))[ai]}(t)}function Qc(t,n,s){return Ta(t,"",n,"",s),Qc}function Ta(t,n,s,c,f){const p=Zt(),C=md(p,n,s,c);return C!==ei&&Ve(Br(),Ei(),p,t,C,p[dr],f,!1),Ta}function Um(t,n){return t<<17|n<<2}function Ro(t){return t>>17&32767}function bv(t){return 2|t}function Fh(t){return(131068&t)>>2}function Cv(t,n){return-131069&t|n<<2}function gg(t){return 1|t}function Iv(t,n,s,c,f){const p=t[s+1],C=null===n;let A=c?Ro(p):Fh(p),R=!1;for(;0!==A&&(!1===R||C);){const se=t[A+1];dE(t[A],n)&&(R=!0,t[A+1]=c?gg(se):bv(se)),A=c?Ro(se):Fh(se)}R&&(t[s+1]=c?bv(p):gg(p))}function dE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&mc(t,n)>=0}const Oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function D0(t){return t.substring(Oo.key,Oo.keyEnd)}function jm(t,n){const s=Oo.textEnd;return s===n?-1:(n=Oo.keyEnd=function fE(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Oo.key=n,s),mg(t,n,s))}function mg(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Bm(t,n,s){return Tc(t,n,s,!1),Bm}function Q_(t,n){return Tc(t,n,null,!0),Q_}function _E(t){!function Pl(t,n,s,c){const f=Br(),p=Do(2);f.firstUpdatePass&&yE(f,null,p,c);const C=Zt();if(s!==ei&&ho(C,p,s)){const A=f.data[Rr()];if(Sn(A,c)&&!O0(f,p)){let R=c?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=at(R,s||"")),hg(f,A,C,s,c)}else!function Le(t,n,s,c,f,p,C,A){f===ei&&(f=un);let R=0,H=0,se=0<f.length?f[0]:null,Ie=0<p.length?p[0]:null;for(;null!==se||null!==Ie;){const rt=R<f.length?f[R+1]:void 0,pt=H<p.length?p[H+1]:void 0;let Cn,Gt=null;se===Ie?(R+=2,H+=2,rt!==pt&&(Gt=Ie,Cn=pt)):null===Ie||null!==se&&se<Ie?(R+=2,Gt=se):(H+=2,Gt=Ie,Cn=pt),null!==Gt&&ct(t,n,s,c,Gt,Cn,C,A),se=R<f.length?f[R]:null,Ie=H<p.length?p[H]:null}}(f,A,C,C[dr],C[p+1],C[p+1]=function B(t,n,s){if(null==s||""===s)return un;const c=[],f=gl(s);if(Array.isArray(f))for(let p=0;p<f.length;p++)t(c,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&t(c,p,f[p]);else"string"==typeof f&&n(c,f);return c}(t,n,s),c,p)}}(de,Td,t,!0)}function Td(t,n){for(let s=function S0(t){return function wv(t){Oo.key=0,Oo.keyEnd=0,Oo.value=0,Oo.valueEnd=0,Oo.textEnd=t.length}(t),jm(t,mg(t,0,Oo.textEnd))}(n);s>=0;s=jm(n,s))ea(t,D0(n),!0)}function Tc(t,n,s,c){const f=Zt(),p=Br(),C=Do(2);p.firstUpdatePass&&yE(p,t,C,c),n!==ei&&ho(f,C,n)&&ct(p,p.data[Rr()],f,f[dr],t,f[C+1]=function Wn(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=be(gl(t)))),t}(n,s),c,C)}function O0(t,n){return n>=t.expandoStartIndex}function yE(t,n,s,c){const f=t.data;if(null===f[s+1]){const p=f[Rr()],C=O0(t,s);Sn(p,c)&&null===n&&!C&&(n=!1),n=function vE(t,n,s,c){const f=function Ma(t){const n=wr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(s=T(s=y(null,t,n,s,c),n.attrs,c),p=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=y(f,t,n,s,c),null===p){let R=function g(t,n,s){const c=s?n.classBindings:n.styleBindings;if(0!==Fh(c))return t[Ro(c)]}(t,n,c);void 0!==R&&Array.isArray(R)&&(R=y(null,t,n,R[1],c),R=T(R,n.attrs,c),function u(t,n,s,c){t[Ro(s?n.classBindings:n.styleBindings)]=c}(t,n,c,R))}else p=function l(t,n,s){let c;const f=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<f;p++)c=T(c,t[p].hostAttrs,s);return T(c,n.attrs,s)}(t,n,c)}return void 0!==p&&(c?n.residualClasses=p:n.residualStyles=p),s}(f,p,n,c),function Tv(t,n,s,c,f,p){let C=p?n.classBindings:n.styleBindings,A=Ro(C),R=Fh(C);t[c]=s;let se,H=!1;if(Array.isArray(s)?(se=s[1],(null===se||mc(s,se)>0)&&(H=!0)):se=s,f)if(0!==R){const rt=Ro(t[A+1]);t[c+1]=Um(rt,A),0!==rt&&(t[rt+1]=Cv(t[rt+1],c)),t[A+1]=function lE(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=Um(A,0),0!==A&&(t[A+1]=Cv(t[A+1],c)),A=c;else t[c+1]=Um(R,0),0===A?A=c:t[R+1]=Cv(t[R+1],c),R=c;H&&(t[c+1]=bv(t[c+1])),Iv(t,se,c,!0),Iv(t,se,c,!1),function uE(t,n,s,c,f){const p=f?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&mc(p,n)>=0&&(s[c+1]=gg(s[c+1]))}(n,se,t,c,p),C=Um(A,R),p?n.classBindings=C:n.styleBindings=C}(f,p,n,s,C,c)}}function y(t,n,s,c,f){let p=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(p=n[A],c=T(c,p.hostAttrs,f),p!==t);)A++;return null!==t&&(s.directiveStylingLast=A),c}function T(t,n,s){const c=s?1:2;let f=-1;if(null!==n)for(let p=0;p<n.length;p++){const C=n[p];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ea(t,C,!!s||n[++p]))}return void 0===t?null:t}function de(t,n,s){const c=String(n);""!==c&&!c.includes(" ")&&ea(t,c,s)}function ct(t,n,s,c,f,p,C,A){if(!(3&n.type))return;const R=t.data,H=R[A+1],se=function A0(t){return 1==(1&t)}(H)?Tt(R,n,s,f,Fh(H),C):void 0;tn(se)||(tn(p)||function pg(t){return 2==(2&t)}(H)&&(p=Tt(R,null,s,f,A,C)),function py(t,n,s,c,f){if(n)f?t.addClass(s,c):t.removeClass(s,c);else{let p=-1===c.indexOf("-")?void 0:Xd.DashCase;null==f?t.removeStyle(s,c,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=Xd.Important),t.setStyle(s,c,f,p))}}(c,C,Ac(Rr(),s),f,p))}function Tt(t,n,s,c,f,p){const C=null===n;let A;for(;f>0;){const R=t[f],H=Array.isArray(R),se=H?R[1]:R,Ie=null===se;let rt=s[f+1];rt===ei&&(rt=Ie?un:void 0);let pt=Ie?Bd(rt,c):se===c?rt:void 0;if(H&&!tn(pt)&&(pt=Bd(R,c)),tn(pt)&&(A=pt,C))return A;const Gt=t[f+1];f=C?Ro(Gt):Fh(Gt)}if(null!==n){let R=p?n.residualClasses:n.residualStyles;null!=R&&(A=Bd(R,c))}return A}function tn(t){return void 0!==t}function Sn(t,n){return 0!=(t.flags&(n?8:16))}function Fn(t,n=""){const s=Zt(),c=Br(),f=t+Xn,p=c.firstCreatePass?a(c,f,1,n,null):c.data[f],C=On(c,s,p,n,t);s[f]=C,uc()&&yp(c,s,C,p),jo(p,!1)}let On=(t,n,s,c,f)=>(ma(!0),function rh(t,n){return t.createText(n)}(n[dr],c));function di(t){return bi("",t,""),di}function bi(t,n,s){const c=Zt(),f=md(c,t,n,s);return f!==ei&&bc(c,Rr(),f),bi}function Ar(t,n,s,c,f){const p=Zt(),C=Ah(p,t,n,s,c,f);return C!==ei&&bc(p,Rr(),C),Ar}const Cu=void 0;var j0=["en",[["a","p"],["AM","PM"],Cu],[["AM","PM"],Cu,Cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cu,"{1} 'at' {0}",Cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function U0(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Uh={};function J_(t){const n=function PT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=db(n);if(s)return s;const c=n.split("-")[0];if(s=db(c),s)return s;if("en"===c)return j0;throw new pe(701,!1)}function xv(t){return J_(t)[Z_.PluralCase]}function db(t){return t in Uh||(Uh[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),Uh[t]}var Z_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Z_||{});const ey="en-US";let hb=ey;function IE(t,n,s,c,f){if(t=ht(t),Array.isArray(t))for(let p=0;p<t.length;p++)IE(t[p],n,s,c,f);else{const p=Br(),C=Zt(),A=no();let R=cd(t)?t:ht(t.provide);const H=Rp(t),se=1048575&A.providerIndexes,Ie=A.directiveStart,rt=A.providerIndexes>>20;if(cd(t)||!t.multi){const pt=new _a(H,f,iu),Gt=AE(R,n,f?se:se+rt,Ie);-1===Gt?(Oc(ll(A,C),p,R),wE(p,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(pt),C.push(pt)):(s[Gt]=pt,C[Gt]=pt)}else{const pt=AE(R,n,se+rt,Ie),Gt=AE(R,n,se,se+rt),Kn=Gt>=0&&s[Gt];if(f&&!Kn||!f&&!(pt>=0&&s[pt])){Oc(ll(A,C),p,R);const Cr=function SI(t,n,s,c,f){const p=new _a(t,s,iu);return p.multi=[],p.index=n,p.componentProviders=0,Lb(p,f,c&&!s),p}(f?DI:AI,s.length,f,c,H);!f&&Kn&&(s[Gt].providerFactory=Cr),wE(p,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(Cr),C.push(Cr)}else wE(p,t,pt>-1?pt:Gt,Lb(s[f?Gt:pt],H,!f&&c));!f&&c&&Kn&&s[Gt].componentProviders++}}}function wE(t,n,s,c){const f=cd(n),p=function Bv(t){return!!t.useClass}(n);if(f||p){const R=(p?ht(n.useClass):n).prototype.ngOnDestroy;if(R){const H=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=H.indexOf(s);-1===se?H.push(s,[c,R]):H[se+1].push(c,R)}else H.push(s,R)}}}function Lb(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function AE(t,n,s,c){for(let f=s;f<c;f++)if(n[f]===t)return f;return-1}function AI(t,n,s,c){return DE(this.multi,[])}function DI(t,n,s,c){const f=this.multi;let p;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=qs(s,s[wn],this.providerFactory.index,c);p=A.slice(0,C),DE(f,p);for(let R=C;R<A.length;R++)p.push(A[R])}else p=[],DE(f,p);return p}function DE(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Vb(t,n=[]){return s=>{s.providersResolver=(c,f)=>function wI(t,n,s){const c=Br();if(c.firstCreatePass){const f=eo(t);IE(s,c.data,c.blueprint,f,!0),IE(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class $m{}class Ub{}function xI(t,n){return new SE(t,n??null,[])}class SE extends $m{constructor(n,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eh(this);const f=fi(n);this._bootstrapComponents=dd(f.bootstrap),this._r3Injector=Hy(n,s,[{provide:$m,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...c],be(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class xE extends Ub{constructor(n){super(),this.moduleType=n}create(n){return new SE(this.moduleType,n,[])}}class jb extends $m{constructor(n){super(),this.componentFactoryResolver=new Eh(this),this.instance=null;const s=new Mp([...n.providers,{provide:$m,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],n.parent||nm(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Bb(t,n,s=null){return new jb({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let MI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=g_(0,s.type),f=c.length>0?Bb([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=hn({token:t,providedIn:"environment",factory:()=>new t(Mt(Ri))})}}return t})();function $b(t){t.getStandaloneInjector=n=>n.get(MI).getOrCreateStandaloneInjector(t)}function Yb(t,n,s){const c=ms()+t,f=Zt();return f[c]===ei?Fa(f,c,s?n.call(s):n()):gd(f,c)}function Xb(t,n,s,c){return tC(Zt(),ms(),t,n,s,c)}function Qb(t,n,s,c,f){return nC(Zt(),ms(),t,n,s,c,f)}function Jb(t,n,s,c,f,p,C,A){const R=ms()+t,H=Zt(),se=Mo(H,R,s,c,f,p);return ho(H,R+4,C)||se?Fa(H,R+5,A?n.call(A,s,c,f,p,C):n(s,c,f,p,C)):gd(H,R+5)}function Zb(t,n,s,c,f,p,C,A,R){const H=ms()+t,se=Zt(),Ie=Mo(se,H,s,c,f,p);return Wo(se,H+4,C,A)||Ie?Fa(se,H+6,R?n.call(R,s,c,f,p,C,A):n(s,c,f,p,C,A)):gd(se,H+6)}function eC(t,n,s,c,f,p,C,A,R,H){const se=ms()+t,Ie=Zt();let rt=Mo(Ie,se,s,c,f,p);return lu(Ie,se+4,C,A,R)||rt?Fa(Ie,se+7,H?n.call(H,s,c,f,p,C,A,R):n(s,c,f,p,C,A,R)):gd(Ie,se+7)}function kv(t,n){const s=t[n];return s===ei?void 0:s}function tC(t,n,s,c,f,p){const C=n+s;return ho(t,C,f)?Fa(t,C+1,p?c.call(p,f):c(f)):kv(t,C+1)}function nC(t,n,s,c,f,p,C){const A=n+s;return Wo(t,A,f,p)?Fa(t,A+2,C?c.call(C,f,p):c(f,p)):kv(t,A+2)}function oC(t,n){const s=Br();let c;const f=t+Xn;s.firstCreatePass?(c=function HI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const c=n[s];if(t===c.name)return c}}(n,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const p=c.factory||(c.factory=Gs(c.type)),A=qr(iu);try{const R=Wa(!1),H=p();return Wa(R),function jf(t,n,s,c){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=c}(s,Zt(),f,H),H}finally{qr(A)}}function aC(t,n,s){const c=t+Xn,f=Zt(),p=da(f,c);return Fv(f,c)?tC(f,ms(),n,p.transform,s,p):p.transform(s)}function cC(t,n,s,c){const f=t+Xn,p=Zt(),C=da(p,f);return Fv(p,f)?nC(p,ms(),n,C.transform,s,c,C):C.transform(s,c)}function lC(t,n,s,c,f){const p=t+Xn,C=Zt(),A=da(C,p);return Fv(C,p)?function rC(t,n,s,c,f,p,C,A){const R=n+s;return lu(t,R,f,p,C)?Fa(t,R+3,A?c.call(A,f,p,C):c(f,p,C)):kv(t,R+3)}(C,ms(),n,A.transform,s,c,f,A):A.transform(s,c,f)}function Fv(t,n){return t[wn].data[n].pure}function KI(){return this._results[Symbol.iterator]()}class ME{get changes(){return this._changes||(this._changes=new Tl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ME.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=KI)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const c=this;c.dirty=!1;const f=function Go(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function qh(t,n,s){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],p=n[c];if(s&&(f=s(f),p=s(p)),p!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function YI(t,n,s,c=!0){const f=n[wn];if(function hy(t,n,s,c){const f=Fr+c,p=s.length;c>0&&(s[f-1][is]=n),c<p-Fr?(n[is]=s[f],jd(s,Fr+c,n)):(s.push(n),n[is]=null),n[pr]=s;const C=n[De];null!==C&&s!==C&&function Vg(t,n){const s=t[es];n[Q]!==n[pr][pr][Q]&&(t[Ii]=!0),null===s?t[es]=[n]:s.push(n)}(C,n);const A=n[it];null!==A&&A.insertView(t),n[gr]|=128}(f,n,t,s),c){const p=sf(s,t),C=n[dr],A=ih(C,t[ci]);null!==A&&function Fg(t,n,s,c,f,p){c[pi]=f,c[zi]=n,lf(t,c,s,1,f,p)}(f,t[zi],C,n,A,p)}}let Lv=(()=>{class t{static{this.__NG_ELEMENT_ID__=JI}}return t})();const XI=Lv,QI=class extends XI{constructor(n,s,c){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,c){const f=function qI(t,n,s,c){const f=n.tView,A=i(t,f,s,4096&t[gr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[De]=t[n.index];const H=t[it];return null!==H&&(A[it]=H.createEmbeddedView(f)),Pf(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:c});return new vh(f)}};function JI(){return z0(no(),Zt())}function z0(t,n){return 4&t.type?new QI(n,t,Vp(t,n)):null}let K0=(()=>{class t{static{this.__NG_ELEMENT_ID__=i1}}return t})();function i1(){return mC(no(),Zt())}const s1=K0,pC=class extends s1{constructor(n,s,c){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=c}get element(){return Vp(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const n=Rc(this._hostTNode,this._hostLView);if(Fu(n)){const s=cl(n,this._hostLView),c=fc(n);return new Ys(s[wn].data[c+8],s)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=gC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(n,s,c){let f,p;"number"==typeof c?f=c:null!=c&&(f=c.index,p=c.injector);const A=n.createEmbeddedViewImpl(s||{},p,null);return this.insertImpl(A,f,false),A}createComponent(n,s,c,f,p){const C=n&&!function pc(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const Cn=s||{};A=Cn.index,c=Cn.injector,f=Cn.projectableNodes,p=Cn.environmentInjector||Cn.ngModuleRef}const R=C?n:new bh(kr(n)),H=c||this.parentInjector;if(!p&&null==R.ngModule){const Kn=(C?H:this.parentInjector).get(Ri,null);Kn&&(p=Kn)}kr(R.componentType??{});const pt=R.create(H,f,null,p);return this.insertImpl(pt.hostView,A,false),pt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,c){const f=n._lView;if(function ha(t){return Vr(t[pr])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const H=f[pr],se=new pC(H,H[zi],H[pr]);se.detach(se.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return YI(A,f,C,!c),n.attachToViewContainerRef(),jd(RE(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=gC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),c=Xl(this._lContainer,s);c&&(jc(RE(this._lContainer),s),dp(c[wn],c))}detach(n){const s=this._adjustIndex(n,-1),c=Xl(this._lContainer,s);return c&&null!=jc(RE(this._lContainer),s)?new vh(c):null}_adjustIndex(n,s=0){return n??this.length+s}};function gC(t){return t[8]}function RE(t){return t[8]||(t[8]=[])}function mC(t,n){let s;const c=n[t.index];return Vr(c)?s=c:(s=xf(c,n,null,t),n[t.index]=s,Hi(n,s)),_C(s,n,t,c),new pC(s,t,n)}let _C=function yC(t,n,s,c){if(t[ci])return;let f;f=8&s.type?Lr(c):function o1(t,n){const s=t[dr],c=s.createComment(""),f=co(n,t);return rd(s,ih(s,f),c,function Ug(t,n){return t.nextSibling(n)}(s,f),!1),c}(n,s),t[ci]=f};class OE{constructor(n){this.queryList=n,this.matches=null}clone(){return new OE(this.queryList)}setDirty(){this.queryList.setDirty()}}class NE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const c=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let p=0;p<c;p++){const C=s.getByIndex(p);f.push(this.queries[C.indexInDeclarationView].clone())}return new NE(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==DC(n,s).matches&&this.queries[s].setDirty()}}class vC{constructor(n,s,c=null){this.predicate=n,this.flags=s,this.read=c}}class kE{constructor(n=[]){this.queries=n}elementStart(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,p=this.getByIndex(c).embeddedTView(n,f);p&&(p.indexInDeclarationView=c,null!==s?s.push(p):s=[p])}return null!==s?new kE(s):null}template(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class FE{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new FE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const p=c[f];this.matchTNodeWithReadOption(n,s,l1(s,p)),this.matchTNodeWithReadOption(n,s,Xa(s,n,p,!1,!1))}else c===Lv?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Xa(s,n,c,!1,!1))}matchTNodeWithReadOption(n,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===mh||f===K0||f===Lv&&4&s.type)this.addMatch(s.index,-2);else{const p=Xa(s,n,f,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,c)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function l1(t,n){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===n)return s[c+1];return null}function d1(t,n,s,c){return-1===s?function u1(t,n){return 11&t.type?Vp(t,n):4&t.type?z0(t,n):null}(n,t):-2===s?function h1(t,n,s){return s===mh?Vp(n,t):s===Lv?z0(n,t):s===K0?mC(n,t):void 0}(t,n,c):qs(t,t[wn],s,n)}function EC(t,n,s,c){const f=n[it].queries[c];if(null===f.matches){const p=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const H=C[R];A.push(H<0?null:d1(n,p[H],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function LE(t,n,s,c){const f=t.queries.getByIndex(s),p=f.matches;if(null!==p){const C=EC(t,n,f,s);for(let A=0;A<p.length;A+=2){const R=p[A];if(R>0)c.push(C[A/2]);else{const H=p[A+1],se=n[-R];for(let Ie=Fr;Ie<se.length;Ie++){const rt=se[Ie];rt[De]===rt[pr]&&LE(rt[wn],rt,H,c)}if(null!==se[es]){const Ie=se[es];for(let rt=0;rt<Ie.length;rt++){const pt=Ie[rt];LE(pt[wn],pt,H,c)}}}}}return c}function bC(t){const n=Zt(),s=Br(),c=pa();D(c+1);const f=DC(s,c);if(t.dirty&&function jh(t){return 4==(4&t[gr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const p=f.crossesNgTemplate?LE(s,n,c,[]):EC(s,n,f,c);t.reset(p,Wv),t.notifyOnChanges()}return!0}return!1}function CC(t,n,s){const c=Br();c.firstCreatePass&&(AC(c,new vC(t,n,s),-1),2==(2&n)&&(c.staticViewQueries=!0)),wC(c,Zt(),n)}function TC(t,n,s,c){const f=Br();if(f.firstCreatePass){const p=no();AC(f,new vC(n,s,c),p.index),function p1(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}wC(f,Zt(),s)}function IC(){return function f1(t,n){return t[it].queries[n].queryList}(Zt(),pa())}function wC(t,n,s){const c=new ME(4==(4&s));(function yr(t,n,s,c){const f=ym(n);f.push(s),t.firstCreatePass&&vm(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[it]&&(n[it]=new NE),n[it].queries.push(new OE(c))}function AC(t,n,s){null===t.queries&&(t.queries=new kE),t.queries.track(new FE(n,s))}function DC(t,n){return t.queries.getByIndex(n)}function SC(t,n){return z0(t,n)}function VE(t){return!!fi(t)}const zC=new bn("Application Initializer");let GE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=mn(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const p=f();if(E(p))s.push(p);else if(U(p)){const C=new Promise((A,R)=>{p.subscribe({complete:A,error:R})});s.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WC=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Y0=new bn("LocaleId",{providedIn:"root",factory:()=>mn(Y0,Dn.Optional|Dn.SkipSelf)||function k1(){return typeof $localize<"u"&&$localize.locale||ey}()}),F1=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class V1{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let U1=(()=>{class t{compileModuleSync(s){return new xE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),p=dd(fi(s).declarations).reduce((C,A)=>{const R=kr(A);return R&&C.push(new bh(R)),C},[]);return new V1(c,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const QC=new bn(""),JC=new bn("");let WE,aw=(()=>{class t{constructor(s,c,f){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,WE||(function cw(t){WE=t}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==p),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Mt(Po),Mt(ZC),Mt(JC))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac})}}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return WE?.findTestabilityInTree(this,s,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),_g=null;const eT=new bn("AllowMultipleToken"),KE=new bn("PlatformDestroyListeners"),qE=new bn("appBootstrapListener");class dw{constructor(n,s){this.name=n,this.token=s}}function rT(t,n,s=[]){const c=`Platform: ${n}`,f=new bn(c);return(p=[])=>{let C=YE();if(!C||C.injector.get(eT,!1)){const A=[...s,...p,{provide:f,useValue:!0}];t?t(A):function hw(t){if(_g&&!_g.get(eT,!1))throw new pe(400,!1);(function tT(){!function ja(t){Xo=t}(()=>{throw new pe(600,!1)})})(),_g=t;const n=t.get(sT);(function nT(t){t.get(Ry,null)?.forEach(s=>s())})(t)}(function iT(t=[],n){return El.create({name:n,providers:[{provide:yf,useValue:"platform"},{provide:KE,useValue:new Set([()=>_g=null])},...t]})}(A,c))}return function pw(t){const n=YE();if(!n)throw new pe(401,!1);return n}()}}function YE(){return _g?.get(sT)??null}let sT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=function gw(t="zone.js",n){return"noop"===t?new R_:"zone.js"===t?new Po(n):t}(c?.ngZone,function oT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const p=function PI(t,n,s){return new SE(t,n,s)}(s.moduleType,this.injector,function dT(t){return[{provide:Po,useFactory:t},{provide:ad,multi:!0,useFactory:()=>{const n=mn(_w,{optional:!0});return()=>n.initialize()}},{provide:uT,useFactory:mw},{provide:s0,useFactory:Ky}]}(()=>f)),C=p.injector.get(Ec,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});p.onDestroy(()=>{Q0(this._modules,p),A.unsubscribe()})}),function aT(t,n,s){try{const c=s();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=p.injector.get(GE);return A.runInitializers(),A.donePromise.then(()=>(function fb(t){ot(t,"Expected localeId to be defined"),"string"==typeof t&&(hb=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Y0,ey)||ey),this._moduleDoBootstrap(p),p))})})}bootstrapModule(s,c=[]){const f=cT({},c);return function lw(t,n,s){const c=new xE(s);return Promise.resolve(c)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(s){const c=s.injector.get(ry);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new pe(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(KE,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Mt(El))}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function cT(t,n){return Array.isArray(n)?n.reduce(cT,t):{...t,...n}}let ry=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mn(uT),this.zoneIsStable=mn(s0),this.componentTypes=[],this.components=[],this.isStable=mn(KC).hasPendingTasks.pipe((0,Ne.n)(s=>s?(0,Te.of)(!1):this.zoneIsStable),(0,xe.F)(),(0,Ce.u)()),this._injector=mn(Ri)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof dm;if(!this._injector.get(GE).done)throw!f&&Ps(s),new pe(405,!1);let C;C=f?s:this._injector.get(tu).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function uw(t){return t.isBoundToModule}(C)?void 0:this._injector.get($m),H=C.create(El.NULL,[],c||C.selector,A),se=H.location.nativeElement,Ie=H.injector.get(QC,null);return Ie?.registerApplication(se),H.onDestroy(()=>{this.detachView(H.hostView),Q0(this.components,H),Ie?.unregisterApplication(se)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Q0(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(qE,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Q0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new pe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Q0(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const uT=new bn("",{providedIn:"root",factory:()=>mn(Ec).handleError.bind(void 0)});function mw(){const t=mn(Po),n=mn(Ec);return s=>t.runOutsideAngular(()=>n.handleError(s))}let _w=(()=>{class t{constructor(){this.zone=mn(Po),this.applicationRef=mn(ry)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vw(){return!1}let Ew=(()=>{class t{static{this.__NG_ELEMENT_ID__=bw}}return t})();function bw(t){return function Cw(t,n,s){if(fs(t)&&!s){const c=$i(t.index,n);return new vh(c,c)}return 47&t.type?new vh(n[Q],n):null}(no(),Zt(),16==(16&t))}class mT{constructor(){}supports(n){return Ih(n)}create(n){return new Dw(n)}}const Aw=(t,n)=>n;class Dw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Aw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,c=this._removalsHead,f=0,p=null;for(;s||c;){const C=!c||s&&s.currentIndex<yT(c,f,p)?s:c,A=yT(C,f,p),R=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{p||(p=[]);const H=A-f,se=R-f;if(H!=se){for(let rt=0;rt<H;rt++){const pt=rt<p.length?p[rt]:p[rt]=0,Gt=pt+rt;se<=Gt&&Gt<H&&(p[rt]=pt+1)}p[C.previousIndex]=se-H}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Ih(n))throw new pe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,p,C,s=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)p=n[A],C=this._trackByFn(A,p),null!==s&&Object.is(s.trackById,C)?(c&&(s=this._verifyReinsertion(s,p,C,A)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,C,A),c=!0),s=s._next}else f=0,function pd(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let c;for(;!(c=s.next()).done;)n(c.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(c&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,c,f){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,p,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,p,f)):n=this._addAfter(new Sw(s,c),p,f),n}_verifyReinsertion(n,s,c,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?n=this._reinsertAfter(p,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,p=n._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(n,s,c),this._addToMoves(n,c),n}_moveAfter(n,s,c){return this._unlink(n),this._insertAfter(n,s,c),this._addToMoves(n,c),n}_addAfter(n,s,c){return this._insertAfter(n,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,c){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,c=n._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Sw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const s=n._prevDup,c=n._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class _T{constructor(){this.map=new Map}put(n){const s=n.trackById;let c=this.map.get(s);c||(c=new xw,this.map.set(s,c)),c.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yT(t,n,s){const c=t.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+n+f}class vT{constructor(){}supports(n){return n instanceof Map||Ja(n)}create(){return new Pw}}class Pw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Ja(n)))throw new pe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const c=n._prev;return s._next=n,s._prev=c,n._prev=s,c&&(c._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const p=f._prev,C=f._next;return p&&(p._next=C),C&&(C._prev=p),f._next=null,f._prev=null,f}const c=new Mw(n);return this._records.set(n,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(c=>s(n[c],c))}}class Mw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ET(){return new eb([new mT])}let eb=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:ET})}constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||ET()),deps:[[t,new zu,new $c]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new pe(901,!1)}}return t})();function bT(){return new tb([new vT])}let tb=(()=>{class t{static{this.\u0275prov=hn({token:t,providedIn:"root",factory:bT})}constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||bT()),deps:[[t,new zu,new $c]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new pe(901,!1)}}return t})();const Nw=rT(null,"core",[]);let kw=(()=>{class t{constructor(s){}static{this.\u0275fac=function(c){return new(c||t)(Mt(ry))}}static{this.\u0275mod=si({type:t})}static{this.\u0275inj=nn({})}}return t})();function Ww(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qw(t){const n=kr(t);if(!n)return null;const s=new bh(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(dn,Je,k)=>{k.d(Je,{DS:()=>Yt,X8:()=>Xt,$z:()=>sn,UB:()=>or,yy:()=>Vt,ZP:()=>we,AU:()=>Tn,CP:()=>Et,gF:()=>Lt}),k(2438);var oe=k(177),r=k(7705),ye=k(5407),fe=k(9253),Te=k(1413),Ce=k(7673),Ne=k(1985),xe=k(8455),z=k(7786),ne=k(941),be=k(5558),at=k(6354),Ge=k(6129);class St extends Te.B{constructor(Ue=1/0,st=1/0,ln=Ge.U){super(),this._bufferSize=Ue,this._windowTime=st,this._timestampProvider=ln,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Ue),this._windowTime=Math.max(1,st)}next(Ue){const{isStopped:st,_buffer:ln,_infiniteTimeWindow:Ke,_timestampProvider:Ae,_windowTime:ve}=this;st||(ln.push(Ue),!Ke&&ln.push(Ae.now()+ve)),this._trimBuffer(),super.next(Ue)}_subscribe(Ue){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Ue),{_infiniteTimeWindow:ln,_buffer:Ke}=this,Ae=Ke.slice();for(let ve=0;ve<Ae.length&&!Ue.closed;ve+=ln?1:2)Ue.next(Ae[ve]);return this._checkFinalizedStatuses(Ue),st}_trimBuffer(){const{_bufferSize:Ue,_timestampProvider:st,_buffer:ln,_infiniteTimeWindow:Ke}=this,Ae=(Ke?1:2)*Ue;if(Ue<1/0&&Ae<ln.length&&ln.splice(0,ln.length-Ae),!Ke){const ve=st.now();let je=0;for(let ot=1;ot<ln.length&&ln[ot]<=ve;ot+=2)je=ot;je&&ln.splice(0,je+1)}}}var ht=k(7647);function jt(gt,Ue,st){let ln,Ke=!1;return gt&&"object"==typeof gt?({bufferSize:ln=1/0,windowTime:Ue=1/0,refCount:Ke=!1,scheduler:st}=gt):ln=gt??1/0,(0,ht.u)({connector:()=>new St(ln,Ue,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ke})}var Nt=k(1594),rn=k(8071);function ze(gt,Ue){return(0,rn.T)(Ue)?(0,be.n)(()=>gt,Ue):(0,be.n)(()=>gt)}var pe=k(6745),Ze=k(5964),ke=k(7935);const Et=new r.nKC("angularfire2.auth.use-emulator"),Vt=new r.nKC("angularfire2.auth.settings"),we=new r.nKC("angularfire2.auth.tenant-id"),sn=new r.nKC("angularfire2.auth.langugage-code"),Tn=new r.nKC("angularfire2.auth.use-device-language"),or=new r.nKC("angularfire.auth.persistence"),Lt=(gt,Ue,st,ln,Ke,Ae,ve,je)=>(0,fe.BM)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const ot=Ue.runOutsideAngular(()=>gt.auth());if(st&&ot.useEmulator(...st),ln&&(ot.tenantId=ln),ot.languageCode=Ke,Ae&&ot.useDeviceLanguage(),ve)for(const[nt,Bt]of Object.entries(ve))ot.settings[nt]=Bt;return je&&ot.setPersistence(je),ot},[st,ln,Ke,Ae,ve,je]);let Yt=(()=>{class gt{authState;idToken;user;idTokenResult;credential;constructor(st,ln,Ke,Ae,ve,je,ot,nt,Bt,Pn,fr,hn){const jn=new Te.B,nn=(0,Ce.of)(void 0).pipe((0,ne.Q)(ve.outsideAngular),(0,be.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2438)))),(0,at.T)(()=>(0,fe.iB)(st,Ae,ln)),(0,at.T)(er=>Lt(er,Ae,je,nt,Bt,Pn,ot,fr)),jt({bufferSize:1,refCount:!1}));if((0,oe.Vy)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ce.of)(null);else{nn.pipe((0,Nt.$)()).subscribe();const er=nn.pipe((0,be.n)(Ht=>Ht.getRedirectResult().then(Dr=>Dr,()=>null)),ye.U0,jt({bufferSize:1,refCount:!1})),Bn=nn.pipe((0,be.n)(Ht=>new Ne.c(Dr=>({unsubscribe:Ae.runOutsideAngular(()=>Ht.onAuthStateChanged(yn=>Dr.next(yn),yn=>Dr.error(yn),()=>Dr.complete()))})))),Ut=nn.pipe((0,be.n)(Ht=>new Ne.c(Dr=>({unsubscribe:Ae.runOutsideAngular(()=>Ht.onIdTokenChanged(yn=>Dr.next(yn),yn=>Dr.error(yn),()=>Dr.complete()))}))));this.authState=er.pipe(ze(Bn),(0,pe._)(ve.outsideAngular),(0,ne.Q)(ve.insideAngular)),this.user=er.pipe(ze(Ut),(0,pe._)(ve.outsideAngular),(0,ne.Q)(ve.insideAngular)),this.idToken=this.user.pipe((0,be.n)(Ht=>Ht?(0,xe.H)(Ht.getIdToken()):(0,Ce.of)(null))),this.idTokenResult=this.user.pipe((0,be.n)(Ht=>Ht?(0,xe.H)(Ht.getIdTokenResult()):(0,Ce.of)(null))),this.credential=(0,z.h)(er,jn,this.authState.pipe((0,Ze.p)(Ht=>!Ht))).pipe((0,at.T)(Ht=>Ht?.user?Ht:null),(0,pe._)(ve.outsideAngular),(0,ne.Q)(ve.insideAngular))}return(0,fe.Gt)(this,nn,Ae,{spy:{apply:(er,Bn,Ut)=>{(er.startsWith("signIn")||er.startsWith("createUser"))&&Ut.then(Ht=>jn.next(Ht))}}})}static \u0275fac=function(ln){return new(ln||gt)(r.KVO(fe.rx),r.KVO(fe.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(ye.u0),r.KVO(Et,8),r.KVO(Vt,8),r.KVO(we,8),r.KVO(sn,8),r.KVO(Tn,8),r.KVO(or,8),r.KVO(ye.Jv,8))};static \u0275prov=r.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),Xt=(()=>{class gt{constructor(){ke.A.registerVersion("angularfire",ye.xv.full,"auth-compat")}static \u0275fac=function(ln){return new(ln||gt)};static \u0275mod=r.$C({type:gt});static \u0275inj=r.G2t({providers:[Yt]})}return gt})()},6340:(dn,Je,k)=>{k.d(Je,{Qe:()=>Gr,cM:()=>Ye});var o=k(177),oe=k(7705),r=k(5407),ye=k(9253),fe=k(1977),Te=k(3236),Ce=k(1985),Ne=k(8455),xe=k(7673),z=k(9172),ne=k(9974),be=k(4360);function at(){return(0,ne.N)((ut,ae)=>{let Oe,At=!1;ut.subscribe((0,be._)(ae,Kt=>{const qn=Oe;Oe=Kt,At&&ae.next([qn,Kt]),At=!0}))})}var Ge=k(6354),St=k(2816),ht=k(3294),jt=k(5964),rn=(k(2438),k(3345)),ze=k(9583),pe=k(1076),Ze=k(1362);function Et(ut,ae){if(void 0===ae)return{merge:!1};if(void 0!==ae.mergeFields&&void 0!==ae.merge)throw new ze.W6("invalid-argument",`Invalid options passed to function ${ut}(): You cannot specify both "merge" and "mergeFields".`);return ae}function Vt(){if(typeof Uint8Array>"u")throw new ze.W6("unimplemented","Uint8Arrays are not available in this environment.")}function we(){if(!(0,ze.qG)())throw new ze.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class sn{constructor(ae){this._delegate=ae}static fromBase64String(ae){return we(),new sn(ze.Ix.fromBase64String(ae))}static fromUint8Array(ae){return Vt(),new sn(ze.Ix.fromUint8Array(ae))}toBase64(){return we(),this._delegate.toBase64()}toUint8Array(){return Vt(),this._delegate.toUint8Array()}isEqual(ae){return this._delegate.isEqual(ae._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tn(ut){return function or(ut,ae){if("object"!=typeof ut||null===ut)return!1;const Oe=ut;for(const At of ae)if(At in Oe&&"function"==typeof Oe[At])return!0;return!1}(ut,["next","error","complete"])}class Lt{enableIndexedDbPersistence(ae,Oe){return(0,ze.ol)(ae._delegate,{forceOwnership:Oe})}enableMultiTabIndexedDbPersistence(ae){return(0,ze.Q5)(ae._delegate)}clearIndexedDbPersistence(ae){return(0,ze.me)(ae._delegate)}}class Yt{constructor(ae,Oe,At){this._delegate=Oe,this._persistenceProvider=At,this.INTERNAL={delete:()=>this.terminate()},ae instanceof ze.cm||(this._appCompat=ae)}get _databaseId(){return this._delegate._databaseId}settings(ae){const Oe=this._delegate._getSettings();!ae.merge&&Oe.host!==ae.host&&(0,ze.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ae.merge&&delete(ae=Object.assign(Object.assign({},Oe),ae)).merge,this._delegate._setSettings(ae)}useEmulator(ae,Oe,At={}){(0,ze.vN)(this._delegate,ae,Oe,At)}enableNetwork(){return(0,ze.Os)(this._delegate)}disableNetwork(){return(0,ze.LA)(this._delegate)}enablePersistence(ae){let Oe=!1,At=!1;return ae&&(Oe=!!ae.synchronizeTabs,At=!!ae.experimentalForceOwningTab,(0,ze.c8)("synchronizeTabs",Oe,"experimentalForceOwningTab",At)),Oe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,At)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ze.iB)(this._delegate)}onSnapshotsInSync(ae){return(0,ze.FC)(this._delegate,ae)}get app(){if(!this._appCompat)throw new ze.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ae){try{return new hn(this,(0,ze.rJ)(this._delegate,ae))}catch(Oe){throw Ae(Oe,"collection()","Firestore.collection()")}}doc(ae){try{return new Ke(this,(0,ze.H9)(this._delegate,ae))}catch(Oe){throw Ae(Oe,"doc()","Firestore.doc()")}}collectionGroup(ae){try{return new Bt(this,(0,ze.Cs)(this._delegate,ae))}catch(Oe){throw Ae(Oe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ae){return(0,ze.c4)(this._delegate,Oe=>ae(new Ue(this,Oe)))}batch(){return(0,ze.Ws)(this._delegate),new st(new ze.GA(this._delegate,ae=>(0,ze.z6)(this._delegate,ae)))}loadBundle(ae){return(0,ze.po)(this._delegate,ae)}namedQuery(ae){return(0,ze.St)(this._delegate,ae).then(Oe=>Oe?new Bt(this,Oe):null)}}class Xt extends ze.fS{constructor(ae){super(),this.firestore=ae}convertBytes(ae){return new sn(new ze.Ix(ae))}convertReference(ae){const Oe=this.convertDocumentKey(ae,this.firestore._databaseId);return Ke.forKey(Oe,this.firestore,null)}}class Ue{constructor(ae,Oe){this._firestore=ae,this._delegate=Oe,this._userDataWriter=new Xt(ae)}get(ae){const Oe=jn(ae);return this._delegate.get(Oe).then(At=>new ot(this._firestore,new ze.Wq(this._firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,Oe.converter)))}set(ae,Oe,At){const Kt=jn(ae);return At?(Et("Transaction.set",At),this._delegate.set(Kt,Oe,At)):this._delegate.set(Kt,Oe),this}update(ae,Oe,At,...Kt){const qn=jn(ae);return 2===arguments.length?this._delegate.update(qn,Oe):this._delegate.update(qn,Oe,At,...Kt),this}delete(ae){const Oe=jn(ae);return this._delegate.delete(Oe),this}}class st{constructor(ae){this._delegate=ae}set(ae,Oe,At){const Kt=jn(ae);return At?(Et("WriteBatch.set",At),this._delegate.set(Kt,Oe,At)):this._delegate.set(Kt,Oe),this}update(ae,Oe,At,...Kt){const qn=jn(ae);return 2===arguments.length?this._delegate.update(qn,Oe):this._delegate.update(qn,Oe,At,...Kt),this}delete(ae){const Oe=jn(ae);return this._delegate.delete(Oe),this}commit(){return this._delegate.commit()}}class ln{constructor(ae,Oe,At){this._firestore=ae,this._userDataWriter=Oe,this._delegate=At}fromFirestore(ae,Oe){const At=new ze.YQ(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,null);return this._delegate.fromFirestore(new nt(this._firestore,At),Oe??{})}toFirestore(ae,Oe){return Oe?this._delegate.toFirestore(ae,Oe):this._delegate.toFirestore(ae)}static getInstance(ae,Oe){const At=ln.INSTANCES;let Kt=At.get(ae);Kt||(Kt=new WeakMap,At.set(ae,Kt));let qn=Kt.get(Oe);return qn||(qn=new ln(ae,new Xt(ae),Oe),Kt.set(Oe,qn)),qn}}ln.INSTANCES=new WeakMap;class Ke{constructor(ae,Oe){this.firestore=ae,this._delegate=Oe,this._userDataWriter=new Xt(ae)}static forPath(ae,Oe,At){if(ae.length%2!=0)throw new ze.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ae.canonicalString()} has ${ae.length}`);return new Ke(Oe,new ze.T1(Oe._delegate,At,new ze.K$(ae)))}static forKey(ae,Oe,At){return new Ke(Oe,new ze.T1(Oe._delegate,At,ae))}get id(){return this._delegate.id}get parent(){return new hn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ae){try{return new hn(this.firestore,(0,ze.rJ)(this._delegate,ae))}catch(Oe){throw Ae(Oe,"collection()","DocumentReference.collection()")}}isEqual(ae){return(ae=(0,pe.Ku)(ae))instanceof ze.T1&&(0,ze.yx)(this._delegate,ae)}set(ae,Oe){Oe=Et("DocumentReference.set",Oe);try{return Oe?(0,ze.BN)(this._delegate,ae,Oe):(0,ze.BN)(this._delegate,ae)}catch(At){throw Ae(At,"setDoc()","DocumentReference.set()")}}update(ae,Oe,...At){try{return 1===arguments.length?(0,ze.mZ)(this._delegate,ae):(0,ze.mZ)(this._delegate,ae,Oe,...At)}catch(Kt){throw Ae(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ze.kd)(this._delegate)}onSnapshot(...ae){const Oe=ve(ae),At=je(ae,Kt=>new ot(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,ze.aQ)(this._delegate,Oe,At)}get(ae){let Oe;return Oe="cache"===ae?.source?(0,ze.nY)(this._delegate):"server"===ae?.source?(0,ze._e)(this._delegate):(0,ze.x7)(this._delegate),Oe.then(At=>new ot(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,this._delegate.converter)))}withConverter(ae){return new Ke(this.firestore,this._delegate.withConverter(ae?ln.getInstance(this.firestore,ae):null))}}function Ae(ut,ae,Oe){return ut.message=ut.message.replace(ae,Oe),ut}function ve(ut){for(const ae of ut)if("object"==typeof ae&&!Tn(ae))return ae;return{}}function je(ut,ae){var Oe,At;let Kt;return Kt=Tn(ut[0])?ut[0]:Tn(ut[1])?ut[1]:"function"==typeof ut[0]?{next:ut[0],error:ut[1],complete:ut[2]}:{next:ut[1],error:ut[2],complete:ut[3]},{next:qn=>{Kt.next&&Kt.next(ae(qn))},error:null===(Oe=Kt.error)||void 0===Oe?void 0:Oe.bind(Kt),complete:null===(At=Kt.complete)||void 0===At?void 0:At.bind(Kt)}}class ot{constructor(ae,Oe){this._firestore=ae,this._delegate=Oe}get ref(){return new Ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ae){return this._delegate.data(ae)}get(ae,Oe){return this._delegate.get(ae,Oe)}isEqual(ae){return(0,ze.lN)(this._delegate,ae._delegate)}}class nt extends ot{data(ae){const Oe=this._delegate.data(ae);return this._delegate._converter||(0,ze.bI)(void 0!==Oe,"Document in a QueryDocumentSnapshot should exist"),Oe}}class Bt{constructor(ae,Oe){this.firestore=ae,this._delegate=Oe,this._userDataWriter=new Xt(ae)}where(ae,Oe,At){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze._M)(ae,Oe,At)))}catch(Kt){throw Ae(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ae,Oe){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.My)(ae,Oe)))}catch(At){throw Ae(At,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.AB)(ae)))}catch(Oe){throw Ae(Oe,"limit()","Query.limit()")}}limitToLast(ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.$1)(ae)))}catch(Oe){throw Ae(Oe,"limitToLast()","Query.limitToLast()")}}startAt(...ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.EO)(...ae)))}catch(Oe){throw Ae(Oe,"startAt()","Query.startAt()")}}startAfter(...ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.HM)(...ae)))}catch(Oe){throw Ae(Oe,"startAfter()","Query.startAfter()")}}endBefore(...ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.rf)(...ae)))}catch(Oe){throw Ae(Oe,"endBefore()","Query.endBefore()")}}endAt(...ae){try{return new Bt(this.firestore,(0,ze.P)(this._delegate,(0,ze.FD)(...ae)))}catch(Oe){throw Ae(Oe,"endAt()","Query.endAt()")}}isEqual(ae){return(0,ze.B)(this._delegate,ae._delegate)}get(ae){let Oe;return Oe="cache"===ae?.source?(0,ze.kU)(this._delegate):"server"===ae?.source?(0,ze.Rr)(this._delegate):(0,ze.GG)(this._delegate),Oe.then(At=>new fr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,At._snapshot)))}onSnapshot(...ae){const Oe=ve(ae),At=je(ae,Kt=>new fr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,ze.aQ)(this._delegate,Oe,At)}withConverter(ae){return new Bt(this.firestore,this._delegate.withConverter(ae?ln.getInstance(this.firestore,ae):null))}}class Pn{constructor(ae,Oe){this._firestore=ae,this._delegate=Oe}get type(){return this._delegate.type}get doc(){return new nt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fr{constructor(ae,Oe){this._firestore=ae,this._delegate=Oe}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ae=>new nt(this._firestore,ae))}docChanges(ae){return this._delegate.docChanges(ae).map(Oe=>new Pn(this._firestore,Oe))}forEach(ae,Oe){this._delegate.forEach(At=>{ae.call(Oe,new nt(this._firestore,At))})}isEqual(ae){return(0,ze.lN)(this._delegate,ae._delegate)}}class hn extends Bt{constructor(ae,Oe){super(ae,Oe),this.firestore=ae,this._delegate=Oe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ae=this._delegate.parent;return ae?new Ke(this.firestore,ae):null}doc(ae){try{return new Ke(this.firestore,void 0===ae?(0,ze.H9)(this._delegate):(0,ze.H9)(this._delegate,ae))}catch(Oe){throw Ae(Oe,"doc()","CollectionReference.doc()")}}add(ae){return(0,ze.gS)(this._delegate,ae).then(Oe=>new Ke(this.firestore,Oe))}isEqual(ae){return(0,ze.yx)(this._delegate,ae._delegate)}withConverter(ae){return new hn(this.firestore,this._delegate.withConverter(ae?ln.getInstance(this.firestore,ae):null))}}function jn(ut){return(0,ze.lo)(ut,ze.T1)}class nn{constructor(...ae){this._delegate=new ze.uY(...ae)}static documentId(){return new nn(ze.FA.keyField().canonicalString())}isEqual(ae){return(ae=(0,pe.Ku)(ae))instanceof ze.uY&&this._delegate._internalPath.isEqual(ae._internalPath)}}class er{constructor(ae){this._delegate=ae}static serverTimestamp(){const ae=(0,ze.O5)();return ae._methodName="FieldValue.serverTimestamp",new er(ae)}static delete(){const ae=(0,ze.CL)();return ae._methodName="FieldValue.delete",new er(ae)}static arrayUnion(...ae){const Oe=(0,ze.hq)(...ae);return Oe._methodName="FieldValue.arrayUnion",new er(Oe)}static arrayRemove(...ae){const Oe=(0,ze.C3)(...ae);return Oe._methodName="FieldValue.arrayRemove",new er(Oe)}static increment(ae){const Oe=(0,ze.GV)(ae);return Oe._methodName="FieldValue.increment",new er(Oe)}isEqual(ae){return this._delegate.isEqual(ae._delegate)}}const Bn={Firestore:Yt,GeoPoint:ze.Ci,Timestamp:ze.Dc,Blob:sn,Transaction:Ue,WriteBatch:st,DocumentReference:Ke,DocumentSnapshot:ot,Query:Bt,QueryDocumentSnapshot:nt,QuerySnapshot:fr,CollectionReference:hn,FieldPath:nn,FieldValue:er,setLogLevel:function gt(ut){(0,ze.He)(ut)},CACHE_SIZE_UNLIMITED:ze.H6};!function Ht(ut){(function Ut(ut,ae){ut.INTERNAL.registerComponent(new Ze.uA("firestore-compat",Oe=>{const At=Oe.getProvider("app-compat").getImmediate(),Kt=Oe.getProvider("firestore").getImmediate();return ae(At,Kt)},"PUBLIC").setServiceProps(Object.assign({},Bn)))})(ut,(ae,Oe)=>new Yt(ae,Oe,new Lt)),ut.registerVersion("@firebase/firestore-compat","0.3.38")}(rn.A);var Dr=k(7935);function Ur(ut,ae){return function yn(ut,ae=Te.E){return new Ce.c(Oe=>{let At;return null!=ae?ae.schedule(()=>{At=ut.onSnapshot({includeMetadataChanges:!0},Oe)}):At=ut.onSnapshot({includeMetadataChanges:!0},Oe),()=>{At?.()}})}(ut,ae)}function Wt(ut,ae){return Ur(ut,ae).pipe((0,Ge.T)(Oe=>({payload:Oe,type:"query"})))}class Dn{ref;afs;constructor(ae,Oe){this.ref=ae,this.afs=Oe}set(ae,Oe){return this.ref.set(ae,Oe)}update(ae){return this.ref.update(ae)}delete(){return this.ref.delete()}collection(ae,Oe){const At=this.ref.collection(ae),{ref:Kt,query:qn}=kn(At,Oe);return new ni(Kt,qn,this.afs)}snapshotChanges(){return function ir(ut,ae){return Ur(ut,ae).pipe((0,z.Z)(void 0),at(),(0,Ge.T)(Oe=>{const[At,Kt]=Oe;return Kt.exists?At?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(ae={}){return this.snapshotChanges().pipe((0,Ge.T)(({payload:Oe})=>ae.idField?{...Oe.data(),[ae.idField]:Oe.id}:Oe.data()))}get(ae){return(0,Ne.H)(this.ref.get(ae)).pipe(r.U0)}}function Jn(ut,ae){return Wt(ut,ae).pipe((0,z.Z)(void 0),at(),(0,Ge.T)(Oe=>{const[At,Kt]=Oe,qn=Kt.payload.docChanges(),Wr=qn.map(vr=>({type:vr.type,payload:vr}));return At&&JSON.stringify(At.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((vr,yi)=>{const Ct=qn.find(M=>M.doc.ref.isEqual(vr.ref)),$=At?.payload.docs.find(M=>M.ref.isEqual(vr.ref));Ct&&JSON.stringify(Ct.doc.metadata)===JSON.stringify(vr.metadata)||!Ct&&$&&JSON.stringify($.metadata)===JSON.stringify(vr.metadata)||Wr.push({type:"modified",payload:{oldIndex:yi,newIndex:yi,type:"modified",doc:vr}})}),Wr}))}function Mn(ut,ae,Oe){return Jn(ut,Oe).pipe((0,St.S)((At,Kt)=>function qr(ut,ae,Oe){return ae.forEach(At=>{Oe.indexOf(At.type)>-1&&(ut=function Zr(ut,ae){switch(ae.type){case"added":if(!ut[ae.newIndex]||!ut[ae.newIndex].doc.ref.isEqual(ae.doc.ref))return Or(ut,ae.newIndex,0,ae);break;case"modified":if(null==ut[ae.oldIndex]||ut[ae.oldIndex].doc.ref.isEqual(ae.doc.ref)){if(ae.oldIndex!==ae.newIndex){const Oe=ut.slice();return Oe.splice(ae.oldIndex,1),Oe.splice(ae.newIndex,0,ae),Oe}return Or(ut,ae.newIndex,1,ae)}break;case"removed":if(ut[ae.oldIndex]&&ut[ae.oldIndex].doc.ref.isEqual(ae.doc.ref))return Or(ut,ae.oldIndex,1)}return ut}(ut,At))}),ut}(At,Kt.map(qn=>qn.payload),ae),[]),(0,ht.F)(),(0,Ge.T)(At=>At.map(Kt=>({type:Kt.type,payload:Kt}))))}function Or(ut,ae,Oe,...At){const Kt=ut.slice();return Kt.splice(ae,Oe,...At),Kt}function Zn(ut){return(!ut||0===ut.length)&&(ut=["added","removed","modified"]),ut}class ni{ref;query;afs;constructor(ae,Oe,At){this.ref=ae,this.query=Oe,this.afs=At}stateChanges(ae){let Oe=Jn(this.query,this.afs.schedulers.outsideAngular);return ae&&ae.length>0&&(Oe=Oe.pipe((0,Ge.T)(At=>At.filter(Kt=>ae.indexOf(Kt.type)>-1)))),Oe.pipe((0,z.Z)(void 0),at(),(0,jt.p)(([At,Kt])=>Kt.length>0||!At),(0,Ge.T)(([,At])=>At),r.U0)}auditTrail(ae){return this.stateChanges(ae).pipe((0,St.S)((Oe,At)=>[...Oe,...At],[]))}snapshotChanges(ae){const Oe=Zn(ae);return Mn(this.query,Oe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(ae={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(Oe=>Oe.payload.docs.map(At=>ae.idField?{...At.data(),[ae.idField]:At.id}:At.data())),r.U0)}get(ae){return(0,Ne.H)(this.query.get(ae)).pipe(r.U0)}add(ae){return this.ref.add(ae)}doc(ae){return new Dn(this.ref.doc(ae),this.afs)}}class ds{query;afs;constructor(ae,Oe){this.query=ae,this.afs=Oe}stateChanges(ae){return ae&&0!==ae.length?Jn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(Oe=>Oe.filter(At=>ae.indexOf(At.type)>-1)),(0,jt.p)(Oe=>Oe.length>0),r.U0):Jn(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(ae){return this.stateChanges(ae).pipe((0,St.S)((Oe,At)=>[...Oe,...At],[]))}snapshotChanges(ae){const Oe=Zn(ae);return Mn(this.query,Oe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(ae={}){return Wt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(At=>At.payload.docs.map(Kt=>ae.idField?{[ae.idField]:Kt.id,...Kt.data()}:Kt.data())),r.U0)}get(ae){return(0,Ne.H)(this.query.get(ae)).pipe(r.U0)}}const bn=new oe.nKC("angularfire2.enableFirestorePersistence"),ri=new oe.nKC("angularfire2.firestore.persistenceSettings"),ar=new oe.nKC("angularfire2.firestore.settings"),xr=new oe.nKC("angularfire2.firestore.use-emulator");function kn(ut,ae=(Oe=>Oe)){return{query:ae(ut),ref:ut}}let Gr=(()=>{class ut{schedulers;firestore;persistenceEnabled$;constructor(Oe,At,Kt,qn,Wr,vr,yi,Ct,$,M,F,ie,ge,lt,Mt,gn,mn){this.schedulers=yi;const Rn=(0,ye.iB)(Oe,vr,At),Er=$;M&&(0,fe.gF)(Rn,vr,F,ge,lt,Mt,ie,gn),[this.firestore,this.persistenceEnabled$]=(0,ye.BM)(`${Rn.name}.firestore`,"AngularFirestore",Rn.name,()=>{const Pe=vr.runOutsideAngular(()=>Rn.firestore());if(qn&&Pe.settings(qn),Er&&Pe.useEmulator(...Er),Kt&&!(0,o.Vy)(Wr)){const Se=()=>{try{return(0,Ne.H)(Pe.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch($e){return typeof console<"u"&&console.warn($e),(0,xe.of)(!1)}};return[Pe,vr.runOutsideAngular(Se)]}return[Pe,(0,xe.of)(!1)]},[qn,Er,Kt])}collection(Oe,At){let Kt;Kt="string"==typeof Oe?this.firestore.collection(Oe):Oe;const{ref:qn,query:Wr}=kn(Kt,At),vr=this.schedulers.ngZone.run(()=>qn);return new ni(vr,Wr,this)}collectionGroup(Oe,At){const Kt=At||(Wr=>Wr),qn=this.firestore.collectionGroup(Oe);return new ds(Kt(qn),this)}doc(Oe){let At;At="string"==typeof Oe?this.firestore.doc(Oe):Oe;const Kt=this.schedulers.ngZone.run(()=>At);return new Dn(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(At){return new(At||ut)(oe.KVO(ye.rx),oe.KVO(ye.uP,8),oe.KVO(bn,8),oe.KVO(ar,8),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(r.u0),oe.KVO(ri,8),oe.KVO(xr,8),oe.KVO(fe.DS,8),oe.KVO(fe.CP,8),oe.KVO(fe.yy,8),oe.KVO(fe.ZP,8),oe.KVO(fe.$z,8),oe.KVO(fe.AU,8),oe.KVO(fe.UB,8),oe.KVO(r.Jv,8))};static \u0275prov=oe.jDH({token:ut,factory:ut.\u0275fac,providedIn:"any"})}return ut})(),Ye=(()=>{class ut{constructor(){Dr.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(Oe){return{ngModule:ut,providers:[{provide:bn,useValue:!0},{provide:ri,useValue:Oe}]}}static \u0275fac=function(At){return new(At||ut)};static \u0275mod=oe.$C({type:ut});static \u0275inj=oe.G2t({providers:[Gr]})}return ut})()},8721:(dn,Je,k)=>{k.d(Je,{ap:()=>Ue,y5:()=>Ke});var o=k(5407),oe=k(1985),r=k(7673),ye=k(8455),fe=k(3236),Te=k(9974),Ce=k(4360),xe=k(6354),z=k(5558),ne=k(7705),be=k(9253),at=k(3345),Ge=k(4535),St=k(1362);class ht{constructor(ve,je,ot){this._delegate=ve,this.task=je,this.ref=ot}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(ve,je){this._delegate=ve,this._ref=je,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ht(this._delegate.snapshot,this,this._ref)}then(ve,je){return this._delegate.then(ot=>{if(ve)return ve(new ht(ot,this,this._ref))},je)}on(ve,je,ot,nt){let Bt;return je&&(Bt="function"==typeof je?Pn=>je(new ht(Pn,this,this._ref)):{next:je.next?Pn=>je.next(new ht(Pn,this,this._ref)):void 0,complete:je.complete||void 0,error:je.error||void 0}),this._delegate.on(ve,Bt,ot||void 0,nt||void 0)}}class Nt{constructor(ve,je){this._delegate=ve,this._service=je}get prefixes(){return this._delegate.prefixes.map(ve=>new rn(ve,this._service))}get items(){return this._delegate.items.map(ve=>new rn(ve,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rn{constructor(ve,je){this._delegate=ve,this.storage=je}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ve){const je=(0,Ge.Mp)(this._delegate,ve);return new rn(je,this.storage)}get root(){return new rn(this._delegate.root,this.storage)}get parent(){const ve=this._delegate.parent;return null==ve?null:new rn(ve,this.storage)}put(ve,je){return this._throwIfRoot("put"),new jt((0,Ge.bp)(this._delegate,ve,je),this)}putString(ve,je=Ge.nw.RAW,ot){this._throwIfRoot("putString");const nt=(0,Ge.ZH)(je,ve),Bt=Object.assign({},ot);return null==Bt.contentType&&null!=nt.contentType&&(Bt.contentType=nt.contentType),new jt(new Ge.UC(this._delegate,new Ge.Mx(nt.data,!0),Bt),this)}listAll(){return(0,Ge._w)(this._delegate).then(ve=>new Nt(ve,this.storage))}list(ve){return(0,Ge.p_)(this._delegate,ve||void 0).then(je=>new Nt(je,this.storage))}getMetadata(){return(0,Ge.yb)(this._delegate)}updateMetadata(ve){return(0,Ge.D5)(this._delegate,ve)}getDownloadURL(){return(0,Ge.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ge.XR)(this._delegate)}_throwIfRoot(ve){if(""===this._delegate._location.path)throw(0,Ge.UY)(ve)}}class ze{constructor(ve,je){this.app=ve,this._delegate=je}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ve){if(pe(ve))throw(0,Ge.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new rn((0,Ge.KR)(this._delegate,ve),this)}refFromURL(ve){if(!pe(ve))throw(0,Ge.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.TZ.makeFromUrl(ve,this._delegate.host)}catch{throw(0,Ge.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new rn((0,Ge.KR)(this._delegate,ve),this)}setMaxUploadRetryTime(ve){this._delegate.maxUploadRetryTime=ve}setMaxOperationRetryTime(ve){this._delegate.maxOperationRetryTime=ve}useEmulator(ve,je,ot={}){(0,Ge.nb)(this._delegate,ve,je,ot)}}function pe(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function Et(Ae,{instanceIdentifier:ve}){const je=Ae.getProvider("app-compat").getImmediate(),ot=Ae.getProvider("storage").getImmediate({identifier:ve});return new ze(je,ot)}!function Vt(Ae){const ve={TaskState:Ge.Ad,TaskEvent:Ge.xc,StringFormat:Ge.nw,Storage:ze,Reference:rn};Ae.INTERNAL.registerComponent(new St.uA("storage-compat",Et,"PUBLIC").setServiceProps(ve).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(at.A);var we=k(7935);function Tn(Ae){const ve=function sn(Ae){return new oe.c(ve=>{const je=Pn=>ve.next(Pn);je(Ae.snapshot);const Bt=Ae.on("state_changed",je);return Ae.then(Pn=>{je(Pn),ve.complete()},Pn=>{je(Ae.snapshot),(Pn=>{ve.error(Pn)})(Pn)}),function(){Bt()}}).pipe(function Ne(Ae,ve=fe.E){return(0,Te.N)((je,ot)=>{let nt=null,Bt=null,Pn=null;const fr=()=>{if(nt){nt.unsubscribe(),nt=null;const jn=Bt;Bt=null,ot.next(jn)}};function hn(){const jn=Pn+Ae,nn=ve.now();if(nn<jn)return nt=this.schedule(void 0,jn-nn),void ot.add(nt);fr()}je.subscribe((0,Ce._)(ot,jn=>{Bt=jn,Pn=ve.now(),nt||(nt=ve.schedule(hn,Ae),ot.add(nt))},()=>{fr(),ot.complete()},void 0,()=>{Bt=nt=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>ve,percentageChanges:()=>ve.pipe((0,xe.T)(je=>je.bytesTransferred/je.totalBytes*100))}}function or(Ae){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(o.Oe,(0,z.n)(()=>Ae.getDownloadURL()),o.U0),getMetadata:()=>(0,r.of)(void 0).pipe(o.Oe,(0,z.n)(()=>Ae.getMetadata()),o.U0),delete:()=>(0,ye.H)(Ae.delete()),child:ve=>or(Ae.child(ve)),updateMetadata:ve=>(0,ye.H)(Ae.updateMetadata(ve)),put:(ve,je)=>Tn(Ae.put(ve,je)),putString:(ve,je,ot)=>Tn(Ae.putString(ve,je,ot)),list:ve=>(0,ye.H)(Ae.list(ve)),listAll:()=>(0,ye.H)(Ae.listAll())}}const Lt=new ne.nKC("angularfire2.storageBucket"),Yt=new ne.nKC("angularfire2.storage.maxUploadRetryTime"),Xt=new ne.nKC("angularfire2.storage.maxOperationRetryTime"),gt=new ne.nKC("angularfire2.storage.use-emulator");let Ue=(()=>{class Ae{storage;constructor(je,ot,nt,Bt,Pn,fr,hn,jn,nn,er){const Bn=(0,be.iB)(je,Pn,ot);this.storage=(0,be.BM)(`${Bn.name}.storage.${nt}`,"AngularFireStorage",Bn.name,()=>{const Ut=Pn.runOutsideAngular(()=>Bn.storage(nt||void 0)),Ht=nn;return Ht&&Ut.useEmulator(...Ht),hn&&Ut.setMaxUploadRetryTime(hn),jn&&Ut.setMaxOperationRetryTime(jn),Ut},[hn,jn])}ref(je){return or(this.storage.ref(je))}refFromURL(je){return or(this.storage.refFromURL(je))}upload(je,ot,nt){return or(this.storage.ref(je)).put(ot,nt)}static \u0275fac=function(ot){return new(ot||Ae)(ne.KVO(be.rx),ne.KVO(be.uP,8),ne.KVO(Lt,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(o.u0),ne.KVO(Yt,8),ne.KVO(Xt,8),ne.KVO(gt,8),ne.KVO(o.Jv,8))};static \u0275prov=ne.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),ln=(()=>{class Ae{static \u0275fac=function(ot){return new(ot||Ae)};static \u0275mod=ne.$C({type:Ae});static \u0275inj=ne.G2t({})}return Ae})(),Ke=(()=>{class Ae{constructor(){we.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(ot){return new(ot||Ae)};static \u0275mod=ne.$C({type:Ae});static \u0275inj=ne.G2t({providers:[Ue],imports:[ln]})}return Ae})()},9253:(dn,Je,k)=>{k.d(Je,{BM:()=>Ge,Gt:()=>fe,bf:()=>at,e7:()=>Te,iB:()=>z,rx:()=>Ne,uP:()=>xe});var o=k(7705),oe=k(5407),r=k(7935);const ye=["ngOnDestroy"],fe=(Nt,rn,ze,pe={})=>new Proxy(Nt,{get:(Ze,ke)=>ze.runOutsideAngular(()=>{if(Nt[ke])return pe?.spy?.get&&pe.spy.get(ke,Nt[ke]),Nt[ke];if(ye.indexOf(ke)>-1)return()=>{};const tt=rn.toPromise().then(Et=>{const Vt=Et?.[ke];return"function"==typeof Vt?Vt.bind(Et):Vt?.then?Vt.then(we=>ze.run(()=>we)):ze.run(()=>Vt)});return new Proxy(()=>{},{get:(Et,Vt)=>tt[Vt],apply:(Et,Vt,we)=>tt.then(sn=>{const Tn=sn?.(...we);return pe?.spy?.apply&&pe.spy.apply(ke,we,Tn),Tn})})})}),Te=(Nt,rn)=>{rn.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(pe=>{Object.defineProperty(Nt.prototype,pe,Object.getOwnPropertyDescriptor(ze.prototype||ze,pe))})})};class Ce{constructor(rn){return rn}}const Ne=new o.nKC("angularfire2.app.options"),xe=new o.nKC("angularfire2.app.name");function z(Nt,rn,ze){const Ze="object"==typeof ze&&ze||{};Ze.name=Ze.name||"string"==typeof ze&&ze||"[DEFAULT]";const tt=r.A.apps.filter(Et=>Et&&Et.name===Ze.name)[0]||rn.runOutsideAngular(()=>r.A.initializeApp(Nt,Ze));try{if(JSON.stringify(Nt)!==JSON.stringify(tt.options)){const Et=!!module.hot;ne("error",`${tt.name} Firebase App already initialized with different options${Et?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ce(tt)}const ne=(Nt,...rn)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...rn)},be={provide:Ce,useFactory:z,deps:[Ne,o.SKi,[new o.Xx1,xe]]};let at=(()=>{class Nt{static initializeApp(ze,pe){return{ngModule:Nt,providers:[{provide:Ne,useValue:ze},{provide:xe,useValue:pe}]}}constructor(ze){r.A.registerVersion("angularfire",oe.xv.full,"core"),r.A.registerVersion("angularfire",oe.xv.full,"app-compat"),r.A.registerVersion("angular",o.xvI.full,ze.toString())}static \u0275fac=function(pe){return new(pe||Nt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Nt});static \u0275inj=o.G2t({providers:[be]})}return Nt})();function Ge(Nt,rn,ze,pe,Ze){const[,ke,tt]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===Nt)||[];if(ke)return function St(Nt,rn){try{return Nt.toString()===rn.toString()}catch{return Nt===rn}}(Ze,tt)||(jt("error",`${rn} was already initialized on the ${ze} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:Ze,was:tt})),ke;{const Et=pe();return globalThis.\u0275AngularfireInstanceCache.push([Nt,Et,Ze]),Et}}const ht=typeof module<"u"&&!!module.hot,jt=(Nt,...rn)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...rn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(dn,Je,k)=>{k.d(Je,{xv:()=>Ge,U0:()=>Tn,Oe:()=>we,u0:()=>ke,Jv:()=>Nt,CA:()=>jt,lR:()=>ht,S3:()=>Yt});var o=k(7705),oe=k(2214),r=k(6780),fe=k(9687);const Ce=new class Te extends fe.q{}(class ye extends r.R{constructor(gt,Ue){super(gt,Ue),this.scheduler=gt,this.work=Ue}schedule(gt,Ue=0){return Ue>0?super.schedule(gt,Ue):(this.delay=Ue,this.state=gt,this.scheduler.flush(this),this)}execute(gt,Ue){return Ue>0||this.closed?super.execute(gt,Ue):this._execute(gt,Ue)}requestAsyncId(gt,Ue,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(gt,Ue,st):(gt.flush(this),0)}});var xe=k(3236),z=k(1985),ne=k(8141),be=k(941),at=k(6745);const Ge=new o.RxE("ANGULARFIRE2_VERSION");function ht(Xt,gt,Ue){if(gt){if(1===gt.length)return gt[0];const Ke=gt.filter(Ae=>Ae.app===Ue);if(1===Ke.length)return Ke[0]}return Ue.container.getProvider(Xt).getImmediate({optional:!0})}const jt=(Xt,gt)=>{const Ue=gt?[gt]:(0,oe.Dk)(),st=[];return Ue.forEach(ln=>{ln.container.getProvider(Xt).instances.forEach(Ae=>{st.includes(Ae)||st.push(Ae)})}),st};class Nt{constructor(){return jt(rn)}}const rn="app-check";function ze(){}class pe{zone;delegate;constructor(gt,Ue=Ce){this.zone=gt,this.delegate=Ue}now(){return this.delegate.now()}schedule(gt,Ue,st){const ln=this.zone;return this.delegate.schedule(function(Ae){ln.runGuarded(()=>{gt.apply(this,[Ae])})},Ue,st)}}class Ze{zone;task=null;constructor(gt){this.zone=gt}call(gt,Ue){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),Ue.pipe((0,ne.M)({next:st,complete:st,error:st})).subscribe(gt).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ke=(()=>{class Xt{ngZone;outsideAngular;insideAngular;constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new pe(Zone.current)),this.insideAngular=Ue.run(()=>new pe(Zone.current,xe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Xt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function tt(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function Vt(Xt){return tt().ngZone.run(()=>Xt())}function we(Xt){return Xt.pipe((0,be.Q)(tt().outsideAngular))}function Tn(Xt){return function or(Xt){return function(Ue){return(Ue=Ue.lift(new Ze(Xt.ngZone))).pipe((0,at._)(Xt.outsideAngular),(0,be.Q)(Xt.insideAngular))}}(tt())(Xt)}const Lt=(Xt,gt)=>function(){const st=arguments;return gt&&setTimeout(()=>{"scheduled"===gt.state&&gt.invoke()},10),Vt(()=>Xt.apply(void 0,st))},Yt=(Xt,gt)=>function(){let Ue;const st=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof st[Ke]&&(gt&&(Ue||=Vt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze))),st[Ke]=Lt(st[Ke],Ue));const ln=function Et(Xt){return tt().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,st));if(!gt){if(ln instanceof z.c){const Ke=tt();return ln.pipe((0,at._)(Ke.outsideAngular),(0,be.Q)(Ke.insideAngular))}return Vt(()=>ln)}return ln instanceof z.c?ln.pipe(Tn):ln instanceof Promise?Vt(()=>new Promise((Ke,Ae)=>ln.then(ve=>Vt(()=>Ke(ve)),ve=>Vt(()=>Ae(ve))))):"function"==typeof ln&&Ue?function(){return setTimeout(()=>{Ue&&"scheduled"===Ue.state&&Ue.invoke()},10),ln.apply(this,arguments)}:Vt(()=>ln)}},4341:(dn,Je,k)=>{k.d(Je,{Zm:()=>jt,me:()=>pe,v8:()=>hs,ok:()=>Is,JD:()=>ai,j4:()=>wn,$R:()=>pr,YN:()=>Vo,BC:()=>Jn,cb:()=>Mn,cV:()=>Fi,vS:()=>js,xH:()=>$s,Q0:()=>xs,Fm:()=>fi,X1:()=>oo,YS:()=>ci,wz:()=>vs,k0:()=>we,qT:()=>ys,y7:()=>bt});var o=k(7705),oe=k(177),r=k(8455),ye=k(1985),fe=k(3073),Te=k(8750),Ce=k(3794),Ne=k(4360),xe=k(6450),z=k(8496),be=k(6354);let at=(()=>{class W{constructor(V,ce){this._renderer=V,this._elementRef=ce,this.onChange=Be=>{},this.onTouched=()=>{}}setProperty(V,ce){this._renderer.setProperty(this._elementRef.nativeElement,V,ce)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),Ge=(()=>{class W extends at{static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const St=new o.nKC("NgValueAccessor"),ht={provide:St,useExisting:(0,o.Rfq)(()=>jt),multi:!0};let jt=(()=>{class W extends Ge{writeValue(V){this.setProperty("checked",V)}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(_r){return Be.onChange(_r.target.checked)})("blur",function(){return Be.onTouched()})},features:[o.Jv_([ht]),o.Vt3]})}}return W})();const Nt={provide:St,useExisting:(0,o.Rfq)(()=>pe),multi:!0},ze=new o.nKC("CompositionEventMode");let pe=(()=>{class W extends at{constructor(V,ce,Be){super(V,ce),this._compositionMode=Be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rn(){const W=(0,oe.QT)()?(0,oe.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ze,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("input",function(_r){return Be._handleInput(_r.target.value)})("blur",function(){return Be.onTouched()})("compositionstart",function(){return Be._compositionStart()})("compositionend",function(_r){return Be._compositionEnd(_r.target.value)})},features:[o.Jv_([Nt]),o.Vt3]})}}return W})();function Ze(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ke(W){return null!=W&&"number"==typeof W.length}const tt=new o.nKC("NgValidators"),Et=new o.nKC("NgAsyncValidators"),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(J){return function sn(W){return J=>{if(Ze(J.value)||Ze(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function Tn(W){return J=>{if(Ze(J.value)||Ze(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return or(J)}static requiredTrue(J){return function Lt(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function Yt(W){return Ze(W.value)||Vt.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Xt(W){return J=>Ze(J.value)||!ke(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function gt(W){return J=>ke(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Ue(W){if(!W)return st;let J,V;return"string"==typeof W?(V="","^"!==W.charAt(0)&&(V+="^"),V+=W,"$"!==W.charAt(W.length-1)&&(V+="$"),J=new RegExp(V)):(V=W.toString(),J=W),ce=>{if(Ze(ce.value))return null;const Be=ce.value;return J.test(Be)?null:{pattern:{requiredPattern:V,actualValue:Be}}}}(J)}static nullValidator(J){return null}static compose(J){return nt(J)}static composeAsync(J){return Pn(J)}}function or(W){return Ze(W.value)?{required:!0}:null}function st(W){return null}function ln(W){return null!=W}function Ke(W){return(0,o.jNT)(W)?(0,r.H)(W):W}function Ae(W){let J={};return W.forEach(V=>{J=null!=V?{...J,...V}:J}),0===Object.keys(J).length?null:J}function ve(W,J){return J.map(V=>V(W))}function ot(W){return W.map(J=>function je(W){return!W.validate}(J)?J:V=>J.validate(V))}function nt(W){if(!W)return null;const J=W.filter(ln);return 0==J.length?null:function(V){return Ae(ve(V,J))}}function Bt(W){return null!=W?nt(ot(W)):null}function Pn(W){if(!W)return null;const J=W.filter(ln);return 0==J.length?null:function(V){return function ne(...W){const J=(0,Ce.ms)(W),{args:V,keys:ce}=(0,fe.D)(W),Be=new ye.c(pn=>{const{length:_r}=V;if(!_r)return void pn.complete();const os=new Array(_r);let to=_r,ps=_r;for(let wo=0;wo<_r;wo++){let Gs=!1;(0,Te.Tg)(V[wo]).subscribe((0,Ne._)(pn,as=>{Gs||(Gs=!0,ps--),os[wo]=as},()=>to--,void 0,()=>{(!to||!Gs)&&(ps||pn.next(ce?(0,z.e)(ce,os):os),pn.complete())}))}});return J?Be.pipe((0,xe.I)(J)):Be}(ve(V,J).map(Ke)).pipe((0,be.T)(Ae))}}function fr(W){return null!=W?Pn(ot(W)):null}function hn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function jn(W){return W._rawValidators}function nn(W){return W._rawAsyncValidators}function er(W){return W?Array.isArray(W)?W:[W]:[]}function Bn(W,J){return Array.isArray(W)?W.includes(J):W===J}function Ut(W,J){const V=er(J);return er(W).forEach(Be=>{Bn(V,Be)||V.push(Be)}),V}function Ht(W,J){return er(J).filter(V=>!Bn(W,V))}class Dr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=fr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,V){return!!this.control&&this.control.hasError(J,V)}getError(J,V){return this.control?this.control.getError(J,V):null}}class yn extends Dr{get formDirective(){return null}get path(){return null}}class Ur extends Dr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jn=(()=>{class W extends ir{constructor(V){super(V)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(Ur,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,Be){2&ce&&o.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)},features:[o.Vt3]})}}return W})(),Mn=(()=>{class W extends ir{constructor(V){super(V)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(yn,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,Be){2&ce&&o.AVh("ng-untouched",Be.isUntouched)("ng-touched",Be.isTouched)("ng-pristine",Be.isPristine)("ng-dirty",Be.isDirty)("ng-valid",Be.isValid)("ng-invalid",Be.isInvalid)("ng-pending",Be.isPending)("ng-submitted",Be.isSubmitted)},features:[o.Vt3]})}}return W})();const Kt="VALID",qn="INVALID",Wr="PENDING",vr="DISABLED";function yi(W){return(F(W)?W.validators:W)||null}function $(W,J){return(F(J)?J.asyncValidators:W)||null}function F(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ie(W,J,V){const ce=W.controls;if(!(J?Object.keys(ce):ce).length)throw new o.wOt(1e3,"");if(!ce[V])throw new o.wOt(1001,"")}function ge(W,J,V){W._forEachChild((ce,Be)=>{if(void 0===V[Be])throw new o.wOt(1002,"")})}class lt{constructor(J,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===qn}get pending(){return this.status==Wr}get disabled(){return this.status===vr}get enabled(){return this.status!==vr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Ut(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Ut(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Ht(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Ht(J,this._rawAsyncValidators))}hasValidator(J){return Bn(this._rawValidators,J)}hasAsyncValidator(J){return Bn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Wr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=vr,this.errors=null,this._forEachChild(ce=>{ce.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=Kt,this._forEachChild(ce=>{ce.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Wr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Wr,this._hasOwnPendingAsyncValidator=!0;const V=Ke(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,V={}){this.errors=J,this._updateControlsErrors(!1!==V.emitEvent)}get(J){let V=J;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ce,Be)=>ce&&ce._find(Be),this)}getError(J,V){const ce=V?this.get(V):this;return ce&&ce.errors?ce.errors[J]:null}hasError(J,V){return!!this.getError(J,V)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?vr:this.errors?qn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wr)?Wr:this._anyControlsHaveStatus(qn)?qn:Kt}_anyControlsHaveStatus(J){return this._anyControls(V=>V.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){F(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function Ct(W){return Array.isArray(W)?Bt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?fr(W):W||null}(this._rawAsyncValidators)}}class Mt extends lt{constructor(J,V,ce){super(yi(V),$(ce,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,V){return this.controls[J]?this.controls[J]:(this.controls[J]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(J,V,ce={}){this.registerControl(J,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(J,V={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(J,V,ce={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],V&&this.registerControl(J,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,V={}){ge(this,0,J),Object.keys(J).forEach(ce=>{ie(this,!0,ce),this.controls[ce].setValue(J[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(Object.keys(J).forEach(ce=>{const Be=this.controls[ce];Be&&Be.patchValue(J[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J={},V={}){this._forEachChild((ce,Be)=>{ce.reset(J?J[Be]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(J,V,ce)=>(J[ce]=V.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(V,ce)=>!!ce._syncPendingControls()||V);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(V=>{const ce=this.controls[V];ce&&J(ce,V)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[V,ce]of Object.entries(this.controls))if(this.contains(V)&&J(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ce,Be)=>((ce.enabled||this.disabled)&&(V[Be]=ce.value),V))}_reduceChildren(J,V){let ce=J;return this._forEachChild((Be,pn)=>{ce=V(ce,Be,pn)}),ce}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Rn extends Mt{}const Pe=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Se}),Se="always";function $e(W,J){return[...J.path,W]}function Ot(W,J,V=Se){cr(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===V)&&J.valueAccessor.setDisabledState?.(W.disabled),function Xr(W,J){J.valueAccessor.registerOnChange(V=>{W._pendingValue=V,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&et(W,J)})}(W,J),function Rt(W,J){const V=(ce,Be)=>{J.valueAccessor.writeValue(ce),Be&&J.viewToModelUpdate(ce)};W.registerOnChange(V),J._registerOnDestroy(()=>{W._unregisterOnChange(V)})}(W,J),function _t(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&et(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function vn(W,J){if(J.valueAccessor.setDisabledState){const V=ce=>{J.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(V),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(V)})}}(W,J)}function Jt(W,J,V=!0){const ce=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ce),J.valueAccessor.registerOnTouched(ce)),un(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function In(W,J){W.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(J)})}function cr(W,J){const V=jn(W);null!==J.validator?W.setValidators(hn(V,J.validator)):"function"==typeof V&&W.setValidators([V]);const ce=nn(W);null!==J.asyncValidator?W.setAsyncValidators(hn(ce,J.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const Be=()=>W.updateValueAndValidity();In(J._rawValidators,Be),In(J._rawAsyncValidators,Be)}function un(W,J){let V=!1;if(null!==W){if(null!==J.validator){const Be=jn(W);if(Array.isArray(Be)&&Be.length>0){const pn=Be.filter(_r=>_r!==J.validator);pn.length!==Be.length&&(V=!0,W.setValidators(pn))}}if(null!==J.asyncValidator){const Be=nn(W);if(Array.isArray(Be)&&Be.length>0){const pn=Be.filter(_r=>_r!==J.asyncValidator);pn.length!==Be.length&&(V=!0,W.setAsyncValidators(pn))}}}const ce=()=>{};return In(J._rawValidators,ce),In(J._rawAsyncValidators,ce),V}function et(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function fn(W,J){cr(W,J)}function Ee(W,J){if(!W.hasOwnProperty("model"))return!1;const V=W.model;return!!V.isFirstChange()||!Object.is(J,V.currentValue)}function ee(W,J){W._syncPendingControls(),J.forEach(V=>{const ce=V.control;"submit"===ce.updateOn&&ce._pendingChange&&(V.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function He(W,J){if(!J)return null;let V,ce,Be;return Array.isArray(J),J.forEach(pn=>{pn.constructor===pe?V=pn:function zt(W){return Object.getPrototypeOf(W.constructor)===Ge}(pn)?ce=pn:Be=pn}),Be||ce||V||null}const Kr={provide:yn,useExisting:(0,o.Rfq)(()=>Fi)},Tr=(()=>Promise.resolve())();let Fi=(()=>{class W extends yn{constructor(V,ce,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Mt({},Bt(V),fr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Tr.then(()=>{const ce=this._findContainer(V.path);V.control=ce.registerControl(V.name,V.control),Ot(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Tr.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Tr.then(()=>{const ce=this._findContainer(V.path),Be=new Mt({});fn(Be,V),ce.registerControl(V.name,Be),Be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Tr.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ce){Tr.then(()=>{this.form.get(V.path).setValue(ce)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,ee(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(tt,10),o.rXU(Et,10),o.rXU(Pe,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("submit",function(_r){return Be.onSubmit(_r)})("reset",function(){return Be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Kr]),o.Vt3]})}}return W})();function qi(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}function ii(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Xi=class extends lt{constructor(J=null,V,ce){super(yi(V),$(ce,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=ii(J)?J.value:J)}setValue(J,V={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(J,V={}){this.setValue(J,V)}reset(J=this.defaultValue,V={}){this._applyFormState(J),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){qi(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){qi(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){ii(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let Cs=(()=>{class W extends yn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $e(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const Zs={provide:Ur,useExisting:(0,o.Rfq)(()=>js)},si=(()=>Promise.resolve())();let js=(()=>{class W extends Ur{constructor(V,ce,Be,pn,_r,os){super(),this._changeDetectorRef=_r,this.callSetDisabledState=os,this.control=new Xi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Be),this.valueAccessor=He(0,pn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ce=V.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Ee(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ot(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){si.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ce=V.isDisabled.currentValue,Be=0!==ce&&(0,o.L39)(ce);si.then(()=>{Be&&!this.control.disabled?this.control.disable():!Be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?$e(V,this._parent):[V]}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(yn,9),o.rXU(tt,10),o.rXU(Et,10),o.rXU(St,10),o.rXU(o.gRc,8),o.rXU(Pe,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Zs]),o.Vt3,o.OA$]})}}return W})(),ys=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const To={provide:St,useExisting:(0,o.Rfq)(()=>xs),multi:!0};let xs=(()=>{class W extends Ge{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=ce=>{V(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("input",function(_r){return Be.onChange(_r.target.value)})("blur",function(){return Be.onTouched()})},features:[o.Jv_([To]),o.Vt3]})}}return W})();const kr={provide:St,useExisting:(0,o.Rfq)(()=>fi),multi:!0};let Oi=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),Ps=(()=>{class W{constructor(){this._accessors=[]}add(V,ce){this._accessors.push([V,ce])}remove(V){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===V)return void this._accessors.splice(ce,1)}select(V){this._accessors.forEach(ce=>{this._isSameGroup(ce,V)&&ce[1]!==V&&ce[1].fireUncheck(V.value)})}_isSameGroup(V,ce){return!!V[0].control&&V[0]._parent===ce._control._parent&&V[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:Oi})}}return W})(),fi=(()=>{class W extends Ge{constructor(V,ce,Be,pn){super(V,ce),this._registry=Be,this._injector=pn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(Pe,{optional:!0})??Se}ngOnInit(){this._control=this._injector.get(Ur),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Ps),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(){return Be.onChange()})("blur",function(){return Be.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([kr]),o.Vt3]})}}return W})();const Qi=new o.nKC("NgModelWithFormControlWarning"),pi={provide:yn,useExisting:(0,o.Rfq)(()=>wn)};let wn=(()=>{class W extends yn{constructor(V,ce,Be){super(),this.callSetDisabledState=Be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(V),this._setAsyncValidators(ce)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(un(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ce=this.form.get(V.path);return Ot(ce,V,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ce}getControl(V){return this.form.get(V.path)}removeControl(V){Jt(V.control||null,V,!1),function kt(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ce){this.form.get(V.path).setValue(ce)}onSubmit(V){return this.submitted=!0,ee(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ce=V.control,Be=this.form.get(V.path);ce!==Be&&(Jt(ce||null,V),(W=>W instanceof Xi)(Be)&&(Ot(Be,V,this.callSetDisabledState),V.control=Be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ce=this.form.get(V.path);fn(ce,V),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ce=this.form.get(V.path);ce&&function Un(W,J){return un(W,J)}(ce,V)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cr(this.form,this),this._oldForm&&un(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(tt,10),o.rXU(Et,10),o.rXU(Pe,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("submit",function(_r){return Be.onSubmit(_r)})("reset",function(){return Be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([pi]),o.Vt3,o.OA$]})}}return W})();const gr={provide:yn,useExisting:(0,o.Rfq)(()=>pr)};let pr=(()=>{class W extends Cs{constructor(V,ce,Be){super(),this.name=null,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Be)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(yn,13),o.rXU(tt,10),o.rXU(Et,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([gr]),o.Vt3]})}}return W})();const is={provide:yn,useExisting:(0,o.Rfq)(()=>hs)};let hs=(()=>{class W extends yn{constructor(V,ce,Be){super(),this.name=null,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Be)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $e(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(yn,13),o.rXU(tt,10),o.rXU(Et,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([is]),o.Vt3]})}}return W})();function zi(W){return!(W instanceof pr||W instanceof wn||W instanceof hs)}const Bs={provide:Ur,useExisting:(0,o.Rfq)(()=>ai)};let ai=(()=>{class W extends Ur{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,ce,Be,pn,_r){super(),this._ngModelWarningConfig=_r,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ce),this._setAsyncValidators(Be),this.valueAccessor=He(0,pn)}ngOnChanges(V){this._added||this._setUpControl(),Ee(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return $e(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(yn,13),o.rXU(tt,10),o.rXU(Et,10),o.rXU(St,10),o.rXU(Qi,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Bs]),o.Vt3,o.OA$]})}}return W})();const ss={provide:St,useExisting:(0,o.Rfq)(()=>vs),multi:!0};function Os(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let vs=(()=>{class W extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const Be=Os(this._getOptionId(V),V);this.setProperty("value",Be)}registerOnChange(V){this.onChange=ce=>{this.value=this._getOptionValue(ce),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),V))return ce;return null}_getOptionValue(V){const ce=function dr(W){return W.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce):V}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(_r){return Be.onChange(_r.target.value)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([ss]),o.Vt3]})}}return W})(),$s=(()=>{class W{constructor(V,ce,Be){this._element=V,this._renderer=ce,this._select=Be,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(Os(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(vs,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:St,useExisting:(0,o.Rfq)(()=>it),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let it=(()=>{class W extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ce;if(this.value=V,Array.isArray(V)){const Be=V.map(pn=>this._getOptionId(pn));ce=(pn,_r)=>{pn._setSelected(Be.indexOf(_r.toString())>-1)}}else ce=(Be,pn)=>{Be._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(V){this.onChange=ce=>{const Be=[],pn=ce.selectedOptions;if(void 0!==pn){const _r=pn;for(let os=0;os<_r.length;os++){const ps=this._getOptionValue(_r[os].value);Be.push(ps)}}else{const _r=ce.options;for(let os=0;os<_r.length;os++){const to=_r[os];if(to.selected){const ps=this._getOptionValue(to.value);Be.push(ps)}}}this.value=Be,V(Be)}}_registerOption(V){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,V),ce}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,V))return ce;return null}_getOptionValue(V){const ce=function De(W){return W.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:V}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,Be){1&ce&&o.bIt("change",function(_r){return Be.onChange(_r.target)})("blur",function(){return Be.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return W})(),bt=(()=>{class W{constructor(V,ce,Be){this._element=V,this._renderer=ce,this._select=Be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(it,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),An=(()=>{class W{constructor(){this._validator=st}ngOnChanges(V){if(this.inputName in V){const ce=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):st,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const mr={provide:tt,useExisting:(0,o.Rfq)(()=>ci),multi:!0};let ci=(()=>{class W extends An{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=V=>or}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(Be){return(V||(V=o.xGo(W)))(Be||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,Be){2&ce&&o.BMQ("required",Be._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([mr]),o.Vt3]})}}return W})(),tc=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Oi]})}}return W})();class Aa extends lt{constructor(J,V,ce){super(yi(V),$(ce,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,V={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(J,V,ce={}){this.controls.splice(J,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(J,V={}){let ce=this._adjustIndex(J);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(J,V,ce={}){let Be=this._adjustIndex(J);Be<0&&(Be=0),this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),this.controls.splice(Be,1),V&&(this.controls.splice(Be,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,V={}){ge(this,0,J),J.forEach((ce,Be)=>{ie(this,!1,Be),this.at(Be).setValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(J.forEach((ce,Be)=>{this.at(Be)&&this.at(Be).patchValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J=[],V={}){this._forEachChild((ce,Be)=>{ce.reset(J[Be],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((V,ce)=>!!ce._syncPendingControls()||V,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((V,ce)=>{J(V,ce)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(V=>V.enabled&&J(V))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Wi(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let Is=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new W;return V.useNonNullable=!0,V}group(V,ce=null){const Be=this._reduceControls(V);let pn={};return Wi(ce)?pn=ce:null!==ce&&(pn.validators=ce.validator,pn.asyncValidators=ce.asyncValidator),new Mt(Be,pn)}record(V,ce=null){const Be=this._reduceControls(V);return new Rn(Be,ce)}control(V,ce,Be){let pn={};return this.useNonNullable?(Wi(ce)?pn=ce:(pn.validators=ce,pn.asyncValidators=Be),new Xi(V,{...pn,nonNullable:!0})):new Xi(V,ce,Be)}array(V,ce,Be){const pn=V.map(_r=>this._createControl(_r));return new Aa(pn,ce,Be)}_reduceControls(V){const ce={};return Object.keys(V).forEach(Be=>{ce[Be]=this._createControl(V[Be])}),ce}_createControl(V){return V instanceof Xi||V instanceof lt?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),Vo=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:Pe,useValue:V.callSetDisabledState??Se}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[tc]})}}return W})(),oo=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:Qi,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Pe,useValue:V.callSetDisabledState??Se}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[tc]})}}return W})()},345:(dn,Je,k)=>{k.d(Je,{B7:()=>Vt,Bb:()=>Bn,W8:()=>Ht,hE:()=>Ur,sG:()=>hn,up:()=>Gr});var o=k(7705),oe=k(177);class r extends oe.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends r{static makeCurrent(){(0,oe.ZD)(new ye)}onAndCancel($,M,F){return $.addEventListener(M,F),()=>{$.removeEventListener(M,F)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function Te(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==M?null:function Ne(Ct){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",Ct);const $=Ce.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,oe._b)(document.cookie,$)}}let Ce,fe=null,z=(()=>{class Ct{build(){return new XMLHttpRequest}static{this.\u0275fac=function(F){return new(F||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const ne=new o.nKC("EventManagerPlugins");let be=(()=>{class Ct{constructor(M,F){this._zone=F,this._eventNameToPlugin=new Map,M.forEach(ie=>{ie.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,F,ie){return this._findPluginFor(F).addEventListener(M,F,ie)}getZone(){return this._zone}_findPluginFor(M){let F=this._eventNameToPlugin.get(M);if(F)return F;if(F=this._plugins.find(ge=>ge.supports(M)),!F)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,F),F}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(ne),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class at{constructor($){this._doc=$}}const Ge="ng-app-id";let St=(()=>{class Ct{constructor(M,F,ie,ge={}){this.doc=M,this.appId=F,this.nonce=ie,this.platformId=ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.Vy)(ge),this.resetHostNodes()}addStyles(M){for(const F of M)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(M){for(const F of M)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(F=>F.remove()),M.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const F of this.getAllStyles())this.addStyleToHost(M,F)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const F of this.hostNodes)this.addStyleToHost(F,M)}onStyleRemoved(M){const F=this.styleRef;F.get(M)?.elements?.forEach(ie=>ie.remove()),F.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(M?.length){const F=new Map;return M.forEach(ie=>{null!=ie.textContent&&F.set(ie.textContent,ie)}),F}return null}changeUsageCount(M,F){const ie=this.styleRef;if(ie.has(M)){const ge=ie.get(M);return ge.usage+=F,ge.usage}return ie.set(M,{usage:F,elements:[]}),F}getStyleElement(M,F){const ie=this.styleNodesInDOM,ge=ie?.get(F);if(ge?.parentNode===M)return ie.delete(F),ge.removeAttribute(Ge),ge;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=F,this.platformIsServer&&lt.setAttribute(Ge,this.appId),lt}}addStyleToHost(M,F){const ie=this.getStyleElement(M,F);M.appendChild(ie);const ge=this.styleRef,lt=ge.get(F)?.elements;lt?lt.push(ie):ge.set(F,{elements:[ie],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,Ze=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Et(Ct,$){return $.map(M=>M.replace(jt,Ct))}let Vt=(()=>{class Ct{constructor(M,F,ie,ge,lt,Mt,gn,mn=null){this.eventManager=M,this.sharedStylesHost=F,this.appId=ie,this.removeStylesOnCompDestroy=ge,this.doc=lt,this.platformId=Mt,this.ngZone=gn,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.Vy)(Mt),this.defaultRenderer=new we(M,lt,gn,this.platformIsServer)}createRenderer(M,F){if(!M||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===o.gXe.ShadowDom&&(F={...F,encapsulation:o.gXe.Emulated});const ie=this.getOrCreateRenderer(M,F);return ie instanceof Xt?ie.applyToHost(M):ie instanceof Yt&&ie.applyStyles(),ie}getOrCreateRenderer(M,F){const ie=this.rendererByCompId;let ge=ie.get(F.id);if(!ge){const lt=this.doc,Mt=this.ngZone,gn=this.eventManager,mn=this.sharedStylesHost,Rn=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(F.encapsulation){case o.gXe.Emulated:ge=new Xt(gn,mn,F,this.appId,Rn,lt,Mt,Er);break;case o.gXe.ShadowDom:return new Lt(gn,mn,M,F,lt,Mt,this.nonce,Er);default:ge=new Yt(gn,mn,F,Rn,lt,Mt,Er)}ie.set(F.id,ge)}return ge}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(be),o.KVO(St),o.KVO(o.sZ2),o.KVO(Ze),o.KVO(oe.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class we{constructor($,M,F,ie){this.eventManager=$,this.doc=M,this.ngZone=F,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(ht[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(or($)?$.content:$).appendChild(M)}insertBefore($,M,F){$&&(or($)?$.content:$).insertBefore(M,F)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let F="string"==typeof $?this.doc.querySelector($):$;if(!F)throw new o.wOt(-5104,!1);return M||(F.textContent=""),F}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,F,ie){if(ie){M=ie+":"+M;const ge=ht[ie];ge?$.setAttributeNS(ge,M,F):$.setAttribute(M,F)}else $.setAttribute(M,F)}removeAttribute($,M,F){if(F){const ie=ht[F];ie?$.removeAttributeNS(ie,M):$.removeAttribute(`${F}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,F,ie){ie&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,F,ie&o.czy.Important?"important":""):$.style[M]=F}removeStyle($,M,F){F&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,F){$[M]=F}setValue($,M){$.nodeValue=M}listen($,M,F){if("string"==typeof $&&!($=(0,oe.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(F))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function or(Ct){return"TEMPLATE"===Ct.tagName&&void 0!==Ct.content}class Lt extends we{constructor($,M,F,ie,ge,lt,Mt,gn){super($,ge,lt,gn),this.sharedStylesHost=M,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=Et(ie.id,ie.styles);for(const Rn of mn){const Er=document.createElement("style");Mt&&Er.setAttribute("nonce",Mt),Er.textContent=Rn,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,F){return super.insertBefore(this.nodeOrShadowRoot($),M,F)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yt extends we{constructor($,M,F,ie,ge,lt,Mt,gn){super($,ge,lt,Mt),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ie,this.styles=gn?Et(gn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xt extends Yt{constructor($,M,F,ie,ge,lt,Mt,gn){const mn=ie+"-"+F.id;super($,M,F,ge,lt,Mt,gn,mn),this.contentAttr=function ke(Ct){return"_ngcontent-%COMP%".replace(jt,Ct)}(mn),this.hostAttr=function tt(Ct){return"_nghost-%COMP%".replace(jt,Ct)}(mn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const F=super.createElement($,M);return super.setAttribute(F,this.contentAttr,""),F}}let gt=(()=>{class Ct extends at{constructor(M){super(M)}supports(M){return!0}addEventListener(M,F,ie){return M.addEventListener(F,ie,!1),()=>this.removeEventListener(M,F,ie)}removeEventListener(M,F,ie){return M.removeEventListener(F,ie)}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const Ue=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={alt:Ct=>Ct.altKey,control:Ct=>Ct.ctrlKey,meta:Ct=>Ct.metaKey,shift:Ct=>Ct.shiftKey};let Ke=(()=>{class Ct extends at{constructor(M){super(M)}supports(M){return null!=Ct.parseEventName(M)}addEventListener(M,F,ie){const ge=Ct.parseEventName(F),lt=Ct.eventCallback(ge.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.QT)().onAndCancel(M,ge.domEventName,lt))}static parseEventName(M){const F=M.toLowerCase().split("."),ie=F.shift();if(0===F.length||"keydown"!==ie&&"keyup"!==ie)return null;const ge=Ct._normalizeKey(F.pop());let lt="",Mt=F.indexOf("code");if(Mt>-1&&(F.splice(Mt,1),lt="code."),Ue.forEach(mn=>{const Rn=F.indexOf(mn);Rn>-1&&(F.splice(Rn,1),lt+=mn+".")}),lt+=ge,0!=F.length||0===ge.length)return null;const gn={};return gn.domEventName=ie,gn.fullKey=lt,gn}static matchEventFullKeyCode(M,F){let ie=st[M.key]||M.key,ge="";return F.indexOf("code.")>-1&&(ie=M.code,ge="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),Ue.forEach(lt=>{lt!==ie&&(0,ln[lt])(M)&&(ge+=lt+".")}),ge+=ie,ge===F)}static eventCallback(M,F,ie){return ge=>{Ct.matchEventFullKeyCode(ge,M)&&ie.runGuarded(()=>F(ge))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const hn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:oe.AJ},{provide:o.PLl,useValue:function nt(){ye.makeCurrent()},multi:!0},{provide:oe.qQ,useFactory:function Pn(){return(0,o.TL$)(document),document},deps:[]}]),jn=new o.nKC(""),nn=[{provide:o.e01,useClass:class xe{addToWindow($){o.JZv.getAngularTestability=(F,ie=!0)=>{const ge=$.findTestabilityInTree(F,ie);if(null==ge)throw new o.wOt(5103,!1);return ge},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(F=>{const ie=o.JZv.getAllAngularTestabilities();let ge=ie.length,lt=!1;const Mt=function(gn){lt=lt||gn,ge--,0==ge&&F(lt)};ie.forEach(gn=>{gn.whenStable(Mt)})})}findTestabilityInTree($,M,F){return null==M?null:$.getTestability(M)??(F?(0,oe.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],er=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Bt(){return new o.zcH},deps:[]},{provide:ne,useClass:gt,multi:!0,deps:[oe.qQ,o.SKi,o.Agw]},{provide:ne,useClass:Ke,multi:!0,deps:[oe.qQ]},Vt,St,be,{provide:o._9s,useExisting:Vt},{provide:oe.N0,useClass:z,deps:[]},[]];let Bn=(()=>{class Ct{constructor(M){}static withServerTransition(M){return{ngModule:Ct,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(jn,12))}}static{this.\u0275mod=o.$C({type:Ct})}static{this.\u0275inj=o.G2t({providers:[...er,...nn],imports:[oe.MD,o.Hbi]})}}return Ct})(),Ht=(()=>{class Ct{constructor(M){this._doc=M,this._dom=(0,oe.QT)()}addTag(M,F=!1){return M?this._getOrCreateElement(M,F):null}addTags(M,F=!1){return M?M.reduce((ie,ge)=>(ge&&ie.push(this._getOrCreateElement(ge,F)),ie),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const F=this._doc.querySelectorAll(`meta[${M}]`);return F?[].slice.call(F):[]}updateTag(M,F){if(!M)return null;F=F||this._parseSelector(M);const ie=this.getTag(F);return ie?this._setMetaElementAttributes(M,ie):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,F=!1){if(!F){const lt=this._parseSelector(M),Mt=this.getTags(lt).filter(gn=>this._containsAttributes(M,gn))[0];if(void 0!==Mt)return Mt}const ie=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ie),this._doc.getElementsByTagName("head")[0].appendChild(ie),ie}_setMetaElementAttributes(M,F){return Object.keys(M).forEach(ie=>F.setAttribute(this._getMetaKeyMap(ie),M[ie])),F}_parseSelector(M){const F=M.name?"name":"property";return`${F}="${M[F]}"`}_containsAttributes(M,F){return Object.keys(M).every(ie=>F.getAttribute(this._getMetaKeyMap(ie))===M[ie])}_getMetaKeyMap(M){return Dr[M]||M}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(F){let ie=null;return ie=F?new F:function Ut(){return new Ht((0,o.KVO)(oe.qQ))}(),ie},providedIn:"root"})}}return Ct})();const Dr={httpEquiv:"http-equiv"};let Ur=(()=>{class Ct{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(F){let ie=null;return ie=F?new F:function yn(){return new Ur((0,o.KVO)(oe.qQ))}(),ie},providedIn:"root"})}}return Ct})();typeof window<"u"&&window;let Gr=(()=>{class Ct{static{this.\u0275fac=function(F){return new(F||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(F){let ie=null;return ie=F?new(F||Ct):o.KVO(ut),ie},providedIn:"root"})}}return Ct})(),ut=(()=>{class Ct extends Gr{constructor(M){super(),this._doc=M}sanitize(M,F){if(null==F)return null;switch(M){case o.WPN.NONE:return F;case o.WPN.HTML:return(0,o.ZF7)(F,"HTML")?(0,o.rcV)(F):(0,o.h9k)(this._doc,String(F)).toString();case o.WPN.STYLE:return(0,o.ZF7)(F,"Style")?(0,o.rcV)(F):F;case o.WPN.SCRIPT:if((0,o.ZF7)(F,"Script"))return(0,o.rcV)(F);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(F,"URL")?(0,o.rcV)(F):(0,o.$MX)(String(F));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(F,"ResourceURL"))return(0,o.rcV)(F);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(F){return new(F||Ct)(o.KVO(oe.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(F){let ie=null;return ie=F?new F:function Ye(Ct){return new ut(Ct.get(oe.qQ))}(o.KVO(o.zZn)),ie},providedIn:"root"})}}return Ct})()},6814:(dn,Je,k)=>{k.d(Je,{nX:()=>pr,Ix:()=>$i,Wk:()=>ha,wQ:()=>As,iI:()=>Ul,n3:()=>vs});var o=k(7705),oe=k(1985),r=k(8071),fe=k(8455),Te=k(7673),Ce=k(4412),Ne=k(3073),xe=k(3669),z=k(6450),ne=k(3794),be=k(8496),at=k(4360),Ge=k(5225);function St(...D){const O=(0,ne.lI)(D),w=(0,ne.ms)(D),{args:N,keys:G}=(0,Ne.D)(D);if(0===N.length)return(0,fe.H)([],O);const ue=new oe.c(function ht(D,O,w=xe.D){return N=>{jt(O,()=>{const{length:G}=D,ue=new Array(G);let Me=G,It=G;for(let vt=0;vt<G;vt++)jt(O,()=>{const xn=(0,fe.H)(D[vt],O);let Sr=!1;xn.subscribe((0,at._)(N,Rr=>{ue[vt]=Rr,Sr||(Sr=!0,It--),It||N.next(w(ue.slice()))},()=>{--Me||N.complete()}))},N)},N)}}(N,O,G?Me=>(0,be.e)(G,Me):xe.D));return w?ue.pipe((0,z.I)(w)):ue}function jt(D,O,w){D?(0,Ge.N)(w,D,O):O()}var Nt=k(9350),rn=k(8793),ze=k(8750);function pe(D){return new oe.c(O=>{(0,ze.Tg)(D()).subscribe(O)})}var Ze=k(1203),ke=k(8810),tt=k(983),Et=k(8359),Vt=k(9974);function we(){return(0,Vt.N)((D,O)=>{let w=null;D._refCount++;const N=(0,at._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,ue=w;w=null,G&&(!ue||G===ue)&&G.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class sn extends oe.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Vt.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Et.yU;const w=this.getSubject();O.add(this.source.subscribe((0,at._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Et.yU.EMPTY)}return O}refCount(){return we()(this)}}var Tn=k(1413),or=k(177),Lt=k(6354),Yt=k(5558),Xt=k(6697),gt=k(9172),Ue=k(5964),st=k(1397),ln=k(1594),Ke=k(274),Ae=k(8141),ve=k(9437),je=k(2816),ot=k(9901);function nt(D){return D<=0?()=>tt.w:(0,Vt.N)((O,w)=>{let N=[];O.subscribe((0,at._)(w,G=>{N.push(G),D<N.length&&N.shift()},()=>{for(const G of N)w.next(G);w.complete()},void 0,()=>{N=null}))})}var Bt=k(3774),hn=k(980),jn=k(5343),er=k(6365),Bn=k(345);const Ut="primary",Ht=Symbol("RouteTitle");class Dr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function yn(D){return new Dr(D)}function Ur(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const G={};for(let ue=0;ue<N.length;ue++){const Me=N[ue],It=D[ue];if(Me.startsWith(":"))G[Me.substring(1)]=It;else if(Me!==It.path)return null}return{consumed:D.slice(0,N.length),posParams:G}}function Wt(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let G;for(let ue=0;ue<w.length;ue++)if(G=w[ue],!Dn(D[G],O[G]))return!1;return!0}function Dn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((G,ue)=>N[ue]===G)}return D===O}function Jn(D){return D.length>0?D[D.length-1]:null}function Mn(D){return function ye(D){return!!D&&(D instanceof oe.c||(0,r.T)(D.lift)&&(0,r.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,fe.H)(Promise.resolve(D)):(0,Te.of)(D)}const qr={exact:function ni(D,O,w){if(!ut(D.segments,O.segments)||!ar(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!ni(D.children[N],O.children[N],w))return!1;return!0},subset:bn},Or={exact:function Zn(D,O){return Wt(D,O)},subset:function ds(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Dn(D[w],O[w]))},ignored:()=>!0};function Zr(D,O,w){return qr[w.paths](D.root,O.root,w.matrixParams)&&Or[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function bn(D,O,w){return ri(D,O,O.segments,w)}function ri(D,O,w,N){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!ut(G,w)||O.hasChildren()||!ar(G,w,N))}if(D.segments.length===w.length){if(!ut(D.segments,w)||!ar(D.segments,w,N))return!1;for(const G in O.children)if(!D.children[G]||!bn(D.children[G],O.children[G],N))return!1;return!0}{const G=w.slice(0,D.segments.length),ue=w.slice(D.segments.length);return!!(ut(D.segments,G)&&ar(D.segments,G,N)&&D.children[Ut])&&ri(D.children[Ut],O,ue,N)}}function ar(D,O,w){return O.every((N,G)=>Or[w](D[G].parameters,N.parameters))}class xr{constructor(O=new kn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class kn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qn(this)}}class Gr{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}toString(){return ie(this)}}function ut(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Oe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new At},providedIn:"root"})}}return D})();class At{parse(O){const w=new Ot(O);return new xr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Wr(O.root,!0)}`,N=function lt(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(G=>`${yi(w)}=${yi(G)}`).join("&"):`${yi(w)}=${yi(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function Ct(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Kt=new At;function qn(D){return D.segments.map(O=>ie(O)).join("/")}function Wr(D,O){if(!D.hasChildren())return qn(D);if(O){const w=D.children[Ut]?Wr(D.children[Ut],!1):"",N=[];return Object.entries(D.children).forEach(([G,ue])=>{G!==Ut&&N.push(`${G}:${Wr(ue,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ae(D,O){let w=[];return Object.entries(D.children).forEach(([N,G])=>{N===Ut&&(w=w.concat(O(G,N)))}),Object.entries(D.children).forEach(([N,G])=>{N!==Ut&&(w=w.concat(O(G,N)))}),w}(D,(N,G)=>G===Ut?[Wr(D.children[Ut],!1)]:[`${G}:${Wr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ut]?`${qn(D)}/${w[0]}`:`${qn(D)}/(${w.join("//")})`}}function vr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(D){return vr(D).replace(/%3B/gi,";")}function $(D){return vr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function F(D){return M(D.replace(/\+/g,"%20"))}function ie(D){return`${$(D.path)}${function ge(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const Mt=/^[^\/()?;#]+/;function gn(D){const O=D.match(Mt);return O?O[0]:""}const mn=/^[^\/()?;=#]+/,Er=/^[^=?&#]+/,Se=/^[^&#]+/;class Ot{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Ut]=new kn(O,w)),N}parseSegment(){const O=gn(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Gr(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Rn(D){const O=D.match(mn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const G=gn(this.remaining);G&&(N=G,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function Pe(D){const O=D.match(Er);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Me=function $e(D){const O=D.match(Se);return O?O[0]:""}(this.remaining);Me&&(N=Me,this.capture(N))}const G=F(w),ue=F(N);if(O.hasOwnProperty(G)){let Me=O[G];Array.isArray(Me)||(Me=[Me],O[G]=Me),Me.push(ue)}else O[G]=ue}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=gn(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new o.wOt(4010,!1);let ue;N.indexOf(":")>-1?(ue=N.slice(0,N.indexOf(":")),this.capture(ue),this.capture(":")):O&&(ue=Ut);const Me=this.parseChildren();w[ue]=1===Object.keys(Me).length?Me[Ut]:new kn([],Me),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Jt(D){return D.segments.length>0?new kn([],{[Ut]:D}):D}function In(D){const O={};for(const N of Object.keys(D.children)){const ue=In(D.children[N]);if(N===Ut&&0===ue.segments.length&&ue.hasChildren())for(const[Me,It]of Object.entries(ue.children))O[Me]=It;else(ue.segments.length>0||ue.hasChildren())&&(O[N]=ue)}return function vn(D){if(1===D.numberOfChildren&&D.children[Ut]){const O=D.children[Ut];return new kn(D.segments.concat(O.segments),O.children)}return D}(new kn(D.segments,O))}function cr(D){return D instanceof xr}function Xr(D){let O;const G=Jt(function w(ue){const Me={};for(const vt of ue.children){const xn=w(vt);Me[vt.outlet]=xn}const It=new kn(ue.url,Me);return ue===D&&(O=It),It}(D.root));return O??G}function _t(D,O,w,N){let G=D;for(;G.parent;)G=G.parent;if(0===O.length)return fn(G,G,G,w,N);const ue=function Ln(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new _n(!0,0,D);let O=0,w=!1;const N=D.reduce((G,ue,Me)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const It={};return Object.entries(ue.outlets).forEach(([vt,xn])=>{It[vt]="string"==typeof xn?xn.split("/"):xn}),[...G,{outlets:It}]}if(ue.segmentPath)return[...G,ue.segmentPath]}return"string"!=typeof ue?[...G,ue]:0===Me?(ue.split("/").forEach((It,vt)=>{0==vt&&"."===It||(0==vt&&""===It?w=!0:".."===It?O++:""!=It&&G.push(It))}),G):[...G,ue]},[]);return new _n(w,O,N)}(O);if(ue.toRoot())return fn(G,G,new kn([],{}),w,N);const Me=function Hr(D,O,w){if(D.isAbsolute)return new ur(O,!0,0);if(!w)return new ur(O,!1,NaN);if(null===w.parent)return new ur(w,!0,0);const N=et(D.commands[0])?0:1;return function Yn(D,O,w){let N=D,G=O,ue=w;for(;ue>G;){if(ue-=G,N=N.parent,!N)throw new o.wOt(4005,!1);G=N.segments.length}return new ur(N,!1,G-ue)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ue,G,D),It=Me.processChildren?ee(Me.segmentGroup,Me.index,ue.commands):zt(Me.segmentGroup,Me.index,ue.commands);return fn(G,Me.segmentGroup,It,w,N)}function et(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Rt(D){return"object"==typeof D&&null!=D&&D.outlets}function fn(D,O,w,N,G){let Me,ue={};N&&Object.entries(N).forEach(([vt,xn])=>{ue[vt]=Array.isArray(xn)?xn.map(Sr=>`${Sr}`):`${xn}`}),Me=D===O?w:Un(D,O,w);const It=Jt(In(Me));return new xr(It,ue,G)}function Un(D,O,w){const N={};return Object.entries(D.children).forEach(([G,ue])=>{N[G]=ue===O?w:Un(ue,O,w)}),new kn(D.segments,N)}class _n{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&et(N[0]))throw new o.wOt(4003,!1);const G=N.find(Rt);if(G&&G!==Jn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ur{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function zt(D,O,w){if(D||(D=new kn([],{})),0===D.segments.length&&D.hasChildren())return ee(D,O,w);const N=function He(D,O,w){let N=0,G=O;const ue={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(N>=w.length)return ue;const Me=D.segments[G],It=w[N];if(Rt(It))break;const vt=`${It}`,xn=N<w.length-1?w[N+1]:null;if(G>0&&void 0===vt)break;if(vt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!Tr(vt,xn,Me))return ue;N+=2}else{if(!Tr(vt,{},Me))return ue;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(D,O,w),G=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ue=new kn(D.segments.slice(0,N.pathIndex),{});return ue.children[Ut]=new kn(D.segments.slice(N.pathIndex),D.children),ee(ue,0,G)}return N.match&&0===G.length?new kn(D.segments,{}):N.match&&!D.hasChildren()?kt(D,O,w):N.match?ee(D,0,G):kt(D,O,w)}function ee(D,O,w){if(0===w.length)return new kn(D.segments,{});{const N=function Ee(D){return Rt(D[0])?D[0].outlets:{[Ut]:D}}(w),G={};if(Object.keys(N).some(ue=>ue!==Ut)&&D.children[Ut]&&1===D.numberOfChildren&&0===D.children[Ut].segments.length){const ue=ee(D.children[Ut],O,w);return new kn(D.segments,ue.children)}return Object.entries(N).forEach(([ue,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(G[ue]=zt(D.children[ue],O,Me))}),Object.entries(D.children).forEach(([ue,Me])=>{void 0===N[ue]&&(G[ue]=Me)}),new kn(D.segments,G)}}function kt(D,O,w){const N=D.segments.slice(0,O);let G=0;for(;G<w.length;){const ue=w[G];if(Rt(ue)){const vt=lr(ue.outlets);return new kn(N,vt)}if(0===G&&et(w[0])){N.push(new Gr(D.segments[O].path,Kr(w[0]))),G++;continue}const Me=Rt(ue)?ue.outlets[Ut]:`${ue}`,It=G<w.length-1?w[G+1]:null;Me&&It&&et(It)?(N.push(new Gr(Me,Kr(It))),G+=2):(N.push(new Gr(Me,{})),G++)}return new kn(N,{})}function lr(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=kt(new kn([],{}),0,N))}),O}function Kr(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function Tr(D,O,w){return D==w.path&&Wt(O,w.parameters)}const Fi="imperative";class qi{constructor(O,w){this.id=O,this.url=w}}class ii extends qi{constructor(O,w,N="imperative",G=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xi extends qi{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends qi{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nr extends qi{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=16}}class Cs extends qi{constructor(O,w,N,G){super(O,w),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ko extends qi{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends qi{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wa extends qi{constructor(O,w,N,G,ue){super(O,w),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=ue,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ec extends qi{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends qi{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class si{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kr{}class hi{constructor(O){this.url=O}}class Ps{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fi,this.attachRef=null}}let fi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const G=this.getOrCreateContext(w);G.outlet=N,this.contexts.set(w,G)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Ps,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class rs{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Ms(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Ms(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=Qi(O,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==O)}pathFromRoot(O){return Qi(O,this._root).map(w=>w.value)}}function Ms(D,O){if(D===O.value)return O;for(const w of O.children){const N=Ms(D,w);if(N)return N}return null}function Qi(D,O){if(D===O.value)return[O];for(const w of O.children){const N=Qi(D,w);if(N.length)return N.unshift(O),N}return[]}class Ts{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Rs(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class pi extends rs{constructor(O,w){super(O),this.snapshot=w,ai(this,O)}toString(){return this.snapshot.toString()}}function wn(D,O){const w=function gr(D,O){const Me=new zi([],{},{},"",{},Ut,O,null,{});return new Bs("",new Ts(Me,[]))}(0,O),N=new Ce.t([new Gr("",{})]),G=new Ce.t({}),ue=new Ce.t({}),Me=new Ce.t({}),It=new Ce.t(""),vt=new pr(N,G,Me,It,ue,Ut,O,w.root);return vt.snapshot=w.root,new pi(new Ts(vt,[]),w)}class pr{constructor(O,w,N,G,ue,Me,It,vt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=ue,this.outlet=Me,this.component=It,this._futureSnapshot=vt,this.title=this.dataSubject?.pipe((0,Lt.T)(xn=>xn[Ht]))??(0,Te.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ue}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.T)(O=>yn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.T)(O=>yn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const G=w[N],ue=w[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(ue.component)break;N--}}return function hs(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class zi{get title(){return this.data?.[Ht]}constructor(O,w,N,G,ue,Me,It,vt,xn){this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ue,this.outlet=Me,this.component=It,this.routeConfig=vt,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends rs{constructor(O,w){super(w),this.url=O,ai(this,w)}toString(){return ss(this._root)}}function ai(D,O){O.value._routerState=D,O.children.forEach(w=>ai(D,w))}function ss(D){const O=D.children.length>0?` { ${D.children.map(ss).join(", ")} } `:"";return`${D.value}${O}`}function Os(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Wt(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Wt(O.params,w.params)||D.paramsSubject.next(w.params),function ir(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Wt(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Wt(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function dr(D,O){const w=Wt(D.params,O.params)&&function Ye(D,O){return ut(D,O)&&D.every((w,N)=>Wt(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||dr(D.parent,O.parent))}let vs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(fi),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:G}=w.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Me=w.snapshot.component,It=this.parentContexts.getOrCreateContext(this.name).children,vt=new $s(w,It,G.injector);this.activated=G.createComponent(Me,{index:G.length,injector:vt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class $s{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===pr?this.route:O===fi?this.childContexts:this.parent.get(O,w)}}const Z=new o.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,G=St([N.queryParams,N.params,N.data]).pipe((0,Yt.n)(([ue,Me,It],vt)=>(It={...ue,...Me,...It},0===vt?(0,Te.of)(It):Promise.resolve(It)))).subscribe(ue=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Me=(0,o.HJs)(N.component);if(Me)for(const{templateName:It}of Me.inputs)w.activatedComponentRef.setInput(It,ue[It]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Fe(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const G=function it(D,O,w){return O.children.map(N=>{for(const G of w.children)if(D.shouldReuseRoute(N.value,G.value.snapshot))return Fe(D,N,G);return Fe(D,N)})}(D,O,w);return new Ts(N,G)}{if(D.shouldAttach(O.value)){const ue=D.retrieve(O.value);if(null!==ue){const Me=ue.route;return Me.value._futureSnapshot=O.value,Me.children=O.children.map(It=>Fe(D,It)),Me}}const N=function bt(D){return new pr(new Ce.t(D.url),new Ce.t(D.params),new Ce.t(D.queryParams),new Ce.t(D.fragment),new Ce.t(D.data),D.outlet,D.component,D)}(O.value),G=O.children.map(ue=>Fe(D,ue));return new Ts(N,G)}}const an="ngNavigationCancelingError";function Vn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=cr(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,G=An(!1,0,O);return G.url=w,G.navigationBehaviorOptions=N,G}function An(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[an]=!0,N.cancellationCode=O,w&&(N.url=w),N}function jr(D){return D&&D[an]}let Xn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,G){1&N&&o.nrm(0,"router-outlet")},dependencies:[vs],encapsulation:2})}}return D})();function Bi(D){const O=D.children&&D.children.map(Bi),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Ut&&(w.component=Xn),w}function Vr(D){return D.outlet||Ut}function fs(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Ko{constructor(O,w,N,G,ue){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=ue}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Os(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const G=Rs(w);O.children.forEach(ue=>{const Me=ue.value.outlet;this.deactivateRoutes(ue,G[Me],N),delete G[Me]}),Object.values(G).forEach(ue=>{this.deactivateRouteAndItsChildren(ue,N)})}deactivateRoutes(O,w,N){const G=O.value,ue=w?w.value:null;if(G===ue)if(G.component){const Me=N.getContext(G.outlet);Me&&this.deactivateChildRoutes(O,w,Me.children)}else this.deactivateChildRoutes(O,w,N);else ue&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ue=Rs(O);for(const Me of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Me],G);if(N&&N.outlet){const Me=N.outlet.detach(),It=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Me,route:O,contexts:It})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ue=Rs(O);for(const Me of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Me],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const G=Rs(w);O.children.forEach(ue=>{this.activateRoutes(ue,G[ue.value.outlet],N),this.forwardEvent(new To(ue.value.snapshot))}),O.children.length&&this.forwardEvent(new js(O.value.snapshot))}activateRoutes(O,w,N){const G=O.value,ue=w?w.value:null;if(Os(G),G===ue)if(G.component){const Me=N.getOrCreateContext(G.outlet);this.activateChildRoutes(O,w,Me.children)}else this.activateChildRoutes(O,w,N);else if(G.component){const Me=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const It=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Me.children.onOutletReAttached(It.contexts),Me.attachRef=It.componentRef,Me.route=It.route.value,Me.outlet&&Me.outlet.attach(It.componentRef,It.route.value),Os(It.route.value),this.activateChildRoutes(O,null,Me.children)}else{const It=fs(G.snapshot);Me.attachRef=null,Me.route=G,Me.injector=It,Me.outlet&&Me.outlet.activateWith(G,Me.injector),this.activateChildRoutes(O,null,Me.children)}}else this.activateChildRoutes(O,null,N)}}class tc{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Aa{constructor(O,w){this.component=O,this.route=w}}function Rl(D,O,w){const N=D._root;return Is(N,O?O._root:null,w,[N.value])}function Wi(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function Is(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Rs(O);return D.children.forEach(Me=>{(function Lo(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ue=D.value,Me=O?O.value:null,It=w?w.getContext(D.value.outlet):null;if(Me&&ue.routeConfig===Me.routeConfig){const vt=function so(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!ut(D.url,O.url);case"pathParamsOrQueryParamsChange":return!ut(D.url,O.url)||!Wt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dr(D,O)||!Wt(D.queryParams,O.queryParams);default:return!dr(D,O)}}(Me,ue,ue.routeConfig.runGuardsAndResolvers);vt?G.canActivateChecks.push(new tc(N)):(ue.data=Me.data,ue._resolvedData=Me._resolvedData),Is(D,O,ue.component?It?It.children:null:w,N,G),vt&&It&&It.outlet&&It.outlet.isActivated&&G.canDeactivateChecks.push(new Aa(It.outlet.component,Me))}else Me&&Mi(O,It,G),G.canActivateChecks.push(new tc(N)),Is(D,null,ue.component?It?It.children:null:w,N,G)})(Me,ue[Me.value.outlet],w,N.concat([Me.value]),G),delete ue[Me.value.outlet]}),Object.entries(ue).forEach(([Me,It])=>Mi(It,w.getContext(Me),G)),G}function Mi(D,O,w){const N=Rs(D),G=D.value;Object.entries(N).forEach(([ue,Me])=>{Mi(Me,G.component?O?O.children.getContext(ue):null:O,w)}),w.canDeactivateChecks.push(new Aa(G.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,G))}function Vo(D){return"function"==typeof D}function os(D){return D instanceof Nt.G||"EmptyError"===D?.name}const to=Symbol("INITIAL_VALUE");function ps(){return(0,Yt.n)(D=>St(D.map(O=>O.pipe((0,Xt.s)(1),(0,gt.Z)(to)))).pipe((0,Lt.T)(O=>{for(const w of O)if(!0!==w){if(w===to)return to;if(!1===w||w instanceof xr)return w}return!0}),(0,Ue.p)(O=>O!==to),(0,Xt.s)(1)))}function cs(D){return(0,Ze.F)((0,Ae.M)(O=>{if(cr(O))throw Vn(0,O)}),(0,Lt.T)(O=>!0===O))}class ao{constructor(O){this.segmentGroup=O||null}}class qo{constructor(O){this.urlTree=O}}function ws(D){return(0,ke.$)(new ao(D))}function Da(D){return(0,ke.$)(new qo(D))}class Nl{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],G=w.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,Te.of)(N);if(G.numberOfChildren>1||!G.children[Ut])return(0,ke.$)(new o.wOt(4e3,!1));G=G.children[Ut]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,G){const ue=this.createSegmentGroup(O,w.root,N,G);return new xr(ue,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([G,ue])=>{if("string"==typeof ue&&ue.startsWith(":")){const It=ue.substring(1);N[G]=w[It]}else N[G]=ue}),N}createSegmentGroup(O,w,N,G){const ue=this.createSegments(O,w.segments,N,G);let Me={};return Object.entries(w.children).forEach(([It,vt])=>{Me[It]=this.createSegmentGroup(O,vt,N,G)}),new kn(ue,Me)}createSegments(O,w,N,G){return w.map(ue=>ue.path.startsWith(":")?this.findPosParam(O,ue,G):this.findOrReturn(ue,N))}findPosParam(O,w,N){const G=N[w.path.substring(1)];if(!G)throw new o.wOt(4001,!1);return G}findOrReturn(O,w){let N=0;for(const G of w){if(G.path===O.path)return w.splice(N),G;N++}return O}}const Ir={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ao(D,O,w,N,G){const ue=Hs(D,O,w);return ue.matched?(N=function Qn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ua(D,O,w,N){const G=O.canMatch;if(!G||0===G.length)return(0,Te.of)(!0);const ue=G.map(Me=>{const It=Wi(Me,D);return Mn(function Be(D){return D&&Vo(D.canMatch)}(It)?It.canMatch(O,w):D.runInContext(()=>It(O,w)))});return(0,Te.of)(ue).pipe(ps(),cs())}(N,O,w).pipe((0,Lt.T)(Me=>!0===Me?ue:{...Ir}))):(0,Te.of)(ue)}function Hs(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...Ir}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(O.matcher||Ur)(w,D,O);if(!G)return{...Ir};const ue={};Object.entries(G.posParams??{}).forEach(([It,vt])=>{ue[It]=vt.path});const Me=G.consumed.length>0?{...ue,...G.consumed[G.consumed.length-1].parameters}:ue;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Me,positionalParamSegments:G.posParams??{}}}function Yo(D,O,w,N){return w.length>0&&function sr(D,O,w){return w.some(N=>rc(D,O,N)&&Vr(N)!==Ut)}(D,w,N)?{segmentGroup:new kn(O,nl(N,new kn(w,D.children))),slicedSegments:[]}:0===w.length&&function kl(D,O,w){return w.some(N=>rc(D,O,N))}(D,w,N)?{segmentGroup:new kn(D.segments,zs(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new kn(D.segments,D.children),slicedSegments:w}}function zs(D,O,w,N,G){const ue={};for(const Me of N)if(rc(D,w,Me)&&!G[Vr(Me)]){const It=new kn([],{});ue[Vr(Me)]=It}return{...G,...ue}}function nl(D,O){const w={};w[Ut]=O;for(const N of D)if(""===N.path&&Vr(N)!==Ut){const G=new kn([],{});w[Vr(N)]=G}return w}function rc(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class rl{constructor(O,w,N,G,ue,Me,It){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=G,this.urlTree=ue,this.paramsInheritanceStrategy=Me,this.urlSerializer=It,this.allowRedirects=!0,this.applyRedirects=new Nl(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Yo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Ut).pipe((0,ve.W)(w=>{if(w instanceof qo)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ao?this.noMatchError(w):w}),(0,Lt.T)(w=>{const N=new zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),G=new Ts(N,w),ue=new Bs("",G),Me=function un(D,O,w=null,N=null){return _t(Xr(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,ue.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(ue._root),{state:ue,tree:Me}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Ut).pipe((0,ve.W)(N=>{throw N instanceof ao?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=is(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(O,w,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,G,!0)}processChildren(O,w,N){const G=[];for(const ue of Object.keys(N.children))"primary"===ue?G.unshift(ue):G.push(ue);return(0,fe.H)(G).pipe((0,Ke.H)(ue=>{const Me=N.children[ue],It=function Io(D,O){const w=D.filter(N=>Vr(N)===O);return w.push(...D.filter(N=>Vr(N)!==O)),w}(w,ue);return this.processSegmentGroup(O,It,Me,ue)}),(0,je.S)((ue,Me)=>(ue.push(...Me),ue)),(0,ot.U)(null),function Pn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Ue.p)((G,ue)=>D(G,ue,N)):xe.D,nt(1),w?(0,ot.U)(O):(0,Bt.v)(()=>new Nt.G))}(),(0,st.Z)(ue=>{if(null===ue)return ws(N);const Me=la(ue);return function ja(D){D.sort((O,w)=>O.value.outlet===Ut?-1:w.value.outlet===Ut?1:O.value.outlet.localeCompare(w.value.outlet))}(Me),(0,Te.of)(Me)}))}processSegment(O,w,N,G,ue,Me){return(0,fe.H)(w).pipe((0,Ke.H)(It=>this.processSegmentAgainstRoute(It._injector??O,w,It,N,G,ue,Me).pipe((0,ve.W)(vt=>{if(vt instanceof ao)return(0,Te.of)(null);throw vt}))),(0,ln.$)(It=>!!It),(0,ve.W)(It=>{if(os(It))return function ic(D,O,w){return 0===O.length&&!D.children[w]}(N,G,ue)?(0,Te.of)([]):ws(N);throw It}))}processSegmentAgainstRoute(O,w,N,G,ue,Me,It){return function Id(D,O,w,N){return!!(Vr(D)===N||N!==Ut&&rc(O,w,D))&&("**"===D.path||Hs(O,D,w).matched)}(N,G,ue,Me)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,G,N,ue,Me,It):It&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,G,w,N,ue,Me):ws(G):ws(G)}expandSegmentAgainstRouteUsingRedirect(O,w,N,G,ue,Me){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,G,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ue,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,G){const ue=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Da(ue):this.applyRedirects.lineralizeSegments(N,ue).pipe((0,st.Z)(Me=>{const It=new kn(Me,{});return this.processSegment(O,w,It,Me,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ue,Me){const{matched:It,consumedSegments:vt,remainingSegments:xn,positionalParamSegments:Sr}=Hs(w,G,ue);if(!It)return ws(w);const Rr=this.applyRedirects.applyRedirectCommands(vt,G.redirectTo,Sr);return G.redirectTo.startsWith("/")?Da(Rr):this.applyRedirects.lineralizeSegments(G,Rr).pipe((0,st.Z)(Yr=>this.processSegment(O,N,w,Yr.concat(xn),Me,!1)))}matchSegmentAgainstRoute(O,w,N,G,ue,Me){let It;if("**"===N.path){const vt=G.length>0?Jn(G).parameters:{},xn=new zi(G,vt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tu(N),Vr(N),N.component??N._loadedComponent??null,N,P(N));It=(0,Te.of)({snapshot:xn,consumedSegments:[],remainingSegments:[]}),w.children={}}else It=Ao(w,N,G,O).pipe((0,Lt.T)(({matched:vt,consumedSegments:xn,remainingSegments:Sr,parameters:Rr})=>vt?{snapshot:new zi(xn,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tu(N),Vr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:xn,remainingSegments:Sr}:null));return It.pipe((0,Yt.n)(vt=>null===vt?ws(w):this.getChildConfig(O=N._injector??O,N,G).pipe((0,Yt.n)(({routes:xn})=>{const Sr=N._loadedInjector??O,{snapshot:Rr,consumedSegments:Yr,remainingSegments:Ei}=vt,{segmentGroup:Ha,slicedSegments:xc}=Yo(w,Yr,Ei,xn);if(0===xc.length&&Ha.hasChildren())return this.processChildren(Sr,xn,Ha).pipe((0,Lt.T)(Pc=>null===Pc?null:[new Ts(Rr,Pc)]));if(0===xn.length&&0===xc.length)return(0,Te.of)([new Ts(Rr,[])]);const ga=Vr(N)===ue;return this.processSegment(Sr,xn,Ha,xc,ga?Ut:ue,!0).pipe((0,Lt.T)(Pc=>[new Ts(Rr,Pc)]))}))))}getChildConfig(O,w,N){return w.children?(0,Te.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Te.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function tl(D,O,w,N){const G=O.canLoad;if(void 0===G||0===G.length)return(0,Te.of)(!0);const ue=G.map(Me=>{const It=Wi(Me,D);return Mn(function W(D){return D&&Vo(D.canLoad)}(It)?It.canLoad(O,w):D.runInContext(()=>It(O,w)))});return(0,Te.of)(ue).pipe(ps(),cs())}(O,w,N).pipe((0,st.Z)(G=>G?this.configLoader.loadChildren(O,w).pipe((0,Ae.M)(ue=>{w._loadedRoutes=ue.routes,w._loadedInjector=ue.injector})):function nc(D){return(0,ke.$)(An(!1,3))}())):(0,Te.of)({routes:[],injector:O})}}function sc(D){const O=D.value.routeConfig;return O&&""===O.path}function la(D){const O=[],w=new Set;for(const N of D){if(!sc(N)){O.push(N);continue}const G=O.find(ue=>N.value.routeConfig===ue.value.routeConfig);void 0!==G?(G.children.push(...N.children),w.add(G)):O.push(N)}for(const N of w){const G=la(N.children);O.push(new Ts(N.value,G))}return O.filter(N=>!w.has(N))}function Tu(D){return D.data||{}}function P(D){return D.resolve||{}}function $n(D){return"string"==typeof D.title||null===D.title}function oi(D){return(0,Yt.n)(O=>{const w=D(O);return w?(0,fe.H)(w).pipe((0,Lt.T)(()=>O)):(0,Te.of)(O)})}const wi=new o.nKC("ROUTES");let gi=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Te.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Mn(w.loadComponent()).pipe((0,Lt.T)(Ni),(0,Ae.M)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ue}),(0,hn.j)(()=>{this.componentLoaders.delete(w)})),G=new sn(N,()=>new Tn.B).pipe(we());return this.componentLoaders.set(w,G),G}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Te.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ue=function Pr(D,O,w,N){return Mn(D.loadChildren()).pipe((0,Lt.T)(Ni),(0,st.Z)(G=>G instanceof o.Co$||Array.isArray(G)?(0,Te.of)(G):(0,fe.H)(O.compileModuleAsync(G))),(0,Lt.T)(G=>{N&&N(D);let ue,Me,It=!1;return Array.isArray(G)?(Me=G,!0):(ue=G.create(w).injector,Me=ue.get(wi,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Bi),injector:ue}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,hn.j)(()=>{this.childrenLoaders.delete(N)})),Me=new sn(ue,()=>new Tn.B).pipe(we());return this.childrenLoaders.set(N,Me),Me}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ni(D){return function vi(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Vi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tn.B,this.transitionAbortSubject=new Tn.B,this.configLoader=(0,o.WQX)(gi),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Oe),this.rootContexts=(0,o.WQX)(fi),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Zs(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Fo(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,G){return this.transitions=new Ce.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fi,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ue.p)(ue=>0!==ue.id),(0,Lt.T)(ue=>({...ue,extractedUrl:w.urlHandlingStrategy.extract(ue.rawUrl)})),(0,Yt.n)(ue=>{this.currentTransition=ue;let Me=!1,It=!1;return(0,Te.of)(ue).pipe((0,Ae.M)(vt=>{this.currentNavigation={id:vt.id,initialUrl:vt.rawUrl,extractedUrl:vt.extractedUrl,trigger:vt.source,extras:vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yt.n)(vt=>{const xn=vt.currentBrowserUrl.toString(),Sr=!w.navigated||vt.extractedUrl.toString()!==xn||xn!==vt.currentUrlTree.toString();if(!Sr&&"reload"!==(vt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Yr="";return this.events.next(new Nr(vt.id,this.urlSerializer.serialize(vt.rawUrl),Yr,0)),vt.resolve(null),tt.w}if(w.urlHandlingStrategy.shouldProcessUrl(vt.rawUrl))return(0,Te.of)(vt).pipe((0,Yt.n)(Yr=>{const Ei=this.transitions?.getValue();return this.events.next(new ii(Yr.id,this.urlSerializer.serialize(Yr.extractedUrl),Yr.source,Yr.restoredState)),Ei!==this.transitions?.getValue()?tt.w:Promise.resolve(Yr)}),function re(D,O,w,N,G,ue){return(0,st.Z)(Me=>function Xo(D,O,w,N,G,ue,Me="emptyOnly"){return new rl(D,O,w,N,G,Me,ue).recognize()}(D,O,w,N,Me.extractedUrl,G,ue).pipe((0,Lt.T)(({state:It,tree:vt})=>({...Me,targetSnapshot:It,urlAfterRedirects:vt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Ae.M)(Yr=>{ue.targetSnapshot=Yr.targetSnapshot,ue.urlAfterRedirects=Yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yr.urlAfterRedirects};const Ei=new ko(Yr.id,this.urlSerializer.serialize(Yr.extractedUrl),this.urlSerializer.serialize(Yr.urlAfterRedirects),Yr.targetSnapshot);this.events.next(Ei)}));if(Sr&&w.urlHandlingStrategy.shouldProcessUrl(vt.currentRawUrl)){const{id:Yr,extractedUrl:Ei,source:Ha,restoredState:xc,extras:ga}=vt,Pc=new ii(Yr,this.urlSerializer.serialize(Ei),Ha,xc);this.events.next(Pc);const Pu=wn(0,this.rootComponentType).snapshot;return this.currentTransition=ue={...vt,targetSnapshot:Pu,urlAfterRedirects:Ei,extras:{...ga,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(ue)}{const Yr="";return this.events.next(new Nr(vt.id,this.urlSerializer.serialize(vt.extractedUrl),Yr,1)),vt.resolve(null),tt.w}}),(0,Ae.M)(vt=>{const xn=new Ti(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(xn)}),(0,Lt.T)(vt=>(this.currentTransition=ue={...vt,guards:Rl(vt.targetSnapshot,vt.currentSnapshot,this.rootContexts)},ue)),function wo(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:ue,canDeactivateChecks:Me}}=w;return 0===Me.length&&0===ue.length?(0,Te.of)({...w,guardsResult:!0}):function Gs(D,O,w,N){return(0,fe.H)(D).pipe((0,st.Z)(G=>function ts(D,O,w,N,G){const ue=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,Te.of)(!0);const Me=ue.map(It=>{const vt=fs(O)??G,xn=Wi(It,vt);return Mn(function ce(D){return D&&Vo(D.canDeactivate)}(xn)?xn.canDeactivate(D,O,w,N):vt.runInContext(()=>xn(D,O,w,N))).pipe((0,ln.$)())});return(0,Te.of)(Me).pipe(ps())}(G.component,G.route,w,O,N)),(0,ln.$)(G=>!0!==G,!0))}(Me,N,G,D).pipe((0,st.Z)(It=>It&&function oo(D){return"boolean"==typeof D}(It)?function as(D,O,w,N){return(0,fe.H)(O).pipe((0,Ke.H)(G=>(0,rn.x)(function Ol(D,O){return null!==D&&O&&O(new si(D)),(0,Te.of)(!0)}(G.route.parent,N),function Uo(D,O){return null!==D&&O&&O(new ys(D)),(0,Te.of)(!0)}(G.route,N),function ca(D,O,w){const N=O[O.length-1],ue=O.slice(0,O.length-1).reverse().map(Me=>function Ns(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Me)).filter(Me=>null!==Me).map(Me=>pe(()=>{const It=Me.guards.map(vt=>{const xn=fs(Me.node)??w,Sr=Wi(vt,xn);return Mn(function V(D){return D&&Vo(D.canActivateChild)}(Sr)?Sr.canActivateChild(N,D):xn.runInContext(()=>Sr(N,D))).pipe((0,ln.$)())});return(0,Te.of)(It).pipe(ps())}));return(0,Te.of)(ue).pipe(ps())}(D,G.path,w),function Es(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Te.of)(!0);const G=N.map(ue=>pe(()=>{const Me=fs(O)??w,It=Wi(ue,Me);return Mn(function J(D){return D&&Vo(D.canActivate)}(It)?It.canActivate(O,D):Me.runInContext(()=>It(O,D))).pipe((0,ln.$)())}));return(0,Te.of)(G).pipe(ps())}(D,G.route,w))),(0,ln.$)(G=>!0!==G,!0))}(N,ue,D,O):(0,Te.of)(It)),(0,Lt.T)(It=>({...w,guardsResult:It})))})}(this.environmentInjector,vt=>this.events.next(vt)),(0,Ae.M)(vt=>{if(ue.guardsResult=vt.guardsResult,cr(vt.guardsResult))throw Vn(0,vt.guardsResult);const xn=new wa(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot,!!vt.guardsResult);this.events.next(xn)}),(0,Ue.p)(vt=>!!vt.guardsResult||(this.cancelNavigationTransition(vt,"",3),!1)),oi(vt=>{if(vt.guards.canActivateChecks.length)return(0,Te.of)(vt).pipe((0,Ae.M)(xn=>{const Sr=new ec(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(Sr)}),(0,Yt.n)(xn=>{let Sr=!1;return(0,Te.of)(xn).pipe(function j(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Te.of)(w);let ue=0;return(0,fe.H)(G).pipe((0,Ke.H)(Me=>function Y(D,O,w,N){const G=D.routeConfig,ue=D._resolve;return void 0!==G?.title&&!$n(G)&&(ue[Ht]=G.title),function Re(D,O,w,N){const G=function Dt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,Te.of)({});const ue={};return(0,fe.H)(G).pipe((0,st.Z)(Me=>function $t(D,O,w,N){const G=fs(O)??N,ue=Wi(D,G);return Mn(ue.resolve?ue.resolve(O,w):G.runInContext(()=>ue(O,w)))}(D[Me],O,w,N).pipe((0,ln.$)(),(0,Ae.M)(It=>{ue[Me]=It}))),nt(1),function fr(D){return(0,Lt.T)(()=>D)}(ue),(0,ve.W)(Me=>os(Me)?tt.w:(0,ke.$)(Me)))}(ue,D,O,N).pipe((0,Lt.T)(Me=>(D._resolvedData=Me,D.data=is(D,w).resolve,G&&$n(G)&&(D.data[Ht]=G.title),null)))}(Me.route,N,D,O)),(0,Ae.M)(()=>ue++),nt(1),(0,st.Z)(Me=>ue===G.length?(0,Te.of)(w):tt.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>Sr=!0,complete:()=>{Sr||this.cancelNavigationTransition(xn,"",2)}}))}),(0,Ae.M)(xn=>{const Sr=new Pi(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(Sr)}))}),oi(vt=>{const xn=Sr=>{const Rr=[];Sr.routeConfig?.loadComponent&&!Sr.routeConfig._loadedComponent&&Rr.push(this.configLoader.loadComponent(Sr.routeConfig).pipe((0,Ae.M)(Yr=>{Sr.component=Yr}),(0,Lt.T)(()=>{})));for(const Yr of Sr.children)Rr.push(...xn(Yr));return Rr};return St(xn(vt.targetSnapshot.root)).pipe((0,ot.U)(),(0,Xt.s)(1))}),oi(()=>this.afterPreactivation()),(0,Lt.T)(vt=>{const xn=function De(D,O,w){const N=Fe(D,O._root,w?w._root:void 0);return new pi(N,O)}(w.routeReuseStrategy,vt.targetSnapshot,vt.currentRouterState);return this.currentTransition=ue={...vt,targetRouterState:xn},ue}),(0,Ae.M)(()=>{this.events.next(new kr)}),((D,O,w,N)=>(0,Lt.T)(G=>(new Ko(O,G.targetRouterState,G.currentRouterState,w,N).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,vt=>this.events.next(vt),this.inputBindingEnabled),(0,Xt.s)(1),(0,Ae.M)({next:vt=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xi(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects))),w.titleStrategy?.updateTitle(vt.targetRouterState.snapshot),vt.resolve(!0)},complete:()=>{Me=!0}}),function nn(D){return(0,Vt.N)((O,w)=>{(0,ze.Tg)(D).subscribe((0,at._)(w,()=>w.complete(),jn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Ae.M)(vt=>{throw vt}))),(0,hn.j)(()=>{Me||It||this.cancelNavigationTransition(ue,"",1),this.currentNavigation?.id===ue.id&&(this.currentNavigation=null)}),(0,ve.W)(vt=>{if(It=!0,jr(vt))this.events.next(new ji(ue.id,this.urlSerializer.serialize(ue.extractedUrl),vt.message,vt.cancellationCode)),function hr(D){return jr(D)&&cr(D.url)}(vt)?this.events.next(new hi(vt.url)):ue.resolve(!1);else{this.events.next(new Cs(ue.id,this.urlSerializer.serialize(ue.extractedUrl),vt,ue.targetSnapshot??void 0));try{ue.resolve(w.errorHandler(vt))}catch(xn){ue.reject(xn)}}return tt.w}))}))}cancelNavigationTransition(w,N,G){const ue=new ji(w.id,this.urlSerializer.serialize(w.extractedUrl),N,G);this.events.next(ue),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function po(D){return D!==Fi}let ks=(()=>{class D{buildTitle(w){let N,G=w.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(ue=>ue.outlet===Ut);return N}getResolvedTitleForRoute(w){return w.data[Ht]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(ua)},providedIn:"root"})}}return D})(),ua=(()=>{class D extends ks{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Bn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Ws=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(bs)},providedIn:"root"})}}return D})();class go{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let bs=(()=>{class D extends go{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=o.xGo(D)))(G||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Qo=new o.nKC("",{providedIn:"root",factory:()=>({})});let Ba=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Lr)},providedIn:"root"})}}return D})(),Lr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var zr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(zr||{});function Ac(D,O){D.events.pipe((0,Ue.p)(w=>w instanceof Xi||w instanceof ji||w instanceof Cs||w instanceof Nr),(0,Lt.T)(w=>w instanceof Xi||w instanceof Nr?zr.COMPLETE:w instanceof ji&&(0===w.code||1===w.code)?zr.REDIRECTING:zr.FAILED),(0,Ue.p)(w=>w!==zr.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{O()})}function co(D){throw D}function ac(D,O,w){return O.parse("/")}const cc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},da={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new Tn.B,this.options=(0,o.WQX)(Qo,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||co,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ac,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(Ba),this.routeReuseStrategy=(0,o.WQX)(Ws),this.titleStrategy=(0,o.WQX)(ks),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(wi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Vi),this.urlSerializer=(0,o.WQX)(Oe),this.location=(0,o.WQX)(or.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new Et.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(il(N)&&this._events.next(N));if(N instanceof ii)po(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof Nr)this.rawUrlTree=G.rawUrl;else if(N instanceof ko){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ue=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ue,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof kr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof ji)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof hi){const ue=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Me={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po(G.source)};this.scheduleNavigation(ue,Fi,null,Me,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof Cs&&this.restoreHistory(G,!0),N instanceof Xi&&(this.navigated=!0),il(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,G){const ue={replaceUrl:!0},Me=G?.navigationId?G:null;if(G){const vt={...G};delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(ue.state=vt)}const It=this.parseUrl(w);this.scheduleNavigation(It,N,Me,ue)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:G,queryParams:ue,fragment:Me,queryParamsHandling:It,preserveFragment:vt}=N,xn=vt?this.currentUrlTree.fragment:Me;let Rr,Sr=null;switch(It){case"merge":Sr={...this.currentUrlTree.queryParams,...ue};break;case"preserve":Sr=this.currentUrlTree.queryParams;break;default:Sr=ue||null}null!==Sr&&(Sr=this.removeEmptyProps(Sr));try{Rr=Xr(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Rr=this.currentUrlTree.root}return _t(Rr,w,Sr,xn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const G=cr(w)?w:this.parseUrl(w),ue=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ue,Fi,null,N)}navigate(w,N={skipLocationChange:!1}){return function jh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return N}isActive(w,N){let G;if(G=!0===N?{...cc}:!1===N?{...da}:N,cr(w))return Zr(this.currentUrlTree,w,G);const ue=this.parseUrl(w);return Zr(this.currentUrlTree,ue,G)}removeEmptyProps(w){return Object.keys(w).reduce((N,G)=>{const ue=w[G];return null!=ue&&(N[G]=ue),N},{})}scheduleNavigation(w,N,G,ue,Me){if(this.disposed)return Promise.resolve(!1);let It,vt,xn;Me?(It=Me.resolve,vt=Me.reject,xn=Me.promise):xn=new Promise((Rr,Yr)=>{It=Rr,vt=Yr});const Sr=this.pendingTasks.add();return Ac(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Sr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ue,resolve:It,reject:vt,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(w,N){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Me={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Me)}else{const ue={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",ue)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-this.browserPageId;0!==ue?this.location.historyGo(ue):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ue&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function il(D){return!(D instanceof kr||D instanceof hi)}let ha=(()=>{class D{constructor(w,N,G,ue,Me,It){this.router=w,this.route=N,this.tabIndexAttribute=G,this.renderer=ue,this.el=Me,this.locationStrategy=It,this.href=null,this.commands=null,this.onChanges=new Tn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const vt=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===vt||"area"===vt,this.isAnchorElement?this.subscription=w.events.subscribe(xn=>{xn instanceof Xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,G,ue,Me){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||G||ue||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const G=this.renderer,ue=this.el.nativeElement;null!==N?G.setAttribute(ue,w,N):G.removeAttribute(ue,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU($i),o.rXU(pr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(or.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,G){1&N&&o.bIt("click",function(Me){return G.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&N&&o.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),As=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,G,ue,Me){this.router=w,this.element=N,this.renderer=G,this.cdr=ue,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(It=>{It instanceof Xi&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,(0,Te.of)(null)).pipe((0,er.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,fe.H)(w).pipe((0,er.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function $a(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU($i),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(ha,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,G,ue){if(1&N&&o.wni(ue,ha,5),2&N){let Me;o.mGM(Me=o.lsd())&&(G.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class sl{}let Iu=(()=>{class D{constructor(w,N,G,ue,Me){this.router=w,this.injector=G,this.preloadingStrategy=ue,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.p)(w=>w instanceof Xi),(0,Ke.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const G=[];for(const ue of N){ue.providers&&!ue._injector&&(ue._injector=(0,o.Ol2)(ue.providers,w,`Route: ${ue.path}`));const Me=ue._injector??w,It=ue._loadedInjector??Me;(ue.loadChildren&&!ue._loadedRoutes&&void 0===ue.canLoad||ue.loadComponent&&!ue._loadedComponent)&&G.push(this.preloadConfig(Me,ue)),(ue.children||ue._loadedRoutes)&&G.push(this.processRoutes(It,ue.children??ue._loadedRoutes))}return(0,fe.H)(G).pipe((0,er.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Te.of)(null);const ue=G.pipe((0,st.Z)(Me=>null===Me?(0,Te.of)(void 0):(N._loadedRoutes=Me.routes,N._loadedInjector=Me.injector,this.processRoutes(Me.injector??w,Me.routes))));if(N.loadComponent&&!N._loadedComponent){const Me=this.loader.loadComponent(N);return(0,fe.H)([ue,Me]).pipe((0,er.U)())}return ue})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO($i),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(sl),o.KVO(gi))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Dc=new o.nKC("");let wr=(()=>{class D{constructor(w,N,G,ue,Me={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=G,this.zone=ue,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Xi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Nr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof xs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xs(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Sa(D,O){return{\u0275kind:D,\u0275providers:O}}function Sd(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get($i),G=D.get(Au);1===D.get(ls)&&N.initialNavigation(),D.get(Br,null,o.$GK.Optional)?.setUpPreloading(),D.get(Dc,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Au=new o.nKC("",{factory:()=>new Tn.B}),ls=new o.nKC("",{providedIn:"root",factory:()=>1}),Br=new o.nKC("");function lo(D){return Sa(0,[{provide:Br,useExisting:Iu},{provide:sl,useExisting:D}])}const al=new o.nKC("ROUTER_FORROOT_GUARD"),Su=[or.aZ,{provide:Oe,useClass:At},$i,fi,{provide:pr,useFactory:function wu(D){return D.routerState.root},deps:[$i]},gi,[]];function xd(){return new o.NEm("Router",$i)}let Ul=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Su,[],{provide:wi,multi:!0,useValue:w},{provide:al,useFactory:Ga,deps:[[$i,new o.Xx1,new o.kdw]]},{provide:Qo,useValue:N||{}},N?.useHash?{provide:or.hb,useClass:or.fw}:{provide:or.hb,useClass:or.Sm},{provide:Dc,useFactory:()=>{const D=(0,o.WQX)(or.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(Qo),N=(0,o.WQX)(Vi),G=(0,o.WQX)(Oe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new wr(G,N,D,O,w)}},N?.preloadingStrategy?lo(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:xd},N?.initialNavigation?lc(N):[],N?.bindToComponentInputs?Sa(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:Do,useFactory:Sd},{provide:o.iLQ,multi:!0,useExisting:Do}]]}}static forChild(w){return{ngModule:D,providers:[{provide:wi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(al,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function Ga(D){return"guarded"}function lc(D){return["disabled"===D.initialNavigation?Sa(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)($i);return()=>{O.setUpLocationChangeListener()}}},{provide:ls,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Sa(2,[{provide:ls,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(or.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const G=O.get($i),ue=O.get(Au);Ac(G,()=>{N(!0)}),O.get(Vi).afterPreactivation=()=>(N(!0),ue.closed?(0,Te.of)(void 0):ue),G.initialNavigation()}))}}]).\u0275providers:[]]}const Do=new o.nKC("")},3345:(dn,Je,k)=>{k.d(Je,{A:()=>St});var o=k(1076),oe=k(1362),r=k(7852),ye=k(8041);class fe{constructor(jt,Nt){this._delegate=jt,this.firebase=Nt,(0,r._addComponent)(jt,new oe.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(jt,Nt=r._DEFAULT_ENTRY_NAME){var rn;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(jt);return!ze.isInitialized()&&"EXPLICIT"===(null===(rn=ze.getComponent())||void 0===rn?void 0:rn.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Nt})}_removeServiceInstance(jt,Nt=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(Nt)}_addComponent(jt){(0,r._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,r._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function xe(){const ht=function Ne(ht){const jt={},Nt={__esModule:!0,initializeApp:function pe(Et,Vt={}){const we=r.initializeApp(Et,Vt);if((0,o.gR)(jt,we.name))return jt[we.name];const sn=new ht(we,Nt);return jt[we.name]=sn,sn},app:ze,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function ke(Et){const Vt=Et.name,we=Vt.replace("-compat","");if(r._registerComponent(Et)&&"PUBLIC"===Et.type){const sn=(Tn=ze())=>{if("function"!=typeof Tn[we])throw Ce.create("invalid-app-argument",{appName:Vt});return Tn[we]()};void 0!==Et.serviceProps&&(0,o.zw)(sn,Et.serviceProps),Nt[we]=sn,ht.prototype[we]=function(...Tn){return this._getService.bind(this,Vt).apply(this,Et.multipleInstances?Tn:[])}}return"PUBLIC"===Et.type?Nt[we]:null},removeApp:function rn(Et){delete jt[Et]},useAsService:function tt(Et,Vt){return"serverAuth"===Vt?null:Vt},modularAPIs:r}};function ze(Et){if(!(0,o.gR)(jt,Et=Et||r._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Et});return jt[Et]}return Nt.default=Nt,Object.defineProperty(Nt,"apps",{get:function Ze(){return Object.keys(jt).map(Et=>jt[Et])}}),ze.App=ht,Nt}(fe);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function jt(Nt){(0,o.zw)(ht,Nt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),ht}(),ne=new ye.Vy("@firebase/app-compat");try{const ht=(0,o.mS)();if(void 0!==ht.firebase){ne.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const jt=ht.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&ne.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const St=z;!function Ge(ht){(0,r.registerVersion)("@firebase/app-compat","0.2.43",ht)}()},7852:(dn,Je,k)=>{k.r(Je),k.d(Je,{FirebaseError:()=>ye.g,SDK_VERSION:()=>At,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>ni,_addOrOverwriteComponent:()=>ds,_apps:()=>Or,_clearComponents:()=>Gr,_components:()=>Zn,_getProvider:()=>ri,_isFirebaseApp:()=>xr,_isFirebaseServerApp:()=>kn,_registerComponent:()=>bn,_removeServiceInstance:()=>ar,_serverApps:()=>Zr,deleteApp:()=>yi,getApp:()=>Wr,getApps:()=>vr,initializeApp:()=>Kt,initializeServerApp:()=>qn,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>F});var o=k(467),oe=k(1362),r=k(8041),ye=k(1076);const fe=(_t,et)=>et.some(Rt=>_t instanceof Rt);let Te,Ce;const z=new WeakMap,ne=new WeakMap,be=new WeakMap,at=new WeakMap,Ge=new WeakMap;let jt={get(_t,et,Rt){if(_t instanceof IDBTransaction){if("done"===et)return ne.get(_t);if("objectStoreNames"===et)return _t.objectStoreNames||be.get(_t);if("store"===et)return Rt.objectStoreNames[1]?void 0:Rt.objectStore(Rt.objectStoreNames[0])}return pe(_t[et])},set:(_t,et,Rt)=>(_t[et]=Rt,!0),has:(_t,et)=>_t instanceof IDBTransaction&&("done"===et||"store"===et)||et in _t};function ze(_t){return"function"==typeof _t?function rn(_t){return _t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_t)?function(...et){return _t.apply(Ze(this),et),pe(z.get(this))}:function(...et){return pe(_t.apply(Ze(this),et))}:function(et,...Rt){const fn=_t.call(Ze(this),et,...Rt);return be.set(fn,et.sort?et.sort():[et]),pe(fn)}}(_t):(_t instanceof IDBTransaction&&function ht(_t){if(ne.has(_t))return;const et=new Promise((Rt,fn)=>{const Un=()=>{_t.removeEventListener("complete",_n),_t.removeEventListener("error",Ln),_t.removeEventListener("abort",Ln)},_n=()=>{Rt(),Un()},Ln=()=>{fn(_t.error||new DOMException("AbortError","AbortError")),Un()};_t.addEventListener("complete",_n),_t.addEventListener("error",Ln),_t.addEventListener("abort",Ln)});ne.set(_t,et)}(_t),fe(_t,function Ne(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_t,jt):_t)}function pe(_t){if(_t instanceof IDBRequest)return function St(_t){const et=new Promise((Rt,fn)=>{const Un=()=>{_t.removeEventListener("success",_n),_t.removeEventListener("error",Ln)},_n=()=>{Rt(pe(_t.result)),Un()},Ln=()=>{fn(_t.error),Un()};_t.addEventListener("success",_n),_t.addEventListener("error",Ln)});return et.then(Rt=>{Rt instanceof IDBCursor&&z.set(Rt,_t)}).catch(()=>{}),Ge.set(et,_t),et}(_t);if(at.has(_t))return at.get(_t);const et=ze(_t);return et!==_t&&(at.set(_t,et),Ge.set(et,_t)),et}const Ze=_t=>Ge.get(_t),Et=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],we=new Map;function sn(_t,et){if(!(_t instanceof IDBDatabase)||et in _t||"string"!=typeof et)return;if(we.get(et))return we.get(et);const Rt=et.replace(/FromIndex$/,""),fn=et!==Rt,Un=Vt.includes(Rt);if(!(Rt in(fn?IDBIndex:IDBObjectStore).prototype)||!Un&&!Et.includes(Rt))return;const _n=function(){var Ln=(0,o.A)(function*(ur,...Hr){const Yn=this.transaction(ur,Un?"readwrite":"readonly");let Ee=Yn.store;return fn&&(Ee=Ee.index(Hr.shift())),(yield Promise.all([Ee[Rt](...Hr),Un&&Yn.done]))[0]});return function(Hr){return Ln.apply(this,arguments)}}();return we.set(et,_n),_n}!function Nt(_t){jt=_t(jt)}(_t=>({..._t,get:(et,Rt,fn)=>sn(et,Rt)||_t.get(et,Rt,fn),has:(et,Rt)=>!!sn(et,Rt)||_t.has(et,Rt)}));class Tn{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function or(_t){const et=_t.getComponent();return"VERSION"===et?.type}(Rt)){const fn=Rt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Lt="@firebase/app",Yt="0.10.13",Xt=new r.Vy("@firebase/app"),Mn="[DEFAULT]",qr={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Or=new Map,Zr=new Map,Zn=new Map;function ni(_t,et){try{_t.container.addComponent(et)}catch(Rt){Xt.debug(`Component ${et.name} failed to register with FirebaseApp ${_t.name}`,Rt)}}function ds(_t,et){_t.container.addOrOverwriteComponent(et)}function bn(_t){const et=_t.name;if(Zn.has(et))return Xt.debug(`There were multiple attempts to register component ${et}.`),!1;Zn.set(et,_t);for(const Rt of Or.values())ni(Rt,_t);for(const Rt of Zr.values())ni(Rt,_t);return!0}function ri(_t,et){const Rt=_t.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),_t.container.getProvider(et)}function ar(_t,et,Rt=Mn){ri(_t,et).clearInstance(Rt)}function xr(_t){return void 0!==_t.options}function kn(_t){return void 0!==_t.settings}function Gr(){Zn.clear()}const ut=new ye.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ae{constructor(et,Rt,fn){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new oe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw ut.create("app-deleted",{appName:this._name})}}class Oe extends ae{constructor(et,Rt,fn,Un){const _n=void 0!==Rt.automaticDataCollectionEnabled&&Rt.automaticDataCollectionEnabled,Ln={name:fn,automaticDataCollectionEnabled:_n};super(void 0!==et.apiKey?et:et.options,Ln,Un),this._serverConfig=Object.assign({automaticDataCollectionEnabled:_n},Rt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Rt.releaseOnDeref=void 0,$(Lt,Yt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(et){this.isDeleted||(this._refCount++,void 0!==et&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(et,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){yi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ut.create("server-app-deleted")}}const At="10.14.1";function Kt(_t,et={}){let Rt=_t;"object"!=typeof et&&(et={name:et});const fn=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},et),Un=fn.name;if("string"!=typeof Un||!Un)throw ut.create("bad-app-name",{appName:String(Un)});if(Rt||(Rt=(0,ye.T9)()),!Rt)throw ut.create("no-options");const _n=Or.get(Un);if(_n){if((0,ye.bD)(Rt,_n.options)&&(0,ye.bD)(fn,_n.config))return _n;throw ut.create("duplicate-app",{appName:Un})}const Ln=new oe.h1(Un);for(const Hr of Zn.values())Ln.addComponent(Hr);const ur=new ae(Rt,fn,Ln);return Or.set(Un,ur),ur}function qn(_t,et){if((0,ye.Bd)()&&!(0,ye.p7)())throw ut.create("invalid-server-app-environment");let Rt;void 0===et.automaticDataCollectionEnabled&&(et.automaticDataCollectionEnabled=!1),Rt=xr(_t)?_t.options:_t;const fn=Object.assign(Object.assign({},et),Rt);if(void 0!==fn.releaseOnDeref&&delete fn.releaseOnDeref,void 0!==et.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ut.create("finalization-registry-not-supported",{});const _n=""+(Yn=JSON.stringify(fn),[...Yn].reduce((Ee,zt)=>Math.imul(31,Ee)+zt.charCodeAt(0)|0,0)),Ln=Zr.get(_n);var Yn;if(Ln)return Ln.incRefCount(et.releaseOnDeref),Ln;const ur=new oe.h1(_n);for(const Yn of Zn.values())ur.addComponent(Yn);const Hr=new Oe(Rt,et,_n,ur);return Zr.set(_n,Hr),Hr}function Wr(_t=Mn){const et=Or.get(_t);if(!et&&_t===Mn&&(0,ye.T9)())return Kt();if(!et)throw ut.create("no-app",{appName:_t});return et}function vr(){return Array.from(Or.values())}function yi(_t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.A)(function*(_t){let et=!1;const Rt=_t.name;Or.has(Rt)?(et=!0,Or.delete(Rt)):Zr.has(Rt)&&_t.decRefCount()<=0&&(Zr.delete(Rt),et=!0),et&&(yield Promise.all(_t.container.getProviders().map(fn=>fn.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function $(_t,et,Rt){var fn;let Un=null!==(fn=qr[_t])&&void 0!==fn?fn:_t;Rt&&(Un+=`-${Rt}`);const _n=Un.match(/\s|\//),Ln=et.match(/\s|\//);if(_n||Ln){const ur=[`Unable to register library "${Un}" with version "${et}":`];return _n&&ur.push(`library name "${Un}" contains illegal characters (whitespace or "/")`),_n&&Ln&&ur.push("and"),Ln&&ur.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void Xt.warn(ur.join(" "))}bn(new oe.uA(`${Un}-version`,()=>({library:Un,version:et}),"VERSION"))}function M(_t,et){if(null!==_t&&"function"!=typeof _t)throw ut.create("invalid-log-argument");(0,r.Ey)(_t,et)}function F(_t){(0,r.He)(_t)}const ie="firebase-heartbeat-database",ge=1,lt="firebase-heartbeat-store";let Mt=null;function gn(){return Mt||(Mt=function ke(_t,et,{blocked:Rt,upgrade:fn,blocking:Un,terminated:_n}={}){const Ln=indexedDB.open(_t,et),ur=pe(Ln);return fn&&Ln.addEventListener("upgradeneeded",Hr=>{fn(pe(Ln.result),Hr.oldVersion,Hr.newVersion,pe(Ln.transaction),Hr)}),Rt&&Ln.addEventListener("blocked",Hr=>Rt(Hr.oldVersion,Hr.newVersion,Hr)),ur.then(Hr=>{_n&&Hr.addEventListener("close",()=>_n()),Un&&Hr.addEventListener("versionchange",Yn=>Un(Yn.oldVersion,Yn.newVersion,Yn))}).catch(()=>{}),ur}(ie,ge,{upgrade:(_t,et)=>{if(0===et)try{_t.createObjectStore(lt)}catch(Rt){console.warn(Rt)}}}).catch(_t=>{throw ut.create("idb-open",{originalErrorMessage:_t.message})})),Mt}function Rn(){return(Rn=(0,o.A)(function*(_t){try{const Rt=(yield gn()).transaction(lt),fn=yield Rt.objectStore(lt).get(Se(_t));return yield Rt.done,fn}catch(et){if(et instanceof ye.g)Xt.warn(et.message);else{const Rt=ut.create("idb-get",{originalErrorMessage:et?.message});Xt.warn(Rt.message)}}})).apply(this,arguments)}function Er(_t,et){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.A)(function*(_t,et){try{const fn=(yield gn()).transaction(lt,"readwrite");yield fn.objectStore(lt).put(et,Se(_t)),yield fn.done}catch(Rt){if(Rt instanceof ye.g)Xt.warn(Rt.message);else{const fn=ut.create("idb-set",{originalErrorMessage:Rt?.message});Xt.warn(fn.message)}}})).apply(this,arguments)}function Se(_t){return`${_t.name}!${_t.options.appId}`}class Jt{constructor(et){this.container=et,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new cr(Rt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var et=this;return(0,o.A)(function*(){var Rt,fn;try{const _n=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=In();return null==(null===(Rt=et._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)&&(et._heartbeatsCache=yield et._heartbeatsCachePromise,null==(null===(fn=et._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats))||et._heartbeatsCache.lastSentHeartbeatDate===Ln||et._heartbeatsCache.heartbeats.some(ur=>ur.date===Ln)?void 0:(et._heartbeatsCache.heartbeats.push({date:Ln,agent:_n}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(ur=>{const Hr=new Date(ur.date).valueOf();return Date.now()-Hr<=2592e6}),et._storage.overwrite(et._heartbeatsCache))}catch(Un){Xt.warn(Un)}})()}getHeartbeatsHeader(){var et=this;return(0,o.A)(function*(){var Rt;try{if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null==(null===(Rt=et._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats)||0===et._heartbeatsCache.heartbeats.length)return"";const fn=In(),{heartbeatsToSend:Un,unsentEntries:_n}=function vn(_t,et=1024){const Rt=[];let fn=_t.slice();for(const Un of _t){const _n=Rt.find(Ln=>Ln.agent===Un.agent);if(_n){if(_n.dates.push(Un.date),un(Rt)>et){_n.dates.pop();break}}else if(Rt.push({agent:Un.agent,dates:[Un.date]}),un(Rt)>et){Rt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:fn}}(et._heartbeatsCache.heartbeats),Ln=(0,ye.Uj)(JSON.stringify({version:2,heartbeats:Un}));return et._heartbeatsCache.lastSentHeartbeatDate=fn,_n.length>0?(et._heartbeatsCache.heartbeats=_n,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),Ln}catch(fn){return Xt.warn(fn),""}})()}}function In(){return(new Date).toISOString().substring(0,10)}class cr{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,ye.zW)()&&(0,ye.eX)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,o.A)(function*(){if(yield et._canUseIndexedDBPromise){const fn=yield function mn(_t){return Rn.apply(this,arguments)}(et.app);return fn?.heartbeats?fn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(et){var Rt=this;return(0,o.A)(function*(){var fn;if(yield Rt._canUseIndexedDBPromise){const _n=yield Rt.read();return Er(Rt.app,{lastSentHeartbeatDate:null!==(fn=et.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var Rt=this;return(0,o.A)(function*(){var fn;if(yield Rt._canUseIndexedDBPromise){const _n=yield Rt.read();return Er(Rt.app,{lastSentHeartbeatDate:null!==(fn=et.lastSentHeartbeatDate)&&void 0!==fn?fn:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...et.heartbeats]})}})()}}function un(_t){return(0,ye.Uj)(JSON.stringify({version:2,heartbeats:_t})).length}!function Xr(_t){bn(new oe.uA("platform-logger",et=>new Tn(et),"PRIVATE")),bn(new oe.uA("heartbeat",et=>new Jt(et),"PRIVATE")),$(Lt,Yt,_t),$(Lt,Yt,"esm2017"),$("fire-js","")}("")},1362:(dn,Je,k)=>{k.d(Je,{h1:()=>Ne,uA:()=>r});var o=k(467),oe=k(1076);class r{constructor(z,ne,be){this.name=z,this.instanceFactory=ne,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ye="[DEFAULT]";class fe{constructor(z,ne){this.name=z,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const ne=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(ne)){const be=new oe.cY;if(this.instancesDeferred.set(ne,be),this.isInitialized(ne)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ne});at&&be.resolve(at)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(z){var ne;const be=this.normalizeInstanceIdentifier(z?.identifier),at=null!==(ne=z?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ge){if(at)return null;throw Ge}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Ce(xe){return"EAGER"===xe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ne,be]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ne);try{const Ge=this.getOrInitializeService({instanceIdentifier:at});be.resolve(Ge)}catch{}}}}clearInstance(z=ye){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,o.A)(function*(){const ne=Array.from(z.instances.values());yield Promise.all([...ne.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ne.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ye){return this.instances.has(z)}getOptions(z=ye){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:ne={}}=z,be=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:be,options:ne});for(const[Ge,St]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ge)&&St.resolve(at);return at}onInit(z,ne){var be;const at=this.normalizeInstanceIdentifier(ne),Ge=null!==(be=this.onInitCallbacks.get(at))&&void 0!==be?be:new Set;Ge.add(z),this.onInitCallbacks.set(at,Ge);const St=this.instances.get(at);return St&&z(St,at),()=>{Ge.delete(z)}}invokeOnInitCallbacks(z,ne){const be=this.onInitCallbacks.get(ne);if(be)for(const at of be)try{at(z,ne)}catch{}}getOrInitializeService({instanceIdentifier:z,options:ne={}}){let be=this.instances.get(z);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=z,xe===ye?void 0:xe),options:ne}),this.instances.set(z,be),this.instancesOptions.set(z,ne),this.invokeOnInitCallbacks(be,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,be)}catch{}var xe;return be||null}normalizeInstanceIdentifier(z=ye){return this.component?this.component.multipleInstances?z:ye:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const ne=this.getProvider(z.name);if(ne.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);ne.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const ne=new fe(z,this);return this.providers.set(z,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(dn,Je,k)=>{k.d(Je,{$b:()=>oe,Ey:()=>xe,He:()=>Ne,Vy:()=>Ce});const o=[];var oe=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(oe||{});const r={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ye=oe.INFO,fe={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Te=(z,ne,...be)=>{if(ne<z.logLevel)return;const at=(new Date).toISOString(),Ge=fe[ne];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ge](`[${at}]  ${z.name}:`,...be)};class Ce{constructor(ne){this.name=ne,this._logLevel=ye,this._logHandler=Te,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in oe))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?r[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...ne),this._logHandler(this,oe.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...ne),this._logHandler(this,oe.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...ne),this._logHandler(this,oe.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...ne),this._logHandler(this,oe.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...ne),this._logHandler(this,oe.ERROR,...ne)}}function Ne(z){o.forEach(ne=>{ne.setLogLevel(z)})}function xe(z,ne){for(const be of o){let at=null;ne&&ne.level&&(at=r[ne.level]),be.userLogHandler=null===z?null:(Ge,St,...ht)=>{const jt=ht.map(Nt=>{if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch{return null}}).filter(Nt=>Nt).join(" ");St>=(at??Ge.logLevel)&&z({level:oe[St].toLowerCase(),message:jt,args:ht,type:Ge.name})}}}},2214:(dn,Je,k)=>{k.d(Je,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=k(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(dn,Je,k)=>{k.d(Je,{A:()=>o.A});var o=k(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(dn,Je,k)=>{var o=k(467),oe=k(3345),r=k(5504),ye=k(1076),Ce=(k(7852),k(8041),k(1362));function Ne(){return window}function ne(){return ne=(0,o.A)(function*($,M,F){var ie;const{BuildInfo:ge}=Ne();(0,r.au)(M.sessionId,"AuthEvent did not contain a session ID");const lt=yield function Nt($){return rn.apply(this,arguments)}(M.sessionId),Mt={};return(0,r.av)()?Mt.ibi=ge.packageName:(0,r.aw)()?Mt.apn=ge.packageName:(0,r.ax)($,"operation-not-supported-in-this-environment"),ge.displayName&&(Mt.appDisplayName=ge.displayName),Mt.sessionId=lt,(0,r.ay)($,F,M.type,void 0,null!==(ie=M.eventId)&&void 0!==ie?ie:void 0,Mt)}),ne.apply(this,arguments)}function at(){return(at=(0,o.A)(function*($){const{BuildInfo:M}=Ne(),F={};(0,r.av)()?F.iosBundleId=M.packageName:(0,r.aw)()?F.androidPackageName=M.packageName:(0,r.ax)($,"operation-not-supported-in-this-environment"),yield(0,r.az)($,F)})).apply(this,arguments)}function ht(){return(ht=(0,o.A)(function*($,M,F){const{cordova:ie}=Ne();let ge=()=>{};try{yield new Promise((lt,Mt)=>{let gn=null;function mn(){var Pe;lt();const Se=null===(Pe=ie.plugins.browsertab)||void 0===Pe?void 0:Pe.close;"function"==typeof Se&&Se(),"function"==typeof F?.close&&F.close()}function Rn(){gn||(gn=window.setTimeout(()=>{Mt((0,r.aB)($,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&Rn()}M.addPassiveListener(mn),document.addEventListener("resume",Rn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",Er,!1),ge=()=>{M.removePassiveListener(mn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",Er,!1),gn&&window.clearTimeout(gn)}})}finally{ge()}})).apply(this,arguments)}function rn(){return(rn=(0,o.A)(function*($){const M=function ze($){if((0,r.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),F=new Uint8Array(M);for(let ie=0;ie<$.length;ie++)F[ie]=$.charCodeAt(ie);return F}($),F=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(F)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ze extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(F=>F(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function Et($){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*($){const M=yield Tn()._get(or($));return M&&(yield Tn()._remove(or($))),M})).apply(this,arguments)}function sn(){const $=[];for(let F=0;F<20;F++){const ie=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return $.join("")}function Tn(){return(0,r.aE)(r.b)}function or($){return(0,r.aF)("authEvent",$.config.apiKey,$.name)}function Xt($){if(!$?.includes("?"))return{};const[M,...F]=$.split("?");return(0,ye.I9)(F.join("?"))}const st=class Ue{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(M){var F=this;return(0,o.A)(function*(){const ie=M._key();let ge=F.eventManagers.get(ie);return ge||(ge=new Ze(M),F.eventManagers.set(ie,ge),F.attachCallbackListeners(M,ge)),ge})()}_openPopup(M){(0,r.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,F,ie,ge){var lt=this;return(0,o.A)(function*(){!function jt($){var M,F,ie,ge,lt,Mt,gn,mn,Rn,Er;const Pe=Ne();(0,r.aC)("function"==typeof(null===(M=Pe?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(F=Pe?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(lt=null===(ge=null===(ie=Pe?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===lt?void 0:lt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(mn=null===(gn=null===(Mt=Pe?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===gn?void 0:gn.browsertab)||void 0===mn?void 0:mn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(Er=null===(Rn=Pe?.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===Er?void 0:Er.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Mt=yield lt._initialize(M);yield Mt.initialized(),Mt.resetRedirect(),(0,r.aI)(),yield lt._originValidation(M);const gn=function ke($,M,F=null){return{type:M,eventId:F,urlResponse:null,sessionId:sn(),postBody:null,tenantId:$.tenantId,error:(0,r.aB)($,"no-auth-event")}}(M,ie,ge);yield function tt($,M){return Tn()._set(or($),M)}(M,gn);const mn=yield function z($,M,F){return ne.apply(this,arguments)}(M,gn,F),Rn=yield function Ge($){const{cordova:M}=Ne();return new Promise(F=>{M.plugins.browsertab.isAvailable(ie=>{let ge=null;ie?M.plugins.browsertab.openUrl($):ge=M.InAppBrowser.open($,(0,r.aA)()?"_blank":"_system","location=yes"),F(ge)})})}(mn);return function St($,M,F){return ht.apply(this,arguments)}(M,Mt,Rn)})()}_isIframeWebStorageSupported(M,F){throw new Error("Method not implemented.")}_originValidation(M){const F=M._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function be($){return at.apply(this,arguments)}(M)),this.originValidationPromises[F]}attachCallbackListeners(M,F){const{universalLinks:ie,handleOpenURL:ge,BuildInfo:lt}=Ne(),Mt=setTimeout((0,o.A)(function*(){yield Et(M),F.onEvent(ln())}),500),gn=function(){var Er=(0,o.A)(function*(Pe){clearTimeout(Mt);const Se=yield Et(M);let $e=null;Se&&Pe?.url&&($e=function we($,M){var F,ie;const ge=function Yt($){const M=Xt($),F=M.link?decodeURIComponent(M.link):void 0,ie=Xt(F).link,ge=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Xt(ge).link||ge||ie||F||$}(M);if(ge.includes("/__/auth/callback")){const lt=Xt(ge),Mt=lt.firebaseError?function Lt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,gn=null===(ie=null===(F=Mt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ie?void 0:ie[1],mn=gn?(0,r.aB)(gn):null;return mn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:mn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:ge,postBody:null}}return null}(Se,Pe.url)),F.onEvent($e||ln())});return function(Se){return Er.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,gn);const mn=ge,Rn=`${lt.packageName.toLowerCase()}://`;Ne().handleOpenURL=function(){var Er=(0,o.A)(function*(Pe){if(Pe.toLowerCase().startsWith(Rn)&&gn({url:Pe}),"function"==typeof mn)try{mn(Pe)}catch(Se){console.error(Se)}});return function(Pe){return Er.apply(this,arguments)}}()}};function ln(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function ot(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Bt($=(0,ye.ZQ)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){try{const $=self.localStorage,M=r.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function jn($=(0,ye.ZQ)()){return function fr(){return(0,ye.lT)()&&11===document?.documentMode}()||function hn($=(0,ye.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ye.zW)()}catch{return er()&&(0,ye.zW)()}return!1}function er(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function nt(){return"http:"===ot()||"https:"===ot()}()||(0,ye.sr)()||Bt())&&!function Pn(){return(0,ye.lV)()||(0,ye.Ll)()}()&&nn()&&!er()}function Ut(){return Bt()&&typeof document<"u"}function Dr(){return(Dr=(0,o.A)(function*(){return!!Ut()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},ir=r.aC,Wt="persistence";function Jn($){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.A)(function*($){yield $._initializationPromise;const M=Or(),F=r.aF(Wt,$.config.apiKey,$.name);M&&M.setItem(F,$._getPersistence())})).apply(this,arguments)}function Or(){var $;try{return(null===($=function yn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Zr=r.aC;class Zn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(st),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(M){var F=this;return(0,o.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,F,ie,ge){var lt=this;return(0,o.A)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(M,F,ie,ge)})()}_openRedirect(M,F,ie,ge){var lt=this;return(0,o.A)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(M,F,ie,ge)})()}_isIframeWebStorageSupported(M,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,F)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Ut()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const F=yield function Ht(){return Dr.apply(this,arguments)}();M.underlyingResolver=F?M.cordovaResolver:M.browserResolver})()}}function ni($){return $.unwrap()}function bn($){return ar($)}function ar($){const{_tokenResponse:M}=$ instanceof ye.g?$.customData:$;if(!M)return null;if(!($ instanceof ye.g)&&"temporaryProof"in M&&"phoneNumber"in M)return r.P.credentialFromResult($);const F=M.providerId;if(!F||F===r.p.PASSWORD)return null;let ie;switch(F){case r.p.GOOGLE:ie=r.X;break;case r.p.FACEBOOK:ie=r.W;break;case r.p.GITHUB:ie=r.Y;break;case r.p.TWITTER:ie=r.$;break;default:const{oauthIdToken:ge,oauthAccessToken:lt,oauthTokenSecret:Mt,pendingToken:gn,nonce:mn}=M;return lt||Mt||ge||gn?gn?F.startsWith("saml.")?r.aQ._create(F,gn):r.N._fromParams({providerId:F,signInMethod:F,pendingToken:gn,idToken:ge,accessToken:lt}):new r.Z(F).credential({idToken:ge,accessToken:lt,rawNonce:mn}):null}return $ instanceof ye.g?ie.credentialFromError($):ie.credentialFromResult($)}function xr($,M){return M.catch(F=>{throw F instanceof ye.g&&function ri($,M){var F;const ie=null===(F=M.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new Ye($,r.as($,M));else if(ie){const ge=ar(M),lt=M;ge&&(lt.credential=ge,lt.tenantId=ie.tenantId||void 0,lt.email=ie.email||void 0,lt.phoneNumber=ie.phoneNumber||void 0)}}($,F),F}).then(F=>{const ge=F.user;return{operationType:F.operationType,credential:bn(F),additionalUserInfo:r.aq(F),user:ut.getOrCreate(ge)}})}function kn($,M){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,o.A)(function*($,M){const F=yield M;return{verificationId:F.verificationId,confirm:ie=>xr($,F.confirm(ie))}})).apply(this,arguments)}class Ye{constructor(M,F){this.resolver=F,this.auth=function ds($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return xr(ni(this.auth),this.resolver.resolveSignIn(M))}}class ut{constructor(M){this._delegate=M,this.multiFactor=r.at(M)}static getOrCreate(M){return ut.USER_MAP.has(M)||ut.USER_MAP.set(M,new ut(M)),ut.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var F=this;return(0,o.A)(function*(){return xr(F.auth,r.a2(F._delegate,M))})()}linkWithPhoneNumber(M,F){var ie=this;return(0,o.A)(function*(){return kn(ie.auth,r.l(ie._delegate,M,F))})()}linkWithPopup(M){var F=this;return(0,o.A)(function*(){return xr(F.auth,r.d(F._delegate,M,Zn))})()}linkWithRedirect(M){var F=this;return(0,o.A)(function*(){return yield Jn(r.aJ(F.auth)),r.g(F._delegate,M,Zn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var F=this;return(0,o.A)(function*(){return xr(F.auth,r.a3(F._delegate,M))})()}reauthenticateWithPhoneNumber(M,F){return kn(this.auth,r.r(this._delegate,M,F))}reauthenticateWithPopup(M){return xr(this.auth,r.e(this._delegate,M,Zn))}reauthenticateWithRedirect(M){var F=this;return(0,o.A)(function*(){return yield Jn(r.aJ(F.auth)),r.h(F._delegate,M,Zn)})()}sendEmailVerification(M){return r.ag(this._delegate,M)}unlink(M){var F=this;return(0,o.A)(function*(){return yield r.ap(F._delegate,M),F})()}updateEmail(M){return r.al(this._delegate,M)}updatePassword(M){return r.am(this._delegate,M)}updatePhoneNumber(M){return r.u(this._delegate,M)}updateProfile(M){return r.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,F){return r.ah(this._delegate,M,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ut.USER_MAP=new WeakMap;const ae=r.aC;let Oe=(()=>{class ${constructor(F,ie){if(this.app=F,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=F.options;ae(ge,"invalid-api-key",{appName:F.name}),ae(ge,"invalid-api-key",{appName:F.name});const lt=typeof window<"u"?Zn:void 0;this._delegate=ie.initialize({options:{persistence:Kt(ge,F.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ut.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ie){r.K(this._delegate,F,ie)}applyActionCode(F){return r.a7(this._delegate,F)}checkActionCode(F){return r.a8(this._delegate,F)}confirmPasswordReset(F,ie){return r.a6(this._delegate,F,ie)}createUserWithEmailAndPassword(F,ie){var ge=this;return(0,o.A)(function*(){return xr(ge._delegate,r.aa(ge._delegate,F,ie))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return r.af(this._delegate,F)}isSignInWithEmailLink(F){return r.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,o.A)(function*(){ae(Bn(),F._delegate,"operation-not-supported-in-this-environment");const ie=yield r.j(F._delegate,Zn);return ie?xr(F._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Ke($,M){(0,r.aJ)($)._logFramework(M)}(this._delegate,F)}onAuthStateChanged(F,ie,ge){const{next:lt,error:Mt,complete:gn}=At(F,ie,ge);return this._delegate.onAuthStateChanged(lt,Mt,gn)}onIdTokenChanged(F,ie,ge){const{next:lt,error:Mt,complete:gn}=At(F,ie,ge);return this._delegate.onIdTokenChanged(lt,Mt,gn)}sendSignInLinkToEmail(F,ie){return r.ac(this._delegate,F,ie)}sendPasswordResetEmail(F,ie){return r.a5(this._delegate,F,ie||void 0)}setPersistence(F){var ie=this;return(0,o.A)(function*(){let ge;switch(function Dn($,M){ir(Object.values(Ur).includes(M),$,"invalid-persistence-type"),(0,ye.lV)()?ir(M!==Ur.SESSION,$,"unsupported-persistence-type"):(0,ye.Ll)()?ir(M===Ur.NONE,$,"unsupported-persistence-type"):er()?ir(M===Ur.NONE||M===Ur.LOCAL&&(0,ye.zW)(),$,"unsupported-persistence-type"):ir(M===Ur.NONE||nn(),$,"unsupported-persistence-type")}(ie._delegate,F),F){case Ur.SESSION:ge=r.a;break;case Ur.LOCAL:ge=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case Ur.NONE:ge=r.U;break;default:return r.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return xr(this._delegate,r.a0(this._delegate))}signInWithCredential(F){return xr(this._delegate,r.a1(this._delegate,F))}signInWithCustomToken(F){return xr(this._delegate,r.a4(this._delegate,F))}signInWithEmailAndPassword(F,ie){return xr(this._delegate,r.ab(this._delegate,F,ie))}signInWithEmailLink(F,ie){return xr(this._delegate,r.ae(this._delegate,F,ie))}signInWithPhoneNumber(F,ie){return kn(this._delegate,r.s(this._delegate,F,ie))}signInWithPopup(F){var ie=this;return(0,o.A)(function*(){return ae(Bn(),ie._delegate,"operation-not-supported-in-this-environment"),xr(ie._delegate,r.c(ie._delegate,F,Zn))})()}signInWithRedirect(F){var ie=this;return(0,o.A)(function*(){return ae(Bn(),ie._delegate,"operation-not-supported-in-this-environment"),yield Jn(ie._delegate),r.f(ie._delegate,F,Zn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return r.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Ur,$})();function At($,M,F){let ie=$;"function"!=typeof $&&({next:ie,error:M,complete:F}=$);const ge=ie;return{next:Mt=>ge(Mt&&ut.getOrCreate(Mt)),error:M,complete:F}}function Kt($,M){const F=function qr($,M){const F=Or();if(!F)return[];const ie=r.aF(Wt,$,M);switch(F.getItem(ie)){case Ur.NONE:return[r.U];case Ur.LOCAL:return[r.i,r.a];case Ur.SESSION:return[r.a];default:return[]}}($,M);if(typeof self<"u"&&!F.includes(r.i)&&F.push(r.i),typeof window<"u")for(const ie of[r.b,r.a])F.includes(ie)||F.push(ie);return F.includes(r.U)||F.push(r.U),F}class qn{constructor(){this.providerId="phone",this._delegate=new r.P(ni(oe.A.auth()))}static credential(M,F){return r.P.credential(M,F)}verifyPhoneNumber(M,F){return this._delegate.verifyPhoneNumber(M,F)}unwrap(){return this._delegate}}qn.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,qn.PROVIDER_ID=r.P.PROVIDER_ID;const Wr=r.aC;class vr{constructor(M,F,ie=oe.A.app()){var ge;Wr(null===(ge=ie.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new r.R(ie.auth(),M,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ct($){$.INTERNAL.registerComponent(new Ce.uA("auth-compat",M=>{const F=M.getProvider("app-compat").getImmediate(),ie=M.getProvider("auth");return new Oe(F,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:qn,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:vr,TwitterAuthProvider:r.$,Auth:Oe,AuthCredential:r.L,Error:ye.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(oe.A)},467:(dn,Je,k)=>{function o(r,ye,fe,Te,Ce,Ne,xe){try{var z=r[Ne](xe),ne=z.value}catch(be){return void fe(be)}z.done?ye(ne):Promise.resolve(ne).then(Te,Ce)}function oe(r){return function(){var ye=this,fe=arguments;return new Promise(function(Te,Ce){var Ne=r.apply(ye,fe);function xe(ne){o(Ne,Te,Ce,xe,z,"next",ne)}function z(ne){o(Ne,Te,Ce,xe,z,"throw",ne)}xe(void 0)})}}k.d(Je,{A:()=>oe})},1635:(dn,Je,k)=>{function ye(Ke,Ae){var ve={};for(var je in Ke)Object.prototype.hasOwnProperty.call(Ke,je)&&Ae.indexOf(je)<0&&(ve[je]=Ke[je]);if(null!=Ke&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(je=Object.getOwnPropertySymbols(Ke);ot<je.length;ot++)Ae.indexOf(je[ot])<0&&Object.prototype.propertyIsEnumerable.call(Ke,je[ot])&&(ve[je[ot]]=Ke[je[ot]])}return ve}function be(Ke,Ae,ve,je){return new(ve||(ve=Promise))(function(nt,Bt){function Pn(jn){try{hn(je.next(jn))}catch(nn){Bt(nn)}}function fr(jn){try{hn(je.throw(jn))}catch(nn){Bt(nn)}}function hn(jn){jn.done?nt(jn.value):function ot(nt){return nt instanceof ve?nt:new ve(function(Bt){Bt(nt)})}(jn.value).then(Pn,fr)}hn((je=je.apply(Ke,Ae||[])).next())})}function pe(Ke){return this instanceof pe?(this.v=Ke,this):new pe(Ke)}function Ze(Ke,Ae,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,je=ve.apply(Ke,Ae||[]),nt=[];return ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Pn("next"),Pn("throw"),Pn("return",function Bt(Bn){return function(Ut){return Promise.resolve(Ut).then(Bn,nn)}}),ot[Symbol.asyncIterator]=function(){return this},ot;function Pn(Bn,Ut){je[Bn]&&(ot[Bn]=function(Ht){return new Promise(function(Dr,yn){nt.push([Bn,Ht,Dr,yn])>1||fr(Bn,Ht)})},Ut&&(ot[Bn]=Ut(ot[Bn])))}function fr(Bn,Ut){try{!function hn(Bn){Bn.value instanceof pe?Promise.resolve(Bn.value.v).then(jn,nn):er(nt[0][2],Bn)}(je[Bn](Ut))}catch(Ht){er(nt[0][3],Ht)}}function jn(Bn){fr("next",Bn)}function nn(Bn){fr("throw",Bn)}function er(Bn,Ut){Bn(Ut),nt.shift(),nt.length&&fr(nt[0][0],nt[0][1])}}function tt(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Ae=Ke[Symbol.asyncIterator];return Ae?Ae.call(Ke):(Ke=function ht(Ke){var Ae="function"==typeof Symbol&&Symbol.iterator,ve=Ae&&Ke[Ae],je=0;if(ve)return ve.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&je>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[je++],done:!Ke}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ke),ve={},je("next"),je("throw"),je("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function je(nt){ve[nt]=Ke[nt]&&function(Bt){return new Promise(function(Pn,fr){!function ot(nt,Bt,Pn,fr){Promise.resolve(fr).then(function(hn){nt({value:hn,done:Pn})},Bt)}(Pn,fr,(Bt=Ke[nt](Bt)).done,Bt.value)})}}}k.d(Je,{AQ:()=>Ze,N3:()=>pe,Tt:()=>ye,sH:()=>be,xN:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},dn=>{dn(dn.s=7875)}]);