"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(sn,Je,O)=>{O.d(Je,{$:()=>Ra,A:()=>J,G:()=>Ue,K:()=>Si,L:()=>xs,N:()=>Pe,P:()=>bo,R:()=>Pu,U:()=>gt,V:()=>ji,W:()=>Ei,X:()=>Yr,Y:()=>yo,Z:()=>Ri,_:()=>ns,a:()=>ec,a0:()=>ao,a1:()=>rs,a2:()=>$s,a3:()=>to,a4:()=>On,a5:()=>Oa,a6:()=>Eu,a7:()=>Ql,a8:()=>$o,a9:()=>bu,aA:()=>gn,aB:()=>at,aC:()=>ye,aD:()=>Oh,aE:()=>ne,aF:()=>Gt,aG:()=>Mh,aH:()=>Pl,aI:()=>Ph,aJ:()=>Zn,aN:()=>Lr,aQ:()=>Gi,aa:()=>Ih,ab:()=>Tu,ac:()=>yl,ad:()=>Jl,ae:()=>ka,af:()=>Mc,ag:()=>oe,ah:()=>X,ak:()=>Xn,al:()=>_i,am:()=>Gr,ap:()=>Ro,aq:()=>Cs,as:()=>Zl,at:()=>va,au:()=>qe,av:()=>ar,aw:()=>rn,ax:()=>we,ay:()=>la,az:()=>Oo,b:()=>Ua,c:()=>Vc,d:()=>sc,e:()=>ic,f:()=>rl,g:()=>Ml,h:()=>xl,i:()=>N,j:()=>Qf,k:()=>Bu,l:()=>$a,m:()=>Gc,p:()=>Te,r:()=>Lc,s:()=>Rs,u:()=>Nu});var i=O(467),ae=O(7852),r=O(1076),Ie=O(8041),le=O(1635),Ce=O(1362);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},J={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xe=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Ie.Vy("@firebase/auth");function Se(I,...m){Be.logLevel<=Ie.$b.ERROR&&Be.error(`Auth (${ae.SDK_VERSION}): ${I}`,...m)}function we(I,...m){throw Ut(I,...m)}function at(I,...m){return Ut(I,...m)}function rt(I,m,v){const S=Object.assign(Object.assign({},Xe()),{[m]:v});return new r.FA("auth","Firebase",S).create(m,{appName:I.name})}function ft(I){return rt(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ft(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&we(I,"argument-error"),rt(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return We.create(I,...m)}function ye(I,m,...v){if(!I)throw Ut(m,...v)}function $t(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Se(m),new Error(m)}function qe(I,m){I||$t(m)}function wn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Mt(){return"http:"===zt()||"https:"===zt()}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ze{constructor(m,v){this.shortDelay=m,this.longDelay=v,qe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ct(I,m){qe(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class ut{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ee=new ze(3e4,6e4);function be(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Le(I,m,v,S){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.A)(function*(I,m,v,S,Q={}){return it(I,Q,(0,i.A)(function*(){let me={},tt={};S&&("GET"===m?tt=S:me={body:JSON.stringify(S)});const Nt=(0,r.Am)(Object.assign({key:I.config.apiKey},tt)).slice(1),Zt=yield I._getAdditionalHeaders();Zt["Content-Type"]="application/json",I.languageCode&&(Zt["X-Firebase-Locale"]=I.languageCode);const Vn=Object.assign({method:m,headers:Zt},me);return(0,r.c1)()||(Vn.referrerPolicy="no-referrer"),ut.fetch()(un(I,I.config.apiHost,v,Nt),Vn)}))})).apply(this,arguments)}function it(I,m,v){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,i.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Oe),m);try{const Q=new nn(I),me=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const tt=yield me.json();if("needConfirmation"in tt)throw Qn(I,"account-exists-with-different-credential",tt);if(me.ok&&!("errorMessage"in tt))return tt;{const Nt=me.ok?tt.errorMessage:tt.error.message,[Zt,Vn]=Nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw Qn(I,"credential-already-in-use",tt);if("EMAIL_EXISTS"===Zt)throw Qn(I,"email-already-in-use",tt);if("USER_DISABLED"===Zt)throw Qn(I,"user-disabled",tt);const $n=S[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw rt(I,$n,Vn);we(I,$n)}}catch(Q){if(Q instanceof r.g)throw Q;we(I,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Rn(I,m,v,S){return lr.apply(this,arguments)}function lr(){return(lr=(0,i.A)(function*(I,m,v,S,Q={}){const me=yield Le(I,m,v,S,Q);return"mfaPendingCredential"in me&&we(I,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function un(I,m,v,S){const Q=`${m}${v}?${S}`;return I.config.emulator?ct(I.config,Q):`${I.config.apiScheme}://${Q}`}function kn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(at(this.auth,"network-request-failed")),ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Q=at(I,m,S);return Q.customData._tokenResponse=v,Q}function Ln(I){return void 0!==I&&void 0!==I.getResponse}function Jt(I){return void 0!==I&&void 0!==I.enterprise}class qt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return kn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function en(){return(en=(0,i.A)(function*(I){return(yield Le(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function or(I,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,i.A)(function*(I,m){return Le(I,"GET","/v2/recaptchaConfig",be(I,m))})).apply(this,arguments)}function Cn(){return(Cn=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function In(){return(In=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Rr(I,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ur(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function es(){return(es=(0,i.A)(function*(I,m=!1){const v=(0,r.Ku)(I),S=yield v.getIdToken(m),Q=Kr(S);ye(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const me="object"==typeof Q.firebase?Q.firebase:void 0,tt=me?.sign_in_provider;return{claims:Q,token:S,authTime:Ur(fn(Q.auth_time)),issuedAtTime:Ur(fn(Q.iat)),expirationTime:Ur(fn(Q.exp)),signInProvider:tt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(I){return 1e3*Number(I)}function Kr(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,r.u)(v);return Q?JSON.parse(Q):(Se("Failed to decode base64 JWT payload"),null)}catch(Q){return Se("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function tr(I){const m=Kr(I);return ye(m,"internal-error"),ye(typeof m.exp<"u","internal-error"),ye(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function vr(I,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,i.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof r.g&&function Ti({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class ht{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,i.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,i.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class yt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ur(this.lastLoginAt),this.creationTime=Ur(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function he(I){return je.apply(this,arguments)}function je(){return(je=(0,i.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),Q=yield vr(I,Rr(v,{idToken:S}));ye(Q?.users.length,v,"internal-error");const me=Q.users[0];I._notifyReloadListener(me);const tt=null!==(m=me.providerUserInfo)&&void 0!==m&&m.length?Pr(me.providerUserInfo):[],Nt=function Pn(I,m){return[...I.filter(S=>!m.some(Q=>Q.providerId===S.providerId)),...m]}(I.providerData,tt),$n=!!I.isAnonymous&&!(I.email&&me.passwordHash||Nt?.length),ii={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:Nt,metadata:new yt(me.createdAt,me.lastLoginAt),isAnonymous:$n};Object.assign(I,ii)})).apply(this,arguments)}function Wt(){return(Wt=(0,i.A)(function*(I){const m=(0,r.Ku)(I);yield he(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Pr(I){return I.map(m=>{var{providerId:v}=m,S=(0,le.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ei(){return(ei=(0,i.A)(function*(I,m){const v=yield it(I,{},(0,i.A)(function*(){const S=(0,r.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:me}=I.config,tt=un(I,Q,"/v1/token",`key=${me}`),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/x-www-form-urlencoded",ut.fetch()(tt,{method:"POST",headers:Nt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,i.A)(function*(I,m){return Le(I,"POST","/v2/accounts:revokeToken",be(I,m))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ye(m.idToken,"internal-error"),ye(typeof m.idToken<"u","internal-error"),ye(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):tr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){ye(0!==m.length,"internal-error");const v=tr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,i.A)(function*(){return v||!S.accessToken||S.isExpired?(ye(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,i.A)(function*(){const{accessToken:Q,refreshToken:me,expiresIn:tt}=yield function nr(I,m){return ei.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(Q,me,Number(tt))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:Q,expirationTime:me}=v,tt=new x;return S&&(ye("string"==typeof S,"internal-error",{appName:m}),tt.refreshToken=S),Q&&(ye("string"==typeof Q,"internal-error",{appName:m}),tt.accessToken=Q),me&&(ye("number"==typeof me,"internal-error",{appName:m}),tt.expirationTime=me),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return $t("not implemented")}}function k(I,m){ye("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ${constructor(m){var{uid:v,auth:S,stsTokenManager:Q}=m,me=(0,le.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new yt(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,i.A)(function*(){const S=yield vr(v,v.stsTokenManager.getToken(v.auth,m));return ye(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function Wr(I){return es.apply(this,arguments)}(this,m)}reload(){return function Ot(I){return Wt.apply(this,arguments)}(this)}_assign(m){this!==m&&(ye(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new $(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,i.A)(function*(){let Q=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),Q=!0),v&&(yield he(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,i.A)(function*(){if((0,ae._isFirebaseServerApp)(m.auth.app))return Promise.reject(ft(m.auth));const v=yield m.getIdToken();return yield vr(m,function Vt(I,m){return Cn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,Q,me,tt,Nt,Zt,Vn,$n;const ii=null!==(S=v.displayName)&&void 0!==S?S:void 0,Hs=null!==(Q=v.email)&&void 0!==Q?Q:void 0,ca=null!==(me=v.phoneNumber)&&void 0!==me?me:void 0,al=null!==(tt=v.photoURL)&&void 0!==tt?tt:void 0,Fd=null!==(Nt=v.tenantId)&&void 0!==Nt?Nt:void 0,Wu=null!==(Zt=v._redirectEventId)&&void 0!==Zt?Zt:void 0,Bh=null!==(Vn=v.createdAt)&&void 0!==Vn?Vn:void 0,Xm=null!==($n=v.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:ip,emailVerified:kd,isAnonymous:Cg,providerData:Hc,stsTokenManager:Gh}=v;ye(ip&&Gh,m,"internal-error");const Gl=x.fromJSON(this.name,Gh);ye("string"==typeof ip,m,"internal-error"),k(ii,m.name),k(Hs,m.name),ye("boolean"==typeof kd,m,"internal-error"),ye("boolean"==typeof Cg,m,"internal-error"),k(ca,m.name),k(al,m.name),k(Fd,m.name),k(Wu,m.name),k(Bh,m.name),k(Xm,m.name);const Ld=new $({uid:ip,auth:m,email:Hs,emailVerified:kd,displayName:ii,isAnonymous:Cg,photoURL:al,phoneNumber:ca,tenantId:Fd,stsTokenManager:Gl,createdAt:Bh,lastLoginAt:Xm});return Hc&&Array.isArray(Hc)&&(Ld.providerData=Hc.map(Hh=>Object.assign({},Hh))),Wu&&(Ld._redirectEventId=Wu),Ld}static _fromIdTokenResponse(m,v,S=!1){return(0,i.A)(function*(){const Q=new x;Q.updateFromServerResponse(v);const me=new $({uid:v.localId,auth:m,stsTokenManager:Q,isAnonymous:S});return yield he(me),me})()}static _fromGetAccountInfoResponse(m,v,S){return(0,i.A)(function*(){const Q=v.users[0];ye(void 0!==Q.localId,"internal-error");const me=void 0!==Q.providerUserInfo?Pr(Q.providerUserInfo):[],tt=!(Q.email&&Q.passwordHash||me?.length),Nt=new x;Nt.updateFromIdToken(S);const Zt=new $({uid:Q.localId,auth:m,stsTokenManager:Nt,isAnonymous:tt}),Vn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:me,metadata:new yt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||me?.length)};return Object.assign(Zt,Vn),Zt})()}}const se=new Map;function ne(I){qe(I instanceof Function,"Expected a class definition");let m=se.get(I);return m?(qe(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,se.set(I,m),m)}const gt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.A)(function*(){return!0})()}_set(v,S){var Q=this;return(0,i.A)(function*(){Q.storage[v]=S})()}_get(v){var S=this;return(0,i.A)(function*(){const Q=S.storage[v];return void 0===Q?null:Q})()}_remove(v){var S=this;return(0,i.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function Gt(I,m,v){return`firebase:${I}:${m}:${v}`}class pn{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:Q,name:me}=this.auth;this.fullUserKey=Gt(this.userKey,Q.apiKey,me),this.fullPersistenceKey=Gt("persistence",Q.apiKey,me),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,i.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?$._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,i.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,i.A)(function*(){if(!v.length)return new pn(ne(gt),m,S);const Q=(yield Promise.all(v.map(function(){var Vn=(0,i.A)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let me=Q[0]||ne(gt);const tt=Gt(S,m.config.apiKey,m.name);let Nt=null;for(const Vn of v)try{const $n=yield Vn._get(tt);if($n){const ii=$._fromJSON(m,$n);Vn!==me&&(Nt=ii),me=Vn;break}}catch{}const Zt=Q.filter(Vn=>Vn._shouldAllowMigration);return me._shouldAllowMigration&&Zt.length?(me=Zt[0],Nt&&(yield me._set(tt,Nt.toJSON())),yield Promise.all(v.map(function(){var Vn=(0,i.A)(function*($n){if($n!==me)try{yield $n._remove(tt)}catch{}});return function($n){return Vn.apply(this,arguments)}}())),new pn(me,m,S)):new pn(me,m,S)})()}}function _r(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(jt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ne(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(bn(m))return"Blackberry";if(dn(m))return"Webos";if($e(m))return"Safari";if((m.includes("chrome/")||Ye(m))&&!m.includes("edge/"))return"Chrome";if(rn(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Ne(I=(0,r.ZQ)()){return/firefox\//i.test(I)}function $e(I=(0,r.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ye(I=(0,r.ZQ)()){return/crios\//i.test(I)}function jt(I=(0,r.ZQ)()){return/iemobile/i.test(I)}function rn(I=(0,r.ZQ)()){return/android/i.test(I)}function bn(I=(0,r.ZQ)()){return/blackberry/i.test(I)}function dn(I=(0,r.ZQ)()){return/webos/i.test(I)}function ar(I=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function gn(I=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function st(I=(0,r.ZQ)()){return ar(I)||rn(I)||dn(I)||bn(I)||/windows phone/i.test(I)||jt(I)}function kt(I,m=[]){let v;switch(I){case"Browser":v=_r((0,r.ZQ)());break;case"Worker":v=`${_r((0,r.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ae.SDK_VERSION}/${S}`}class hn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=me=>new Promise((tt,Nt)=>{try{tt(m(me))}catch(Zt){Nt(Zt)}});S.onAbort=v,this.queue.push(S);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,i.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const Q of v.queue)yield Q(m),Q.onAbort&&S.push(Q.onAbort)}catch(Q){S.reverse();for(const me of S)try{me()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function _n(){return(_n=(0,i.A)(function*(I,m={}){return Le(I,"GET","/v2/passwordPolicy",be(I,m))})).apply(this,arguments)}class gr{constructor(m){var v,S,Q,me;const tt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=tt.minPasswordLength)&&void 0!==v?v:6,tt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=tt.maxPasswordLength),void 0!==tt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=tt.containsLowercaseCharacter),void 0!==tt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=tt.containsUppercaseCharacter),void 0!==tt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=tt.containsNumericCharacter),void 0!==tt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=tt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(me=m.forceUpgradeOnSignin)&&void 0!==me&&me,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,Q,me,tt,Nt;const Zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Zt),this.validatePasswordCharacterOptions(m,Zt),Zt.isValid&&(Zt.isValid=null===(v=Zt.meetsMinPasswordLength)||void 0===v||v),Zt.isValid&&(Zt.isValid=null===(S=Zt.meetsMaxPasswordLength)||void 0===S||S),Zt.isValid&&(Zt.isValid=null===(Q=Zt.containsLowercaseLetter)||void 0===Q||Q),Zt.isValid&&(Zt.isValid=null===(me=Zt.containsUppercaseLetter)||void 0===me||me),Zt.isValid&&(Zt.isValid=null===(tt=Zt.containsNumericCharacter)||void 0===tt||tt),Zt.isValid&&(Zt.isValid=null===(Nt=Zt.containsNonAlphanumericCharacter)||void 0===Nt||Nt),Zt}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),Q&&(v.meetsMaxPasswordLength=m.length<=Q)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<m.length;Q++)S=m.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,Q,me){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=me))}}class jr{constructor(m,v,S,Q){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ki(this),this.idTokenSubscription=new ki(this),this.beforeStateQueue=new hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=ne(v)),this._initializationPromise=this.queue((0,i.A)(function*(){var Q,me;if(!S._deleted&&(S.persistenceManager=yield pn.create(S,m),!S._deleted)){if(null!==(Q=S._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(me=S.currentUser)||void 0===me?void 0:me.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,i.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,i.A)(function*(){try{const S=yield Rr(v,{idToken:m}),Q=yield $._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(Q)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,i.A)(function*(){var S;if((0,ae._isFirebaseServerApp)(v.app)){const Nt=v.app.settings.authIdToken;return Nt?new Promise(Zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Nt).then(Zt,Zt))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let me=Q,tt=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Nt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Zt=me?._redirectEventId,Vn=yield v.tryRedirectSignIn(m);(!Nt||Nt===Zt)&&Vn?.user&&(me=Vn.user,tt=!0)}if(!me)return v.directlySetCurrentUser(null);if(!me._redirectEventId){if(tt)try{yield v.beforeStateQueue.runMiddleware(me)}catch(Nt){me=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Nt))}return me?v.reloadAndSetCurrentUserOrClear(me):v.directlySetCurrentUser(null)}return ye(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===me._redirectEventId?v.directlySetCurrentUser(me):v.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(m){var v=this;return(0,i.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,i.A)(function*(){try{yield he(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,i.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,i.A)(function*(){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject(ft(v));const S=m?(0,r.Ku)(m):null;return S&&ye(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,i.A)(function*(){if(!S._deleted)return m&&ye(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,i.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,i.A)(function*(){return(0,ae._isFirebaseServerApp)(m.app)?Promise.reject(ft(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject(ft(this)):this.queue((0,i.A)(function*(){yield v.assertedPersistence.setPersistence(ne(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,i.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,i.A)(function*(){const v=yield function Kn(I){return _n.apply(this,arguments)}(m),S=new gr(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new r.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,i.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function Rt(I,m){return G.apply(this,arguments)}(v,Q)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,i.A)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(v);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,i.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&ne(m)||v._popupRedirectResolver;ye(S,v,"argument-error"),v.redirectPersistenceManager=yield pn.create(v,[ne(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,i.A)(function*(){var S,Q;return v._isInitialized&&(yield v.queue((0,i.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,i.A)(function*(){if(m===v.currentUser)return v.queue((0,i.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,Q){if(this._deleted)return()=>{};const me="function"==typeof v?v:v.next.bind(v);let tt=!1;const Nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(Nt,this,"internal-error"),Nt.then(()=>{tt||me(this.currentUser)}),"function"==typeof v){const Zt=m.addObserver(v,S,Q);return()=>{tt=!0,Zt()}}{const Zt=m.addObserver(v);return()=>{tt=!0,Zt()}}}directlySetCurrentUser(m){var v=this;return(0,i.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,i.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(S["X-Firebase-Client"]=Q);const me=yield m._getAppCheckToken();return me&&(S["X-Firebase-AppCheck"]=me),S})()}_getAppCheckToken(){var m=this;return(0,i.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Pt(I,...m){Be.logLevel<=Ie.$b.WARN&&Be.warn(`Auth (${ae.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Zn(I){return(0,r.Ku)(I)}class ki{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let us={loadJS:()=>(0,i.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ks(I){return us.loadJS(I)}function Qr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class qr{constructor(m){this.type="recaptcha-enterprise",this.auth=Zn(m)}verify(m="verify",v=!1){var S=this;return(0,i.A)(function*(){function me(){return me=(0,i.A)(function*(Nt){if(!v){if(null==Nt.tenantId&&null!=Nt._agentRecaptchaConfig)return Nt._agentRecaptchaConfig.siteKey;if(null!=Nt.tenantId&&void 0!==Nt._tenantRecaptchaConfigs[Nt.tenantId])return Nt._tenantRecaptchaConfigs[Nt.tenantId].siteKey}return new Promise(function(){var Zt=(0,i.A)(function*(Vn,$n){or(Nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ii=>{if(void 0!==ii.recaptchaKey){const Hs=new qt(ii);return null==Nt.tenantId?Nt._agentRecaptchaConfig=Hs:Nt._tenantRecaptchaConfigs[Nt.tenantId]=Hs,Vn(Hs.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(ii=>{$n(ii)})});return function(Vn,$n){return Zt.apply(this,arguments)}}())}),me.apply(this,arguments)}function tt(Nt,Zt,Vn){const $n=window.grecaptcha;Jt($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(Nt,{action:m}).then(ii=>{Zt(ii)}).catch(()=>{Zt("NO_RECAPTCHA")})}):Vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Nt,Zt)=>{(function Q(Nt){return me.apply(this,arguments)})(S.auth).then(Vn=>{if(!v&&Jt(window.grecaptcha))tt(Vn,Nt,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function $i(){return us.recaptchaEnterpriseScript}();0!==$n.length&&($n+=Vn),Ks($n).then(()=>{tt(Vn,Nt,Zt)}).catch(ii=>{Zt(ii)})}}).catch(Vn=>{Zt(Vn)})})})()}}function Vi(I,m,v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,i.A)(function*(I,m,v,S=!1){const Q=new qr(I);let me;try{me=yield Q.verify(v)}catch{me=yield Q.verify(v,!0)}const tt=Object.assign({},m);return Object.assign(tt,S?{captchaResp:me}:{captchaResponse:me}),Object.assign(tt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(tt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),tt})).apply(this,arguments)}function xr(I,m,v,S){return qs.apply(this,arguments)}function qs(){return qs=(0,i.A)(function*(I,m,v,S){var Q;if(null!==(Q=I._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const me=yield Vi(I,m,v,"getOobCode"===v);return S(I,me)}return S(I,m).catch(function(){var me=(0,i.A)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Nt=yield Vi(I,m,v,"getOobCode"===v);return S(I,Nt)}return Promise.reject(tt)});return function(tt){return me.apply(this,arguments)}}())}),qs.apply(this,arguments)}function Si(I,m,v){const S=Zn(I);ye(S._canInitEmulator,S,"emulator-config-failed"),ye(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,me=ga(m),{host:tt,port:Nt}=function Ys(I){const m=ga(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const me=Q[1];return{host:me,port:ti(S.substr(me.length+1))}}{const[me,tt]=S.split(":");return{host:me,port:ti(tt)}}}(m);S.config.emulator={url:`${me}//${tt}${null===Nt?"":`:${Nt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:tt,port:Nt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function ss(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ga(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function ti(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class xs{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return $t("not implemented")}_getIdTokenResponse(m){return $t("not implemented")}_linkToIdToken(m,v){return $t("not implemented")}_getReauthenticationResolver(m){return $t("not implemented")}}function _o(I,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:resetPassword",be(I,m))})).apply(this,arguments)}function fi(){return(fi=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ii(I,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function hs(){return(hs=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:update",be(I,m))})).apply(this,arguments)}function oo(I,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithPassword",be(I,m))})).apply(this,arguments)}function ws(I,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:sendOobCode",be(I,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,i.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function cr(I,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,i.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function os(I,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,i.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function Xs(){return(Xs=(0,i.A)(function*(I,m){return ws(I,m)})).apply(this,arguments)}function ps(){return(ps=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}function ir(){return(ir=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}class gs extends xs{constructor(m,v,S,Q=null){super("password",S),this._email=m,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(m,v){return new gs(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new gs(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,i.A)(function*(){switch(v.signInMethod){case"password":return xr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oo);case"emailLink":return function ui(I,m){return ps.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:we(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,i.A)(function*(){switch(S.signInMethod){case"password":return xr(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii);case"emailLink":return function Os(I,m){return ir.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:we(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ts(I,m){return re.apply(this,arguments)}function re(){return(re=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithIdp",be(I,m))})).apply(this,arguments)}class Pe extends xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Pe(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):we("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q}=v,me=(0,le.Tt)(v,["providerId","signInMethod"]);if(!S||!Q)return null;const tt=new Pe(S,Q);return tt.idToken=me.idToken||void 0,tt.accessToken=me.accessToken||void 0,tt.secret=me.secret,tt.nonce=me.nonce,tt.pendingToken=me.pendingToken||null,tt}_getIdTokenResponse(m){return Ts(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ts(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ts(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,r.Am)(v)}return m}}function lt(){return(lt=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:sendVerificationCode",be(I,m))})).apply(this,arguments)}function on(){return(on=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m))})).apply(this,arguments)}function An(){return(An=(0,i.A)(function*(I,m){const v=yield Rn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m));if(v.temporaryProof)throw Qn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const rr={USER_NOT_FOUND:"user-not-found"};function qn(){return(qn=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),rr)})).apply(this,arguments)}class Yn extends xs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Yn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Yn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function bt(I,m){return on.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Nn(I,m){return An.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Or(I,m){return qn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:Q}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:me}=m;return S||v||Q||me?new Yn({verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:me}):null}}class kr{constructor(m){var v,S,Q,me,tt,Nt;const Zt=(0,r.I9)((0,r.hp)(m)),Vn=null!==(v=Zt.apiKey)&&void 0!==v?v:null,$n=null!==(S=Zt.oobCode)&&void 0!==S?S:null,ii=function ur(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Zt.mode)&&void 0!==Q?Q:null);ye(Vn&&$n&&ii,"argument-error"),this.apiKey=Vn,this.operation=ii,this.code=$n,this.continueUrl=null!==(me=Zt.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(tt=Zt.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(Nt=Zt.tenantId)&&void 0!==Nt?Nt:null}static parseLink(m){const v=function mi(I){const m=(0,r.I9)((0,r.hp)(I)).link,v=m?(0,r.I9)((0,r.hp)(m)).deep_link_id:null,S=(0,r.I9)((0,r.hp)(I)).deep_link_id;return(S?(0,r.I9)((0,r.hp)(S)).link:null)||S||v||m||I}(m);try{return new kr(v)}catch{return null}}}let ji=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return gs._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Q=kr.parseLink(S);return ye(Q,"argument-error"),gs._fromEmailAndCode(v,Q.code,Q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ri{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Nr extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ri extends Nr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return ye("providerId"in v&&"signInMethod"in v,"argument-error"),Pe._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ye(m.idToken||m.accessToken,"argument-error"),Pe._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ri.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ri.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:me,nonce:tt,providerId:Nt}=m;if(!S&&!Q&&!v&&!me||!Nt)return null;try{return new Ri(Nt)._credential({idToken:v,accessToken:S,nonce:tt,pendingToken:me})}catch{return null}}}let Ei=(()=>{class I extends Nr{constructor(){super("facebook.com")}static credential(v){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Yr=(()=>{class I extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Q}=v;if(!S&&!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),yo=(()=>{class I extends Nr{constructor(){super("github.com")}static credential(v){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Gi extends xs{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Ts(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ts(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ts(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q,pendingToken:me}=v;return S&&Q&&me&&S===Q?new Gi(S,me):null}static _create(m,v){return new Gi(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ns extends ri{constructor(m){ye(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ns.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ns.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Gi.fromJSON(m);return ye(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Gi._create(S,v)}catch{return null}}}let Ra=(()=>{class I extends Nr{constructor(){super("twitter.com")}static credential(v,S){return Pe._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=v;if(!S||!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function So(I,m){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signUp",be(I,m))})).apply(this,arguments)}class js{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,Q=!1){return(0,i.A)(function*(){const me=yield $._fromIdTokenResponse(m,S,Q),tt=Ns(S);return new js({user:me,providerId:tt,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,i.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const Q=Ns(S);return new js({user:m,providerId:Q,_tokenResponse:S,operationType:v})})()}}function Ns(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ao(I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,i.A)(function*(I){var m;if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const v=Zn(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new js({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield So(v,{returnSecureToken:!0}),Q=yield js._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class ma extends r.g{constructor(m,v,S,Q){var me;super(v.code,v.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,ma.prototype),this.customData={appName:m.name,tenantId:null!==(me=m.tenantId)&&void 0!==me?me:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,Q){return new ma(m,v,S,Q)}}function Pi(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?ma._fromErrorAndOperation(I,me,m,S):me})}function ra(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Ro(I,m){return K.apply(this,arguments)}function K(){return K=(0,i.A)(function*(I,m){const v=(0,r.Ku)(I);yield pe(!0,v,m);const{providerUserInfo:S}=yield function jn(I,m){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Q=ra(S||[]);return v.providerData=v.providerData.filter(me=>Q.has(me.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),K.apply(this,arguments)}function te(I,m){return U.apply(this,arguments)}function U(){return(U=(0,i.A)(function*(I,m,v=!1){const S=yield vr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return js._forOperation(I,"link",S)})).apply(this,arguments)}function pe(I,m,v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,i.A)(function*(I,m,v){yield he(m);const Q=!1===I?"provider-already-linked":"no-such-provider";ye(ra(m.providerData).has(v)===I,m.auth,Q)})).apply(this,arguments)}function vn(I,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,i.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,ae._isFirebaseServerApp)(S.app))return Promise.reject(ft(S));const Q="reauthenticate";try{const me=yield vr(I,Pi(S,Q,m,I),v);ye(me.idToken,S,"internal-error");const tt=Kr(me.idToken);ye(tt,S,"internal-error");const{sub:Nt}=tt;return ye(I.uid===Nt,S,"user-mismatch"),js._forOperation(I,Q,me)}catch(me){throw"auth/user-not-found"===me?.code&&we(S,"user-mismatch"),me}})).apply(this,arguments)}function _s(I,m){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,i.A)(function*(I,m,v=!1){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S="signIn",Q=yield Pi(I,S,m),me=yield js._fromIdTokenResponse(I,S,Q);return v||(yield I._updateCurrentUser(me.user)),me})).apply(this,arguments)}function rs(I,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,i.A)(function*(I,m){return _s(Zn(I),m)})).apply(this,arguments)}function $s(I,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,i.A)(function*(I,m){const v=(0,r.Ku)(I);return yield pe(!1,v,m.providerId),te(v,m)})).apply(this,arguments)}function to(I,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,i.A)(function*(I,m){return vn((0,r.Ku)(I),m)})).apply(this,arguments)}function jo(){return(jo=(0,i.A)(function*(I,m){return Rn(I,"POST","/v1/accounts:signInWithCustomToken",be(I,m))})).apply(this,arguments)}function On(I,m){return xa.apply(this,arguments)}function xa(){return xa=(0,i.A)(function*(I,m){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const v=Zn(I),S=yield function Oi(I,m){return jo.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),Q=yield js._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Q.user),Q}),xa.apply(this,arguments)}class ys{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?_l._fromServerResponse(m,v):"totpInfo"in v?no._fromServerResponse(m,v):we(m,"internal-error")}}class _l extends ys{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new _l(v)}}class no extends ys{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new no(v)}}function _a(I,m,v){var S;ye((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),ye(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ye(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(ye(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function As(I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.A)(function*(I){const m=Zn(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Oa(I,m,v){return Na.apply(this,arguments)}function Na(){return(Na=(0,i.A)(function*(I,m,v){const S=Zn(I),Q={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&_a(S,Q,v),yield xr(S,Q,"getOobCode",cr)})).apply(this,arguments)}function Eu(I,m,v){return wr.apply(this,arguments)}function wr(){return wr=(0,i.A)(function*(I,m,v){yield _o((0,r.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,i.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&As(I),Q});return function(Q){return S.apply(this,arguments)}}())}),wr.apply(this,arguments)}function Ql(I,m){return vo.apply(this,arguments)}function vo(){return vo=(0,i.A)(function*(I,m){yield function pi(I,m){return hs.apply(this,arguments)}((0,r.Ku)(I),{oobCode:m})}),vo.apply(this,arguments)}function $o(I,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,i.A)(function*(I,m){const v=(0,r.Ku)(I),S=yield _o(v,{oobCode:m}),Q=S.requestType;switch(ye(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(S.mfaInfo,v,"internal-error");default:ye(S.email,v,"internal-error")}let me=null;return S.mfaInfo&&(me=ys._fromServerResponse(Zn(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:me},operation:Q}})).apply(this,arguments)}function bu(I,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,i.A)(function*(I,m){const{data:v}=yield $o((0,r.Ku)(I),m);return v.email})).apply(this,arguments)}function Ih(I,m,v){return Po.apply(this,arguments)}function Po(){return(Po=(0,i.A)(function*(I,m,v){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S=Zn(I),tt=yield xr(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",So).catch(Zt=>{throw"auth/password-does-not-meet-requirements"===Zt.code&&As(I),Zt}),Nt=yield js._fromIdTokenResponse(S,"signIn",tt);return yield S._updateCurrentUser(Nt.user),Nt})).apply(this,arguments)}function Tu(I,m,v){return(0,ae._isFirebaseServerApp)(I.app)?Promise.reject(ft(I)):rs((0,r.Ku)(I),ji.credential(m,v)).catch(function(){var S=(0,i.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&As(I),Q});return function(Q){return S.apply(this,arguments)}}())}function yl(I,m,v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,i.A)(function*(I,m,v){const S=Zn(I),Q={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function me(tt,Nt){ye(Nt.handleCodeInApp,S,"argument-error"),Nt&&_a(S,tt,Nt)})(Q,v),yield xr(S,Q,"getOobCode",os)})).apply(this,arguments)}function Jl(I,m){const v=kr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function ka(I,m,v){return qa.apply(this,arguments)}function qa(){return(qa=(0,i.A)(function*(I,m,v){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S=(0,r.Ku)(I),Q=ji.credentialWithLink(m,v||wn());return ye(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),rs(S,Q)})).apply(this,arguments)}function Xa(){return(Xa=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:createAuthUri",be(I,m))})).apply(this,arguments)}function Mc(I,m){return P.apply(this,arguments)}function P(){return P=(0,i.A)(function*(I,m){const S={identifier:m,continueUri:Mt()?wn():"http://localhost"},{signinMethods:Q}=yield function Ya(I,m){return Xa.apply(this,arguments)}((0,r.Ku)(I),S);return Q||[]}),P.apply(this,arguments)}function oe(I,m){return B.apply(this,arguments)}function B(){return B=(0,i.A)(function*(I,m){const v=(0,r.Ku)(I),Q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&_a(v.auth,Q,m);const{email:me}=yield function ci(I,m){return Tn.apply(this,arguments)}(v.auth,Q);me!==I.email&&(yield I.reload())}),B.apply(this,arguments)}function X(I,m,v){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&_a(S.auth,me,v);const{email:tt}=yield function Bi(I,m){return Xs.apply(this,arguments)}(S.auth,me);tt!==I.email&&(yield I.reload())}),Ve.apply(this,arguments)}function Ht(){return(Ht=(0,i.A)(function*(I,m){return Le(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xn(I,m){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,i.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,r.Ku)(I),me={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},tt=yield vr(S,function Dt(I,m){return Ht.apply(this,arguments)}(S.auth,me));S.displayName=tt.displayName||null,S.photoURL=tt.photoUrl||null;const Nt=S.providerData.find(({providerId:Zt})=>"password"===Zt);Nt&&(Nt.displayName=S.displayName,Nt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(tt)}),Zr.apply(this,arguments)}function _i(I,m){const v=(0,r.Ku)(I);return(0,ae._isFirebaseServerApp)(v.auth.app)?Promise.reject(ft(v.auth)):dr(v,m,null)}function Gr(I,m){return dr((0,r.Ku)(I),null,m)}function dr(I,m,v){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,i.A)(function*(I,m,v){const{auth:S}=I,me={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(me.email=m),v&&(me.password=v);const tt=yield vr(I,function Mr(I,m){return fi.apply(this,arguments)}(S,me));yield I._updateTokensIfNecessary(tt,!0)}),Hr.apply(this,arguments)}class Ni{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class Qs extends Ni{constructor(m,v,S,Q){super(m,v,S),this.username=Q}}class Fs extends Ni{constructor(m,v){super(m,"facebook.com",v)}}class ia extends Qs{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Bs extends Ni{constructor(m,v){super(m,"google.com",v)}}class Go extends Qs{constructor(m,v,S){super(m,"twitter.com",v,S)}}function Cs(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function yi(I){var m,v;if(!I)return null;const{providerId:S}=I,Q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},me=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const tt=null===(v=null===(m=Kr(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(tt)return new Ni(me,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!S)return null;switch(S){case"facebook.com":return new Fs(me,Q);case"github.com":return new ia(me,Q);case"google.com":return new Bs(me,Q);case"twitter.com":return new Go(me,Q,I.screenName||null);case"custom":case"anonymous":return new Ni(me,null);default:return new Ni(me,S,Q)}}(v)}class Ds{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new Ds("enroll",m,v)}static _fromMfaPendingCredential(m){return new Ds("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ds._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return Ds._fromIdtoken(m.multiFactorSession.idToken)}return null}}class La{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Zn(m),Q=v.customData._serverResponse,me=(Q.mfaInfo||[]).map(Nt=>ys._fromServerResponse(S,Nt));ye(Q.mfaPendingCredential,S,"internal-error");const tt=Ds._fromMfaPendingCredential(Q.mfaPendingCredential);return new La(tt,me,function(){var Nt=(0,i.A)(function*(Zt){const Vn=yield Zt._process(S,tt);delete Q.mfaInfo,delete Q.mfaPendingCredential;const $n=Object.assign(Object.assign({},Q),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(v.operationType){case"signIn":const ii=yield js._fromIdTokenResponse(S,v.operationType,$n);return yield S._updateCurrentUser(ii.user),ii;case"reauthenticate":return ye(v.user,S,"internal-error"),js._forOperation(v.user,v.operationType,$n);default:we(S,"internal-error")}});return function(Zt){return Nt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,i.A)(function*(){return v.signInResolver(m)})()}}function Zl(I,m){var v;const S=(0,r.Ku)(I),Q=m;return ye(m.customData.operationType,S,"argument-error"),ye(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),La._fromError(S,Q)}class Va{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>ys._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Va(m)}getSession(){var m=this;return(0,i.A)(function*(){return Ds._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,i.A)(function*(){const Q=m,me=yield S.getSession(),tt=yield vr(S.user,Q._process(S.user.auth,me,v));return yield S.user._updateTokensIfNecessary(tt),S.user.reload()})()}unenroll(m){var v=this;return(0,i.A)(function*(){const S="string"==typeof m?m:m.uid,Q=yield v.user.getIdToken();try{const me=yield vr(v.user,function br(I,m){return Le(I,"POST","/v2/accounts/mfaEnrollment:withdraw",be(I,m))}(v.user.auth,{idToken:Q,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:tt})=>tt!==S),yield v.user._updateTokensIfNecessary(me),yield v.user.reload()}catch(me){throw me}})()}}const Au=new WeakMap;function va(I){const m=(0,r.Ku)(I);return Au.has(m)||Au.set(m,Va._fromUser(m)),Au.get(m)}const Oc="__sak";class Ah{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ua=(()=>{class I extends Ah{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=st(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),me=this.localCache[S];Q!==me&&v(S,me,Q)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Nt,Zt,Vn)=>{this.notifyListeners(Nt,Vn)});const Q=v.key;S?this.detachListener():this.stopPolling();const me=()=>{const Nt=this.storage.getItem(Q);!S&&this.localCache[Q]===Nt||this.notifyListeners(Q,Nt)},tt=this.storage.getItem(Q);!function wt(){return(0,r.lT)()&&10===document.documentMode}()||tt===v.newValue||v.newValue===v.oldValue?me():setTimeout(me,10)}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const me of Array.from(Q))me(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Q=()=>super._set,me=this;return(0,i.A)(function*(){yield Q().call(me,v,S),me.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Q=this;return(0,i.A)(function*(){const me=yield S().call(Q,v);return Q.localCache[v]=JSON.stringify(me),me})()}_remove(v){var S=()=>super._remove,Q=this;return(0,i.A)(function*(){yield S().call(Q,v),delete Q.localCache[v]})()}}return I.type="LOCAL",I})(),ec=(()=>{class I extends Ah{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let tn=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(me=>me.isListeningto(v));if(S)return S;const Q=new I(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,i.A)(function*(){const Q=v,{eventId:me,eventType:tt,data:Nt}=Q.data,Zt=S.handlersMap[tt];if(!Zt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:me,eventType:tt});const Vn=Array.from(Zt).map(function(){var ii=(0,i.A)(function*(Hs){return Hs(Q.origin,Nt)});return function(Hs){return ii.apply(this,arguments)}}()),$n=yield function Su(I){return Promise.all(I.map(function(){var m=(0,i.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Vn);Q.ports[0].postMessage({status:"done",eventId:me,eventType:tt,response:$n})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Lr(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class Ho{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var Q=this;return(0,i.A)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let tt,Nt;return new Promise((Zt,Vn)=>{const $n=Lr("",20);me.port1.start();const ii=setTimeout(()=>{Vn(new Error("unsupported_event"))},S);Nt={messageChannel:me,onMessage(Hs){const ca=Hs;if(ca.data.eventId===$n)switch(ca.data.status){case"ack":clearTimeout(ii),tt=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),Zt(ca.data.response);break;default:clearTimeout(ii),clearTimeout(tt),Vn(new Error("invalid_response"))}}},Q.handlers.add(Nt),me.port1.addEventListener("message",Nt.onMessage),Q.target.postMessage({eventType:m,eventId:$n,data:v},[me.port2])}).finally(()=>{Nt&&Q.removeMessageHandler(Nt)})})()}}function vs(){return window}function tc(){return typeof vs().WorkerGlobalScope<"u"&&"function"==typeof vs().importScripts}function Js(){return(Js=(0,i.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ja="firebaseLocalStorageDb",Qa="firebaseLocalStorage",Gs="fbase_key";class co{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ea(I,m){return I.transaction([Qa],m?"readwrite":"readonly").objectStore(Qa)}function Eo(){const I=indexedDB.open(ja,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Qa,{keyPath:Gs})}catch(Q){v(Q)}}),I.addEventListener("success",(0,i.A)(function*(){const S=I.result;S.objectStoreNames.contains(Qa)?m(S):(S.close(),yield function Ja(){const I=indexedDB.deleteDatabase(ja);return new co(I).toPromise()}(),m(yield Eo()))}))})}function Td(I,m,v){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,i.A)(function*(I,m,v){const S=Ea(I,!0).put({[Gs]:m,value:v});return new co(S).toPromise()})).apply(this,arguments)}function Ru(){return(Ru=(0,i.A)(function*(I,m){const v=Ea(I,!1).get(m),S=yield new co(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function kc(I,m){const v=Ea(I,!0).delete(m);return new co(v).toPromise()}const N=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,i.A)(function*(){return v.db||(v.db=yield Eo()),v.db})()}_withRetries(v){var S=this;return(0,i.A)(function*(){let Q=0;for(;;)try{const me=yield S._openDb();return yield v(me)}catch(me){if(Q++>3)throw me;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,i.A)(function*(){return tc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,i.A)(function*(){v.receiver=tn._getInstance(function bd(){return tc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,i.A)(function*(Q,me){return{keyProcessed:(yield v._poll()).includes(me.key)}});return function(Q,me){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,i.A)(function*(Q,me){return["keyChanged"]});return function(Q,me){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,i.A)(function*(){var S,Q;if(v.activeServiceWorker=yield function Tl(){return Js.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ho(v.activeServiceWorker);const me=yield v.sender._send("ping",{},800);me&&null!==(S=me[0])&&void 0!==S&&S.fulfilled&&null!==(Q=me[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,i.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Cl(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.A)(function*(){try{if(!indexedDB)return!1;const v=yield Eo();return yield Td(v,Oc,"1"),yield kc(v,Oc),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,i.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Q=this;return(0,i.A)(function*(){return Q._withPendingWrite((0,i.A)(function*(){return yield Q._withRetries(me=>Td(me,v,S)),Q.localCache[v]=S,Q.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,i.A)(function*(){const Q=yield S._withRetries(me=>function qf(I,m){return Ru.apply(this,arguments)}(me,v));return S.localCache[v]=Q,Q})()}_remove(v){var S=this;return(0,i.A)(function*(){return S._withPendingWrite((0,i.A)(function*(){return yield S._withRetries(Q=>kc(Q,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,i.A)(function*(){const S=yield v._withRetries(tt=>{const Nt=Ea(tt,!1).getAll();return new co(Nt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Q=[],me=new Set;if(0!==S.length)for(const{fbase_key:tt,value:Nt}of S)me.add(tt),JSON.stringify(v.localCache[tt])!==JSON.stringify(Nt)&&(v.notifyListeners(tt,Nt),Q.push(tt));for(const tt of Object.keys(v.localCache))v.localCache[tt]&&!me.has(tt)&&(v.notifyListeners(tt,null),Q.push(tt));return Q})()}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const me of Array.from(Q))me(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,i.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),At=1e12;class It{constructor(m){this.auth=m,this.counter=At,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Sn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||At;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||At))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,i.A)(function*(){var S;return null===(S=v._widgets.get(m||At))||void 0===S||S.execute(),""})()}}class Sn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;ye(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=Qr("rcb"),$r=new ze(3e4,6e4);class vi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=vs().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return ye(function Za(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Ln(vs().grecaptcha)?Promise.resolve(vs().grecaptcha):new Promise((S,Q)=>{const me=vs().setTimeout(()=>{Q(at(m,"network-request-failed"))},$r.get());vs()[Sr]=()=>{vs().clearTimeout(me),delete vs()[Sr];const Nt=vs().grecaptcha;if(!Nt||!Ln(Nt))return void Q(at(m,"internal-error"));const Zt=Nt.render;Nt.render=(Vn,$n)=>{const ii=Zt(Vn,$n);return this.counter++,ii},this.hostLanguage=v,S(Nt)},Ks(`${function go(){return us.recaptchaV2Script}()}?${(0,r.Am)({onload:Sr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(me),Q(at(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=vs().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wl{load(m){return(0,i.A)(function*(){return new It(m)})()}clearedOneInstance(){}}const nc="recaptcha",Al={theme:"light",type:"image"};class Pu{constructor(m,v,S=Object.assign({},Al)){this.parameters=S,this.type=nc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(m),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;ye(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wl:new vi,this.validateStartingState()}verify(){var m=this;return(0,i.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(me=>{const tt=Nt=>{Nt&&(m.tokenChangeListeners.delete(tt),me(Nt))};m.tokenChangeListeners.add(tt),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=vs()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,i.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,i.A)(function*(){ye(Mt()&&!tc(),m.auth,"internal-error"),yield function Dh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function yr(I){return en.apply(this,arguments)}(m.auth);ye(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Yn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Rs(I,m,v){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,i.A)(function*(I,m,v){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S=Zn(I),Q=yield Mu(S,m,(0,r.Ku)(v));return new el(Q,me=>rs(S,me))})).apply(this,arguments)}function $a(I,m,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);yield pe(!1,S,"phone");const Q=yield Mu(S.auth,m,(0,r.Ku)(v));return new el(Q,me=>$s(S,me))})).apply(this,arguments)}function Lc(I,m,v){return xu.apply(this,arguments)}function xu(){return(xu=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);if((0,ae._isFirebaseServerApp)(S.auth.app))return Promise.reject(ft(S.auth));const Q=yield Mu(S.auth,m,(0,r.Ku)(v));return new el(Q,me=>to(S,me))})).apply(this,arguments)}function Mu(I,m,v){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,i.A)(function*(I,m,v){var S;const Q=yield v.verify();try{let me;if(ye("string"==typeof Q,I,"argument-error"),ye(v.type===nc,I,"argument-error"),me="string"==typeof m?{phoneNumber:m}:m,"session"in me){const tt=me.session;if("phoneNumber"in me)return ye("enroll"===tt.type,I,"internal-error"),(yield function vd(I,m){return Le(I,"POST","/v2/accounts/mfaEnrollment:start",be(I,m))}(I,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ye("signin"===tt.type,I,"internal-error");const Nt=(null===(S=me.multiFactorHint)||void 0===S?void 0:S.uid)||me.multiFactorUid;return ye(Nt,I,"missing-multi-factor-info"),(yield function w(I,m){return Le(I,"POST","/v2/accounts/mfaSignIn:start",be(I,m))}(I,{mfaPendingCredential:tt.credential,mfaEnrollmentId:Nt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield function Ge(I,m){return lt.apply(this,arguments)}(I,{phoneNumber:me.phoneNumber,recaptchaToken:Q});return tt}}finally{v._reset()}}),Ou.apply(this,arguments)}function Nu(I,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,i.A)(function*(I,m){const v=(0,r.Ku)(I);if((0,ae._isFirebaseServerApp)(v.auth.app))return Promise.reject(ft(v.auth));yield te(v,m)})).apply(this,arguments)}let bo=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Zn(v)}verifyPhoneNumber(v,S){return Mu(this.auth,v,(0,r.Ku)(S))}static credential(v,S){return Yn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Q}=v;return S&&Q?Yn._fromTokenResponse(S,Q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Dl(I,m){return m?ne(m):(ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Sh extends xs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ts(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Ts(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Ts(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Id(I){return _s(I.auth,new Sh(I),I.bypassAuthState)}function Km(I){const{auth:m,user:v}=I;return ye(v,m,"internal-error"),vn(v,new Sh(I),I.bypassAuthState)}function wd(I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,i.A)(function*(I){const{auth:m,user:v}=I;return ye(v,m,"internal-error"),te(v,new Sh(I),I.bypassAuthState)})).apply(this,arguments)}class Yf{constructor(m,v,S,Q,me=!1){this.auth=m,this.resolver=S,this.user=Q,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,i.A)(function*(S,Q){m.pendingPromise={resolve:S,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(me){m.reject(me)}});return function(S,Q){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,i.A)(function*(){const{urlResponse:S,sessionId:Q,postBody:me,tenantId:tt,error:Nt,type:Zt}=m;if(Nt)return void v.reject(Nt);const Vn={auth:v.auth,requestUri:S,sessionId:Q,tenantId:tt||void 0,postBody:me||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Zt)(Vn))}catch($n){v.reject($n)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Id;case"linkViaPopup":case"linkViaRedirect":return wd;case"reauthViaPopup":case"reauthViaRedirect":return Km;default:we(this.auth,"internal-error")}}resolve(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rh=new ze(2e3,1e4);function Vc(I,m,v){return tl.apply(this,arguments)}function tl(){return(tl=(0,i.A)(function*(I,m,v){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(at(I,"operation-not-supported-in-this-environment"));const S=Zn(I);Ft(I,m,ri);const Q=Dl(S,v);return new _g(S,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function ic(I,m,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);if((0,ae._isFirebaseServerApp)(S.auth.app))return Promise.reject(at(S.auth,"operation-not-supported-in-this-environment"));Ft(S.auth,m,ri);const Q=Dl(S.auth,v);return new _g(S.auth,"reauthViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}function sc(I,m,v){return nl.apply(this,arguments)}function nl(){return(nl=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);Ft(S.auth,m,ri);const Q=Dl(S.auth,v);return new _g(S.auth,"linkViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}let _g=(()=>{class I extends Yf{constructor(v,S,Q,me,tt){super(v,S,me,tt),this.provider=Q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,i.A)(function*(){const S=yield v.execute();return ye(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,i.A)(function*(){qe(1===v.filter.length,"Popup operations only handle one event");const S=Lr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(at(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Q;this.pollId=null!==(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Rh.get())};v()}}return I.currentPopupAction=null,I})();const Mo="pendingRedirect",Ta=new Map;class ku extends Yf{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,i.A)(function*(){let S=Ta.get(v.auth._key());if(!S){try{const me=(yield function To(I,m){return Ad.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(me)}catch(Q){S=()=>Promise.reject(Q)}Ta.set(v.auth._key(),S)}return v.bypassAuthState||Ta.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,i.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const Q=yield S.auth._redirectUserForId(m.eventId);if(Q)return S.user=Q,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,i.A)(function*(){})()}cleanUp(){}}function Ad(){return(Ad=(0,i.A)(function*(I,m){const v=xh(m),S=oc(I);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(v));return yield S._remove(v),Q})).apply(this,arguments)}function Rl(I,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,i.A)(function*(I,m){return oc(I)._set(xh(m),"true")})).apply(this,arguments)}function Ph(){Ta.clear()}function Pl(I,m){Ta.set(I._key(),m)}function oc(I){return ne(I._redirectPersistence)}function xh(I){return Gt(Mo,I.config.apiKey,I.name)}function rl(I,m,v){return function ac(I,m,v){return Uc.apply(this,arguments)}(I,m,v)}function Uc(){return(Uc=(0,i.A)(function*(I,m,v){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S=Zn(I);Ft(I,m,ri),yield S._initializationPromise;const Q=Dl(S,v);return yield Rl(Q,S),Q._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function xl(I,m,v){return function Xf(I,m,v){return Ko.apply(this,arguments)}(I,m,v)}function Ko(){return(Ko=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);if(Ft(S.auth,m,ri),(0,ae._isFirebaseServerApp)(S.auth.app))return Promise.reject(ft(S.auth));yield S.auth._initializationPromise;const Q=Dl(S.auth,v);yield Rl(Q,S.auth);const me=yield Jf(S);return Q._openRedirect(S.auth,m,"reauthViaRedirect",me)})).apply(this,arguments)}function Ml(I,m,v){return function Ol(I,m,v){return Lu.apply(this,arguments)}(I,m,v)}function Lu(){return(Lu=(0,i.A)(function*(I,m,v){const S=(0,r.Ku)(I);Ft(S.auth,m,ri),yield S.auth._initializationPromise;const Q=Dl(S.auth,v);yield pe(!1,S,m.providerId),yield Rl(Q,S.auth);const me=yield Jf(S);return Q._openRedirect(S.auth,m,"linkViaRedirect",me)})).apply(this,arguments)}function Qf(I,m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,i.A)(function*(I,m){return yield Zn(I)._initializationPromise,Mh(I,m,!1)})).apply(this,arguments)}function Mh(I,m){return as.apply(this,arguments)}function as(){return(as=(0,i.A)(function*(I,m,v=!1){if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject(ft(I));const S=Zn(I),Q=Dl(S,m),tt=yield new ku(S,Q,v).execute();return tt&&!v&&(delete tt.user._redirectEventId,yield S._persistUserIfCurrent(tt.user),yield S._setRedirectUser(null,m)),tt})).apply(this,arguments)}function Jf(I){return jc.apply(this,arguments)}function jc(){return(jc=(0,i.A)(function*(I){const m=Lr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Oh{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Fl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sd(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Sd(m)){const Q=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(at(this.auth,Q))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(m))}saveEventToCache(m){this.cachedEventUids.add(Dd(m)),this.lastProcessedEventTime=Date.now()}}function Dd(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Sd({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Oo(I){return qo.apply(this,arguments)}function qo(){return(qo=(0,i.A)(function*(I,m={}){return Le(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vu=/^https?/;function Fh(){return(Fh=(0,i.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Oo(I);for(const v of m)try{if(yg(v))return}catch{}we(I,"unauthorized-domain")})).apply(this,arguments)}function yg(I){const m=wn(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const tt=new URL(I);return""===tt.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&tt.hostname===S}if(!Vu.test(v))return!1;if(Nh.test(I))return S===I;const Q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const vg=new ze(3e4,6e4);function Zf(){const I=vs().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let ks=null;const Ym=new ze(5e3,15e3),Bc="__/auth/iframe",Eg="emulator/auth/iframe",Ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uu(I){const m=I.config;ye(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?ct(m,Eg):`https://${I.config.authDomain}/${Bc}`,S={apiKey:m.apiKey,appName:I.name,v:ae.SDK_VERSION},Q=Zs.get(I.config.apiHost);Q&&(S.eid=Q);const me=I._getFrameworks();return me.length&&(S.fw=me.join(",")),`${v}?${(0,r.Am)(S).slice(1)}`}function kh(){return kh=(0,i.A)(function*(I){const m=yield function qm(I){return ks=ks||function ep(I){return new Promise((m,v)=>{var S,Q,me;function tt(){Zf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Zf(),v(at(I,"network-request-failed"))},timeout:vg.get()})}if(null!==(Q=null===(S=vs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Q&&Q.Iframe)m(gapi.iframes.getContext());else{if(null===(me=vs().gapi)||void 0===me||!me.load){const Nt=Qr("iframefcb");return vs()[Nt]=()=>{gapi.load?tt():v(at(I,"network-request-failed"))},Ks(`${function Uo(){return us.gapiScript}()}?onload=${Nt}`).catch(Zt=>v(Zt))}tt()}}).catch(m=>{throw ks=null,m})}(I),ks}(I),v=vs().gapi;return ye(v,I,"internal-error"),m.open({where:document.body,url:Uu(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ba,dontclear:!0},S=>new Promise(function(){var Q=(0,i.A)(function*(me,tt){yield S.restyle({setHideOnLeave:!1});const Nt=at(I,"network-request-failed"),Zt=vs().setTimeout(()=>{tt(Nt)},Ym.get());function Vn(){vs().clearTimeout(Zt),me(S)}S.ping(Vn).then(Vn,()=>{tt(Nt)})});return function(me,tt){return Q.apply(this,arguments)}}()))}),kh.apply(this,arguments)}const Yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tg="__/auth/handler",Co="emulator/auth/handler",xd=encodeURIComponent("fac");function la(I,m,v,S,Q,me){return Md.apply(this,arguments)}function Md(){return(Md=(0,i.A)(function*(I,m,v,S,Q,me){ye(I.config.authDomain,I,"auth-domain-config-required"),ye(I.config.apiKey,I,"invalid-api-key");const tt={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ae.SDK_VERSION,eventId:Q};if(m instanceof ri){m.setDefaultLanguage(I.languageCode),tt.providerId=m.providerId||"",(0,r.Im)(m.getCustomParameters())||(tt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[$n,ii]of Object.entries(me||{}))tt[$n]=ii}if(m instanceof Nr){const $n=m.getScopes().filter(ii=>""!==ii);$n.length>0&&(tt.scopes=$n.join(","))}I.tenantId&&(tt.tid=I.tenantId);const Nt=tt;for(const $n of Object.keys(Nt))void 0===Nt[$n]&&delete Nt[$n];const Zt=yield I._getAppCheckToken(),Vn=Zt?`#${xd}=${encodeURIComponent(Zt)}`:"";return`${function Lh({config:I}){return I.emulator?ct(I,Co):`https://${I.authDomain}/${Tg}`}(I)}?${(0,r.Am)(Nt).slice(1)}${Vn}`})).apply(this,arguments)}const ju="webStorageSupport",Bu=class $u{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ec,this._completeRedirectFn=Mh,this._overrideRedirectResult=Pl}_openPopup(m,v,S,Q){var me=this;return(0,i.A)(function*(){var tt;qe(null===(tt=me.eventManagers[m._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const Nt=yield la(m,v,S,wn(),Q);return function tp(I,m,v,S=500,Q=600){const me=Math.max((window.screen.availHeight-Q)/2,0).toString(),tt=Math.max((window.screen.availWidth-S)/2,0).toString();let Nt="";const Zt=Object.assign(Object.assign({},Yo),{width:S.toString(),height:Q.toString(),top:me,left:tt}),Vn=(0,r.ZQ)().toLowerCase();v&&(Nt=Ye(Vn)?"_blank":v),Ne(Vn)&&(m=m||"http://localhost",Zt.scrollbars="yes");const $n=Object.entries(Zt).reduce((Hs,[ca,al])=>`${Hs}${ca}=${al},`,"");if(function Ci(I=(0,r.ZQ)()){var m;return ar(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Vn)&&"_self"!==Nt)return function bg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",Nt),new Pd(null);const ii=window.open(m||"",Nt,$n);ye(ii,I,"popup-blocked");try{ii.focus()}catch{}return new Pd(ii)}(m,Nt,Lr())})()}_openRedirect(m,v,S,Q){var me=this;return(0,i.A)(function*(){return yield me._originValidation(m),function Ss(I){vs().location.href=I}(yield la(m,v,S,wn(),Q)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Q,promise:me}=this.eventManagers[v];return Q?Promise.resolve(Q):(qe(me,"If manager is not set, promise should be"),me)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,i.A)(function*(){const S=yield function kl(I){return kh.apply(this,arguments)}(m),Q=new Oh(m);return S.register("authEvent",me=>(ye(me?.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Q},v.iframes[m._key()]=S,Q})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(ju,{type:ju},Q=>{var me;const tt=null===(me=Q?.[0])||void 0===me?void 0:me[ju];void 0!==tt&&v(!!tt),we(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function $c(I){return Fh.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return st()||$e()||ar()}};class np{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return $t("unexpected MultiFactorSessionType")}}}class jl extends np{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jl(m)}_finalizeEnroll(m,v,S){return function Ed(I,m){return Le(I,"POST","/v2/accounts/mfaEnrollment:finalize",be(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function F(I,m){return Le(I,"POST","/v2/accounts/mfaSignIn:finalize",be(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gc=(()=>{class I{constructor(){}static assertion(v){return jl._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Uh="@firebase/auth";class jh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,i.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function Li(I){us=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=Q=>{const me=at("internal-error");me.customData=Q,v(me)},S.type="text/javascript",S.charset="UTF-8",function Bl(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hu(I){(0,ae._registerComponent)(new Ce.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),me=m.getProvider("app-check-internal"),{apiKey:tt,authDomain:Nt}=S.options;ye(tt&&!tt.includes(":"),"invalid-api-key",{appName:S.name});const Zt={apiKey:tt,authDomain:Nt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(I)},Vn=new jr(S,Q,me,Zt);return function Ka(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ne);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(Vn,v),Vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ce.uA("auth-internal",m=>{const v=Zn(m.getProvider("auth").getImmediate());return new jh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Uh,"1.7.9",function rp(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ae.registerVersion)(Uh,"1.7.9","esm2017")}("Browser")},9583:(sn,Je,O)=>{O.d(Je,{fS:()=>Vp,Ix:()=>id,H6:()=>im,T1:()=>zs,Wq:()=>ru,uY:()=>Qd,W6:()=>ct,Ci:()=>am,YQ:()=>ul,NJ:()=>yc,Dc:()=>Jt,GA:()=>Gp,cm:()=>fi,K$:()=>Vt,FA:()=>Un,lo:()=>oi,bI:()=>Yt,qG:()=>Ka,qi:()=>qe,c8:()=>eu,gS:()=>iE,C3:()=>iv,hq:()=>hE,me:()=>Uv,rJ:()=>Uy,Cs:()=>S_,vN:()=>Vy,kd:()=>rE,CL:()=>uE,LA:()=>jv,H9:()=>rd,ol:()=>Pp,Q5:()=>Xd,Os:()=>By,FD:()=>U_,rf:()=>qv,Ws:()=>ls,z6:()=>rh,x7:()=>eE,nY:()=>Ec,_e:()=>Xy,GG:()=>tE,kU:()=>t0,Rr:()=>Io,aU:()=>uf,GV:()=>r0,AB:()=>Wv,$1:()=>Kv,po:()=>x_,St:()=>ZE,aQ:()=>H_,FC:()=>Qy,My:()=>zv,P:()=>qy,B:()=>Sp,yx:()=>Vv,c4:()=>cE,O5:()=>dE,BN:()=>nE,He:()=>Ut,lN:()=>Zv,HM:()=>Lp,EO:()=>V_,mZ:()=>G_,iB:()=>om,_M:()=>Hv});var Te,xe,i=O(467),ae=O(7852),r=O(1362),Ie=O(8041),le=O(1076),Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(pt,He,nt){nt||(nt=0);var mt=Array(16);if("string"==typeof He)for(var Et=0;16>Et;++Et)mt[Et]=He.charCodeAt(nt++)|He.charCodeAt(nt++)<<8|He.charCodeAt(nt++)<<16|He.charCodeAt(nt++)<<24;else for(Et=0;16>Et;++Et)mt[Et]=He[nt++]|He[nt++]<<8|He[nt++]<<16|He[nt++]<<24;var xt=pt.g[3],et=(He=pt.g[0])+(xt^(nt=pt.g[1])&((Et=pt.g[2])^xt))+mt[0]+3614090360&4294967295;et=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=(nt=(Et=(xt=(He=nt+(et<<7&4294967295|et>>>25))+((et=xt+(Et^He&(nt^Et))+mt[1]+3905402710&4294967295)<<12&4294967295|et>>>20))+((et=Et+(nt^xt&(He^nt))+mt[2]+606105819&4294967295)<<17&4294967295|et>>>15))+((et=nt+(He^Et&(xt^He))+mt[3]+3250441966&4294967295)<<22&4294967295|et>>>10))+((et=He+(xt^nt&(Et^xt))+mt[4]+4118548399&4294967295)<<7&4294967295|et>>>25))+((et=xt+(Et^He&(nt^Et))+mt[5]+1200080426&4294967295)<<12&4294967295|et>>>20))+((et=Et+(nt^xt&(He^nt))+mt[6]+2821735955&4294967295)<<17&4294967295|et>>>15))+((et=nt+(He^Et&(xt^He))+mt[7]+4249261313&4294967295)<<22&4294967295|et>>>10))+((et=He+(xt^nt&(Et^xt))+mt[8]+1770035416&4294967295)<<7&4294967295|et>>>25))+((et=xt+(Et^He&(nt^Et))+mt[9]+2336552879&4294967295)<<12&4294967295|et>>>20))+((et=Et+(nt^xt&(He^nt))+mt[10]+4294925233&4294967295)<<17&4294967295|et>>>15))+((et=nt+(He^Et&(xt^He))+mt[11]+2304563134&4294967295)<<22&4294967295|et>>>10))+((et=He+(xt^nt&(Et^xt))+mt[12]+1804603682&4294967295)<<7&4294967295|et>>>25))+((et=xt+(Et^He&(nt^Et))+mt[13]+4254626195&4294967295)<<12&4294967295|et>>>20))+((et=Et+(nt^xt&(He^nt))+mt[14]+2792965006&4294967295)<<17&4294967295|et>>>15))+((et=nt+(He^Et&(xt^He))+mt[15]+1236535329&4294967295)<<22&4294967295|et>>>10))+((et=He+(Et^xt&(nt^Et))+mt[1]+4129170786&4294967295)<<5&4294967295|et>>>27))+((et=xt+(nt^Et&(He^nt))+mt[6]+3225465664&4294967295)<<9&4294967295|et>>>23))+((et=Et+(He^nt&(xt^He))+mt[11]+643717713&4294967295)<<14&4294967295|et>>>18))+((et=nt+(xt^He&(Et^xt))+mt[0]+3921069994&4294967295)<<20&4294967295|et>>>12))+((et=He+(Et^xt&(nt^Et))+mt[5]+3593408605&4294967295)<<5&4294967295|et>>>27))+((et=xt+(nt^Et&(He^nt))+mt[10]+38016083&4294967295)<<9&4294967295|et>>>23))+((et=Et+(He^nt&(xt^He))+mt[15]+3634488961&4294967295)<<14&4294967295|et>>>18))+((et=nt+(xt^He&(Et^xt))+mt[4]+3889429448&4294967295)<<20&4294967295|et>>>12))+((et=He+(Et^xt&(nt^Et))+mt[9]+568446438&4294967295)<<5&4294967295|et>>>27))+((et=xt+(nt^Et&(He^nt))+mt[14]+3275163606&4294967295)<<9&4294967295|et>>>23))+((et=Et+(He^nt&(xt^He))+mt[3]+4107603335&4294967295)<<14&4294967295|et>>>18))+((et=nt+(xt^He&(Et^xt))+mt[8]+1163531501&4294967295)<<20&4294967295|et>>>12))+((et=He+(Et^xt&(nt^Et))+mt[13]+2850285829&4294967295)<<5&4294967295|et>>>27))+((et=xt+(nt^Et&(He^nt))+mt[2]+4243563512&4294967295)<<9&4294967295|et>>>23))+((et=Et+(He^nt&(xt^He))+mt[7]+1735328473&4294967295)<<14&4294967295|et>>>18))+((et=nt+(xt^He&(Et^xt))+mt[12]+2368359562&4294967295)<<20&4294967295|et>>>12))+((et=He+(nt^Et^xt)+mt[5]+4294588738&4294967295)<<4&4294967295|et>>>28))+((et=xt+(He^nt^Et)+mt[8]+2272392833&4294967295)<<11&4294967295|et>>>21))+((et=Et+(xt^He^nt)+mt[11]+1839030562&4294967295)<<16&4294967295|et>>>16))+((et=nt+(Et^xt^He)+mt[14]+4259657740&4294967295)<<23&4294967295|et>>>9))+((et=He+(nt^Et^xt)+mt[1]+2763975236&4294967295)<<4&4294967295|et>>>28))+((et=xt+(He^nt^Et)+mt[4]+1272893353&4294967295)<<11&4294967295|et>>>21))+((et=Et+(xt^He^nt)+mt[7]+4139469664&4294967295)<<16&4294967295|et>>>16))+((et=nt+(Et^xt^He)+mt[10]+3200236656&4294967295)<<23&4294967295|et>>>9))+((et=He+(nt^Et^xt)+mt[13]+681279174&4294967295)<<4&4294967295|et>>>28))+((et=xt+(He^nt^Et)+mt[0]+3936430074&4294967295)<<11&4294967295|et>>>21))+((et=Et+(xt^He^nt)+mt[3]+3572445317&4294967295)<<16&4294967295|et>>>16))+((et=nt+(Et^xt^He)+mt[6]+76029189&4294967295)<<23&4294967295|et>>>9))+((et=He+(nt^Et^xt)+mt[9]+3654602809&4294967295)<<4&4294967295|et>>>28))+((et=xt+(He^nt^Et)+mt[12]+3873151461&4294967295)<<11&4294967295|et>>>21))+((et=Et+(xt^He^nt)+mt[15]+530742520&4294967295)<<16&4294967295|et>>>16))+((et=nt+(Et^xt^He)+mt[2]+3299628645&4294967295)<<23&4294967295|et>>>9))+((et=He+(Et^(nt|~xt))+mt[0]+4096336452&4294967295)<<6&4294967295|et>>>26))+((et=xt+(nt^(He|~Et))+mt[7]+1126891415&4294967295)<<10&4294967295|et>>>22))+((et=Et+(He^(xt|~nt))+mt[14]+2878612391&4294967295)<<15&4294967295|et>>>17))+((et=nt+(xt^(Et|~He))+mt[5]+4237533241&4294967295)<<21&4294967295|et>>>11))+((et=He+(Et^(nt|~xt))+mt[12]+1700485571&4294967295)<<6&4294967295|et>>>26))+((et=xt+(nt^(He|~Et))+mt[3]+2399980690&4294967295)<<10&4294967295|et>>>22))+((et=Et+(He^(xt|~nt))+mt[10]+4293915773&4294967295)<<15&4294967295|et>>>17))+((et=nt+(xt^(Et|~He))+mt[1]+2240044497&4294967295)<<21&4294967295|et>>>11))+((et=He+(Et^(nt|~xt))+mt[8]+1873313359&4294967295)<<6&4294967295|et>>>26))+((et=xt+(nt^(He|~Et))+mt[15]+4264355552&4294967295)<<10&4294967295|et>>>22))+((et=Et+(He^(xt|~nt))+mt[6]+2734768916&4294967295)<<15&4294967295|et>>>17))+((et=nt+(xt^(Et|~He))+mt[13]+1309151649&4294967295)<<21&4294967295|et>>>11))+((xt=(He=nt+((et=He+(Et^(nt|~xt))+mt[4]+4149444226&4294967295)<<6&4294967295|et>>>26))+((et=xt+(nt^(He|~Et))+mt[11]+3174756917&4294967295)<<10&4294967295|et>>>22))^((Et=xt+((et=Et+(He^(xt|~nt))+mt[2]+718787259&4294967295)<<15&4294967295|et>>>17))|~He))+mt[9]+3951481745&4294967295,pt.g[0]=pt.g[0]+He&4294967295,pt.g[1]=pt.g[1]+(Et+(et<<21&4294967295|et>>>11))&4294967295,pt.g[2]=pt.g[2]+Et&4294967295,pt.g[3]=pt.g[3]+xt&4294967295}function b(pt,He){this.h=He;for(var nt=[],mt=!0,Et=pt.length-1;0<=Et;Et--){var xt=0|pt[Et];mt&&xt==He||(nt[Et]=xt,mt=!1)}this.g=nt}(function e(pt,He){function nt(){}nt.prototype=He.prototype,pt.D=He.prototype,pt.prototype=new nt,pt.prototype.constructor=pt,pt.C=function(mt,Et,xt){for(var et=Array(arguments.length-2),ou=2;ou<arguments.length;ou++)et[ou-2]=arguments[ou];return He.prototype[Et].apply(mt,et)}})(a,function s(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(pt,He){void 0===He&&(He=pt.length);for(var nt=He-this.blockSize,mt=this.B,Et=this.h,xt=0;xt<He;){if(0==Et)for(;xt<=nt;)h(this,pt,xt),xt+=this.blockSize;if("string"==typeof pt){for(;xt<He;)if(mt[Et++]=pt.charCodeAt(xt++),Et==this.blockSize){h(this,mt),Et=0;break}}else for(;xt<He;)if(mt[Et++]=pt[xt++],Et==this.blockSize){h(this,mt),Et=0;break}}this.h=Et,this.o+=He},a.prototype.v=function(){var pt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);pt[0]=128;for(var He=1;He<pt.length-8;++He)pt[He]=0;var nt=8*this.o;for(He=pt.length-8;He<pt.length;++He)pt[He]=255&nt,nt/=256;for(this.u(pt),pt=Array(16),He=nt=0;4>He;++He)for(var mt=0;32>mt;mt+=8)pt[nt++]=this.g[He]>>>mt&255;return pt};var R={};function L(pt){return-128<=pt&&128>pt?function _(pt,He){var nt=R;return Object.prototype.hasOwnProperty.call(nt,pt)?nt[pt]:nt[pt]=He(pt)}(pt,function(He){return new b([0|He],0>He?-1:0)}):new b([0|pt],0>pt?-1:0)}function q(pt){if(isNaN(pt)||!isFinite(pt))return Ae;if(0>pt)return an(q(-pt));for(var He=[],nt=1,mt=0;pt>=nt;mt++)He[mt]=pt/nt|0,nt*=4294967296;return new b(He,0)}var Ae=L(0),Qe=L(1),St=L(16777216);function Xt(pt){if(0!=pt.h)return!1;for(var He=0;He<pt.g.length;He++)if(0!=pt.g[He])return!1;return!0}function mn(pt){return-1==pt.h}function an(pt){for(var He=pt.g.length,nt=[],mt=0;mt<He;mt++)nt[mt]=~pt.g[mt];return new b(nt,~pt.h).add(Qe)}function Jn(pt,He){return pt.add(an(He))}function fr(pt,He){for(;(65535&pt[He])!=pt[He];)pt[He+1]+=pt[He]>>>16,pt[He]&=65535,He++}function sr(pt,He){this.g=pt,this.h=He}function Fr(pt,He){if(Xt(He))throw Error("division by zero");if(Xt(pt))return new sr(Ae,Ae);if(mn(pt))return He=Fr(an(pt),He),new sr(an(He.g),an(He.h));if(mn(He))return He=Fr(pt,an(He)),new sr(an(He.g),He.h);if(30<pt.g.length){if(mn(pt)||mn(He))throw Error("slowDivide_ only works with positive integers.");for(var nt=Qe,mt=He;0>=mt.l(pt);)nt=Fi(nt),mt=Fi(mt);var Et=ai(nt,1),xt=ai(mt,1);for(mt=ai(mt,2),nt=ai(nt,2);!Xt(mt);){var et=xt.add(mt);0>=et.l(pt)&&(Et=Et.add(nt),xt=et),mt=ai(mt,1),nt=ai(nt,1)}return He=Jn(pt,Et.j(He)),new sr(Et,He)}for(Et=Ae;0<=pt.l(He);){for(nt=Math.max(1,Math.floor(pt.m()/He.m())),mt=48>=(mt=Math.ceil(Math.log(nt)/Math.LN2))?1:Math.pow(2,mt-48),et=(xt=q(nt)).j(He);mn(et)||0<et.l(pt);)et=(xt=q(nt-=mt)).j(He);Xt(xt)&&(xt=Qe),Et=Et.add(xt),pt=Jn(pt,et)}return new sr(Et,pt)}function Fi(pt){for(var He=pt.g.length+1,nt=[],mt=0;mt<He;mt++)nt[mt]=pt.i(mt)<<1|pt.i(mt-1)>>>31;return new b(nt,pt.h)}function ai(pt,He){var nt=He>>5;He%=32;for(var mt=pt.g.length-nt,Et=[],xt=0;xt<mt;xt++)Et[xt]=0<He?pt.i(xt+nt)>>>He|pt.i(xt+nt+1)<<32-He:pt.i(xt+nt);return new b(Et,pt.h)}(d=b.prototype).m=function(){if(mn(this))return-an(this).m();for(var pt=0,He=1,nt=0;nt<this.g.length;nt++){var mt=this.i(nt);pt+=(0<=mt?mt:4294967296+mt)*He,He*=4294967296}return pt},d.toString=function(pt){if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if(Xt(this))return"0";if(mn(this))return"-"+an(this).toString(pt);for(var He=q(Math.pow(pt,6)),nt=this,mt="";;){var Et=Fr(nt,He).g,xt=((0<(nt=Jn(nt,Et.j(He))).g.length?nt.g[0]:nt.h)>>>0).toString(pt);if(Xt(nt=Et))return xt+mt;for(;6>xt.length;)xt="0"+xt;mt=xt+mt}},d.i=function(pt){return 0>pt?0:pt<this.g.length?this.g[pt]:this.h},d.l=function(pt){return mn(pt=Jn(this,pt))?-1:Xt(pt)?0:1},d.abs=function(){return mn(this)?an(this):this},d.add=function(pt){for(var He=Math.max(this.g.length,pt.g.length),nt=[],mt=0,Et=0;Et<=He;Et++){var xt=mt+(65535&this.i(Et))+(65535&pt.i(Et)),et=(xt>>>16)+(this.i(Et)>>>16)+(pt.i(Et)>>>16);mt=et>>>16,nt[Et]=(et&=65535)<<16|(xt&=65535)}return new b(nt,-2147483648&nt[nt.length-1]?-1:0)},d.j=function(pt){if(Xt(this)||Xt(pt))return Ae;if(mn(this))return mn(pt)?an(this).j(an(pt)):an(an(this).j(pt));if(mn(pt))return an(this.j(an(pt)));if(0>this.l(St)&&0>pt.l(St))return q(this.m()*pt.m());for(var He=this.g.length+pt.g.length,nt=[],mt=0;mt<2*He;mt++)nt[mt]=0;for(mt=0;mt<this.g.length;mt++)for(var Et=0;Et<pt.g.length;Et++){var xt=this.i(mt)>>>16,et=65535&this.i(mt),ou=pt.i(Et)>>>16,Hp=65535&pt.i(Et);nt[2*mt+2*Et]+=et*Hp,fr(nt,2*mt+2*Et),nt[2*mt+2*Et+1]+=xt*Hp,fr(nt,2*mt+2*Et+1),nt[2*mt+2*Et+1]+=et*ou,fr(nt,2*mt+2*Et+1),nt[2*mt+2*Et+2]+=xt*ou,fr(nt,2*mt+2*Et+2)}for(mt=0;mt<He;mt++)nt[mt]=nt[2*mt+1]<<16|nt[2*mt];for(mt=He;mt<2*He;mt++)nt[mt]=0;return new b(nt,0)},d.A=function(pt){return Fr(this,pt).h},d.and=function(pt){for(var He=Math.max(this.g.length,pt.g.length),nt=[],mt=0;mt<He;mt++)nt[mt]=this.i(mt)&pt.i(mt);return new b(nt,this.h&pt.h)},d.or=function(pt){for(var He=Math.max(this.g.length,pt.g.length),nt=[],mt=0;mt<He;mt++)nt[mt]=this.i(mt)|pt.i(mt);return new b(nt,this.h|pt.h)},d.xor=function(pt){for(var He=Math.max(this.g.length,pt.g.length),nt=[],mt=0;mt<He;mt++)nt[mt]=this.i(mt)^pt.i(mt);return new b(nt,this.h^pt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,xe=De.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=q,b.fromString=function de(pt,He){if(0==pt.length)throw Error("number format error: empty string");if(2>(He=He||10)||36<He)throw Error("radix out of range: "+He);if("-"==pt.charAt(0))return an(de(pt.substring(1),He));if(0<=pt.indexOf("-"))throw Error('number format error: interior "-" character');for(var nt=q(Math.pow(He,8)),mt=Ae,Et=0;Et<pt.length;Et+=8){var xt=Math.min(8,pt.length-Et),et=parseInt(pt.substring(Et,Et+xt),He);8>xt?(xt=q(Math.pow(He,xt)),mt=mt.j(xt).add(q(et))):mt=(mt=mt.j(nt)).add(q(et))}return mt},Te=De.Integer=b}).apply(typeof Ce<"u"?Ce:typeof self<"u"?self:typeof window<"u"?window:{});var _e,Ue,Xe,We,ge,Be,Pt,Se,W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,Y){return E==Array.prototype||E==Object.prototype||(E[j]=Y.value),E},a=function s(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof W&&W];for(var j=0;j<E.length;++j){var Y=E[j];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var Y=a;E=E.split(".");for(var ve=0;ve<E.length-1;ve++){var Tt=E[ve];if(!(Tt in Y))break e;Y=Y[Tt]}(j=j(ve=Y[E=E[E.length-1]]))!=ve&&null!=j&&e(Y,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function _(E,j){E instanceof String&&(E+="");var Y=0,ve=!1,Tt={next:function(){if(!ve&&Y<E.length){var Lt=Y++;return{value:j(Lt,E[Lt]),done:!1}}return ve=!0,{done:!0,value:void 0}}};return Tt[Symbol.iterator]=function(){return Tt},Tt}(this,function(j,Y){return Y})}});var b=b||{},R=this||self;function L(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function q(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function de(E,j,Y){return E.call.apply(E.bind,arguments)}function Ae(E,j,Y){if(!E)throw Error();if(2<arguments.length){var ve=Array.prototype.slice.call(arguments,2);return function(){var Tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Tt,ve),E.apply(j,Tt)}}return function(){return E.apply(j,arguments)}}function Qe(E,j,Y){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?de:Ae).apply(null,arguments)}function St(E,j){var Y=Array.prototype.slice.call(arguments,1);return function(){var ve=Y.slice();return ve.push.apply(ve,arguments),E.apply(this,ve)}}function Xt(E,j){function Y(){}Y.prototype=j.prototype,E.aa=j.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ve,Tt,Lt){for(var En=Array(arguments.length-2),zi=2;zi<arguments.length;zi++)En[zi-2]=arguments[zi];return j.prototype[Tt].apply(ve,En)}}function mn(E){const j=E.length;if(0<j){const Y=Array(j);for(let ve=0;ve<j;ve++)Y[ve]=E[ve];return Y}return[]}function an(E,j){for(let Y=1;Y<arguments.length;Y++){const ve=arguments[Y];if(L(ve)){const Tt=E.length||0,Lt=ve.length||0;E.length=Tt+Lt;for(let En=0;En<Lt;En++)E[Tt+En]=ve[En]}else E.push(ve)}}function fr(E){return/^[\s\xa0]*$/.test(E)}function sr(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Fr(E){return Fr[" "](E),E}Fr[" "]=function(){};var Fi=!(-1==sr().indexOf("Gecko")||-1!=sr().toLowerCase().indexOf("webkit")&&-1==sr().indexOf("Edge")||-1!=sr().indexOf("Trident")||-1!=sr().indexOf("MSIE")||-1!=sr().indexOf("Edge"));function ai(E,j,Y){for(const ve in E)j.call(Y,E[ve],ve,E)}function He(E){const j={};for(const Y in E)j[Y]=E[Y];return j}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(E,j){let Y,ve;for(let Tt=1;Tt<arguments.length;Tt++){for(Y in ve=arguments[Tt],ve)E[Y]=ve[Y];for(let Lt=0;Lt<nt.length;Lt++)Y=nt[Lt],Object.prototype.hasOwnProperty.call(ve,Y)&&(E[Y]=ve[Y])}}function Et(E){var j=1;E=E.split(":");const Y=[];for(;0<j&&E.length;)Y.push(E.shift()),j--;return E.length&&Y.push(E.join(":")),Y}function xt(E){R.setTimeout(()=>{throw E},0)}function et(){var E=ym;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var Hp=new class Jn{constructor(j,Y){this.i=j,this.j=Y,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new _E,E=>E.reset());class _E{constructor(){this.next=this.g=this.h=null}set(j,Y){this.h=j,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let yf,zp=!1,ym=new class ou{constructor(){this.h=this.g=null}add(j,Y){const ve=Hp.get();ve.set(j,Y),this.h?this.h.next=ve:this.g=ve,this.h=ve}},vm=()=>{const E=R.Promise.resolve(void 0);yf=()=>{E.then(yE)}};var yE=()=>{for(var E;E=et();){try{E.h.call(E.g)}catch(Y){xt(Y)}var j=Hp;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}zp=!1};function ld(){this.s=this.s,this.C=this.C}function Jo(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}ld.prototype.s=!1,ld.prototype.ma=function(){this.s||(this.s=!0,this.N())},ld.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jo.prototype.h=function(){this.defaultPrevented=!0};var vE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};R.addEventListener("test",Y,j),R.removeEventListener("test",Y,j)}catch{}return E}();function Wp(E,j){if(Jo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ve=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Fi){e:{try{Fr(j.nodeName);var Tt=!0;break e}catch{}Tt=!1}Tt||(j=null)}}else"mouseover"==Y?j=E.fromElement:"mouseout"==Y&&(j=E.toElement);this.relatedTarget=j,ve?(this.clientX=void 0!==ve.clientX?ve.clientX:ve.pageX,this.clientY=void 0!==ve.clientY?ve.clientY:ve.pageY,this.screenX=ve.screenX||0,this.screenY=ve.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:bc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Wp.aa.h.call(this)}}Xt(Wp,Jo);var bc={2:"touch",3:"pen",4:"mouse"};Wp.prototype.h=function(){Wp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ih="closure_listenable_"+(1e6*Math.random()|0),av=0;function X_(E,j,Y,ve,Tt){this.listener=E,this.proxy=null,this.src=j,this.type=Y,this.capture=!!ve,this.ha=Tt,this.key=++av,this.da=this.fa=!1}function qi(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Kp(E){this.src=E,this.g={},this.h=0}function vf(E,j){var Y=j.type;if(Y in E.g){var Lt,ve=E.g[Y],Tt=Array.prototype.indexOf.call(ve,j,void 0);(Lt=0<=Tt)&&Array.prototype.splice.call(ve,Tt,1),Lt&&(qi(j),0==E.g[Y].length&&(delete E.g[Y],E.h--))}}function sh(E,j,Y,ve){for(var Tt=0;Tt<E.length;++Tt){var Lt=E[Tt];if(!Lt.da&&Lt.listener==j&&Lt.capture==!!Y&&Lt.ha==ve)return Tt}return-1}Kp.prototype.add=function(E,j,Y,ve,Tt){var Lt=E.toString();(E=this.g[Lt])||(E=this.g[Lt]=[],this.h++);var En=sh(E,j,ve,Tt);return-1<En?(j=E[En],Y||(j.fa=!1)):((j=new X_(j,this.src,Lt,!!ve,Tt)).fa=Y,E.push(j)),j};var Ef="closure_lm_"+(1e6*Math.random()|0),Q_={};function Em(E,j,Y,ve,Tt){if(ve&&ve.once)return Tm(E,j,Y,ve,Tt);if(Array.isArray(j)){for(var Lt=0;Lt<j.length;Lt++)Em(E,j[Lt],Y,ve,Tt);return null}return Y=Yp(Y),E&&E[ih]?E.K(j,Y,q(ve)?!!ve.capture:!!ve,Tt):bm(E,j,Y,!1,ve,Tt)}function bm(E,j,Y,ve,Tt,Lt){if(!j)throw Error("Invalid event type");var En=q(Tt)?!!Tt.capture:!!Tt,zi=bf(E);if(zi||(E[Ef]=zi=new Kp(E)),(Y=zi.add(j,Y,ve,En,Lt)).proxy)return Y;if(ve=function J_(){const j=EE;return function E(Y){return j.call(E.src,E.listener,Y)}}(),Y.proxy=ve,ve.src=E,ve.listener=Y,E.addEventListener)vE||(Tt=En),void 0===Tt&&(Tt=!1),E.addEventListener(j.toString(),ve,Tt);else if(E.attachEvent)E.attachEvent(Z_(j.toString()),ve);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ve)}return Y}function Tm(E,j,Y,ve,Tt){if(Array.isArray(j)){for(var Lt=0;Lt<j.length;Lt++)Tm(E,j[Lt],Y,ve,Tt);return null}return Y=Yp(Y),E&&E[ih]?E.L(j,Y,q(ve)?!!ve.capture:!!ve,Tt):bm(E,j,Y,!0,ve,Tt)}function qp(E,j,Y,ve,Tt){if(Array.isArray(j))for(var Lt=0;Lt<j.length;Lt++)qp(E,j[Lt],Y,ve,Tt);else ve=q(ve)?!!ve.capture:!!ve,Y=Yp(Y),E&&E[ih]?(E=E.i,(j=String(j).toString())in E.g&&-1<(Y=sh(Lt=E.g[j],Y,ve,Tt))&&(qi(Lt[Y]),Array.prototype.splice.call(Lt,Y,1),0==Lt.length&&(delete E.g[j],E.h--))):E&&(E=bf(E))&&(j=E.g[j.toString()],E=-1,j&&(E=sh(j,Y,ve,Tt)),(Y=-1<E?j[E]:null)&&dl(Y))}function dl(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[ih])vf(j.i,E);else{var Y=E.type,ve=E.proxy;j.removeEventListener?j.removeEventListener(Y,ve,E.capture):j.detachEvent?j.detachEvent(Z_(Y),ve):j.addListener&&j.removeListener&&j.removeListener(ve),(Y=bf(j))?(vf(Y,E),0==Y.h&&(Y.src=null,j[Ef]=null)):qi(E)}}}function Z_(E){return E in Q_?Q_[E]:Q_[E]="on"+E}function EE(E,j){if(E.da)E=!0;else{j=new Wp(j,this);var Y=E.listener,ve=E.ha||E.src;E.fa&&dl(E),E=Y.call(ve,j)}return E}function bf(E){return(E=E[Ef])instanceof Kp?E:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(E){return"function"==typeof E?E:(E[Cm]||(E[Cm]=function(j){return E.handleEvent(j)}),E[Cm])}function Fo(){ld.call(this),this.i=new Kp(this),this.M=this,this.F=null}function uo(E,j){var Y,ve=E.F;if(ve)for(Y=[];ve;ve=ve.F)Y.push(ve);if(E=E.M,ve=j.type||j,"string"==typeof j)j=new Jo(j,E);else if(j instanceof Jo)j.target=j.target||E;else{var Tt=j;mt(j=new Jo(ve,E),Tt)}if(Tt=!0,Y)for(var Lt=Y.length-1;0<=Lt;Lt--){var En=j.g=Y[Lt];Tt=au(En,ve,!0,j)&&Tt}if(Tt=au(En=j.g=E,ve,!0,j)&&Tt,Tt=au(En,ve,!1,j)&&Tt,Y)for(Lt=0;Lt<Y.length;Lt++)Tt=au(En=j.g=Y[Lt],ve,!1,j)&&Tt}function au(E,j,Y,ve){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var Tt=!0,Lt=0;Lt<j.length;++Lt){var En=j[Lt];if(En&&!En.da&&En.capture==Y){var zi=En.listener,Ls=En.ha||En.src;En.fa&&vf(E.i,En),Tt=!1!==zi.call(Ls,ve)&&Tt}}return Tt&&!ve.defaultPrevented}function Im(E,j,Y){if("function"==typeof E)Y&&(E=Qe(E,Y));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Qe(E.handleEvent,E)}return 2147483647<Number(j)?-1:R.setTimeout(E,j||0)}function Tf(E){E.g=Im(()=>{E.g=null,E.i&&(E.i=!1,Tf(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Xt(Fo,ld),Fo.prototype[ih]=!0,Fo.prototype.removeEventListener=function(E,j,Y,ve){qp(this,E,j,Y,ve)},Fo.prototype.N=function(){if(Fo.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var Y=E.g[j],ve=0;ve<Y.length;ve++)qi(Y[ve]);delete E.g[j],E.h--}}this.F=null},Fo.prototype.K=function(E,j,Y,ve){return this.i.add(String(E),j,!1,Y,ve)},Fo.prototype.L=function(E,j,Y,ve){return this.i.add(String(E),j,!0,Y,ve)};class bE extends ld{constructor(j,Y){super(),this.m=j,this.l=Y,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Tf(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cf(E){ld.call(this),this.h=E,this.g={}}Xt(Cf,ld);var wm=[];function Am(E){ai(E.g,function(j,Y){this.g.hasOwnProperty(Y)&&dl(j)},E),E.g={}}Cf.prototype.N=function(){Cf.aa.N.call(this),Am(this)},Cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dm=R.JSON.stringify,lv=R.JSON.parse,ey=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Xp(){}function ty(){}Xp.prototype.h=null;var ah={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qp(){Jo.call(this,"d")}function Sm(){Jo.call(this,"c")}Xt(Qp,Jo),Xt(Sm,Jo);var cd={},If=null;function Jp(){return If=If||new Fo}function ny(E){Jo.call(this,cd.La,E)}function za(E){const j=Jp();uo(j,new ny(j))}function Rm(E,j){Jo.call(this,cd.STAT_EVENT,E),this.stat=j}function wo(E){const j=Jp();uo(j,new Rm(j,E))}function Zp(E,j){Jo.call(this,cd.Ma,E),this.size=j}function ud(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},j)}function Ao(){this.g=!0}function lu(E,j,Y,ve){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function dd(E,j){if(!E.g)return j;if(!j)return null;try{var Y=JSON.parse(j);if(Y)for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ve=Y[E];if(!(2>ve.length)){var Tt=ve[1];if(Array.isArray(Tt)&&!(1>Tt.length)){var Lt=Tt[0];if("noop"!=Lt&&"stop"!=Lt&&"close"!=Lt)for(var En=1;En<Tt.length;En++)Tt[En]=""}}}return Dm(Y)}catch{return j}}(E,Y)+(ve?" "+ve:"")})}cd.La="serverreachability",Xt(ny,Jo),cd.STAT_EVENT="statevent",Xt(Rm,Jo),cd.Ma="timingevent",Xt(Zp,Jo),Ao.prototype.xa=function(){this.g=!1},Ao.prototype.info=function(){};var iy,wf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ry={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function tg(){}function Tc(E,j,Y,ve){this.j=E,this.i=j,this.l=Y,this.R=ve||1,this.U=new Cf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mm}function Mm(){this.i=null,this.g="",this.h=!1}Xt(tg,Xp),tg.prototype.g=function(){return new XMLHttpRequest},tg.prototype.i=function(){return{}},iy=new tg;var sy={},Af={};function Df(E,j,Y){E.L=1,E.v=ig(ta(j)),E.m=Y,E.P=!0,cv(E,null)}function cv(E,j){E.F=Date.now(),Sf(E),E.A=ta(E.v);var Y=E.A,ve=E.R;Array.isArray(ve)||(ve=[String(ve)]),ly(Y.i,"t",ve),E.C=0,Y=E.j.J,E.h=new Mm,E.g=$f(E.j,Y?j:null,!E.m),0<E.O&&(E.M=new bE(Qe(E.Y,E,E.g),E.O)),j=E.U,Y=E.g,ve=E.ca;var Tt="readystatechange";Array.isArray(Tt)||(Tt&&(wm[0]=Tt.toString()),Tt=wm);for(var Lt=0;Lt<Tt.length;Lt++){var En=Em(Y,Tt[Lt],ve||j.handleEvent,!1,j.h||j);if(!En)break;j.g[En.key]=En}j=E.H?He(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),za(),function Pm(E,j,Y,ve,Tt,Lt){E.info(function(){if(E.g)if(Lt)for(var En="",zi=Lt.split("&"),Ls=0;Ls<zi.length;Ls++){var xi=zi[Ls].split("=");if(1<xi.length){var ko=xi[0];xi=xi[1];var Lo=ko.split("_");En=2<=Lo.length&&"type"==Lo[1]?En+(ko+"=")+xi+"&":En+(ko+"=redacted&")}}else En=null;else En=Lt;return"XMLHTTP REQ ("+ve+") [attempt "+Tt+"]: "+j+"\n"+Y+"\n"+En})}(E.i,E.u,E.A,E.l,E.R,E.m)}function ng(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function oy(E,j){var Y=E.C,ve=j.indexOf("\n",Y);return-1==ve?Af:(Y=Number(j.substring(Y,ve)),isNaN(Y)?sy:(ve+=1)+Y>j.length?Af:(j=j.slice(ve,ve+Y),E.C=ve+Y,j))}function Sf(E){E.S=Date.now()+E.I,cu(E,E.I)}function cu(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=ud(Qe(E.ba,E),j)}function lh(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function uu(E){0==E.j.G||E.J||fg(E.j,E)}function zl(E){lh(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,Am(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function Rf(E,j){try{var Y=E.j;if(0!=Y.G&&(Y.g==E||Wl(Y.h,E)))if(!E.K&&Wl(Y.h,E)&&3==Y.G){try{var ve=Y.Da.g.parse(j)}catch{ve=null}if(Array.isArray(ve)&&3==ve.length){var Tt=ve;if(0==Tt[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<E.F))break e;vh(Y),Vf(Y)}_h(Y),wo(18)}}else Y.za=Tt[1],0<Y.za-Y.T&&37500>Tt[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=ud(Qe(Y.Za,Y),6e3));if(1>=hu(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else pd(Y,11)}else if((E.K||Y.g==E)&&vh(Y),!fr(j))for(Tt=Y.Da.g.parse(j),j=0;j<Tt.length;j++){let xi=Tt[j];if(Y.T=xi[0],xi=xi[1],2==Y.G)if("c"==xi[0]){Y.K=xi[1],Y.ia=xi[2];const ko=xi[3];null!=ko&&(Y.la=ko,Y.j.info("VER="+Y.la));const Lo=xi[4];null!=Lo&&(Y.Aa=Lo,Y.j.info("SVER="+Y.Aa));const Kl=xi[5];null!=Kl&&"number"==typeof Kl&&0<Kl&&(Y.L=ve=1.5*Kl,Y.j.info("backChannelRequestTimeoutMs_="+ve)),ve=Y;const fa=E.g;if(fa){const Bf=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var Lt=ve.h;Lt.g||-1==Bf.indexOf("spdy")&&-1==Bf.indexOf("quic")&&-1==Bf.indexOf("h2")||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Zo(Lt,Lt.h),Lt.h=null))}if(ve.D){const gu=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(ve.ya=gu,Yi(ve.I,ve.D,gu))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var En=E;if((ve=Y).qa=hy(ve,ve.J?ve.ia:null,ve.W),En.K){rg(ve.h,En);var zi=En,Ls=ve.L;Ls&&(zi.I=Ls),zi.B&&(lh(zi),Sf(zi)),ve.g=En}else hg(ve);0<Y.i.length&&Uf(Y)}else"stop"!=xi[0]&&"close"!=xi[0]||pd(Y,7);else 3==Y.G&&("stop"==xi[0]||"close"==xi[0]?"stop"==xi[0]?pd(Y,7):mh(Y):"noop"!=xi[0]&&Y.l&&Y.l.ta(xi),Y.v=0)}za()}catch{}}function du(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function hu(E){return E.h?1:E.g?E.g.size:0}function Wl(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function Zo(E,j){E.g?E.g.add(j):E.h=j}function rg(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function fu(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const Y of E.g.values())j=j.concat(Y.D);return j}return mn(E.i)}function Aa(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(L(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var Y=function ea(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(L(E)||"string"==typeof E){var j=[];E=E.length;for(var Y=0;Y<E;Y++)j.push(Y);return j}j=[],Y=0;for(const ve in E)j[Y++]=ve;return j}}}(E),ve=function wa(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(L(E)){for(var j=[],Y=E.length,ve=0;ve<Y;ve++)j.push(E[ve]);return j}for(ve in j=[],Y=0,E)j[Y++]=E[ve];return j}(E),Tt=ve.length,Lt=0;Lt<Tt;Lt++)j.call(void 0,ve[Lt],Y&&Y[Lt],E)}Tc.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==Ic(E)?j.j():this.Y(E)},Tc.prototype.Y=function(E){try{if(E==this.g)e:{const Lo=Ic(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Lo)&&(3!=Lo||this.g&&(this.h.h||this.g.oa()||gh(this.g)))){this.J||4!=Lo||7==j||za(),lh(this);var Y=this.g.Z();this.X=Y;t:if(ng(this)){var ve=gh(this.g);E="";var Tt=ve.length,Lt=4==Ic(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zl(this),uu(this);var En="";break t}this.h.i=new R.TextDecoder}for(j=0;j<Tt;j++)this.h.h=!0,E+=this.h.i.decode(ve[j],{stream:!(Lt&&j==Tt-1)});ve.length=0,this.h.g+=E,this.C=0,En=this.h.g}else En=this.g.oa();if(this.o=200==Y,function xm(E,j,Y,ve,Tt,Lt,En){E.info(function(){return"XMLHTTP RESP ("+ve+") [ attempt "+Tt+"]: "+j+"\n"+Y+"\n"+Lt+" "+En})}(this.i,this.u,this.A,this.l,this.R,Lo,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var zi,Ls=this.g;if((zi=Ls.g?Ls.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(zi)){var xi=zi;break t}}xi=null}if(!(Y=xi)){this.o=!1,this.s=3,wo(12),zl(this),uu(this);break e}lu(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,Y)}if(this.P){let fa;for(Y=!0;!this.J&&this.C<En.length;){if(fa=oy(this,En),fa==Af){4==Lo&&(this.s=4,wo(14),Y=!1),lu(this.i,this.l,null,"[Incomplete Response]");break}if(fa==sy){this.s=4,wo(15),lu(this.i,this.l,En,"[Invalid Chunk]"),Y=!1;break}lu(this.i,this.l,fa,null),Rf(this,fa)}if(ng(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Lo||0!=En.length||this.h.h||(this.s=1,wo(16),Y=!1),this.o=this.o&&Y,Y){if(0<En.length&&!this.W){this.W=!0;var ko=this.j;ko.g==this&&ko.ba&&!ko.M&&(ko.j.info("Great, no buffering proxy detected. Bytes received: "+En.length),jf(ko),ko.M=!0,wo(11))}}else lu(this.i,this.l,En,"[Invalid Chunked Response]"),zl(this),uu(this)}else lu(this.i,this.l,En,null),Rf(this,En);4==Lo&&zl(this),this.o&&!this.J&&(4==Lo?fg(this.j,this):(this.o=!1,Sf(this)))}else(function hv(E){const j={};E=(E.g&&2<=Ic(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ve=0;ve<E.length;ve++){if(fr(E[ve]))continue;var Y=Et(E[ve]);const Tt=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Lt=j[Tt]||[];j[Tt]=Lt,Lt.push(Y)}!function pt(E,j){for(const Y in E)j.call(void 0,E[Y],Y,E)}(j,function(ve){return ve.join(", ")})})(this.g),400==Y&&0<En.indexOf("Unknown SID")?(this.s=3,wo(12)):(this.s=0,wo(13)),zl(this),uu(this)}}}catch{}},Tc.prototype.cancel=function(){this.J=!0,zl(this)},Tc.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function eg(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(za(),wo(17)),zl(this),this.s=2,uu(this)):cu(this,this.S-E)},du.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof ua){this.h=E.h,Da(this,E.j),this.o=E.o,this.g=E.g,pu(this,E.s),this.l=E.l;var j=E.i,Y=new Nm;Y.i=j.i,j.g&&(Y.g=new Map(j.g),Y.h=j.h),Om(this,Y),this.m=E.m}else E&&(j=String(E).match(hl))?(this.h=!1,Da(this,j[1]||"",!0),this.o=uh(j[2]||""),this.g=uh(j[3]||"",!0),pu(this,j[4]),this.l=uh(j[5]||"",!0),Om(this,j[6]||"",!0),this.m=uh(j[7]||"")):(this.h=!1,this.i=new Nm(null,this.h))}function ta(E){return new ua(E)}function Da(E,j,Y){E.j=Y?uh(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function pu(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Om(E,j,Y){j instanceof Nm?(E.i=j,function og(E,j){j&&!E.j&&(hd(E),E.i=null,E.g.forEach(function(Y,ve){var Tt=ve.toLowerCase();ve!=Tt&&(Pf(this,ve),ly(this,Tt,Y))},E)),E.j=j}(E.i,E.h)):(Y||(j=dh(j,TE)),E.i=new Nm(j,E.h))}function Yi(E,j,Y){E.i.set(j,Y)}function ig(E){return Yi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function uh(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function dh(E,j,Y){return"string"==typeof E?(E=encodeURI(E).replace(j,da),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function da(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}ua.prototype.toString=function(){var E=[],j=this.j;j&&E.push(dh(j,sg,!0),":");var Y=this.g;return(Y||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(dh(j,sg,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&E.push("/"),E.push(dh(Y,"/"==Y.charAt(0)?ay:uv,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",dh(Y,o0)),E.join("")};var E,sg=/[#\/\?@]/g,uv=/[#\?:]/g,ay=/[#\?]/g,TE=/[#\?@]/g,o0=/#/g;function Nm(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function hd(E){E.g||(E.g=new Map,E.h=0,E.i&&function ch(E,j){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ve=E[Y].indexOf("="),Tt=null;if(0<=ve){var Lt=E[Y].substring(0,ve);Tt=E[Y].substring(ve+1)}else Lt=E[Y];j(Lt,Tt?decodeURIComponent(Tt.replace(/\+/g," ")):"")}}}(E.i,function(j,Y){E.add(decodeURIComponent(j.replace(/\+/g," ")),Y)}))}function Pf(E,j){hd(E),j=xf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function dv(E,j){return hd(E),j=xf(E,j),E.g.has(j)}function ly(E,j,Y){Pf(E,j),0<Y.length&&(E.i=null,E.g.set(xf(E,j),mn(Y)),E.h+=Y.length)}function xf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function fl(E,j,Y,ve,Tt){try{Tt&&(Tt.onload=null,Tt.onerror=null,Tt.onabort=null,Tt.ontimeout=null),ve(Y)}catch{}}function Mf(){this.g=new ey}function Of(E,j,Y){const ve=Y||"";try{Aa(E,function(Tt,Lt){let En=Tt;q(Tt)&&(En=Dm(Tt)),j.push(ve+Lt+"="+encodeURIComponent(En))})}catch(Tt){throw j.push(ve+"type="+encodeURIComponent("_badmap")),Tt}}function Cc(E){this.l=E.Ub||null,this.j=E.eb||!1}function Nf(E,j){Fo.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function hh(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function fh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Ff(E)}function Ff(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function ph(E){let j="";return ai(E,function(Y,ve){j+=ve,j+=":",j+=Y,j+="\r\n"}),j}function Fm(E,j,Y){e:{for(ve in Y){var ve=!1;break e}ve=!0}ve||(Y=ph(Y),"string"==typeof E?null!=Y&&encodeURIComponent(String(Y)):Yi(E,j,Y))}function Xi(E){Fo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Nm.prototype).add=function(E,j){hd(this),this.i=null,E=xf(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push(j),this.h+=1,this},d.forEach=function(E,j){hd(this),this.g.forEach(function(Y,ve){Y.forEach(function(Tt){E.call(j,Tt,ve,this)},this)},this)},d.na=function(){hd(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),Y=[];for(let ve=0;ve<j.length;ve++){const Tt=E[ve];for(let Lt=0;Lt<Tt.length;Lt++)Y.push(j[ve])}return Y},d.V=function(E){hd(this);let j=[];if("string"==typeof E)dv(this,E)&&(j=j.concat(this.g.get(xf(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)j=j.concat(E[Y])}return j},d.set=function(E,j){return hd(this),this.i=null,dv(this,E=xf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var Y=0;Y<j.length;Y++){var ve=j[Y];const Lt=encodeURIComponent(String(ve)),En=this.V(ve);for(ve=0;ve<En.length;ve++){var Tt=Lt;""!==En[ve]&&(Tt+="="+encodeURIComponent(String(En[ve]))),E.push(Tt)}}return this.i=E.join("&")},Xt(Cc,Xp),Cc.prototype.g=function(){return new Nf(this.l,this.j)},Cc.prototype.i=(E={},function(){return E}),Xt(Nf,Fo),(d=Nf.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Ff(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||R).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fh(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Ff(this)),this.g&&(this.readyState=3,Ff(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?fh(this):Ff(this),3==this.readyState&&hh(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,fh(this))},d.Qa=function(E){this.g&&(this.response=E,fh(this))},d.ga=function(){this.g&&fh(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var Y=j.next();!Y.done;)E.push((Y=Y.value)[0]+": "+Y[1]),Y=j.next();return E.join("\r\n")},Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Xt(Xi,Fo);var km=/^https?$/i,Lm=["POST","PUT"];function fd(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,kf(E),Vm(E)}function kf(E){E.A||(E.A=!0,uo(E,"complete"),uo(E,"error"))}function Lf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Ic(E)||2!=E.Z()))if(E.u&&4==Ic(E))Im(E.Ea,0,E);else if(uo(E,"readystatechange"),4==Ic(E)){E.h=!1;try{const En=E.Z();e:switch(En){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var Y;if(!(Y=j)){var ve;if(ve=0===En){var Tt=String(E.D).match(hl)[1]||null;!Tt&&R.self&&R.self.location&&(Tt=R.self.location.protocol.slice(0,-1)),ve=!km.test(Tt?Tt.toLowerCase():"")}Y=ve}if(Y)uo(E,"complete"),uo(E,"success");else{E.m=6;try{var Lt=2<Ic(E)?E.g.statusText:""}catch{Lt=""}E.l=Lt+" ["+E.Z()+"]",kf(E)}}finally{Vm(E)}}}function Vm(E,j){if(E.g){uy(E);const Y=E.g,ve=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||uo(E,"ready");try{Y.onreadystatechange=ve}catch{}}}function uy(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function Ic(E){return E.g?E.g.readyState:0}function gh(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(E,j,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||j}function lg(E){this.Aa=0,this.i=[],this.j=new Ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wc("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wc("baseRetryDelayMs",5e3,E),this.cb=wc("retryDelaySeedMs",1e4,E),this.Wa=wc("forwardChannelMaxRetries",2,E),this.wa=wc("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new du(E&&E.concurrentRequestLimit),this.Da=new Mf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function mh(E){if(cg(E),3==E.G){var j=E.U++,Y=ta(E.I);if(Yi(Y,"SID",E.K),Yi(Y,"RID",j),Yi(Y,"TYPE","terminate"),dg(E,Y),(j=new Tc(E,E.j,j)).L=2,j.v=ig(ta(Y)),Y=!1,R.navigator&&R.navigator.sendBeacon)try{Y=R.navigator.sendBeacon(j.v.toString(),"")}catch{}!Y&&R.Image&&((new Image).src=j.v,Y=!0),Y||(j.g=$f(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Sf(j)}dy(E)}function Vf(E){E.g&&(jf(E),E.g.cancel(),E.g=null)}function cg(E){Vf(E),E.u&&(R.clearTimeout(E.u),E.u=null),vh(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Uf(E){if(!eo(E.h)&&!E.s){E.s=!0;var j=E.Ga;yf||vm(),zp||(yf(),zp=!0),ym.add(j,E),E.B=0}}function ug(E,j){var Y;Y=j?j.l:E.U++;const ve=ta(E.I);Yi(ve,"SID",E.K),Yi(ve,"RID",Y),Yi(ve,"AID",E.T),dg(E,ve),E.m&&E.o&&Fm(ve,E.m,E.o),Y=new Tc(E,E.j,Y,E.B+1),null===E.m&&(Y.H=E.o),j&&(E.i=j.D.concat(E.i)),j=Um(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Zo(E.h,Y),Df(Y,ve,j)}function dg(E,j){E.H&&ai(E.H,function(Y,ve){Yi(j,ve,Y)}),E.l&&Aa({},function(Y,ve){Yi(j,ve,Y)})}function Um(E,j,Y){Y=Math.min(E.i.length,Y);var ve=E.l?Qe(E.l.Na,E.l,E):null;e:{var Tt=E.i;let Lt=-1;for(;;){const En=["count="+Y];-1==Lt?0<Y?(Lt=Tt[0].g,En.push("ofs="+Lt)):Lt=0:En.push("ofs="+Lt);let zi=!0;for(let Ls=0;Ls<Y;Ls++){let xi=Tt[Ls].g;const ko=Tt[Ls].map;if(xi-=Lt,0>xi)Lt=Math.max(0,Tt[Ls].g-100),zi=!1;else try{Of(ko,En,"req"+xi+"_")}catch{ve&&ve(ko)}}if(zi){ve=En.join("&");break e}}}return E=E.i.splice(0,Y),j.D=E,ve}function hg(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;yf||vm(),zp||(yf(),zp=!0),ym.add(j,E),E.v=0}}function _h(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=ud(Qe(E.Fa,E),jm(E,E.v)),E.v++,0))}function jf(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function yh(E){E.g=new Tc(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=ta(E.qa);Yi(j,"RID","rpc"),Yi(j,"SID",E.K),Yi(j,"AID",E.T),Yi(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&Yi(j,"TO",E.ja),Yi(j,"TYPE","xmlhttp"),dg(E,j),E.m&&E.o&&Fm(j,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=ig(ta(j)),Y.m=null,Y.P=!0,cv(Y,E)}function vh(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function fg(E,j){var Y=null;if(E.g==j){vh(E),jf(E),E.g=null;var ve=2}else{if(!Wl(E.h,j))return;Y=j.D,rg(E.h,j),ve=1}if(0!=E.G)if(j.o)if(1==ve){Y=j.m?j.m.length:0,j=Date.now()-j.F;var Tt=E.B;uo(ve=Jp(),new Zp(ve,Y)),Uf(E)}else hg(E);else if(3==(Tt=j.s)||0==Tt&&0<j.X||!(1==ve&&function CE(E,j){return!(hu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=ud(Qe(E.Ga,E,j),jm(E,E.B)),E.B++,0)))}(E,j)||2==ve&&_h(E)))switch(Y&&0<Y.length&&(j=E.h,j.i=j.i.concat(Y)),Tt){case 1:pd(E,5);break;case 4:pd(E,10);break;case 3:pd(E,6);break;default:pd(E,2)}}function jm(E,j){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*j}function pd(E,j){if(E.j.info("Error code "+j),2==j){var Y=Qe(E.fb,E),ve=E.Xa;const Tt=!ve;ve=new ua(ve||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Da(ve,"https"),ig(ve),Tt?function ag(E,j){const Y=new Ao;if(R.Image){const ve=new Image;ve.onload=St(fl,Y,"TestLoadImage: loaded",!0,j,ve),ve.onerror=St(fl,Y,"TestLoadImage: error",!1,j,ve),ve.onabort=St(fl,Y,"TestLoadImage: abort",!1,j,ve),ve.ontimeout=St(fl,Y,"TestLoadImage: timeout",!1,j,ve),R.setTimeout(function(){ve.ontimeout&&ve.ontimeout()},1e4),ve.src=E}else j(!1)}(ve.toString(),Y):function cy(E,j){new Ao;const ve=new AbortController,Tt=setTimeout(()=>{ve.abort(),fl(0,0,!1,j)},1e4);fetch(E,{signal:ve.signal}).then(Lt=>{clearTimeout(Tt),fl(0,0,!!Lt.ok,j)}).catch(()=>{clearTimeout(Tt),fl(0,0,!1,j)})}(ve.toString(),Y)}else wo(2);E.G=0,E.l&&E.l.sa(j),dy(E),cg(E)}function dy(E){if(E.G=0,E.ka=[],E.l){const j=fu(E.h);(0!=j.length||0!=E.i.length)&&(an(E.ka,j),an(E.ka,E.i),E.h.i.length=0,mn(E.i),E.i.length=0),E.l.ra()}}function hy(E,j,Y){var ve=Y instanceof ua?ta(Y):new ua(Y);if(""!=ve.g)j&&(ve.g=j+"."+ve.g),pu(ve,ve.s);else{var Tt=R.location;ve=Tt.protocol,j=j?j+"."+Tt.hostname:Tt.hostname,Tt=+Tt.port;var Lt=new ua(null);ve&&Da(Lt,ve),j&&(Lt.g=j),Tt&&pu(Lt,Tt),Y&&(Lt.l=Y),ve=Lt}return j=E.ya,(Y=E.D)&&j&&Yi(ve,Y,j),Yi(ve,"VER",E.la),dg(E,ve),ve}function $f(E,j,Y){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Xi(E.Ca&&!E.pa?new Cc({eb:Y}):E.pa)).Ha(E.J),j}function Eh(){}function bh(){}function ha(E,j){Fo.call(this),this.g=new lg(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!fr(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!fr(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new Ac(this)}function $m(E){Qp.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const Y in j){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function fy(){Sm.call(this),this.status=1}function Ac(E){this.g=E}(d=Xi.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,Y,ve){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():iy.g(),this.v=function oh(E){return E.h||(E.h=E.i())}(this.o?this.o:iy),this.g.onreadystatechange=Qe(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Lt){return void fd(this,Lt)}if(E=Y||"",Y=new Map(this.headers),ve)if(Object.getPrototypeOf(ve)===Object.prototype)for(var Tt in ve)Y.set(Tt,ve[Tt]);else{if("function"!=typeof ve.keys||"function"!=typeof ve.get)throw Error("Unknown input type for opt_headers: "+String(ve));for(const Lt of ve.keys())Y.set(Lt,ve.get(Lt))}ve=Array.from(Y.keys()).find(Lt=>"content-type"==Lt.toLowerCase()),Tt=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Lm,j,void 0))||ve||Tt||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,En]of Y)this.g.setRequestHeader(Lt,En);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uy(this),this.u=!0,this.g.send(E),this.u=!1}catch(Lt){fd(this,Lt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,uo(this,"complete"),uo(this,"abort"),Vm(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vm(this,!0)),Xi.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Lf(this):this.bb())},d.bb=function(){Lf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Ic(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),lv(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=lg.prototype).la=8,d.G=1,d.connect=function(E,j,Y,ve){wo(0),this.W=E,this.H=j||{},Y&&void 0!==ve&&(this.H.OSID=Y,this.H.OAID=ve),this.F=this.X,this.I=hy(this,null,this.W),Uf(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Tt=new Tc(this,this.j,E);let Lt=this.o;if(this.S&&(Lt?(Lt=He(Lt),mt(Lt,this.S)):Lt=this.S),null!==this.m||this.O||(Tt.H=Lt,Lt=null),this.P)e:{for(var j=0,Y=0;Y<this.i.length;Y++){var ve=this.i[Y];if(void 0===(ve="__data__"in ve.map&&"string"==typeof(ve=ve.map.__data__)?ve.length:void 0))break;if(4096<(j+=ve)){j=Y;break e}if(4096===j||Y===this.i.length-1){j=Y+1;break e}}j=1e3}else j=1e3;j=Um(this,Tt,j),Yi(Y=ta(this.I),"RID",E),Yi(Y,"CVER",22),this.D&&Yi(Y,"X-HTTP-Session-Id",this.D),dg(this,Y),Lt&&(this.O?j="headers="+encodeURIComponent(String(ph(Lt)))+"&"+j:this.m&&Fm(Y,this.m,Lt)),Zo(this.h,Tt),this.Ua&&Yi(Y,"TYPE","init"),this.P?(Yi(Y,"$req",j),Yi(Y,"SID","null"),Tt.T=!0,Df(Tt,Y,null)):Df(Tt,Y,j),this.G=2}}else 3==this.G&&(E?ug(this,E):0==this.i.length||eo(this.h)||ug(this))},d.Fa=function(){if(this.u=null,yh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=ud(Qe(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wo(10),Vf(this),yh(this))},d.Za=function(){null!=this.C&&(this.C=null,Vf(this),_h(this),wo(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),wo(2)):(this.j.info("Failed to ping google.com"),wo(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Eh.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},bh.prototype.g=function(E,j){return new ha(E,j)},Xt(ha,Fo),ha.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ha.prototype.close=function(){mh(this.g)},ha.prototype.o=function(E){var j=this.g;if("string"==typeof E){var Y={};Y.__data__=E,E=Y}else this.u&&((Y={}).__data__=Dm(E),E=Y);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Uf(j)},ha.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,ha.aa.N.call(this)},Xt($m,Qp),Xt(fy,Sm),Xt(Ac,Eh),Ac.prototype.ua=function(){uo(this.g,"a")},Ac.prototype.ta=function(E){uo(this.g,new $m(E))},Ac.prototype.sa=function(E){uo(this.g,new fy)},Ac.prototype.ra=function(){uo(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,ha.prototype.send=ha.prototype.o,ha.prototype.open=ha.prototype.m,ha.prototype.close=ha.prototype.close,Se=J.createWebChannelTransport=function(){return new bh},Pt=J.getStatEventTarget=function(){return Jp()},Be=J.Event=cd,ge=J.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wf.NO_ERROR=0,wf.TIMEOUT=8,wf.HTTP_ERROR=6,We=J.ErrorCode=wf,ry.COMPLETE="complete",Xe=J.EventType=ry,ty.EventType=ah,ah.OPEN="a",ah.CLOSE="b",ah.ERROR="c",ah.MESSAGE="d",Fo.prototype.listen=Fo.prototype.K,Ue=J.WebChannel=ty,J.FetchXmlHttpFactory=Cc,Xi.prototype.listenOnce=Xi.prototype.L,Xi.prototype.getLastError=Xi.prototype.Ka,Xi.prototype.getLastErrorCode=Xi.prototype.Ba,Xi.prototype.getStatus=Xi.prototype.Z,Xi.prototype.getResponseJson=Xi.prototype.Oa,Xi.prototype.getResponseText=Xi.prototype.oa,Xi.prototype.send=Xi.prototype.ea,Xi.prototype.setWithCredentials=Xi.prototype.Ha,_e=J.XhrIo=Xi}).apply(typeof W<"u"?W:typeof self<"u"?self:typeof window<"u"?window:{});const we="@firebase/firestore";class at{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");let rt="10.14.0";const ft=new Ie.Vy("@firebase/firestore");function Ft(){return ft.logLevel}function Ut(d){ft.setLogLevel(d)}function ye(d,...e){if(ft.logLevel<=Ie.$b.DEBUG){const s=e.map(wn);ft.debug(`Firestore (${rt}): ${d}`,...s)}}function $t(d,...e){if(ft.logLevel<=Ie.$b.ERROR){const s=e.map(wn);ft.error(`Firestore (${rt}): ${d}`,...s)}}function qe(d,...e){if(ft.logLevel<=Ie.$b.WARN){const s=e.map(wn);ft.warn(`Firestore (${rt}): ${d}`,...s)}}function wn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Mt(d="Unexpected state"){const e=`FIRESTORE (${rt}) INTERNAL ASSERTION FAILED: `+d;throw $t(e),new Error(e)}function zt(d,e){d||Mt()}function Yt(d,e){d||Mt()}function _t(d,e){return d}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends le.g{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ut{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}class Oe{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(at.UNAUTHENTICATED))}shutdown(){}}class be{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Le{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){var a=this;zt(void 0===this.o);let h=this.i;const _=q=>this.i!==h?(h=this.i,s(q)):Promise.resolve();let b=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ut,e.enqueueRetryable(()=>_(this.currentUser))};const R=()=>{const q=b;e.enqueueRetryable((0,i.A)(function*(){yield q.promise,yield _(a.currentUser)}))},L=q=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(q=>L(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?L(q):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ut)}},0),R()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(zt("string"==typeof a.accessToken),new Oe(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(null===e||"string"==typeof e),new at(e)}}class dt{constructor(e,s,a){this.l=e,this.h=s,this.P=a,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class it{constructor(e,s,a){this.l=e,this.h=s,this.P=a}getToken(){return Promise.resolve(new dt(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable(()=>s(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){zt(void 0===this.o);const a=_=>{null!=_.error&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,ye("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?s(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(zt("string"==typeof s.token),this.R=s.token,new Bt(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function un(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(s);else for(let a=0;a<d;a++)s[a]=Math.floor(256*Math.random());return s}class kn{static newId(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=un(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function nn(d,e){return d<e?-1:d>e?1:0}function Qn(d,e,s){return d.length===e.length&&d.every((a,h)=>s(a,e[h]))}function Ln(d){return d+"\0"}class Jt{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*s));return new Jt(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Jt(0,0))}static max(){return new qt(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yr{constructor(e,s,a){void 0===s?s=0:s>e.length&&Mt(),void 0===a?a=e.length-s:a>e.length-s&&Mt(),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(a=>{s.push(a)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let h=0;h<a;h++){const _=e.get(h),b=s.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class en extends yr{construct(e,s,a){return new en(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new ct(ze.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(h=>h.length>0))}return new en(s)}static emptyPath(){return new en([])}}const or=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends yr{construct(e,s,a){return new Un(e,s,a)}static isValidIdentifier(e){return or.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const s=[];let a="",h=0;const _=()=>{if(0===a.length)throw new ct(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new ct(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[h+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ct(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=L,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(_(),h++)}if(_(),b)throw new ct(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(s)}static emptyPath(){return new Un([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(en.fromString(e))}static fromName(e){return new Vt(en.fromString(e).popFirst(5))}static empty(){return new Vt(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,s){return en.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new en(e.slice()))}}class Cn{constructor(e,s,a,h){this.indexId=e,this.collectionGroup=s,this.fields=a,this.indexState=h}}function jn(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}Cn.UNKNOWN_ID=-1;class Dr{constructor(e,s){this.fieldPath=e,this.kind=s}}class zn{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new zn(0,fn.min())}}function Wr(d,e){const s=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=qt.fromTimestamp(1e9===a?new Jt(s+1,0):new Jt(s,a));return new fn(h,Vt.empty(),e)}function es(d){return new fn(d.readTime,d.key,-1)}class fn{constructor(e,s,a){this.readTime=e,this.documentKey=s,this.largestBatchId=a}static min(){return new fn(qt.min(),Vt.empty(),-1)}static max(){return new fn(qt.max(),Vt.empty(),-1)}}function Kr(d,e){let s=d.readTime.compareTo(e.readTime);return 0!==s?s:(s=Vt.comparator(d.documentKey,e.documentKey),0!==s?s:nn(d.largestBatchId,e.largestBatchId))}const tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wn(d){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,i.A)(function*(d){if(d.code!==ze.FAILED_PRECONDITION||d.message!==tr)throw d;ye("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ht((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(s,_).next(a,h)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof ht?s:ht.resolve(s)}catch(s){return ht.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):ht.reject(s)}static resolve(e){return new ht((s,a)=>{s(e)})}static reject(e){return new ht((s,a)=>{a(e)})}static waitFor(e){return new ht((s,a)=>{let h=0,_=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++_,b&&_===h&&s()},L=>a(L))}),b=!0,_===h&&s()})}static or(e){let s=ht.resolve(!1);for(const a of e)s=s.next(h=>h?ht.resolve(h):a());return s}static forEach(e,s){const a=[];return e.forEach((h,_)=>{a.push(s.call(this,h,_))}),this.waitFor(a)}static mapArray(e,s){return new ht((a,h)=>{const _=e.length,b=new Array(_);let R=0;for(let L=0;L<_;L++){const q=L;s(e[q]).next(de=>{b[q]=de,++R,R===_&&a(b)},de=>h(de))}})}static doWhile(e,s){return new ht((a,h)=>{const _=()=>{!0===e()?s().next(()=>{_()},h):a()};_()})}}class yt{constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.V=new ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new Wt(e,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=Rt(a.target.error);this.V.reject(new Wt(e,h))}}static open(e,s,a,h){try{return new yt(s,e.transaction(h,a))}catch(_){throw new Wt(s,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const s=this.transaction.objectStore(e);return new Pr(s)}}class he{constructor(e,s,a){this.name=e,this.version=s,this.p=a,12.2===he.S((0,le.ZQ)())&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),nr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,le.zW)())return!1;if(he.v())return!0;const e=(0,le.ZQ)(),s=he.S(e),a=0<s&&s<10,h=je(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,s){return e.store(s)}static S(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var s=this;return(0,i.A)(function*(){return s.db||(ye("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,h)=>{const _=indexedDB.open(s.name,s.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new Wt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new ct(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new ct(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Wt(e,R))},_.onupgradeneeded=b=>{ye("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',b.oldVersion),s.p.O(b.target.result,_.transaction,b.oldVersion,s.version).next(()=>{ye("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.N&&(s.db.onversionchange=a=>s.N(a)),s.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=s=>e(s))}runTransaction(e,s,a,h){var _=this;return(0,i.A)(function*(){const b="readonly"===s;let R=0;for(;;){++R;try{_.db=yield _.M(e);const L=yt.open(_.db,e,b?"readonly":"readwrite",a),q=h(L).next(de=>(L.g(),de)).catch(de=>(L.abort(de),ht.reject(de))).toPromise();return q.catch(()=>{}),yield L.m,q}catch(L){const q=L,de="FirebaseError"!==q.name&&R<3;if(ye("SimpleDb","Transaction failed with error:",q.message,"Retrying:",de),_.close(),!de)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function je(d){const e=d.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class Ot{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nr(this.B.delete())}}class Wt extends ct{constructor(e,s){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Pn(d){return"IndexedDbTransactionError"===d.name}class Pr{constructor(e){this.store=e}put(e,s){let a;return void 0!==s?(ye("SimpleDb","PUT",this.store.name,e,s),a=this.store.put(s,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),nr(a)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),nr(this.store.add(e))}get(e){return nr(this.store.get(e)).next(s=>(void 0===s&&(s=null),ye("SimpleDb","GET",this.store.name,e,s),s))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),nr(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),nr(this.store.count())}U(e,s){const a=this.options(e,s),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new ht((b,R)=>{_.onerror=L=>{R(L.target.error)},_.onsuccess=L=>{b(L.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(R,L)=>{b.push(L)}).next(()=>b)}}G(e,s){const a=this.store.getAll(e,null===s?void 0:s);return new ht((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,s){ye("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,s);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,R)=>R.delete())}J(e,s){let a;s?a=e:(a={},s=e);const h=this.cursor(a);return this.W(h,s)}Y(e){const s=this.cursor({});return new ht((a,h)=>{s.onerror=_=>{const b=Rt(_.target.error);h(b)},s.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,s){const a=[];return new ht((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const L=new Ot(R),q=s(R.primaryKey,R.value,L);if(q instanceof ht){const de=q.catch(Ae=>(L.done(),ht.reject(Ae)));a.push(de)}L.isDone?h():null===L.K?R.continue():R.continue(L.K)}}).next(()=>ht.waitFor(a))}options(e,s){let a;return void 0!==e&&("string"==typeof e?a=e:s=e),{index:a,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,s):a.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function nr(d){return new ht((e,s)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=Rt(a.target.error);s(h)}})}let ei=!1;function Rt(d){const e=he.S((0,le.ZQ)());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(s)>=0){const a=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ei||(ei=!0,setTimeout(()=>{throw a},0)),a}}return d}class G{constructor(e,s){this.asyncQueue=e,this.Z=s,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var s=this;ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,i.A)(function*(){s.task=null;try{ye("IndexBackfiller",`Documents written: ${yield s.Z.ee()}`)}catch(a){Pn(a)?ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Wn(a)}yield s.X(6e4)}))}}class x{constructor(e,s){this.localStore=e,this.persistence=s}ee(e=50){var s=this;return(0,i.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.te(a,e))})()}te(e,s){const a=new Set;let h=s,_=!0;return ht.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return ye("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});_=!1})).next(()=>s-h)}ne(e,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next(h=>this.localStore.localDocuments.getNextDocuments(e,s,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(R=>(ye("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,s,R))).next(()=>b.size)}))}re(e,s){let a=e;return s.changes.forEach((h,_)=>{const b=es(_);Kr(b,a)>0&&(a=b)}),new fn(a.readTime,a.documentKey,Math.max(s.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.se&&this.se(s),s}}return d.oe=-1,d})();function $(d){return null==d}function se(d){return 0===d&&1/d==-1/0}function ne(d){return"number"==typeof d&&Number.isInteger(d)&&!se(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function Ee(d){let e="";for(let s=0;s<d.length;s++)e.length>0&&(e=Gt(e)),e=gt(d.get(s),e);return Gt(e)}function gt(d,e){let s=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=_}}return s}function Gt(d){return d+"\x01\x01"}function pn(d){const e=d.length;if(zt(e>=2),2===e)return zt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),en.emptyPath();const s=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>s)&&Mt(),d.charAt(b+1)){case"\x01":const R=d.substring(_,b);let L;0===h.length?L=R:(h+=R,L=h,h=""),a.push(L);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Mt()}_=b+2}return new en(a)}const _r=["userId","batchId"];function Ne(d,e){return[d,Ee(e)]}function $e(d,e,s){return[d,Ee(e),s]}const Ye={},jt=["prefixPath","collectionGroup","readTime","documentId"],rn=["prefixPath","collectionGroup","documentId"],bn=["collectionGroup","readTime","prefixPath","documentId"],dn=["canonicalId","targetId"],ar=["targetId","path"],gn=["path","targetId"],Ci=["collectionId","parent"],wt=["indexId","uid"],st=["uid","sequenceNumber"],kt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hn=["indexId","uid","orderedDocumentKey"],Kn=["userId","collectionPath","documentId"],_n=["userId","collectionPath","largestBatchId"],Fn=["userId","collectionGroup","largestBatchId"],gr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jr=[...gr,"documentOverlays"],Zn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ki=Zn,us=[...ki,"indexConfiguration","indexState","indexEntries"],Li=us,Ks=[...us,"globals"];class go extends vr{constructor(e,s){super(),this._e=e,this.currentSequenceNumber=s}}function $i(d,e){const s=_t(d);return he.F(s._e,e)}function Uo(d){let e=0;for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e++;return e}function Qr(d,e){for(const s in d)Object.prototype.hasOwnProperty.call(d,s)&&e(s,d[s])}function ds(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class qr{constructor(e,s){this.comparator=e,this.root=s||Ui.EMPTY}insert(e,s){return new qr(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(e){let s=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return s+a.left.size;h<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,a)=>(e(s,a),!1))}toString(){const e=[];return this.inorderTraversal((s,a)=>(e.push(`${s}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vi(this.root,e,this.comparator,!0)}}class Vi{constructor(e,s,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=s?a(e.key,s):1,s&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,s,a,h,_){this.key=e,this.value=s,this.color=a??Ui.RED,this.left=h??Ui.EMPTY,this.right=_??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,a,h,_){return new Ui(e??this.key,s??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,s,a),null):0===_?h.copy(null,s,null,null,null):h.copy(null,null,null,null,h.right.insert(e,s,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let a,h=this;if(s(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,s),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===s(e,h.key)){if(h.right.isEmpty())return Ui.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,s))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,s,a,h,_){return this}insert(e,s,a){return new Ui(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,a)=>(e(s),!1))}forEachInRange(e,s){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;s(h.key)}}forEachWhile(e,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new qs(this.data.getIterator())}getIteratorFrom(e){return new qs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(a=>{s=s.add(a)}),s}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const s=this.data.getIterator(),a=e.data.getIterator();for(;s.hasNext();){const h=s.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new xr(this.comparator);return s.data=e,s}}class qs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mo(d){return d.hasNext()?d.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Jr([])}unionWith(e){let s=new xr(Un.comparator);for(const a of this.fields)s=s.add(a);for(const a of e)s=s.add(a);return new Jr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Qn(this.fields,e.fields,(s,a)=>s.isEqual(a))}}class na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ka(){return typeof atob<"u"}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new na("Invalid base64 string: "+_):_}}(e);return new Si(s)}static fromUint8Array(e){const s=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Si(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let h=0;h<s.length;h++)a[h]=s.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const ga=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(d){if(zt(!!d),"string"==typeof d){let e=0;const s=ga.exec(d);if(zt(!!s),s[1]){let h=s[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ti(d.seconds),nanos:ti(d.nanos)}}function ti(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function ss(d){return"string"==typeof d?Si.fromBase64String(d):Si.fromUint8Array(d)}function xs(d){var e,s;return"server_timestamp"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function _o(d){const e=d.mapValue.fields.__previous_value__;return xs(e)?_o(e):e}function Us(d){const e=Ys(d.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}class Mr{constructor(e,s,a,h,_,b,R,L,q){this.databaseId=e,this.appId=s,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=L,this.useFetchStreams=q}}class fi{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new fi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fi&&e.projectId===this.projectId&&e.database===this.database}}const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ms={nullValue:"NULL_VALUE"};function pi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?xs(d)?4:ir(d)?9007199254740991:ps(d)?10:11:Mt()}function hs(d,e){if(d===e)return!0;const s=pi(d);if(s!==pi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Us(d).isEqual(Us(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Ys(h.timestampValue),R=Ys(_.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,ss(d.bytesValue).isEqual(ss(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return ti(h.geoPointValue.latitude)===ti(_.geoPointValue.latitude)&&ti(h.geoPointValue.longitude)===ti(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return ti(h.integerValue)===ti(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=ti(h.doubleValue),R=ti(_.doubleValue);return b===R?se(b)===se(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return Qn(d.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},R=_.mapValue.fields||{};if(Uo(b)!==Uo(R))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===R[L]||!hs(b[L],R[L])))return!1;return!0}(d,e);default:return Mt()}var _}function oo(d,e){return void 0!==(d.values||[]).find(s=>hs(s,e))}function ts(d,e){if(d===e)return 0;const s=pi(d),a=pi(e);if(s!==a)return nn(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return nn(d.booleanValue,e.booleanValue);case 2:return function(_,b){const R=ti(_.integerValue||_.doubleValue),L=ti(b.integerValue||b.doubleValue);return R<L?-1:R>L?1:R===L?0:isNaN(R)?isNaN(L)?0:-1:1}(d,e);case 3:return ws(d.timestampValue,e.timestampValue);case 4:return ws(Us(d),Us(e));case 5:return nn(d.stringValue,e.stringValue);case 6:return function(_,b){const R=ss(_),L=ss(b);return R.compareTo(L)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const R=_.split("/"),L=b.split("/");for(let q=0;q<R.length&&q<L.length;q++){const de=nn(R[q],L[q]);if(0!==de)return de}return nn(R.length,L.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const R=nn(ti(_.latitude),ti(b.latitude));return 0!==R?R:nn(ti(_.longitude),ti(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return bs(d.arrayValue,e.arrayValue);case 10:return function(_,b){var R,L,q,de;const St=null===(R=(_.fields||{}).value)||void 0===R?void 0:R.arrayValue,Xt=null===(L=(b.fields||{}).value)||void 0===L?void 0:L.arrayValue,mn=nn((null===(q=St?.values)||void 0===q?void 0:q.length)||0,(null===(de=Xt?.values)||void 0===de?void 0:de.length)||0);return 0!==mn?mn:bs(St,Xt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Ii.mapValue&&b===Ii.mapValue)return 0;if(_===Ii.mapValue)return 1;if(b===Ii.mapValue)return-1;const R=_.fields||{},L=Object.keys(R),q=b.fields||{},de=Object.keys(q);L.sort(),de.sort();for(let Ae=0;Ae<L.length&&Ae<de.length;++Ae){const Qe=nn(L[Ae],de[Ae]);if(0!==Qe)return Qe;const St=ts(R[L[Ae]],q[de[Ae]]);if(0!==St)return St}return nn(L.length,de.length)}(d.mapValue,e.mapValue);default:throw Mt()}}function ws(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return nn(d,e);const s=Ys(d),a=Ys(e),h=nn(s.seconds,a.seconds);return 0!==h?h:nn(s.nanos,a.nanos)}function bs(d,e){const s=d.values||[],a=e.values||[];for(let h=0;h<s.length&&h<a.length;++h){const _=ts(s[h],a[h]);if(_)return _}return nn(s.length,a.length)}function ci(d){return Tn(d)}function Tn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(s){const a=Ys(s);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?ss(d.bytesValue).toBase64():"referenceValue"in d?Vt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(s){return`geo(${s.latitude},${s.longitude})`}(d.geoPointValue):"arrayValue"in d?function(s){let a="[",h=!0;for(const _ of s.values||[])h?h=!1:a+=",",a+=Tn(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(s){const a=Object.keys(s.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${Tn(s.fields[b])}`;return h+"}"}(d.mapValue):Mt()}function Er(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function os(d){return!!d&&"integerValue"in d}function fs(d){return!!d&&"arrayValue"in d}function Bi(d){return!!d&&"nullValue"in d}function Xs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ui(d){return!!d&&"mapValue"in d}function ps(d){var e,s;return"__vector__"===(null===(s=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function Os(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return Qr(d.mapValue.fields,(s,a)=>e.mapValue.fields[s]=Os(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(d.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Os(d.arrayValue.values[s]);return e}return Object.assign({},d)}function ir(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const gs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ts(d){return"nullValue"in d?Ms:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Er(fi.empty(),Vt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ps(d)?gs:{mapValue:{}}:Mt()}function re(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Er(fi.empty(),Vt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?gs:"mapValue"in d?ps(d)?{mapValue:{}}:Ii:Mt()}function Z(d,e){const s=ts(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Pe(d,e){const s=ts(d.value,e.value);return 0!==s?s:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Ge{constructor(e){this.value=e}static empty(){return new Ge({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let a=0;a<e.length-1;++a)if(s=(s.mapValue.fields||{})[e.get(a)],!ui(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(s)}setAll(e){let s=Un.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!s.isImmediateParentOf(R)){const L=this.getFieldsMap(s);this.applyChanges(L,a,h),a={},h=[],s=R.popLast()}b?a[R.lastSegment()]=Os(b):h.push(R.lastSegment())});const _=this.getFieldsMap(s);this.applyChanges(_,a,h)}delete(e){const s=this.field(e.popLast());ui(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=s.mapValue.fields[e.get(a)];ui(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},s.mapValue.fields[e.get(a)]=h),s=h}return s.mapValue.fields}applyChanges(e,s,a){Qr(s,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new Ge(Os(this.value))}}function lt(d){const e=[];return Qr(d.fields,(s,a)=>{const h=new Un([s]);if(ui(a)){const _=lt(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new Jr(e)}class bt{constructor(e,s,a,h,_,b,R){this.key=e,this.documentType=s,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=R}static newInvalidDocument(e){return new bt(e,0,qt.min(),qt.min(),qt.min(),Ge.empty(),0)}static newFoundDocument(e,s,a,h){return new bt(e,1,s,qt.min(),a,h,0)}static newNoDocument(e,s){return new bt(e,2,s,qt.min(),qt.min(),Ge.empty(),0)}static newUnknownDocument(e,s){return new bt(e,3,s,qt.min(),qt.min(),Ge.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ge.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ge.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class on{constructor(e,s){this.position=e,this.inclusive=s}}function Nn(d,e,s){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Vt.comparator(Vt.fromName(b.referenceValue),s.key):ts(b,s.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function An(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let s=0;s<d.position.length;s++)if(!hs(d.position[s],e.position[s]))return!1;return!0}class rr{constructor(e,s="asc"){this.field=e,this.dir=s}}function Or(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class qn{}class Yn extends qn{constructor(e,s,a){super(),this.field=e,this.op=s,this.value=a}static create(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(e,s,a):new Yr(e,s,a):"array-contains"===s?new Wi(e,a):"in"===s?new ns(e,a):"not-in"===s?new Ra(e,a):"array-contains-any"===s?new So(e,a):new Yn(e,s,a)}static createKeyFieldInFilter(e,s,a){return"in"===s?new yo(e,a):new ms(e,a)}matches(e){const s=e.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(ts(s,this.value)):null!==s&&pi(this.value)===pi(s)&&this.matchesComparison(ts(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends qn{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new ur(e,s)}matches(e){return mi(this)?void 0===this.filters.find(s=>!s.matches(e)):void 0!==this.filters.find(s=>s.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mi(d){return"and"===d.op}function kr(d){return"or"===d.op}function ni(d){return ji(d)&&mi(d)}function ji(d){for(const e of d.filters)if(e instanceof ur)return!1;return!0}function ri(d){if(d instanceof Yn)return d.field.canonicalString()+d.op.toString()+ci(d.value);if(ni(d))return d.filters.map(e=>ri(e)).join(",");{const e=d.filters.map(s=>ri(s)).join(",");return`${d.op}(${e})`}}function Nr(d,e){return d instanceof Yn?(a=d,(h=e)instanceof Yn&&a.op===h.op&&a.field.isEqual(h.field)&&hs(a.value,h.value)):d instanceof ur?function(a,h){return h instanceof ur&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,R)=>_&&Nr(b,h.filters[R]),!0)}(d,e):void Mt();var a,h}function Ri(d,e){const s=d.filters.concat(e);return ur.create(s,d.op)}function Ei(d){return d instanceof Yn?`${(s=d).field.canonicalString()} ${s.op} ${ci(s.value)}`:d instanceof ur?function(s){return s.op.toString()+" {"+s.getFilters().map(Ei).join(" ,")+"}"}(d):"Filter";var s}class Yr extends Yn{constructor(e,s,a){super(e,s,a),this.key=Vt.fromName(a.referenceValue)}matches(e){const s=Vt.comparator(e.key,this.key);return this.matchesComparison(s)}}class yo extends Yn{constructor(e,s){super(e,"in",s),this.keys=Gi(0,s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class ms extends Yn{constructor(e,s){super(e,"not-in",s),this.keys=Gi(0,s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Gi(d,e){var s;return((null===(s=e.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>Vt.fromName(a.referenceValue))}class Wi extends Yn{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return fs(s)&&oo(s.arrayValue,this.value)}}class ns extends Yn{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return null!==s&&oo(this.value.arrayValue,s)}}class Ra extends Yn{constructor(e,s){super(e,"not-in",s)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return null!==s&&!oo(this.value.arrayValue,s)}}class So extends Yn{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!fs(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>oo(this.value.arrayValue,a))}}class Pc{constructor(e,s=null,a=[],h=[],_=null,b=null,R=null){this.path=e,this.collectionGroup=s,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=R,this.ue=null}}function js(d,e=null,s=[],a=[],h=null,_=null,b=null){return new Pc(d,e,s,a,h,_,b)}function Ns(d){const e=_t(d);if(null===e.ue){let s=e.path.canonicalString();null!==e.collectionGroup&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(a=>ri(a)).join(","),s+="|ob:",s+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),$(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>ci(a)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>ci(a)).join(",")),e.ue=s}return e.ue}function ao(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<d.orderBy.length;s++)if(!Or(d.orderBy[s],e.orderBy[s]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let s=0;s<d.filters.length;s++)if(!Nr(d.filters[s],e.filters[s]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!An(d.startAt,e.startAt)&&An(d.endAt,e.endAt)}function Pa(d){return Vt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ma(d,e){return d.filters.filter(s=>s instanceof Yn&&s.field.isEqual(e))}function Pi(d,e,s){let a=Ms,h=!0;for(const _ of ma(d,e)){let b=Ms,R=!0;switch(_.op){case"<":case"<=":b=Ts(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,R=!1;break;case"!=":case"not-in":b=Ms}Z({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==s)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=s.position[_];Z({value:a,inclusive:h},{value:b,inclusive:s.inclusive})<0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}function ra(d,e,s){let a=Ii,h=!0;for(const _ of ma(d,e)){let b=Ii,R=!0;switch(_.op){case">=":case">":b=re(_.value),R=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,R=!1;break;case"!=":case"not-in":b=Ii}Pe({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==s)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=s.position[_];Pe({value:a,inclusive:h},{value:b,inclusive:s.inclusive})>0&&(a=b,h=s.inclusive);break}return{value:a,inclusive:h}}class Ro{constructor(e,s=null,a=[],h=[],_=null,b="F",R=null,L=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=R,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function K(d,e,s,a,h,_,b,R){return new Ro(d,e,s,a,h,_,b,R)}function te(d){return new Ro(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function pe(d){return null!==d.collectionGroup}function Ke(d){const e=_t(d);if(null===e.ce){e.ce=[];const s=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),s.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new xr(Un.comparator);return b.filters.forEach(L=>{L.getFlattenedFilters().forEach(q=>{q.isInequality()&&(R=R.add(q.field))})}),R})(e).forEach(_=>{s.has(_.canonicalString())||_.isKeyField()||e.ce.push(new rr(_,a))}),s.has(Un.keyField().canonicalString())||e.ce.push(new rr(Un.keyField(),a))}return e.ce}function vn(d){const e=_t(d);return e.le||(e.le=function _s(d,e){if("F"===d.limitType)return js(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new rr(h.field,"desc"===h.dir?"asc":"desc"));const s=d.endAt?new on(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new on(d.startAt.position,d.startAt.inclusive):null;return js(d.path,d.collectionGroup,e,d.filters,d.limit,s,a)}}(e,Ke(d))),e.le}function Qt(d,e){const s=d.filters.concat([e]);return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),s,d.limit,d.limitType,d.startAt,d.endAt)}function rs(d,e,s){return new Ro(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,s,d.startAt,d.endAt)}function lo(d,e){return ao(vn(d),vn(e))&&d.limitType===e.limitType}function $s(d){return`${Ns(vn(d))}|lt:${d.limitType}`}function Mi(d){return`Query(target=${function(s){let a=s.path.canonicalString();return null!==s.collectionGroup&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(h=>Ei(h)).join(", ")}]`),$(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(h=>ci(h)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(h=>ci(h)).join(",")),`Target(${a})`}(vn(d))}; limitType=${d.limitType})`}function to(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Vt.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of Ke(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,L){const q=Nn(b,R,L);return b.inclusive?q<=0:q<0}(a.startAt,Ke(a),h)||a.endAt&&!function(b,R,L){const q=Nn(b,R,L);return b.inclusive?q>=0:q>0}(a.endAt,Ke(a),h)));var a,h}function xc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Oi(d){return(e,s)=>{let a=!1;for(const h of Ke(d)){const _=jo(h,e,s);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function jo(d,e,s){const a=d.field.isKeyField()?Vt.comparator(e.key,s.key):function(_,b,R){const L=b.data.field(_),q=R.data.field(_);return null!==L&&null!==q?ts(L,q):Mt()}(d.field,e,s);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Mt()}}class On{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,s){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,s]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,s]);h.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[s]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(s,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return ds(this.inner)}size(){return this.innerSize}}const xa=new qr(Vt.comparator);function ys(){return xa}const _l=new qr(Vt.comparator);function no(...d){let e=_l;for(const s of d)e=e.insert(s.key,s);return e}function _a(d){let e=_l;return d.forEach((s,a)=>e=e.insert(s,a.overlayedDocument)),e}function As(){return Oa()}function Ma(){return Oa()}function Oa(){return new On(d=>d.toString(),(d,e)=>d.isEqual(e))}const Na=new qr(Vt.comparator),Eu=new xr(Vt.comparator);function wr(...d){let e=Eu;for(const s of d)e=e.add(s);return e}const Ql=new xr(nn);function vo(){return Ql}function $o(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:se(e)?"-0":e}}function Fa(d){return{integerValue:""+d}}function bu(d,e){return ne(e)?Fa(e):$o(d,e)}class ya{constructor(){this._=void 0}}function Ih(d,e,s){return d instanceof yl?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&xs(_)&&(_=_o(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(s,e):d instanceof Bo?Jl(d,e):d instanceof ka?qa(d,e):function(h,_){const b=Tu(h,_),R=Xa(b)+Xa(h.Pe);return os(b)&&os(h.Pe)?Fa(R):$o(h.serializer,R)}(d,e)}function Po(d,e,s){return d instanceof Bo?Jl(d,e):d instanceof ka?qa(d,e):s}function Tu(d,e){return d instanceof Ya?os(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class yl extends ya{}class Bo extends ya{constructor(e){super(),this.elements=e}}function Jl(d,e){const s=Mc(e);for(const a of d.elements)s.some(h=>hs(h,a))||s.push(a);return{arrayValue:{values:s}}}class ka extends ya{constructor(e){super(),this.elements=e}}function qa(d,e){let s=Mc(e);for(const a of d.elements)s=s.filter(h=>!hs(h,a));return{arrayValue:{values:s}}}class Ya extends ya{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function Xa(d){return ti(d.integerValue||d.doubleValue)}function Mc(d){return fs(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,s){this.field=e,this.transform=s}}class B{constructor(e,s){this.version=e,this.transformResults=s}}class X{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ve(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Dt{}function Ht(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Fs(d.key,X.none()):new dr(d.key,d.data,X.none());{const s=d.data,a=Ge.empty();let h=new xr(Un.comparator);for(let _ of e.fields)if(!h.has(_)){let b=s.field(_);null===b&&_.length>1&&(_=_.popLast(),b=s.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new Hr(d.key,a,new Jr(h.toArray()),X.none())}}function Xn(d,e,s){d instanceof dr?function(h,_,b){const R=h.value.clone(),L=Ni(h.fieldTransforms,_,b.transformResults);R.setAll(L),_.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,s):d instanceof Hr?function(h,_,b){if(!Ve(h.precondition,_))return void _.convertToUnknownDocument(b.version);const R=Ni(h.fieldTransforms,_,b.transformResults),L=_.data;L.setAll(yi(h)),L.setAll(R),_.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(d,e,s):e.convertToNoDocument(s.version).setHasCommittedMutations()}function Zr(d,e,s,a){return d instanceof dr?function(_,b,R,L){if(!Ve(_.precondition,b))return R;const q=_.value.clone(),de=Qs(_.fieldTransforms,L,b);return q.setAll(de),b.convertToFoundDocument(b.version,q).setHasLocalMutations(),null}(d,e,s,a):d instanceof Hr?function(_,b,R,L){if(!Ve(_.precondition,b))return R;const q=Qs(_.fieldTransforms,L,b),de=b.data;return de.setAll(yi(_)),de.setAll(q),b.convertToFoundDocument(b.version,de).setHasLocalMutations(),null===R?null:R.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(Ae=>Ae.field))}(d,e,s,a):(R=s,Ve(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function _i(d,e){let s=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=Tu(a.transform,h||null);null!=_&&(null===s&&(s=Ge.empty()),s.set(a.field,_))}return s||null}function Gr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Qn(a,h,(_,b)=>function oe(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Bo&&h instanceof Bo||a instanceof ka&&h instanceof ka?Qn(a.elements,h.elements,hs):a instanceof Ya&&h instanceof Ya?hs(a.Pe,h.Pe):a instanceof yl&&h instanceof yl);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class dr extends Dt{constructor(e,s,a,h=[]){super(),this.key=e,this.value=s,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Hr extends Dt{constructor(e,s,a,h,_=[]){super(),this.key=e,this.data=s,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function yi(d){const e=new Map;return d.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=d.data.field(s);e.set(s,a)}}),e}function Ni(d,e,s){const a=new Map;zt(d.length===s.length);for(let h=0;h<s.length;h++){const _=d[h],b=_.transform,R=e.data.field(_.field);a.set(_.field,Po(b,R,s[h]))}return a}function Qs(d,e,s){const a=new Map;for(const h of d){const _=h.transform,b=s.data.field(h.field);a.set(h.field,Ih(_,b,e))}return a}class Fs extends Dt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ia extends Dt{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bs{constructor(e,s,a,h){this.batchId=e,this.localWriteTime=s,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,s){const a=s.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Xn(_,e,a[h])}}applyToLocalView(e,s){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(s=Zr(a,e,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(s=Zr(a,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const a=Ma();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let R=this.applyToLocalView(b,_.mutatedFields);R=s.has(h.key)?null:R;const L=Ht(b,R);null!==L&&a.set(h.key,L),b.isValidDocument()||b.convertToNoDocument(qt.min())}),a}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),wr())}isEqual(e){return this.batchId===e.batchId&&Qn(this.mutations,e.mutations,(s,a)=>Gr(s,a))&&Qn(this.baseMutations,e.baseMutations,(s,a)=>Gr(s,a))}}class Go{constructor(e,s,a,h){this.batch=e,this.commitVersion=s,this.mutationResults=a,this.docVersions=h}static from(e,s,a){zt(e.mutations.length===a.length);let h=Na;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new Go(e,s,a,h)}}class Cs{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _d{constructor(e,s){this.count=e,this.unchangedNames=s}}var Ar,Vr;function vl(d){switch(d){default:return Mt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function ro(d){if(void 0===d)return $t("GRPC error has no .code"),ze.UNKNOWN;switch(d){case Ar.OK:return ze.OK;case Ar.CANCELLED:return ze.CANCELLED;case Ar.UNKNOWN:return ze.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return ze.INTERNAL;case Ar.UNAVAILABLE:return ze.UNAVAILABLE;case Ar.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case Ar.NOT_FOUND:return ze.NOT_FOUND;case Ar.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case Ar.ABORTED:return ze.ABORTED;case Ar.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case Ar.DATA_LOSS:return ze.DATA_LOSS;default:return Mt()}}(Vr=Ar||(Ar={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";function yd(){return new TextEncoder}const El=new Te([4294967295,4294967295],0);function Hi(d){const e=yd().encode(d),s=new xe;return s.update(e),new Uint8Array(s.digest())}function wh(d){const e=new DataView(d.buffer),s=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Te([s,a],0),new Te([h,_],0)]}class Iu{constructor(e,s,a){if(this.bitmap=e,this.padding=s,this.hashCount=a,s<0||s>=8)throw new sa(`Invalid padding: ${s}`);if(a<0)throw new sa(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new sa(`Invalid hash count: ${a}`);if(0===e.length&&0!==s)throw new sa(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=Te.fromNumber(this.Ie)}Ee(e,s,a){let h=e.add(s.multiply(Te.fromNumber(a)));return 1===h.compare(El)&&(h=new Te([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const s=Hi(e),[a,h]=wh(s);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,s,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new Iu(_,h,s);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const s=Hi(e),[a,h]=wh(s);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const s=Math.floor(e/8);this.bitmap[s]|=1<<e%8}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ds{constructor(e,s,a,h,_){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,s,a){const h=new Map;return h.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,s,a)),new Ds(qt.min(),h,new qr(nn),ys(),wr())}}class La{constructor(e,s,a,h,_){this.resumeToken=e,this.current=s,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,s,a){return new La(a,s,wr(),wr(),wr())}}class Zl{constructor(e,s,a,h){this.Re=e,this.removedTargetIds=s,this.key=a,this.Ve=h}}class vd{constructor(e,s){this.targetId=e,this.me=s}}class Ed{constructor(e,s,a=Si.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=s,this.resumeToken=a,this.cause=h}}class bl{constructor(){this.fe=0,this.ge=Va(),this.pe=Si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=wr(),s=wr(),a=wr();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:s=s.add(h);break;case 1:a=a.add(h);break;default:Mt()}}),new La(this.pe,this.ye,e,s,a)}Ce(){this.we=!1,this.ge=Va()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wu{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=br(),this.Qe=new qr(nn)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,s=>{const a=this.Ge(s);switch(e.state){case 0:this.ze(s)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),a.De(e.resumeToken));break;default:Mt()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach((a,h)=>{this.ze(h)&&s(h)})}He(e){const s=e.targetId,a=e.me.count,h=this.Je(s);if(h){const _=h.target;if(Pa(_))if(0===a){const b=new Vt(_.path);this.Ue(s,b,bt.newNoDocument(b,qt.min()))}else zt(1===a);else{const b=this.Ye(s);if(b!==a){const R=this.Ze(e),L=R?this.Xe(R,e,b):1;0!==L&&(this.je(s),this.Qe=this.Qe.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=s;let b,R;try{b=ss(a).toUint8Array()}catch(L){if(L instanceof na)return qe("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{R=new Iu(b,h,_)}catch(L){return qe(L instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===R.Ie?null:R}Xe(e,s,a){return s.me.count===a-this.nt(e,s.targetId)?0:2}nt(e,s){const a=this.Le.getRemoteKeysForTarget(s);let h=0;return a.forEach(_=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(R)||(this.Ue(s,_,null),h++)}),h}rt(e){const s=new Map;this.Be.forEach((_,b)=>{const R=this.Je(b);if(R){if(_.current&&Pa(R.target)){const L=new Vt(R.target.path);null!==this.ke.get(L)||this.it(b,L)||this.Ue(b,L,bt.newNoDocument(L,e))}_.be&&(s.set(b,_.ve()),_.Ce())}});let a=wr();this.qe.forEach((_,b)=>{let R=!0;b.forEachWhile(L=>{const q=this.Je(L);return!q||"TargetPurposeLimboResolution"===q.purpose||(R=!1,!1)}),R&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new Ds(e,s,this.Qe,this.ke,a);return this.ke=ys(),this.qe=br(),this.Qe=new qr(nn),h}$e(e,s){if(!this.ze(e))return;const a=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,a),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,s)?h.Fe(s,1):h.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),a&&(this.ke=this.ke.insert(s,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new bl,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new xr(nn),this.qe=this.qe.insert(e,s)),s}ze(e){const s=null!==this.Je(e);return s||ye("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bl),this.Le.getRemoteKeysForTarget(e).forEach(s=>{this.Ue(e,s,null)})}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function br(){return new qr(Vt.comparator)}function Va(){return new qr(Vt.comparator)}const Au={asc:"ASCENDING",desc:"DESCENDING"},va={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oc={and:"AND",or:"OR"};class Ah{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Du(d,e){return d.useProto3Json||$(e)?e:{value:e}}function oa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nc(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Ua(d,e){return oa(d,e.toTimestamp())}function Ki(d){return zt(!!d),qt.fromTimestamp(function(s){const a=Ys(s);return new Jt(a.seconds,a.nanos)}(d))}function ec(d,e){return Su(d,e).canonicalString()}function Su(d,e){const s=(h=d,new en(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?s:s.child(e)}function tn(d){const e=en.fromString(d);return zt(w(e)),e}function Lr(d,e){return ec(d.databaseId,e.path)}function Ho(d,e){const s=tn(e);if(s.get(1)!==d.databaseId.projectId)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+d.databaseId.projectId);if(s.get(3)!==d.databaseId.database)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+d.databaseId.database);return new Vt(Tl(s))}function vs(d,e){return ec(d.databaseId,e)}function Ss(d){const e=tn(d);return 4===e.length?en.emptyPath():Tl(e)}function tc(d){return new en(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function Tl(d){return zt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Js(d,e,s){return{name:Lr(d,e),fields:s.value.mapValue.fields}}function Cl(d,e,s){const a=Ho(d,e.name),h=Ki(e.updateTime),_=e.createTime?Ki(e.createTime):qt.min(),b=new Ge({mapValue:{fields:e.fields}}),R=bt.newFoundDocument(a,h,_,b);return s&&R.setHasCommittedMutations(),s?R.setHasCommittedMutations():R}function Il(d,e){let s;if(e instanceof dr)s={update:Js(d,e.key,e.value)};else if(e instanceof Fs)s={delete:Lr(d,e.key)};else if(e instanceof Hr)s={update:Js(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof ia))return Mt();s={verify:Lr(d,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const R=b.transform;if(R instanceof yl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Bo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof ka)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ya)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Mt()}(0,a))),e.precondition.isNone||(s.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Ua(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Mt()),s;var _}function Qa(d,e){const s=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?X.updateTime(Ki(_.updateTime)):void 0!==_.exists?X.exists(_.exists):X.none():X.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let L=null;"setToServerValue"in R?(zt("REQUEST_TIME"===R.setToServerValue),L=new yl):"appendMissingElements"in R?L=new Bo(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new ka(R.removeAllFromArray.values||[]):"increment"in R?L=new Ya(b,R.increment):Mt();const q=Un.fromServerFormat(R.fieldPath);return new P(q,L)}(d,h)):[];var _;if(e.update){const h=Ho(d,e.update.name),_=new Ge({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Jr((e.updateMask.fieldPaths||[]).map(de=>Un.fromServerFormat(de)));return new Hr(h,_,b,s,a)}return new dr(h,_,s,a)}if(e.delete){const h=Ho(d,e.delete);return new Fs(h,s)}if(e.verify){const h=Ho(d,e.verify);return new ia(h,s)}return Mt()}function co(d,e){return{documents:[vs(d,e.path)]}}function Ea(d,e){const s={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=vs(d,h);const _=function(q){if(0!==q.length)return D(ur.create(q,"and"))}(e.filters);_&&(s.structuredQuery.where=_);const b=function(q){if(0!==q.length)return q.map(de=>{return{field:ba((Qe=de).field),direction:qf(Qe.dir)};var Qe})}(e.orderBy);b&&(s.structuredQuery.orderBy=b);const R=Du(d,e.limit);return null!==R&&(s.structuredQuery.limit=R),e.startAt&&(s.structuredQuery.startAt={before:(q=e.startAt).inclusive,values:q.position}),e.endAt&&(s.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(e.endAt)),{_t:s,parent:h};var q}function Eo(d){let e=Ss(d.parent);const s=d.structuredQuery,a=s.from?s.from.length:0;let h=null;if(a>0){zt(1===a);const de=s.from[0];de.allDescendants?h=de.collectionId:e=e.child(de.collectionId)}let _=[];s.where&&(_=function(Ae){const Qe=Fc(Ae);return Qe instanceof ur&&ni(Qe)?Qe.getFilters():[Qe]}(s.where));let b=[];s.orderBy&&(b=s.orderBy.map(Qe=>{return new rr(zo((Xt=Qe).field),function(an){switch(an){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xt.direction));var Xt}));let R=null;s.limit&&(R=function(Ae){let Qe;return Qe="object"==typeof Ae?Ae.value:Ae,$(Qe)?null:Qe}(s.limit));let L=null;var Ae;s.startAt&&(L=new on((Ae=s.startAt).values||[],!!Ae.before));let q=null;return s.endAt&&(q=function(Ae){return new on(Ae.values||[],!Ae.before)}(s.endAt)),K(e,h,b,_,R,"F",L,q)}function Fc(d){return void 0!==d.unaryFilter?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=zo(s.unaryFilter.field);return Yn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=zo(s.unaryFilter.field);return Yn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=zo(s.unaryFilter.field);return Yn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=zo(s.unaryFilter.field);return Yn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(d):void 0!==d.fieldFilter?Yn.create(zo((s=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(s.fieldFilter.op),s.fieldFilter.value):void 0!==d.compositeFilter?function(s){return ur.create(s.compositeFilter.filters.map(a=>Fc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Mt()}}(s.compositeFilter.op))}(d):Mt();var s}function qf(d){return Au[d]}function Ru(d){return va[d]}function kc(d){return Oc[d]}function ba(d){return{fieldPath:d.canonicalString()}}function zo(d){return Un.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Yn?function(s){if("=="===s.op){if(Xs(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NAN"}};if(Bi(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NULL"}}}else if("!="===s.op){if(Xs(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NOT_NAN"}};if(Bi(s.value))return{unaryFilter:{field:ba(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(s.field),op:Ru(s.op),value:s.value}}}(d):d instanceof ur?function(s){const a=s.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:kc(s.op),filters:a}}}(d):Mt()}function N(d){const e=[];return d.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,s,a,h,_=qt.min(),b=qt.min(),R=Si.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=s,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=L}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function ke(d,e){const s=e.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:At(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Lr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:oa(_,b.version.toTimestamp()),createTime:oa(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:It(e.version)};else{if(!e.isUnknownDocument())return Mt();a.unknownDocument={path:s.path.toArray(),version:It(e.version)}}var _,b;return a}function At(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function It(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sn(d){const e=new Jt(d.seconds,d.nanoseconds);return qt.fromTimestamp(e)}function Tr(d,e){const s=(e.baseMutations||[]).map(_=>Qa(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Qa(d.ct,_)),h=Jt.fromMillis(e.localWriteTimeMs);return new Bs(e.batchId,h,s,a)}function Sr(d){const e=Sn(d.readTime),s=void 0!==d.lastLimboFreeSnapshotVersion?Sn(d.lastLimboFreeSnapshotVersion):qt.min();let a;return a=void 0!==d.query.documents?(zt(1===(_=d.query).documents.length),vn(te(Ss(_.documents[0])))):function(_){return vn(Eo(_))}(d.query),new F(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,s,Si.fromBase64String(d.resumeToken));var _}function $r(d,e){const s=It(e.snapshotVersion),a=It(e.lastLimboFreeSnapshotVersion);let h;h=Pa(e.target)?co(d.ct,e.target):Ea(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ns(e.target),readTime:s,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function vi(d){const e=Eo({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?rs(e,e.limit,"L"):e}function Za(d,e){return new Cs(e.largestBatchId,Qa(d.ct,e.overlayMutation))}function wl(d,e){const s=e.path.lastSegment();return[d,Ee(e.path.popLast()),s]}function nc(d,e,s,a){return{indexId:d,uid:e,sequenceNumber:s,readTime:It(a.readTime),documentKey:Ee(a.documentKey.path),largestBatchId:a.largestBatchId}}class Al{getBundleMetadata(e,s){return Pu(e).get(s).next(a=>{if(a)return{id:(_=a).bundleId,createTime:Sn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,s){return Pu(e).put({bundleId:(h=s).id,createTime:It(Ki(h.createTime)),version:h.version});var h}getNamedQuery(e,s){return Dh(e).get(s).next(a=>{if(a)return{name:(_=a).name,query:vi(_.bundledQuery),readTime:Sn(_.readTime)};var _})}saveNamedQuery(e,s){return Dh(e).put({name:(h=s).name,readTime:It(Ki(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Pu(d){return $i(d,"bundles")}function Dh(d){return $i(d,"namedQueries")}class el{constructor(e,s){this.serializer=e,this.userId=s}static lt(e,s){return new el(e,s.uid||"")}getOverlay(e,s){return Rs(e).get(wl(this.userId,s)).next(a=>a?Za(this.serializer,a):null)}getOverlays(e,s){const a=As();return ht.forEach(s,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,s,a){const h=[];return a.forEach((_,b)=>{const R=new Cs(s,b);h.push(this.ht(e,R))}),ht.waitFor(h)}removeOverlaysForBatchId(e,s,a){const h=new Set;s.forEach(b=>h.add(Ee(b.getCollectionPath())));const _=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(Rs(e).j("collectionPathOverlayIndex",R))}),ht.waitFor(_)}getOverlaysForCollection(e,s,a){const h=As(),_=Ee(s),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Rs(e).U("collectionPathOverlayIndex",b).next(R=>{for(const L of R){const q=Za(this.serializer,L);h.set(q.getKey(),q)}return h})}getOverlaysForCollectionGroup(e,s,a,h){const _=As();let b;const R=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Rs(e).J({index:"collectionGroupOverlayIndex",range:R},(L,q,de)=>{const Ae=Za(this.serializer,q);_.size()<h||Ae.largestBatchId===b?(_.set(Ae.getKey(),Ae),b=Ae.largestBatchId):de.done()}).next(()=>_)}ht(e,s){return Rs(e).put(function(h,_,b){const[R,L,q]=wl(_,b.mutation.key);return{userId:_,collectionPath:L,documentId:q,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Il(h.ct,b.mutation)}}(this.serializer,this.userId,s))}}function Rs(d){return $i(d,"documentOverlays")}class Cd{Pt(e){return $i(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(s=>{const a=s?.value;return a?Si.fromUint8Array(a):Si.EMPTY_BYTE_STRING})}setSessionToken(e,s){return this.Pt(e).put({name:"sessionToken",value:s.toUint8Array()})}}class $a{constructor(){}It(e,s){this.Tt(e,s),s.Et()}Tt(e,s){if("nullValue"in e)this.dt(s,5);else if("booleanValue"in e)this.dt(s,10),s.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(s,15),s.At(ti(e.integerValue));else if("doubleValue"in e){const a=ti(e.doubleValue);isNaN(a)?this.dt(s,13):(this.dt(s,15),se(a)?s.At(0):s.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(s,20),"string"==typeof a&&(a=Ys(a)),s.Rt(`${a.seconds||""}`),s.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,s),this.ft(s);else if("bytesValue"in e)this.dt(s,30),s.gt(ss(e.bytesValue)),this.ft(s);else if("referenceValue"in e)this.yt(e.referenceValue,s);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(s,45),s.At(a.latitude||0),s.At(a.longitude||0)}else"mapValue"in e?ir(e)?this.dt(s,Number.MAX_SAFE_INTEGER):ps(e)?this.wt(e.mapValue,s):(this.St(e.mapValue,s),this.ft(s)):"arrayValue"in e?(this.bt(e.arrayValue,s),this.ft(s)):Mt()}Vt(e,s){this.dt(s,25),this.Dt(e,s)}Dt(e,s){s.Rt(e)}St(e,s){const a=e.fields||{};this.dt(s,55);for(const h of Object.keys(a))this.Vt(h,s),this.Tt(a[h],s)}wt(e,s){var a,h;const _=e.fields||{};this.dt(s,53);const b="value",R=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(s,15),s.At(ti(R)),this.Vt(b,s),this.Tt(_[b],s)}bt(e,s){const a=e.values||[];this.dt(s,50);for(const h of a)this.Tt(h,s)}yt(e,s){this.dt(s,37),Vt.fromName(e).path.forEach(a=>{this.dt(s,60),this.Dt(a,s)})}dt(e,s){e.At(s)}ft(e){e.At(2)}}function rc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Lc(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=rc(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}$a.vt=new $a;class xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ft(a.value),a=s.next();this.Mt()}xt(e){const s=e[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ot(a.value),a=s.next();this.Nt()}Lt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=s.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const s of e){const a=s.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=s.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const s=this.qt(e),a=Lc(s);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=255&s[h]}Kt(e){const s=this.qt(e),a=Lc(s);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=s.length-a;h<s.length;++h)this.buffer[this.position++]=~(255&s[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const s=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&s[0]);s[0]^=a?255:128;for(let h=1;h<s.length;++h)s[h]^=a?255:0;return s}Ft(e){const s=255&e;0===s?(this.Ut(0),this.Ut(255)):255===s?(this.Ut(255),this.Ut(0)):this.Ut(s)}Ot(e){const s=255&e;0===s?(this.Gt(0),this.Gt(255)):255===s?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const s=e+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Mu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Ou{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Nu{constructor(){this.jt=new xu,this.Ht=new Mu(this.jt),this.Jt=new Ou(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Wo{constructor(e,s,a,h){this.indexId=e,this.documentKey=s,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,s=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Wo(this.indexId,this.documentKey,this.arrayValue,a)}}function bo(d,e){let s=d.indexId-e.indexId;return 0!==s?s:(s=Dl(d.arrayValue,e.arrayValue),0!==s?s:(s=Dl(d.directionalValue,e.directionalValue),0!==s?s:Vt.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let s=0;s<d.length&&s<e.length;++s){const a=d[s]-e[s];if(0!==a)return a}return d.length-e.length}class Sh{constructor(e){this.Xt=new xr((s,a)=>Un.comparator(s.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const s of e.filters){const a=s;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(zt(e.collectionGroup===this.collectionId),this.nn)return!1;const s=jn(e);if(void 0!==s&&!this.sn(s))return!1;const a=In(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const L=a[_];if(!this.on(R,L)||!this._n(this.en[b++],L))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new xr(Un.comparator);const s=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)s.push(new Dr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),s.push(new Dr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),s.push(new Dr(a.field,"asc"===a.dir?0:1)));return new Cn(Cn.UNKNOWN_ID,this.collectionId,s,zn.empty())}sn(e){for(const s of this.tn)if(this.on(s,e))return!0;return!1}on(e,s){return!(void 0===e||!e.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,s){return!!e.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===e.dir||1===s.kind&&"desc"===e.dir)}}function Id(d){var e,s;if(zt(d instanceof Yn||d instanceof ur),d instanceof Yn){if(d instanceof ns){const h=(null===(s=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===s?void 0:s.map(_=>Yn.create(d.field,"==",_)))||[];return ur.create(h,"or")}return d}const a=d.filters.map(h=>Id(h));return ur.create(a,d.op)}function Km(d){if(0===d.getFilters().length)return[];const e=Rh(Id(d));return zt(Yf(e)),wd(e)||Fu(e)?[e]:e.getFilters()}function wd(d){return d instanceof Yn}function Fu(d){return d instanceof ur&&ni(d)}function Yf(d){return wd(d)||Fu(d)||function(s){if(s instanceof ur&&kr(s)){for(const a of s.getFilters())if(!wd(a)&&!Fu(a))return!1;return!0}return!1}(d)}function Rh(d){if(zt(d instanceof Yn||d instanceof ur),d instanceof Yn)return d;if(1===d.filters.length)return Rh(d.filters[0]);const e=d.filters.map(a=>Rh(a));let s=ur.create(e,d.op);return s=ic(s),Yf(s)?s:(zt(s instanceof ur),zt(mi(s)),zt(s.filters.length>1),s.filters.reduce((a,h)=>Vc(a,h)))}function Vc(d,e){let s;return zt(d instanceof Yn||d instanceof ur),zt(e instanceof Yn||e instanceof ur),s=d instanceof Yn?e instanceof Yn?ur.create([d,e],"and"):tl(d,e):e instanceof Yn?tl(e,d):function(h,_){if(zt(h.filters.length>0&&_.filters.length>0),mi(h)&&mi(_))return Ri(h,_.getFilters());const b=kr(h)?h:_,R=kr(h)?_:h,L=b.filters.map(q=>Vc(q,R));return ur.create(L,"or")}(d,e),ic(s)}function tl(d,e){if(mi(e))return Ri(e,d.getFilters());{const s=e.filters.map(a=>Vc(d,a));return ur.create(s,"or")}}function ic(d){if(zt(d instanceof Yn||d instanceof ur),d instanceof Yn)return d;const e=d.getFilters();if(1===e.length)return ic(e[0]);if(ji(d))return d;const s=e.map(h=>ic(h)),a=[];return s.forEach(h=>{h instanceof Yn?a.push(h):h instanceof ur&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:ur.create(a,d.op)}class Sl{constructor(){this.un=new sc}addToCollectionParentIndex(e,s){return this.un.add(s),ht.resolve()}getCollectionParents(e,s){return ht.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return ht.resolve()}deleteFieldIndex(e,s){return ht.resolve()}deleteAllFieldIndexes(e){return ht.resolve()}createTargetIndexes(e,s){return ht.resolve()}getDocumentsMatchingTarget(e,s){return ht.resolve(null)}getIndexType(e,s){return ht.resolve(0)}getFieldIndexes(e,s){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,s){return ht.resolve(fn.min())}getMinOffsetFromCollectionGroup(e,s){return ht.resolve(fn.min())}updateCollectionGroup(e,s,a){return ht.resolve()}updateIndexEntries(e,s){return ht.resolve()}}class sc{constructor(){this.index={}}add(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s]||new xr(en.comparator),_=!h.has(a);return this.index[s]=h.add(a),_}has(e){const s=e.lastSegment(),a=e.popLast(),h=this.index[s];return h&&h.has(a)}getEntries(e){return(this.index[e]||new xr(en.comparator)).toArray()}}const nl=new Uint8Array(0);class _g{constructor(e,s){this.databaseId=s,this.cn=new sc,this.ln=new On(a=>Ns(a),(a,h)=>ao(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.cn.has(s)){const a=s.lastSegment(),h=s.popLast();e.addOnCommittedListener(()=>{this.cn.add(s)});const _={collectionId:a,parent:Ee(h)};return Mo(e).put(_)}return ht.resolve()}getCollectionParents(e,s){const a=[],h=IDBKeyRange.bound([s,""],[Ln(s),""],!1,!0);return Mo(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==s)break;a.push(pn(b.parent))}return a})}addFieldIndex(e,s){const a=ku(e),h={indexId:(R=s).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var R;delete h.indexId;const _=a.add(h);if(s.indexState){const b=To(e);return _.next(R=>{b.put(nc(R,this.uid,s.indexState.sequenceNumber,s.indexState.offset))})}return _.next()}deleteFieldIndex(e,s){const a=ku(e),h=To(e),_=Ta(e);return a.delete(s.indexId).next(()=>h.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const s=ku(e),a=Ta(e),h=To(e);return s.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,s){return ht.forEach(this.hn(s),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new Sh(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,s){const a=Ta(e);let h=!0;const _=new Map;return ht.forEach(this.hn(s),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),_.set(b,R)})).next(()=>{if(h){let b=wr();const R=[];return ht.forEach(_,(L,q)=>{var sr;ye("IndexedDbIndexManager",`Using index ${sr=L,`id=${sr.indexId}|cg=${sr.collectionGroup}|f=${sr.fields.map(Fr=>`${Fr.fieldPath}:${Fr.kind}`).join(",")}`} to execute ${Ns(s)}`);const de=function(sr,Fr){const Fi=jn(Fr);if(void 0===Fi)return null;for(const ai of ma(sr,Fi.fieldPath))switch(ai.op){case"array-contains-any":return ai.value.arrayValue.values||[];case"array-contains":return[ai.value]}return null}(q,L),Ae=function(sr,Fr){const Fi=new Map;for(const ai of In(Fr))for(const pt of ma(sr,ai.fieldPath))switch(pt.op){case"==":case"in":Fi.set(ai.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return Fi.set(ai.fieldPath.canonicalString(),pt.value),Array.from(Fi.values())}return null}(q,L),Qe=function(sr,Fr){const Fi=[];let ai=!0;for(const pt of In(Fr)){const He=0===pt.kind?Pi(sr,pt.fieldPath,sr.startAt):ra(sr,pt.fieldPath,sr.startAt);Fi.push(He.value),ai&&(ai=He.inclusive)}return new on(Fi,ai)}(q,L),St=function(sr,Fr){const Fi=[];let ai=!0;for(const pt of In(Fr)){const He=0===pt.kind?ra(sr,pt.fieldPath,sr.endAt):Pi(sr,pt.fieldPath,sr.endAt);Fi.push(He.value),ai&&(ai=He.inclusive)}return new on(Fi,ai)}(q,L),Xt=this.In(L,q,Qe),mn=this.In(L,q,St),an=this.Tn(L,q,Ae),Jn=this.En(L.indexId,de,Xt,Qe.inclusive,mn,St.inclusive,an);return ht.forEach(Jn,fr=>a.G(fr,s.limit).next(sr=>{sr.forEach(Fr=>{const Fi=Vt.fromSegments(Fr.documentKey);b.has(Fi)||(b=b.add(Fi),R.push(Fi))})}))}).next(()=>R)}return ht.resolve(null)})}hn(e){let s=this.ln.get(e);return s||(s=0===e.filters.length?[e]:Km(ur.create(e.filters,"and")).map(a=>js(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,s),s)}En(e,s,a,h,_,b,R){const L=(null!=s?s.length:1)*Math.max(a.length,_.length),q=L/(null!=s?s.length:1),de=[];for(let Ae=0;Ae<L;++Ae){const Qe=s?this.dn(s[Ae/q]):nl,St=this.An(e,Qe,a[Ae%q],h),Xt=this.Rn(e,Qe,_[Ae%q],b),mn=R.map(an=>this.An(e,Qe,an,!0));de.push(...this.createRange(St,Xt,mn))}return de}An(e,s,a,h){const _=new Wo(e,Vt.empty(),s,a);return h?_:_.Zt()}Rn(e,s,a,h){const _=new Wo(e,Vt.empty(),s,a);return h?_.Zt():_}Pn(e,s){const a=new Sh(s),h=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const R of _)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,s){let a=2;const h=this.hn(s);return ht.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(L){let q=new xr(Un.comparator),de=!1;for(const Ae of L.filters)for(const Qe of Ae.getFlattenedFilters())Qe.field.isKeyField()||("array-contains"===Qe.op||"array-contains-any"===Qe.op?de=!0:q=q.add(Qe.field));for(const Ae of L.orderBy)Ae.field.isKeyField()||(q=q.add(Ae.field));return q.size+(de?1:0)}(_)&&(a=1):a=0})).next(()=>null!==s.limit&&h.length>1&&2===a?1:a)}Vn(e,s){const a=new Nu;for(const h of In(e)){const _=s.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);$a.vt.It(_,b)}return a.zt()}dn(e){const s=new Nu;return $a.vt.It(e,s.Yt(0)),s.zt()}mn(e,s){const a=new Nu;return $a.vt.It(Er(this.databaseId,s),a.Yt(function(_){const b=In(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,s,a){if(null===a)return[];let h=[];h.push(new Nu);let _=0;for(const b of In(e)){const R=a[_++];for(const L of h)if(this.fn(s,b.fieldPath)&&fs(R))h=this.gn(h,b,R);else{const q=L.Yt(b.kind);$a.vt.It(R,q)}}return this.pn(h)}In(e,s,a){return this.Tn(e,s,a.position)}pn(e){const s=[];for(let a=0;a<e.length;++a)s[a]=e[a].zt();return s}gn(e,s,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const R of h){const L=new Nu;L.seed(R.zt()),$a.vt.It(b,L.Yt(s.kind)),_.push(L)}return _}fn(e,s){return!!e.filters.find(a=>a instanceof Yn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,s){const a=ku(e),h=To(e);return(s?a.U("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.U()).next(_=>{const b=[];return ht.forEach(_,R=>h.get([R.indexId,this.uid]).next(L=>{b.push(function(de,Ae){const Qe=Ae?new zn(Ae.sequenceNumber,new fn(Sn(Ae.readTime),new Vt(pn(Ae.documentKey)),Ae.largestBatchId)):zn.empty(),St=de.fields.map(([Xt,mn])=>new Dr(Un.fromServerFormat(Xt),mn));return new Cn(de.indexId,de.collectionGroup,St,Qe)}(R,L))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(s=>0===s.length?null:(s.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:nn(a.collectionGroup,h.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(e,s,a){const h=ku(e),_=To(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(R=>ht.forEach(R,L=>_.put(nc(L.indexId,this.uid,b,a)))))}updateIndexEntries(e,s){const a=new Map;return ht.forEach(s,(h,_)=>{const b=a.get(h.collectionGroup);return(b?ht.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ht.forEach(R,L=>this.wn(e,h,L).next(q=>{const de=this.Sn(_,L);return q.isEqual(de)?ht.resolve():this.bn(e,_,L,q,de)}))))})}Dn(e,s,a,h){return Ta(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,s.key),documentKey:s.key.path.toArray()})}vn(e,s,a,h){return Ta(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,s.key),s.key.path.toArray()])}wn(e,s,a){const h=Ta(e);let _=new xr(bo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,s)])},(b,R)=>{_=_.add(new Wo(a.indexId,s,R.arrayValue,R.directionalValue))}).next(()=>_)}Sn(e,s){let a=new xr(bo);const h=this.Vn(s,e);if(null==h)return a;const _=jn(s);if(null!=_){const b=e.data.field(_.fieldPath);if(fs(b))for(const R of b.arrayValue.values||[])a=a.add(new Wo(s.indexId,e.key,this.dn(R),h))}else a=a.add(new Wo(s.indexId,e.key,nl,h));return a}bn(e,s,a,h,_){ye("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const b=[];return function(L,q,de,Ae,Qe){const St=L.getIterator(),Xt=q.getIterator();let mn=mo(St),an=mo(Xt);for(;mn||an;){let Jn=!1,fr=!1;if(mn&&an){const sr=de(mn,an);sr<0?fr=!0:sr>0&&(Jn=!0)}else null!=mn?fr=!0:Jn=!0;Jn?(Ae(an),an=mo(Xt)):fr?(Qe(mn),mn=mo(St)):(mn=mo(St),an=mo(Xt))}}(h,_,bo,R=>{b.push(this.Dn(e,s,a,R))},R=>{b.push(this.vn(e,s,a,R))}),ht.waitFor(b)}yn(e){let s=1;return To(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),s=h.sequenceNumber+1}).next(()=>s)}createRange(e,s,a){a=a.sort((b,R)=>bo(b,R)).filter((b,R,L)=>!R||0!==bo(b,L[R-1]));const h=[];h.push(e);for(const b of a){const R=bo(b,e),L=bo(b,s);if(0===R)h[0]=e.Zt();else if(R>0&&L<0)h.push(b),h.push(b.Zt());else if(L>0)break}h.push(s);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,nl,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,nl,[]]))}return _}Cn(e,s){return bo(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(Ad)}getMinOffset(e,s){return ht.mapArray(this.hn(s),a=>this.Pn(e,a).next(h=>h||Mt())).next(Ad)}}function Mo(d){return $i(d,"collectionParents")}function Ta(d){return $i(d,"indexEntries")}function ku(d){return $i(d,"indexConfiguration")}function To(d){return $i(d,"indexState")}function Ad(d){zt(0!==d.length);let e=d[0].indexState.offset,s=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;Kr(h,e)<0&&(e=h),s<h.largestBatchId&&(s=h.largestBatchId)}return new fn(e.readTime,e.documentKey,s)}const Rl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ps{constructor(e,s,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ph(d,e,s){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(s.batchId);let R=0;const L=a.J({range:b},(de,Ae,Qe)=>(R++,Qe.delete()));_.push(L.next(()=>{zt(1===R)}));const q=[];for(const de of s.mutations){const Ae=$e(e,de.key.path,s.batchId);_.push(h.delete(Ae)),q.push(de.key)}return ht.waitFor(_).next(()=>q)}function Pl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Mt();e=d.noDocument}return JSON.stringify(e).length}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class oc{constructor(e,s,a,h){this.userId=e,this.serializer=s,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,s,a,h){zt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new oc(_,s,a,h)}checkEmpty(e){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{s=!1,b.done()}).next(()=>s)}addMutationBatch(e,s,a,h){const _=ac(e),b=rl(e);return b.add({}).next(R=>{zt("number"==typeof R);const L=new Bs(R,s,a,h),q=function(St,Xt,mn){const an=mn.baseMutations.map(fr=>Il(St.ct,fr)),Jn=mn.mutations.map(fr=>Il(St.ct,fr));return{userId:Xt,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:an,mutations:Jn}}(this.serializer,this.userId,L),de=[];let Ae=new xr((Qe,St)=>nn(Qe.canonicalString(),St.canonicalString()));for(const Qe of h){const St=$e(this.userId,Qe.key.path,R);Ae=Ae.add(Qe.key.path.popLast()),de.push(b.put(q)),de.push(_.put(St,Ye))}return Ae.forEach(Qe=>{de.push(this.indexManager.addToCollectionParentIndex(e,Qe))}),e.addOnCommittedListener(()=>{this.Fn[R]=L.keys()}),ht.waitFor(de).next(()=>L)})}lookupMutationBatch(e,s){return rl(e).get(s).next(a=>a?(zt(a.userId===this.userId),Tr(this.serializer,a)):null)}Mn(e,s){return this.Fn[s]?ht.resolve(this.Fn[s]):this.lookupMutationBatch(e,s).next(a=>{if(a){const h=a.keys();return this.Fn[s]=h,h}return null})}getNextMutationBatchAfterBatchId(e,s){const a=s+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return rl(e).J({index:"userMutationsIndex",range:h},(b,R,L)=>{R.userId===this.userId&&(zt(R.batchId>=a),_=Tr(this.serializer,R)),L.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return rl(e).J({index:"userMutationsIndex",range:s,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).U("userMutationsIndex",s).next(a=>a.map(h=>Tr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,s){const a=Ne(this.userId,s.path),h=IDBKeyRange.lowerBound(a),_=[];return ac(e).J({range:h},(b,R,L)=>{const[q,de,Ae]=b,Qe=pn(de);if(q===this.userId&&s.path.isEqual(Qe))return rl(e).get(Ae).next(St=>{if(!St)throw Mt();zt(St.userId===this.userId),_.push(Tr(this.serializer,St))});L.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new xr(nn);const h=[];return s.forEach(_=>{const b=Ne(this.userId,_.path),R=IDBKeyRange.lowerBound(b),L=ac(e).J({range:R},(q,de,Ae)=>{const[Qe,St,Xt]=q,mn=pn(St);Qe===this.userId&&_.path.isEqual(mn)?a=a.add(Xt):Ae.done()});h.push(L)}),ht.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1,_=Ne(this.userId,a),b=IDBKeyRange.lowerBound(_);let R=new xr(nn);return ac(e).J({range:b},(L,q,de)=>{const[Ae,Qe,St]=L,Xt=pn(Qe);Ae===this.userId&&a.isPrefixOf(Xt)?Xt.length===h&&(R=R.add(St)):de.done()}).next(()=>this.xn(e,R))}xn(e,s){const a=[],h=[];return s.forEach(_=>{h.push(rl(e).get(_).next(b=>{if(null===b)throw Mt();zt(b.userId===this.userId),a.push(Tr(this.serializer,b))}))}),ht.waitFor(h).next(()=>a)}removeMutationBatch(e,s){return Ph(e._e,this.userId,s).next(a=>(e.addOnCommittedListener(()=>{this.On(s.batchId)}),ht.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(s=>{if(!s)return ht.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return ac(e).J({range:a},(_,b,R)=>{if(_[0]===this.userId){const L=pn(_[1]);h.push(L)}else R.done()}).next(()=>{zt(0===h.length)})})}containsKey(e,s){return xh(e,this.userId,s)}Nn(e){return Uc(e).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xh(d,e,s){const a=Ne(e,s.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return ac(d).J({range:_,H:!0},(R,L,q)=>{const[de,Ae,Qe]=R;de===e&&Ae===h&&(b=!0),q.done()}).next(()=>b)}function rl(d){return $i(d,"mutations")}function ac(d){return $i(d,"documentMutations")}function Uc(d){return $i(d,"mutationQueues")}class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}class Xf{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.qn(e).next(s=>{const a=new xl(s.highestTargetId);return s.highestTargetId=a.next(),this.Qn(e,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(s=>qt.fromTimestamp(new Jt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(e,s,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=s,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),s>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=s),this.Qn(e,h)))}addTargetData(e,s){return this.Kn(e,s).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(s,a),this.Qn(e,a))))}updateTargetData(e,s){return this.Kn(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next(()=>Ko(e).delete(s.targetId)).next(()=>this.qn(e)).next(a=>(zt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,s,a){let h=0;const _=[];return Ko(e).J((b,R)=>{const L=Sr(R);L.sequenceNumber<=s&&null===a.get(L.targetId)&&(h++,_.push(this.removeTargetData(e,L)))}).next(()=>ht.waitFor(_)).next(()=>h)}forEachTarget(e,s){return Ko(e).J((a,h)=>{const _=Sr(h);s(_)})}qn(e){return Ml(e).get("targetGlobalKey").next(s=>(zt(null!==s),s))}Qn(e,s){return Ml(e).put("targetGlobalKey",s)}Kn(e,s){return Ko(e).put($r(this.serializer,s))}$n(e,s){let a=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,a=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(s=>s.targetCount)}getTargetData(e,s){const a=Ns(s),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return Ko(e).J({range:h,index:"queryTargetsIndex"},(b,R,L)=>{const q=Sr(R);ao(s,q.target)&&(_=q,L.done())}).next(()=>_)}addMatchingKeys(e,s,a){const h=[],_=Ol(e);return s.forEach(b=>{const R=Ee(b.path);h.push(_.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),ht.waitFor(h)}removeMatchingKeys(e,s,a){const h=Ol(e);return ht.forEach(s,_=>{const b=Ee(_.path);return ht.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,s){const a=Ol(e),h=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),h=Ol(e);let _=wr();return h.J({range:a,H:!0},(b,R,L)=>{const q=pn(b[1]),de=new Vt(q);_=_.add(de)}).next(()=>_)}containsKey(e,s){const a=Ee(s.path),h=IDBKeyRange.bound([a],[Ln(a)],!1,!0);let _=0;return Ol(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],L,q)=>{0!==b&&(_++,q.done())}).next(()=>_>0)}ot(e,s){return Ko(e).get(s).next(a=>a?Sr(a):null)}}function Ko(d){return $i(d,"targets")}function Ml(d){return $i(d,"targetGlobal")}function Ol(d){return $i(d,"targetDocuments")}function Lu([d,e],[s,a]){const h=nn(d,s);return 0===h?nn(e,a):h}class Qf{constructor(e){this.Un=e,this.buffer=new xr(Lu),this.Wn=0}Gn(){return++this.Wn}zn(e){const s=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();Lu(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Nl{constructor(e,s,a){this.garbageCollector=e,this.asyncQueue=s,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var s=this;ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,i.A)(function*(){s.jn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){Pn(a)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Wn(a)}yield s.Hn(3e5)}))}}class Mh{constructor(e,s){this.Jn=e,this.params=s}calculateTargetCount(e,s){return this.Jn.Yn(e).next(a=>Math.floor(s/100*a))}nthSequenceNumber(e,s){if(0===s)return ht.resolve(k.oe);const a=new Qf(s);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,s,a){return this.Jn.removeTargets(e,s,a)}removeOrphanedDocuments(e,s){return this.Jn.removeOrphanedDocuments(e,s)}collect(e,s){return-1===this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Rl)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rl):this.Xn(e,s))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,s){let a,h,_,b,R,L,q;const de=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),h=this.params.maximumSequenceNumbersToCollect):h=Ae,b=Date.now(),this.nthSequenceNumber(e,h))).next(Ae=>(a=Ae,R=Date.now(),this.removeTargets(e,a,s))).next(Ae=>(_=Ae,L=Date.now(),this.removeOrphanedDocuments(e,a))).next(Ae=>(q=Date.now(),Ft()<=Ie.$b.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-de}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${_} targets in `+(L-R)+`ms\n\tRemoved ${Ae} documents in `+(q-L)+`ms\nTotal Duration: ${q-de}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:Ae})))}}class Jf{constructor(e,s){this.db=e,this.garbageCollector=function as(d,e){return new Mh(d,e)}(this,s)}Yn(e){const s=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>s.next(h=>a+h))}er(e){let s=0;return this.Zn(e,a=>{s++}).next(()=>s)}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}Zn(e,s){return this.tr(e,(a,h)=>s(h))}addReference(e,s,a){return jc(e,a)}removeReference(e,s,a){return jc(e,a)}removeTargets(e,s,a){return this.db.getTargetCache().removeTargets(e,s,a)}markPotentiallyOrphaned(e,s){return jc(e,s)}nr(e,s){return function(h,_){let b=!1;return Uc(h).Y(R=>xh(h,R,_).next(L=>(L&&(b=!0),ht.resolve(!L)))).next(()=>b)}(e,s)}removeOrphanedDocuments(e,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,R)=>{if(R<=s){const L=this.nr(e,b).next(q=>{if(!q)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,qt.min()),Ol(e).delete([0,Ee(b.path)])))});h.push(L)}}).next(()=>ht.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,s){const a=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,s){return jc(e,s)}tr(e,s){const a=Ol(e);let h,_=k.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:L,sequenceNumber:q})=>{0===b?(_!==k.oe&&s(new Vt(pn(h)),_),_=q,h=L):_=k.oe}).next(()=>{_!==k.oe&&s(new Vt(pn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(d,e){return Ol(d).put((h=d.currentSequenceNumber,{targetId:0,path:Ee(e.path),sequenceNumber:h}));var h}class aa{constructor(){this.changes=new On(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?ht.resolve(a):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Oh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,a){return Oo(e).put(a)}removeEntry(e,s,a){return Oo(e).delete(function(_,b){const R=_.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],At(b),R[R.length-1]]}(s,a))}updateMetadata(e,s){return this.getMetadata(e).next(a=>(a.byteSize+=s,this.rr(e,a)))}getEntry(e,s){let a=bt.newInvalidDocument(s);return Oo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qo(s))},(h,_)=>{a=this.ir(s,_)}).next(()=>a)}sr(e,s){let a={size:0,document:bt.newInvalidDocument(s)};return Oo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qo(s))},(h,_)=>{a={document:this.ir(s,_),size:Pl(_)}}).next(()=>a)}getEntries(e,s){let a=ys();return this._r(e,s,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,s){let a=ys(),h=new qr(Vt.comparator);return this._r(e,s,(_,b)=>{const R=this.ir(_,b);a=a.insert(_,R),h=h.insert(_,Pl(b))}).next(()=>({documents:a,ur:h}))}_r(e,s,a){if(s.isEmpty())return ht.resolve();let h=new xr(Vu);s.forEach(L=>h=h.add(L));const _=IDBKeyRange.bound(qo(h.first()),qo(h.last())),b=h.getIterator();let R=b.getNext();return Oo(e).J({index:"documentKeyIndex",range:_},(L,q,de)=>{const Ae=Vt.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;R&&Vu(R,Ae)<0;)a(R,null),R=b.getNext();R&&R.isEqual(Ae)&&(a(R,q),R=b.hasNext()?b.getNext():null),R?de.$(qo(R)):de.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,s,a,h,_){const b=s.path,R=[b.popLast().toArray(),b.lastSegment(),At(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],L=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oo(e).U(IDBKeyRange.bound(R,L,!0)).next(q=>{_?.incrementDocumentReadCount(q.length);let de=ys();for(const Ae of q){const Qe=this.ir(Vt.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);Qe.isFoundDocument()&&(to(s,Qe)||h.has(Qe.key))&&(de=de.insert(Qe.key,Qe))}return de})}getAllFromCollectionGroup(e,s,a,h){let _=ys();const b=Nh(s,a),R=Nh(s,fn.max());return Oo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(L,q,de)=>{const Ae=this.ir(Vt.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);_=_.insert(Ae.key,Ae),_.size===h&&de.done()}).next(()=>_)}newChangeBuffer(e){return new Sd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(s=>s.byteSize)}getMetadata(e){return Fl(e).get("remoteDocumentGlobalKey").next(s=>(zt(!!s),s))}rr(e,s){return Fl(e).put("remoteDocumentGlobalKey",s)}ir(e,s){if(s){const a=function fe(d,e){let s;if(e.document)s=Cl(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Vt.fromSegments(e.noDocument.path),h=Sn(e.noDocument.readTime);s=bt.newNoDocument(a,h),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const a=Vt.fromSegments(e.unknownDocument.path),h=Sn(e.unknownDocument.version);s=bt.newUnknownDocument(a,h)}}return e.readTime&&s.setReadTime(function(h){const _=new Jt(h[0],h[1]);return qt.fromTimestamp(_)}(e.readTime)),s}(this.serializer,s);if(!a.isNoDocument()||!a.version.isEqual(qt.min()))return a}return bt.newInvalidDocument(e)}}function Dd(d){return new Oh(d)}class Sd extends aa{constructor(e,s){super(),this.cr=e,this.trackRemovals=s,this.lr=new On(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const s=[];let a=0,h=new xr((_,b)=>nn(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const R=this.lr.get(_);if(s.push(this.cr.removeEntry(e,_,R.readTime)),b.isValidDocument()){const L=ke(this.cr.serializer,b);h=h.add(_.path.popLast());const q=Pl(L);a+=q-R.size,s.push(this.cr.addEntry(e,_,L))}else if(a-=R.size,this.trackRemovals){const L=ke(this.cr.serializer,b.convertToNoDocument(qt.min()));s.push(this.cr.addEntry(e,_,L))}}),h.forEach(_=>{s.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),s.push(this.cr.updateMetadata(e,a)),ht.waitFor(s)}getFromCache(e,s){return this.cr.sr(e,s).next(a=>(this.lr.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,s){return this.cr.ar(e,s).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function Fl(d){return $i(d,"remoteDocumentGlobal")}function Oo(d){return $i(d,"remoteDocumentsV14")}function qo(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nh(d,e){const s=e.documentKey.path.toArray();return[d,At(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Vu(d,e){const s=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<s.length-2&&_<a.length-2;++_)if(h=nn(s[_],a[_]),h)return h;return h=nn(s.length,a.length),h||(h=nn(s[s.length-2],a[a.length-2]),h||nn(s[s.length-1],a[a.length-1]))}class $c{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class Fh{constructor(e,s,a,h){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,s){let a=null;return this.documentOverlayCache.getOverlay(e,s).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,s))).next(h=>(null!==a&&Zr(a.mutation,h,Jr.empty(),Jt.now()),h))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.getLocalViewOfDocuments(e,a,wr()).next(()=>a))}getLocalViewOfDocuments(e,s,a=wr()){const h=As();return this.populateOverlays(e,h,s).next(()=>this.computeViews(e,s,h,a).next(_=>{let b=no();return _.forEach((R,L)=>{b=b.insert(R,L.overlayedDocument)}),b}))}getOverlayedDocuments(e,s){const a=As();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,wr()))}populateOverlays(e,s,a){const h=[];return a.forEach(_=>{s.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,R)=>{s.set(b,R)})})}computeViews(e,s,a,h){let _=ys();const b=Oa(),R=Oa();return s.forEach((L,q)=>{const de=a.get(q.key);h.has(q.key)&&(void 0===de||de.mutation instanceof Hr)?_=_.insert(q.key,q):void 0!==de?(b.set(q.key,de.mutation.getFieldMask()),Zr(de.mutation,q,de.mutation.getFieldMask(),Jt.now())):b.set(q.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,_).next(L=>(L.forEach((q,de)=>b.set(q,de)),s.forEach((q,de)=>{var Ae;return R.set(q,new $c(de,null!==(Ae=b.get(q))&&void 0!==Ae?Ae:null))}),R))}recalculateAndSaveOverlays(e,s){const a=Oa();let h=new qr((b,R)=>b-R),_=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(b=>{for(const R of b)R.keys().forEach(L=>{const q=s.get(L);if(null===q)return;let de=a.get(L)||Jr.empty();de=R.applyToLocalView(q,de),a.set(L,de);const Ae=(h.get(R.batchId)||wr()).add(L);h=h.insert(R.batchId,Ae)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const L=R.getNext(),q=L.key,de=L.value,Ae=Ma();de.forEach(Qe=>{if(!_.has(Qe)){const St=Ht(s.get(Qe),a.get(Qe));null!==St&&Ae.set(Qe,St),_=_.add(Qe)}}),b.push(this.documentOverlayCache.saveOverlays(e,q,Ae))}return ht.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,s,a,h){return Vt.isDocumentKey((b=s).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,s.path):pe(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,a,h):this.getDocumentsMatchingCollectionQuery(e,s,a,h);var b}getNextDocuments(e,s,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,a.largestBatchId,h-_.size):ht.resolve(As());let R=-1,L=_;return b.next(q=>ht.forEach(q,(de,Ae)=>(R<Ae.largestBatchId&&(R=Ae.largestBatchId),_.get(de)?ht.resolve():this.remoteDocumentCache.getEntry(e,de).next(Qe=>{L=L.insert(de,Qe)}))).next(()=>this.populateOverlays(e,q,_)).next(()=>this.computeViews(e,L,q,wr())).next(de=>({batchId:R,changes:_a(de)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Vt(s)).next(a=>{let h=no();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,s,a,h){const _=s.collectionGroup;let b=no();return this.indexManager.getCollectionParents(e,_).next(R=>ht.forEach(R,L=>{const q=(Ae=s,Qe=L.child(_),new Ro(Qe,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Qe;return this.getDocumentsMatchingCollectionQuery(e,q,a,h).next(de=>{de.forEach((Ae,Qe)=>{b=b.insert(Ae,Qe)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,s,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,a,_,h))).next(b=>{_.forEach((L,q)=>{const de=q.getKey();null===b.get(de)&&(b=b.insert(de,bt.newInvalidDocument(de)))});let R=no();return b.forEach((L,q)=>{const de=_.get(L);void 0!==de&&Zr(de.mutation,q,Jr.empty(),Jt.now()),to(s,q)&&(R=R.insert(L,q))}),R})}}class yg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return ht.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,{id:(h=s).id,version:h.version,createTime:Ki(h.createTime)}),ht.resolve();var h}getNamedQuery(e,s){return ht.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,{name:(h=s).name,query:vi(h.bundledQuery),readTime:Ki(h.readTime)}),ht.resolve();var h}}class vg{constructor(){this.overlays=new qr(Vt.comparator),this.Ir=new Map}getOverlay(e,s){return ht.resolve(this.overlays.get(s))}getOverlays(e,s){const a=As();return ht.forEach(s,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,s,a){return a.forEach((h,_)=>{this.ht(e,s,_)}),ht.resolve()}removeOverlaysForBatchId(e,s,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),ht.resolve()}getOverlaysForCollection(e,s,a){const h=As(),_=s.length+1,b=new Vt(s.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const L=R.getNext().value,q=L.getKey();if(!s.isPrefixOf(q.path))break;q.path.length===_&&L.largestBatchId>a&&h.set(L.getKey(),L)}return ht.resolve(h)}getOverlaysForCollectionGroup(e,s,a,h){let _=new qr((q,de)=>q-de);const b=this.overlays.getIterator();for(;b.hasNext();){const q=b.getNext().value;if(q.getKey().getCollectionGroup()===s&&q.largestBatchId>a){let de=_.get(q.largestBatchId);null===de&&(de=As(),_=_.insert(q.largestBatchId,de)),de.set(q.getKey(),q)}}const R=As(),L=_.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((q,de)=>R.set(q,de)),!(R.size()>=h)););return ht.resolve(R)}ht(e,s,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Cs(s,a));let _=this.Ir.get(s);void 0===_&&(_=wr(),this.Ir.set(s,_)),this.Ir.set(s,_.add(a.key))}}class Zf{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return ht.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ht.resolve()}}class ep{constructor(){this.Tr=new xr(ks.Er),this.dr=new xr(ks.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const a=new ks(e,s);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,s){e.forEach(a=>this.addReference(a,s))}removeReference(e,s){this.Vr(new ks(e,s))}mr(e,s){e.forEach(a=>this.removeReference(a,s))}gr(e){const s=new Vt(new en([])),a=new ks(s,e),h=new ks(s,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new Vt(new en([])),a=new ks(s,e),h=new ks(s,e+1);let _=wr();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const s=new ks(e,0),a=this.Tr.firstAfterOrEqual(s);return null!==a&&e.isEqual(a.key)}}class ks{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return Vt.comparator(e.key,s.key)||nn(e.wr,s.wr)}static Ar(e,s){return nn(e.wr,s.wr)||Vt.comparator(e.key,s.key)}}class qm{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new xr(ks.Er)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,s,a,h){const _=this.Sr;this.Sr++;const b=new Bs(_,s,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new ks(R.key,_)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ht.resolve(b)}lookupMutationBatch(e,s){return ht.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const h=this.vr(s+1),_=h<0?0:h;return ht.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const a=new ks(s,0),h=new ks(s,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);_.push(R)}),ht.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,s){let a=new xr(nn);return s.forEach(h=>{const _=new ks(h,0),b=new ks(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],R=>{a=a.add(R.wr)})}),ht.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,s){const a=s.path,h=a.length+1;let _=a;Vt.isDocumentKey(_)||(_=_.child(""));const b=new ks(new Vt(_),0);let R=new xr(nn);return this.br.forEachWhile(L=>{const q=L.key.path;return!!a.isPrefixOf(q)&&(q.length===h&&(R=R.add(L.wr)),!0)},b),ht.resolve(this.Cr(R))}Cr(e){const s=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&s.push(h)}),s}removeMutationBatch(e,s){zt(0===this.Fr(s.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ht.forEach(s.mutations,h=>{const _=new ks(h.key,s.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,s){const a=new ks(s,0),h=this.br.firstAfterOrEqual(a);return ht.resolve(s.isEqual(h&&h.key))}performConsistencyCheck(e){return ht.resolve()}Fr(e,s){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class Ym{constructor(e){this.Mr=e,this.docs=new qr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const a=s.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const a=this.docs.get(s);return ht.resolve(a?a.document.mutableCopy():bt.newInvalidDocument(s))}getEntries(e,s){let a=ys();return s.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():bt.newInvalidDocument(h))}),ht.resolve(a)}getDocumentsMatchingQuery(e,s,a,h){let _=ys();const b=s.path,R=new Vt(b.child("")),L=this.docs.getIteratorFrom(R);for(;L.hasNext();){const{key:q,value:{document:de}}=L.getNext();if(!b.isPrefixOf(q.path))break;q.path.length>b.length+1||Kr(es(de),a)<=0||(h.has(de.key)||to(s,de))&&(_=_.insert(de.key,de.mutableCopy()))}return ht.resolve(_)}getAllFromCollectionGroup(e,s,a,h){Mt()}Or(e,s){return ht.forEach(this.docs,a=>s(a))}newChangeBuffer(e){return new Bc(this)}getSize(e){return ht.resolve(this.size)}}class Bc extends aa{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?s.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ht.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}class Eg{constructor(e){this.persistence=e,this.Nr=new On(s=>Ns(s),ao),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ep,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,s){return this.Nr.forEach((a,h)=>s(h)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Lr&&(this.Lr=s),ht.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new xl(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,ht.resolve()}updateTargetData(e,s){return this.Kn(s),ht.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,s,a){let h=0;const _=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=s&&null===a.get(R.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ht.waitFor(_).next(()=>h)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,s){const a=this.Nr.get(s)||null;return ht.resolve(a)}addMatchingKeys(e,s,a){return this.Br.Rr(s,a),ht.resolve()}removeMatchingKeys(e,s,a){this.Br.mr(s,a);const h=this.persistence.referenceDelegate,_=[];return h&&s.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),ht.waitFor(_)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),ht.resolve()}getMatchingKeysForTargetId(e,s){const a=this.Br.yr(s);return ht.resolve(a)}containsKey(e,s){return ht.resolve(this.Br.containsKey(s))}}class Ba{constructor(e,s){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Zf,this.referenceDelegate=e(this),this.Ur=new Eg(this),this.indexManager=new Sl,this.remoteDocumentCache=new Ym(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(s),this.Gr=new yg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new vg,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let a=this.qr[e.toKey()];return a||(a=new qm(s,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,a){ye("MemoryPersistence","Starting transaction:",e);const h=new Zs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,s){return ht.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,s)))}}class Zs extends vr{constructor(e){super(),this.currentSequenceNumber=e}}class Uu{constructor(e){this.persistence=e,this.Jr=new ep,this.Yr=null}static Zr(e){return new Uu(e)}get Xr(){if(this.Yr)return this.Yr;throw Mt()}addReference(e,s,a){return this.Jr.addReference(a,s),this.Xr.delete(a.toString()),ht.resolve()}removeReference(e,s,a){return this.Jr.removeReference(a,s),this.Xr.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),ht.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,s.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,s))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,a=>{const h=Vt.fromPath(a);return this.ei(e,h).next(_=>{_||s.removeEntry(h,qt.min())})}).next(()=>(this.Yr=null,s.apply(e)))}updateLimboDocument(e,s){return this.ei(e,s).next(a=>{a?this.Xr.delete(s.toString()):this.Xr.add(s.toString())})}Wr(e){return 0}ei(e,s){return ht.or([()=>ht.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}class kh{constructor(e){this.serializer=e}O(e,s,a,h){const _=new yt("createOrUpgrade",s);var L;a<1&&h>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_r,{unique:!0}),L.createObjectStore("documentMutations"),Yo(e),function(L){L.createObjectStore("remoteDocuments")}(e));let b=ht.resolve();return a<3&&h>=3&&(0!==a&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),Yo(e)),b=b.next(()=>function(L){const q=L.store("targetGlobal"),de={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qt.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",de)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(L,q){return q.store("mutations").U().next(de=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_r,{unique:!0});const Ae=q.store("mutations"),Qe=de.map(St=>Ae.put(St));return ht.waitFor(Qe)})}(e,_))),b=b.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(L){const q=L.createObjectStore("documentOverlays",{keyPath:Kn});q.createIndex("collectionPathOverlayIndex",_n,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",Fn,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(L){const q=L.createObjectStore("remoteDocumentsV14",{keyPath:jt});q.createIndex("documentKeyIndex",rn),q.createIndex("collectionGroupIndex",bn)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:wt}).createIndex("sequenceNumberIndex",st,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:kt}).createIndex("documentKeyIndex",hn,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{s.objectStore("indexState").clear()}).next(()=>{s.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(L){L.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let s=0;return e.store("remoteDocuments").J((a,h)=>{s+=Pl(h)}).next(()=>{const a={byteSize:s};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const s=e.store("mutationQueues"),a=e.store("mutations");return s.U().next(h=>ht.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>ht.forEach(R,L=>{zt(L.userId===_.userId);const q=Tr(this.serializer,L);return Ph(e,_.userId,q).next(()=>{})}))}))}ii(e){const s=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,R)=>{const L=new en(b),q=[0,Ee(L)];_.push(s.get(q).next(de=>de?ht.resolve():s.put({targetId:0,path:Ee(L),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ht.waitFor(_))})}si(e,s){e.createObjectStore("collectionParents",{keyPath:Ci});const a=s.store("collectionParents"),h=new sc,_=b=>{if(h.add(b)){const R=b.lastSegment(),L=b.popLast();return a.put({collectionId:R,parent:Ee(L)})}};return s.store("remoteDocuments").J({H:!0},(b,R)=>{const L=new en(b);return _(L.popLast())}).next(()=>s.store("documentMutations").J({H:!0},([b,R,L],q)=>{const de=pn(R);return _(de.popLast())}))}oi(e){const s=e.store("targets");return s.J((a,h)=>{const _=Sr(h),b=$r(this.serializer,_);return s.put(b)})}_i(e,s){const a=s.store("remoteDocuments"),h=[];return a.J((_,b)=>{const R=s.store("remoteDocumentsV14"),L=(Ae=b,Ae.document?new Vt(en.fromString(Ae.document.name).popFirst(5)):Ae.noDocument?Vt.fromSegments(Ae.noDocument.path):Ae.unknownDocument?Vt.fromSegments(Ae.unknownDocument.path):Mt()).path.toArray(),q={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var Ae;h.push(R.put(q))}).next(()=>ht.waitFor(h))}ai(e,s){const a=s.store("mutations"),h=Dd(this.serializer),_=new Ba(Uu.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(L=>{var q;let de=null!==(q=R.get(L.userId))&&void 0!==q?q:wr();Tr(this.serializer,L).keys().forEach(Ae=>de=de.add(Ae)),R.set(L.userId,de)}),ht.forEach(R,(L,q)=>{const de=new at(q),Ae=el.lt(this.serializer,de),Qe=_.getIndexManager(de),St=oc.lt(de,this.serializer,Qe,_.referenceDelegate);return new Fh(h,St,Ae,Qe).recalculateAndSaveOverlaysForDocumentKeys(new go(s,k.oe),L).next()})})}}function Yo(d){d.createObjectStore("targetDocuments",{keyPath:ar}).createIndex("documentTargetsIndex",gn,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dn,{unique:!0}),d.createObjectStore("targetGlobal")}const Ll="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rd{constructor(e,s,a,h,_,b,R,L,q,de,Ae=17){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=a,this.ui=_,this.window=b,this.document=R,this.ci=q,this.li=de,this.hi=Ae,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Qe=>Promise.resolve(),!Rd.D())throw new ct(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jf(this,h),this.Ai=s+"main",this.serializer=new H(L),this.Ri=new he(this.Ai,this.hi,new kh(this.serializer)),this.$r=new Cd,this.Ur=new Xf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Dd(this.serializer),this.Gr=new Al,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===de&&$t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct(ze.FAILED_PRECONDITION,Ll);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var s=this;return this.di=function(){var a=(0,i.A)(function*(h){if(s.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var s=(0,i.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(e){var s=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,i.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ul(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(s=>{s||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(s=>this.isPrimary&&!s?this.bi(e).next(()=>!1):!!s&&this.Di(e).next(()=>!0))).catch(e=>{if(Pn(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Vl(e).get("owner").next(s=>ht.resolve(this.vi(s)))}Ci(e){return Ul(e).delete(this.clientId)}Fi(){var e=this;return(0,i.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const s=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=$i(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),R=_.filter(L=>-1===b.indexOf(L));return ht.forEach(R,L=>h.delete(L.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of s)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ht.resolve(!0):Vl(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)){if(this.vi(s)&&this.networkEnabled)return!0;if(!this.vi(s)){if(!s.allowTabSynchronization)throw new ct(ze.FAILED_PRECONDITION,Ll);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ul(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(s=>(this.isPrimary!==s&&ye("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var e=this;return(0,i.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new go(s,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,s){return e.filter(a=>this.Mi(a.updateTimeMs,s)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ul(e).U().next(s=>this.xi(s,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,s){return oc.lt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _g(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return el.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,s,a){ye("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===s?"readonly":"readwrite",_=17===(L=this.hi)?Ks:16===L?Li:15===L?us:14===L?ki:13===L?Zn:12===L?jr:11===L?gr:void Mt();var L;let b;return this.Ri.runTransaction(e,h,_,R=>(b=new go(R,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===s?this.wi(b).next(L=>!!L||this.Si(b)).next(L=>{if(!L)throw $t(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ct(ze.FAILED_PRECONDITION,tr);return a(b)}).next(L=>this.Di(b).next(()=>L)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return Vl(e).get("owner").next(s=>{if(null!==s&&this.Mi(s.leaseTimestampMs,5e3)&&!this.Ni(s.ownerId)&&!this.vi(s)&&!(this.li||this.allowTabSynchronization&&s.allowTabSynchronization))throw new ct(ze.FAILED_PRECONDITION,Ll)})}Di(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vl(e).put("owner",s)}static D(){return he.D()}bi(e){const s=Vl(e);return s.get("owner").next(a=>this.vi(a)?(ye("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):ht.resolve())}Mi(e,s){const a=Date.now();return!(e<a-s||e>a&&($t(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const s=/(?:Version|Mobile)\/1[456]/;(0,le.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var s;try{const a=null!==(null===(s=this.Vi)||void 0===s?void 0:s.getItem(this.Oi(e)));return ye("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return $t("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vl(d){return $i(d,"owner")}function Ul(d){return $i(d,"clientMetadata")}function Pd(d,e){let s=d.projectId;return d.isDefaultDatabase||(s+="."+d.database),"firestore/"+e+"/"+s+"/"}class tp{constructor(e,s,a,h){this.targetId=e,this.fromCache=s,this.$i=a,this.Ui=h}static Wi(e,s){let a=wr(),h=wr();for(const _ of s.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new tp(e,s.fromCache,a,h)}}class bg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,le.nr)()?8:je((0,le.ZQ)())>0?6:4}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,a,h){const _={result:null};return this.Yi(e,s).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,s,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new bg;return this.Xi(e,s,b).next(R=>{if(_.result=R,this.zi)return this.es(e,s,b,R.size)})}).next(()=>_.result)}es(e,s,a,h){return a.documentReadCount<this.ji?(Ft()<=Ie.$b.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Mi(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(Ft()<=Ie.$b.DEBUG&&ye("QueryEngine","Query:",Mi(s),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Ft()<=Ie.$b.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Mi(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(s))):ht.resolve())}Yi(e,s){if(U(s))return ht.resolve(null);let a=vn(s);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==s.limit&&1===h&&(s=rs(s,null,"F"),a=vn(s)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=wr(..._);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(L=>{const q=this.ts(s,R);return this.ns(s,q,b,L.readTime)?this.Yi(e,rs(s,null,"F")):this.rs(e,q,s,L)}))})))}Zi(e,s,a,h){return U(s)||h.isEqual(qt.min())?ht.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(s,_);return this.ns(s,b,a,h)?ht.resolve(null):(Ft()<=Ie.$b.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Mi(s)),this.rs(e,b,s,Wr(h,-1)).next(R=>R))})}ts(e,s){let a=new xr(Oi(e));return s.forEach((h,_)=>{to(e,_)&&(a=a.add(_))}),a}ns(e,s,a,h){if(null===e.limit)return!1;if(a.size!==s.size)return!0;const _="F"===e.limitType?s.last():s.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,s,a){return Ft()<=Ie.$b.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Mi(s)),this.Ji.getDocumentsMatchingQuery(e,s,fn.min(),a)}rs(e,s,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(s.forEach(b=>{_=_.insert(b.key,b)}),_))}}class Co{constructor(e,s,a,h){this.persistence=e,this.ss=s,this.serializer=h,this.os=new qr(nn),this._s=new On(_=>Ns(_),ao),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.os))}}function xd(d,e,s,a){return new Co(d,e,s,a)}function la(d,e){return Md.apply(this,arguments)}function Md(){return(Md=(0,i.A)(function*(d,e){const s=_t(d);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let h;return s.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,s.ls(e),s.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],R=[];let L=wr();for(const q of h){b.push(q.batchId);for(const de of q.mutations)L=L.add(de.key)}for(const q of _){R.push(q.batchId);for(const de of q.mutations)L=L.add(de.key)}return s.localDocuments.getDocuments(a,L).next(q=>({hs:q,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function ju(d){const e=_t(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ur.getLastRemoteSnapshotVersion(s))}function Bu(d,e,s){let a=wr(),h=wr();return s.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=ys();return s.forEach((R,L)=>{const q=_.get(R);L.isFoundDocument()!==q.isFoundDocument()&&(h=h.add(R)),L.isNoDocument()&&L.version.isEqual(qt.min())?(e.removeEntry(R,L.readTime),b=b.insert(R,L)):!q.isValidDocument()||L.version.compareTo(q.version)>0||0===L.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(L),b=b.insert(R,L)):ye("LocalStore","Ignoring outdated watch update for ",R,". Current version:",q.version," Watch version:",L.version)}),{Ps:b,Is:h}})}function np(d,e){const s=_t(d);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jl(d,e){const s=_t(d);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return s.Ur.getTargetData(a,e).next(_=>_?(h=_,ht.resolve(h)):s.Ur.allocateTargetId(a).next(b=>(h=new F(e,b,"TargetPurposeListen",a.currentSequenceNumber),s.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=s.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(s.os=s.os.insert(a.targetId,a),s._s.set(e,a.targetId)),a})}function Gc(d,e,s){return Od.apply(this,arguments)}function Od(){return(Od=(0,i.A)(function*(d,e,s){const a=_t(d),h=a.os.get(e),_=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Pn(b))throw b;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function il(d,e,s){const a=_t(d);let h=qt.min(),_=wr();return a.persistence.runTransaction("Execute query","readwrite",b=>function(L,q,de){const Ae=_t(L),Qe=Ae._s.get(de);return void 0!==Qe?ht.resolve(Ae.os.get(Qe)):Ae.Ur.getTargetData(q,de)}(a,b,vn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(L=>{_=L})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,s?h:qt.min(),s?_:wr())).next(R=>(Uh(a,xc(e),R),{documents:R,Ts:_})))}function Vh(d,e){const s=_t(d),a=_t(s.Ur),h=s.os.get(e);return h?Promise.resolve(h.target):s.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function $l(d,e){const s=_t(d),a=s.us.get(e)||qt.min();return s.persistence.runTransaction("Get new document changes","readonly",h=>s.cs.getAllFromCollectionGroup(h,e,Wr(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Uh(s,e,h),h))}function Uh(d,e,s){let a=d.us.get(e)||qt.min();s.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function jh(){return(jh=(0,i.A)(function*(d,e,s,a){const h=_t(d);let _=wr(),b=ys();for(const q of s){const de=e.Es(q.metadata.name);q.document&&(_=_.add(de));const Ae=e.ds(q);Ae.setReadTime(e.As(q.metadata.readTime)),b=b.insert(de,Ae)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),L=yield jl(h,(de=a,vn(te(en.fromString(`__bundle__/docs/${de}`)))));var de;return h.persistence.runTransaction("Apply bundle documents","readwrite",q=>Bu(q,R,b).next(de=>(R.apply(q),de)).next(de=>h.Ur.removeMatchingKeysForTargetId(q,L.targetId).next(()=>h.Ur.addMatchingKeys(q,_,L.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(q,de.Ps,de.Is)).next(()=>de.Ps)))})).apply(this,arguments)}function rp(d,e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,i.A)(function*(d,e,s=wr()){const a=yield jl(d,vn(vi(e.bundledQuery))),h=_t(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=Ki(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const R=a.withResumeToken(Si.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(_,R).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,s,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function zu(d,e){return`firestore_clients_${d}_${e}`}function $h(d,e,s){let a=`firestore_mutations_${d}_${s}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Nd(d,e){return`firestore_targets_${d}_${e}`}class sl{constructor(e,s,a,h){this.user=e,this.batchId=s,this.state=a,this.error=h}static Rs(e,s,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new ct(h.error.code,h.error.message))),b?new sl(e,s,h.state,_):($t("SharedClientState",`Failed to parse mutation state for ID '${s}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ol{constructor(e,s,a){this.targetId=e,this.state=s,this.error=a}static Rs(e,s){const a=JSON.parse(s);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new ct(a.error.code,a.error.message))),_?new ol(e,a.state,h):($t("SharedClientState",`Failed to parse target state for ID '${e}': ${s}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bl{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static Rs(e,s){const a=JSON.parse(s);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=vo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ne(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new Bl(e,_):($t("SharedClientState",`Failed to parse client data for instance '${e}': ${s}`),null)}}class I{constructor(e,s){this.clientId=e,this.onlineState=s}static Rs(e){const s=JSON.parse(e);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new I(s.clientId,s.onlineState):($t("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=vo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,s,a,h,_){this.window=e,this.ui=s,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qr(nn),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=zu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,i.A)(function*(){const s=yield e.syncEngine.Qi();for(const h of s){if(h===e.ps)continue;const _=e.getItem(zu(e.persistenceKey,h));if(_){const b=Bl.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let s=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(s=!0)}),s}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,s,a){this.qs(e,s,a),this.Qs(e)}addLocalQueryTarget(e,s=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Nd(this.persistenceKey,e));if(h){const _=ol.Rs(e,h);_&&(a=_.state)}}return s&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nd(this.persistenceKey,e))}updateQueryState(e,s,a){this.$s(e,s,a)}handleUserChange(e,s,a){s.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return ye("SharedClientState","READ",e,s),s}setItem(e,s){ye("SharedClientState","SET",e,s),this.storage.setItem(e,s)}removeItem(e){ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var s=this;const a=e;if(a.storageArea===this.storage){if(ye("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,i.A)(function*(){if(s.started){if(null!==a.key)if(s.Cs.test(a.key)){if(null==a.newValue){const h=s.Gs(a.key);return s.zs(h,null)}{const h=s.js(a.key,a.newValue);if(h)return s.zs(h.clientId,h)}}else if(s.Fs.test(a.key)){if(null!==a.newValue){const h=s.Hs(a.key,a.newValue);if(h)return s.Js(h)}}else if(s.Ms.test(a.key)){if(null!==a.newValue){const h=s.Ys(a.key,a.newValue);if(h)return s.Zs(h)}}else if(a.key===s.xs){if(null!==a.newValue){const h=s.Ls(a.newValue);if(h)return s.Bs(h)}}else if(a.key===s.vs){const h=function(b){let R=k.oe;if(null!=b)try{const L=JSON.parse(b);zt("number"==typeof L),R=L}catch(L){$t("SharedClientState","Failed to read sequence number from WebStorage",L)}return R}(a.newValue);h!==k.oe&&s.sequenceNumberHandler(h)}else if(a.key===s.Os){const h=s.Xs(a.newValue);yield Promise.all(h.map(_=>s.syncEngine.eo(_)))}}else s.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,s,a){const h=new sl(this.currentUser,e,s,a),_=$h(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const s=$h(this.persistenceKey,this.currentUser,e);this.removeItem(s)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,s,a){const h=Nd(this.persistenceKey,e),_=new ol(e,s,a);this.setItem(h,_.Vs())}Ws(e){const s=JSON.stringify(Array.from(e));this.setItem(this.Os,s)}Gs(e){const s=this.Cs.exec(e);return s?s[1]:null}js(e,s){const a=this.Gs(e);return Bl.Rs(a,s)}Hs(e,s){const a=this.Fs.exec(e),h=Number(a[1]);return sl.Rs(new at(void 0!==a[2]?a[2]:null),h,s)}Ys(e,s){const a=this.Ms.exec(e),h=Number(a[1]);return ol.Rs(h,s)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var s=this;return(0,i.A)(function*(){if(e.user.uid===s.currentUser.uid)return s.syncEngine.no(e.batchId,e.state,e.error);ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,s){const a=s?this.Ss.insert(e,s):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],R=[];return _.forEach(L=>{h.has(L)||b.push(L)}),h.forEach(L=>{_.has(L)||R.push(L)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let s=vo();return e.forEach((a,h)=>{s=s.unionWith(h.activeTargetIds)}),s}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,a){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,a){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,s,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class me{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tt=null;function Nt(){return null===tt?tt=268435456+Math.round(2147483648*Math.random()):tt++,"0x"+tt.toString(16)}const Zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const $n="WebChannelConnection";class ii extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+s.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(s,a,h,_,b){const R=Nt(),L=this.xo(s,a.toUriEncodedString());ye("RestConnection",`Sending RPC '${s}' ${R}:`,L,h);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,_,b),this.No(s,L,q,h).then(de=>(ye("RestConnection",`Received RPC '${s}' ${R}: `,de),de),de=>{throw qe("RestConnection",`RPC '${s}' ${R} failed with error: `,de,"url: ",L,"request:",h),de})}Lo(s,a,h,_,b,R){return this.Mo(s,a,h,_,b)}Oo(s,a,h){s["X-Goog-Api-Client"]="gl-js/ fire/"+rt,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>s[b]=_),h&&h.headers.forEach((_,b)=>s[b]=_)}xo(s,a){return`${this.Do}/v1/${a}:${Zt[s]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,a,h){const _=Nt();return new Promise((b,R)=>{const L=new _e;L.setWithCredentials(!0),L.listenOnce(Xe.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case We.NO_ERROR:const de=L.getResponseJson();ye($n,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(de)),b(de);break;case We.TIMEOUT:ye($n,`RPC '${e}' ${_} timed out`),R(new ct(ze.DEADLINE_EXCEEDED,"Request time out"));break;case We.HTTP_ERROR:const Ae=L.getStatus();if(ye($n,`RPC '${e}' ${_} failed with status:`,Ae,"response text:",L.getResponseText()),Ae>0){let Qe=L.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const St=Qe?.error;if(St&&St.status&&St.message){const Xt=function(an){const Jn=an.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(Jn)>=0?Jn:ze.UNKNOWN}(St.status);R(new ct(Xt,St.message))}else R(new ct(ze.UNKNOWN,"Server responded with status "+L.getStatus()))}else R(new ct(ze.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{ye($n,`RPC '${e}' ${_} completed.`)}});const q=JSON.stringify(h);ye($n,`RPC '${e}' ${_} sending request:`,h),L.send(s,"POST",q,a,15)})}Bo(e,s,a){const h=Nt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Se(),R=Pt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(L.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(L.useFetchStreams=!0),this.Oo(L.initMessageHeaders,s,a),L.encodeInitMessageHeaders=!0;const de=_.join("");ye($n,`Creating RPC '${e}' stream ${h}: ${de}`,L);const Ae=b.createWebChannel(de,L);let Qe=!1,St=!1;const Xt=new Vn({Io:an=>{St?ye($n,`Not sending because RPC '${e}' stream ${h} is closed:`,an):(Qe||(ye($n,`Opening RPC '${e}' stream ${h} transport.`),Ae.open(),Qe=!0),ye($n,`RPC '${e}' stream ${h} sending:`,an),Ae.send(an))},To:()=>Ae.close()}),mn=(an,Jn,fr)=>{an.listen(Jn,sr=>{try{fr(sr)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return mn(Ae,Ue.EventType.OPEN,()=>{St||(ye($n,`RPC '${e}' stream ${h} transport opened.`),Xt.yo())}),mn(Ae,Ue.EventType.CLOSE,()=>{St||(St=!0,ye($n,`RPC '${e}' stream ${h} transport closed`),Xt.So())}),mn(Ae,Ue.EventType.ERROR,an=>{St||(St=!0,qe($n,`RPC '${e}' stream ${h} transport errored:`,an),Xt.So(new ct(ze.UNAVAILABLE,"The operation could not be completed")))}),mn(Ae,Ue.EventType.MESSAGE,an=>{var Jn;if(!St){const fr=an.data[0];zt(!!fr);const Fr=fr.error||(null===(Jn=fr[0])||void 0===Jn?void 0:Jn.error);if(Fr){ye($n,`RPC '${e}' stream ${h} received error:`,Fr);const Fi=Fr.status;let ai=function(nt){const mt=Ar[nt];if(void 0!==mt)return ro(mt)}(Fi),pt=Fr.message;void 0===ai&&(ai=ze.INTERNAL,pt="Unknown error status: "+Fi+" with message "+Fr.message),St=!0,Xt.So(new ct(ai,pt)),Ae.close()}else ye($n,`RPC '${e}' stream ${h} received:`,fr),Xt.bo(fr)}}),mn(R,Be.STAT_EVENT,an=>{an.stat===ge.PROXY?ye($n,`RPC '${e}' stream ${h} detected buffering proxy`):an.stat===ge.NOPROXY&&ye($n,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Xt.wo()},0),Xt}}function Hs(){return typeof window<"u"?window:null}function ca(){return typeof document<"u"?document:null}function al(d){return new Ah(d,!0)}class Fd{constructor(e,s,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=s,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,s-a);h>0&&ye("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Wu{constructor(e,s,a,h,_,b,R,L){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=L,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fd(e,s)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,i.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,i.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,s){var a=this;return(0,i.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():s&&s.code===ze.RESOURCE_EXHAUSTED?($t(s.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):s&&s.code===ze.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(s)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===s&&this.P_(a,h)},a=>{e(()=>{const h=new ct(ze.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,s){const a=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,i.A)(function*(){e.state=0,e.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget(()=>this.Yo===e?s():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bh extends Wu{constructor(e,s,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,h,b),this.serializer=_}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=function ja(d,e){let s;if("targetChange"in e){const a="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Mt(),h=e.targetChange.targetIds||[],_=function(q,de){return q.useProto3Json?(zt(void 0===de||"string"==typeof de),Si.fromBase64String(de||"")):(zt(void 0===de||de instanceof Buffer||de instanceof Uint8Array),Si.fromUint8Array(de||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(q){const de=void 0===q.code?ze.UNKNOWN:ro(q.code);return new ct(de,q.message||"")}(b);s=new Ed(a,h,_,R||null)}else if("documentChange"in e){const a=e.documentChange,h=Ho(d,a.document.name),_=Ki(a.document.updateTime),b=a.document.createTime?Ki(a.document.createTime):qt.min(),R=new Ge({mapValue:{fields:a.document.fields}}),L=bt.newFoundDocument(h,_,b,R);s=new Zl(a.targetIds||[],a.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const a=e.documentDelete,h=Ho(d,a.document),_=a.readTime?Ki(a.readTime):qt.min(),b=bt.newNoDocument(h,_);s=new Zl([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Ho(d,a.document);s=new Zl([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Mt();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new _d(h,_);s=new vd(a.targetId,b)}}var q;return s}(this.serializer,e),a=function(_){if(!("targetChange"in _))return qt.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?qt.min():b.readTime?Ki(b.readTime):qt.min()}(e);return this.listener.d_(s,a)}A_(e){const s={};s.database=tc(this.serializer),s.addTarget=function(_,b){let R;const L=b.target;if(R=Pa(L)?{documents:co(_,L)}:{query:Ea(_,L)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=Nc(_,b.resumeToken);const q=Du(_,b.expectedCount);null!==q&&(R.expectedCount=q)}else if(b.snapshotVersion.compareTo(qt.min())>0){R.readTime=oa(_,b.snapshotVersion.toTimestamp());const q=Du(_,b.expectedCount);null!==q&&(R.expectedCount=q)}return R}(this.serializer,e);const a=function Td(d,e){const s=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==s?null:{"goog-listen-tags":s}}(0,e);a&&(s.labels=a),this.a_(s)}R_(e){const s={};s.database=tc(this.serializer),s.removeTarget=e,this.a_(s)}}class Xm extends Wu{constructor(e,s,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return zt(!!e.streamToken),this.lastStreamToken=e.streamToken,zt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=function Gs(d,e){return d&&d.length>0?(zt(void 0!==e),d.map(s=>function(h,_){let b=Ki(h.updateTime?h.updateTime:_);return b.isEqual(qt.min())&&(b=Ki(_)),new B(b,h.transformResults||[])}(s,e))):[]}(e.writeResults,e.commitTime),a=Ki(e.commitTime);return this.listener.g_(a,s)}p_(){const e={};e.database=tc(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map(a=>Il(this.serializer,a))};this.a_(s)}}class ip extends class{}{constructor(e,s,a,h){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Su(s,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new ct(ze.UNKNOWN,_.toString())})}Lo(e,s,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Su(s,a),h,b,R,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new ct(ze.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kd{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($t(s),this.D_=!1):ye("OnlineStateTracker",s)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Cg{constructor(e,s,a,h,_){var b=this;this.localStore=e,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(R=>{a.enqueueAndForget((0,i.A)(function*(){var L;Ca(b)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,i.A)(function*(de){const Ae=_t(de);Ae.L_.add(4),yield Gl(Ae),Ae.q_.set("Unknown"),Ae.L_.delete(4),yield Hc(Ae)}),function q(de){return L.apply(this,arguments)})(b))}))}),this.q_=new kd(a,h)}}function Hc(d){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,i.A)(function*(d){if(Ca(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Gl(d){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,i.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Hh(d,e){const s=_t(d);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),op(s)?sp(s):$d(s).r_()&&Vd(s,e))}function Xo(d,e){const s=_t(d),a=$d(s);s.N_.delete(e),a.r_()&&Ig(s,e),0===s.N_.size&&(a.r_()?a.o_():Ca(s)&&s.q_.set("Unknown"))}function Vd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const s=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}$d(d).A_(e)}function Ig(d,e){d.Q_.xe(e),$d(d).R_(e)}function sp(d){d.Q_=new wu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),$d(d).start(),d.q_.v_()}function op(d){return Ca(d)&&!$d(d).n_()&&d.N_.size>0}function Ca(d){return 0===_t(d).L_.size}function wg(d){d.Q_=void 0}function Qm(d){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,i.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function zh(d){return jd.apply(this,arguments)}function jd(){return(jd=(0,i.A)(function*(d){d.N_.forEach((e,s)=>{Vd(d,e)})})).apply(this,arguments)}function Jm(d,e){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,i.A)(function*(d,e){wg(d),op(d)?(d.q_.M_(e),sp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Zm(d,e,s){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,i.A)(function*(d,e,s){if(d.q_.set("Online"),e instanceof Ed&&2===e.state&&e.cause)try{yield(a=(0,i.A)(function*(_,b){const R=b.cause;for(const L of b.targetIds)_.N_.has(L)&&(yield _.remoteSyncer.rejectListen(L,R),_.N_.delete(L),_.Q_.removeTarget(L))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Ku(d,a)}else if(e instanceof Zl?d.Q_.Ke(e):e instanceof vd?d.Q_.He(e):d.Q_.We(e),!s.isEqual(qt.min()))try{const a=yield ju(d.localStore);s.compareTo(a)>=0&&(yield function(_,b){const R=_.Q_.rt(b);return R.targetChanges.forEach((L,q)=>{if(L.resumeToken.approximateByteSize()>0){const de=_.N_.get(q);de&&_.N_.set(q,de.withResumeToken(L.resumeToken,b))}}),R.targetMismatches.forEach((L,q)=>{const de=_.N_.get(L);if(!de)return;_.N_.set(L,de.withResumeToken(Si.EMPTY_BYTE_STRING,de.snapshotVersion)),Ig(_,L);const Ae=new F(de.target,L,q,de.sequenceNumber);Vd(_,Ae)}),_.remoteSyncer.applyRemoteEvent(R)}(d,s))}catch(a){ye("RemoteStore","Failed to raise snapshot:",a),yield Ku(d,a)}var a}),Hl.apply(this,arguments)}function Ku(d,e,s){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,i.A)(function*(d,e,s){if(!Pn(e))throw e;d.L_.add(1),yield Gl(d),d.q_.set("Offline"),s||(s=()=>ju(d.localStore)),d.asyncQueue.enqueueRetryable((0,i.A)(function*(){ye("RemoteStore","Retrying IndexedDB access"),yield s(),d.L_.delete(1),yield Hc(d)}))})).apply(this,arguments)}function e_(d,e){return e().catch(s=>Ku(d,s,e))}function qu(d){return ap.apply(this,arguments)}function ap(){return(ap=(0,i.A)(function*(d){const e=_t(d),s=Wc(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ag(e);)try{const h=yield np(e.localStore,a);if(null===h){0===e.O_.length&&s.o_();break}a=h.batchId,Ty(e,h)}catch(h){yield Ku(e,h)}Qo(e)&&lp(e)})).apply(this,arguments)}function Ag(d){return Ca(d)&&d.O_.length<10}function Ty(d,e){d.O_.push(e);const s=Wc(d);s.r_()&&s.V_&&s.m_(e.mutations)}function Qo(d){return Ca(d)&&!Wc(d).n_()&&d.O_.length>0}function lp(d){Wc(d).start()}function Dg(d){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,i.A)(function*(d){Wc(d).p_()})).apply(this,arguments)}function No(d){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,i.A)(function*(d){const e=Wc(d);for(const s of d.O_)e.m_(s.mutations)})).apply(this,arguments)}function t_(d,e,s){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,i.A)(function*(d,e,s){const a=d.O_.shift(),h=Go.from(a,e,s);yield e_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield qu(d)})).apply(this,arguments)}function zc(d,e){return cp.apply(this,arguments)}function cp(){return cp=(0,i.A)(function*(d,e){var s;e&&Wc(d).V_&&(yield(s=(0,i.A)(function*(h,_){if(vl(R=_.code)&&R!==ze.ABORTED){const b=h.O_.shift();Wc(h).s_(),yield e_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield qu(h)}var R}),function a(h,_){return s.apply(this,arguments)})(d,e)),Qo(d)&&lp(d)}),cp.apply(this,arguments)}function n_(d,e){return up.apply(this,arguments)}function up(){return(up=(0,i.A)(function*(d,e){const s=_t(d);s.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const a=Ca(s);s.L_.add(3),yield Gl(s),a&&s.q_.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),yield Hc(s)})).apply(this,arguments)}function Rg(d,e){return dp.apply(this,arguments)}function dp(){return(dp=(0,i.A)(function*(d,e){const s=_t(d);e?(s.L_.delete(2),yield Hc(s)):e||(s.L_.add(2),yield Gl(s),s.q_.set("Unknown"))})).apply(this,arguments)}function $d(d){return d.K_||(d.K_=function(s,a,h){const _=_t(s);return _.w_(),new Bh(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:Qm.bind(null,d),Ro:zh.bind(null,d),mo:Jm.bind(null,d),d_:Zm.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.K_.s_(),op(d)?sp(d):d.q_.set("Unknown")):(yield d.K_.stop(),wg(d))});return function(s){return e.apply(this,arguments)}}())),d.K_}function Wc(d){return d.U_||(d.U_=function(s,a,h){const _=_t(s);return _.w_(),new Xm(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Dg.bind(null,d),mo:zc.bind(null,d),f_:No.bind(null,d),g_:t_.bind(null,d)}),d.B_.push(function(){var e=(0,i.A)(function*(s){s?(d.U_.s_(),yield qu(d)):(yield d.U_.stop(),d.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(s){return e.apply(this,arguments)}}())),d.U_}class qh{constructor(e,s,a,h,_){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,h,_){const b=Date.now()+a,R=new qh(e,s,b,h,_);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(d,e){if($t("AsyncQueue",`${e}: ${d}`),Pn(d))return new ct(ze.UNAVAILABLE,`${e}: ${d}`);throw d}class Xu{constructor(e){this.comparator=e?(s,a)=>e(s,a)||Vt.comparator(s.key,a.key):(s,a)=>Vt.comparator(s.key,a.key),this.keyedMap=no(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,a)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Xu)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;s.hasNext();){const h=s.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,s){const a=new Xu;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=s,a}}class lc{constructor(){this.W_=new qr(Vt.comparator)}track(e){const s=e.doc.key,a=this.W_.get(s);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(s,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(s,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(s):1===e.type&&2===a.type?this.W_=this.W_.insert(s,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):Mt():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal((s,a)=>{e.push(a)}),e}}class cc{constructor(e,s,a,h,_,b,R,L,q){this.query=e,this.docs=s,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=L,this.hasCachedResults=q}static fromInitialDocuments(e,s,a,h,_){const b=[];return s.forEach(R=>{b.push({type:0,doc:R})}),new cc(e,s,Xu.emptySet(s),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,a=e.docChanges;if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++)if(s[h].type!==a[h].type||!s[h].doc.isEqual(a[h].doc))return!1;return!0}}class Cy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class r_{constructor(){this.queries=Bd(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(s,a){const h=_t(s),_=h.queries;h.queries=Bd(),_.forEach((b,R)=>{for(const L of R.j_)L.onError(a)})}(this,new ct(ze.ABORTED,"Firestore shutting down"))}}function Bd(){return new On(d=>$s(d),lo)}function qc(d,e){return uc.apply(this,arguments)}function uc(){return(uc=(0,i.A)(function*(d,e){const s=_t(d);let a=3;const h=e.query;let _=s.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new Cy,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield s.onListen(h,!0);break;case 1:_.z_=yield s.onListen(h,!1);break;case 2:yield s.onFirstRemoteStoreListen(h)}}catch(b){const R=Kc(b,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(R)}s.queries.set(h,_),_.j_.push(e),e.Z_(s.onlineState),_.z_&&e.X_(_.z_)&&xg(s)})).apply(this,arguments)}function si(d,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,i.A)(function*(d,e){const s=_t(d),a=e.query;let h=3;const _=s.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Pg(d,e){const s=_t(d);let a=!1;for(const h of e){const b=s.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&xg(s)}function Yh(d,e,s){const a=_t(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(s);a.queries.delete(e)}function xg(d){d.Y_.forEach(e=>{e.next()})}var Mg,i_;(i_=Mg||(Mg={})).ea="default",i_.Cache="cache";class Og{constructor(e,s,a){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new cc(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==s))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===s)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mg.Cache}}class Iy{constructor(e,s){this.aa=e,this.byteLength=s}ua(){return"metadata"in this.aa}}class s_{constructor(e){this.serializer=e}Es(e){return Ho(this.serializer,e)}ds(e){return e.metadata.exists?Cl(this.serializer,e.document,!1):bt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ki(e)}}class o_{constructor(e,s,a){this.ca=e,this.localStore=s,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xh(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++s;const a=en.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}ha(e){const s=new Map,a=new s_(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(s.get(b)||wr()).add(_);s.set(b,R)}}return s}complete(){var e=this;return(0,i.A)(function*(){const s=yield function Gu(d,e,s,a){return jh.apply(this,arguments)}(e.localStore,new s_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield rp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:s}})()}}function Xh(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class fp{constructor(e){this.key=e}}class pp{constructor(e){this.key=e}}class a_{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=wr(),this.mutatedKeys=wr(),this.Aa=Oi(e),this.Ra=new Xu(this.Aa)}get Va(){return this.Ta}ma(e,s){const a=s?s.fa:new lc,h=s?s.Ra:this.Ra;let _=s?s.mutatedKeys:this.mutatedKeys,b=h,R=!1;const L="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,q="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((de,Ae)=>{const Qe=h.get(de),St=to(this.query,Ae)?Ae:null,Xt=!!Qe&&this.mutatedKeys.has(Qe.key),mn=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let an=!1;Qe&&St?Qe.data.isEqual(St.data)?Xt!==mn&&(a.track({type:3,doc:St}),an=!0):this.ga(Qe,St)||(a.track({type:2,doc:St}),an=!0,(L&&this.Aa(St,L)>0||q&&this.Aa(St,q)<0)&&(R=!0)):!Qe&&St?(a.track({type:0,doc:St}),an=!0):Qe&&!St&&(a.track({type:1,doc:Qe}),an=!0,(L||q)&&(R=!0)),an&&(St?(b=b.add(St),_=mn?_.add(de):_.delete(de)):(b=b.delete(de),_=_.delete(de)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const de="F"===this.query.limitType?b.last():b.first();b=b.delete(de.key),_=_.delete(de.key),a.track({type:1,doc:de})}return{Ra:b,fa:a,ns:R,mutatedKeys:_}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((de,Ae)=>function(St,Xt){const mn=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return mn(St)-mn(Xt)}(de.type,Ae.type)||this.Aa(de.doc,Ae.doc)),this.pa(a),h=null!=h&&h;const R=s&&!h?this.ya():[],L=0===this.da.size&&this.current&&!h?1:0,q=L!==this.Ea;return this.Ea=L,0!==b.length||q?{snapshot:new cc(this.query,e.Ra,_,b,e.mutatedKeys,0===L,q,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(s=>this.Ta=this.Ta.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ta=this.Ta.delete(s)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=wr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const s=[];return e.forEach(a=>{this.da.has(a)||s.push(new pp(a))}),this.da.forEach(a=>{e.has(a)||s.push(new fp(a))}),s}ba(e){this.Ta=e.Ts,this.da=wr();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wy{constructor(e,s,a){this.query=e,this.targetId=s,this.view=a}}class Ng{constructor(e){this.key=e,this.va=!1}}class l_{constructor(e,s,a,h,_,b){this.localStore=e,this.remoteStore=s,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new On(R=>$s(R),lo),this.Ma=new Map,this.xa=new Set,this.Oa=new qr(Vt.comparator),this.Na=new Map,this.La=new ep,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Qu(d,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,i.A)(function*(d,e,s=!0){const a=Ip(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield Ay(a,e,s,!0),h})).apply(this,arguments)}function c_(d,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,i.A)(function*(d,e){const s=Ip(d);yield Ay(s,e,!0,!1)})).apply(this,arguments)}function Ay(d,e,s,a){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,i.A)(function*(d,e,s,a){const h=yield jl(d.localStore,vn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,s);let R;return a&&(R=yield kg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&s&&Hh(d.remoteStore,h),R})).apply(this,arguments)}function kg(d,e,s,a,h){return mp.apply(this,arguments)}function mp(){return mp=(0,i.A)(function*(d,e,s,a,h){d.Ka=(Ae,Qe,St)=>{return(Xt=(0,i.A)(function*(an,Jn,fr,sr){let Fr=Jn.view.ma(fr);Fr.ns&&(Fr=yield il(an.localStore,Jn.query,!1).then(({documents:He})=>Jn.view.ma(He,Fr)));const Fi=sr&&sr.targetChanges.get(Jn.targetId),ai=sr&&null!=sr.targetMismatches.get(Jn.targetId),pt=Jn.view.applyChanges(Fr,an.isPrimaryClient,Fi,ai);return Xc(an,Jn.targetId,pt.wa),pt.snapshot}),function mn(an,Jn,fr,sr){return Xt.apply(this,arguments)})(d,Ae,Qe,St);var Xt};const _=yield il(d.localStore,e,!0),b=new a_(e,_.Ts),R=b.ma(_.documents),L=La.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==d.onlineState,h),q=b.applyChanges(R,d.isPrimaryClient,L);Xc(d,s,q.wa);const de=new wy(e,s,b);return d.Fa.set(e,de),d.Ma.has(s)?d.Ma.get(s).push(e):d.Ma.set(s,[e]),q.snapshot}),mp.apply(this,arguments)}function u_(d,e,s){return _p.apply(this,arguments)}function _p(){return(_p=(0,i.A)(function*(d,e,s){const a=_t(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!lo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Gc(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),s&&Xo(a.remoteStore,h.targetId),dc(a,h.targetId)}).catch(Wn))):(dc(a,h.targetId),yield Gc(a.localStore,h.targetId,!0))})).apply(this,arguments)}function Lg(d,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,i.A)(function*(d,e){const s=_t(d),a=s.Fa.get(e),h=s.Ma.get(a.targetId);s.isPrimaryClient&&1===h.length&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),Xo(s.remoteStore,a.targetId))})).apply(this,arguments)}function Ju(){return(Ju=(0,i.A)(function*(d,e,s){const a=nf(d);try{const h=yield function(b,R){const L=_t(b),q=Jt.now(),de=R.reduce((St,Xt)=>St.add(Xt.key),wr());let Ae,Qe;return L.persistence.runTransaction("Locally write mutations","readwrite",St=>{let Xt=ys(),mn=wr();return L.cs.getEntries(St,de).next(an=>{Xt=an,Xt.forEach((Jn,fr)=>{fr.isValidDocument()||(mn=mn.add(Jn))})}).next(()=>L.localDocuments.getOverlayedDocuments(St,Xt)).next(an=>{Ae=an;const Jn=[];for(const fr of R){const sr=_i(fr,Ae.get(fr.key).overlayedDocument);null!=sr&&Jn.push(new Hr(fr.key,sr,lt(sr.value.mapValue),X.exists(!0)))}return L.mutationQueue.addMutationBatch(St,q,Jn,R)}).next(an=>{Qe=an;const Jn=an.applyToLocalDocumentSet(Ae,mn);return L.documentOverlayCache.saveOverlays(St,an.batchId,Jn)})}).then(()=>({batchId:Qe.batchId,changes:_a(Ae)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,L){let q=b.Ba[b.currentUser.toKey()];q||(q=new qr(nn)),q=q.insert(R,L),b.Ba[b.currentUser.toKey()]=q}(a,h.batchId,s),yield hc(a,h.changes),yield qu(a.remoteStore)}catch(h){const _=Kc(h,"Failed to persist write");s.reject(_)}})).apply(this,arguments)}function Vg(d,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,i.A)(function*(d,e){const s=_t(d);try{const a=yield function $u(d,e){const s=_t(d),a=e.snapshotVersion;let h=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=s.cs.newChangeBuffer({trackRemovals:!0});h=s.os;const R=[];e.targetChanges.forEach((de,Ae)=>{const Qe=h.get(Ae);if(!Qe)return;R.push(s.Ur.removeMatchingKeys(_,de.removedDocuments,Ae).next(()=>s.Ur.addMatchingKeys(_,de.addedDocuments,Ae)));let St=Qe.withSequenceNumber(_.currentSequenceNumber);var mn,an,Jn;null!==e.targetMismatches.get(Ae)?St=St.withResumeToken(Si.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):de.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(de.resumeToken,a)),h=h.insert(Ae,St),an=St,Jn=de,(0===(mn=Qe).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&R.push(s.Ur.updateTargetData(_,St))});let L=ys(),q=wr();if(e.documentUpdates.forEach(de=>{e.resolvedLimboDocuments.has(de)&&R.push(s.persistence.referenceDelegate.updateLimboDocument(_,de))}),R.push(Bu(_,b,e.documentUpdates).next(de=>{L=de.Ps,q=de.Is})),!a.isEqual(qt.min())){const de=s.Ur.getLastRemoteSnapshotVersion(_).next(Ae=>s.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));R.push(de)}return ht.waitFor(R).next(()=>b.apply(_)).next(()=>s.localDocuments.getLocalViewOfDocuments(_,L,q)).next(()=>L)}).then(_=>(s.os=h,_))}(s.localStore,e);e.targetChanges.forEach((h,_)=>{const b=s.Na.get(_);b&&(zt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?zt(b.va):h.removedDocuments.size>0&&(zt(b.va),b.va=!1))}),yield hc(s,a,e)}catch(a){yield Wn(a)}})).apply(this,arguments)}function Yc(d,e,s){const a=_t(d);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const h=[];a.Fa.forEach((_,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const L=_t(b);L.onlineState=R;let q=!1;L.queries.forEach((de,Ae)=>{for(const Qe of Ae.j_)Qe.Z_(R)&&(q=!0)}),q&&xg(L)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function d_(d,e,s){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,i.A)(function*(d,e,s){const a=_t(d);a.sharedClientState.updateQueryState(e,"rejected",s);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new qr(Vt.comparator);b=b.insert(_,bt.newNoDocument(_,qt.min()));const R=wr().add(_),L=new Ds(qt.min(),new Map,new qr(nn),b,R);yield Vg(a,L),a.Oa=a.Oa.remove(_),a.Na.delete(e),Bg(a)}else yield Gc(a.localStore,e,!1).then(()=>dc(a,e,s)).catch(Wn)})).apply(this,arguments)}function Zh(d,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,i.A)(function*(d,e){const s=_t(d),a=e.batch.batchId;try{const h=yield function Lh(d,e){const s=_t(d);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=s.cs.newChangeBuffer({trackRemovals:!0});return function(R,L,q,de){const Ae=q.batch,Qe=Ae.keys();let St=ht.resolve();return Qe.forEach(Xt=>{St=St.next(()=>de.getEntry(L,Xt)).next(mn=>{const an=q.docVersions.get(Xt);zt(null!==an),mn.version.compareTo(an)<0&&(Ae.applyToRemoteDocument(mn,q),mn.isValidDocument()&&(mn.setReadTime(q.commitVersion),de.addEntry(mn)))})}),St.next(()=>R.mutationQueue.removeMutationBatch(L,Ae))}(s,a,e,_).next(()=>_.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let L=wr();for(let q=0;q<R.mutationResults.length;++q)R.mutationResults[q].transformResults.length>0&&(L=L.add(R.batch.mutations[q].key));return L}(e))).next(()=>s.localDocuments.getDocuments(a,h))})}(s.localStore,e);bp(s,a,null),Ep(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield hc(s,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function h_(d,e,s){return jg.apply(this,arguments)}function jg(){return(jg=(0,i.A)(function*(d,e,s){const a=_t(d);try{const h=yield function(b,R){const L=_t(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let de;return L.mutationQueue.lookupMutationBatch(q,R).next(Ae=>(zt(null!==Ae),de=Ae.keys(),L.mutationQueue.removeMutationBatch(q,Ae))).next(()=>L.mutationQueue.performConsistencyCheck(q)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(q,de,R)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,de)).next(()=>L.localDocuments.getDocuments(q,de))})}(a.localStore,e);bp(a,e,s),Ep(a,e),a.sharedClientState.updateMutationState(e,"rejected",s),yield hc(a,h)}catch(h){yield Wn(h)}})).apply(this,arguments)}function $g(){return($g=(0,i.A)(function*(d,e){const s=_t(d);Ca(s.remoteStore)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=_t(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>R.mutationQueue.getHighestUnacknowledgedBatchId(L))}(s.localStore);if(-1===a)return void e.resolve();const h=s.ka.get(a)||[];h.push(e),s.ka.set(a,h)}catch(a){const h=Kc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Ep(d,e){(d.ka.get(e)||[]).forEach(s=>{s.resolve()}),d.ka.delete(e)}function bp(d,e,s){const a=_t(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(s?_.reject(s):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function dc(d,e,s=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),s&&d.Ca.$a(a,s);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||ef(d,a)})}function ef(d,e){d.xa.delete(e.path.canonicalString());const s=d.Oa.get(e);null!==s&&(Xo(d.remoteStore,s),d.Oa=d.Oa.remove(e),d.Na.delete(s),Bg(d))}function Xc(d,e,s){for(const a of s)a instanceof fp?(d.La.addReference(a.key,e),f_(d,a)):a instanceof pp?(ye("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||ef(d,a.key)):Mt()}function f_(d,e){const s=e.key,a=s.path.canonicalString();d.Oa.get(s)||d.xa.has(a)||(ye("SyncEngine","New document in limbo: "+s),d.xa.add(a),Bg(d))}function Bg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const s=new Vt(en.fromString(e)),a=d.qa.next();d.Na.set(a,new Ng(s)),d.Oa=d.Oa.insert(s,a),Hh(d.remoteStore,new F(vn(te(s.path)),a,"TargetPurposeLimboResolution",k.oe))}}function hc(d,e,s){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,i.A)(function*(d,e,s){const a=_t(d),h=[],_=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,L)=>{b.push(a.Ka(L,e,s).then(q=>{var de;if((q||s)&&a.isPrimaryClient){const Ae=q?!q.fromCache:null===(de=s?.targetChanges.get(L.targetId))||void 0===de?void 0:de.current;a.sharedClientState.updateQueryState(L.targetId,Ae?"current":"not-current")}if(q){h.push(q);const Ae=tp.Wi(L.targetId,q);_.push(Ae)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,i.A)(function*(q,de){const Ae=_t(q);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Qe=>ht.forEach(de,St=>ht.forEach(St.$i,Xt=>Ae.persistence.referenceDelegate.addReference(Qe,St.targetId,Xt)).next(()=>ht.forEach(St.Ui,Xt=>Ae.persistence.referenceDelegate.removeReference(Qe,St.targetId,Xt)))))}catch(Qe){if(!Pn(Qe))throw Qe;ye("LocalStore","Failed to update sequence numbers: "+Qe)}for(const Qe of de){const St=Qe.targetId;if(!Qe.fromCache){const Xt=Ae.os.get(St),an=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);Ae.os=Ae.os.insert(St,an)}}}),function L(q,de){return R.apply(this,arguments)})(a.localStore,_))}),Gg.apply(this,arguments)}function Hg(d,e){return zg.apply(this,arguments)}function zg(){return(zg=(0,i.A)(function*(d,e){const s=_t(d);if(!s.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const a=yield la(s.localStore,e);s.currentUser=e,(_=s).ka.forEach(R=>{R.forEach(L=>{L.reject(new ct(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),s.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield hc(s,a.hs)}var _})).apply(this,arguments)}function Zu(d,e){const s=_t(d),a=s.Na.get(e);if(a&&a.va)return wr().add(a.key);{let h=wr();const _=s.Ma.get(e);if(!_)return h;for(const b of _){const R=s.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function Tp(d,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,i.A)(function*(d,e){const s=_t(d),a=yield il(s.localStore,e.query,!0),h=e.view.ba(a);return s.isPrimaryClient&&Xc(s,e.targetId,h.wa),h})).apply(this,arguments)}function p_(d,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,i.A)(function*(d,e){const s=_t(d);return $l(s.localStore,e).then(a=>hc(s,a))})).apply(this,arguments)}function g_(d,e,s,a){return fc.apply(this,arguments)}function fc(){return(fc=(0,i.A)(function*(d,e,s,a){const h=_t(d),_=yield function(R,L){const q=_t(R),de=_t(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>de.Mn(Ae,L).next(Qe=>Qe?q.localDocuments.getDocuments(Ae,Qe):ht.resolve(null)))}(h.localStore,e);var L;null!==_?("pending"===s?yield qu(h.remoteStore):"acknowledged"===s||"rejected"===s?(bp(h,e,a||null),Ep(h,e),L=e,_t(_t(h.localStore).mutationQueue).On(L)):Mt(),yield hc(h,_)):ye("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Wg(){return(Wg=(0,i.A)(function*(d,e){const s=_t(d);if(Ip(s),nf(s),!0===e&&!0!==s.Qa){const a=s.sharedClientState.getAllActiveQueryTargets(),h=yield m_(s,a.toArray());s.Qa=!0,yield Rg(s.remoteStore,!0);for(const _ of h)Hh(s.remoteStore,_)}else if(!1===e&&!1!==s.Qa){const a=[];let h=Promise.resolve();s.Ma.forEach((_,b)=>{s.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(dc(s,b),Gc(s.localStore,b,!0))),Xo(s.remoteStore,b)}),yield h,yield m_(s,a),function(b){const R=_t(b);R.Na.forEach((L,q)=>{Xo(R.remoteStore,q)}),R.La.pr(),R.Na=new Map,R.Oa=new qr(Vt.comparator)}(s),s.Qa=!1,yield Rg(s.remoteStore,!1)}})).apply(this,arguments)}function m_(d,e,s){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,i.A)(function*(d,e,s){const a=_t(d),h=[],_=[];for(const b of e){let R;const L=a.Ma.get(b);if(L&&0!==L.length){R=yield jl(a.localStore,vn(L[0]));for(const q of L){const de=a.Fa.get(q),Ae=yield Tp(a,de);Ae.snapshot&&_.push(Ae.snapshot)}}else{const q=yield Vh(a.localStore,b);R=yield jl(a.localStore,q),yield kg(a,__(q),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(_),h})).apply(this,arguments)}function __(d){return K(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Qc(d){return s=_t(d).localStore,_t(_t(s).persistence).Qi();var s}function Hd(d,e,s,a){return qg.apply(this,arguments)}function qg(){return(qg=(0,i.A)(function*(d,e,s,a){const h=_t(d);if(h.Qa)return void ye("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(s){case"current":case"not-current":{const b=yield $l(h.localStore,xc(_[0])),R=Ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===s,Si.EMPTY_BYTE_STRING);yield hc(h,b,R);break}case"rejected":yield Gc(h.localStore,e,!0),dc(h,e,a);break;default:Mt()}})).apply(this,arguments)}function Ry(d,e,s){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,i.A)(function*(d,e,s){const a=Ip(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){ye("SyncEngine","Adding an already active target "+h);continue}const _=yield Vh(a.localStore,h),b=yield jl(a.localStore,_);yield kg(a,__(_),b.targetId,!1,b.resumeToken),Hh(a.remoteStore,b)}for(const h of s)a.Ma.has(h)&&(yield Gc(a.localStore,h,!1).then(()=>{Xo(a.remoteStore,h),dc(a,h)}).catch(Wn))}})).apply(this,arguments)}function Ip(d){const e=_t(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d_.bind(null,e),e.Ca.d_=Pg.bind(null,e.eventManager),e.Ca.$a=Yh.bind(null,e.eventManager),e}function nf(d){const e=_t(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h_.bind(null,e),e}let ed=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(s){var a=this;return(0,i.A)(function*(){a.serializer=al(s.databaseInfo.databaseId),a.sharedClientState=a.Wa(s),a.persistence=a.Ga(s),yield a.persistence.start(),a.localStore=a.za(s),a.gcScheduler=a.ja(s,a.localStore),a.indexBackfillerScheduler=a.Ha(s,a.localStore)})()}ja(s,a){return null}Ha(s,a){return null}za(s){return xd(this.persistence,new Tg,s.initialUser,this.serializer)}Ga(s){return new Ba(Uu.Zr,this.serializer)}Wa(s){return new S}terminate(){var s=this;return(0,i.A)(function*(){var a,h;null===(a=s.gcScheduler)||void 0===a||a.stop(),null===(h=s.indexBackfillerScheduler)||void 0===h||h.stop(),s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Xg extends ed{constructor(e,s,a){super(),this.Ja=e,this.cacheSizeBytes=s,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e),yield a.Ja.initialize(a,e),yield nf(a.Ja.syncEngine),yield qu(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return xd(this.persistence,new Tg,e.initialUser,this.serializer)}ja(e,s){return new Nl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,s)}Ha(e,s){const a=new x(s,this.persistence);return new G(e.asyncQueue,a)}Ga(e){const s=Pd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new Rd(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,Hs(),ca(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class y_ extends Xg{constructor(e,s){super(e,s,!1),this.Ja=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}initialize(e){var s=()=>super.initialize,a=this;return(0,i.A)(function*(){yield s().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:g_.bind(null,h),ro:Hd.bind(null,h),io:Ry.bind(null,h),Qi:Qc.bind(null,h),eo:p_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,i.A)(function*(b){yield function Sy(d,e){return Wg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const s=Hs();if(!v.D(s))throw new ct(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Pd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(s,e.asyncQueue,a,e.clientId,e.initialUser)}}let zd=(()=>{class d{initialize(s,a){var h=this;return(0,i.A)(function*(){h.localStore||(h.localStore=s.localStore,h.sharedClientState=s.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!s.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>Yc(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Hg.bind(null,h.syncEngine),yield Rg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(s){return new r_}createDatastore(s){const a=al(s.databaseInfo.databaseId),h=new ii(s.databaseInfo);return new ip(s.authCredentials,s.appCheckCredentials,h,a)}createRemoteStore(s){return h=this.localStore,_=this.datastore,b=s.asyncQueue,R=a=>Yc(this.syncEngine,a,0),L=me.D()?new me:new Q,new Cg(h,_,b,R,L);var h,_,b,R,L}createSyncEngine(s,a){return function(_,b,R,L,q,de,Ae){const Qe=new l_(_,b,R,L,q,de);return Ae&&(Qe.Qa=!0),Qe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,a)}terminate(){var s=this;return(0,i.A)(function*(){var a,h,_;yield(_=(0,i.A)(function*(R){const L=_t(R);ye("RemoteStore","RemoteStore shutting down."),L.L_.add(5),yield Gl(L),L.k_.shutdown(),L.q_.set("Unknown")}),function b(R){return _.apply(this,arguments)})(s.remoteStore),null===(a=s.datastore)||void 0===a||a.terminate(),null===(h=s.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function rf(d,e=10240){let s=0;return{read:()=>(0,i.A)(function*(){if(s<d.byteLength){const a={value:d.slice(s,s+e),done:!1};return s+=e,a}return{done:!0}})(),cancel:()=>(0,i.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ha{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout(()=>{this.muted||e(s)},0)}}class sf{constructor(e,s){this.Xa=e,this.serializer=s,this.metadata=new ut,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,i.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,i.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,i.A)(function*(){const s=yield e.nu();if(null===s)return null;const a=e.eu.decode(s),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new Iy(JSON.parse(_),s.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,i.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const s=e.su();s<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,s);return e.buffer=e.buffer.slice(s),a})()}iu(e){var s=this;return(0,i.A)(function*(){for(;s.buffer.length<e;)(yield s.ou())&&s.ru("Reached the end of bundle when more is expected.");const a=s.eu.decode(s.buffer.slice(0,e));return s.buffer=s.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,i.A)(function*(){const s=yield e.Xa.read();if(!s.done){const a=new Uint8Array(e.buffer.length+s.value.length);a.set(e.buffer),a.set(s.value,e.buffer.length),e.buffer=a}return s.done})()}}class v_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var s=this;return(0,i.A)(function*(){if(s.ensureCommitNotCalled(),s.mutations.length>0)throw s.lastTransactionError=new ct(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),s.lastTransactionError;const a=yield(h=(0,i.A)(function*(b,R){const L=_t(b),q={documents:R.map(St=>Lr(L.serializer,St))},de=yield L.Lo("BatchGetDocuments",L.serializer.databaseId,en.emptyPath(),q,R.length),Ae=new Map;de.forEach(St=>{const Xt=function bd(d,e){return"found"in e?function(a,h){zt(!!h.found);const _=Ho(a,h.found.name),b=Ki(h.found.updateTime),R=h.found.createTime?Ki(h.found.createTime):qt.min(),L=new Ge({mapValue:{fields:h.found.fields}});return bt.newFoundDocument(_,b,R,L)}(d,e):"missing"in e?function(a,h){zt(!!h.missing),zt(!!h.readTime);const _=Ho(a,h.missing),b=Ki(h.readTime);return bt.newNoDocument(_,b)}(d,e):Mt()}(L.serializer,St);Ae.set(Xt.key.toString(),Xt)});const Qe=[];return R.forEach(St=>{const Xt=Ae.get(St.toString());zt(!!Xt),Qe.push(Xt)}),Qe}),function _(b,R){return h.apply(this,arguments)})(s.datastore,e);var h;return a.forEach(h=>s.recordVersion(h)),a})()}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,i.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const s=e.readVersions;var a;e.mutations.forEach(a=>{s.delete(a.key.toString())}),s.forEach((a,h)=>{const _=Vt.fromPath(h);e.mutations.push(new ia(_,e.precondition(_)))}),yield(a=(0,i.A)(function*(_,b){const R=_t(_),L={writes:b.map(q=>Il(R.serializer,q))};yield R.Mo("Commit",R.serializer.databaseId,en.emptyPath(),L)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Mt();s=qt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!s.isEqual(a))throw new ct(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(qt.min())?X.exists(!1):X.updateTime(s):X.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(qt.min()))throw new ct(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(s)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E_{constructor(e,s,a,h,_){this.asyncQueue=e,this.datastore=s,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new Fd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,i.A)(function*(){const s=new v_(e.datastore),a=e.cu(s);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>s.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const s=this.updateFunction(e);return!$(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const s=e.code;return"aborted"===s||"failed-precondition"===s||"already-exists"===s||!vl(s)}return!1}}class b_{constructor(e,s,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=h,this.user=at.UNAUTHENTICATED,this.clientId=kn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var R=(0,i.A)(function*(L){ye("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(ye("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const s=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),s.resolve()}catch(a){const h=Kc(a,"Failed to shutdown persistence");s.reject(h)}})),s.promise}}function T_(d,e){return af.apply(this,arguments)}function af(){return af=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const s=d.configuration;yield e.initialize(s);let a=s.initialUser;d.setCredentialChangeListener(function(){var h=(0,i.A)(function*(_){a.isEqual(_)||(yield la(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),af.apply(this,arguments)}function Wd(d,e){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,i.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const s=yield Zc(d);ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(s,d.configuration),d.setCredentialChangeListener(a=>n_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>n_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Zc(d){return lf.apply(this,arguments)}function lf(){return(lf=(0,i.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===ze.FAILED_PRECONDITION||h.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;qe("Error using user provided cache. Falling back to memory cache: "+e),yield T_(d,new ed)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield T_(d,new ed);var h;return d._offlineComponents})).apply(this,arguments)}function Kd(d){return wp.apply(this,arguments)}function wp(){return(wp=(0,i.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wd(d,d._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield Wd(d,new zd))),d._onlineComponents})).apply(this,arguments)}function C_(d){return Zc(d).then(e=>e.persistence)}function td(d){return Zc(d).then(e=>e.localStore)}function I_(d){return Kd(d).then(e=>e.remoteStore)}function Qg(d){return Kd(d).then(e=>e.syncEngine)}function pc(d){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,i.A)(function*(d){const e=yield Kd(d),s=e.eventManager;return s.onListen=Qu.bind(null,e.syncEngine),s.onUnlisten=u_.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=c_.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=Lg.bind(null,e.syncEngine),s})).apply(this,arguments)}function em(d,e,s={}){const a=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(_,b,R,L,q){const de=new Ha({next:Qe=>{de.Za(),b.enqueueAndForget(()=>si(_,Ae));const St=Qe.docs.has(R);!St&&Qe.fromCache?q.reject(new ct(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&Qe.fromCache&&L&&"server"===L.source?q.reject(new ct(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(Qe)},error:Qe=>q.reject(Qe)}),Ae=new Og(te(R.path),de,{includeMetadataChanges:!0,_a:!0});return qc(_,Ae)}(yield pc(d),d.asyncQueue,e,s,a)})),a.promise}function Dp(d,e,s={}){const a=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function(_,b,R,L,q){const de=new Ha({next:Qe=>{de.Za(),b.enqueueAndForget(()=>si(_,Ae)),Qe.fromCache&&"server"===L.source?q.reject(new ct(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(Qe)},error:Qe=>q.reject(Qe)}),Ae=new Og(R,de,{includeMetadataChanges:!0,_a:!0});return qc(_,Ae)}(yield pc(d),d.asyncQueue,e,s,a)})),a.promise}function D_(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const Ia=new Map;function Is(d,e,s){if(!s)throw new ct(ze.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function eu(d,e,s,a){if(!0===e&&!0===a)throw new ct(ze.INVALID_ARGUMENT,`${d} and ${s} cannot be used together.`)}function cf(d){if(!Vt.isDocumentKey(d))throw new ct(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function tm(d){if(Vt.isDocumentKey(d))throw new ct(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function qd(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Mt()}function oi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new ct(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=qd(d);throw new ct(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return d}function nm(d,e){if(e<=0)throw new ct(ze.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class rm{constructor(e){var s,a;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(s=e.ssl)||void 0===s||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=D_(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tu{constructor(e,s,a,h){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new ee;switch(a.type){case"firstParty":return new it(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,i.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=Ia.get(s);a&&(ye("ComponentProvider","Removing Datastore"),Ia.delete(s),a.terminate())}(this),Promise.resolve()}}function Vy(d,e,s,a={}){var h;const _=(d=oi(d,tu))._getSettings(),b=`${e}:${s}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&qe("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let R,L;if("string"==typeof a.mockUserToken)R=a.mockUserToken,L=at.MOCK_USER;else{R=(0,le.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const q=a.mockUserToken.sub||a.mockUserToken.user_id;if(!q)throw new ct(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new at(q)}d._authCredentials=new be(new Oe(R,L))}}class io{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class zs{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zs(this.firestore,e,this._key)}}class ll extends io{constructor(e,s,a){super(e,s,te(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zs(this.firestore,null,new Vt(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function Uy(d,e,...s){if(d=(0,le.Ku)(d),Is("collection","path",e),d instanceof tu){const a=en.fromString(e,...s);return tm(a),new ll(d,null,a)}{if(!(d instanceof zs||d instanceof ll))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(en.fromString(e,...s));return tm(a),new ll(d.firestore,null,a)}}function S_(d,e){if(d=oi(d,tu),Is("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ct(ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(d,null,(a=e,new Ro(en.emptyPath(),a)));var a}function rd(d,e,...s){if(d=(0,le.Ku)(d),1===arguments.length&&(e=kn.newId()),Is("doc","path",e),d instanceof tu){const a=en.fromString(e,...s);return cf(a),new zs(d,null,new Vt(a))}{if(!(d instanceof zs||d instanceof ll))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(en.fromString(e,...s));return cf(a),new zs(d.firestore,d instanceof ll?d.converter:null,new Vt(a))}}function Vv(d,e){return d=(0,le.Ku)(d),e=(0,le.Ku)(e),(d instanceof zs||d instanceof ll)&&(e instanceof zs||e instanceof ll)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Sp(d,e){return d=(0,le.Ku)(d),e=(0,le.Ku)(e),d instanceof io&&e instanceof io&&d.firestore===e.firestore&&lo(d._query,e._query)&&d.converter===e.converter}class Rp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Fd(this,"async_queue_retry"),this.Vu=()=>{const a=ca();a&&ye("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const s=ca();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=ca();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,i.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(s){if(!Pn(s))throw s;ye("AsyncQueue","Operation failed with retryable error: "+s)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const s=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,$t("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=s,s}enqueueAfterDelay(e,s,a){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const h=qh.createAndSchedule(this,e,s,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Mt()}verifyOperationInProgress(){}wu(){var e=this;return(0,i.A)(function*(){let s;do{s=e.mu,yield s}while(s!==e.mu)})()}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),"all"!==e&&s.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}function R_(d){return function(s,a){if("object"!=typeof s||null===s)return!1;const h=s;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class P_{constructor(){this._progressObserver={},this._taskCompletionResolver=new ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,a){this._progressObserver={next:e,error:s,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const im=-1;class wi extends tu{constructor(e,s,a,h){super(e,s,a,h),this.type="firestore",this._queue=new Rp,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,i.A)(function*(){if(e._firestoreClient){const s=e._firestoreClient.terminate();e._queue=new Rp(s),e._firestoreClient=void 0,yield s}})()}}function uf(d,e){const s="object"==typeof d?d:(0,ae.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ae._getProvider)(s,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,le.yU)("firestore");_&&Vy(h,..._)}return h}function ls(d){if(d._terminated)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||jy(d),d._firestoreClient}function jy(d){var e,s,a;const h=d._freezeSettings(),_=(L=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Mr(d._databaseId,L,d._persistenceKey,(de=h).host,de.ssl,de.experimentalForceLongPolling,de.experimentalAutoDetectLongPolling,D_(de.experimentalLongPollingOptions),de.useFetchStreams));var L,de;d._componentsProvider||!(null===(s=h.localCache)||void 0===s)&&s._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new b_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(R){const L=R?._online.build();return{_offline:R?._offline.build(L),_online:L}}(d._componentsProvider))}function Pp(d,e){qe("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=d._freezeSettings();return $y(d,zd.provider,{build:a=>new Xg(a,s.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function Xd(d){return sm.apply(this,arguments)}function sm(){return(sm=(0,i.A)(function*(d){qe("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();$y(d,zd.provider,{build:s=>new y_(s,e.cacheSizeBytes)})})).apply(this,arguments)}function $y(d,e,s){if((d=oi(d,wi))._firestoreClient||d._terminated)throw new ct(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new ct(ze.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:s},jy(d)}function Uv(d){if(d._initialized&&!d._terminated)throw new ct(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ut;return d._queue.enqueueAndForgetEvenWhileRestricted((0,i.A)(function*(){try{yield(s=(0,i.A)(function*(h){if(!he.D())return Promise.resolve();const _=h+"main";yield he.delete(_)}),function a(h){return s.apply(this,arguments)})(Pd(d._databaseId,d._persistenceKey)),e.resolve()}catch(s){e.reject(s)}var s})),e.promise}function om(d){return function(s){const a=new ut;return s.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function Dy(d,e){return $g.apply(this,arguments)}(yield Qg(s),a)})),a.promise}(ls(d=oi(d,wi)))}function By(d){return function Zg(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield C_(d),s=yield I_(d);return e.setNetworkEnabled(!0),function(h){const _=_t(h);return _.L_.delete(0),Hc(_)}(s)}))}(ls(d=oi(d,wi)))}function jv(d){return function My(d){return d.asyncQueue.enqueue((0,i.A)(function*(){const e=yield C_(d),s=yield I_(d);return e.setNetworkEnabled(!1),(a=(0,i.A)(function*(_){const b=_t(_);b.L_.add(0),yield Gl(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(s);var a}))}(ls(d=oi(d,wi)))}function x_(d,e){const s=ls(d=oi(d,wi)),a=new P_;return function Fy(d,e,s,a){const h=function(b,R){let L;return L="string"==typeof b?yd().encode(b):b,de=function(de,Ae){if(de instanceof Uint8Array)return rf(de,void 0);if(de instanceof ArrayBuffer)return rf(new Uint8Array(de),void 0);if(de instanceof ReadableStream)return de.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new sf(de,R);var de}(s,al(e));d.asyncQueue.enqueueAndForget((0,i.A)(function*(){!function Py(d,e,s){const a=_t(d);var h;(h=(0,i.A)(function*(b,R,L){try{const q=yield R.getMetadata();if(yield function(Xt,mn){const an=_t(Xt),Jn=Ki(mn.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",fr=>an.Gr.getBundleMetadata(fr,mn.id)).then(fr=>!!fr&&fr.createTime.compareTo(Jn)>=0)}(b.localStore,q))return yield R.close(),L._completeWith({taskState:"Success",documentsLoaded:(Xt=q).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);L._updateProgress(Xh(q));const de=new o_(q,b.localStore,R.serializer);let Ae=yield R.Ua();for(;Ae;){const St=yield de.la(Ae);St&&L._updateProgress(St),Ae=yield R.Ua()}const Qe=yield de.complete();return yield hc(b,Qe.Ia,void 0),yield function(Xt,mn){const an=_t(Xt);return an.persistence.runTransaction("Save bundle","readwrite",Jn=>an.Gr.saveBundleMetadata(Jn,mn))}(b.localStore,q),L._completeWith(Qe.progress),Promise.resolve(Qe.Pa)}catch(q){return qe("SyncEngine",`Loading bundle failed with ${q}`),L._failWith(q),Promise.resolve(new Set)}var Xt}),function _(b,R,L){return h.apply(this,arguments)})(a,e,s).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Qg(d),h,a)}))}(s,d._databaseId,e,a),a}function ZE(d,e){return function ky(d,e){return d.asyncQueue.enqueue((0,i.A)(function*(){return function(a,h){const _=_t(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield td(d),e)}))}(ls(d=oi(d,wi)),e).then(s=>s?new io(d,null,s.query):null)}class id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new id(Si.fromBase64String(e))}catch(s){throw new ct(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new id(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let s=0;s<e.length;++s)if(0===e[s].length)throw new ct(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._methodName=e}}class am{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ct(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ct(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}class df{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const M_=/^__.*__$/;class hf{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return null!==this.fieldMask?new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms):new dr(e,this.data,s,this.fieldTransforms)}}class lm{constructor(e,s,a){this.data=e,this.fieldMask=s,this.fieldTransforms=a}toMutation(e,s){return new Hr(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function cm(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class sd{constructor(e,s,a,h,_,b){this.settings=e,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(s=>e.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>e.isPrefixOf(s.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(cm(this.Cu)&&M_.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class um{constructor(e,s,a){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=a||al(e)}Qu(e,s,a,h=!1){return new sd({Cu:e,methodName:s,qu:a,path:Un.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(d){const e=d._freezeSettings(),s=al(d._databaseId);return new um(d._databaseId,!!e.ignoreUndefinedProperties,s)}function ff(d,e,s,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,s,h);k_("Data must be an object, but it was:",b,a);const R=F_(a,b);let L,q;if(_.merge)L=new Jr(b.fieldMask),q=b.fieldTransforms;else if(_.mergeFields){const de=[];for(const Ae of _.mergeFields){const Qe=hm(e,Ae,s);if(!b.contains(Qe))throw new ct(ze.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);Wy(de,Qe)||de.push(Qe)}L=new Jr(de),q=b.fieldTransforms.filter(Ae=>L.covers(Ae.field))}else L=null,q=b.fieldTransforms;return new hf(new Ge(R),L,q)}class Jd extends gc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function Mp(d,e,s){return new sd({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gy extends gc{_toFieldTransform(e){return new P(e.path,new yl)}isEqual(e){return e instanceof Gy}}class Op extends gc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=Mp(this,e,!0),a=this.Ku.map(_=>nu(_,s)),h=new Bo(a);return new P(e.path,h)}isEqual(e){return e instanceof Op&&(0,le.bD)(this.Ku,e.Ku)}}class Zd extends gc{constructor(e,s){super(e),this.Ku=s}_toFieldTransform(e){const s=Mp(this,e,!0),a=this.Ku.map(_=>nu(_,s)),h=new ka(a);return new P(e.path,h)}isEqual(e){return e instanceof Zd&&(0,le.bD)(this.Ku,e.Ku)}}class O_ extends gc{constructor(e,s){super(e),this.$u=s}_toFieldTransform(e){const s=new Ya(e.serializer,bu(e.serializer,this.$u));return new P(e.path,s)}isEqual(e){return e instanceof O_&&this.$u===e.$u}}function dm(d,e,s,a){const h=d.Qu(1,e,s);k_("Data must be an object, but it was:",h,a);const _=[],b=Ge.empty();Qr(a,(L,q)=>{const de=eh(e,L,s);q=(0,le.Ku)(q);const Ae=h.Nu(de);if(q instanceof Jd)_.push(de);else{const Qe=nu(q,Ae);null!=Qe&&(_.push(de),b.set(de,Qe))}});const R=new Jr(_);return new lm(b,R,h.fieldTransforms)}function N_(d,e,s,a,h,_){const b=d.Qu(1,e,s),R=[hm(e,a,s)],L=[h];if(_.length%2!=0)throw new ct(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<_.length;Qe+=2)R.push(hm(e,_[Qe])),L.push(_[Qe+1]);const q=[],de=Ge.empty();for(let Qe=R.length-1;Qe>=0;--Qe)if(!Wy(q,R[Qe])){const St=R[Qe];let Xt=L[Qe];Xt=(0,le.Ku)(Xt);const mn=b.Nu(St);if(Xt instanceof Jd)q.push(St);else{const an=nu(Xt,mn);null!=an&&(q.push(St),de.set(St,an))}}const Ae=new Jr(q);return new lm(de,Ae,b.fieldTransforms)}function Hy(d,e,s,a=!1){return nu(s,d.Qu(a?4:3,e))}function nu(d,e){if(zy(d=(0,le.Ku)(d)))return k_("Unsupported field value:",e,d),F_(d,e);if(d instanceof gc)return function(a,h){if(!cm(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const R of a){let L=nu(R,h.Lu(b));null==L&&(L={nullValue:"NULL_VALUE"}),_.push(L),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,le.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return bu(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=Jt.fromDate(a);return{timestampValue:oa(h.serializer,_)}}if(a instanceof Jt){const _=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oa(h.serializer,_)}}if(a instanceof am)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof id)return{bytesValue:Nc(h.serializer,a._byteString)};if(a instanceof zs){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:ec(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof df)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(L=>{if("number"!=typeof L)throw R.Bu("VectorValues must only contain numeric values.");return $o(R.serializer,L)})}}}}};var R;throw h.Bu(`Unsupported field value: ${qd(a)}`)}(d,e)}function F_(d,e){const s={};return ds(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(d,(a,h)=>{const _=nu(h,e.Mu(a));null!=_&&(s[a]=_)}),{mapValue:{fields:s}}}function zy(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Jt||d instanceof am||d instanceof id||d instanceof zs||d instanceof gc||d instanceof df)}function k_(d,e,s){if(!zy(s)||"object"!=typeof(h=s)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=qd(s);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function hm(d,e,s){if((e=(0,le.Ku)(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return eh(d,e);throw pf("Field path arguments must be of type string or ",d,!1,void 0,s)}const Gv=new RegExp("[~\\*/\\[\\]]");function eh(d,e,s){if(e.search(Gv)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,s);try{return new Qd(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,s)}}function pf(d,e,s,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;s&&(R+=" (via `toFirestore()`)"),R+=". ";let L="";return(_||b)&&(L+=" (found",_&&(L+=` in field ${a}`),b&&(L+=` in document ${h}`),L+=")"),new ct(ze.INVALID_ARGUMENT,R+d+L)}function Wy(d,e){return d.some(s=>s.isEqual(e))}class gf{constructor(e,s,a,h,_){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s)}}}class L_ extends gf{data(){return super.data()}}function th(d,e){return"string"==typeof e?eh(d,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function Ky(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new ct(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class Np extends fm{}function qy(d,e,...s){let a=[];e instanceof fm&&a.push(e),a=a.concat(s),function(_){const b=_.filter(L=>L instanceof mc).length,R=_.filter(L=>L instanceof pm).length;if(b>1||b>0&&R>0)throw new ct(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class pm extends Np{constructor(e,s,a){super(),this._field=e,this._op=s,this._value=a,this.type="where"}static _create(e,s,a){return new pm(e,s,a)}_apply(e){const s=this._parse(e);return mm(e._query,s),new io(e.firestore,e.converter,Qt(e._query,s))}_parse(e){const s=cl(e.firestore);return function(_,b,R,L,q,de,Ae){let Qe;if(q.isKeyField()){if("array-contains"===de||"array-contains-any"===de)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${de}' queries on documentId().`);if("in"===de||"not-in"===de){$_(Ae,de);const St=[];for(const Xt of Ae)St.push(j_(L,_,Xt));Qe={arrayValue:{values:St}}}else Qe=j_(L,_,Ae)}else"in"!==de&&"not-in"!==de&&"array-contains-any"!==de||$_(Ae,de),Qe=Hy(R,"where",Ae,"in"===de||"not-in"===de);return Yn.create(q,de,Qe)}(e._query,0,s,e.firestore._databaseId,this._field,this._op,this._value)}}function Hv(d,e,s){const a=e,h=th("where",d);return pm._create(h,a,s)}class mc extends fm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new mc(e,s)}_parse(e){const s=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===s.length?s[0]:ur.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return 0===s.getFilters().length?e:(function(h,_){let b=h;const R=_.getFlattenedFilters();for(const L of R)mm(b,L),b=Qt(b,L)}(e._query,s),new io(e.firestore,e.converter,Qt(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nh extends Np{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new nh(e,s)}_apply(e){const s=function(h,_,b){if(null!==h.startAt)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rr(_,b)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Ro(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,s))}}function zv(d,e="asc"){const s=e,a=th("orderBy",d);return nh._create(a,s)}class kp extends Np{constructor(e,s,a){super(),this.type=e,this._limit=s,this._limitType=a}static _create(e,s,a){return new kp(e,s,a)}_apply(e){return new io(e.firestore,e.converter,rs(e._query,this._limit,this._limitType))}}function Wv(d){return nm("limit",d),kp._create("limit",d,"F")}function Kv(d){return nm("limitToLast",d),kp._create("limitToLast",d,"L")}class gm extends Np{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new gm(e,s,a)}_apply(e){const s=mf(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(_=s,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function V_(...d){return gm._create("startAt",d,!0)}function Lp(...d){return gm._create("startAfter",d,!1)}class od extends Np{constructor(e,s,a){super(),this.type=e,this._docOrFields=s,this._inclusive=a}static _create(e,s,a){return new od(e,s,a)}_apply(e){const s=mf(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(_=s,new Ro((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function qv(...d){return od._create("endBefore",d,!1)}function U_(...d){return od._create("endAt",d,!0)}function mf(d,e,s,a){if(s[0]=(0,le.Ku)(s[0]),s[0]instanceof gf)return function(_,b,R,L,q){if(!L)throw new ct(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const de=[];for(const Ae of Ke(_))if(Ae.field.isKeyField())de.push(Er(b,L.key));else{const Qe=L.data.field(Ae.field);if(xs(Qe))throw new ct(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Qe){const St=Ae.field.canonicalString();throw new ct(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}de.push(Qe)}return new on(de,q)}(d._query,d.firestore._databaseId,e,s[0]._document,a);{const h=cl(d.firestore);return function(b,R,L,q,de,Ae){const Qe=b.explicitOrderBy;if(de.length>Qe.length)throw new ct(ze.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let Xt=0;Xt<de.length;Xt++){const mn=de[Xt];if(Qe[Xt].field.isKeyField()){if("string"!=typeof mn)throw new ct(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof mn}`);if(!pe(b)&&-1!==mn.indexOf("/"))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${mn}' contains a slash.`);const an=b.path.child(en.fromString(mn));if(!Vt.isDocumentKey(an))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${an}' is not because it contains an odd number of segments.`);const Jn=new Vt(an);St.push(Er(R,Jn))}else{const an=Hy(L,q,mn);St.push(an)}}return new on(St,Ae)}(d._query,d.firestore._databaseId,h,e,s,a)}}function j_(d,e,s){if("string"==typeof(s=(0,le.Ku)(s))){if(""===s)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pe(e)&&-1!==s.indexOf("/"))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=e.path.child(en.fromString(s));if(!Vt.isDocumentKey(a))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Er(d,new Vt(a))}if(s instanceof zs)return Er(d,s._key);throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(s)}.`)}function $_(d,e){if(!Array.isArray(d)||0===d.length)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mm(d,e){const s=function(h,_){for(const b of h)for(const R of b.getFlattenedFilters())if(_.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==s)throw new ct(ze.INVALID_ARGUMENT,s===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class Vp{convertValue(e,s="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const a={};return Qr(e,(h,_)=>{a[h]=this.convertValue(_,s)}),a}convertVectorValue(e){var s,a,h;const _=null===(h=null===(a=null===(s=e.fields)||void 0===s?void 0:s.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>ti(b.doubleValue));return new df(_)}convertGeoPoint(e){return new am(ti(e.latitude),ti(e.longitude))}convertArray(e,s){return(e.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(e,s){switch(s){case"previous":const a=_o(e);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const s=Ys(e);return new Jt(s.seconds,s.nanos)}convertDocumentKey(e,s){const a=en.fromString(e);zt(w(a));const h=new fi(a.get(1),a.get(3)),_=new Vt(a.popFirst(5));return h.isEqual(s)||$t(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),_}}function Up(d,e,s){let a;return a=d?s&&(s.merge||s.mergeFields)?d.toFirestore(e,s):d.toFirestore(e):e,a}class Yv extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new zs(this.firestore,null,s)}}class _f{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends gf{constructor(e,s,a,h,_,b){super(e,s,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class ul extends ru{data(e={}){return super.data(e)}}class yc{constructor(e,s,a,h){this._firestore=e,this._userDataWriter=s,this._snapshot=h,this.metadata=new _f(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,s){this._snapshot.docs.forEach(a=>{e.call(s,new ul(this._firestore,this._userDataWriter,a.key,a,new _f(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ct(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new _f(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>_||3!==R.type).map(R=>{const L=new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new _f(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,de=-1;return 0!==R.type&&(q=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),de=b.indexOf(R.doc.key)),{type:Jv(R.type),doc:L,oldIndex:q,newIndex:de}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function Jv(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function Zv(d,e){return d instanceof ru&&e instanceof ru?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof yc&&e instanceof yc&&d._firestore===e._firestore&&Sp(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function eE(d){d=oi(d,zs);const e=oi(d.firestore,wi);return em(ls(e),d._key).then(s=>z_(e,d,s))}class vc extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new zs(this.firestore,null,s)}}function Ec(d){d=oi(d,zs);const e=oi(d.firestore,wi),s=ls(e),a=new vc(e);return function nd(d,e){const s=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(_,b,R){try{const L=yield function(de,Ae){const Qe=_t(de);return Qe.persistence.runTransaction("read document","readonly",St=>Qe.localDocuments.getDocument(St,Ae))}(_,b);L.isFoundDocument()?R.resolve(L):L.isNoDocument()?R.resolve(null):R.reject(new ct(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const q=Kc(L,`Failed to get document '${b} from cache`);R.reject(q)}}),function h(_,b,R){return a.apply(this,arguments)})(yield td(d),e,s);var a})),s.promise}(s,d._key).then(h=>new ru(e,a,d._key,h,new _f(null!==h&&h.hasLocalMutations,!0),d.converter))}function Xy(d){d=oi(d,zs);const e=oi(d.firestore,wi);return em(ls(e),d._key,{source:"server"}).then(s=>z_(e,d,s))}function tE(d){d=oi(d,io);const e=oi(d.firestore,wi),s=ls(e),a=new vc(e);return Ky(d._query),Dp(s,d._query).then(h=>new yc(e,a,d,h))}function t0(d){d=oi(d,io);const e=oi(d.firestore,wi),s=ls(e),a=new vc(e);return function Oy(d,e){const s=new ut;return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return(a=(0,i.A)(function*(_,b,R){try{const L=yield il(_,b,!0),q=new a_(b,L.Ts),de=q.ma(L.documents),Ae=q.applyChanges(de,!1);R.resolve(Ae.snapshot)}catch(L){const q=Kc(L,`Failed to execute query '${b} against cache`);R.reject(q)}}),function h(_,b,R){return a.apply(this,arguments)})(yield td(d),e,s);var a})),s.promise}(s,d._query).then(h=>new yc(e,a,d,h))}function Io(d){d=oi(d,io);const e=oi(d.firestore,wi),s=ls(e),a=new vc(e);return Dp(s,d._query,{source:"server"}).then(h=>new yc(e,a,d,h))}function nE(d,e,s){d=oi(d,zs);const a=oi(d.firestore,wi),h=Up(d.converter,e,s);return rh(a,[ff(cl(a),"setDoc",d._key,h,null!==d.converter,s).toMutation(d._key,X.none())])}function G_(d,e,s,...a){d=oi(d,zs);const h=oi(d.firestore,wi),_=cl(h);let b;return b="string"==typeof(e=(0,le.Ku)(e))||e instanceof Qd?N_(_,"updateDoc",d._key,e,s,a):dm(_,"updateDoc",d._key,e),rh(h,[b.toMutation(d._key,X.exists(!0))])}function rE(d){return rh(oi(d.firestore,wi),[new Fs(d._key,X.none())])}function iE(d,e){const s=oi(d.firestore,wi),a=rd(d),h=Up(d.converter,e);return rh(s,[ff(cl(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,X.exists(!1))]).then(()=>a)}function H_(d,...e){var s,a,h;d=(0,le.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||R_(e[b])||(_=e[b],b++);const R={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(R_(e[b])){const Ae=e[b];e[b]=null===(s=Ae.next)||void 0===s?void 0:s.bind(Ae),e[b+1]=null===(a=Ae.error)||void 0===a?void 0:a.bind(Ae),e[b+2]=null===(h=Ae.complete)||void 0===h?void 0:h.bind(Ae)}let L,q,de;if(d instanceof zs)q=oi(d.firestore,wi),de=te(d._key.path),L={next:Ae=>{e[b]&&e[b](z_(q,d,Ae))},error:e[b+1],complete:e[b+2]};else{const Ae=oi(d,io);q=oi(Ae.firestore,wi),de=Ae._query;const Qe=new vc(q);L={next:St=>{e[b]&&e[b](new yc(q,Qe,Ae,St))},error:e[b+1],complete:e[b+2]},Ky(d._query)}return function(Qe,St,Xt,mn){const an=new Ha(mn),Jn=new Og(St,an,Xt);return Qe.asyncQueue.enqueueAndForget((0,i.A)(function*(){return qc(yield pc(Qe),Jn)})),()=>{an.Za(),Qe.asyncQueue.enqueueAndForget((0,i.A)(function*(){return si(yield pc(Qe),Jn)}))}}(ls(q),de,R,L)}function Qy(d,e){return function Ny(d,e){const s=new Ha(e);return d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield pc(d),_=s,_t(h).Y_.add(_),void _.next();var h,_})),()=>{s.Za(),d.asyncQueue.enqueueAndForget((0,i.A)(function*(){return h=yield pc(d),_=s,void _t(h).Y_.delete(_);var h,_}))}}(ls(d=oi(d,wi)),R_(e)?e:{next:e})}function rh(d,e){return function(a,h){const _=new ut;return a.asyncQueue.enqueueAndForget((0,i.A)(function*(){return function vp(d,e,s){return Ju.apply(this,arguments)}(yield Qg(a),h,_)})),_.promise}(ls(d),e)}function z_(d,e,s){const a=s.docs.get(e._key),h=new vc(d);return new ru(d,h,e._key,a,new _f(s.hasPendingWrites,s.fromCache),e.converter)}const Bp={maxAttempts:5};class Gp{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,s,a){this._verifyNotCommitted();const h=iu(e,this._firestore),_=Up(h.converter,s,a),b=ff(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,X.none())),this}update(e,s,a,...h){this._verifyNotCommitted();const _=iu(e,this._firestore);let b;return b="string"==typeof(s=(0,le.Ku)(s))||s instanceof Qd?N_(this._dataReader,"WriteBatch.update",_._key,s,a,h):dm(this._dataReader,"WriteBatch.update",_._key,s),this._mutations.push(b.toMutation(_._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=iu(e,this._firestore);return this._mutations=this._mutations.concat(new Fs(s._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iu(d,e){if((d=(0,le.Ku)(d)).firestore!==e)throw new ct(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class W_ extends class{constructor(s,a){this._firestore=s,this._transaction=a,this._dataReader=cl(s)}get(s){const a=iu(s,this._firestore),h=new Yv(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return Mt();const b=_[0];if(b.isFoundDocument())return new gf(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new gf(this._firestore,h,a._key,null,a.converter);throw Mt()})}set(s,a,h){const _=iu(s,this._firestore),b=Up(_.converter,a,h),R=ff(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,R),this}update(s,a,h,..._){const b=iu(s,this._firestore);let R;return R="string"==typeof(a=(0,le.Ku)(a))||a instanceof Qd?N_(this._dataReader,"Transaction.update",b._key,a,h,_):dm(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(s){const a=iu(s,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=iu(e,this._firestore),a=new vc(this._firestore);return super.get(e).then(h=>new ru(this._firestore,a,s._key,h._document,new _f(!1,!1),s.converter))}}function cE(d,e,s){d=oi(d,wi);const a=Object.assign(Object.assign({},Bp),s);return function(_){if(_.maxAttempts<1)throw new ct(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,R){const L=new ut;return _.asyncQueue.enqueueAndForget((0,i.A)(function*(){const q=yield function Jg(d){return Kd(d).then(e=>e.datastore)}(_);new E_(_.asyncQueue,q,R,b,L).au()})),L.promise}(ls(d),h=>e(new W_(d,h)),a)}function uE(){return new Jd("deleteField")}function dE(){return new Gy("serverTimestamp")}function hE(...d){return new Op("arrayUnion",d)}function iv(...d){return new Zd("arrayRemove",d)}function r0(d){return new O_("increment",d)}!function(e,s=!0){rt=ae.SDK_VERSION,(0,ae._registerComponent)(new r.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),R=new wi(new Le(a.getProvider("auth-internal")),new Rn(a.getProvider("app-check-internal")),function(q,de){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new ct(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fi(q.options.projectId,de)}(b,h),b);return _=Object.assign({useFetchStreams:s},_),R._setSettings(_),R},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(we,"4.7.3",e),(0,ae.registerVersion)(we,"4.7.3","esm2017")}()},4535:(sn,Je,O)=>{O.d(Je,{Ad:()=>_n,D5:()=>Tn,KR:()=>Bi,Mp:()=>Xs,Mx:()=>Kr,TZ:()=>Yt,UC:()=>Qr,UY:()=>wn,XR:()=>fs,ZH:()=>In,_w:()=>Er,bp:()=>bs,c7:()=>ui,nb:()=>ps,nw:()=>Cn,p_:()=>cr,qk:()=>os,uj:()=>$t,xc:()=>Kn,yb:()=>ci});var i=O(467),ae=O(7852),r=O(1076),Ie=O(1362);const le="firebasestorage.googleapis.com",Ce="storageBucket";class W extends r.g{constructor(Z,Pe,Ge=0){super(_e(Z),`Firebase Storage: ${Pe} (${_e(Z)})`),this.status_=Ge,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,W.prototype)}get status(){return this.status_}set status(Z){this.status_=Z}_codeEquals(Z){return _e(Z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Z){this.customData.serverResponse=Z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var J=function(re){return re.UNKNOWN="unknown",re.OBJECT_NOT_FOUND="object-not-found",re.BUCKET_NOT_FOUND="bucket-not-found",re.PROJECT_NOT_FOUND="project-not-found",re.QUOTA_EXCEEDED="quota-exceeded",re.UNAUTHENTICATED="unauthenticated",re.UNAUTHORIZED="unauthorized",re.UNAUTHORIZED_APP="unauthorized-app",re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",re.INVALID_CHECKSUM="invalid-checksum",re.CANCELED="canceled",re.INVALID_EVENT_NAME="invalid-event-name",re.INVALID_URL="invalid-url",re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",re.NO_DEFAULT_BUCKET="no-default-bucket",re.CANNOT_SLICE_BLOB="cannot-slice-blob",re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",re.NO_DOWNLOAD_URL="no-download-url",re.INVALID_ARGUMENT="invalid-argument",re.INVALID_ARGUMENT_COUNT="invalid-argument-count",re.APP_DELETED="app-deleted",re.INVALID_ROOT_OPERATION="invalid-root-operation",re.INVALID_FORMAT="invalid-format",re.INTERNAL_ERROR="internal-error",re.UNSUPPORTED_ENVIRONMENT="unsupported-environment",re}(J||{});function _e(re){return"storage/"+re}function Fe(){return new W(J.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pt(){return new W(J.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Se(){return new W(J.CANCELED,"User canceled the upload/download.")}function ft(){return new W(J.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $t(re){return new W(J.INVALID_ARGUMENT,re)}function qe(){return new W(J.APP_DELETED,"The Firebase app was deleted.")}function wn(re){return new W(J.INVALID_ROOT_OPERATION,"The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mt(re,Z){return new W(J.INVALID_FORMAT,"String does not match format '"+re+"': "+Z)}function zt(re){throw new W(J.INTERNAL_ERROR,"Internal error: "+re)}class Yt{constructor(Z,Pe){this.bucket=Z,this.path_=Pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Z=encodeURIComponent;return"/b/"+Z(this.bucket)+"/o/"+Z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Z,Pe){let Ge;try{Ge=Yt.makeFromUrl(Z,Pe)}catch{return new Yt(Z,"")}if(""===Ge.path)return Ge;throw function at(re){return new W(J.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+re+"'.")}(Z)}static makeFromUrl(Z,Pe){let Ge=null;const lt="([A-Za-z0-9.\\-_]+)",Nn=new RegExp("^gs://"+lt+"(/(.*))?$","i");function rr(Ri){Ri.path_=decodeURIComponent(Ri.path)}const qn=Pe.replace(/[.]/g,"\\."),Nr=[{regex:Nn,indices:{bucket:1,path:3},postModify:function bt(Ri){"/"===Ri.path.charAt(Ri.path.length-1)&&(Ri.path_=Ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qn}/v[A-Za-z0-9_]+/b/${lt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:rr},{regex:new RegExp(`^https?://${Pe===le?"(?:storage.googleapis.com|storage.cloud.google.com)":Pe}/${lt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:rr}];for(let Ri=0;Ri<Nr.length;Ri++){const Ei=Nr[Ri],Yr=Ei.regex.exec(Z);if(Yr){let ms=Yr[Ei.indices.path];ms||(ms=""),Ge=new Yt(Yr[Ei.indices.bucket],ms),Ei.postModify(Ge);break}}if(null==Ge)throw function we(re){return new W(J.INVALID_URL,"Invalid URL '"+re+"'.")}(Z);return Ge}}class _t{constructor(Z){this.promise_=Promise.reject(Z)}getPromise(){return this.promise_}cancel(Z=!1){}}function be(re){return"string"==typeof re||re instanceof String}function Le(re){return dt()&&re instanceof Blob}function dt(){return typeof Blob<"u"}function it(re,Z,Pe,Ge){if(Ge<Z)throw $t(`Invalid value for '${re}'. Expected ${Z} or greater.`);if(Ge>Pe)throw $t(`Invalid value for '${re}'. Expected ${Pe} or less.`)}function Bt(re,Z,Pe){let Ge=Z;return null==Pe&&(Ge=`https://${Z}`),`${Pe}://${Ge}/v0${re}`}function Rn(re){const Z=encodeURIComponent;let Pe="?";for(const Ge in re)re.hasOwnProperty(Ge)&&(Pe=Pe+(Z(Ge)+"=")+Z(re[Ge])+"&");return Pe=Pe.slice(0,-1),Pe}var lr=function(re){return re[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",re}(lr||{});function un(re,Z){const Pe=re>=500&&re<600,lt=-1!==[408,429].indexOf(re),bt=-1!==Z.indexOf(re);return Pe||lt||bt}class kn{constructor(Z,Pe,Ge,lt,bt,on,Nn,An,rr,Or,qn,Yn=!0){this.url_=Z,this.method_=Pe,this.headers_=Ge,this.body_=lt,this.successCodes_=bt,this.additionalRetryCodes_=on,this.callback_=Nn,this.errorCallback_=An,this.timeout_=rr,this.progressCallback_=Or,this.connectionFactory_=qn,this.retry=Yn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ur,mi)=>{this.resolve_=ur,this.reject_=mi,this.start_()})}start_(){const Pe=(Ge,lt)=>{const bt=this.resolve_,on=this.reject_,Nn=lt.connection;if(lt.wasSuccessCode)try{const An=this.callback_(Nn,Nn.getResponse());!function ut(re){return void 0!==re}(An)?bt():bt(An)}catch(An){on(An)}else if(null!==Nn){const An=Fe();An.serverResponse=Nn.getErrorText(),on(this.errorCallback_?this.errorCallback_(Nn,An):An)}else on(lt.canceled?this.appDelete_?qe():Se():Pt())};this.canceled_?Pe(0,new nn(!1,null,!0)):this.backoffId_=function ze(re,Z,Pe){let Ge=1,lt=null,bt=null,on=!1,Nn=0;function An(){return 2===Nn}let rr=!1;function Or(...ni){rr||(rr=!0,Z.apply(null,ni))}function qn(ni){lt=setTimeout(()=>{lt=null,re(ur,An())},ni)}function Yn(){bt&&clearTimeout(bt)}function ur(ni,...ji){if(rr)return void Yn();if(ni)return Yn(),void Or.call(null,ni,...ji);if(An()||on)return Yn(),void Or.call(null,ni,...ji);let Nr;Ge<64&&(Ge*=2),1===Nn?(Nn=2,Nr=0):Nr=1e3*(Ge+Math.random()),qn(Nr)}let mi=!1;function kr(ni){mi||(mi=!0,Yn(),!rr&&(null!==lt?(ni||(Nn=2),clearTimeout(lt),qn(0)):ni||(Nn=1)))}return qn(0),bt=setTimeout(()=>{on=!0,kr(!0)},Pe),kr}((Ge,lt)=>{if(lt)return void Ge(!1,new nn(!1,null,!0));const bt=this.connectionFactory_();this.pendingConnection_=bt;const on=Nn=>{null!==this.progressCallback_&&this.progressCallback_(Nn.loaded,Nn.lengthComputable?Nn.total:-1)};null!==this.progressCallback_&&bt.addUploadProgressListener(on),bt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&bt.removeUploadProgressListener(on),this.pendingConnection_=null;const Nn=bt.getErrorCode()===lr.NO_ERROR,An=bt.getStatus();if(!Nn||un(An,this.additionalRetryCodes_)&&this.retry){const Or=bt.getErrorCode()===lr.ABORT;return void Ge(!1,new nn(!1,null,Or))}const rr=-1!==this.successCodes_.indexOf(An);Ge(!0,new nn(rr,bt))})},Pe,this.timeout_)}getPromise(){return this.promise_}cancel(Z){this.canceled_=!0,this.appDelete_=Z||!1,null!==this.backoffId_&&function ct(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nn{constructor(Z,Pe,Ge){this.wasSuccessCode=Z,this.connection=Pe,this.canceled=!!Ge}}function or(...re){const Z=function en(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Z){const Pe=new Z;for(let Ge=0;Ge<re.length;Ge++)Pe.append(re[Ge]);return Pe.getBlob()}if(dt())return new Blob(re);throw new W(J.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Cn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jn{constructor(Z,Pe){this.data=Z,this.contentType=Pe||null}}function In(re,Z){switch(re){case Cn.RAW:return new jn(Rr(Z));case Cn.BASE64:case Cn.BASE64URL:return new jn(Ur(re,Z));case Cn.DATA_URL:return new jn(function Wr(re){const Z=new zn(re);return Z.base64?Ur(Cn.BASE64,Z.rest):function Dr(re){let Z;try{Z=decodeURIComponent(re)}catch{throw Mt(Cn.DATA_URL,"Malformed data URL.")}return Rr(Z)}(Z.rest)}(Z),function es(re){return new zn(re).contentType}(Z))}throw Fe()}function Rr(re){const Z=[];for(let Pe=0;Pe<re.length;Pe++){let Ge=re.charCodeAt(Pe);Ge<=127?Z.push(Ge):Ge<=2047?Z.push(192|Ge>>6,128|63&Ge):55296==(64512&Ge)?Pe<re.length-1&&56320==(64512&re.charCodeAt(Pe+1))?(Ge=65536|(1023&Ge)<<10|1023&re.charCodeAt(++Pe),Z.push(240|Ge>>18,128|Ge>>12&63,128|Ge>>6&63,128|63&Ge)):Z.push(239,191,189):56320==(64512&Ge)?Z.push(239,191,189):Z.push(224|Ge>>12,128|Ge>>6&63,128|63&Ge)}return new Uint8Array(Z)}function Ur(re,Z){switch(re){case Cn.BASE64:{const lt=-1!==Z.indexOf("-"),bt=-1!==Z.indexOf("_");if(lt||bt)throw Mt(re,"Invalid character '"+(lt?"-":"_")+"' found: is it base64url encoded?");break}case Cn.BASE64URL:{const lt=-1!==Z.indexOf("+"),bt=-1!==Z.indexOf("/");if(lt||bt)throw Mt(re,"Invalid character '"+(lt?"+":"/")+"' found: is it base64 encoded?");Z=Z.replace(/-/g,"+").replace(/_/g,"/");break}}let Pe;try{Pe=function Vt(re){if(typeof atob>"u")throw function ye(re){return new W(J.UNSUPPORTED_ENVIRONMENT,`${re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(re)}(Z)}catch(lt){throw lt.message.includes("polyfill")?lt:Mt(re,"Invalid character found")}const Ge=new Uint8Array(Pe.length);for(let lt=0;lt<Pe.length;lt++)Ge[lt]=Pe.charCodeAt(lt);return Ge}class zn{constructor(Z){this.base64=!1,this.contentType=null;const Pe=Z.match(/^data:([^,]+)?,/);if(null===Pe)throw Mt(Cn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ge=Pe[1]||null;null!=Ge&&(this.base64=function fn(re,Z){return re.length>=Z.length&&re.substring(re.length-Z.length)===Z}(Ge,";base64"),this.contentType=this.base64?Ge.substring(0,Ge.length-7):Ge),this.rest=Z.substring(Z.indexOf(",")+1)}}class Kr{constructor(Z,Pe){let Ge=0,lt="";Le(Z)?(this.data_=Z,Ge=Z.size,lt=Z.type):Z instanceof ArrayBuffer?(Pe?this.data_=new Uint8Array(Z):(this.data_=new Uint8Array(Z.byteLength),this.data_.set(new Uint8Array(Z))),Ge=this.data_.length):Z instanceof Uint8Array&&(Pe?this.data_=Z:(this.data_=new Uint8Array(Z.length),this.data_.set(Z)),Ge=Z.length),this.size_=Ge,this.type_=lt}size(){return this.size_}type(){return this.type_}slice(Z,Pe){if(Le(this.data_)){const lt=function Un(re,Z,Pe){return re.webkitSlice?re.webkitSlice(Z,Pe):re.mozSlice?re.mozSlice(Z,Pe):re.slice?re.slice(Z,Pe):null}(this.data_,Z,Pe);return null===lt?null:new Kr(lt)}{const Ge=new Uint8Array(this.data_.buffer,Z,Pe-Z);return new Kr(Ge,!0)}}static getBlob(...Z){if(dt()){const Pe=Z.map(Ge=>Ge instanceof Kr?Ge.data_:Ge);return new Kr(or.apply(null,Pe))}{const Pe=Z.map(on=>be(on)?In(Cn.RAW,on).data:on.data_);let Ge=0;Pe.forEach(on=>{Ge+=on.byteLength});const lt=new Uint8Array(Ge);let bt=0;return Pe.forEach(on=>{for(let Nn=0;Nn<on.length;Nn++)lt[bt++]=on[Nn]}),new Kr(lt,!0)}}uploadData(){return this.data_}}function tr(re){let Z;try{Z=JSON.parse(re)}catch{return null}return function ee(re){return"object"==typeof re&&!Array.isArray(re)}(Z)?Z:null}function Ti(re){const Z=re.lastIndexOf("/",re.length-2);return-1===Z?re:re.slice(Z+1)}function ht(re,Z){return Z}class yt{constructor(Z,Pe,Ge,lt){this.server=Z,this.local=Pe||Z,this.writable=!!Ge,this.xform=lt||ht}}let he=null;function Ot(){if(he)return he;const re=[];re.push(new yt("bucket")),re.push(new yt("generation")),re.push(new yt("metageneration")),re.push(new yt("name","fullPath",!0));const Pe=new yt("name");Pe.xform=function Z(bt,on){return function je(re){return!be(re)||re.length<2?re:Ti(re)}(on)},re.push(Pe);const lt=new yt("size");return lt.xform=function Ge(bt,on){return void 0!==on?Number(on):on},re.push(lt),re.push(new yt("timeCreated")),re.push(new yt("updated")),re.push(new yt("md5Hash",null,!0)),re.push(new yt("cacheControl",null,!0)),re.push(new yt("contentDisposition",null,!0)),re.push(new yt("contentEncoding",null,!0)),re.push(new yt("contentLanguage",null,!0)),re.push(new yt("contentType",null,!0)),re.push(new yt("metadata","customMetadata",!0)),he=re,he}function Pr(re,Z,Pe){const Ge=tr(Z);return null===Ge?null:function Pn(re,Z,Pe){const Ge={type:"file"},lt=Pe.length;for(let bt=0;bt<lt;bt++){const on=Pe[bt];Ge[on.local]=on.xform(Ge,Z[on.server])}return function Wt(re,Z){Object.defineProperty(re,"ref",{get:function Pe(){const bt=new Yt(re.bucket,re.fullPath);return Z._makeStorageReference(bt)}})}(Ge,re),Ge}(re,Ge,Pe)}function ei(re,Z){const Pe={},Ge=Z.length;for(let lt=0;lt<Ge;lt++){const bt=Z[lt];bt.writable&&(Pe[bt.server]=re[bt.local])}return JSON.stringify(Pe)}const Rt="prefixes",G="items";class ${constructor(Z,Pe,Ge,lt){this.url=Z,this.method=Pe,this.handler=Ge,this.timeout=lt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function se(re){if(!re)throw Fe()}function ne(re,Z){return function Pe(Ge,lt){const bt=Pr(re,lt,Z);return se(null!==bt),bt}}function Gt(re){return function Z(Pe,Ge){let lt;return lt=401===Pe.getStatus()?Pe.getErrorText().includes("Firebase App Check token is invalid")?function ge(){return new W(J.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function We(){return new W(J.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Pe.getStatus()?function Xe(re){return new W(J.QUOTA_EXCEEDED,"Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===Pe.getStatus()?function Be(re){return new W(J.UNAUTHORIZED,"User does not have permission to access '"+re+"'.")}(re.path):Ge,lt.status=Pe.getStatus(),lt.serverResponse=Ge.serverResponse,lt}}function pn(re){const Z=Gt(re);return function Pe(Ge,lt){let bt=Z(Ge,lt);return 404===Ge.getStatus()&&(bt=function Ue(re){return new W(J.OBJECT_NOT_FOUND,"Object '"+re+"' does not exist.")}(re.path)),bt.serverResponse=lt.serverResponse,bt}}function _r(re,Z,Pe){const lt=Bt(Z.fullServerUrl(),re.host,re._protocol),on=re.maxOperationRetryTime,Nn=new $(lt,"GET",ne(re,Pe),on);return Nn.errorHandler=pn(Z),Nn}function Ne(re,Z,Pe,Ge,lt){const bt={};bt.prefix=Z.isRoot?"":Z.path+"/",Pe&&Pe.length>0&&(bt.delimiter=Pe),Ge&&(bt.pageToken=Ge),lt&&(bt.maxResults=lt);const Nn=Bt(Z.bucketOnlyServerUrl(),re.host,re._protocol),rr=re.maxOperationRetryTime,Or=new $(Nn,"GET",function Ee(re,Z){return function Pe(Ge,lt){const bt=function k(re,Z,Pe){const Ge=tr(Pe);return null===Ge?null:function x(re,Z,Pe){const Ge={prefixes:[],items:[],nextPageToken:Pe.nextPageToken};if(Pe[Rt])for(const lt of Pe[Rt]){const bt=lt.replace(/\/$/,""),on=re._makeStorageReference(new Yt(Z,bt));Ge.prefixes.push(on)}if(Pe[G])for(const lt of Pe[G]){const bt=re._makeStorageReference(new Yt(Z,lt.name));Ge.items.push(bt)}return Ge}(re,Z,Ge)}(re,Z,lt);return se(null!==bt),bt}}(re,Z.bucket),rr);return Or.urlParams=bt,Or.errorHandler=Gt(Z),Or}function dn(re,Z,Pe){const Ge=Object.assign({},Pe);return Ge.fullPath=re.path,Ge.size=Z.size(),Ge.contentType||(Ge.contentType=function bn(re,Z){return re&&re.contentType||Z&&Z.type()||"application/octet-stream"}(null,Z)),Ge}class gn{constructor(Z,Pe,Ge,lt){this.current=Z,this.total=Pe,this.finalized=!!Ge,this.metadata=lt||null}}function Ci(re,Z){let Pe=null;try{Pe=re.getResponseHeader("X-Goog-Upload-Status")}catch{se(!1)}return se(!!Pe&&-1!==(Z||["active"]).indexOf(Pe)),Pe}const Kn={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fn(re){switch(re){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;default:return _n.ERROR}}class gr{constructor(Z,Pe,Ge){if(function Oe(re){return"function"==typeof re}(Z)||null!=Pe||null!=Ge)this.next=Z,this.error=Pe??void 0,this.complete=Ge??void 0;else{const bt=Z;this.next=bt.next,this.error=bt.error,this.complete=bt.complete}}}function jr(re){return(...Z)=>{Promise.resolve().then(()=>re(...Z))}}let Zn=null;class ki{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lr.NO_ERROR,this.sendPromise_=new Promise(Z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lr.ABORT,Z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lr.NETWORK_ERROR,Z()}),this.xhr_.addEventListener("load",()=>{Z()})})}send(Z,Pe,Ge,lt){if(this.sent_)throw zt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Pe,Z,!0),void 0!==lt)for(const bt in lt)lt.hasOwnProperty(bt)&&this.xhr_.setRequestHeader(bt,lt[bt].toString());return void 0!==Ge?this.xhr_.send(Ge):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Z){return this.xhr_.getResponseHeader(Z)}addUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Z)}removeUploadProgressListener(Z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Z)}}class us extends ki{initXhr(){this.xhr_.responseType="text"}}function Li(){return Zn?Zn():new us}class Qr{constructor(Z,Pe,Ge=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Z,this._blob=Pe,this._metadata=Ge,this._mappings=Ot(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=lt=>{if(this._request=void 0,this._chunkMultiplier=1,lt._codeEquals(J.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const bt=this.isExponentialBackoffExpired();if(un(lt.status,[])){if(!bt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();lt=Pt()}this._error=lt,this._transition("error")}},this._metadataErrorHandler=lt=>{this._request=void 0,lt._codeEquals(J.CANCELED)?this.completeTransitions_():(this._error=lt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((lt,bt)=>{this._resolve=lt,this._reject=bt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Z=this._transferred;return Pe=>this._updateProgress(Z+Pe)}_shouldDoResumable(Z){return Z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Pe,Ge])=>{switch(this._state){case"running":Z(Pe,Ge);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Z,Pe)=>{const Ge=function wt(re,Z,Pe,Ge,lt){const bt=Z.bucketOnlyServerUrl(),on=dn(Z,Ge,lt),Nn={name:on.fullPath},An=Bt(bt,re.host,re._protocol),Or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ge.size()}`,"X-Goog-Upload-Header-Content-Type":on.contentType,"Content-Type":"application/json; charset=utf-8"},qn=ei(on,Pe),mi=new $(An,"POST",function ur(kr){let ni;Ci(kr);try{ni=kr.getResponseHeader("X-Goog-Upload-URL")}catch{se(!1)}return se(be(ni)),ni},re.maxUploadRetryTime);return mi.urlParams=Nn,mi.headers=Or,mi.body=qn,mi.errorHandler=Gt(Z),mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),lt=this._ref.storage._makeRequest(Ge,Li,Z,Pe);this._request=lt,lt.getPromise().then(bt=>{this._request=void 0,this._uploadUrl=bt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Z=this._uploadUrl;this._resolveToken((Pe,Ge)=>{const lt=function st(re,Z,Pe,Ge){const An=new $(Pe,"POST",function bt(rr){const Or=Ci(rr,["active","final"]);let qn=null;try{qn=rr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{se(!1)}qn||se(!1);const Yn=Number(qn);return se(!isNaN(Yn)),new gn(Yn,Ge.size(),"final"===Or)},re.maxUploadRetryTime);return An.headers={"X-Goog-Upload-Command":"query"},An.errorHandler=Gt(Z),An}(this._ref.storage,this._ref._location,Z,this._blob),bt=this._ref.storage._makeRequest(lt,Li,Pe,Ge);this._request=bt,bt.getPromise().then(on=>{this._request=void 0,this._updateProgress(on.current),this._needToFetchStatus=!1,on.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Z=262144*this._chunkMultiplier,Pe=new gn(this._transferred,this._blob.size()),Ge=this._uploadUrl;this._resolveToken((lt,bt)=>{let on;try{on=function hn(re,Z,Pe,Ge,lt,bt,on,Nn){const An=new gn(0,0);if(on?(An.current=on.current,An.total=on.total):(An.current=0,An.total=Ge.size()),Ge.size()!==An.total)throw function Ft(){return new W(J.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const rr=An.total-An.current;let Or=rr;lt>0&&(Or=Math.min(Or,lt));const qn=An.current;let ur="";ur=0===Or?"finalize":rr===Or?"upload, finalize":"upload";const mi={"X-Goog-Upload-Command":ur,"X-Goog-Upload-Offset":`${An.current}`},kr=Ge.slice(qn,qn+Or);if(null===kr)throw ft();const Nr=new $(Pe,"POST",function ni(Ri,Ei){const Yr=Ci(Ri,["active","final"]),yo=An.current+Or,ms=Ge.size();let Gi;return Gi="final"===Yr?ne(Z,bt)(Ri,Ei):null,new gn(yo,ms,"final"===Yr,Gi)},Z.maxUploadRetryTime);return Nr.headers=mi,Nr.body=kr.uploadData(),Nr.progressCallback=Nn||null,Nr.errorHandler=Gt(re),Nr}(this._ref._location,this._ref.storage,Ge,this._blob,Z,this._mappings,Pe,this._makeProgressCallback())}catch(An){return this._error=An,void this._transition("error")}const Nn=this._ref.storage._makeRequest(on,Li,lt,bt,!1);this._request=Nn,Nn.getPromise().then(An=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(An.current),An.finalized?(this._metadata=An.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Z,Pe)=>{const Ge=_r(this._ref.storage,this._ref._location,this._mappings),lt=this._ref.storage._makeRequest(Ge,Li,Z,Pe);this._request=lt,lt.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Z,Pe)=>{const Ge=function ar(re,Z,Pe,Ge,lt){const bt=Z.bucketOnlyServerUrl(),on={"X-Goog-Upload-Protocol":"multipart"},An=function Nn(){let Nr="";for(let Ri=0;Ri<2;Ri++)Nr+=Math.random().toString().slice(2);return Nr}();on["Content-Type"]="multipart/related; boundary="+An;const rr=dn(Z,Ge,lt),Or=ei(rr,Pe),ur=Kr.getBlob("--"+An+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Or+"\r\n--"+An+"\r\nContent-Type: "+rr.contentType+"\r\n\r\n",Ge,"\r\n--"+An+"--");if(null===ur)throw ft();const mi={name:rr.fullPath},kr=Bt(bt,re.host,re._protocol),ji=re.maxUploadRetryTime,ri=new $(kr,"POST",ne(re,Pe),ji);return ri.urlParams=mi,ri.headers=on,ri.body=ur.uploadData(),ri.errorHandler=Gt(Z),ri}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),lt=this._ref.storage._makeRequest(Ge,Li,Z,Pe);this._request=lt,lt.getPromise().then(bt=>{this._request=void 0,this._metadata=bt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Z){const Pe=this._transferred;this._transferred=Z,this._transferred!==Pe&&this._notifyObservers()}_transition(Z){if(this._state!==Z)switch(Z){case"canceling":case"pausing":this._state=Z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Pe="paused"===this._state;this._state=Z,Pe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Z,this._notifyObservers();break;case"canceled":this._error=Se(),this._state=Z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Z=Fn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Z,metadata:this._metadata,task:this,ref:this._ref}}on(Z,Pe,Ge,lt){const bt=new gr(Pe||void 0,Ge||void 0,lt||void 0);return this._addObserver(bt),()=>{this._removeObserver(bt)}}then(Z,Pe){return this._promise.then(Z,Pe)}catch(Z){return this.then(null,Z)}_addObserver(Z){this._observers.push(Z),this._notifyObserver(Z)}_removeObserver(Z){const Pe=this._observers.indexOf(Z);-1!==Pe&&this._observers.splice(Pe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Pe=>{this._notifyObserver(Pe)})}_finishPromise(){if(void 0!==this._resolve){let Z=!0;switch(Fn(this._state)){case _n.SUCCESS:jr(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:jr(this._reject.bind(null,this._error))();break;default:Z=!1}Z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Z){switch(Fn(this._state)){case _n.RUNNING:case _n.PAUSED:Z.next&&jr(Z.next.bind(Z,this.snapshot))();break;case _n.SUCCESS:Z.complete&&jr(Z.complete.bind(Z))();break;default:Z.error&&jr(Z.error.bind(Z,this._error))()}}resume(){const Z="paused"===this._state||"pausing"===this._state;return Z&&this._transition("running"),Z}pause(){const Z="running"===this._state;return Z&&this._transition("pausing"),Z}cancel(){const Z="running"===this._state||"pausing"===this._state;return Z&&this._transition("canceling"),Z}}class is{constructor(Z,Pe){this._service=Z,this._location=Pe instanceof Yt?Pe:Yt.makeFromUrl(Pe,Z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Z,Pe){return new is(Z,Pe)}get root(){const Z=new Yt(this._location.bucket,"");return this._newRef(this._service,Z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ti(this._location.path)}get storage(){return this._service}get parent(){const Z=function vr(re){if(0===re.length)return null;const Z=re.lastIndexOf("/");return-1===Z?"":re.slice(0,Z)}(this._location.path);if(null===Z)return null;const Pe=new Yt(this._location.bucket,Z);return new is(this._service,Pe)}_throwIfRoot(Z){if(""===this._location.path)throw wn(Z)}}function mo(re,Z,Pe){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,i.A)(function*(re,Z,Pe){const lt=yield na(re,{pageToken:Pe});Z.prefixes.push(...lt.prefixes),Z.items.push(...lt.items),null!=lt.nextPageToken&&(yield mo(re,Z,lt.nextPageToken))})).apply(this,arguments)}function na(re,Z){null!=Z&&"number"==typeof Z.maxResults&&it("options.maxResults",1,1e3,Z.maxResults);const Pe=Z||{},Ge=Ne(re.storage,re._location,"/",Pe.pageToken,Pe.maxResults);return re.storage.makeRequestWithTokens(Ge,Li)}function ga(re){re._throwIfRoot("getDownloadURL");const Z=function Ye(re,Z,Pe){const lt=Bt(Z.fullServerUrl(),re.host,re._protocol),on=re.maxOperationRetryTime,Nn=new $(lt,"GET",function gt(re,Z){return function Pe(Ge,lt){const bt=Pr(re,lt,Z);return se(null!==bt),function nr(re,Z,Pe,Ge){const lt=tr(Z);if(null===lt||!be(lt.downloadTokens))return null;const bt=lt.downloadTokens;if(0===bt.length)return null;const on=encodeURIComponent;return bt.split(",").map(rr=>{const qn=re.fullPath;return Bt("/b/"+on(re.bucket)+"/o/"+on(qn),Pe,Ge)+Rn({alt:"media",token:rr})})[0]}(bt,lt,re.host,re._protocol)}}(re,Pe),on);return Nn.errorHandler=pn(Z),Nn}(re.storage,re._location,Ot());return re.storage.makeRequestWithTokens(Z,Li).then(Pe=>{if(null===Pe)throw function Ut(){return new W(J.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Pe})}function ti(re,Z){const Pe=function Wn(re,Z){const Pe=Z.split("/").filter(Ge=>Ge.length>0).join("/");return 0===re.length?Pe:re+"/"+Pe}(re._location.path,Z),Ge=new Yt(re._location.bucket,Pe);return new is(re.storage,Ge)}function _o(re,Z){if(re instanceof Ii){const Pe=re;if(null==Pe._bucket)throw function rt(){return new W(J.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ce+"' property when initializing the app?")}();const Ge=new is(Pe,Pe._bucket);return null!=Z?_o(Ge,Z):Ge}return void 0!==Z?ti(re,Z):re}function Us(re,Z){if(Z&&function ss(re){return/^[A-Za-z]+:\/\//.test(re)}(Z)){if(re instanceof Ii)return function xs(re,Z){return new is(re,Z)}(re,Z);throw $t("To use ref(service, url), the first argument must be a Storage instance.")}return _o(re,Z)}function Mr(re,Z){const Pe=Z?.[Ce];return null==Pe?null:Yt.makeFromBucketSpec(Pe,re)}class Ii{constructor(Z,Pe,Ge,lt,bt){this.app=Z,this._authProvider=Pe,this._appCheckProvider=Ge,this._url=lt,this._firebaseVersion=bt,this._bucket=null,this._host=le,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=lt?Yt.makeFromBucketSpec(lt,this._host):Mr(this._host,this.app.options)}get host(){return this._host}set host(Z){this._host=Z,this._bucket=null!=this._url?Yt.makeFromBucketSpec(this._url,Z):Mr(Z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Z){it("time",0,Number.POSITIVE_INFINITY,Z),this._maxUploadRetryTime=Z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Z){it("time",0,Number.POSITIVE_INFINITY,Z),this._maxOperationRetryTime=Z}_getAuthToken(){var Z=this;return(0,i.A)(function*(){if(Z._overrideAuthToken)return Z._overrideAuthToken;const Pe=Z._authProvider.getImmediate({optional:!0});if(Pe){const Ge=yield Pe.getToken();if(null!==Ge)return Ge.accessToken}return null})()}_getAppCheckToken(){var Z=this;return(0,i.A)(function*(){const Pe=Z._appCheckProvider.getImmediate({optional:!0});return Pe?(yield Pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Z=>Z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Z){return new is(this,Z)}_makeRequest(Z,Pe,Ge,lt,bt=!0){if(this._deleted)return new _t(qe());{const on=function yr(re,Z,Pe,Ge,lt,bt,on=!0){const Nn=Rn(re.urlParams),An=re.url+Nn,rr=Object.assign({},re.headers);return function Jt(re,Z){Z&&(re["X-Firebase-GMPID"]=Z)}(rr,Z),function Qn(re,Z){null!==Z&&Z.length>0&&(re.Authorization="Firebase "+Z)}(rr,Pe),function Ln(re,Z){re["X-Firebase-Storage-Version"]="webjs/"+(Z??"AppManager")}(rr,bt),function qt(re,Z){null!==Z&&(re["X-Firebase-AppCheck"]=Z)}(rr,Ge),new kn(An,re.method,rr,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,lt,on)}(Z,this._appId,Ge,lt,Pe,this._firebaseVersion,bt);return this._requests.add(on),on.getPromise().then(()=>this._requests.delete(on),()=>this._requests.delete(on)),on}}makeRequestWithTokens(Z,Pe){var Ge=this;return(0,i.A)(function*(){const[lt,bt]=yield Promise.all([Ge._getAuthToken(),Ge._getAppCheckToken()]);return Ge._makeRequest(Z,Pe,lt,bt).getPromise()})()}}const Ms="@firebase/storage",hs="storage";function bs(re,Z,Pe){return function Ui(re,Z,Pe){return re._throwIfRoot("uploadBytesResumable"),new Qr(re,new Kr(Z),Pe)}(re=(0,r.Ku)(re),Z,Pe)}function ci(re){return function Ka(re){re._throwIfRoot("getMetadata");const Z=_r(re.storage,re._location,Ot());return re.storage.makeRequestWithTokens(Z,Li)}(re=(0,r.Ku)(re))}function Tn(re,Z){return function Si(re,Z){re._throwIfRoot("updateMetadata");const Pe=function jt(re,Z,Pe,Ge){const bt=Bt(Z.fullServerUrl(),re.host,re._protocol),Nn=ei(Pe,Ge),rr=re.maxOperationRetryTime,Or=new $(bt,"PATCH",ne(re,Ge),rr);return Or.headers={"Content-Type":"application/json; charset=utf-8"},Or.body=Nn,Or.errorHandler=pn(Z),Or}(re.storage,re._location,Z,Ot());return re.storage.makeRequestWithTokens(Pe,Li)}(re=(0,r.Ku)(re),Z)}function cr(re,Z){return na(re=(0,r.Ku)(re),Z)}function Er(re){return function qs(re){const Z={prefixes:[],items:[]};return mo(re,Z).then(()=>Z)}(re=(0,r.Ku)(re))}function os(re){return ga(re=(0,r.Ku)(re))}function fs(re){return function Ys(re){re._throwIfRoot("deleteObject");const Z=function rn(re,Z){const Ge=Bt(Z.fullServerUrl(),re.host,re._protocol),Nn=new $(Ge,"DELETE",function on(An,rr){},re.maxOperationRetryTime);return Nn.successCodes=[200,204],Nn.errorHandler=pn(Z),Nn}(re.storage,re._location);return re.storage.makeRequestWithTokens(Z,Li)}(re=(0,r.Ku)(re))}function Bi(re,Z){return Us(re=(0,r.Ku)(re),Z)}function Xs(re,Z){return ti(re,Z)}function ui(re=(0,ae.getApp)(),Z){re=(0,r.Ku)(re);const Ge=(0,ae._getProvider)(re,hs).getImmediate({identifier:Z}),lt=(0,r.yU)("storage");return lt&&ps(Ge,...lt),Ge}function ps(re,Z,Pe,Ge={}){!function fi(re,Z,Pe,Ge={}){re.host=`${Z}:${Pe}`,re._protocol="http";const{mockUserToken:lt}=Ge;lt&&(re._overrideAuthToken="string"==typeof lt?lt:(0,r.Fy)(lt,re.app.options.projectId))}(re,Z,Pe,Ge)}function gs(re,{instanceIdentifier:Z}){const Pe=re.getProvider("app").getImmediate(),Ge=re.getProvider("auth-internal"),lt=re.getProvider("app-check-internal");return new Ii(Pe,Ge,lt,Z,ae.SDK_VERSION)}!function Ts(){(0,ae._registerComponent)(new Ie.uA(hs,gs,"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ms,"0.13.2",""),(0,ae.registerVersion)(Ms,"0.13.2","esm2017")}()},1076:(sn,Je,O)=>{O.d(Je,{Am:()=>jn,Bd:()=>$t,FA:()=>it,Fy:()=>ft,I9:()=>In,Im:()=>en,Ku:()=>Rt,Ll:()=>ye,T9:()=>we,Uj:()=>xe,XA:()=>at,ZQ:()=>Ft,bD:()=>Un,c1:()=>wn,cY:()=>rt,eX:()=>ee,g:()=>dt,gR:()=>qt,hp:()=>Rr,jZ:()=>Ut,lT:()=>_t,lV:()=>zt,mS:()=>Ue,nr:()=>ut,p7:()=>qe,sr:()=>Mt,tD:()=>Ur,u:()=>W,yU:()=>Se,zW:()=>Oe,zw:()=>_e});const Ie=function(G){const x=[];let k=0;for(let $=0;$<G.length;$++){let se=G.charCodeAt($);se<128?x[k++]=se:se<2048?(x[k++]=se>>6|192,x[k++]=63&se|128):55296==(64512&se)&&$+1<G.length&&56320==(64512&G.charCodeAt($+1))?(se=65536+((1023&se)<<10)+(1023&G.charCodeAt(++$)),x[k++]=se>>18|240,x[k++]=se>>12&63|128,x[k++]=se>>6&63|128,x[k++]=63&se|128):(x[k++]=se>>12|224,x[k++]=se>>6&63|128,x[k++]=63&se|128)}return x},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,x){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let se=0;se<G.length;se+=3){const ne=G[se],Ee=se+1<G.length,gt=Ee?G[se+1]:0,Gt=se+2<G.length,pn=Gt?G[se+2]:0;let $e=(15&gt)<<2|pn>>6,Ye=63&pn;Gt||(Ye=64,Ee||($e=64)),$.push(k[ne>>2],k[(3&ne)<<4|gt>>4],k[$e],k[Ye])}return $.join("")},encodeString(G,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(G):this.encodeByteArray(Ie(G),x)},decodeString(G,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(G):function(G){const x=[];let k=0,$=0;for(;k<G.length;){const se=G[k++];if(se<128)x[$++]=String.fromCharCode(se);else if(se>191&&se<224){const ne=G[k++];x[$++]=String.fromCharCode((31&se)<<6|63&ne)}else if(se>239&&se<365){const Gt=((7&se)<<18|(63&G[k++])<<12|(63&G[k++])<<6|63&G[k++])-65536;x[$++]=String.fromCharCode(55296+(Gt>>10)),x[$++]=String.fromCharCode(56320+(1023&Gt))}else{const ne=G[k++],Ee=G[k++];x[$++]=String.fromCharCode((15&se)<<12|(63&ne)<<6|63&Ee)}}return x.join("")}(this.decodeStringToByteArray(G,x))},decodeStringToByteArray(G,x){this.init_();const k=x?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let se=0;se<G.length;){const ne=k[G.charAt(se++)],gt=se<G.length?k[G.charAt(se)]:0;++se;const pn=se<G.length?k[G.charAt(se)]:64;++se;const Ne=se<G.length?k[G.charAt(se)]:64;if(++se,null==ne||null==gt||null==pn||null==Ne)throw new De;$.push(ne<<2|gt>>4),64!==pn&&($.push(gt<<4&240|pn>>2),64!==Ne&&$.push(pn<<6&192|Ne))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(G){return function(G){const x=Ie(G);return Ce.encodeByteArray(x,!0)}(G).replace(/\./g,"")},W=function(G){try{return Ce.decodeString(G,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function _e(G,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return x}for(const k in x)!x.hasOwnProperty(k)||!Fe(k)||(G[k]=_e(G[k],x[k]));return G}function Fe(G){return"__proto__"!==G}function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Be=()=>{try{return Ue().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=G&&W(G[1]);return x&&JSON.parse(x)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Se=G=>{const x=(G=>{var x,k;return null===(k=null===(x=Be())||void 0===x?void 0:x.emulatorHosts)||void 0===k?void 0:k[G]})(G);if(!x)return;const k=x.lastIndexOf(":");if(k<=0||k+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const $=parseInt(x.substring(k+1),10);return"["===x[0]?[x.substring(1,k-1),$]:[x.substring(0,k),$]},we=()=>{var G;return null===(G=Be())||void 0===G?void 0:G.config},at=G=>{var x;return null===(x=Be())||void 0===x?void 0:x[`_${G}`]};class rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,k)=>{this.resolve=x,this.reject=k})}wrapCallback(x){return(k,$)=>{k?this.reject(k):this.resolve($),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(k):x(k,$))}}}function ft(G,x){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=x||"demo-project",se=G.iat||0,ne=G.sub||G.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:se,exp:se+3600,auth_time:se,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},G);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ee)),""].join(".")}function Ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function ye(){var G;const x=null===(G=Be())||void 0===G?void 0:G.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $t(){return typeof window<"u"||qe()}function qe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function wn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const G=Ft();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ut(){return!ye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((G,x)=>{try{let k=!0;const $="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open($);se.onsuccess=()=>{se.result.close(),k||self.indexedDB.deleteDatabase($),G(!0)},se.onupgradeneeded=()=>{k=!1},se.onerror=()=>{var ne;x((null===(ne=se.error)||void 0===ne?void 0:ne.message)||"")}}catch(k){x(k)}})}class dt extends Error{constructor(x,k,$){super(k),this.code=x,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(x,k,$){this.service=x,this.serviceName=k,this.errors=$}create(x,...k){const $=k[0]||{},se=`${this.service}/${x}`,ne=this.errors[x],Ee=ne?function Bt(G,x){return G.replace(Rn,(k,$)=>{const se=x[$];return null!=se?String(se):`<${$}?>`})}(ne,$):"Error";return new dt(se,`${this.serviceName}: ${Ee} (${se}).`,$)}}const Rn=/\{\$([^}]+)}/g;function qt(G,x){return Object.prototype.hasOwnProperty.call(G,x)}function en(G){for(const x in G)if(Object.prototype.hasOwnProperty.call(G,x))return!1;return!0}function Un(G,x){if(G===x)return!0;const k=Object.keys(G),$=Object.keys(x);for(const se of k){if(!$.includes(se))return!1;const ne=G[se],Ee=x[se];if(Vt(ne)&&Vt(Ee)){if(!Un(ne,Ee))return!1}else if(ne!==Ee)return!1}for(const se of $)if(!k.includes(se))return!1;return!0}function Vt(G){return null!==G&&"object"==typeof G}function jn(G){const x=[];for(const[k,$]of Object.entries(G))Array.isArray($)?$.forEach(se=>{x.push(encodeURIComponent(k)+"="+encodeURIComponent(se))}):x.push(encodeURIComponent(k)+"="+encodeURIComponent($));return x.length?"&"+x.join("&"):""}function In(G){const x={};return G.replace(/^\?/,"").split("&").forEach($=>{if($){const[se,ne]=$.split("=");x[decodeURIComponent(se)]=decodeURIComponent(ne)}}),x}function Rr(G){const x=G.indexOf("?");if(!x)return"";const k=G.indexOf("#",x);return G.substring(x,k>0?k:void 0)}function Ur(G,x){const k=new zn(G,x);return k.subscribe.bind(k)}class zn{constructor(x,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{x(this)}).catch($=>{this.error($)})}next(x){this.forEachObserver(k=>{k.next(x)})}error(x){this.forEachObserver(k=>{k.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,k,$){let se;if(void 0===x&&void 0===k&&void 0===$)throw new Error("Missing Observer.");se=function es(G,x){if("object"!=typeof G||null===G)return!1;for(const k of x)if(k in G&&"function"==typeof G[k])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:k,complete:$},void 0===se.next&&(se.next=fn),void 0===se.error&&(se.error=fn),void 0===se.complete&&(se.complete=fn);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),ne}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,x)}sendOne(x,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{k(this.observers[x])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function Rt(G){return G&&G._delegate?G._delegate:G}},9483:(sn,Je,O)=>{O.d(Je,{j:()=>J});var i=O(7705),ae=O(6814),r=O(923),Ie=O(177);const le=function(_e,Fe){return{"background-color":_e,color:Fe}};function Ce(_e,Fe){if(1&_e){const Ue=i.RV6();i.qex(0),i.j41(1,"button",4),i.bIt("click",function(){i.eBV(Ue);const We=i.XpG();return i.Njj(We.navigateTo(We.buttonLink))}),i.EFF(2),i.k0s(),i.bVm()}if(2&_e){const Ue=i.XpG();i.R7$(1),i.Y8G("ngStyle",i.l_i(2,le,Ue.buttonBgColor,Ue.buttonTextColor)),i.R7$(1),i.SpI(" ",Ue.buttonText," ")}}function De(_e,Fe){if(1&_e){const Ue=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(Ue);const We=i.XpG();return i.Njj(We.navigateTo(We.buttonLink))}),i.EFF(1),i.k0s()}if(2&_e){const Ue=i.XpG();i.Y8G("ngStyle",i.l_i(2,le,Ue.buttonBgColor,Ue.buttonTextColor)),i.R7$(1),i.SpI(" ",Ue.buttonText," ")}}const Te=function(_e,Fe,Ue){return{"full-width":_e,centered:Fe,shadow:Ue}},xe=function(_e,Fe,Ue,Xe){return{"background-color":_e,color:Fe,"text-align":Ue,"border-radius":Xe}},W=function(_e,Fe,Ue){return{color:_e,"font-size":Fe,"font-style":Ue}};let J=(()=>{class _e{constructor(Ue,Xe){this.router=Ue,this.businessDataService=Xe,this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.title="Come Meet Our Family!",this.titleColor="var(--accent-color)",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.content="Questions before getting started?",this.textFontSize="16",this.textFontStyle="normal",this.textColor="var(--text-color)",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(Ue){this.businessDataService.getBusinessId().subscribe(Xe=>{Xe&&(this.businessId=Xe)}),console.log("Page: "+Ue+" Parameters = "+this.businessId),this.router.navigate(["/"+Ue],{queryParams:{id:this.businessId}})}convertToBoolean(Ue){return"boolean"==typeof Ue?Ue:"string"==typeof Ue&&"true"===Ue.toLowerCase()}static{this.\u0275fac=function(Xe){return new(Xe||_e)(i.rXU(ae.Ix),i.rXU(r.A))}}static{this.\u0275cmp=i.VBU({type:_e,selectors:[["app-call-to-action"]],inputs:{buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",content:"content",textFontSize:"textFontSize",textFontStyle:"textFontStyle",textColor:"textColor",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:10,vars:31,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(Xe,We){if(1&Xe&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s(),i.j41(3,"h3",1),i.EFF(4),i.k0s(),i.j41(5,"p",1),i.EFF(6),i.k0s(),i.DNE(7,Ce,3,5,"ng-container",2),i.DNE(8,De,2,5,"ng-template",null,3,i.C5r),i.k0s()),2&Xe){const ge=i.sdS(9);i.Y8G("ngClass",i.sMw(10,Te,We.fullWidth,!We.fullWidth,We.boxShadow))("ngStyle",i.ziG(14,xe,We.backgroundColor,We.textColor,We.alignText,We.borderRadius+"px")),i.R7$(1),i.Y8G("ngStyle",i.sMw(19,W,We.titleColor,We.titleFontSize+"px",We.titleFontStyle)),i.R7$(1),i.JRh(We.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,W,We.subtitleColor,We.subtitleFontSize+"px",We.subtitleFontStyle)),i.R7$(1),i.JRh(We.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(27,W,We.textColor,We.textFontSize,We.textFontStyle)),i.R7$(1),i.JRh(We.content),i.R7$(1),i.Y8G("ngIf",We.isButton)("ngIfElse",ge)}},dependencies:[Ie.YU,Ie.bT,Ie.B3]})}}return _e})()},7304:(sn,Je,O)=>{O.d(Je,{W:()=>Ut});var i=O(7705),ae=O(345),r=O(6814),Ie=O(177);let le=(()=>{class ye{transform(qe,wn){if(!qe||!wn)return qe;let Mt=qe;for(const zt in wn)if(wn.hasOwnProperty(zt)){const Yt=new RegExp(`{{${zt}}}`,"g");Mt=Mt.replace(Yt,wn[zt])}return Mt}static{this.\u0275fac=function(wn){return new(wn||ye)}}static{this.\u0275pipe=i.EJ8({name:"replaceKeyword",type:ye,pure:!0})}}return ye})();const Ce=function(ye){return{"text-align":ye}},De=function(ye,$t){return{color:ye,"font-size":$t}},Te=function(ye){return{businessName:ye}};function xe(ye,$t){if(1&ye&&(i.j41(0,"div")(1,"div",9)(2,"span",10),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.nrm(5,"br"),i.j41(6,"span",11),i.EFF(7),i.k0s()()()),2&ye){const qe=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ce,qe.alignText)),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,De,qe.subtitleColor,qe.subtitleFontSize+"px")),i.R7$(1),i.JRh(i.i5U(4,5,qe.subTitle,i.eq3(13,Te,qe._businessName))),i.R7$(3),i.Y8G("ngStyle",i.l_i(15,De,qe.titleColor,qe.titleFontSize+"px")),i.R7$(1),i.SpI("",qe.title," ")}}function W(ye,$t){if(1&ye&&(i.j41(0,"div")(1,"h3")(2,"span",12),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s()(),i.j41(5,"div",13)(6,"h2",14),i.EFF(7),i.k0s()()()),2&ye){const qe=i.XpG(2);i.R7$(3),i.JRh(i.i5U(4,2,qe.subTitle,i.eq3(5,Te,qe._businessName))),i.R7$(4),i.JRh(qe.title)}}function J(ye,$t){if(1&ye){const qe=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(qe);const Mt=i.XpG(2);return i.Njj(Mt.navigateToContact(Mt.buttonLink))}),i.EFF(1),i.k0s()}if(2&ye){const qe=i.XpG(2);i.R7$(1),i.JRh(qe.buttonText)}}const _e=function(ye,$t,qe){return{"full-width":ye,centered:$t,shadow:qe}},Fe=function(ye,$t,qe,wn){return{"background-color":ye,color:$t,"text-align":qe,"border-radius":wn}};function Ue(ye,$t){if(1&ye&&(i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.DNE(3,xe,8,18,"div",5),i.DNE(4,W,8,7,"div",5),i.nrm(5,"p",6),i.j41(6,"div",7),i.DNE(7,J,2,1,"button",8),i.k0s()()()()),2&ye){const qe=i.XpG();i.Y8G("ngClass",i.sMw(6,_e,qe.fullWidth,!qe.fullWidth,qe.boxShadow))("ngStyle",i.ziG(10,Fe,qe.backgroundColor,qe.textColor,qe.alignText,qe.borderRadius+"px")),i.R7$(3),i.Y8G("ngIf","home"==qe.page),i.R7$(1),i.Y8G("ngIf","home"!=qe.page),i.R7$(1),i.Y8G("innerHTML",qe.sanitizedContent,i.npT),i.R7$(2),i.Y8G("ngIf",qe.showButton)}}function Xe(ye,$t){if(1&ye&&i.nrm(0,"img",21),2&ye){const qe=i.XpG(2);i.Y8G("src",qe.imageURL,i.B4B)}}function We(ye,$t){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}const ge=function(ye,$t,qe){return{color:ye,"font-size":$t,"font-style":qe}};function Be(ye,$t){if(1&ye&&(i.j41(0,"div",2),i.DNE(1,Xe,1,1,"img",16),i.j41(2,"h3",17),i.EFF(3),i.nI1(4,"replaceKeyword"),i.k0s(),i.j41(5,"h2",17),i.EFF(6),i.k0s(),i.nrm(7,"div",18)(8,"p",19),i.DNE(9,We,2,0,"button",20),i.k0s()),2&ye){const qe=i.XpG();i.Y8G("ngClass",i.sMw(13,_e,qe.fullWidth,!qe.fullWidth,qe.boxShadow))("ngStyle",i.ziG(17,Fe,qe.backgroundColor,qe.textColor,qe.alignText,qe.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",qe.imageURL&&qe.showImage),i.R7$(1),i.Y8G("ngStyle",i.sMw(22,ge,qe.subtitleColor,qe.subtitleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.JRh(i.i5U(4,10,qe.subTitle,i.eq3(26,Te,qe._businessName))),i.R7$(2),i.Y8G("ngStyle",i.sMw(28,ge,qe.titleColor,qe.titleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.JRh(qe.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(32,ge,qe.textColor,qe.textFontSize+"px",qe.textFontStyle))("innerHTML",qe.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",qe.showButton)}}function Pt(ye,$t){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Contact Us"),i.k0s())}const Se=function(ye,$t,qe){return{"background-color":ye,color:$t,"border-radius":qe}};function we(ye,$t){if(1&ye&&(i.j41(0,"div",2)(1,"div",23)(2,"div")(3,"h2",17),i.EFF(4),i.k0s(),i.j41(5,"h3",17),i.EFF(6),i.nI1(7,"replaceKeyword"),i.k0s()(),i.DNE(8,Pt,2,0,"button",20),i.k0s(),i.j41(9,"div",24),i.nrm(10,"p",19),i.k0s()()),2&ye){const qe=i.XpG();i.Y8G("ngClass",i.sMw(12,_e,qe.fullWidth,!qe.fullWidth,qe.boxShadow))("ngStyle",i.sMw(16,Se,qe.backgroundColor,qe.textColor,qe.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.sMw(20,ge,qe.titleColor,qe.titleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.JRh(qe.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(24,ge,qe.subtitleColor,qe.subtitleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.JRh(i.i5U(7,9,qe.subTitle,i.eq3(28,Te,qe._businessName))),i.R7$(2),i.Y8G("ngIf",qe.showButton),i.R7$(2),i.Y8G("ngStyle",i.sMw(30,ge,qe.textColor,qe.textFontSize+"px",qe.textFontStyle))("innerHTML",qe.sanitizedContent,i.npT)}}function at(ye,$t){if(1&ye&&i.nrm(0,"img",21),2&ye){const qe=i.XpG(2);i.Y8G("src",qe.imageURL,i.B4B)}}function rt(ye,$t){if(1&ye&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&ye){const qe=i.XpG(2);i.R7$(1),i.SpI(" ",qe.titleParts.part2,"")}}function ft(ye,$t){1&ye&&(i.j41(0,"button",22),i.EFF(1,"Schedule A Visit"),i.k0s())}function Ft(ye,$t){if(1&ye&&(i.j41(0,"div",25),i.DNE(1,at,1,1,"img",16),i.j41(2,"div",26)(3,"h3",27),i.EFF(4),i.k0s(),i.j41(5,"h2",27),i.DNE(6,rt,2,1,"span",5),i.k0s(),i.nrm(7,"div",28)(8,"p",19),i.k0s(),i.DNE(9,ft,2,0,"button",20),i.k0s()),2&ye){const qe=i.XpG();i.Y8G("ngClass",i.sMw(10,_e,qe.fullWidth,!qe.fullWidth,qe.boxShadow))("ngStyle",i.ziG(14,Fe,qe.backgroundColor,qe.textColor,qe.alignText,qe.borderRadius+"px")),i.R7$(1),i.Y8G("ngIf",qe.imageURL&&qe.showImage),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,ge,qe.subtitleColor,qe.subtitleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.JRh(qe.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,ge,qe.titleColor,qe.titleFontSize+"px",qe.textFontStyle)),i.R7$(1),i.Y8G("ngIf",qe.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,ge,qe.textColor,qe.textFontSize+"px",qe.textFontStyle))("innerHTML",qe.sanitizedContent,i.npT),i.R7$(1),i.Y8G("ngIf",qe.showButton)}}let Ut=(()=>{class ye{constructor(qe,wn){this.sanitizer=qe,this.router=wn,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.alignText="left",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(qe){this._content=qe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[qe,wn]=this.title.split("|").map(Mt=>Mt.trim());return{part1:qe,part2:wn}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(qe){this.router.navigate([qe])}convertToBoolean(qe){return"boolean"==typeof qe?qe:"string"==typeof qe&&"true"===qe.toLowerCase()}static{this.\u0275fac=function(wn){return new(wn||ye)(i.rXU(ae.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:ye,selectors:[["app-center-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",alignText:"alignText",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title",3,"ngStyle"],[1,"separator"],[1,"center-text-description",3,"ngStyle","innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"left-column"],[1,"right-column"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[3,"ngStyle"],[1,"separator2"]],template:function(wn,Mt){1&wn&&(i.DNE(0,Ue,8,15,"div",0),i.DNE(1,Be,10,36,"div",0),i.DNE(2,we,11,34,"div",0),i.DNE(3,Ft,10,31,"div",1)),2&wn&&(i.Y8G("ngIf","hh"==Mt.themeType),i.R7$(1),i.Y8G("ngIf","ae"==Mt.themeType),i.R7$(1),i.Y8G("ngIf","clemo"==Mt.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Mt.themeType||"sp"==Mt.themeType||"prestige"==Mt.themeType))},dependencies:[Ie.YU,Ie.bT,Ie.B3,le]})}}return ye})()},3967:(sn,Je,O)=>{O.d(Je,{t:()=>Ue});var i=O(7705),ae=O(345),r=O(6814),Ie=O(923),le=O(177);const Ce=function(Xe,We,ge){return{"full-width":Xe,centered:We,shadow:ge}},De=function(Xe,We,ge,Be){return{"background-color":Xe,color:We,"text-align":ge,"border-radius":Be}},Te=function(Xe,We){return{color:Xe,"font-size":We}};function xe(Xe,We){if(1&Xe){const ge=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),i.EFF(4),i.k0s(),i.j41(5,"span",6),i.EFF(6),i.k0s()(),i.nrm(7,"p",7),i.j41(8,"button",8),i.bIt("click",function(){i.eBV(ge);const Pt=i.XpG();return i.Njj(Pt.navigateTo("resident-form"))}),i.EFF(9,"Get Started"),i.k0s()()()}if(2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(7,Ce,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(11,De,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(3),i.Y8G("ngStyle",i.l_i(16,Te,ge.titleColor,ge.titleFontSize+"px")),i.R7$(1),i.SpI("",ge.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(19,Te,ge.subtitleColor,ge.subtitleFontSize+"px")),i.R7$(1),i.JRh(ge.subTitle),i.R7$(1),i.Y8G("innerHTML",ge.sanitizedContent,i.npT)}}function W(Xe,We){if(1&Xe){const ge=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",14),i.EFF(8),i.k0s()(),i.j41(9,"p"),i.EFF(10,"Discover what makes our services unique and tailored to your needs."),i.k0s(),i.EFF(11),i.j41(12,"div",15)(13,"button",16),i.bIt("click",function(){i.eBV(ge);const Pt=i.XpG();return i.Njj(Pt.navigateToContact(Pt.businessId))}),i.EFF(14,"Schedule a Visit"),i.k0s()()()()()()}if(2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(8,Ce,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(12,De,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,ge.titleColor,ge.titleFontSize+"px")),i.R7$(1),i.SpI(" ",ge.title," Ready to experience "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,ge.subtitleColor,ge.subtitleFontSize+"px")),i.R7$(1),i.Lme("",ge.subTitle,"",ge._businessName,"?"),i.R7$(3),i.SpI(" ",ge.content," ")}}function J(Xe,We){if(1&Xe){const ge=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(ge);const Pt=i.XpG();return i.Njj(Pt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(8,Ce,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(12,De,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,ge.titleColor,ge.titleFontSize+"px")),i.R7$(1),i.SpI("",ge.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,ge.subtitleColor,ge.subtitleFontSize+"px")),i.R7$(1),i.JRh(ge.subTitle),i.R7$(1),i.Y8G("innerHTML",ge.sanitizedContent,i.npT),i.R7$(3),i.JRh(ge.buttonText)}}function _e(Xe,We){if(1&Xe){const ge=i.RV6();i.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",19),i.bIt("click",function(){i.eBV(ge);const Pt=i.XpG();return i.Njj(Pt.navigateTo("contact-us"))}),i.EFF(12),i.k0s()()()()()()}if(2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(8,Ce,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(12,De,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,ge.titleColor,ge.titleFontSize+"px")),i.R7$(1),i.SpI("",ge.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,ge.subtitleColor,ge.subtitleFontSize+"px")),i.R7$(1),i.JRh(ge.subTitle),i.R7$(1),i.Y8G("innerHTML",ge.sanitizedContent,i.npT),i.R7$(3),i.JRh(ge.buttonText)}}function Fe(Xe,We){if(1&Xe){const ge=i.RV6();i.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),i.EFF(6),i.k0s(),i.j41(7,"span",6),i.EFF(8),i.k0s()(),i.nrm(9,"p",7),i.j41(10,"div",15)(11,"button",17),i.bIt("click",function(){i.eBV(ge);const Pt=i.XpG();return i.Njj(Pt.navigateTo("resident-form"))}),i.EFF(12),i.k0s()()()()()()}if(2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(8,Ce,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(12,De,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(5),i.Y8G("ngStyle",i.l_i(17,Te,ge.titleColor,ge.titleFontSize+"px")),i.R7$(1),i.SpI("",ge.title," "),i.R7$(1),i.Y8G("ngStyle",i.l_i(20,Te,ge.subtitleColor,ge.subtitleFontSize+"px")),i.R7$(1),i.JRh(ge.subTitle),i.R7$(1),i.Y8G("innerHTML",ge.sanitizedContent,i.npT),i.R7$(3),i.JRh(ge.buttonText)}}let Ue=(()=>{class Xe{set content(ge){this._content=ge,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(ge,Be,Pt){this.sanitizer=ge,this.router=Be,this.businessDataService=Pt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(ge){this.router.navigate(["/contact-us"],{queryParams:{id:ge}})}navigateTo(ge){this.businessDataService.getBusinessId().subscribe(Be=>{Be&&(this.businessId=Be)}),this.router.navigate(["/"+ge],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Be){return new(Be||Xe)(i.rXU(ae.up),i.rXU(r.Ix),i.rXU(Ie.A))}}static{this.\u0275cmp=i.VBU({type:Xe,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(Be,Pt){1&Be&&(i.j41(0,"div",0),i.DNE(1,xe,10,22,"div",1),i.DNE(2,W,15,23,"div",1),i.DNE(3,J,13,23,"div",1),i.DNE(4,_e,13,23,"div",1),i.DNE(5,Fe,13,23,"div",1),i.k0s()),2&Be&&(i.Y8G("ngSwitch",Pt.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[le.YU,le.B3,le.ux,le.e1]})}}return Xe})()},3095:(sn,Je,O)=>{O.d(Je,{C:()=>le});var i=O(7705),ae=O(177);function r(Ce,De){if(1&Ce&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&Ce){const Te=i.XpG().$implicit;i.R7$(2),i.JRh(Te.answer)}}function Ie(Ce,De){if(1&Ce){const Te=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const J=i.eBV(Te).$implicit;return i.Njj(J.open=!J.open)}),i.EFF(2),i.k0s(),i.DNE(3,r,3,1,"div",4),i.k0s()}if(2&Ce){const Te=De.$implicit;i.R7$(2),i.SpI(" ",Te.question," "),i.R7$(1),i.Y8G("ngIf",Te.open)}}let le=(()=>{class Ce{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(xe){return new(xe||Ce)}}static{this.\u0275cmp=i.VBU({type:Ce,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(xe,W){1&xe&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,Ie,4,2,"div",1),i.k0s()),2&xe&&(i.R7$(3),i.Y8G("ngForOf",W.faqs))},dependencies:[ae.Sq,ae.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Ce})()},3711:(sn,Je,O)=>{O.d(Je,{a:()=>Te});var i=O(5312),ae=O(7705),r=O(6661),Ie=O(177);function le(xe,W){1&xe&&(ae.j41(0,"div",4)(1,"span"),ae.EFF(2,"Mock Google Map Enabled"),ae.k0s()())}function Ce(xe,W){1&xe&&(ae.j41(0,"div",5),ae.nrm(1,"img",6),ae.k0s())}function De(xe,W){1&xe&&ae.nrm(0,"div",7)}let Te=(()=>{class xe{constructor(J){this.googleMapsLoader=J,this.address="",this.layoutType="demo",this.useMockMap=i.c.useMockGoogleMap}ngOnInit(){console.log("Google Map Address:",this.address),this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(J=>{console.error("Error loading Google Maps script:",J)})}ngOnChanges(J){this.useMockMap||J.address&&!J.address.firstChange&&this.showAddressOnMap(J.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(J){this.geocoder.geocode({address:J},(_e,Fe)=>{if("OK"===Fe){this.map.setCenter(_e[0].geometry.location);const Ue=new google.maps.LatLngBounds;Ue.extend(_e[0].geometry.location),this.map.fitBounds(Ue),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:_e[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+Fe)})}getZoomLevel(J){document.getElementById("map");const Ue=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(J*Ue)))}static{this.\u0275fac=function(_e){return new(_e||xe)(ae.rXU(r.L))}}static{this.\u0275cmp=ae.VBU({type:xe,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[ae.OA$],decls:6,vars:3,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],["class","mock-map",4,"ngIf","ngIfElse"],["liveMap",""],[1,"mock-badge"],[1,"mock-map"],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",2,"width","100%","height","600px"]],template:function(_e,Fe){if(1&_e&&(ae.j41(0,"div",0),ae.DNE(1,le,3,0,"div",1),ae.k0s(),ae.qex(2),ae.DNE(3,Ce,2,0,"div",2),ae.DNE(4,De,1,0,"ng-template",null,3,ae.C5r),ae.bVm()),2&_e){const Ue=ae.sdS(5);ae.R7$(1),ae.Y8G("ngIf",Fe.useMockMap),ae.R7$(2),ae.Y8G("ngIf",Fe.useMockMap)("ngIfElse",Ue)}},dependencies:[Ie.bT],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}.mock-map[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;height:600px;max-width:100%;overflow:hidden}.mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return xe})()},263:(sn,Je,O)=>{O.d(Je,{g:()=>W});var i=O(7705),ae=O(6814),r=O(177);const Ie=function(J){return{color:J}};function le(J,_e){if(1&J&&(i.j41(0,"span",4),i.EFF(1),i.k0s()),2&J){const Fe=i.XpG(2);i.Y8G("ngStyle",i.eq3(2,Ie,Fe.titleColor)),i.R7$(1),i.SpI(" ",Fe.titleParts.part2,"")}}function Ce(J,_e){1&J&&i.nrm(0,"div",10)}function De(J,_e){if(1&J&&(i.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()()),2&J){const Fe=_e.$implicit;i.R7$(4),i.JRh(Fe.title),i.R7$(3),i.JRh(Fe.description)}}const Te=function(J,_e,Fe){return{"background-image":J,"background-color":_e,color:Fe}};function xe(J,_e){if(1&J&&(i.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,le,2,4,"span",5),i.k0s(),i.DNE(8,Ce,1,0,"div",6),i.k0s()(),i.j41(9,"h3",7),i.EFF(10),i.k0s(),i.j41(11,"div",8),i.DNE(12,De,8,2,"div",9),i.k0s()()()),2&J){const Fe=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.eq3(8,Ie,Fe.titleColor)),i.R7$(1),i.JRh(Fe.titleParts.part1),i.R7$(2),i.Y8G("ngIf",Fe.titleParts.part2),i.R7$(1),i.Y8G("ngIf",Fe.titleParts.part2),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ie,Fe.subtitleColor)),i.R7$(1),i.SpI(" ",Fe.subTitle," "),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,Te,Fe.sectionImageUrl?"url("+Fe.sectionImageUrl+")":"none",Fe.backgroundColor,Fe.textColor)),i.R7$(1),i.Y8G("ngForOf",Fe.items)}}let W=(()=>{class J{constructor(Fe){this.router=Fe,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Fe){return"boolean"==typeof Fe?Fe:"string"==typeof Fe&&"true"===Fe.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[Fe,Ue]=this.title.split("|").map(Xe=>Xe.trim());return{part1:Fe,part2:Ue}}return{part1:this.title,part2:null}}navigateTo(Fe){this.router.navigate(["/"+Fe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Ue){return new(Ue||J)(i.rXU(ae.Ix))}}static{this.\u0275cmp=i.VBU({type:J,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],["class","separator2",4,"ngIf"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"separator2"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(Ue,Xe){1&Ue&&i.DNE(0,xe,13,16,"div",0),2&Ue&&i.Y8G("ngIf",!Xe.isMinimal)},dependencies:[r.Sq,r.bT,r.B3]})}}return J})()},1915:(sn,Je,O)=>{O.d(Je,{j:()=>ct});var i=O(7705),ae=O(6814),r=O(177),Ie=O(4591);function le(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div",12),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}const Ce=function(ut){return{color:ut}};function De(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",9),i.DNE(6,le,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(3),i.Y8G("ngStyle",i.eq3(3,Ce,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Te(ut,Oe){if(1&ut&&(i.j41(0,"div",20),i.nrm(1,"i",21),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ce,be.textColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ce,be.subtitleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ce,be.textColor)),i.R7$(1),i.JRh(ee.description)}}function xe(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),i.EFF(5),i.k0s(),i.j41(6,"span",17),i.EFF(7),i.k0s()()(),i.j41(8,"div",18),i.DNE(9,Te,6,12,"div",19),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(5),i.SpI("",ee.title," "),i.R7$(2),i.JRh(ee.subTitle),i.R7$(2),i.Y8G("ngForOf",ee.items)}}const W=function(ut,Oe,ee,be,Le,dt){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee,"full-width":be,centered:Le,shadow:dt}},J=function(ut,Oe,ee,be,Le){return{"background-image":ut,"background-color":Oe,color:ee,"text-align":be,"border-radius":Le}};function _e(ut,Oe){if(1&ut&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,De,7,5,"div",5),i.DNE(3,xe,10,3,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.Y8G("ngClass",i.l4e(4,W,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth,ee.boxShadow))("ngStyle",i.s1E(11,J,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor,ee.alignText,ee.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function Fe(ut,Oe){if(1&ut&&(i.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),i.EFF(4),i.k0s()(),i.j41(5,"div",30)(6,"h2",31),i.EFF(7),i.k0s(),i.j41(8,"p",32),i.EFF(9),i.k0s()()()()),2&ut){const ee=Oe.$implicit,be=Oe.index;i.AVh("alt-section",be%2!=0),i.R7$(4),i.JRh(be+1),i.R7$(3),i.JRh(ee.title),i.R7$(2),i.JRh(ee.description)}}function Ue(ut,Oe){if(1&ut&&(i.j41(0,"section",24),i.DNE(1,Fe,10,5,"div",25),i.k0s()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",ee.items)}}function Xe(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",38),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit;i.R7$(1),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(2),i.JRh(ee.description)}}function We(ut,Oe){if(1&ut){const ee=i.RV6();i.j41(0,"div",39)(1,"button",40),i.bIt("click",function(){i.eBV(ee);const Le=i.XpG(3);return i.Njj(Le.navigateTo("contact-us"))}),i.EFF(2),i.k0s()()}if(2&ut){const ee=i.XpG(3);i.R7$(2),i.SpI(" ",ee.buttonText," ")}}const ge=function(ut,Oe,ee){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee}},Be=function(ut){return{"background-image":ut}};function Pt(ut,Oe){if(1&ut&&(i.j41(0,"div"),i.nrm(1,"app-section-tilte",33),i.j41(2,"div",34)(3,"div",18),i.DNE(4,Xe,6,3,"div",35),i.k0s()(),i.DNE(5,We,3,1,"div",36),i.k0s()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("titleColor",ee.titleColor)("title",ee.title),i.R7$(1),i.Y8G("ngClass",i.sMw(6,ge,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl))("ngStyle",i.eq3(10,Be,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none")),i.R7$(2),i.Y8G("ngForOf",ee.items),i.R7$(1),i.Y8G("ngIf",ee.showButton)}}function Se(ut,Oe){if(1&ut&&(i.j41(0,"section",4)(1,"div"),i.DNE(2,Ue,2,1,"section",23),i.DNE(3,Pt,6,12,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.Y8G("ngClass",i.l4e(4,W,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth,ee.boxShadow))("ngStyle",i.s1E(11,J,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor,ee.alignText,ee.borderRadius+"px")),i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function we(ut,Oe){if(1&ut&&(i.j41(0,"span",22),i.EFF(1),i.k0s()),2&ut){const ee=i.XpG(3);i.Y8G("ngStyle",i.eq3(2,Ce,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.titleParts.part2,"")}}function at(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}const rt=function(ut,Oe,ee){return{"background-image":ut,"background-color":Oe,color:ee}};function ft(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),i.EFF(5),i.k0s(),i.j41(6,"h2"),i.DNE(7,we,2,4,"span",44),i.k0s(),i.nrm(8,"div",45),i.k0s()(),i.j41(9,"h3",46),i.EFF(10),i.k0s(),i.j41(11,"div",9),i.DNE(12,at,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(7,rt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(3),i.Y8G("ngStyle",i.eq3(11,Ce,ee.titleColor)),i.R7$(1),i.JRh(ee.titleParts.part1),i.R7$(2),i.Y8G("ngIf",ee.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.eq3(13,Ce,ee.subtitleColor)),i.R7$(1),i.SpI(" ",ee.subTitle," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Ft(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ce,be.titleColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ce,be.titleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ce,be.subtitleColor)),i.R7$(1),i.SpI(" ",ee.description," ")}}const Ut=function(ut,Oe,ee,be,Le){return{"parallax-container":ut,"regular-image-container":Oe,"solid-bg-container":ee,"full-width":be,centered:Le}};function ye(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Ft,6,12,"div",35),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,Ut,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth))("ngStyle",i.sMw(11,rt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ce,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function $t(ut,Oe){if(1&ut&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,ft,13,15,"div",5),i.DNE(3,ye,7,17,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function qe(ut,Oe){if(1&ut&&(i.j41(0,"div",11)(1,"div"),i.nrm(2,"i",13),i.j41(3,"h2"),i.EFF(4),i.k0s()(),i.j41(5,"div",14)(6,"p"),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(2),i.JRh(ee.title),i.R7$(3),i.JRh(ee.description)}}function wn(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"h3",46),i.EFF(6),i.k0s(),i.j41(7,"div",9),i.DNE(8,qe,8,3,"div",10),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngStyle",i.sMw(6,rt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(10,Ce,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(1),i.Y8G("ngStyle",i.eq3(12,Ce,ee.subtitleColor)),i.R7$(1),i.SpI(" ",ee.subTitle," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Mt(ut,Oe){if(1&ut&&(i.j41(0,"div",37),i.nrm(1,"i",47),i.j41(2,"h2",22),i.EFF(3),i.k0s(),i.j41(4,"p",22),i.EFF(5),i.k0s()()),2&ut){const ee=Oe.$implicit,be=i.XpG(3);i.R7$(1),i.Y8G("ngStyle",i.eq3(6,Ce,be.titleColor))("ngClass",ee.icon),i.R7$(1),i.Y8G("ngStyle",i.eq3(8,Ce,be.titleColor)),i.R7$(1),i.JRh(ee.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(10,Ce,be.subtitleColor)),i.R7$(1),i.SpI(" ",ee.description," ")}}function zt(ut,Oe){if(1&ut&&(i.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),i.EFF(4),i.k0s()(),i.j41(5,"div",18),i.DNE(6,Mt,6,12,"div",35),i.k0s()()()),2&ut){const ee=i.XpG(2);i.R7$(1),i.Y8G("ngClass",i.s1E(5,Ut,ee.isParallax&&ee.sectionImageUrl,!ee.isParallax&&ee.sectionImageUrl,!ee.sectionImageUrl,ee.fullWidth,!ee.fullWidth))("ngStyle",i.sMw(11,rt,ee.sectionImageUrl?"url("+ee.sectionImageUrl+")":"none",ee.backgroundColor,ee.textColor)),i.R7$(2),i.Y8G("ngStyle",i.eq3(15,Ce,ee.titleColor)),i.R7$(1),i.SpI(" ",ee.title," "),i.R7$(2),i.Y8G("ngForOf",ee.items)}}function Yt(ut,Oe){if(1&ut&&(i.j41(0,"section",41)(1,"div"),i.DNE(2,wn,9,14,"div",5),i.DNE(3,zt,7,17,"div",5),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(2),i.Y8G("ngIf",!ee.isMinimal),i.R7$(1),i.Y8G("ngIf",ee.isMinimal)}}function _t(ut,Oe){if(1&ut&&(i.j41(0,"div",52)(1,"div",53),i.nrm(2,"i",54),i.k0s(),i.j41(3,"div",55)(4,"h2",56),i.EFF(5),i.k0s(),i.j41(6,"p",57),i.EFF(7),i.k0s()()()),2&ut){const ee=Oe.$implicit;i.R7$(2),i.Y8G("ngClass",ee.icon),i.R7$(3),i.JRh(ee.name),i.R7$(2),i.JRh(ee.description)}}function ze(ut,Oe){if(1&ut&&(i.j41(0,"section",48),i.nrm(1,"app-section-tilte",49),i.j41(2,"div",50),i.DNE(3,_t,8,3,"div",51),i.k0s()()),2&ut){const ee=i.XpG();i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",ee.items)}}let ct=(()=>{class ut{constructor(ee){this.router=ee,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(ee){return"boolean"==typeof ee?ee:"string"==typeof ee&&"true"===ee.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[ee,be]=this.title.split("|").map(Le=>Le.trim());return{part1:ee,part2:be}}return{part1:this.title,part2:null}}navigateTo(ee){this.router.navigate(["/"+ee],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(be){return new(be||ut)(i.rXU(ae.Ix))}}static{this.\u0275cmp=i.VBU({type:ut,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(be,Le){1&be&&(i.j41(0,"div",0),i.DNE(1,_e,4,17,"section",1),i.DNE(2,Se,4,17,"section",1),i.DNE(3,$t,4,2,"section",2),i.DNE(4,Yt,4,2,"section",2),i.DNE(5,ze,4,2,"section",3),i.k0s()),2&be&&(i.R7$(1),i.Y8G("ngIf","hh"===Le.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Le.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Le.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Le.themeType),i.R7$(1),i.Y8G("ngIf","sb"==Le.themeType||"sp"==Le.themeType))},dependencies:[r.YU,r.Sq,r.bT,r.B3,Ie.L]})}}return ut})()},8035:(sn,Je,O)=>{O.d(Je,{H:()=>xe});var i=O(7705),ae=O(345),r=O(177),Ie=O(4591);function le(W,J){if(1&W&&(i.j41(0,"div",6),i.nrm(1,"img",7),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"span",8),i.EFF(5),i.k0s(),i.nrm(6,"p",9),i.k0s()),2&W){const _e=J.$implicit,Fe=i.XpG(2);i.R7$(1),i.Y8G("src",_e.image,i.B4B)("alt",_e.title),i.R7$(2),i.JRh(_e.title),i.R7$(2),i.JRh(_e.category),i.R7$(1),i.Y8G("innerHTML",Fe.getSanitizedDescription(_e.description),i.npT)}}function Ce(W,J){if(1&W&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),i.k0s(),i.j41(4,"div",4),i.DNE(5,le,7,5,"div",5),i.k0s()()),2&W){const _e=i.XpG();i.R7$(1),i.Y8G("title","Website Packages"),i.R7$(4),i.Y8G("ngForOf",_e.displayItems)}}function De(W,J){if(1&W&&(i.j41(0,"div",6)(1,"div",10),i.nrm(2,"img",11),i.j41(3,"span",12),i.EFF(4),i.nI1(5,"number"),i.k0s()(),i.j41(6,"h3",13),i.EFF(7),i.k0s(),i.nrm(8,"p",9),i.j41(9,"a",14),i.EFF(10,"Visit"),i.k0s()()),2&W){const _e=J.$implicit,Fe=J.index,Ue=i.XpG(2);i.R7$(2),i.Mz_("alt","",_e.title," Logo"),i.Y8G("src",_e.companyLogo||_e.image,i.B4B),i.R7$(2),i.JRh(i.i5U(5,6,Fe+1,"2.0")),i.R7$(3),i.JRh(_e.title),i.R7$(1),i.Y8G("innerHTML",Ue.getSanitizedDescription(_e.description),i.npT),i.R7$(1),i.FS9("href",_e.url,i.B4B)}}function Te(W,J){if(1&W&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"p",3),i.EFF(3,"Using carefully vetted providers and vendors."),i.k0s(),i.j41(4,"div",4),i.DNE(5,De,11,9,"div",5),i.k0s()()),2&W){const _e=i.XpG();i.R7$(1),i.Y8G("title","Trusted Partners"),i.R7$(4),i.Y8G("ngForOf",_e.displayItems)}}let xe=(()=>{class W{constructor(_e){this.sanitizer=_e,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(_e){return this.sanitizer.bypassSecurityTrustHtml(_e)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(Fe){return new(Fe||W)(i.rXU(ae.up))}}static{this.\u0275cmp=i.VBU({type:W,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(Fe,Ue){1&Fe&&(i.DNE(0,Ce,6,2,"div",0),i.DNE(1,Te,6,2,"div",0)),2&Fe&&(i.Y8G("ngIf","sb"==Ue.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=Ue.layoutType))},dependencies:[r.Sq,r.bT,Ie.L,r.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return W})()},491:(sn,Je,O)=>{O.d(Je,{G:()=>Xe});var i=O(7705),ae=O(345),r=O(6814),Ie=O(177);const le=function(We,ge,Be){return{"full-width":We,centered:ge,shadow:Be}},Ce=function(We,ge,Be,Pt){return{"background-color":We,color:ge,"text-align":Be,"border-radius":Pt}};function De(We,ge){if(1&We&&(i.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),i.EFF(4),i.k0s()(),i.nrm(5,"p",6),i.k0s(),i.j41(6,"div",7),i.nrm(7,"img",8),i.k0s()()),2&We){const Be=i.XpG();i.Y8G("ngClass",i.sMw(6,le,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",i.ziG(10,Ce,Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),i.R7$(4),i.JRh(Be.title),i.R7$(1),i.Y8G("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}function Te(We,ge){if(1&We&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&We){const Be=i.XpG(2);i.R7$(1),i.SpI(" ",Be.titleParts.part2,"")}}const xe=function(We,ge,Be){return{color:We,"font-size":ge,"font-style":Be}};function W(We,ge){if(1&We&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h2",12),i.EFF(5),i.k0s(),i.j41(6,"h3",12),i.DNE(7,Te,2,1,"span",13),i.k0s(),i.nrm(8,"div",14)(9,"p",15),i.k0s(),i.j41(10,"div",16),i.nrm(11,"img",8),i.k0s()()()()),2&We){const Be=i.XpG();i.R7$(4),i.Y8G("ngStyle",i.sMw(8,xe,Be.titleColor,Be.titleFontSize+"px",Be.titleFontStyle)),i.R7$(1),i.JRh(Be.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,xe,Be.subtitleColor,Be.subtitleFontSize+"px",Be.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",Be.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,xe,Be.textColor,Be.textFontSize+"px",Be.textFontStyle))("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}const J=function(We,ge){return{color:We,"font-size":ge}};function _e(We,ge){if(1&We&&(i.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",16),i.nrm(4,"img",8),i.k0s(),i.j41(5,"div",17)(6,"h3",12),i.EFF(7),i.k0s(),i.j41(8,"h2",12),i.EFF(9),i.k0s(),i.nrm(10,"p",6),i.k0s()()()()),2&We){const Be=i.XpG();i.R7$(4),i.Y8G("src",Be.sectionImageUrl,i.B4B)("alt",Be.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(7,J,Be.titleColor,Be.titleFontSize+"px")),i.R7$(1),i.JRh(Be.title),i.R7$(1),i.Y8G("ngStyle",i.l_i(10,J,Be.subtitleColor,Be.subtitleFontSize+"px")),i.R7$(1),i.JRh(Be.subTitle),i.R7$(1),i.Y8G("innerHTML",Be.sanitizedContent,i.npT)}}function Fe(We,ge){if(1&We&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&We){const Be=i.XpG(2);i.R7$(1),i.SpI(" ",Be.titleParts.part2,"")}}function Ue(We,ge){if(1&We&&(i.j41(0,"section",2)(1,"div",3)(2,"h3",12),i.EFF(3),i.k0s(),i.j41(4,"h2",12),i.DNE(5,Fe,2,1,"span",13),i.k0s(),i.nrm(6,"div",14)(7,"p",15),i.k0s(),i.j41(8,"div",7),i.nrm(9,"img",8),i.k0s()()),2&We){const Be=i.XpG();i.Y8G("ngClass",i.sMw(10,le,Be.fullWidth,!Be.fullWidth,Be.boxShadow))("ngStyle",i.ziG(14,Ce,Be.backgroundColor,Be.textColor,Be.alignText,Be.borderRadius+"px")),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,xe,Be.subtitleColor,Be.subtitleFontSize+"px",Be.textFontStyle)),i.R7$(1),i.JRh(Be.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,xe,Be.titleColor,Be.titleFontSize+"px",Be.textFontStyle)),i.R7$(1),i.Y8G("ngIf",Be.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,xe,Be.textColor,Be.textFontSize+"px",Be.textFontStyle))("innerHTML",Be.sanitizedContent,i.npT),i.R7$(2),i.FS9("src",Be.sectionImageUrl,i.B4B),i.FS9("alt",Be.title)}}let Xe=(()=>{class We{constructor(Be,Pt){this.sanitizer=Be,this.router=Pt,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Be){this._content=Be,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Be,Pt]=this.title.split("|").map(Se=>Se.trim());return{part1:Be,part2:Pt}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(Be){return"boolean"==typeof Be?Be:"string"==typeof Be&&"true"===Be.toLowerCase()}static{this.\u0275fac=function(Pt){return new(Pt||We)(i.rXU(ae.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:We,selectors:[["app-left-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"left-image-container"],[1,"left-text-container"]],template:function(Pt,Se){1&Pt&&(i.DNE(0,De,8,15,"section",0),i.DNE(1,W,12,20,"section",1),i.DNE(2,_e,11,13,"section",1),i.DNE(3,Ue,10,31,"section",0)),2&Pt&&(i.Y8G("ngIf","hh"===Se.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Se.themeType||"sb"===Se.themeType||"sp"===Se.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Se.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Se.themeType))},dependencies:[Ie.YU,Ie.bT,Ie.B3]})}}return We})()},4593:(sn,Je,O)=>{O.d(Je,{F:()=>Ue});var i=O(7705),ae=O(345),r=O(6814),Ie=O(177);const le=function(Xe,We,ge){return{"full-width":Xe,centered:We,shadow:ge}},Ce=function(Xe,We,ge,Be){return{"background-color":Xe,color:We,"text-align":ge,"border-radius":Be}};function De(Xe,We){if(1&Xe&&(i.j41(0,"section",4)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"div",8)(5,"h2",9),i.EFF(6),i.k0s()(),i.nrm(7,"p",10),i.k0s()()),2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(6,le,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(10,Ce,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(2),i.FS9("src",ge.sectionImageUrl,i.B4B),i.FS9("alt",ge.title),i.R7$(4),i.JRh(ge.title),i.R7$(1),i.Y8G("innerHTML",ge.sanitizedContent,i.npT)}}function Te(Xe,We){if(1&Xe&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Xe){const ge=i.XpG(2);i.R7$(1),i.SpI(" ",ge.titleParts.part2,"")}}const xe=function(Xe,We,ge){return{color:Xe,"font-size":We,"font-style":ge}};function W(Xe,We){if(1&Xe&&(i.j41(0,"section",11)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",7)(6,"h2",15),i.EFF(7),i.k0s(),i.j41(8,"h3",15),i.DNE(9,Te,2,1,"span",16),i.k0s(),i.nrm(10,"div",17)(11,"p",18),i.k0s()()()()),2&Xe){const ge=i.XpG();i.R7$(4),i.FS9("src",ge.sectionImageUrl,i.B4B),i.FS9("alt",ge.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(8,xe,ge.titleColor,ge.titleFontSize+"px",ge.titleFontStyle)),i.R7$(1),i.JRh(ge.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(12,xe,ge.subtitleColor,ge.subtitleFontSize+"px",ge.subtitleFontStyle)),i.R7$(1),i.Y8G("ngIf",ge.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(16,xe,ge.textColor,ge.textFontSize+"px",ge.textFontStyle))("innerHTML",ge.sanitizedContent,i.npT)}}function J(Xe,We){if(1&Xe&&(i.j41(0,"section",19)(1,"div",12)(2,"div",13)(3,"div",14),i.nrm(4,"img",6),i.k0s(),i.j41(5,"div",20)(6,"h3",15),i.EFF(7),i.k0s(),i.j41(8,"h2",15),i.EFF(9),i.k0s(),i.nrm(10,"p",21),i.k0s()()()()),2&Xe){const ge=i.XpG();i.R7$(4),i.Y8G("src",ge.sectionImageUrl,i.B4B)("alt",ge.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(9,xe,ge.titleColor,ge.titleFontSize+"px",ge.titleFontStyle)),i.R7$(1),i.JRh(ge.title),i.R7$(1),i.Y8G("ngStyle",i.sMw(13,xe,ge.subtitleColor,ge.subtitleFontSize+"px",ge.subtitleFontStyle)),i.R7$(1),i.JRh(ge.subTitle),i.R7$(1),i.Y8G("ngStyle",i.sMw(17,xe,ge.textColor,ge.textFontSize+"px",ge.textFontStyle))("innerHTML",ge.sanitizedContent,i.npT)("innerHTML",ge.sanitizedContent,i.npT)}}function _e(Xe,We){if(1&Xe&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&Xe){const ge=i.XpG(2);i.R7$(1),i.SpI(" ",ge.titleParts.part2,"")}}function Fe(Xe,We){if(1&Xe&&(i.j41(0,"section",22)(1,"div",5),i.nrm(2,"img",6),i.k0s(),i.j41(3,"div",7)(4,"h3",15),i.EFF(5),i.k0s(),i.j41(6,"h2",15),i.DNE(7,_e,2,1,"span",16),i.k0s(),i.nrm(8,"div",17)(9,"p",18),i.k0s()()),2&Xe){const ge=i.XpG();i.Y8G("ngClass",i.sMw(10,le,ge.fullWidth,!ge.fullWidth,ge.boxShadow))("ngStyle",i.ziG(14,Ce,ge.backgroundColor,ge.textColor,ge.alignText,ge.borderRadius+"px")),i.R7$(2),i.FS9("src",ge.sectionImageUrl,i.B4B),i.FS9("alt",ge.title),i.R7$(2),i.Y8G("ngStyle",i.sMw(19,xe,ge.subtitleColor,ge.subtitleFontSize+"px",ge.subtitleFontStyle)),i.R7$(1),i.JRh(ge.titleParts.part1),i.R7$(1),i.Y8G("ngStyle",i.sMw(23,xe,ge.titleColor,ge.titleFontSize+"px",ge.titleFontStyle)),i.R7$(1),i.Y8G("ngIf",ge.titleParts.part2),i.R7$(2),i.Y8G("ngStyle",i.sMw(27,xe,ge.textColor,ge.textFontSize+"px",ge.textFontStyle))("innerHTML",ge.sanitizedContent,i.npT)}}let Ue=(()=>{class Xe{constructor(ge,Be){this.sanitizer=ge,this.router=Be,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.textFontSize="16",this.textFontStyle="normal",this.titleColor="#000000",this.titleFontSize="34",this.titleFontStyle="#normal",this.subtitleColor="#000000",this.subtitleFontSize="14",this.subtitleFontStyle="#normal",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ge){this._content=ge,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ge)}get titleParts(){if(this.title.includes("|")){const[ge,Be]=this.title.split("|").map(Pt=>Pt.trim());return{part1:ge,part2:Be}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ge){return"boolean"==typeof ge?ge:"string"==typeof ge&&"true"===ge.toLowerCase()}static{this.\u0275fac=function(Be){return new(Be||Xe)(i.rXU(ae.up),i.rXU(r.Ix))}}static{this.\u0275cmp=i.VBU({type:Xe,selectors:[["app-right-text"]],inputs:{themeType:"themeType",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",textFontSize:"textFontSize",textFontStyle:"textFontStyle",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontStyle:"titleFontStyle",subTitle:"subTitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontStyle:"subtitleFontStyle",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","content-container alt",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[3,"ngStyle"],[4,"ngIf"],[1,"separator2"],[1,"center-text-description",3,"ngStyle","innerHTML"],[1,"content-container","alt"],[1,"left-text-container"],[3,"ngStyle","innerHTML"],[1,"left-text-section",3,"ngClass","ngStyle"]],template:function(Be,Pt){1&Be&&(i.DNE(0,De,8,15,"section",0),i.DNE(1,W,12,20,"section",1),i.DNE(2,J,11,21,"section",2),i.DNE(3,Fe,10,31,"section",3)),2&Be&&(i.Y8G("ngIf","hh"===Pt.themeType),i.R7$(1),i.Y8G("ngIf","ae"===Pt.themeType||"sb"===Pt.themeType||"sp"===Pt.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===Pt.themeType),i.R7$(1),i.Y8G("ngIf","prestige"===Pt.themeType))},dependencies:[Ie.YU,Ie.bT,Ie.B3]})}}return Xe})()},4591:(sn,Je,O)=>{O.d(Je,{L:()=>Ie});var i=O(7705),ae=O(177);const r=function(le){return{color:le}};let Ie=(()=>{class le{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Te){return new(Te||le)}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Te,xe){1&Te&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s()()),2&Te&&(i.R7$(1),i.Y8G("ngStyle",i.eq3(2,r,xe.titleColor)),i.R7$(1),i.JRh(xe.title))},dependencies:[ae.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return le})()},4140:(sn,Je,O)=>{O.d(Je,{B:()=>k});var i=O(7705),ae=O(7304),r=O(4593),Ie=O(491),le=O(9969),Ce=O(6814),De=O(923),Te=O(177);const xe=function($){return{id:$}},W=function($,se){return{"clemo-btn":$,"clemo-btn-outline":se}},J=function($){return{"border-radius":$}};function _e($,se){if(1&$&&(i.qex(0),i.j41(1,"a",15),i.EFF(2),i.k0s(),i.bVm()),2&$){const ne=se.$implicit,Ee=i.XpG(3);i.R7$(1),i.Y8G("routerLink",ne.link)("queryParams",i.eq3(5,xe,null==Ee.business?null:Ee.business.id))("ngClass",i.l_i(7,W,!ne.outline,ne.outline))("ngStyle",i.eq3(10,J,Ee.buttonBorderRadius)),i.R7$(1),i.SpI(" ",ne.text," ")}}const Fe=function($,se){return{"font-size":$,"font-weight":se}};function Ue($,se){if(1&$&&(i.j41(0,"div",6)(1,"div",7)(2,"h1"),i.EFF(3),i.k0s(),i.nrm(4,"div",8)(5,"h2",9),i.j41(6,"div",10),i.DNE(7,_e,3,12,"ng-container",11),i.k0s()(),i.j41(8,"div",12)(9,"div",13),i.nrm(10,"div",14),i.k0s(),i.j41(11,"p"),i.EFF(12,"Scroll down"),i.k0s()()()),2&$){const ne=i.XpG().$implicit,Ee=i.XpG();i.Y8G("@slideFadeIn",void 0),i.R7$(3),i.JRh(ne.title),i.R7$(2),i.Y8G("ngStyle",i.l_i(5,Fe,Ee.subtitleSize,Ee.subtitleWeight))("innerHTML",ne.subtitle,i.npT),i.R7$(2),i.Y8G("ngForOf",ne.buttons)}}const Xe=function($){return{backgroundImage:$,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function We($,se){if(1&$&&(i.j41(0,"div",3),i.nrm(1,"div",4),i.DNE(2,Ue,13,8,"div",5),i.k0s()),2&$){const ne=se.$implicit,Ee=se.index,gt=i.XpG();i.AVh("clemo-active",Ee===gt.currentSlide),i.Y8G("@slideTransition",void 0)("@.disabled",!gt.enableTransitions)("@slideTransition",gt.currentSlide),i.R7$(1),i.Y8G("ngStyle",i.eq3(7,Xe,"url("+ne.backgroundImage+")")),i.R7$(1),i.Y8G("ngIf",(null==ne.title?null:ne.title.trim())&&Ee===gt.currentSlide)}}const ge=function($){return{"line-style":$}};function Be($,se){if(1&$){const ne=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const Gt=i.eBV(ne).index,pn=i.XpG(2);return i.Njj(pn.navigateToSlide(Gt))}),i.k0s()}if(2&$){const ne=se.index,Ee=i.XpG(2);i.AVh("clemo-active",ne===Ee.currentSlide),i.Y8G("ngClass",i.eq3(3,ge,"bottom"===Ee.navigation))}}function Pt($,se){if(1&$){const ne=i.RV6();i.j41(0,"button",21),i.bIt("click",function(){i.eBV(ne);const gt=i.XpG(2);return i.Njj(gt.prevSlide())}),i.nrm(1,"span",22),i.j41(2,"span",23),i.EFF(3,"Previous"),i.k0s()()}}function Se($,se){if(1&$){const ne=i.RV6();i.j41(0,"button",24),i.bIt("click",function(){i.eBV(ne);const gt=i.XpG(2);return i.Njj(gt.nextSlide())}),i.nrm(1,"span",25),i.j41(2,"span",23),i.EFF(3,"Next"),i.k0s()()}}const we=function($){return{"bottom-nav":$}};function at($,se){if(1&$&&(i.j41(0,"div")(1,"div",16),i.DNE(2,Be,1,5,"div",17),i.k0s(),i.DNE(3,Pt,4,0,"button",18),i.DNE(4,Se,4,0,"button",19),i.k0s()),2&$){const ne=i.XpG();i.R7$(1),i.Y8G("ngClass",i.eq3(4,we,"bottom"===ne.navigation)),i.R7$(1),i.Y8G("ngForOf",ne.slides),i.R7$(1),i.Y8G("ngIf",ne.sideButtons),i.R7$(1),i.Y8G("ngIf",ne.sideButtons)}}const rt=function($,se,ne,Ee,gt){return{"--slider-opacity":$,height:se,"--button-border-radius":ne,"--subtitle-size":Ee,"--subtitle-weight":gt}};let ft=(()=>{class ${constructor(ne,Ee){this.router=ne,this.businessDataService=Ee,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.enableTransitions=!0,this.autoSlide()}ngOnInit(){setTimeout(()=>this.enableTransitions=!0,50),console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ne=>{ne?(this.business=ne,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(Ee=>({title:this.replaceKeywords(Ee.title),subtitle:this.replaceKeywords(Ee.subtitle),backgroundImage:Ee.backgroundImage,buttons:Ee.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(ne){this.navigation=ne.navigation??"side",this.sideButtons=ne.sideButtons??!0,this.sliderHeight=ne.sliderHeight??"100vh",this.buttonBorderRadius=ne.buttonBorderRadius??"25px",this.subtitleSize=ne.subtitleSize??"1.5rem",this.subtitleWeight=ne.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",ne)}replaceKeywords(ne){return ne&&this.business?.businessName?ne.replace(/{{businessName}}/g,this.business.businessName):ne}navigateToSlide(ne){this.currentSlide=ne}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const ne=window.scrollY,Ee=window.innerHeight;this.sliderOpacity=Math.max(1-ne/Ee,0)}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(Ce.Ix),i.rXU(De.A))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-hero-slider"]],hostBindings:function(Ee,gt){1&Ee&&i.bIt("scroll",function(pn){return gt.onScroll(pn)},!1,i.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0),i.DNE(1,We,3,9,"div",1),i.DNE(2,at,5,6,"div",2),i.k0s()),2&Ee&&(i.Y8G("ngStyle",i.s1E(3,rt,gt.sliderOpacity,gt.sliderHeight,gt.buttonBorderRadius,gt.subtitleSize,gt.subtitleWeight)),i.R7$(1),i.Y8G("ngForOf",gt.slides),i.R7$(1),i.Y8G("ngIf",gt.slides.length>1))},dependencies:[Te.YU,Te.Sq,Te.bT,Te.B3,Ce.Wk,Ce.wQ],data:{animation:[(0,le.hZ)("slideFadeIn",[(0,le.kY)(":enter",[(0,le.P)("h1, h2, .clemo-separator",[(0,le.iF)({opacity:0,transform:"translateY(20px)"}),(0,le.yc)(150,(0,le.i0)("800ms ease-out",(0,le.iF)({opacity:1,transform:"translateY(0)"})))])])]),(0,le.hZ)("slideTransition",[(0,le.kY)(":increment",[(0,le.iF)({position:"relative"}),(0,le.P)(":enter, :leave",[(0,le.iF)({position:"absolute",width:"100%",top:0,left:0})],{optional:!0}),(0,le.Os)([(0,le.P)(":leave",[(0,le.i0)("600ms ease",(0,le.iF)({opacity:0,transform:"translateX(-5%)"}))],{optional:!0}),(0,le.P)(":enter",[(0,le.iF)({opacity:0,transform:"translateX(5%)"}),(0,le.i0)("600ms ease",(0,le.iF)({opacity:1,transform:"translateX(0)"}))],{optional:!0})])]),(0,le.kY)(":decrement",[(0,le.iF)({position:"relative"}),(0,le.P)(":enter, :leave",[(0,le.iF)({position:"absolute",width:"100%",top:0,left:0})]),(0,le.Os)([(0,le.P)(":leave",[(0,le.i0)("600ms ease",(0,le.iF)({opacity:0,transform:"translateX(5%)"}))],{optional:!0}),(0,le.P)(":enter",[(0,le.iF)({opacity:0,transform:"translateX(-5%)"}),(0,le.i0)("600ms ease",(0,le.iF)({opacity:1,transform:"translateX(0)"}))],{optional:!0})])])])]}})}}return $})();var Ft=O(1915);function Ut($,se){if(1&$&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&$){const ne=se.$implicit;i.R7$(1),i.Y8G("innerHTML",ne.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ne.description,i.npT)}}const ye=function($,se,ne){return{"full-width":$,centered:se,shadow:ne}},$t=function($,se,ne,Ee){return{"background-color":$,color:se,"text-align":ne,"border-radius":Ee}};function qe($,se){if(1&$&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Ut,3,2,"div",11),i.k0s()()(),i.bVm()),2&$){const ne=i.XpG();i.Y8G("ngClass",i.sMw(5,ye,ne.fullWidth,!ne.fullWidth,ne.boxShadow))("ngStyle",i.ziG(9,$t,ne.backgroundColor,ne.textColor,ne.alignText,ne.borderRadius+"px")),i.R7$(4),i.SpI("",ne.title," "),i.R7$(2),i.JRh(ne.subTitle),i.R7$(3),i.Y8G("ngForOf",ne.items)}}function wn($,se){1&$&&i.eu8(0)}function Mt($,se){if(1&$&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&$){const ne=se.$implicit;i.R7$(1),i.Y8G("innerHTML",ne.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ne.description,i.npT)}}function zt($,se){if(1&$&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Mt,3,2,"div",11),i.k0s()()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(4),i.SpI("",ne.title," "),i.R7$(2),i.JRh(ne.subTitle),i.R7$(3),i.Y8G("ngForOf",ne.items)}}let Yt=(()=>{class ${constructor(ne){this.route=ne,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(Ce.nX))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0),i.DNE(1,qe,10,14,"ng-container",1),i.DNE(2,wn,1,0,"ng-container",2),i.DNE(3,zt,10,3,"ng-container",3),i.k0s()),2&Ee&&(i.Y8G("ngSwitch",gt.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return $})();function _t($,se){if(1&$&&(i.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),i.EFF(5),i.k0s(),i.j41(6,"strong"),i.EFF(7),i.k0s()()()()()),2&$){const ne=se.$implicit;i.R7$(5),i.SpI('" ',ne.quote,' "'),i.R7$(2),i.JRh(ne.name)}}function ze($,se){if(1&$&&(i.qex(0),i.j41(1,"section",3)(2,"div",4)(3,"span",5),i.EFF(4,"Testimonials"),i.k0s()(),i.j41(5,"div",6),i.DNE(6,_t,8,2,"div",7),i.k0s()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(6),i.Y8G("ngForOf",ne.testimonials)}}function ct($,se){if(1&$&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&$){const ne=se.$implicit;i.R7$(5),i.JRh(ne.quote),i.R7$(2),i.JRh(ne.name)}}function ut($,se){if(1&$&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,ct,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ne.testimonials,0,4))}}function Oe($,se){if(1&$&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&$){const ne=se.$implicit;i.R7$(5),i.JRh(ne.quote),i.R7$(2),i.JRh(ne.name)}}function ee($,se){if(1&$&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,Oe,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ne.testimonials,0,4))}}function be($,se){if(1&$&&(i.j41(0,"div",21)(1,"div",22)(2,"div",23),i.EFF(3,"\u275d"),i.k0s(),i.j41(4,"p",24),i.EFF(5),i.k0s(),i.j41(6,"h4",25),i.EFF(7),i.k0s()()()),2&$){const ne=se.$implicit;i.R7$(5),i.JRh(ne.quote),i.R7$(2),i.JRh(ne.name)}}function Le($,se){if(1&$&&(i.qex(0),i.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),i.EFF(5,"Word of mouth"),i.k0s(),i.j41(6,"p",15),i.EFF(7,"You should hear what people have to say about us"),i.k0s()(),i.j41(8,"div",16)(9,"div",17),i.DNE(10,be,8,2,"div",18),i.nI1(11,"slice"),i.k0s(),i.j41(12,"div",19)(13,"button",20),i.EFF(14," View All Testimonials "),i.k0s()()()()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(10),i.Y8G("ngForOf",i.brH(11,1,ne.testimonials,0,4))}}function dt($,se){1&$&&i.eu8(0)}let it=(()=>{class ${constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(ne){this.currentIndex=ne,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(Ee){return new(Ee||$)}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0),i.DNE(1,ze,7,1,"ng-container",1),i.DNE(2,ut,15,5,"ng-container",1),i.DNE(3,ee,15,5,"ng-container",1),i.DNE(4,Le,15,5,"ng-container",1),i.DNE(5,dt,1,0,"ng-container",2),i.k0s()),2&Ee&&(i.Y8G("ngSwitch",gt.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"))},dependencies:[Te.Sq,Te.ux,Te.e1,Te.fG,Ce.Wk,Te.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return $})();var Bt=O(5312),Rn=O(6661),lr=O(345),un=O(1626);function kn($,se){1&$&&(i.j41(0,"div",13)(1,"span"),i.EFF(2,"Mock Google Reviews Enabled"),i.k0s()())}function nn($,se){if(1&$&&(i.j41(0,"a",14),i.EFF(1," Leave us a Google Review "),i.k0s()),2&$){const ne=i.XpG();i.Y8G("href",ne.googleReviewLink,i.B4B)}}function Qn($,se){if(1&$){const ne=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(ne);const gt=i.XpG(4);return i.Njj(gt.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function Ln($,se){if(1&$&&(i.j41(0,"p",27),i.EFF(1),i.DNE(2,Qn,4,0,"span",28),i.k0s()),2&$){const ne=i.XpG().$implicit,Ee=i.XpG(2);i.R7$(1),i.SpI(" ",Ee.truncateText(ne.quote)," "),i.R7$(1),i.Y8G("ngIf",Ee.isTruncated(ne.quote))}}function Jt($,se){if(1&$){const ne=i.RV6();i.j41(0,"span"),i.EFF(1," ... "),i.j41(2,"button",29),i.bIt("click",function(){i.eBV(ne);const gt=i.XpG(4);return i.Njj(gt.navigateTo("testimonials"))}),i.EFF(3,"Read More"),i.k0s()()}}function qt($,se){if(1&$&&(i.j41(0,"p",27),i.nrm(1,"span",30),i.DNE(2,Jt,4,0,"span",28),i.k0s()),2&$){const ne=i.XpG().$implicit,Ee=i.XpG(2);i.R7$(1),i.Y8G("innerHTML",Ee.truncateText(ne.rawQuote),i.npT),i.R7$(1),i.Y8G("ngIf",Ee.isTruncated(ne.rawQuote))}}function yr($,se){if(1&$&&i.nrm(0,"img",31),2&$){const ne=i.XpG().$implicit;i.FS9("alt",ne.name),i.Y8G("src",ne.photoUrl,i.B4B)}}function en($,se){if(1&$&&(i.j41(0,"div",32),i.EFF(1),i.k0s()),2&$){const ne=i.XpG().$implicit;i.R7$(1),i.SpI(" ",ne.name.charAt(0).toUpperCase()," ")}}function or($,se){1&$&&(i.j41(0,"div",33),i.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),i.k0s())}function Un($,se){if(1&$){const ne=i.RV6();i.j41(0,"div",34),i.bIt("click",function(){const Gt=i.eBV(ne).index,pn=i.XpG(3);return i.Njj(pn.goToSlide(Gt))}),i.k0s()}if(2&$){const ne=se.index,Ee=i.XpG(3);i.AVh("active",ne===Ee.currentIndex)}}function Vt($,se){if(1&$&&(i.j41(0,"div",16)(1,"div",17),i.EFF(2,"\u201c"),i.k0s(),i.DNE(3,Ln,3,2,"p",18),i.DNE(4,qt,3,2,"p",18),i.j41(5,"div",19),i.DNE(6,yr,1,2,"img",20),i.DNE(7,en,2,1,"ng-template",null,21,i.C5r),i.j41(9,"div")(10,"p",22),i.EFF(11),i.k0s(),i.j41(12,"p",23),i.EFF(13),i.k0s(),i.DNE(14,or,2,0,"div",24),i.k0s()(),i.j41(15,"div",25),i.DNE(16,Un,1,2,"div",26),i.k0s()()),2&$){const ne=se.$implicit,Ee=i.sdS(8),gt=i.XpG(2);i.Y8G("@slideIn",void 0),i.R7$(3),i.Y8G("ngIf",ne.isGoogle),i.R7$(1),i.Y8G("ngIf",!ne.isGoogle),i.R7$(2),i.Y8G("ngIf",ne.photoUrl)("ngIfElse",Ee),i.R7$(5),i.JRh(ne.name),i.R7$(2),i.JRh(ne.relationship),i.R7$(1),i.Y8G("ngIf",ne.isGoogle),i.R7$(2),i.Y8G("ngForOf",gt.testimonials)}}const Cn=function($){return[$]};function jn($,se){if(1&$&&(i.qex(0),i.DNE(1,Vt,17,9,"div",15),i.bVm()),2&$){const ne=i.XpG();i.R7$(1),i.Y8G("ngForOf",i.eq3(2,Cn,ne.currentTestimonial))("ngForTrackBy",ne.trackByIndex)}}function In($,se){1&$&&(i.j41(0,"p",35),i.EFF(1,"No testimonials available at the moment."),i.k0s())}let Rr=(()=>{class ${constructor(ne,Ee,gt,Gt,pn){this.businessDataService=ne,this.googleMapsLoader=Ee,this.router=gt,this.sanitizer=Gt,this.http=pn,this.business=null,this.useMockReviews=Bt.c.useMockGoogleReviews,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe(ne=>{ne&&(this.business=ne)}),this.useMockReviews?this.loadMockGoogleReviews():"0"!==this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadMockGoogleReviews(){this.http.get("/assets/mocks/mock-reviews.json").subscribe({next:ne=>{const Ee=ne.map(gt=>({name:gt.author_name,quote:gt.text,relationship:"Mock Google Review",isGoogle:!0}));this.testimonials=[...Ee,...this.testimonials],this.currentIndex=0},error:ne=>console.error("Failed to load mock reviews",ne)})}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(ne=>{if(ne&&ne.testimonials){const Ee=ne.testimonials.map(gt=>({...gt,relationship:"Testimonial",isGoogle:!1,rawQuote:gt.quote,quote:this.sanitizeHtml(gt.quote)}));this.testimonials=[...this.testimonials,...Ee]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(Ee,gt)=>{if(gt===google.maps.places.PlacesServiceStatus.OK){const Gt=Ee?.reviews?.map(pn=>({name:pn.author_name,quote:pn.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...Gt,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",gt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(ne){this.currentIndex=ne}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(ne,Ee){return ne}truncateText(ne){return ne.length>this.maxTextLength?ne.slice(0,this.maxTextLength):ne}isTruncated(ne){return ne.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}navigateTo(ne){this.businessDataService.getBusinessId().subscribe(Ee=>{Ee&&(this.businessId=Ee)}),console.log("Page: "+ne+" Parameters = "+this.businessId),this.router.navigate(["/"+ne],{queryParams:{id:this.businessId}})}sanitizeHtml(ne){return this.sanitizer.bypassSecurityTrustHtml(ne)}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(De.A),i.rXU(Rn.L),i.rXU(Ce.Ix),i.rXU(lr.up),i.rXU(un.Qq))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:21,vars:4,consts:[[1,"mock-data"],["class","mock-badge",4,"ngIf"],[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],[1,"mock-badge"],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text",4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"testimonial-dots"],[3,"active","click",4,"ngFor","ngForOf"],[1,"quote-text"],[4,"ngIf"],[1,"read-more",3,"click"],[3,"innerHTML"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[3,"click"],[1,"no-testimonials-message"]],template:function(Ee,gt){if(1&Ee&&(i.j41(0,"div")(1,"div",0),i.DNE(2,kn,3,0,"div",1),i.k0s(),i.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),i.EFF(7,"from our "),i.j41(8,"span",5),i.EFF(9,"community"),i.k0s()(),i.j41(10,"p",6),i.EFF(11," Here\u2019s what others had to say about us. "),i.k0s(),i.DNE(12,nn,2,1,"a",7),i.j41(13,"div",8)(14,"button",9),i.bIt("click",function(){return gt.previousSlide()}),i.EFF(15,"\u2190"),i.k0s(),i.j41(16,"button",10),i.bIt("click",function(){return gt.nextSlide()}),i.EFF(17,"\u2192"),i.k0s()()(),i.DNE(18,jn,2,4,"ng-container",11),i.k0s(),i.DNE(19,In,2,0,"ng-template",null,12,i.C5r),i.k0s()()),2&Ee){const Gt=i.sdS(20);i.R7$(2),i.Y8G("ngIf",gt.useMockReviews),i.R7$(10),i.Y8G("ngIf","0"!=(null==gt.business?null:gt.business.placeId)),i.R7$(6),i.Y8G("ngIf",gt.currentTestimonial)("ngIfElse",Gt)}},dependencies:[Te.Sq,Te.bT],styles:[".mock-data[_ngcontent-%COMP%]{max-width:var(--site-max-width);width:100%;margin:0 auto;text-align:center}.mock-badge[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:4px 10px;font-size:12px;font-weight:600;border-radius:4px;display:inline-block;margin:0 auto}"],data:{animation:[(0,le.hZ)("slideIn",[(0,le.kY)(":enter",[(0,le.iF)({opacity:0,transform:"translateX(-100%)"}),(0,le.i0)("0.5s ease-in",(0,le.iF)({opacity:1,transform:"translateX(0)"}))]),(0,le.kY)(":leave",[(0,le.i0)("0.5s ease-out",(0,le.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,le.hZ)("fadeInLeft",[(0,le.kY)(":enter",[(0,le.iF)({opacity:0,transform:"translateX(-100%)"}),(0,le.i0)("0.5s ease-in",(0,le.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,le.hZ)("fadeInRight",[(0,le.kY)(":enter",[(0,le.iF)({opacity:0,transform:"translateX(100%)"}),(0,le.i0)("0.5s ease-in",(0,le.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return $})();var Dr=O(3967);function Ur($,se){if(1&$&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&$){const ne=se.$implicit;i.R7$(1),i.Y8G("innerHTML",ne.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ne.description,i.npT)}}const zn=function($,se,ne){return{"full-width":$,centered:se,shadow:ne}},Wr=function($,se,ne,Ee){return{"background-color":$,color:se,"text-align":ne,"border-radius":Ee}};function es($,se){if(1&$&&(i.qex(0,4),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Ur,3,2,"div",11),i.k0s()()(),i.bVm()),2&$){const ne=i.XpG();i.Y8G("ngClass",i.sMw(5,zn,ne.fullWidth,!ne.fullWidth,ne.boxShadow))("ngStyle",i.ziG(9,Wr,ne.backgroundColor,ne.textColor,ne.alignText,ne.borderRadius+"px")),i.R7$(4),i.JRh(ne.title),i.R7$(2),i.SpI(" ",ne.subTitle," "),i.R7$(3),i.Y8G("ngForOf",ne.items)}}function fn($,se){1&$&&i.eu8(0)}function Kr($,se){if(1&$&&(i.j41(0,"div",12),i.nrm(1,"div",13)(2,"div",14),i.k0s()),2&$){const ne=se.$implicit;i.R7$(1),i.Y8G("innerHTML",ne.title,i.npT),i.R7$(1),i.Y8G("innerHTML",ne.description,i.npT)}}function tr($,se){if(1&$&&(i.qex(0),i.j41(1,"section",5)(2,"div",6)(3,"span",7),i.EFF(4),i.k0s(),i.j41(5,"span",8),i.EFF(6),i.k0s()(),i.j41(7,"div",9)(8,"div",10),i.DNE(9,Kr,3,2,"div",11),i.k0s()()(),i.bVm()),2&$){const ne=i.XpG();i.R7$(4),i.SpI("",ne.title," "),i.R7$(2),i.SpI(" ",ne.subTitle,""),i.R7$(3),i.Y8G("ngForOf",ne.items)}}let vr=(()=>{class ${constructor(ne){this.route=ne,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(Ce.nX))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0),i.DNE(1,es,10,14,"ng-container",1),i.DNE(2,fn,1,0,"ng-container",2),i.DNE(3,tr,10,3,"ng-container",3),i.k0s()),2&Ee&&(i.Y8G("ngSwitch",gt.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return $})();var Wn=O(3711),Ti=O(5558);function ht($,se){if(1&$&&(i.j41(0,"div",7),i.nrm(1,"i",8),i.j41(2,"h3",9),i.EFF(3),i.k0s(),i.j41(4,"p",10),i.EFF(5),i.k0s()()),2&$){const ne=se.$implicit;i.R7$(1),i.HbH(ne.icon),i.R7$(2),i.JRh(ne.title),i.R7$(2),i.JRh(ne.description)}}function yt($,se){1&$&&(i.j41(0,"button",11),i.EFF(1,"Learn More"),i.k0s())}let he=(()=>{class ${constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(Ee){return new(Ee||$)}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i.EFF(4),i.k0s(),i.j41(5,"div",4),i.DNE(6,ht,6,4,"div",5),i.k0s(),i.DNE(7,yt,2,0,"button",6),i.k0s()()()),2&Ee&&(i.R7$(4),i.JRh(gt.sectionTitle),i.R7$(2),i.Y8G("ngForOf",gt.items),i.R7$(1),i.Y8G("ngIf",gt.showLearnMore))},dependencies:[Te.Sq,Te.bT,Ce.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(/assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return $})();var je=O(8035),Ot=O(9483),Wt=O(3095),Pn=O(263);function Pr($,se){if(1&$){const ne=i.RV6();i.j41(0,"div",11),i.bIt("click",function(){const Gt=i.eBV(ne).index,pn=i.XpG();return i.Njj(pn.selectTab(Gt))}),i.EFF(1),i.k0s()}if(2&$){const ne=se.$implicit,Ee=se.index,gt=i.XpG();i.AVh("active",Ee===gt.selectedTabIndex),i.R7$(1),i.SpI(" ",ne.title," ")}}let nr=(()=>{class ${constructor(ne,Ee){this.businessDataService=ne,this.router=Ee,this.backgroundImage="",this.businessId="",this.tabs=[{title:"Years of Experience",number:"20+",description:"Dedicated to exceptional care with over 20 years of experience in the industry.",imageUrl:"/assets/sharedAssets/istockphoto-941789670-2048x2048.jpg",link:"/about-us"},{title:"Happy Families",number:"60+",description:"Families served with compassionate and personalized care.",imageUrl:"/assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg",link:"/about-us"},{title:"Services Offered",number:"36",description:"Comprehensive range of care services tailored to meet every need.",imageUrl:"/assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg",link:"/services"}],this.selectedTabIndex=0}selectTab(ne){this.selectedTabIndex=ne}get selectedTab(){return this.tabs[this.selectedTabIndex]}navigateTo(ne){this.businessDataService.getBusinessId().subscribe(Ee=>{Ee&&(this.businessId=Ee)}),console.log("Page: "+ne+" Parameters = "+this.businessId),this.router.navigate(["/"+ne],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(De.A),i.rXU(Ce.Ix))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-stats"]],inputs:{backgroundImage:"backgroundImage",businessId:"businessId"},decls:15,vars:6,consts:[[1,"tab-container"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"image"],[3,"src","alt"],[1,"text"],[1,"number"],[1,"title"],[1,"description"],[1,"read-more",3,"click"],[1,"tab",3,"click"]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,Pr,2,3,"div",2),i.k0s(),i.j41(3,"div",3)(4,"div",4),i.nrm(5,"img",5),i.k0s(),i.j41(6,"div",6)(7,"h1",7),i.EFF(8),i.k0s(),i.j41(9,"h2",8),i.EFF(10),i.k0s(),i.j41(11,"p",9),i.EFF(12),i.k0s(),i.j41(13,"a",10),i.bIt("click",function(){return gt.navigateTo(gt.selectedTab.link)}),i.EFF(14,"READ MORE \u2192"),i.k0s()()()()),2&Ee&&(i.R7$(2),i.Y8G("ngForOf",gt.tabs),i.R7$(3),i.FS9("alt",gt.selectedTab.title),i.Y8G("src",gt.selectedTab.imageUrl,i.B4B),i.R7$(3),i.JRh(gt.selectedTab.number),i.R7$(2),i.JRh(gt.selectedTab.title),i.R7$(2),i.JRh(gt.selectedTab.description))},dependencies:[Te.Sq],styles:[".tab-container[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;padding:2rem;width:100%;max-width:var(--site-max-width);margin:0 auto;border-bottom:solid 1px var(--dark-background-color)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid #ccc;margin-bottom:1rem;background:var(--secondary-color)}.tab[_ngcontent-%COMP%]{padding:1rem 7rem;cursor:pointer;font-weight:700;color:#333}.tab.active[_ngcontent-%COMP%]{border-bottom:3px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center;flex-wrap:wrap;background:var(--secondary-color)}.image[_ngcontent-%COMP%]{width:300px;height:400px;overflow:hidden;display:flex;justify-content:center;align-items:center;background:var(--background-color)}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text[_ngcontent-%COMP%]{max-width:500px}.number[_ngcontent-%COMP%]{font-size:10rem;font-weight:700;color:var(--dark-background-color)}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.5rem}.description[_ngcontent-%COMP%]{margin:1rem 0;color:#555}.read-more[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000}@media (max-width: 1024px)and (max-width: 1080px){.tab[_ngcontent-%COMP%]{padding:1rem 3rem}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px}.number[_ngcontent-%COMP%]{font-size:8rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 768px){.tabs[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;overflow:visible;padding:0;gap:0;border-bottom:none}.tab[_ngcontent-%COMP%]{width:100%;text-align:left;padding:1rem;border:1px solid #ddd;border-bottom:none;font-size:1rem;background-color:#f8f8f8}.tab[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #ddd}.tab.active[_ngcontent-%COMP%]{background-color:#fff;border-left:4px solid black;font-weight:700}.tab-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1rem 0}.image[_ngcontent-%COMP%]{width:100%;max-width:300px;height:400px;margin-bottom:1rem}.number[_ngcontent-%COMP%]{font-size:5rem}.text[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:1.25rem}.description[_ngcontent-%COMP%]{font-size:1rem}.read-more[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;font-size:.95rem}}"]})}}return $})(),ei=(()=>{class ${constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(Ee){return new(Ee||$)}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:2,vars:0,consts:[[1,"video-container"],["src","https://www.youtube.com/embed/5b8zEZiy9mg?si=O_nN5PyZjO9WE2ne","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(Ee,gt){1&Ee&&(i.j41(0,"div",0),i.nrm(1,"iframe",1),i.k0s())},styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-width:var(--site-max-width);aspect-ratio:16 / 9;height:auto;border:1px solid #ccc;border-radius:8px}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:60vh}}@media (max-width: 480px){.video-container[_ngcontent-%COMP%]{padding:8px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-height:50vh}}"]})}}return $})();var Rt=O(5743),G=O(6861);const x=["dynamicContainer"];let k=(()=>{class ${constructor(ne,Ee,gt,Gt,pn,_r){this.sectionService=ne,this.resolver=Ee,this.injector=gt,this.route=Gt,this.metaService=pn,this.businessDataService=_r,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ae.W,"hero-slider":ft,"right-text":r.F,"left-text":Ie.G,"item-list":Ft.j,"icon-list":he,"unique-features":Yt,testimonials:it,"testimonials-carousel":Rr,"why-us":vr,"google-map":Wn.a,"latest-products":je.H,cta:Ot.j,consultation:Dr.t,"item-list-image":Pn.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,Ti.n)(ne=>ne?(this.businessId=ne,this.metaService.loadAndApplyMeta(ne),this.businessDataService.loadBusinessData(ne)):[])).subscribe(ne=>{ne&&(this.business=ne,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(ne=>{ne&&0!==ne.length?(this.sections=ne.filter(Ee=>!1!==Ee.isActive).sort((Ee,gt)=>(Ee.order||0)-(gt.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(ft),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let ne=null;if(this.sections.forEach((Ee,gt)=>{const Gt=this.componentsMap[Ee.component];if(!Gt)return void console.error("Component Not Found:",Ee.component);if("consultation"===Ee.component)return void(ne=Ee);const pn=this.container.createComponent(Gt);this.assignComponentProperties(pn.instance,Ee)}),this.loadManualComponents(),ne){const Ee=this.componentsMap.consultation;if(Ee){const gt=this.container.createComponent(Ee);this.assignComponentProperties(gt.instance,ne)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("clemo"===this.business?.theme?.themeType&&(this.resolver.resolveComponentFactory(ei),this.container.createComponent(ei,{index:void 0,injector:this.injector})),"sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(je.H);const Ee=this.container.createComponent(je.H,{index:void 0,injector:this.injector});Ee.instance.layoutType=this.business?.theme?.themeType,Ee.changeDetectorRef.detectChanges()}if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(nr);const Ee=this.container.createComponent(nr,{index:void 0,injector:this.injector});Ee.instance.businessId=this.business?.id,Ee.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Rr),this.container.createComponent(Rr,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Wn.a);const Ee=this.container.createComponent(Wn.a,{index:void 0,injector:this.injector});Ee.instance.layoutType=this.business?.theme?.themeType||"demo",Ee.instance.address=this.business?.address||""}"sp"===this.business?.theme?.themeType&&this.container.createComponent(Wt.C,{index:void 0,injector:this.injector})}assignComponentProperties(ne,Ee){ne&&"object"==typeof ne&&(Object.assign(ne,{isActive:[void 0===Ee.isActive||Ee.isActive],order:Ee.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:Ee.items||[],isMinimal:Ee.isMinimal||!1,isParallax:Ee.isParallax??!0,backgroundColor:Ee.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(Ee.sectionContent||""),textColor:Ee.textColor||"#000000",textFontSize:Ee.textFontSize||"16",textFontStyle:Ee.textFontStyle||"normal",alignText:Ee.alignText||"left",title:this.applyReplaceKeyword(Ee.sectionTitle||""),titleColor:Ee.titleColor||"#000000",titleFontSize:Ee.titleFontSize||"36",titleFontStyle:Ee.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(Ee.sectionSubTitle||""),subtitleColor:Ee.subtitleColor||"#000000",subtitleFontSize:Ee.subtitleFontSize||"14",subtitleFontStyle:Ee.subtitleFontStyle||"normal",fullWidth:Ee.fullWidth||!1,showBtn:Ee.showLearnMore||!1,showButton:Ee.showButton||!1,buttonText:Ee.buttonText||"Learn More",buttonLink:Ee.buttonLink||"",showImage:!!Ee.sectionImageUrl,sectionImageUrl:Ee.sectionImageUrl||"",boxShadow:Ee.boxShadow||!1,borderRadius:Ee.borderRadius??10,page:Ee.page,location:Ee.location,businessId:this.business?.id}),ne.changeDetectorRef&&ne.changeDetectorRef.detectChanges())}applyReplaceKeyword(ne){return ne&&this.business?.businessName?ne.replace(/{{\s*businessName\s*}}/g,this.business.businessName):ne}static{this.\u0275fac=function(Ee){return new(Ee||$)(i.rXU(Rt.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(Ce.nX),i.rXU(G.R),i.rXU(De.A))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-home"]],viewQuery:function(Ee,gt){if(1&Ee&&i.GBs(x,7,i.c1b),2&Ee){let Gt;i.mGM(Gt=i.lsd())&&(gt.container=Gt.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(Ee,gt){1&Ee&&i.nrm(0,"div",0,1)}})}}return $})()},4796:(sn,Je,O)=>{O.d(Je,{u:()=>le});var i=O(6354),ae=O(7705),r=O(1977),Ie=O(6814);let le=(()=>{class Ce{constructor(Te,xe){this.afAuth=Te,this.router=xe,this.user$=Te.authState}login(Te,xe){return this.afAuth.signInWithEmailAndPassword(Te,xe)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,i.T)(Te=>!!Te))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(xe){return new(xe||Ce)(ae.KVO(r.DS),ae.KVO(Ie.Ix))}}static{this.\u0275prov=ae.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},923:(sn,Je,O)=>{O.d(Je,{A:()=>De});var i=O(4412),ae=O(6354),r=O(8141),Ie=O(7705),le=O(3012),Ce=O(8891);let De=(()=>{class Te{constructor(W,J){this.businessService=W,this.businessPageHeroService=J,this.businessDataSubject=new i.t(null),this.businessIdSubject=new i.t(null),this.locationsSubject=new i.t([]),this.pageHeroSubject=new i.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(W){return console.log("BusinessDataService - loadBusinessData for ID:",W),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(W).pipe((0,ae.T)(J=>J?(J.sections||(J.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),J):null),(0,r.M)(J=>{this.businessDataSubject.next(J),this.businessIdSubject.next(W),this.businessService.getLocations(W).subscribe(_e=>{this.locationsSubject.next(_e)}),this.businessPageHeroService.getPageHeroes(W).subscribe(_e=>{this.pageHeroSubject.next(_e)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}getPageHeros(){return this.pageHeroSubject.asObservable()}getLocationsForBusiness(W){return this.businessService.getLocations(W)}static{this.\u0275fac=function(J){return new(J||Te)(Ie.KVO(le.u),Ie.KVO(Ce.x))}}static{this.\u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},8891:(sn,Je,O)=>{O.d(Je,{x:()=>Ie});var i=O(6354),ae=O(7705),r=O(6340);let Ie=(()=>{class le{constructor(De){this.firestore=De}generateNewId(){return this.firestore.createId()}getPageHeroes(De){return this.firestore.collection(`businesses/${De}/pageHeroes`).snapshotChanges().pipe((0,i.T)(Te=>Te.map(xe=>{const W=xe.payload.doc.data();return{id:xe.payload.doc.id,...W}})))}savePageHero(De,Te){const xe=this.firestore.collection(`businesses/${De}/pageHeroes`);return Te.id?xe.doc(Te.id).set(Te):xe.add(Te)}deletePageHero(De,Te){return this.firestore.doc(`businesses/${De}/pageHeroes/${Te}`).delete()}static{this.\u0275fac=function(Te){return new(Te||le)(ae.KVO(r.Qe))}}static{this.\u0275prov=ae.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})()},5743:(sn,Je,O)=>{O.d(Je,{W:()=>Ce});var i=O(467),ae=O(6354),r=O(7705),Ie=O(6340),le=O(5571);let Ce=(()=>{class De{constructor(xe,W){this.firestore=xe,this.uploadService=W,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(xe){return this.firestore.collection(this.collectionName).doc(xe).collection("sections").snapshotChanges().pipe((0,ae.T)(W=>W.map(J=>({...J.payload.doc.data(),id:J.payload.doc.id}))))}getBusinessSections(xe,W){return this.firestore.collection(this.collectionName).doc(xe).collection("sections",J=>J.where("page","==",W)).snapshotChanges().pipe((0,ae.T)(J=>J.map(_e=>({..._e.payload.doc.data(),id:_e.payload.doc.id}))))}saveSection(xe,W){return console.log("\u{1f504} Attempting to save section:",W),W.id&&""!==W.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",W.id):W.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(W.id).set(W,{merge:!0})}deleteSection(xe,W){return this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(W).delete()}uploadImage(xe,W,J,_e="",Fe="",Ue="",Xe=""){var We=this;return(0,i.A)(function*(){try{const{downloadUrl:ge}=We.uploadService.uploadFile(xe,W,"sections",_e,Fe,Ue,Xe);return new Promise((Be,Pt)=>{ge.subscribe({next:Se=>{Se?(console.log("\u2705 Image uploaded successfully:",Se),Be(Se)):Pt("\u274c Image URL is undefined.")},error:Se=>{console.error("\u274c Error getting image URL:",Se),Pt(Se)}})})}catch(ge){return console.error("\u274c Error uploading image:",ge),""}})()}mapComponent(xe){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[xe]||"default-component"}static{this.\u0275fac=function(W){return new(W||De)(r.KVO(Ie.Qe),r.KVO(le.B))}}static{this.\u0275prov=r.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},3012:(sn,Je,O)=>{O.d(Je,{u:()=>De});var i=O(7673),ae=O(6354),r=O(5558),Ie=O(7705),le=O(6340),Ce=O(8721);let De=(()=>{class Te{constructor(W,J){this.afs=W,this.storage=J,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(W){console.log("Business Created");const J=this.afs.createId();return this.afs.doc(`${this.basePath}/${J}`).set({...W,id:J}),this.afs.doc(`${this.basePath}/${J}`).valueChanges().pipe((0,ae.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ae.T)(W=>W.map(J=>{const _e=J.payload.doc.data(),Fe=J.payload.doc.id,{id:Ue,...Xe}=_e;return{id:Fe,...Xe}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,W=>W.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(W){return this.getBusinessData(W)}getBusinessData(W){const J=W&&W.trim()?W:"defaultBusinessId";return this.afs.collection("businesses").doc(J).snapshotChanges().pipe((0,r.n)(_e=>{const Fe=_e.payload.data(),Ue=_e.payload.id;if(!Fe)return(0,i.of)(void 0);const Xe={...Fe,id:Ue};return this.afs.collection("sections",We=>We.where("businessId","==",Ue)).snapshotChanges().pipe((0,ae.T)(We=>{const ge=We.map(Be=>({...Be.payload.doc.data(),id:Be.payload.doc.id}));return{...Xe,sections:ge}}),(0,r.n)(We=>{const ge={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ue}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ae.T)(Be=>{const Pt=Be.payload.data()||ge;return We.theme=Pt,We}))}))}))}updateBusiness(W,J){return this.afs.doc(`${this.basePath}/${W}`).update(J)}deleteBusiness(W){return this.afs.doc(`${this.basePath}/${W}`).delete()}uploadFile(W,J){return this.storage.upload(W,J)}getDownloadURL(W){return this.storage.ref(W).getDownloadURL()}updateThemeFileName(W,J=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${J}`).update({"theme.themeFileName":W})}getThemeFileName(W=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(W).collection("theme").doc("themeDoc").get().toPromise().then(Fe=>Fe&&Fe.exists?Fe.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${W}. Using default theme.`),"default.css")).catch(Fe=>(console.error(`Error fetching theme file name for business ID: ${W}`,Fe),"default.css"))}createSection(W,J){return this.afs.collection(`${this.basePath}/${W}/sections`).add(J)}getSections(W){return this.afs.collection(`${this.basePath}/${W}/sections`).snapshotChanges().pipe((0,ae.T)(J=>J.map(_e=>{const Fe=_e.payload.doc.data();return{sectionId:_e.payload.doc.id,...Fe}})))}updateSection(W,J,_e){return this.afs.doc(`${this.basePath}/${W}/sections/${J}`).update(_e)}deleteSection(W,J){return this.afs.doc(`${this.basePath}/${W}/sections/${J}`).delete()}addLocation(W,J){const _e=this.afs.collection(`businesses/${W}/locations`),Fe=this.afs.createId();return _e.doc(Fe).set({id:Fe,...J})}getLocations(W){return this.afs.collection(`businesses/${W}/locations`).snapshotChanges().pipe((0,ae.T)(J=>(J.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${W}`),J.map(_e=>{const Fe=_e.payload.doc.data();return"object"==typeof Fe&&null!==Fe?{id:_e.payload.doc.id,...Fe}:(console.error("\u274c Firestore data format error:",Fe),{id:_e.payload.doc.id})}))))}updateLocation(W,J,_e){return this.afs.doc(`businesses/${W}/locations/${J}`).update(_e)}deleteLocation(W,J){return this.afs.doc(`businesses/${W}/locations/${J}`).delete()}static{this.\u0275fac=function(J){return new(J||Te)(Ie.KVO(le.Qe),Ie.KVO(Ce.ap))}}static{this.\u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},6661:(sn,Je,O)=>{O.d(Je,{L:()=>r});var i=O(5312),ae=O(7705);let r=(()=>{class Ie{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ce,De)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ce();const Te=document.createElement("script");Te.id="google-maps-script",Te.src=`https://maps.googleapis.com/maps/api/js?key=${i.c.googleMapsApiKey}&libraries=places`,Te.async=!0,Te.defer=!0,Te.onload=()=>{this.scriptLoaded=!0,Ce()},Te.onerror=xe=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,De(xe)},document.body.appendChild(Te)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(De){return new(De||Ie)}}static{this.\u0275prov=ae.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},6861:(sn,Je,O)=>{O.d(Je,{R:()=>Ie});var i=O(7705),ae=O(345),r=O(923);let Ie=(()=>{class le{constructor(De,Te,xe){this.meta=De,this.title=Te,this.businessDataService=xe}updateMetaTags(De){this.title.setTitle(De.title),this.meta.updateTag({name:"description",content:De.description}),this.meta.updateTag({name:"keywords",content:De.keywords}),this.meta.updateTag({property:"og:title",content:De.title}),this.meta.updateTag({property:"og:description",content:De.description})}updateFavicon(De){const Te=document.getElementsByTagName("head")[0];let xe=document.querySelector("link[rel*='icon']");xe||(xe=document.createElement("link"),xe.rel="icon",Te.appendChild(xe)),xe.href=De}loadAndApplyMeta(De){this.businessDataService.loadBusinessData(De).subscribe(Te=>{Te?(this.updateMetaTags({title:Te.metaTitle||"Default Title",description:Te.metaDescription||"Default Description",keywords:Te.metaKeywords||"default, keywords"}),Te.faviconUrl&&this.updateFavicon(Te.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Te){return new(Te||le)(i.KVO(ae.W8),i.KVO(ae.hE),i.KVO(r.A))}}static{this.\u0275prov=i.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})()},5009:(sn,Je,O)=>{O.d(Je,{F:()=>xe});var i=O(8810),ae=O(8455),r=O(7673),Ie=O(6697),le=O(5558),Ce=O(9437),De=O(7705),Te=O(6340);let xe=(()=>{class W{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){const Fe=this.firestore.collection("businesses").doc(_e),Ue=Fe.collection("theme").doc("themeDoc");return Fe.snapshotChanges().pipe((0,Ie.s)(1),(0,le.n)(Xe=>Xe.payload.exists?Ue.get().pipe((0,le.n)(We=>We.exists?(We.data(),Ue.valueChanges()):(0,ae.H)(Ue.set(this.defaultTheme)).pipe((0,le.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),Ue.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,i.$)("Theme Service: - Business document does not exist"))),(0,Ce.W)(Xe=>(console.error("Error fetching theme:",Xe),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(_e,Fe){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").set(Fe,{merge:!0}).then(()=>{Fe.themeFileName&&this.applyThemeFile(Fe.themeFileName)}).catch(Xe=>{throw console.error("Theme Service: - Error updating colors:",Xe),new Error(Xe)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((Fe,Ue)=>{const Xe=document.createElement("link");Xe.rel="stylesheet",Xe.href=_e,Xe.onload=()=>{console.log(`Loaded theme: ${_e}`),Fe()},Xe.onerror=We=>{console.error(`Failed to load theme: ${_e}`,We),Ue(We)},document.head.appendChild(Xe)})}static{this.\u0275fac=function(Fe){return new(Fe||W)(De.KVO(Te.Qe))}}static{this.\u0275prov=De.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},5571:(sn,Je,O)=>{O.d(Je,{B:()=>De});var i=O(1985),ae=O(6354),r=O(980),Ie=O(7705),le=O(8721),Ce=O(6340);let De=(()=>{class Te{constructor(W,J){this.storage=W,this.firestore=J}uploadFile(W,J,_e,Fe="",Ue="",Xe="",We=""){let ge;switch(_e){case"testimonail":ge=`businesses/${J}/testimonail/${W.name}`;break;case"employee":ge=`businesses/${J}/employee/${W.name}`;break;case"business":ge=`businesses/${J}/business/${W.name}`;break;case"heroImages":ge=`businesses/${J}/heroImages/${W.name}`;break;case"lifeStyle":ge=`businesses/${J}/lifeStyle/${W.name}`;break;case"sectionsImages":ge=`businesses/${J}/sectionsImages/${W.name}`;break;default:ge=`businesses/${J}/gallery/${W.name}`}const Be=this.storage.ref(ge),Pt=this.storage.upload(ge,W);return{uploadProgress:Pt.percentageChanges().pipe((0,ae.T)(at=>at??0)),downloadUrl:new i.c(at=>{Pt.snapshotChanges().pipe((0,r.j)(()=>{Be.getDownloadURL().subscribe(rt=>{this.firestore.collection("businesses").doc(J).collection(_e).add({url:rt,title:Fe,description:Ue,link:Xe,order:We}),at.next(rt),at.complete()})})).subscribe()})}}deleteFile(W,J,_e){return new Promise((Fe,Ue)=>{const Xe=decodeURIComponent(W.split("/").pop()?.split("?")[0]||"");this.storage.ref(Xe).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(J).collection(_e).ref.where("url","==",W).get().then(ge=>{ge.forEach(Be=>Be.ref.delete()),Fe()}).catch(ge=>{console.error("Error deleting from Firestore:",ge),Ue(ge)})},error:ge=>{console.error("Error deleting from Storage:",ge),Ue(ge)}})})}static{this.\u0275fac=function(J){return new(J||Te)(Ie.KVO(le.ap),Ie.KVO(Ce.Qe))}}static{this.\u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},8704:(sn,Je,O)=>{O.d(Je,{N:()=>De});var i=O(6354),ae=O(9437),r=O(7673),Ie=O(7705),le=O(6340),Ce=O(8721);let De=(()=>{class Te{constructor(W,J){this.firestore=W,this.storage=J,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(W){const J=W&&W.trim()?W:this.defaultBusinessId;return this.firestore.collection("businesses").doc(J).snapshotChanges().pipe((0,i.T)(_e=>{const Fe=_e.payload.data(),Ue=_e.payload.id;if(Fe){const{id:Xe,testimonials:We=[],...ge}=Fe;return{id:Ue,testimonials:We.map(Pt=>({...Pt,photoURL:Pt.photoURL&&Pt.photoURL.trim()?Pt.photoURL:this.defaultImage})),...ge}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(W){return this.storage.ref(W).getDownloadURL().pipe((0,ae.W)(J=>(console.error("Error fetching photo URL:",J),(0,r.of)(""))))}getEmployeesByBusinessId(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).get().pipe((0,i.T)(J=>{if(J.exists){const _e=J.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ae.W)(J=>(console.error("Error fetching employees:",J),(0,r.of)([]))))}getBusinessGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(W){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection("gallery").valueChanges()}getBusinessUploadedImagesById(W,J){return(null==W||""==W||""===W)&&(W=this.defaultBusinessId),this.firestore.collection("businesses").doc(W).collection(J).valueChanges()}checkImageExists(W){return this.storage.refFromURL(W).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(J){return new(J||Te)(Ie.KVO(le.Qe),Ie.KVO(Ce.ap))}}static{this.\u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},5312:(sn,Je,O)=>{O.d(Je,{c:()=>i});const i={production:!0,firebase:{apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"},googleMapsApiKey:"AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4",useMockGoogleReviews:!1,useMockGoogleMap:!1}},6282:(sn,Je,O)=>{var i={};O.r(i),O.d(i,{afterMain:()=>ht,afterRead:()=>vr,afterWrite:()=>je,applyStyles:()=>x,arrow:()=>Fn,auto:()=>Cn,basePlacements:()=>jn,beforeMain:()=>Wn,beforeRead:()=>Kr,beforeWrite:()=>yt,bottom:()=>or,clippingParents:()=>Dr,computeStyles:()=>Li,createPopper:()=>Pe,createPopperBase:()=>re,createPopperLite:()=>lt,detectOverflow:()=>ss,end:()=>Rr,eventListeners:()=>$i,flip:()=>Mr,hide:()=>pi,left:()=>Vt,main:()=>Ti,modifierPhases:()=>Ot,offset:()=>ts,placements:()=>fn,popper:()=>zn,popperGenerator:()=>Ts,popperOffsets:()=>bs,preventOverflow:()=>cr,read:()=>tr,reference:()=>Wr,right:()=>Un,start:()=>In,top:()=>en,variationPlacements:()=>es,viewport:()=>Ur,write:()=>he});var ae=O(345),r=O(7705),Ie=O(1626),le=O(6814),Ce=O(4140),De=O(5558),Te=O(7304),xe=O(4593),W=O(491),J=O(1915),_e=O(9483),Fe=O(3967),Ue=O(8035),Xe=O(7673),We=O(5964),ge=O(9437),Be=O(8704),Pt=O(923),Se=O(177),we=O(4591);function at(y,u){if(1&y&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&y){const l=u.$implicit;r.R7$(1),r.FS9("alt",l.name),r.Y8G("src",l.photoURL,r.B4B),r.R7$(2),r.JRh(l.name),r.R7$(2),r.JRh(l.role),r.R7$(2),r.JRh(l.bio)}}function rt(y,u){if(1&y&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,at,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,l.employees$))}}let ft=(()=>{class y{constructor(l,p){this.employeeService=l,this.businessDataService=p}ngOnInit(){console.log("Meet The Team Component Initialized"),this.employees$=this.businessDataService.getBusinessId().pipe((0,We.p)(l=>!!l),(0,De.n)(l=>this.employeeService.getEmployeesByBusinessId(l).pipe((0,ge.W)(p=>(console.error("Error fetching employees:",p),(0,Xe.of)([]))))))}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Be.N),r.rXU(Pt.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-meet-the-team"]],decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(p,T){1&p&&r.DNE(0,rt,5,5,"div",0),2&p&&r.Y8G("ngIf",T.employees$)},dependencies:[Se.Sq,Se.bT,we.L,Se.Jj]})}}return y})();const Ft=["wrapperContainer"];function Ut(y,u){}let ye=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-text-wrapper"]],viewQuery:function(p,T){if(1&p&&r.GBs(Ft,7,r.c1b),2&p){let V;r.mGM(V=r.lsd())&&(T.container=V.first)}},decls:3,vars:0,consts:[[1,"text-wrapper"],["wrapperContainer",""]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,Ut,0,0,"ng-template",null,1,r.C5r),r.k0s())}})}}return y})();var $t=O(5743),qe=O(6861);let wn=(()=>{class y{constructor(l,p){this.router=l,this.businessDataService=p,this.layoutType="hh",this.backgroundImage="",this.message="",this.fallbackImages={services:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}}}ngOnInit(){this.router.events.pipe((0,We.p)(p=>p instanceof le.wF)).subscribe(()=>{const p=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(p)});const l=this.router.url.split("?")[0].replace("/","");this.loadHeroForPage(l)}loadHeroForPage(l){this.businessDataService.getPageHeros().subscribe(p=>{console.log("Page Heroes:",p),console.log("Current Page:",l);const V=p.filter(ie=>ie.isActive).find(ie=>ie.page===l);V?(this.backgroundImage=`url(${V.imageUrl})`,this.message=V.message||"Welcome"):this.fallbackImages[l]?(this.backgroundImage=`url(${this.fallbackImages[l].image})`,this.message=this.fallbackImages[l].message):(this.backgroundImage="url(assets/sharedAssets/default-hero.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.Ix),r.rXU(Pt.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&p&&(r.xc7("background-image",T.backgroundImage),r.R7$(3),r.JRh(T.message))}})}}return y})(),Mt=(()=>{class y{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&p&&(r.R7$(2),r.FS9("src",T.imageURL,r.B4B),r.R7$(3),r.SpI('" ',T.text,'"'),r.R7$(2),r.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 1080px),(max-width: 1024px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:50%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return y})();const zt=["dynamicContainer"];function Yt(y,u){1&y&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.bVm())}function _t(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","ae"))}function ze(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function ct(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function ut(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function Oe(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function ee(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function be(y,u){if(1&y&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function Le(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Yt,8,0,"ng-container",2),r.DNE(3,_t,2,1,"ng-container",2),r.DNE(4,ze,2,1,"ng-container",2),r.DNE(5,ct,2,1,"ng-container",2),r.DNE(6,ut,2,1,"ng-container",2),r.k0s(),r.DNE(7,Oe,3,0,"div",3),r.DNE(8,ee,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,be,2,3,"ng-container",2),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=l.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let dt=(()=>{class y{constructor(l,p,T,V,ie,ue){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ie,this.businessDataService=ue,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Te.W,"right-text":xe.F,"left-text":W.G,"item-list":J.j,cta:_e.j,consultation:Fe.t,"meet-the-team":ft,"latest-products":Ue.H}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(!this.container)return void console.error("\u274c ViewContainerRef (container) is undefined.");if(this.container.clear(),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let l=null;if(this.sections.sort((p,T)=>(p.order||0)-(T.order||0)),this.sections=this.sections.filter(p=>"cta"!==p.component||(l=p,!1)),"hh"===this.business?.theme?.themeType){let p=[],T=null,V=null,ie=[];if(this.sections.forEach(ue=>{"center-text"===ue.component?T?V=ue:T=ue:"left-text"===ue.component||"right-text"===ue.component?p.push(ue):ie.push(ue)}),T&&this.createComponent(T),p.length>0){const ue=this.container.createComponent(ye);p.sort((Me,Ze)=>"left-text"===Me.component?-1:1),p.forEach(Me=>{const Ct=ue.instance.container.createComponent(this.componentsMap[Me.component]);this.applyComponentProperties(Ct.instance,Me),Ct.changeDetectorRef.detectChanges()})}V&&this.createComponent(V),ie.forEach(ue=>{this.createComponent(ue)})}else this.sections.forEach(p=>{this.createComponent(p)});this.loadManualComponents(),l&&this.createComponent(l)}loadManualComponents(){if("clemo"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(Ue.H);const T=this.container.createComponent(Ue.H,{index:void 0,injector:this.injector});T.instance.layoutType=this.business?.theme?.themeType,T.changeDetectorRef.detectChanges()}const l=this.container.createComponent(ft,{index:void 0,injector:this.injector});this.container.insert(l.hostView),l.changeDetectorRef.detectChanges(),l.changeDetectorRef.detectChanges()}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l){const p=this.componentsMap[l.component];if(!p)return console.error("\u274c Component Not Found:",l.component),null;const T=this.resolver.resolveComponentFactory(p),V=this.container.createComponent(T);return this.applyComponentProperties(V.instance,l),V.changeDetectorRef.detectChanges(),V}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(p){return new(p||y)(r.rXU($t.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(le.nX),r.rXU(qe.R),r.rXU(Pt.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-about-us"]],viewQuery:function(p,T){if(1&p&&r.GBs(zt,5,r.c1b),2&p){let V;r.mGM(V=r.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,Le,11,10,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[Se.bT,Se.ux,Se.e1,wn,Mt]})}}return y})();var it=O(263);const Bt=["dynamicContainer"];function Rn(y,u){1&y&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.bVm())}function lr(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero"),r.bVm())}function un(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function kn(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function nn(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function Qn(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function Ln(y,u){1&y&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function Jt(y,u){if(1&y&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function qt(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Rn,8,0,"ng-container",2),r.DNE(3,lr,2,0,"ng-container",2),r.DNE(4,un,2,1,"ng-container",2),r.DNE(5,kn,2,1,"ng-container",2),r.DNE(6,nn,2,1,"ng-container",2),r.k0s(),r.DNE(7,Qn,3,0,"div",3),r.DNE(8,Ln,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,Jt,2,3,"ng-container",2),r.k0s()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=l.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let yr=(()=>{class y{constructor(l,p,T,V,ie,ue,Me){this.sectionService=l,this.resolver=p,this.injector=T,this.route=V,this.metaService=ie,this.businessDataService=ue,this.router=Me,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Te.W,"right-text":xe.F,"left-text":W.G,"item-list":J.j,cta:_e.j,consultatioin:Fe.t,"item-list-image":it.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let Me,l=[],p=null,T=null,V=null,ie=null,ue=[];this.sections.forEach(Ze=>{"item-list"===Ze.component?p?T=Ze:p=Ze:"left-text"===Ze.component||"right-text"===Ze.component?l.push(Ze):"center-text"===Ze.component?V=Ze:"cta"===Ze.component?ie=Ze:ue.push(Ze)}),p&&this.createComponent(p),T&&this.createComponent(T),l.length>0&&(Me=document.createElement("div"),Me.className="text-wrapper",l.sort((Ze,Ct)=>"left-text"===Ze.component?-1:1),l.forEach(Ze=>{const Ct=this.createComponent(Ze);Ct&&Me.appendChild(Ct.location.nativeElement)}),this.container.element.nativeElement.appendChild(Me)),V&&this.createComponent(V),ie&&this.createComponent(ie)}else console.log("Loading sections based on order"),this.sections.sort((l,p)=>(l.order||0)-(p.order||0)),this.sections.forEach(l=>{this.createComponent(l)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(l){if(!l.length)return;const p=document.createElement("div");p.className="text-wrapper",l.sort((T,V)=>"left-text"===T.component?-1:1),l.forEach(T=>{const V=this.createComponent(T);null!==V&&p.appendChild(V.location.nativeElement)}),this.container.element.nativeElement.appendChild(p)}createComponent(l,p){const T=this.componentsMap[l.component];if(!T)return console.error("\u274c Component Not Found:",l.component),null;const V=this.resolver.resolveComponentFactory(T),ie=this.container.createComponent(V);return this.applyComponentProperties(ie.instance,l),p?this.container.element.nativeElement.insertBefore(ie.location.nativeElement,p):this.container.element.nativeElement.appendChild(ie.location.nativeElement),ie}applyComponentProperties(l,p){Object.assign(l,{isActive:[void 0===p.isActive||p.isActive],order:p.order||0,_businessName:this.business?.businessName||"",themeType:this.business?.theme?.themeType,items:p.items||[],isMinimal:p.isMinimal||!1,isParallax:p.isParallax??!0,backgroundColor:p.backgroundColor||"#ffffff",content:this.applyReplaceKeyword(p.sectionContent||""),textColor:p.textColor||"#000000",textFontSize:p.textFontSize||"16",textFontStyle:p.textFontStyle||"normal",alignText:p.alignText||"left",title:this.applyReplaceKeyword(p.sectionTitle||""),titleColor:p.titleColor||"#000000",titleFontSize:p.titleFontSize||"36",titleFontStyle:p.titleFontStyle||"normal",subTitle:this.applyReplaceKeyword(p.sectionSubTitle||""),subtitleColor:p.subtitleColor||"#000000",subtitleFontSize:p.subtitleFontSize||"14",subtitleFontStyle:p.subtitleFontStyle||"normal",fullWidth:p.fullWidth||!1,showBtn:p.showLearnMore||!1,showButton:p.showButton||!1,buttonText:p.buttonText||"Learn More",buttonLink:p.buttonLink||"",showImage:!!p.sectionImageUrl,sectionImageUrl:p.sectionImageUrl||"",boxShadow:p.boxShadow||!1,borderRadius:p.borderRadius??10,page:p.page,location:p.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU($t.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(le.nX),r.rXU(qe.R),r.rXU(Pt.A),r.rXU(le.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-services"]],viewQuery:function(p,T){if(1&p&&r.GBs(Bt,5,r.c1b),2&p){let V;r.mGM(V=r.lsd())&&(T.container=V.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(p,T){1&p&&r.DNE(0,qt,11,10,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[Se.bT,Se.ux,Se.e1,wn,Mt]})}}return y})();var en="top",or="bottom",Un="right",Vt="left",Cn="auto",jn=[en,or,Un,Vt],In="start",Rr="end",Dr="clippingParents",Ur="viewport",zn="popper",Wr="reference",es=jn.reduce(function(y,u){return y.concat([u+"-"+In,u+"-"+Rr])},[]),fn=[].concat(jn,[Cn]).reduce(function(y,u){return y.concat([u,u+"-"+In,u+"-"+Rr])},[]),Kr="beforeRead",tr="read",vr="afterRead",Wn="beforeMain",Ti="main",ht="afterMain",yt="beforeWrite",he="write",je="afterWrite",Ot=[Kr,tr,vr,Wn,Ti,ht,yt,he,je];function Wt(y){return y?(y.nodeName||"").toLowerCase():null}function Pn(y){if(null==y)return window;if("[object Window]"!==y.toString()){var u=y.ownerDocument;return u&&u.defaultView||window}return y}function Pr(y){return y instanceof Pn(y).Element||y instanceof Element}function nr(y){return y instanceof Pn(y).HTMLElement||y instanceof HTMLElement}function ei(y){return!(typeof ShadowRoot>"u")&&(y instanceof Pn(y).ShadowRoot||y instanceof ShadowRoot)}const x={name:"applyStyles",enabled:!0,phase:"write",fn:function Rt(y){var u=y.state;Object.keys(u.elements).forEach(function(l){var p=u.styles[l]||{},T=u.attributes[l]||{},V=u.elements[l];!nr(V)||!Wt(V)||(Object.assign(V.style,p),Object.keys(T).forEach(function(ie){var ue=T[ie];!1===ue?V.removeAttribute(ie):V.setAttribute(ie,!0===ue?"":ue)}))})},effect:function G(y){var u=y.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(p){var T=u.elements[p],V=u.attributes[p]||{},ue=Object.keys(u.styles.hasOwnProperty(p)?u.styles[p]:l[p]).reduce(function(Me,Ze){return Me[Ze]="",Me},{});!nr(T)||!Wt(T)||(Object.assign(T.style,ue),Object.keys(V).forEach(function(Me){T.removeAttribute(Me)}))})}},requires:["computeStyles"]};function k(y){return y.split("-")[0]}var $=Math.max,se=Math.min,ne=Math.round;function Ee(){var y=navigator.userAgentData;return null!=y&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function gt(){return!/^((?!chrome|android).)*safari/i.test(Ee())}function Gt(y,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var p=y.getBoundingClientRect(),T=1,V=1;u&&nr(y)&&(T=y.offsetWidth>0&&ne(p.width)/y.offsetWidth||1,V=y.offsetHeight>0&&ne(p.height)/y.offsetHeight||1);var ue=(Pr(y)?Pn(y):window).visualViewport,Me=!gt()&&l,Ze=(p.left+(Me&&ue?ue.offsetLeft:0))/T,Ct=(p.top+(Me&&ue?ue.offsetTop:0))/V,ln=p.width/T,Bn=p.height/V;return{width:ln,height:Bn,top:Ct,right:Ze+ln,bottom:Ct+Bn,left:Ze,x:Ze,y:Ct}}function pn(y){var u=Gt(y),l=y.offsetWidth,p=y.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-p)<=1&&(p=u.height),{x:y.offsetLeft,y:y.offsetTop,width:l,height:p}}function _r(y,u){var l=u.getRootNode&&u.getRootNode();if(y.contains(u))return!0;if(l&&ei(l)){var p=u;do{if(p&&y.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Ne(y){return Pn(y).getComputedStyle(y)}function $e(y){return["table","td","th"].indexOf(Wt(y))>=0}function Ye(y){return((Pr(y)?y.ownerDocument:y.document)||window.document).documentElement}function jt(y){return"html"===Wt(y)?y:y.assignedSlot||y.parentNode||(ei(y)?y.host:null)||Ye(y)}function rn(y){return nr(y)&&"fixed"!==Ne(y).position?y.offsetParent:null}function dn(y){for(var u=Pn(y),l=rn(y);l&&$e(l)&&"static"===Ne(l).position;)l=rn(l);return l&&("html"===Wt(l)||"body"===Wt(l)&&"static"===Ne(l).position)?u:l||function bn(y){var u=/firefox/i.test(Ee());if(/Trident/i.test(Ee())&&nr(y)&&"fixed"===Ne(y).position)return null;var T=jt(y);for(ei(T)&&(T=T.host);nr(T)&&["html","body"].indexOf(Wt(T))<0;){var V=Ne(T);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||u&&"filter"===V.willChange||u&&V.filter&&"none"!==V.filter)return T;T=T.parentNode}return null}(y)||u}function ar(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function gn(y,u,l){return $(y,se(u,l))}function st(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function kt(y,u){return u.reduce(function(l,p){return l[p]=y,l},{})}const Fn={name:"arrow",enabled:!0,phase:"main",fn:function Kn(y){var u,l=y.state,p=y.name,T=y.options,V=l.elements.arrow,ie=l.modifiersData.popperOffsets,ue=k(l.placement),Me=ar(ue),Ct=[Vt,Un].indexOf(ue)>=0?"height":"width";if(V&&ie){var ln=function(u,l){return st("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:kt(u,jn))}(T.padding,l),Bn=pn(V),Dn="y"===Me?en:Vt,Mn="y"===Me?or:Un,xn=l.rects.reference[Ct]+l.rects.reference[Me]-ie[Me]-l.rects.popper[Ct],pr=ie[Me]-l.rects.reference[Me],Br=dn(V),di=Br?"y"===Me?Br.clientHeight||0:Br.clientWidth||0:0,li=di/2-Bn[Ct]/2+(xn/2-pr/2),gi=gn(ln[Dn],li,di-Bn[Ct]-ln[Mn]);l.modifiersData[p]=((u={})[Me]=gi,u.centerOffset=gi-li,u)}},effect:function _n(y){var u=y.state,p=y.options.element,T=void 0===p?"[data-popper-arrow]":p;null!=T&&("string"==typeof T&&!(T=u.elements.popper.querySelector(T))||_r(u.elements.popper,T)&&(u.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gr(y){return y.split("-")[1]}var jr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ki(y){var u,l=y.popper,p=y.popperRect,T=y.placement,V=y.variation,ie=y.offsets,ue=y.position,Me=y.gpuAcceleration,Ze=y.adaptive,Ct=y.roundOffsets,ln=y.isFixed,Bn=ie.x,Dn=void 0===Bn?0:Bn,Mn=ie.y,xn=void 0===Mn?0:Mn,pr="function"==typeof Ct?Ct({x:Dn,y:xn}):{x:Dn,y:xn};Dn=pr.x,xn=pr.y;var Br=ie.hasOwnProperty("x"),di=ie.hasOwnProperty("y"),Ai=Vt,Cr=en,Di=window;if(Ze){var li=dn(l),gi="clientHeight",cs="clientWidth";li===Pn(l)&&"static"!==Ne(li=Ye(l)).position&&"absolute"===ue&&(gi="scrollHeight",cs="scrollWidth"),(T===en||(T===Vt||T===Un)&&V===Rr)&&(Cr=or,xn-=(ln&&li===Di&&Di.visualViewport?Di.visualViewport.height:li[gi])-p.height,xn*=Me?1:-1),T!==Vt&&(T!==en&&T!==or||V!==Rr)||(Ai=Un,Dn-=(ln&&li===Di&&Di.visualViewport?Di.visualViewport.width:li[cs])-p.width,Dn*=Me?1:-1)}var Vs,po=Object.assign({position:ue},Ze&&jr),Vo=!0===Ct?function Zn(y,u){var p=y.y,T=u.devicePixelRatio||1;return{x:ne(y.x*T)/T||0,y:ne(p*T)/T||0}}({x:Dn,y:xn},Pn(l)):{x:Dn,y:xn};return Dn=Vo.x,xn=Vo.y,Object.assign({},po,Me?((Vs={})[Cr]=di?"0":"",Vs[Ai]=Br?"0":"",Vs.transform=(Di.devicePixelRatio||1)<=1?"translate("+Dn+"px, "+xn+"px)":"translate3d("+Dn+"px, "+xn+"px, 0)",Vs):((u={})[Cr]=di?xn+"px":"",u[Ai]=Br?Dn+"px":"",u.transform="",u))}const Li={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function us(y){var u=y.state,l=y.options,p=l.gpuAcceleration,T=void 0===p||p,V=l.adaptive,ie=void 0===V||V,ue=l.roundOffsets,Me=void 0===ue||ue,Ze={placement:k(u.placement),variation:gr(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:T,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,ki(Object.assign({},Ze,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:ie,roundOffsets:Me})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,ki(Object.assign({},Ze,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Me})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Ks={passive:!0};const $i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function go(y){var u=y.state,l=y.instance,p=y.options,T=p.scroll,V=void 0===T||T,ie=p.resize,ue=void 0===ie||ie,Me=Pn(u.elements.popper),Ze=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&Ze.forEach(function(Ct){Ct.addEventListener("scroll",l.update,Ks)}),ue&&Me.addEventListener("resize",l.update,Ks),function(){V&&Ze.forEach(function(Ct){Ct.removeEventListener("scroll",l.update,Ks)}),ue&&Me.removeEventListener("resize",l.update,Ks)}},data:{}};var Uo={left:"right",right:"left",bottom:"top",top:"bottom"};function Qr(y){return y.replace(/left|right|bottom|top/g,function(u){return Uo[u]})}var is={start:"end",end:"start"};function ds(y){return y.replace(/start|end/g,function(u){return is[u]})}function qr(y){var u=Pn(y);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Vi(y){return Gt(Ye(y)).left+qr(y).scrollLeft}function qs(y){var u=Ne(y);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function mo(y){return["html","body","#document"].indexOf(Wt(y))>=0?y.ownerDocument.body:nr(y)&&qs(y)?y:mo(jt(y))}function Jr(y,u){var l;void 0===u&&(u=[]);var p=mo(y),T=p===(null==(l=y.ownerDocument)?void 0:l.body),V=Pn(p),ie=T?[V].concat(V.visualViewport||[],qs(p)?p:[]):p,ue=u.concat(ie);return T?ue:ue.concat(Jr(jt(ie)))}function na(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function Si(y,u,l){return u===Ur?na(function Ui(y,u){var l=Pn(y),p=Ye(y),T=l.visualViewport,V=p.clientWidth,ie=p.clientHeight,ue=0,Me=0;if(T){V=T.width,ie=T.height;var Ze=gt();(Ze||!Ze&&"fixed"===u)&&(ue=T.offsetLeft,Me=T.offsetTop)}return{width:V,height:ie,x:ue+Vi(y),y:Me}}(y,l)):Pr(u)?function Ka(y,u){var l=Gt(y,!1,"fixed"===u);return l.top=l.top+y.clientTop,l.left=l.left+y.clientLeft,l.bottom=l.top+y.clientHeight,l.right=l.left+y.clientWidth,l.width=y.clientWidth,l.height=y.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):na(function xr(y){var u,l=Ye(y),p=qr(y),T=null==(u=y.ownerDocument)?void 0:u.body,V=$(l.scrollWidth,l.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),ie=$(l.scrollHeight,l.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),ue=-p.scrollLeft+Vi(y),Me=-p.scrollTop;return"rtl"===Ne(T||l).direction&&(ue+=$(l.clientWidth,T?T.clientWidth:0)-V),{width:V,height:ie,x:ue,y:Me}}(Ye(y)))}function ti(y){var Me,u=y.reference,l=y.element,p=y.placement,T=p?k(p):null,V=p?gr(p):null,ie=u.x+u.width/2-l.width/2,ue=u.y+u.height/2-l.height/2;switch(T){case en:Me={x:ie,y:u.y-l.height};break;case or:Me={x:ie,y:u.y+u.height};break;case Un:Me={x:u.x+u.width,y:ue};break;case Vt:Me={x:u.x-l.width,y:ue};break;default:Me={x:u.x,y:u.y}}var Ze=T?ar(T):null;if(null!=Ze){var Ct="y"===Ze?"height":"width";switch(V){case In:Me[Ze]=Me[Ze]-(u[Ct]/2-l[Ct]/2);break;case Rr:Me[Ze]=Me[Ze]+(u[Ct]/2-l[Ct]/2)}}return Me}function ss(y,u){void 0===u&&(u={});var p=u.placement,T=void 0===p?y.placement:p,V=u.strategy,ie=void 0===V?y.strategy:V,ue=u.boundary,Me=void 0===ue?Dr:ue,Ze=u.rootBoundary,Ct=void 0===Ze?Ur:Ze,ln=u.elementContext,Bn=void 0===ln?zn:ln,Dn=u.altBoundary,Mn=void 0!==Dn&&Dn,xn=u.padding,pr=void 0===xn?0:xn,Br=st("number"!=typeof pr?pr:kt(pr,jn)),Ai=y.rects.popper,Cr=y.elements[Mn?Bn===zn?Wr:zn:Bn],Di=function Ys(y,u,l,p){var T="clippingParents"===u?function ga(y){var u=Jr(jt(y)),p=["absolute","fixed"].indexOf(Ne(y).position)>=0&&nr(y)?dn(y):y;return Pr(p)?u.filter(function(T){return Pr(T)&&_r(T,p)&&"body"!==Wt(T)}):[]}(y):[].concat(u),V=[].concat(T,[l]),ue=V.reduce(function(Me,Ze){var Ct=Si(y,Ze,p);return Me.top=$(Ct.top,Me.top),Me.right=se(Ct.right,Me.right),Me.bottom=se(Ct.bottom,Me.bottom),Me.left=$(Ct.left,Me.left),Me},Si(y,V[0],p));return ue.width=ue.right-ue.left,ue.height=ue.bottom-ue.top,ue.x=ue.left,ue.y=ue.top,ue}(Pr(Cr)?Cr:Cr.contextElement||Ye(y.elements.popper),Me,Ct,ie),li=Gt(y.elements.reference),gi=ti({reference:li,element:Ai,strategy:"absolute",placement:T}),cs=na(Object.assign({},Ai,gi)),Qi=Bn===zn?cs:li,Ji={top:Di.top-Qi.top+Br.top,bottom:Qi.bottom-Di.bottom+Br.bottom,left:Di.left-Qi.left+Br.left,right:Qi.right-Di.right+Br.right},po=y.modifiersData.offset;if(Bn===zn&&po){var Vo=po[T];Object.keys(Ji).forEach(function(Vs){var Sc=[Un,or].indexOf(Vs)>=0?1:-1,vu=[en,or].indexOf(Vs)>=0?"y":"x";Ji[Vs]+=Vo[vu]*Sc})}return Ji}const Mr={name:"flip",enabled:!0,phase:"main",fn:function Us(y){var u=y.state,l=y.options,p=y.name;if(!u.modifiersData[p]._skip){for(var T=l.mainAxis,V=void 0===T||T,ie=l.altAxis,ue=void 0===ie||ie,Me=l.fallbackPlacements,Ze=l.padding,Ct=l.boundary,ln=l.rootBoundary,Bn=l.altBoundary,Dn=l.flipVariations,Mn=void 0===Dn||Dn,xn=l.allowedAutoPlacements,pr=u.options.placement,Br=k(pr),Ai=Me||(Br!==pr&&Mn?function _o(y){if(k(y)===Cn)return[];var u=Qr(y);return[ds(y),u,ds(u)]}(pr):[Qr(pr)]),Cr=[pr].concat(Ai).reduce(function(Zi,Rc){return Zi.concat(k(Rc)===Cn?function xs(y,u){void 0===u&&(u={});var T=u.boundary,V=u.rootBoundary,ie=u.padding,ue=u.flipVariations,Me=u.allowedAutoPlacements,Ze=void 0===Me?fn:Me,Ct=gr(u.placement),ln=Ct?ue?es:es.filter(function(Mn){return gr(Mn)===Ct}):jn,Bn=ln.filter(function(Mn){return Ze.indexOf(Mn)>=0});0===Bn.length&&(Bn=ln);var Dn=Bn.reduce(function(Mn,xn){return Mn[xn]=ss(y,{placement:xn,boundary:T,rootBoundary:V,padding:ie})[k(xn)],Mn},{});return Object.keys(Dn).sort(function(Mn,xn){return Dn[Mn]-Dn[xn]})}(u,{placement:Rc,boundary:Ct,rootBoundary:ln,padding:Ze,flipVariations:Mn,allowedAutoPlacements:xn}):Rc)},[]),Di=u.rects.reference,li=u.rects.popper,gi=new Map,cs=!0,Qi=Cr[0],Ji=0;Ji<Cr.length;Ji++){var po=Cr[Ji],Vo=k(po),Vs=gr(po)===In,Sc=[en,or].indexOf(Vo)>=0,vu=Sc?"width":"height",Gn=ss(u,{placement:po,boundary:Ct,rootBoundary:ln,altBoundary:Bn,padding:Ze}),er=Sc?Vs?Un:Vt:Vs?or:en;Di[vu]>li[vu]&&(er=Qr(er));var Ir=Qr(er),hi=[];if(V&&hi.push(Gn[Vo]<=0),ue&&hi.push(Gn[er]<=0,Gn[Ir]<=0),hi.every(function(Zi){return Zi})){Qi=po,cs=!1;break}gi.set(po,hi)}if(cs)for(var Wa=function(Rc){var Hf=Cr.find(function(so){var Sa=gi.get(so);if(Sa)return Sa.slice(0,Rc).every(function(pa){return pa})});if(Hf)return Qi=Hf,"break"},Do=Mn?3:1;Do>0&&"break"!==Wa(Do);Do--);u.placement!==Qi&&(u.modifiersData[p]._skip=!0,u.placement=Qi,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fi(y,u,l){return void 0===l&&(l={x:0,y:0}),{top:y.top-u.height-l.y,right:y.right-u.width+l.x,bottom:y.bottom-u.height+l.y,left:y.left-u.width-l.x}}function Ii(y){return[en,Un,or,Vt].some(function(u){return y[u]>=0})}const pi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ms(y){var u=y.state,l=y.name,p=u.rects.reference,T=u.rects.popper,V=u.modifiersData.preventOverflow,ie=ss(u,{elementContext:"reference"}),ue=ss(u,{altBoundary:!0}),Me=fi(ie,p),Ze=fi(ue,T,V),Ct=Ii(Me),ln=Ii(Ze);u.modifiersData[l]={referenceClippingOffsets:Me,popperEscapeOffsets:Ze,isReferenceHidden:Ct,hasPopperEscaped:ln},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":Ct,"data-popper-escaped":ln})}},ts={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function oo(y){var u=y.state,p=y.name,T=y.options.offset,V=void 0===T?[0,0]:T,ie=fn.reduce(function(Ct,ln){return Ct[ln]=function hs(y,u,l){var p=k(y),T=[Vt,en].indexOf(p)>=0?-1:1,V="function"==typeof l?l(Object.assign({},u,{placement:y})):l,ie=V[0],ue=V[1];return ie=ie||0,ue=(ue||0)*T,[Vt,Un].indexOf(p)>=0?{x:ue,y:ie}:{x:ie,y:ue}}(ln,u.rects,V),Ct},{}),ue=ie[u.placement],Ze=ue.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=ue.x,u.modifiersData.popperOffsets.y+=Ze),u.modifiersData[p]=ie}},bs={name:"popperOffsets",enabled:!0,phase:"read",fn:function ws(y){var u=y.state;u.modifiersData[y.name]=ti({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},cr={name:"preventOverflow",enabled:!0,phase:"main",fn:function Tn(y){var u=y.state,l=y.options,p=y.name,T=l.mainAxis,V=void 0===T||T,ie=l.altAxis,ue=void 0!==ie&&ie,Bn=l.tether,Dn=void 0===Bn||Bn,Mn=l.tetherOffset,xn=void 0===Mn?0:Mn,pr=ss(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),Br=k(u.placement),di=gr(u.placement),Ai=!di,Cr=ar(Br),Di=function ci(y){return"x"===y?"y":"x"}(Cr),li=u.modifiersData.popperOffsets,gi=u.rects.reference,cs=u.rects.popper,Qi="function"==typeof xn?xn(Object.assign({},u.rects,{placement:u.placement})):xn,Ji="number"==typeof Qi?{mainAxis:Qi,altAxis:Qi}:Object.assign({mainAxis:0,altAxis:0},Qi),po=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Vo={x:0,y:0};if(li){if(V){var Vs,Sc="y"===Cr?en:Vt,vu="y"===Cr?or:Un,Gn="y"===Cr?"height":"width",er=li[Cr],Ir=er+pr[Sc],hi=er-pr[vu],Ws=Dn?-cs[Gn]/2:0,Wa=di===In?gi[Gn]:cs[Gn],Do=di===In?-cs[Gn]:-gi[Gn],gl=u.elements.arrow,Zi=Dn&&gl?pn(gl):{width:0,height:0},Rc=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hf=Rc[Sc],so=Rc[vu],Sa=gn(0,gi[Gn],Zi[Gn]),pa=Ai?gi[Gn]/2-Ws-Sa-Hf-Ji.mainAxis:Wa-Sa-Hf-Ji.mainAxis,gg=Ai?-gi[Gn]/2+Ws+Sa+so+Ji.mainAxis:Do+Sa+so+Ji.mainAxis,zf=u.elements.arrow&&dn(u.elements.arrow),_0=zf?"y"===Cr?zf.clientTop||0:zf.clientLeft||0:0,Tv=null!=(Vs=po?.[Cr])?Vs:0,NE=er+gg-Tv,Cv=gn(Dn?se(Ir,er+pa-Tv-_0):Ir,er,Dn?$(hi,NE):hi);li[Cr]=Cv,Vo[Cr]=Cv-er}if(ue){var Iv,Ch=li[Di],Hm="y"===Di?"height":"width",wv=Ch+pr["x"===Cr?en:Vt],Av=Ch-pr["x"===Cr?or:Un],md=-1!==[en,Vt].indexOf(Br),LE=null!=(Iv=po?.[Di])?Iv:0,VE=md?wv:Ch-gi[Hm]-cs[Hm]-LE+Ji.altAxis,Wf=md?Ch+gi[Hm]+cs[Hm]-LE-Ji.altAxis:Av,y0=Dn&&md?function Ci(y,u,l){var p=gn(y,u,l);return p>l?l:p}(VE,Ch,Wf):gn(Dn?VE:wv,Ch,Dn?Wf:Av);li[Di]=y0,Vo[Di]=y0-Ch}u.modifiersData[p]=Vo}},requiresIfExists:["offset"]};function Bi(y,u,l){void 0===l&&(l=!1);var p=nr(u),T=nr(u)&&function fs(y){var u=y.getBoundingClientRect(),l=ne(u.width)/y.offsetWidth||1,p=ne(u.height)/y.offsetHeight||1;return 1!==l||1!==p}(u),V=Ye(u),ie=Gt(y,T,l),ue={scrollLeft:0,scrollTop:0},Me={x:0,y:0};return(p||!p&&!l)&&(("body"!==Wt(u)||qs(V))&&(ue=function os(y){return y!==Pn(y)&&nr(y)?function Er(y){return{scrollLeft:y.scrollLeft,scrollTop:y.scrollTop}}(y):qr(y)}(u)),nr(u)?((Me=Gt(u,!0)).x+=u.clientLeft,Me.y+=u.clientTop):V&&(Me.x=Vi(V))),{x:ie.left+ue.scrollLeft-Me.x,y:ie.top+ue.scrollTop-Me.y,width:ie.width,height:ie.height}}function Xs(y){var u=new Map,l=new Set,p=[];function T(V){l.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(ue){if(!l.has(ue)){var Me=u.get(ue);Me&&T(Me)}}),p.push(V)}return y.forEach(function(V){u.set(V.name,V)}),y.forEach(function(V){l.has(V.name)||T(V)}),p}function ps(y){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(y())})})),u}}var ir={placement:"bottom",modifiers:[],strategy:"absolute"};function gs(){for(var y=arguments.length,u=new Array(y),l=0;l<y;l++)u[l]=arguments[l];return!u.some(function(p){return!(p&&"function"==typeof p.getBoundingClientRect)})}function Ts(y){void 0===y&&(y={});var l=y.defaultModifiers,p=void 0===l?[]:l,T=y.defaultOptions,V=void 0===T?ir:T;return function(ue,Me,Ze){void 0===Ze&&(Ze=V);var Ct={placement:"bottom",orderedModifiers:[],options:Object.assign({},ir,V),modifiersData:{},elements:{reference:ue,popper:Me},attributes:{},styles:{}},ln=[],Bn=!1,Dn={state:Ct,setOptions:function(Br){var di="function"==typeof Br?Br(Ct.options):Br;xn(),Ct.options=Object.assign({},V,Ct.options,di),Ct.scrollParents={reference:Pr(ue)?Jr(ue):ue.contextElement?Jr(ue.contextElement):[],popper:Jr(Me)};var Ai=function ui(y){var u=Xs(y);return Ot.reduce(function(l,p){return l.concat(u.filter(function(T){return T.phase===p}))},[])}(function Os(y){var u=y.reduce(function(l,p){var T=l[p.name];return l[p.name]=T?Object.assign({},T,p,{options:Object.assign({},T.options,p.options),data:Object.assign({},T.data,p.data)}):p,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(p,Ct.options.modifiers)));return Ct.orderedModifiers=Ai.filter(function(Cr){return Cr.enabled}),function Mn(){Ct.orderedModifiers.forEach(function(pr){var di=pr.options,Cr=pr.effect;if("function"==typeof Cr){var Di=Cr({state:Ct,name:pr.name,instance:Dn,options:void 0===di?{}:di});ln.push(Di||function(){})}})}(),Dn.update()},forceUpdate:function(){if(!Bn){var Br=Ct.elements,di=Br.reference,Ai=Br.popper;if(gs(di,Ai)){Ct.rects={reference:Bi(di,dn(Ai),"fixed"===Ct.options.strategy),popper:pn(Ai)},Ct.reset=!1,Ct.placement=Ct.options.placement,Ct.orderedModifiers.forEach(function(Ji){return Ct.modifiersData[Ji.name]=Object.assign({},Ji.data)});for(var Cr=0;Cr<Ct.orderedModifiers.length;Cr++)if(!0!==Ct.reset){var Di=Ct.orderedModifiers[Cr],li=Di.fn,gi=Di.options;"function"==typeof li&&(Ct=li({state:Ct,options:void 0===gi?{}:gi,name:Di.name,instance:Dn})||Ct)}else Ct.reset=!1,Cr=-1}}},update:ps(function(){return new Promise(function(pr){Dn.forceUpdate(),pr(Ct)})}),destroy:function(){xn(),Bn=!0}};if(!gs(ue,Me))return Dn;function xn(){ln.forEach(function(pr){return pr()}),ln=[]}return Dn.setOptions(Ze).then(function(pr){!Bn&&Ze.onFirstUpdate&&Ze.onFirstUpdate(pr)}),Dn}}var re=Ts(),Pe=Ts({defaultModifiers:[$i,bs,Li,x,ts,Mr,cr,Fn,pi]}),lt=Ts({defaultModifiers:[$i,bs,Li,x]});const bt=new Map,on={set(y,u,l){bt.has(y)||bt.set(y,new Map);const p=bt.get(y);p.has(u)||0===p.size?p.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(y,u)=>bt.has(y)&&bt.get(y).get(u)||null,remove(y,u){if(!bt.has(y))return;const l=bt.get(y);l.delete(u),0===l.size&&bt.delete(y)}},rr="transitionend",Or=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),y),mi=y=>{y.dispatchEvent(new Event(rr))},kr=y=>!(!y||"object"!=typeof y)&&(typeof y.jquery<"u"&&(y=y[0]),typeof y.nodeType<"u"),ni=y=>kr(y)?y.jquery?y[0]:y:"string"==typeof y&&y.length>0?document.querySelector(Or(y)):null,ji=y=>{if(!kr(y)||0===y.getClientRects().length)return!1;const u="visible"===getComputedStyle(y).getPropertyValue("visibility"),l=y.closest("details:not([open])");if(!l)return u;if(l!==y){const p=y.closest("summary");if(p&&p.parentNode!==l||null===p)return!1}return u},ri=y=>!(y&&y.nodeType===Node.ELEMENT_NODE&&!y.classList.contains("disabled"))||(typeof y.disabled<"u"?y.disabled:y.hasAttribute("disabled")&&"false"!==y.getAttribute("disabled")),Nr=y=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof y.getRootNode){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?Nr(y.parentNode):null},Ri=()=>{},Yr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yo=[],Gi=()=>"rtl"===document.documentElement.dir,Wi=y=>{(y=>{"loading"===document.readyState?(yo.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of yo)u()}),yo.push(y)):y()})(()=>{const u=Yr();if(u){const l=y.NAME,p=u.fn[l];u.fn[l]=y.jQueryInterface,u.fn[l].Constructor=y,u.fn[l].noConflict=()=>(u.fn[l]=p,y.jQueryInterface)}})},ns=(y,u=[],l=y)=>"function"==typeof y?y(...u):l,Ra=(y,u,l=!0)=>{if(!l)return void ns(y);const T=(y=>{if(!y)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(y);const p=Number.parseFloat(u),T=Number.parseFloat(l);return p||T?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let V=!1;const ie=({target:ue})=>{ue===u&&(V=!0,u.removeEventListener(rr,ie),ns(y))};u.addEventListener(rr,ie),setTimeout(()=>{V||mi(u)},T)},So=(y,u,l,p)=>{const T=y.length;let V=y.indexOf(u);return-1===V?!l&&p?y[T-1]:y[0]:(V+=l?1:-1,p&&(V=(V+T)%T),y[Math.max(0,Math.min(V,T-1))])},Pc=/[^.]*(?=\..*)\.|.*/,js=/\..*/,Ns=/::\d+$/,ao={};let Pa=1;const ma={mouseenter:"mouseover",mouseleave:"mouseout"},Pi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ra(y,u){return u&&`${u}::${Pa++}`||y.uidEvent||Pa++}function Ro(y){const u=ra(y);return y.uidEvent=u,ao[u]=ao[u]||{},ao[u]}function U(y,u,l=null){return Object.values(y).find(p=>p.callable===u&&p.delegationSelector===l)}function pe(y,u,l){const p="string"==typeof u,T=p?l:u||l;let V=_s(y);return Pi.has(V)||(V=y),[p,T,V]}function Ke(y,u,l,p,T){if("string"!=typeof u||!y)return;let[V,ie,ue]=pe(u,l,p);var Mn;u in ma&&(Mn=ie,ie=function(xn){if(!xn.relatedTarget||xn.relatedTarget!==xn.delegateTarget&&!xn.delegateTarget.contains(xn.relatedTarget))return Mn.call(this,xn)});const Me=Ro(y),Ze=Me[ue]||(Me[ue]={}),Ct=U(Ze,ie,V?l:null);if(Ct)return void(Ct.oneOff=Ct.oneOff&&T);const ln=ra(ie,u.replace(Pc,"")),Bn=V?function te(y,u,l){return function p(T){const V=y.querySelectorAll(u);for(let{target:ie}=T;ie&&ie!==this;ie=ie.parentNode)for(const ue of V)if(ue===ie)return rs(T,{delegateTarget:ie}),p.oneOff&&Qt.off(y,T.type,u,l),l.apply(ie,[T])}}(y,l,ie):function K(y,u){return function l(p){return rs(p,{delegateTarget:y}),l.oneOff&&Qt.off(y,p.type,u),u.apply(y,[p])}}(y,ie);Bn.delegationSelector=V?l:null,Bn.callable=ie,Bn.oneOff=T,Bn.uidEvent=ln,Ze[ln]=Bn,y.addEventListener(ue,Bn,V)}function vn(y,u,l,p,T){const V=U(u[l],p,T);V&&(y.removeEventListener(l,V,!!T),delete u[l][V.uidEvent])}function hr(y,u,l,p){const T=u[l]||{};for(const[V,ie]of Object.entries(T))V.includes(p)&&vn(y,u,l,ie.callable,ie.delegationSelector)}function _s(y){return y=y.replace(js,""),ma[y]||y}const Qt={on(y,u,l,p){Ke(y,u,l,p,!1)},one(y,u,l,p){Ke(y,u,l,p,!0)},off(y,u,l,p){if("string"!=typeof u||!y)return;const[T,V,ie]=pe(u,l,p),ue=ie!==u,Me=Ro(y),Ze=Me[ie]||{},Ct=u.startsWith(".");if(typeof V<"u"){if(!Object.keys(Ze).length)return;vn(y,Me,ie,V,T?l:null)}else{if(Ct)for(const ln of Object.keys(Me))hr(y,Me,ln,u.slice(1));for(const[ln,Bn]of Object.entries(Ze)){const Dn=ln.replace(Ns,"");(!ue||u.includes(Dn))&&vn(y,Me,ie,Bn.callable,Bn.delegationSelector)}}},trigger(y,u,l){if("string"!=typeof u||!y)return null;const p=Yr();let ie=null,ue=!0,Me=!0,Ze=!1;u!==_s(u)&&p&&(ie=p.Event(u,l),p(y).trigger(ie),ue=!ie.isPropagationStopped(),Me=!ie.isImmediatePropagationStopped(),Ze=ie.isDefaultPrevented());const Ct=rs(new Event(u,{bubbles:ue,cancelable:!0}),l);return Ze&&Ct.preventDefault(),Me&&y.dispatchEvent(Ct),Ct.defaultPrevented&&ie&&ie.preventDefault(),Ct}};function rs(y,u={}){for(const[l,p]of Object.entries(u))try{y[l]=p}catch{Object.defineProperty(y,l,{configurable:!0,get:()=>p})}return y}function lo(y){if("true"===y)return!0;if("false"===y)return!1;if(y===Number(y).toString())return Number(y);if(""===y||"null"===y)return null;if("string"!=typeof y)return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function $s(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Mi={setDataAttribute(y,u,l){y.setAttribute(`data-bs-${$s(u)}`,l)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${$s(u)}`)},getDataAttributes(y){if(!y)return{};const u={},l=Object.keys(y.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of l){let T=p.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),u[T]=lo(y.dataset[p])}return u},getDataAttribute:(y,u)=>lo(y.getAttribute(`data-bs-${$s(u)}`))};class to{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const p=kr(l)?Mi.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof p?p:{},...kr(l)?Mi.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[p,T]of Object.entries(l)){const V=u[p],ie=kr(V)?"element":null==(y=V)?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(ie))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${ie}" but expected type "${T}".`)}var y}}class Oi extends to{constructor(u,l){super(),(u=ni(u))&&(this._element=u,this._config=this._getConfig(l),on.set(this._element,this.constructor.DATA_KEY,this))}dispose(){on.remove(this._element,this.constructor.DATA_KEY),Qt.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,p=!0){Ra(u,l,p)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return on.get(ni(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const jo=y=>{let u=y.getAttribute("data-bs-target");if(!u||"#"===u){let l=y.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>Or(l)).join(","):null},On={find:(y,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,y)),findOne:(y,u=document.documentElement)=>Element.prototype.querySelector.call(u,y),children:(y,u)=>[].concat(...y.children).filter(l=>l.matches(u)),parents(y,u){const l=[];let p=y.parentNode.closest(u);for(;p;)l.push(p),p=p.parentNode.closest(u);return l},prev(y,u){let l=y.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(y,u){let l=y.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(l=>!ri(l)&&ji(l))},getSelectorFromElement(y){const u=jo(y);return u&&On.findOne(u)?u:null},getElementFromSelector(y){const u=jo(y);return u?On.findOne(u):null},getMultipleElementsFromSelector(y){const u=jo(y);return u?On.find(u):[]}},xa=(y,u="hide")=>{const p=y.NAME;Qt.on(document,`click.dismiss${y.EVENT_KEY}`,`[data-bs-dismiss="${p}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),ri(this))return;const V=On.getElementFromSelector(this)||this.closest(`.${p}`);y.getOrCreateInstance(V)[u]()})},no=".bs.alert",_a=`close${no}`,As=`closed${no}`;class Na extends Oi{static get NAME(){return"alert"}close(){if(Qt.trigger(this._element,_a).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Qt.trigger(this._element,As),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=Na.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}xa(Na,"close"),Wi(Na);const Fa='[data-bs-toggle="button"]';class ya extends Oi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=ya.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}Qt.on(document,"click.bs.button.data-api",Fa,y=>{y.preventDefault();const u=y.target.closest(Fa);ya.getOrCreateInstance(u).toggle()}),Wi(ya);const Po=".bs.swipe",Tu=`touchstart${Po}`,yl=`touchmove${Po}`,Bo=`touchend${Po}`,Jl=`pointerdown${Po}`,ka=`pointerup${Po}`,P={endCallback:null,leftCallback:null,rightCallback:null},oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class B extends to{constructor(u,l){super(),this._element=u,u&&B.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return P}static get DefaultType(){return oe}static get NAME(){return"swipe"}dispose(){Qt.off(this._element,Po)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),ns(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&ns(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Qt.on(this._element,Jl,u=>this._start(u)),Qt.on(this._element,ka,u=>this._end(u)),this._element.classList.add("pointer-event")):(Qt.on(this._element,Tu,u=>this._start(u)),Qt.on(this._element,yl,u=>this._move(u)),Qt.on(this._element,Bo,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dt=".bs.carousel",Ht=".data-api",Gr="next",dr="prev",Hr="left",yi="right",Ni=`slide${Dt}`,Qs=`slid${Dt}`,Fs=`keydown${Dt}`,ia=`mouseenter${Dt}`,Bs=`mouseleave${Dt}`,Go=`dragstart${Dt}`,Cs=`load${Dt}${Ht}`,xo=`click${Dt}${Ht}`,_d="carousel",Ar="active",El=".active",Hi=".carousel-item",wh=El+Hi,Zl={ArrowLeft:yi,ArrowRight:Hr},vd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ed={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class bl extends Oi{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=On.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===_d&&this.cycle()}static get Default(){return vd}static get DefaultType(){return Ed}static get NAME(){return"carousel"}next(){this._slide(Gr)}nextWhenVisible(){!document.hidden&&ji(this._element)&&this.next()}prev(){this._slide(dr)}pause(){this._isSliding&&mi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Qt.one(this._element,Qs,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void Qt.one(this._element,Qs,()=>this.to(u));const p=this._getItemIndex(this._getActive());p!==u&&this._slide(u>p?Gr:dr,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Qt.on(this._element,Fs,u=>this._keydown(u)),"hover"===this._config.pause&&(Qt.on(this._element,ia,()=>this.pause()),Qt.on(this._element,Bs,()=>this._maybeEnableCycle())),this._config.touch&&B.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of On.find(".carousel-item img",this._element))Qt.on(p,Go,T=>T.preventDefault());this._swipeHelper=new B(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Hr)),rightCallback:()=>this._slide(this._directionToOrder(yi)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=Zl[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=On.findOne(El,this._indicatorsElement);l.classList.remove(Ar),l.removeAttribute("aria-current");const p=On.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);p&&(p.classList.add(Ar),p.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const p=this._getActive(),T=u===Gr,V=l||So(this._getItems(),p,T,this._config.wrap);if(V===p)return;const ie=this._getItemIndex(V),ue=Dn=>Qt.trigger(this._element,Dn,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(p),to:ie});if(ue(Ni).defaultPrevented||!p||!V)return;const Ze=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ie),this._activeElement=V;const Ct=T?"carousel-item-start":"carousel-item-end",ln=T?"carousel-item-next":"carousel-item-prev";V.classList.add(ln),p.classList.add(Ct),V.classList.add(Ct),this._queueCallback(()=>{V.classList.remove(Ct,ln),V.classList.add(Ar),p.classList.remove(Ar,ln,Ct),this._isSliding=!1,ue(Qs)},p,this._isAnimated()),Ze&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return On.findOne(wh,this._element)}_getItems(){return On.find(Hi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return Gi()?u===Hr?dr:Gr:u===Hr?Gr:dr}_orderToDirection(u){return Gi()?u===dr?Hr:yi:u===dr?yi:Hr}static jQueryInterface(u){return this.each(function(){const l=bl.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}Qt.on(document,xo,"[data-bs-slide], [data-bs-slide-to]",function(y){const u=On.getElementFromSelector(this);if(!u||!u.classList.contains(_d))return;y.preventDefault();const l=bl.getOrCreateInstance(u),p=this.getAttribute("data-bs-slide-to");return p?(l.to(p),void l._maybeEnableCycle()):"next"===Mi.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),Qt.on(window,Cs,()=>{const y=On.find('[data-bs-ride="carousel"]');for(const u of y)bl.getOrCreateInstance(u)}),Wi(bl);const Va=".bs.collapse",va=`show${Va}`,Oc=`shown${Va}`,Ah=`hide${Va}`,Du=`hidden${Va}`,oa=`click${Va}.data-api`,Nc="show",Ua="collapse",Ki="collapsing",Su=`:scope .${Ua} .${Ua}`,Ss='[data-bs-toggle="collapse"]',tc={parent:null,toggle:!0},Tl={parent:"(null|element)",toggle:"boolean"};class Js extends Oi{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const p=On.find(Ss);for(const T of p){const V=On.getSelectorFromElement(T),ie=On.find(V).filter(ue=>ue===this._element);null!==V&&ie.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tc}static get DefaultType(){return Tl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ue=>ue!==this._element).map(ue=>Js.getOrCreateInstance(ue,{toggle:!1}))),u.length&&u[0]._isTransitioning||Qt.trigger(this._element,va).defaultPrevented)return;for(const ue of u)ue.hide();const p=this._getDimension();this._element.classList.remove(Ua),this._element.classList.add(Ki),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ie=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Ua,Nc),this._element.style[p]="",Qt.trigger(this._element,Oc)},this._element,!0),this._element.style[p]=`${this._element[ie]}px`}hide(){if(this._isTransitioning||!this._isShown()||Qt.trigger(this._element,Ah).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Ki),this._element.classList.remove(Ua,Nc);for(const T of this._triggerArray){const V=On.getElementFromSelector(T);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Ua),Qt.trigger(this._element,Du)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Nc)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=ni(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Ss);for(const l of u){const p=On.getElementFromSelector(l);p&&this._addAriaAndCollapsedClass([l],this._isShown(p))}}_getFirstLevelChildren(u){const l=On.find(Su,this._config.parent);return On.find(u,this._config.parent).filter(p=>!l.includes(p))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const p of u)p.classList.toggle("collapsed",!l),p.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const p=Js.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Qt.on(document,oa,Ss,function(y){("A"===y.target.tagName||y.delegateTarget&&"A"===y.delegateTarget.tagName)&&y.preventDefault();for(const u of On.getMultipleElementsFromSelector(this))Js.getOrCreateInstance(u,{toggle:!1}).toggle()}),Wi(Js);const Cl="dropdown",ja=".bs.dropdown",Il=".data-api",co="ArrowUp",Ea="ArrowDown",Eo=`hide${ja}`,Td=`hidden${ja}`,Fc=`show${ja}`,qf=`shown${ja}`,Ru=`click${ja}${Il}`,kc=`keydown${ja}${Il}`,ba=`keyup${ja}${Il}`,zo="show",fe='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ke=`${fe}.${zo}`,At=".dropdown-menu",Sr=Gi()?"top-end":"top-start",$r=Gi()?"top-start":"top-end",vi=Gi()?"bottom-end":"bottom-start",Za=Gi()?"bottom-start":"bottom-end",wl=Gi()?"left-start":"right-start",nc=Gi()?"right-start":"left-start",Dh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},el={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rs extends Oi{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=On.next(this._element,At)[0]||On.prev(this._element,At)[0]||On.findOne(At,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Dh}static get DefaultType(){return el}static get NAME(){return Cl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ri(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Qt.trigger(this._element,Fc,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Qt.on(p,"mouseover",Ri);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zo),this._element.classList.add(zo),Qt.trigger(this._element,qf,u)}}hide(){!ri(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Qt.trigger(this._element,Eo,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Qt.off(p,"mouseover",Ri);this._popper&&this._popper.destroy(),this._menu.classList.remove(zo),this._element.classList.remove(zo),this._element.setAttribute("aria-expanded","false"),Mi.removeDataAttribute(this._menu,"popper"),Qt.trigger(this._element,Td,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!kr(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${Cl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof i>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:kr(this._config.reference)?u=ni(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Pe(u,this._menu,l)}_isShown(){return this._menu.classList.contains(zo)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return wl;if(u.classList.contains("dropstart"))return nc;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?$r:Sr:l?Za:vi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Mi.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...ns(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const p=On.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>ji(T));p.length&&So(p,l,u===Ea,!p.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=Rs.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=On.find(ke);for(const p of l){const T=Rs.getInstance(p);if(!T||!1===T._config.autoClose)continue;const V=u.composedPath(),ie=V.includes(T._menu);if(V.includes(T._element)||"inside"===T._config.autoClose&&!ie||"outside"===T._config.autoClose&&ie||T._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const ue={relatedTarget:T._element};"click"===u.type&&(ue.clickEvent=u),T._completeHide(ue)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),p="Escape"===u.key,T=[co,Ea].includes(u.key);if(!T&&!p||l&&!p)return;u.preventDefault();const V=this.matches(fe)?this:On.prev(this,fe)[0]||On.next(this,fe)[0]||On.findOne(fe,u.delegateTarget.parentNode),ie=Rs.getOrCreateInstance(V);if(T)return u.stopPropagation(),ie.show(),void ie._selectMenuItem(u);ie._isShown()&&(u.stopPropagation(),ie.hide(),V.focus())}}Qt.on(document,kc,fe,Rs.dataApiKeydownHandler),Qt.on(document,kc,At,Rs.dataApiKeydownHandler),Qt.on(document,Ru,Rs.clearMenus),Qt.on(document,ba,Rs.clearMenus),Qt.on(document,Ru,fe,function(y){y.preventDefault(),Rs.getOrCreateInstance(this).toggle()}),Wi(Rs);const Cd="backdrop",Lc=`mousedown.bs.${Cd}`,xu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Mu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ou extends to{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return xu}static get DefaultType(){return Mu}static get NAME(){return Cd}show(u){if(!this._config.isVisible)return void ns(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{ns(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),ns(u)})):ns(u)}dispose(){this._isAppended&&(Qt.off(this._element,Lc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=ni(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Qt.on(u,Lc,()=>{ns(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Ra(u,this._getElement(),this._config.isAnimated)}}const bo=".bs.focustrap",Dl=`focusin${bo}`,Sh=`keydown.tab${bo}`,wd="backward",Fu={autofocus:!0,trapElement:null},Yf={autofocus:"boolean",trapElement:"element"};class Rh extends to{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Fu}static get DefaultType(){return Yf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Qt.off(document,bo),Qt.on(document,Dl,u=>this._handleFocusin(u)),Qt.on(document,Sh,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Qt.off(document,bo))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const p=On.focusableChildren(l);0===p.length?l.focus():this._lastTabNavDirection===wd?p[p.length-1].focus():p[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?wd:"forward")}}const Vc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tl=".sticky-top",ic="padding-right",Sl="margin-right";class sc{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ic,l=>l+u),this._setElementAttributes(Vc,ic,l=>l+u),this._setElementAttributes(tl,Sl,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ic),this._resetElementAttributes(Vc,ic),this._resetElementAttributes(tl,Sl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,p){const T=this.getWidth();this._applyManipulationCallback(u,ie=>{if(ie!==this._element&&window.innerWidth>ie.clientWidth+T)return;this._saveInitialAttribute(ie,l);const ue=window.getComputedStyle(ie).getPropertyValue(l);ie.style.setProperty(l,`${p(Number.parseFloat(ue))}px`)})}_saveInitialAttribute(u,l){const p=u.style.getPropertyValue(l);p&&Mi.setDataAttribute(u,l,p)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,T=>{const V=Mi.getDataAttribute(T,l);null!==V?(Mi.removeDataAttribute(T,l),T.style.setProperty(l,V)):T.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(kr(u))l(u);else for(const p of On.find(u,this._element))l(p)}}const Mo=".bs.modal",To=`hide${Mo}`,Ad=`hidePrevented${Mo}`,Rl=`hidden${Mo}`,Ps=`show${Mo}`,Ph=`shown${Mo}`,Pl=`resize${Mo}`,oc=`click.dismiss${Mo}`,xh=`mousedown.dismiss${Mo}`,rl=`keydown.dismiss${Mo}`,ac=`click${Mo}.data-api`,Uc="modal-open",Ko="modal-static",Nl={backdrop:!0,focus:!0,keyboard:!0},Mh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class as extends Oi{constructor(u,l){super(u,l),this._dialog=On.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new sc,this._addEventListeners()}static get Default(){return Nl}static get DefaultType(){return Mh}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Qt.trigger(this._element,Ps,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Uc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||Qt.trigger(this._element,To).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Qt.off(window,Mo),Qt.off(this._dialog,Mo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ou({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Rh({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=On.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Qt.trigger(this._element,Ph,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Qt.on(this._element,rl,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Qt.on(window,Pl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Qt.on(this._element,xh,u=>{Qt.one(this._element,oc,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Uc),this._resetAdjustments(),this._scrollBar.reset(),Qt.trigger(this._element,Rl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Qt.trigger(this._element,Ad).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;"hidden"===p||this._element.classList.contains(Ko)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Ko),this._queueCallback(()=>{this._element.classList.remove(Ko),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),p=l>0;if(p&&!u){const T=Gi()?"paddingLeft":"paddingRight";this._element.style[T]=`${l}px`}if(!p&&u){const T=Gi()?"paddingRight":"paddingLeft";this._element.style[T]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const p=as.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof p[u]>"u")throw new TypeError(`No method named "${u}"`);p[u](l)}})}}Qt.on(document,ac,'[data-bs-toggle="modal"]',function(y){const u=On.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),Qt.one(u,Ps,T=>{T.defaultPrevented||Qt.one(u,Rl,()=>{ji(this)&&this.focus()})});const l=On.findOne(".modal.show");l&&as.getInstance(l).hide(),as.getOrCreateInstance(u).toggle(this)}),xa(as),Wi(as);const aa=".bs.offcanvas",Oh=".data-api",Dd=`load${aa}${Oh}`,Oo="showing",Vu=".offcanvas.show",$c=`show${aa}`,Fh=`shown${aa}`,yg=`hide${aa}`,vg=`hidePrevented${aa}`,Zf=`hidden${aa}`,ep=`resize${aa}`,ks=`click${aa}${Oh}`,qm=`keydown.dismiss${aa}`,Bc={backdrop:!0,keyboard:!0,scroll:!1},Eg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ba extends Oi{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bc}static get DefaultType(){return Eg}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Qt.trigger(this._element,$c,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new sc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Oo),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Oo),Qt.trigger(this._element,Fh,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!Qt.trigger(this._element,yg).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new sc).reset(),Qt.trigger(this._element,Zf)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Ou({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():Qt.trigger(this._element,vg)}:null})}_initializeFocusTrap(){return new Rh({trapElement:this._element})}_addEventListeners(){Qt.on(this._element,qm,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();Qt.trigger(this._element,vg)}})}static jQueryInterface(u){return this.each(function(){const l=Ba.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Qt.on(document,ks,'[data-bs-toggle="offcanvas"]',function(y){const u=On.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),ri(this))return;Qt.one(u,Zf,()=>{ji(this)&&this.focus()});const l=On.findOne(Vu);l&&l!==u&&Ba.getInstance(l).hide(),Ba.getOrCreateInstance(u).toggle(this)}),Qt.on(window,Dd,()=>{for(const y of On.find(Vu))Ba.getOrCreateInstance(y).show()}),Qt.on(window,ep,()=>{for(const y of On.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(y).position&&Ba.getOrCreateInstance(y).hide()}),xa(Ba),Wi(Ba);const Uu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},kl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Yo=(y,u)=>{const l=y.nodeName.toLowerCase();return u.includes(l)?!kl.has(l)||!!kh.test(y.nodeValue):u.filter(p=>p instanceof RegExp).some(p=>p.test(l))},Vl={allowList:Uu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ul={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Pd={entry:"(string|element|function|null)",selector:"(string|element)"};class tp extends to{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return Vl}static get DefaultType(){return Ul}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[T,V]of Object.entries(this._config.content))this._setContent(u,V,T);const l=u.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&l.classList.add(...p.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,p]of Object.entries(u))super._typeCheckConfig({selector:l,entry:p},Pd)}_setContent(u,l,p){const T=On.findOne(p,u);if(T){if(!(l=this._resolvePossibleFunction(l)))return void T.remove();if(kr(l))return void this._putElementInTemplate(ni(l),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(l));T.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function Ll(y,u,l){if(!y.length)return y;if(l&&"function"==typeof l)return l(y);const T=(new window.DOMParser).parseFromString(y,"text/html"),V=[].concat(...T.body.querySelectorAll("*"));for(const ie of V){const ue=ie.nodeName.toLowerCase();if(!Object.keys(u).includes(ue)){ie.remove();continue}const Me=[].concat(...ie.attributes),Ze=[].concat(u["*"]||[],u[ue]||[]);for(const Ct of Me)Yo(Ct,Ze)||ie.removeAttribute(Ct.nodeName)}return T.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return ns(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const Tg=new Set(["sanitize","allowList","sanitizeFn"]),Co="fade",la="show",ju="hide.bs.modal",$u="hover",Bu="focus",zu={AUTO:"auto",TOP:"top",RIGHT:Gi()?"left":"right",BOTTOM:"bottom",LEFT:Gi()?"right":"left"},$h={allowList:Uu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Nd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sl extends Oi{constructor(u,l){if(typeof i>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $h}static get DefaultType(){return Nd}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Qt.off(this._element.closest(".modal"),ju,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Qt.trigger(this._element,this.constructor.eventName("show")),p=(Nr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(T),Qt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(la),"ontouchstart"in document.documentElement)for(const ue of[].concat(...document.body.children))Qt.on(ue,"mouseover",Ri);this._queueCallback(()=>{Qt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Qt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(la),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Qt.off(T,"mouseover",Ri);this._activeTrigger.click=!1,this._activeTrigger[Bu]=!1,this._activeTrigger[$u]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Qt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(Co,la),l.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(y=>{do{y+=Math.floor(1e6*Math.random())}while(document.getElementById(y));return y})(this.constructor.NAME).toString();return l.setAttribute("id",p),this._isAnimated()&&l.classList.add(Co),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new tp({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Co)}_isShown(){return this.tip&&this.tip.classList.contains(la)}_createPopper(u){const l=ns(this._config.placement,[this,u,this._element]),p=zu[l.toUpperCase()];return Pe(this._element,u,this._getPopperConfig(p))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return ns(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...l,...ns(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)Qt.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if("manual"!==l){const p=this.constructor.eventName(l===$u?"mouseenter":"focusin"),T=this.constructor.eventName(l===$u?"mouseleave":"focusout");Qt.on(this._element,p,this._config.selector,V=>{const ie=this._initializeOnDelegatedTarget(V);ie._activeTrigger["focusin"===V.type?Bu:$u]=!0,ie._enter()}),Qt.on(this._element,T,this._config.selector,V=>{const ie=this._initializeOnDelegatedTarget(V);ie._activeTrigger["focusout"===V.type?Bu:$u]=ie._element.contains(V.relatedTarget),ie._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Qt.on(this._element.closest(".modal"),ju,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Mi.getDataAttributes(this._element);for(const p of Object.keys(l))Tg.has(p)&&delete l[p];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:ni(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,p]of Object.entries(this._config))this.constructor.Default[l]!==p&&(u[l]=p);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=sl.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Wi(sl);const m={...sl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},v={...sl.DefaultType,content:"(null|string|element|function)"};class S extends sl{static get Default(){return m}static get DefaultType(){return v}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=S.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Wi(S);const tt=".bs.scrollspy",Zt=`activate${tt}`,Vn=`click${tt}`,$n=`load${tt}.data-api`,Hs="active",al="[href]",Wu=".nav-link",ip=`${Wu}, .nav-item > ${Wu}, .list-group-item`,Hc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gl extends Oi{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hc}static get DefaultType(){return Gh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=ni(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Qt.off(this._config.target,Vn),Qt.on(this._config.target,Vn,al,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const p=this._rootElement||window,T=l.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:T,behavior:"smooth"});p.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=ie=>this._targetLinks.get(`#${ie.target.id}`),p=ie=>{this._previousScrollData.visibleEntryTop=ie.target.offsetTop,this._process(l(ie))},T=(this._rootElement||document.documentElement).scrollTop,V=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const ie of u){if(!ie.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(ie));continue}const ue=ie.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&ue){if(p(ie),!T)return}else!V&&!ue&&p(ie)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=On.find(al,this._config.target);for(const l of u){if(!l.hash||ri(l))continue;const p=On.findOne(decodeURI(l.hash),this._element);ji(p)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,p))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Hs),this._activateParents(u),Qt.trigger(this._element,Zt,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))On.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Hs);else for(const l of On.parents(u,".nav, .list-group"))for(const p of On.prev(l,ip))p.classList.add(Hs)}_clearActiveClass(u){u.classList.remove(Hs);const l=On.find(`${al}.${Hs}`,u);for(const p of l)p.classList.remove(Hs)}static jQueryInterface(u){return this.each(function(){const l=Gl.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Qt.on(window,$n,()=>{for(const y of On.find('[data-bs-spy="scroll"]'))Gl.getOrCreateInstance(y)}),Wi(Gl);const Xo=".bs.tab",Vd=`hide${Xo}`,Ig=`hidden${Xo}`,sp=`show${Xo}`,op=`shown${Xo}`,Ca=`click${Xo}`,wg=`keydown${Xo}`,Qm=`load${Xo}`,Ud="ArrowLeft",zh="ArrowRight",jd="ArrowUp",Jm="ArrowDown",Wh="Home",Zm="End",Hl="active",Kh="show",qu=".dropdown-toggle",Ag=`:not(${qu})`,Dg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yu=`.nav-link${Ag}, .list-group-item${Ag}, [role="tab"]${Ag}, ${Dg}`,No=`.${Hl}[data-bs-toggle="tab"], .${Hl}[data-bs-toggle="pill"], .${Hl}[data-bs-toggle="list"]`;class Ga extends Oi{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Qt.on(this._element,wg,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),p=l?Qt.trigger(l,Vd,{relatedTarget:u}):null;Qt.trigger(u,sp,{relatedTarget:l}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Hl),this._activate(On.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Qt.trigger(u,op,{relatedTarget:l})):u.classList.add(Kh)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Hl),u.blur(),this._deactivate(On.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Qt.trigger(u,Ig,{relatedTarget:l})):u.classList.remove(Kh)},u,u.classList.contains("fade")))}_keydown(u){if(![Ud,zh,jd,Jm,Wh,Zm].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(T=>!ri(T));let p;if([Wh,Zm].includes(u.key))p=l[u.key===Wh?0:l.length-1];else{const T=[zh,Jm].includes(u.key);p=So(l,u.target,T,!0)}p&&(p.focus({preventScroll:!0}),Ga.getOrCreateInstance(p).show())}_getChildren(){return On.find(Yu,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const p of l)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),p=this._getOuterElement(u);u.setAttribute("aria-selected",l),p!==u&&this._setAttributeIfNotExists(p,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=On.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const p=this._getOuterElement(u);if(!p.classList.contains("dropdown"))return;const T=(V,ie)=>{const ue=On.findOne(V,p);ue&&ue.classList.toggle(ie,l)};T(qu,Hl),T(".dropdown-menu",Kh),p.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,p){u.hasAttribute(l)||u.setAttribute(l,p)}_elemIsActive(u){return u.classList.contains(Hl)}_getInnerElement(u){return u.matches(Yu)?u:On.findOne(Yu,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=Ga.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}Qt.on(document,Ca,Dg,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),!ri(this)&&Ga.getOrCreateInstance(this).show()}),Qt.on(window,Qm,()=>{for(const y of On.find(No))Ga.getOrCreateInstance(y)}),Wi(Ga);const zc=".bs.toast",cp=`mouseover${zc}`,n_=`mouseout${zc}`,up=`focusin${zc}`,Rg=`focusout${zc}`,dp=`hide${zc}`,$d=`hidden${zc}`,Wc=`show${zc}`,qh=`shown${zc}`,lc="show",cc="showing",Cy={animation:"boolean",autohide:"boolean",delay:"number"},r_={animation:!0,autohide:!0,delay:5e3};class Bd extends Oi{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return r_}static get DefaultType(){return Cy}static get NAME(){return"toast"}show(){Qt.trigger(this._element,Wc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(lc,cc),this._queueCallback(()=>{this._element.classList.remove(cc),Qt.trigger(this._element,qh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Qt.trigger(this._element,dp).defaultPrevented&&(this._element.classList.add(cc),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(cc,lc),Qt.trigger(this._element,$d)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lc),super.dispose()}isShown(){return this._element.classList.contains(lc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const p=u.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){Qt.on(this._element,cp,u=>this._onInteraction(u,!0)),Qt.on(this._element,n_,u=>this._onInteraction(u,!1)),Qt.on(this._element,up,u=>this._onInteraction(u,!0)),Qt.on(this._element,Rg,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=Bd.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}xa(Bd),Wi(Bd);var qc=O(5312);let uc=(()=>{class y{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(Ie.Qq))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var si=O(4341);let hp=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(p,T){1&p&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&p&&(r.R7$(5),r.JRh(T.phoneNumber),r.R7$(4),r.JRh(T.address),r.R7$(4),r.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return y})();var Pg=O(3711),Yh=O(3095);let xg=(()=>{class y{transform(l){if(!l)return"";let p=l.toString().replace(/\D/g,"");return 10!==p.length?l.toString():`${p.slice(0,3)}.${p.slice(3,6)}.${p.slice(6)}`}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275pipe=r.EJ8({name:"phoneFormat",type:y,pure:!0})}}return y})();function Mg(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function i_(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Og(y,u){if(1&y&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.FS9("href",l.business.socialMedia,r.B4B),r.R7$(1),r.JRh(l.business.socialMedia)}}function Iy(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.nI1(25,"phoneFormat"),r.k0s()(),r.DNE(26,Mg,6,2,"div",23),r.DNE(27,i_,6,3,"div",23),r.DNE(28,Og,6,2,"div",23),r.j41(29,"div")(30,"h3"),r.EFF(31,"Visitation Hours"),r.k0s(),r.nrm(32,"div",24),r.k0s()()(),r.j41(33,"div",25)(34,"div",26),r.nrm(35,"img",27),r.k0s()()()(),r.j41(36,"section",28)(37,"div",18),r.EFF(38,"Send Us a Message"),r.k0s(),r.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),r.EFF(43,"How can we help?"),r.k0s(),r.j41(44,"p",33),r.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(46,"div",34)(47,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(49,"div",37)(50,"label",38),r.EFF(51,"Name"),r.j41(52,"span"),r.EFF(53,"*"),r.k0s()(),r.j41(54,"input",39),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()(),r.j41(55,"div",37)(56,"label",40),r.EFF(57,"Email"),r.j41(58,"span"),r.EFF(59,"*"),r.k0s()(),r.j41(60,"input",41),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(61,"div",37)(62,"label",42),r.EFF(63,"Phone "),r.j41(64,"span"),r.EFF(65,"*"),r.k0s()(),r.j41(66,"input",43),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.phone=T)}),r.k0s()(),r.j41(67,"div",37)(68,"label",44),r.EFF(69,"Message"),r.j41(70,"span"),r.EFF(71,"*"),r.k0s()(),r.j41(72,"textarea",45),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(73,"button",46),r.EFF(74," Send "),r.k0s()()()()(),r.nrm(75,"app-information",47),r.nI1(76,"phoneFormat"),r.nrm(77,"app-google-maps",48),r.k0s(),r.nrm(78,"app-faq"),r.bVm()}if(2&y){const l=r.sdS(48),p=r.XpG(2);r.R7$(19),r.LHq("",null==p.location?null:p.location.street,", ",null==p.location?null:p.location.city,", ",null==p.location?null:p.location.state," ",null==p.location?null:p.location.zipcode,""),r.R7$(5),r.JRh(r.bMT(25,20,null==p.location?null:p.location.phone)),r.R7$(2),r.Y8G("ngIf",p.business.email),r.R7$(1),r.Y8G("ngIf",null==p.location?null:p.location.fax),r.R7$(1),r.Y8G("ngIf",p.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",p.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",p.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(19),r.Y8G("ngModel",p.formData.name),r.R7$(6),r.Y8G("ngModel",p.formData.email),r.R7$(6),r.Y8G("ngModel",p.formData.phone),r.R7$(6),r.Y8G("ngModel",p.formData.message),r.R7$(1),r.Y8G("disabled",!l.form.valid),r.R7$(2),r.Y8G("phoneNumber",r.bMT(76,22,null==p.location?null:p.location.phone)||"")("address",p.formattedAddress)("email",(null==p.location?null:p.location.email)||""),r.R7$(2),r.Y8G("address",p.formattedAddress||"")("layoutType",p.business.theme.themeType||"demo")}}function s_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function o_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Xh(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function fp(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.phone=T)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(30,"button",59),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,s_,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,o_,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,Xh,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(11),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(6),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(5),r.JRh(null==l.location?null:l.location.street),r.R7$(2),r.Lme(" ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city,""),r.R7$(2),r.SpI(" ",null==l.location?null:l.location.state,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function pp(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Fax: "),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function a_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Email: "),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function wy(y,u){if(1&y&&(r.j41(0,"div",62)(1,"span",68),r.EFF(2,"Hours: "),r.k0s(),r.nrm(3,"p",24),r.k0s()),2&y){const l=r.XpG(3);r.R7$(3),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT)}}function Ng(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function l_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Let's Get in touch"),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()(),r.j41(8,"div",60)(9,"div",62)(10,"span",68),r.EFF(11,"Address:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",62)(15,"span",68),r.EFF(16,"Phone: "),r.k0s(),r.j41(17,"p"),r.EFF(18),r.nI1(19,"phoneFormat"),r.k0s()(),r.DNE(20,pp,6,3,"div",61),r.DNE(21,a_,6,2,"div",61),r.DNE(22,wy,4,1,"div",61),r.DNE(23,Ng,3,1,"div",63),r.k0s()(),r.j41(24,"div",50)(25,"div",51)(26,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(27,"div",37)(28,"label",53),r.EFF(29,"Name "),r.j41(30,"span"),r.EFF(31,"(required)"),r.k0s()(),r.j41(32,"div",54)(33,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()()(),r.j41(34,"div",37)(35,"label",40),r.EFF(36,"Email: "),r.j41(37,"span"),r.EFF(38,"(required)"),r.k0s()(),r.j41(39,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(40,"div",37)(41,"label",42),r.EFF(42,"Phone "),r.j41(43,"span"),r.EFF(44,"(required)"),r.k0s()(),r.j41(45,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.phone=T)}),r.k0s()(),r.j41(46,"div",37)(47,"label",44),r.EFF(48,"Message "),r.j41(49,"span"),r.EFF(50,"(required)"),r.k0s()(),r.j41(51,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(52,"button",69),r.EFF(53,"Send"),r.k0s()()(),r.j41(54,"div",64),r.nrm(55,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(7),r.JRh(l.business.contactFormDetails),r.R7$(6),r.LHq("",null==l.location?null:l.location.street," ",null==l.location?null:l.location.zipcode," ",null==l.location?null:l.location.city," ",null==l.location?null:l.location.state,""),r.R7$(5),r.JRh(r.bMT(19,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(1),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(1),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(10),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(4),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Qu(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function gp(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function c_(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function Fg(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero",70),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Qu,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,gp,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.nrm(15,"br"),r.EFF(16),r.nrm(17,"br"),r.EFF(18),r.k0s()(),r.DNE(19,c_,3,1,"div",63),r.k0s(),r.j41(20,"div",51)(21,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(22,"div",37)(23,"label",53),r.EFF(24,"Name "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"div",54)(28,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()()(),r.j41(29,"div",37)(30,"label",40),r.EFF(31,"Email "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(35,"div",37)(36,"label",42),r.EFF(37,"Phone "),r.j41(38,"span"),r.EFF(39,"(required)"),r.k0s()(),r.j41(40,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.phone=T)}),r.k0s()(),r.j41(41,"div",37)(42,"label",44),r.EFF(43,"Message "),r.j41(44,"span"),r.EFF(45,"(required)"),r.k0s()(),r.j41(46,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(47,"button",71),r.EFF(48,"Send"),r.k0s()()()(),r.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()(),r.j41(55,"div",64),r.nrm(56,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(3),r.JRh(null==l.location?null:l.location.street),r.R7$(2),r.JRh(null==l.location?null:l.location.city),r.R7$(2),r.Lme(" ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function Ay(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p"),r.nrm(2,"i",74),r.j41(3,"a",49),r.EFF(4),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(3),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function Gd(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p"),r.nrm(2,"i",75),r.EFF(3),r.nI1(4,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(3),r.JRh(r.bMT(4,1,null==l.location?null:l.location.fax))}}function kg(y,u){if(1&y&&(r.j41(0,"div",62)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function mp(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero",70),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Ay,5,2,"div",61),r.j41(7,"div",62)(8,"p"),r.nrm(9,"i",72),r.EFF(10),r.nI1(11,"phoneFormat"),r.k0s()(),r.DNE(12,Gd,5,3,"div",61),r.j41(13,"div",62)(14,"p"),r.nrm(15,"i",73),r.EFF(16),r.k0s()(),r.DNE(17,kg,3,1,"div",61),r.k0s(),r.j41(18,"div",51)(19,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(20,"div",37)(21,"label",53),r.EFF(22,"Name "),r.j41(23,"span"),r.EFF(24,"(required)"),r.k0s()(),r.j41(25,"div",54)(26,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()()(),r.j41(27,"div",37)(28,"label",40),r.EFF(29,"Email "),r.j41(30,"span"),r.EFF(31,"(required)"),r.k0s()(),r.j41(32,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(33,"div",37)(34,"label",42),r.EFF(35,"Phone "),r.j41(36,"span"),r.EFF(37,"(required)"),r.k0s()(),r.j41(38,"input",57),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.phone=T)}),r.k0s()(),r.j41(39,"div",37)(40,"label",44),r.EFF(41,"Message "),r.j41(42,"span"),r.EFF(43,"(required)"),r.k0s()(),r.j41(44,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(45,"button",71),r.EFF(46,"Send"),r.k0s()()()(),r.j41(47,"div",50)(48,"div",64),r.nrm(49,"app-google-maps",48),r.k0s(),r.j41(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(1),r.Y8G("layoutType","prestige"),r.R7$(5),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(4),r.JRh(r.bMT(11,16,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(4),r.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.phone),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(5),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo"),r.R7$(5),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT)}}function u_(y,u){if(1&y&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&y){const l=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==l.location?null:l.location.email,"",r.B4B),r.R7$(1),r.JRh(null==l.location?null:l.location.email)}}function _p(y,u){if(1&y&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==l.location?null:l.location.fax))}}function Lg(y,u){if(1&y&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&y){const l=r.XpG(3);r.R7$(1),r.FS9("href",l.business.socialMedia,r.B4B)}}function yp(y,u){if(1&y){const l=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,u_,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,_p,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,Lg,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(l);const T=r.XpG(2);return r.Njj(T.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.name=T)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.email=T)}),r.k0s()(),r.j41(31,"div",37)(32,"label",44),r.EFF(33,"Message "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"textarea",58),r.bIt("ngModelChange",function(T){r.eBV(l);const V=r.XpG(2);return r.Njj(V.formData.message=T)}),r.k0s()(),r.j41(37,"button",59),r.EFF(38,"Send"),r.k0s()()()(),r.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),r.EFF(43,"Visitation Hours"),r.k0s(),r.nrm(44,"div",24),r.k0s()(),r.j41(45,"div",64),r.nrm(46,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&y){const l=r.XpG(2);r.R7$(6),r.Y8G("ngIf",null==l.location?null:l.location.email),r.R7$(3),r.JRh(r.bMT(10,14,null==l.location?null:l.location.phone)),r.R7$(2),r.Y8G("ngIf",null==l.location?null:l.location.fax),r.R7$(3),r.LHq("",null==l.location?null:l.location.street,", ",null==l.location?null:l.location.city,", ",null==l.location?null:l.location.state," ",null==l.location?null:l.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",l.business.socialMedia),r.R7$(9),r.Y8G("ngModel",l.formData.name),r.R7$(6),r.Y8G("ngModel",l.formData.email),r.R7$(6),r.Y8G("ngModel",l.formData.message),r.R7$(8),r.Y8G("innerHTML",l.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",l.formattedAddress||"")("layoutType",l.business.theme.themeType||"demo")}}function vp(y,u){if(1&y&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Iy,79,24,"ng-container",2),r.DNE(3,fp,60,17,"ng-container",2),r.DNE(4,l_,56,18,"ng-container",2),r.DNE(5,Fg,57,18,"ng-container",2),r.DNE(6,mp,55,18,"ng-container",2),r.DNE(7,yp,47,16,"ng-container",3),r.k0s(),r.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),r.EFF(13),r.k0s(),r.nrm(14,"button",9),r.k0s(),r.j41(15,"div",10),r.EFF(16),r.k0s(),r.j41(17,"div",11)(18,"button",12),r.EFF(19," Close "),r.k0s()()()()()()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(7),r.JRh(l.modalTitle),r.R7$(3),r.SpI(" ",l.modalMessage," ")}}let Ju=(()=>{class y{constructor(l,p,T,V,ie,ue,Me,Ze){this.sanitizer=l,this.businessDataService=p,this.webContent=T,this.route=V,this.http=ie,this.emailService=ue,this.router=Me,this.metaService=Ze,this.business=null,this.location=null,this.layoutType="demo",this.useMockMap=qc.c.useMockGoogleMap,this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l&&(this.business=l,this.businessDataService.getLocations().subscribe(p=>{p.length>0?(this.location=p[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),l?.id&&(this.metaService.loadAndApplyMeta(l.id),this.layoutType=l.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new as(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const p=l.split(".");return p.length>2?p.slice(-2).join("."):l}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(l=>l).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ae.up),r.rXU(Pt.A),r.rXU(Be.N),r.rXU(le.nX),r.rXU(Ie.Qq),r.rXU(uc),r.rXU(le.Ix),r.rXU(qe.R))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[1,"label"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-map-location-dot"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-fax"]],template:function(p,T){1&p&&r.DNE(0,vp,20,8,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[Se.bT,Se.ux,Se.e1,Se.fG,si.qT,si.me,si.BC,si.cb,si.YS,si.vS,si.cV,hp,wn,Pg.a,Yh.C,xg]})}}return y})();var Vg=O(467),Qh=O(8455),Yc=O(6354);const d_=["dynamicContainer"],Jh=["ctaContainer"];function Zh(y,u){1&y&&(r.qex(0),r.j41(1,"div",10)(2,"div",11)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",12)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.bVm())}function Ug(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","sb"))}function h_(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","ae"))}function jg(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Dy(y,u){1&y&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&y&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function $g(y,u){if(1&y){const l=r.RV6();r.j41(0,"div",14),r.bIt("click",function(){const V=r.eBV(l).$implicit,ie=r.XpG(2);return r.Njj(ie.onImageClick(V.url))}),r.nrm(1,"img",15),r.j41(2,"div",16)(3,"h3"),r.EFF(4),r.k0s(),r.j41(5,"p"),r.EFF(6),r.k0s()()()}if(2&y){const l=u.$implicit;r.R7$(1),r.Y8G("src",l.url,r.B4B),r.R7$(3),r.JRh(l.title),r.R7$(2),r.JRh(l.description)}}function Ep(y,u){if(1&y&&(r.j41(0,"div")(1,"div",2),r.DNE(2,Zh,8,0,"ng-container",3),r.DNE(3,Ug,2,1,"ng-container",3),r.DNE(4,h_,2,1,"ng-container",3),r.DNE(5,jg,2,1,"ng-container",3),r.DNE(6,Dy,2,1,"ng-container",3),r.k0s(),r.eu8(7,null,4),r.j41(9,"section",5)(10,"div",6)(11,"h2"),r.EFF(12,"Explore Our Gallery"),r.k0s()(),r.j41(13,"div",7),r.DNE(14,$g,7,3,"div",8),r.k0s()(),r.eu8(15,null,9),r.k0s()),2&y){const l=r.XpG();r.R7$(1),r.Y8G("ngSwitch",l.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(8),r.Y8G("ngForOf",l.images)}}function bp(y,u){if(1&y){const l=r.RV6();r.j41(0,"div",17),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.j41(1,"div",18),r.bIt("click",function(T){return T.stopPropagation()}),r.j41(2,"button",19),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onCloseModal())}),r.EFF(3,"\xd7"),r.k0s(),r.nrm(4,"img",20),r.k0s()()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("src",l.selectedImageUrl,r.B4B)}}let dc=(()=>{class y{constructor(l,p,T,V,ie,ue,Me,Ze){this.businessDataService=l,this.route=p,this.webContent=T,this.metaService=V,this.router=ie,this.sectionService=ue,this.resolver=Me,this.injector=Ze,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Te.W,"right-text":xe.F,"left-text":W.G,"item-list":J.j,cta:_e.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{l&&0!==l.length?(this.sections=l.filter(p=>!1!==p.isActive).sort((p,T)=>(p.order||0)-(T.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(p=>"cta"!==p.component).forEach(p=>{this.createDynamicComponent(p,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const l=this.sections.find(p=>"cta"===p.component);l?this.createDynamicComponent(l,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(l,p){const T=this.componentsMap[l.component];if(!T)return void console.error("\u274c Component Not Found:",l.component);const V=this.resolver.resolveComponentFactory(T),ie=p.createComponent(V,void 0,this.injector);Object.assign(ie.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,De.n)(ie=>{const ue=ie.map(function(){var Me=(0,Vg.A)(function*(Ze){return(yield l.webContent.checkImageExists(Ze.url))?Ze:null});return function(Ze){return Me.apply(this,arguments)}}());return(0,Qh.H)(Promise.all(ue))}),(0,Yc.T)(ie=>ie.filter(ue=>null!==ue)),(0,Yc.T)(ie=>ie.map(ue=>({url:ue.url,title:ue.title||"No Title",description:ue.description||"No Description",link:ue.link||"No Link",order:isNaN(Number(ue.order))?999:Number(ue.order)})).sort((ue,Me)=>ue.order-Me.order))).subscribe(ie=>{this[V]||(this[V]=[]),this[V]=ie})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Pt.A),r.rXU(le.nX),r.rXU(Be.N),r.rXU(qe.R),r.rXU(le.Ix),r.rXU($t.W),r.rXU(r.OM3),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-photo-gallery"]],viewQuery:function(p,T){if(1&p&&(r.GBs(d_,5,r.c1b),r.GBs(Jh,5,r.c1b)),2&p){let V;r.mGM(V=r.lsd())&&(T.container=V.first),r.mGM(V=r.lsd())&&(T.ctaContainer=V.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[1,"gallery-item-overlay"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(p,T){1&p&&(r.DNE(0,Ep,17,7,"div",0),r.DNE(1,bp,5,1,"div",1)),2&p&&(r.Y8G("ngIf",T.business),r.R7$(1),r.Y8G("ngIf",T.selectedImageUrl))},dependencies:[Se.Sq,Se.bT,Se.ux,Se.e1,wn],styles:[".gallery[_ngcontent-%COMP%]{padding:20px;max-width:var(--site-max-width);margin:0 auto}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:25%;background-color:#0003;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;padding:10px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:.5rem 0;text-align:center}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-item-overlay[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 600px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return y})();var ef=O(4796);function Xc(y,u){if(1&y&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&y){const l=r.XpG();r.R7$(1),r.JRh(l.errorMessage)}}let f_=(()=>{class y{constructor(l,p){this.authService=l,this.router=p,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(ef.u),r.rXU(le.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(p,T){1&p&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return T.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(ie){return T.email=ie}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(ie){return T.password=ie}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,Xc,2,1,"div",10),r.k0s()()()),2&p&&(r.R7$(8),r.Y8G("ngModel",T.email),r.R7$(4),r.Y8G("ngModel",T.password),r.R7$(3),r.Y8G("ngIf",T.errorMessage))},dependencies:[Se.bT,si.qT,si.me,si.BC,si.cb,si.YS,si.vS,si.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return y})();var Bg=O(1985),hc=O(6340);let Gg=(()=>{class y{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,p){const T=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${p}/intake`).doc(T);return new Bg.c(ie=>{V.set(l).then(()=>{ie.next(l),ie.complete()}).catch(ue=>{console.error("Error saving intake form data",ue),ie.error(ue)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,Yc.T)(p=>p.map(T=>{const V=T.payload.doc.data();return{id:T.payload.doc.id,...V}})))}getIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).valueChanges().pipe((0,Yc.T)(T=>T||void 0))}updateIntakeForm(l,p,T){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).update(T)}deleteIntakeForm(l,p){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(p).delete()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(hc.Qe))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Hg(y,u){if(1&y){const l=r.RV6();r.j41(0,"div"),r.nrm(1,"app-hero",1),r.j41(2,"form",2),r.bIt("ngSubmit",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.onSubmit())}),r.j41(3,"div",3)(4,"h2"),r.EFF(5,"Personal Information"),r.k0s(),r.j41(6,"label",4),r.EFF(7,"Name *"),r.k0s(),r.nrm(8,"input",5),r.j41(9,"label",6),r.EFF(10,"Email *"),r.k0s(),r.nrm(11,"input",7),r.j41(12,"label",8),r.EFF(13,"Phone number *"),r.k0s(),r.nrm(14,"input",9),r.k0s(),r.j41(15,"div",3)(16,"h2"),r.EFF(17,"Referral Source"),r.k0s(),r.j41(18,"label",10),r.EFF(19,"How did you find out about us? *"),r.k0s(),r.j41(20,"select",11)(21,"option",12),r.EFF(22,"Google"),r.k0s(),r.j41(23,"option",13),r.EFF(24,"Facebook"),r.k0s(),r.j41(25,"option",14),r.EFF(26,"Placement Agency"),r.k0s(),r.j41(27,"option",15),r.EFF(28,"Friends and/or Family"),r.k0s(),r.j41(29,"option",16),r.EFF(30,"Other"),r.k0s()(),r.j41(31,"label",17),r.EFF(32,"What is your relation to the resident? *"),r.k0s(),r.nrm(33,"input",18),r.k0s(),r.j41(34,"div",3)(35,"h2"),r.EFF(36,"Resident Information"),r.k0s(),r.j41(37,"label",19),r.EFF(38,"Resident's name *"),r.k0s(),r.nrm(39,"input",20),r.j41(40,"label",21),r.EFF(41,"Age *"),r.k0s(),r.nrm(42,"input",22),r.j41(43,"label",23),r.EFF(44,"Gender *"),r.k0s(),r.j41(45,"select",24)(46,"option",25),r.EFF(47,"Male"),r.k0s(),r.j41(48,"option",26),r.EFF(49,"Female"),r.k0s(),r.j41(50,"option",27),r.EFF(51,"Prefer not to say"),r.k0s(),r.j41(52,"option",16),r.EFF(53,"Other"),r.k0s()()(),r.j41(54,"div",3)(55,"h2"),r.EFF(56,"Medical History"),r.k0s(),r.j41(57,"label",28),r.EFF(58,"Relevant medical and surgical history *"),r.k0s(),r.nrm(59,"textarea",29),r.j41(60,"label",30),r.EFF(61,"Height *"),r.k0s(),r.nrm(62,"input",31),r.j41(63,"label",32),r.EFF(64,"Weight *"),r.k0s(),r.nrm(65,"input",33),r.j41(66,"label",34),r.EFF(67,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(68,"textarea",35),r.j41(69,"label",36),r.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(71,"select",37)(72,"option",38),r.EFF(73,"Yes"),r.k0s(),r.j41(74,"option",39),r.EFF(75,"No"),r.k0s()()(),r.j41(76,"div",3)(77,"h2"),r.EFF(78,"Care Levels"),r.k0s(),r.j41(79,"label",40),r.EFF(80,"Eating *"),r.k0s(),r.j41(81,"select",41)(82,"option",42),r.EFF(83,"Independent"),r.k0s(),r.j41(84,"option",43),r.EFF(85,"Needing Assistance"),r.k0s(),r.j41(86,"option",44),r.EFF(87,"Dependent"),r.k0s()(),r.j41(88,"label",45),r.EFF(89,"Personal Hygiene *"),r.k0s(),r.j41(90,"select",46)(91,"option",42),r.EFF(92,"Independent"),r.k0s(),r.j41(93,"option",43),r.EFF(94,"Needing Assistance"),r.k0s(),r.j41(95,"option",44),r.EFF(96,"Dependent"),r.k0s()(),r.j41(97,"label",47),r.EFF(98,"Bathing *"),r.k0s(),r.j41(99,"select",48)(100,"option",42),r.EFF(101,"Independent"),r.k0s(),r.j41(102,"option",43),r.EFF(103,"Needing Assistance"),r.k0s(),r.j41(104,"option",44),r.EFF(105,"Dependent"),r.k0s()(),r.j41(106,"label",49),r.EFF(107,"Toileting *"),r.k0s(),r.j41(108,"select",50)(109,"option",42),r.EFF(110,"Independent"),r.k0s(),r.j41(111,"option",43),r.EFF(112,"Needing Assistance"),r.k0s(),r.j41(113,"option",44),r.EFF(114,"Dependent"),r.k0s()(),r.j41(115,"label",51),r.EFF(116,"Mobility *"),r.k0s(),r.j41(117,"select",52)(118,"option",42),r.EFF(119,"Independent"),r.k0s(),r.j41(120,"option",43),r.EFF(121,"Needing Assistance"),r.k0s(),r.j41(122,"option",44),r.EFF(123,"Dependent"),r.k0s()(),r.j41(124,"label",53),r.EFF(125,"Transfers *"),r.k0s(),r.j41(126,"select",54)(127,"option",42),r.EFF(128,"Independent"),r.k0s(),r.j41(129,"option",43),r.EFF(130,"Needing Assistance"),r.k0s(),r.j41(131,"option",44),r.EFF(132,"Dependent"),r.k0s()(),r.j41(133,"label",55),r.EFF(134,"Medication Assistance *"),r.k0s(),r.j41(135,"select",56)(136,"option",38),r.EFF(137,"Yes"),r.k0s(),r.j41(138,"option",39),r.EFF(139,"No"),r.k0s()()(),r.j41(140,"div",3)(141,"h2"),r.EFF(142,"Other Medical Information"),r.k0s(),r.j41(143,"label",57),r.EFF(144,"Memory Issues *"),r.k0s(),r.j41(145,"select",58)(146,"option",38),r.EFF(147,"Yes"),r.k0s(),r.j41(148,"option",39),r.EFF(149,"No"),r.k0s()(),r.j41(150,"label",59),r.EFF(151,"Behavior"),r.k0s(),r.nrm(152,"textarea",60),r.j41(153,"label",61),r.EFF(154,"Skin Condition"),r.k0s(),r.nrm(155,"textarea",62),r.j41(156,"label",63),r.EFF(157,"Other information you want us to know"),r.k0s(),r.nrm(158,"textarea",64),r.k0s(),r.j41(159,"div",3)(160,"h2"),r.EFF(161,"Living Situation"),r.k0s(),r.j41(162,"label",65),r.EFF(163,"Current living situation *"),r.k0s(),r.j41(164,"select",66)(165,"option",67),r.EFF(166,"Own Home"),r.k0s(),r.j41(167,"option",68),r.EFF(168,"Relative's Home"),r.k0s(),r.j41(169,"option",69),r.EFF(170,"Hospital"),r.k0s(),r.j41(171,"option",70),r.EFF(172,"Adult Family Home"),r.k0s(),r.j41(173,"option",71),r.EFF(174,"Senior Living"),r.k0s(),r.j41(175,"option",16),r.EFF(176,"Other"),r.k0s()()(),r.j41(177,"div",3)(178,"label",72),r.EFF(179,"Target move in date *"),r.k0s(),r.nrm(180,"input",73),r.k0s(),r.j41(181,"div",3)(182,"label",74),r.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(184,"select",75)(185,"option",38),r.EFF(186,"Yes"),r.k0s(),r.j41(187,"option",39),r.EFF(188,"No"),r.k0s()()(),r.j41(189,"div",3)(190,"label",76),r.EFF(191,"Do you have any questions for us?"),r.k0s(),r.nrm(192,"textarea",77),r.k0s(),r.j41(193,"button",78),r.EFF(194,"Submit"),r.k0s()()()}if(2&y){const l=r.XpG();r.R7$(1),r.Y8G("layoutType",l.business.theme.themeType),r.R7$(1),r.Y8G("formGroup",l.intakeForm),r.R7$(191),r.Y8G("disabled",l.intakeForm.invalid)}}let zg=(()=>{class y{constructor(l,p,T,V,ie){this.fb=l,this.intakeService=p,this.businessDataService=T,this.emailService=V,this.metaService=ie,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",si.k0.required],email:["",[si.k0.required,si.k0.email]],phoneNumber:["",si.k0.required],referralSource:["",si.k0.required],relationToResident:[""],residentName:["",si.k0.required],age:["",si.k0.required],gender:["",si.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const p={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(p).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(si.ok),r.rXU(Gg),r.rXU(Pt.A),r.rXU(uc),r.rXU(qe.R))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(p,T){1&p&&r.DNE(0,Hg,195,3,"div",0),2&p&&r.Y8G("ngIf",T.business)},dependencies:[Se.bT,si.qT,si.xH,si.y7,si.me,si.Q0,si.wz,si.BC,si.cb,si.j4,si.JD,wn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return y})();var Zu=O(6661);function Tp(y,u){1&y&&r.nrm(0,"div",9)}function tf(y,u){1&y&&(r.j41(0,"p",10),r.EFF(1,"Loading Google Reviews..."),r.k0s())}function p_(y,u){if(1&y&&r.nrm(0,"img",22),2&y){const l=r.XpG().$implicit;r.FS9("alt",l.name),r.Y8G("src",l.photoURL,r.B4B)}}function Cp(y,u){if(1&y&&(r.j41(0,"div",23),r.EFF(1),r.k0s()),2&y){const l=r.XpG().$implicit;r.R7$(1),r.SpI(" ",l.name.charAt(0).toUpperCase()," ")}}function g_(y,u){if(1&y&&(r.j41(0,"p",24),r.EFF(1),r.k0s()),2&y){const l=r.XpG().$implicit;r.R7$(1),r.SpI(" ",l.quote," ")}}function fc(y,u){if(1&y&&r.nrm(0,"p",25),2&y){const l=r.XpG().$implicit;r.Y8G("innerHTML",l.quote,r.npT)}}function Sy(y,u){1&y&&(r.j41(0,"div",26),r.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),r.k0s())}const Wg=function(y){return{"full-width":y}};function m_(y,u){if(1&y&&(r.j41(0,"div",11)(1,"div",12),r.DNE(2,p_,1,2,"img",13),r.DNE(3,Cp,2,1,"ng-template",null,14,r.C5r),r.k0s(),r.j41(5,"blockquote",15)(6,"div",16),r.EFF(7,"\u201c"),r.k0s(),r.DNE(8,g_,2,1,"p",17),r.DNE(9,fc,1,1,"p",18),r.k0s(),r.j41(10,"div",12)(11,"div")(12,"p",19),r.EFF(13),r.k0s(),r.j41(14,"p",20),r.EFF(15),r.k0s(),r.DNE(16,Sy,2,0,"div",21),r.k0s()()()),2&y){const l=u.$implicit,p=r.sdS(4);r.Y8G("ngClass",r.eq3(8,Wg,l.rawQuote.length>1e3)),r.R7$(2),r.Y8G("ngIf",l.photoURL)("ngIfElse",p),r.R7$(6),r.Y8G("ngIf",l.isGoogle),r.R7$(1),r.Y8G("ngIf",!l.isGoogle),r.R7$(4),r.JRh(l.name),r.R7$(2),r.JRh(l.relationship),r.R7$(1),r.Y8G("ngIf",l.isGoogle)}}function Kg(y,u){if(1&y&&(r.j41(0,"a",27),r.EFF(1," Leave us a Google Review "),r.k0s()),2&y){const l=r.XpG();r.Y8G("href",l.googleReviewLink,r.B4B)}}function Hd(y,u){1&y&&(r.j41(0,"div"),r.nrm(1,"img",11),r.k0s())}function qg(y,u){1&y&&r.nrm(0,"div",12)}const Yg=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ce.B},{path:"about-us",component:dt},{path:"services",component:yr},{path:"contact-us",component:Ju},{path:"gallery",component:dc},{path:"login",component:f_},{path:"resident-form",component:zg},{path:"testimonials",component:(()=>{class y{constructor(l,p,T,V,ie){this.businessDataService=l,this.metaService=p,this.googleMapsLoader=T,this.sanitizer=V,this.route=ie,this.testimonials=[],this.themeType=null,this.business=null,this.googleReviewsLoading=!0}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{l?(this.business=l,this.loadData()):this.route.queryParams.subscribe(p=>{const T=p.id;T&&this.businessDataService.loadBusinessData(T).subscribe(V=>{V&&(this.business=V,this.loadData())})})})}loadData(){this.loadTestimonials(),"0"!==this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(l=>{if(l&&l.testimonials){const p=l.testimonials.map(T=>({...T,relationship:"Testimonial",rawQuote:T.quote,quote:this.sanitizeHtml(T.quote),isGoogle:!1}));this.testimonials=[...this.testimonials,...p]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(p,T)=>{if(this.googleReviewsLoading=!1,T===google.maps.places.PlacesServiceStatus.OK){const V=p?.reviews?.map(ie=>({name:ie.author_name,quote:ie.text,rawQuote:ie.text,relationship:"Google Review",isGoogle:!0,photoURL:ie.profile_photo_url||null}))||[];this.testimonials=[...V,...this.testimonials]}else console.error("Error fetching Google reviews:",T)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}sanitizeHtml(l){return this.sanitizer.bypassSecurityTrustHtml(l)}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(Pt.A),r.rXU(qe.R),r.rXU(Zu.L),r.rXU(ae.up),r.rXU(le.nX))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-testimonials-list"]],decls:12,vars:4,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"testimonial-grid"],["class","testimonial-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"googleReviewLink"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[1,"testimonial-card",3,"ngClass"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text-page",4,"ngIf"],["class","quote-text-page",3,"innerHTML",4,"ngIf"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"quote-text-page"],[1,"quote-text-page",3,"innerHTML"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(p,T){1&p&&(r.nrm(0,"app-hero"),r.j41(1,"div",0)(2,"h1",1),r.EFF(3,"What Clients Say"),r.k0s(),r.j41(4,"p",2),r.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),r.k0s(),r.DNE(6,Tp,1,0,"div",3),r.DNE(7,tf,2,0,"p",4),r.j41(8,"div",5),r.DNE(9,m_,17,10,"div",6),r.k0s()(),r.j41(10,"div",7),r.DNE(11,Kg,2,1,"a",8),r.k0s()),2&p&&(r.R7$(6),r.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),r.R7$(1),r.Y8G("ngIf",T.googleReviewsLoading&&"0"!=(null==T.business?null:T.business.placeId)),r.R7$(2),r.Y8G("ngForOf",T.testimonials),r.R7$(2),r.Y8G("ngIf","0"!=(null==T.business?null:T.business.placeId)))},dependencies:[Se.YU,Se.Sq,Se.bT,wn],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.testimonial-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.quote-text-page[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3;margin-bottom:2rem;max-width:1024px;text-align:left}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #555;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#666}.googleReviewLink[_ngcontent-%COMP%]{text-align:center;margin:0 auto}']})}}return y})()},{path:"faq",component:Yh.C},{path:"location",component:(()=>{class y{constructor(l,p,T){this.route=l,this.businessDataService=p,this.googleMapsLoader=T,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null,this.useMockMap=qc.c.useMockGoogleMap}ngOnInit(){this.route.queryParams.subscribe(l=>{this.locationIndex=Number(l.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,De.n)(p=>p?this.businessDataService.loadBusinessData(p):[])).subscribe(p=>{p&&(this.business=p,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,De.n)(l=>l?this.businessDataService.loadBusinessData(l):[])).subscribe(l=>{l?(console.log("\u2705 Business Data Loaded:",l),this.business=l,this.layoutType=l.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",l.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(p=>{p&&this.locationIndex<p.length?(this.location=p[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",p.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.useMockMap?console.log("Mock map mode: displaying static map image."):this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(l=>{console.error("Error loading Google Maps script:",l)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(l){this.geocoder.geocode({address:l},(p,T)=>{"OK"===T?(this.map.setCenter(p[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:p[0].geometry.location})):console.error("Geocode was not successful: "+T)})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.nX),r.rXU(Pt.A),r.rXU(Zu.L))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-location-page"]],decls:43,vars:19,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],[3,"src"],[4,"ngIf","ngIfElse"],["liveMap",""],["src","../../../../assets/sharedAssets/mock-map.png","alt","Static Map Preview"],["id","map",1,"map-container"]],template:function(p,T){if(1&p&&(r.nrm(0,"app-hero",0),r.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r.EFF(5),r.k0s(),r.j41(6,"p")(7,"strong"),r.EFF(8,"Address:"),r.k0s(),r.EFF(9),r.k0s(),r.j41(10,"p")(11,"strong"),r.EFF(12,"Email:"),r.k0s(),r.EFF(13),r.k0s(),r.j41(14,"p")(15,"strong"),r.EFF(16,"Phone:"),r.k0s(),r.EFF(17),r.k0s(),r.j41(18,"p")(19,"strong"),r.EFF(20,"Fax:"),r.k0s(),r.EFF(21),r.k0s(),r.j41(22,"div",4)(23,"a",5),r.EFF(24," Open in maps "),r.k0s()(),r.j41(25,"div",6)(26,"p"),r.EFF(27,"Monday - Friday"),r.nrm(28,"br"),r.EFF(29,"9am - 5pm"),r.nrm(30,"br")(31,"br"),r.EFF(32,"Call to schedule an appointment "),r.j41(33,"a",7),r.EFF(34),r.k0s(),r.EFF(35),r.k0s()()(),r.j41(36,"div",3),r.nrm(37,"img",8),r.k0s()(),r.j41(38,"div",2)(39,"div",3),r.DNE(40,Hd,2,0,"div",9),r.DNE(41,qg,1,0,"ng-template",null,10,r.C5r),r.k0s()()()),2&p){const V=r.sdS(42);r.Y8G("layoutType","prestige"),r.R7$(5),r.JRh((null==T.location?null:T.location.locationName)||"Location"),r.R7$(4),r.LHq(" ",null==T.location?null:T.location.street,", ",null==T.location?null:T.location.city,", ",null==T.location?null:T.location.state," ",null==T.location?null:T.location.zipcode," "),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.email,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.phone,""),r.R7$(4),r.SpI(" ",null==T.location?null:T.location.fax,""),r.R7$(2),r.yjJ("href","https://google.com/maps/place/'",T.location.street,"+",T.location.city,"+",T.location.zipcode,"'",r.B4B),r.R7$(10),r.Mz_("href","tel:",null==T.location?null:T.location.phone,"",r.B4B)("title","tel:",null==T.location?null:T.location.phone,""),r.R7$(1),r.SpI("",null==T.location?null:T.location.phone,","),r.R7$(1),r.SpI(" text us at: ",null==T.location?null:T.location.phone," "),r.R7$(2),r.FS9("src",null==T.location?null:T.location.image,r.B4B),r.R7$(3),r.Y8G("ngIf",T.useMockMap)("ngIfElse",V)}},dependencies:[Se.bT,wn],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return y})()},{path:"login",component:f_},{path:"admin",loadChildren:()=>O.e(506).then(O.bind(O,4506)).then(y=>y.AdminModule)},{path:":id",component:Ce.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Ip=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y})}static{this.\u0275inj=r.G2t({imports:[le.iI.forRoot(Yg),le.iI]})}}return y})();var nf=O(5009);function Py(y,u){if(1&y&&r.nrm(0,"img",12),2&y){const l=r.XpG();r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function ed(y,u){1&y&&(r.j41(0,"li",18),r.EFF(1,"No locations available"),r.k0s())}function xy(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",18)(1,"span",19),r.bIt("click",function(){const V=r.eBV(l).index,ie=r.XpG(2);return r.Njj(ie.selectLocation(V))}),r.EFF(2),r.k0s()()}if(2&y){const l=u.$implicit;r.R7$(2),r.JRh(l.locationName||"Unknown City")}}function Xg(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",13)(1,"span",14),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleDropdown(0))}),r.EFF(2," Locations "),r.k0s(),r.j41(3,"ul",15),r.DNE(4,ed,2,0,"li",16),r.DNE(5,xy,3,1,"li",17),r.k0s()()}if(2&y){const l=r.XpG();r.R7$(3),r.AVh("show",0===l.expandedDropdownIndex),r.R7$(1),r.Y8G("ngIf",0===l.locations.length),r.R7$(1),r.Y8G("ngForOf",l.locations)}}function y_(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function zd(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function rf(y,u){if(1&y){const l=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const Ha=function(y){return{"clemo-shrink":y}},sf=function(){return["/home"]},v_=function(y){return{id:y}},E_=function(y){return{"clemo-show":y}};let b_=(()=>{class y{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(p=>{this.locations=p}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}toggleDropdown(l){this.expandedDropdownIndex=this.expandedDropdownIndex===l?null:l}selectLocation(l){const p={locationIndex:l};this.businessId&&(p.id=this.businessId),this.router.navigate(["/location"],{queryParams:p}).then(T=>{T?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.nX),r.rXU(le.Ix),r.rXU(Pt.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-expandable-navigation"]],hostBindings:function(p,T){1&p&&r.bIt("scroll",function(){return T.onWindowScroll()},!1,r.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(p,T){1&p&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,Py,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return T.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return T.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.DNE(11,Xg,6,4,"li",10),r.j41(12,"li",8)(13,"span",9),r.bIt("click",function(){return T.navigateTo("about-us")}),r.EFF(14,"About Us"),r.k0s()(),r.j41(15,"li",8)(16,"span",9),r.bIt("click",function(){return T.navigateTo("services")}),r.EFF(17,"Services"),r.k0s()(),r.DNE(18,y_,3,0,"li",11),r.DNE(19,zd,3,0,"li",11),r.DNE(20,rf,3,0,"li",11),r.j41(21,"li",8)(22,"span",9),r.bIt("click",function(){return T.navigateTo("contact-us")}),r.EFF(23,"Contact"),r.k0s()()()()()()),2&p&&(r.Y8G("ngClass",r.eq3(9,Ha,T.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(11,sf))("queryParams",r.eq3(12,v_,T.businessId)),r.R7$(1),r.Y8G("ngIf",null==T.business?null:T.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(14,E_,T.menuOpen)),r.R7$(5),r.Y8G("ngIf",T.locations.length>1),r.R7$(7),r.Y8G("ngIf","sb"!=T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==T.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[Se.YU,Se.Sq,Se.bT,le.Wk]})}}return y})();function T_(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const af=function(){return["/home"]},Wd=function(y){return{id:y}},Jc=function(y){return{"open-bar1":y}},Zc=function(y){return{"open-bar2":y}},lf=function(y){return{"open-bar3":y}},Kd=function(y){return{active:y}};function wp(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,T_,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,af))("queryParams",r.eq3(8,Wd,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,Jc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Zc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Kd,l.menuOpen))}}function C_(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}const td=function(){return["/contact-us"]};function I_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,C_,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,af))("queryParams",r.eq3(10,Wd,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,Jc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Zc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,Kd,l.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,td))("queryParams",r.eq3(21,Wd,l.businessId))}}function Qg(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Jg(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function pc(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function Ap(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,pc,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,af))("queryParams",r.eq3(8,Wd,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,Jc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Zc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Kd,l.menuOpen))}}function Zg(y,u){1&y&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function My(y,u){if(1&y&&r.nrm(0,"img",13),2&y){const l=r.XpG(2);r.Y8G("src",null==l.business?null:l.business.logoImage,r.B4B)}}function nd(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,My,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,af))("queryParams",r.eq3(10,Wd,l.businessId)),r.R7$(1),r.Y8G("ngIf",null==l.business?null:l.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,Jc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Zc,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,lf,l.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,Kd,l.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,td))("queryParams",r.eq3(21,Wd,l.businessId))}}let em=(()=>{class y{constructor(l,p,T){this.route=l,this.router=p,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(p=>{this.business=p,this.layoutType=this.business?.theme.themeType}))})}navigateTo(l){const p=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:p}).then(T=>{T||console.error("Navigation failed!")})}scrollToSection(l){const p=document.getElementById(l);p&&p.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.nX),r.rXU(le.Ix),r.rXU(Pt.A))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,wp,21,18,"ng-container",1),r.DNE(2,I_,29,23,"ng-container",1),r.DNE(3,Qg,2,0,"ng-container",1),r.DNE(4,Jg,2,0,"ng-container",1),r.DNE(5,Ap,21,18,"ng-container",1),r.DNE(6,Zg,2,0,"ng-container",1),r.DNE(7,nd,27,23,"ng-container",1),r.k0s()),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[Se.YU,Se.bT,Se.ux,Se.e1,le.Wk,b_],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return y})();function Oy(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function Dp(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(6),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.JRh(null==l.business?null:l.business.providerName),r.R7$(5),r.JRh(null==l.business?null:l.business.address),r.R7$(5),r.JRh(null==l.business?null:l.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.email),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function w_(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"nav",27)(4,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(5,"HOME"),r.k0s(),r.j41(6,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(7,"ABOUT US"),r.k0s(),r.j41(8,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(9,"SERVICES"),r.k0s(),r.j41(10,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(11,"OUR HOME"),r.k0s(),r.j41(12,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(13,"TESTIMONIALS"),r.k0s(),r.j41(14,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(15,"RESIDENT FORM"),r.k0s(),r.j41(16,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(17,"CONTACT"),r.k0s()()(),r.j41(18,"div",29)(19,"div",30),r.nrm(20,"img",31),r.k0s(),r.j41(21,"h4",32),r.EFF(22),r.k0s()(),r.j41(23,"div",33)(24,"div",34)(25,"h4",32),r.EFF(26,"Address"),r.k0s(),r.j41(27,"p"),r.EFF(28),r.k0s()(),r.j41(29,"div",35)(30,"h4",32),r.EFF(31,"Contact Us"),r.k0s(),r.j41(32,"p"),r.EFF(33),r.nrm(34,"br"),r.EFF(35,"Email: "),r.j41(36,"a",11),r.EFF(37),r.k0s()()(),r.j41(38,"div",36)(39,"h4",32),r.EFF(40,"Provider"),r.k0s(),r.j41(41,"p"),r.EFF(42),r.k0s()()(),r.j41(43,"div",12)(44,"div",37)(45,"div",38)(46,"p"),r.EFF(47,"DESIGNED BY "),r.j41(48,"a",15),r.EFF(49,"SB MEDIA HUB"),r.k0s()()(),r.j41(50,"div",39)(51,"p"),r.EFF(52,"\xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(20),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.businessName),r.R7$(6),r.JRh(null==l.business?null:l.business.address),r.R7$(5),r.SpI("Phone:",null==l.business?null:l.business.phone,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(5),r.JRh(null==l.business?null:l.business.providerName)}}function Ny(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",33)(3,"div",29),r.nrm(4,"img",31),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",35),r.EFF(8),r.k0s(),r.j41(9,"p",34),r.EFF(10),r.k0s()(),r.j41(11,"div",40)(12,"a",41),r.nrm(13,"i",42),r.k0s(),r.j41(14,"a",41),r.nrm(15,"i",43),r.k0s()(),r.j41(16,"nav",27)(17,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("testimonials"))}),r.EFF(26,"TESTIMONIALS"),r.k0s(),r.j41(27,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("resident-form"))}),r.EFF(28,"RESIDENT FORM"),r.k0s(),r.j41(29,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(30,"CONTACT"),r.k0s()(),r.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),r.EFF(35,"DESIGNED BY "),r.j41(36,"a",15),r.EFF(37,"SB MEDIA HUB"),r.k0s()()(),r.j41(38,"div",16)(39,"p"),r.EFF(40," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.businessName),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function Fy(y,u){if(1&y){const l=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",33)(3,"div",29),r.nrm(4,"img",31),r.j41(5,"p",35),r.EFF(6),r.k0s(),r.j41(7,"p",34),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"a",41),r.nrm(11,"i",42),r.k0s(),r.j41(12,"a",41),r.nrm(13,"i",43),r.k0s()(),r.j41(14,"nav",27)(15,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",28),r.bIt("click",function(){r.eBV(l);const T=r.XpG();return r.Njj(T.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&y){const l=r.XpG();r.R7$(4),r.FS9("src",null==l.business?null:l.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==l.business?null:l.business.phone),r.R7$(2),r.JRh(null==l.business?null:l.business.address)}}function ky(y,u){if(1&y&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&y){const l=r.XpG();r.R7$(4),r.JRh(null==l.business?null:l.business.businessName),r.R7$(7),r.SpI(" ",null==l.business?null:l.business.address," "),r.R7$(3),r.SpI("Provider:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==l.business?null:l.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==l.business?null:l.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==l.business?null:l.business.phone)}}function Ly(y,u){if(1&y&&(r.j41(0,"div",44)(1,"h1",45),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",46)(4,"div",47)(5,"span",48),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",49),r.EFF(8),r.k0s()(),r.j41(9,"div",47)(10,"span",48),r.EFF(11,"Theme Type:"),r.k0s(),r.j41(12,"span",49),r.EFF(13),r.k0s()(),r.j41(14,"div",47)(15,"span",48),r.EFF(16,"Business ID:"),r.k0s(),r.j41(17,"span",49),r.EFF(18),r.k0s()(),r.j41(19,"div",47)(20,"span",48),r.EFF(21,"Business Name:"),r.k0s(),r.j41(22,"span",49),r.EFF(23),r.k0s()(),r.j41(24,"div",47)(25,"span",48),r.EFF(26,"Environment:"),r.k0s(),r.j41(27,"span",49),r.EFF(28),r.k0s()(),r.j41(29,"div",47)(30,"span",48),r.EFF(31,"Use Mock Map:"),r.k0s(),r.j41(32,"span",49),r.EFF(33),r.k0s()(),r.j41(34,"div",47)(35,"span",48),r.EFF(36,"Use Mock Reviews:"),r.k0s(),r.j41(37,"span",49),r.EFF(38),r.k0s()()()()),2&y){const l=r.XpG();r.R7$(8),r.JRh(l.themeFileName),r.R7$(5),r.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),r.R7$(5),r.JRh(null==l.business?null:l.business.id),r.R7$(5),r.JRh(null==l.business?null:l.business.businessName),r.R7$(5),r.JRh(l.envName),r.R7$(5),r.JRh(l.useMockMap),r.R7$(5),r.JRh(l.useMockReviews)}}let A_=(()=>{class y{constructor(l,p,T,V,ie,ue){this.route=l,this.webContentService=p,this.authService=T,this.themeService=V,this.businessDataService=ie,this.router=ue,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo",this.envName=qc.c.production?"Production":"Development",this.useMockMap=qc.c.useMockGoogleMap,this.useMockReviews=qc.c.useMockGoogleReviews}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.businessDataService.getBusinessId().subscribe(p=>{const T=p||this.businessId,V=T?{id:T}:{};console.log("Navigating to:",l,"with params:",V),this.router.navigate([`/${l}`],{queryParams:V}).then(ie=>{ie||console.error("Navigation failed!")})})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(p=>{p&&(this.themeFileName=p.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.nX),r.rXU(Be.N),r.rXU(ef.u),r.rXU(nf.F),r.rXU(Pt.A),r.rXU(le.Ix))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-links"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-logo"],[1,"logo-circle"],["alt","",3,"src"],[1,"clemo-footer-section-heading"],[1,"clemo-footer-content"],[1,"clemo-footer-address"],[1,"clemo-footer-phone"],[1,"clemo-footer-contact"],[1,"clemo-footer-copy"],[1,"clemo-footer-design"],[1,"clemo-footer-rights"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(p,T){1&p&&(r.j41(0,"div",0),r.DNE(1,Oy,44,12,"ng-container",1),r.DNE(2,Dp,42,10,"ng-container",1),r.DNE(3,w_,53,7,"ng-container",1),r.DNE(4,Ny,41,4,"ng-container",1),r.DNE(5,Fy,35,3,"ng-container",1),r.DNE(6,ky,34,12,"ng-container",2),r.k0s(),r.DNE(7,Ly,39,7,"div",3),r.nI1(8,"async")),2&p&&(r.Y8G("ngSwitch",T.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(8,7,T.isAuthenticated$)))},dependencies:[Se.bT,Se.ux,Se.e1,Se.fG,Se.Jj]})}}return y})(),Lv=(()=>{class y{constructor(l,p,T,V,ie){this.route=l,this.webContent=p,this.metaService=T,this.router=V,this.themeService=ie,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(p){return new(p||y)(r.rXU(le.nX),r.rXU(Be.N),r.rXU(qe.R),r.rXU(le.Ix),r.rXU(nf.F))}}static{this.\u0275cmp=r.VBU({type:y,selectors:[["app-root"]],decls:3,vars:0,template:function(p,T){1&p&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[le.n3,em,A_]})}}return y})();const D__firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Ia=O(2214),Is=O(5407);class eu{constructor(u){return u}}class cf{constructor(){return(0,Ia.Dk)()}}const oi=new r.nKC("angularfire2._apps"),nm={provide:eu,useFactory:function qd(y){return y&&1===y.length?y[0]:new eu((0,Ia.Sx)())},deps:[[new r.Xx1,oi]]},rm={provide:cf,deps:[[new r.Xx1,oi]]};function tu(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new eu(p)}}let Vy=(()=>{class y{constructor(l){(0,Ia.KO)("angularfire",Is.xv.full,"core"),(0,Ia.KO)("angularfire",Is.xv.full,"app"),(0,Ia.KO)("angular",r.xvI.full,l.toString())}static \u0275fac=function(p){return new(p||y)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[nm,rm]})}return y})();function io(y,...u){return{ngModule:Vy,providers:[{provide:oi,useFactory:tu(y),multi:!0,deps:[r.SKi,r.zZn,Is.u0,...u]}]}}const S_=(0,Is.S3)(Ia.Wp,!0);O(5504),O(7852),O(1076),O(8041),O(1362);class ls{constructor(){return(0,Is.CA)("auth")}}var V_=O(9583);class Lp{constructor(u){return u}}const od="firestore",mf=new r.nKC("angularfire2.firestore-instances");function $_(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new Lp(p)}}const mm={provide:class qv{constructor(){return(0,Is.CA)(od)}},deps:[[new r.Xx1,mf]]},B_={provide:Lp,useFactory:function j_(y,u){const l=(0,Is.lR)(od,y,u);return l&&new Lp(l)},deps:[[new r.Xx1,mf],eu]};let Vp=(()=>{class y{constructor(){(0,Ia.KO)("angularfire",Is.xv.full,"fst")}static \u0275fac=function(p){return new(p||y)};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[B_,mm]})}return y})();function Up(y,...u){return{ngModule:Vp,providers:[{provide:mf,useFactory:$_(y),multi:!0,deps:[r.SKi,r.zZn,Is.u0,cf,[new r.Xx1,ls],[new r.Xx1,Is.Jv],...u]}]}}const W_=(0,Is.S3)(V_.aU,!0);var Qe=O(9253),St=O(8721),Xt=O(1977),mn=O(4535);class an{constructor(u){return u}}const Jn="storage",Fr=new r.nKC("angularfire2.storage-instances");function ai(y){return(u,l)=>{const p=u.runOutsideAngular(()=>y(l));return new an(p)}}const pt={provide:class fr{constructor(){return(0,Is.CA)(Jn)}},deps:[[new r.Xx1,Fr]]},He={provide:an,useFactory:function Fi(y,u){const l=(0,Is.lR)(Jn,y,u);return l&&new an(l)},deps:[[new r.Xx1,Fr],eu]};let nt=(()=>{class y{constructor(){(0,Ia.KO)("angularfire",Is.xv.full,"gcs")}static \u0275fac=function(p){return new(p||y)};static \u0275mod=r.$C({type:y});static \u0275inj=r.G2t({providers:[He,pt]})}return y})();function mt(y,...u){return{ngModule:nt,providers:[{provide:Fr,useFactory:ai(y),multi:!0,deps:[r.SKi,r.zZn,Is.u0,cf,[new r.Xx1,ls],[new r.Xx1,Is.Jv],...u]}]}}const ym=(0,Is.S3)(mn.c7,!0);var av=O(3012);let X_=(()=>{class y{constructor(l,p,T){this.http=l,this.themeService=p,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((p,T)=>{this.themeService.getBusinessTheme(l).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>p()).catch(ue=>{console.error("Error applying theme file:",ue),p()}),this.themeService.getThemeColors(l).subscribe(ue=>{this.applyTheme(ue),p()},ue=>{console.error("Error loading theme:",ue),p()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>p()).catch(ie=>{console.error("Error applying default theme file:",ie),p()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(Ie.Qq),r.KVO(nf.F),r.KVO(av.u))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var qi=O(9969);function vf(y){return new r.wOt(3e3,!1)}function za(y){switch(y.length){case 0:return new qi.sf;case 1:return y[0];default:return new qi.ui(y)}}function Rm(y,u,l=new Map,p=new Map){const T=[],V=[];let ie=-1,ue=null;if(u.forEach(Me=>{const Ze=Me.get("offset"),Ct=Ze==ie,ln=Ct&&ue||new Map;Me.forEach((Bn,Dn)=>{let Mn=Dn,xn=Bn;if("offset"!==Dn)switch(Mn=y.normalizePropertyName(Mn,T),xn){case qi.FX:xn=l.get(Dn);break;case qi.kp:xn=p.get(Dn);break;default:xn=y.normalizeStyleValue(Dn,Mn,xn,T)}ln.set(Mn,xn)}),Ct||V.push(ln),ue=ln,ie=Ze}),T.length)throw function Dm(y){return new r.wOt(3502,!1)}();return V}function wo(y,u,l,p){switch(u){case"start":y.onStart(()=>p(l&&Zp(l,"start",y)));break;case"done":y.onDone(()=>p(l&&Zp(l,"done",y)));break;case"destroy":y.onDestroy(()=>p(l&&Zp(l,"destroy",y)))}}function Zp(y,u,l){const V=ud(y.element,y.triggerName,y.fromState,y.toState,u||y.phaseName,l.totalTime??y.totalTime,!!l.disabled),ie=y._data;return null!=ie&&(V._data=ie),V}function ud(y,u,l,p,T="",V=0,ie){return{element:y,triggerName:u,fromState:l,toState:p,phaseName:T,totalTime:V,disabled:!!ie}}function Ao(y,u,l){let p=y.get(u);return p||y.set(u,p=l),p}function Pm(y){const u=y.indexOf(":");return[y.substring(1,u),y.slice(u+1)]}const xm=(()=>typeof document>"u"?null:document.documentElement)();function lu(y){const u=y.parentNode||y.host||null;return u===xm?null:u}let dd=null,wf=!1;function Tc(y,u){for(;u;){if(u===y)return!0;u=lu(u)}return!1}function Mm(y,u,l){if(l)return Array.from(y.querySelectorAll(u));const p=y.querySelector(u);return p?[p]:[]}let Af=(()=>{class y{validateStyleProperty(l){return function ry(y){dd||(dd=function tg(){return typeof document<"u"?document.body:null}()||{},wf=!!dd.style&&"WebkitAppearance"in dd.style);let u=!0;return dd.style&&!function eg(y){return"ebkit"==y.substring(1,6)}(y)&&(u=y in dd.style,!u&&wf&&(u="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in dd.style)),u}(l)}matchesElement(l,p){return!1}containsElement(l,p){return Tc(l,p)}getParentElement(l){return lu(l)}query(l,p,T){return Mm(l,p,T)}computeStyle(l,p,T){return T||""}animate(l,p,T,V,ie,ue=[],Me){return new qi.sf(T,V)}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})(),Df=(()=>{class y{static{this.NOOP=new Af}}return y})();const cv=1e3,Sf="ng-enter",cu="ng-leave",lh="ng-trigger",uu=".ng-trigger",zl="ng-animating",Rf=".ng-animating";function ho(y){if("number"==typeof y)return y;const u=y.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:du(parseFloat(u[1]),u[2])}function du(y,u){return"s"===u?y*cv:y}function eo(y,u,l){return y.hasOwnProperty("duration")?y:function hu(y,u,l){let T,V=0,ie="";if("string"==typeof y){const ue=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ue)return u.push(vf()),{duration:0,delay:0,easing:""};T=du(parseFloat(ue[1]),ue[2]);const Me=ue[3];null!=Me&&(V=du(parseFloat(Me),ue[4]));const Ze=ue[5];Ze&&(ie=Ze)}else T=y;if(!l){let ue=!1,Me=u.length;T<0&&(u.push(function sh(){return new r.wOt(3100,!1)}()),ue=!0),V<0&&(u.push(function Ef(){return new r.wOt(3101,!1)}()),ue=!0),ue&&u.splice(Me,0,vf())}return{duration:T,delay:V,easing:ie}}(y,u,l)}function Wl(y,u={}){return Object.keys(y).forEach(l=>{u[l]=y[l]}),u}function Zo(y){const u=new Map;return Object.keys(y).forEach(l=>{u.set(l,y[l])}),u}function wa(y,u=new Map,l){if(l)for(let[p,T]of l)u.set(p,T);for(let[p,T]of y)u.set(p,T);return u}function ea(y,u,l){u.forEach((p,T)=>{const V=Yi(T);l&&!l.has(T)&&l.set(T,y.style[V]),y.style[V]=p})}function Aa(y,u){u.forEach((l,p)=>{const T=Yi(p);y.style[T]=""})}function hl(y){return Array.isArray(y)?1==y.length?y[0]:(0,qi.K2)(y):y}const ua=new RegExp("{{\\s*(.+?)\\s*}}","g");function ta(y){let u=[];if("string"==typeof y){let l;for(;l=ua.exec(y);)u.push(l[1]);ua.lastIndex=0}return u}function Da(y,u,l){const p=y.toString(),T=p.replace(ua,(V,ie)=>{let ue=u[ie];return null==ue&&(l.push(function Em(y){return new r.wOt(3003,!1)}()),ue=""),ue.toString()});return T==p?y:T}function pu(y){const u=[];let l=y.next();for(;!l.done;)u.push(l.value),l=y.next();return u}const Om=/-+([a-z0-9])/g;function Yi(y){return y.replace(Om,(...u)=>u[1].toUpperCase())}function da(y,u,l){switch(u.type){case 7:return y.visitTrigger(u,l);case 0:return y.visitState(u,l);case 1:return y.visitTransition(u,l);case 2:return y.visitSequence(u,l);case 3:return y.visitGroup(u,l);case 4:return y.visitAnimate(u,l);case 5:return y.visitKeyframes(u,l);case 6:return y.visitStyle(u,l);case 8:return y.visitReference(u,l);case 9:return y.visitAnimateChild(u,l);case 10:return y.visitAnimateRef(u,l);case 11:return y.visitQuery(u,l);case 12:return y.visitStagger(u,l);default:throw function bm(y){return new r.wOt(3004,!1)}()}}function sg(y,u){return window.getComputedStyle(y)[u]}const Pf="*";function dv(y,u){const l=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(p=>function ly(y,u,l){if(":"==y[0]){const Me=function xf(y,u){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,p)=>parseFloat(p)>parseFloat(l);case":decrement":return(l,p)=>parseFloat(p)<parseFloat(l);default:return u.push(function bE(y){return new r.wOt(3016,!1)}()),"* => *"}}(y,l);if("function"==typeof Me)return void u.push(Me);y=Me}const p=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return l.push(function Tf(y){return new r.wOt(3015,!1)}()),u;const T=p[1],V=p[2],ie=p[3];u.push(cy(T,ie));"<"==V[0]&&!(T==Pf&&ie==Pf)&&u.push(cy(ie,T))}(p,l,u)):l.push(y),l}const og=new Set(["true","1"]),ag=new Set(["false","0"]);function cy(y,u){const l=og.has(y)||ag.has(y),p=og.has(u)||ag.has(u);return(T,V)=>{let ie=y==Pf||y==T,ue=u==Pf||u==V;return!ie&&l&&"boolean"==typeof T&&(ie=T?og.has(y):ag.has(y)),!ue&&p&&"boolean"==typeof V&&(ue=V?og.has(u):ag.has(u)),ie&&ue}}const Mf=new RegExp("s*:selfs*,?","g");function Of(y,u,l,p){return new Nf(y).build(u,l,p)}class Nf{constructor(u){this._driver=u}build(u,l,p){const T=new Ff(l);return this._resetContextStyleTimingState(T),da(this,hl(u),T)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let p=l.queryCount=0,T=l.depCount=0;const V=[],ie=[];return"@"==u.name.charAt(0)&&l.errors.push(function Tm(){return new r.wOt(3006,!1)}()),u.definitions.forEach(ue=>{if(this._resetContextStyleTimingState(l),0==ue.type){const Me=ue,Ze=Me.name;Ze.toString().split(/\s*,\s*/).forEach(Ct=>{Me.name=Ct,V.push(this.visitState(Me,l))}),Me.name=Ze}else if(1==ue.type){const Me=this.visitTransition(ue,l);p+=Me.queryCount,T+=Me.depCount,ie.push(Me)}else l.errors.push(function qp(){return new r.wOt(3007,!1)}())}),{type:7,name:u.name,states:V,transitions:ie,queryCount:p,depCount:T,options:null}}visitState(u,l){const p=this.visitStyle(u.styles,l),T=u.options&&u.options.params||null;if(p.containsDynamicStyles){const V=new Set,ie=T||{};p.styles.forEach(ue=>{ue instanceof Map&&ue.forEach(Me=>{ta(Me).forEach(Ze=>{ie.hasOwnProperty(Ze)||V.add(Ze)})})}),V.size&&(pu(V.values()),l.errors.push(function dl(y,u){return new r.wOt(3008,!1)}()))}return{type:0,name:u.name,style:p,options:T?{params:T}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const p=da(this,hl(u.animation),l);return{type:1,matchers:dv(u.expr,l.errors),animation:p,queryCount:l.queryCount,depCount:l.depCount,options:Xi(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(p=>da(this,p,l)),options:Xi(u.options)}}visitGroup(u,l){const p=l.currentTime;let T=0;const V=u.steps.map(ie=>{l.currentTime=p;const ue=da(this,ie,l);return T=Math.max(T,l.currentTime),ue});return l.currentTime=T,{type:3,steps:V,options:Xi(u.options)}}visitAnimate(u,l){const p=function Fm(y,u){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return km(eo(y,u).duration,0,"");const l=y;if(l.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=km(0,0,"");return V.dynamic=!0,V.strValue=l,V}const T=eo(l,u);return km(T.duration,T.delay,T.easing)}(u.timings,l.errors);l.currentAnimateTimings=p;let T,V=u.styles?u.styles:(0,qi.iF)({});if(5==V.type)T=this.visitKeyframes(V,l);else{let ie=u.styles,ue=!1;if(!ie){ue=!0;const Ze={};p.easing&&(Ze.easing=p.easing),ie=(0,qi.iF)(Ze)}l.currentTime+=p.duration+p.delay;const Me=this.visitStyle(ie,l);Me.isEmptyStep=ue,T=Me}return l.currentAnimateTimings=null,{type:4,timings:p,style:T,options:null}}visitStyle(u,l){const p=this._makeStyleAst(u,l);return this._validateStyleAst(p,l),p}_makeStyleAst(u,l){const p=[],T=Array.isArray(u.styles)?u.styles:[u.styles];for(let ue of T)"string"==typeof ue?ue===qi.kp?p.push(ue):l.errors.push(new r.wOt(3002,!1)):p.push(Zo(ue));let V=!1,ie=null;return p.forEach(ue=>{if(ue instanceof Map&&(ue.has("easing")&&(ie=ue.get("easing"),ue.delete("easing")),!V))for(let Me of ue.values())if(Me.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:p,easing:ie,offset:u.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(u,l){const p=l.currentAnimateTimings;let T=l.currentTime,V=l.currentTime;p&&V>0&&(V-=p.duration+p.delay),u.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ue,Me)=>{const Ze=l.collectedStyles.get(l.currentQuerySelector),Ct=Ze.get(Me);let ln=!0;Ct&&(V!=T&&V>=Ct.startTime&&T<=Ct.endTime&&(l.errors.push(function bf(y,u,l,p,T){return new r.wOt(3010,!1)}()),ln=!1),V=Ct.startTime),ln&&Ze.set(Me,{startTime:V,endTime:T}),l.options&&function ch(y,u,l){const p=u.params||{},T=ta(y);T.length&&T.forEach(V=>{p.hasOwnProperty(V)||l.push(function Q_(y){return new r.wOt(3001,!1)}())})}(ue,l.options,l.errors)})})}visitKeyframes(u,l){const p={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Cm(){return new r.wOt(3011,!1)}()),p;let V=0;const ie=[];let ue=!1,Me=!1,Ze=0;const Ct=u.steps.map(Br=>{const di=this._makeStyleAst(Br,l);let Ai=null!=di.offset?di.offset:function ph(y){if("string"==typeof y)return null;let u=null;if(Array.isArray(y))y.forEach(l=>{if(l instanceof Map&&l.has("offset")){const p=l;u=parseFloat(p.get("offset")),p.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const l=y;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(di.styles),Cr=0;return null!=Ai&&(V++,Cr=di.offset=Ai),Me=Me||Cr<0||Cr>1,ue=ue||Cr<Ze,Ze=Cr,ie.push(Cr),di});Me&&l.errors.push(function Yp(){return new r.wOt(3012,!1)}()),ue&&l.errors.push(function Fo(){return new r.wOt(3200,!1)}());const ln=u.steps.length;let Bn=0;V>0&&V<ln?l.errors.push(function uo(){return new r.wOt(3202,!1)}()):0==V&&(Bn=1/(ln-1));const Dn=ln-1,Mn=l.currentTime,xn=l.currentAnimateTimings,pr=xn.duration;return Ct.forEach((Br,di)=>{const Ai=Bn>0?di==Dn?1:Bn*di:ie[di],Cr=Ai*pr;l.currentTime=Mn+xn.delay+Cr,xn.duration=Cr,this._validateStyleAst(Br,l),Br.offset=Ai,p.styles.push(Br)}),p}visitReference(u,l){return{type:8,animation:da(this,hl(u.animation),l),options:Xi(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:Xi(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:Xi(u.options)}}visitQuery(u,l){const p=l.currentQuerySelector,T=u.options||{};l.queryCount++,l.currentQuery=u;const[V,ie]=function hh(y){const u=!!y.split(/\s*,\s*/).find(l=>":self"==l);return u&&(y=y.replace(Mf,"")),y=y.replace(/@\*/g,uu).replace(/@\w+/g,l=>uu+"-"+l.slice(1)).replace(/:animating/g,Rf),[y,u]}(u.selector);l.currentQuerySelector=p.length?p+" "+V:V,Ao(l.collectedStyles,l.currentQuerySelector,new Map);const ue=da(this,hl(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=p,{type:11,selector:V,limit:T.limit||0,optional:!!T.optional,includeSelf:ie,animation:ue,originalSelector:u.selector,options:Xi(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function au(){return new r.wOt(3013,!1)}());const p="full"===u.timings?{duration:0,delay:0,easing:"full"}:eo(u.timings,l.errors,!0);return{type:12,animation:da(this,hl(u.animation),l),timings:p,options:null}}}class Ff{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xi(y){return y?(y=Wl(y)).params&&(y.params=function fh(y){return y?Wl(y):null}(y.params)):y={},y}function km(y,u,l){return{duration:y,delay:u,easing:l}}function Lm(y,u,l,p,T,V,ie=null,ue=!1){return{type:1,element:y,keyframes:u,preStyleProps:l,postStyleProps:p,duration:T,delay:V,totalTime:T+V,easing:ie,subTimeline:ue}}class fd{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let p=this._map.get(u);p||this._map.set(u,p=[]),p.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Vm=new RegExp(":enter","g"),Ic=new RegExp(":leave","g");function gh(y,u,l,p,T,V=new Map,ie=new Map,ue,Me,Ze=[]){return(new hv).buildKeyframes(y,u,l,p,T,V,ie,ue,Me,Ze)}class hv{buildKeyframes(u,l,p,T,V,ie,ue,Me,Ze,Ct=[]){Ze=Ze||new fd;const ln=new lg(u,l,Ze,T,V,Ct,[]);ln.options=Me;const Bn=Me.delay?ho(Me.delay):0;ln.currentTimeline.delayNextStep(Bn),ln.currentTimeline.setStyles([ie],null,ln.errors,Me),da(this,p,ln);const Dn=ln.timelines.filter(Mn=>Mn.containsAnimation());if(Dn.length&&ue.size){let Mn;for(let xn=Dn.length-1;xn>=0;xn--){const pr=Dn[xn];if(pr.element===l){Mn=pr;break}}Mn&&!Mn.allowOnlyTimelineStyles()&&Mn.setStyles([ue],null,ln.errors,Me)}return Dn.length?Dn.map(Mn=>Mn.buildKeyframes()):[Lm(l,[],[],[],0,Bn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const p=l.subInstructions.get(l.element);if(p){const T=l.createSubContext(u.options),V=l.currentTimeline.currentTime,ie=this._visitSubInstructions(p,T,T.options);V!=ie&&l.transformIntoNewTimeline(ie)}l.previousNode=u}visitAnimateRef(u,l){const p=l.createSubContext(u.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,p),this.visitReference(u.animation,p),l.transformIntoNewTimeline(p.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,p){for(const T of u){const V=T?.delay;if(V){const ie="number"==typeof V?V:ho(Da(V,T?.params??{},l.errors));p.delayNextStep(ie)}}}_visitSubInstructions(u,l,p){let V=l.currentTimeline.currentTime;const ie=null!=p.duration?ho(p.duration):null,ue=null!=p.delay?ho(p.delay):null;return 0!==ie&&u.forEach(Me=>{const Ze=l.appendInstructionToTimeline(Me,ie,ue);V=Math.max(V,Ze.duration+Ze.delay)}),V}visitReference(u,l){l.updateOptions(u.options,!0),da(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const p=l.subContextCount;let T=l;const V=u.options;if(V&&(V.params||V.delay)&&(T=l.createSubContext(V),T.transformIntoNewTimeline(),null!=V.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=wc);const ie=ho(V.delay);T.delayNextStep(ie)}u.steps.length&&(u.steps.forEach(ie=>da(this,ie,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>p&&T.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const p=[];let T=l.currentTimeline.currentTime;const V=u.options&&u.options.delay?ho(u.options.delay):0;u.steps.forEach(ie=>{const ue=l.createSubContext(u.options);V&&ue.delayNextStep(V),da(this,ie,ue),T=Math.max(T,ue.currentTimeline.currentTime),p.push(ue.currentTimeline)}),p.forEach(ie=>l.currentTimeline.mergeTimelineCollectedStyles(ie)),l.transformIntoNewTimeline(T),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const p=u.strValue;return eo(l.params?Da(p,l.params,l.errors):p,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const p=l.currentAnimateTimings=this._visitTiming(u.timings,l),T=l.currentTimeline;p.delay&&(l.incrementTime(p.delay),T.snapshotCurrentStyles());const V=u.style;5==V.type?this.visitKeyframes(V,l):(l.incrementTime(p.duration),this.visitStyle(V,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const p=l.currentTimeline,T=l.currentAnimateTimings;!T&&p.hasCurrentStyleProperties()&&p.forwardFrame();const V=T&&T.easing||u.easing;u.isEmptyStep?p.applyEmptyStep(V):p.setStyles(u.styles,V,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const p=l.currentAnimateTimings,T=l.currentTimeline.duration,V=p.duration,ue=l.createSubContext().currentTimeline;ue.easing=p.easing,u.styles.forEach(Me=>{ue.forwardTime((Me.offset||0)*V),ue.setStyles(Me.styles,Me.easing,l.errors,l.options),ue.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ue),l.transformIntoNewTimeline(T+V),l.previousNode=u}visitQuery(u,l){const p=l.currentTimeline.currentTime,T=u.options||{},V=T.delay?ho(T.delay):0;V&&(6===l.previousNode.type||0==p&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=wc);let ie=p;const ue=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=ue.length;let Me=null;ue.forEach((Ze,Ct)=>{l.currentQueryIndex=Ct;const ln=l.createSubContext(u.options,Ze);V&&ln.delayNextStep(V),Ze===l.element&&(Me=ln.currentTimeline),da(this,u.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,ln.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ie),Me&&(l.currentTimeline.mergeTimelineCollectedStyles(Me),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const p=l.parentContext,T=l.currentTimeline,V=u.timings,ie=Math.abs(V.duration),ue=ie*(l.currentQueryTotal-1);let Me=ie*l.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Me=ue-Me;break;case"full":Me=p.currentStaggerTime}const Ct=l.currentTimeline;Me&&Ct.delayNextStep(Me);const ln=Ct.currentTime;da(this,u.animation,l),l.previousNode=u,p.currentStaggerTime=T.currentTime-ln+(T.startTime-p.currentTimeline.startTime)}}const wc={};class lg{constructor(u,l,p,T,V,ie,ue,Me){this._driver=u,this.element=l,this.subInstructions=p,this._enterClassName=T,this._leaveClassName=V,this.errors=ie,this.timelines=ue,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Me||new mh(this._driver,l,0),ue.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const p=u;let T=this.options;null!=p.duration&&(T.duration=ho(p.duration)),null!=p.delay&&(T.delay=ho(p.delay));const V=p.params;if(V){let ie=T.params;ie||(ie=this.options.params={}),Object.keys(V).forEach(ue=>{(!l||!ie.hasOwnProperty(ue))&&(ie[ue]=Da(V[ue],ie,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const p=u.params={};Object.keys(l).forEach(T=>{p[T]=l[T]})}}return u}createSubContext(u=null,l,p){const T=l||this.element,V=new lg(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,p||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(u),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(u){return this.previousNode=wc,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,p){const T={duration:l??u.duration,delay:this.currentTimeline.currentTime+(p??0)+u.delay,easing:""},V=new Vf(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,T,u.stretchStartingKeyframe);return this.timelines.push(V),T}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,p,T,V,ie){let ue=[];if(T&&ue.push(this.element),u.length>0){u=(u=u.replace(Vm,"."+this._enterClassName)).replace(Ic,"."+this._leaveClassName);let Ze=this._driver.query(this.element,u,1!=p);0!==p&&(Ze=p<0?Ze.slice(Ze.length+p,Ze.length):Ze.slice(0,p)),ue.push(...Ze)}return!V&&0==ue.length&&ie.push(function Im(y){return new r.wOt(3014,!1)}()),ue}}class mh{constructor(u,l,p,T){this._driver=u,this.element=l,this.startTime=p,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new mh(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,p]of this._globalTimelineStyles)this._backFill.set(l,p||qi.kp),this._currentKeyframe.set(l,qi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,p,T){l&&this._previousKeyframe.set("easing",l);const V=T&&T.params||{},ie=function Uf(y,u){const l=new Map;let p;return y.forEach(T=>{if("*"===T){p=p||u.keys();for(let V of p)l.set(V,qi.kp)}else wa(T,l)}),l}(u,this._globalTimelineStyles);for(let[ue,Me]of ie){const Ze=Da(Me,V,p);this._pendingStyles.set(ue,Ze),this._localTimelineStyles.has(ue)||this._backFill.set(ue,this._globalTimelineStyles.get(ue)??qi.kp),this._updateStyle(ue,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,p)=>{const T=this._styleSummary.get(p);(!T||l.time>T.time)&&this._updateStyle(p,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,p=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((ue,Me)=>{const Ze=wa(ue,new Map,this._backFill);Ze.forEach((Ct,ln)=>{Ct===qi.FX?u.add(ln):Ct===qi.kp&&l.add(ln)}),p||Ze.set("offset",Me/this.duration),T.push(Ze)});const V=u.size?pu(u.values()):[],ie=l.size?pu(l.values()):[];if(p){const ue=T[0],Me=new Map(ue);ue.set("offset",0),Me.set("offset",1),T=[ue,Me]}return Lm(this.element,T,V,ie,this.duration,this.startTime,this.easing,!1)}}class Vf extends mh{constructor(u,l,p,T,V,ie,ue=!1){super(u,l,ie.delay),this.keyframes=p,this.preStyleProps=T,this.postStyleProps=V,this._stretchStartingKeyframe=ue,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:p,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const V=[],ie=p+l,ue=l/ie,Me=wa(u[0]);Me.set("offset",0),V.push(Me);const Ze=wa(u[0]);Ze.set("offset",cg(ue)),V.push(Ze);const Ct=u.length-1;for(let ln=1;ln<=Ct;ln++){let Bn=wa(u[ln]);const Dn=Bn.get("offset");Bn.set("offset",cg((l+Dn*p)/ie)),V.push(Bn)}p=ie,l=0,T="",u=V}return Lm(this.element,u,this.preStyleProps,this.postStyleProps,p,l,T,!0)}}function cg(y,u=3){const l=Math.pow(10,u-1);return Math.round(y*l)/l}class ug{}const Um=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hg extends ug{normalizePropertyName(u,l){return Yi(u)}normalizeStyleValue(u,l,p,T){let V="";const ie=p.toString().trim();if(Um.has(l)&&0!==p&&"0"!==p)if("number"==typeof p)V="px";else{const ue=p.match(/^[+-]?[\d\.]+([a-z]*)$/);ue&&0==ue[1].length&&T.push(function J_(y,u){return new r.wOt(3005,!1)}())}return ie+V}}function _h(y,u,l,p,T,V,ie,ue,Me,Ze,Ct,ln,Bn){return{type:0,element:y,triggerName:u,isRemovalTransition:T,fromState:l,fromStyles:V,toState:p,toStyles:ie,timelines:ue,queriedElements:Me,preStyleProps:Ze,postStyleProps:Ct,totalTime:ln,errors:Bn}}const jf={};class yh{constructor(u,l,p){this._triggerName=u,this.ast=l,this._stateStyles=p}match(u,l,p,T){return function fg(y,u,l,p,T){return y.some(V=>V(u,l,p,T))}(this.ast.matchers,u,l,p,T)}buildStyles(u,l,p){let T=this._stateStyles.get("*");return void 0!==u&&(T=this._stateStyles.get(u?.toString())||T),T?T.buildStyles(l,p):new Map}build(u,l,p,T,V,ie,ue,Me,Ze,Ct){const ln=[],Bn=this.ast.options&&this.ast.options.params||jf,Mn=this.buildStyles(p,ue&&ue.params||jf,ln),xn=Me&&Me.params||jf,pr=this.buildStyles(T,xn,ln),Br=new Set,di=new Map,Ai=new Map,Cr="void"===T,Di={params:jm(xn,Bn),delay:this.ast.options?.delay},li=Ct?[]:gh(u,l,this.ast.animation,V,ie,Mn,pr,Di,Ze,ln);let gi=0;if(li.forEach(Qi=>{gi=Math.max(Qi.duration+Qi.delay,gi)}),ln.length)return _h(l,this._triggerName,p,T,Cr,Mn,pr,[],[],di,Ai,gi,ln);li.forEach(Qi=>{const Ji=Qi.element,po=Ao(di,Ji,new Set);Qi.preStyleProps.forEach(Vs=>po.add(Vs));const Vo=Ao(Ai,Ji,new Set);Qi.postStyleProps.forEach(Vs=>Vo.add(Vs)),Ji!==l&&Br.add(Ji)});const cs=pu(Br.values());return _h(l,this._triggerName,p,T,Cr,Mn,pr,li,cs,di,Ai,gi)}}function jm(y,u){const l=Wl(u);for(const p in y)y.hasOwnProperty(p)&&null!=y[p]&&(l[p]=y[p]);return l}class pd{constructor(u,l,p){this.styles=u,this.defaultParams=l,this.normalizer=p}buildStyles(u,l){const p=new Map,T=Wl(this.defaultParams);return Object.keys(u).forEach(V=>{const ie=u[V];null!==ie&&(T[V]=ie)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ie,ue)=>{ie&&(ie=Da(ie,T,l));const Me=this.normalizer.normalizePropertyName(ue,l);ie=this.normalizer.normalizeStyleValue(ue,Me,ie,l),p.set(ue,ie)})}),p}}class hy{constructor(u,l,p){this.name=u,this.ast=l,this._normalizer=p,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new pd(T.style,T.options&&T.options.params||{},p))}),Eh(this.states,"true","1"),Eh(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new yh(u,T,this.states))}),this.fallbackTransition=function $f(y,u,l){return new yh(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ie,ue)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,p,T){return this.transitionFactories.find(ie=>ie.match(u,l,p,T))||null}matchStyles(u,l,p){return this.fallbackTransition.buildStyles(u,l,p)}}function Eh(y,u,l){y.has(u)?y.has(l)||y.set(l,y.get(u)):y.has(l)&&y.set(u,y.get(l))}const bh=new fd;class ha{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const p=[],V=Of(this._driver,l,p,[]);if(p.length)throw function lv(y){return new r.wOt(3503,!1)}();this._animations.set(u,V)}_buildPlayer(u,l,p){const T=u.element,V=Rm(this._normalizer,u.keyframes,l,p);return this._driver.animate(T,V,u.duration,u.delay,u.easing,[],!0)}create(u,l,p={}){const T=[],V=this._animations.get(u);let ie;const ue=new Map;if(V?(ie=gh(this._driver,l,V,Sf,cu,new Map,new Map,p,bh,T),ie.forEach(Ct=>{const ln=Ao(ue,Ct.element,new Map);Ct.postStyleProps.forEach(Bn=>ln.set(Bn,null))})):(T.push(function ey(){return new r.wOt(3300,!1)}()),ie=[]),T.length)throw function Xp(y){return new r.wOt(3504,!1)}();ue.forEach((Ct,ln)=>{Ct.forEach((Bn,Dn)=>{Ct.set(Dn,this._driver.computeStyle(ln,Dn,qi.kp))})});const Ze=za(ie.map(Ct=>{const ln=ue.get(Ct.element);return this._buildPlayer(Ct,new Map,ln)}));return this._playersById.set(u,Ze),Ze.onDestroy(()=>this.destroy(u)),this.players.push(Ze),Ze}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const p=this.players.indexOf(l);p>=0&&this.players.splice(p,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function oh(y){return new r.wOt(3301,!1)}();return l}listen(u,l,p,T){const V=ud(l,"","","");return wo(this._getPlayer(u),p,V,T),()=>{}}command(u,l,p,T){if("register"==p)return void this.register(u,T[0]);if("create"==p)return void this.create(u,l,T[0]||{});const V=this._getPlayer(u);switch(p){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(u)}}}const $m="ng-animate-queued",Ac="ng-animate-disabled",ve=[],Tt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},En="__ng_removed";class zi{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const p=u&&u.hasOwnProperty("value");if(this.value=function Bf(y){return y??null}(p?u.value:u),p){const V=Wl(u);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const p=this.options.params;Object.keys(l).forEach(T=>{null==p[T]&&(p[T]=l[T])})}}}const Ls="void",xi=new zi(Ls);class ko{constructor(u,l,p){this.id=u,this.hostElement=l,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,pl(l,this._hostClassName)}listen(u,l,p,T){if(!this._triggers.has(l))throw function ty(y,u){return new r.wOt(3302,!1)}();if(null==p||0==p.length)throw function ah(y){return new r.wOt(3303,!1)}();if(!function IE(y){return"start"==y||"done"==y}(p))throw function Qp(y,u){return new r.wOt(3400,!1)}();const V=Ao(this._elementListeners,u,[]),ie={name:l,phase:p,callback:T};V.push(ie);const ue=Ao(this._engine.statesByElement,u,new Map);return ue.has(l)||(pl(u,lh),pl(u,lh+"-"+l),ue.set(l,xi)),()=>{this._engine.afterFlush(()=>{const Me=V.indexOf(ie);Me>=0&&V.splice(Me,1),this._triggers.has(l)||ue.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function Sm(y){return new r.wOt(3401,!1)}();return l}trigger(u,l,p,T=!0){const V=this._getTrigger(l),ie=new Kl(this.id,l,u);let ue=this._engine.statesByElement.get(u);ue||(pl(u,lh),pl(u,lh+"-"+l),this._engine.statesByElement.set(u,ue=new Map));let Me=ue.get(l);const Ze=new zi(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&Me&&Ze.absorbOptions(Me.options),ue.set(l,Ze),Me||(Me=xi),Ze.value!==Ls&&Me.value===Ze.value){if(!function a0(y,u){const l=Object.keys(y),p=Object.keys(u);if(l.length!=p.length)return!1;for(let T=0;T<l.length;T++){const V=l[T];if(!u.hasOwnProperty(V)||y[V]!==u[V])return!1}return!0}(Me.params,Ze.params)){const xn=[],pr=V.matchStyles(Me.value,Me.params,xn),Br=V.matchStyles(Ze.value,Ze.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{Aa(u,pr),ea(u,Br)})}return}const Bn=Ao(this._engine.playersByElement,u,[]);Bn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==l&&xn.queued&&xn.destroy()});let Dn=V.matchTransition(Me.value,Ze.value,u,Ze.params),Mn=!1;if(!Dn){if(!T)return;Dn=V.fallbackTransition,Mn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:Dn,fromState:Me,toState:Ze,player:ie,isFallbackTransition:Mn}),Mn||(pl(u,$m),ie.onStart(()=>{Gf(u,$m)})),ie.onDone(()=>{let xn=this.players.indexOf(ie);xn>=0&&this.players.splice(xn,1);const pr=this._engine.playersByElement.get(u);if(pr){let Br=pr.indexOf(ie);Br>=0&&pr.splice(Br,1)}}),this.players.push(ie),Bn.push(ie),ie}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,p)=>{this._elementListeners.set(p,l.filter(T=>T.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(p=>p.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const p=this._engine.driver.query(u,uu,!0);p.forEach(T=>{if(T[En])return;const V=this._engine.fetchNamespacesByElement(T);V.size?V.forEach(ie=>ie.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(u,l,p,T){const V=this._engine.statesByElement.get(u),ie=new Map;if(V){const ue=[];if(V.forEach((Me,Ze)=>{if(ie.set(Ze,Me.value),this._triggers.has(Ze)){const Ct=this.trigger(u,Ze,Ls,T);Ct&&ue.push(Ct)}}),ue.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,ie),p&&za(ue).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),p=this._engine.statesByElement.get(u);if(l&&p){const T=new Set;l.forEach(V=>{const ie=V.name;if(T.has(ie))return;T.add(ie);const Me=this._triggers.get(ie).fallbackTransition,Ze=p.get(ie)||xi,Ct=new zi(Ls),ln=new Kl(this.id,ie,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ie,transition:Me,fromState:Ze,toState:Ct,player:ln,isFallbackTransition:!0})})}}removeNode(u,l){const p=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let T=!1;if(p.totalAnimations){const V=p.players.length?p.playersByQueriedElement.get(u):[];if(V&&V.length)T=!0;else{let ie=u;for(;ie=ie.parentNode;)if(p.statesByElement.get(ie)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(u),T)p.markElementAsRemoved(this.id,u,!1,l);else{const V=u[En];(!V||V===Tt)&&(p.afterFlush(()=>this.clearElementCache(u)),p.destroyInnerAnimations(u),p._onRemovalComplete(u,l))}}insertNode(u,l){pl(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(p=>{const T=p.player;if(T.destroyed)return;const V=p.element,ie=this._elementListeners.get(V);ie&&ie.forEach(ue=>{if(ue.name==p.triggerName){const Me=ud(V,p.triggerName,p.fromState.value,p.toState.value);Me._data=u,wo(p.player,ue.phase,Me,ue.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(p)}),this._queue=[],l.sort((p,T)=>{const V=p.transition.ast.depCount,ie=T.transition.ast.depCount;return 0==V||0==ie?V-ie:this._engine.driver.containsElement(p.element,T.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Lo{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,p){this.bodyNode=u,this.driver=l,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,V)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(p=>{p.queued&&u.push(p)})}),u}createNamespace(u,l){const p=new ko(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(p,l):(this.newHostElements.set(l,p),this.collectEnterElement(l)),this._namespaceLookup[u]=p}_balanceNamespaceList(u,l){const p=this._namespaceList,T=this.namespacesByHostElement;if(p.length-1>=0){let ie=!1,ue=this.driver.getParentElement(l);for(;ue;){const Me=T.get(ue);if(Me){const Ze=p.indexOf(Me);p.splice(Ze+1,0,u),ie=!0;break}ue=this.driver.getParentElement(ue)}ie||p.unshift(u)}else p.push(u);return T.set(l,u),u}register(u,l){let p=this._namespaceLookup[u];return p||(p=this.createNamespace(u,l)),p}registerTrigger(u,l,p){let T=this._namespaceLookup[u];T&&T.register(l,p)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const p=this._fetchNamespace(u);this.namespacesByHostElement.delete(p.hostElement);const T=this._namespaceList.indexOf(p);T>=0&&this._namespaceList.splice(T,1),p.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,p=this.statesByElement.get(u);if(p)for(let T of p.values())if(T.namespaceId){const V=this._fetchNamespace(T.namespaceId);V&&l.add(V)}return l}trigger(u,l,p,T){if(gu(l)){const V=this._fetchNamespace(u);if(V)return V.trigger(l,p,T),!0}return!1}insertNode(u,l,p,T){if(!gu(l))return;const V=l[En];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(l);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(u){const ie=this._fetchNamespace(u);ie&&ie.insertNode(l,p)}T&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),pl(u,Ac)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Gf(u,Ac))}removeNode(u,l,p){if(gu(l)){const T=u?this._fetchNamespace(u):null;T?T.removeNode(l,p):this.markElementAsRemoved(u,l,!1,p);const V=this.namespacesByHostElement.get(l);V&&V.id!==u&&V.removeNode(l,p)}else this._onRemovalComplete(l,p)}markElementAsRemoved(u,l,p,T,V){this.collectedLeaveElements.push(l),l[En]={namespaceId:u,setForRemoval:T,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:V}}listen(u,l,p,T,V){return gu(l)?this._fetchNamespace(u).listen(l,p,T,V):()=>{}}_buildInstruction(u,l,p,T,V){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,p,T,u.fromState.options,u.toState.options,l,V)}destroyInnerAnimations(u){let l=this.driver.query(u,uu,!0);l.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,Rf,!0),l.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return za(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[En];if(l&&l.setForRemoval){if(u[En]=Tt,l.namespaceId){this.destroyInnerAnimations(u);const p=this._fetchNamespace(l.namespaceId);p&&p.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(Ac)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,T)=>this._balanceNamespaceList(p,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)pl(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{l=this._flushAnimations(p,u)}finally{for(let T=0;T<p.length;T++)p[T]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],l.length?za(l).onDone(()=>{p.forEach(T=>T())}):p.forEach(T=>T())}}reportError(u){throw function cd(y){return new r.wOt(3402,!1)}()}_flushAnimations(u,l){const p=new fd,T=[],V=new Map,ie=[],ue=new Map,Me=new Map,Ze=new Map,Ct=new Set;this.disabledNodes.forEach(Gn=>{Ct.add(Gn);const er=this.driver.query(Gn,".ng-animate-queued",!0);for(let Ir=0;Ir<er.length;Ir++)Ct.add(er[Ir])});const ln=this.bodyNode,Bn=Array.from(this.statesByElement.keys()),Dn=gv(Bn,this.collectedEnterElements),Mn=new Map;let xn=0;Dn.forEach((Gn,er)=>{const Ir=Sf+xn++;Mn.set(er,Ir),Gn.forEach(hi=>pl(hi,Ir))});const pr=[],Br=new Set,di=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const er=this.collectedLeaveElements[Gn],Ir=er[En];Ir&&Ir.setForRemoval&&(pr.push(er),Br.add(er),Ir.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(hi=>Br.add(hi)):di.add(er))}const Ai=new Map,Cr=gv(Bn,Array.from(Br));Cr.forEach((Gn,er)=>{const Ir=cu+xn++;Ai.set(er,Ir),Gn.forEach(hi=>pl(hi,Ir))}),u.push(()=>{Dn.forEach((Gn,er)=>{const Ir=Mn.get(er);Gn.forEach(hi=>Gf(hi,Ir))}),Cr.forEach((Gn,er)=>{const Ir=Ai.get(er);Gn.forEach(hi=>Gf(hi,Ir))}),pr.forEach(Gn=>{this.processLeaveNode(Gn)})});const Di=[],li=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(l).forEach(Ir=>{const hi=Ir.player,Ws=Ir.element;if(Di.push(hi),this.collectedEnterElements.length){const so=Ws[En];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(Ir.triggerName)){const Sa=so.previousTriggersValues.get(Ir.triggerName),pa=this.statesByElement.get(Ir.element);if(pa&&pa.has(Ir.triggerName)){const gg=pa.get(Ir.triggerName);gg.value=Sa,pa.set(Ir.triggerName,gg)}}return void hi.destroy()}}const Wa=!ln||!this.driver.containsElement(ln,Ws),Do=Ai.get(Ws),gl=Mn.get(Ws),Zi=this._buildInstruction(Ir,p,gl,Do,Wa);if(Zi.errors&&Zi.errors.length)return void li.push(Zi);if(Wa)return hi.onStart(()=>Aa(Ws,Zi.fromStyles)),hi.onDestroy(()=>ea(Ws,Zi.toStyles)),void T.push(hi);if(Ir.isFallbackTransition)return hi.onStart(()=>Aa(Ws,Zi.fromStyles)),hi.onDestroy(()=>ea(Ws,Zi.toStyles)),void T.push(hi);const Rc=[];Zi.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||Rc.push(so)}),Zi.timelines=Rc,p.append(Ws,Zi.timelines),ie.push({instruction:Zi,player:hi,element:Ws}),Zi.queriedElements.forEach(so=>Ao(ue,so,[]).push(hi)),Zi.preStyleProps.forEach((so,Sa)=>{if(so.size){let pa=Me.get(Sa);pa||Me.set(Sa,pa=new Set),so.forEach((gg,zf)=>pa.add(zf))}}),Zi.postStyleProps.forEach((so,Sa)=>{let pa=Ze.get(Sa);pa||Ze.set(Sa,pa=new Set),so.forEach((gg,zf)=>pa.add(zf))})});if(li.length){const Gn=[];li.forEach(er=>{Gn.push(function Jp(y,u){return new r.wOt(3505,!1)}())}),Di.forEach(er=>er.destroy()),this.reportError(Gn)}const gi=new Map,cs=new Map;ie.forEach(Gn=>{const er=Gn.element;p.has(er)&&(cs.set(er,er),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,gi))}),T.forEach(Gn=>{const er=Gn.element;this._getPreviousPlayers(er,!1,Gn.namespaceId,Gn.triggerName,null).forEach(hi=>{Ao(gi,er,[]).push(hi),hi.destroy()})});const Qi=pr.filter(Gn=>gy(Gn,Me,Ze)),Ji=new Map;pv(Ji,this.driver,di,Ze,qi.kp).forEach(Gn=>{gy(Gn,Me,Ze)&&Qi.push(Gn)});const Vo=new Map;Dn.forEach((Gn,er)=>{pv(Vo,this.driver,new Set(Gn),Me,qi.FX)}),Qi.forEach(Gn=>{const er=Ji.get(Gn),Ir=Vo.get(Gn);Ji.set(Gn,new Map([...er?.entries()??[],...Ir?.entries()??[]]))});const Vs=[],Sc=[],vu={};ie.forEach(Gn=>{const{element:er,player:Ir,instruction:hi}=Gn;if(p.has(er)){if(Ct.has(er))return Ir.onDestroy(()=>ea(er,hi.toStyles)),Ir.disabled=!0,Ir.overrideTotalTime(hi.totalTime),void T.push(Ir);let Ws=vu;if(cs.size>1){let Do=er;const gl=[];for(;Do=Do.parentNode;){const Zi=cs.get(Do);if(Zi){Ws=Zi;break}gl.push(Do)}gl.forEach(Zi=>cs.set(Zi,Ws))}const Wa=this._buildAnimation(Ir.namespaceId,hi,gi,V,Vo,Ji);if(Ir.setRealPlayer(Wa),Ws===vu)Vs.push(Ir);else{const Do=this.playersByElement.get(Ws);Do&&Do.length&&(Ir.parentPlayer=za(Do)),T.push(Ir)}}else Aa(er,hi.fromStyles),Ir.onDestroy(()=>ea(er,hi.toStyles)),Sc.push(Ir),Ct.has(er)&&T.push(Ir)}),Sc.forEach(Gn=>{const er=V.get(Gn.element);if(er&&er.length){const Ir=za(er);Gn.setRealPlayer(Ir)}}),T.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<pr.length;Gn++){const er=pr[Gn],Ir=er[En];if(Gf(er,cu),Ir&&Ir.hasAnimation)continue;let hi=[];if(ue.size){let Wa=ue.get(er);Wa&&Wa.length&&hi.push(...Wa);let Do=this.driver.query(er,Rf,!0);for(let gl=0;gl<Do.length;gl++){let Zi=ue.get(Do[gl]);Zi&&Zi.length&&hi.push(...Zi)}}const Ws=hi.filter(Wa=>!Wa.destroyed);Ws.length?py(this,er,Ws):this.processLeaveNode(er)}return pr.length=0,Vs.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const er=this.players.indexOf(Gn);this.players.splice(er,1)}),Gn.play()}),Vs}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,p,T,V){let ie=[];if(l){const ue=this.playersByQueriedElement.get(u);ue&&(ie=ue)}else{const ue=this.playersByElement.get(u);if(ue){const Me=!V||V==Ls;ue.forEach(Ze=>{Ze.queued||!Me&&Ze.triggerName!=T||ie.push(Ze)})}}return(p||T)&&(ie=ie.filter(ue=>!(p&&p!=ue.namespaceId||T&&T!=ue.triggerName))),ie}_beforeAnimationBuild(u,l,p){const V=l.element,ie=l.isRemovalTransition?void 0:u,ue=l.isRemovalTransition?void 0:l.triggerName;for(const Me of l.timelines){const Ze=Me.element,Ct=Ze!==V,ln=Ao(p,Ze,[]);this._getPreviousPlayers(Ze,Ct,ie,ue,l.toState).forEach(Dn=>{const Mn=Dn.getRealPlayer();Mn.beforeDestroy&&Mn.beforeDestroy(),Dn.destroy(),ln.push(Dn)})}Aa(V,l.fromStyles)}_buildAnimation(u,l,p,T,V,ie){const ue=l.triggerName,Me=l.element,Ze=[],Ct=new Set,ln=new Set,Bn=l.timelines.map(Mn=>{const xn=Mn.element;Ct.add(xn);const pr=xn[En];if(pr&&pr.removedBeforeQueried)return new qi.sf(Mn.duration,Mn.delay);const Br=xn!==Me,di=function Th(y){const u=[];return wE(y,u),u}((p.get(xn)||ve).map(gi=>gi.getRealPlayer())).filter(gi=>!!gi.element&&gi.element===xn),Ai=V.get(xn),Cr=ie.get(xn),Di=Rm(this._normalizer,Mn.keyframes,Ai,Cr),li=this._buildPlayer(Mn,Di,di);if(Mn.subTimeline&&T&&ln.add(xn),Br){const gi=new Kl(u,ue,xn);gi.setRealPlayer(li),Ze.push(gi)}return li});Ze.forEach(Mn=>{Ao(this.playersByQueriedElement,Mn.element,[]).push(Mn),Mn.onDone(()=>function fa(y,u,l){let p=y.get(u);if(p){if(p.length){const T=p.indexOf(l);p.splice(T,1)}0==p.length&&y.delete(u)}return p}(this.playersByQueriedElement,Mn.element,Mn))}),Ct.forEach(Mn=>pl(Mn,zl));const Dn=za(Bn);return Dn.onDestroy(()=>{Ct.forEach(Mn=>Gf(Mn,zl)),ea(Me,l.toStyles)}),ln.forEach(Mn=>{Ao(T,Mn,[]).push(Dn)}),Dn}_buildPlayer(u,l,p){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,p):new qi.sf(u.duration,u.delay)}}class Kl{constructor(u,l,p){this.namespaceId=u,this.triggerName=l,this.element=p,this._player=new qi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,p)=>{l.forEach(T=>wo(u,p,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){Ao(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function gu(y){return y&&1===y.nodeType}function fv(y,u){const l=y.style.display;return y.style.display=u??"none",l}function pv(y,u,l,p,T){const V=[];l.forEach(Me=>V.push(fv(Me)));const ie=[];p.forEach((Me,Ze)=>{const Ct=new Map;Me.forEach(ln=>{const Bn=u.computeStyle(Ze,ln,T);Ct.set(ln,Bn),(!Bn||0==Bn.length)&&(Ze[En]=Lt,ie.push(Ze))}),y.set(Ze,Ct)});let ue=0;return l.forEach(Me=>fv(Me,V[ue++])),ie}function gv(y,u){const l=new Map;if(y.forEach(ue=>l.set(ue,[])),0==u.length)return l;const T=new Set(u),V=new Map;function ie(ue){if(!ue)return 1;let Me=V.get(ue);if(Me)return Me;const Ze=ue.parentNode;return Me=l.has(Ze)?Ze:T.has(Ze)?1:ie(Ze),V.set(ue,Me),Me}return u.forEach(ue=>{const Me=ie(ue);1!==Me&&l.get(Me).push(ue)}),l}function pl(y,u){y.classList?.add(u)}function Gf(y,u){y.classList?.remove(u)}function py(y,u,l){za(l).onDone(()=>y.processLeaveNode(u))}function wE(y,u){for(let l=0;l<y.length;l++){const p=y[l];p instanceof qi.ui?wE(p.players,u):u.push(p)}}function gy(y,u,l){const p=l.get(y);if(!p)return!1;let T=u.get(y);return T?p.forEach(V=>T.add(V)):u.set(y,p),l.delete(y),!0}class mu{constructor(u,l,p){this.bodyNode=u,this._driver=l,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(T,V)=>{},this._transitionEngine=new Lo(u,l,p),this._timelineEngine=new ha(u,l,p),this._transitionEngine.onRemovalComplete=(T,V)=>this.onRemovalComplete(T,V)}registerTrigger(u,l,p,T,V){const ie=u+"-"+T;let ue=this._triggerCache[ie];if(!ue){const Me=[],Ct=Of(this._driver,V,Me,[]);if(Me.length)throw function Am(y,u){return new r.wOt(3404,!1)}();ue=function dy(y,u,l){return new hy(y,u,l)}(T,Ct,this._normalizer),this._triggerCache[ie]=ue}this._transitionEngine.registerTrigger(l,T,ue)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,p,T){this._transitionEngine.insertNode(u,l,p,T)}onRemove(u,l,p){this._transitionEngine.removeNode(u,l,p)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,p,T){if("@"==p.charAt(0)){const[V,ie]=Pm(p);this._timelineEngine.command(V,l,ie,T)}else this._transitionEngine.trigger(u,l,p,T)}listen(u,l,p,T,V){if("@"==p.charAt(0)){const[ie,ue]=Pm(p);return this._timelineEngine.listen(ie,l,ue,V)}return this._transitionEngine.listen(u,l,p,T,V)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let l0=(()=>{class y{static{this.initialStylesByElement=new WeakMap}constructor(l,p,T){this._element=l,this._startStyles=p,this._endStyles=T,this._state=0;let V=y.initialStylesByElement.get(l);V||y.initialStylesByElement.set(l,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ea(this._element,this._initialStyles),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(Aa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),ea(this._element,this._initialStyles),this._state=3)}}return y})();function Bm(y){let u=null;return y.forEach((l,p)=>{(function ab(y){return"display"===y||"position"===y})(p)&&(u=u||new Map,u.set(p,l))}),u}class c0{constructor(u,l,p,T){this.element=u,this.keyframes=l,this.options=p,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(p=>{l.push(Object.fromEntries(p))}),l}_triggerWebAnimation(u,l,p){return u.animate(this._convertKeyframesToObject(l),p)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,T)=>{"offset"!==T&&u.set(T,this._finished?p:sg(this.element,T))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(p=>p()),l.length=0}}class u0{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return Tc(u,l)}getParentElement(u){return lu(u)}query(u,l,p){return Mm(u,l,p)}computeStyle(u,l,p){return window.getComputedStyle(u)[l]}animate(u,l,p,T,V,ie=[]){const Me={duration:p,delay:T,fill:0==T?"both":"forwards"};V&&(Me.easing=V);const Ze=new Map,Ct=ie.filter(Dn=>Dn instanceof c0);(function uh(y,u){return 0===y||0===u})(p,T)&&Ct.forEach(Dn=>{Dn.currentSnapshot.forEach((Mn,xn)=>Ze.set(xn,Mn))});let ln=function rg(y){return y.length?y[0]instanceof Map?y:y.map(u=>Zo(u)):[]}(l).map(Dn=>wa(Dn));ln=function dh(y,u,l){if(l.size&&u.length){let p=u[0],T=[];if(l.forEach((V,ie)=>{p.has(ie)||T.push(ie),p.set(ie,V)}),T.length)for(let V=1;V<u.length;V++){let ie=u[V];T.forEach(ue=>ie.set(ue,sg(y,ue)))}}return u}(u,ln,Ze);const Bn=function mv(y,u){let l=null,p=null;return Array.isArray(u)&&u.length?(l=Bm(u[0]),u.length>1&&(p=Bm(u[u.length-1]))):u instanceof Map&&(l=Bm(u)),l||p?new l0(y,l,p):null}(u,ln);return new c0(u,ln,Me,Bn)}}let d0=(()=>{class y extends qi.S6{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(l)?(0,qi.K2)(l):l;return fo(this._renderer,null,p,"register",[T]),new AE(p,this._renderer)}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(r._9s),r.KVO(Se.qQ))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})();class AE extends qi.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new h0(this._id,u,l||{},this._renderer)}}class h0{constructor(u,l,p,T){this.id=u,this.element=l,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return fo(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fo(y,u,l,p,T){return y.setProperty(u,`@@${l}:${p}`,T)}const DE="@.disabled";let f0=(()=>{class y{constructor(l,p,T){this.delegate=l,this.engine=p,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(V,ie)=>{const ue=ie?.parentNode(V);ue&&ie.removeChild(ue,V)}}createRenderer(l,p){const V=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let Ct=this._rendererCache.get(V);return Ct||(Ct=new _v("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,Ct)),Ct}const ie=p.id,ue=p.id+"-"+this._currentId;this._currentId++,this.engine.register(ue,l);const Me=Ct=>{Array.isArray(Ct)?Ct.forEach(Me):this.engine.registerTrigger(ie,ue,l,Ct.name,Ct)};return p.data.animation.forEach(Me),new p0(this,ue,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,T){l>=0&&l<this._microtaskId?this._zone.run(()=>p(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[ie,ue]=V;ie(ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(r._9s),r.KVO(mu),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})();class _v{constructor(u,l,p,T){this.namespaceId=u,this.delegate=l,this.engine=p,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,p,T=!0){this.delegate.insertBefore(u,l,p),this.engine.onInsert(this.namespaceId,l,u,T)}removeChild(u,l,p){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,p,T){this.delegate.setAttribute(u,l,p,T)}removeAttribute(u,l,p){this.delegate.removeAttribute(u,l,p)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,p,T){this.delegate.setStyle(u,l,p,T)}removeStyle(u,l,p){this.delegate.removeStyle(u,l,p)}setProperty(u,l,p){"@"==l.charAt(0)&&l==DE?this.disableAnimations(u,!!p):this.delegate.setProperty(u,l,p)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,p){return this.delegate.listen(u,l,p)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class p0 extends _v{constructor(u,l,p,T,V){super(l,p,T,V),this.factory=u,this.namespaceId=l}setProperty(u,l,p){"@"==l.charAt(0)?"."==l.charAt(1)&&l==DE?this.disableAnimations(u,p=void 0===p||!!p):this.engine.process(this.namespaceId,u,l.slice(1),p):this.delegate.setProperty(u,l,p)}listen(u,l,p){if("@"==l.charAt(0)){const T=function SE(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(u);let V=l.slice(1),ie="";return"@"!=V.charAt(0)&&([V,ie]=function RE(y){const u=y.indexOf(".");return[y.substring(0,u),y.slice(u+1)]}(V)),this.engine.listen(this.namespaceId,T,V,ie,ue=>{this.factory.scheduleListenerCallback(ue._data||-1,p,ue)})}return this.delegate.listen(u,l,p)}}const yv=[{provide:qi.S6,useClass:d0},{provide:ug,useFactory:function g0(){return new hg}},{provide:mu,useClass:(()=>{class y extends mu{constructor(l,p,T,V){super(l.body,p,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(p){return new(p||y)(r.KVO(Se.qQ),r.KVO(Df),r.KVO(ug),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:y,factory:y.\u0275fac})}}return y})()},{provide:r._9s,useFactory:function m0(y,u,l){return new f0(y,u,l)},deps:[ae.B7,mu,r.SKi]}],vv=[{provide:Df,useFactory:()=>new u0},{provide:r.bc$,useValue:"BrowserAnimations"},...yv],Ev=[{provide:Df,useClass:Af},{provide:r.bc$,useValue:"NoopAnimations"},...yv];let lb=(()=>{class y{static withConfig(l){return{ngModule:y,providers:l.disableAnimations?Ev:vv}}static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y})}static{this.\u0275inj=r.G2t({providers:vv,imports:[ae.Bb]})}}return y})();const bv={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function ME(y,u,l){return()=>{const p=window.location.hostname,T=new URL(window.location.href);let V=bv[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return y.loadTheme(V)}}function _u(y,u,l){const p=window.location.hostname,T=new URL(window.location.href);let V=bv[p]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{y.loadBusinessData(V).toPromise().then(()=>{}).catch(ie=>{console.error("Error loading business data:",ie)})}}let Dc=(()=>{class y{static{this.\u0275fac=function(p){return new(p||y)}}static{this.\u0275mod=r.$C({type:y,bootstrap:[Lv]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:ME,deps:[X_,Se.aZ,le.Ix],multi:!0},{provide:r.hnV,useFactory:_u,deps:[Pt.A,Se.aZ,le.Ix],multi:!0}],imports:[ae.Bb,le.iI,Ip,hc.cM,St.y5,Xt.X8,Qe.bf.initializeApp(D__firebase),io(()=>S_(D__firebase)),Up(()=>W_()),mt(()=>ym()),si.X1,si.YN,Ie.q1,lb]})}}return y})();ae.sG().bootstrapModule(Dc).catch(y=>console.error(y))},4412:(sn,Je,O)=>{O.d(Je,{t:()=>ae});var i=O(1413);class ae extends i.B{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const le=super._subscribe(Ie);return!le.closed&&Ie.next(this._value),le}getValue(){const{hasError:Ie,thrownError:le,_value:Ce}=this;if(Ie)throw le;return this._throwIfClosed(),Ce}next(Ie){super.next(this._value=Ie)}}},1985:(sn,Je,O)=>{O.d(Je,{c:()=>Te});var i=O(7707),ae=O(8359),r=O(3494),Ie=O(1203),le=O(1026),Ce=O(8071),De=O(9786);let Te=(()=>{class _e{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Xe=new _e;return Xe.source=this,Xe.operator=Ue,Xe}subscribe(Ue,Xe,We){const ge=function J(_e){return _e&&_e instanceof i.vU||function W(_e){return _e&&(0,Ce.T)(_e.next)&&(0,Ce.T)(_e.error)&&(0,Ce.T)(_e.complete)}(_e)&&(0,ae.Uv)(_e)}(Ue)?Ue:new i.Ms(Ue,Xe,We);return(0,De.Y)(()=>{const{operator:Be,source:Pt}=this;ge.add(Be?Be.call(ge,Pt):Pt?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Xe){Ue.error(Xe)}}forEach(Ue,Xe){return new(Xe=xe(Xe))((We,ge)=>{const Be=new i.Ms({next:Pt=>{try{Ue(Pt)}catch(Se){ge(Se),Be.unsubscribe()}},error:ge,complete:We});this.subscribe(Be)})}_subscribe(Ue){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ue)}[r.s](){return this}pipe(...Ue){return(0,Ie.m)(Ue)(this)}toPromise(Ue){return new(Ue=xe(Ue))((Xe,We)=>{let ge;this.subscribe(Be=>ge=Be,Be=>We(Be),()=>Xe(ge))})}}return _e.create=Fe=>new _e(Fe),_e})();function xe(_e){var Fe;return null!==(Fe=_e??le.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(sn,Je,O)=>{O.d(Je,{B:()=>De});var i=O(1985),ae=O(8359);const Ie=(0,O(1853).L)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=O(7908),Ce=O(9786);let De=(()=>{class xe extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const _e=new Te(this,this);return _e.operator=J,_e}_throwIfClosed(){if(this.closed)throw new Ie}next(J){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(J)}})}error(J){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:_e}=this;for(;_e.length;)_e.shift().error(J)}})}complete(){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:_e,isStopped:Fe,observers:Ue}=this;return _e||Fe?ae.Kn:(this.currentObservers=null,Ue.push(J),new ae.yU(()=>{this.currentObservers=null,(0,le.o)(Ue,J)}))}_checkFinalizedStatuses(J){const{hasError:_e,thrownError:Fe,isStopped:Ue}=this;_e?J.error(Fe):Ue&&J.complete()}asObservable(){const J=new i.c;return J.source=this,J}}return xe.create=(W,J)=>new Te(W,J),xe})();class Te extends De{constructor(W,J){super(),this.destination=W,this.source=J}next(W){var J,_e;null===(_e=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===_e||_e.call(J,W)}error(W){var J,_e;null===(_e=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===_e||_e.call(J,W)}complete(){var W,J;null===(J=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===J||J.call(W)}_subscribe(W){var J,_e;return null!==(_e=null===(J=this.source)||void 0===J?void 0:J.subscribe(W))&&void 0!==_e?_e:ae.Kn}}},7707:(sn,Je,O)=>{O.d(Je,{Ms:()=>We,vU:()=>_e});var i=O(8071),ae=O(8359),r=O(1026),Ie=O(5334),le=O(5343);const Ce=xe("C",void 0,void 0);function xe(we,at,rt){return{kind:we,value:at,error:rt}}var W=O(9270),J=O(9786);class _e extends ae.yU{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,ae.Uv)(at)&&at.add(this)):this.destination=Se}static create(at,rt,ft){return new We(at,rt,ft)}next(at){this.isStopped?Pt(function Te(we){return xe("N",we,void 0)}(at),this):this._next(at)}error(at){this.isStopped?Pt(function De(we){return xe("E",void 0,we)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?Pt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ue(we,at){return Fe.call(we,at)}class Xe{constructor(at){this.partialObserver=at}next(at){const{partialObserver:rt}=this;if(rt.next)try{rt.next(at)}catch(ft){ge(ft)}}error(at){const{partialObserver:rt}=this;if(rt.error)try{rt.error(at)}catch(ft){ge(ft)}else ge(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(rt){ge(rt)}}}class We extends _e{constructor(at,rt,ft){let Ft;if(super(),(0,i.T)(at)||!at)Ft={next:at??void 0,error:rt??void 0,complete:ft??void 0};else{let Ut;this&&r.$.useDeprecatedNextContext?(Ut=Object.create(at),Ut.unsubscribe=()=>this.unsubscribe(),Ft={next:at.next&&Ue(at.next,Ut),error:at.error&&Ue(at.error,Ut),complete:at.complete&&Ue(at.complete,Ut)}):Ft=at}this.destination=new Xe(Ft)}}function ge(we){r.$.useDeprecatedSynchronousErrorHandling?(0,J.l)(we):(0,Ie.m)(we)}function Pt(we,at){const{onStoppedNotification:rt}=r.$;rt&&W.f.setTimeout(()=>rt(we,at))}const Se={closed:!0,next:le.l,error:function Be(we){throw we},complete:le.l}},8359:(sn,Je,O)=>{O.d(Je,{Kn:()=>Ce,yU:()=>le,Uv:()=>De});var i=O(8071);const r=(0,O(1853).L)(xe=>function(J){xe(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((_e,Fe)=>`${Fe+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var Ie=O(7908);class le{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Ue of J)Ue.remove(this);else J.remove(this);const{initialTeardown:_e}=this;if((0,i.T)(_e))try{_e()}catch(Ue){W=Ue instanceof r?Ue.errors:[Ue]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ue of Fe)try{Te(Ue)}catch(Xe){W=W??[],Xe instanceof r?W=[...W,...Xe.errors]:W.push(Xe)}}if(W)throw new r(W)}}add(W){var J;if(W&&W!==this)if(this.closed)Te(W);else{if(W instanceof le){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(W)}}_hasParent(W){const{_parentage:J}=this;return J===W||Array.isArray(J)&&J.includes(W)}_addParent(W){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(W),J):J?[J,W]:W}_removeParent(W){const{_parentage:J}=this;J===W?this._parentage=null:Array.isArray(J)&&(0,Ie.o)(J,W)}remove(W){const{_finalizers:J}=this;J&&(0,Ie.o)(J,W),W instanceof le&&W._removeParent(this)}}le.EMPTY=(()=>{const xe=new le;return xe.closed=!0,xe})();const Ce=le.EMPTY;function De(xe){return xe instanceof le||xe&&"closed"in xe&&(0,i.T)(xe.remove)&&(0,i.T)(xe.add)&&(0,i.T)(xe.unsubscribe)}function Te(xe){(0,i.T)(xe)?xe():xe.unsubscribe()}},1026:(sn,Je,O)=>{O.d(Je,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(sn,Je,O)=>{O.d(Je,{x:()=>le});var i=O(6365),r=O(3794),Ie=O(8455);function le(...Ce){return function ae(){return(0,i.U)(1)}()((0,Ie.H)(Ce,(0,r.lI)(Ce)))}},983:(sn,Je,O)=>{O.d(Je,{w:()=>ae});const ae=new(O(1985).c)(le=>le.complete())},8455:(sn,Je,O)=>{O.d(Je,{H:()=>at});var i=O(8750),ae=O(941),r=O(6745),Ce=O(1985),Te=O(4761),xe=O(8071),W=O(5225);function _e(rt,ft){if(!rt)throw new Error("Iterable cannot be null");return new Ce.c(Ft=>{(0,W.N)(Ft,ft,()=>{const Ut=rt[Symbol.asyncIterator]();(0,W.N)(Ft,ft,()=>{Ut.next().then(ye=>{ye.done?Ft.complete():Ft.next(ye.value)})},0,!0)})})}var Fe=O(5055),Ue=O(9858),Xe=O(7441),We=O(5397),ge=O(7953),Be=O(591),Pt=O(5196);function at(rt,ft){return ft?function we(rt,ft){if(null!=rt){if((0,Fe.l)(rt))return function Ie(rt,ft){return(0,i.Tg)(rt).pipe((0,r._)(ft),(0,ae.Q)(ft))}(rt,ft);if((0,Xe.X)(rt))return function De(rt,ft){return new Ce.c(Ft=>{let Ut=0;return ft.schedule(function(){Ut===rt.length?Ft.complete():(Ft.next(rt[Ut++]),Ft.closed||this.schedule())})})}(rt,ft);if((0,Ue.y)(rt))return function le(rt,ft){return(0,i.Tg)(rt).pipe((0,r._)(ft),(0,ae.Q)(ft))}(rt,ft);if((0,ge.T)(rt))return _e(rt,ft);if((0,We.x)(rt))return function J(rt,ft){return new Ce.c(Ft=>{let Ut;return(0,W.N)(Ft,ft,()=>{Ut=rt[Te.l](),(0,W.N)(Ft,ft,()=>{let ye,$t;try{({value:ye,done:$t}=Ut.next())}catch(qe){return void Ft.error(qe)}$t?Ft.complete():Ft.next(ye)},0,!0)}),()=>(0,xe.T)(Ut?.return)&&Ut.return()})}(rt,ft);if((0,Pt.U)(rt))return function Se(rt,ft){return _e((0,Pt.C)(rt),ft)}(rt,ft)}throw(0,Be.L)(rt)}(rt,ft):(0,i.Tg)(rt)}},8750:(sn,Je,O)=>{O.d(Je,{Tg:()=>Fe});var i=O(1635),ae=O(7441),r=O(9858),Ie=O(1985),le=O(5055),Ce=O(7953),De=O(591),Te=O(5397),xe=O(5196),W=O(8071),J=O(5334),_e=O(3494);function Fe(we){if(we instanceof Ie.c)return we;if(null!=we){if((0,le.l)(we))return function Ue(we){return new Ie.c(at=>{const rt=we[_e.s]();if((0,W.T)(rt.subscribe))return rt.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,ae.X)(we))return function Xe(we){return new Ie.c(at=>{for(let rt=0;rt<we.length&&!at.closed;rt++)at.next(we[rt]);at.complete()})}(we);if((0,r.y)(we))return function We(we){return new Ie.c(at=>{we.then(rt=>{at.closed||(at.next(rt),at.complete())},rt=>at.error(rt)).then(null,J.m)})}(we);if((0,Ce.T)(we))return Be(we);if((0,Te.x)(we))return function ge(we){return new Ie.c(at=>{for(const rt of we)if(at.next(rt),at.closed)return;at.complete()})}(we);if((0,xe.U)(we))return function Pt(we){return Be((0,xe.C)(we))}(we)}throw(0,De.L)(we)}function Be(we){return new Ie.c(at=>{(function Se(we,at){var rt,ft,Ft,Ut;return(0,i.sH)(this,void 0,void 0,function*(){try{for(rt=(0,i.xN)(we);!(ft=yield rt.next()).done;)if(at.next(ft.value),at.closed)return}catch(ye){Ft={error:ye}}finally{try{ft&&!ft.done&&(Ut=rt.return)&&(yield Ut.call(rt))}finally{if(Ft)throw Ft.error}}at.complete()})})(we,at).catch(rt=>at.error(rt))})}},7786:(sn,Je,O)=>{O.d(Je,{h:()=>Ce});var i=O(6365),ae=O(8750),r=O(983),Ie=O(3794),le=O(8455);function Ce(...De){const Te=(0,Ie.lI)(De),xe=(0,Ie.R0)(De,1/0),W=De;return W.length?1===W.length?(0,ae.Tg)(W[0]):(0,i.U)(xe)((0,le.H)(W,Te)):r.w}},7673:(sn,Je,O)=>{O.d(Je,{of:()=>r});var i=O(3794),ae=O(8455);function r(...Ie){const le=(0,i.lI)(Ie);return(0,ae.H)(Ie,le)}},8810:(sn,Je,O)=>{O.d(Je,{$:()=>r});var i=O(1985),ae=O(8071);function r(Ie,le){const Ce=(0,ae.T)(Ie)?Ie:()=>Ie,De=Te=>Te.error(Ce());return new i.c(le?Te=>le.schedule(De,0,Te):De)}},4360:(sn,Je,O)=>{O.d(Je,{_:()=>ae});var i=O(7707);function ae(Ie,le,Ce,De,Te){return new r(Ie,le,Ce,De,Te)}class r extends i.vU{constructor(le,Ce,De,Te,xe,W){super(le),this.onFinalize=xe,this.shouldUnsubscribe=W,this._next=Ce?function(J){try{Ce(J)}catch(_e){le.error(_e)}}:super._next,this._error=Te?function(J){try{Te(J)}catch(_e){le.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},9437:(sn,Je,O)=>{O.d(Je,{W:()=>Ie});var i=O(8750),ae=O(4360),r=O(9974);function Ie(le){return(0,r.N)((Ce,De)=>{let W,Te=null,xe=!1;Te=Ce.subscribe((0,ae._)(De,void 0,void 0,J=>{W=(0,i.Tg)(le(J,Ie(le)(Ce))),Te?(Te.unsubscribe(),Te=null,W.subscribe(De)):xe=!0})),xe&&(Te.unsubscribe(),Te=null,W.subscribe(De))})}},274:(sn,Je,O)=>{O.d(Je,{H:()=>r});var i=O(1397),ae=O(8071);function r(Ie,le){return(0,ae.T)(le)?(0,i.Z)(Ie,le,1):(0,i.Z)(Ie,1)}},9901:(sn,Je,O)=>{O.d(Je,{U:()=>r});var i=O(9974),ae=O(4360);function r(Ie){return(0,i.N)((le,Ce)=>{let De=!1;le.subscribe((0,ae._)(Ce,Te=>{De=!0,Ce.next(Te)},()=>{De||Ce.next(Ie),Ce.complete()}))})}},3294:(sn,Je,O)=>{O.d(Je,{F:()=>Ie});var i=O(3669),ae=O(9974),r=O(4360);function Ie(Ce,De=i.D){return Ce=Ce??le,(0,ae.N)((Te,xe)=>{let W,J=!0;Te.subscribe((0,r._)(xe,_e=>{const Fe=De(_e);(J||!Ce(W,Fe))&&(J=!1,W=Fe,xe.next(_e))}))})}function le(Ce,De){return Ce===De}},5964:(sn,Je,O)=>{O.d(Je,{p:()=>r});var i=O(9974),ae=O(4360);function r(Ie,le){return(0,i.N)((Ce,De)=>{let Te=0;Ce.subscribe((0,ae._)(De,xe=>Ie.call(le,xe,Te++)&&De.next(xe)))})}},980:(sn,Je,O)=>{O.d(Je,{j:()=>ae});var i=O(9974);function ae(r){return(0,i.N)((Ie,le)=>{try{Ie.subscribe(le)}finally{le.add(r)}})}},1594:(sn,Je,O)=>{O.d(Je,{$:()=>De});var i=O(9350),ae=O(5964),r=O(6697),Ie=O(9901),le=O(3774),Ce=O(3669);function De(Te,xe){const W=arguments.length>=2;return J=>J.pipe(Te?(0,ae.p)((_e,Fe)=>Te(_e,Fe,J)):Ce.D,(0,r.s)(1),W?(0,Ie.U)(xe):(0,le.v)(()=>new i.G))}},6354:(sn,Je,O)=>{O.d(Je,{T:()=>r});var i=O(9974),ae=O(4360);function r(Ie,le){return(0,i.N)((Ce,De)=>{let Te=0;Ce.subscribe((0,ae._)(De,xe=>{De.next(Ie.call(le,xe,Te++))}))})}},6365:(sn,Je,O)=>{O.d(Je,{U:()=>r});var i=O(1397),ae=O(3669);function r(Ie=1/0){return(0,i.Z)(ae.D,Ie)}},1397:(sn,Je,O)=>{O.d(Je,{Z:()=>Te});var i=O(6354),ae=O(8750),r=O(9974),Ie=O(5225),le=O(4360),De=O(8071);function Te(xe,W,J=1/0){return(0,De.T)(W)?Te((_e,Fe)=>(0,i.T)((Ue,Xe)=>W(_e,Ue,Fe,Xe))((0,ae.Tg)(xe(_e,Fe))),J):("number"==typeof W&&(J=W),(0,r.N)((_e,Fe)=>function Ce(xe,W,J,_e,Fe,Ue,Xe,We){const ge=[];let Be=0,Pt=0,Se=!1;const we=()=>{Se&&!ge.length&&!Be&&W.complete()},at=ft=>Be<_e?rt(ft):ge.push(ft),rt=ft=>{Ue&&W.next(ft),Be++;let Ft=!1;(0,ae.Tg)(J(ft,Pt++)).subscribe((0,le._)(W,Ut=>{Fe?.(Ut),Ue?at(Ut):W.next(Ut)},()=>{Ft=!0},void 0,()=>{if(Ft)try{for(Be--;ge.length&&Be<_e;){const Ut=ge.shift();Xe?(0,Ie.N)(W,Xe,()=>rt(Ut)):rt(Ut)}we()}catch(Ut){W.error(Ut)}}))};return xe.subscribe((0,le._)(W,at,()=>{Se=!0,we()})),()=>{We?.()}}(_e,Fe,xe,J)))}},941:(sn,Je,O)=>{O.d(Je,{Q:()=>Ie});var i=O(5225),ae=O(9974),r=O(4360);function Ie(le,Ce=0){return(0,ae.N)((De,Te)=>{De.subscribe((0,r._)(Te,xe=>(0,i.N)(Te,le,()=>Te.next(xe),Ce),()=>(0,i.N)(Te,le,()=>Te.complete(),Ce),xe=>(0,i.N)(Te,le,()=>Te.error(xe),Ce)))})}},2816:(sn,Je,O)=>{O.d(Je,{S:()=>Ie});var i=O(9974),ae=O(4360);function Ie(le,Ce){return(0,i.N)(function r(le,Ce,De,Te,xe){return(W,J)=>{let _e=De,Fe=Ce,Ue=0;W.subscribe((0,ae._)(J,Xe=>{const We=Ue++;Fe=_e?le(Fe,Xe,We):(_e=!0,Xe),Te&&J.next(Fe)},xe&&(()=>{_e&&J.next(Fe),J.complete()})))}}(le,Ce,arguments.length>=2,!0))}},7647:(sn,Je,O)=>{O.d(Je,{u:()=>le});var i=O(8750),ae=O(1413),r=O(7707),Ie=O(9974);function le(De={}){const{connector:Te=(()=>new ae.B),resetOnError:xe=!0,resetOnComplete:W=!0,resetOnRefCountZero:J=!0}=De;return _e=>{let Fe,Ue,Xe,We=0,ge=!1,Be=!1;const Pt=()=>{Ue?.unsubscribe(),Ue=void 0},Se=()=>{Pt(),Fe=Xe=void 0,ge=Be=!1},we=()=>{const at=Fe;Se(),at?.unsubscribe()};return(0,Ie.N)((at,rt)=>{We++,!Be&&!ge&&Pt();const ft=Xe=Xe??Te();rt.add(()=>{We--,0===We&&!Be&&!ge&&(Ue=Ce(we,J))}),ft.subscribe(rt),!Fe&&We>0&&(Fe=new r.Ms({next:Ft=>ft.next(Ft),error:Ft=>{Be=!0,Pt(),Ue=Ce(Se,xe,Ft),ft.error(Ft)},complete:()=>{ge=!0,Pt(),Ue=Ce(Se,W),ft.complete()}}),(0,i.Tg)(at).subscribe(Fe))})(_e)}}function Ce(De,Te,...xe){if(!0===Te)return void De();if(!1===Te)return;const W=new r.Ms({next:()=>{W.unsubscribe(),De()}});return(0,i.Tg)(Te(...xe)).subscribe(W)}},9172:(sn,Je,O)=>{O.d(Je,{Z:()=>Ie});var i=O(8793),ae=O(3794),r=O(9974);function Ie(...le){const Ce=(0,ae.lI)(le);return(0,r.N)((De,Te)=>{(Ce?(0,i.x)(le,De,Ce):(0,i.x)(le,De)).subscribe(Te)})}},6745:(sn,Je,O)=>{O.d(Je,{_:()=>ae});var i=O(9974);function ae(r,Ie=0){return(0,i.N)((le,Ce)=>{Ce.add(r.schedule(()=>le.subscribe(Ce),Ie))})}},5558:(sn,Je,O)=>{O.d(Je,{n:()=>Ie});var i=O(8750),ae=O(9974),r=O(4360);function Ie(le,Ce){return(0,ae.N)((De,Te)=>{let xe=null,W=0,J=!1;const _e=()=>J&&!xe&&Te.complete();De.subscribe((0,r._)(Te,Fe=>{xe?.unsubscribe();let Ue=0;const Xe=W++;(0,i.Tg)(le(Fe,Xe)).subscribe(xe=(0,r._)(Te,We=>Te.next(Ce?Ce(Fe,We,Xe,Ue++):We),()=>{xe=null,_e()}))},()=>{J=!0,_e()}))})}},6697:(sn,Je,O)=>{O.d(Je,{s:()=>Ie});var i=O(983),ae=O(9974),r=O(4360);function Ie(le){return le<=0?()=>i.w:(0,ae.N)((Ce,De)=>{let Te=0;Ce.subscribe((0,r._)(De,xe=>{++Te<=le&&(De.next(xe),le<=Te&&De.complete())}))})}},8141:(sn,Je,O)=>{O.d(Je,{M:()=>le});var i=O(8071),ae=O(9974),r=O(4360),Ie=O(3669);function le(Ce,De,Te){const xe=(0,i.T)(Ce)||De||Te?{next:Ce,error:De,complete:Te}:Ce;return xe?(0,ae.N)((W,J)=>{var _e;null===(_e=xe.subscribe)||void 0===_e||_e.call(xe);let Fe=!0;W.subscribe((0,r._)(J,Ue=>{var Xe;null===(Xe=xe.next)||void 0===Xe||Xe.call(xe,Ue),J.next(Ue)},()=>{var Ue;Fe=!1,null===(Ue=xe.complete)||void 0===Ue||Ue.call(xe),J.complete()},Ue=>{var Xe;Fe=!1,null===(Xe=xe.error)||void 0===Xe||Xe.call(xe,Ue),J.error(Ue)},()=>{var Ue,Xe;Fe&&(null===(Ue=xe.unsubscribe)||void 0===Ue||Ue.call(xe)),null===(Xe=xe.finalize)||void 0===Xe||Xe.call(xe)}))}):Ie.D}},3774:(sn,Je,O)=>{O.d(Je,{v:()=>Ie});var i=O(9350),ae=O(9974),r=O(4360);function Ie(Ce=le){return(0,ae.N)((De,Te)=>{let xe=!1;De.subscribe((0,r._)(Te,W=>{xe=!0,Te.next(W)},()=>xe?Te.complete():Te.error(Ce())))})}function le(){return new i.G}},6780:(sn,Je,O)=>{O.d(Je,{R:()=>le});var i=O(8359);class ae extends i.yU{constructor(De,Te){super()}schedule(De,Te=0){return this}}const r={setInterval(Ce,De,...Te){const{delegate:xe}=r;return xe?.setInterval?xe.setInterval(Ce,De,...Te):setInterval(Ce,De,...Te)},clearInterval(Ce){const{delegate:De}=r;return(De?.clearInterval||clearInterval)(Ce)},delegate:void 0};var Ie=O(7908);class le extends ae{constructor(De,Te){super(De,Te),this.scheduler=De,this.work=Te,this.pending=!1}schedule(De,Te=0){var xe;if(this.closed)return this;this.state=De;const W=this.id,J=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(J,W,Te)),this.pending=!0,this.delay=Te,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(J,this.id,Te),this}requestAsyncId(De,Te,xe=0){return r.setInterval(De.flush.bind(De,this),xe)}recycleAsyncId(De,Te,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Te;null!=Te&&r.clearInterval(Te)}execute(De,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(De,Te);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Te){let W,xe=!1;try{this.work(De)}catch(J){xe=!0,W=J||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:De,scheduler:Te}=this,{actions:xe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.o)(xe,this),null!=De&&(this.id=this.recycleAsyncId(Te,De,null)),this.delay=null,super.unsubscribe()}}}},9687:(sn,Je,O)=>{O.d(Je,{q:()=>r});var i=O(6129);class ae{constructor(le,Ce=ae.now){this.schedulerActionCtor=le,this.now=Ce}schedule(le,Ce=0,De){return new this.schedulerActionCtor(this,le).schedule(De,Ce)}}ae.now=i.U.now;class r extends ae{constructor(le,Ce=ae.now){super(le,Ce),this.actions=[],this._active=!1}flush(le){const{actions:Ce}=this;if(this._active)return void Ce.push(le);let De;this._active=!0;do{if(De=le.execute(le.state,le.delay))break}while(le=Ce.shift());if(this._active=!1,De){for(;le=Ce.shift();)le.unsubscribe();throw De}}}},3236:(sn,Je,O)=>{O.d(Je,{E:()=>r});var i=O(6780);const r=new(O(9687).q)(i.R)},6129:(sn,Je,O)=>{O.d(Je,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(sn,Je,O)=>{O.d(Je,{f:()=>i});const i={setTimeout(ae,r,...Ie){const{delegate:le}=i;return le?.setTimeout?le.setTimeout(ae,r,...Ie):setTimeout(ae,r,...Ie)},clearTimeout(ae){const{delegate:r}=i;return(r?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(sn,Je,O)=>{O.d(Je,{l:()=>ae});const ae=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(sn,Je,O)=>{O.d(Je,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(sn,Je,O)=>{O.d(Je,{G:()=>ae});const ae=(0,O(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(sn,Je,O)=>{O.d(Je,{R0:()=>Ce,ms:()=>Ie,lI:()=>le});var i=O(8071);function r(De){return De[De.length-1]}function Ie(De){return(0,i.T)(r(De))?De.pop():void 0}function le(De){return function ae(De){return De&&(0,i.T)(De.schedule)}(r(De))?De.pop():void 0}function Ce(De,Te){return"number"==typeof r(De)?De.pop():Te}},3073:(sn,Je,O)=>{O.d(Je,{D:()=>le});const{isArray:i}=Array,{getPrototypeOf:ae,prototype:r,keys:Ie}=Object;function le(De){if(1===De.length){const Te=De[0];if(i(Te))return{args:Te,keys:null};if(function Ce(De){return De&&"object"==typeof De&&ae(De)===r}(Te)){const xe=Ie(Te);return{args:xe.map(W=>Te[W]),keys:xe}}}return{args:De,keys:null}}},7908:(sn,Je,O)=>{function i(ae,r){if(ae){const Ie=ae.indexOf(r);0<=Ie&&ae.splice(Ie,1)}}O.d(Je,{o:()=>i})},1853:(sn,Je,O)=>{function i(ae){const Ie=ae(le=>{Error.call(le),le.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}O.d(Je,{L:()=>i})},8496:(sn,Je,O)=>{function i(ae,r){return ae.reduce((Ie,le,Ce)=>(Ie[le]=r[Ce],Ie),{})}O.d(Je,{e:()=>i})},9786:(sn,Je,O)=>{O.d(Je,{Y:()=>r,l:()=>Ie});var i=O(1026);let ae=null;function r(le){if(i.$.useDeprecatedSynchronousErrorHandling){const Ce=!ae;if(Ce&&(ae={errorThrown:!1,error:null}),le(),Ce){const{errorThrown:De,error:Te}=ae;if(ae=null,De)throw Te}}else le()}function Ie(le){i.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=le)}},5225:(sn,Je,O)=>{function i(ae,r,Ie,le=0,Ce=!1){const De=r.schedule(function(){Ie(),Ce?ae.add(this.schedule(null,le)):this.unsubscribe()},le);if(ae.add(De),!Ce)return De}O.d(Je,{N:()=>i})},3669:(sn,Je,O)=>{function i(ae){return ae}O.d(Je,{D:()=>i})},7441:(sn,Je,O)=>{O.d(Je,{X:()=>i});const i=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(sn,Je,O)=>{O.d(Je,{T:()=>ae});var i=O(8071);function ae(r){return Symbol.asyncIterator&&(0,i.T)(r?.[Symbol.asyncIterator])}},8071:(sn,Je,O)=>{function i(ae){return"function"==typeof ae}O.d(Je,{T:()=>i})},5055:(sn,Je,O)=>{O.d(Je,{l:()=>r});var i=O(3494),ae=O(8071);function r(Ie){return(0,ae.T)(Ie[i.s])}},5397:(sn,Je,O)=>{O.d(Je,{x:()=>r});var i=O(4761),ae=O(8071);function r(Ie){return(0,ae.T)(Ie?.[i.l])}},9858:(sn,Je,O)=>{O.d(Je,{y:()=>ae});var i=O(8071);function ae(r){return(0,i.T)(r?.then)}},5196:(sn,Je,O)=>{O.d(Je,{C:()=>r,U:()=>Ie});var i=O(1635),ae=O(8071);function r(le){return(0,i.AQ)(this,arguments,function*(){const De=le.getReader();try{for(;;){const{value:Te,done:xe}=yield(0,i.N3)(De.read());if(xe)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(Te)}}finally{De.releaseLock()}})}function Ie(le){return(0,ae.T)(le?.getReader)}},9974:(sn,Je,O)=>{O.d(Je,{N:()=>r,S:()=>ae});var i=O(8071);function ae(Ie){return(0,i.T)(Ie?.lift)}function r(Ie){return le=>{if(ae(le))return le.lift(function(Ce){try{return Ie(Ce,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(sn,Je,O)=>{O.d(Je,{I:()=>Ie});var i=O(6354);const{isArray:ae}=Array;function Ie(le){return(0,i.T)(Ce=>function r(le,Ce){return ae(Ce)?le(...Ce):le(Ce)}(le,Ce))}},5343:(sn,Je,O)=>{function i(){}O.d(Je,{l:()=>i})},1203:(sn,Je,O)=>{O.d(Je,{F:()=>ae,m:()=>r});var i=O(3669);function ae(...Ie){return r(Ie)}function r(Ie){return 0===Ie.length?i.D:1===Ie.length?Ie[0]:function(Ce){return Ie.reduce((De,Te)=>Te(De),Ce)}}},5334:(sn,Je,O)=>{O.d(Je,{m:()=>r});var i=O(1026),ae=O(9270);function r(Ie){ae.f.setTimeout(()=>{const{onUnhandledError:le}=i.$;if(!le)throw Ie;le(Ie)})}},591:(sn,Je,O)=>{function i(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Je,{L:()=>i})},9969:(sn,Je,O)=>{O.d(Je,{FX:()=>Pt,K2:()=>De,Os:()=>Ce,P:()=>Xe,Ro:()=>ae,S6:()=>i,hZ:()=>Ie,i0:()=>le,iF:()=>Te,kY:()=>J,kp:()=>r,sf:()=>ge,ui:()=>Be,yc:()=>We});class i{}class ae{}const r="*";function Ie(Se,we){return{type:7,name:Se,definitions:we,options:{}}}function le(Se,we=null){return{type:4,styles:we,timings:Se}}function Ce(Se,we=null){return{type:3,steps:Se,options:we}}function De(Se,we=null){return{type:2,steps:Se,options:we}}function Te(Se){return{type:6,styles:Se,offset:null}}function J(Se,we,at=null){return{type:1,expr:Se,animation:we,options:at}}function Xe(Se,we,at=null){return{type:11,selector:Se,animation:we,options:at}}function We(Se,we){return{type:12,timings:Se,animation:we}}class ge{constructor(we=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const at="start"==we?this._onStartFns:this._onDoneFns;at.forEach(rt=>rt()),at.length=0}}class Be{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let at=0,rt=0,ft=0;const Ft=this.players.length;0==Ft?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ut=>{Ut.onDone(()=>{++at==Ft&&this._onFinish()}),Ut.onDestroy(()=>{++rt==Ft&&this._onDestroy()}),Ut.onStart(()=>{++ft==Ft&&this._onStart()})}),this.totalTime=this.players.reduce((Ut,ye)=>Math.max(Ut,ye.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const at=we*this.totalTime;this.players.forEach(rt=>{const ft=rt.totalTime?Math.min(1,at/rt.totalTime):1;rt.setPosition(ft)})}getPosition(){const we=this.players.reduce((at,rt)=>null===at||rt.totalTime>at.totalTime?rt:at,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const at="start"==we?this._onStartFns:this._onDoneFns;at.forEach(rt=>rt()),at.length=0}}const Pt="!"},177:(sn,Je,O)=>{O.d(Je,{AJ:()=>ui,B3:()=>xr,Jj:()=>Ys,MD:()=>Xs,N0:()=>Nn,P9:()=>fs,PV:()=>xs,QT:()=>r,QX:()=>ci,Sm:()=>Xe,Sq:()=>ki,VF:()=>le,Vy:()=>Ts,Xr:()=>Ge,YU:()=>Fn,ZD:()=>Ie,_b:()=>hn,aZ:()=>ge,bT:()=>Ks,e1:()=>is,fG:()=>ds,fw:()=>We,hb:()=>Fe,hj:()=>Te,lG:()=>ws,qQ:()=>Ce,ux:()=>Qr});var i=O(7705);let ae=null;function r(){return ae}function Ie(P){ae||(ae=P)}class le{}const Ce=new i.nKC("DocumentToken");let De=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return(0,i.WQX)(xe)},providedIn:"platform"})}}return P})();const Te=new i.nKC("Location Initialized");let xe=(()=>{class P extends De{constructor(){super(),this._doc=(0,i.WQX)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(B){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",B,!1),()=>X.removeEventListener("popstate",B)}onHashChange(B){const X=r().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",B,!1),()=>X.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,X,Ve){this._history.pushState(B,X,Ve)}replaceState(B,X,Ve){this._history.replaceState(B,X,Ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function W(P,oe){if(0==P.length)return oe;if(0==oe.length)return P;let B=0;return P.endsWith("/")&&B++,oe.startsWith("/")&&B++,2==B?P+oe.substring(1):1==B?P+oe:P+"/"+oe}function J(P){const oe=P.match(/#|\?|$/),B=oe&&oe.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function _e(P){return P&&"?"!==P[0]?"?"+P:P}let Fe=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return(0,i.WQX)(Xe)},providedIn:"root"})}}return P})();const Ue=new i.nKC("appBaseHref");let Xe=(()=>{class P extends Fe{constructor(B,X){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return W(this._baseHref,B)}path(B=!1){const X=this._platformLocation.pathname+_e(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&B?`${X}${Ve}`:X}pushState(B,X,Ve,Dt){const Ht=this.prepareExternalUrl(Ve+_e(Dt));this._platformLocation.pushState(B,X,Ht)}replaceState(B,X,Ve,Dt){const Ht=this.prepareExternalUrl(Ve+_e(Dt));this._platformLocation.replaceState(B,X,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||P)(i.KVO(De),i.KVO(Ue,8))}}static{this.\u0275prov=i.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),We=(()=>{class P extends Fe{constructor(B,X){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(B){const X=W(this._baseHref,B);return X.length>0?"#"+X:X}pushState(B,X,Ve,Dt){let Ht=this.prepareExternalUrl(Ve+_e(Dt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.pushState(B,X,Ht)}replaceState(B,X,Ve,Dt){let Ht=this.prepareExternalUrl(Ve+_e(Dt));0==Ht.length&&(Ht=this._platformLocation.pathname),this._platformLocation.replaceState(B,X,Ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(X){return new(X||P)(i.KVO(De),i.KVO(Ue,8))}}static{this.\u0275prov=i.jDH({token:P,factory:P.\u0275fac})}}return P})(),ge=(()=>{class P{constructor(B){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const X=this._locationStrategy.getBaseHref();this._basePath=function we(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(J(Se(X))),this._locationStrategy.onPopState(Ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ve.state,type:Ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,X=""){return this.path()==this.normalize(B+_e(X))}normalize(B){return P.stripTrailingSlash(function Pt(P,oe){if(!P||!oe.startsWith(P))return oe;const B=oe.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:oe}(this._basePath,Se(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,X="",Ve=null){this._locationStrategy.pushState(Ve,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(X)),Ve)}replaceState(B,X="",Ve=null){this._locationStrategy.replaceState(Ve,"",B,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(X)),Ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",X){this._urlChangeListeners.forEach(Ve=>Ve(B,X))}subscribe(B,X,Ve){return this._subject.subscribe({next:B,error:X,complete:Ve})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=W}static{this.stripTrailingSlash=J}static{this.\u0275fac=function(X){return new(X||P)(i.KVO(Fe))}}static{this.\u0275prov=i.jDH({token:P,factory:function(){return function Be(){return new ge((0,i.KVO)(Fe))}()},providedIn:"root"})}}return P})();function Se(P){return P.replace(/\/index.html$/,"")}var rt=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(rt||{}),$t=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}($t||{});function be(P,oe){const B=(0,i.H5H)(P),X=B[i.KH2.NumberSymbols][oe];if(typeof X>"u"){if(oe===$t.CurrencyDecimal)return B[i.KH2.NumberSymbols][$t.Decimal];if(oe===$t.CurrencyGroup)return B[i.KH2.NumberSymbols][$t.Group]}return X}const k=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gn(P){const oe=parseInt(P);if(isNaN(oe))throw new Error("Invalid integer literal when parsing "+P);return oe}function hn(P,oe){oe=encodeURIComponent(oe);for(const B of P.split(";")){const X=B.indexOf("="),[Ve,Dt]=-1==X?[B,""]:[B.slice(0,X),B.slice(X+1)];if(Ve.trim()===oe)return decodeURIComponent(Dt)}return null}const Kn=/\s+/,_n=[];let Fn=(()=>{class P{constructor(B,X,Ve,Dt){this._iterableDiffers=B,this._keyValueDiffers=X,this._ngEl=Ve,this._renderer=Dt,this.initialClasses=_n,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Kn):_n}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Kn):B}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const X of B)this._updateState(X,!0);else if(null!=B)for(const X of Object.keys(B))this._updateState(X,!!B[X]);this._applyStateDiff()}_updateState(B,X){const Ve=this.stateMap.get(B);void 0!==Ve?(Ve.enabled!==X&&(Ve.changed=!0,Ve.enabled=X),Ve.touched=!0):this.stateMap.set(B,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const X=B[0],Ve=B[1];Ve.changed?(this._toggleClass(X,Ve.enabled),Ve.changed=!1):Ve.touched||(Ve.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Ve.touched=!1}}_toggleClass(B,X){(B=B.trim()).length>0&&B.split(Kn).forEach(Ve=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ve):this._renderer.removeClass(this._ngEl.nativeElement,Ve)})}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i._q3),i.rXU(i.MKu),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Zn{constructor(oe,B,X,Ve){this.$implicit=oe,this.ngForOf=B,this.index=X,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,X,Ve){this._viewContainer=B,this._template=X,this._differs=Ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const X=this._viewContainer;B.forEachOperation((Ve,Dt,Ht)=>{if(null==Ve.previousIndex)X.createEmbeddedView(this._template,new Zn(Ve.item,this._ngForOf,-1,-1),null===Ht?void 0:Ht);else if(null==Ht)X.remove(null===Dt?void 0:Dt);else if(null!==Dt){const Xn=X.get(Dt);X.move(Xn,Ht),us(Xn,Ve)}});for(let Ve=0,Dt=X.length;Ve<Dt;Ve++){const Xn=X.get(Ve).context;Xn.index=Ve,Xn.count=Dt,Xn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ve=>{us(X.get(Ve.currentIndex),Ve)})}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function us(P,oe){P.context.$implicit=oe.item}let Ks=(()=>{class P{constructor(B,X){this._viewContainer=B,this._context=new go,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){$i("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){$i("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class go{constructor(){this.$implicit=null,this.ngIf=null}}function $i(P,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,i.Tbb)(oe)}'.`)}class Uo{constructor(oe,B){this._viewContainerRef=oe,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(oe){oe&&!this._created?this.create():!oe&&this._created&&this.destroy()}}let Qr=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const X=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const X of this._defaultViews)X.enforceState(B)}}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),is=(()=>{class P{constructor(B,X,Ve){this.ngSwitch=Ve,Ve._addCase(),this._view=new Uo(B,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Qr,9))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),ds=(()=>{class P{constructor(B,X,Ve){Ve._addDefault(new Uo(B,X))}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(Qr,9))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),xr=(()=>{class P{constructor(B,X,Ve){this._ngEl=B,this._differs=X,this._renderer=Ve,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,X){const[Ve,Dt]=B.split("."),Ht=-1===Ve.indexOf("-")?void 0:i.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,Ve,Dt?`${X}${Dt}`:X,Ht):this._renderer.removeStyle(this._ngEl.nativeElement,Ve,Ht)}_applyChanges(B){B.forEachRemovedItem(X=>this._setStyle(X.key,null)),B.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),B.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function Jr(P,oe){return new i.wOt(2100,!1)}class na{createSubscription(oe,B){return(0,i.O8t)(()=>oe.subscribe({next:B,error:X=>{throw X}}))}dispose(oe){(0,i.O8t)(()=>oe.unsubscribe())}}class Ka{createSubscription(oe,B){return oe.then(B,X=>{throw X})}dispose(oe){}}const Si=new Ka,ga=new na;let Ys=(()=>{class P{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,X=>this._updateLatestValue(B,X))}_selectStrategy(B){if((0,i.jNT)(B))return Si;if((0,i.zjR)(B))return ga;throw Jr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,X){B===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})();const ss=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let xs=(()=>{class P{transform(B){if(null==B)return null;if("string"!=typeof B)throw Jr();return B.replace(ss,X=>X[0].toUpperCase()+X.slice(1).toLowerCase())}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:P,pure:!0,standalone:!0})}}return P})(),ws=(()=>{class P{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=bs}transform(B,X=bs){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Ve=this.differ.diff(B),Dt=X!==this.compareFn;return Ve&&(this.keyValues=[],Ve.forEachItem(Ht=>{this.keyValues.push(function ts(P,oe){return{key:P,value:oe}}(Ht.key,Ht.currentValue))})),(Ve||Dt)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function bs(P,oe){const B=P.key,X=oe.key;if(B===X)return 0;if(void 0===B)return 1;if(void 0===X)return-1;if(null===B)return 1;if(null===X)return-1;if("string"==typeof B&&"string"==typeof X)return B<X?-1:1;if("number"==typeof B&&"number"==typeof X)return B-X;if("boolean"==typeof B&&"boolean"==typeof X)return B<X?-1:1;const Ve=String(B),Dt=String(X);return Ve==Dt?0:Ve<Dt?-1:1}let ci=(()=>{class P{constructor(B){this._locale=B}transform(B,X,Ve){if(!function Er(P){return!(null==P||""===P||P!=P)}(B))return null;Ve=Ve||this._locale;try{return function jt(P,oe,B){return function Ne(P,oe,B,X,Ve,Dt,Ht=!1){let Xn="",Zr=!1;if(isFinite(P)){let _i=function dn(P){let X,Ve,Dt,Ht,Xn,oe=Math.abs(P)+"",B=0;for((Ve=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(Dt=oe.search(/e/i))>0?(Ve<0&&(Ve=Dt),Ve+=+oe.slice(Dt+1),oe=oe.substring(0,Dt)):Ve<0&&(Ve=oe.length),Dt=0;"0"===oe.charAt(Dt);Dt++);if(Dt===(Xn=oe.length))X=[0],Ve=1;else{for(Xn--;"0"===oe.charAt(Xn);)Xn--;for(Ve-=Dt,X=[],Ht=0;Dt<=Xn;Dt++,Ht++)X[Ht]=Number(oe.charAt(Dt))}return Ve>22&&(X=X.splice(0,21),B=Ve-1,Ve=1),{digits:X,exponent:B,integerLen:Ve}}(P);Ht&&(_i=function bn(P){if(0===P.digits[0])return P;const oe=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===oe?P.digits.push(0,0):1===oe&&P.digits.push(0),P.integerLen+=2),P}(_i));let Gr=oe.minInt,dr=oe.minFrac,Hr=oe.maxFrac;if(Dt){const Bs=Dt.match(k);if(null===Bs)throw new Error(`${Dt} is not a valid digit info`);const Go=Bs[1],Cs=Bs[3],xo=Bs[5];null!=Go&&(Gr=gn(Go)),null!=Cs&&(dr=gn(Cs)),null!=xo?Hr=gn(xo):null!=Cs&&dr>Hr&&(Hr=dr)}!function ar(P,oe,B){if(oe>B)throw new Error(`The minimum number of digits after fraction (${oe}) is higher than the maximum (${B}).`);let X=P.digits,Ve=X.length-P.integerLen;const Dt=Math.min(Math.max(oe,Ve),B);let Ht=Dt+P.integerLen,Xn=X[Ht];if(Ht>0){X.splice(Math.max(P.integerLen,Ht));for(let dr=Ht;dr<X.length;dr++)X[dr]=0}else{Ve=Math.max(0,Ve),P.integerLen=1,X.length=Math.max(1,Ht=Dt+1),X[0]=0;for(let dr=1;dr<Ht;dr++)X[dr]=0}if(Xn>=5)if(Ht-1<0){for(let dr=0;dr>Ht;dr--)X.unshift(0),P.integerLen++;X.unshift(1),P.integerLen++}else X[Ht-1]++;for(;Ve<Math.max(0,Dt);Ve++)X.push(0);let Zr=0!==Dt;const _i=oe+P.integerLen,Gr=X.reduceRight(function(dr,Hr,yi,Ni){return Ni[yi]=(Hr+=dr)<10?Hr:Hr-10,Zr&&(0===Ni[yi]&&yi>=_i?Ni.pop():Zr=!1),Hr>=10?1:0},0);Gr&&(X.unshift(Gr),P.integerLen++)}(_i,dr,Hr);let yi=_i.digits,Ni=_i.integerLen;const Qs=_i.exponent;let Fs=[];for(Zr=yi.every(Bs=>!Bs);Ni<Gr;Ni++)yi.unshift(0);for(;Ni<0;Ni++)yi.unshift(0);Ni>0?Fs=yi.splice(Ni,yi.length):(Fs=yi,yi=[0]);const ia=[];for(yi.length>=oe.lgSize&&ia.unshift(yi.splice(-oe.lgSize,yi.length).join(""));yi.length>oe.gSize;)ia.unshift(yi.splice(-oe.gSize,yi.length).join(""));yi.length&&ia.unshift(yi.join("")),Xn=ia.join(be(B,X)),Fs.length&&(Xn+=be(B,Ve)+Fs.join("")),Qs&&(Xn+=be(B,$t.Exponential)+"+"+Qs)}else Xn=be(B,$t.Infinity);return Xn=P<0&&!Zr?oe.negPre+Xn+oe.negSuf:oe.posPre+Xn+oe.posSuf,Xn}(P,function rn(P,oe="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=P.split(";"),Ve=X[0],Dt=X[1],Ht=-1!==Ve.indexOf(".")?Ve.split("."):[Ve.substring(0,Ve.lastIndexOf("0")+1),Ve.substring(Ve.lastIndexOf("0")+1)],Xn=Ht[0],Zr=Ht[1]||"";B.posPre=Xn.substring(0,Xn.indexOf("#"));for(let Gr=0;Gr<Zr.length;Gr++){const dr=Zr.charAt(Gr);"0"===dr?B.minFrac=B.maxFrac=Gr+1:"#"===dr?B.maxFrac=Gr+1:B.posSuf+=dr}const _i=Xn.split(",");if(B.gSize=_i[1]?_i[1].length:0,B.lgSize=_i[2]||_i[1]?(_i[2]||_i[1]).length:0,Dt){const Gr=Ve.length-B.posPre.length-B.posSuf.length,dr=Dt.indexOf("#");B.negPre=Dt.substring(0,dr).replace(/'/g,""),B.negSuf=Dt.slice(dr+Gr).replace(/'/g,"")}else B.negPre=oe+B.posPre,B.negSuf=B.posSuf;return B}(function Le(P,oe){return(0,i.H5H)(P)[i.KH2.NumberFormats][oe]}(oe,rt.Decimal),be(oe,$t.MinusSign)),oe,$t.Group,$t.Decimal,B)}(function os(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(B),Ve,X)}catch(Dt){throw Jr()}}static{this.\u0275fac=function(X){return new(X||P)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let fs=(()=>{class P{transform(B,X,Ve){if(null==B)return null;if(!this.supports(B))throw Jr();return B.slice(X,Ve)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Xs=(()=>{class P{static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275mod=i.$C({type:P})}static{this.\u0275inj=i.G2t({})}}return P})();const ui="browser",ps="server";function Ts(P){return P===ps}let Ge=(()=>{class P{static{this.\u0275prov=(0,i.jDH)({token:P,providedIn:"root",factory:()=>new lt((0,i.KVO)(Ce),window)})}}return P})();class lt{constructor(oe,B){this.document=oe,this.window=B,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const B=function bt(P,oe){const B=P.getElementById(oe)||P.getElementsByName(oe)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const X=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ve=X.currentNode;for(;Ve;){const Dt=Ve.shadowRoot;if(Dt){const Ht=Dt.getElementById(oe)||Dt.querySelector(`[name="${oe}"]`);if(Ht)return Ht}Ve=X.nextNode()}}return null}(this.document,oe);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(oe){this.supportsScrolling()&&(this.window.history.scrollRestoration=oe)}scrollToElement(oe){const B=oe.getBoundingClientRect(),X=B.left+this.window.pageXOffset,Ve=B.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(X-Dt[0],Ve-Dt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nn{}},1626:(sn,Je,O)=>{O.d(Je,{Qq:()=>ct,q1:()=>k});var i=O(7705),ae=O(7673),r=O(8455),Ie=O(1985),le=O(274),Ce=O(5964),De=O(6354),Te=O(980),xe=O(5558),W=O(177);class J{}class _e{}class Fe{constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?"string"==typeof $e?this.lazyInit=()=>{this.headers=new Map,$e.split("\n").forEach(Ye=>{const jt=Ye.indexOf(":");if(jt>0){const rn=Ye.slice(0,jt),bn=rn.toLowerCase(),dn=Ye.slice(jt+1).trim();this.maybeSetNormalizedName(rn,bn),this.headers.has(bn)?this.headers.get(bn).push(dn):this.headers.set(bn,[dn])}})}:typeof Headers<"u"&&$e instanceof Headers?(this.headers=new Map,$e.forEach((Ye,jt)=>{this.setHeaderEntries(jt,Ye)})):this.lazyInit=()=>{this.headers=new Map,Object.entries($e).forEach(([Ye,jt])=>{this.setHeaderEntries(Ye,jt)})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const Ye=this.headers.get($e.toLowerCase());return Ye&&Ye.length>0?Ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,Ye){return this.clone({name:$e,value:Ye,op:"a"})}set($e,Ye){return this.clone({name:$e,value:Ye,op:"s"})}delete($e,Ye){return this.clone({name:$e,value:Ye,op:"d"})}maybeSetNormalizedName($e,Ye){this.normalizedNames.has(Ye)||this.normalizedNames.set(Ye,$e)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(Ye=>{this.headers.set(Ye,$e.headers.get(Ye)),this.normalizedNames.set(Ye,$e.normalizedNames.get(Ye))})}clone($e){const Ye=new Fe;return Ye.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,Ye.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),Ye}applyUpdate($e){const Ye=$e.name.toLowerCase();switch($e.op){case"a":case"s":let jt=$e.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName($e.name,Ye);const rn=("a"===$e.op?this.headers.get(Ye):void 0)||[];rn.push(...jt),this.headers.set(Ye,rn);break;case"d":const bn=$e.value;if(bn){let dn=this.headers.get(Ye);if(!dn)return;dn=dn.filter(ar=>-1===bn.indexOf(ar)),0===dn.length?(this.headers.delete(Ye),this.normalizedNames.delete(Ye)):this.headers.set(Ye,dn)}else this.headers.delete(Ye),this.normalizedNames.delete(Ye)}}setHeaderEntries($e,Ye){const jt=(Array.isArray(Ye)?Ye:[Ye]).map(bn=>bn.toString()),rn=$e.toLowerCase();this.headers.set(rn,jt),this.maybeSetNormalizedName($e,rn)}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ye=>$e(this.normalizedNames.get(Ye),this.headers.get(Ye)))}}class Xe{encodeKey($e){return Pt($e)}encodeValue($e){return Pt($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const ge=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(Ne){return encodeURIComponent(Ne).replace(ge,($e,Ye)=>Be[Ye]??$e)}function Se(Ne){return`${Ne}`}class we{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new Xe,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function We(Ne,$e){const Ye=new Map;return Ne.length>0&&Ne.replace(/^\?/,"").split("&").forEach(rn=>{const bn=rn.indexOf("="),[dn,ar]=-1==bn?[$e.decodeKey(rn),""]:[$e.decodeKey(rn.slice(0,bn)),$e.decodeValue(rn.slice(bn+1))],gn=Ye.get(dn)||[];gn.push(ar),Ye.set(dn,gn)}),Ye}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(Ye=>{const jt=$e.fromObject[Ye],rn=Array.isArray(jt)?jt.map(Se):[Se(jt)];this.map.set(Ye,rn)})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const Ye=this.map.get($e);return Ye?Ye[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,Ye){return this.clone({param:$e,value:Ye,op:"a"})}appendAll($e){const Ye=[];return Object.keys($e).forEach(jt=>{const rn=$e[jt];Array.isArray(rn)?rn.forEach(bn=>{Ye.push({param:jt,value:bn,op:"a"})}):Ye.push({param:jt,value:rn,op:"a"})}),this.clone(Ye)}set($e,Ye){return this.clone({param:$e,value:Ye,op:"s"})}delete($e,Ye){return this.clone({param:$e,value:Ye,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const Ye=this.encoder.encodeKey($e);return this.map.get($e).map(jt=>Ye+"="+this.encoder.encodeValue(jt)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const Ye=new we({encoder:this.encoder});return Ye.cloneFrom=this.cloneFrom||this,Ye.updates=(this.updates||[]).concat($e),Ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const Ye=("a"===$e.op?this.map.get($e.param):void 0)||[];Ye.push(Se($e.value)),this.map.set($e.param,Ye);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let jt=this.map.get($e.param)||[];const rn=jt.indexOf(Se($e.value));-1!==rn&&jt.splice(rn,1),jt.length>0?this.map.set($e.param,jt):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class rt{constructor(){this.map=new Map}set($e,Ye){return this.map.set($e,Ye),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}has($e){return this.map.has($e)}keys(){return this.map.keys()}}function Ft(Ne){return typeof ArrayBuffer<"u"&&Ne instanceof ArrayBuffer}function Ut(Ne){return typeof Blob<"u"&&Ne instanceof Blob}function ye(Ne){return typeof FormData<"u"&&Ne instanceof FormData}class qe{constructor($e,Ye,jt,rn){let bn;if(this.url=Ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function ft(Ne){switch(Ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rn?(this.body=void 0!==jt?jt:null,bn=rn):bn=jt,bn&&(this.reportProgress=!!bn.reportProgress,this.withCredentials=!!bn.withCredentials,bn.responseType&&(this.responseType=bn.responseType),bn.headers&&(this.headers=bn.headers),bn.context&&(this.context=bn.context),bn.params&&(this.params=bn.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new rt),this.params){const dn=this.params.toString();if(0===dn.length)this.urlWithParams=Ye;else{const ar=Ye.indexOf("?");this.urlWithParams=Ye+(-1===ar?"?":ar<Ye.length-1?"&":"")+dn}}else this.params=new we,this.urlWithParams=Ye}serializeBody(){return null===this.body?null:Ft(this.body)||Ut(this.body)||ye(this.body)||function $t(Ne){return typeof URLSearchParams<"u"&&Ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ye(this.body)?null:Ut(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){const Ye=$e.method||this.method,jt=$e.url||this.url,rn=$e.responseType||this.responseType,bn=void 0!==$e.body?$e.body:this.body,dn=void 0!==$e.withCredentials?$e.withCredentials:this.withCredentials,ar=void 0!==$e.reportProgress?$e.reportProgress:this.reportProgress;let gn=$e.headers||this.headers,Ci=$e.params||this.params;const wt=$e.context??this.context;return void 0!==$e.setHeaders&&(gn=Object.keys($e.setHeaders).reduce((st,kt)=>st.set(kt,$e.setHeaders[kt]),gn)),$e.setParams&&(Ci=Object.keys($e.setParams).reduce((st,kt)=>st.set(kt,$e.setParams[kt]),Ci)),new qe(Ye,jt,bn,{params:Ci,headers:gn,context:wt,reportProgress:ar,responseType:rn,withCredentials:dn})}}var wn=function(Ne){return Ne[Ne.Sent=0]="Sent",Ne[Ne.UploadProgress=1]="UploadProgress",Ne[Ne.ResponseHeader=2]="ResponseHeader",Ne[Ne.DownloadProgress=3]="DownloadProgress",Ne[Ne.Response=4]="Response",Ne[Ne.User=5]="User",Ne}(wn||{});class Mt{constructor($e,Ye=200,jt="OK"){this.headers=$e.headers||new Fe,this.status=void 0!==$e.status?$e.status:Ye,this.statusText=$e.statusText||jt,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class zt extends Mt{constructor($e={}){super($e),this.type=wn.ResponseHeader}clone($e={}){return new zt({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Yt extends Mt{constructor($e={}){super($e),this.type=wn.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Yt({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class _t extends Mt{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function ze(Ne,$e){return{body:$e,headers:Ne.headers,context:Ne.context,observe:Ne.observe,params:Ne.params,reportProgress:Ne.reportProgress,responseType:Ne.responseType,withCredentials:Ne.withCredentials}}let ct=(()=>{class Ne{constructor(Ye){this.handler=Ye}request(Ye,jt,rn={}){let bn;if(Ye instanceof qe)bn=Ye;else{let gn,Ci;gn=rn.headers instanceof Fe?rn.headers:new Fe(rn.headers),rn.params&&(Ci=rn.params instanceof we?rn.params:new we({fromObject:rn.params})),bn=new qe(Ye,jt,void 0!==rn.body?rn.body:null,{headers:gn,context:rn.context,params:Ci,reportProgress:rn.reportProgress,responseType:rn.responseType||"json",withCredentials:rn.withCredentials})}const dn=(0,ae.of)(bn).pipe((0,le.H)(gn=>this.handler.handle(gn)));if(Ye instanceof qe||"events"===rn.observe)return dn;const ar=dn.pipe((0,Ce.p)(gn=>gn instanceof Yt));switch(rn.observe||"body"){case"body":switch(bn.responseType){case"arraybuffer":return ar.pipe((0,De.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return ar.pipe((0,De.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return ar.pipe((0,De.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return ar.pipe((0,De.T)(gn=>gn.body))}case"response":return ar;default:throw new Error(`Unreachable: unhandled observe type ${rn.observe}}`)}}delete(Ye,jt={}){return this.request("DELETE",Ye,jt)}get(Ye,jt={}){return this.request("GET",Ye,jt)}head(Ye,jt={}){return this.request("HEAD",Ye,jt)}jsonp(Ye,jt){return this.request("JSONP",Ye,{params:(new we).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ye,jt={}){return this.request("OPTIONS",Ye,jt)}patch(Ye,jt,rn={}){return this.request("PATCH",Ye,ze(rn,jt))}post(Ye,jt,rn={}){return this.request("POST",Ye,ze(rn,jt))}put(Ye,jt,rn={}){return this.request("PUT",Ye,ze(rn,jt))}static{this.\u0275fac=function(jt){return new(jt||Ne)(i.KVO(J))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();function Bt(Ne,$e){return $e(Ne)}function Rn(Ne,$e){return(Ye,jt)=>$e.intercept(Ye,{handle:rn=>Ne(rn,jt)})}const un=new i.nKC(""),kn=new i.nKC(""),nn=new i.nKC("");function Qn(){let Ne=null;return($e,Ye)=>{null===Ne&&(Ne=((0,i.WQX)(un,{optional:!0})??[]).reduceRight(Rn,Bt));const jt=(0,i.WQX)(i.$K3),rn=jt.add();return Ne($e,Ye).pipe((0,Te.j)(()=>jt.remove(rn)))}}let Ln=(()=>{class Ne extends J{constructor(Ye,jt){super(),this.backend=Ye,this.injector=jt,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(Ye){if(null===this.chain){const rn=Array.from(new Set([...this.injector.get(kn),...this.injector.get(nn,[])]));this.chain=rn.reduceRight((bn,dn)=>function lr(Ne,$e,Ye){return(jt,rn)=>Ye.runInContext(()=>$e(jt,bn=>Ne(bn,rn)))}(bn,dn,this.injector),Bt)}const jt=this.pendingTasks.add();return this.chain(Ye,rn=>this.backend.handle(rn)).pipe((0,Te.j)(()=>this.pendingTasks.remove(jt)))}static{this.\u0275fac=function(jt){return new(jt||Ne)(i.KVO(_e),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const Dr=/^\)\]\}',?\n/;let zn=(()=>{class Ne{constructor(Ye){this.xhrFactory=Ye}handle(Ye){if("JSONP"===Ye.method)throw new i.wOt(-2800,!1);const jt=this.xhrFactory;return(jt.\u0275loadImpl?(0,r.H)(jt.\u0275loadImpl()):(0,ae.of)(null)).pipe((0,xe.n)(()=>new Ie.c(bn=>{const dn=jt.build();if(dn.open(Ye.method,Ye.urlWithParams),Ye.withCredentials&&(dn.withCredentials=!0),Ye.headers.forEach((_n,Fn)=>dn.setRequestHeader(_n,Fn.join(","))),Ye.headers.has("Accept")||dn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ye.headers.has("Content-Type")){const _n=Ye.detectContentTypeHeader();null!==_n&&dn.setRequestHeader("Content-Type",_n)}if(Ye.responseType){const _n=Ye.responseType.toLowerCase();dn.responseType="json"!==_n?_n:"text"}const ar=Ye.serializeBody();let gn=null;const Ci=()=>{if(null!==gn)return gn;const _n=dn.statusText||"OK",Fn=new Fe(dn.getAllResponseHeaders()),gr=function Ur(Ne){return"responseURL"in Ne&&Ne.responseURL?Ne.responseURL:/^X-Request-URL:/m.test(Ne.getAllResponseHeaders())?Ne.getResponseHeader("X-Request-URL"):null}(dn)||Ye.url;return gn=new zt({headers:Fn,status:dn.status,statusText:_n,url:gr}),gn},wt=()=>{let{headers:_n,status:Fn,statusText:gr,url:jr}=Ci(),Zn=null;204!==Fn&&(Zn=typeof dn.response>"u"?dn.responseText:dn.response),0===Fn&&(Fn=Zn?200:0);let ki=Fn>=200&&Fn<300;if("json"===Ye.responseType&&"string"==typeof Zn){const us=Zn;Zn=Zn.replace(Dr,"");try{Zn=""!==Zn?JSON.parse(Zn):null}catch(Li){Zn=us,ki&&(ki=!1,Zn={error:Li,text:Zn})}}ki?(bn.next(new Yt({body:Zn,headers:_n,status:Fn,statusText:gr,url:jr||void 0})),bn.complete()):bn.error(new _t({error:Zn,headers:_n,status:Fn,statusText:gr,url:jr||void 0}))},st=_n=>{const{url:Fn}=Ci(),gr=new _t({error:_n,status:dn.status||0,statusText:dn.statusText||"Unknown Error",url:Fn||void 0});bn.error(gr)};let kt=!1;const hn=_n=>{kt||(bn.next(Ci()),kt=!0);let Fn={type:wn.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(Fn.total=_n.total),"text"===Ye.responseType&&dn.responseText&&(Fn.partialText=dn.responseText),bn.next(Fn)},Kn=_n=>{let Fn={type:wn.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(Fn.total=_n.total),bn.next(Fn)};return dn.addEventListener("load",wt),dn.addEventListener("error",st),dn.addEventListener("timeout",st),dn.addEventListener("abort",st),Ye.reportProgress&&(dn.addEventListener("progress",hn),null!==ar&&dn.upload&&dn.upload.addEventListener("progress",Kn)),dn.send(ar),bn.next({type:wn.Sent}),()=>{dn.removeEventListener("error",st),dn.removeEventListener("abort",st),dn.removeEventListener("load",wt),dn.removeEventListener("timeout",st),Ye.reportProgress&&(dn.removeEventListener("progress",hn),null!==ar&&dn.upload&&dn.upload.removeEventListener("progress",Kn)),dn.readyState!==dn.DONE&&dn.abort()}})))}static{this.\u0275fac=function(jt){return new(jt||Ne)(i.KVO(W.N0))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const Wr=new i.nKC("XSRF_ENABLED"),fn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vr{}let Wn=(()=>{class Ne{constructor(Ye,jt,rn){this.doc=Ye,this.platform=jt,this.cookieName=rn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ye=this.doc.cookie||"";return Ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,W._b)(Ye,this.cookieName),this.lastCookieString=Ye),this.lastToken}static{this.\u0275fac=function(jt){return new(jt||Ne)(i.KVO(W.qQ),i.KVO(i.Agw),i.KVO(fn))}}static{this.\u0275prov=i.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();function Ti(Ne,$e){const Ye=Ne.url.toLowerCase();if(!(0,i.WQX)(Wr)||"GET"===Ne.method||"HEAD"===Ne.method||Ye.startsWith("http://")||Ye.startsWith("https://"))return $e(Ne);const jt=(0,i.WQX)(vr).getToken(),rn=(0,i.WQX)(tr);return null!=jt&&!Ne.headers.has(rn)&&(Ne=Ne.clone({headers:Ne.headers.set(rn,jt)})),$e(Ne)}var yt=function(Ne){return Ne[Ne.Interceptors=0]="Interceptors",Ne[Ne.LegacyInterceptors=1]="LegacyInterceptors",Ne[Ne.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ne[Ne.NoXsrfProtection=3]="NoXsrfProtection",Ne[Ne.JsonpSupport=4]="JsonpSupport",Ne[Ne.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ne[Ne.Fetch=6]="Fetch",Ne}(yt||{});function he(Ne,$e){return{\u0275kind:Ne,\u0275providers:$e}}function je(...Ne){const $e=[ct,zn,Ln,{provide:J,useExisting:Ln},{provide:_e,useExisting:zn},{provide:kn,useValue:Ti,multi:!0},{provide:Wr,useValue:!0},{provide:vr,useClass:Wn}];for(const Ye of Ne)$e.push(...Ye.\u0275providers);return(0,i.EmA)($e)}const Wt=new i.nKC("LEGACY_INTERCEPTOR_FN");let k=(()=>{class Ne{static{this.\u0275fac=function(jt){return new(jt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({providers:[je(he(yt.LegacyInterceptors,[{provide:Wt,useFactory:Qn},{provide:kn,useExisting:Wt,multi:!0}]))]})}}return Ne})()},7705:(sn,Je,O)=>{O.d(Je,{$C:()=>ti,$GK:()=>Cn,$K3:()=>KT,$MX:()=>rf,AVh:()=>xE,Agw:()=>x_,B4B:()=>Dp,BIS:()=>Bv,BMQ:()=>rg,C4Q:()=>Nv,C5r:()=>ST,Co$:()=>Vb,DNE:()=>Vf,EFF:()=>Br,EJ8:()=>Us,EmA:()=>qd,FS9:()=>Kl,FsC:()=>_o,G2t:()=>nn,GBs:()=>TT,GFd:()=>oy,H3F:()=>WT,H5H:()=>v0,H8p:()=>Sp,HJs:()=>K1,HbH:()=>ME,Hbi:()=>N1,JRh:()=>Di,JZv:()=>zn,Jv_:()=>Lb,KH2:()=>my,KVO:()=>Ee,Kcf:()=>Ry,L39:()=>z1,LHq:()=>Qi,LfX:()=>Ln,Lme:()=>gi,MKu:()=>Z0,Mz_:()=>fa,NEm:()=>u1,NYb:()=>o1,Njj:()=>vs,O8t:()=>Dt,OA$:()=>dr,OM3:()=>mc,Ocv:()=>Fw,Ol2:()=>jb,PLl:()=>$v,QTQ:()=>d,Ql9:()=>Vw,QuC:()=>Ms,R7$:()=>mE,RV6:()=>Ac,Rfq:()=>Xe,RxE:()=>V_,SKi:()=>Io,SpI:()=>li,TL$:()=>zg,Tbb:()=>_e,UyX:()=>Ip,VBU:()=>Ka,Vns:()=>zm,Vt3:()=>xm,WHO:()=>QT,WPN:()=>nd,WQX:()=>Gt,XpG:()=>Ls,Xx1:()=>$l,Y8G:()=>hg,Z63:()=>Is,ZF7:()=>Hd,_9s:()=>kp,_q3:()=>J0,aKT:()=>nh,aNF:()=>$b,bIt:()=>Y,bMT:()=>aT,bVm:()=>Eh,bc$:()=>xp,bkB:()=>Ec,brH:()=>cT,c1b:()=>zE,cWb:()=>Yg,czy:()=>jd,e01:()=>JT,e5t:()=>Py,eBV:()=>Ho,eq3:()=>Yb,eu8:()=>bh,fpN:()=>O1,gRc:()=>v1,gXe:()=>dn,giA:()=>ZT,h9k:()=>Ap,hnV:()=>zT,i5U:()=>lT,iLQ:()=>W0,j41:()=>yh,jDH:()=>un,jNT:()=>E,k0s:()=>vh,kS0:()=>Sd,kdw:()=>Gu,l4e:()=>eT,lJ4:()=>qb,lNU:()=>Se,l_i:()=>Xb,lsd:()=>IT,mGM:()=>bT,mq5:()=>cb,n$t:()=>A_,nI1:()=>oT,nKC:()=>fn,naY:()=>y1,npT:()=>em,nrm:()=>fg,o8S:()=>Ey,oH4:()=>rC,osQ:()=>nf,plB:()=>k0,qex:()=>$f,rXU:()=>su,rcV:()=>Qc,s1E:()=>Zb,sFG:()=>Wv,sMw:()=>Qb,sZ2:()=>By,sdS:()=>Um,tSv:()=>Zy,uvJ:()=>wi,w6W:()=>RI,wOt:()=>we,wni:()=>CT,xGo:()=>jc,xc7:()=>PE,xe9:()=>KE,xvI:()=>Lp,yjJ:()=>gu,zZn:()=>_c,zcH:()=>ul,ziG:()=>Jb,zjR:()=>j});var i=O(1413),ae=O(8359),r=O(1985),Ie=O(7786),le=O(4412),Ce=O(7673),De=O(7647),Te=O(5558),xe=O(3294);function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function J(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Fe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ue=W({__forward_ref__:W});function Xe(t){return t.__forward_ref__=Xe,t.toString=function(){return _e(this())},t}function We(t){return ge(t)?t():t}function ge(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===Xe}function Be(t){return t&&!!t.\u0275providers}const Se="https://g.co/ng/security#xss";class we extends Error{constructor(n,o){super(function at(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function rt(t){return"string"==typeof t?t:null==t?"":String(t)}function $t(t,n){throw new we(-201,!1)}function dt(t,n){null==t&&function it(t,n,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qn(t){return Jt(t,en)||Jt(t,Un)}function Ln(t){return null!==Qn(t)}function Jt(t,n){return t.hasOwnProperty(n)?t[n]:null}function yr(t){return t&&(t.hasOwnProperty(or)||t.hasOwnProperty(Vt))?t[or]:null}const en=W({\u0275prov:W}),or=W({\u0275inj:W}),Un=W({ngInjectableDef:W}),Vt=W({ngInjectorDef:W});var Cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Cn||{});let jn;function Rr(t){const n=jn;return jn=t,n}function Dr(t,n,o){const c=Qn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Cn.Optional?null:void 0!==n?n:void $t(_e(t))}const zn=globalThis;class fn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pn={},Pr="__NG_DI_FLAG__",nr="ngTempTokenPath",Rt=/\n/gm,x="__source";let k;function se(t){const n=k;return k=t,n}function ne(t,n=Cn.Default){if(void 0===k)throw new we(-203,!1);return null===k?Dr(t,void 0,n):k.get(t,n&Cn.Optional?null:void 0,n)}function Ee(t,n=Cn.Default){return(function In(){return jn}()||ne)(We(t),n)}function Gt(t,n=Cn.Default){return Ee(t,pn(n))}function pn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _r(t){const n=[];for(let o=0;o<t.length;o++){const c=We(t[o]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let f,g=Cn.Default;for(let C=0;C<c.length;C++){const A=c[C],M=$e(A);"number"==typeof M?-1===M?f=A.token:g|=M:f=A}n.push(Ee(f,g))}else n.push(Ee(c))}return n}function Ne(t,n){return t[Pr]=n,t.prototype[Pr]=n,t}function $e(t){return t[Pr]}function rn(t){return{toString:t}.toString()}var bn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bn||{}),dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(dn||{});const ar={},gn=[],Ci=W({\u0275cmp:W}),wt=W({\u0275dir:W}),st=W({\u0275pipe:W}),kt=W({\u0275mod:W}),hn=W({\u0275fac:W}),Kn=W({__NG_ELEMENT_ID__:W}),_n=W({__NG_ENV_ID__:W});function Fn(t,n,o){let c=t.length;for(;;){const f=t.indexOf(n,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===c||t.charCodeAt(f+g)<=32)return f}o=f+1}}function gr(t,n,o){let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const g=o[c++],C=o[c++],A=o[c++];t.setAttribute(n,C,A,g)}else{const g=f,C=o[++c];Zn(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),c++}}return c}function jr(t){return 3===t||4===t||6===t}function Zn(t){return 64===t.charCodeAt(0)}function ki(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?o=f:0===o||us(t,o,f,null,-1===o||2===o?n[++c]:null)}}return t}function us(t,n,o,c,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===o){if(null===c)return void(null!==f&&(t[g+1]=f));if(c===t[g+1])return void(t[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,o),null!==c&&t.splice(g++,0,c),null!==f&&t.splice(g++,0,f)}const Li="ng-template";function Ks(t,n,o){let c=0,f=!0;for(;c<t.length;){let g=t[c++];if("string"==typeof g&&f){const C=t[c++];if(o&&"class"===g&&-1!==Fn(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;c<t.length&&"string"==typeof(g=t[c++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function go(t){return 4===t.type&&t.value!==Li}function $i(t,n,o){return n===(4!==t.type||o?t.value:Li)}function Uo(t,n,o){let c=4;const f=t.attrs||[],g=function Vi(t){for(let n=0;n<t.length;n++)if(jr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const M=n[A];if("number"!=typeof M){if(!C)if(4&c){if(c=2|1&c,""!==M&&!$i(t,M,o)||""===M&&1===n.length){if(Qr(c))return!1;C=!0}}else{const z=8&c?M:n[++A];if(8&c&&null!==t.attrs){if(!Ks(t.attrs,z,o)){if(Qr(c))return!1;C=!0}continue}const Re=is(8&c?"class":M,f,go(t),o);if(-1===Re){if(Qr(c))return!1;C=!0;continue}if(""!==z){let ot;ot=Re>g?"":f[Re+1].toLowerCase();const vt=8&c?ot:null;if(vt&&-1!==Fn(vt,z,0)||2&c&&z!==ot){if(Qr(c))return!1;C=!0}}}}else{if(!C&&!Qr(c)&&!Qr(M))return!1;if(C&&Qr(M))continue;C=!1,c=M|1&c}}return Qr(c)||C}function Qr(t){return 0==(1&t)}function is(t,n,o,c){if(null===n)return-1;let f=0;if(c||!o){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Ui(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===n)return o;o++}return-1}(n,t)}function ds(t,n,o=!1){for(let c=0;c<n.length;c++)if(Uo(t,n[c],o))return!0;return!1}function qs(t,n){return t?":not("+n.trim()+")":n}function mo(t){let n=t[0],o=1,c=2,f="",g=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&c){const A=t[++o];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+C:4&c&&(f+=" "+C);else""!==f&&!Qr(C)&&(n+=qs(g,f),f=""),c=C,g=g||!Qr(c);o++}return""!==f&&(n+=qs(g,f)),n}function Ka(t){return rn(()=>{const n=hs(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dn.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""};oo(o);const c=t.dependencies;return o.directiveDefs=ts(c,!1),o.pipeDefs=ts(c,!0),o.id=function bs(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function ga(t){return Mr(t)||fi(t)}function Ys(t){return null!==t}function ti(t){return rn(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xs(t,n){if(null==t)return ar;const o={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),o[f]=c,n&&(n[f]=g)}return o}function _o(t){return rn(()=>{const n=hs(t);return oo(n),n})}function Us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mr(t){return t[Ci]||null}function fi(t){return t[wt]||null}function Ii(t){return t[st]||null}function Ms(t){const n=Mr(t)||fi(t)||Ii(t);return null!==n&&n.standalone}function pi(t,n){const o=t[kt]||null;if(!o&&!0===n)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return o}function hs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xs(t.inputs,n),outputs:xs(t.outputs)}}function oo(t){t.features?.forEach(n=>n(t))}function ts(t,n){if(!t)return null;const o=n?Ii:ga;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Ys)}const ci=0,Tn=1,cr=2,Er=3,os=4,fs=5,Bi=6,Xs=7,ui=8,ps=9,Os=10,ir=11,gs=12,Ts=13,re=14,Z=15,Pe=16,Ge=17,lt=18,bt=19,on=20,Nn=21,An=22,rr=23,Or=24,qn=25,ur=1,mi=2,kr=7,ji=9,Nr=11;function Ei(t){return Array.isArray(t)&&"object"==typeof t[ur]}function Yr(t){return Array.isArray(t)&&!0===t[ur]}function yo(t){return 0!=(4&t.flags)}function ms(t){return t.componentOffset>-1}function Gi(t){return 1==(1&t.flags)}function Wi(t){return!!t.template}function ns(t){return 0!=(512&t[cr])}function $s(t,n){return t.hasOwnProperty(hn)?t[hn]:null}let Oi=null,jo=!1;function On(t){const n=Oi;return Oi=t,n}const xa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _l(t){if(!vo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Na(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function As(t){t.dirty=!0,function no(t){if(void 0===t.liveConsumerNode)return;const n=jo;jo=!0;try{for(const o of t.liveConsumerNode)o.dirty||As(o)}finally{jo=n}}(t),t.consumerMarkedDirty?.(t)}function Ma(t){return t&&(t.nextProducerIndex=0),On(t)}function Oa(t,n){if(On(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ql(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Na(t){$o(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==o.version||(_l(o),c!==o.version))return!0}return!1}function Eu(t){if($o(t),vo(t))for(let n=0;n<t.producerNode.length;n++)Ql(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ql(t,n){if(function Fa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$o(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Ql(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];$o(f),f.producerIndexOfThis[c]=n}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $o(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bo=null;function Dt(t){const n=On(null);try{return t()}finally{On(n)}}const Xn=()=>{},Zr=(()=>({...xa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Xn}))();class Gr{constructor(n,o,c){this.previousValue=n,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function dr(){return Hr}function Hr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ni),yi}function yi(){const t=Fs(this),n=t?.current;if(n){const o=t.previous;if(o===ar)t.previous=n;else for(let c in n)o[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Ni(t,n,o,c){const f=this.declaredInputs[o],g=Fs(t)||function ia(t,n){return t[Qs]=n}(t,{previous:ar,current:null}),C=g.current||(g.current={}),A=g.previous,M=A[f];C[f]=new Gr(M&&M.currentValue,n,A===ar),t[c]=n}dr.ngInherit=!0;const Qs="__ngSimpleChanges__";function Fs(t){return t[Qs]||null}const Cs=function(t,n,o){};function Ar(t){for(;Array.isArray(t);)t=t[ci];return t}function vl(t,n){return Ar(n[t])}function ro(t,n){return Ar(n[t.index])}function yd(t,n){return t.data[n]}function El(t,n){return t[n]}function Hi(t,n){const o=n[t];return Ei(o)?o:o[ci]}function Ds(t,n){return null==n?null:t[n]}function La(t){t[Ge]=0}function Zl(t){1024&t[cr]||(t[cr]|=1024,Ed(t,1))}function vd(t){1024&t[cr]&&(t[cr]&=-1025,Ed(t,-1))}function Ed(t,n){let o=t[Er];if(null===o)return;o[fs]+=n;let c=o;for(o=o[Er];null!==o&&(1===n&&1===c[fs]||-1===n&&0===c[fs]);)o[fs]+=n,c=o,o=o[Er]}const br={lFrame:fe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Du(){return br.bindingsEnabled}function tn(){return br.lFrame.lView}function Lr(){return br.lFrame.tView}function Ho(t){return br.lFrame.contextLView=t,t[ui]}function vs(t){return br.lFrame.contextLView=null,t}function Ss(){let t=tc();for(;null!==t&&64===t.type;)t=t.parent;return t}function tc(){return br.lFrame.currentTNode}function Js(t,n){const o=br.lFrame;o.currentTNode=t,o.isParent=n}function Cl(){return br.lFrame.isParent}function bd(){br.lFrame.isParent=!1}function Gs(){const t=br.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function co(){return br.lFrame.bindingIndex}function Ja(){return br.lFrame.bindingIndex++}function Eo(t){const n=br.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function qf(t,n){const o=br.lFrame;o.bindingIndex=o.bindingRootIndex=t,kc(n)}function kc(t){br.lFrame.currentDirectiveIndex=t}function zo(){return br.lFrame.currentQueryIndex}function D(t){br.lFrame.currentQueryIndex=t}function N(t){const n=t[Tn];return 2===n.type?n.declTNode:1===n.type?t[Bi]:null}function w(t,n,o){if(o&Cn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||o&Cn.Host||(f=N(g),null===f||(g=g[re],10&f.type))););if(null===f)return!1;n=f,t=g}const c=br.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function F(t){const n=H(),o=t[Tn];br.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function H(){const t=br.lFrame,n=null===t?null:t.child;return null===n?fe(t):n}function fe(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ke(){const t=br.lFrame;return br.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const At=ke;function It(){const t=ke();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sr(){return br.lFrame.selectedIndex}function $r(t){br.lFrame.selectedIndex=t}function vi(){const t=br.lFrame;return yd(t.tView,t.selectedIndex)}let Dh=!0;function el(){return Dh}function Rs(t){Dh=t}function $a(t,n){for(let o=n.directiveStart,c=n.directiveEnd;o<c;o++){const g=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:z,ngOnDestroy:ce}=g;C&&(t.contentHooks??=[]).push(-o,C),A&&((t.contentHooks??=[]).push(o,A),(t.contentCheckHooks??=[]).push(o,A)),M&&(t.viewHooks??=[]).push(-o,M),z&&((t.viewHooks??=[]).push(o,z),(t.viewCheckHooks??=[]).push(o,z)),null!=ce&&(t.destroyHooks??=[]).push(o,ce)}}function rc(t,n,o){Mu(t,n,3,o)}function Lc(t,n,o,c){(3&t[cr])===o&&Mu(t,n,o,c)}function xu(t,n){let o=t[cr];(3&o)===n&&(o&=8191,o+=1,t[cr]=o)}function Mu(t,n,o,c){const g=c??-1,C=n.length-1;let A=0;for(let M=void 0!==c?65535&t[Ge]:0;M<C;M++)if("number"==typeof n[M+1]){if(A=n[M],null!=c&&A>=c)break}else n[M]<0&&(t[Ge]+=65536),(A<g||-1==g)&&(Nu(t,o,n,M),t[Ge]=(4294901760&t[Ge])+M+2),M++}function Ou(t,n){Cs(4,t,n);const o=On(null);try{n.call(t)}finally{On(o),Cs(5,t,n)}}function Nu(t,n,o,c){const f=o[c]<0,g=o[c+1],A=t[f?-o[c]:o[c]];f?t[cr]>>13<t[Ge]>>16&&(3&t[cr])===n&&(t[cr]+=8192,Ou(A,g)):Ou(A,g)}const Wo=-1;class bo{constructor(n,o,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Vc(t){return t!==Wo}function tl(t){return 32767&t}function Sl(t,n){let o=function ic(t){return t>>16}(t),c=n;for(;o>0;)c=c[re],o--;return c}let sc=!0;function nl(t){const n=sc;return sc=t,n}const Mo=255,Ta=5;let ku=0;const To={};function Rl(t,n){const o=Ph(t,n);if(-1!==o)return o;const c=n[Tn];c.firstCreatePass&&(t.injectorIndex=n.length,Ps(c.data,t),Ps(n,null),Ps(c.blueprint,null));const f=Pl(t,n),g=t.injectorIndex;if(Vc(f)){const C=tl(f),A=Sl(f,n),M=A[Tn].data;for(let z=0;z<8;z++)n[g+z]=A[C+z]|M[C+z]}return n[g+8]=f,g}function Ps(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ph(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Pl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,f=n;for(;null!==f;){if(c=Dd(f),null===c)return Wo;if(o++,f=f[re],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return Wo}function oc(t,n,o){!function Ad(t,n,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Kn)&&(c=o[Kn]),null==c&&(c=o[Kn]=ku++);const f=c&Mo;n.data[t+(f>>Ta)]|=1<<f}(t,n,o)}function rl(t,n,o){if(o&Cn.Optional||void 0!==t)return t;$t()}function ac(t,n,o,c){if(o&Cn.Optional&&void 0===c&&(c=null),!(o&(Cn.Self|Cn.Host))){const f=t[ps],g=Rr(void 0);try{return f?f.get(n,c,o&Cn.Optional):Dr(n,c,o&Cn.Optional)}finally{Rr(g)}}return rl(c,0,o)}function Uc(t,n,o,c=Cn.Default,f){if(null!==t){if(2048&n[cr]&&!(c&Cn.Self)){const C=function Oh(t,n,o,c,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[cr]&&!(512&C[cr]);){const A=xl(g,C,o,c|Cn.Self,To);if(A!==To)return A;let M=g.parent;if(!M){const z=C[on];if(z){const ce=z.get(o,To,c);if(ce!==To)return ce}M=Dd(C),C=C[re]}g=M}return f}(t,n,o,c,To);if(C!==To)return C}const g=xl(t,n,o,c,To);if(g!==To)return g}return ac(n,o,c,f)}function xl(t,n,o,c,f){const g=function Ol(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Kn)?t[Kn]:void 0;return"number"==typeof n?n>=0?n&Mo:Jf:n}(o);if("function"==typeof g){if(!w(n,t,c))return c&Cn.Host?rl(f,0,c):ac(n,o,c,f);try{let C;if(C=g(c),null!=C||c&Cn.Optional)return C;$t()}finally{At()}}else if("number"==typeof g){let C=null,A=Ph(t,n),M=Wo,z=c&Cn.Host?n[Z][Bi]:null;for((-1===A||c&Cn.SkipSelf)&&(M=-1===A?Pl(t,n):n[A+8],M!==Wo&&Qf(c,!1)?(C=n[Tn],A=tl(M),n=Sl(M,n)):A=-1);-1!==A;){const ce=n[Tn];if(Lu(g,A,ce.data)){const Re=Xf(A,n,o,C,c,z);if(Re!==To)return Re}M=n[A+8],M!==Wo&&Qf(c,n[Tn].data[A+8]===z)&&Lu(g,A,n)?(C=ce,A=tl(M),n=Sl(M,n)):A=-1}}return f}function Xf(t,n,o,c,f,g){const C=n[Tn],A=C.data[t+8],ce=Ko(A,C,o,null==c?ms(A)&&sc:c!=C&&0!=(3&A.type),f&Cn.Host&&g===A);return null!==ce?Ml(n,C,ce,A):To}function Ko(t,n,o,c,f){const g=t.providerIndexes,C=n.data,A=1048575&g,M=t.directiveStart,ce=g>>20,ot=f?A+ce:t.directiveEnd;for(let vt=c?A:A+ce;vt<ot;vt++){const Kt=C[vt];if(vt<M&&o===Kt||vt>=M&&Kt.type===o)return vt}if(f){const vt=C[M];if(vt&&Wi(vt)&&vt.type===o)return M}return null}function Ml(t,n,o,c){let f=t[o];const g=n.data;if(function Dl(t){return t instanceof bo}(f)){const C=f;C.resolving&&function Ft(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rt(t)}(g[o]));const A=nl(C.canSeeViewProviders);C.resolving=!0;const z=C.injectImpl?Rr(C.injectImpl):null;w(t,c,Cn.Default);try{f=t[o]=C.factory(void 0,g,t,c),n.firstCreatePass&&o>=c.directiveStart&&function Cd(t,n,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(c){const C=Hr(n);(o.preOrderHooks??=[]).push(t,C),(o.preOrderCheckHooks??=[]).push(t,C)}f&&(o.preOrderHooks??=[]).push(0-t,f),g&&((o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g))}(o,g[o],n)}finally{null!==z&&Rr(z),nl(A),C.resolving=!1,At()}}return f}function Lu(t,n,o){return!!(o[n+(t>>Ta)]&1<<t)}function Qf(t,n){return!(t&Cn.Self||t&Cn.Host&&n)}class as{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,c){return Uc(this._tNode,this._lView,n,pn(c),o)}}function Jf(){return new as(Ss(),tn())}function jc(t){return rn(()=>{const n=t.prototype.constructor,o=n[hn]||aa(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const g=f[hn]||aa(f);if(g&&g!==o)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function aa(t){return ge(t)?()=>{const n=aa(We(t));return n&&n()}:$s(t)}function Dd(t){const n=t[Tn],o=n.type;return 2===o?n.declTNode:1===o?t[Bi]:null}function Sd(t){return function xh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const g=o[f];if(jr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(g===n)return o[f+1];f+=2}}}return null}(Ss(),t)}const Oo="__parameters__";function $c(t,n,o){return rn(()=>{const c=function Vu(t){return function(...o){if(t){const c=t(...o);for(const f in c)this[f]=c[f]}}}(n);function f(...g){if(this instanceof f)return c.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(M,z,ce){const Re=M.hasOwnProperty(Oo)?M[Oo]:Object.defineProperty(M,Oo,{value:[]})[Oo];for(;Re.length<=ce;)Re.push(null);return(Re[ce]=Re[ce]||[]).push(C),M}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Ll(t,n){t.forEach(o=>Array.isArray(o)?Ll(o,n):n(o))}function Rd(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Vl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Co(t,n,o){let c=la(t,n);return c>=0?t[1|c]=o:(c=~c,function bg(t,n,o,c){let f=t.length;if(f==n)t.push(o,c);else if(1===f)t.push(c,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=o,t[n+1]=c}}(t,c,n,o)),c}function xd(t,n){const o=la(t,n);if(o>=0)return t[1|o]}function la(t,n){return function Lh(t,n,o){let c=0,f=t.length>>o;for(;f!==c;){const g=c+(f-c>>1),C=t[g<<o];if(n===C)return g<<o;C>n?f=g:c=g+1}return~(f<<o)}(t,n,1)}const $l=Ne($c("Optional"),8),Gu=Ne($c("SkipSelf"),4);function Ud(t){return 128==(128&t.flags)}var jd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jd||{});const Jm=/^>|^->|<!--|-->|--!>|<!-$/g,Wh=/(<|>)/g,Zm="\u200b$1\u200b";const Ku=new Map;let Kh=0;const Yu="__ngContext__";function No(t,n){Ei(n)?(t[Yu]=n[bt],function qu(t){Ku.set(t[bt],t)}(n)):t[Yu]=n}let qh;function Kc(t,n){return qh(t,n)}function lc(t){const n=t[Er];return Yr(n)?n[Er]:n}function r_(t){return qc(t[gs])}function Bd(t){return qc(t[os])}function qc(t){for(;null!==t&&!Yr(t);)t=t[os];return t}function uc(t,n,o,c,f){if(null!=c){let g,C=!1;Yr(c)?g=c:Ei(c)&&(C=!0,c=c[ci]);const A=Ar(c);0===t&&null!==o?null==f?gp(n,o,A):Qu(n,o,A,f||null,!0):1===t&&null!==o?Qu(n,o,A,f||null,!0):2===t?function Yc(t,n,o){const c=Gd(t,n);c&&function Fg(t,n,o,c){t.removeChild(n,o,c)}(t,c,n,o)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function jg(t,n,o,c,f){const g=o[kr];g!==Ar(o)&&uc(n,t,c,g,f);for(let A=Nr;A<o.length;A++){const M=o[A];Zh(M[Tn],M,t,n,c,g)}}(n,t,g,o,f)}}function Pg(t,n){return t.createComment(function Hl(t){return t.replace(Jm,n=>n.replace(Wh,Zm))}(n))}function Yh(t,n,o){return t.createElement(n,o)}function o_(t,n){const o=t[ji],c=o.indexOf(n);vd(n),o.splice(c,1)}function Xh(t,n){if(t.length<=Nr)return;const o=Nr+n,c=t[o];if(c){const f=c[Pe];null!==f&&f!==t&&o_(f,c),n>0&&(t[o-1][os]=c[os]);const g=Vl(t,Nr+n);!function xg(t,n){Zh(t,n,n[ir],2,null,null),n[ci]=null,n[Bi]=null}(c[Tn],c);const C=g[lt];null!==C&&C.detachView(g[Tn]),c[Er]=null,c[os]=null,c[cr]&=-129}return c}function fp(t,n){if(!(256&n[cr])){const o=n[ir];n[rr]&&Eu(n[rr]),n[Or]&&Eu(n[Or]),o.destroyNode&&Zh(t,n,o,3,null,null),function Og(t){let n=t[gs];if(!n)return pp(t[Tn],t);for(;n;){let o=null;if(Ei(n))o=n[gs];else{const c=n[Nr];c&&(o=c)}if(!o){for(;n&&!n[os]&&n!==t;)Ei(n)&&pp(n[Tn],n),n=n[Er];null===n&&(n=t),Ei(n)&&pp(n[Tn],n),o=n&&n[os]}n=o}}(n)}}function pp(t,n){if(!(256&n[cr])){n[cr]&=-129,n[cr]|=256,function wy(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const f=n[o[c]];if(!(f instanceof bo)){const g=o[c+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],M=g[C+1];Cs(4,A,M);try{M.call(A)}finally{Cs(5,A,M)}}else{Cs(4,f,g);try{g.call(f)}finally{Cs(5,f,g)}}}}}(t,n),function a_(t,n){const o=t.cleanup,c=n[Xs];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const C=o[g+3];C>=0?c[C]():c[-C].unsubscribe(),g+=2}else o[g].call(c[o[g+1]]);null!==c&&(n[Xs]=null);const f=n[Nn];if(null!==f){n[Nn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[Tn].type&&n[ir].destroy();const o=n[Pe];if(null!==o&&Yr(n[Er])){o!==n[Er]&&o_(o,n);const c=n[lt];null!==c&&c.detachView(t)}!function Ag(t){Ku.delete(t[bt])}(n)}}function Ng(t,n,o){return function l_(t,n,o){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return o[ci];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:g}=t.data[c.directiveStart+f];if(g===dn.None||g===dn.Emulated)return null}return ro(c,o)}}(t,n.parent,o)}function Qu(t,n,o,c,f){t.insertBefore(n,o,c,f)}function gp(t,n,o){t.appendChild(n,o)}function c_(t,n,o,c,f){null!==c?Qu(t,n,o,c,f):gp(t,n,o)}function Gd(t,n){return t.parentNode(n)}let Lg,dc,Hg,Tp,_p=function u_(t,n,o){return 40&t.type?ro(t,o):null};function vp(t,n,o,c){const f=Ng(t,c,n),g=n[ir],A=function mp(t,n,o){return _p(t,n,o)}(c.parent||n[Bi],c,n);if(null!=f)if(Array.isArray(o))for(let M=0;M<o.length;M++)c_(g,f,o[M],A,!1);else c_(g,f,o,A,!1);void 0!==Lg&&Lg(g,c,n,o,f)}function Ju(t,n){if(null!==n){const o=n.type;if(3&o)return ro(n,t);if(4&o)return Qh(-1,t[n.index]);if(8&o){const c=n.child;if(null!==c)return Ju(t,c);{const f=t[n.index];return Yr(f)?Qh(-1,f):Ar(f)}}if(32&o)return Kc(n,t)()||Ar(t[n.index]);{const c=Vg(t,n);return null!==c?Array.isArray(c)?c[0]:Ju(lc(t[Z]),c):Ju(t,n.next)}}return null}function Vg(t,n){return null!==n?t[Z][Bi].projection[n.projection]:null}function Qh(t,n){const o=Nr+t+1;if(o<n.length){const c=n[o],f=c[Tn].firstChild;if(null!==f)return Ju(c,f)}return n[kr]}function Jh(t,n,o,c,f,g,C){for(;null!=o;){const A=c[o.index],M=o.type;if(C&&0===n&&(A&&No(Ar(A),c),o.flags|=2),32!=(32&o.flags))if(8&M)Jh(t,n,o.child,c,f,g,!1),uc(n,t,f,A,g);else if(32&M){const z=Kc(o,c);let ce;for(;ce=z();)uc(n,t,f,ce,g);uc(n,t,f,A,g)}else 16&M?h_(t,n,c,o,f,g):uc(n,t,f,A,g);o=C?o.projectionNext:o.next}}function Zh(t,n,o,c,f,g){Jh(o,c,t.firstChild,n,f,g,!1)}function h_(t,n,o,c,f,g){const C=o[Z],M=C[Bi].projection[c.projection];if(Array.isArray(M))for(let z=0;z<M.length;z++)uc(n,t,f,M[z],g);else{let z=M;const ce=C[Er];Ud(c)&&(z.flags|=128),Jh(t,n,z,ce,f,g,!0)}}function Ep(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function bp(t,n,o){const{mergedAttrs:c,classes:f,styles:g}=o;null!==c&&gr(t,n,c),null!==f&&Ep(t,n,f),null!==g&&function $g(t,n,o){t.setAttribute(n,"style",o)}(t,n,g)}function Xc(t){return function ef(){if(void 0===dc&&(dc=null,zn.trustedTypes))try{dc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dc}()?.createHTML(t)||t}function zg(t){Hg=t}function Zu(){if(void 0!==Hg)return Hg;if(typeof document<"u")return document;throw new we(210,!1)}function tf(){if(void 0===Tp&&(Tp=null,zn.trustedTypes))try{Tp=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tp}function p_(t){return tf()?.createHTML(t)||t}function g_(t){return tf()?.createScriptURL(t)||t}class fc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Se})`}}class Sy extends fc{getTypeName(){return"HTML"}}class Wg extends fc{getTypeName(){return"Style"}}class m_ extends fc{getTypeName(){return"Script"}}class Kg extends fc{getTypeName(){return"URL"}}class __ extends fc{getTypeName(){return"ResourceURL"}}function Qc(t){return t instanceof fc?t.changingThisBreaksApplicationSecurity:t}function Hd(t,n){const o=function qg(t){return t instanceof fc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Se})`)}return o===n}function Ry(t){return new Sy(t)}function Yg(t){return new Wg(t)}function Ip(t){return new m_(t)}function nf(t){return new Kg(t)}function Py(t){return new __(t)}class xy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(Xc(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Xg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=Xc(n),o}}const zd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rf(t){return(t=String(t)).match(zd)?t:"unsafe:"+t}function Ha(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function sf(...t){const n={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(n[c]=!0);return n}const v_=Ha("area,br,col,hr,img,wbr"),E_=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b_=Ha("rp,rt"),Jc=sf(v_,sf(E_,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sf(b_,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sf(b_,E_)),Zc=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wp=sf(Zc,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C_=Ha("script,style,template");class td{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!Jc.hasOwnProperty(o))return this.sanitizedSomething=!0,!C_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=n.attributes;for(let f=0;f<c.length;f++){const g=c.item(f),C=g.name,A=C.toLowerCase();if(!wp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=g.value;Zc[A]&&(M=rf(M)),this.buf.push(" ",C,'="',Jg(M),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();Jc.hasOwnProperty(o)&&!v_.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Jg(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const I_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qg=/([^\#-~ |!])/g;function Jg(t){return t.replace(/&/g,"&amp;").replace(I_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Qg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pc;function Ap(t,n){let o=null;try{pc=pc||function ed(t){const n=new Xg(t);return function y_(){try{return!!(new window.DOMParser).parseFromString(Xc(""),"text/html")}catch{return!1}}()?new xy(n):n}(t);let c=n?String(n):"";o=pc.getInertBodyElement(c);let f=5,g=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=g,g=o.innerHTML,o=pc.getInertBodyElement(c)}while(c!==g);return Xc((new td).sanitizeChildren(Zg(o)||o))}finally{if(o){const c=Zg(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Zg(t){return"content"in t&&function My(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var nd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nd||{});function em(t){const n=Ia();return n?p_(n.sanitize(nd.HTML,t)||""):Hd(t,"HTML")?p_(Qc(t)):Ap(Zu(),rt(t))}function Dp(t){const n=Ia();return n?n.sanitize(nd.URL,t)||"":Hd(t,"URL")?Qc(t):rf(rt(t))}function w_(t){const n=Ia();if(n)return g_(n.sanitize(nd.RESOURCE_URL,t)||"");if(Hd(t,"ResourceURL"))return g_(Qc(t));throw new we(904,!1)}function A_(t,n,o){return function Ly(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?w_:Dp}(n,o)(t)}function Ia(){const t=tn();return t&&t[Os].sanitizer}const Is=new fn("ENVIRONMENT_INITIALIZER"),eu=new fn("INJECTOR",-1),cf=new fn("INJECTOR_DEF_TYPES");class tm{get(n,o=Pn){if(o===Pn){const c=new Error(`NullInjectorError: No provider for ${_e(n)}!`);throw c.name="NullInjectorError",c}return o}}function qd(t){return{\u0275providers:t}}function oi(...t){return{\u0275providers:nm(0,t),\u0275fromNgModule:!0}}function nm(t,...n){const o=[],c=new Set;let f;const g=C=>{o.push(C)};return Ll(n,C=>{const A=C;tu(A,g,[],c)&&(f||=[],f.push(A))}),void 0!==f&&rm(f,g),o}function rm(t,n){for(let o=0;o<t.length;o++){const{ngModule:c,providers:f}=t[o];io(f,g=>{n(g,c)})}}function tu(t,n,o,c){if(!(t=We(t)))return!1;let f=null,g=yr(t);const C=!g&&Mr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const M=t.ngModule;if(g=yr(M),!g)return!1;f=M}const A=c.has(f);if(C){if(A)return!1;if(c.add(f),C.dependencies){const M="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const z of M)tu(z,n,o,c)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let z;c.add(f);try{Ll(g.imports,ce=>{tu(ce,n,o,c)&&(z||=[],z.push(ce))})}finally{}void 0!==z&&rm(z,n)}if(!A){const z=$s(f)||(()=>new f);n({provide:f,useFactory:z,deps:gn},f),n({provide:cf,useValue:f,multi:!0},f),n({provide:Is,useValue:()=>Ee(f),multi:!0},f)}const M=g.providers;if(null!=M&&!A){const z=t;io(M,ce=>{n(ce,z)})}}}return f!==t&&void 0!==t.providers}function io(t,n){for(let o of t)Be(o)&&(o=o.\u0275providers),Array.isArray(o)?io(o,n):n(o)}const zs=W({provide:String,useValue:W});function ll(t){return null!==t&&"object"==typeof t&&zs in t}function rd(t){return"function"==typeof t}const Sp=new fn("Set Injector scope."),Rp={},R_={};let P_;function im(){return void 0===P_&&(P_=new tm),P_}class wi{}class Yd extends wi{get destroyed(){return this._destroyed}constructor(n,o,c,f){super(),this.parent=o,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,om(n,C=>this.processProvider(C)),this.records.set(eu,Xd(void 0,this)),f.has("environment")&&this.records.set(wi,Xd(void 0,this));const g=this.records.get(Sp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cf.multi,gn,Cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=se(this),c=Rr(void 0);try{return n()}finally{se(o),Rr(c)}}get(n,o=Pn,c=Cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_n))return n[_n](this);c=pn(c);const g=se(this),C=Rr(void 0);try{if(!(c&Cn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const z=function Uv(t){return"function"==typeof t||"object"==typeof t&&t instanceof fn}(n)&&Qn(n);M=z&&this.injectableDefInScope(z)?Xd(uf(n),Rp):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(c&Cn.Self?im():this.parent).get(n,o=c&Cn.Optional&&o===Pn?null:o)}catch(A){if("NullInjectorError"===A.name){if((A[nr]=A[nr]||[]).unshift(_e(n)),g)throw A;return function Ye(t,n,o,c){const f=t[nr];throw n[x]&&f.unshift(n[x]),t.message=function jt(t,n,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(n);if(Array.isArray(n))f=n.map(_e).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${t.replace(Rt,"\n  ")}`}("\n"+t.message,f,o,c),t.ngTokenPath=f,t[nr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Rr(C),se(g)}}resolveInjectorInitializers(){const n=se(this),o=Rr(void 0);try{const f=this.get(Is.multi,gn,Cn.Self);for(const g of f)g()}finally{se(n),Rr(o)}}toString(){const n=[],o=this.records;for(const c of o.keys())n.push(_e(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(n){let o=rd(n=We(n))?n:We(n&&n.provide);const c=function jy(t){return ll(t)?Xd(void 0,t.useValue):Xd(Pp(t),Rp)}(n);if(rd(n)||!0!==n.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=Xd(void 0,Rp,!0),f.factory=()=>_r(f.multi),this.records.set(o,f)),o=n,f.multi.push(n)}this.records.set(o,c)}hydrate(n,o){return o.value===Rp&&(o.value=R_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function $y(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=We(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function uf(t){const n=Qn(t),o=null!==n?n.factory:$s(t);if(null!==o)return o;if(t instanceof fn)throw new we(204,!1);if(t instanceof Function)return function ls(t){const n=t.length;if(n>0)throw function Ul(t,n){const o=[];for(let c=0;c<t;c++)o.push(n);return o}(n,"?"),new we(204,!1);const o=function qt(t){return t&&(t[en]||t[Un])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new we(204,!1)}function Pp(t,n,o){let c;if(rd(t)){const f=We(t);return $s(f)||uf(f)}if(ll(t))c=()=>We(t.useValue);else if(function S_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(..._r(t.deps||[]));else if(function Uy(t){return!(!t||!t.useExisting)}(t))c=()=>Ee(We(t.useExisting));else{const f=We(t&&(t.useClass||t.provide));if(!function sm(t){return!!t.deps}(t))return $s(f)||uf(f);c=()=>new f(..._r(t.deps))}return c}function Xd(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function om(t,n){for(const o of t)Array.isArray(o)?om(o,n):o&&Be(o)?om(o.\u0275providers,n):n(o)}const By=new fn("AppId",{providedIn:"root",factory:()=>jv}),jv="ng",$v=new fn("Platform Initializer"),x_=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xp=new fn("AnimationModuleType"),Bv=new fn("CSP nonce",{providedIn:"root",factory:()=>Zu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dm=(t,n,o)=>null;function nu(t,n,o=!1){return dm(t,n,o)}class Ky{}class fm{}class Hv{resolveComponentFactory(n){throw function Np(t){const n=Error(`No component factory found for ${_e(t)}.`);return n.ngComponent=t,n}(n)}}let mc=(()=>{class t{static{this.NULL=new Hv}}return t})();function e0(){return Fp(Ss(),tn())}function Fp(t,n){return new nh(ro(t,n))}let nh=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=e0}}return t})();function zv(t){return t instanceof nh?t.nativeElement:t}class kp{}let Wv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Kv(){const t=tn(),o=Hi(Ss().index,t);return(Ei(o)?o:t)[ir]}()}}return t})(),gm=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}}return t})();class V_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Lp=new V_("16.2.12"),od={};function Xv(t,n=null,o=null,c){const f=Yy(t,n,o,c);return f.resolveInjectorInitializers(),f}function Yy(t,n=null,o=null,c,f=new Set){const g=[o||gn,oi(t)];return c=c||("object"==typeof t?void 0:_e(t)),new Yd(g,n||im(),c||null,f)}let _c=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Pn}static{this.NULL=new tm}static create(o,c){if(Array.isArray(o))return Xv({name:""},c,o,"");{const f=o.name??"";return Xv({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=un({token:t,providedIn:"any",factory:()=>Ee(eu)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function ru(t){return t.ngOriginalError}class ul{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&ru(n);for(;o&&ru(o);)o=ru(o);return o||null}}function vc(t){return n=>{setTimeout(t,void 0,n)}}const Ec=class eE extends i.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,c){let f=n,g=o||(()=>null),C=c;if(n&&"object"==typeof n){const M=n;f=M.next?.bind(M),g=M.error?.bind(M),C=M.complete?.bind(M)}this.__isAsync&&(g=vc(g),f&&(f=vc(f)),C&&(C=vc(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof ae.yU&&n.add(A),A}};function Xy(...t){}class Io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&o,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function tE(){const t="function"==typeof zn.requestAnimationFrame;let n=zn[t?"requestAnimationFrame":"setTimeout"],o=zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iE(t){const n=()=>{!function rE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,H_(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),H_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,f,g,C,A)=>{if(function oE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return o.invokeTask(f,g,C,A);try{return Qy(t),o.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),rh(t)}},onInvoke:(o,c,f,g,C,A,M)=>{try{return Qy(t),o.invoke(f,g,C,A,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),rh(t)}},onHasTask:(o,c,f,g)=>{o.hasTask(f,g),c===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,H_(t),G_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,c,f,g)=>(o.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new we(909,!1)}run(n,o,c){return this._inner.run(n,o,c)}runTask(n,o,c,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,nE,Xy,Xy);try{return g.runTask(C,o,c)}finally{g.cancelTask(C)}}runGuarded(n,o,c){return this._inner.runGuarded(n,o,c)}runOutsideAngular(n){return this._outer.run(n)}}const nE={};function G_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Qy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rh(t){t._nesting--,G_(t)}class z_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}run(n,o,c){return n.apply(o,c)}runGuarded(n,o,c){return n.apply(o,c)}runOutsideAngular(n){return n()}runTask(n,o,c,f){return n.apply(o,c)}}const sE=new fn("",{providedIn:"root",factory:Jy});function Jy(){const t=Gt(Io);let n=!0;const o=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new r.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Io.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ie.h)(o,c.pipe((0,De.u)()))}function Zy(t){return t.ownerDocument.defaultView}function ad(t){return t instanceof Function?t():t}let rv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Bp(t){for(;t;){t[cr]|=64;const n=lc(t);if(ns(t)&&!n)return t;t=n}return null}const W_=new fn("",{providedIn:"root",factory:()=>!1});let q_=null;function fE(t,n){return t[n]??gE()}function pE(t,n){const o=gE();o.producerNode?.length&&(t[n]=q_,o.lView=t,q_=Y_())}const ov={...xa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bp(t.lView)},lView:null};function Y_(){return Object.create(ov)}function gE(){return q_??=Y_(),q_}const Xr={};function mE(t){_m(Lr(),tn(),Sr()+t,!1)}function _m(t,n,o,c){if(!c)if(3==(3&n[cr])){const g=t.preOrderCheckHooks;null!==g&&rc(n,g,o)}else{const g=t.preOrderHooks;null!==g&&Lc(n,g,0,o)}$r(o)}function su(t,n=Cn.Default){const o=tn();return null===o?Ee(t,n):Uc(Ss(),o,We(t),n)}function d(){throw new Error("invalid")}function s(t,n,o,c,f,g,C,A,M,z,ce){const Re=n.blueprint.slice();return Re[ci]=f,Re[cr]=140|c,(null!==z||t&&2048&t[cr])&&(Re[cr]|=2048),La(Re),Re[Er]=Re[re]=t,Re[ui]=o,Re[Os]=C||t&&t[Os],Re[ir]=A||t&&t[ir],Re[ps]=M||t&&t[ps]||null,Re[Bi]=g,Re[bt]=function e_(){return Kh++}(),Re[An]=ce,Re[on]=z,Re[Z]=2==n.type?t[Z]:Re,Re}function a(t,n,o,c,f){let g=t.data[n];if(null===g)g=function h(t,n,o,c,f){const g=tc(),C=Cl(),M=t.data[n]=function sr(t,n,o,c,f,g){let C=n?n.injectorIndex:-1,A=0;return function oa(){return null!==br.skipHydrationRootTNode}()&&(A|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,o,n,c,f);return null===t.firstChild&&(t.firstChild=M),null!==g&&(C?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M,M.prev=g)),M}(t,n,o,c,f),function Td(){return br.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=c,g.attrs=f;const C=function Tl(){const t=br.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Js(g,!0),g}function _(t,n,o,c){if(0===o)return-1;const f=n.length;for(let g=0;g<o;g++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,o,c,f){const g=fE(n,rr),C=Sr(),A=2&c;try{$r(-1),A&&n.length>qn&&_m(t,n,qn,!1),Cs(A?2:0,f);const z=A?g:null,ce=Ma(z);try{null!==z&&(z.dirty=!1),o(c,f)}finally{Oa(z,ce)}}finally{A&&null===n[rr]&&pE(n,rr),$r(C),Cs(A?3:1,f)}}function R(t,n,o){if(yo(n)){const c=On(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,o[C],C)}}finally{On(c)}}}function L(t,n,o){Du()&&(function _E(t,n,o,c){const f=o.directiveStart,g=o.directiveEnd;ms(o)&&function Wp(t,n,o){const c=ro(n,t),f=de(o);let C=16;o.signals?C=4096:o.onPush&&(C=64);const A=sh(t,s(t,f,null,C,c,n,null,t[Os].rendererFactory.createRenderer(c,o),null,null,null));t[n.index]=A}(n,o,t.data[f+o.componentOffset]),t.firstCreatePass||Rl(o,n),No(c,n);const C=o.initialInputs;for(let A=f;A<g;A++){const M=t.data[A],z=Ml(n,t,A,o);No(z,n),null!==C&&av(0,A-f,z,M,0,C),Wi(M)&&(Hi(o.index,n)[ui]=Ml(n,t,A,o))}}(t,n,o,ro(o,n)),64==(64&o.flags)&&yf(t,n,o))}function q(t,n,o=ro){const c=n.localNames;if(null!==c){let f=n.index+1;for(let g=0;g<c.length;g+=2){const C=c[g+1],A=-1===C?o(n,t):t[C];t[f++]=A}}}function de(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ae(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ae(t,n,o,c,f,g,C,A,M,z,ce){const Re=qn+c,ot=Re+f,vt=function Qe(t,n){const o=[];for(let c=0;c<n;c++)o.push(c<t?null:Xr);return o}(Re,ot),Kt="function"==typeof z?z():z;return vt[Tn]={type:t,blueprint:vt,template:o,queries:null,viewQuery:A,declTNode:n,data:vt.slice().fill(null,Re),bindingStartIndex:Re,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:M,consts:Kt,incompleteFirstPass:!1,ssrId:ce}}let mn=t=>null;function Fr(t,n,o,c){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const g=t[f];null===c?Fi(o,n,f,g):c.hasOwnProperty(f)&&Fi(o,n,c[f],g)}return o}function Fi(t,n,o,c){t.hasOwnProperty(o)?t[o].push(n,c):t[o]=[n,c]}function He(t,n,o,c,f,g,C,A){const M=ro(n,o);let ce,z=n.inputs;!A&&null!=z&&(ce=z[c])?(qp(t,o,ce,c,f),ms(n)&&function nt(t,n){const o=Hi(n,t);16&o[cr]||(o[cr]|=64)}(o,n.index)):3&n.type&&(c=function pt(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=C?C(f,n.value||"",c):f,g.setProperty(M,c,f))}function xt(t,n,o,c){if(Du()){const f=null===c?null:{"":-1},g=function ym(t,n){const o=t.directiveRegistry;let c=null,f=null;if(o)for(let g=0;g<o.length;g++){const C=o[g];if(ds(n,C.selectors,!1))if(c||(c=[]),Wi(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),c.unshift(...A,C),vm(t,n,A.length)}else c.unshift(C),vm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,c,f),c.push(C)}return null===c?null:[c,f]}(t,o);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&et(t,n,o,C,f,A),f&&function yE(t,n,o){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=o[n[f+1]];if(null==g)throw new we(-301,!1);c.push(n[f],g)}}}(o,c,f)}o.mergedAttrs=ki(o.mergedAttrs,o.attrs)}function et(t,n,o,c,f,g){for(let z=0;z<c.length;z++)oc(Rl(o,n),t,c[z].type);!function Jo(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,c.length);for(let z=0;z<c.length;z++){const ce=c[z];ce.providersResolver&&ce.providersResolver(ce)}let C=!1,A=!1,M=_(t,n,c.length,null);for(let z=0;z<c.length;z++){const ce=c[z];o.mergedAttrs=ki(o.mergedAttrs,ce.hostAttrs),vE(t,o,n,M,ce),ld(M,ce,f),null!==ce.contentQueries&&(o.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(o.flags|=64);const Re=ce.type.prototype;!C&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),C=!0),!A&&(Re.ngOnChanges||Re.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),A=!0),M++}!function ai(t,n,o){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let M=null,z=null;for(let ce=n.directiveStart;ce<f;ce++){const Re=g[ce],ot=o?o.get(Re):null,Kt=ot?ot.outputs:null;M=Fr(Re.inputs,ce,M,ot?ot.inputs:null),z=Fr(Re.outputs,ce,z,Kt);const yn=null===M||null===C||go(n)?null:qi(M,ce,C);A.push(yn)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=M,n.outputs=z}(t,o,g)}function yf(t,n,o){const c=o.directiveStart,f=o.directiveEnd,g=o.index,C=function Ru(){return br.lFrame.currentDirectiveIndex}();try{$r(g);for(let A=c;A<f;A++){const M=t.data[A],z=n[A];kc(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&zp(M,z)}}finally{$r(-1),kc(C)}}function zp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function vm(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function ld(t,n,o){if(o){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)o[n.exportAs[c]]=t;Wi(n)&&(o[""]=t)}}function vE(t,n,o,c,f){t.data[c]=f;const g=f.factory||(f.factory=$s(f.type)),C=new bo(g,Wi(f),su);t.blueprint[c]=C,o[c]=C,function ou(t,n,o,c,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function Hp(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(C)!=A&&C.push(A),C.push(o,c,g)}}(t,n,c,_(t,o,f.hostVars,Xr),f)}function bc(t,n,o,c,f,g){const C=ro(t,n);!function ih(t,n,o,c,f,g,C){if(null==g)t.removeAttribute(n,f,o);else{const A=null==C?rt(g):C(g,c||"",f);t.setAttribute(n,f,A,o)}}(n[ir],C,g,t.value,o,c,f)}function av(t,n,o,c,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)X_(c,o,C[A++],C[A++],C[A++])}function X_(t,n,o,c,f){const g=On(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(f=C[c].call(n,f)),null!==t.setInput?t.setInput(n,f,o,c):n[c]=f}finally{On(g)}}function qi(t,n,o){let c=null,f=0;for(;f<o.length;){const g=o[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===c&&(c=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){c.push(g,C[A+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Kp(t,n,o,c){return[t,!0,!1,n,null,0,c,o,null,null,null]}function vf(t,n){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const g=o[c+1];if(-1!==g){const C=t.data[g];D(o[c]),C.contentQueries(2,n[g],g)}}}function sh(t,n){return t[gs]?t[Ts][os]=n:t[gs]=n,t[Ts]=n,n}function Ef(t,n,o){D(0);const c=On(null);try{n(t,o)}finally{On(c)}}function Em(t){return t[Xs]||(t[Xs]=[])}function bm(t){return t.cleanup||(t.cleanup=[])}function Tm(t,n){const o=t[ps],c=o?o.get(ul,null):null;c&&c.handleError(n)}function qp(t,n,o,c,f){for(let g=0;g<o.length;){const C=o[g++],A=o[g++];X_(t.data[C],n[C],c,A,f)}}function dl(t,n,o){const c=vl(n,t);!function hp(t,n,o){t.setValue(n,o)}(t[ir],c,o)}function Z_(t,n){const o=Hi(n,t),c=o[Tn];!function EE(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(c,o);const f=o[ci];null!==f&&null===o[An]&&(o[An]=nu(f,o[ps])),bf(c,o,o[ui])}function bf(t,n,o){F(n);try{const c=t.viewQuery;null!==c&&Ef(1,c,o);const f=t.template;null!==f&&b(t,n,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vf(t,n),t.staticViewQueries&&Ef(2,t.viewQuery,o);const g=t.components;null!==g&&function Cm(t,n){for(let o=0;o<n.length;o++)Z_(t,n[o])}(n,g)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[cr]&=-5,It()}}let Yp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,c,f){const g=typeof Zone>"u"?null:Zone.current,C=function Ht(t,n,o){const c=Object.create(Zr);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=C=>{c.cleanupFn=C};return c.ref={notify:()=>As(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Na(c))return;c.hasRun=!0;const C=Ma(c);try{c.cleanupFn(),c.cleanupFn=Xn,c.fn(f)}finally{Oa(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(o,z=>{this.all.has(z)&&this.queue.set(z,g)},f);let A;this.all.add(C),C.notify();const M=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=c?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}}return t})();function uo(t,n,o){let c=o?t.styles:null,f=o?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=Fe(f,A):2==g&&(c=Fe(c,A+": "+n[++C]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=f:t.classesWithoutHost=f}function au(t,n,o,c,f=!1){for(;null!==o;){const g=n[o.index];null!==g&&c.push(Ar(g)),Yr(g)&&Im(g,c);const C=o.type;if(8&C)au(t,n,o.child,c);else if(32&C){const A=Kc(o,n);let M;for(;M=A();)c.push(M)}else if(16&C){const A=Vg(n,o);if(Array.isArray(A))c.push(...A);else{const M=lc(n[Z]);au(M[Tn],M,A,c,!0)}}o=f?o.projectionNext:o.next}return c}function Im(t,n){for(let o=Nr;o<t.length;o++){const c=t[o],f=c[Tn].firstChild;null!==f&&au(c[Tn],c,f,n)}t[kr]!==t[ci]&&n.push(t[kr])}function Tf(t,n,o,c=!0){const f=n[Os],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{wm(t,n,t.template,o)}catch(M){throw c&&Tm(n,M),M}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function wm(t,n,o,c){const f=n[cr];if(256!=(256&f)){n[Os].effectManager?.flush(),F(n);try{La(n),function Ea(t){return br.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b(t,n,o,2,c);const C=3==(3&f);if(C){const z=t.preOrderCheckHooks;null!==z&&rc(n,z,null)}else{const z=t.preOrderHooks;null!==z&&Lc(n,z,0,null),xu(n,0)}if(function Dm(t){for(let n=r_(t);null!==n;n=Bd(n)){if(!n[mi])continue;const o=n[ji];for(let c=0;c<o.length;c++){Zl(o[c])}}}(n),Am(n,2),null!==t.contentQueries&&vf(t,n),C){const z=t.contentCheckHooks;null!==z&&rc(n,z)}else{const z=t.contentHooks;null!==z&&Lc(n,z,1),xu(n,1)}!function e(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const c=fE(n,Or);try{for(let f=0;f<o.length;f++){const g=o[f];if(g<0)$r(~g);else{const C=g,A=o[++f],M=o[++f];qf(A,C),c.dirty=!1;const z=Ma(c);try{M(2,n[C])}finally{Oa(c,z)}}}}finally{null===n[Or]&&pE(n,Or),$r(-1)}}(t,n);const A=t.components;null!==A&&Xp(n,A,0);const M=t.viewQuery;if(null!==M&&Ef(2,M,c),C){const z=t.viewCheckHooks;null!==z&&rc(n,z)}else{const z=t.viewHooks;null!==z&&Lc(n,z,2),xu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[cr]&=-73,vd(n)}finally{It()}}}function Am(t,n){for(let o=r_(t);null!==o;o=Bd(o))for(let c=Nr;c<o.length;c++)ey(o[c],n)}function lv(t,n,o){ey(Hi(n,t),o)}function ey(t,n){if(!function Iu(t){return 128==(128&t[cr])}(t))return;const o=t[Tn],c=t[cr];if(80&c&&0===n||1024&c||2===n)wm(o,t,o.template,t[ui]);else if(t[fs]>0){Am(t,1);const f=o.components;null!==f&&Xp(t,f,1)}}function Xp(t,n,o){for(let c=0;c<n.length;c++)lv(t,n[c],o)}class oh{get rootNodes(){const n=this._lView,o=n[Tn];return au(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ui]}set context(n){this._lView[ui]=n}get destroyed(){return 256==(256&this._lView[cr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Er];if(Yr(n)){const o=n[8],c=o?o.indexOf(this):-1;c>-1&&(Xh(n,c),Vl(o,c))}this._attachedToViewContainer=!1}fp(this._lView[Tn],this._lView)}onDestroy(n){!function bl(t,n){if(256==(256&t[cr]))throw new we(911,!1);null===t[Nn]&&(t[Nn]=[]),t[Nn].push(n)}(this._lView,n)}markForCheck(){Bp(this._cdRefInjectingView||this._lView)}detach(){this._lView[cr]&=-129}reattach(){this._lView[cr]|=128}detectChanges(){Tf(this._lView[Tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i_(t,n){Zh(t,n,n[ir],2,null,null)}(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=n}}class ty extends oh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Tf(n[Tn],n,n[ui],!1)}checkNoChanges(){}get context(){return null}}class ah extends mc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Mr(n);return new If(o,this.ngModule)}}function Qp(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class cd{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,c){c=pn(c);const f=this.injector.get(n,od,c);return f!==od||o===od?f:this.parentInjector.get(n,o,c)}}class If extends fm{get inputs(){const n=this.componentDef,o=n.inputTransforms,c=Qp(n.inputs);if(null!==o)for(const f of c)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return c}get outputs(){return Qp(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Jr(t){return t.map(mo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,c,f){let g=(f=f||this.ngModule)instanceof wi?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new cd(n,g):n,A=C.get(kp,null);if(null===A)throw new we(407,!1);const Re={rendererFactory:A,sanitizer:C.get(gm,null),effectManager:C.get(Yp,null),afterRenderEventManager:C.get(rv,null)},ot=A.createRenderer(null,this.componentDef),vt=this.componentDef.selectors[0][0]||"div",Kt=c?function St(t,n,o,c){const g=c.get(W_,!1)||o===dn.ShadowDom,C=t.selectRootElement(n,g);return function Xt(t){mn(t)}(C),C}(ot,c,this.componentDef.encapsulation,C):Yh(ot,vt,function Sm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(vt)),mr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let cn=null;null!==Kt&&(cn=nu(Kt,C,!0));const zr=Ae(0,null,null,1,0,null,null,null,null,null,null),bi=s(null,zr,null,mr,null,null,Re,ot,C,null,cn);let Es,Xl;F(bi);try{const Kf=this.componentDef;let by,tb=null;Kf.findHostDirectiveDefs?(by=[],tb=new Map,Kf.findHostDirectiveDefs(Kf,by,tb),by.push(Kf)):by=[Kf];const q1=function ny(t,n){const o=t[Tn],c=qn;return t[c]=n,a(o,c,2,"#host",null)}(bi,Kt),Y1=function za(t,n,o,c,f,g,C){const A=f[Tn];!function Rm(t,n,o,c){for(const f of t)n.mergedAttrs=ki(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(uo(n,n.mergedAttrs,!0),null!==o&&bp(c,o,n))}(c,t,n,C);let M=null;null!==n&&(M=nu(n,f[ps]));const z=g.rendererFactory.createRenderer(n,o);let ce=16;o.signals?ce=4096:o.onPush&&(ce=64);const Re=s(f,de(o),null,ce,f[t.index],t,g,z,null,null,M);return A.firstCreatePass&&vm(A,t,c.length-1),sh(f,Re),f[t.index]=Re}(q1,Kt,Kf,by,bi,Re,ot);Xl=yd(zr,qn),Kt&&function Zp(t,n,o,c){if(c)gr(t,o,["ng-version",Lp.full]);else{const{attrs:f,classes:g}=function na(t){const n=[],o=[];let c=1,f=2;for(;c<t.length;){let g=t[c];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++c]):8===f&&o.push(g);else{if(!Qr(f))break;f=g}c++}return{attrs:n,classes:o}}(n.selectors[0]);f&&gr(t,o,f),g&&g.length>0&&Ep(t,o,g.join(" "))}}(ot,Kf,Kt,c),void 0!==o&&function ud(t,n,o){const c=t.projection=[];for(let f=0;f<n.length;f++){const g=o[f];c.push(null!=g?Array.from(g):null)}}(Xl,this.ngContentSelectors,o),Es=function wo(t,n,o,c,f,g){const C=Ss(),A=f[Tn],M=ro(C,f);et(A,f,C,o,null,c);for(let ce=0;ce<o.length;ce++)No(Ml(f,A,C.directiveStart+ce,C),f);yf(A,f,C),M&&No(M,f);const z=Ml(f,A,C.directiveStart+C.componentOffset,C);if(t[ui]=f[ui]=z,null!==g)for(const ce of g)ce(z,n);return R(A,C,t),z}(Y1,Kf,by,tb,bi,[Ao]),bf(zr,bi,null)}finally{It()}return new Jp(this.componentType,Es,Fp(Xl,bi),bi,Xl)}}class Jp extends Ky{constructor(n,o,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ty(f),this.componentType=n}setInput(n,o){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const g=this._rootLView;qp(g[Tn],g,f,n,o),this.previousInputValues.set(n,o),Bp(Hi(this._tNode.index,g))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Ao(){const t=Ss();$a(tn()[Tn],t)}function xm(t){let n=function Pm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;n;){let f;if(Wi(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new we(903,!1);f=n.\u0275dir}if(f){if(o){c.push(f);const C=t;C.inputs=eg(t.inputs),C.inputTransforms=eg(t.inputTransforms),C.declaredInputs=eg(t.declaredInputs),C.outputs=eg(t.outputs);const A=f.hostBindings;A&&ry(t,A);const M=f.viewQuery,z=f.contentQueries;if(M&&dd(t,M),z&&wf(t,z),J(t.inputs,f.inputs),J(t.declaredInputs,f.declaredInputs),J(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),J(C.inputTransforms,f.inputTransforms)),Wi(f)&&f.data.animation){const ce=t.data;ce.animation=(ce.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===xm&&(o=!1)}}n=Object.getPrototypeOf(n)}!function lu(t){let n=0,o=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=ki(f.hostAttrs,o=ki(o,f.hostAttrs))}}(c)}function eg(t){return t===ar?{}:t===gn?[]:t}function dd(t,n){const o=t.viewQuery;t.viewQuery=o?(c,f)=>{n(c,f),o(c,f)}:n}function wf(t,n){const o=t.contentQueries;t.contentQueries=o?(c,f,g)=>{n(c,f,g),o(c,f,g)}:n}function ry(t,n){const o=t.hostBindings;t.hostBindings=o?(c,f)=>{n(c,f),o(c,f)}:n}function oy(t){const n=t.inputConfig,o={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(o[c]=f[2])}t.inputTransforms=o}function cu(t){return!!zl(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ho(t,n,o){return t[n]=o}function du(t,n){return t[n]}function eo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function hu(t,n,o,c){const f=eo(t,n,o);return eo(t,n+1,c)||f}function Wl(t,n,o,c,f){const g=hu(t,n,o,c);return eo(t,n+2,f)||g}function Zo(t,n,o,c,f,g){const C=hu(t,n,o,c);return hu(t,n+2,f,g)||C}function rg(t,n,o,c){const f=tn();return eo(f,Ja(),n)&&(Lr(),bc(vi(),f,t,n,o,c)),rg}function wa(t,n,o,c){return eo(t,Ja(),o)?n+rt(o)+c:Xr}function Vf(t,n,o,c,f,g,C,A){const M=tn(),z=Lr(),ce=t+qn,Re=z.firstCreatePass?function mh(t,n,o,c,f,g,C,A,M){const z=n.consts,ce=a(n,t,4,C||null,Ds(z,A));xt(n,o,ce,Ds(z,M)),$a(n,ce);const Re=ce.tView=Ae(2,ce,c,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,ce),Re.queries=n.queries.embeddedTView(ce)),ce}(ce,z,M,n,o,c,f,g,C):z.data[ce];Js(Re,!1);const ot=cg(z,M,Re,t);el()&&vp(z,M,ot,Re),No(ot,M),sh(M,M[ce]=Kp(ot,M,ot,Re)),Gi(Re)&&L(z,M,Re),null!=C&&q(M,Re,A)}let cg=function Uf(t,n,o,c){return Rs(!0),n[ir].createComment("")};function Um(t){return El(function ja(){return br.lFrame.contextLView}(),qn+t)}function hg(t,n,o){const c=tn();return eo(c,Ja(),n)&&He(Lr(),vi(),c,t,n,c[ir],o,!1),hg}function _h(t,n,o,c,f){const C=f?"class":"style";qp(t,o,n.inputs[C],C,c)}function yh(t,n,o,c){const f=tn(),g=Lr(),C=qn+t,A=f[ir],M=g.firstCreatePass?function jf(t,n,o,c,f,g){const C=n.consts,M=a(n,t,2,c,Ds(C,f));return xt(n,o,M,Ds(C,g)),null!==M.attrs&&uo(M,M.attrs,!1),null!==M.mergedAttrs&&uo(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(C,g,f,n,o,c):g.data[C],z=jm(g,f,M,A,n,t);f[C]=z;const ce=Gi(M);return Js(M,!0),bp(A,z,M),32!=(32&M.flags)&&el()&&vp(g,f,z,M),0===function va(){return br.lFrame.elementDepthCount}()&&No(z,f),function Oc(){br.lFrame.elementDepthCount++}(),ce&&(L(g,f,M),R(g,M,f)),null!==c&&q(f,M),yh}function vh(){let t=Ss();Cl()?bd():(t=t.parent,Js(t,!1));const n=t;(function Nc(t){return br.skipHydrationRootTNode===t})(n)&&function Su(){br.skipHydrationRootTNode=null}(),function Ah(){br.lFrame.elementDepthCount--}();const o=Lr();return o.firstCreatePass&&($a(o,t),yo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function wd(t){return 0!=(8&t.flags)}(n)&&_h(o,n,tn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Fu(t){return 0!=(16&t.flags)}(n)&&_h(o,n,tn(),n.stylesWithoutHost,!1),vh}function fg(t,n,o,c){return yh(t,n,o,c),vh(),fg}let jm=(t,n,o,c,f,g)=>(Rs(!0),Yh(c,f,function Pu(){return br.lFrame.currentNamespace}()));function $f(t,n,o){const c=tn(),f=Lr(),g=t+qn,C=f.firstCreatePass?function hy(t,n,o,c,f){const g=n.consts,C=Ds(g,c),A=a(n,t,8,"ng-container",C);return null!==C&&uo(A,C,!0),xt(n,o,A,Ds(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,c,n,o):f.data[g];Js(C,!0);const A=ha(f,c,C,t);return c[g]=A,el()&&vp(f,c,A,C),No(A,c),Gi(C)&&(L(f,c,C),R(f,C,c)),null!=o&&q(c,C),$f}function Eh(){let t=Ss();const n=Lr();return Cl()?bd():(t=t.parent,Js(t,!1)),n.firstCreatePass&&($a(n,t),yo(t)&&n.queries.elementEnd(t)),Eh}function bh(t,n,o){return $f(t,n,o),Eh(),bh}let ha=(t,n,o,c)=>(Rs(!0),Pg(n[ir],""));function Ac(){return tn()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function Y(t,n,o,c){const f=tn(),g=Lr(),C=Ss();return function Lt(t,n,o,c,f,g,C){const A=Gi(c),z=t.firstCreatePass&&bm(t),ce=n[ui],Re=Em(n);let ot=!0;if(3&c.type||C){const yn=ro(c,n),Hn=C?C(yn):yn,mr=Re.length,cn=C?bi=>C(Ar(bi[c.index])):c.index;let zr=null;if(!C&&A&&(zr=function Tt(t,n,o,c){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===o&&f[g+1]===c){const A=n[Xs],M=f[g+2];return A.length>M?A[M]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,c.index)),null!==zr)(zr.__ngLastListenerFn__||zr).__ngNextListenerFn__=g,zr.__ngLastListenerFn__=g,ot=!1;else{g=zi(c,n,ce,g,!1);const bi=o.listen(Hn,f,g);Re.push(g,bi),z&&z.push(f,cn,mr,mr+1)}}else g=zi(c,n,ce,g,!1);const vt=c.outputs;let Kt;if(ot&&null!==vt&&(Kt=vt[f])){const yn=Kt.length;if(yn)for(let Hn=0;Hn<yn;Hn+=2){const Es=n[Kt[Hn]][Kt[Hn+1]].subscribe(g),Xl=Re.length;Re.push(g,Es),z&&z.push(f,c.index,Xl,-(Xl+1))}}}(g,f,f[ir],C,t,n,c),Y}function En(t,n,o,c){try{return Cs(6,n,o),!1!==o(c)}catch(f){return Tm(t,f),!1}finally{Cs(7,n,o)}}function zi(t,n,o,c,f){return function g(C){if(C===Function)return c;Bp(t.componentOffset>-1?Hi(t.index,n):n);let M=En(n,o,c,C),z=g.__ngNextListenerFn__;for(;z;)M=En(n,o,z,C)&&M,z=z.__ngNextListenerFn__;return f&&!1===M&&C.preventDefault(),M}}function Ls(t=1){return function Sn(t){return(br.lFrame.contextLView=function Tr(t,n){for(;t>0;)n=n[re],t--;return n}(t,br.lFrame.contextLView))[ui]}(t)}function Kl(t,n,o){return fa(t,"",n,"",o),Kl}function fa(t,n,o,c,f){const g=tn(),C=wa(g,n,o,c);return C!==Xr&&He(Lr(),vi(),g,t,C,g[ir],f,!1),fa}function gu(t,n,o,c,f,g,C,A,M){const z=tn(),ce=function Aa(t,n,o,c,f,g,C,A){const z=Wl(t,co(),o,f,C);return Eo(3),z?n+rt(o)+c+rt(f)+g+rt(C)+A:Xr}(z,n,o,c,f,g,C,A);return ce!==Xr&&He(Lr(),vi(),z,t,ce,z[ir],M,!1),gu}function py(t,n){return t<<17|n<<2}function Th(t){return t>>17&32767}function gy(t){return 2|t}function mu(t){return(131068&t)>>2}function mv(t,n){return-131069&t|n<<2}function Bm(t){return 1|t}function AE(t,n,o,c,f){const g=t[o+1],C=null===n;let A=c?Th(g):mu(g),M=!1;for(;0!==A&&(!1===M||C);){const ce=t[A+1];h0(t[A],n)&&(M=!0,t[A+1]=c?Bm(ce):gy(ce)),A=c?Th(ce):mu(ce)}M&&(t[o+1]=c?gy(g):Bm(g))}function h0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&la(t,n)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gm(t){return t.substring(fo.key,fo.keyEnd)}function _v(t,n){const o=fo.textEnd;return o===n?-1:(n=fo.keyEnd=function g0(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,fo.key=n,o),pg(t,n,o))}function pg(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function PE(t,n,o){return yu(t,n,o,!1),PE}function xE(t,n){return yu(t,n,null,!0),xE}function ME(t){!function Dc(t,n,o,c){const f=Lr(),g=Eo(2);f.firstUpdatePass&&u(f,null,g,c);const C=tn();if(o!==Xr&&eo(C,g,o)){const A=f.data[Sr()];if(pr(A,c)&&!y(f,g)){let M=c?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(o=Fe(M,o||"")),_h(f,A,C,o,c)}else!function ln(t,n,o,c,f,g,C,A){f===Xr&&(f=gn);let M=0,z=0,ce=0<f.length?f[0]:null,Re=0<g.length?g[0]:null;for(;null!==ce||null!==Re;){const ot=M<f.length?f[M+1]:void 0,vt=z<g.length?g[z+1]:void 0;let yn,Kt=null;ce===Re?(M+=2,z+=2,ot!==vt&&(Kt=Re,yn=vt)):null===Re||null!==ce&&ce<Re?(M+=2,Kt=ce):(z+=2,Kt=Re,yn=vt),null!==Kt&&Bn(t,n,o,c,Kt,yn,C,A),ce=M<f.length?f[M]:null,Re=z<g.length?g[z]:null}}(f,A,C,C[ir],C[g+1],C[g+1]=function Me(t,n,o){if(null==o||""===o)return gn;const c=[],f=Qc(o);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(c,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(c,g,f[g]);else"string"==typeof f&&n(c,f);return c}(t,n,o),c,g)}}(Ct,_u,t,!0)}function _u(t,n){for(let o=function f0(t){return function RE(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),_v(t,pg(t,0,fo.textEnd))}(n);o>=0;o=_v(n,o))Co(t,Gm(n),!0)}function yu(t,n,o,c){const f=tn(),g=Lr(),C=Eo(2);g.firstUpdatePass&&u(g,t,C,c),n!==Xr&&eo(f,C,n)&&Bn(g,g.data[Sr()],f,f[ir],t,f[C+1]=function xn(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_e(Qc(t)))),t}(n,o),c,C)}function y(t,n){return n>=t.expandoStartIndex}function u(t,n,o,c){const f=t.data;if(null===f[o+1]){const g=f[Sr()],C=y(t,o);pr(g,c)&&null===n&&!C&&(n=!1),n=function l(t,n,o,c){const f=function ba(t){const n=br.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(o=ue(o=ie(null,t,n,o,c),n.attrs,c),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(o=ie(f,t,n,o,c),null===g){let M=function p(t,n,o){const c=o?n.classBindings:n.styleBindings;if(0!==mu(c))return t[Th(c)]}(t,n,c);void 0!==M&&Array.isArray(M)&&(M=ie(null,t,n,M[1],c),M=ue(M,n.attrs,c),function T(t,n,o,c){t[Th(o?n.classBindings:n.styleBindings)]=c}(t,n,c,M))}else g=function V(t,n,o){let c;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)c=ue(c,t[g].hostAttrs,o);return ue(c,n.attrs,o)}(t,n,c)}return void 0!==g&&(c?n.residualClasses=g:n.residualStyles=g),o}(f,g,n,c),function u0(t,n,o,c,f,g){let C=g?n.classBindings:n.styleBindings,A=Th(C),M=mu(C);t[c]=o;let ce,z=!1;if(Array.isArray(o)?(ce=o[1],(null===ce||la(o,ce)>0)&&(z=!0)):ce=o,f)if(0!==M){const ot=Th(t[A+1]);t[c+1]=py(ot,A),0!==ot&&(t[ot+1]=mv(t[ot+1],c)),t[A+1]=function a0(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=py(A,0),0!==A&&(t[A+1]=mv(t[A+1],c)),A=c;else t[c+1]=py(M,0),0===A?A=c:t[M+1]=mv(t[M+1],c),M=c;z&&(t[c+1]=gy(t[c+1])),AE(t,ce,c,!0),AE(t,ce,c,!1),function d0(t,n,o,c,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&la(g,n)>=0&&(o[c+1]=Bm(o[c+1]))}(n,ce,t,c,g),C=py(A,M),g?n.classBindings=C:n.styleBindings=C}(f,g,n,o,C,c)}}function ie(t,n,o,c,f){let g=null;const C=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<C&&(g=n[A],c=ue(c,g.hostAttrs,f),g!==t);)A++;return null!==t&&(o.directiveStylingLast=A),c}function ue(t,n,o){const c=o?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Co(t,C,!!o||n[++g]))}return void 0===t?null:t}function Ct(t,n,o){const c=String(n);""!==c&&!c.includes(" ")&&Co(t,c,o)}function Bn(t,n,o,c,f,g,C,A){if(!(3&n.type))return;const M=t.data,z=M[A+1],ce=function l0(t){return 1==(1&t)}(z)?Dn(M,n,o,f,mu(z),C):void 0;Mn(ce)||(Mn(g)||function wE(t){return 2==(2&t)}(z)&&(g=Dn(M,null,o,f,A,C)),function Dy(t,n,o,c,f){if(n)f?t.addClass(o,c):t.removeClass(o,c);else{let g=-1===c.indexOf("-")?void 0:jd.DashCase;null==f?t.removeStyle(o,c,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=jd.Important),t.setStyle(o,c,f,g))}}(c,C,vl(Sr(),o),f,g))}function Dn(t,n,o,c,f,g){const C=null===n;let A;for(;f>0;){const M=t[f],z=Array.isArray(M),ce=z?M[1]:M,Re=null===ce;let ot=o[f+1];ot===Xr&&(ot=Re?gn:void 0);let vt=Re?xd(ot,c):ce===c?ot:void 0;if(z&&!Mn(vt)&&(vt=xd(M,c)),Mn(vt)&&(A=vt,C))return A;const Kt=t[f+1];f=C?Th(Kt):mu(Kt)}if(null!==n){let M=g?n.residualClasses:n.residualStyles;null!=M&&(A=xd(M,c))}return A}function Mn(t){return void 0!==t}function pr(t,n){return 0!=(t.flags&(n?8:16))}function Br(t,n=""){const o=tn(),c=Lr(),f=t+qn,g=c.firstCreatePass?a(c,f,1,n,null):c.data[f],C=di(c,o,g,n,t);o[f]=C,el()&&vp(c,o,C,g),Js(g,!1)}let di=(t,n,o,c,f)=>(Rs(!0),function si(t,n){return t.createText(n)}(n[ir],c));function Di(t){return li("",t,""),Di}function li(t,n,o){const c=tn(),f=wa(c,t,n,o);return f!==Xr&&dl(c,Sr(),f),li}function gi(t,n,o,c,f){const g=tn(),C=function ea(t,n,o,c,f,g){const A=hu(t,co(),o,f);return Eo(2),A?n+rt(o)+c+rt(f)+g:Xr}(g,t,n,o,c,f);return C!==Xr&&dl(g,Sr(),C),gi}function Qi(t,n,o,c,f,g,C,A,M){const z=tn(),ce=function hl(t,n,o,c,f,g,C,A,M,z){const Re=Zo(t,co(),o,f,C,M);return Eo(4),Re?n+rt(o)+c+rt(f)+g+rt(C)+A+rt(M)+z:Xr}(z,t,n,o,c,f,g,C,A,M);return ce!==Xr&&dl(z,Sr(),ce),Qi}const md=void 0;var VE=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LE(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Wf={};function v0(t){const n=function PC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ub(n);if(o)return o;const c=n.split("-")[0];if(o=ub(c),o)return o;if("en"===c)return VE;throw new we(701,!1)}function cb(t){return v0(t)[my.PluralCase]}function ub(t){return t in Wf||(Wf[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),Wf[t]}var my=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(my||{});const _y="en-US";let db=_y;function T0(t,n,o,c,f){if(t=We(t),Array.isArray(t))for(let g=0;g<t.length;g++)T0(t[g],n,o,c,f);else{const g=Lr(),C=tn(),A=Ss();let M=rd(t)?t:We(t.provide);const z=Pp(t),ce=1048575&A.providerIndexes,Re=A.directiveStart,ot=A.providerIndexes>>20;if(rd(t)||!t.multi){const vt=new bo(z,f,su),Kt=I0(M,n,f?ce:ce+ot,Re);-1===Kt?(oc(Rl(A,C),g,M),C0(g,t,n.length),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(vt),C.push(vt)):(o[Kt]=vt,C[Kt]=vt)}else{const vt=I0(M,n,ce+ot,Re),Kt=I0(M,n,ce,ce+ot),Hn=Kt>=0&&o[Kt];if(f&&!Hn||!f&&!(vt>=0&&o[vt])){oc(Rl(A,C),g,M);const mr=function SI(t,n,o,c,f){const g=new bo(t,o,su);return g.multi=[],g.index=n,g.componentProviders=0,kb(g,f,c&&!o),g}(f?DI:AI,o.length,f,c,z);!f&&Hn&&(o[Kt].providerFactory=mr),C0(g,t,n.length,0),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),o.push(mr),C.push(mr)}else C0(g,t,vt>-1?vt:Kt,kb(o[f?Kt:vt],z,!f&&c));!f&&c&&Hn&&o[Kt].componentProviders++}}}function C0(t,n,o,c){const f=rd(n),g=function Vv(t){return!!t.useClass}(n);if(f||g){const M=(g?We(n.useClass):n).prototype.ngOnDestroy;if(M){const z=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ce=z.indexOf(o);-1===ce?z.push(o,[c,M]):z[ce+1].push(c,M)}else z.push(o,M)}}}function kb(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function I0(t,n,o,c){for(let f=o;f<c;f++)if(n[f]===t)return f;return-1}function AI(t,n,o,c){return w0(this.multi,[])}function DI(t,n,o,c){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Ml(o,o[Tn],this.providerFactory.index,c);g=A.slice(0,C),w0(f,g);for(let M=C;M<A.length;M++)g.push(A[M])}else g=[],w0(f,g);return g}function w0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function Lb(t,n=[]){return o=>{o.providersResolver=(c,f)=>function wI(t,n,o){const c=Lr();if(c.firstCreatePass){const f=Wi(t);T0(o,c.data,c.blueprint,f,!0),T0(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class zm{}class Vb{}function RI(t,n){return new A0(t,n??null,[])}class A0 extends zm{constructor(n,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const f=pi(n);this._bootstrapComponents=ad(f.bootstrap),this._r3Injector=Yy(n,o,[{provide:zm,useValue:this},{provide:mc,useValue:this.componentFactoryResolver},...c],_e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class D0 extends Vb{constructor(n){super(),this.moduleType=n}create(n){return new A0(this.moduleType,n,[])}}class Ub extends zm{constructor(n){super(),this.componentFactoryResolver=new ah(this),this.instance=null;const o=new Yd([...n.providers,{provide:zm,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],n.parent||im(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function jb(t,n,o=null){return new Ub({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let xI=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=nm(0,o.type),f=c.length>0?jb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(Ee(wi))})}}return t})();function $b(t){t.getStandaloneInjector=n=>n.get(xI).getOrCreateStandaloneInjector(t)}function qb(t,n,o){const c=Gs()+t,f=tn();return f[c]===Xr?ho(f,c,o?n.call(o):n()):du(f,c)}function Yb(t,n,o,c){return tT(tn(),Gs(),t,n,o,c)}function Xb(t,n,o,c,f){return nT(tn(),Gs(),t,n,o,c,f)}function Qb(t,n,o,c,f,g){return rT(tn(),Gs(),t,n,o,c,f,g)}function Jb(t,n,o,c,f,g,C){return function iT(t,n,o,c,f,g,C,A,M){const z=n+o;return Zo(t,z,f,g,C,A)?ho(t,z+4,M?c.call(M,f,g,C,A):c(f,g,C,A)):Mv(t,z+4)}(tn(),Gs(),t,n,o,c,f,g,C)}function Zb(t,n,o,c,f,g,C,A){const M=Gs()+t,z=tn(),ce=Zo(z,M,o,c,f,g);return eo(z,M+4,C)||ce?ho(z,M+5,A?n.call(A,o,c,f,g,C):n(o,c,f,g,C)):du(z,M+5)}function eT(t,n,o,c,f,g,C,A,M){const z=Gs()+t,ce=tn(),Re=Zo(ce,z,o,c,f,g);return hu(ce,z+4,C,A)||Re?ho(ce,z+6,M?n.call(M,o,c,f,g,C,A):n(o,c,f,g,C,A)):du(ce,z+6)}function Mv(t,n){const o=t[n];return o===Xr?void 0:o}function tT(t,n,o,c,f,g){const C=n+o;return eo(t,C,f)?ho(t,C+1,g?c.call(g,f):c(f)):Mv(t,C+1)}function nT(t,n,o,c,f,g,C){const A=n+o;return hu(t,A,f,g)?ho(t,A+2,C?c.call(C,f,g):c(f,g)):Mv(t,A+2)}function rT(t,n,o,c,f,g,C,A){const M=n+o;return Wl(t,M,f,g,C)?ho(t,M+3,A?c.call(A,f,g,C):c(f,g,C)):Mv(t,M+3)}function oT(t,n){const o=Lr();let c;const f=t+qn;o.firstCreatePass?(c=function GI(t,n){if(n)for(let o=n.length-1;o>=0;o--){const c=n[o];if(t===c.name)return c}}(n,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks??=[]).push(f,c.onDestroy)):c=o.data[f];const g=c.factory||(c.factory=$s(c.type)),A=Rr(su);try{const M=nl(!1),z=g();return nl(M),function dg(t,n,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=c}(o,tn(),f,z),z}finally{Rr(A)}}function aT(t,n,o){const c=t+qn,f=tn(),g=El(f,c);return Ov(f,c)?tT(f,Gs(),n,g.transform,o,g):g.transform(o)}function lT(t,n,o,c){const f=t+qn,g=tn(),C=El(g,f);return Ov(g,f)?nT(g,Gs(),n,C.transform,o,c,C):C.transform(o,c)}function cT(t,n,o,c,f){const g=t+qn,C=tn(),A=El(C,g);return Ov(C,g)?rT(C,Gs(),n,A.transform,o,c,f,A):A.transform(o,c,f)}function Ov(t,n){return t[Tn].data[n].pure}function WI(){return this._results[Symbol.iterator]()}class R0{get changes(){return this._changes||(this._changes=new Ec)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=R0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=WI)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const c=this;c.dirty=!1;const f=function Yo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function kh(t,n,o){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],g=n[c];if(o&&(f=o(f),g=o(g)),g!==f)return!1}return!0}(c._results,f,o))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qI(t,n,o,c=!0){const f=n[Tn];if(function Iy(t,n,o,c){const f=Nr+c,g=o.length;c>0&&(o[f-1][os]=n),c<g-Nr?(n[os]=o[f],Rd(o,Nr+c,n)):(o.push(n),n[os]=null),n[Er]=o;const C=n[Pe];null!==C&&o!==C&&function s_(t,n){const o=t[ji];n[Z]!==n[Er][Er][Z]&&(t[mi]=!0),null===o?t[ji]=[n]:o.push(n)}(C,n);const A=n[lt];null!==A&&A.insertView(t),n[cr]|=128}(f,n,t,o),c){const g=Qh(o,t),C=n[ir],A=Gd(C,t[kr]);null!==A&&function Mg(t,n,o,c,f,g){c[ci]=f,c[Bi]=n,Zh(t,c,o,1,f,g)}(f,t[Bi],C,n,A,g)}}let Nv=(()=>{class t{static{this.__NG_ELEMENT_ID__=QI}}return t})();const YI=Nv,XI=class extends YI{constructor(n,o,c){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,c){const f=function KI(t,n,o,c){const f=n.tView,A=s(t,f,o,4096&t[cr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Pe]=t[n.index];const z=t[lt];return null!==z&&(A[lt]=z.createEmbeddedView(f)),bf(f,A,o),A}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:c});return new oh(f)}};function QI(){return GE(Ss(),tn())}function GE(t,n){return 4&t.type?new XI(n,t,Fp(t,n)):null}let zE=(()=>{class t{static{this.__NG_ELEMENT_ID__=rw}}return t})();function rw(){return mT(Ss(),tn())}const iw=zE,pT=class extends iw{constructor(n,o,c){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=c}get element(){return Fp(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pl(this._hostTNode,this._hostLView);if(Vc(n)){const o=Sl(n,this._hostLView),c=tl(n);return new as(o[Tn].data[c+8],o)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=gT(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(n,o,c){let f,g;"number"==typeof c?f=c:null!=c&&(f=c.index,g=c.injector);const A=n.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,o,c,f,g){const C=n&&!function kl(t){return"function"==typeof t}(n);let A;if(C)A=o;else{const yn=o||{};A=yn.index,c=yn.injector,f=yn.projectableNodes,g=yn.environmentInjector||yn.ngModuleRef}const M=C?n:new If(Mr(n)),z=c||this.parentInjector;if(!g&&null==M.ngModule){const Hn=(C?z:this.parentInjector).get(wi,null);Hn&&(g=Hn)}Mr(M.componentType??{});const vt=M.create(z,f,null,g);return this.insertImpl(vt.hostView,A,false),vt}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,c){const f=n._lView;if(function sa(t){return Yr(t[Er])}(f)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const z=f[Er],ce=new pT(z,z[Bi],z[Er]);ce.detach(ce.indexOf(n))}}const C=this._adjustIndex(o),A=this._lContainer;return qI(A,f,C,!c),n.attachToViewContainerRef(),Rd(P0(A),C,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=gT(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),c=Xh(this._lContainer,o);c&&(Vl(P0(this._lContainer),o),fp(c[Tn],c))}detach(n){const o=this._adjustIndex(n,-1),c=Xh(this._lContainer,o);return c&&null!=Vl(P0(this._lContainer),o)?new oh(c):null}_adjustIndex(n,o=0){return n??this.length+o}};function gT(t){return t[8]}function P0(t){return t[8]||(t[8]=[])}function mT(t,n){let o;const c=n[t.index];return Yr(c)?o=c:(o=Kp(c,n,null,t),n[t.index]=o,sh(n,o)),_T(o,n,t,c),new pT(o,t,n)}let _T=function yT(t,n,o,c){if(t[kr])return;let f;f=8&o.type?Ar(c):function sw(t,n){const o=t[ir],c=o.createComment(""),f=ro(n,t);return Qu(o,Gd(o,f),c,function kg(t,n){return t.nextSibling(n)}(o,f),!1),c}(n,o),t[kr]=f};class x0{constructor(n){this.queryList=n,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class M0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const c=null!==n.contentQueries?n.contentQueries[0]:o.length,f=[];for(let g=0;g<c;g++){const C=o.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new M0(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==DT(n,o).matches&&this.queries[o].setDirty()}}class vT{constructor(n,o,c=null){this.predicate=n,this.flags=o,this.read=c}}class O0{constructor(n=[]){this.queries=n}elementStart(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,g=this.getByIndex(c).embeddedTView(n,f);g&&(g.indexInDeclarationView=c,null!==o?o.push(g):o=[g])}return null!==o?new O0(o):null}template(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class N0{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new N0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(n,o,lw(o,g)),this.matchTNodeWithReadOption(n,o,Ko(o,n,g,!1,!1))}else c===Nv?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Ko(o,n,c,!1,!1))}matchTNodeWithReadOption(n,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===nh||f===zE||f===Nv&&4&o.type)this.addMatch(o.index,-2);else{const g=Ko(o,n,f,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,c)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function lw(t,n){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===n)return o[c+1];return null}function uw(t,n,o,c){return-1===o?function cw(t,n){return 11&t.type?Fp(t,n):4&t.type?GE(t,n):null}(n,t):-2===o?function dw(t,n,o){return o===nh?Fp(n,t):o===Nv?GE(n,t):o===zE?mT(n,t):void 0}(t,n,c):Ml(t,t[Tn],o,n)}function ET(t,n,o,c){const f=n[lt].queries[c];if(null===f.matches){const g=t.data,C=o.matches,A=[];for(let M=0;M<C.length;M+=2){const z=C[M];A.push(z<0?null:uw(n,g[z],C[M+1],o.metadata.read))}f.matches=A}return f.matches}function F0(t,n,o,c){const f=t.queries.getByIndex(o),g=f.matches;if(null!==g){const C=ET(t,n,f,o);for(let A=0;A<g.length;A+=2){const M=g[A];if(M>0)c.push(C[A/2]);else{const z=g[A+1],ce=n[-M];for(let Re=Nr;Re<ce.length;Re++){const ot=ce[Re];ot[Pe]===ot[Er]&&F0(ot[Tn],ot,z,c)}if(null!==ce[ji]){const Re=ce[ji];for(let ot=0;ot<Re.length;ot++){const vt=Re[ot];F0(vt[Tn],vt,z,c)}}}}}return c}function bT(t){const n=tn(),o=Lr(),c=zo();D(c+1);const f=DT(o,c);if(t.dirty&&function wh(t){return 4==(4&t[cr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?F0(o,n,c,[]):ET(o,n,f,c);t.reset(g,zv),t.notifyOnChanges()}return!0}return!1}function TT(t,n,o){const c=Lr();c.firstCreatePass&&(AT(c,new vT(t,n,o),-1),2==(2&n)&&(c.staticViewQueries=!0)),wT(c,tn(),n)}function CT(t,n,o,c){const f=Lr();if(f.firstCreatePass){const g=Ss();AT(f,new vT(n,o,c),g.index),function fw(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}wT(f,tn(),o)}function IT(){return function hw(t,n){return t[lt].queries[n].queryList}(tn(),zo())}function wT(t,n,o){const c=new R0(4==(4&o));(function fr(t,n,o,c){const f=Em(n);f.push(o),t.firstCreatePass&&bm(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[lt]&&(n[lt]=new M0),n[lt].queries.push(new x0(c))}function AT(t,n,o){null===t.queries&&(t.queries=new O0),t.queries.track(new N0(n,o))}function DT(t,n){return t.queries.getByIndex(n)}function ST(t,n){return GE(t,n)}function k0(t){return!!pi(t)}const zT=new fn("Application Initializer");let $0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Gt(zT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const g=f();if(E(g))o.push(g);else if(j(g)){const C=new Promise((A,M)=>{g.subscribe({complete:A,error:M})});o.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const KE=new fn("LocaleId",{providedIn:"root",factory:()=>Gt(KE,Cn.Optional|Cn.SkipSelf)||function Nw(){return typeof $localize<"u"&&$localize.locale||_y}()}),Fw=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Lw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Vw=(()=>{class t{compileModuleSync(o){return new D0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),g=ad(pi(o).declarations).reduce((C,A)=>{const M=Mr(A);return M&&C.push(new If(M)),C},[]);return new Lw(c,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const QT=new fn(""),JT=new fn("");let H0,o1=(()=>{class t{constructor(o,c,f){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H0||(function a1(t){H0=t}(f),f.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(Ee(Io),Ee(ZT),Ee(JT))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac})}}return t})(),ZT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return H0?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),mg=null;const eC=new fn("AllowMultipleToken"),z0=new fn("PlatformDestroyListeners"),W0=new fn("appBootstrapListener");class u1{constructor(n,o){this.name=n,this.token=o}}function rC(t,n,o=[]){const c=`Platform: ${n}`,f=new fn(c);return(g=[])=>{let C=K0();if(!C||C.injector.get(eC,!1)){const A=[...o,...g,{provide:f,useValue:!0}];t?t(A):function d1(t){if(mg&&!mg.get(eC,!1))throw new we(400,!1);(function tC(){!function ka(t){Bo=t}(()=>{throw new we(600,!1)})})(),mg=t;const n=t.get(sC);(function nC(t){t.get($v,null)?.forEach(o=>o())})(t)}(function iC(t=[],n){return _c.create({name:n,providers:[{provide:Sp,useValue:"platform"},{provide:z0,useValue:new Set([()=>mg=null])},...t]})}(A,c))}return function f1(t){const n=K0();if(!n)throw new we(401,!1);return n}()}}function K0(){return mg?.get(sC)??null}let sC=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const f=function p1(t="zone.js",n){return"noop"===t?new z_:"zone.js"===t?new Io(n):t}(c?.ngZone,function oC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const g=function PI(t,n,o){return new A0(t,n,o)}(o.moduleType,this.injector,function dC(t){return[{provide:Io,useFactory:t},{provide:Is,multi:!0,useFactory:()=>{const n=Gt(m1,{optional:!0});return()=>n.initialize()}},{provide:uC,useFactory:g1},{provide:sE,useFactory:Jy}]}(()=>f)),C=g.injector.get(ul,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{C.handleError(M)}});g.onDestroy(()=>{YE(this._modules,g),A.unsubscribe()})}),function aC(t,n,o){try{const c=o();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,f,()=>{const A=g.injector.get($0);return A.runInitializers(),A.donePromise.then(()=>(function hb(t){dt(t,"Expected localeId to be defined"),"string"==typeof t&&(db=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(KE,_y)||_y),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,c=[]){const f=lC({},c);return function l1(t,n,o){const c=new D0(o);return Promise.resolve(c)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(o){const c=o.injector.get(Ey);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new we(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(z0,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(Ee(_c))}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function lC(t,n){return Array.isArray(n)?n.reduce(lC,t):{...t,...n}}let Ey=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gt(uC),this.zoneIsStable=Gt(sE),this.componentTypes=[],this.components=[],this.isStable=Gt(KT).hasPendingTasks.pipe((0,Te.n)(o=>o?(0,Ce.of)(!1):this.zoneIsStable),(0,xe.F)(),(0,De.u)()),this._injector=Gt(wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const f=o instanceof fm;if(!this._injector.get($0).done)throw!f&&Ms(o),new we(405,!1);let C;C=f?o:this._injector.get(mc).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const A=function c1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(zm),z=C.create(_c.NULL,[],c||C.selector,A),ce=z.location.nativeElement,Re=z.injector.get(QT,null);return Re?.registerApplication(ce),z.onDestroy(()=>{this.detachView(z.hostView),YE(this.components,z),Re?.unregisterApplication(ce)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;YE(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(W0,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>YE(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new we(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function YE(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const uC=new fn("",{providedIn:"root",factory:()=>Gt(ul).handleError.bind(void 0)});function g1(){const t=Gt(Io),n=Gt(ul);return o=>t.runOutsideAngular(()=>n.handleError(o))}let m1=(()=>{class t{constructor(){this.zone=Gt(Io),this.applicationRef=Gt(Ey)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function y1(){return!1}let v1=(()=>{class t{static{this.__NG_ELEMENT_ID__=E1}}return t})();function E1(t){return function b1(t,n,o){if(ms(t)&&!o){const c=Hi(t.index,n);return new oh(c,c)}return 47&t.type?new oh(n[Z],n):null}(Ss(),tn(),16==(16&t))}class mC{constructor(){}supports(n){return cu(n)}create(n){return new A1(n)}}const w1=(t,n)=>n;class A1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||w1}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,c=this._removalsHead,f=0,g=null;for(;o||c;){const C=!c||o&&o.currentIndex<yC(c,f,g)?o:c,A=yC(C,f,g),M=C.currentIndex;if(C===c)f--,c=c._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{g||(g=[]);const z=A-f,ce=M-f;if(z!=ce){for(let ot=0;ot<z;ot++){const vt=ot<g.length?g[ot]:g[ot]=0,Kt=vt+ot;ce<=Kt&&Kt<z&&(g[ot]=vt+1)}g[C.previousIndex]=ce-z}}A!==M&&n(C,A,M)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!cu(n))throw new we(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,o=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,g,C,A)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,C,A),c=!0),o=o._next}else f=0,function uu(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)n(c.value)}}(n,A=>{C=this._trackByFn(f,A),null!==o&&Object.is(o.trackById,C)?(c&&(o=this._verifyReinsertion(o,A,C,f)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,C,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,c,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,g,f)):n=this._addAfter(new D1(o,c),g,f),n}_verifyReinsertion(n,o,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,o,c),this._addToMoves(n,c),n}_moveAfter(n,o,c){return this._unlink(n),this._insertAfter(n,o,c),this._addToMoves(n,c),n}_addAfter(n,o,c){return this._insertAfter(n,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,c){const f=null===o?this._itHead:o._next;return n._next=f,n._prev=o,null===f?this._itTail=n:f._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new _C),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,c=n._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _C),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class D1{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const o=n._prevDup,c=n._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class _C{constructor(){this.map=new Map}put(n){const o=n.trackById;let c=this.map.get(o);c||(c=new S1,this.map.set(o,c)),c.add(n)}get(n,o){const f=this.map.get(n);return f?f.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yC(t,n,o){const c=t.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+n+f}class vC{constructor(){}supports(n){return n instanceof Map||zl(n)}create(){return new R1}}class R1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||zl(n)))throw new we(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const c=n._prev;return o._next=n,o._prev=c,n._prev=o,c&&(c._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,o);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const c=new P1(n);return this._records.set(n,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(c=>o(n[c],c))}}class P1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EC(){return new J0([new mC])}let J0=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:EC})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||EC()),deps:[[t,new Gu,new $l]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new we(901,!1)}}return t})();function bC(){return new Z0([new vC])}let Z0=(()=>{class t{static{this.\u0275prov=un({token:t,providedIn:"root",factory:bC})}constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||bC()),deps:[[t,new Gu,new $l]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(c)return c;throw new we(901,!1)}}return t})();const O1=rC(null,"core",[]);let N1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(Ee(Ey))}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=nn({})}}return t})();function z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function K1(t){const n=Mr(t);if(!n)return null;const o=new If(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(sn,Je,O)=>{O.d(Je,{DS:()=>zt,X8:()=>Yt,$z:()=>$t,UB:()=>wn,yy:()=>Ut,ZP:()=>ye,AU:()=>qe,CP:()=>Ft,gF:()=>Mt}),O(2438);var ae=O(177),r=O(7705),Ie=O(5407),le=O(9253),Ce=O(1413),De=O(7673),Te=O(1985),xe=O(8455),W=O(7786),J=O(941),_e=O(5558),Fe=O(6354),Ue=O(6129);class Xe extends Ce.B{constructor(ze=1/0,ct=1/0,ut=Ue.U){super(),this._bufferSize=ze,this._windowTime=ct,this._timestampProvider=ut,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ct===1/0,this._bufferSize=Math.max(1,ze),this._windowTime=Math.max(1,ct)}next(ze){const{isStopped:ct,_buffer:ut,_infiniteTimeWindow:Oe,_timestampProvider:ee,_windowTime:be}=this;ct||(ut.push(ze),!Oe&&ut.push(ee.now()+be)),this._trimBuffer(),super.next(ze)}_subscribe(ze){this._throwIfClosed(),this._trimBuffer();const ct=this._innerSubscribe(ze),{_infiniteTimeWindow:ut,_buffer:Oe}=this,ee=Oe.slice();for(let be=0;be<ee.length&&!ze.closed;be+=ut?1:2)ze.next(ee[be]);return this._checkFinalizedStatuses(ze),ct}_trimBuffer(){const{_bufferSize:ze,_timestampProvider:ct,_buffer:ut,_infiniteTimeWindow:Oe}=this,ee=(Oe?1:2)*ze;if(ze<1/0&&ee<ut.length&&ut.splice(0,ut.length-ee),!Oe){const be=ct.now();let Le=0;for(let dt=1;dt<ut.length&&ut[dt]<=be;dt+=2)Le=dt;Le&&ut.splice(0,Le+1)}}}var We=O(7647);function ge(_t,ze,ct){let ut,Oe=!1;return _t&&"object"==typeof _t?({bufferSize:ut=1/0,windowTime:ze=1/0,refCount:Oe=!1,scheduler:ct}=_t):ut=_t??1/0,(0,We.u)({connector:()=>new Xe(ut,ze,ct),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var Be=O(1594),Pt=O(8071);function Se(_t,ze){return(0,Pt.T)(ze)?(0,_e.n)(()=>_t,ze):(0,_e.n)(()=>_t)}var we=O(6745),at=O(5964),rt=O(7935);const Ft=new r.nKC("angularfire2.auth.use-emulator"),Ut=new r.nKC("angularfire2.auth.settings"),ye=new r.nKC("angularfire2.auth.tenant-id"),$t=new r.nKC("angularfire2.auth.langugage-code"),qe=new r.nKC("angularfire2.auth.use-device-language"),wn=new r.nKC("angularfire.auth.persistence"),Mt=(_t,ze,ct,ut,Oe,ee,be,Le)=>(0,le.BM)(`${_t.name}.auth`,"AngularFireAuth",_t.name,()=>{const dt=ze.runOutsideAngular(()=>_t.auth());if(ct&&dt.useEmulator(...ct),ut&&(dt.tenantId=ut),dt.languageCode=Oe,ee&&dt.useDeviceLanguage(),be)for(const[it,Bt]of Object.entries(be))dt.settings[it]=Bt;return Le&&dt.setPersistence(Le),dt},[ct,ut,Oe,ee,be,Le]);let zt=(()=>{class _t{authState;idToken;user;idTokenResult;credential;constructor(ct,ut,Oe,ee,be,Le,dt,it,Bt,Rn,lr,un){const kn=new Ce.B,nn=(0,De.of)(void 0).pipe((0,J.Q)(be.outsideAngular),(0,_e.n)(()=>ee.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,Fe.T)(()=>(0,le.iB)(ct,ee,ut)),(0,Fe.T)(Qn=>Mt(Qn,ee,Le,it,Bt,Rn,dt,lr)),ge({bufferSize:1,refCount:!1}));if((0,ae.Vy)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,De.of)(null);else{nn.pipe((0,Be.$)()).subscribe();const Qn=nn.pipe((0,_e.n)(qt=>qt.getRedirectResult().then(yr=>yr,()=>null)),Ie.U0,ge({bufferSize:1,refCount:!1})),Ln=nn.pipe((0,_e.n)(qt=>new Te.c(yr=>({unsubscribe:ee.runOutsideAngular(()=>qt.onAuthStateChanged(en=>yr.next(en),en=>yr.error(en),()=>yr.complete()))})))),Jt=nn.pipe((0,_e.n)(qt=>new Te.c(yr=>({unsubscribe:ee.runOutsideAngular(()=>qt.onIdTokenChanged(en=>yr.next(en),en=>yr.error(en),()=>yr.complete()))}))));this.authState=Qn.pipe(Se(Ln),(0,we._)(be.outsideAngular),(0,J.Q)(be.insideAngular)),this.user=Qn.pipe(Se(Jt),(0,we._)(be.outsideAngular),(0,J.Q)(be.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(qt=>qt?(0,xe.H)(qt.getIdToken()):(0,De.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(qt=>qt?(0,xe.H)(qt.getIdTokenResult()):(0,De.of)(null))),this.credential=(0,W.h)(Qn,kn,this.authState.pipe((0,at.p)(qt=>!qt))).pipe((0,Fe.T)(qt=>qt?.user?qt:null),(0,we._)(be.outsideAngular),(0,J.Q)(be.insideAngular))}return(0,le.Gt)(this,nn,ee,{spy:{apply:(Qn,Ln,Jt)=>{(Qn.startsWith("signIn")||Qn.startsWith("createUser"))&&Jt.then(qt=>kn.next(qt))}}})}static \u0275fac=function(ut){return new(ut||_t)(r.KVO(le.rx),r.KVO(le.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(Ie.u0),r.KVO(Ft,8),r.KVO(Ut,8),r.KVO(ye,8),r.KVO($t,8),r.KVO(qe,8),r.KVO(wn,8),r.KVO(Ie.Jv,8))};static \u0275prov=r.jDH({token:_t,factory:_t.\u0275fac,providedIn:"any"})}return _t})(),Yt=(()=>{class _t{constructor(){rt.A.registerVersion("angularfire",Ie.xv.full,"auth-compat")}static \u0275fac=function(ut){return new(ut||_t)};static \u0275mod=r.$C({type:_t});static \u0275inj=r.G2t({providers:[zt]})}return _t})()},6340:(sn,Je,O)=>{O.d(Je,{Qe:()=>Ti,cM:()=>ht});var i=O(177),ae=O(7705),r=O(5407),Ie=O(9253),le=O(1977),Ce=O(3236),De=O(1985),Te=O(8455),xe=O(7673),W=O(9172),J=O(9974),_e=O(4360);function Fe(){return(0,J.N)((yt,he)=>{let je,Ot=!1;yt.subscribe((0,_e._)(he,Wt=>{const Pn=je;je=Wt,Ot&&he.next([Pn,Wt]),Ot=!0}))})}var Ue=O(6354),Xe=O(2816),We=O(3294),ge=O(5964),Pt=(O(2438),O(3345)),Se=O(9583),we=O(1076),at=O(1362);function Ft(yt,he){if(void 0===he)return{merge:!1};if(void 0!==he.mergeFields&&void 0!==he.merge)throw new Se.W6("invalid-argument",`Invalid options passed to function ${yt}(): You cannot specify both "merge" and "mergeFields".`);return he}function Ut(){if(typeof Uint8Array>"u")throw new Se.W6("unimplemented","Uint8Arrays are not available in this environment.")}function ye(){if(!(0,Se.qG)())throw new Se.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $t{constructor(he){this._delegate=he}static fromBase64String(he){return ye(),new $t(Se.Ix.fromBase64String(he))}static fromUint8Array(he){return Ut(),new $t(Se.Ix.fromUint8Array(he))}toBase64(){return ye(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(he){return this._delegate.isEqual(he._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qe(yt){return function wn(yt,he){if("object"!=typeof yt||null===yt)return!1;const je=yt;for(const Ot of he)if(Ot in je&&"function"==typeof je[Ot])return!0;return!1}(yt,["next","error","complete"])}class Mt{enableIndexedDbPersistence(he,je){return(0,Se.ol)(he._delegate,{forceOwnership:je})}enableMultiTabIndexedDbPersistence(he){return(0,Se.Q5)(he._delegate)}clearIndexedDbPersistence(he){return(0,Se.me)(he._delegate)}}class zt{constructor(he,je,Ot){this._delegate=je,this._persistenceProvider=Ot,this.INTERNAL={delete:()=>this.terminate()},he instanceof Se.cm||(this._appCompat=he)}get _databaseId(){return this._delegate._databaseId}settings(he){const je=this._delegate._getSettings();!he.merge&&je.host!==he.host&&(0,Se.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),he.merge&&delete(he=Object.assign(Object.assign({},je),he)).merge,this._delegate._setSettings(he)}useEmulator(he,je,Ot={}){(0,Se.vN)(this._delegate,he,je,Ot)}enableNetwork(){return(0,Se.Os)(this._delegate)}disableNetwork(){return(0,Se.LA)(this._delegate)}enablePersistence(he){let je=!1,Ot=!1;return he&&(je=!!he.synchronizeTabs,Ot=!!he.experimentalForceOwningTab,(0,Se.c8)("synchronizeTabs",je,"experimentalForceOwningTab",Ot)),je?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ot)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Se.iB)(this._delegate)}onSnapshotsInSync(he){return(0,Se.FC)(this._delegate,he)}get app(){if(!this._appCompat)throw new Se.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(he){try{return new un(this,(0,Se.rJ)(this._delegate,he))}catch(je){throw ee(je,"collection()","Firestore.collection()")}}doc(he){try{return new Oe(this,(0,Se.H9)(this._delegate,he))}catch(je){throw ee(je,"doc()","Firestore.doc()")}}collectionGroup(he){try{return new Bt(this,(0,Se.Cs)(this._delegate,he))}catch(je){throw ee(je,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(he){return(0,Se.c4)(this._delegate,je=>he(new ze(this,je)))}batch(){return(0,Se.Ws)(this._delegate),new ct(new Se.GA(this._delegate,he=>(0,Se.z6)(this._delegate,he)))}loadBundle(he){return(0,Se.po)(this._delegate,he)}namedQuery(he){return(0,Se.St)(this._delegate,he).then(je=>je?new Bt(this,je):null)}}class Yt extends Se.fS{constructor(he){super(),this.firestore=he}convertBytes(he){return new $t(new Se.Ix(he))}convertReference(he){const je=this.convertDocumentKey(he,this.firestore._databaseId);return Oe.forKey(je,this.firestore,null)}}class ze{constructor(he,je){this._firestore=he,this._delegate=je,this._userDataWriter=new Yt(he)}get(he){const je=kn(he);return this._delegate.get(je).then(Ot=>new dt(this._firestore,new Se.Wq(this._firestore._delegate,this._userDataWriter,Ot._key,Ot._document,Ot.metadata,je.converter)))}set(he,je,Ot){const Wt=kn(he);return Ot?(Ft("Transaction.set",Ot),this._delegate.set(Wt,je,Ot)):this._delegate.set(Wt,je),this}update(he,je,Ot,...Wt){const Pn=kn(he);return 2===arguments.length?this._delegate.update(Pn,je):this._delegate.update(Pn,je,Ot,...Wt),this}delete(he){const je=kn(he);return this._delegate.delete(je),this}}class ct{constructor(he){this._delegate=he}set(he,je,Ot){const Wt=kn(he);return Ot?(Ft("WriteBatch.set",Ot),this._delegate.set(Wt,je,Ot)):this._delegate.set(Wt,je),this}update(he,je,Ot,...Wt){const Pn=kn(he);return 2===arguments.length?this._delegate.update(Pn,je):this._delegate.update(Pn,je,Ot,...Wt),this}delete(he){const je=kn(he);return this._delegate.delete(je),this}commit(){return this._delegate.commit()}}class ut{constructor(he,je,Ot){this._firestore=he,this._userDataWriter=je,this._delegate=Ot}fromFirestore(he,je){const Ot=new Se.YQ(this._firestore._delegate,this._userDataWriter,he._key,he._document,he.metadata,null);return this._delegate.fromFirestore(new it(this._firestore,Ot),je??{})}toFirestore(he,je){return je?this._delegate.toFirestore(he,je):this._delegate.toFirestore(he)}static getInstance(he,je){const Ot=ut.INSTANCES;let Wt=Ot.get(he);Wt||(Wt=new WeakMap,Ot.set(he,Wt));let Pn=Wt.get(je);return Pn||(Pn=new ut(he,new Yt(he),je),Wt.set(je,Pn)),Pn}}ut.INSTANCES=new WeakMap;class Oe{constructor(he,je){this.firestore=he,this._delegate=je,this._userDataWriter=new Yt(he)}static forPath(he,je,Ot){if(he.length%2!=0)throw new Se.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${he.canonicalString()} has ${he.length}`);return new Oe(je,new Se.T1(je._delegate,Ot,new Se.K$(he)))}static forKey(he,je,Ot){return new Oe(je,new Se.T1(je._delegate,Ot,he))}get id(){return this._delegate.id}get parent(){return new un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(he){try{return new un(this.firestore,(0,Se.rJ)(this._delegate,he))}catch(je){throw ee(je,"collection()","DocumentReference.collection()")}}isEqual(he){return(he=(0,we.Ku)(he))instanceof Se.T1&&(0,Se.yx)(this._delegate,he)}set(he,je){je=Ft("DocumentReference.set",je);try{return je?(0,Se.BN)(this._delegate,he,je):(0,Se.BN)(this._delegate,he)}catch(Ot){throw ee(Ot,"setDoc()","DocumentReference.set()")}}update(he,je,...Ot){try{return 1===arguments.length?(0,Se.mZ)(this._delegate,he):(0,Se.mZ)(this._delegate,he,je,...Ot)}catch(Wt){throw ee(Wt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Se.kd)(this._delegate)}onSnapshot(...he){const je=be(he),Ot=Le(he,Wt=>new dt(this.firestore,new Se.Wq(this.firestore._delegate,this._userDataWriter,Wt._key,Wt._document,Wt.metadata,this._delegate.converter)));return(0,Se.aQ)(this._delegate,je,Ot)}get(he){let je;return je="cache"===he?.source?(0,Se.nY)(this._delegate):"server"===he?.source?(0,Se._e)(this._delegate):(0,Se.x7)(this._delegate),je.then(Ot=>new dt(this.firestore,new Se.Wq(this.firestore._delegate,this._userDataWriter,Ot._key,Ot._document,Ot.metadata,this._delegate.converter)))}withConverter(he){return new Oe(this.firestore,this._delegate.withConverter(he?ut.getInstance(this.firestore,he):null))}}function ee(yt,he,je){return yt.message=yt.message.replace(he,je),yt}function be(yt){for(const he of yt)if("object"==typeof he&&!qe(he))return he;return{}}function Le(yt,he){var je,Ot;let Wt;return Wt=qe(yt[0])?yt[0]:qe(yt[1])?yt[1]:"function"==typeof yt[0]?{next:yt[0],error:yt[1],complete:yt[2]}:{next:yt[1],error:yt[2],complete:yt[3]},{next:Pn=>{Wt.next&&Wt.next(he(Pn))},error:null===(je=Wt.error)||void 0===je?void 0:je.bind(Wt),complete:null===(Ot=Wt.complete)||void 0===Ot?void 0:Ot.bind(Wt)}}class dt{constructor(he,je){this._firestore=he,this._delegate=je}get ref(){return new Oe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(he){return this._delegate.data(he)}get(he,je){return this._delegate.get(he,je)}isEqual(he){return(0,Se.lN)(this._delegate,he._delegate)}}class it extends dt{data(he){const je=this._delegate.data(he);return this._delegate._converter||(0,Se.bI)(void 0!==je,"Document in a QueryDocumentSnapshot should exist"),je}}class Bt{constructor(he,je){this.firestore=he,this._delegate=je,this._userDataWriter=new Yt(he)}where(he,je,Ot){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se._M)(he,je,Ot)))}catch(Wt){throw ee(Wt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(he,je){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.My)(he,je)))}catch(Ot){throw ee(Ot,/(orderBy|where)\(\)/,"Query.$1()")}}limit(he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.AB)(he)))}catch(je){throw ee(je,"limit()","Query.limit()")}}limitToLast(he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.$1)(he)))}catch(je){throw ee(je,"limitToLast()","Query.limitToLast()")}}startAt(...he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.EO)(...he)))}catch(je){throw ee(je,"startAt()","Query.startAt()")}}startAfter(...he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.HM)(...he)))}catch(je){throw ee(je,"startAfter()","Query.startAfter()")}}endBefore(...he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.rf)(...he)))}catch(je){throw ee(je,"endBefore()","Query.endBefore()")}}endAt(...he){try{return new Bt(this.firestore,(0,Se.P)(this._delegate,(0,Se.FD)(...he)))}catch(je){throw ee(je,"endAt()","Query.endAt()")}}isEqual(he){return(0,Se.B)(this._delegate,he._delegate)}get(he){let je;return je="cache"===he?.source?(0,Se.kU)(this._delegate):"server"===he?.source?(0,Se.Rr)(this._delegate):(0,Se.GG)(this._delegate),je.then(Ot=>new lr(this.firestore,new Se.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ot._snapshot)))}onSnapshot(...he){const je=be(he),Ot=Le(he,Wt=>new lr(this.firestore,new Se.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Wt._snapshot)));return(0,Se.aQ)(this._delegate,je,Ot)}withConverter(he){return new Bt(this.firestore,this._delegate.withConverter(he?ut.getInstance(this.firestore,he):null))}}class Rn{constructor(he,je){this._firestore=he,this._delegate=je}get type(){return this._delegate.type}get doc(){return new it(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lr{constructor(he,je){this._firestore=he,this._delegate=je}get query(){return new Bt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(he=>new it(this._firestore,he))}docChanges(he){return this._delegate.docChanges(he).map(je=>new Rn(this._firestore,je))}forEach(he,je){this._delegate.forEach(Ot=>{he.call(je,new it(this._firestore,Ot))})}isEqual(he){return(0,Se.lN)(this._delegate,he._delegate)}}class un extends Bt{constructor(he,je){super(he,je),this.firestore=he,this._delegate=je}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const he=this._delegate.parent;return he?new Oe(this.firestore,he):null}doc(he){try{return new Oe(this.firestore,void 0===he?(0,Se.H9)(this._delegate):(0,Se.H9)(this._delegate,he))}catch(je){throw ee(je,"doc()","CollectionReference.doc()")}}add(he){return(0,Se.gS)(this._delegate,he).then(je=>new Oe(this.firestore,je))}isEqual(he){return(0,Se.yx)(this._delegate,he._delegate)}withConverter(he){return new un(this.firestore,this._delegate.withConverter(he?ut.getInstance(this.firestore,he):null))}}function kn(yt){return(0,Se.lo)(yt,Se.T1)}class nn{constructor(...he){this._delegate=new Se.uY(...he)}static documentId(){return new nn(Se.FA.keyField().canonicalString())}isEqual(he){return(he=(0,we.Ku)(he))instanceof Se.uY&&this._delegate._internalPath.isEqual(he._internalPath)}}class Qn{constructor(he){this._delegate=he}static serverTimestamp(){const he=(0,Se.O5)();return he._methodName="FieldValue.serverTimestamp",new Qn(he)}static delete(){const he=(0,Se.CL)();return he._methodName="FieldValue.delete",new Qn(he)}static arrayUnion(...he){const je=(0,Se.hq)(...he);return je._methodName="FieldValue.arrayUnion",new Qn(je)}static arrayRemove(...he){const je=(0,Se.C3)(...he);return je._methodName="FieldValue.arrayRemove",new Qn(je)}static increment(he){const je=(0,Se.GV)(he);return je._methodName="FieldValue.increment",new Qn(je)}isEqual(he){return this._delegate.isEqual(he._delegate)}}const Ln={Firestore:zt,GeoPoint:Se.Ci,Timestamp:Se.Dc,Blob:$t,Transaction:ze,WriteBatch:ct,DocumentReference:Oe,DocumentSnapshot:dt,Query:Bt,QueryDocumentSnapshot:it,QuerySnapshot:lr,CollectionReference:un,FieldPath:nn,FieldValue:Qn,setLogLevel:function _t(yt){(0,Se.He)(yt)},CACHE_SIZE_UNLIMITED:Se.H6};!function qt(yt){(function Jt(yt,he){yt.INTERNAL.registerComponent(new at.uA("firestore-compat",je=>{const Ot=je.getProvider("app-compat").getImmediate(),Wt=je.getProvider("firestore").getImmediate();return he(Ot,Wt)},"PUBLIC").setServiceProps(Object.assign({},Ln)))})(yt,(he,je)=>new zt(he,je,new Mt)),yt.registerVersion("@firebase/firestore-compat","0.3.38")}(Pt.A);var yr=O(7935);function or(yt,he){return function en(yt,he=Ce.E){return new De.c(je=>{let Ot;return null!=he?he.schedule(()=>{Ot=yt.onSnapshot({includeMetadataChanges:!0},je)}):Ot=yt.onSnapshot({includeMetadataChanges:!0},je),()=>{Ot?.()}})}(yt,he)}function Vt(yt,he){return or(yt,he).pipe((0,Ue.T)(je=>({payload:je,type:"query"})))}class Cn{ref;afs;constructor(he,je){this.ref=he,this.afs=je}set(he,je){return this.ref.set(he,je)}update(he){return this.ref.update(he)}delete(){return this.ref.delete()}collection(he,je){const Ot=this.ref.collection(he),{ref:Wt,query:Pn}=Wn(Ot,je);return new Wr(Wt,Pn,this.afs)}snapshotChanges(){return function Un(yt,he){return or(yt,he).pipe((0,W.Z)(void 0),Fe(),(0,Ue.T)(je=>{const[Ot,Wt]=je;return Wt.exists?Ot?.exists?{payload:Wt,type:"modified"}:{payload:Wt,type:"added"}:{payload:Wt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return this.snapshotChanges().pipe((0,Ue.T)(({payload:je})=>he.idField?{...je.data(),[he.idField]:je.id}:je.data()))}get(he){return(0,Te.H)(this.ref.get(he)).pipe(r.U0)}}function jn(yt,he){return Vt(yt,he).pipe((0,W.Z)(void 0),Fe(),(0,Ue.T)(je=>{const[Ot,Wt]=je,Pn=Wt.payload.docChanges(),Pr=Pn.map(nr=>({type:nr.type,payload:nr}));return Ot&&JSON.stringify(Ot.payload.metadata)!==JSON.stringify(Wt.payload.metadata)&&Wt.payload.docs.forEach((nr,ei)=>{const Rt=Pn.find(x=>x.doc.ref.isEqual(nr.ref)),G=Ot?.payload.docs.find(x=>x.ref.isEqual(nr.ref));Rt&&JSON.stringify(Rt.doc.metadata)===JSON.stringify(nr.metadata)||!Rt&&G&&JSON.stringify(G.metadata)===JSON.stringify(nr.metadata)||Pr.push({type:"modified",payload:{oldIndex:ei,newIndex:ei,type:"modified",doc:nr}})}),Pr}))}function In(yt,he,je){return jn(yt,je).pipe((0,Xe.S)((Ot,Wt)=>function Rr(yt,he,je){return he.forEach(Ot=>{je.indexOf(Ot.type)>-1&&(yt=function Ur(yt,he){switch(he.type){case"added":if(!yt[he.newIndex]||!yt[he.newIndex].doc.ref.isEqual(he.doc.ref))return Dr(yt,he.newIndex,0,he);break;case"modified":if(null==yt[he.oldIndex]||yt[he.oldIndex].doc.ref.isEqual(he.doc.ref)){if(he.oldIndex!==he.newIndex){const je=yt.slice();return je.splice(he.oldIndex,1),je.splice(he.newIndex,0,he),je}return Dr(yt,he.newIndex,1,he)}break;case"removed":if(yt[he.oldIndex]&&yt[he.oldIndex].doc.ref.isEqual(he.doc.ref))return Dr(yt,he.oldIndex,1)}return yt}(yt,Ot))}),yt}(Ot,Wt.map(Pn=>Pn.payload),he),[]),(0,We.F)(),(0,Ue.T)(Ot=>Ot.map(Wt=>({type:Wt.type,payload:Wt}))))}function Dr(yt,he,je,...Ot){const Wt=yt.slice();return Wt.splice(he,je,...Ot),Wt}function zn(yt){return(!yt||0===yt.length)&&(yt=["added","removed","modified"]),yt}class Wr{ref;query;afs;constructor(he,je,Ot){this.ref=he,this.query=je,this.afs=Ot}stateChanges(he){let je=jn(this.query,this.afs.schedulers.outsideAngular);return he&&he.length>0&&(je=je.pipe((0,Ue.T)(Ot=>Ot.filter(Wt=>he.indexOf(Wt.type)>-1)))),je.pipe((0,W.Z)(void 0),Fe(),(0,ge.p)(([Ot,Wt])=>Wt.length>0||!Ot),(0,Ue.T)(([,Ot])=>Ot),r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,Xe.S)((je,Ot)=>[...je,...Ot],[]))}snapshotChanges(he){const je=zn(he);return In(this.query,je,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.T)(je=>je.payload.docs.map(Ot=>he.idField?{...Ot.data(),[he.idField]:Ot.id}:Ot.data())),r.U0)}get(he){return(0,Te.H)(this.query.get(he)).pipe(r.U0)}add(he){return this.ref.add(he)}doc(he){return new Cn(this.ref.doc(he),this.afs)}}class es{query;afs;constructor(he,je){this.query=he,this.afs=je}stateChanges(he){return he&&0!==he.length?jn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.T)(je=>je.filter(Ot=>he.indexOf(Ot.type)>-1)),(0,ge.p)(je=>je.length>0),r.U0):jn(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,Xe.S)((je,Ot)=>[...je,...Ot],[]))}snapshotChanges(he){const je=zn(he);return In(this.query,je,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Vt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ue.T)(Ot=>Ot.payload.docs.map(Wt=>he.idField?{[he.idField]:Wt.id,...Wt.data()}:Wt.data())),r.U0)}get(he){return(0,Te.H)(this.query.get(he)).pipe(r.U0)}}const fn=new ae.nKC("angularfire2.enableFirestorePersistence"),Kr=new ae.nKC("angularfire2.firestore.persistenceSettings"),tr=new ae.nKC("angularfire2.firestore.settings"),vr=new ae.nKC("angularfire2.firestore.use-emulator");function Wn(yt,he=(je=>je)){return{query:he(yt),ref:yt}}let Ti=(()=>{class yt{schedulers;firestore;persistenceEnabled$;constructor(je,Ot,Wt,Pn,Pr,nr,ei,Rt,G,x,k,$,se,ne,Ee,gt,Gt){this.schedulers=ei;const pn=(0,Ie.iB)(je,nr,Ot),_r=G;x&&(0,le.gF)(pn,nr,k,se,ne,Ee,$,gt),[this.firestore,this.persistenceEnabled$]=(0,Ie.BM)(`${pn.name}.firestore`,"AngularFirestore",pn.name,()=>{const Ne=nr.runOutsideAngular(()=>pn.firestore());if(Pn&&Ne.settings(Pn),_r&&Ne.useEmulator(..._r),Wt&&!(0,i.Vy)(Pr)){const $e=()=>{try{return(0,Te.H)(Ne.enablePersistence(Rt||void 0).then(()=>!0,()=>!1))}catch(Ye){return typeof console<"u"&&console.warn(Ye),(0,xe.of)(!1)}};return[Ne,nr.runOutsideAngular($e)]}return[Ne,(0,xe.of)(!1)]},[Pn,_r,Wt])}collection(je,Ot){let Wt;Wt="string"==typeof je?this.firestore.collection(je):je;const{ref:Pn,query:Pr}=Wn(Wt,Ot),nr=this.schedulers.ngZone.run(()=>Pn);return new Wr(nr,Pr,this)}collectionGroup(je,Ot){const Wt=Ot||(Pr=>Pr),Pn=this.firestore.collectionGroup(je);return new es(Wt(Pn),this)}doc(je){let Ot;Ot="string"==typeof je?this.firestore.doc(je):je;const Wt=this.schedulers.ngZone.run(()=>Ot);return new Cn(Wt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Ot){return new(Ot||yt)(ae.KVO(Ie.rx),ae.KVO(Ie.uP,8),ae.KVO(fn,8),ae.KVO(tr,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(r.u0),ae.KVO(Kr,8),ae.KVO(vr,8),ae.KVO(le.DS,8),ae.KVO(le.CP,8),ae.KVO(le.yy,8),ae.KVO(le.ZP,8),ae.KVO(le.$z,8),ae.KVO(le.AU,8),ae.KVO(le.UB,8),ae.KVO(r.Jv,8))};static \u0275prov=ae.jDH({token:yt,factory:yt.\u0275fac,providedIn:"any"})}return yt})(),ht=(()=>{class yt{constructor(){yr.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(je){return{ngModule:yt,providers:[{provide:fn,useValue:!0},{provide:Kr,useValue:je}]}}static \u0275fac=function(Ot){return new(Ot||yt)};static \u0275mod=ae.$C({type:yt});static \u0275inj=ae.G2t({providers:[Ti]})}return yt})()},8721:(sn,Je,O)=>{O.d(Je,{ap:()=>ze,y5:()=>Oe});var i=O(5407),ae=O(1985),r=O(7673),Ie=O(8455),le=O(3236),Ce=O(9974),De=O(4360),xe=O(6354),W=O(5558),J=O(7705),_e=O(9253),Fe=O(3345),Ue=O(4535),Xe=O(1362);class We{constructor(be,Le,dt){this._delegate=be,this.task=Le,this.ref=dt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ge{constructor(be,Le){this._delegate=be,this._ref=Le,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new We(this._delegate.snapshot,this,this._ref)}then(be,Le){return this._delegate.then(dt=>{if(be)return be(new We(dt,this,this._ref))},Le)}on(be,Le,dt,it){let Bt;return Le&&(Bt="function"==typeof Le?Rn=>Le(new We(Rn,this,this._ref)):{next:Le.next?Rn=>Le.next(new We(Rn,this,this._ref)):void 0,complete:Le.complete||void 0,error:Le.error||void 0}),this._delegate.on(be,Bt,dt||void 0,it||void 0)}}class Be{constructor(be,Le){this._delegate=be,this._service=Le}get prefixes(){return this._delegate.prefixes.map(be=>new Pt(be,this._service))}get items(){return this._delegate.items.map(be=>new Pt(be,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pt{constructor(be,Le){this._delegate=be,this.storage=Le}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(be){const Le=(0,Ue.Mp)(this._delegate,be);return new Pt(Le,this.storage)}get root(){return new Pt(this._delegate.root,this.storage)}get parent(){const be=this._delegate.parent;return null==be?null:new Pt(be,this.storage)}put(be,Le){return this._throwIfRoot("put"),new ge((0,Ue.bp)(this._delegate,be,Le),this)}putString(be,Le=Ue.nw.RAW,dt){this._throwIfRoot("putString");const it=(0,Ue.ZH)(Le,be),Bt=Object.assign({},dt);return null==Bt.contentType&&null!=it.contentType&&(Bt.contentType=it.contentType),new ge(new Ue.UC(this._delegate,new Ue.Mx(it.data,!0),Bt),this)}listAll(){return(0,Ue._w)(this._delegate).then(be=>new Be(be,this.storage))}list(be){return(0,Ue.p_)(this._delegate,be||void 0).then(Le=>new Be(Le,this.storage))}getMetadata(){return(0,Ue.yb)(this._delegate)}updateMetadata(be){return(0,Ue.D5)(this._delegate,be)}getDownloadURL(){return(0,Ue.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ue.XR)(this._delegate)}_throwIfRoot(be){if(""===this._delegate._location.path)throw(0,Ue.UY)(be)}}class Se{constructor(be,Le){this.app=be,this._delegate=Le}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(be){if(we(be))throw(0,Ue.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Pt((0,Ue.KR)(this._delegate,be),this)}refFromURL(be){if(!we(be))throw(0,Ue.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ue.TZ.makeFromUrl(be,this._delegate.host)}catch{throw(0,Ue.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pt((0,Ue.KR)(this._delegate,be),this)}setMaxUploadRetryTime(be){this._delegate.maxUploadRetryTime=be}setMaxOperationRetryTime(be){this._delegate.maxOperationRetryTime=be}useEmulator(be,Le,dt={}){(0,Ue.nb)(this._delegate,be,Le,dt)}}function we(ee){return/^[A-Za-z]+:\/\//.test(ee)}function Ft(ee,{instanceIdentifier:be}){const Le=ee.getProvider("app-compat").getImmediate(),dt=ee.getProvider("storage").getImmediate({identifier:be});return new Se(Le,dt)}!function Ut(ee){const be={TaskState:Ue.Ad,TaskEvent:Ue.xc,StringFormat:Ue.nw,Storage:Se,Reference:Pt};ee.INTERNAL.registerComponent(new Xe.uA("storage-compat",Ft,"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),ee.registerVersion("@firebase/storage-compat","0.3.12")}(Fe.A);var ye=O(7935);function qe(ee){const be=function $t(ee){return new ae.c(be=>{const Le=Rn=>be.next(Rn);Le(ee.snapshot);const Bt=ee.on("state_changed",Le);return ee.then(Rn=>{Le(Rn),be.complete()},Rn=>{Le(ee.snapshot),(Rn=>{be.error(Rn)})(Rn)}),function(){Bt()}}).pipe(function Te(ee,be=le.E){return(0,Ce.N)((Le,dt)=>{let it=null,Bt=null,Rn=null;const lr=()=>{if(it){it.unsubscribe(),it=null;const kn=Bt;Bt=null,dt.next(kn)}};function un(){const kn=Rn+ee,nn=be.now();if(nn<kn)return it=this.schedule(void 0,kn-nn),void dt.add(it);lr()}Le.subscribe((0,De._)(dt,kn=>{Bt=kn,Rn=be.now(),it||(it=be.schedule(un,ee),dt.add(it))},()=>{lr(),dt.complete()},void 0,()=>{Bt=it=null}))})}(0))}(ee);return{task:ee,then:ee.then.bind(ee),catch:ee.catch.bind(ee),pause:ee.pause.bind(ee),cancel:ee.cancel.bind(ee),resume:ee.resume.bind(ee),snapshotChanges:()=>be,percentageChanges:()=>be.pipe((0,xe.T)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function wn(ee){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(i.Oe,(0,W.n)(()=>ee.getDownloadURL()),i.U0),getMetadata:()=>(0,r.of)(void 0).pipe(i.Oe,(0,W.n)(()=>ee.getMetadata()),i.U0),delete:()=>(0,Ie.H)(ee.delete()),child:be=>wn(ee.child(be)),updateMetadata:be=>(0,Ie.H)(ee.updateMetadata(be)),put:(be,Le)=>qe(ee.put(be,Le)),putString:(be,Le,dt)=>qe(ee.putString(be,Le,dt)),list:be=>(0,Ie.H)(ee.list(be)),listAll:()=>(0,Ie.H)(ee.listAll())}}const Mt=new J.nKC("angularfire2.storageBucket"),zt=new J.nKC("angularfire2.storage.maxUploadRetryTime"),Yt=new J.nKC("angularfire2.storage.maxOperationRetryTime"),_t=new J.nKC("angularfire2.storage.use-emulator");let ze=(()=>{class ee{storage;constructor(Le,dt,it,Bt,Rn,lr,un,kn,nn,Qn){const Ln=(0,_e.iB)(Le,Rn,dt);this.storage=(0,_e.BM)(`${Ln.name}.storage.${it}`,"AngularFireStorage",Ln.name,()=>{const Jt=Rn.runOutsideAngular(()=>Ln.storage(it||void 0)),qt=nn;return qt&&Jt.useEmulator(...qt),un&&Jt.setMaxUploadRetryTime(un),kn&&Jt.setMaxOperationRetryTime(kn),Jt},[un,kn])}ref(Le){return wn(this.storage.ref(Le))}refFromURL(Le){return wn(this.storage.refFromURL(Le))}upload(Le,dt,it){return wn(this.storage.ref(Le)).put(dt,it)}static \u0275fac=function(dt){return new(dt||ee)(J.KVO(_e.rx),J.KVO(_e.uP,8),J.KVO(Mt,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(i.u0),J.KVO(zt,8),J.KVO(Yt,8),J.KVO(_t,8),J.KVO(i.Jv,8))};static \u0275prov=J.jDH({token:ee,factory:ee.\u0275fac,providedIn:"any"})}return ee})(),ut=(()=>{class ee{static \u0275fac=function(dt){return new(dt||ee)};static \u0275mod=J.$C({type:ee});static \u0275inj=J.G2t({})}return ee})(),Oe=(()=>{class ee{constructor(){ye.A.registerVersion("angularfire",i.xv.full,"gcs-compat")}static \u0275fac=function(dt){return new(dt||ee)};static \u0275mod=J.$C({type:ee});static \u0275inj=J.G2t({providers:[ze],imports:[ut]})}return ee})()},9253:(sn,Je,O)=>{O.d(Je,{BM:()=>Ue,Gt:()=>le,bf:()=>Fe,e7:()=>Ce,iB:()=>W,rx:()=>Te,uP:()=>xe});var i=O(7705),ae=O(5407),r=O(7935);const Ie=["ngOnDestroy"],le=(Be,Pt,Se,we={})=>new Proxy(Be,{get:(at,rt)=>Se.runOutsideAngular(()=>{if(Be[rt])return we?.spy?.get&&we.spy.get(rt,Be[rt]),Be[rt];if(Ie.indexOf(rt)>-1)return()=>{};const ft=Pt.toPromise().then(Ft=>{const Ut=Ft?.[rt];return"function"==typeof Ut?Ut.bind(Ft):Ut?.then?Ut.then(ye=>Se.run(()=>ye)):Se.run(()=>Ut)});return new Proxy(()=>{},{get:(Ft,Ut)=>ft[Ut],apply:(Ft,Ut,ye)=>ft.then($t=>{const qe=$t?.(...ye);return we?.spy?.apply&&we.spy.apply(rt,ye,qe),qe})})})}),Ce=(Be,Pt)=>{Pt.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(we=>{Object.defineProperty(Be.prototype,we,Object.getOwnPropertyDescriptor(Se.prototype||Se,we))})})};class De{constructor(Pt){return Pt}}const Te=new i.nKC("angularfire2.app.options"),xe=new i.nKC("angularfire2.app.name");function W(Be,Pt,Se){const at="object"==typeof Se&&Se||{};at.name=at.name||"string"==typeof Se&&Se||"[DEFAULT]";const ft=r.A.apps.filter(Ft=>Ft&&Ft.name===at.name)[0]||Pt.runOutsideAngular(()=>r.A.initializeApp(Be,at));try{if(JSON.stringify(Be)!==JSON.stringify(ft.options)){const Ft=!!module.hot;J("error",`${ft.name} Firebase App already initialized with different options${Ft?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new De(ft)}const J=(Be,...Pt)=>{(0,i.naY)()&&typeof console<"u"&&console[Be](...Pt)},_e={provide:De,useFactory:W,deps:[Te,i.SKi,[new i.Xx1,xe]]};let Fe=(()=>{class Be{static initializeApp(Se,we){return{ngModule:Be,providers:[{provide:Te,useValue:Se},{provide:xe,useValue:we}]}}constructor(Se){r.A.registerVersion("angularfire",ae.xv.full,"core"),r.A.registerVersion("angularfire",ae.xv.full,"app-compat"),r.A.registerVersion("angular",i.xvI.full,Se.toString())}static \u0275fac=function(we){return new(we||Be)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:Be});static \u0275inj=i.G2t({providers:[_e]})}return Be})();function Ue(Be,Pt,Se,we,at){const[,rt,ft]=globalThis.\u0275AngularfireInstanceCache.find(Ft=>Ft[0]===Be)||[];if(rt)return function Xe(Be,Pt){try{return Be.toString()===Pt.toString()}catch{return Be===Pt}}(at,ft)||(ge("error",`${Pt} was already initialized on the ${Se} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:at,was:ft})),rt;{const Ft=we();return globalThis.\u0275AngularfireInstanceCache.push([Be,Ft,at]),Ft}}const We=typeof module<"u"&&!!module.hot,ge=(Be,...Pt)=>{(0,i.naY)()&&typeof console<"u"&&console[Be](...Pt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(sn,Je,O)=>{O.d(Je,{xv:()=>Ue,U0:()=>qe,Oe:()=>ye,u0:()=>rt,Jv:()=>Be,CA:()=>ge,lR:()=>We,S3:()=>zt});var i=O(7705),ae=O(2214),r=O(6780),le=O(9687);const De=new class Ce extends le.q{}(class Ie extends r.R{constructor(_t,ze){super(_t,ze),this.scheduler=_t,this.work=ze}schedule(_t,ze=0){return ze>0?super.schedule(_t,ze):(this.delay=ze,this.state=_t,this.scheduler.flush(this),this)}execute(_t,ze){return ze>0||this.closed?super.execute(_t,ze):this._execute(_t,ze)}requestAsyncId(_t,ze,ct=0){return null!=ct&&ct>0||null==ct&&this.delay>0?super.requestAsyncId(_t,ze,ct):(_t.flush(this),0)}});var xe=O(3236),W=O(1985),J=O(8141),_e=O(941),Fe=O(6745);const Ue=new i.RxE("ANGULARFIRE2_VERSION");function We(Yt,_t,ze){if(_t){if(1===_t.length)return _t[0];const Oe=_t.filter(ee=>ee.app===ze);if(1===Oe.length)return Oe[0]}return ze.container.getProvider(Yt).getImmediate({optional:!0})}const ge=(Yt,_t)=>{const ze=_t?[_t]:(0,ae.Dk)(),ct=[];return ze.forEach(ut=>{ut.container.getProvider(Yt).instances.forEach(ee=>{ct.includes(ee)||ct.push(ee)})}),ct};class Be{constructor(){return ge(Pt)}}const Pt="app-check";function Se(){}class we{zone;delegate;constructor(_t,ze=De){this.zone=_t,this.delegate=ze}now(){return this.delegate.now()}schedule(_t,ze,ct){const ut=this.zone;return this.delegate.schedule(function(ee){ut.runGuarded(()=>{_t.apply(this,[ee])})},ze,ct)}}class at{zone;task=null;constructor(_t){this.zone=_t}call(_t,ze){const ct=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),ze.pipe((0,J.M)({next:ct,complete:ct,error:ct})).subscribe(_t).add(ct)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rt=(()=>{class Yt{ngZone;outsideAngular;insideAngular;constructor(ze){this.ngZone=ze,this.outsideAngular=ze.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=ze.run(()=>new we(Zone.current,xe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ct){return new(ct||Yt)(i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}return Yt})();function ft(){const Yt=globalThis.\u0275AngularFireScheduler;if(!Yt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Yt}function Ut(Yt){return ft().ngZone.run(()=>Yt())}function ye(Yt){return Yt.pipe((0,_e.Q)(ft().outsideAngular))}function qe(Yt){return function wn(Yt){return function(ze){return(ze=ze.lift(new at(Yt.ngZone))).pipe((0,Fe._)(Yt.outsideAngular),(0,_e.Q)(Yt.insideAngular))}}(ft())(Yt)}const Mt=(Yt,_t)=>function(){const ct=arguments;return _t&&setTimeout(()=>{"scheduled"===_t.state&&_t.invoke()},10),Ut(()=>Yt.apply(void 0,ct))},zt=(Yt,_t)=>function(){let ze;const ct=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof ct[Oe]&&(_t&&(ze||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se))),ct[Oe]=Mt(ct[Oe],ze));const ut=function Ft(Yt){return ft().ngZone.runOutsideAngular(()=>Yt())}(()=>Yt.apply(this,ct));if(!_t){if(ut instanceof W.c){const Oe=ft();return ut.pipe((0,Fe._)(Oe.outsideAngular),(0,_e.Q)(Oe.insideAngular))}return Ut(()=>ut)}return ut instanceof W.c?ut.pipe(qe):ut instanceof Promise?Ut(()=>new Promise((Oe,ee)=>ut.then(be=>Ut(()=>Oe(be)),be=>Ut(()=>ee(be))))):"function"==typeof ut&&ze?function(){return setTimeout(()=>{ze&&"scheduled"===ze.state&&ze.invoke()},10),ut.apply(this,arguments)}:Ut(()=>ut)}},4341:(sn,Je,O)=>{O.d(Je,{Zm:()=>ge,me:()=>we,Yp:()=>So,v8:()=>fs,ok:()=>ao,MJ:()=>Vi,l_:()=>bs,JD:()=>ui,gE:()=>Ee,j4:()=>Tn,$R:()=>Er,YN:()=>ra,BC:()=>jn,cb:()=>In,cV:()=>is,vS:()=>ss,xH:()=>Ts,Q0:()=>Us,Fm:()=>pi,X1:()=>Ro,YS:()=>kr,wz:()=>gs,k0:()=>ye,qT:()=>xs,y7:()=>bt});var i=O(7705),ae=O(177),r=O(8455),Ie=O(1985),le=O(3073),Ce=O(8750),De=O(3794),Te=O(4360),xe=O(6450),W=O(8496),_e=O(6354);let Fe=(()=>{class K{constructor(U,pe){this._renderer=U,this._elementRef=pe,this.onChange=Ke=>{},this.onTouched=()=>{}}setProperty(U,pe){this._renderer.setProperty(this._elementRef.nativeElement,U,pe)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:K})}}return K})(),Ue=(()=>{class K extends Fe{static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,features:[i.Vt3]})}}return K})();const Xe=new i.nKC("NgValueAccessor"),We={provide:Xe,useExisting:(0,i.Rfq)(()=>ge),multi:!0};let ge=(()=>{class K extends Ue{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("change",function(hr){return Ke.onChange(hr.target.checked)})("blur",function(){return Ke.onTouched()})},features:[i.Jv_([We]),i.Vt3]})}}return K})();const Be={provide:Xe,useExisting:(0,i.Rfq)(()=>we),multi:!0},Se=new i.nKC("CompositionEventMode");let we=(()=>{class K extends Fe{constructor(U,pe,Ke){super(U,pe),this._compositionMode=Ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pt(){const K=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Se,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("input",function(hr){return Ke._handleInput(hr.target.value)})("blur",function(){return Ke.onTouched()})("compositionstart",function(){return Ke._compositionStart()})("compositionend",function(hr){return Ke._compositionEnd(hr.target.value)})},features:[i.Jv_([Be]),i.Vt3]})}}return K})();function at(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function rt(K){return null!=K&&"number"==typeof K.length}const ft=new i.nKC("NgValidators"),Ft=new i.nKC("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(te){return function $t(K){return te=>{if(at(te.value)||at(K))return null;const U=parseFloat(te.value);return!isNaN(U)&&U<K?{min:{min:K,actual:te.value}}:null}}(te)}static max(te){return function qe(K){return te=>{if(at(te.value)||at(K))return null;const U=parseFloat(te.value);return!isNaN(U)&&U>K?{max:{max:K,actual:te.value}}:null}}(te)}static required(te){return wn(te)}static requiredTrue(te){return function Mt(K){return!0===K.value?null:{required:!0}}(te)}static email(te){return function zt(K){return at(K.value)||Ut.test(K.value)?null:{email:!0}}(te)}static minLength(te){return function Yt(K){return te=>at(te.value)||!rt(te.value)?null:te.value.length<K?{minlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function _t(K){return te=>rt(te.value)&&te.value.length>K?{maxlength:{requiredLength:K,actualLength:te.value.length}}:null}(te)}static pattern(te){return function ze(K){if(!K)return ct;let te,U;return"string"==typeof K?(U="","^"!==K.charAt(0)&&(U+="^"),U+=K,"$"!==K.charAt(K.length-1)&&(U+="$"),te=new RegExp(U)):(U=K.toString(),te=K),pe=>{if(at(pe.value))return null;const Ke=pe.value;return te.test(Ke)?null:{pattern:{requiredPattern:U,actualValue:Ke}}}}(te)}static nullValidator(te){return null}static compose(te){return it(te)}static composeAsync(te){return Rn(te)}}function wn(K){return at(K.value)?{required:!0}:null}function ct(K){return null}function ut(K){return null!=K}function Oe(K){return(0,i.jNT)(K)?(0,r.H)(K):K}function ee(K){let te={};return K.forEach(U=>{te=null!=U?{...te,...U}:te}),0===Object.keys(te).length?null:te}function be(K,te){return te.map(U=>U(K))}function dt(K){return K.map(te=>function Le(K){return!K.validate}(te)?te:U=>te.validate(U))}function it(K){if(!K)return null;const te=K.filter(ut);return 0==te.length?null:function(U){return ee(be(U,te))}}function Bt(K){return null!=K?it(dt(K)):null}function Rn(K){if(!K)return null;const te=K.filter(ut);return 0==te.length?null:function(U){return function J(...K){const te=(0,De.ms)(K),{args:U,keys:pe}=(0,le.D)(K),Ke=new Ie.c(vn=>{const{length:hr}=U;if(!hr)return void vn.complete();const _s=new Array(hr);let Qt=hr,rs=hr;for(let lo=0;lo<hr;lo++){let $s=!1;(0,Ce.Tg)(U[lo]).subscribe((0,Te._)(vn,Mi=>{$s||($s=!0,rs--),_s[lo]=Mi},()=>Qt--,void 0,()=>{(!Qt||!$s)&&(rs||vn.next(pe?(0,W.e)(pe,_s):_s),vn.complete())}))}});return te?Ke.pipe((0,xe.I)(te)):Ke}(be(U,te).map(Oe)).pipe((0,_e.T)(ee))}}function lr(K){return null!=K?Rn(dt(K)):null}function un(K,te){return null===K?[te]:Array.isArray(K)?[...K,te]:[K,te]}function kn(K){return K._rawValidators}function nn(K){return K._rawAsyncValidators}function Qn(K){return K?Array.isArray(K)?K:[K]:[]}function Ln(K,te){return Array.isArray(K)?K.includes(te):K===te}function Jt(K,te){const U=Qn(te);return Qn(K).forEach(Ke=>{Ln(U,Ke)||U.push(Ke)}),U}function qt(K,te){return Qn(te).filter(U=>!Ln(K,U))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=lr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,U){return!!this.control&&this.control.hasError(te,U)}getError(te,U){return this.control?this.control.getError(te,U):null}}class en extends yr{get formDirective(){return null}get path(){return null}}class or extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Un{constructor(te){this._cd=te}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jn=(()=>{class K extends Un{constructor(U){super(U)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(or,2))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(pe,Ke){2&pe&&i.AVh("ng-untouched",Ke.isUntouched)("ng-touched",Ke.isTouched)("ng-pristine",Ke.isPristine)("ng-dirty",Ke.isDirty)("ng-valid",Ke.isValid)("ng-invalid",Ke.isInvalid)("ng-pending",Ke.isPending)},features:[i.Vt3]})}}return K})(),In=(()=>{class K extends Un{constructor(U){super(U)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(en,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(pe,Ke){2&pe&&i.AVh("ng-untouched",Ke.isUntouched)("ng-touched",Ke.isTouched)("ng-pristine",Ke.isPristine)("ng-dirty",Ke.isDirty)("ng-valid",Ke.isValid)("ng-invalid",Ke.isInvalid)("ng-pending",Ke.isPending)("ng-submitted",Ke.isSubmitted)},features:[i.Vt3]})}}return K})();const Wt="VALID",Pn="INVALID",Pr="PENDING",nr="DISABLED";function ei(K){return(k(K)?K.validators:K)||null}function G(K,te){return(k(te)?te.asyncValidators:K)||null}function k(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function $(K,te,U){const pe=K.controls;if(!(te?Object.keys(pe):pe).length)throw new i.wOt(1e3,"");if(!pe[U])throw new i.wOt(1001,"")}function se(K,te,U){K._forEachChild((pe,Ke)=>{if(void 0===U[Ke])throw new i.wOt(1002,"")})}class ne{constructor(te,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===Wt}get invalid(){return this.status===Pn}get pending(){return this.status==Pr}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(Jt(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(Jt(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(qt(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(qt(te,this._rawAsyncValidators))}hasValidator(te){return Ln(this._rawValidators,te)}hasAsyncValidator(te){return Ln(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=Pr,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const U=this._parentMarkedDirty(te.onlySelf);this.status=nr,this.errors=null,this._forEachChild(pe=>{pe.disable({...te,onlySelf:!0})}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!0))}enable(te={}){const U=this._parentMarkedDirty(te.onlySelf);this.status=Wt,this._forEachChild(pe=>{pe.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:U}),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wt||this.status===Pr)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:Wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator=!0;const U=Oe(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,U={}){this.errors=te,this._updateControlsErrors(!1!==U.emitEvent)}get(te){let U=te;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((pe,Ke)=>pe&&pe._find(Ke),this)}getError(te,U){const pe=U?this.get(U):this;return pe&&pe.errors?pe.errors[te]:null}hasError(te,U){return!!this.getError(te,U)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?Pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(Pn)?Pn:Wt}_anyControlsHaveStatus(te){return this._anyControls(U=>U.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){k(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function Rt(K){return Array.isArray(K)?Bt(K):K||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function x(K){return Array.isArray(K)?lr(K):K||null}(this._rawAsyncValidators)}}class Ee extends ne{constructor(te,U,pe){super(ei(U),G(pe,U)),this.controls=te,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,U){return this.controls[te]?this.controls[te]:(this.controls[te]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(te,U,pe={}){this.registerControl(te,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(te,U={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(te,U,pe={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],U&&this.registerControl(te,U),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,U={}){se(this,0,te),Object.keys(te).forEach(pe=>{$(this,!0,pe),this.controls[pe].setValue(te[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(te,U={}){null!=te&&(Object.keys(te).forEach(pe=>{const Ke=this.controls[pe];Ke&&Ke.patchValue(te[pe],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(te={},U={}){this._forEachChild((pe,Ke)=>{pe.reset(te?te[Ke]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(te,U,pe)=>(te[pe]=U.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(U,pe)=>!!pe._syncPendingControls()||U);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(U=>{const pe=this.controls[U];pe&&te(pe,U)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[U,pe]of Object.entries(this.controls))if(this.contains(U)&&te(pe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,pe,Ke)=>((pe.enabled||this.disabled)&&(U[Ke]=pe.value),U))}_reduceChildren(te,U){let pe=te;return this._forEachChild((Ke,vn)=>{pe=U(pe,Ke,vn)}),pe}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}class pn extends Ee{}const Ne=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$e}),$e="always";function Ye(K,te){return[...te.path,K]}function jt(K,te,U=$e){ar(K,te),te.valueAccessor.writeValue(K.value),(K.disabled||"always"===U)&&te.valueAccessor.setDisabledState?.(K.disabled),function Ci(K,te){te.valueAccessor.registerOnChange(U=>{K._pendingValue=U,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&st(K,te)})}(K,te),function kt(K,te){const U=(pe,Ke)=>{te.valueAccessor.writeValue(pe),Ke&&te.viewToModelUpdate(pe)};K.registerOnChange(U),te._registerOnDestroy(()=>{K._unregisterOnChange(U)})}(K,te),function wt(K,te){te.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&st(K,te),"submit"!==K.updateOn&&K.markAsTouched()})}(K,te),function dn(K,te){if(te.valueAccessor.setDisabledState){const U=pe=>{te.valueAccessor.setDisabledState(pe)};K.registerOnDisabledChange(U),te._registerOnDestroy(()=>{K._unregisterOnDisabledChange(U)})}}(K,te)}function rn(K,te,U=!0){const pe=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(pe),te.valueAccessor.registerOnTouched(pe)),gn(K,te),K&&(te._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function bn(K,te){K.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(te)})}function ar(K,te){const U=kn(K);null!==te.validator?K.setValidators(un(U,te.validator)):"function"==typeof U&&K.setValidators([U]);const pe=nn(K);null!==te.asyncValidator?K.setAsyncValidators(un(pe,te.asyncValidator)):"function"==typeof pe&&K.setAsyncValidators([pe]);const Ke=()=>K.updateValueAndValidity();bn(te._rawValidators,Ke),bn(te._rawAsyncValidators,Ke)}function gn(K,te){let U=!1;if(null!==K){if(null!==te.validator){const Ke=kn(K);if(Array.isArray(Ke)&&Ke.length>0){const vn=Ke.filter(hr=>hr!==te.validator);vn.length!==Ke.length&&(U=!0,K.setValidators(vn))}}if(null!==te.asyncValidator){const Ke=nn(K);if(Array.isArray(Ke)&&Ke.length>0){const vn=Ke.filter(hr=>hr!==te.asyncValidator);vn.length!==Ke.length&&(U=!0,K.setAsyncValidators(vn))}}}const pe=()=>{};return bn(te._rawValidators,pe),bn(te._rawAsyncValidators,pe),U}function st(K,te){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function hn(K,te){ar(K,te)}function ki(K,te){if(!K.hasOwnProperty("model"))return!1;const U=K.model;return!!U.isFirstChange()||!Object.is(te,U.currentValue)}function Li(K,te){K._syncPendingControls(),te.forEach(U=>{const pe=U.control;"submit"===pe.updateOn&&pe._pendingChange&&(U.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}function Ks(K,te){if(!te)return null;let U,pe,Ke;return Array.isArray(te),te.forEach(vn=>{vn.constructor===we?U=vn:function us(K){return Object.getPrototypeOf(K.constructor)===Ue}(vn)?pe=vn:Ke=vn}),Ke||pe||U||null}const Uo={provide:en,useExisting:(0,i.Rfq)(()=>is)},Qr=(()=>Promise.resolve())();let is=(()=>{class K extends en{constructor(U,pe,Ke){super(),this.callSetDisabledState=Ke,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Ee({},Bt(U),lr(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Qr.then(()=>{const pe=this._findContainer(U.path);U.control=pe.registerControl(U.name,U.control),jt(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Qr.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Qr.then(()=>{const pe=this._findContainer(U.path),Ke=new Ee({});hn(Ke,U),pe.registerControl(U.name,Ke),Ke.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Qr.then(()=>{const pe=this._findContainer(U.path);pe&&pe.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,pe){Qr.then(()=>{this.form.get(U.path).setValue(pe)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Li(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(ft,10),i.rXU(Ft,10),i.rXU(Ne,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("submit",function(hr){return Ke.onSubmit(hr)})("reset",function(){return Ke.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Uo]),i.Vt3]})}}return K})();function ds(K,te){const U=K.indexOf(te);U>-1&&K.splice(U,1)}function qr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Vi=class extends ne{constructor(te=null,U,pe){super(ei(U),G(pe,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=qr(te)?te.value:te)}setValue(te,U={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(te,U={}){this.setValue(te,U)}reset(te=this.defaultValue,U={}){this._applyFormState(te),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){ds(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){ds(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){qr(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let qs=(()=>{class K extends en{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,features:[i.Vt3]})}}return K})();const Ys={provide:or,useExisting:(0,i.Rfq)(()=>ss)},ti=(()=>Promise.resolve())();let ss=(()=>{class K extends or{constructor(U,pe,Ke,vn,hr,_s){super(),this._changeDetectorRef=hr,this.callSetDisabledState=_s,this.control=new Vi,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Ke),this.valueAccessor=Ks(0,vn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const pe=U.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),ki(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ti.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const pe=U.isDisabled.currentValue,Ke=0!==pe&&(0,i.L39)(pe);ti.then(()=>{Ke&&!this.control.disabled?this.control.disable():!Ke&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?Ye(U,this._parent):[U]}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(en,9),i.rXU(ft,10),i.rXU(Ft,10),i.rXU(Xe,10),i.rXU(i.gRc,8),i.rXU(Ne,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Ys]),i.Vt3,i.OA$]})}}return K})(),xs=(()=>{class K{static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275dir=i.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return K})();const _o={provide:Xe,useExisting:(0,i.Rfq)(()=>Us),multi:!0};let Us=(()=>{class K extends Ue{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=pe=>{U(""==pe?null:parseFloat(pe))}}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("input",function(hr){return Ke.onChange(hr.target.value)})("blur",function(){return Ke.onTouched()})},features:[i.Jv_([_o]),i.Vt3]})}}return K})();const Mr={provide:Xe,useExisting:(0,i.Rfq)(()=>pi),multi:!0};let Ii=(()=>{class K{static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({})}}return K})(),Ms=(()=>{class K{constructor(){this._accessors=[]}add(U,pe){this._accessors.push([U,pe])}remove(U){for(let pe=this._accessors.length-1;pe>=0;--pe)if(this._accessors[pe][1]===U)return void this._accessors.splice(pe,1)}select(U){this._accessors.forEach(pe=>{this._isSameGroup(pe,U)&&pe[1]!==U&&pe[1].fireUncheck(U.value)})}_isSameGroup(U,pe){return!!U[0].control&&U[0]._parent===pe._control._parent&&U[1].name===pe.name}static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275prov=i.jDH({token:K,factory:K.\u0275fac,providedIn:Ii})}}return K})(),pi=(()=>{class K extends Ue{constructor(U,pe,Ke,vn){super(U,pe),this._registry=Ke,this._injector=vn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Ne,{optional:!0})??$e}ngOnInit(){this._control=this._injector.get(or),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Ms),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("change",function(){return Ke.onChange()})("blur",function(){return Ke.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Mr]),i.Vt3]})}}return K})();const ts=new i.nKC("NgModelWithFormControlWarning"),ws={provide:or,useExisting:(0,i.Rfq)(()=>bs)};let bs=(()=>{class K extends or{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,pe,Ke,vn,hr){super(),this._ngModelWarningConfig=vn,this.callSetDisabledState=hr,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(U),this._setAsyncValidators(pe),this.valueAccessor=Ks(0,Ke)}ngOnChanges(U){if(this._isControlChanged(U)){const pe=U.form.previousValue;pe&&rn(pe,this,!1),jt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ki(U,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_isControlChanged(U){return U.hasOwnProperty("form")}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(ft,10),i.rXU(Ft,10),i.rXU(Xe,10),i.rXU(ts,8),i.rXU(Ne,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([ws]),i.Vt3,i.OA$]})}}return K})();const ci={provide:en,useExisting:(0,i.Rfq)(()=>Tn)};let Tn=(()=>{class K extends en{constructor(U,pe,Ke){super(),this.callSetDisabledState=Ke,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(U),this._setAsyncValidators(pe)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const pe=this.form.get(U.path);return jt(pe,U,this.callSetDisabledState),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),pe}getControl(U){return this.form.get(U.path)}removeControl(U){rn(U.control||null,U,!1),function go(K,te){const U=K.indexOf(te);U>-1&&K.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,pe){this.form.get(U.path).setValue(pe)}onSubmit(U){return this.submitted=!0,Li(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const pe=U.control,Ke=this.form.get(U.path);pe!==Ke&&(rn(pe||null,U),(K=>K instanceof Vi)(Ke)&&(jt(Ke,U,this.callSetDisabledState),U.control=Ke))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const pe=this.form.get(U.path);hn(pe,U),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const pe=this.form.get(U.path);pe&&function Kn(K,te){return gn(K,te)}(pe,U)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ar(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(ft,10),i.rXU(Ft,10),i.rXU(Ne,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("submit",function(hr){return Ke.onSubmit(hr)})("reset",function(){return Ke.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([ci]),i.Vt3,i.OA$]})}}return K})();const cr={provide:en,useExisting:(0,i.Rfq)(()=>Er)};let Er=(()=>{class K extends qs{constructor(U,pe,Ke){super(),this.name=null,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Ke)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Ft,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Jv_([cr]),i.Vt3]})}}return K})();const os={provide:en,useExisting:(0,i.Rfq)(()=>fs)};let fs=(()=>{class K extends en{constructor(U,pe,Ke){super(),this.name=null,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Ke)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bi(this._parent)}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Ft,10))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Jv_([os]),i.Vt3]})}}return K})();function Bi(K){return!(K instanceof Er||K instanceof Tn||K instanceof fs)}const Xs={provide:or,useExisting:(0,i.Rfq)(()=>ui)};let ui=(()=>{class K extends or{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,pe,Ke,vn,hr){super(),this._ngModelWarningConfig=hr,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(pe),this._setAsyncValidators(Ke),this.valueAccessor=Ks(0,vn)}ngOnChanges(U){this._added||this._setUpControl(),ki(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Ye(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(en,13),i.rXU(ft,10),i.rXU(Ft,10),i.rXU(Xe,10),i.rXU(ts,8))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Xs]),i.Vt3,i.OA$]})}}return K})();const ps={provide:Xe,useExisting:(0,i.Rfq)(()=>gs),multi:!0};function Os(K,te){return null==K?`${te}`:(te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let gs=(()=>{class K extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Ke=Os(this._getOptionId(U),U);this.setProperty("value",Ke)}registerOnChange(U){this.onChange=pe=>{this.value=this._getOptionValue(pe),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const pe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(pe),U))return pe;return null}_getOptionValue(U){const pe=function ir(K){return K.split(":")[0]}(U);return this._optionMap.has(pe)?this._optionMap.get(pe):U}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("change",function(hr){return Ke.onChange(hr.target.value)})("blur",function(){return Ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([ps]),i.Vt3]})}}return K})(),Ts=(()=>{class K{constructor(U,pe,Ke){this._element=U,this._renderer=pe,this._select=Ke,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Os(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(gs,9))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})();const re={provide:Xe,useExisting:(0,i.Rfq)(()=>lt),multi:!0};function Z(K,te){return null==K?`${te}`:("string"==typeof te&&(te=`'${te}'`),te&&"object"==typeof te&&(te="Object"),`${K}: ${te}`.slice(0,50))}let lt=(()=>{class K extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let pe;if(this.value=U,Array.isArray(U)){const Ke=U.map(vn=>this._getOptionId(vn));pe=(vn,hr)=>{vn._setSelected(Ke.indexOf(hr.toString())>-1)}}else pe=(Ke,vn)=>{Ke._setSelected(!1)};this._optionMap.forEach(pe)}registerOnChange(U){this.onChange=pe=>{const Ke=[],vn=pe.selectedOptions;if(void 0!==vn){const hr=vn;for(let _s=0;_s<hr.length;_s++){const rs=this._getOptionValue(hr[_s].value);Ke.push(rs)}}else{const hr=pe.options;for(let _s=0;_s<hr.length;_s++){const Qt=hr[_s];if(Qt.selected){const rs=this._getOptionValue(Qt.value);Ke.push(rs)}}}this.value=Ke,U(Ke)}}_registerOption(U){const pe=(this._idCounter++).toString();return this._optionMap.set(pe,U),pe}_getOptionId(U){for(const pe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(pe)._value,U))return pe;return null}_getOptionValue(U){const pe=function Pe(K){return K.split(":")[0]}(U);return this._optionMap.has(pe)?this._optionMap.get(pe)._value:U}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(pe,Ke){1&pe&&i.bIt("change",function(hr){return Ke.onChange(hr.target)})("blur",function(){return Ke.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([re]),i.Vt3]})}}return K})(),bt=(()=>{class K{constructor(U,pe,Ke){this._element=U,this._renderer=pe,this._select=Ke,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Z(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Z(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(pe){return new(pe||K)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(lt,9))}}static{this.\u0275dir=i.FsC({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return K})(),An=(()=>{class K{constructor(){this._validator=ct}ngOnChanges(U){if(this.inputName in U){const pe=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):ct,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275dir=i.FsC({type:K,features:[i.OA$]})}}return K})();const ur={provide:ft,useExisting:(0,i.Rfq)(()=>kr),multi:!0};let kr=(()=>{class K extends An{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=U=>wn}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(Ke){return(U||(U=i.xGo(K)))(Ke||K)}}()}static{this.\u0275dir=i.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(pe,Ke){2&pe&&i.BMQ("required",Ke._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([ur]),i.Vt3]})}}return K})(),Ra=(()=>{class K{static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[Ii]})}}return K})();class So extends ne{constructor(te,U,pe){super(ei(U),G(pe,U)),this.controls=te,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,U={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(te,U,pe={}){this.controls.splice(te,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(te,U={}){let pe=this._adjustIndex(te);pe<0&&(pe=0),this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),this.controls.splice(pe,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(te,U,pe={}){let Ke=this._adjustIndex(te);Ke<0&&(Ke=0),this.controls[Ke]&&this.controls[Ke]._registerOnCollectionChange(()=>{}),this.controls.splice(Ke,1),U&&(this.controls.splice(Ke,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,U={}){se(this,0,te),te.forEach((pe,Ke)=>{$(this,!1,Ke),this.at(Ke).setValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(te,U={}){null!=te&&(te.forEach((pe,Ke)=>{this.at(Ke)&&this.at(Ke).patchValue(pe,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(te=[],U={}){this._forEachChild((pe,Ke)=>{pe.reset(te[Ke],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((U,pe)=>!!pe._syncPendingControls()||U,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((U,pe)=>{te(U,pe)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(U=>U.enabled&&te(U))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){return this.at(te)??null}}function Ns(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let ao=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new K;return U.useNonNullable=!0,U}group(U,pe=null){const Ke=this._reduceControls(U);let vn={};return Ns(pe)?vn=pe:null!==pe&&(vn.validators=pe.validator,vn.asyncValidators=pe.asyncValidator),new Ee(Ke,vn)}record(U,pe=null){const Ke=this._reduceControls(U);return new pn(Ke,pe)}control(U,pe,Ke){let vn={};return this.useNonNullable?(Ns(pe)?vn=pe:(vn.validators=pe,vn.asyncValidators=Ke),new Vi(U,{...vn,nonNullable:!0})):new Vi(U,pe,Ke)}array(U,pe,Ke){const vn=U.map(hr=>this._createControl(hr));return new So(vn,pe,Ke)}_reduceControls(U){const pe={};return Object.keys(U).forEach(Ke=>{pe[Ke]=this._createControl(U[Ke])}),pe}_createControl(U){return U instanceof Vi||U instanceof ne?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275prov=i.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),ra=(()=>{class K{static withConfig(U){return{ngModule:K,providers:[{provide:Ne,useValue:U.callSetDisabledState??$e}]}}static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[Ra]})}}return K})(),Ro=(()=>{class K{static withConfig(U){return{ngModule:K,providers:[{provide:ts,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:Ne,useValue:U.callSetDisabledState??$e}]}}static{this.\u0275fac=function(pe){return new(pe||K)}}static{this.\u0275mod=i.$C({type:K})}static{this.\u0275inj=i.G2t({imports:[Ra]})}}return K})()},345:(sn,Je,O)=>{O.d(Je,{B7:()=>Ut,Bb:()=>Ln,W8:()=>qt,hE:()=>or,sG:()=>un,up:()=>Ti});var i=O(7705),ae=O(177);class r extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends r{static makeCurrent(){(0,ae.ZD)(new Ie)}onAndCancel(G,x,k){return G.addEventListener(x,k),()=>{G.removeEventListener(x,k)}}dispatchEvent(G,x){G.dispatchEvent(x)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,x){return(x=x||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,x){return"window"===x?window:"document"===x?G:"body"===x?G.body:null}getBaseHref(G){const x=function Ce(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==x?null:function Te(Rt){De=De||document.createElement("a"),De.setAttribute("href",Rt);const G=De.pathname;return"/"===G.charAt(0)?G:`/${G}`}(x)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ae._b)(document.cookie,G)}}let De,le=null,W=(()=>{class Rt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const J=new i.nKC("EventManagerPlugins");let _e=(()=>{class Rt{constructor(x,k){this._zone=k,this._eventNameToPlugin=new Map,x.forEach($=>{$.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,k,$){return this._findPluginFor(k).addEventListener(x,k,$)}getZone(){return this._zone}_findPluginFor(x){let k=this._eventNameToPlugin.get(x);if(k)return k;if(k=this._plugins.find(se=>se.supports(x)),!k)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(x,k),k}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(J),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();class Fe{constructor(G){this._doc=G}}const Ue="ng-app-id";let Xe=(()=>{class Rt{constructor(x,k,$,se={}){this.doc=x,this.appId=k,this.nonce=$,this.platformId=se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(se),this.resetHostNodes()}addStyles(x){for(const k of x)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(x){for(const k of x)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(k=>k.remove()),x.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const k of this.getAllStyles())this.addStyleToHost(x,k)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const k of this.hostNodes)this.addStyleToHost(k,x)}onStyleRemoved(x){const k=this.styleRef;k.get(x)?.elements?.forEach($=>$.remove()),k.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(x?.length){const k=new Map;return x.forEach($=>{null!=$.textContent&&k.set($.textContent,$)}),k}return null}changeUsageCount(x,k){const $=this.styleRef;if($.has(x)){const se=$.get(x);return se.usage+=k,se.usage}return $.set(x,{usage:k,elements:[]}),k}getStyleElement(x,k){const $=this.styleNodesInDOM,se=$?.get(k);if(se?.parentNode===x)return $.delete(k),se.removeAttribute(Ue),se;{const ne=this.doc.createElement("style");return this.nonce&&ne.setAttribute("nonce",this.nonce),ne.textContent=k,this.platformIsServer&&ne.setAttribute(Ue,this.appId),ne}}addStyleToHost(x,k){const $=this.getStyleElement(x,k);x.appendChild($);const se=this.styleRef,ne=se.get(k)?.elements;ne?ne.push($):se.set(k,{elements:[$],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g,at=new i.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ft(Rt,G){return G.map(x=>x.replace(ge,Rt))}let Ut=(()=>{class Rt{constructor(x,k,$,se,ne,Ee,gt,Gt=null){this.eventManager=x,this.sharedStylesHost=k,this.appId=$,this.removeStylesOnCompDestroy=se,this.doc=ne,this.platformId=Ee,this.ngZone=gt,this.nonce=Gt,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(Ee),this.defaultRenderer=new ye(x,ne,gt,this.platformIsServer)}createRenderer(x,k){if(!x||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===i.gXe.ShadowDom&&(k={...k,encapsulation:i.gXe.Emulated});const $=this.getOrCreateRenderer(x,k);return $ instanceof Yt?$.applyToHost(x):$ instanceof zt&&$.applyStyles(),$}getOrCreateRenderer(x,k){const $=this.rendererByCompId;let se=$.get(k.id);if(!se){const ne=this.doc,Ee=this.ngZone,gt=this.eventManager,Gt=this.sharedStylesHost,pn=this.removeStylesOnCompDestroy,_r=this.platformIsServer;switch(k.encapsulation){case i.gXe.Emulated:se=new Yt(gt,Gt,k,this.appId,pn,ne,Ee,_r);break;case i.gXe.ShadowDom:return new Mt(gt,Gt,x,k,ne,Ee,this.nonce,_r);default:se=new zt(gt,Gt,k,pn,ne,Ee,_r)}$.set(k.id,se)}return se}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(_e),i.KVO(Xe),i.KVO(i.sZ2),i.KVO(at),i.KVO(ae.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();class ye{constructor(G,x,k,$){this.eventManager=G,this.doc=x,this.ngZone=k,this.platformIsServer=$,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,x){return x?this.doc.createElementNS(We[x]||x,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,x){(wn(G)?G.content:G).appendChild(x)}insertBefore(G,x,k){G&&(wn(G)?G.content:G).insertBefore(x,k)}removeChild(G,x){G&&G.removeChild(x)}selectRootElement(G,x){let k="string"==typeof G?this.doc.querySelector(G):G;if(!k)throw new i.wOt(-5104,!1);return x||(k.textContent=""),k}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,x,k,$){if($){x=$+":"+x;const se=We[$];se?G.setAttributeNS(se,x,k):G.setAttribute(x,k)}else G.setAttribute(x,k)}removeAttribute(G,x,k){if(k){const $=We[k];$?G.removeAttributeNS($,x):G.removeAttribute(`${k}:${x}`)}else G.removeAttribute(x)}addClass(G,x){G.classList.add(x)}removeClass(G,x){G.classList.remove(x)}setStyle(G,x,k,$){$&(i.czy.DashCase|i.czy.Important)?G.style.setProperty(x,k,$&i.czy.Important?"important":""):G.style[x]=k}removeStyle(G,x,k){k&i.czy.DashCase?G.style.removeProperty(x):G.style[x]=""}setProperty(G,x,k){G[x]=k}setValue(G,x){G.nodeValue=x}listen(G,x,k){if("string"==typeof G&&!(G=(0,ae.QT)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${x}`);return this.eventManager.addEventListener(G,x,this.decoratePreventDefault(k))}decoratePreventDefault(G){return x=>{if("__ngUnwrap__"===x)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(x)):G(x))&&x.preventDefault()}}}function wn(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class Mt extends ye{constructor(G,x,k,$,se,ne,Ee,gt){super(G,se,ne,gt),this.sharedStylesHost=x,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=Ft($.id,$.styles);for(const pn of Gt){const _r=document.createElement("style");Ee&&_r.setAttribute("nonce",Ee),_r.textContent=pn,this.shadowRoot.appendChild(_r)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,x){return super.appendChild(this.nodeOrShadowRoot(G),x)}insertBefore(G,x,k){return super.insertBefore(this.nodeOrShadowRoot(G),x,k)}removeChild(G,x){return super.removeChild(this.nodeOrShadowRoot(G),x)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zt extends ye{constructor(G,x,k,$,se,ne,Ee,gt){super(G,se,ne,Ee),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=$,this.styles=gt?Ft(gt,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yt extends zt{constructor(G,x,k,$,se,ne,Ee,gt){const Gt=$+"-"+k.id;super(G,x,k,se,ne,Ee,gt,Gt),this.contentAttr=function rt(Rt){return"_ngcontent-%COMP%".replace(ge,Rt)}(Gt),this.hostAttr=function ft(Rt){return"_nghost-%COMP%".replace(ge,Rt)}(Gt)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,x){const k=super.createElement(G,x);return super.setAttribute(k,this.contentAttr,""),k}}let _t=(()=>{class Rt extends Fe{constructor(x){super(x)}supports(x){return!0}addEventListener(x,k,$){return x.addEventListener(k,$,!1),()=>this.removeEventListener(x,k,$)}removeEventListener(x,k,$){return x.removeEventListener(k,$)}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const ze=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let Oe=(()=>{class Rt extends Fe{constructor(x){super(x)}supports(x){return null!=Rt.parseEventName(x)}addEventListener(x,k,$){const se=Rt.parseEventName(k),ne=Rt.eventCallback(se.fullKey,$,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(x,se.domEventName,ne))}static parseEventName(x){const k=x.toLowerCase().split("."),$=k.shift();if(0===k.length||"keydown"!==$&&"keyup"!==$)return null;const se=Rt._normalizeKey(k.pop());let ne="",Ee=k.indexOf("code");if(Ee>-1&&(k.splice(Ee,1),ne="code."),ze.forEach(Gt=>{const pn=k.indexOf(Gt);pn>-1&&(k.splice(pn,1),ne+=Gt+".")}),ne+=se,0!=k.length||0===se.length)return null;const gt={};return gt.domEventName=$,gt.fullKey=ne,gt}static matchEventFullKeyCode(x,k){let $=ct[x.key]||x.key,se="";return k.indexOf("code.")>-1&&($=x.code,se="code."),!(null==$||!$)&&($=$.toLowerCase()," "===$?$="space":"."===$&&($="dot"),ze.forEach(ne=>{ne!==$&&(0,ut[ne])(x)&&(se+=ne+".")}),se+=$,se===k)}static eventCallback(x,k,$){return se=>{Rt.matchEventFullKeyCode(se,x)&&$.runGuarded(()=>k(se))}}static _normalizeKey(x){return"esc"===x?"escape":x}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:Rt.\u0275fac})}}return Rt})();const un=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:ae.AJ},{provide:i.PLl,useValue:function it(){Ie.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function Rn(){return(0,i.TL$)(document),document},deps:[]}]),kn=new i.nKC(""),nn=[{provide:i.e01,useClass:class xe{addToWindow(G){i.JZv.getAngularTestability=(k,$=!0)=>{const se=G.findTestabilityInTree(k,$);if(null==se)throw new i.wOt(5103,!1);return se},i.JZv.getAllAngularTestabilities=()=>G.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>G.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(k=>{const $=i.JZv.getAllAngularTestabilities();let se=$.length,ne=!1;const Ee=function(gt){ne=ne||gt,se--,0==se&&k(ne)};$.forEach(gt=>{gt.whenStable(Ee)})})}findTestabilityInTree(G,x,k){return null==x?null:G.getTestability(x)??(k?(0,ae.QT)().isShadowRoot(x)?this.findTestabilityInTree(G,x.host,!0):this.findTestabilityInTree(G,x.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],Qn=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function Bt(){return new i.zcH},deps:[]},{provide:J,useClass:_t,multi:!0,deps:[ae.qQ,i.SKi,i.Agw]},{provide:J,useClass:Oe,multi:!0,deps:[ae.qQ]},Ut,Xe,_e,{provide:i._9s,useExisting:Ut},{provide:ae.N0,useClass:W,deps:[]},[]];let Ln=(()=>{class Rt{constructor(x){}static withServerTransition(x){return{ngModule:Rt,providers:[{provide:i.sZ2,useValue:x.appId}]}}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(kn,12))}}static{this.\u0275mod=i.$C({type:Rt})}static{this.\u0275inj=i.G2t({providers:[...Qn,...nn],imports:[ae.MD,i.Hbi]})}}return Rt})(),qt=(()=>{class Rt{constructor(x){this._doc=x,this._dom=(0,ae.QT)()}addTag(x,k=!1){return x?this._getOrCreateElement(x,k):null}addTags(x,k=!1){return x?x.reduce(($,se)=>(se&&$.push(this._getOrCreateElement(se,k)),$),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const k=this._doc.querySelectorAll(`meta[${x}]`);return k?[].slice.call(k):[]}updateTag(x,k){if(!x)return null;k=k||this._parseSelector(x);const $=this.getTag(k);return $?this._setMetaElementAttributes(x,$):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,k=!1){if(!k){const ne=this._parseSelector(x),Ee=this.getTags(ne).filter(gt=>this._containsAttributes(x,gt))[0];if(void 0!==Ee)return Ee}const $=this._dom.createElement("meta");return this._setMetaElementAttributes(x,$),this._doc.getElementsByTagName("head")[0].appendChild($),$}_setMetaElementAttributes(x,k){return Object.keys(x).forEach($=>k.setAttribute(this._getMetaKeyMap($),x[$])),k}_parseSelector(x){const k=x.name?"name":"property";return`${k}="${x[k]}"`}_containsAttributes(x,k){return Object.keys(x).every($=>k.getAttribute(this._getMetaKeyMap($))===x[$])}_getMetaKeyMap(x){return yr[x]||x}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:function(k){let $=null;return $=k?new k:function Jt(){return new qt((0,i.KVO)(ae.qQ))}(),$},providedIn:"root"})}}return Rt})();const yr={httpEquiv:"http-equiv"};let or=(()=>{class Rt{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:function(k){let $=null;return $=k?new k:function en(){return new or((0,i.KVO)(ae.qQ))}(),$},providedIn:"root"})}}return Rt})();typeof window<"u"&&window;let Ti=(()=>{class Rt{static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275prov=i.jDH({token:Rt,factory:function(k){let $=null;return $=k?new(k||Rt):i.KVO(yt),$},providedIn:"root"})}}return Rt})(),yt=(()=>{class Rt extends Ti{constructor(x){super(),this._doc=x}sanitize(x,k){if(null==k)return null;switch(x){case i.WPN.NONE:return k;case i.WPN.HTML:return(0,i.ZF7)(k,"HTML")?(0,i.rcV)(k):(0,i.h9k)(this._doc,String(k)).toString();case i.WPN.STYLE:return(0,i.ZF7)(k,"Style")?(0,i.rcV)(k):k;case i.WPN.SCRIPT:if((0,i.ZF7)(k,"Script"))return(0,i.rcV)(k);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(k,"URL")?(0,i.rcV)(k):(0,i.$MX)(String(k));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(k,"ResourceURL"))return(0,i.rcV)(k);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(x){return(0,i.Kcf)(x)}bypassSecurityTrustStyle(x){return(0,i.cWb)(x)}bypassSecurityTrustScript(x){return(0,i.UyX)(x)}bypassSecurityTrustUrl(x){return(0,i.osQ)(x)}bypassSecurityTrustResourceUrl(x){return(0,i.e5t)(x)}static{this.\u0275fac=function(k){return new(k||Rt)(i.KVO(ae.qQ))}}static{this.\u0275prov=i.jDH({token:Rt,factory:function(k){let $=null;return $=k?new k:function ht(Rt){return new yt(Rt.get(ae.qQ))}(i.KVO(i.zZn)),$},providedIn:"root"})}}return Rt})()},6814:(sn,Je,O)=>{O.d(Je,{nX:()=>Er,wF:()=>Vi,Ix:()=>Hi,Wk:()=>sa,wQ:()=>Ds,iI:()=>Il,n3:()=>gs});var i=O(7705),ae=O(1985),r=O(8071),le=O(8455),Ce=O(7673),De=O(4412),Te=O(3073),xe=O(3669),W=O(6450),J=O(3794),_e=O(8496),Fe=O(4360),Ue=O(5225);function Xe(...D){const N=(0,J.lI)(D),w=(0,J.ms)(D),{args:F,keys:H}=(0,Te.D)(D);if(0===F.length)return(0,le.H)([],N);const fe=new ae.c(function We(D,N,w=xe.D){return F=>{ge(N,()=>{const{length:H}=D,fe=new Array(H);let ke=H,At=H;for(let It=0;It<H;It++)ge(N,()=>{const Sn=(0,le.H)(D[It],N);let Tr=!1;Sn.subscribe((0,Fe._)(F,Sr=>{fe[It]=Sr,Tr||(Tr=!0,At--),At||F.next(w(fe.slice()))},()=>{--ke||F.complete()}))},F)},F)}}(F,N,H?ke=>(0,_e.e)(H,ke):xe.D));return w?fe.pipe((0,W.I)(w)):fe}function ge(D,N,w){D?(0,Ue.N)(w,D,N):N()}var Be=O(9350),Pt=O(8793),Se=O(8750);function we(D){return new ae.c(N=>{(0,Se.Tg)(D()).subscribe(N)})}var at=O(1203),rt=O(8810),ft=O(983),Ft=O(8359),Ut=O(9974);function ye(){return(0,Ut.N)((D,N)=>{let w=null;D._refCount++;const F=(0,Fe._)(N,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,fe=w;w=null,H&&(!fe||H===fe)&&H.unsubscribe(),N.unsubscribe()});D.subscribe(F),F.closed||(w=D.connect())})}class $t extends ae.c{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ut.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Ft.yU;const w=this.getSubject();N.add(this.source.subscribe((0,Fe._)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Ft.yU.EMPTY)}return N}refCount(){return ye()(this)}}var qe=O(1413),wn=O(177),Mt=O(6354),zt=O(5558),Yt=O(6697),_t=O(9172),ze=O(5964),ct=O(1397),ut=O(1594),Oe=O(274),ee=O(8141),be=O(9437),Le=O(2816),dt=O(9901);function it(D){return D<=0?()=>ft.w:(0,Ut.N)((N,w)=>{let F=[];N.subscribe((0,Fe._)(w,H=>{F.push(H),D<F.length&&F.shift()},()=>{for(const H of F)w.next(H);w.complete()},void 0,()=>{F=null}))})}var Bt=O(3774),un=O(980),kn=O(5343),Qn=O(6365),Ln=O(345);const Jt="primary",qt=Symbol("RouteTitle");class yr{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function en(D){return new yr(D)}function or(D,N,w){const F=w.path.split("/");if(F.length>D.length||"full"===w.pathMatch&&(N.hasChildren()||F.length<D.length))return null;const H={};for(let fe=0;fe<F.length;fe++){const ke=F[fe],At=D[fe];if(ke.startsWith(":"))H[ke.substring(1)]=At;else if(ke!==At.path)return null}return{consumed:D.slice(0,F.length),posParams:H}}function Vt(D,N){const w=D?Object.keys(D):void 0,F=N?Object.keys(N):void 0;if(!w||!F||w.length!=F.length)return!1;let H;for(let fe=0;fe<w.length;fe++)if(H=w[fe],!Cn(D[H],N[H]))return!1;return!0}function Cn(D,N){if(Array.isArray(D)&&Array.isArray(N)){if(D.length!==N.length)return!1;const w=[...D].sort(),F=[...N].sort();return w.every((H,fe)=>F[fe]===H)}return D===N}function jn(D){return D.length>0?D[D.length-1]:null}function In(D){return function Ie(D){return!!D&&(D instanceof ae.c||(0,r.T)(D.lift)&&(0,r.T)(D.subscribe))}(D)?D:(0,i.jNT)(D)?(0,le.H)(Promise.resolve(D)):(0,Ce.of)(D)}const Rr={exact:function Wr(D,N,w){if(!yt(D.segments,N.segments)||!tr(D.segments,N.segments,w)||D.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!D.children[F]||!Wr(D.children[F],N.children[F],w))return!1;return!0},subset:fn},Dr={exact:function zn(D,N){return Vt(D,N)},subset:function es(D,N){return Object.keys(N).length<=Object.keys(D).length&&Object.keys(N).every(w=>Cn(D[w],N[w]))},ignored:()=>!0};function Ur(D,N,w){return Rr[w.paths](D.root,N.root,w.matrixParams)&&Dr[w.queryParams](D.queryParams,N.queryParams)&&!("exact"===w.fragment&&D.fragment!==N.fragment)}function fn(D,N,w){return Kr(D,N,N.segments,w)}function Kr(D,N,w,F){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!yt(H,w)||N.hasChildren()||!tr(H,w,F))}if(D.segments.length===w.length){if(!yt(D.segments,w)||!tr(D.segments,w,F))return!1;for(const H in N.children)if(!D.children[H]||!fn(D.children[H],N.children[H],F))return!1;return!0}{const H=w.slice(0,D.segments.length),fe=w.slice(D.segments.length);return!!(yt(D.segments,H)&&tr(D.segments,H,F)&&D.children[Jt])&&Kr(D.children[Jt],N,fe,F)}}function tr(D,N,w){return N.every((F,H)=>Dr[w](D[H].parameters,F.parameters))}class vr{constructor(N=new Wn([],{}),w={},F=null){this.root=N,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class Wn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pn(this)}}class Ti{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return $(this)}}function yt(D,N){return D.length===N.length&&D.every((w,F)=>w.path===N[F].path)}let je=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return new Ot},providedIn:"root"})}}return D})();class Ot{parse(N){const w=new jt(N);return new vr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Pr(N.root,!0)}`,F=function ne(D){const N=Object.keys(D).map(w=>{const F=D[w];return Array.isArray(F)?F.map(H=>`${ei(w)}=${ei(H)}`).join("&"):`${ei(w)}=${ei(F)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${F}${"string"==typeof N.fragment?`#${function Rt(D){return encodeURI(D)}(N.fragment)}`:""}`}}const Wt=new Ot;function Pn(D){return D.segments.map(N=>$(N)).join("/")}function Pr(D,N){if(!D.hasChildren())return Pn(D);if(N){const w=D.children[Jt]?Pr(D.children[Jt],!1):"",F=[];return Object.entries(D.children).forEach(([H,fe])=>{H!==Jt&&F.push(`${H}:${Pr(fe,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function he(D,N){let w=[];return Object.entries(D.children).forEach(([F,H])=>{F===Jt&&(w=w.concat(N(H,F)))}),Object.entries(D.children).forEach(([F,H])=>{F!==Jt&&(w=w.concat(N(H,F)))}),w}(D,(F,H)=>H===Jt?[Pr(D.children[Jt],!1)]:[`${H}:${Pr(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Jt]?`${Pn(D)}/${w[0]}`:`${Pn(D)}/(${w.join("//")})`}}function nr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ei(D){return nr(D).replace(/%3B/gi,";")}function G(D){return nr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(D){return decodeURIComponent(D)}function k(D){return x(D.replace(/\+/g,"%20"))}function $(D){return`${G(D.path)}${function se(D){return Object.keys(D).map(N=>`;${G(N)}=${G(D[N])}`).join("")}(D.parameters)}`}const Ee=/^[^\/()?;#]+/;function gt(D){const N=D.match(Ee);return N?N[0]:""}const Gt=/^[^\/()?;=#]+/,_r=/^[^=?&#]+/,$e=/^[^&#]+/;class jt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(F[Jt]=new Wn(N,w)),F}parseSegment(){const N=gt(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(N),new Ti(x(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=function pn(D){const N=D.match(Gt);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const H=gt(this.remaining);H&&(F=H,this.capture(F))}N[x(w)]=x(F)}parseQueryParam(N){const w=function Ne(D){const N=D.match(_r);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const ke=function Ye(D){const N=D.match($e);return N?N[0]:""}(this.remaining);ke&&(F=ke,this.capture(F))}const H=k(w),fe=k(F);if(N.hasOwnProperty(H)){let ke=N[H];Array.isArray(ke)||(ke=[ke],N[H]=ke),ke.push(fe)}else N[H]=fe}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=gt(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new i.wOt(4010,!1);let fe;F.indexOf(":")>-1?(fe=F.slice(0,F.indexOf(":")),this.capture(fe),this.capture(":")):N&&(fe=Jt);const ke=this.parseChildren();w[fe]=1===Object.keys(ke).length?ke[Jt]:new Wn([],ke),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new i.wOt(4011,!1)}}function rn(D){return D.segments.length>0?new Wn([],{[Jt]:D}):D}function bn(D){const N={};for(const F of Object.keys(D.children)){const fe=bn(D.children[F]);if(F===Jt&&0===fe.segments.length&&fe.hasChildren())for(const[ke,At]of Object.entries(fe.children))N[ke]=At;else(fe.segments.length>0||fe.hasChildren())&&(N[F]=fe)}return function dn(D){if(1===D.numberOfChildren&&D.children[Jt]){const N=D.children[Jt];return new Wn(D.segments.concat(N.segments),N.children)}return D}(new Wn(D.segments,N))}function ar(D){return D instanceof vr}function Ci(D){let N;const H=rn(function w(fe){const ke={};for(const It of fe.children){const Sn=w(It);ke[It.outlet]=Sn}const At=new Wn(fe.url,ke);return fe===D&&(N=At),At}(D.root));return N??H}function wt(D,N,w,F){let H=D;for(;H.parent;)H=H.parent;if(0===N.length)return hn(H,H,H,w,F);const fe=function Fn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new _n(!0,0,D);let N=0,w=!1;const F=D.reduce((H,fe,ke)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const At={};return Object.entries(fe.outlets).forEach(([It,Sn])=>{At[It]="string"==typeof Sn?Sn.split("/"):Sn}),[...H,{outlets:At}]}if(fe.segmentPath)return[...H,fe.segmentPath]}return"string"!=typeof fe?[...H,fe]:0===ke?(fe.split("/").forEach((At,It)=>{0==It&&"."===At||(0==It&&""===At?w=!0:".."===At?N++:""!=At&&H.push(At))}),H):[...H,fe]},[]);return new _n(w,N,F)}(N);if(fe.toRoot())return hn(H,H,new Wn([],{}),w,F);const ke=function jr(D,N,w){if(D.isAbsolute)return new gr(N,!0,0);if(!w)return new gr(N,!1,NaN);if(null===w.parent)return new gr(w,!0,0);const F=st(D.commands[0])?0:1;return function Zn(D,N,w){let F=D,H=N,fe=w;for(;fe>H;){if(fe-=H,F=F.parent,!F)throw new i.wOt(4005,!1);H=F.segments.length}return new gr(F,!1,H-fe)}(w,w.segments.length-1+F,D.numberOfDoubleDots)}(fe,H,D),At=ke.processChildren?Li(ke.segmentGroup,ke.index,fe.commands):us(ke.segmentGroup,ke.index,fe.commands);return hn(H,ke.segmentGroup,At,w,F)}function st(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function kt(D){return"object"==typeof D&&null!=D&&D.outlets}function hn(D,N,w,F,H){let ke,fe={};F&&Object.entries(F).forEach(([It,Sn])=>{fe[It]=Array.isArray(Sn)?Sn.map(Tr=>`${Tr}`):`${Sn}`}),ke=D===N?w:Kn(D,N,w);const At=rn(bn(ke));return new vr(At,fe,H)}function Kn(D,N,w){const F={};return Object.entries(D.children).forEach(([H,fe])=>{F[H]=fe===N?w:Kn(fe,N,w)}),new Wn(D.segments,F)}class _n{constructor(N,w,F){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=F,N&&F.length>0&&st(F[0]))throw new i.wOt(4003,!1);const H=F.find(kt);if(H&&H!==jn(F))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gr{constructor(N,w,F){this.segmentGroup=N,this.processChildren=w,this.index=F}}function us(D,N,w){if(D||(D=new Wn([],{})),0===D.segments.length&&D.hasChildren())return Li(D,N,w);const F=function Ks(D,N,w){let F=0,H=N;const fe={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(F>=w.length)return fe;const ke=D.segments[H],At=w[F];if(kt(At))break;const It=`${At}`,Sn=F<w.length-1?w[F+1]:null;if(H>0&&void 0===It)break;if(It&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!Qr(It,Sn,ke))return fe;F+=2}else{if(!Qr(It,{},ke))return fe;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(D,N,w),H=w.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const fe=new Wn(D.segments.slice(0,F.pathIndex),{});return fe.children[Jt]=new Wn(D.segments.slice(F.pathIndex),D.children),Li(fe,0,H)}return F.match&&0===H.length?new Wn(D.segments,{}):F.match&&!D.hasChildren()?go(D,N,w):F.match?Li(D,0,H):go(D,N,w)}function Li(D,N,w){if(0===w.length)return new Wn(D.segments,{});{const F=function ki(D){return kt(D[0])?D[0].outlets:{[Jt]:D}}(w),H={};if(Object.keys(F).some(fe=>fe!==Jt)&&D.children[Jt]&&1===D.numberOfChildren&&0===D.children[Jt].segments.length){const fe=Li(D.children[Jt],N,w);return new Wn(D.segments,fe.children)}return Object.entries(F).forEach(([fe,ke])=>{"string"==typeof ke&&(ke=[ke]),null!==ke&&(H[fe]=us(D.children[fe],N,ke))}),Object.entries(D.children).forEach(([fe,ke])=>{void 0===F[fe]&&(H[fe]=ke)}),new Wn(D.segments,H)}}function go(D,N,w){const F=D.segments.slice(0,N);let H=0;for(;H<w.length;){const fe=w[H];if(kt(fe)){const It=$i(fe.outlets);return new Wn(F,It)}if(0===H&&st(w[0])){F.push(new Ti(D.segments[N].path,Uo(w[0]))),H++;continue}const ke=kt(fe)?fe.outlets[Jt]:`${fe}`,At=H<w.length-1?w[H+1]:null;ke&&At&&st(At)?(F.push(new Ti(ke,Uo(At))),H+=2):(F.push(new Ti(ke,{})),H++)}return new Wn(F,{})}function $i(D){const N={};return Object.entries(D).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[w]=go(new Wn([],{}),0,F))}),N}function Uo(D){const N={};return Object.entries(D).forEach(([w,F])=>N[w]=`${F}`),N}function Qr(D,N,w){return D==w.path&&Vt(N,w.parameters)}const is="imperative";class ds{constructor(N,w){this.id=N,this.url=w}}class qr extends ds{constructor(N,w,F="imperative",H=null){super(N,w),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends ds{constructor(N,w,F){super(N,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ui extends ds{constructor(N,w,F,H){super(N,w),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends ds{constructor(N,w,F,H){super(N,w),this.reason=F,this.code=H,this.type=16}}class qs extends ds{constructor(N,w,F,H){super(N,w),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mo extends ds{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends ds{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends ds{constructor(N,w,F,H,fe){super(N,w),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ka extends ds{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends ds{constructor(N,w,F,H){super(N,w),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ys{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ti{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(N,w,F){this.routerEvent=N,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Mr{}class fi{constructor(N){this.url=N}}class Ms{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const H=this.getOrCreateContext(w);H.outlet=F,this.contexts.set(w,H)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new Ms,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class hs{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=oo(N,this._root);return w?w.children.map(F=>F.value):[]}firstChild(N){const w=oo(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=ts(N,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==N)}pathFromRoot(N){return ts(N,this._root).map(w=>w.value)}}function oo(D,N){if(D===N.value)return N;for(const w of N.children){const F=oo(D,w);if(F)return F}return null}function ts(D,N){if(D===N.value)return[N];for(const w of N.children){const F=ts(D,w);if(F.length)return F.unshift(N),F}return[]}class ws{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function bs(D){const N={};return D&&D.children.forEach(w=>N[w.value.outlet]=w),N}class ci extends hs{constructor(N,w){super(N),this.snapshot=w,ui(this,N)}toString(){return this.snapshot.toString()}}function Tn(D,N){const w=function cr(D,N){const ke=new Bi([],{},{},"",{},Jt,N,null,{});return new Xs("",new ws(ke,[]))}(0,N),F=new De.t([new Ti("",{})]),H=new De.t({}),fe=new De.t({}),ke=new De.t({}),At=new De.t(""),It=new Er(F,H,ke,At,fe,Jt,N,w.root);return It.snapshot=w.root,new ci(new ws(It,[]),w)}class Er{constructor(N,w,F,H,fe,ke,At,It){this.urlSubject=N,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=fe,this.outlet=ke,this.component=At,this._futureSnapshot=It,this.title=this.dataSubject?.pipe((0,Mt.T)(Sn=>Sn[qt]))??(0,Ce.of)(void 0),this.url=N,this.params=w,this.queryParams=F,this.fragment=H,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.T)(N=>en(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.T)(N=>en(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function os(D,N="emptyOnly"){const w=D.pathFromRoot;let F=0;if("always"!==N)for(F=w.length-1;F>=1;){const H=w[F],fe=w[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(fe.component)break;F--}}return function fs(D){return D.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class Bi{get title(){return this.data?.[qt]}constructor(N,w,F,H,fe,ke,At,It,Sn){this.url=N,this.params=w,this.queryParams=F,this.fragment=H,this.data=fe,this.outlet=ke,this.component=At,this.routeConfig=It,this._resolve=Sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xs extends hs{constructor(N,w){super(w),this.url=N,ui(this,w)}toString(){return ps(this._root)}}function ui(D,N){N.value._routerState=D,N.children.forEach(w=>ui(D,w))}function ps(D){const N=D.children.length>0?` { ${D.children.map(ps).join(", ")} } `:"";return`${D.value}${N}`}function Os(D){if(D.snapshot){const N=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Vt(N.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),N.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Vt(N.params,w.params)||D.paramsSubject.next(w.params),function Un(D,N){if(D.length!==N.length)return!1;for(let w=0;w<D.length;++w)if(!Vt(D[w],N[w]))return!1;return!0}(N.url,w.url)||D.urlSubject.next(w.url),Vt(N.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function ir(D,N){const w=Vt(D.params,N.params)&&function ht(D,N){return yt(D,N)&&D.every((w,F)=>Vt(w.parameters,N[F].parameters))}(D.url,N.url);return w&&!(!D.parent!=!N.parent)&&(!D.parent||ir(D.parent,N.parent))}let gs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(pi),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(re,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:H}=w.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=w;const H=this.location,ke=w.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,It=new Ts(w,At,H.injector);this.activated=H.createComponent(ke,{index:H.length,injector:It,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275dir=i.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return D})();class Ts{constructor(N,w,F){this.route=N,this.childContexts=w,this.parent=F}get(N,w){return N===Er?this.route:N===pi?this.childContexts:this.parent.get(N,w)}}const re=new i.nKC("");let Z=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,H=Xe([F.queryParams,F.params,F.data]).pipe((0,zt.n)(([fe,ke,At],It)=>(At={...fe,...ke,...At},0===It?(0,Ce.of)(At):Promise.resolve(At)))).subscribe(fe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const ke=(0,i.HJs)(F.component);if(ke)for(const{templateName:At}of ke.inputs)w.activatedComponentRef.setInput(At,fe[At]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function Ge(D,N,w){if(w&&D.shouldReuseRoute(N.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=N.value;const H=function lt(D,N,w){return N.children.map(F=>{for(const H of w.children)if(D.shouldReuseRoute(F.value,H.value.snapshot))return Ge(D,F,H);return Ge(D,F)})}(D,N,w);return new ws(F,H)}{if(D.shouldAttach(N.value)){const fe=D.retrieve(N.value);if(null!==fe){const ke=fe.route;return ke.value._futureSnapshot=N.value,ke.children=N.children.map(At=>Ge(D,At)),ke}}const F=function bt(D){return new Er(new De.t(D.url),new De.t(D.params),new De.t(D.queryParams),new De.t(D.fragment),new De.t(D.data),D.outlet,D.component,D)}(N.value),H=N.children.map(fe=>Ge(D,fe));return new ws(F,H)}}const on="ngNavigationCancelingError";function Nn(D,N){const{redirectTo:w,navigationBehaviorOptions:F}=ar(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,H=An(!1,0,N);return H.url=w,H.navigationBehaviorOptions=F,H}function An(D,N,w){const F=new Error("NavigationCancelingError: "+(D||""));return F[on]=!0,F.cancellationCode=N,w&&(F.url=w),F}function Or(D){return D&&D[on]}let qn=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(F,H){1&F&&i.nrm(0,"router-outlet")},dependencies:[gs],encapsulation:2})}}return D})();function Ei(D){const N=D.children&&D.children.map(Ei),w=N?{...D,children:N}:{...D};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Jt&&(w.component=qn),w}function Yr(D){return D.outlet||Jt}function ms(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let N=D.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class ns{constructor(N,w,F,H,fe){this.routeReuseStrategy=N,this.futureState=w,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=fe}activate(N){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,N),Os(this.futureState.root),this.activateChildRoutes(w,F,N)}deactivateChildRoutes(N,w,F){const H=bs(w);N.children.forEach(fe=>{const ke=fe.value.outlet;this.deactivateRoutes(fe,H[ke],F),delete H[ke]}),Object.values(H).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,F)})}deactivateRoutes(N,w,F){const H=N.value,fe=w?w.value:null;if(H===fe)if(H.component){const ke=F.getContext(H.outlet);ke&&this.deactivateChildRoutes(N,w,ke.children)}else this.deactivateChildRoutes(N,w,F);else fe&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const F=w.getContext(N.value.outlet),H=F&&N.value.component?F.children:w,fe=bs(N);for(const ke of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[ke],H);if(F&&F.outlet){const ke=F.outlet.detach(),At=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:ke,route:N,contexts:At})}}deactivateRouteAndOutlet(N,w){const F=w.getContext(N.value.outlet),H=F&&N.value.component?F.children:w,fe=bs(N);for(const ke of Object.keys(fe))this.deactivateRouteAndItsChildren(fe[ke],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,w,F){const H=bs(w);N.children.forEach(fe=>{this.activateRoutes(fe,H[fe.value.outlet],F),this.forwardEvent(new _o(fe.value.snapshot))}),N.children.length&&this.forwardEvent(new ss(N.value.snapshot))}activateRoutes(N,w,F){const H=N.value,fe=w?w.value:null;if(Os(H),H===fe)if(H.component){const ke=F.getOrCreateContext(H.outlet);this.activateChildRoutes(N,w,ke.children)}else this.activateChildRoutes(N,w,F);else if(H.component){const ke=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const At=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ke.children.onOutletReAttached(At.contexts),ke.attachRef=At.componentRef,ke.route=At.route.value,ke.outlet&&ke.outlet.attach(At.componentRef,At.route.value),Os(At.route.value),this.activateChildRoutes(N,null,ke.children)}else{const At=ms(H.snapshot);ke.attachRef=null,ke.route=H,ke.injector=At,ke.outlet&&ke.outlet.activateWith(H,ke.injector),this.activateChildRoutes(N,null,ke.children)}}else this.activateChildRoutes(N,null,F)}}class Ra{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class So{constructor(N,w){this.component=N,this.route=w}}function Pc(D,N,w){const F=D._root;return ao(F,N?N._root:null,w,[F.value])}function Ns(D,N){const w=Symbol(),F=N.get(D,w);return F===w?"function"!=typeof D||(0,i.LfX)(D)?N.get(D):D:F}function ao(D,N,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const fe=bs(N);return D.children.forEach(ke=>{(function Pa(D,N,w,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const fe=D.value,ke=N?N.value:null,At=w?w.getContext(D.value.outlet):null;if(ke&&fe.routeConfig===ke.routeConfig){const It=function ma(D,N,w){if("function"==typeof w)return w(D,N);switch(w){case"pathParamsChange":return!yt(D.url,N.url);case"pathParamsOrQueryParamsChange":return!yt(D.url,N.url)||!Vt(D.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ir(D,N)||!Vt(D.queryParams,N.queryParams);default:return!ir(D,N)}}(ke,fe,fe.routeConfig.runGuardsAndResolvers);It?H.canActivateChecks.push(new Ra(F)):(fe.data=ke.data,fe._resolvedData=ke._resolvedData),ao(D,N,fe.component?At?At.children:null:w,F,H),It&&At&&At.outlet&&At.outlet.isActivated&&H.canDeactivateChecks.push(new So(At.outlet.component,ke))}else ke&&Pi(N,At,H),H.canActivateChecks.push(new Ra(F)),ao(D,null,fe.component?At?At.children:null:w,F,H)})(ke,fe[ke.value.outlet],w,F.concat([ke.value]),H),delete fe[ke.value.outlet]}),Object.entries(fe).forEach(([ke,At])=>Pi(At,w.getContext(ke),H)),H}function Pi(D,N,w){const F=bs(D),H=D.value;Object.entries(F).forEach(([fe,ke])=>{Pi(ke,H.component?N?N.children.getContext(fe):null:N,w)}),w.canDeactivateChecks.push(new So(H.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,H))}function ra(D){return"function"==typeof D}function _s(D){return D instanceof Be.G||"EmptyError"===D?.name}const Qt=Symbol("INITIAL_VALUE");function rs(){return(0,zt.n)(D=>Xe(D.map(N=>N.pipe((0,Yt.s)(1),(0,_t.Z)(Qt)))).pipe((0,Mt.T)(N=>{for(const w of N)if(!0!==w){if(w===Qt)return Qt;if(!1===w||w instanceof vr)return w}return!0}),(0,ze.p)(N=>N!==Qt),(0,Yt.s)(1)))}function ys(D){return(0,at.F)((0,ee.M)(N=>{if(ar(N))throw Nn(0,N)}),(0,Mt.T)(N=>!0===N))}class no{constructor(N){this.segmentGroup=N||null}}class _a{constructor(N){this.urlTree=N}}function As(D){return(0,rt.$)(new no(D))}function Ma(D){return(0,rt.$)(new _a(D))}class Eu{constructor(N,w){this.urlSerializer=N,this.urlTree=w}noMatchError(N){return new i.wOt(4002,!1)}lineralizeSegments(N,w){let F=[],H=w.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,Ce.of)(F);if(H.numberOfChildren>1||!H.children[Jt])return(0,rt.$)(new i.wOt(4e3,!1));H=H.children[Jt]}}applyRedirectCommands(N,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,F)}applyRedirectCreateUrlTree(N,w,F,H){const fe=this.createSegmentGroup(N,w.root,F,H);return new vr(fe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const F={};return Object.entries(N).forEach(([H,fe])=>{if("string"==typeof fe&&fe.startsWith(":")){const At=fe.substring(1);F[H]=w[At]}else F[H]=fe}),F}createSegmentGroup(N,w,F,H){const fe=this.createSegments(N,w.segments,F,H);let ke={};return Object.entries(w.children).forEach(([At,It])=>{ke[At]=this.createSegmentGroup(N,It,F,H)}),new Wn(fe,ke)}createSegments(N,w,F,H){return w.map(fe=>fe.path.startsWith(":")?this.findPosParam(N,fe,H):this.findOrReturn(fe,F))}findPosParam(N,w,F){const H=F[w.path.substring(1)];if(!H)throw new i.wOt(4001,!1);return H}findOrReturn(N,w){let F=0;for(const H of w){if(H.path===N.path)return w.splice(F),H;F++}return N}}const wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ql(D,N,w,F,H){const fe=vo(D,N,w);return fe.matched?(F=function Yn(D,N){return D.providers&&!D._injector&&(D._injector=(0,i.Ol2)(D.providers,N,`Route: ${D.path}`)),D._injector??N}(N,F),function _l(D,N,w,F){const H=N.canMatch;if(!H||0===H.length)return(0,Ce.of)(!0);const fe=H.map(ke=>{const At=Ns(ke,D);return In(function Ke(D){return D&&ra(D.canMatch)}(At)?At.canMatch(N,w):D.runInContext(()=>At(N,w)))});return(0,Ce.of)(fe).pipe(rs(),ys())}(F,N,w).pipe((0,Mt.T)(ke=>!0===ke?fe:{...wr}))):(0,Ce.of)(fe)}function vo(D,N,w){if(""===N.path)return"full"===N.pathMatch&&(D.hasChildren()||w.length>0)?{...wr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(N.matcher||or)(w,D,N);if(!H)return{...wr};const fe={};Object.entries(H.posParams??{}).forEach(([At,It])=>{fe[At]=It.path});const ke=H.consumed.length>0?{...fe,...H.consumed[H.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:ke,positionalParamSegments:H.posParams??{}}}function $o(D,N,w,F){return w.length>0&&function ya(D,N,w){return w.some(F=>Po(D,N,F)&&Yr(F)!==Jt)}(D,w,F)?{segmentGroup:new Wn(N,bu(F,new Wn(w,D.children))),slicedSegments:[]}:0===w.length&&function Ih(D,N,w){return w.some(F=>Po(D,N,F))}(D,w,F)?{segmentGroup:new Wn(D.segments,Fa(D,0,w,F,D.children)),slicedSegments:w}:{segmentGroup:new Wn(D.segments,D.children),slicedSegments:w}}function Fa(D,N,w,F,H){const fe={};for(const ke of F)if(Po(D,w,ke)&&!H[Yr(ke)]){const At=new Wn([],{});fe[Yr(ke)]=At}return{...H,...fe}}function bu(D,N){const w={};w[Jt]=N;for(const F of D)if(""===F.path&&Yr(F)!==Jt){const H=new Wn([],{});w[Yr(F)]=H}return w}function Po(D,N,w){return(!(D.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}class Jl{constructor(N,w,F,H,fe,ke,At){this.injector=N,this.configLoader=w,this.rootComponentType=F,this.config=H,this.urlTree=fe,this.paramsInheritanceStrategy=ke,this.urlSerializer=At,this.allowRedirects=!0,this.applyRedirects=new Eu(this.urlSerializer,this.urlTree)}noMatchError(N){return new i.wOt(4002,!1)}recognize(){const N=$o(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Jt).pipe((0,be.W)(w=>{if(w instanceof _a)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof no?this.noMatchError(w):w}),(0,Mt.T)(w=>{const F=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),H=new ws(F,w),fe=new Xs("",H),ke=function gn(D,N,w=null,F=null){return wt(Ci(D),N,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return ke.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(ke),this.inheritParamsAndData(fe._root),{state:fe,tree:ke}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Jt).pipe((0,be.W)(F=>{throw F instanceof no?this.noMatchError(F):F}))}inheritParamsAndData(N){const w=N.value,F=os(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),N.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(N,w,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,w,F):this.processSegment(N,w,F,F.segments,H,!0)}processChildren(N,w,F){const H=[];for(const fe of Object.keys(F.children))"primary"===fe?H.unshift(fe):H.push(fe);return(0,le.H)(H).pipe((0,Oe.H)(fe=>{const ke=F.children[fe],At=function yo(D,N){const w=D.filter(F=>Yr(F)===N);return w.push(...D.filter(F=>Yr(F)!==N)),w}(w,fe);return this.processSegmentGroup(N,At,ke,fe)}),(0,Le.S)((fe,ke)=>(fe.push(...ke),fe)),(0,dt.U)(null),function Rn(D,N){const w=arguments.length>=2;return F=>F.pipe(D?(0,ze.p)((H,fe)=>D(H,fe,F)):xe.D,it(1),w?(0,dt.U)(N):(0,Bt.v)(()=>new Be.G))}(),(0,ct.Z)(fe=>{if(null===fe)return As(F);const ke=Ya(fe);return function ka(D){D.sort((N,w)=>N.value.outlet===Jt?-1:w.value.outlet===Jt?1:N.value.outlet.localeCompare(w.value.outlet))}(ke),(0,Ce.of)(ke)}))}processSegment(N,w,F,H,fe,ke){return(0,le.H)(w).pipe((0,Oe.H)(At=>this.processSegmentAgainstRoute(At._injector??N,w,At,F,H,fe,ke).pipe((0,be.W)(It=>{if(It instanceof no)return(0,Ce.of)(null);throw It}))),(0,ut.$)(At=>!!At),(0,be.W)(At=>{if(_s(At))return function yl(D,N,w){return 0===N.length&&!D.children[w]}(F,H,fe)?(0,Ce.of)([]):As(F);throw At}))}processSegmentAgainstRoute(N,w,F,H,fe,ke,At){return function Tu(D,N,w,F){return!!(Yr(D)===F||F!==Jt&&Po(N,w,D))&&("**"===D.path||vo(N,D,w).matched)}(F,H,fe,ke)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,H,F,fe,ke,At):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,H,w,F,fe,ke):As(H):As(H)}expandSegmentAgainstRouteUsingRedirect(N,w,F,H,fe,ke){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,H,ke):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,H,fe,ke)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,F,H){const fe=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Ma(fe):this.applyRedirects.lineralizeSegments(F,fe).pipe((0,ct.Z)(ke=>{const At=new Wn(ke,{});return this.processSegment(N,w,At,ke,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,F,H,fe,ke){const{matched:At,consumedSegments:It,remainingSegments:Sn,positionalParamSegments:Tr}=vo(w,H,fe);if(!At)return As(w);const Sr=this.applyRedirects.applyRedirectCommands(It,H.redirectTo,Tr);return H.redirectTo.startsWith("/")?Ma(Sr):this.applyRedirects.lineralizeSegments(H,Sr).pipe((0,ct.Z)($r=>this.processSegment(N,F,w,$r.concat(Sn),ke,!1)))}matchSegmentAgainstRoute(N,w,F,H,fe,ke){let At;if("**"===F.path){const It=H.length>0?jn(H).parameters:{},Sn=new Bi(H,It,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mc(F),Yr(F),F.component??F._loadedComponent??null,F,P(F));At=(0,Ce.of)({snapshot:Sn,consumedSegments:[],remainingSegments:[]}),w.children={}}else At=Ql(w,F,H,N).pipe((0,Mt.T)(({matched:It,consumedSegments:Sn,remainingSegments:Tr,parameters:Sr})=>It?{snapshot:new Bi(Sn,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mc(F),Yr(F),F.component??F._loadedComponent??null,F,P(F)),consumedSegments:Sn,remainingSegments:Tr}:null));return At.pipe((0,zt.n)(It=>null===It?As(w):this.getChildConfig(N=F._injector??N,F,H).pipe((0,zt.n)(({routes:Sn})=>{const Tr=F._loadedInjector??N,{snapshot:Sr,consumedSegments:$r,remainingSegments:vi}=It,{segmentGroup:Za,slicedSegments:wl}=$o(w,$r,vi,Sn);if(0===wl.length&&Za.hasChildren())return this.processChildren(Tr,Sn,Za).pipe((0,Mt.T)(Al=>null===Al?null:[new ws(Sr,Al)]));if(0===Sn.length&&0===wl.length)return(0,Ce.of)([new ws(Sr,[])]);const nc=Yr(F)===fe;return this.processSegment(Tr,Sn,Za,wl,nc?Jt:fe,!0).pipe((0,Mt.T)(Al=>[new ws(Sr,Al)]))}))))}getChildConfig(N,w,F){return w.children?(0,Ce.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ce.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function xa(D,N,w,F){const H=N.canLoad;if(void 0===H||0===H.length)return(0,Ce.of)(!0);const fe=H.map(ke=>{const At=Ns(ke,D);return In(function K(D){return D&&ra(D.canLoad)}(At)?At.canLoad(N,w):D.runInContext(()=>At(N,w)))});return(0,Ce.of)(fe).pipe(rs(),ys())}(N,w,F).pipe((0,ct.Z)(H=>H?this.configLoader.loadChildren(N,w).pipe((0,ee.M)(fe=>{w._loadedRoutes=fe.routes,w._loadedInjector=fe.injector})):function Na(D){return(0,rt.$)(An(!1,3))}())):(0,Ce.of)({routes:[],injector:N})}}function qa(D){const N=D.value.routeConfig;return N&&""===N.path}function Ya(D){const N=[],w=new Set;for(const F of D){if(!qa(F)){N.push(F);continue}const H=N.find(fe=>F.value.routeConfig===fe.value.routeConfig);void 0!==H?(H.children.push(...F.children),w.add(H)):N.push(F)}for(const F of w){const H=Ya(F.children);N.push(new ws(F.value,H))}return N.filter(F=>!w.has(F))}function Mc(D){return D.data||{}}function P(D){return D.resolve||{}}function Xn(D){return"string"==typeof D.title||null===D.title}function Zr(D){return(0,zt.n)(N=>{const w=D(N);return w?(0,le.H)(w).pipe((0,Mt.T)(()=>N)):(0,Ce.of)(N)})}const _i=new i.nKC("ROUTES");let Gr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ce.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=In(w.loadComponent()).pipe((0,Mt.T)(yi),(0,ee.M)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=fe}),(0,un.j)(()=>{this.componentLoaders.delete(w)})),H=new $t(F,()=>new qe.B).pipe(ye());return this.componentLoaders.set(w,H),H}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ce.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const fe=function dr(D,N,w,F){return In(D.loadChildren()).pipe((0,Mt.T)(yi),(0,ct.Z)(H=>H instanceof i.Co$||Array.isArray(H)?(0,Ce.of)(H):(0,le.H)(N.compileModuleAsync(H))),(0,Mt.T)(H=>{F&&F(D);let fe,ke,At=!1;return Array.isArray(H)?(ke=H,!0):(fe=H.create(w).injector,ke=fe.get(_i,[],{optional:!0,self:!0}).flat()),{routes:ke.map(Ei),injector:fe}}))}(F,this.compiler,w,this.onLoadEndListener).pipe((0,un.j)(()=>{this.childrenLoaders.delete(F)})),ke=new $t(fe,()=>new qe.B).pipe(ye());return this.childrenLoaders.set(F,ke),ke}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function yi(D){return function Hr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ni=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe.B,this.transitionAbortSubject=new qe.B,this.configLoader=(0,i.WQX)(Gr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(je),this.rootContexts=(0,i.WQX)(pi),this.inputBindingEnabled=null!==(0,i.WQX)(re,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ys(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ga(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w,F,H){return this.transitions=new De.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:w.urlHandlingStrategy.extract(F),urlAfterRedirects:w.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:is,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ze.p)(fe=>0!==fe.id),(0,Mt.T)(fe=>({...fe,extractedUrl:w.urlHandlingStrategy.extract(fe.rawUrl)})),(0,zt.n)(fe=>{this.currentTransition=fe;let ke=!1,At=!1;return(0,Ce.of)(fe).pipe((0,ee.M)(It=>{this.currentNavigation={id:It.id,initialUrl:It.rawUrl,extractedUrl:It.extractedUrl,trigger:It.source,extras:It.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zt.n)(It=>{const Sn=It.currentBrowserUrl.toString(),Tr=!w.navigated||It.extractedUrl.toString()!==Sn||Sn!==It.currentUrlTree.toString();if(!Tr&&"reload"!==(It.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const $r="";return this.events.next(new xr(It.id,this.urlSerializer.serialize(It.rawUrl),$r,0)),It.resolve(null),ft.w}if(w.urlHandlingStrategy.shouldProcessUrl(It.rawUrl))return(0,Ce.of)(It).pipe((0,zt.n)($r=>{const vi=this.transitions?.getValue();return this.events.next(new qr($r.id,this.urlSerializer.serialize($r.extractedUrl),$r.source,$r.restoredState)),vi!==this.transitions?.getValue()?ft.w:Promise.resolve($r)}),function oe(D,N,w,F,H,fe){return(0,ct.Z)(ke=>function Bo(D,N,w,F,H,fe,ke="emptyOnly"){return new Jl(D,N,w,F,H,ke,fe).recognize()}(D,N,w,F,ke.extractedUrl,H,fe).pipe((0,Mt.T)(({state:At,tree:It})=>({...ke,targetSnapshot:At,urlAfterRedirects:It}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,ee.M)($r=>{fe.targetSnapshot=$r.targetSnapshot,fe.urlAfterRedirects=$r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$r.urlAfterRedirects};const vi=new mo($r.id,this.urlSerializer.serialize($r.extractedUrl),this.urlSerializer.serialize($r.urlAfterRedirects),$r.targetSnapshot);this.events.next(vi)}));if(Tr&&w.urlHandlingStrategy.shouldProcessUrl(It.currentRawUrl)){const{id:$r,extractedUrl:vi,source:Za,restoredState:wl,extras:nc}=It,Al=new qr($r,this.urlSerializer.serialize(vi),Za,wl);this.events.next(Al);const Pu=Tn(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...It,targetSnapshot:Pu,urlAfterRedirects:vi,extras:{...nc,skipLocationChange:!1,replaceUrl:!1}},(0,Ce.of)(fe)}{const $r="";return this.events.next(new xr(It.id,this.urlSerializer.serialize(It.extractedUrl),$r,1)),It.resolve(null),ft.w}}),(0,ee.M)(It=>{const Sn=new Jr(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(Sn)}),(0,Mt.T)(It=>(this.currentTransition=fe={...It,guards:Pc(It.targetSnapshot,It.currentSnapshot,this.rootContexts)},fe)),function lo(D,N){return(0,ct.Z)(w=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:fe,canDeactivateChecks:ke}}=w;return 0===ke.length&&0===fe.length?(0,Ce.of)({...w,guardsResult:!0}):function $s(D,N,w,F){return(0,le.H)(D).pipe((0,ct.Z)(H=>function On(D,N,w,F,H){const fe=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,Ce.of)(!0);const ke=fe.map(At=>{const It=ms(N)??H,Sn=Ns(At,It);return In(function pe(D){return D&&ra(D.canDeactivate)}(Sn)?Sn.canDeactivate(D,N,w,F):It.runInContext(()=>Sn(D,N,w,F))).pipe((0,ut.$)())});return(0,Ce.of)(ke).pipe(rs())}(H.component,H.route,w,N,F)),(0,ut.$)(H=>!0!==H,!0))}(ke,F,H,D).pipe((0,ct.Z)(At=>At&&function Ro(D){return"boolean"==typeof D}(At)?function Mi(D,N,w,F){return(0,le.H)(N).pipe((0,Oe.H)(H=>(0,Pt.x)(function xc(D,N){return null!==D&&N&&N(new ti(D)),(0,Ce.of)(!0)}(H.route.parent,F),function to(D,N){return null!==D&&N&&N(new xs(D)),(0,Ce.of)(!0)}(H.route,F),function jo(D,N,w){const F=N[N.length-1],fe=N.slice(0,N.length-1).reverse().map(ke=>function js(D){const N=D.routeConfig?D.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:D,guards:N}:null}(ke)).filter(ke=>null!==ke).map(ke=>we(()=>{const At=ke.guards.map(It=>{const Sn=ms(ke.node)??w,Tr=Ns(It,Sn);return In(function U(D){return D&&ra(D.canActivateChild)}(Tr)?Tr.canActivateChild(F,D):Sn.runInContext(()=>Tr(F,D))).pipe((0,ut.$)())});return(0,Ce.of)(At).pipe(rs())}));return(0,Ce.of)(fe).pipe(rs())}(D,H.path,w),function Oi(D,N,w){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Ce.of)(!0);const H=F.map(fe=>we(()=>{const ke=ms(N)??w,At=Ns(fe,ke);return In(function te(D){return D&&ra(D.canActivate)}(At)?At.canActivate(N,D):ke.runInContext(()=>At(N,D))).pipe((0,ut.$)())}));return(0,Ce.of)(H).pipe(rs())}(D,H.route,w))),(0,ut.$)(H=>!0!==H,!0))}(F,fe,D,N):(0,Ce.of)(At)),(0,Mt.T)(At=>({...w,guardsResult:At})))})}(this.environmentInjector,It=>this.events.next(It)),(0,ee.M)(It=>{if(fe.guardsResult=It.guardsResult,ar(It.guardsResult))throw Nn(0,It.guardsResult);const Sn=new na(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot,!!It.guardsResult);this.events.next(Sn)}),(0,ze.p)(It=>!!It.guardsResult||(this.cancelNavigationTransition(It,"",3),!1)),Zr(It=>{if(It.guards.canActivateChecks.length)return(0,Ce.of)(It).pipe((0,ee.M)(Sn=>{const Tr=new Ka(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Tr)}),(0,zt.n)(Sn=>{let Tr=!1;return(0,Ce.of)(Sn).pipe(function B(D,N){return(0,ct.Z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Ce.of)(w);let fe=0;return(0,le.H)(H).pipe((0,Oe.H)(ke=>function X(D,N,w,F){const H=D.routeConfig,fe=D._resolve;return void 0!==H?.title&&!Xn(H)&&(fe[qt]=H.title),function Ve(D,N,w,F){const H=function Dt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,Ce.of)({});const fe={};return(0,le.H)(H).pipe((0,ct.Z)(ke=>function Ht(D,N,w,F){const H=ms(N)??F,fe=Ns(D,H);return In(fe.resolve?fe.resolve(N,w):H.runInContext(()=>fe(N,w)))}(D[ke],N,w,F).pipe((0,ut.$)(),(0,ee.M)(At=>{fe[ke]=At}))),it(1),function lr(D){return(0,Mt.T)(()=>D)}(fe),(0,be.W)(ke=>_s(ke)?ft.w:(0,rt.$)(ke)))}(fe,D,N,F).pipe((0,Mt.T)(ke=>(D._resolvedData=ke,D.data=os(D,w).resolve,H&&Xn(H)&&(D.data[qt]=H.title),null)))}(ke.route,F,D,N)),(0,ee.M)(()=>fe++),it(1),(0,ct.Z)(ke=>fe===H.length?(0,Ce.of)(w):ft.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,ee.M)({next:()=>Tr=!0,complete:()=>{Tr||this.cancelNavigationTransition(Sn,"",2)}}))}),(0,ee.M)(Sn=>{const Tr=new Si(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Tr)}))}),Zr(It=>{const Sn=Tr=>{const Sr=[];Tr.routeConfig?.loadComponent&&!Tr.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(Tr.routeConfig).pipe((0,ee.M)($r=>{Tr.component=$r}),(0,Mt.T)(()=>{})));for(const $r of Tr.children)Sr.push(...Sn($r));return Sr};return Xe(Sn(It.targetSnapshot.root)).pipe((0,dt.U)(),(0,Yt.s)(1))}),Zr(()=>this.afterPreactivation()),(0,Mt.T)(It=>{const Sn=function Pe(D,N,w){const F=Ge(D,N._root,w?w._root:void 0);return new ci(F,N)}(w.routeReuseStrategy,It.targetSnapshot,It.currentRouterState);return this.currentTransition=fe={...It,targetRouterState:Sn},fe}),(0,ee.M)(()=>{this.events.next(new Mr)}),((D,N,w,F)=>(0,Mt.T)(H=>(new ns(N,H.targetRouterState,H.currentRouterState,w,F).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,It=>this.events.next(It),this.inputBindingEnabled),(0,Yt.s)(1),(0,ee.M)({next:It=>{ke=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects))),w.titleStrategy?.updateTitle(It.targetRouterState.snapshot),It.resolve(!0)},complete:()=>{ke=!0}}),function nn(D){return(0,Ut.N)((N,w)=>{(0,Se.Tg)(D).subscribe((0,Fe._)(w,()=>w.complete(),kn.l)),!w.closed&&N.subscribe(w)})}(this.transitionAbortSubject.pipe((0,ee.M)(It=>{throw It}))),(0,un.j)(()=>{ke||At||this.cancelNavigationTransition(fe,"",1),this.currentNavigation?.id===fe.id&&(this.currentNavigation=null)}),(0,be.W)(It=>{if(At=!0,Or(It))this.events.next(new Ui(fe.id,this.urlSerializer.serialize(fe.extractedUrl),It.message,It.cancellationCode)),function rr(D){return Or(D)&&ar(D.url)}(It)?this.events.next(new fi(It.url)):fe.resolve(!1);else{this.events.next(new qs(fe.id,this.urlSerializer.serialize(fe.extractedUrl),It,fe.targetSnapshot??void 0));try{fe.resolve(w.errorHandler(It))}catch(Sn){fe.reject(Sn)}}return ft.w}))}))}cancelNavigationTransition(w,F,H){const fe=new Ui(w.id,this.urlSerializer.serialize(w.extractedUrl),F,H);this.events.next(fe),w.resolve(!1)}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Qs(D){return D!==is}let Fs=(()=>{class D{buildTitle(w){let F,H=w.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(fe=>fe.outlet===Jt);return F}getResolvedTitleForRoute(w){return w.data[qt]}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(ia)},providedIn:"root"})}}return D})(),ia=(()=>{class D extends Fs{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(Ln.hE))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Bs=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(Cs)},providedIn:"root"})}}return D})();class Go{shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let Cs=(()=>{class D extends Go{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=i.xGo(D)))(H||D)}}()}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const xo=new i.nKC("",{providedIn:"root",factory:()=>({})});let _d=(()=>{class D{static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:function(){return(0,i.WQX)(Ar)},providedIn:"root"})}}return D})(),Ar=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Vr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Vr||{});function vl(D,N){D.events.pipe((0,ze.p)(w=>w instanceof Vi||w instanceof Ui||w instanceof qs||w instanceof xr),(0,Mt.T)(w=>w instanceof Vi||w instanceof xr?Vr.COMPLETE:w instanceof Ui&&(0===w.code||1===w.code)?Vr.REDIRECTING:Vr.FAILED),(0,ze.p)(w=>w!==Vr.REDIRECTING),(0,Yt.s)(1)).subscribe(()=>{N()})}function ro(D){throw D}function Cu(D,N,w){return N.parse("/")}const yd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},El={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,i.WQX)(i.H3F),this.isNgZoneEnabled=!1,this._events=new qe.B,this.options=(0,i.WQX)(xo,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,i.WQX)(_d),this.routeReuseStrategy=(0,i.WQX)(Bs),this.titleStrategy=(0,i.WQX)(Fs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,i.WQX)(_i,{optional:!0})?.flat()??[],this.navigationTransitions=(0,i.WQX)(Ni),this.urlSerializer=(0,i.WQX)(je),this.location=(0,i.WQX)(wn.aZ),this.componentInputBindingEnabled=!!(0,i.WQX)(re,{optional:!0}),this.eventsSubscription=new Ft.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Iu(F)&&this._events.next(F));if(F instanceof qr)Qs(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof xr)this.rawUrlTree=H.rawUrl;else if(F instanceof mo){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(fe,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof Mr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Ui)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof fi){const fe=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),ke={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qs(H.source)};this.scheduleNavigation(fe,is,null,ke,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof qs&&this.restoreHistory(H,!0),F instanceof Vi&&(this.navigated=!0),Iu(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),is,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,H){const fe={replaceUrl:!0},ke=H?.navigationId?H:null;if(H){const It={...H};delete It.navigationId,delete It.\u0275routerPageId,0!==Object.keys(It).length&&(fe.state=It)}const At=this.parseUrl(w);this.scheduleNavigation(At,F,ke,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ei),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,F={}){const{relativeTo:H,queryParams:fe,fragment:ke,queryParamsHandling:At,preserveFragment:It}=F,Sn=It?this.currentUrlTree.fragment:ke;let Sr,Tr=null;switch(At){case"merge":Tr={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=fe||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{Sr=Ci(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Sr=this.currentUrlTree.root}return wt(Sr,w,Tr,Sn??null)}navigateByUrl(w,F={skipLocationChange:!1}){const H=ar(w)?w:this.parseUrl(w),fe=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(fe,is,null,F)}navigate(w,F={skipLocationChange:!1}){return function wh(D){for(let N=0;N<D.length;N++)if(null==D[N])throw new i.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return F}isActive(w,F){let H;if(H=!0===F?{...yd}:!1===F?{...El}:F,ar(w))return Ur(this.currentUrlTree,w,H);const fe=this.parseUrl(w);return Ur(this.currentUrlTree,fe,H)}removeEmptyProps(w){return Object.keys(w).reduce((F,H)=>{const fe=w[H];return null!=fe&&(F[H]=fe),F},{})}scheduleNavigation(w,F,H,fe,ke){if(this.disposed)return Promise.resolve(!1);let At,It,Sn;ke?(At=ke.resolve,It=ke.reject,Sn=ke.promise):Sn=new Promise((Sr,$r)=>{At=Sr,It=$r});const Tr=this.pendingTasks.add();return vl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:fe,resolve:At,reject:It,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(Sr=>Promise.reject(Sr))}setBrowserUrl(w,F){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const ke={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",ke)}else{const fe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",fe)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===fe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}static{this.\u0275fac=function(F){return new(F||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Iu(D){return!(D instanceof Mr||D instanceof fi)}let sa=(()=>{class D{constructor(w,F,H,fe,ke,At){this.router=w,this.route=F,this.tabIndexAttribute=H,this.renderer=fe,this.el=ke,this.locationStrategy=At,this.href=null,this.commands=null,this.onChanges=new qe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const It=ke.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===It||"area"===It,this.isAnchorElement?this.subscription=w.events.subscribe(Sn=>{Sn instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,F,H,fe,ke){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||F||H||fe||ke||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,F){const H=this.renderer,fe=this.el.nativeElement;null!==F?H.setAttribute(fe,w,F):H.removeAttribute(fe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||D)(i.rXU(Hi),i.rXU(Er),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(wn.hb))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&i.bIt("click",function(ke){return H.onClick(ke.button,ke.ctrlKey,ke.shiftKey,ke.altKey,ke.metaKey)}),2&F&&i.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",i.L39],skipLocationChange:["skipLocationChange","skipLocationChange",i.L39],replaceUrl:["replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return D})(),Ds=(()=>{class D{get isActive(){return this._isActive}constructor(w,F,H,fe,ke){this.router=w,this.element=F,this.renderer=H,this.cdr=fe,this.link=ke,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=w.events.subscribe(At=>{At instanceof Vi&&this.update()})}ngAfterContentInit(){(0,Ce.of)(this.links.changes,(0,Ce.of)(null)).pipe((0,Qn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,le.H)(w).pipe((0,Qn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(w){const F=Array.isArray(w)?w:w.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(F=>{w?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const F=function La(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,F)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(F){return new(F||D)(i.rXU(Hi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(sa,8))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,fe){if(1&F&&i.wni(fe,sa,5),2&F){let ke;i.mGM(ke=i.lsd())&&(H.links=ke)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return D})();class Zl{}let bl=(()=>{class D{constructor(w,F,H,fe,ke){this.router=w,this.injector=H,this.preloadingStrategy=fe,this.loader=ke}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.p)(w=>w instanceof Vi),(0,Oe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const H=[];for(const fe of F){fe.providers&&!fe._injector&&(fe._injector=(0,i.Ol2)(fe.providers,w,`Route: ${fe.path}`));const ke=fe._injector??w,At=fe._loadedInjector??ke;(fe.loadChildren&&!fe._loadedRoutes&&void 0===fe.canLoad||fe.loadComponent&&!fe._loadedComponent)&&H.push(this.preloadConfig(ke,fe)),(fe.children||fe._loadedRoutes)&&H.push(this.processRoutes(At,fe.children??fe._loadedRoutes))}return(0,le.H)(H).pipe((0,Qn.U)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,Ce.of)(null);const fe=H.pipe((0,ct.Z)(ke=>null===ke?(0,Ce.of)(void 0):(F._loadedRoutes=ke.routes,F._loadedInjector=ke.injector,this.processRoutes(ke.injector??w,ke.routes))));if(F.loadComponent&&!F._loadedComponent){const ke=this.loader.loadComponent(F);return(0,le.H)([fe,ke]).pipe((0,Qn.U)())}return fe})}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(Hi),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(Zl),i.KVO(Gr))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const wu=new i.nKC("");let br=(()=>{class D{constructor(w,F,H,fe,ke={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=H,this.zone=fe,this.options=ke,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ke.scrollPositionRestoration=ke.scrollPositionRestoration||"disabled",ke.anchorScrolling=ke.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Vi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof xr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Us&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Us(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){i.QTQ()}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function va(D,N){return{\u0275kind:D,\u0275providers:N}}function Nc(){const D=(0,i.WQX)(i.zZn);return N=>{const w=D.get(i.o8S);if(N!==w.components[0])return;const F=D.get(Hi),H=D.get(Ua);1===D.get(Ki)&&F.initialNavigation(),D.get(Lr,null,i.$GK.Optional)?.setUpPreloading(),D.get(wu,null,i.$GK.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Ua=new i.nKC("",{factory:()=>new qe.B}),Ki=new i.nKC("",{providedIn:"root",factory:()=>1}),Lr=new i.nKC("");function Ho(D){return va(0,[{provide:Lr,useExisting:bl},{provide:Zl,useExisting:D}])}const Cl=new i.nKC("ROUTER_FORROOT_GUARD"),bd=[wn.aZ,{provide:je,useClass:Ot},Hi,pi,{provide:Er,useFactory:function Au(D){return D.routerState.root},deps:[Hi]},Gr,[]];function ja(){return new i.NEm("Router",Hi)}let Il=(()=>{class D{constructor(w){}static forRoot(w,F){return{ngModule:D,providers:[bd,[],{provide:_i,multi:!0,useValue:w},{provide:Cl,useFactory:Ea,deps:[[Hi,new i.Xx1,new i.kdw]]},{provide:xo,useValue:F||{}},F?.useHash?{provide:wn.hb,useClass:wn.fw}:{provide:wn.hb,useClass:wn.Sm},{provide:wu,useFactory:()=>{const D=(0,i.WQX)(wn.Xr),N=(0,i.WQX)(i.SKi),w=(0,i.WQX)(xo),F=(0,i.WQX)(Ni),H=(0,i.WQX)(je);return w.scrollOffset&&D.setOffset(w.scrollOffset),new br(H,F,D,N,w)}},F?.preloadingStrategy?Ho(F.preloadingStrategy).\u0275providers:[],{provide:i.NEm,multi:!0,useFactory:ja},F?.initialNavigation?Ja(F):[],F?.bindToComponentInputs?va(8,[Z,{provide:re,useExisting:Z}]).\u0275providers:[],[{provide:Eo,useFactory:Nc},{provide:i.iLQ,multi:!0,useExisting:Eo}]]}}static forChild(w){return{ngModule:D,providers:[{provide:_i,multi:!0,useValue:w}]}}static{this.\u0275fac=function(F){return new(F||D)(i.KVO(Cl,8))}}static{this.\u0275mod=i.$C({type:D})}static{this.\u0275inj=i.G2t({})}}return D})();function Ea(D){return"guarded"}function Ja(D){return["disabled"===D.initialNavigation?va(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const N=(0,i.WQX)(Hi);return()=>{N.setUpLocationChangeListener()}}},{provide:Ki,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?va(2,[{provide:Ki,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:N=>{const w=N.get(wn.hj,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const H=N.get(Hi),fe=N.get(Ua);vl(H,()=>{F(!0)}),N.get(Ni).afterPreactivation=()=>(F(!0),fe.closed?(0,Ce.of)(void 0):fe),H.initialNavigation()}))}}]).\u0275providers:[]]}const Eo=new i.nKC("")},3345:(sn,Je,O)=>{O.d(Je,{A:()=>Xe});var i=O(1076),ae=O(1362),r=O(7852),Ie=O(8041);class le{constructor(ge,Be){this._delegate=ge,this.firebase=Be,(0,r._addComponent)(ge,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(ge,Be=r._DEFAULT_ENTRY_NAME){var Pt;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(ge);return!Se.isInitialized()&&"EXPLICIT"===(null===(Pt=Se.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:Be})}_removeServiceInstance(ge,Be=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Be)}_addComponent(ge){(0,r._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,r._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new i.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function xe(){const We=function Te(We){const ge={},Be={__esModule:!0,initializeApp:function we(Ft,Ut={}){const ye=r.initializeApp(Ft,Ut);if((0,i.gR)(ge,ye.name))return ge[ye.name];const $t=new We(ye,Be);return ge[ye.name]=$t,$t},app:Se,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function rt(Ft){const Ut=Ft.name,ye=Ut.replace("-compat","");if(r._registerComponent(Ft)&&"PUBLIC"===Ft.type){const $t=(qe=Se())=>{if("function"!=typeof qe[ye])throw De.create("invalid-app-argument",{appName:Ut});return qe[ye]()};void 0!==Ft.serviceProps&&(0,i.zw)($t,Ft.serviceProps),Be[ye]=$t,We.prototype[ye]=function(...qe){return this._getService.bind(this,Ut).apply(this,Ft.multipleInstances?qe:[])}}return"PUBLIC"===Ft.type?Be[ye]:null},removeApp:function Pt(Ft){delete ge[Ft]},useAsService:function ft(Ft,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:r}};function Se(Ft){if(!(0,i.gR)(ge,Ft=Ft||r._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ft});return ge[Ft]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function at(){return Object.keys(ge).map(Ft=>ge[Ft])}}),Se.App=We,Be}(le);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function ge(Be){(0,i.zw)(We,Be)},createSubscribe:i.tD,ErrorFactory:i.FA,deepExtend:i.zw}),We}(),J=new Ie.Vy("@firebase/app-compat");try{const We=(0,i.mS)();if(void 0!==We.firebase){J.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ge=We.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&J.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Xe=W;!function Ue(We){(0,r.registerVersion)("@firebase/app-compat","0.2.43",We)}()},7852:(sn,Je,O)=>{O.r(Je),O.d(Je,{FirebaseError:()=>Ie.g,SDK_VERSION:()=>Ot,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>Wr,_addOrOverwriteComponent:()=>es,_apps:()=>Dr,_clearComponents:()=>Ti,_components:()=>zn,_getProvider:()=>Kr,_isFirebaseApp:()=>vr,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>fn,_removeServiceInstance:()=>tr,_serverApps:()=>Ur,deleteApp:()=>ei,getApp:()=>Pr,getApps:()=>nr,initializeApp:()=>Wt,initializeServerApp:()=>Pn,onLog:()=>x,registerVersion:()=>G,setLogLevel:()=>k});var i=O(467),ae=O(1362),r=O(8041),Ie=O(1076);const le=(wt,st)=>st.some(kt=>wt instanceof kt);let Ce,De;const W=new WeakMap,J=new WeakMap,_e=new WeakMap,Fe=new WeakMap,Ue=new WeakMap;let ge={get(wt,st,kt){if(wt instanceof IDBTransaction){if("done"===st)return J.get(wt);if("objectStoreNames"===st)return wt.objectStoreNames||_e.get(wt);if("store"===st)return kt.objectStoreNames[1]?void 0:kt.objectStore(kt.objectStoreNames[0])}return we(wt[st])},set:(wt,st,kt)=>(wt[st]=kt,!0),has:(wt,st)=>wt instanceof IDBTransaction&&("done"===st||"store"===st)||st in wt};function Se(wt){return"function"==typeof wt?function Pt(wt){return wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(wt)?function(...st){return wt.apply(at(this),st),we(W.get(this))}:function(...st){return we(wt.apply(at(this),st))}:function(st,...kt){const hn=wt.call(at(this),st,...kt);return _e.set(hn,st.sort?st.sort():[st]),we(hn)}}(wt):(wt instanceof IDBTransaction&&function We(wt){if(J.has(wt))return;const st=new Promise((kt,hn)=>{const Kn=()=>{wt.removeEventListener("complete",_n),wt.removeEventListener("error",Fn),wt.removeEventListener("abort",Fn)},_n=()=>{kt(),Kn()},Fn=()=>{hn(wt.error||new DOMException("AbortError","AbortError")),Kn()};wt.addEventListener("complete",_n),wt.addEventListener("error",Fn),wt.addEventListener("abort",Fn)});J.set(wt,st)}(wt),le(wt,function Te(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(wt,ge):wt)}function we(wt){if(wt instanceof IDBRequest)return function Xe(wt){const st=new Promise((kt,hn)=>{const Kn=()=>{wt.removeEventListener("success",_n),wt.removeEventListener("error",Fn)},_n=()=>{kt(we(wt.result)),Kn()},Fn=()=>{hn(wt.error),Kn()};wt.addEventListener("success",_n),wt.addEventListener("error",Fn)});return st.then(kt=>{kt instanceof IDBCursor&&W.set(kt,wt)}).catch(()=>{}),Ue.set(st,wt),st}(wt);if(Fe.has(wt))return Fe.get(wt);const st=Se(wt);return st!==wt&&(Fe.set(wt,st),Ue.set(st,wt)),st}const at=wt=>Ue.get(wt),Ft=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],ye=new Map;function $t(wt,st){if(!(wt instanceof IDBDatabase)||st in wt||"string"!=typeof st)return;if(ye.get(st))return ye.get(st);const kt=st.replace(/FromIndex$/,""),hn=st!==kt,Kn=Ut.includes(kt);if(!(kt in(hn?IDBIndex:IDBObjectStore).prototype)||!Kn&&!Ft.includes(kt))return;const _n=function(){var Fn=(0,i.A)(function*(gr,...jr){const Zn=this.transaction(gr,Kn?"readwrite":"readonly");let ki=Zn.store;return hn&&(ki=ki.index(jr.shift())),(yield Promise.all([ki[kt](...jr),Kn&&Zn.done]))[0]});return function(jr){return Fn.apply(this,arguments)}}();return ye.set(st,_n),_n}!function Be(wt){ge=wt(ge)}(wt=>({...wt,get:(st,kt,hn)=>$t(st,kt)||wt.get(st,kt,hn),has:(st,kt)=>!!$t(st,kt)||wt.has(st,kt)}));class qe{constructor(st){this.container=st}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function wn(wt){const st=wt.getComponent();return"VERSION"===st?.type}(kt)){const hn=kt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(kt=>kt).join(" ")}}const Mt="@firebase/app",zt="0.10.13",Yt=new r.Vy("@firebase/app"),In="[DEFAULT]",Rr={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Ur=new Map,zn=new Map;function Wr(wt,st){try{wt.container.addComponent(st)}catch(kt){Yt.debug(`Component ${st.name} failed to register with FirebaseApp ${wt.name}`,kt)}}function es(wt,st){wt.container.addOrOverwriteComponent(st)}function fn(wt){const st=wt.name;if(zn.has(st))return Yt.debug(`There were multiple attempts to register component ${st}.`),!1;zn.set(st,wt);for(const kt of Dr.values())Wr(kt,wt);for(const kt of Ur.values())Wr(kt,wt);return!0}function Kr(wt,st){const kt=wt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),wt.container.getProvider(st)}function tr(wt,st,kt=In){Kr(wt,st).clearInstance(kt)}function vr(wt){return void 0!==wt.options}function Wn(wt){return void 0!==wt.settings}function Ti(){zn.clear()}const yt=new Ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(st,kt,hn){this._isDeleted=!1,this._options=Object.assign({},st),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this.checkDestroyed(),this._automaticDataCollectionEnabled=st}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(st){this._isDeleted=st}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}class je extends he{constructor(st,kt,hn,Kn){const _n=void 0!==kt.automaticDataCollectionEnabled&&kt.automaticDataCollectionEnabled,Fn={name:hn,automaticDataCollectionEnabled:_n};super(void 0!==st.apiKey?st:st.options,Fn,Kn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:_n},kt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,kt.releaseOnDeref=void 0,G(Mt,zt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(st){this.isDeleted||(this._refCount++,void 0!==st&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(st,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ei(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw yt.create("server-app-deleted")}}const Ot="10.14.1";function Wt(wt,st={}){let kt=wt;"object"!=typeof st&&(st={name:st});const hn=Object.assign({name:In,automaticDataCollectionEnabled:!1},st),Kn=hn.name;if("string"!=typeof Kn||!Kn)throw yt.create("bad-app-name",{appName:String(Kn)});if(kt||(kt=(0,Ie.T9)()),!kt)throw yt.create("no-options");const _n=Dr.get(Kn);if(_n){if((0,Ie.bD)(kt,_n.options)&&(0,Ie.bD)(hn,_n.config))return _n;throw yt.create("duplicate-app",{appName:Kn})}const Fn=new ae.h1(Kn);for(const jr of zn.values())Fn.addComponent(jr);const gr=new he(kt,hn,Fn);return Dr.set(Kn,gr),gr}function Pn(wt,st){if((0,Ie.Bd)()&&!(0,Ie.p7)())throw yt.create("invalid-server-app-environment");let kt;void 0===st.automaticDataCollectionEnabled&&(st.automaticDataCollectionEnabled=!1),kt=vr(wt)?wt.options:wt;const hn=Object.assign(Object.assign({},st),kt);if(void 0!==hn.releaseOnDeref&&delete hn.releaseOnDeref,void 0!==st.releaseOnDeref&&typeof FinalizationRegistry>"u")throw yt.create("finalization-registry-not-supported",{});const _n=""+(Zn=JSON.stringify(hn),[...Zn].reduce((ki,us)=>Math.imul(31,ki)+us.charCodeAt(0)|0,0)),Fn=Ur.get(_n);var Zn;if(Fn)return Fn.incRefCount(st.releaseOnDeref),Fn;const gr=new ae.h1(_n);for(const Zn of zn.values())gr.addComponent(Zn);const jr=new je(kt,st,_n,gr);return Ur.set(_n,jr),jr}function Pr(wt=In){const st=Dr.get(wt);if(!st&&wt===In&&(0,Ie.T9)())return Wt();if(!st)throw yt.create("no-app",{appName:wt});return st}function nr(){return Array.from(Dr.values())}function ei(wt){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,i.A)(function*(wt){let st=!1;const kt=wt.name;Dr.has(kt)?(st=!0,Dr.delete(kt)):Ur.has(kt)&&wt.decRefCount()<=0&&(Ur.delete(kt),st=!0),st&&(yield Promise.all(wt.container.getProviders().map(hn=>hn.delete())),wt.isDeleted=!0)})).apply(this,arguments)}function G(wt,st,kt){var hn;let Kn=null!==(hn=Rr[wt])&&void 0!==hn?hn:wt;kt&&(Kn+=`-${kt}`);const _n=Kn.match(/\s|\//),Fn=st.match(/\s|\//);if(_n||Fn){const gr=[`Unable to register library "${Kn}" with version "${st}":`];return _n&&gr.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),_n&&Fn&&gr.push("and"),Fn&&gr.push(`version name "${st}" contains illegal characters (whitespace or "/")`),void Yt.warn(gr.join(" "))}fn(new ae.uA(`${Kn}-version`,()=>({library:Kn,version:st}),"VERSION"))}function x(wt,st){if(null!==wt&&"function"!=typeof wt)throw yt.create("invalid-log-argument");(0,r.Ey)(wt,st)}function k(wt){(0,r.He)(wt)}const $="firebase-heartbeat-database",se=1,ne="firebase-heartbeat-store";let Ee=null;function gt(){return Ee||(Ee=function rt(wt,st,{blocked:kt,upgrade:hn,blocking:Kn,terminated:_n}={}){const Fn=indexedDB.open(wt,st),gr=we(Fn);return hn&&Fn.addEventListener("upgradeneeded",jr=>{hn(we(Fn.result),jr.oldVersion,jr.newVersion,we(Fn.transaction),jr)}),kt&&Fn.addEventListener("blocked",jr=>kt(jr.oldVersion,jr.newVersion,jr)),gr.then(jr=>{_n&&jr.addEventListener("close",()=>_n()),Kn&&jr.addEventListener("versionchange",Zn=>Kn(Zn.oldVersion,Zn.newVersion,Zn))}).catch(()=>{}),gr}($,se,{upgrade:(wt,st)=>{if(0===st)try{wt.createObjectStore(ne)}catch(kt){console.warn(kt)}}}).catch(wt=>{throw yt.create("idb-open",{originalErrorMessage:wt.message})})),Ee}function pn(){return(pn=(0,i.A)(function*(wt){try{const kt=(yield gt()).transaction(ne),hn=yield kt.objectStore(ne).get($e(wt));return yield kt.done,hn}catch(st){if(st instanceof Ie.g)Yt.warn(st.message);else{const kt=yt.create("idb-get",{originalErrorMessage:st?.message});Yt.warn(kt.message)}}})).apply(this,arguments)}function _r(wt,st){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,i.A)(function*(wt,st){try{const hn=(yield gt()).transaction(ne,"readwrite");yield hn.objectStore(ne).put(st,$e(wt)),yield hn.done}catch(kt){if(kt instanceof Ie.g)Yt.warn(kt.message);else{const hn=yt.create("idb-set",{originalErrorMessage:kt?.message});Yt.warn(hn.message)}}})).apply(this,arguments)}function $e(wt){return`${wt.name}!${wt.options.appId}`}class rn{constructor(st){this.container=st,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new ar(kt),this._heartbeatsCachePromise=this._storage.read().then(hn=>(this._heartbeatsCache=hn,hn))}triggerHeartbeat(){var st=this;return(0,i.A)(function*(){var kt,hn;try{const _n=st.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fn=bn();return null==(null===(kt=st._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)&&(st._heartbeatsCache=yield st._heartbeatsCachePromise,null==(null===(hn=st._heartbeatsCache)||void 0===hn?void 0:hn.heartbeats))||st._heartbeatsCache.lastSentHeartbeatDate===Fn||st._heartbeatsCache.heartbeats.some(gr=>gr.date===Fn)?void 0:(st._heartbeatsCache.heartbeats.push({date:Fn,agent:_n}),st._heartbeatsCache.heartbeats=st._heartbeatsCache.heartbeats.filter(gr=>{const jr=new Date(gr.date).valueOf();return Date.now()-jr<=2592e6}),st._storage.overwrite(st._heartbeatsCache))}catch(Kn){Yt.warn(Kn)}})()}getHeartbeatsHeader(){var st=this;return(0,i.A)(function*(){var kt;try{if(null===st._heartbeatsCache&&(yield st._heartbeatsCachePromise),null==(null===(kt=st._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)||0===st._heartbeatsCache.heartbeats.length)return"";const hn=bn(),{heartbeatsToSend:Kn,unsentEntries:_n}=function dn(wt,st=1024){const kt=[];let hn=wt.slice();for(const Kn of wt){const _n=kt.find(Fn=>Fn.agent===Kn.agent);if(_n){if(_n.dates.push(Kn.date),gn(kt)>st){_n.dates.pop();break}}else if(kt.push({agent:Kn.agent,dates:[Kn.date]}),gn(kt)>st){kt.pop();break}hn=hn.slice(1)}return{heartbeatsToSend:kt,unsentEntries:hn}}(st._heartbeatsCache.heartbeats),Fn=(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:Kn}));return st._heartbeatsCache.lastSentHeartbeatDate=hn,_n.length>0?(st._heartbeatsCache.heartbeats=_n,yield st._storage.overwrite(st._heartbeatsCache)):(st._heartbeatsCache.heartbeats=[],st._storage.overwrite(st._heartbeatsCache)),Fn}catch(hn){return Yt.warn(hn),""}})()}}function bn(){return(new Date).toISOString().substring(0,10)}class ar{constructor(st){this.app=st,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.A)(function*(){return!!(0,Ie.zW)()&&(0,Ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var st=this;return(0,i.A)(function*(){if(yield st._canUseIndexedDBPromise){const hn=yield function Gt(wt){return pn.apply(this,arguments)}(st.app);return hn?.heartbeats?hn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(st){var kt=this;return(0,i.A)(function*(){var hn;if(yield kt._canUseIndexedDBPromise){const _n=yield kt.read();return _r(kt.app,{lastSentHeartbeatDate:null!==(hn=st.lastSentHeartbeatDate)&&void 0!==hn?hn:_n.lastSentHeartbeatDate,heartbeats:st.heartbeats})}})()}add(st){var kt=this;return(0,i.A)(function*(){var hn;if(yield kt._canUseIndexedDBPromise){const _n=yield kt.read();return _r(kt.app,{lastSentHeartbeatDate:null!==(hn=st.lastSentHeartbeatDate)&&void 0!==hn?hn:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...st.heartbeats]})}})()}}function gn(wt){return(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:wt})).length}!function Ci(wt){fn(new ae.uA("platform-logger",st=>new qe(st),"PRIVATE")),fn(new ae.uA("heartbeat",st=>new rn(st),"PRIVATE")),G(Mt,zt,wt),G(Mt,zt,"esm2017"),G("fire-js","")}("")},1362:(sn,Je,O)=>{O.d(Je,{h1:()=>Te,uA:()=>r});var i=O(467),ae=O(1076);class r{constructor(W,J,_e){this.name=W,this.instanceFactory=J,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Ie="[DEFAULT]";class le{constructor(W,J){this.name=W,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const J=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(J)){const _e=new ae.cY;if(this.instancesDeferred.set(J,_e),this.isInitialized(J)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:J});Fe&&_e.resolve(Fe)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(W){var J;const _e=this.normalizeInstanceIdentifier(W?.identifier),Fe=null!==(J=W?.optional)&&void 0!==J&&J;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ue){if(Fe)return null;throw Ue}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function De(xe){return"EAGER"===xe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[J,_e]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(J);try{const Ue=this.getOrInitializeService({instanceIdentifier:Fe});_e.resolve(Ue)}catch{}}}}clearInstance(W=Ie){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,i.A)(function*(){const J=Array.from(W.instances.values());yield Promise.all([...J.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...J.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Ie){return this.instances.has(W)}getOptions(W=Ie){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:J={}}=W,_e=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:_e,options:J});for(const[Ue,Xe]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Ue)&&Xe.resolve(Fe);return Fe}onInit(W,J){var _e;const Fe=this.normalizeInstanceIdentifier(J),Ue=null!==(_e=this.onInitCallbacks.get(Fe))&&void 0!==_e?_e:new Set;Ue.add(W),this.onInitCallbacks.set(Fe,Ue);const Xe=this.instances.get(Fe);return Xe&&W(Xe,Fe),()=>{Ue.delete(W)}}invokeOnInitCallbacks(W,J){const _e=this.onInitCallbacks.get(J);if(_e)for(const Fe of _e)try{Fe(W,J)}catch{}}getOrInitializeService({instanceIdentifier:W,options:J={}}){let _e=this.instances.get(W);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=W,xe===Ie?void 0:xe),options:J}),this.instances.set(W,_e),this.instancesOptions.set(W,J),this.invokeOnInitCallbacks(_e,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,_e)}catch{}var xe;return _e||null}normalizeInstanceIdentifier(W=Ie){return this.component?this.component.multipleInstances?W:Ie:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const J=this.getProvider(W.name);if(J.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);J.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const J=new le(W,this);return this.providers.set(W,J),J}getProviders(){return Array.from(this.providers.values())}}},8041:(sn,Je,O)=>{O.d(Je,{$b:()=>ae,Ey:()=>xe,He:()=>Te,Vy:()=>De});const i=[];var ae=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(ae||{});const r={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ie=ae.INFO,le={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Ce=(W,J,..._e)=>{if(J<W.logLevel)return;const Fe=(new Date).toISOString(),Ue=le[J];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ue](`[${Fe}]  ${W.name}:`,..._e)};class De{constructor(J){this.name=J,this._logLevel=Ie,this._logHandler=Ce,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ae))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?r[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...J),this._logHandler(this,ae.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...J),this._logHandler(this,ae.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...J),this._logHandler(this,ae.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...J),this._logHandler(this,ae.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...J),this._logHandler(this,ae.ERROR,...J)}}function Te(W){i.forEach(J=>{J.setLogLevel(W)})}function xe(W,J){for(const _e of i){let Fe=null;J&&J.level&&(Fe=r[J.level]),_e.userLogHandler=null===W?null:(Ue,Xe,...We)=>{const ge=We.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");Xe>=(Fe??Ue.logLevel)&&W({level:ae[Xe].toLowerCase(),message:ge,args:We,type:Ue.name})}}}},2214:(sn,Je,O)=>{O.d(Je,{Dk:()=>i.getApps,KO:()=>i.registerVersion,Sx:()=>i.getApp,Wp:()=>i.initializeApp});var i=O(7852);(0,i.registerVersion)("firebase","10.14.1","app")},7935:(sn,Je,O)=>{O.d(Je,{A:()=>i.A});var i=O(3345);i.A.registerVersion("firebase","10.14.1","app-compat")},2438:(sn,Je,O)=>{var i=O(467),ae=O(3345),r=O(5504),Ie=O(1076),De=(O(7852),O(8041),O(1362));function Te(){return window}function J(){return J=(0,i.A)(function*(G,x,k){var $;const{BuildInfo:se}=Te();(0,r.au)(x.sessionId,"AuthEvent did not contain a session ID");const ne=yield function Be(G){return Pt.apply(this,arguments)}(x.sessionId),Ee={};return(0,r.av)()?Ee.ibi=se.packageName:(0,r.aw)()?Ee.apn=se.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),se.displayName&&(Ee.appDisplayName=se.displayName),Ee.sessionId=ne,(0,r.ay)(G,k,x.type,void 0,null!==($=x.eventId)&&void 0!==$?$:void 0,Ee)}),J.apply(this,arguments)}function Fe(){return(Fe=(0,i.A)(function*(G){const{BuildInfo:x}=Te(),k={};(0,r.av)()?k.iosBundleId=x.packageName:(0,r.aw)()?k.androidPackageName=x.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),yield(0,r.az)(G,k)})).apply(this,arguments)}function We(){return(We=(0,i.A)(function*(G,x,k){const{cordova:$}=Te();let se=()=>{};try{yield new Promise((ne,Ee)=>{let gt=null;function Gt(){var Ne;ne();const $e=null===(Ne=$.plugins.browsertab)||void 0===Ne?void 0:Ne.close;"function"==typeof $e&&$e(),"function"==typeof k?.close&&k.close()}function pn(){gt||(gt=window.setTimeout(()=>{Ee((0,r.aB)(G,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===document?.visibilityState&&pn()}x.addPassiveListener(Gt),document.addEventListener("resume",pn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",_r,!1),se=()=>{x.removePassiveListener(Gt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",_r,!1),gt&&window.clearTimeout(gt)}})}finally{se()}})).apply(this,arguments)}function Pt(){return(Pt=(0,i.A)(function*(G){const x=function Se(G){if((0,r.au)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const x=new ArrayBuffer(G.length),k=new Uint8Array(x);for(let $=0;$<G.length;$++)k[$]=G.charCodeAt($);return k}(G),k=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(k)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class at extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(x)),super.onEvent(x)}initialized(){var x=this;return(0,i.A)(function*(){yield x.initPromise})()}}function Ft(G){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,i.A)(function*(G){const x=yield qe()._get(wn(G));return x&&(yield qe()._remove(wn(G))),x})).apply(this,arguments)}function $t(){const G=[];for(let k=0;k<20;k++){const $=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt($))}return G.join("")}function qe(){return(0,r.aE)(r.b)}function wn(G){return(0,r.aF)("authEvent",G.config.apiKey,G.name)}function Yt(G){if(!G?.includes("?"))return{};const[x,...k]=G.split("?");return(0,Ie.I9)(k.join("?"))}const ct=class ze{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(x){var k=this;return(0,i.A)(function*(){const $=x._key();let se=k.eventManagers.get($);return se||(se=new at(x),k.eventManagers.set($,se),k.attachCallbackListeners(x,se)),se})()}_openPopup(x){(0,r.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,k,$,se){var ne=this;return(0,i.A)(function*(){!function ge(G){var x,k,$,se,ne,Ee,gt,Gt,pn,_r;const Ne=Te();(0,r.aC)("function"==typeof(null===(x=Ne?.universalLinks)||void 0===x?void 0:x.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(k=Ne?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(ne=null===(se=null===($=Ne?.cordova)||void 0===$?void 0:$.plugins)||void 0===se?void 0:se.browsertab)||void 0===ne?void 0:ne.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(Gt=null===(gt=null===(Ee=Ne?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(_r=null===(pn=Ne?.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===_r?void 0:_r.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ee=yield ne._initialize(x);yield Ee.initialized(),Ee.resetRedirect(),(0,r.aI)(),yield ne._originValidation(x);const gt=function rt(G,x,k=null){return{type:x,eventId:k,urlResponse:null,sessionId:$t(),postBody:null,tenantId:G.tenantId,error:(0,r.aB)(G,"no-auth-event")}}(x,$,se);yield function ft(G,x){return qe()._set(wn(G),x)}(x,gt);const Gt=yield function W(G,x,k){return J.apply(this,arguments)}(x,gt,k),pn=yield function Ue(G){const{cordova:x}=Te();return new Promise(k=>{x.plugins.browsertab.isAvailable($=>{let se=null;$?x.plugins.browsertab.openUrl(G):se=x.InAppBrowser.open(G,(0,r.aA)()?"_blank":"_system","location=yes"),k(se)})})}(Gt);return function Xe(G,x,k){return We.apply(this,arguments)}(x,Ee,pn)})()}_isIframeWebStorageSupported(x,k){throw new Error("Method not implemented.")}_originValidation(x){const k=x._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e(G){return Fe.apply(this,arguments)}(x)),this.originValidationPromises[k]}attachCallbackListeners(x,k){const{universalLinks:$,handleOpenURL:se,BuildInfo:ne}=Te(),Ee=setTimeout((0,i.A)(function*(){yield Ft(x),k.onEvent(ut())}),500),gt=function(){var _r=(0,i.A)(function*(Ne){clearTimeout(Ee);const $e=yield Ft(x);let Ye=null;$e&&Ne?.url&&(Ye=function ye(G,x){var k,$;const se=function zt(G){const x=Yt(G),k=x.link?decodeURIComponent(x.link):void 0,$=Yt(k).link,se=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Yt(se).link||se||$||k||G}(x);if(se.includes("/__/auth/callback")){const ne=Yt(se),Ee=ne.firebaseError?function Mt(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,gt=null===($=null===(k=Ee?.code)||void 0===k?void 0:k.split("auth/"))||void 0===$?void 0:$[1],Gt=gt?(0,r.aB)(gt):null;return Gt?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:se,postBody:null}}return null}($e,Ne.url)),k.onEvent(Ye||ut())});return function($e){return _r.apply(this,arguments)}}();typeof $<"u"&&"function"==typeof $.subscribe&&$.subscribe(null,gt);const Gt=se,pn=`${ne.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var _r=(0,i.A)(function*(Ne){if(Ne.toLowerCase().startsWith(pn)&&gt({url:Ne}),"function"==typeof Gt)try{Gt(Ne)}catch($e){console.error($e)}});return function(Ne){return _r.apply(this,arguments)}}()}};function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function dt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Bt(G=(0,Ie.ZQ)()){return!("file:"!==dt()&&"ionic:"!==dt()&&"capacitor:"!==dt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){try{const G=self.localStorage,x=r.aN();if(G)return G.setItem(x,"1"),G.removeItem(x),!function kn(G=(0,Ie.ZQ)()){return function lr(){return(0,Ie.lT)()&&11===document?.documentMode}()||function un(G=(0,Ie.ZQ)()){return/Edge\/\d+/.test(G)}(G)}()||(0,Ie.zW)()}catch{return Qn()&&(0,Ie.zW)()}return!1}function Qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function it(){return"http:"===dt()||"https:"===dt()}()||(0,Ie.sr)()||Bt())&&!function Rn(){return(0,Ie.lV)()||(0,Ie.Ll)()}()&&nn()&&!Qn()}function Jt(){return Bt()&&typeof document<"u"}function yr(){return(yr=(0,i.A)(function*(){return!!Jt()&&new Promise(G=>{const x=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),G(!0)})})})).apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},Un=r.aC,Vt="persistence";function jn(G){return In.apply(this,arguments)}function In(){return(In=(0,i.A)(function*(G){yield G._initializationPromise;const x=Dr(),k=r.aF(Vt,G.config.apiKey,G.name);x&&x.setItem(k,G._getPersistence())})).apply(this,arguments)}function Dr(){var G;try{return(null===(G=function en(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Ur=r.aC;class zn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(ct),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(x){var k=this;return(0,i.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,k,$,se){var ne=this;return(0,i.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(x,k,$,se)})()}_openRedirect(x,k,$,se){var ne=this;return(0,i.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(x,k,$,se)})()}_isIframeWebStorageSupported(x,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,k)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,i.A)(function*(){if(x.underlyingResolver)return;const k=yield function qt(){return yr.apply(this,arguments)}();x.underlyingResolver=k?x.cordovaResolver:x.browserResolver})()}}function Wr(G){return G.unwrap()}function fn(G){return tr(G)}function tr(G){const{_tokenResponse:x}=G instanceof Ie.g?G.customData:G;if(!x)return null;if(!(G instanceof Ie.g)&&"temporaryProof"in x&&"phoneNumber"in x)return r.P.credentialFromResult(G);const k=x.providerId;if(!k||k===r.p.PASSWORD)return null;let $;switch(k){case r.p.GOOGLE:$=r.X;break;case r.p.FACEBOOK:$=r.W;break;case r.p.GITHUB:$=r.Y;break;case r.p.TWITTER:$=r.$;break;default:const{oauthIdToken:se,oauthAccessToken:ne,oauthTokenSecret:Ee,pendingToken:gt,nonce:Gt}=x;return ne||Ee||se||gt?gt?k.startsWith("saml.")?r.aQ._create(k,gt):r.N._fromParams({providerId:k,signInMethod:k,pendingToken:gt,idToken:se,accessToken:ne}):new r.Z(k).credential({idToken:se,accessToken:ne,rawNonce:Gt}):null}return G instanceof Ie.g?$.credentialFromError(G):$.credentialFromResult(G)}function vr(G,x){return x.catch(k=>{throw k instanceof Ie.g&&function Kr(G,x){var k;const $=null===(k=x.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new ht(G,r.as(G,x));else if($){const se=tr(x),ne=x;se&&(ne.credential=se,ne.tenantId=$.tenantId||void 0,ne.email=$.email||void 0,ne.phoneNumber=$.phoneNumber||void 0)}}(G,k),k}).then(k=>{const se=k.user;return{operationType:k.operationType,credential:fn(k),additionalUserInfo:r.aq(k),user:yt.getOrCreate(se)}})}function Wn(G,x){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,i.A)(function*(G,x){const k=yield x;return{verificationId:k.verificationId,confirm:$=>vr(G,k.confirm($))}})).apply(this,arguments)}class ht{constructor(x,k){this.resolver=k,this.auth=function es(G){return G.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return vr(Wr(this.auth),this.resolver.resolveSignIn(x))}}class yt{constructor(x){this._delegate=x,this.multiFactor=r.at(x)}static getOrCreate(x){return yt.USER_MAP.has(x)||yt.USER_MAP.set(x,new yt(x)),yt.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var k=this;return(0,i.A)(function*(){return vr(k.auth,r.a2(k._delegate,x))})()}linkWithPhoneNumber(x,k){var $=this;return(0,i.A)(function*(){return Wn($.auth,r.l($._delegate,x,k))})()}linkWithPopup(x){var k=this;return(0,i.A)(function*(){return vr(k.auth,r.d(k._delegate,x,zn))})()}linkWithRedirect(x){var k=this;return(0,i.A)(function*(){return yield jn(r.aJ(k.auth)),r.g(k._delegate,x,zn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var k=this;return(0,i.A)(function*(){return vr(k.auth,r.a3(k._delegate,x))})()}reauthenticateWithPhoneNumber(x,k){return Wn(this.auth,r.r(this._delegate,x,k))}reauthenticateWithPopup(x){return vr(this.auth,r.e(this._delegate,x,zn))}reauthenticateWithRedirect(x){var k=this;return(0,i.A)(function*(){return yield jn(r.aJ(k.auth)),r.h(k._delegate,x,zn)})()}sendEmailVerification(x){return r.ag(this._delegate,x)}unlink(x){var k=this;return(0,i.A)(function*(){return yield r.ap(k._delegate,x),k})()}updateEmail(x){return r.al(this._delegate,x)}updatePassword(x){return r.am(this._delegate,x)}updatePhoneNumber(x){return r.u(this._delegate,x)}updateProfile(x){return r.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,k){return r.ah(this._delegate,x,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yt.USER_MAP=new WeakMap;const he=r.aC;let je=(()=>{class G{constructor(k,$){if(this.app=k,$.isInitialized())return this._delegate=$.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=k.options;he(se,"invalid-api-key",{appName:k.name}),he(se,"invalid-api-key",{appName:k.name});const ne=typeof window<"u"?zn:void 0;this._delegate=$.initialize({options:{persistence:Wt(se,k.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,$){r.K(this._delegate,k,$)}applyActionCode(k){return r.a7(this._delegate,k)}checkActionCode(k){return r.a8(this._delegate,k)}confirmPasswordReset(k,$){return r.a6(this._delegate,k,$)}createUserWithEmailAndPassword(k,$){var se=this;return(0,i.A)(function*(){return vr(se._delegate,r.aa(se._delegate,k,$))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return r.af(this._delegate,k)}isSignInWithEmailLink(k){return r.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,i.A)(function*(){he(Ln(),k._delegate,"operation-not-supported-in-this-environment");const $=yield r.j(k._delegate,zn);return $?vr(k._delegate,Promise.resolve($)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Oe(G,x){(0,r.aJ)(G)._logFramework(x)}(this._delegate,k)}onAuthStateChanged(k,$,se){const{next:ne,error:Ee,complete:gt}=Ot(k,$,se);return this._delegate.onAuthStateChanged(ne,Ee,gt)}onIdTokenChanged(k,$,se){const{next:ne,error:Ee,complete:gt}=Ot(k,$,se);return this._delegate.onIdTokenChanged(ne,Ee,gt)}sendSignInLinkToEmail(k,$){return r.ac(this._delegate,k,$)}sendPasswordResetEmail(k,$){return r.a5(this._delegate,k,$||void 0)}setPersistence(k){var $=this;return(0,i.A)(function*(){let se;switch(function Cn(G,x){Un(Object.values(or).includes(x),G,"invalid-persistence-type"),(0,Ie.lV)()?Un(x!==or.SESSION,G,"unsupported-persistence-type"):(0,Ie.Ll)()?Un(x===or.NONE,G,"unsupported-persistence-type"):Qn()?Un(x===or.NONE||x===or.LOCAL&&(0,Ie.zW)(),G,"unsupported-persistence-type"):Un(x===or.NONE||nn(),G,"unsupported-persistence-type")}($._delegate,k),k){case or.SESSION:se=r.a;break;case or.LOCAL:se=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case or.NONE:se=r.U;break;default:return r.ax("argument-error",{appName:$._delegate.name})}return $._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return vr(this._delegate,r.a0(this._delegate))}signInWithCredential(k){return vr(this._delegate,r.a1(this._delegate,k))}signInWithCustomToken(k){return vr(this._delegate,r.a4(this._delegate,k))}signInWithEmailAndPassword(k,$){return vr(this._delegate,r.ab(this._delegate,k,$))}signInWithEmailLink(k,$){return vr(this._delegate,r.ae(this._delegate,k,$))}signInWithPhoneNumber(k,$){return Wn(this._delegate,r.s(this._delegate,k,$))}signInWithPopup(k){var $=this;return(0,i.A)(function*(){return he(Ln(),$._delegate,"operation-not-supported-in-this-environment"),vr($._delegate,r.c($._delegate,k,zn))})()}signInWithRedirect(k){var $=this;return(0,i.A)(function*(){return he(Ln(),$._delegate,"operation-not-supported-in-this-environment"),yield jn($._delegate),r.f($._delegate,k,zn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return r.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=or,G})();function Ot(G,x,k){let $=G;"function"!=typeof G&&({next:$,error:x,complete:k}=G);const se=$;return{next:Ee=>se(Ee&&yt.getOrCreate(Ee)),error:x,complete:k}}function Wt(G,x){const k=function Rr(G,x){const k=Dr();if(!k)return[];const $=r.aF(Vt,G,x);switch(k.getItem($)){case or.NONE:return[r.U];case or.LOCAL:return[r.i,r.a];case or.SESSION:return[r.a];default:return[]}}(G,x);if(typeof self<"u"&&!k.includes(r.i)&&k.push(r.i),typeof window<"u")for(const $ of[r.b,r.a])k.includes($)||k.push($);return k.includes(r.U)||k.push(r.U),k}class Pn{constructor(){this.providerId="phone",this._delegate=new r.P(Wr(ae.A.auth()))}static credential(x,k){return r.P.credential(x,k)}verifyPhoneNumber(x,k){return this._delegate.verifyPhoneNumber(x,k)}unwrap(){return this._delegate}}Pn.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,Pn.PROVIDER_ID=r.P.PROVIDER_ID;const Pr=r.aC;class nr{constructor(x,k,$=ae.A.app()){var se;Pr(null===(se=$.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:$.name}),this._delegate=new r.R($.auth(),x,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rt(G){G.INTERNAL.registerComponent(new De.uA("auth-compat",x=>{const k=x.getProvider("app-compat").getImmediate(),$=x.getProvider("auth");return new je(k,$)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:Pn,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:nr,TwitterAuthProvider:r.$,Auth:je,AuthCredential:r.L,Error:Ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.5.14")}(ae.A)},467:(sn,Je,O)=>{function i(r,Ie,le,Ce,De,Te,xe){try{var W=r[Te](xe),J=W.value}catch(_e){return void le(_e)}W.done?Ie(J):Promise.resolve(J).then(Ce,De)}function ae(r){return function(){var Ie=this,le=arguments;return new Promise(function(Ce,De){var Te=r.apply(Ie,le);function xe(J){i(Te,Ce,De,xe,W,"next",J)}function W(J){i(Te,Ce,De,xe,W,"throw",J)}xe(void 0)})}}O.d(Je,{A:()=>ae})},1635:(sn,Je,O)=>{function Ie(Oe,ee){var be={};for(var Le in Oe)Object.prototype.hasOwnProperty.call(Oe,Le)&&ee.indexOf(Le)<0&&(be[Le]=Oe[Le]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Le=Object.getOwnPropertySymbols(Oe);dt<Le.length;dt++)ee.indexOf(Le[dt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,Le[dt])&&(be[Le[dt]]=Oe[Le[dt]])}return be}function _e(Oe,ee,be,Le){return new(be||(be=Promise))(function(it,Bt){function Rn(kn){try{un(Le.next(kn))}catch(nn){Bt(nn)}}function lr(kn){try{un(Le.throw(kn))}catch(nn){Bt(nn)}}function un(kn){kn.done?it(kn.value):function dt(it){return it instanceof be?it:new be(function(Bt){Bt(it)})}(kn.value).then(Rn,lr)}un((Le=Le.apply(Oe,ee||[])).next())})}function we(Oe){return this instanceof we?(this.v=Oe,this):new we(Oe)}function at(Oe,ee,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Le=be.apply(Oe,ee||[]),it=[];return dt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Rn("next"),Rn("throw"),Rn("return",function Bt(Ln){return function(Jt){return Promise.resolve(Jt).then(Ln,nn)}}),dt[Symbol.asyncIterator]=function(){return this},dt;function Rn(Ln,Jt){Le[Ln]&&(dt[Ln]=function(qt){return new Promise(function(yr,en){it.push([Ln,qt,yr,en])>1||lr(Ln,qt)})},Jt&&(dt[Ln]=Jt(dt[Ln])))}function lr(Ln,Jt){try{!function un(Ln){Ln.value instanceof we?Promise.resolve(Ln.value.v).then(kn,nn):Qn(it[0][2],Ln)}(Le[Ln](Jt))}catch(qt){Qn(it[0][3],qt)}}function kn(Ln){lr("next",Ln)}function nn(Ln){lr("throw",Ln)}function Qn(Ln,Jt){Ln(Jt),it.shift(),it.length&&lr(it[0][0],it[0][1])}}function ft(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ee=Oe[Symbol.asyncIterator];return ee?ee.call(Oe):(Oe=function We(Oe){var ee="function"==typeof Symbol&&Symbol.iterator,be=ee&&Oe[ee],Le=0;if(be)return be.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Le>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Le++],done:!Oe}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),be={},Le("next"),Le("throw"),Le("return"),be[Symbol.asyncIterator]=function(){return this},be);function Le(it){be[it]=Oe[it]&&function(Bt){return new Promise(function(Rn,lr){!function dt(it,Bt,Rn,lr){Promise.resolve(lr).then(function(un){it({value:un,done:Rn})},Bt)}(Rn,lr,(Bt=Oe[it](Bt)).done,Bt.value)})}}}O.d(Je,{AQ:()=>at,N3:()=>we,Tt:()=>Ie,sH:()=>_e,xN:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=6282)}]);